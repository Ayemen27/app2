const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-MeI0e7_r.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional-CktHptRV.js","assets/switch-C7eEOOgu.js","assets/equipment-management-BsC25xST.js","assets/upload-DwiLUvs5.js","assets/admin-notifications-CY0PhAqf.js","assets/sparkles-DhSGSDOB.js","assets/SmartErrorsPage-CCc3NIWQ.js","assets/SecurityPoliciesPage-Bfu4xfKY.js","assets/shield-alert-DN9O_fW3.js","assets/AreaChart-hN-a_YcN.js","assets/axion-reports-DiaSrUpD.js","assets/settings-Bi4Xztlk.js","assets/ai-chat-L558-_TC.js","assets/index-D8M9w2D8.js","assets/AdminDashboard-VFL3idxS.js"])))=>i.map(i=>d[i]);
var Uee=Object.defineProperty;var QC=e=>{throw TypeError(e)};var Vee=(e,r,t)=>r in e?Uee(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var De=(e,r,t)=>Vee(e,typeof r!="symbol"?r+"":r,t),Yw=(e,r,t)=>r.has(e)||QC("Cannot "+t);var Ne=(e,r,t)=>(Yw(e,r,"read from private field"),t?t.call(e):r.get(e)),er=(e,r,t)=>r.has(e)?QC("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),Ct=(e,r,t,s)=>(Yw(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),Fr=(e,r,t)=>(Yw(e,r,"access private method"),t);var ky=(e,r,t,s)=>({set _(n){Ct(e,r,n,t)},get _(){return Ne(e,r,s)}});function SM(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jw={exports:{}},Vp={},e2={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function Wee(){if(YC)return Wr;YC=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function f(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(O,B,G){this.props=O,this.context=B,this.refs=y,this.updater=G||h}m.prototype.isReactComponent={},m.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},m.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function v(){}v.prototype=m.prototype;function x(O,B,G){this.props=O,this.context=B,this.refs=y,this.updater=G||h}var k=x.prototype=new v;k.constructor=x,g(k,m.prototype),k.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,L={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function D(O,B,G){var Q,re={},F=null,Y=null;if(B!=null)for(Q in B.ref!==void 0&&(Y=B.ref),B.key!==void 0&&(F=""+B.key),B)A.call(B,Q)&&!q.hasOwnProperty(Q)&&(re[Q]=B[Q]);var V=arguments.length-2;if(V===1)re.children=G;else if(1<V){for(var U=Array(V),Z=0;Z<V;Z++)U[Z]=arguments[Z+2];re.children=U}if(O&&O.defaultProps)for(Q in V=O.defaultProps,V)re[Q]===void 0&&(re[Q]=V[Q]);return{$$typeof:e,type:O,key:F,ref:Y,props:re,_owner:L.current}}function $(O,B){return{$$typeof:e,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function z(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return B[G]})}var W=/\/+/g;function P(O,B){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):B.toString(36)}function R(O,B,G,Q,re){var F=typeof O;(F==="undefined"||F==="boolean")&&(O=null);var Y=!1;if(O===null)Y=!0;else switch(F){case"string":case"number":Y=!0;break;case"object":switch(O.$$typeof){case e:case r:Y=!0}}if(Y)return Y=O,re=re(Y),O=Q===""?"."+P(Y,0):Q,T(re)?(G="",O!=null&&(G=O.replace(W,"$&/")+"/"),R(re,B,G,"",function(Z){return Z})):re!=null&&(z(re)&&(re=$(re,G+(!re.key||Y&&Y.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+O)),B.push(re)),1;if(Y=0,Q=Q===""?".":Q+":",T(O))for(var V=0;V<O.length;V++){F=O[V];var U=Q+P(F,V);Y+=R(F,B,G,U,re)}else if(U=f(O),typeof U=="function")for(O=U.call(O),V=0;!(F=O.next()).done;)F=F.value,U=Q+P(F,V++),Y+=R(F,B,G,U,re);else if(F==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Y}function C(O,B,G){if(O==null)return O;var Q=[],re=0;return R(O,Q,"","",function(F){return B.call(G,F,re++)}),Q}function _(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var S={current:null},j={transition:null},N={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:j,ReactCurrentOwner:L};function M(){throw Error("act(...) is not supported in production builds of React.")}return Wr.Children={map:C,forEach:function(O,B,G){C(O,function(){B.apply(this,arguments)},G)},count:function(O){var B=0;return C(O,function(){B++}),B},toArray:function(O){return C(O,function(B){return B})||[]},only:function(O){if(!z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Wr.Component=m,Wr.Fragment=t,Wr.Profiler=n,Wr.PureComponent=x,Wr.StrictMode=s,Wr.Suspense=u,Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Wr.act=M,Wr.cloneElement=function(O,B,G){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Q=g({},O.props),re=O.key,F=O.ref,Y=O._owner;if(B!=null){if(B.ref!==void 0&&(F=B.ref,Y=L.current),B.key!==void 0&&(re=""+B.key),O.type&&O.type.defaultProps)var V=O.type.defaultProps;for(U in B)A.call(B,U)&&!q.hasOwnProperty(U)&&(Q[U]=B[U]===void 0&&V!==void 0?V[U]:B[U])}var U=arguments.length-2;if(U===1)Q.children=G;else if(1<U){V=Array(U);for(var Z=0;Z<U;Z++)V[Z]=arguments[Z+2];Q.children=V}return{$$typeof:e,type:O.type,key:re,ref:F,props:Q,_owner:Y}},Wr.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:i,_context:O},O.Consumer=O},Wr.createElement=D,Wr.createFactory=function(O){var B=D.bind(null,O);return B.type=O,B},Wr.createRef=function(){return{current:null}},Wr.forwardRef=function(O){return{$$typeof:l,render:O}},Wr.isValidElement=z,Wr.lazy=function(O){return{$$typeof:d,_payload:{_status:-1,_result:O},_init:_}},Wr.memo=function(O,B){return{$$typeof:c,type:O,compare:B===void 0?null:B}},Wr.startTransition=function(O){var B=j.transition;j.transition={};try{O()}finally{j.transition=B}},Wr.unstable_act=M,Wr.useCallback=function(O,B){return S.current.useCallback(O,B)},Wr.useContext=function(O){return S.current.useContext(O)},Wr.useDebugValue=function(){},Wr.useDeferredValue=function(O){return S.current.useDeferredValue(O)},Wr.useEffect=function(O,B){return S.current.useEffect(O,B)},Wr.useId=function(){return S.current.useId()},Wr.useImperativeHandle=function(O,B,G){return S.current.useImperativeHandle(O,B,G)},Wr.useInsertionEffect=function(O,B){return S.current.useInsertionEffect(O,B)},Wr.useLayoutEffect=function(O,B){return S.current.useLayoutEffect(O,B)},Wr.useMemo=function(O,B){return S.current.useMemo(O,B)},Wr.useReducer=function(O,B,G){return S.current.useReducer(O,B,G)},Wr.useRef=function(O){return S.current.useRef(O)},Wr.useState=function(O){return S.current.useState(O)},Wr.useSyncExternalStore=function(O,B,G){return S.current.useSyncExternalStore(O,B,G)},Wr.useTransition=function(){return S.current.useTransition()},Wr.version="18.3.1",Wr}var JC;function _v(){return JC||(JC=1,e2.exports=Wee()),e2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e8;function qee(){if(e8)return Vp;e8=1;var e=_v(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,c){var d,p={},f=null,h=null;c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)s.call(u,d)&&!i.hasOwnProperty(d)&&(p[d]=u[d]);if(l&&l.defaultProps)for(d in u=l.defaultProps,u)p[d]===void 0&&(p[d]=u[d]);return{$$typeof:r,type:l,key:f,ref:h,props:p,_owner:n.current}}return Vp.Fragment=t,Vp.jsx=a,Vp.jsxs=a,Vp}var t8;function Hee(){return t8||(t8=1,Jw.exports=qee()),Jw.exports}var o=Hee(),Sy={},t2={exports:{}},sa={},r2={exports:{}},n2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8;function Kee(){return r8||(r8=1,(function(e){function r(j,N){var M=j.length;j.push(N);e:for(;0<M;){var O=M-1>>>1,B=j[O];if(0<n(B,N))j[O]=N,j[M]=B,M=O;else break e}}function t(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var N=j[0],M=j.pop();if(M!==N){j[0]=M;e:for(var O=0,B=j.length,G=B>>>1;O<G;){var Q=2*(O+1)-1,re=j[Q],F=Q+1,Y=j[F];if(0>n(re,M))F<B&&0>n(Y,re)?(j[O]=Y,j[F]=M,O=F):(j[O]=re,j[Q]=M,O=Q);else if(F<B&&0>n(Y,M))j[O]=Y,j[F]=M,O=F;else break e}}return N}function n(j,N){var M=j.sortIndex-N.sortIndex;return M!==0?M:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(j){for(var N=t(c);N!==null;){if(N.callback===null)s(c);else if(N.startTime<=j)s(c),N.sortIndex=N.expirationTime,r(u,N);else break;N=t(c)}}function T(j){if(y=!1,k(j),!g)if(t(u)!==null)g=!0,_(A);else{var N=t(c);N!==null&&S(T,N.startTime-j)}}function A(j,N){g=!1,y&&(y=!1,v(D),D=-1),h=!0;var M=f;try{for(k(N),p=t(u);p!==null&&(!(p.expirationTime>N)||j&&!K());){var O=p.callback;if(typeof O=="function"){p.callback=null,f=p.priorityLevel;var B=O(p.expirationTime<=N);N=e.unstable_now(),typeof B=="function"?p.callback=B:p===t(u)&&s(u),k(N)}else s(u);p=t(u)}if(p!==null)var G=!0;else{var Q=t(c);Q!==null&&S(T,Q.startTime-N),G=!1}return G}finally{p=null,f=M,h=!1}}var L=!1,q=null,D=-1,$=5,z=-1;function K(){return!(e.unstable_now()-z<$)}function W(){if(q!==null){var j=e.unstable_now();z=j;var N=!0;try{N=q(!0,j)}finally{N?P():(L=!1,q=null)}}else L=!1}var P;if(typeof x=="function")P=function(){x(W)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,C=R.port2;R.port1.onmessage=W,P=function(){C.postMessage(null)}}else P=function(){m(W,0)};function _(j){q=j,L||(L=!0,P())}function S(j,N){D=m(function(){j(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,_(A))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return t(u)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var M=f;f=N;try{return j()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=f;f=j;try{return N()}finally{f=M}},e.unstable_scheduleCallback=function(j,N,M){var O=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?O+M:O):M=O,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,j={id:d++,callback:N,priorityLevel:j,startTime:M,expirationTime:B,sortIndex:-1},M>O?(j.sortIndex=M,r(c,j),t(u)===null&&j===t(c)&&(y?(v(D),D=-1):y=!0,S(T,M-O))):(j.sortIndex=B,r(u,j),g||h||(g=!0,_(A))),j},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(j){var N=f;return function(){var M=f;f=N;try{return j.apply(this,arguments)}finally{f=M}}}})(n2)),n2}var n8;function Zee(){return n8||(n8=1,r2.exports=Kee()),r2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8;function Gee(){if(s8)return sa;s8=1;var e=_v(),r=Zee();function t(b){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+b,I=1;I<arguments.length;I++)w+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,n={};function i(b,w){a(b,w),a(b+"Capture",w)}function a(b,w){for(n[b]=w,b=0;b<w.length;b++)s.add(w[b])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(b){return u.call(p,b)?!0:u.call(d,b)?!1:c.test(b)?p[b]=!0:(d[b]=!0,!1)}function h(b,w,I,H){if(I!==null&&I.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return H?!1:I!==null?!I.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function g(b,w,I,H){if(w===null||typeof w>"u"||h(b,w,I,H))return!0;if(H)return!1;if(I!==null)switch(I.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(b,w,I,H,X,J,pe){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=H,this.attributeNamespace=X,this.mustUseProperty=I,this.propertyName=b,this.type=w,this.sanitizeURL=J,this.removeEmptyString=pe}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){m[b]=new y(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var w=b[0];m[w]=new y(w,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){m[b]=new y(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){m[b]=new y(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){m[b]=new y(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){m[b]=new y(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){m[b]=new y(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){m[b]=new y(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){m[b]=new y(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!0,!0)});function k(b,w,I,H){var X=m.hasOwnProperty(w)?m[w]:null;(X!==null?X.type!==0:H||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,I,X,H)&&(I=null),H||X===null?f(w)&&(I===null?b.removeAttribute(w):b.setAttribute(w,""+I)):X.mustUseProperty?b[X.propertyName]=I===null?X.type===3?!1:"":I:(w=X.attributeName,H=X.attributeNamespace,I===null?b.removeAttribute(w):(X=X.type,I=X===3||X===4&&I===!0?"":""+I,H?b.setAttributeNS(H,w,I):b.setAttribute(w,I))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),L=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),j=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var M=Object.assign,O;function B(b){if(O===void 0)try{throw Error()}catch(I){var w=I.stack.trim().match(/\n( *(at )?)/);O=w&&w[1]||""}return`
`+O+b}var G=!1;function Q(b,w){if(!b||G)return"";G=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(He){var H=He}Reflect.construct(b,[],w)}else{try{w.call()}catch(He){H=He}b.call(w.prototype)}else{try{throw Error()}catch(He){H=He}b()}}catch(He){if(He&&H&&typeof He.stack=="string"){for(var X=He.stack.split(`
`),J=H.stack.split(`
`),pe=X.length-1,we=J.length-1;1<=pe&&0<=we&&X[pe]!==J[we];)we--;for(;1<=pe&&0<=we;pe--,we--)if(X[pe]!==J[we]){if(pe!==1||we!==1)do if(pe--,we--,0>we||X[pe]!==J[we]){var Te=`
`+X[pe].replace(" at new "," at ");return b.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",b.displayName)),Te}while(1<=pe&&0<=we);break}}}finally{G=!1,Error.prepareStackTrace=I}return(b=b?b.displayName||b.name:"")?B(b):""}function re(b){switch(b.tag){case 5:return B(b.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return b=Q(b.type,!1),b;case 11:return b=Q(b.type.render,!1),b;case 1:return b=Q(b.type,!0),b;default:return""}}function F(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case q:return"Fragment";case L:return"Portal";case $:return"Profiler";case D:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case K:return(b.displayName||"Context")+".Consumer";case z:return(b._context.displayName||"Context")+".Provider";case W:var w=b.render;return b=b.displayName,b||(b=w.displayName||w.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case C:return w=b.displayName||null,w!==null?w:F(b.type)||"Memo";case _:w=b._payload,b=b._init;try{return F(b(w))}catch{}}return null}function Y(b){var w=b.type;switch(b.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=w.render,b=b.displayName||b.name||"",w.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(w);case 8:return w===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function V(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function U(b){var w=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function Z(b){var w=U(b)?"checked":"value",I=Object.getOwnPropertyDescriptor(b.constructor.prototype,w),H=""+b[w];if(!b.hasOwnProperty(w)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var X=I.get,J=I.set;return Object.defineProperty(b,w,{configurable:!0,get:function(){return X.call(this)},set:function(pe){H=""+pe,J.call(this,pe)}}),Object.defineProperty(b,w,{enumerable:I.enumerable}),{getValue:function(){return H},setValue:function(pe){H=""+pe},stopTracking:function(){b._valueTracker=null,delete b[w]}}}}function ie(b){b._valueTracker||(b._valueTracker=Z(b))}function me(b){if(!b)return!1;var w=b._valueTracker;if(!w)return!0;var I=w.getValue(),H="";return b&&(H=U(b)?b.checked?"true":"false":b.value),b=H,b!==I?(w.setValue(b),!0):!1}function ce(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ye(b,w){var I=w.checked;return M({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:I??b._wrapperState.initialChecked})}function ee(b,w){var I=w.defaultValue==null?"":w.defaultValue,H=w.checked!=null?w.checked:w.defaultChecked;I=V(w.value!=null?w.value:I),b._wrapperState={initialChecked:H,initialValue:I,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function oe(b,w){w=w.checked,w!=null&&k(b,"checked",w,!1)}function ne(b,w){oe(b,w);var I=V(w.value),H=w.type;if(I!=null)H==="number"?(I===0&&b.value===""||b.value!=I)&&(b.value=""+I):b.value!==""+I&&(b.value=""+I);else if(H==="submit"||H==="reset"){b.removeAttribute("value");return}w.hasOwnProperty("value")?le(b,w.type,I):w.hasOwnProperty("defaultValue")&&le(b,w.type,V(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(b.defaultChecked=!!w.defaultChecked)}function fe(b,w,I){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var H=w.type;if(!(H!=="submit"&&H!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+b._wrapperState.initialValue,I||w===b.value||(b.value=w),b.defaultValue=w}I=b.name,I!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,I!==""&&(b.name=I)}function le(b,w,I){(w!=="number"||ce(b.ownerDocument)!==b)&&(I==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+I&&(b.defaultValue=""+I))}var ae=Array.isArray;function te(b,w,I,H){if(b=b.options,w){w={};for(var X=0;X<I.length;X++)w["$"+I[X]]=!0;for(I=0;I<b.length;I++)X=w.hasOwnProperty("$"+b[I].value),b[I].selected!==X&&(b[I].selected=X),X&&H&&(b[I].defaultSelected=!0)}else{for(I=""+V(I),w=null,X=0;X<b.length;X++){if(b[X].value===I){b[X].selected=!0,H&&(b[X].defaultSelected=!0);return}w!==null||b[X].disabled||(w=b[X])}w!==null&&(w.selected=!0)}}function se(b,w){if(w.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},w,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function de(b,w){var I=w.value;if(I==null){if(I=w.children,w=w.defaultValue,I!=null){if(w!=null)throw Error(t(92));if(ae(I)){if(1<I.length)throw Error(t(93));I=I[0]}w=I}w==null&&(w=""),I=w}b._wrapperState={initialValue:V(I)}}function ge(b,w){var I=V(w.value),H=V(w.defaultValue);I!=null&&(I=""+I,I!==b.value&&(b.value=I),w.defaultValue==null&&b.defaultValue!==I&&(b.defaultValue=I)),H!=null&&(b.defaultValue=""+H)}function ke(b){var w=b.textContent;w===b._wrapperState.initialValue&&w!==""&&w!==null&&(b.value=w)}function Ee(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(b,w){return b==null||b==="http://www.w3.org/1999/xhtml"?Ee(w):b==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Le,Ge=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,I,H,X){MSApp.execUnsafeLocalFunction(function(){return b(w,I,H,X)})}:b})(function(b,w){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=w;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=Le.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;w.firstChild;)b.appendChild(w.firstChild)}});function Qe(b,w){if(w){var I=b.firstChild;if(I&&I===b.lastChild&&I.nodeType===3){I.nodeValue=w;return}}b.textContent=w}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},it=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(b){it.forEach(function(w){w=w+b.charAt(0).toUpperCase()+b.substring(1),yt[w]=yt[b]})});function et(b,w,I){return w==null||typeof w=="boolean"||w===""?"":I||typeof w!="number"||w===0||yt.hasOwnProperty(b)&&yt[b]?(""+w).trim():w+"px"}function xe(b,w){b=b.style;for(var I in w)if(w.hasOwnProperty(I)){var H=I.indexOf("--")===0,X=et(I,w[I],H);I==="float"&&(I="cssFloat"),H?b.setProperty(I,X):b[I]=X}}var be=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ve(b,w){if(w){if(be[b]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(t(137,b));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(t(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(t(61))}if(w.style!=null&&typeof w.style!="object")throw Error(t(62))}}function Xe(b,w){if(b.indexOf("-")===-1)return typeof w.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=null;function Xt(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var wt=null,Jt=null,bt=null;function It(b){if(b=Tp(b)){if(typeof wt!="function")throw Error(t(280));var w=b.stateNode;w&&(w=F0(w),wt(b.stateNode,b.type,w))}}function St(b){Jt?bt?bt.push(b):bt=[b]:Jt=b}function Sr(){if(Jt){var b=Jt,w=bt;if(bt=Jt=null,It(b),w)for(b=0;b<w.length;b++)It(w[b])}}function Ft(b,w){return b(w)}function jr(){}var or=!1;function Ht(b,w,I){if(or)return b(w,I);or=!0;try{return Ft(b,w,I)}finally{or=!1,(Jt!==null||bt!==null)&&(jr(),Sr())}}function Nr(b,w){var I=b.stateNode;if(I===null)return null;var H=F0(I);if(H===null)return null;I=H[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(b=b.type,H=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!H;break e;default:b=!1}if(b)return null;if(I&&typeof I!="function")throw Error(t(231,w,typeof I));return I}var gr=!1;if(l)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){gr=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{gr=!1}function Ce(b,w,I,H,X,J,pe,we,Te){var He=Array.prototype.slice.call(arguments,3);try{w.apply(I,He)}catch(ot){this.onError(ot)}}var Me=!1,We=null,st=!1,$t=null,ut={onError:function(b){Me=!0,We=b}};function Ot(b,w,I,H,X,J,pe,we,Te){Me=!1,We=null,Ce.apply(ut,arguments)}function Kt(b,w,I,H,X,J,pe,we,Te){if(Ot.apply(this,arguments),Me){if(Me){var He=We;Me=!1,We=null}else throw Error(t(198));st||(st=!0,$t=He)}}function Tt(b){var w=b,I=b;if(b.alternate)for(;w.return;)w=w.return;else{b=w;do w=b,(w.flags&4098)!==0&&(I=w.return),b=w.return;while(b)}return w.tag===3?I:null}function nr(b){if(b.tag===13){var w=b.memoizedState;if(w===null&&(b=b.alternate,b!==null&&(w=b.memoizedState)),w!==null)return w.dehydrated}return null}function Qt(b){if(Tt(b)!==b)throw Error(t(188))}function ar(b){var w=b.alternate;if(!w){if(w=Tt(b),w===null)throw Error(t(188));return w!==b?null:b}for(var I=b,H=w;;){var X=I.return;if(X===null)break;var J=X.alternate;if(J===null){if(H=X.return,H!==null){I=H;continue}break}if(X.child===J.child){for(J=X.child;J;){if(J===I)return Qt(X),b;if(J===H)return Qt(X),w;J=J.sibling}throw Error(t(188))}if(I.return!==H.return)I=X,H=J;else{for(var pe=!1,we=X.child;we;){if(we===I){pe=!0,I=X,H=J;break}if(we===H){pe=!0,H=X,I=J;break}we=we.sibling}if(!pe){for(we=J.child;we;){if(we===I){pe=!0,I=J,H=X;break}if(we===H){pe=!0,H=J,I=X;break}we=we.sibling}if(!pe)throw Error(t(189))}}if(I.alternate!==H)throw Error(t(190))}if(I.tag!==3)throw Error(t(188));return I.stateNode.current===I?b:w}function mr(b){return b=ar(b),b!==null?en(b):null}function en(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var w=en(b);if(w!==null)return w;b=b.sibling}return null}var Ir=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,lt=r.unstable_shouldYield,he=r.unstable_requestPaint,je=r.unstable_now,Be=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,jt=r.unstable_UserBlockingPriority,ct=r.unstable_NormalPriority,ht=r.unstable_LowPriority,lr=r.unstable_IdlePriority,fr=null,Ut=null;function Vt(b){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(fr,b,void 0,(b.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:dn,Hr=Math.log,Vr=Math.LN2;function dn(b){return b>>>=0,b===0?32:31-(Hr(b)/Vr|0)|0}var yn=64,fn=4194304;function Sn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function rs(b,w){var I=b.pendingLanes;if(I===0)return 0;var H=0,X=b.suspendedLanes,J=b.pingedLanes,pe=I&268435455;if(pe!==0){var we=pe&~X;we!==0?H=Sn(we):(J&=pe,J!==0&&(H=Sn(J)))}else pe=I&~X,pe!==0?H=Sn(pe):J!==0&&(H=Sn(J));if(H===0)return 0;if(w!==0&&w!==H&&(w&X)===0&&(X=H&-H,J=w&-w,X>=J||X===16&&(J&4194240)!==0))return w;if((H&4)!==0&&(H|=I&16),w=b.entangledLanes,w!==0)for(b=b.entanglements,w&=H;0<w;)I=31-wr(w),X=1<<I,H|=b[I],w&=~X;return H}function Bs(b,w){switch(b){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(b,w){for(var I=b.suspendedLanes,H=b.pingedLanes,X=b.expirationTimes,J=b.pendingLanes;0<J;){var pe=31-wr(J),we=1<<pe,Te=X[pe];Te===-1?((we&I)===0||(we&H)!==0)&&(X[pe]=Bs(we,w)):Te<=w&&(b.expiredLanes|=we),J&=~we}}function ms(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Kr(){var b=yn;return yn<<=1,(yn&4194240)===0&&(yn=64),b}function Dr(b){for(var w=[],I=0;31>I;I++)w.push(b);return w}function Us(b,w,I){b.pendingLanes|=w,w!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,w=31-wr(w),b[w]=I}function ga(b,w){var I=b.pendingLanes&~w;b.pendingLanes=w,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=w,b.mutableReadLanes&=w,b.entangledLanes&=w,w=b.entanglements;var H=b.eventTimes;for(b=b.expirationTimes;0<I;){var X=31-wr(I),J=1<<X;w[X]=0,H[X]=-1,b[X]=-1,I&=~J}}function Oa(b,w){var I=b.entangledLanes|=w;for(b=b.entanglements;I;){var H=31-wr(I),X=1<<H;X&w|b[H]&w&&(b[H]|=w),I&=~X}}var _r=0;function Ns(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Di,ya,vo,ba,Mi,Xo=!1,Fa=[],va=null,Yi=null,Ri=null,La=new Map,xa=new Map,si=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(b,w){switch(b){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":La.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(w.pointerId)}}function Ru(b,w,I,H,X,J){return b===null||b.nativeEvent!==J?(b={blockedOn:w,domEventName:I,eventSystemFlags:H,nativeEvent:J,targetContainers:[X]},w!==null&&(w=Tp(w),w!==null&&ya(w)),b):(b.eventSystemFlags|=H,w=b.targetContainers,X!==null&&w.indexOf(X)===-1&&w.push(X),b)}function mp(b,w,I,H,X){switch(w){case"focusin":return va=Ru(va,b,w,I,H,X),!0;case"dragenter":return Yi=Ru(Yi,b,w,I,H,X),!0;case"mouseover":return Ri=Ru(Ri,b,w,I,H,X),!0;case"pointerover":var J=X.pointerId;return La.set(J,Ru(La.get(J)||null,b,w,I,H,X)),!0;case"gotpointercapture":return J=X.pointerId,xa.set(J,Ru(xa.get(J)||null,b,w,I,H,X)),!0}return!1}function gp(b){var w=Fu(b.target);if(w!==null){var I=Tt(w);if(I!==null){if(w=I.tag,w===13){if(w=nr(I),w!==null){b.blockedOn=w,Mi(b.priority,function(){vo(I)});return}}else if(w===3&&I.stateNode.current.memoizedState.isDehydrated){b.blockedOn=I.tag===3?I.stateNode.containerInfo:null;return}}}b.blockedOn=null}function cf(b){if(b.blockedOn!==null)return!1;for(var w=b.targetContainers;0<w.length;){var I=ze(b.domEventName,b.eventSystemFlags,w[0],b.nativeEvent);if(I===null){I=b.nativeEvent;var H=new I.constructor(I.type,I);Mt=H,I.target.dispatchEvent(H),Mt=null}else return w=Tp(I),w!==null&&ya(w),b.blockedOn=I,!1;w.shift()}return!0}function T0(b,w,I){cf(b)&&I.delete(w)}function j1(){Xo=!1,va!==null&&cf(va)&&(va=null),Yi!==null&&cf(Yi)&&(Yi=null),Ri!==null&&cf(Ri)&&(Ri=null),La.forEach(T0),xa.forEach(T0)}function $u(b,w){b.blockedOn===w&&(b.blockedOn=null,Xo||(Xo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,j1)))}function Ou(b){function w(X){return $u(X,b)}if(0<Fa.length){$u(Fa[0],b);for(var I=1;I<Fa.length;I++){var H=Fa[I];H.blockedOn===b&&(H.blockedOn=null)}}for(va!==null&&$u(va,b),Yi!==null&&$u(Yi,b),Ri!==null&&$u(Ri,b),La.forEach(w),xa.forEach(w),I=0;I<si.length;I++)H=si[I],H.blockedOn===b&&(H.blockedOn=null);for(;0<si.length&&(I=si[0],I.blockedOn===null);)gp(I),I.blockedOn===null&&si.shift()}var vc=T.ReactCurrentBatchConfig,uf=!0;function E0(b,w,I,H){var X=_r,J=vc.transition;vc.transition=null;try{_r=1,df(b,w,I,H)}finally{_r=X,vc.transition=J}}function N1(b,w,I,H){var X=_r,J=vc.transition;vc.transition=null;try{_r=4,df(b,w,I,H)}finally{_r=X,vc.transition=J}}function df(b,w,I,H){if(uf){var X=ze(b,w,I,H);if(X===null)U1(b,w,H,ue,I),C0(b,H);else if(mp(X,b,w,I,H))H.stopPropagation();else if(C0(b,H),w&4&&-1<N0.indexOf(b)){for(;X!==null;){var J=Tp(X);if(J!==null&&Di(J),J=ze(b,w,I,H),J===null&&U1(b,w,H,ue,I),J===X)break;X=J}X!==null&&H.stopPropagation()}else U1(b,w,H,null,I)}}var ue=null;function ze(b,w,I,H){if(ue=null,b=Xt(H),b=Fu(b),b!==null)if(w=Tt(b),w===null)b=null;else if(I=w.tag,I===13){if(b=nr(w),b!==null)return b;b=null}else if(I===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;b=null}else w!==b&&(b=null);return ue=b,null}function _t(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Be()){case Ze:return 1;case jt:return 4;case ct:case ht:return 16;case lr:return 536870912;default:return 16}default:return 16}}var sr=null,Br=null,dt=null;function tn(){if(dt)return dt;var b,w=Br,I=w.length,H,X="value"in sr?sr.value:sr.textContent,J=X.length;for(b=0;b<I&&w[b]===X[b];b++);var pe=I-b;for(H=1;H<=pe&&w[I-H]===X[J-H];H++);return dt=X.slice(b,1<H?1-H:void 0)}function os(b){var w=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&w===13&&(b=13)):b=w,b===10&&(b=13),32<=b||b===13?b:0}function Cs(){return!0}function za(){return!1}function ii(b){function w(I,H,X,J,pe){this._reactName=I,this._targetInst=X,this.type=H,this.nativeEvent=J,this.target=pe,this.currentTarget=null;for(var we in b)b.hasOwnProperty(we)&&(I=b[we],this[we]=I?I(J):J[we]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Cs:za,this.isPropagationStopped=za,this}return M(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var I=this.nativeEvent;I&&(I.preventDefault?I.preventDefault():typeof I.returnValue!="unknown"&&(I.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var I=this.nativeEvent;I&&(I.stopPropagation?I.stopPropagation():typeof I.cancelBubble!="unknown"&&(I.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),w}var ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C1=ii(ff),yp=M({},ff,{view:0,detail:0}),mJ=ii(yp),T1,E1,bp,A0=M({},yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==bp&&(bp&&b.type==="mousemove"?(T1=b.screenX-bp.screenX,E1=b.screenY-bp.screenY):E1=T1=0,bp=b),T1)},movementY:function(b){return"movementY"in b?b.movementY:E1}}),z5=ii(A0),gJ=M({},A0,{dataTransfer:0}),yJ=ii(gJ),bJ=M({},yp,{relatedTarget:0}),A1=ii(bJ),vJ=M({},ff,{animationName:0,elapsedTime:0,pseudoElement:0}),xJ=ii(vJ),wJ=M({},ff,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),_J=ii(wJ),kJ=M({},ff,{data:0}),B5=ii(kJ),SJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CJ(b){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(b):(b=NJ[b])?!!w[b]:!1}function P1(){return CJ}var TJ=M({},yp,{key:function(b){if(b.key){var w=SJ[b.key]||b.key;if(w!=="Unidentified")return w}return b.type==="keypress"?(b=os(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?jJ[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(b){return b.type==="keypress"?os(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?os(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),EJ=ii(TJ),AJ=M({},A0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U5=ii(AJ),PJ=M({},yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),IJ=ii(PJ),DJ=M({},ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),MJ=ii(DJ),RJ=M({},A0,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),$J=ii(RJ),OJ=[9,13,27,32],I1=l&&"CompositionEvent"in window,vp=null;l&&"documentMode"in document&&(vp=document.documentMode);var FJ=l&&"TextEvent"in window&&!vp,V5=l&&(!I1||vp&&8<vp&&11>=vp),W5=" ",q5=!1;function H5(b,w){switch(b){case"keyup":return OJ.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K5(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var hf=!1;function LJ(b,w){switch(b){case"compositionend":return K5(w);case"keypress":return w.which!==32?null:(q5=!0,W5);case"textInput":return b=w.data,b===W5&&q5?null:b;default:return null}}function zJ(b,w){if(hf)return b==="compositionend"||!I1&&H5(b,w)?(b=tn(),dt=Br=sr=null,hf=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return V5&&w.locale!=="ko"?null:w.data;default:return null}}var BJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z5(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w==="input"?!!BJ[b.type]:w==="textarea"}function G5(b,w,I,H){St(H),w=R0(w,"onChange"),0<w.length&&(I=new C1("onChange","change",null,I,H),b.push({event:I,listeners:w}))}var xp=null,wp=null;function UJ(b){hN(b,0)}function P0(b){var w=bf(b);if(me(w))return b}function VJ(b,w){if(b==="change")return w}var X5=!1;if(l){var D1;if(l){var M1="oninput"in document;if(!M1){var Q5=document.createElement("div");Q5.setAttribute("oninput","return;"),M1=typeof Q5.oninput=="function"}D1=M1}else D1=!1;X5=D1&&(!document.documentMode||9<document.documentMode)}function Y5(){xp&&(xp.detachEvent("onpropertychange",J5),wp=xp=null)}function J5(b){if(b.propertyName==="value"&&P0(wp)){var w=[];G5(w,wp,b,Xt(b)),Ht(UJ,w)}}function WJ(b,w,I){b==="focusin"?(Y5(),xp=w,wp=I,xp.attachEvent("onpropertychange",J5)):b==="focusout"&&Y5()}function qJ(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return P0(wp)}function HJ(b,w){if(b==="click")return P0(w)}function KJ(b,w){if(b==="input"||b==="change")return P0(w)}function ZJ(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var xo=typeof Object.is=="function"?Object.is:ZJ;function _p(b,w){if(xo(b,w))return!0;if(typeof b!="object"||b===null||typeof w!="object"||w===null)return!1;var I=Object.keys(b),H=Object.keys(w);if(I.length!==H.length)return!1;for(H=0;H<I.length;H++){var X=I[H];if(!u.call(w,X)||!xo(b[X],w[X]))return!1}return!0}function eN(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function tN(b,w){var I=eN(b);b=0;for(var H;I;){if(I.nodeType===3){if(H=b+I.textContent.length,b<=w&&H>=w)return{node:I,offset:w-b};b=H}e:{for(;I;){if(I.nextSibling){I=I.nextSibling;break e}I=I.parentNode}I=void 0}I=eN(I)}}function rN(b,w){return b&&w?b===w?!0:b&&b.nodeType===3?!1:w&&w.nodeType===3?rN(b,w.parentNode):"contains"in b?b.contains(w):b.compareDocumentPosition?!!(b.compareDocumentPosition(w)&16):!1:!1}function nN(){for(var b=window,w=ce();w instanceof b.HTMLIFrameElement;){try{var I=typeof w.contentWindow.location.href=="string"}catch{I=!1}if(I)b=w.contentWindow;else break;w=ce(b.document)}return w}function R1(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w&&(w==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||w==="textarea"||b.contentEditable==="true")}function GJ(b){var w=nN(),I=b.focusedElem,H=b.selectionRange;if(w!==I&&I&&I.ownerDocument&&rN(I.ownerDocument.documentElement,I)){if(H!==null&&R1(I)){if(w=H.start,b=H.end,b===void 0&&(b=w),"selectionStart"in I)I.selectionStart=w,I.selectionEnd=Math.min(b,I.value.length);else if(b=(w=I.ownerDocument||document)&&w.defaultView||window,b.getSelection){b=b.getSelection();var X=I.textContent.length,J=Math.min(H.start,X);H=H.end===void 0?J:Math.min(H.end,X),!b.extend&&J>H&&(X=H,H=J,J=X),X=tN(I,J);var pe=tN(I,H);X&&pe&&(b.rangeCount!==1||b.anchorNode!==X.node||b.anchorOffset!==X.offset||b.focusNode!==pe.node||b.focusOffset!==pe.offset)&&(w=w.createRange(),w.setStart(X.node,X.offset),b.removeAllRanges(),J>H?(b.addRange(w),b.extend(pe.node,pe.offset)):(w.setEnd(pe.node,pe.offset),b.addRange(w)))}}for(w=[],b=I;b=b.parentNode;)b.nodeType===1&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<w.length;I++)b=w[I],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var XJ=l&&"documentMode"in document&&11>=document.documentMode,pf=null,$1=null,kp=null,O1=!1;function sN(b,w,I){var H=I.window===I?I.document:I.nodeType===9?I:I.ownerDocument;O1||pf==null||pf!==ce(H)||(H=pf,"selectionStart"in H&&R1(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),kp&&_p(kp,H)||(kp=H,H=R0($1,"onSelect"),0<H.length&&(w=new C1("onSelect","select",null,w,I),b.push({event:w,listeners:H}),w.target=pf)))}function I0(b,w){var I={};return I[b.toLowerCase()]=w.toLowerCase(),I["Webkit"+b]="webkit"+w,I["Moz"+b]="moz"+w,I}var mf={animationend:I0("Animation","AnimationEnd"),animationiteration:I0("Animation","AnimationIteration"),animationstart:I0("Animation","AnimationStart"),transitionend:I0("Transition","TransitionEnd")},F1={},iN={};l&&(iN=document.createElement("div").style,"AnimationEvent"in window||(delete mf.animationend.animation,delete mf.animationiteration.animation,delete mf.animationstart.animation),"TransitionEvent"in window||delete mf.transitionend.transition);function D0(b){if(F1[b])return F1[b];if(!mf[b])return b;var w=mf[b],I;for(I in w)if(w.hasOwnProperty(I)&&I in iN)return F1[b]=w[I];return b}var aN=D0("animationend"),oN=D0("animationiteration"),lN=D0("animationstart"),cN=D0("transitionend"),uN=new Map,dN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xc(b,w){uN.set(b,w),i(w,[b])}for(var L1=0;L1<dN.length;L1++){var z1=dN[L1],QJ=z1.toLowerCase(),YJ=z1[0].toUpperCase()+z1.slice(1);xc(QJ,"on"+YJ)}xc(aN,"onAnimationEnd"),xc(oN,"onAnimationIteration"),xc(lN,"onAnimationStart"),xc("dblclick","onDoubleClick"),xc("focusin","onFocus"),xc("focusout","onBlur"),xc(cN,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sp));function fN(b,w,I){var H=b.type||"unknown-event";b.currentTarget=I,Kt(H,w,void 0,b),b.currentTarget=null}function hN(b,w){w=(w&4)!==0;for(var I=0;I<b.length;I++){var H=b[I],X=H.event;H=H.listeners;e:{var J=void 0;if(w)for(var pe=H.length-1;0<=pe;pe--){var we=H[pe],Te=we.instance,He=we.currentTarget;if(we=we.listener,Te!==J&&X.isPropagationStopped())break e;fN(X,we,He),J=Te}else for(pe=0;pe<H.length;pe++){if(we=H[pe],Te=we.instance,He=we.currentTarget,we=we.listener,Te!==J&&X.isPropagationStopped())break e;fN(X,we,He),J=Te}}}if(st)throw b=$t,st=!1,$t=null,b}function Pn(b,w){var I=w[Z1];I===void 0&&(I=w[Z1]=new Set);var H=b+"__bubble";I.has(H)||(pN(w,b,2,!1),I.add(H))}function B1(b,w,I){var H=0;w&&(H|=4),pN(I,b,H,w)}var M0="_reactListening"+Math.random().toString(36).slice(2);function jp(b){if(!b[M0]){b[M0]=!0,s.forEach(function(I){I!=="selectionchange"&&(JJ.has(I)||B1(I,!1,b),B1(I,!0,b))});var w=b.nodeType===9?b:b.ownerDocument;w===null||w[M0]||(w[M0]=!0,B1("selectionchange",!1,w))}}function pN(b,w,I,H){switch(_t(w)){case 1:var X=E0;break;case 4:X=N1;break;default:X=df}I=X.bind(null,w,I,b),X=void 0,!gr||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(X=!0),H?X!==void 0?b.addEventListener(w,I,{capture:!0,passive:X}):b.addEventListener(w,I,!0):X!==void 0?b.addEventListener(w,I,{passive:X}):b.addEventListener(w,I,!1)}function U1(b,w,I,H,X){var J=H;if((w&1)===0&&(w&2)===0&&H!==null)e:for(;;){if(H===null)return;var pe=H.tag;if(pe===3||pe===4){var we=H.stateNode.containerInfo;if(we===X||we.nodeType===8&&we.parentNode===X)break;if(pe===4)for(pe=H.return;pe!==null;){var Te=pe.tag;if((Te===3||Te===4)&&(Te=pe.stateNode.containerInfo,Te===X||Te.nodeType===8&&Te.parentNode===X))return;pe=pe.return}for(;we!==null;){if(pe=Fu(we),pe===null)return;if(Te=pe.tag,Te===5||Te===6){H=J=pe;continue e}we=we.parentNode}}H=H.return}Ht(function(){var He=J,ot=Xt(I),ft=[];e:{var at=uN.get(b);if(at!==void 0){var Et=C1,Rt=b;switch(b){case"keypress":if(os(I)===0)break e;case"keydown":case"keyup":Et=EJ;break;case"focusin":Rt="focus",Et=A1;break;case"focusout":Rt="blur",Et=A1;break;case"beforeblur":case"afterblur":Et=A1;break;case"click":if(I.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=z5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=yJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=IJ;break;case aN:case oN:case lN:Et=xJ;break;case cN:Et=MJ;break;case"scroll":Et=mJ;break;case"wheel":Et=$J;break;case"copy":case"cut":case"paste":Et=_J;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=U5}var Lt=(w&4)!==0,ls=!Lt&&b==="scroll",Fe=Lt?at!==null?at+"Capture":null:at;Lt=[];for(var Pe=He,Ue;Pe!==null;){Ue=Pe;var gt=Ue.stateNode;if(Ue.tag===5&&gt!==null&&(Ue=gt,Fe!==null&&(gt=Nr(Pe,Fe),gt!=null&&Lt.push(Np(Pe,gt,Ue)))),ls)break;Pe=Pe.return}0<Lt.length&&(at=new Et(at,Rt,null,I,ot),ft.push({event:at,listeners:Lt}))}}if((w&7)===0){e:{if(at=b==="mouseover"||b==="pointerover",Et=b==="mouseout"||b==="pointerout",at&&I!==Mt&&(Rt=I.relatedTarget||I.fromElement)&&(Fu(Rt)||Rt[Tl]))break e;if((Et||at)&&(at=ot.window===ot?ot:(at=ot.ownerDocument)?at.defaultView||at.parentWindow:window,Et?(Rt=I.relatedTarget||I.toElement,Et=He,Rt=Rt?Fu(Rt):null,Rt!==null&&(ls=Tt(Rt),Rt!==ls||Rt.tag!==5&&Rt.tag!==6)&&(Rt=null)):(Et=null,Rt=He),Et!==Rt)){if(Lt=z5,gt="onMouseLeave",Fe="onMouseEnter",Pe="mouse",(b==="pointerout"||b==="pointerover")&&(Lt=U5,gt="onPointerLeave",Fe="onPointerEnter",Pe="pointer"),ls=Et==null?at:bf(Et),Ue=Rt==null?at:bf(Rt),at=new Lt(gt,Pe+"leave",Et,I,ot),at.target=ls,at.relatedTarget=Ue,gt=null,Fu(ot)===He&&(Lt=new Lt(Fe,Pe+"enter",Rt,I,ot),Lt.target=Ue,Lt.relatedTarget=ls,gt=Lt),ls=gt,Et&&Rt)t:{for(Lt=Et,Fe=Rt,Pe=0,Ue=Lt;Ue;Ue=gf(Ue))Pe++;for(Ue=0,gt=Fe;gt;gt=gf(gt))Ue++;for(;0<Pe-Ue;)Lt=gf(Lt),Pe--;for(;0<Ue-Pe;)Fe=gf(Fe),Ue--;for(;Pe--;){if(Lt===Fe||Fe!==null&&Lt===Fe.alternate)break t;Lt=gf(Lt),Fe=gf(Fe)}Lt=null}else Lt=null;Et!==null&&mN(ft,at,Et,Lt,!1),Rt!==null&&ls!==null&&mN(ft,ls,Rt,Lt,!0)}}e:{if(at=He?bf(He):window,Et=at.nodeName&&at.nodeName.toLowerCase(),Et==="select"||Et==="input"&&at.type==="file")var Wt=VJ;else if(Z5(at))if(X5)Wt=KJ;else{Wt=qJ;var cr=WJ}else(Et=at.nodeName)&&Et.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(Wt=HJ);if(Wt&&(Wt=Wt(b,He))){G5(ft,Wt,I,ot);break e}cr&&cr(b,at,He),b==="focusout"&&(cr=at._wrapperState)&&cr.controlled&&at.type==="number"&&le(at,"number",at.value)}switch(cr=He?bf(He):window,b){case"focusin":(Z5(cr)||cr.contentEditable==="true")&&(pf=cr,$1=He,kp=null);break;case"focusout":kp=$1=pf=null;break;case"mousedown":O1=!0;break;case"contextmenu":case"mouseup":case"dragend":O1=!1,sN(ft,I,ot);break;case"selectionchange":if(XJ)break;case"keydown":case"keyup":sN(ft,I,ot)}var ur;if(I1)e:{switch(b){case"compositionstart":var kr="onCompositionStart";break e;case"compositionend":kr="onCompositionEnd";break e;case"compositionupdate":kr="onCompositionUpdate";break e}kr=void 0}else hf?H5(b,I)&&(kr="onCompositionEnd"):b==="keydown"&&I.keyCode===229&&(kr="onCompositionStart");kr&&(V5&&I.locale!=="ko"&&(hf||kr!=="onCompositionStart"?kr==="onCompositionEnd"&&hf&&(ur=tn()):(sr=ot,Br="value"in sr?sr.value:sr.textContent,hf=!0)),cr=R0(He,kr),0<cr.length&&(kr=new B5(kr,b,null,I,ot),ft.push({event:kr,listeners:cr}),ur?kr.data=ur:(ur=K5(I),ur!==null&&(kr.data=ur)))),(ur=FJ?LJ(b,I):zJ(b,I))&&(He=R0(He,"onBeforeInput"),0<He.length&&(ot=new B5("onBeforeInput","beforeinput",null,I,ot),ft.push({event:ot,listeners:He}),ot.data=ur))}hN(ft,w)})}function Np(b,w,I){return{instance:b,listener:w,currentTarget:I}}function R0(b,w){for(var I=w+"Capture",H=[];b!==null;){var X=b,J=X.stateNode;X.tag===5&&J!==null&&(X=J,J=Nr(b,I),J!=null&&H.unshift(Np(b,J,X)),J=Nr(b,w),J!=null&&H.push(Np(b,J,X))),b=b.return}return H}function gf(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function mN(b,w,I,H,X){for(var J=w._reactName,pe=[];I!==null&&I!==H;){var we=I,Te=we.alternate,He=we.stateNode;if(Te!==null&&Te===H)break;we.tag===5&&He!==null&&(we=He,X?(Te=Nr(I,J),Te!=null&&pe.unshift(Np(I,Te,we))):X||(Te=Nr(I,J),Te!=null&&pe.push(Np(I,Te,we)))),I=I.return}pe.length!==0&&b.push({event:w,listeners:pe})}var eee=/\r\n?/g,tee=/\u0000|\uFFFD/g;function gN(b){return(typeof b=="string"?b:""+b).replace(eee,`
`).replace(tee,"")}function $0(b,w,I){if(w=gN(w),gN(b)!==w&&I)throw Error(t(425))}function O0(){}var V1=null,W1=null;function q1(b,w){return b==="textarea"||b==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var H1=typeof setTimeout=="function"?setTimeout:void 0,ree=typeof clearTimeout=="function"?clearTimeout:void 0,yN=typeof Promise=="function"?Promise:void 0,nee=typeof queueMicrotask=="function"?queueMicrotask:typeof yN<"u"?function(b){return yN.resolve(null).then(b).catch(see)}:H1;function see(b){setTimeout(function(){throw b})}function K1(b,w){var I=w,H=0;do{var X=I.nextSibling;if(b.removeChild(I),X&&X.nodeType===8)if(I=X.data,I==="/$"){if(H===0){b.removeChild(X),Ou(w);return}H--}else I!=="$"&&I!=="$?"&&I!=="$!"||H++;I=X}while(I);Ou(w)}function wc(b){for(;b!=null;b=b.nextSibling){var w=b.nodeType;if(w===1||w===3)break;if(w===8){if(w=b.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return b}function bN(b){b=b.previousSibling;for(var w=0;b;){if(b.nodeType===8){var I=b.data;if(I==="$"||I==="$!"||I==="$?"){if(w===0)return b;w--}else I==="/$"&&w++}b=b.previousSibling}return null}var yf=Math.random().toString(36).slice(2),Qo="__reactFiber$"+yf,Cp="__reactProps$"+yf,Tl="__reactContainer$"+yf,Z1="__reactEvents$"+yf,iee="__reactListeners$"+yf,aee="__reactHandles$"+yf;function Fu(b){var w=b[Qo];if(w)return w;for(var I=b.parentNode;I;){if(w=I[Tl]||I[Qo]){if(I=w.alternate,w.child!==null||I!==null&&I.child!==null)for(b=bN(b);b!==null;){if(I=b[Qo])return I;b=bN(b)}return w}b=I,I=b.parentNode}return null}function Tp(b){return b=b[Qo]||b[Tl],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function bf(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(t(33))}function F0(b){return b[Cp]||null}var G1=[],vf=-1;function _c(b){return{current:b}}function In(b){0>vf||(b.current=G1[vf],G1[vf]=null,vf--)}function Tn(b,w){vf++,G1[vf]=b.current,b.current=w}var kc={},gi=_c(kc),Ji=_c(!1),Lu=kc;function xf(b,w){var I=b.type.contextTypes;if(!I)return kc;var H=b.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===w)return H.__reactInternalMemoizedMaskedChildContext;var X={},J;for(J in I)X[J]=w[J];return H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=w,b.__reactInternalMemoizedMaskedChildContext=X),X}function ea(b){return b=b.childContextTypes,b!=null}function L0(){In(Ji),In(gi)}function vN(b,w,I){if(gi.current!==kc)throw Error(t(168));Tn(gi,w),Tn(Ji,I)}function xN(b,w,I){var H=b.stateNode;if(w=w.childContextTypes,typeof H.getChildContext!="function")return I;H=H.getChildContext();for(var X in H)if(!(X in w))throw Error(t(108,Y(b)||"Unknown",X));return M({},I,H)}function z0(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||kc,Lu=gi.current,Tn(gi,b),Tn(Ji,Ji.current),!0}function wN(b,w,I){var H=b.stateNode;if(!H)throw Error(t(169));I?(b=xN(b,w,Lu),H.__reactInternalMemoizedMergedChildContext=b,In(Ji),In(gi),Tn(gi,b)):In(Ji),Tn(Ji,I)}var El=null,B0=!1,X1=!1;function _N(b){El===null?El=[b]:El.push(b)}function oee(b){B0=!0,_N(b)}function Sc(){if(!X1&&El!==null){X1=!0;var b=0,w=_r;try{var I=El;for(_r=1;b<I.length;b++){var H=I[b];do H=H(!0);while(H!==null)}El=null,B0=!1}catch(X){throw El!==null&&(El=El.slice(b+1)),Ir(Ze,Sc),X}finally{_r=w,X1=!1}}return null}var wf=[],_f=0,U0=null,V0=0,Ba=[],Ua=0,zu=null,Al=1,Pl="";function Bu(b,w){wf[_f++]=V0,wf[_f++]=U0,U0=b,V0=w}function kN(b,w,I){Ba[Ua++]=Al,Ba[Ua++]=Pl,Ba[Ua++]=zu,zu=b;var H=Al;b=Pl;var X=32-wr(H)-1;H&=~(1<<X),I+=1;var J=32-wr(w)+X;if(30<J){var pe=X-X%5;J=(H&(1<<pe)-1).toString(32),H>>=pe,X-=pe,Al=1<<32-wr(w)+X|I<<X|H,Pl=J+b}else Al=1<<J|I<<X|H,Pl=b}function Q1(b){b.return!==null&&(Bu(b,1),kN(b,1,0))}function Y1(b){for(;b===U0;)U0=wf[--_f],wf[_f]=null,V0=wf[--_f],wf[_f]=null;for(;b===zu;)zu=Ba[--Ua],Ba[Ua]=null,Pl=Ba[--Ua],Ba[Ua]=null,Al=Ba[--Ua],Ba[Ua]=null}var wa=null,_a=null,Fn=!1,wo=null;function SN(b,w){var I=Ha(5,null,null,0);I.elementType="DELETED",I.stateNode=w,I.return=b,w=b.deletions,w===null?(b.deletions=[I],b.flags|=16):w.push(I)}function jN(b,w){switch(b.tag){case 5:var I=b.type;return w=w.nodeType!==1||I.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(b.stateNode=w,wa=b,_a=wc(w.firstChild),!0):!1;case 6:return w=b.pendingProps===""||w.nodeType!==3?null:w,w!==null?(b.stateNode=w,wa=b,_a=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(I=zu!==null?{id:Al,overflow:Pl}:null,b.memoizedState={dehydrated:w,treeContext:I,retryLane:1073741824},I=Ha(18,null,null,0),I.stateNode=w,I.return=b,b.child=I,wa=b,_a=null,!0):!1;default:return!1}}function J1(b){return(b.mode&1)!==0&&(b.flags&128)===0}function ew(b){if(Fn){var w=_a;if(w){var I=w;if(!jN(b,w)){if(J1(b))throw Error(t(418));w=wc(I.nextSibling);var H=wa;w&&jN(b,w)?SN(H,I):(b.flags=b.flags&-4097|2,Fn=!1,wa=b)}}else{if(J1(b))throw Error(t(418));b.flags=b.flags&-4097|2,Fn=!1,wa=b}}}function NN(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;wa=b}function W0(b){if(b!==wa)return!1;if(!Fn)return NN(b),Fn=!0,!1;var w;if((w=b.tag!==3)&&!(w=b.tag!==5)&&(w=b.type,w=w!=="head"&&w!=="body"&&!q1(b.type,b.memoizedProps)),w&&(w=_a)){if(J1(b))throw CN(),Error(t(418));for(;w;)SN(b,w),w=wc(w.nextSibling)}if(NN(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));e:{for(b=b.nextSibling,w=0;b;){if(b.nodeType===8){var I=b.data;if(I==="/$"){if(w===0){_a=wc(b.nextSibling);break e}w--}else I!=="$"&&I!=="$!"&&I!=="$?"||w++}b=b.nextSibling}_a=null}}else _a=wa?wc(b.stateNode.nextSibling):null;return!0}function CN(){for(var b=_a;b;)b=wc(b.nextSibling)}function kf(){_a=wa=null,Fn=!1}function tw(b){wo===null?wo=[b]:wo.push(b)}var lee=T.ReactCurrentBatchConfig;function Ep(b,w,I){if(b=I.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(t(309));var H=I.stateNode}if(!H)throw Error(t(147,b));var X=H,J=""+b;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===J?w.ref:(w=function(pe){var we=X.refs;pe===null?delete we[J]:we[J]=pe},w._stringRef=J,w)}if(typeof b!="string")throw Error(t(284));if(!I._owner)throw Error(t(290,b))}return b}function q0(b,w){throw b=Object.prototype.toString.call(w),Error(t(31,b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b))}function TN(b){var w=b._init;return w(b._payload)}function EN(b){function w(Fe,Pe){if(b){var Ue=Fe.deletions;Ue===null?(Fe.deletions=[Pe],Fe.flags|=16):Ue.push(Pe)}}function I(Fe,Pe){if(!b)return null;for(;Pe!==null;)w(Fe,Pe),Pe=Pe.sibling;return null}function H(Fe,Pe){for(Fe=new Map;Pe!==null;)Pe.key!==null?Fe.set(Pe.key,Pe):Fe.set(Pe.index,Pe),Pe=Pe.sibling;return Fe}function X(Fe,Pe){return Fe=Ic(Fe,Pe),Fe.index=0,Fe.sibling=null,Fe}function J(Fe,Pe,Ue){return Fe.index=Ue,b?(Ue=Fe.alternate,Ue!==null?(Ue=Ue.index,Ue<Pe?(Fe.flags|=2,Pe):Ue):(Fe.flags|=2,Pe)):(Fe.flags|=1048576,Pe)}function pe(Fe){return b&&Fe.alternate===null&&(Fe.flags|=2),Fe}function we(Fe,Pe,Ue,gt){return Pe===null||Pe.tag!==6?(Pe=Hw(Ue,Fe.mode,gt),Pe.return=Fe,Pe):(Pe=X(Pe,Ue),Pe.return=Fe,Pe)}function Te(Fe,Pe,Ue,gt){var Wt=Ue.type;return Wt===q?ot(Fe,Pe,Ue.props.children,gt,Ue.key):Pe!==null&&(Pe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&TN(Wt)===Pe.type)?(gt=X(Pe,Ue.props),gt.ref=Ep(Fe,Pe,Ue),gt.return=Fe,gt):(gt=my(Ue.type,Ue.key,Ue.props,null,Fe.mode,gt),gt.ref=Ep(Fe,Pe,Ue),gt.return=Fe,gt)}function He(Fe,Pe,Ue,gt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ue.containerInfo||Pe.stateNode.implementation!==Ue.implementation?(Pe=Kw(Ue,Fe.mode,gt),Pe.return=Fe,Pe):(Pe=X(Pe,Ue.children||[]),Pe.return=Fe,Pe)}function ot(Fe,Pe,Ue,gt,Wt){return Pe===null||Pe.tag!==7?(Pe=Gu(Ue,Fe.mode,gt,Wt),Pe.return=Fe,Pe):(Pe=X(Pe,Ue),Pe.return=Fe,Pe)}function ft(Fe,Pe,Ue){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=Hw(""+Pe,Fe.mode,Ue),Pe.return=Fe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case A:return Ue=my(Pe.type,Pe.key,Pe.props,null,Fe.mode,Ue),Ue.ref=Ep(Fe,null,Pe),Ue.return=Fe,Ue;case L:return Pe=Kw(Pe,Fe.mode,Ue),Pe.return=Fe,Pe;case _:var gt=Pe._init;return ft(Fe,gt(Pe._payload),Ue)}if(ae(Pe)||N(Pe))return Pe=Gu(Pe,Fe.mode,Ue,null),Pe.return=Fe,Pe;q0(Fe,Pe)}return null}function at(Fe,Pe,Ue,gt){var Wt=Pe!==null?Pe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Wt!==null?null:we(Fe,Pe,""+Ue,gt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case A:return Ue.key===Wt?Te(Fe,Pe,Ue,gt):null;case L:return Ue.key===Wt?He(Fe,Pe,Ue,gt):null;case _:return Wt=Ue._init,at(Fe,Pe,Wt(Ue._payload),gt)}if(ae(Ue)||N(Ue))return Wt!==null?null:ot(Fe,Pe,Ue,gt,null);q0(Fe,Ue)}return null}function Et(Fe,Pe,Ue,gt,Wt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return Fe=Fe.get(Ue)||null,we(Pe,Fe,""+gt,Wt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case A:return Fe=Fe.get(gt.key===null?Ue:gt.key)||null,Te(Pe,Fe,gt,Wt);case L:return Fe=Fe.get(gt.key===null?Ue:gt.key)||null,He(Pe,Fe,gt,Wt);case _:var cr=gt._init;return Et(Fe,Pe,Ue,cr(gt._payload),Wt)}if(ae(gt)||N(gt))return Fe=Fe.get(Ue)||null,ot(Pe,Fe,gt,Wt,null);q0(Pe,gt)}return null}function Rt(Fe,Pe,Ue,gt){for(var Wt=null,cr=null,ur=Pe,kr=Pe=0,qs=null;ur!==null&&kr<Ue.length;kr++){ur.index>kr?(qs=ur,ur=null):qs=ur.sibling;var cn=at(Fe,ur,Ue[kr],gt);if(cn===null){ur===null&&(ur=qs);break}b&&ur&&cn.alternate===null&&w(Fe,ur),Pe=J(cn,Pe,kr),cr===null?Wt=cn:cr.sibling=cn,cr=cn,ur=qs}if(kr===Ue.length)return I(Fe,ur),Fn&&Bu(Fe,kr),Wt;if(ur===null){for(;kr<Ue.length;kr++)ur=ft(Fe,Ue[kr],gt),ur!==null&&(Pe=J(ur,Pe,kr),cr===null?Wt=ur:cr.sibling=ur,cr=ur);return Fn&&Bu(Fe,kr),Wt}for(ur=H(Fe,ur);kr<Ue.length;kr++)qs=Et(ur,Fe,kr,Ue[kr],gt),qs!==null&&(b&&qs.alternate!==null&&ur.delete(qs.key===null?kr:qs.key),Pe=J(qs,Pe,kr),cr===null?Wt=qs:cr.sibling=qs,cr=qs);return b&&ur.forEach(function(Dc){return w(Fe,Dc)}),Fn&&Bu(Fe,kr),Wt}function Lt(Fe,Pe,Ue,gt){var Wt=N(Ue);if(typeof Wt!="function")throw Error(t(150));if(Ue=Wt.call(Ue),Ue==null)throw Error(t(151));for(var cr=Wt=null,ur=Pe,kr=Pe=0,qs=null,cn=Ue.next();ur!==null&&!cn.done;kr++,cn=Ue.next()){ur.index>kr?(qs=ur,ur=null):qs=ur.sibling;var Dc=at(Fe,ur,cn.value,gt);if(Dc===null){ur===null&&(ur=qs);break}b&&ur&&Dc.alternate===null&&w(Fe,ur),Pe=J(Dc,Pe,kr),cr===null?Wt=Dc:cr.sibling=Dc,cr=Dc,ur=qs}if(cn.done)return I(Fe,ur),Fn&&Bu(Fe,kr),Wt;if(ur===null){for(;!cn.done;kr++,cn=Ue.next())cn=ft(Fe,cn.value,gt),cn!==null&&(Pe=J(cn,Pe,kr),cr===null?Wt=cn:cr.sibling=cn,cr=cn);return Fn&&Bu(Fe,kr),Wt}for(ur=H(Fe,ur);!cn.done;kr++,cn=Ue.next())cn=Et(ur,Fe,kr,cn.value,gt),cn!==null&&(b&&cn.alternate!==null&&ur.delete(cn.key===null?kr:cn.key),Pe=J(cn,Pe,kr),cr===null?Wt=cn:cr.sibling=cn,cr=cn);return b&&ur.forEach(function(Bee){return w(Fe,Bee)}),Fn&&Bu(Fe,kr),Wt}function ls(Fe,Pe,Ue,gt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===q&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case A:e:{for(var Wt=Ue.key,cr=Pe;cr!==null;){if(cr.key===Wt){if(Wt=Ue.type,Wt===q){if(cr.tag===7){I(Fe,cr.sibling),Pe=X(cr,Ue.props.children),Pe.return=Fe,Fe=Pe;break e}}else if(cr.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&TN(Wt)===cr.type){I(Fe,cr.sibling),Pe=X(cr,Ue.props),Pe.ref=Ep(Fe,cr,Ue),Pe.return=Fe,Fe=Pe;break e}I(Fe,cr);break}else w(Fe,cr);cr=cr.sibling}Ue.type===q?(Pe=Gu(Ue.props.children,Fe.mode,gt,Ue.key),Pe.return=Fe,Fe=Pe):(gt=my(Ue.type,Ue.key,Ue.props,null,Fe.mode,gt),gt.ref=Ep(Fe,Pe,Ue),gt.return=Fe,Fe=gt)}return pe(Fe);case L:e:{for(cr=Ue.key;Pe!==null;){if(Pe.key===cr)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ue.containerInfo&&Pe.stateNode.implementation===Ue.implementation){I(Fe,Pe.sibling),Pe=X(Pe,Ue.children||[]),Pe.return=Fe,Fe=Pe;break e}else{I(Fe,Pe);break}else w(Fe,Pe);Pe=Pe.sibling}Pe=Kw(Ue,Fe.mode,gt),Pe.return=Fe,Fe=Pe}return pe(Fe);case _:return cr=Ue._init,ls(Fe,Pe,cr(Ue._payload),gt)}if(ae(Ue))return Rt(Fe,Pe,Ue,gt);if(N(Ue))return Lt(Fe,Pe,Ue,gt);q0(Fe,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"?(Ue=""+Ue,Pe!==null&&Pe.tag===6?(I(Fe,Pe.sibling),Pe=X(Pe,Ue),Pe.return=Fe,Fe=Pe):(I(Fe,Pe),Pe=Hw(Ue,Fe.mode,gt),Pe.return=Fe,Fe=Pe),pe(Fe)):I(Fe,Pe)}return ls}var Sf=EN(!0),AN=EN(!1),H0=_c(null),K0=null,jf=null,rw=null;function nw(){rw=jf=K0=null}function sw(b){var w=H0.current;In(H0),b._currentValue=w}function iw(b,w,I){for(;b!==null;){var H=b.alternate;if((b.childLanes&w)!==w?(b.childLanes|=w,H!==null&&(H.childLanes|=w)):H!==null&&(H.childLanes&w)!==w&&(H.childLanes|=w),b===I)break;b=b.return}}function Nf(b,w){K0=b,rw=jf=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&w)!==0&&(ta=!0),b.firstContext=null)}function Va(b){var w=b._currentValue;if(rw!==b)if(b={context:b,memoizedValue:w,next:null},jf===null){if(K0===null)throw Error(t(308));jf=b,K0.dependencies={lanes:0,firstContext:b}}else jf=jf.next=b;return w}var Uu=null;function aw(b){Uu===null?Uu=[b]:Uu.push(b)}function PN(b,w,I,H){var X=w.interleaved;return X===null?(I.next=I,aw(w)):(I.next=X.next,X.next=I),w.interleaved=I,Il(b,H)}function Il(b,w){b.lanes|=w;var I=b.alternate;for(I!==null&&(I.lanes|=w),I=b,b=b.return;b!==null;)b.childLanes|=w,I=b.alternate,I!==null&&(I.childLanes|=w),I=b,b=b.return;return I.tag===3?I.stateNode:null}var jc=!1;function ow(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IN(b,w){b=b.updateQueue,w.updateQueue===b&&(w.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Dl(b,w){return{eventTime:b,lane:w,tag:0,payload:null,callback:null,next:null}}function Nc(b,w,I){var H=b.updateQueue;if(H===null)return null;if(H=H.shared,(nn&2)!==0){var X=H.pending;return X===null?w.next=w:(w.next=X.next,X.next=w),H.pending=w,Il(b,I)}return X=H.interleaved,X===null?(w.next=w,aw(H)):(w.next=X.next,X.next=w),H.interleaved=w,Il(b,I)}function Z0(b,w,I){if(w=w.updateQueue,w!==null&&(w=w.shared,(I&4194240)!==0)){var H=w.lanes;H&=b.pendingLanes,I|=H,w.lanes=I,Oa(b,I)}}function DN(b,w){var I=b.updateQueue,H=b.alternate;if(H!==null&&(H=H.updateQueue,I===H)){var X=null,J=null;if(I=I.firstBaseUpdate,I!==null){do{var pe={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};J===null?X=J=pe:J=J.next=pe,I=I.next}while(I!==null);J===null?X=J=w:J=J.next=w}else X=J=w;I={baseState:H.baseState,firstBaseUpdate:X,lastBaseUpdate:J,shared:H.shared,effects:H.effects},b.updateQueue=I;return}b=I.lastBaseUpdate,b===null?I.firstBaseUpdate=w:b.next=w,I.lastBaseUpdate=w}function G0(b,w,I,H){var X=b.updateQueue;jc=!1;var J=X.firstBaseUpdate,pe=X.lastBaseUpdate,we=X.shared.pending;if(we!==null){X.shared.pending=null;var Te=we,He=Te.next;Te.next=null,pe===null?J=He:pe.next=He,pe=Te;var ot=b.alternate;ot!==null&&(ot=ot.updateQueue,we=ot.lastBaseUpdate,we!==pe&&(we===null?ot.firstBaseUpdate=He:we.next=He,ot.lastBaseUpdate=Te))}if(J!==null){var ft=X.baseState;pe=0,ot=He=Te=null,we=J;do{var at=we.lane,Et=we.eventTime;if((H&at)===at){ot!==null&&(ot=ot.next={eventTime:Et,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Rt=b,Lt=we;switch(at=w,Et=I,Lt.tag){case 1:if(Rt=Lt.payload,typeof Rt=="function"){ft=Rt.call(Et,ft,at);break e}ft=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Lt.payload,at=typeof Rt=="function"?Rt.call(Et,ft,at):Rt,at==null)break e;ft=M({},ft,at);break e;case 2:jc=!0}}we.callback!==null&&we.lane!==0&&(b.flags|=64,at=X.effects,at===null?X.effects=[we]:at.push(we))}else Et={eventTime:Et,lane:at,tag:we.tag,payload:we.payload,callback:we.callback,next:null},ot===null?(He=ot=Et,Te=ft):ot=ot.next=Et,pe|=at;if(we=we.next,we===null){if(we=X.shared.pending,we===null)break;at=we,we=at.next,at.next=null,X.lastBaseUpdate=at,X.shared.pending=null}}while(!0);if(ot===null&&(Te=ft),X.baseState=Te,X.firstBaseUpdate=He,X.lastBaseUpdate=ot,w=X.shared.interleaved,w!==null){X=w;do pe|=X.lane,X=X.next;while(X!==w)}else J===null&&(X.shared.lanes=0);qu|=pe,b.lanes=pe,b.memoizedState=ft}}function MN(b,w,I){if(b=w.effects,w.effects=null,b!==null)for(w=0;w<b.length;w++){var H=b[w],X=H.callback;if(X!==null){if(H.callback=null,H=I,typeof X!="function")throw Error(t(191,X));X.call(H)}}}var Ap={},Yo=_c(Ap),Pp=_c(Ap),Ip=_c(Ap);function Vu(b){if(b===Ap)throw Error(t(174));return b}function lw(b,w){switch(Tn(Ip,w),Tn(Pp,b),Tn(Yo,Ap),b=w.nodeType,b){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:Oe(null,"");break;default:b=b===8?w.parentNode:w,w=b.namespaceURI||null,b=b.tagName,w=Oe(w,b)}In(Yo),Tn(Yo,w)}function Cf(){In(Yo),In(Pp),In(Ip)}function RN(b){Vu(Ip.current);var w=Vu(Yo.current),I=Oe(w,b.type);w!==I&&(Tn(Pp,b),Tn(Yo,I))}function cw(b){Pp.current===b&&(In(Yo),In(Pp))}var Kn=_c(0);function X0(b){for(var w=b;w!==null;){if(w.tag===13){var I=w.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||I.data==="$?"||I.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var uw=[];function dw(){for(var b=0;b<uw.length;b++)uw[b]._workInProgressVersionPrimary=null;uw.length=0}var Q0=T.ReactCurrentDispatcher,fw=T.ReactCurrentBatchConfig,Wu=0,Zn=null,Ts=null,Vs=null,Y0=!1,Dp=!1,Mp=0,cee=0;function yi(){throw Error(t(321))}function hw(b,w){if(w===null)return!1;for(var I=0;I<w.length&&I<b.length;I++)if(!xo(b[I],w[I]))return!1;return!0}function pw(b,w,I,H,X,J){if(Wu=J,Zn=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Q0.current=b===null||b.memoizedState===null?hee:pee,b=I(H,X),Dp){J=0;do{if(Dp=!1,Mp=0,25<=J)throw Error(t(301));J+=1,Vs=Ts=null,w.updateQueue=null,Q0.current=mee,b=I(H,X)}while(Dp)}if(Q0.current=ty,w=Ts!==null&&Ts.next!==null,Wu=0,Vs=Ts=Zn=null,Y0=!1,w)throw Error(t(300));return b}function mw(){var b=Mp!==0;return Mp=0,b}function Jo(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vs===null?Zn.memoizedState=Vs=b:Vs=Vs.next=b,Vs}function Wa(){if(Ts===null){var b=Zn.alternate;b=b!==null?b.memoizedState:null}else b=Ts.next;var w=Vs===null?Zn.memoizedState:Vs.next;if(w!==null)Vs=w,Ts=b;else{if(b===null)throw Error(t(310));Ts=b,b={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},Vs===null?Zn.memoizedState=Vs=b:Vs=Vs.next=b}return Vs}function Rp(b,w){return typeof w=="function"?w(b):w}function gw(b){var w=Wa(),I=w.queue;if(I===null)throw Error(t(311));I.lastRenderedReducer=b;var H=Ts,X=H.baseQueue,J=I.pending;if(J!==null){if(X!==null){var pe=X.next;X.next=J.next,J.next=pe}H.baseQueue=X=J,I.pending=null}if(X!==null){J=X.next,H=H.baseState;var we=pe=null,Te=null,He=J;do{var ot=He.lane;if((Wu&ot)===ot)Te!==null&&(Te=Te.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),H=He.hasEagerState?He.eagerState:b(H,He.action);else{var ft={lane:ot,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Te===null?(we=Te=ft,pe=H):Te=Te.next=ft,Zn.lanes|=ot,qu|=ot}He=He.next}while(He!==null&&He!==J);Te===null?pe=H:Te.next=we,xo(H,w.memoizedState)||(ta=!0),w.memoizedState=H,w.baseState=pe,w.baseQueue=Te,I.lastRenderedState=H}if(b=I.interleaved,b!==null){X=b;do J=X.lane,Zn.lanes|=J,qu|=J,X=X.next;while(X!==b)}else X===null&&(I.lanes=0);return[w.memoizedState,I.dispatch]}function yw(b){var w=Wa(),I=w.queue;if(I===null)throw Error(t(311));I.lastRenderedReducer=b;var H=I.dispatch,X=I.pending,J=w.memoizedState;if(X!==null){I.pending=null;var pe=X=X.next;do J=b(J,pe.action),pe=pe.next;while(pe!==X);xo(J,w.memoizedState)||(ta=!0),w.memoizedState=J,w.baseQueue===null&&(w.baseState=J),I.lastRenderedState=J}return[J,H]}function $N(){}function ON(b,w){var I=Zn,H=Wa(),X=w(),J=!xo(H.memoizedState,X);if(J&&(H.memoizedState=X,ta=!0),H=H.queue,bw(zN.bind(null,I,H,b),[b]),H.getSnapshot!==w||J||Vs!==null&&Vs.memoizedState.tag&1){if(I.flags|=2048,$p(9,LN.bind(null,I,H,X,w),void 0,null),Ws===null)throw Error(t(349));(Wu&30)!==0||FN(I,w,X)}return X}function FN(b,w,I){b.flags|=16384,b={getSnapshot:w,value:I},w=Zn.updateQueue,w===null?(w={lastEffect:null,stores:null},Zn.updateQueue=w,w.stores=[b]):(I=w.stores,I===null?w.stores=[b]:I.push(b))}function LN(b,w,I,H){w.value=I,w.getSnapshot=H,BN(w)&&UN(b)}function zN(b,w,I){return I(function(){BN(w)&&UN(b)})}function BN(b){var w=b.getSnapshot;b=b.value;try{var I=w();return!xo(b,I)}catch{return!0}}function UN(b){var w=Il(b,1);w!==null&&jo(w,b,1,-1)}function VN(b){var w=Jo();return typeof b=="function"&&(b=b()),w.memoizedState=w.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:b},w.queue=b,b=b.dispatch=fee.bind(null,Zn,b),[w.memoizedState,b]}function $p(b,w,I,H){return b={tag:b,create:w,destroy:I,deps:H,next:null},w=Zn.updateQueue,w===null?(w={lastEffect:null,stores:null},Zn.updateQueue=w,w.lastEffect=b.next=b):(I=w.lastEffect,I===null?w.lastEffect=b.next=b:(H=I.next,I.next=b,b.next=H,w.lastEffect=b)),b}function WN(){return Wa().memoizedState}function J0(b,w,I,H){var X=Jo();Zn.flags|=b,X.memoizedState=$p(1|w,I,void 0,H===void 0?null:H)}function ey(b,w,I,H){var X=Wa();H=H===void 0?null:H;var J=void 0;if(Ts!==null){var pe=Ts.memoizedState;if(J=pe.destroy,H!==null&&hw(H,pe.deps)){X.memoizedState=$p(w,I,J,H);return}}Zn.flags|=b,X.memoizedState=$p(1|w,I,J,H)}function qN(b,w){return J0(8390656,8,b,w)}function bw(b,w){return ey(2048,8,b,w)}function HN(b,w){return ey(4,2,b,w)}function KN(b,w){return ey(4,4,b,w)}function ZN(b,w){if(typeof w=="function")return b=b(),w(b),function(){w(null)};if(w!=null)return b=b(),w.current=b,function(){w.current=null}}function GN(b,w,I){return I=I!=null?I.concat([b]):null,ey(4,4,ZN.bind(null,w,b),I)}function vw(){}function XN(b,w){var I=Wa();w=w===void 0?null:w;var H=I.memoizedState;return H!==null&&w!==null&&hw(w,H[1])?H[0]:(I.memoizedState=[b,w],b)}function QN(b,w){var I=Wa();w=w===void 0?null:w;var H=I.memoizedState;return H!==null&&w!==null&&hw(w,H[1])?H[0]:(b=b(),I.memoizedState=[b,w],b)}function YN(b,w,I){return(Wu&21)===0?(b.baseState&&(b.baseState=!1,ta=!0),b.memoizedState=I):(xo(I,w)||(I=Kr(),Zn.lanes|=I,qu|=I,b.baseState=!0),w)}function uee(b,w){var I=_r;_r=I!==0&&4>I?I:4,b(!0);var H=fw.transition;fw.transition={};try{b(!1),w()}finally{_r=I,fw.transition=H}}function JN(){return Wa().memoizedState}function dee(b,w,I){var H=Ac(b);if(I={lane:H,action:I,hasEagerState:!1,eagerState:null,next:null},eC(b))tC(w,I);else if(I=PN(b,w,I,H),I!==null){var X=Oi();jo(I,b,H,X),rC(I,w,H)}}function fee(b,w,I){var H=Ac(b),X={lane:H,action:I,hasEagerState:!1,eagerState:null,next:null};if(eC(b))tC(w,X);else{var J=b.alternate;if(b.lanes===0&&(J===null||J.lanes===0)&&(J=w.lastRenderedReducer,J!==null))try{var pe=w.lastRenderedState,we=J(pe,I);if(X.hasEagerState=!0,X.eagerState=we,xo(we,pe)){var Te=w.interleaved;Te===null?(X.next=X,aw(w)):(X.next=Te.next,Te.next=X),w.interleaved=X;return}}catch{}finally{}I=PN(b,w,X,H),I!==null&&(X=Oi(),jo(I,b,H,X),rC(I,w,H))}}function eC(b){var w=b.alternate;return b===Zn||w!==null&&w===Zn}function tC(b,w){Dp=Y0=!0;var I=b.pending;I===null?w.next=w:(w.next=I.next,I.next=w),b.pending=w}function rC(b,w,I){if((I&4194240)!==0){var H=w.lanes;H&=b.pendingLanes,I|=H,w.lanes=I,Oa(b,I)}}var ty={readContext:Va,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},hee={readContext:Va,useCallback:function(b,w){return Jo().memoizedState=[b,w===void 0?null:w],b},useContext:Va,useEffect:qN,useImperativeHandle:function(b,w,I){return I=I!=null?I.concat([b]):null,J0(4194308,4,ZN.bind(null,w,b),I)},useLayoutEffect:function(b,w){return J0(4194308,4,b,w)},useInsertionEffect:function(b,w){return J0(4,2,b,w)},useMemo:function(b,w){var I=Jo();return w=w===void 0?null:w,b=b(),I.memoizedState=[b,w],b},useReducer:function(b,w,I){var H=Jo();return w=I!==void 0?I(w):w,H.memoizedState=H.baseState=w,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:w},H.queue=b,b=b.dispatch=dee.bind(null,Zn,b),[H.memoizedState,b]},useRef:function(b){var w=Jo();return b={current:b},w.memoizedState=b},useState:VN,useDebugValue:vw,useDeferredValue:function(b){return Jo().memoizedState=b},useTransition:function(){var b=VN(!1),w=b[0];return b=uee.bind(null,b[1]),Jo().memoizedState=b,[w,b]},useMutableSource:function(){},useSyncExternalStore:function(b,w,I){var H=Zn,X=Jo();if(Fn){if(I===void 0)throw Error(t(407));I=I()}else{if(I=w(),Ws===null)throw Error(t(349));(Wu&30)!==0||FN(H,w,I)}X.memoizedState=I;var J={value:I,getSnapshot:w};return X.queue=J,qN(zN.bind(null,H,J,b),[b]),H.flags|=2048,$p(9,LN.bind(null,H,J,I,w),void 0,null),I},useId:function(){var b=Jo(),w=Ws.identifierPrefix;if(Fn){var I=Pl,H=Al;I=(H&~(1<<32-wr(H)-1)).toString(32)+I,w=":"+w+"R"+I,I=Mp++,0<I&&(w+="H"+I.toString(32)),w+=":"}else I=cee++,w=":"+w+"r"+I.toString(32)+":";return b.memoizedState=w},unstable_isNewReconciler:!1},pee={readContext:Va,useCallback:XN,useContext:Va,useEffect:bw,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:KN,useMemo:QN,useReducer:gw,useRef:WN,useState:function(){return gw(Rp)},useDebugValue:vw,useDeferredValue:function(b){var w=Wa();return YN(w,Ts.memoizedState,b)},useTransition:function(){var b=gw(Rp)[0],w=Wa().memoizedState;return[b,w]},useMutableSource:$N,useSyncExternalStore:ON,useId:JN,unstable_isNewReconciler:!1},mee={readContext:Va,useCallback:XN,useContext:Va,useEffect:bw,useImperativeHandle:GN,useInsertionEffect:HN,useLayoutEffect:KN,useMemo:QN,useReducer:yw,useRef:WN,useState:function(){return yw(Rp)},useDebugValue:vw,useDeferredValue:function(b){var w=Wa();return Ts===null?w.memoizedState=b:YN(w,Ts.memoizedState,b)},useTransition:function(){var b=yw(Rp)[0],w=Wa().memoizedState;return[b,w]},useMutableSource:$N,useSyncExternalStore:ON,useId:JN,unstable_isNewReconciler:!1};function _o(b,w){if(b&&b.defaultProps){w=M({},w),b=b.defaultProps;for(var I in b)w[I]===void 0&&(w[I]=b[I]);return w}return w}function xw(b,w,I,H){w=b.memoizedState,I=I(H,w),I=I==null?w:M({},w,I),b.memoizedState=I,b.lanes===0&&(b.updateQueue.baseState=I)}var ry={isMounted:function(b){return(b=b._reactInternals)?Tt(b)===b:!1},enqueueSetState:function(b,w,I){b=b._reactInternals;var H=Oi(),X=Ac(b),J=Dl(H,X);J.payload=w,I!=null&&(J.callback=I),w=Nc(b,J,X),w!==null&&(jo(w,b,X,H),Z0(w,b,X))},enqueueReplaceState:function(b,w,I){b=b._reactInternals;var H=Oi(),X=Ac(b),J=Dl(H,X);J.tag=1,J.payload=w,I!=null&&(J.callback=I),w=Nc(b,J,X),w!==null&&(jo(w,b,X,H),Z0(w,b,X))},enqueueForceUpdate:function(b,w){b=b._reactInternals;var I=Oi(),H=Ac(b),X=Dl(I,H);X.tag=2,w!=null&&(X.callback=w),w=Nc(b,X,H),w!==null&&(jo(w,b,H,I),Z0(w,b,H))}};function nC(b,w,I,H,X,J,pe){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(H,J,pe):w.prototype&&w.prototype.isPureReactComponent?!_p(I,H)||!_p(X,J):!0}function sC(b,w,I){var H=!1,X=kc,J=w.contextType;return typeof J=="object"&&J!==null?J=Va(J):(X=ea(w)?Lu:gi.current,H=w.contextTypes,J=(H=H!=null)?xf(b,X):kc),w=new w(I,J),b.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ry,b.stateNode=w,w._reactInternals=b,H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=X,b.__reactInternalMemoizedMaskedChildContext=J),w}function iC(b,w,I,H){b=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(I,H),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(I,H),w.state!==b&&ry.enqueueReplaceState(w,w.state,null)}function ww(b,w,I,H){var X=b.stateNode;X.props=I,X.state=b.memoizedState,X.refs={},ow(b);var J=w.contextType;typeof J=="object"&&J!==null?X.context=Va(J):(J=ea(w)?Lu:gi.current,X.context=xf(b,J)),X.state=b.memoizedState,J=w.getDerivedStateFromProps,typeof J=="function"&&(xw(b,w,J,I),X.state=b.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(w=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),w!==X.state&&ry.enqueueReplaceState(X,X.state,null),G0(b,I,X,H),X.state=b.memoizedState),typeof X.componentDidMount=="function"&&(b.flags|=4194308)}function Tf(b,w){try{var I="",H=w;do I+=re(H),H=H.return;while(H);var X=I}catch(J){X=`
Error generating stack: `+J.message+`
`+J.stack}return{value:b,source:w,stack:X,digest:null}}function _w(b,w,I){return{value:b,source:null,stack:I??null,digest:w??null}}function kw(b,w){try{console.error(w.value)}catch(I){setTimeout(function(){throw I})}}var gee=typeof WeakMap=="function"?WeakMap:Map;function aC(b,w,I){I=Dl(-1,I),I.tag=3,I.payload={element:null};var H=w.value;return I.callback=function(){cy||(cy=!0,Fw=H),kw(b,w)},I}function oC(b,w,I){I=Dl(-1,I),I.tag=3;var H=b.type.getDerivedStateFromError;if(typeof H=="function"){var X=w.value;I.payload=function(){return H(X)},I.callback=function(){kw(b,w)}}var J=b.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(I.callback=function(){kw(b,w),typeof H!="function"&&(Tc===null?Tc=new Set([this]):Tc.add(this));var pe=w.stack;this.componentDidCatch(w.value,{componentStack:pe!==null?pe:""})}),I}function lC(b,w,I){var H=b.pingCache;if(H===null){H=b.pingCache=new gee;var X=new Set;H.set(w,X)}else X=H.get(w),X===void 0&&(X=new Set,H.set(w,X));X.has(I)||(X.add(I),b=Aee.bind(null,b,w,I),w.then(b,b))}function cC(b){do{var w;if((w=b.tag===13)&&(w=b.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return b;b=b.return}while(b!==null);return null}function uC(b,w,I,H,X){return(b.mode&1)===0?(b===w?b.flags|=65536:(b.flags|=128,I.flags|=131072,I.flags&=-52805,I.tag===1&&(I.alternate===null?I.tag=17:(w=Dl(-1,1),w.tag=2,Nc(I,w,1))),I.lanes|=1),b):(b.flags|=65536,b.lanes=X,b)}var yee=T.ReactCurrentOwner,ta=!1;function $i(b,w,I,H){w.child=b===null?AN(w,null,I,H):Sf(w,b.child,I,H)}function dC(b,w,I,H,X){I=I.render;var J=w.ref;return Nf(w,X),H=pw(b,w,I,H,J,X),I=mw(),b!==null&&!ta?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,Ml(b,w,X)):(Fn&&I&&Q1(w),w.flags|=1,$i(b,w,H,X),w.child)}function fC(b,w,I,H,X){if(b===null){var J=I.type;return typeof J=="function"&&!qw(J)&&J.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(w.tag=15,w.type=J,hC(b,w,J,H,X)):(b=my(I.type,null,H,w,w.mode,X),b.ref=w.ref,b.return=w,w.child=b)}if(J=b.child,(b.lanes&X)===0){var pe=J.memoizedProps;if(I=I.compare,I=I!==null?I:_p,I(pe,H)&&b.ref===w.ref)return Ml(b,w,X)}return w.flags|=1,b=Ic(J,H),b.ref=w.ref,b.return=w,w.child=b}function hC(b,w,I,H,X){if(b!==null){var J=b.memoizedProps;if(_p(J,H)&&b.ref===w.ref)if(ta=!1,w.pendingProps=H=J,(b.lanes&X)!==0)(b.flags&131072)!==0&&(ta=!0);else return w.lanes=b.lanes,Ml(b,w,X)}return Sw(b,w,I,H,X)}function pC(b,w,I){var H=w.pendingProps,X=H.children,J=b!==null?b.memoizedState:null;if(H.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Af,ka),ka|=I;else{if((I&1073741824)===0)return b=J!==null?J.baseLanes|I:I,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:b,cachePool:null,transitions:null},w.updateQueue=null,Tn(Af,ka),ka|=b,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=J!==null?J.baseLanes:I,Tn(Af,ka),ka|=H}else J!==null?(H=J.baseLanes|I,w.memoizedState=null):H=I,Tn(Af,ka),ka|=H;return $i(b,w,X,I),w.child}function mC(b,w){var I=w.ref;(b===null&&I!==null||b!==null&&b.ref!==I)&&(w.flags|=512,w.flags|=2097152)}function Sw(b,w,I,H,X){var J=ea(I)?Lu:gi.current;return J=xf(w,J),Nf(w,X),I=pw(b,w,I,H,J,X),H=mw(),b!==null&&!ta?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,Ml(b,w,X)):(Fn&&H&&Q1(w),w.flags|=1,$i(b,w,I,X),w.child)}function gC(b,w,I,H,X){if(ea(I)){var J=!0;z0(w)}else J=!1;if(Nf(w,X),w.stateNode===null)sy(b,w),sC(w,I,H),ww(w,I,H,X),H=!0;else if(b===null){var pe=w.stateNode,we=w.memoizedProps;pe.props=we;var Te=pe.context,He=I.contextType;typeof He=="object"&&He!==null?He=Va(He):(He=ea(I)?Lu:gi.current,He=xf(w,He));var ot=I.getDerivedStateFromProps,ft=typeof ot=="function"||typeof pe.getSnapshotBeforeUpdate=="function";ft||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(we!==H||Te!==He)&&iC(w,pe,H,He),jc=!1;var at=w.memoizedState;pe.state=at,G0(w,H,pe,X),Te=w.memoizedState,we!==H||at!==Te||Ji.current||jc?(typeof ot=="function"&&(xw(w,I,ot,H),Te=w.memoizedState),(we=jc||nC(w,I,we,H,at,Te,He))?(ft||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(w.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=H,w.memoizedState=Te),pe.props=H,pe.state=Te,pe.context=He,H=we):(typeof pe.componentDidMount=="function"&&(w.flags|=4194308),H=!1)}else{pe=w.stateNode,IN(b,w),we=w.memoizedProps,He=w.type===w.elementType?we:_o(w.type,we),pe.props=He,ft=w.pendingProps,at=pe.context,Te=I.contextType,typeof Te=="object"&&Te!==null?Te=Va(Te):(Te=ea(I)?Lu:gi.current,Te=xf(w,Te));var Et=I.getDerivedStateFromProps;(ot=typeof Et=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(we!==ft||at!==Te)&&iC(w,pe,H,Te),jc=!1,at=w.memoizedState,pe.state=at,G0(w,H,pe,X);var Rt=w.memoizedState;we!==ft||at!==Rt||Ji.current||jc?(typeof Et=="function"&&(xw(w,I,Et,H),Rt=w.memoizedState),(He=jc||nC(w,I,He,H,at,Rt,Te)||!1)?(ot||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(H,Rt,Te),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(H,Rt,Te)),typeof pe.componentDidUpdate=="function"&&(w.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof pe.componentDidUpdate!="function"||we===b.memoizedProps&&at===b.memoizedState||(w.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||we===b.memoizedProps&&at===b.memoizedState||(w.flags|=1024),w.memoizedProps=H,w.memoizedState=Rt),pe.props=H,pe.state=Rt,pe.context=Te,H=He):(typeof pe.componentDidUpdate!="function"||we===b.memoizedProps&&at===b.memoizedState||(w.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||we===b.memoizedProps&&at===b.memoizedState||(w.flags|=1024),H=!1)}return jw(b,w,I,H,J,X)}function jw(b,w,I,H,X,J){mC(b,w);var pe=(w.flags&128)!==0;if(!H&&!pe)return X&&wN(w,I,!1),Ml(b,w,J);H=w.stateNode,yee.current=w;var we=pe&&typeof I.getDerivedStateFromError!="function"?null:H.render();return w.flags|=1,b!==null&&pe?(w.child=Sf(w,b.child,null,J),w.child=Sf(w,null,we,J)):$i(b,w,we,J),w.memoizedState=H.state,X&&wN(w,I,!0),w.child}function yC(b){var w=b.stateNode;w.pendingContext?vN(b,w.pendingContext,w.pendingContext!==w.context):w.context&&vN(b,w.context,!1),lw(b,w.containerInfo)}function bC(b,w,I,H,X){return kf(),tw(X),w.flags|=256,$i(b,w,I,H),w.child}var Nw={dehydrated:null,treeContext:null,retryLane:0};function Cw(b){return{baseLanes:b,cachePool:null,transitions:null}}function vC(b,w,I){var H=w.pendingProps,X=Kn.current,J=!1,pe=(w.flags&128)!==0,we;if((we=pe)||(we=b!==null&&b.memoizedState===null?!1:(X&2)!==0),we?(J=!0,w.flags&=-129):(b===null||b.memoizedState!==null)&&(X|=1),Tn(Kn,X&1),b===null)return ew(w),b=w.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((w.mode&1)===0?w.lanes=1:b.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(pe=H.children,b=H.fallback,J?(H=w.mode,J=w.child,pe={mode:"hidden",children:pe},(H&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=pe):J=gy(pe,H,0,null),b=Gu(b,H,I,null),J.return=w,b.return=w,J.sibling=b,w.child=J,w.child.memoizedState=Cw(I),w.memoizedState=Nw,b):Tw(w,pe));if(X=b.memoizedState,X!==null&&(we=X.dehydrated,we!==null))return bee(b,w,pe,H,we,X,I);if(J){J=H.fallback,pe=w.mode,X=b.child,we=X.sibling;var Te={mode:"hidden",children:H.children};return(pe&1)===0&&w.child!==X?(H=w.child,H.childLanes=0,H.pendingProps=Te,w.deletions=null):(H=Ic(X,Te),H.subtreeFlags=X.subtreeFlags&14680064),we!==null?J=Ic(we,J):(J=Gu(J,pe,I,null),J.flags|=2),J.return=w,H.return=w,H.sibling=J,w.child=H,H=J,J=w.child,pe=b.child.memoizedState,pe=pe===null?Cw(I):{baseLanes:pe.baseLanes|I,cachePool:null,transitions:pe.transitions},J.memoizedState=pe,J.childLanes=b.childLanes&~I,w.memoizedState=Nw,H}return J=b.child,b=J.sibling,H=Ic(J,{mode:"visible",children:H.children}),(w.mode&1)===0&&(H.lanes=I),H.return=w,H.sibling=null,b!==null&&(I=w.deletions,I===null?(w.deletions=[b],w.flags|=16):I.push(b)),w.child=H,w.memoizedState=null,H}function Tw(b,w){return w=gy({mode:"visible",children:w},b.mode,0,null),w.return=b,b.child=w}function ny(b,w,I,H){return H!==null&&tw(H),Sf(w,b.child,null,I),b=Tw(w,w.pendingProps.children),b.flags|=2,w.memoizedState=null,b}function bee(b,w,I,H,X,J,pe){if(I)return w.flags&256?(w.flags&=-257,H=_w(Error(t(422))),ny(b,w,pe,H)):w.memoizedState!==null?(w.child=b.child,w.flags|=128,null):(J=H.fallback,X=w.mode,H=gy({mode:"visible",children:H.children},X,0,null),J=Gu(J,X,pe,null),J.flags|=2,H.return=w,J.return=w,H.sibling=J,w.child=H,(w.mode&1)!==0&&Sf(w,b.child,null,pe),w.child.memoizedState=Cw(pe),w.memoizedState=Nw,J);if((w.mode&1)===0)return ny(b,w,pe,null);if(X.data==="$!"){if(H=X.nextSibling&&X.nextSibling.dataset,H)var we=H.dgst;return H=we,J=Error(t(419)),H=_w(J,H,void 0),ny(b,w,pe,H)}if(we=(pe&b.childLanes)!==0,ta||we){if(H=Ws,H!==null){switch(pe&-pe){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=(X&(H.suspendedLanes|pe))!==0?0:X,X!==0&&X!==J.retryLane&&(J.retryLane=X,Il(b,X),jo(H,b,X,-1))}return Ww(),H=_w(Error(t(421))),ny(b,w,pe,H)}return X.data==="$?"?(w.flags|=128,w.child=b.child,w=Pee.bind(null,b),X._reactRetry=w,null):(b=J.treeContext,_a=wc(X.nextSibling),wa=w,Fn=!0,wo=null,b!==null&&(Ba[Ua++]=Al,Ba[Ua++]=Pl,Ba[Ua++]=zu,Al=b.id,Pl=b.overflow,zu=w),w=Tw(w,H.children),w.flags|=4096,w)}function xC(b,w,I){b.lanes|=w;var H=b.alternate;H!==null&&(H.lanes|=w),iw(b.return,w,I)}function Ew(b,w,I,H,X){var J=b.memoizedState;J===null?b.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:H,tail:I,tailMode:X}:(J.isBackwards=w,J.rendering=null,J.renderingStartTime=0,J.last=H,J.tail=I,J.tailMode=X)}function wC(b,w,I){var H=w.pendingProps,X=H.revealOrder,J=H.tail;if($i(b,w,H.children,I),H=Kn.current,(H&2)!==0)H=H&1|2,w.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=w.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&xC(b,I,w);else if(b.tag===19)xC(b,I,w);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===w)break e;for(;b.sibling===null;){if(b.return===null||b.return===w)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}H&=1}if(Tn(Kn,H),(w.mode&1)===0)w.memoizedState=null;else switch(X){case"forwards":for(I=w.child,X=null;I!==null;)b=I.alternate,b!==null&&X0(b)===null&&(X=I),I=I.sibling;I=X,I===null?(X=w.child,w.child=null):(X=I.sibling,I.sibling=null),Ew(w,!1,X,I,J);break;case"backwards":for(I=null,X=w.child,w.child=null;X!==null;){if(b=X.alternate,b!==null&&X0(b)===null){w.child=X;break}b=X.sibling,X.sibling=I,I=X,X=b}Ew(w,!0,I,null,J);break;case"together":Ew(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function sy(b,w){(w.mode&1)===0&&b!==null&&(b.alternate=null,w.alternate=null,w.flags|=2)}function Ml(b,w,I){if(b!==null&&(w.dependencies=b.dependencies),qu|=w.lanes,(I&w.childLanes)===0)return null;if(b!==null&&w.child!==b.child)throw Error(t(153));if(w.child!==null){for(b=w.child,I=Ic(b,b.pendingProps),w.child=I,I.return=w;b.sibling!==null;)b=b.sibling,I=I.sibling=Ic(b,b.pendingProps),I.return=w;I.sibling=null}return w.child}function vee(b,w,I){switch(w.tag){case 3:yC(w),kf();break;case 5:RN(w);break;case 1:ea(w.type)&&z0(w);break;case 4:lw(w,w.stateNode.containerInfo);break;case 10:var H=w.type._context,X=w.memoizedProps.value;Tn(H0,H._currentValue),H._currentValue=X;break;case 13:if(H=w.memoizedState,H!==null)return H.dehydrated!==null?(Tn(Kn,Kn.current&1),w.flags|=128,null):(I&w.child.childLanes)!==0?vC(b,w,I):(Tn(Kn,Kn.current&1),b=Ml(b,w,I),b!==null?b.sibling:null);Tn(Kn,Kn.current&1);break;case 19:if(H=(I&w.childLanes)!==0,(b.flags&128)!==0){if(H)return wC(b,w,I);w.flags|=128}if(X=w.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),Tn(Kn,Kn.current),H)break;return null;case 22:case 23:return w.lanes=0,pC(b,w,I)}return Ml(b,w,I)}var _C,Aw,kC,SC;_C=function(b,w){for(var I=w.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===w)break;for(;I.sibling===null;){if(I.return===null||I.return===w)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},Aw=function(){},kC=function(b,w,I,H){var X=b.memoizedProps;if(X!==H){b=w.stateNode,Vu(Yo.current);var J=null;switch(I){case"input":X=ye(b,X),H=ye(b,H),J=[];break;case"select":X=M({},X,{value:void 0}),H=M({},H,{value:void 0}),J=[];break;case"textarea":X=se(b,X),H=se(b,H),J=[];break;default:typeof X.onClick!="function"&&typeof H.onClick=="function"&&(b.onclick=O0)}Ve(I,H);var pe;I=null;for(He in X)if(!H.hasOwnProperty(He)&&X.hasOwnProperty(He)&&X[He]!=null)if(He==="style"){var we=X[He];for(pe in we)we.hasOwnProperty(pe)&&(I||(I={}),I[pe]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(n.hasOwnProperty(He)?J||(J=[]):(J=J||[]).push(He,null));for(He in H){var Te=H[He];if(we=X?.[He],H.hasOwnProperty(He)&&Te!==we&&(Te!=null||we!=null))if(He==="style")if(we){for(pe in we)!we.hasOwnProperty(pe)||Te&&Te.hasOwnProperty(pe)||(I||(I={}),I[pe]="");for(pe in Te)Te.hasOwnProperty(pe)&&we[pe]!==Te[pe]&&(I||(I={}),I[pe]=Te[pe])}else I||(J||(J=[]),J.push(He,I)),I=Te;else He==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,we=we?we.__html:void 0,Te!=null&&we!==Te&&(J=J||[]).push(He,Te)):He==="children"?typeof Te!="string"&&typeof Te!="number"||(J=J||[]).push(He,""+Te):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(n.hasOwnProperty(He)?(Te!=null&&He==="onScroll"&&Pn("scroll",b),J||we===Te||(J=[])):(J=J||[]).push(He,Te))}I&&(J=J||[]).push("style",I);var He=J;(w.updateQueue=He)&&(w.flags|=4)}},SC=function(b,w,I,H){I!==H&&(w.flags|=4)};function Op(b,w){if(!Fn)switch(b.tailMode){case"hidden":w=b.tail;for(var I=null;w!==null;)w.alternate!==null&&(I=w),w=w.sibling;I===null?b.tail=null:I.sibling=null;break;case"collapsed":I=b.tail;for(var H=null;I!==null;)I.alternate!==null&&(H=I),I=I.sibling;H===null?w||b.tail===null?b.tail=null:b.tail.sibling=null:H.sibling=null}}function bi(b){var w=b.alternate!==null&&b.alternate.child===b.child,I=0,H=0;if(w)for(var X=b.child;X!==null;)I|=X.lanes|X.childLanes,H|=X.subtreeFlags&14680064,H|=X.flags&14680064,X.return=b,X=X.sibling;else for(X=b.child;X!==null;)I|=X.lanes|X.childLanes,H|=X.subtreeFlags,H|=X.flags,X.return=b,X=X.sibling;return b.subtreeFlags|=H,b.childLanes=I,w}function xee(b,w,I){var H=w.pendingProps;switch(Y1(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(w),null;case 1:return ea(w.type)&&L0(),bi(w),null;case 3:return H=w.stateNode,Cf(),In(Ji),In(gi),dw(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(b===null||b.child===null)&&(W0(w)?w.flags|=4:b===null||b.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,wo!==null&&(Bw(wo),wo=null))),Aw(b,w),bi(w),null;case 5:cw(w);var X=Vu(Ip.current);if(I=w.type,b!==null&&w.stateNode!=null)kC(b,w,I,H,X),b.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!H){if(w.stateNode===null)throw Error(t(166));return bi(w),null}if(b=Vu(Yo.current),W0(w)){H=w.stateNode,I=w.type;var J=w.memoizedProps;switch(H[Qo]=w,H[Cp]=J,b=(w.mode&1)!==0,I){case"dialog":Pn("cancel",H),Pn("close",H);break;case"iframe":case"object":case"embed":Pn("load",H);break;case"video":case"audio":for(X=0;X<Sp.length;X++)Pn(Sp[X],H);break;case"source":Pn("error",H);break;case"img":case"image":case"link":Pn("error",H),Pn("load",H);break;case"details":Pn("toggle",H);break;case"input":ee(H,J),Pn("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!J.multiple},Pn("invalid",H);break;case"textarea":de(H,J),Pn("invalid",H)}Ve(I,J),X=null;for(var pe in J)if(J.hasOwnProperty(pe)){var we=J[pe];pe==="children"?typeof we=="string"?H.textContent!==we&&(J.suppressHydrationWarning!==!0&&$0(H.textContent,we,b),X=["children",we]):typeof we=="number"&&H.textContent!==""+we&&(J.suppressHydrationWarning!==!0&&$0(H.textContent,we,b),X=["children",""+we]):n.hasOwnProperty(pe)&&we!=null&&pe==="onScroll"&&Pn("scroll",H)}switch(I){case"input":ie(H),fe(H,J,!0);break;case"textarea":ie(H),ke(H);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(H.onclick=O0)}H=X,w.updateQueue=H,H!==null&&(w.flags|=4)}else{pe=X.nodeType===9?X:X.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Ee(I)),b==="http://www.w3.org/1999/xhtml"?I==="script"?(b=pe.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof H.is=="string"?b=pe.createElement(I,{is:H.is}):(b=pe.createElement(I),I==="select"&&(pe=b,H.multiple?pe.multiple=!0:H.size&&(pe.size=H.size))):b=pe.createElementNS(b,I),b[Qo]=w,b[Cp]=H,_C(b,w,!1,!1),w.stateNode=b;e:{switch(pe=Xe(I,H),I){case"dialog":Pn("cancel",b),Pn("close",b),X=H;break;case"iframe":case"object":case"embed":Pn("load",b),X=H;break;case"video":case"audio":for(X=0;X<Sp.length;X++)Pn(Sp[X],b);X=H;break;case"source":Pn("error",b),X=H;break;case"img":case"image":case"link":Pn("error",b),Pn("load",b),X=H;break;case"details":Pn("toggle",b),X=H;break;case"input":ee(b,H),X=ye(b,H),Pn("invalid",b);break;case"option":X=H;break;case"select":b._wrapperState={wasMultiple:!!H.multiple},X=M({},H,{value:void 0}),Pn("invalid",b);break;case"textarea":de(b,H),X=se(b,H),Pn("invalid",b);break;default:X=H}Ve(I,X),we=X;for(J in we)if(we.hasOwnProperty(J)){var Te=we[J];J==="style"?xe(b,Te):J==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Ge(b,Te)):J==="children"?typeof Te=="string"?(I!=="textarea"||Te!=="")&&Qe(b,Te):typeof Te=="number"&&Qe(b,""+Te):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(n.hasOwnProperty(J)?Te!=null&&J==="onScroll"&&Pn("scroll",b):Te!=null&&k(b,J,Te,pe))}switch(I){case"input":ie(b),fe(b,H,!1);break;case"textarea":ie(b),ke(b);break;case"option":H.value!=null&&b.setAttribute("value",""+V(H.value));break;case"select":b.multiple=!!H.multiple,J=H.value,J!=null?te(b,!!H.multiple,J,!1):H.defaultValue!=null&&te(b,!!H.multiple,H.defaultValue,!0);break;default:typeof X.onClick=="function"&&(b.onclick=O0)}switch(I){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break e;case"img":H=!0;break e;default:H=!1}}H&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return bi(w),null;case 6:if(b&&w.stateNode!=null)SC(b,w,b.memoizedProps,H);else{if(typeof H!="string"&&w.stateNode===null)throw Error(t(166));if(I=Vu(Ip.current),Vu(Yo.current),W0(w)){if(H=w.stateNode,I=w.memoizedProps,H[Qo]=w,(J=H.nodeValue!==I)&&(b=wa,b!==null))switch(b.tag){case 3:$0(H.nodeValue,I,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&$0(H.nodeValue,I,(b.mode&1)!==0)}J&&(w.flags|=4)}else H=(I.nodeType===9?I:I.ownerDocument).createTextNode(H),H[Qo]=w,w.stateNode=H}return bi(w),null;case 13:if(In(Kn),H=w.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(Fn&&_a!==null&&(w.mode&1)!==0&&(w.flags&128)===0)CN(),kf(),w.flags|=98560,J=!1;else if(J=W0(w),H!==null&&H.dehydrated!==null){if(b===null){if(!J)throw Error(t(318));if(J=w.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(t(317));J[Qo]=w}else kf(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;bi(w),J=!1}else wo!==null&&(Bw(wo),wo=null),J=!0;if(!J)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=I,w):(H=H!==null,H!==(b!==null&&b.memoizedState!==null)&&H&&(w.child.flags|=8192,(w.mode&1)!==0&&(b===null||(Kn.current&1)!==0?Es===0&&(Es=3):Ww())),w.updateQueue!==null&&(w.flags|=4),bi(w),null);case 4:return Cf(),Aw(b,w),b===null&&jp(w.stateNode.containerInfo),bi(w),null;case 10:return sw(w.type._context),bi(w),null;case 17:return ea(w.type)&&L0(),bi(w),null;case 19:if(In(Kn),J=w.memoizedState,J===null)return bi(w),null;if(H=(w.flags&128)!==0,pe=J.rendering,pe===null)if(H)Op(J,!1);else{if(Es!==0||b!==null&&(b.flags&128)!==0)for(b=w.child;b!==null;){if(pe=X0(b),pe!==null){for(w.flags|=128,Op(J,!1),H=pe.updateQueue,H!==null&&(w.updateQueue=H,w.flags|=4),w.subtreeFlags=0,H=I,I=w.child;I!==null;)J=I,b=H,J.flags&=14680066,pe=J.alternate,pe===null?(J.childLanes=0,J.lanes=b,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=pe.childLanes,J.lanes=pe.lanes,J.child=pe.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=pe.memoizedProps,J.memoizedState=pe.memoizedState,J.updateQueue=pe.updateQueue,J.type=pe.type,b=pe.dependencies,J.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),I=I.sibling;return Tn(Kn,Kn.current&1|2),w.child}b=b.sibling}J.tail!==null&&je()>Pf&&(w.flags|=128,H=!0,Op(J,!1),w.lanes=4194304)}else{if(!H)if(b=X0(pe),b!==null){if(w.flags|=128,H=!0,I=b.updateQueue,I!==null&&(w.updateQueue=I,w.flags|=4),Op(J,!0),J.tail===null&&J.tailMode==="hidden"&&!pe.alternate&&!Fn)return bi(w),null}else 2*je()-J.renderingStartTime>Pf&&I!==1073741824&&(w.flags|=128,H=!0,Op(J,!1),w.lanes=4194304);J.isBackwards?(pe.sibling=w.child,w.child=pe):(I=J.last,I!==null?I.sibling=pe:w.child=pe,J.last=pe)}return J.tail!==null?(w=J.tail,J.rendering=w,J.tail=w.sibling,J.renderingStartTime=je(),w.sibling=null,I=Kn.current,Tn(Kn,H?I&1|2:I&1),w):(bi(w),null);case 22:case 23:return Vw(),H=w.memoizedState!==null,b!==null&&b.memoizedState!==null!==H&&(w.flags|=8192),H&&(w.mode&1)!==0?(ka&1073741824)!==0&&(bi(w),w.subtreeFlags&6&&(w.flags|=8192)):bi(w),null;case 24:return null;case 25:return null}throw Error(t(156,w.tag))}function wee(b,w){switch(Y1(w),w.tag){case 1:return ea(w.type)&&L0(),b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 3:return Cf(),In(Ji),In(gi),dw(),b=w.flags,(b&65536)!==0&&(b&128)===0?(w.flags=b&-65537|128,w):null;case 5:return cw(w),null;case 13:if(In(Kn),b=w.memoizedState,b!==null&&b.dehydrated!==null){if(w.alternate===null)throw Error(t(340));kf()}return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 19:return In(Kn),null;case 4:return Cf(),null;case 10:return sw(w.type._context),null;case 22:case 23:return Vw(),null;case 24:return null;default:return null}}var iy=!1,vi=!1,_ee=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Ef(b,w){var I=b.ref;if(I!==null)if(typeof I=="function")try{I(null)}catch(H){ns(b,w,H)}else I.current=null}function Pw(b,w,I){try{I()}catch(H){ns(b,w,H)}}var jC=!1;function kee(b,w){if(V1=uf,b=nN(),R1(b)){if("selectionStart"in b)var I={start:b.selectionStart,end:b.selectionEnd};else e:{I=(I=b.ownerDocument)&&I.defaultView||window;var H=I.getSelection&&I.getSelection();if(H&&H.rangeCount!==0){I=H.anchorNode;var X=H.anchorOffset,J=H.focusNode;H=H.focusOffset;try{I.nodeType,J.nodeType}catch{I=null;break e}var pe=0,we=-1,Te=-1,He=0,ot=0,ft=b,at=null;t:for(;;){for(var Et;ft!==I||X!==0&&ft.nodeType!==3||(we=pe+X),ft!==J||H!==0&&ft.nodeType!==3||(Te=pe+H),ft.nodeType===3&&(pe+=ft.nodeValue.length),(Et=ft.firstChild)!==null;)at=ft,ft=Et;for(;;){if(ft===b)break t;if(at===I&&++He===X&&(we=pe),at===J&&++ot===H&&(Te=pe),(Et=ft.nextSibling)!==null)break;ft=at,at=ft.parentNode}ft=Et}I=we===-1||Te===-1?null:{start:we,end:Te}}else I=null}I=I||{start:0,end:0}}else I=null;for(W1={focusedElem:b,selectionRange:I},uf=!1,Dt=w;Dt!==null;)if(w=Dt,b=w.child,(w.subtreeFlags&1028)!==0&&b!==null)b.return=w,Dt=b;else for(;Dt!==null;){w=Dt;try{var Rt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Rt!==null){var Lt=Rt.memoizedProps,ls=Rt.memoizedState,Fe=w.stateNode,Pe=Fe.getSnapshotBeforeUpdate(w.elementType===w.type?Lt:_o(w.type,Lt),ls);Fe.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var Ue=w.stateNode.containerInfo;Ue.nodeType===1?Ue.textContent="":Ue.nodeType===9&&Ue.documentElement&&Ue.removeChild(Ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(gt){ns(w,w.return,gt)}if(b=w.sibling,b!==null){b.return=w.return,Dt=b;break}Dt=w.return}return Rt=jC,jC=!1,Rt}function Fp(b,w,I){var H=w.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var X=H=H.next;do{if((X.tag&b)===b){var J=X.destroy;X.destroy=void 0,J!==void 0&&Pw(w,I,J)}X=X.next}while(X!==H)}}function ay(b,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var I=w=w.next;do{if((I.tag&b)===b){var H=I.create;I.destroy=H()}I=I.next}while(I!==w)}}function Iw(b){var w=b.ref;if(w!==null){var I=b.stateNode;switch(b.tag){case 5:b=I;break;default:b=I}typeof w=="function"?w(b):w.current=b}}function NC(b){var w=b.alternate;w!==null&&(b.alternate=null,NC(w)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(w=b.stateNode,w!==null&&(delete w[Qo],delete w[Cp],delete w[Z1],delete w[iee],delete w[aee])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function CC(b){return b.tag===5||b.tag===3||b.tag===4}function TC(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||CC(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Dw(b,w,I){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?I.nodeType===8?I.parentNode.insertBefore(b,w):I.insertBefore(b,w):(I.nodeType===8?(w=I.parentNode,w.insertBefore(b,I)):(w=I,w.appendChild(b)),I=I._reactRootContainer,I!=null||w.onclick!==null||(w.onclick=O0));else if(H!==4&&(b=b.child,b!==null))for(Dw(b,w,I),b=b.sibling;b!==null;)Dw(b,w,I),b=b.sibling}function Mw(b,w,I){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?I.insertBefore(b,w):I.appendChild(b);else if(H!==4&&(b=b.child,b!==null))for(Mw(b,w,I),b=b.sibling;b!==null;)Mw(b,w,I),b=b.sibling}var ai=null,ko=!1;function Cc(b,w,I){for(I=I.child;I!==null;)EC(b,w,I),I=I.sibling}function EC(b,w,I){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(fr,I)}catch{}switch(I.tag){case 5:vi||Ef(I,w);case 6:var H=ai,X=ko;ai=null,Cc(b,w,I),ai=H,ko=X,ai!==null&&(ko?(b=ai,I=I.stateNode,b.nodeType===8?b.parentNode.removeChild(I):b.removeChild(I)):ai.removeChild(I.stateNode));break;case 18:ai!==null&&(ko?(b=ai,I=I.stateNode,b.nodeType===8?K1(b.parentNode,I):b.nodeType===1&&K1(b,I),Ou(b)):K1(ai,I.stateNode));break;case 4:H=ai,X=ko,ai=I.stateNode.containerInfo,ko=!0,Cc(b,w,I),ai=H,ko=X;break;case 0:case 11:case 14:case 15:if(!vi&&(H=I.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){X=H=H.next;do{var J=X,pe=J.destroy;J=J.tag,pe!==void 0&&((J&2)!==0||(J&4)!==0)&&Pw(I,w,pe),X=X.next}while(X!==H)}Cc(b,w,I);break;case 1:if(!vi&&(Ef(I,w),H=I.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=I.memoizedProps,H.state=I.memoizedState,H.componentWillUnmount()}catch(we){ns(I,w,we)}Cc(b,w,I);break;case 21:Cc(b,w,I);break;case 22:I.mode&1?(vi=(H=vi)||I.memoizedState!==null,Cc(b,w,I),vi=H):Cc(b,w,I);break;default:Cc(b,w,I)}}function AC(b){var w=b.updateQueue;if(w!==null){b.updateQueue=null;var I=b.stateNode;I===null&&(I=b.stateNode=new _ee),w.forEach(function(H){var X=Iee.bind(null,b,H);I.has(H)||(I.add(H),H.then(X,X))})}}function So(b,w){var I=w.deletions;if(I!==null)for(var H=0;H<I.length;H++){var X=I[H];try{var J=b,pe=w,we=pe;e:for(;we!==null;){switch(we.tag){case 5:ai=we.stateNode,ko=!1;break e;case 3:ai=we.stateNode.containerInfo,ko=!0;break e;case 4:ai=we.stateNode.containerInfo,ko=!0;break e}we=we.return}if(ai===null)throw Error(t(160));EC(J,pe,X),ai=null,ko=!1;var Te=X.alternate;Te!==null&&(Te.return=null),X.return=null}catch(He){ns(X,w,He)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)PC(w,b),w=w.sibling}function PC(b,w){var I=b.alternate,H=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(So(w,b),el(b),H&4){try{Fp(3,b,b.return),ay(3,b)}catch(Lt){ns(b,b.return,Lt)}try{Fp(5,b,b.return)}catch(Lt){ns(b,b.return,Lt)}}break;case 1:So(w,b),el(b),H&512&&I!==null&&Ef(I,I.return);break;case 5:if(So(w,b),el(b),H&512&&I!==null&&Ef(I,I.return),b.flags&32){var X=b.stateNode;try{Qe(X,"")}catch(Lt){ns(b,b.return,Lt)}}if(H&4&&(X=b.stateNode,X!=null)){var J=b.memoizedProps,pe=I!==null?I.memoizedProps:J,we=b.type,Te=b.updateQueue;if(b.updateQueue=null,Te!==null)try{we==="input"&&J.type==="radio"&&J.name!=null&&oe(X,J),Xe(we,pe);var He=Xe(we,J);for(pe=0;pe<Te.length;pe+=2){var ot=Te[pe],ft=Te[pe+1];ot==="style"?xe(X,ft):ot==="dangerouslySetInnerHTML"?Ge(X,ft):ot==="children"?Qe(X,ft):k(X,ot,ft,He)}switch(we){case"input":ne(X,J);break;case"textarea":ge(X,J);break;case"select":var at=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!J.multiple;var Et=J.value;Et!=null?te(X,!!J.multiple,Et,!1):at!==!!J.multiple&&(J.defaultValue!=null?te(X,!!J.multiple,J.defaultValue,!0):te(X,!!J.multiple,J.multiple?[]:"",!1))}X[Cp]=J}catch(Lt){ns(b,b.return,Lt)}}break;case 6:if(So(w,b),el(b),H&4){if(b.stateNode===null)throw Error(t(162));X=b.stateNode,J=b.memoizedProps;try{X.nodeValue=J}catch(Lt){ns(b,b.return,Lt)}}break;case 3:if(So(w,b),el(b),H&4&&I!==null&&I.memoizedState.isDehydrated)try{Ou(w.containerInfo)}catch(Lt){ns(b,b.return,Lt)}break;case 4:So(w,b),el(b);break;case 13:So(w,b),el(b),X=b.child,X.flags&8192&&(J=X.memoizedState!==null,X.stateNode.isHidden=J,!J||X.alternate!==null&&X.alternate.memoizedState!==null||(Ow=je())),H&4&&AC(b);break;case 22:if(ot=I!==null&&I.memoizedState!==null,b.mode&1?(vi=(He=vi)||ot,So(w,b),vi=He):So(w,b),el(b),H&8192){if(He=b.memoizedState!==null,(b.stateNode.isHidden=He)&&!ot&&(b.mode&1)!==0)for(Dt=b,ot=b.child;ot!==null;){for(ft=Dt=ot;Dt!==null;){switch(at=Dt,Et=at.child,at.tag){case 0:case 11:case 14:case 15:Fp(4,at,at.return);break;case 1:Ef(at,at.return);var Rt=at.stateNode;if(typeof Rt.componentWillUnmount=="function"){H=at,I=at.return;try{w=H,Rt.props=w.memoizedProps,Rt.state=w.memoizedState,Rt.componentWillUnmount()}catch(Lt){ns(H,I,Lt)}}break;case 5:Ef(at,at.return);break;case 22:if(at.memoizedState!==null){MC(ft);continue}}Et!==null?(Et.return=at,Dt=Et):MC(ft)}ot=ot.sibling}e:for(ot=null,ft=b;;){if(ft.tag===5){if(ot===null){ot=ft;try{X=ft.stateNode,He?(J=X.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(we=ft.stateNode,Te=ft.memoizedProps.style,pe=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,we.style.display=et("display",pe))}catch(Lt){ns(b,b.return,Lt)}}}else if(ft.tag===6){if(ot===null)try{ft.stateNode.nodeValue=He?"":ft.memoizedProps}catch(Lt){ns(b,b.return,Lt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===b)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===b)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===b)break e;ot===ft&&(ot=null),ft=ft.return}ot===ft&&(ot=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:So(w,b),el(b),H&4&&AC(b);break;case 21:break;default:So(w,b),el(b)}}function el(b){var w=b.flags;if(w&2){try{e:{for(var I=b.return;I!==null;){if(CC(I)){var H=I;break e}I=I.return}throw Error(t(160))}switch(H.tag){case 5:var X=H.stateNode;H.flags&32&&(Qe(X,""),H.flags&=-33);var J=TC(b);Mw(b,J,X);break;case 3:case 4:var pe=H.stateNode.containerInfo,we=TC(b);Dw(b,we,pe);break;default:throw Error(t(161))}}catch(Te){ns(b,b.return,Te)}b.flags&=-3}w&4096&&(b.flags&=-4097)}function See(b,w,I){Dt=b,IC(b)}function IC(b,w,I){for(var H=(b.mode&1)!==0;Dt!==null;){var X=Dt,J=X.child;if(X.tag===22&&H){var pe=X.memoizedState!==null||iy;if(!pe){var we=X.alternate,Te=we!==null&&we.memoizedState!==null||vi;we=iy;var He=vi;if(iy=pe,(vi=Te)&&!He)for(Dt=X;Dt!==null;)pe=Dt,Te=pe.child,pe.tag===22&&pe.memoizedState!==null?RC(X):Te!==null?(Te.return=pe,Dt=Te):RC(X);for(;J!==null;)Dt=J,IC(J),J=J.sibling;Dt=X,iy=we,vi=He}DC(b)}else(X.subtreeFlags&8772)!==0&&J!==null?(J.return=X,Dt=J):DC(b)}}function DC(b){for(;Dt!==null;){var w=Dt;if((w.flags&8772)!==0){var I=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:vi||ay(5,w);break;case 1:var H=w.stateNode;if(w.flags&4&&!vi)if(I===null)H.componentDidMount();else{var X=w.elementType===w.type?I.memoizedProps:_o(w.type,I.memoizedProps);H.componentDidUpdate(X,I.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var J=w.updateQueue;J!==null&&MN(w,J,H);break;case 3:var pe=w.updateQueue;if(pe!==null){if(I=null,w.child!==null)switch(w.child.tag){case 5:I=w.child.stateNode;break;case 1:I=w.child.stateNode}MN(w,pe,I)}break;case 5:var we=w.stateNode;if(I===null&&w.flags&4){I=we;var Te=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&I.focus();break;case"img":Te.src&&(I.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var He=w.alternate;if(He!==null){var ot=He.memoizedState;if(ot!==null){var ft=ot.dehydrated;ft!==null&&Ou(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}vi||w.flags&512&&Iw(w)}catch(at){ns(w,w.return,at)}}if(w===b){Dt=null;break}if(I=w.sibling,I!==null){I.return=w.return,Dt=I;break}Dt=w.return}}function MC(b){for(;Dt!==null;){var w=Dt;if(w===b){Dt=null;break}var I=w.sibling;if(I!==null){I.return=w.return,Dt=I;break}Dt=w.return}}function RC(b){for(;Dt!==null;){var w=Dt;try{switch(w.tag){case 0:case 11:case 15:var I=w.return;try{ay(4,w)}catch(Te){ns(w,I,Te)}break;case 1:var H=w.stateNode;if(typeof H.componentDidMount=="function"){var X=w.return;try{H.componentDidMount()}catch(Te){ns(w,X,Te)}}var J=w.return;try{Iw(w)}catch(Te){ns(w,J,Te)}break;case 5:var pe=w.return;try{Iw(w)}catch(Te){ns(w,pe,Te)}}}catch(Te){ns(w,w.return,Te)}if(w===b){Dt=null;break}var we=w.sibling;if(we!==null){we.return=w.return,Dt=we;break}Dt=w.return}}var jee=Math.ceil,oy=T.ReactCurrentDispatcher,Rw=T.ReactCurrentOwner,qa=T.ReactCurrentBatchConfig,nn=0,Ws=null,gs=null,oi=0,ka=0,Af=_c(0),Es=0,Lp=null,qu=0,ly=0,$w=0,zp=null,ra=null,Ow=0,Pf=1/0,Rl=null,cy=!1,Fw=null,Tc=null,uy=!1,Ec=null,dy=0,Bp=0,Lw=null,fy=-1,hy=0;function Oi(){return(nn&6)!==0?je():fy!==-1?fy:fy=je()}function Ac(b){return(b.mode&1)===0?1:(nn&2)!==0&&oi!==0?oi&-oi:lee.transition!==null?(hy===0&&(hy=Kr()),hy):(b=_r,b!==0||(b=window.event,b=b===void 0?16:_t(b.type)),b)}function jo(b,w,I,H){if(50<Bp)throw Bp=0,Lw=null,Error(t(185));Us(b,I,H),((nn&2)===0||b!==Ws)&&(b===Ws&&((nn&2)===0&&(ly|=I),Es===4&&Pc(b,oi)),na(b,H),I===1&&nn===0&&(w.mode&1)===0&&(Pf=je()+500,B0&&Sc()))}function na(b,w){var I=b.callbackNode;Qi(b,w);var H=rs(b,b===Ws?oi:0);if(H===0)I!==null&&Se(I),b.callbackNode=null,b.callbackPriority=0;else if(w=H&-H,b.callbackPriority!==w){if(I!=null&&Se(I),w===1)b.tag===0?oee(OC.bind(null,b)):_N(OC.bind(null,b)),nee(function(){(nn&6)===0&&Sc()}),I=null;else{switch(Ns(H)){case 1:I=Ze;break;case 4:I=jt;break;case 16:I=ct;break;case 536870912:I=lr;break;default:I=ct}I=qC(I,$C.bind(null,b))}b.callbackPriority=w,b.callbackNode=I}}function $C(b,w){if(fy=-1,hy=0,(nn&6)!==0)throw Error(t(327));var I=b.callbackNode;if(If()&&b.callbackNode!==I)return null;var H=rs(b,b===Ws?oi:0);if(H===0)return null;if((H&30)!==0||(H&b.expiredLanes)!==0||w)w=py(b,H);else{w=H;var X=nn;nn|=2;var J=LC();(Ws!==b||oi!==w)&&(Rl=null,Pf=je()+500,Ku(b,w));do try{Tee();break}catch(we){FC(b,we)}while(!0);nw(),oy.current=J,nn=X,gs!==null?w=0:(Ws=null,oi=0,w=Es)}if(w!==0){if(w===2&&(X=ms(b),X!==0&&(H=X,w=zw(b,X))),w===1)throw I=Lp,Ku(b,0),Pc(b,H),na(b,je()),I;if(w===6)Pc(b,H);else{if(X=b.current.alternate,(H&30)===0&&!Nee(X)&&(w=py(b,H),w===2&&(J=ms(b),J!==0&&(H=J,w=zw(b,J))),w===1))throw I=Lp,Ku(b,0),Pc(b,H),na(b,je()),I;switch(b.finishedWork=X,b.finishedLanes=H,w){case 0:case 1:throw Error(t(345));case 2:Zu(b,ra,Rl);break;case 3:if(Pc(b,H),(H&130023424)===H&&(w=Ow+500-je(),10<w)){if(rs(b,0)!==0)break;if(X=b.suspendedLanes,(X&H)!==H){Oi(),b.pingedLanes|=b.suspendedLanes&X;break}b.timeoutHandle=H1(Zu.bind(null,b,ra,Rl),w);break}Zu(b,ra,Rl);break;case 4:if(Pc(b,H),(H&4194240)===H)break;for(w=b.eventTimes,X=-1;0<H;){var pe=31-wr(H);J=1<<pe,pe=w[pe],pe>X&&(X=pe),H&=~J}if(H=X,H=je()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*jee(H/1960))-H,10<H){b.timeoutHandle=H1(Zu.bind(null,b,ra,Rl),H);break}Zu(b,ra,Rl);break;case 5:Zu(b,ra,Rl);break;default:throw Error(t(329))}}}return na(b,je()),b.callbackNode===I?$C.bind(null,b):null}function zw(b,w){var I=zp;return b.current.memoizedState.isDehydrated&&(Ku(b,w).flags|=256),b=py(b,w),b!==2&&(w=ra,ra=I,w!==null&&Bw(w)),b}function Bw(b){ra===null?ra=b:ra.push.apply(ra,b)}function Nee(b){for(var w=b;;){if(w.flags&16384){var I=w.updateQueue;if(I!==null&&(I=I.stores,I!==null))for(var H=0;H<I.length;H++){var X=I[H],J=X.getSnapshot;X=X.value;try{if(!xo(J(),X))return!1}catch{return!1}}}if(I=w.child,w.subtreeFlags&16384&&I!==null)I.return=w,w=I;else{if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Pc(b,w){for(w&=~$w,w&=~ly,b.suspendedLanes|=w,b.pingedLanes&=~w,b=b.expirationTimes;0<w;){var I=31-wr(w),H=1<<I;b[I]=-1,w&=~H}}function OC(b){if((nn&6)!==0)throw Error(t(327));If();var w=rs(b,0);if((w&1)===0)return na(b,je()),null;var I=py(b,w);if(b.tag!==0&&I===2){var H=ms(b);H!==0&&(w=H,I=zw(b,H))}if(I===1)throw I=Lp,Ku(b,0),Pc(b,w),na(b,je()),I;if(I===6)throw Error(t(345));return b.finishedWork=b.current.alternate,b.finishedLanes=w,Zu(b,ra,Rl),na(b,je()),null}function Uw(b,w){var I=nn;nn|=1;try{return b(w)}finally{nn=I,nn===0&&(Pf=je()+500,B0&&Sc())}}function Hu(b){Ec!==null&&Ec.tag===0&&(nn&6)===0&&If();var w=nn;nn|=1;var I=qa.transition,H=_r;try{if(qa.transition=null,_r=1,b)return b()}finally{_r=H,qa.transition=I,nn=w,(nn&6)===0&&Sc()}}function Vw(){ka=Af.current,In(Af)}function Ku(b,w){b.finishedWork=null,b.finishedLanes=0;var I=b.timeoutHandle;if(I!==-1&&(b.timeoutHandle=-1,ree(I)),gs!==null)for(I=gs.return;I!==null;){var H=I;switch(Y1(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&L0();break;case 3:Cf(),In(Ji),In(gi),dw();break;case 5:cw(H);break;case 4:Cf();break;case 13:In(Kn);break;case 19:In(Kn);break;case 10:sw(H.type._context);break;case 22:case 23:Vw()}I=I.return}if(Ws=b,gs=b=Ic(b.current,null),oi=ka=w,Es=0,Lp=null,$w=ly=qu=0,ra=zp=null,Uu!==null){for(w=0;w<Uu.length;w++)if(I=Uu[w],H=I.interleaved,H!==null){I.interleaved=null;var X=H.next,J=I.pending;if(J!==null){var pe=J.next;J.next=X,H.next=pe}I.pending=H}Uu=null}return b}function FC(b,w){do{var I=gs;try{if(nw(),Q0.current=ty,Y0){for(var H=Zn.memoizedState;H!==null;){var X=H.queue;X!==null&&(X.pending=null),H=H.next}Y0=!1}if(Wu=0,Vs=Ts=Zn=null,Dp=!1,Mp=0,Rw.current=null,I===null||I.return===null){Es=1,Lp=w,gs=null;break}e:{var J=b,pe=I.return,we=I,Te=w;if(w=oi,we.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var He=Te,ot=we,ft=ot.tag;if((ot.mode&1)===0&&(ft===0||ft===11||ft===15)){var at=ot.alternate;at?(ot.updateQueue=at.updateQueue,ot.memoizedState=at.memoizedState,ot.lanes=at.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var Et=cC(pe);if(Et!==null){Et.flags&=-257,uC(Et,pe,we,J,w),Et.mode&1&&lC(J,He,w),w=Et,Te=He;var Rt=w.updateQueue;if(Rt===null){var Lt=new Set;Lt.add(Te),w.updateQueue=Lt}else Rt.add(Te);break e}else{if((w&1)===0){lC(J,He,w),Ww();break e}Te=Error(t(426))}}else if(Fn&&we.mode&1){var ls=cC(pe);if(ls!==null){(ls.flags&65536)===0&&(ls.flags|=256),uC(ls,pe,we,J,w),tw(Tf(Te,we));break e}}J=Te=Tf(Te,we),Es!==4&&(Es=2),zp===null?zp=[J]:zp.push(J),J=pe;do{switch(J.tag){case 3:J.flags|=65536,w&=-w,J.lanes|=w;var Fe=aC(J,Te,w);DN(J,Fe);break e;case 1:we=Te;var Pe=J.type,Ue=J.stateNode;if((J.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Ue!==null&&typeof Ue.componentDidCatch=="function"&&(Tc===null||!Tc.has(Ue)))){J.flags|=65536,w&=-w,J.lanes|=w;var gt=oC(J,we,w);DN(J,gt);break e}}J=J.return}while(J!==null)}BC(I)}catch(Wt){w=Wt,gs===I&&I!==null&&(gs=I=I.return);continue}break}while(!0)}function LC(){var b=oy.current;return oy.current=ty,b===null?ty:b}function Ww(){(Es===0||Es===3||Es===2)&&(Es=4),Ws===null||(qu&268435455)===0&&(ly&268435455)===0||Pc(Ws,oi)}function py(b,w){var I=nn;nn|=2;var H=LC();(Ws!==b||oi!==w)&&(Rl=null,Ku(b,w));do try{Cee();break}catch(X){FC(b,X)}while(!0);if(nw(),nn=I,oy.current=H,gs!==null)throw Error(t(261));return Ws=null,oi=0,Es}function Cee(){for(;gs!==null;)zC(gs)}function Tee(){for(;gs!==null&&!lt();)zC(gs)}function zC(b){var w=WC(b.alternate,b,ka);b.memoizedProps=b.pendingProps,w===null?BC(b):gs=w,Rw.current=null}function BC(b){var w=b;do{var I=w.alternate;if(b=w.return,(w.flags&32768)===0){if(I=xee(I,w,ka),I!==null){gs=I;return}}else{if(I=wee(I,w),I!==null){I.flags&=32767,gs=I;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Es=6,gs=null;return}}if(w=w.sibling,w!==null){gs=w;return}gs=w=b}while(w!==null);Es===0&&(Es=5)}function Zu(b,w,I){var H=_r,X=qa.transition;try{qa.transition=null,_r=1,Eee(b,w,I,H)}finally{qa.transition=X,_r=H}return null}function Eee(b,w,I,H){do If();while(Ec!==null);if((nn&6)!==0)throw Error(t(327));I=b.finishedWork;var X=b.finishedLanes;if(I===null)return null;if(b.finishedWork=null,b.finishedLanes=0,I===b.current)throw Error(t(177));b.callbackNode=null,b.callbackPriority=0;var J=I.lanes|I.childLanes;if(ga(b,J),b===Ws&&(gs=Ws=null,oi=0),(I.subtreeFlags&2064)===0&&(I.flags&2064)===0||uy||(uy=!0,qC(ct,function(){return If(),null})),J=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||J){J=qa.transition,qa.transition=null;var pe=_r;_r=1;var we=nn;nn|=4,Rw.current=null,kee(b,I),PC(I,b),GJ(W1),uf=!!V1,W1=V1=null,b.current=I,See(I),he(),nn=we,_r=pe,qa.transition=J}else b.current=I;if(uy&&(uy=!1,Ec=b,dy=X),J=b.pendingLanes,J===0&&(Tc=null),Vt(I.stateNode),na(b,je()),w!==null)for(H=b.onRecoverableError,I=0;I<w.length;I++)X=w[I],H(X.value,{componentStack:X.stack,digest:X.digest});if(cy)throw cy=!1,b=Fw,Fw=null,b;return(dy&1)!==0&&b.tag!==0&&If(),J=b.pendingLanes,(J&1)!==0?b===Lw?Bp++:(Bp=0,Lw=b):Bp=0,Sc(),null}function If(){if(Ec!==null){var b=Ns(dy),w=qa.transition,I=_r;try{if(qa.transition=null,_r=16>b?16:b,Ec===null)var H=!1;else{if(b=Ec,Ec=null,dy=0,(nn&6)!==0)throw Error(t(331));var X=nn;for(nn|=4,Dt=b.current;Dt!==null;){var J=Dt,pe=J.child;if((Dt.flags&16)!==0){var we=J.deletions;if(we!==null){for(var Te=0;Te<we.length;Te++){var He=we[Te];for(Dt=He;Dt!==null;){var ot=Dt;switch(ot.tag){case 0:case 11:case 15:Fp(8,ot,J)}var ft=ot.child;if(ft!==null)ft.return=ot,Dt=ft;else for(;Dt!==null;){ot=Dt;var at=ot.sibling,Et=ot.return;if(NC(ot),ot===He){Dt=null;break}if(at!==null){at.return=Et,Dt=at;break}Dt=Et}}}var Rt=J.alternate;if(Rt!==null){var Lt=Rt.child;if(Lt!==null){Rt.child=null;do{var ls=Lt.sibling;Lt.sibling=null,Lt=ls}while(Lt!==null)}}Dt=J}}if((J.subtreeFlags&2064)!==0&&pe!==null)pe.return=J,Dt=pe;else e:for(;Dt!==null;){if(J=Dt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:Fp(9,J,J.return)}var Fe=J.sibling;if(Fe!==null){Fe.return=J.return,Dt=Fe;break e}Dt=J.return}}var Pe=b.current;for(Dt=Pe;Dt!==null;){pe=Dt;var Ue=pe.child;if((pe.subtreeFlags&2064)!==0&&Ue!==null)Ue.return=pe,Dt=Ue;else e:for(pe=Pe;Dt!==null;){if(we=Dt,(we.flags&2048)!==0)try{switch(we.tag){case 0:case 11:case 15:ay(9,we)}}catch(Wt){ns(we,we.return,Wt)}if(we===pe){Dt=null;break e}var gt=we.sibling;if(gt!==null){gt.return=we.return,Dt=gt;break e}Dt=we.return}}if(nn=X,Sc(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(fr,b)}catch{}H=!0}return H}finally{_r=I,qa.transition=w}}return!1}function UC(b,w,I){w=Tf(I,w),w=aC(b,w,1),b=Nc(b,w,1),w=Oi(),b!==null&&(Us(b,1,w),na(b,w))}function ns(b,w,I){if(b.tag===3)UC(b,b,I);else for(;w!==null;){if(w.tag===3){UC(w,b,I);break}else if(w.tag===1){var H=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(Tc===null||!Tc.has(H))){b=Tf(I,b),b=oC(w,b,1),w=Nc(w,b,1),b=Oi(),w!==null&&(Us(w,1,b),na(w,b));break}}w=w.return}}function Aee(b,w,I){var H=b.pingCache;H!==null&&H.delete(w),w=Oi(),b.pingedLanes|=b.suspendedLanes&I,Ws===b&&(oi&I)===I&&(Es===4||Es===3&&(oi&130023424)===oi&&500>je()-Ow?Ku(b,0):$w|=I),na(b,w)}function VC(b,w){w===0&&((b.mode&1)===0?w=1:(w=fn,fn<<=1,(fn&130023424)===0&&(fn=4194304)));var I=Oi();b=Il(b,w),b!==null&&(Us(b,w,I),na(b,I))}function Pee(b){var w=b.memoizedState,I=0;w!==null&&(I=w.retryLane),VC(b,I)}function Iee(b,w){var I=0;switch(b.tag){case 13:var H=b.stateNode,X=b.memoizedState;X!==null&&(I=X.retryLane);break;case 19:H=b.stateNode;break;default:throw Error(t(314))}H!==null&&H.delete(w),VC(b,I)}var WC;WC=function(b,w,I){if(b!==null)if(b.memoizedProps!==w.pendingProps||Ji.current)ta=!0;else{if((b.lanes&I)===0&&(w.flags&128)===0)return ta=!1,vee(b,w,I);ta=(b.flags&131072)!==0}else ta=!1,Fn&&(w.flags&1048576)!==0&&kN(w,V0,w.index);switch(w.lanes=0,w.tag){case 2:var H=w.type;sy(b,w),b=w.pendingProps;var X=xf(w,gi.current);Nf(w,I),X=pw(null,w,H,b,X,I);var J=mw();return w.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,ea(H)?(J=!0,z0(w)):J=!1,w.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,ow(w),X.updater=ry,w.stateNode=X,X._reactInternals=w,ww(w,H,b,I),w=jw(null,w,H,!0,J,I)):(w.tag=0,Fn&&J&&Q1(w),$i(null,w,X,I),w=w.child),w;case 16:H=w.elementType;e:{switch(sy(b,w),b=w.pendingProps,X=H._init,H=X(H._payload),w.type=H,X=w.tag=Mee(H),b=_o(H,b),X){case 0:w=Sw(null,w,H,b,I);break e;case 1:w=gC(null,w,H,b,I);break e;case 11:w=dC(null,w,H,b,I);break e;case 14:w=fC(null,w,H,_o(H.type,b),I);break e}throw Error(t(306,H,""))}return w;case 0:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:_o(H,X),Sw(b,w,H,X,I);case 1:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:_o(H,X),gC(b,w,H,X,I);case 3:e:{if(yC(w),b===null)throw Error(t(387));H=w.pendingProps,J=w.memoizedState,X=J.element,IN(b,w),G0(w,H,null,I);var pe=w.memoizedState;if(H=pe.element,J.isDehydrated)if(J={element:H,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},w.updateQueue.baseState=J,w.memoizedState=J,w.flags&256){X=Tf(Error(t(423)),w),w=bC(b,w,H,I,X);break e}else if(H!==X){X=Tf(Error(t(424)),w),w=bC(b,w,H,I,X);break e}else for(_a=wc(w.stateNode.containerInfo.firstChild),wa=w,Fn=!0,wo=null,I=AN(w,null,H,I),w.child=I;I;)I.flags=I.flags&-3|4096,I=I.sibling;else{if(kf(),H===X){w=Ml(b,w,I);break e}$i(b,w,H,I)}w=w.child}return w;case 5:return RN(w),b===null&&ew(w),H=w.type,X=w.pendingProps,J=b!==null?b.memoizedProps:null,pe=X.children,q1(H,X)?pe=null:J!==null&&q1(H,J)&&(w.flags|=32),mC(b,w),$i(b,w,pe,I),w.child;case 6:return b===null&&ew(w),null;case 13:return vC(b,w,I);case 4:return lw(w,w.stateNode.containerInfo),H=w.pendingProps,b===null?w.child=Sf(w,null,H,I):$i(b,w,H,I),w.child;case 11:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:_o(H,X),dC(b,w,H,X,I);case 7:return $i(b,w,w.pendingProps,I),w.child;case 8:return $i(b,w,w.pendingProps.children,I),w.child;case 12:return $i(b,w,w.pendingProps.children,I),w.child;case 10:e:{if(H=w.type._context,X=w.pendingProps,J=w.memoizedProps,pe=X.value,Tn(H0,H._currentValue),H._currentValue=pe,J!==null)if(xo(J.value,pe)){if(J.children===X.children&&!Ji.current){w=Ml(b,w,I);break e}}else for(J=w.child,J!==null&&(J.return=w);J!==null;){var we=J.dependencies;if(we!==null){pe=J.child;for(var Te=we.firstContext;Te!==null;){if(Te.context===H){if(J.tag===1){Te=Dl(-1,I&-I),Te.tag=2;var He=J.updateQueue;if(He!==null){He=He.shared;var ot=He.pending;ot===null?Te.next=Te:(Te.next=ot.next,ot.next=Te),He.pending=Te}}J.lanes|=I,Te=J.alternate,Te!==null&&(Te.lanes|=I),iw(J.return,I,w),we.lanes|=I;break}Te=Te.next}}else if(J.tag===10)pe=J.type===w.type?null:J.child;else if(J.tag===18){if(pe=J.return,pe===null)throw Error(t(341));pe.lanes|=I,we=pe.alternate,we!==null&&(we.lanes|=I),iw(pe,I,w),pe=J.sibling}else pe=J.child;if(pe!==null)pe.return=J;else for(pe=J;pe!==null;){if(pe===w){pe=null;break}if(J=pe.sibling,J!==null){J.return=pe.return,pe=J;break}pe=pe.return}J=pe}$i(b,w,X.children,I),w=w.child}return w;case 9:return X=w.type,H=w.pendingProps.children,Nf(w,I),X=Va(X),H=H(X),w.flags|=1,$i(b,w,H,I),w.child;case 14:return H=w.type,X=_o(H,w.pendingProps),X=_o(H.type,X),fC(b,w,H,X,I);case 15:return hC(b,w,w.type,w.pendingProps,I);case 17:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:_o(H,X),sy(b,w),w.tag=1,ea(H)?(b=!0,z0(w)):b=!1,Nf(w,I),sC(w,H,X),ww(w,H,X,I),jw(null,w,H,!0,b,I);case 19:return wC(b,w,I);case 22:return pC(b,w,I)}throw Error(t(156,w.tag))};function qC(b,w){return Ir(b,w)}function Dee(b,w,I,H){this.tag=b,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(b,w,I,H){return new Dee(b,w,I,H)}function qw(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Mee(b){if(typeof b=="function")return qw(b)?1:0;if(b!=null){if(b=b.$$typeof,b===W)return 11;if(b===C)return 14}return 2}function Ic(b,w){var I=b.alternate;return I===null?(I=Ha(b.tag,w,b.key,b.mode),I.elementType=b.elementType,I.type=b.type,I.stateNode=b.stateNode,I.alternate=b,b.alternate=I):(I.pendingProps=w,I.type=b.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=b.flags&14680064,I.childLanes=b.childLanes,I.lanes=b.lanes,I.child=b.child,I.memoizedProps=b.memoizedProps,I.memoizedState=b.memoizedState,I.updateQueue=b.updateQueue,w=b.dependencies,I.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},I.sibling=b.sibling,I.index=b.index,I.ref=b.ref,I}function my(b,w,I,H,X,J){var pe=2;if(H=b,typeof b=="function")qw(b)&&(pe=1);else if(typeof b=="string")pe=5;else e:switch(b){case q:return Gu(I.children,X,J,w);case D:pe=8,X|=8;break;case $:return b=Ha(12,I,w,X|2),b.elementType=$,b.lanes=J,b;case P:return b=Ha(13,I,w,X),b.elementType=P,b.lanes=J,b;case R:return b=Ha(19,I,w,X),b.elementType=R,b.lanes=J,b;case S:return gy(I,X,J,w);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case z:pe=10;break e;case K:pe=9;break e;case W:pe=11;break e;case C:pe=14;break e;case _:pe=16,H=null;break e}throw Error(t(130,b==null?b:typeof b,""))}return w=Ha(pe,I,w,X),w.elementType=b,w.type=H,w.lanes=J,w}function Gu(b,w,I,H){return b=Ha(7,b,H,w),b.lanes=I,b}function gy(b,w,I,H){return b=Ha(22,b,H,w),b.elementType=S,b.lanes=I,b.stateNode={isHidden:!1},b}function Hw(b,w,I){return b=Ha(6,b,null,w),b.lanes=I,b}function Kw(b,w,I){return w=Ha(4,b.children!==null?b.children:[],b.key,w),w.lanes=I,w.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},w}function Ree(b,w,I,H,X){this.tag=w,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dr(0),this.expirationTimes=Dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.identifierPrefix=H,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function Zw(b,w,I,H,X,J,pe,we,Te){return b=new Ree(b,w,I,we,Te),w===1?(w=1,J===!0&&(w|=8)):w=0,J=Ha(3,null,null,w),b.current=J,J.stateNode=b,J.memoizedState={element:H,isDehydrated:I,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(J),b}function $ee(b,w,I){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:H==null?null:""+H,children:b,containerInfo:w,implementation:I}}function HC(b){if(!b)return kc;b=b._reactInternals;e:{if(Tt(b)!==b||b.tag!==1)throw Error(t(170));var w=b;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(ea(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(t(171))}if(b.tag===1){var I=b.type;if(ea(I))return xN(b,I,w)}return w}function KC(b,w,I,H,X,J,pe,we,Te){return b=Zw(I,H,!0,b,X,J,pe,we,Te),b.context=HC(null),I=b.current,H=Oi(),X=Ac(I),J=Dl(H,X),J.callback=w??null,Nc(I,J,X),b.current.lanes=X,Us(b,X,H),na(b,H),b}function yy(b,w,I,H){var X=w.current,J=Oi(),pe=Ac(X);return I=HC(I),w.context===null?w.context=I:w.pendingContext=I,w=Dl(J,pe),w.payload={element:b},H=H===void 0?null:H,H!==null&&(w.callback=H),b=Nc(X,w,pe),b!==null&&(jo(b,X,pe,J),Z0(b,X,pe)),pe}function by(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function ZC(b,w){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var I=b.retryLane;b.retryLane=I!==0&&I<w?I:w}}function Gw(b,w){ZC(b,w),(b=b.alternate)&&ZC(b,w)}function Oee(){return null}var GC=typeof reportError=="function"?reportError:function(b){console.error(b)};function Xw(b){this._internalRoot=b}vy.prototype.render=Xw.prototype.render=function(b){var w=this._internalRoot;if(w===null)throw Error(t(409));yy(b,w,null,null)},vy.prototype.unmount=Xw.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var w=b.containerInfo;Hu(function(){yy(null,b,null,null)}),w[Tl]=null}};function vy(b){this._internalRoot=b}vy.prototype.unstable_scheduleHydration=function(b){if(b){var w=ba();b={blockedOn:null,target:b,priority:w};for(var I=0;I<si.length&&w!==0&&w<si[I].priority;I++);si.splice(I,0,b),I===0&&gp(b)}};function Qw(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function xy(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function XC(){}function Fee(b,w,I,H,X){if(X){if(typeof H=="function"){var J=H;H=function(){var He=by(pe);J.call(He)}}var pe=KC(w,H,b,0,null,!1,!1,"",XC);return b._reactRootContainer=pe,b[Tl]=pe.current,jp(b.nodeType===8?b.parentNode:b),Hu(),pe}for(;X=b.lastChild;)b.removeChild(X);if(typeof H=="function"){var we=H;H=function(){var He=by(Te);we.call(He)}}var Te=Zw(b,0,!1,null,null,!1,!1,"",XC);return b._reactRootContainer=Te,b[Tl]=Te.current,jp(b.nodeType===8?b.parentNode:b),Hu(function(){yy(w,Te,I,H)}),Te}function wy(b,w,I,H,X){var J=I._reactRootContainer;if(J){var pe=J;if(typeof X=="function"){var we=X;X=function(){var Te=by(pe);we.call(Te)}}yy(w,pe,b,X)}else pe=Fee(I,w,b,X,H);return by(pe)}Di=function(b){switch(b.tag){case 3:var w=b.stateNode;if(w.current.memoizedState.isDehydrated){var I=Sn(w.pendingLanes);I!==0&&(Oa(w,I|1),na(w,je()),(nn&6)===0&&(Pf=je()+500,Sc()))}break;case 13:Hu(function(){var H=Il(b,1);if(H!==null){var X=Oi();jo(H,b,1,X)}}),Gw(b,1)}},ya=function(b){if(b.tag===13){var w=Il(b,134217728);if(w!==null){var I=Oi();jo(w,b,134217728,I)}Gw(b,134217728)}},vo=function(b){if(b.tag===13){var w=Ac(b),I=Il(b,w);if(I!==null){var H=Oi();jo(I,b,w,H)}Gw(b,w)}},ba=function(){return _r},Mi=function(b,w){var I=_r;try{return _r=b,w()}finally{_r=I}},wt=function(b,w,I){switch(w){case"input":if(ne(b,I),w=I.name,I.type==="radio"&&w!=null){for(I=b;I.parentNode;)I=I.parentNode;for(I=I.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<I.length;w++){var H=I[w];if(H!==b&&H.form===b.form){var X=F0(H);if(!X)throw Error(t(90));me(H),ne(H,X)}}}break;case"textarea":ge(b,I);break;case"select":w=I.value,w!=null&&te(b,!!I.multiple,w,!1)}},Ft=Uw,jr=Hu;var Lee={usingClientEntryPoint:!1,Events:[Tp,bf,F0,St,Sr,Uw]},Up={findFiberByHostInstance:Fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zee={bundleType:Up.bundleType,version:Up.version,rendererPackageName:Up.rendererPackageName,rendererConfig:Up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=mr(b),b===null?null:b.stateNode},findFiberByHostInstance:Up.findFiberByHostInstance||Oee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{fr=_y.inject(zee),Ut=_y}catch{}}return sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lee,sa.createPortal=function(b,w){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qw(w))throw Error(t(200));return $ee(b,w,null,I)},sa.createRoot=function(b,w){if(!Qw(b))throw Error(t(299));var I=!1,H="",X=GC;return w!=null&&(w.unstable_strictMode===!0&&(I=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(X=w.onRecoverableError)),w=Zw(b,1,!1,null,null,I,!1,H,X),b[Tl]=w.current,jp(b.nodeType===8?b.parentNode:b),new Xw(w)},sa.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var w=b._reactInternals;if(w===void 0)throw typeof b.render=="function"?Error(t(188)):(b=Object.keys(b).join(","),Error(t(268,b)));return b=mr(w),b=b===null?null:b.stateNode,b},sa.flushSync=function(b){return Hu(b)},sa.hydrate=function(b,w,I){if(!xy(w))throw Error(t(200));return wy(null,b,w,!0,I)},sa.hydrateRoot=function(b,w,I){if(!Qw(b))throw Error(t(405));var H=I!=null&&I.hydratedSources||null,X=!1,J="",pe=GC;if(I!=null&&(I.unstable_strictMode===!0&&(X=!0),I.identifierPrefix!==void 0&&(J=I.identifierPrefix),I.onRecoverableError!==void 0&&(pe=I.onRecoverableError)),w=KC(w,null,b,1,I??null,X,!1,J,pe),b[Tl]=w.current,jp(b),H)for(b=0;b<H.length;b++)I=H[b],X=I._getVersion,X=X(I._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[I,X]:w.mutableSourceEagerHydrationData.push(I,X);return new vy(w)},sa.render=function(b,w,I){if(!xy(w))throw Error(t(200));return wy(null,b,w,!1,I)},sa.unmountComponentAtNode=function(b){if(!xy(b))throw Error(t(40));return b._reactRootContainer?(Hu(function(){wy(null,null,b,!1,function(){b._reactRootContainer=null,b[Tl]=null})}),!0):!1},sa.unstable_batchedUpdates=Uw,sa.unstable_renderSubtreeIntoContainer=function(b,w,I,H){if(!xy(I))throw Error(t(200));if(b==null||b._reactInternals===void 0)throw Error(t(38));return wy(b,w,I,!1,H)},sa.version="18.3.1-next-f1338f8080-20240426",sa}var i8;function jM(){if(i8)return t2.exports;i8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),t2.exports=Gee(),t2.exports}var a8;function Xee(){if(a8)return Sy;a8=1;var e=jM();return Sy.createRoot=e.createRoot,Sy.hydrateRoot=e.hydrateRoot,Sy}var Qee=Xee();const Yee="modulepreload",Jee=function(e){return"/"+e},o8={},on=function(r,t,s){let n=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");n=a(t.map(c=>{if(c=Jee(c),c in o8)return;o8[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Yee,d||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},B_=(e,r)=>r.some(t=>e instanceof t);let l8,c8;function ete(){return l8||(l8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tte(){return c8||(c8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,s2=new WeakMap,kv=new WeakMap;function rte(e){const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(_d(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)});return kv.set(r,e),r}function nte(e){if(U_.has(e))return;const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});U_.set(e,r)}let V_={get(e,r,t){if(e instanceof IDBTransaction){if(r==="done")return U_.get(e);if(r==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _d(e[r])},set(e,r,t){return e[r]=t,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function NM(e){V_=e(V_)}function ste(e){return tte().includes(e)?function(...r){return e.apply(W_(this),r),_d(this.request)}:function(...r){return _d(e.apply(W_(this),r))}}function ite(e){return typeof e=="function"?ste(e):(e instanceof IDBTransaction&&nte(e),B_(e,ete())?new Proxy(e,V_):e)}function _d(e){if(e instanceof IDBRequest)return rte(e);if(s2.has(e))return s2.get(e);const r=ite(e);return r!==e&&(s2.set(e,r),kv.set(r,e)),r}const W_=e=>kv.get(e);function ate(e,r,{blocked:t,upgrade:s,blocking:n,terminated:i}={}){const a=indexedDB.open(e,r),l=_d(a);return s&&a.addEventListener("upgradeneeded",u=>{s(_d(a.result),u.oldVersion,u.newVersion,_d(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),n&&u.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const ote=["get","getKey","getAll","getAllKeys","count"],lte=["put","add","delete","clear"],i2=new Map;function u8(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(i2.get(r))return i2.get(r);const t=r.replace(/FromIndex$/,""),s=r!==t,n=lte.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(n||ote.includes(t)))return;const i=async function(a,...l){const u=this.transaction(a,n?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[t](...l),n&&u.done]))[0]};return i2.set(r,i),i}NM(e=>({...e,get:(r,t,s)=>u8(r,t)||e.get(r,t,s),has:(r,t)=>!!u8(r,t)||e.has(r,t)}));const cte=["continue","continuePrimaryKey","advance"],d8={},q_=new WeakMap,CM=new WeakMap,ute={get(e,r){if(!cte.includes(r))return e[r];let t=d8[r];return t||(t=d8[r]=function(...s){q_.set(this,CM.get(this)[r](...s))}),t}};async function*dte(...e){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...e)),!r)return;r=r;const t=new Proxy(r,ute);for(CM.set(t,r),kv.set(t,W_(r));r;)yield t,r=await(q_.get(t)||r.continue()),q_.delete(t)}function f8(e,r){return r===Symbol.asyncIterator&&B_(e,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&B_(e,[IDBIndex,IDBObjectStore])}NM(e=>({...e,get(r,t,s){return f8(r,t)?dte:e.get(r,t,s)},has(r,t){return f8(r,t)||e.has(r,t)}}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var yh;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(yh||(yh={}));class a2 extends Error{constructor(r,t,s){super(r),this.message=r,this.code=t,this.data=s}}const fte=e=>{var r,t;return e?.androidBridge?"android":!((t=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},hte=e=>{const r=e.CapacitorCustomPlatform||null,t=e.Capacitor||{},s=t.Plugins=t.Plugins||{},n=()=>r!==null?r.name:fte(e),i=()=>n()!=="web",a=p=>{const f=c.get(p);return!!(f?.platforms.has(n())||l(p))},l=p=>{var f;return(f=t.PluginHeaders)===null||f===void 0?void 0:f.find(h=>h.name===p)},u=p=>e.console.error(p),c=new Map,d=(p,f={})=>{const h=c.get(p);if(h)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),h.proxy;const g=n(),y=l(p);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:r!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),x=(D,$)=>{var z,K;if(y){const W=y?.methods.find(P=>$===P.name);if(W)return W.rtype==="promise"?P=>t.nativePromise(p,$.toString(),P):(P,R)=>t.nativeCallback(p,$.toString(),P,R);if(D)return(z=D[$])===null||z===void 0?void 0:z.bind(D)}else{if(D)return(K=D[$])===null||K===void 0?void 0:K.bind(D);throw new a2(`"${p}" plugin is not implemented on ${g}`,yh.Unimplemented)}},k=D=>{let $;const z=(...K)=>{const W=v().then(P=>{const R=x(P,D);if(R){const C=R(...K);return $=C?.remove,C}else throw new a2(`"${p}.${D}()" is not implemented on ${g}`,yh.Unimplemented)});return D==="addListener"&&(W.remove=async()=>$()),W};return z.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(z,"name",{value:D,writable:!1,configurable:!1}),z},T=k("addListener"),A=k("removeListener"),L=(D,$)=>{const z=T({eventName:D},$),K=async()=>{const P=await z;A({eventName:D,callbackId:P},$)},W=new Promise(P=>z.then(()=>P({remove:K})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},W},q=new Proxy({},{get(D,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?L:T;case"removeListener":return A;default:return k($)}}});return s[p]=q,c.set(p,{name:p,proxy:q,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),q};return t.convertFileSrc||(t.convertFileSrc=p=>p),t.getPlatform=n,t.handleError=u,t.isNativePlatform=i,t.isPluginAvailable=a,t.registerPlugin=d,t.Exception=a2,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},pte=e=>e.Capacitor=hte(e),wl=pte(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),q4=wl.registerPlugin;class TM{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,t){let s=!1;this.listeners[r]||(this.listeners[r]=[],s=!0),this.listeners[r].push(t);const i=this.windowListeners[r];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(r);const a=async()=>this.removeListener(r,t);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,t,s){const n=this.listeners[r];if(!n){if(s){let i=this.retainedEventArguments[r];i||(i=[]),i.push(t),this.retainedEventArguments[r]=i}return}n.forEach(i=>i(t))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,t){this.windowListeners[t]={registered:!1,windowEventName:r,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(r="not implemented"){return new wl.Exception(r,yh.Unimplemented)}unavailable(r="not available"){return new wl.Exception(r,yh.Unavailable)}async removeListener(r,t){const s=this.listeners[r];if(!s)return;const n=s.indexOf(t);this.listeners[r].splice(n,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const t=this.retainedEventArguments[r];t&&(delete this.retainedEventArguments[r],t.forEach(s=>{this.notifyListeners(r,s)}))}}const h8=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),p8=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class mte extends TM{async getCookies(){const r=document.cookie,t={};return r.split(";").forEach(s=>{if(s.length<=0)return;let[n,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=p8(n).trim(),i=p8(i).trim(),t[n]=i}),t}async setCookie(r){try{const t=h8(r.key),s=h8(r.value),n=`; expires=${(r.expires||"").replace("expires=","")}`,i=(r.path||"/").replace("path=",""),a=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${t}=${s||""}${n}; path=${i}; ${a};`}catch(t){return Promise.reject(t)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const t of r)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}q4("CapacitorCookies",{web:()=>new mte});const gte=async e=>new Promise((r,t)=>{const s=new FileReader;s.onload=()=>{const n=s.result;r(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>t(n),s.readAsDataURL(e)}),yte=(e={})=>{const r=Object.keys(e);return Object.keys(e).map(n=>n.toLocaleLowerCase()).reduce((n,i,a)=>(n[i]=e[r[a]],n),{})},bte=(e,r=!0)=>e?Object.entries(e).reduce((s,n)=>{const[i,a]=n;let l,u;return Array.isArray(a)?(u="",a.forEach(c=>{l=r?encodeURIComponent(c):c,u+=`${i}=${l}&`}),u.slice(0,-1)):(l=r?encodeURIComponent(a):a,u=`${i}=${l}`),`${s}&${u}`},"").substr(1):null,vte=(e,r={})=>{const t=Object.assign({method:e.method||"GET",headers:e.headers},r),n=yte(e.headers)["content-type"]||"";if(typeof e.data=="string")t.body=e.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))i.set(a,l);t.body=i.toString()}else if(n.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,u)=>{i.append(u,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);t.body=i;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(n.includes("application/json")||typeof e.data=="object")&&(t.body=JSON.stringify(e.data));return t};class xte extends TM{async request(r){const t=vte(r,r.webFetchExtra),s=bte(r.params,r.shouldEncodeUrlParams),n=s?`${r.url}?${s}`:r.url,i=await fetch(n,t),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?r:{};a.includes("application/json")&&(l="json");let u,c;switch(l){case"arraybuffer":case"blob":c=await i.blob(),u=await gte(c);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const d={};return i.headers.forEach((p,f)=>{d[f]=p}),{data:u,headers:d,status:i.status,url:i.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}q4("CapacitorHttp",{web:()=>new xte});class wte{constructor(r){this.sqlite=r,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToStore(r){try{return await this.sqlite.saveToStore({database:r}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(r){try{return await this.sqlite.saveToLocalDisk({database:r}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(r){const t=r??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(s){return Promise.reject(s)}}async echo(r){try{const t=await this.sqlite.echo({value:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const r=await this.sqlite.isSecretStored();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async setEncryptionSecret(r){try{return await this.sqlite.setEncryptionSecret({passphrase:r}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(r,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:r,oldpassphrase:t}),Promise.resolve()}catch(s){return Promise.reject(s)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(r){return Promise.reject(r)}}async checkEncryptionSecret(r){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(r,t){try{return r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:r,upgrade:t}),Promise.resolve()}catch(s){return Promise.reject(s)}}async createConnection(r,t,s,n,i){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.createConnection({database:r,encrypted:t,mode:s,version:n,readonly:i});const a=new m8(r,i,this.sqlite),l=i?`RO_${r}`:`RW_${r}`;return this._connectionDict.set(l,a),Promise.resolve(a)}catch(a){return Promise.reject(a)}}async closeConnection(r,t){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.closeConnection({database:r,readonly:t});const s=t?`RO_${r}`:`RW_${r}`;return this._connectionDict.delete(s),Promise.resolve()}catch(s){return Promise.reject(s)}}async isConnection(r,t){const s={};r.endsWith(".db")&&(r=r.slice(0,-3));const n=t?`RO_${r}`:`RW_${r}`;return s.result=this._connectionDict.has(n),Promise.resolve(s)}async retrieveConnection(r,t){r.endsWith(".db")&&(r=r.slice(0,-3));const s=t?`RO_${r}`:`RW_${r}`;if(this._connectionDict.has(s)){const n=this._connectionDict.get(s);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async getNCDatabasePath(r,t){try{const s=await this.sqlite.getNCDatabasePath({path:r,database:t});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async createNCConnection(r,t){try{await this.sqlite.createNCConnection({databasePath:r,version:t});const s=new m8(r,!0,this.sqlite),n=`RO_${r})`;return this._connectionDict.set(n,s),Promise.resolve(s)}catch(s){return Promise.reject(s)}}async closeNCConnection(r){try{await this.sqlite.closeNCConnection({databasePath:r});const t=`RO_${r})`;return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(r){const t={},s=`RO_${r})`;return t.result=this._connectionDict.has(s),Promise.resolve(t)}async retrieveNCConnection(r){if(this._connectionDict.has(r)){const t=`RO_${r})`,s=this._connectionDict.get(t);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async isNCDatabase(r){try{const t=await this.sqlite.isNCDatabase({databasePath:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const r=new Map;try{for(const t of this._connectionDict.keys()){const s=t.substring(3),n=t.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:s,readonly:n}),r.set(t,null)}for(const t of r.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const r=[...this._connectionDict.keys()],t=[],s=[];for(const i of r)t.push(i.substring(0,2)),s.push(i.substring(3));const n=await this.sqlite.checkConnectionsConsistency({dbNames:s,openModes:t});return n.result||(this._connectionDict=new Map),Promise.resolve(n)}catch(r){return this._connectionDict=new Map,Promise.reject(r)}}async importFromJson(r){try{const t=await this.sqlite.importFromJson({jsonstring:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(r){try{const t=await this.sqlite.isJsonValid({jsonstring:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(r){const t=r??!0;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(s){return Promise.reject(s)}}async getFromHTTPRequest(r,t){const s=t??!0;try{return await this.sqlite.getFromHTTPRequest({url:r,overwrite:s}),Promise.resolve()}catch(n){return Promise.reject(n)}}async isDatabaseEncrypted(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const r=await this.sqlite.isInConfigEncryption();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigBiometricAuth(){try{const r=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDatabase(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:r});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const t=(await this.sqlite.getDatabaseList()).values;t.sort();const s={values:t};return Promise.resolve(s)}catch(r){return Promise.reject(r)}}async getMigratableDbList(r){const t=r||"default";try{const s=await this.sqlite.getMigratableDbList({folderPath:t});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async addSQLiteSuffix(r,t){const s=r||"default",n=t||[];try{const i=await this.sqlite.addSQLiteSuffix({folderPath:s,dbNameList:n});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteOldDatabases(r,t){const s=r||"default",n=t||[];try{const i=await this.sqlite.deleteOldDatabases({folderPath:s,dbNameList:n});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async moveDatabasesAndAddSuffix(r,t){const s=r||"default",n=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:s,dbNameList:n})}}class m8{constructor(r,t,s){this.dbName=r,this.readonly=t,this.sqlite=s}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async beginTransaction(){try{const r=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async commitTransaction(){try{const r=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async rollbackTransaction(){try{const r=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTransactionActive(){try{const r=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async loadExtension(r){try{return await this.sqlite.loadExtension({database:this.dbName,path:r,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async enableLoadExtension(r){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:r,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getUrl(){try{const r=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getVersion(){try{const r=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getTableList(){try{const r=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async execute(r,t=!0,s=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const n=await this.sqlite.execute({database:this.dbName,statements:r,transaction:t,readonly:!1,isSQL92:s});return Promise.resolve(n)}}catch(n){return Promise.reject(n)}}async query(r,t,s=!0){let n;try{return t&&t.length>0?n=await this.sqlite.query({database:this.dbName,statement:r,values:t,readonly:this.readonly,isSQL92:!0}):n=await this.sqlite.query({database:this.dbName,statement:r,values:[],readonly:this.readonly,isSQL92:s}),n=await this.reorderRows(n),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async run(r,t,s=!0,n="no",i=!0){let a;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(t&&t.length>0?a=await this.sqlite.run({database:this.dbName,statement:r,values:t,transaction:s,readonly:!1,returnMode:n,isSQL92:!0}):a=await this.sqlite.run({database:this.dbName,statement:r,values:[],transaction:s,readonly:!1,returnMode:n,isSQL92:i}),a.changes=await this.reorderRows(a.changes),Promise.resolve(a))}catch(l){return Promise.reject(l)}}async executeSet(r,t=!0,s="no",n=!0){let i;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(i=await this.sqlite.executeSet({database:this.dbName,set:r,transaction:t,readonly:!1,returnMode:s,isSQL92:n}),i.changes=await this.reorderRows(i.changes),Promise.resolve(i))}catch(a){return Promise.reject(a)}}async isExists(){try{const r=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTable(r){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:r,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const r=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async setSyncDate(r){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:r,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const r=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return r.syncDate>0&&(t=new Date(r.syncDate*1e3).toISOString()),Promise.resolve(t)}catch(r){return Promise.reject(r)}}async exportToJson(r,t=!1){try{const s=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:r,readonly:this.readonly,encrypted:t});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async executeTransaction(r,t=!0){let s=0,n=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),n=await this.sqlite.isTransactionActive({database:this.dbName}),!n)return Promise.reject("After Begin Transaction, no transaction active");try{for(const l of r){if(typeof l!="object"||!("statement"in l))throw new Error("Error a task.statement must be provided");if("values"in l&&l.values&&l.values.length>0){const u=l.statement.toUpperCase().includes("RETURNING")?"all":"no",c=await this.sqlite.run({database:this.dbName,statement:l.statement,values:l.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:t});if(c.changes.changes<0)throw new Error("Error in transaction method run ");s+=c.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:l.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");s+=u.changes.changes}}const i=await this.sqlite.commitTransaction({database:this.dbName});s+=i.changes.changes;const a={changes:{changes:s}};return Promise.resolve(a)}catch(i){const a=i.message?i.message:i;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(a)}}async reorderRows(r){const t=r;if(r?.values&&typeof r.values[0]=="object"&&Object.keys(r.values[0]).includes("ios_columns")){const s=r.values[0].ios_columns,n=[];for(let i=1;i<r.values.length;i++){const a=r.values[i],l={};for(const u of s)l[u]=a[u];n.push(l)}t.values=n}return Promise.resolve(t)}}const _te=q4("CapacitorSQLite",{web:()=>on(()=>import("./web-SMQhtM_V.js"),[]).then(e=>new e.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class kte{constructor(){this.db=null,this.dbName="binarjoin_native.db",this._initialized=!1,this._initPromise=null,this.sqlite=new wte(_te),this._initPromise=this.initialize().catch(r=>console.error("[SQLite] Auto-Init Failed:",r))}async initialize(){if(!(this._initialized&&this.db||wl.getPlatform()==="web"))try{let t=!1;try{t=(await this.sqlite.isConnection(this.dbName,!1)).result??!1}catch{t=!1}if(t)this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else try{this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1)}catch(s){if(s?.message?.includes("already exists"))this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else throw s}await this.db.open(),await this.createTables(),this._initialized=!0}catch(t){throw console.error("[SQLite] Critical Init Error:",t),this.db=null,t}}async waitForReady(){this._initPromise&&await this._initPromise}get isReady(){return this._initialized&&this.db!==null}async createTables(){if(!this.db)return;const r=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","equipment","equipmentMovements"];for(const t of r)await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${t} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}async get(r,t){if(!this.db)return null;try{await this.ensureTable(r);const s=await this.db.query(`SELECT data FROM ${r} WHERE id = ?`,[t]);return s.values&&s.values.length>0?JSON.parse(s.values[0].data):null}catch(s){return console.warn(`[SQLite] get ${r}/${t}:`,s),null}}async set(r,t,s){if(this.db)try{await this.ensureTable(r),await this.db.run(`INSERT OR REPLACE INTO ${r} (id, data) VALUES (?, ?)`,[t.toString(),JSON.stringify(s)])}catch(n){console.warn(`[SQLite] set ${r}/${t}:`,n)}}async getAll(r){if(!this.db)return[];try{await this.ensureTable(r);const t=await this.db.query(`SELECT data FROM ${r}`);return t.values?t.values.map(s=>JSON.parse(s.data)):[]}catch(t){return console.warn(`[SQLite] getAll ${r}:`,t),[]}}async delete(r,t){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r} WHERE id = ?`,[t])}catch(s){console.warn(`[SQLite] delete ${r}/${t}:`,s)}}async clearTable(r){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r}`,[])}catch(t){console.warn(`[SQLite] clearTable ${r}:`,t)}}async count(r){if(!this.db)return 0;try{await this.ensureTable(r);const t=await this.db.query(`SELECT COUNT(*) as cnt FROM ${r}`);return t.values&&t.values.length>0&&t.values[0].cnt||0}catch(t){return console.warn(`[SQLite] count ${r}:`,t),0}}async query(r,t){return(await this.getAll(r)).filter(t)}async ensureTable(r){if(this.db)try{await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${r} (
          id TEXT PRIMARY KEY,
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}catch{}}}const Fo=new kte;async function EM(){const e=wl.getPlatform();if(e==="android"||e==="ios")try{console.log(" [DB]    SQLite ...");const r=Fo.waitForReady(),t=new Promise((s,n)=>setTimeout(()=>n(new Error("SQLite Initialization Timeout")),5e3));return await Promise.race([r,t]),console.log(" [DB]    SQLite "),Fo}catch(r){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",r),to||(to=await Cd()),to}return to||(to=await Cd()),to}let to=null;const Ste=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","backupLogs","backupSettings","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","deadLetterQueue","localAuditLog"];async function Cd(){if(to)return to;try{to=await ate("binarjoin-db",14,{upgrade(e,r,t){console.log(`[DB] Upgrading from ${r} to ${t}`);for(const s of Ste)if(!e.objectStoreNames.contains(s))if(s==="syncQueue"){const n=e.createObjectStore(s,{keyPath:"id"});n.createIndex("timestamp","timestamp"),n.createIndex("action","action"),n.createIndex("status","status")}else if(s==="syncHistory"){const n=e.createObjectStore(s,{keyPath:"id"});n.createIndex("timestamp","timestamp"),n.createIndex("status","status")}else if(s==="userData")e.createObjectStore(s,{keyPath:"id"}).createIndex("type","type");else if(s==="syncMetadata")e.createObjectStore(s,{keyPath:"key"});else if(s==="deadLetterQueue"){const n=e.createObjectStore(s,{keyPath:"id"});n.createIndex("movedAt","movedAt"),n.createIndex("errorType","errorType")}else if(s==="localAuditLog"){const n=e.createObjectStore(s,{keyPath:"id"});n.createIndex("timestamp","timestamp"),n.createIndex("sequence","sequence"),n.createIndex("entityType","entityType")}else{const n=e.createObjectStore(s,{keyPath:"id"});try{n.createIndex("synced","synced"),n.createIndex("_pendingSync","_pendingSync")}catch{}}}})}catch(e){throw console.error("[DB] Critical initialization error:",e),e}return to}async function jte(){const e=wl.getPlatform();if(e==="android"||e==="ios"){const r=await EM();if(r)return r}return to||await Cd()}async function Yy(e,r,t,s){const{smartPut:n,smartDelete:i,smartAdd:a}=await on(async()=>{const{smartPut:d,smartDelete:p,smartAdd:f}=await Promise.resolve().then(()=>Cm);return{smartPut:d,smartDelete:p,smartAdd:f}},void 0),l=t.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),u={...t,id:l,_isLocal:!0,_pendingSync:!0};r==="delete"?await i(e,l):await n(e,u);const c=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await a("syncQueue",{id:c,action:r,endpoint:s,payload:u,timestamp:Date.now(),retries:0}),u}async function H_(e){const{smartGetAll:r}=await on(async()=>{const{smartGetAll:s}=await Promise.resolve().then(()=>Cm);return{smartGetAll:s}},void 0);return(await r(e)).sort((s,n)=>{const i=new Date(s.createdAt||0).getTime();return new Date(n.createdAt||0).getTime()-i})}const Nte=Object.freeze(Object.defineProperty({__proto__:null,getDB:jte,getListLocal:H_,getSmartStorage:EM,initializeDB:Cd,performLocalOperation:Yy},Symbol.toStringTag,{value:"Module"}));function Cte(e,r){if(e instanceof RegExp)return{keys:!1,pattern:e};var t,s,n,i,a=[],l="",u=e.split("/");for(u[0]||u.shift();n=u.shift();)t=n[0],t==="*"?(a.push(t),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(s=n.indexOf("?",1),i=n.indexOf(".",1),a.push(n.substring(1,~s?s:~i?i:n.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+n.substring(i))):l+="/"+n;return{keys:a,pattern:new RegExp("^"+l+(r?"(?=$|/)":"/?$"),"i")}}var E=_v();const Zt=W4(E),Sv=SM({__proto__:null,default:Zt},[E]);var o2={exports:{}},l2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8;function Tte(){if(g8)return l2;g8=1;var e=_v();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var t=typeof Object.is=="function"?Object.is:r,s=e.useState,n=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function l(p,f){var h=f(),g=s({inst:{value:h,getSnapshot:f}}),y=g[0].inst,m=g[1];return i(function(){y.value=h,y.getSnapshot=f,u(y)&&m({inst:y})},[p,h,f]),n(function(){return u(y)&&m({inst:y}),p(function(){u(y)&&m({inst:y})})},[p]),a(h),h}function u(p){var f=p.getSnapshot;p=p.value;try{var h=f();return!t(p,h)}catch{return!0}}function c(p,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return l2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,l2}var y8;function Ete(){return y8||(y8=1,o2.exports=Tte()),o2.exports}var Ate=Ete();const Pte=Sv.useInsertionEffect,Ite=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AM=Ite?E.useLayoutEffect:E.useEffect,Dte=Pte||AM,H4=e=>{const r=E.useRef([e,(...t)=>r[0](...t)]).current;return Dte(()=>{r[0]=e}),r[1]},Mte="popstate",K4="pushState",Z4="replaceState",Rte="hashchange",b8=[Mte,K4,Z4,Rte],$te=e=>{for(const r of b8)addEventListener(r,e);return()=>{for(const r of b8)removeEventListener(r,e)}},PM=(e,r)=>Ate.useSyncExternalStore($te,e,r),v8=()=>location.search,Ote=({ssrSearch:e}={})=>PM(v8,e!=null?()=>e:v8),x8=()=>location.pathname,Fte=({ssrPath:e}={})=>PM(x8,e!=null?()=>e:x8),Lte=(e,{replace:r=!1,state:t=null}={})=>history[r?Z4:K4](t,"",e),zte=(e={})=>[Fte(e),Lte],w8=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[w8]>"u"){for(const e of[K4,Z4]){const r=history[e];history[e]=function(){const t=r.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),t}}Object.defineProperty(window,w8,{value:!0})}const Bte=(e,r)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/",IM=(e="")=>e==="/"?"":e,Ute=(e,r)=>e[0]==="~"?e.slice(1):IM(r)+e,Vte=(e="",r)=>Bte(_8(IM(e)),_8(r)),_8=e=>{try{return decodeURI(e)}catch{return e}},DM={hook:zte,searchHook:Ote,parser:Cte,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,r,t)=>e(r,t)},MM=E.createContext(DM),Bh=()=>E.useContext(MM),RM={},$M=E.createContext(RM),Wte=()=>E.useContext($M),yg=e=>{const[r,t]=e.hook(e);return[Vte(e.base,r),H4((s,n)=>e.aroundNav(t,Ute(s,e.base),n))]},zs=()=>yg(Bh()),OM=(e,r,t,s)=>{const{pattern:n,keys:i}=r instanceof RegExp?{keys:!1,pattern:r}:e(r||"*",s),a=n.exec(t)||[],[l,...u]=a;return l!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((p,f)=>[p,u[f]])):a.groups;let d={...u};return c&&Object.assign(d,c),d})(),...s?[l]:[]]:[!1,null]},qte=({children:e,...r})=>{const t=Bh(),s=r.hook?DM:t;let n=s;const[i,a=r.ssrSearch??""]=r.ssrPath?.split("?")??[];i&&(r.ssrSearch=a,r.ssrPath=i),r.hrefs=r.hrefs??r.hook?.hrefs,r.searchHook=r.searchHook??r.hook?.searchHook;let l=E.useRef({}),u=l.current,c=u;for(let d in s){const p=d==="base"?s[d]+(r[d]??""):r[d]??s[d];u===c&&p!==c[d]&&(l.current=c={...c}),c[d]=p,(p!==s[d]||p!==n[d])&&(n=c)}return E.createElement(MM.Provider,{value:n,children:e})},k8=({children:e,component:r},t)=>r?E.createElement(r,{params:t}):typeof e=="function"?e(t):e,Hte=e=>{let r=E.useRef(RM);const t=r.current;return r.current=Object.keys(e).length!==Object.keys(t).length||Object.entries(e).some(([s,n])=>n!==t[s])?e:t},Cr=({path:e,nest:r,match:t,...s})=>{const n=Bh(),[i]=yg(n),[a,l,u]=t??OM(n.parser,e,i,r),c=Hte({...Wte(),...l});if(!a)return null;const d=u?E.createElement(qte,{base:u},k8(s,c)):k8(s,c);return E.createElement($M.Provider,{value:c,children:d})};E.forwardRef((e,r)=>{const t=Bh(),[s,n]=yg(t),{to:i="",href:a=i,onClick:l,asChild:u,children:c,className:d,replace:p,state:f,transition:h,...g}=e,y=H4(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l?.(v),v.defaultPrevented||(v.preventDefault(),n(a,e)))}),m=t.hrefs(a[0]==="~"?a.slice(1):t.base+a,t);return u&&E.isValidElement(c)?E.cloneElement(c,{onClick:y,href:m}):E.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(s===a):d,children:c,ref:r})});const FM=e=>Array.isArray(e)?e.flatMap(r=>FM(r&&r.type===E.Fragment?r.props.children:r)):[e],LM=({children:e,location:r})=>{const t=Bh(),[s]=yg(t);for(const n of FM(e)){let i=0;if(E.isValidElement(n)&&(i=OM(t.parser,n.props.path,r||s,n.props.nest))[0])return E.cloneElement(n,{match:i})}return null},Nb=e=>{const{to:r,href:t=r}=e,s=Bh(),[,n]=yg(s),i=H4(()=>n(r||t,e)),{ssrContext:a}=s;return AM(()=>{i()},[]),a&&(a.redirectTo=r),null};var Uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kte={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e),setInterval:(e,r)=>setInterval(e,r),clearInterval:e=>clearInterval(e)},Uc,V4,_P,Zte=(_P=class{constructor(){er(this,Uc,Kte);er(this,V4,!1)}setTimeoutProvider(e){Ct(this,Uc,e)}setTimeout(e,r){return Ne(this,Uc).setTimeout(e,r)}clearTimeout(e){Ne(this,Uc).clearTimeout(e)}setInterval(e,r){return Ne(this,Uc).setInterval(e,r)}clearInterval(e){Ne(this,Uc).clearInterval(e)}},Uc=new WeakMap,V4=new WeakMap,_P),sd=new Zte;function Gte(e){setTimeout(e,0)}var Td=typeof window>"u"||"Deno"in globalThis;function Ui(){}function Xte(e,r){return typeof e=="function"?e(r):e}function K_(e){return typeof e=="number"&&e>=0&&e!==1/0}function zM(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Jc(e,r){return typeof e=="function"?e(r):e}function eo(e,r){return typeof e=="function"?e(r):e}function S8(e,r){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:a,stale:l}=e;if(a){if(s){if(r.queryHash!==G4(a,r.options))return!1}else if(!Nm(r.queryKey,a))return!1}if(t!=="all"){const u=r.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||n&&n!==r.state.fetchStatus||i&&!i(r))}function j8(e,r){const{exact:t,status:s,predicate:n,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(t){if(Ed(r.options.mutationKey)!==Ed(i))return!1}else if(!Nm(r.options.mutationKey,i))return!1}return!(s&&r.state.status!==s||n&&!n(r))}function G4(e,r){return(r?.queryKeyHashFn||Ed)(e)}function Ed(e){return JSON.stringify(e,(r,t)=>Z_(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function Nm(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(t=>Nm(e[t],r[t])):!1}var Qte=Object.prototype.hasOwnProperty;function BM(e,r,t=0){if(e===r)return e;if(t>500)return r;const s=N8(e)&&N8(r);if(!s&&!(Z_(e)&&Z_(r)))return r;const i=(s?e:Object.keys(e)).length,a=s?r:Object.keys(r),l=a.length,u=s?new Array(l):{};let c=0;for(let d=0;d<l;d++){const p=s?d:a[d],f=e[p],h=r[p];if(f===h){u[p]=f,(s?d<i:Qte.call(e,p))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){u[p]=h;continue}const g=BM(f,h,t+1);u[p]=g,g===f&&c++}return i===l&&c===i?e:u}function Cb(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const t in e)if(e[t]!==r[t])return!1;return!0}function N8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Z_(e){if(!C8(e))return!1;const r=e.constructor;if(r===void 0)return!0;const t=r.prototype;return!(!C8(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function C8(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yte(e){return new Promise(r=>{sd.setTimeout(r,e)})}function G_(e,r,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,r):t.structuralSharing!==!1?BM(e,r):r}function Jte(e,r,t=0){const s=[...e,r];return t&&s.length>t?s.slice(1):s}function ere(e,r,t=0){const s=[r,...e];return t&&s.length>t?s.slice(0,-1):s}var X4=Symbol();function UM(e,r){return!e.queryFn&&r?.initialPromise?()=>r.initialPromise:!e.queryFn||e.queryFn===X4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Q4(e,r){return typeof e=="function"?e(...r):!!e}function tre(e,r,t){let s=!1,n;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(n??(n=r()),s||(s=!0,n.aborted?t():n.addEventListener("abort",t,{once:!0})),n)}),e}var hd,Vc,ih,kP,rre=(kP=class extends Uh{constructor(){super();er(this,hd);er(this,Vc);er(this,ih);Ct(this,ih,r=>{if(!Td&&window.addEventListener){const t=()=>r();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ne(this,Vc)||this.setEventListener(Ne(this,ih))}onUnsubscribe(){var r;this.hasListeners()||((r=Ne(this,Vc))==null||r.call(this),Ct(this,Vc,void 0))}setEventListener(r){var t;Ct(this,ih,r),(t=Ne(this,Vc))==null||t.call(this),Ct(this,Vc,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){Ne(this,hd)!==r&&(Ct(this,hd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(t=>{t(r)})}isFocused(){return typeof Ne(this,hd)=="boolean"?Ne(this,hd):globalThis.document?.visibilityState!=="hidden"}},hd=new WeakMap,Vc=new WeakMap,ih=new WeakMap,kP),Y4=new rre;function X_(){let e,r;const t=new Promise((n,i)=>{e=n,r=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},t.reject=n=>{s({status:"rejected",reason:n}),r(n)},t}var nre=Gte;function sre(){let e=[],r=0,t=l=>{l()},s=l=>{l()},n=nre;const i=l=>{r?e.push(l):n(()=>{t(l)})},a=()=>{const l=e;e=[],l.length&&n(()=>{s(()=>{l.forEach(u=>{t(u)})})})};return{batch:l=>{let u;r++;try{u=l()}finally{r--,r||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var Ds=sre(),ah,Wc,oh,SP,ire=(SP=class extends Uh{constructor(){super();er(this,ah,!0);er(this,Wc);er(this,oh);Ct(this,oh,r=>{if(!Td&&window.addEventListener){const t=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){Ne(this,Wc)||this.setEventListener(Ne(this,oh))}onUnsubscribe(){var r;this.hasListeners()||((r=Ne(this,Wc))==null||r.call(this),Ct(this,Wc,void 0))}setEventListener(r){var t;Ct(this,oh,r),(t=Ne(this,Wc))==null||t.call(this),Ct(this,Wc,r(this.setOnline.bind(this)))}setOnline(r){Ne(this,ah)!==r&&(Ct(this,ah,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return Ne(this,ah)}},ah=new WeakMap,Wc=new WeakMap,oh=new WeakMap,SP),Tb=new ire;function are(e){return Math.min(1e3*2**e,3e4)}function VM(e){return(e??"online")==="online"?Tb.isOnline():!0}var Q_=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function WM(e){let r=!1,t=0,s;const n=X_(),i=()=>n.status!=="pending",a=y=>{if(!i()){const m=new Q_(y);f(m),e.onCancel?.(m)}},l=()=>{r=!0},u=()=>{r=!1},c=()=>Y4.isFocused()&&(e.networkMode==="always"||Tb.isOnline())&&e.canRun(),d=()=>VM(e.networkMode)&&e.canRun(),p=y=>{i()||(s?.(),n.resolve(y))},f=y=>{i()||(s?.(),n.reject(y))},h=()=>new Promise(y=>{s=m=>{(i()||c())&&y(m)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),g=()=>{if(i())return;let y;const m=t===0?e.initialPromise:void 0;try{y=m??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(p).catch(v=>{if(i())return;const x=e.retry??(Td?0:3),k=e.retryDelay??are,T=typeof k=="function"?k(t,v):k,A=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,v);if(r||!A){f(v);return}t++,e.onFail?.(t,v),Yte(T).then(()=>c()?void 0:h()).then(()=>{r?f(v):g()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(s?.(),n),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?g():h().then(g),n)}}var pd,jP,qM=(jP=class{constructor(){er(this,pd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K_(this.gcTime)&&Ct(this,pd,sd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Td?1/0:300*1e3))}clearGcTimeout(){Ne(this,pd)&&(sd.clearTimeout(Ne(this,pd)),Ct(this,pd,void 0))}},pd=new WeakMap,jP),md,lh,Ya,gd,Ks,fg,yd,To,zl,NP,ore=(NP=class extends qM{constructor(r){super();er(this,To);er(this,md);er(this,lh);er(this,Ya);er(this,gd);er(this,Ks);er(this,fg);er(this,yd);Ct(this,yd,!1),Ct(this,fg,r.defaultOptions),this.setOptions(r.options),this.observers=[],Ct(this,gd,r.client),Ct(this,Ya,Ne(this,gd).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Ct(this,md,E8(this.options)),this.state=r.state??Ne(this,md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Ne(this,Ks)?.promise}setOptions(r){if(this.options={...Ne(this,fg),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=E8(this.options);t.data!==void 0&&(this.setState(T8(t.data,t.dataUpdatedAt)),Ct(this,md,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,Ya).remove(this)}setData(r,t){const s=G_(this.state.data,r,this.options);return Fr(this,To,zl).call(this,{data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(r,t){Fr(this,To,zl).call(this,{type:"setState",state:r,setStateOptions:t})}cancel(r){const t=Ne(this,Ks)?.promise;return Ne(this,Ks)?.cancel(r),t?t.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,md))}isActive(){return this.observers.some(r=>eo(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===X4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Jc(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!zM(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Ne(this,Ks)?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Ne(this,Ks)?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Ne(this,Ya).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(t=>t!==r),this.observers.length||(Ne(this,Ks)&&(Ne(this,yd)?Ne(this,Ks).cancel({revert:!0}):Ne(this,Ks).cancelRetry()),this.scheduleGc()),Ne(this,Ya).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fr(this,To,zl).call(this,{type:"invalidate"})}async fetch(r,t){if(this.state.fetchStatus!=="idle"&&Ne(this,Ks)?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(Ne(this,Ks))return Ne(this,Ks).continueRetry(),Ne(this,Ks).promise}if(r&&this.setOptions(r),!this.options.queryFn){const u=this.observers.find(c=>c.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Ct(this,yd,!0),s.signal)})},i=()=>{const u=UM(this.options,t),d=(()=>{const p={client:Ne(this,gd),queryKey:this.queryKey,meta:this.meta};return n(p),p})();return Ct(this,yd,!1),this.options.persister?this.options.persister(u,d,this):u(d)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Ne(this,gd),state:this.state,fetchFn:i};return n(u),u})();this.options.behavior?.onFetch(l,this),Ct(this,lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&Fr(this,To,zl).call(this,{type:"fetch",meta:l.fetchOptions?.meta}),Ct(this,Ks,WM({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof Q_&&u.revert&&this.setState({...Ne(this,lh),fetchStatus:"idle"}),s.abort()},onFail:(u,c)=>{Fr(this,To,zl).call(this,{type:"failed",failureCount:u,error:c})},onPause:()=>{Fr(this,To,zl).call(this,{type:"pause"})},onContinue:()=>{Fr(this,To,zl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const u=await Ne(this,Ks).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),Ne(this,Ya).config.onSuccess?.(u,this),Ne(this,Ya).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Q_){if(u.silent)return Ne(this,Ks).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw Fr(this,To,zl).call(this,{type:"error",error:u}),Ne(this,Ya).config.onError?.(u,this),Ne(this,Ya).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},md=new WeakMap,lh=new WeakMap,Ya=new WeakMap,gd=new WeakMap,Ks=new WeakMap,fg=new WeakMap,yd=new WeakMap,To=new WeakSet,zl=function(r){const t=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...HM(s.data,this.options),fetchMeta:r.meta??null};case"success":const n={...s,...T8(r.data,r.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ct(this,lh,r.manual?n:void 0),n;case"error":const i=r.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=t(this.state),Ds.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ne(this,Ya).notify({query:this,type:"updated",action:r})})},NP);function HM(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VM(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function T8(e,r){return{data:e,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function E8(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,t=r!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ia,Xr,hg,zi,bd,ch,ql,qc,pg,uh,dh,vd,xd,Hc,fh,hn,tm,Y_,J_,ek,tk,rk,nk,sk,KM,CP,lre=(CP=class extends Uh{constructor(r,t){super();er(this,hn);er(this,ia);er(this,Xr);er(this,hg);er(this,zi);er(this,bd);er(this,ch);er(this,ql);er(this,qc);er(this,pg);er(this,uh);er(this,dh);er(this,vd);er(this,xd);er(this,Hc);er(this,fh,new Set);this.options=t,Ct(this,ia,r),Ct(this,qc,null),Ct(this,ql,X_()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ne(this,Xr).addObserver(this),A8(Ne(this,Xr),this.options)?Fr(this,hn,tm).call(this):this.updateResult(),Fr(this,hn,tk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ik(Ne(this,Xr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ik(Ne(this,Xr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fr(this,hn,rk).call(this),Fr(this,hn,nk).call(this),Ne(this,Xr).removeObserver(this)}setOptions(r){const t=this.options,s=Ne(this,Xr);if(this.options=Ne(this,ia).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof eo(this.options.enabled,Ne(this,Xr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fr(this,hn,sk).call(this),Ne(this,Xr).setOptions(this.options),t._defaulted&&!Cb(this.options,t)&&Ne(this,ia).getQueryCache().notify({type:"observerOptionsUpdated",query:Ne(this,Xr),observer:this});const n=this.hasListeners();n&&P8(Ne(this,Xr),s,this.options,t)&&Fr(this,hn,tm).call(this),this.updateResult(),n&&(Ne(this,Xr)!==s||eo(this.options.enabled,Ne(this,Xr))!==eo(t.enabled,Ne(this,Xr))||Jc(this.options.staleTime,Ne(this,Xr))!==Jc(t.staleTime,Ne(this,Xr)))&&Fr(this,hn,Y_).call(this);const i=Fr(this,hn,J_).call(this);n&&(Ne(this,Xr)!==s||eo(this.options.enabled,Ne(this,Xr))!==eo(t.enabled,Ne(this,Xr))||i!==Ne(this,Hc))&&Fr(this,hn,ek).call(this,i)}getOptimisticResult(r){const t=Ne(this,ia).getQueryCache().build(Ne(this,ia),r),s=this.createResult(t,r);return ure(this,s)&&(Ct(this,zi,s),Ct(this,ch,this.options),Ct(this,bd,Ne(this,Xr).state)),s}getCurrentResult(){return Ne(this,zi)}trackResult(r,t){return new Proxy(r,{get:(s,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Ne(this,ql).status==="pending"&&Ne(this,ql).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,n))})}trackProp(r){Ne(this,fh).add(r)}getCurrentQuery(){return Ne(this,Xr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const t=Ne(this,ia).defaultQueryOptions(r),s=Ne(this,ia).getQueryCache().build(Ne(this,ia),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(r){return Fr(this,hn,tm).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),Ne(this,zi)))}createResult(r,t){const s=Ne(this,Xr),n=this.options,i=Ne(this,zi),a=Ne(this,bd),l=Ne(this,ch),c=r!==s?r.state:Ne(this,hg),{state:d}=r;let p={...d},f=!1,h;if(t._optimisticResults){const $=this.hasListeners(),z=!$&&A8(r,t),K=$&&P8(r,s,t,n);(z||K)&&(p={...p,...HM(d.data,r.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=p;h=p.data;let v=!1;if(t.placeholderData!==void 0&&h===void 0&&m==="pending"){let $;i?.isPlaceholderData&&t.placeholderData===l?.placeholderData?($=i.data,v=!0):$=typeof t.placeholderData=="function"?t.placeholderData(Ne(this,dh)?.state.data,Ne(this,dh)):t.placeholderData,$!==void 0&&(m="success",h=G_(i?.data,$,t),f=!0)}if(t.select&&h!==void 0&&!v)if(i&&h===a?.data&&t.select===Ne(this,pg))h=Ne(this,uh);else try{Ct(this,pg,t.select),h=t.select(h),h=G_(i?.data,h,t),Ct(this,uh,h),Ct(this,qc,null)}catch($){Ct(this,qc,$)}Ne(this,qc)&&(g=Ne(this,qc),h=Ne(this,uh),y=Date.now(),m="error");const x=p.fetchStatus==="fetching",k=m==="pending",T=m==="error",A=k&&x,L=h!==void 0,D={status:m,fetchStatus:p.fetchStatus,isPending:k,isSuccess:m==="success",isError:T,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!k,isLoadingError:T&&!L,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&L,isStale:J4(r,t),refetch:this.refetch,promise:Ne(this,ql),isEnabled:eo(t.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const $=D.data!==void 0,z=D.status==="error"&&!$,K=R=>{z?R.reject(D.error):$&&R.resolve(D.data)},W=()=>{const R=Ct(this,ql,D.promise=X_());K(R)},P=Ne(this,ql);switch(P.status){case"pending":r.queryHash===s.queryHash&&K(P);break;case"fulfilled":(z||D.data!==P.value)&&W();break;case"rejected":(!z||D.error!==P.reason)&&W();break}}return D}updateResult(){const r=Ne(this,zi),t=this.createResult(Ne(this,Xr),this.options);if(Ct(this,bd,Ne(this,Xr).state),Ct(this,ch,this.options),Ne(this,bd).data!==void 0&&Ct(this,dh,Ne(this,Xr)),Cb(t,r))return;Ct(this,zi,t);const s=()=>{if(!r)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!Ne(this,fh).size)return!0;const a=new Set(i??Ne(this,fh));return this.options.throwOnError&&a.add("error"),Object.keys(Ne(this,zi)).some(l=>{const u=l;return Ne(this,zi)[u]!==r[u]&&a.has(u)})};Fr(this,hn,KM).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fr(this,hn,tk).call(this)}},ia=new WeakMap,Xr=new WeakMap,hg=new WeakMap,zi=new WeakMap,bd=new WeakMap,ch=new WeakMap,ql=new WeakMap,qc=new WeakMap,pg=new WeakMap,uh=new WeakMap,dh=new WeakMap,vd=new WeakMap,xd=new WeakMap,Hc=new WeakMap,fh=new WeakMap,hn=new WeakSet,tm=function(r){Fr(this,hn,sk).call(this);let t=Ne(this,Xr).fetch(this.options,r);return r?.throwOnError||(t=t.catch(Ui)),t},Y_=function(){Fr(this,hn,rk).call(this);const r=Jc(this.options.staleTime,Ne(this,Xr));if(Td||Ne(this,zi).isStale||!K_(r))return;const s=zM(Ne(this,zi).dataUpdatedAt,r)+1;Ct(this,vd,sd.setTimeout(()=>{Ne(this,zi).isStale||this.updateResult()},s))},J_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ne(this,Xr)):this.options.refetchInterval)??!1},ek=function(r){Fr(this,hn,nk).call(this),Ct(this,Hc,r),!(Td||eo(this.options.enabled,Ne(this,Xr))===!1||!K_(Ne(this,Hc))||Ne(this,Hc)===0)&&Ct(this,xd,sd.setInterval(()=>{(this.options.refetchIntervalInBackground||Y4.isFocused())&&Fr(this,hn,tm).call(this)},Ne(this,Hc)))},tk=function(){Fr(this,hn,Y_).call(this),Fr(this,hn,ek).call(this,Fr(this,hn,J_).call(this))},rk=function(){Ne(this,vd)&&(sd.clearTimeout(Ne(this,vd)),Ct(this,vd,void 0))},nk=function(){Ne(this,xd)&&(sd.clearInterval(Ne(this,xd)),Ct(this,xd,void 0))},sk=function(){const r=Ne(this,ia).getQueryCache().build(Ne(this,ia),this.options);if(r===Ne(this,Xr))return;const t=Ne(this,Xr);Ct(this,Xr,r),Ct(this,hg,r.state),this.hasListeners()&&(t?.removeObserver(this),r.addObserver(this))},KM=function(r){Ds.batch(()=>{r.listeners&&this.listeners.forEach(t=>{t(Ne(this,zi))}),Ne(this,ia).getQueryCache().notify({query:Ne(this,Xr),type:"observerResultsUpdated"})})},CP);function cre(e,r){return eo(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function A8(e,r){return cre(e,r)||e.state.data!==void 0&&ik(e,r,r.refetchOnMount)}function ik(e,r,t){if(eo(r.enabled,e)!==!1&&Jc(r.staleTime,e)!=="static"){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&J4(e,r)}return!1}function P8(e,r,t,s){return(e!==r||eo(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&J4(e,t)}function J4(e,r){return eo(r.enabled,e)!==!1&&e.isStaleByTime(Jc(r.staleTime,e))}function ure(e,r){return!Cb(e.getCurrentResult(),r)}function I8(e){return{onFetch:(r,t)=>{const s=r.options,n=r.fetchOptions?.meta?.fetchMore?.direction,i=r.state.data?.pages||[],a=r.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let d=!1;const p=g=>{tre(g,()=>r.signal,()=>d=!0)},f=UM(r.options,r.fetchOptions),h=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const L={client:r.client,queryKey:r.queryKey,pageParam:y,direction:m?"backward":"forward",meta:r.options.meta};return p(L),L})(),k=await f(x),{maxPages:T}=r.options,A=m?ere:Jte;return{pages:A(g.pages,k,T),pageParams:A(g.pageParams,y,T)}};if(n&&i.length){const g=n==="backward",y=g?dre:D8,m={pages:i,pageParams:a},v=y(s,m);l=await h(m,v,g)}else{const g=e??i.length;do{const y=u===0?a[0]??s.initialPageParam:D8(s,l);if(u>0&&y==null)break;l=await h(l,y),u++}while(u<g)}return l};r.options.persister?r.fetchFn=()=>r.options.persister?.(c,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},t):r.fetchFn=c}}}function D8(e,{pages:r,pageParams:t}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,t[s],t):void 0}function dre(e,{pages:r,pageParams:t}){return r.length>0?e.getPreviousPageParam?.(r[0],r,t[0],t):void 0}var mg,nl,wi,wd,sl,Fc,TP,fre=(TP=class extends qM{constructor(r){super();er(this,sl);er(this,mg);er(this,nl);er(this,wi);er(this,wd);Ct(this,mg,r.client),this.mutationId=r.mutationId,Ct(this,wi,r.mutationCache),Ct(this,nl,[]),this.state=r.state||ZM(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Ne(this,nl).includes(r)||(Ne(this,nl).push(r),this.clearGcTimeout(),Ne(this,wi).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Ct(this,nl,Ne(this,nl).filter(t=>t!==r)),this.scheduleGc(),Ne(this,wi).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Ne(this,nl).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,wi).remove(this))}continue(){return Ne(this,wd)?.continue()??this.execute(this.state.variables)}async execute(r){const t=()=>{Fr(this,sl,Fc).call(this,{type:"continue"})},s={client:Ne(this,mg),meta:this.options.meta,mutationKey:this.options.mutationKey};Ct(this,wd,WM({fn:()=>this.options.mutationFn?this.options.mutationFn(r,s):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{Fr(this,sl,Fc).call(this,{type:"failed",failureCount:a,error:l})},onPause:()=>{Fr(this,sl,Fc).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,wi).canRun(this)}));const n=this.state.status==="pending",i=!Ne(this,wd).canStart();try{if(n)t();else{Fr(this,sl,Fc).call(this,{type:"pending",variables:r,isPaused:i}),Ne(this,wi).config.onMutate&&await Ne(this,wi).config.onMutate(r,this,s);const l=await this.options.onMutate?.(r,s);l!==this.state.context&&Fr(this,sl,Fc).call(this,{type:"pending",context:l,variables:r,isPaused:i})}const a=await Ne(this,wd).start();return await Ne(this,wi).config.onSuccess?.(a,r,this.state.context,this,s),await this.options.onSuccess?.(a,r,this.state.context,s),await Ne(this,wi).config.onSettled?.(a,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(a,null,r,this.state.context,s),Fr(this,sl,Fc).call(this,{type:"success",data:a}),a}catch(a){try{await Ne(this,wi).config.onError?.(a,r,this.state.context,this,s)}catch(l){Promise.reject(l)}try{await this.options.onError?.(a,r,this.state.context,s)}catch(l){Promise.reject(l)}try{await Ne(this,wi).config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,s)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,a,r,this.state.context,s)}catch(l){Promise.reject(l)}throw Fr(this,sl,Fc).call(this,{type:"error",error:a}),a}finally{Ne(this,wi).runNext(this)}}},mg=new WeakMap,nl=new WeakMap,wi=new WeakMap,wd=new WeakMap,sl=new WeakSet,Fc=function(r){const t=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ds.batch(()=>{Ne(this,nl).forEach(s=>{s.onMutationUpdate(r)}),Ne(this,wi).notify({mutation:this,type:"updated",action:r})})},TP);function ZM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hl,Eo,gg,EP,hre=(EP=class extends Uh{constructor(r={}){super();er(this,Hl);er(this,Eo);er(this,gg);this.config=r,Ct(this,Hl,new Set),Ct(this,Eo,new Map),Ct(this,gg,0)}build(r,t,s){const n=new fre({client:r,mutationCache:this,mutationId:++ky(this,gg)._,options:r.defaultMutationOptions(t),state:s});return this.add(n),n}add(r){Ne(this,Hl).add(r);const t=jy(r);if(typeof t=="string"){const s=Ne(this,Eo).get(t);s?s.push(r):Ne(this,Eo).set(t,[r])}this.notify({type:"added",mutation:r})}remove(r){if(Ne(this,Hl).delete(r)){const t=jy(r);if(typeof t=="string"){const s=Ne(this,Eo).get(t);if(s)if(s.length>1){const n=s.indexOf(r);n!==-1&&s.splice(n,1)}else s[0]===r&&Ne(this,Eo).delete(t)}}this.notify({type:"removed",mutation:r})}canRun(r){const t=jy(r);if(typeof t=="string"){const n=Ne(this,Eo).get(t)?.find(i=>i.state.status==="pending");return!n||n===r}else return!0}runNext(r){const t=jy(r);return typeof t=="string"?Ne(this,Eo).get(t)?.find(n=>n!==r&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ds.batch(()=>{Ne(this,Hl).forEach(r=>{this.notify({type:"removed",mutation:r})}),Ne(this,Hl).clear(),Ne(this,Eo).clear()})}getAll(){return Array.from(Ne(this,Hl))}find(r){const t={exact:!0,...r};return this.getAll().find(s=>j8(t,s))}findAll(r={}){return this.getAll().filter(t=>j8(r,t))}notify(r){Ds.batch(()=>{this.listeners.forEach(t=>{t(r)})})}resumePausedMutations(){const r=this.getAll().filter(t=>t.state.isPaused);return Ds.batch(()=>Promise.all(r.map(t=>t.continue().catch(Ui))))}},Hl=new WeakMap,Eo=new WeakMap,gg=new WeakMap,EP);function jy(e){return e.options.scope?.id}var Kl,Kc,aa,Zl,nc,Jy,ak,AP,pre=(AP=class extends Uh{constructor(t,s){super();er(this,nc);er(this,Kl);er(this,Kc);er(this,aa);er(this,Zl);Ct(this,Kl,t),this.setOptions(s),this.bindMethods(),Fr(this,nc,Jy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=Ne(this,Kl).defaultMutationOptions(t),Cb(this.options,s)||Ne(this,Kl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ne(this,aa),observer:this}),s?.mutationKey&&this.options.mutationKey&&Ed(s.mutationKey)!==Ed(this.options.mutationKey)?this.reset():Ne(this,aa)?.state.status==="pending"&&Ne(this,aa).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Ne(this,aa)?.removeObserver(this)}onMutationUpdate(t){Fr(this,nc,Jy).call(this),Fr(this,nc,ak).call(this,t)}getCurrentResult(){return Ne(this,Kc)}reset(){Ne(this,aa)?.removeObserver(this),Ct(this,aa,void 0),Fr(this,nc,Jy).call(this),Fr(this,nc,ak).call(this)}mutate(t,s){return Ct(this,Zl,s),Ne(this,aa)?.removeObserver(this),Ct(this,aa,Ne(this,Kl).getMutationCache().build(Ne(this,Kl),this.options)),Ne(this,aa).addObserver(this),Ne(this,aa).execute(t)}},Kl=new WeakMap,Kc=new WeakMap,aa=new WeakMap,Zl=new WeakMap,nc=new WeakSet,Jy=function(){const t=Ne(this,aa)?.state??ZM();Ct(this,Kc,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ak=function(t){Ds.batch(()=>{if(Ne(this,Zl)&&this.hasListeners()){const s=Ne(this,Kc).variables,n=Ne(this,Kc).context,i={client:Ne(this,Kl),meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{Ne(this,Zl).onSuccess?.(t.data,s,n,i)}catch(a){Promise.reject(a)}try{Ne(this,Zl).onSettled?.(t.data,null,s,n,i)}catch(a){Promise.reject(a)}}else if(t?.type==="error"){try{Ne(this,Zl).onError?.(t.error,s,n,i)}catch(a){Promise.reject(a)}try{Ne(this,Zl).onSettled?.(void 0,t.error,s,n,i)}catch(a){Promise.reject(a)}}}this.listeners.forEach(s=>{s(Ne(this,Kc))})})},AP),il,PP,mre=(PP=class extends Uh{constructor(r={}){super();er(this,il);this.config=r,Ct(this,il,new Map)}build(r,t,s){const n=t.queryKey,i=t.queryHash??G4(n,t);let a=this.get(i);return a||(a=new ore({client:r,queryKey:n,queryHash:i,options:r.defaultQueryOptions(t),state:s,defaultOptions:r.getQueryDefaults(n)}),this.add(a)),a}add(r){Ne(this,il).has(r.queryHash)||(Ne(this,il).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const t=Ne(this,il).get(r.queryHash);t&&(r.destroy(),t===r&&Ne(this,il).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Ds.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return Ne(this,il).get(r)}getAll(){return[...Ne(this,il).values()]}find(r){const t={exact:!0,...r};return this.getAll().find(s=>S8(t,s))}findAll(r={}){const t=this.getAll();return Object.keys(r).length>0?t.filter(s=>S8(r,s)):t}notify(r){Ds.batch(()=>{this.listeners.forEach(t=>{t(r)})})}onFocus(){Ds.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Ds.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},il=new WeakMap,PP),is,Zc,Gc,hh,ph,Xc,mh,gh,IP,gre=(IP=class{constructor(e={}){er(this,is);er(this,Zc);er(this,Gc);er(this,hh);er(this,ph);er(this,Xc);er(this,mh);er(this,gh);Ct(this,is,e.queryCache||new mre),Ct(this,Zc,e.mutationCache||new hre),Ct(this,Gc,e.defaultOptions||{}),Ct(this,hh,new Map),Ct(this,ph,new Map),Ct(this,Xc,0)}mount(){ky(this,Xc)._++,Ne(this,Xc)===1&&(Ct(this,mh,Y4.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ne(this,is).onFocus())})),Ct(this,gh,Tb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ne(this,is).onOnline())})))}unmount(){var e,r;ky(this,Xc)._--,Ne(this,Xc)===0&&((e=Ne(this,mh))==null||e.call(this),Ct(this,mh,void 0),(r=Ne(this,gh))==null||r.call(this),Ct(this,gh,void 0))}isFetching(e){return Ne(this,is).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ne(this,Zc).findAll({...e,status:"pending"}).length}getQueryData(e){const r=this.defaultQueryOptions({queryKey:e});return Ne(this,is).get(r.queryHash)?.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),t=Ne(this,is).build(this,r),s=t.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(Jc(r.staleTime,t))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return Ne(this,is).findAll(e).map(({queryKey:r,state:t})=>{const s=t.data;return[r,s]})}setQueryData(e,r,t){const s=this.defaultQueryOptions({queryKey:e}),i=Ne(this,is).get(s.queryHash)?.state.data,a=Xte(r,i);if(a!==void 0)return Ne(this,is).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(e,r,t){return Ds.batch(()=>Ne(this,is).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,t)]))}getQueryState(e){const r=this.defaultQueryOptions({queryKey:e});return Ne(this,is).get(r.queryHash)?.state}removeQueries(e){const r=Ne(this,is);Ds.batch(()=>{r.findAll(e).forEach(t=>{r.remove(t)})})}resetQueries(e,r){const t=Ne(this,is);return Ds.batch(()=>(t.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const t={revert:!0,...r},s=Ds.batch(()=>Ne(this,is).findAll(e).map(n=>n.cancel(t)));return Promise.all(s).then(Ui).catch(Ui)}invalidateQueries(e,r={}){return Ds.batch(()=>(Ne(this,is).findAll(e).forEach(t=>{t.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},r)))}refetchQueries(e,r={}){const t={...r,cancelRefetch:r.cancelRefetch??!0},s=Ds.batch(()=>Ne(this,is).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(Ui)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ui)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const t=Ne(this,is).build(this,r);return t.isStaleByTime(Jc(r.staleTime,t))?t.fetch(r):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ui).catch(Ui)}fetchInfiniteQuery(e){return e.behavior=I8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ui).catch(Ui)}ensureInfiniteQueryData(e){return e.behavior=I8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tb.isOnline()?Ne(this,Zc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,is)}getMutationCache(){return Ne(this,Zc)}getDefaultOptions(){return Ne(this,Gc)}setDefaultOptions(e){Ct(this,Gc,e)}setQueryDefaults(e,r){Ne(this,hh).set(Ed(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...Ne(this,hh).values()],t={};return r.forEach(s=>{Nm(e,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(e,r){Ne(this,ph).set(Ed(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...Ne(this,ph).values()],t={};return r.forEach(s=>{Nm(e,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const r={...Ne(this,Gc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=G4(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===X4&&(r.enabled=!1),r}defaultMutationOptions(e){return e?._defaulted?e:{...Ne(this,Gc).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ne(this,is).clear(),Ne(this,Zc).clear()}},is=new WeakMap,Zc=new WeakMap,Gc=new WeakMap,hh=new WeakMap,ph=new WeakMap,Xc=new WeakMap,mh=new WeakMap,gh=new WeakMap,IP),GM=E.createContext(void 0),Ss=e=>{const r=E.useContext(GM);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},yre=({client:e,children:r})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(GM.Provider,{value:e,children:r})),XM=E.createContext(!1),bre=()=>E.useContext(XM);XM.Provider;function vre(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xre=E.createContext(vre()),wre=()=>E.useContext(xre),_re=(e,r,t)=>{const s=t?.state.error&&typeof e.throwOnError=="function"?Q4(e.throwOnError,[t.state.error,t]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(r.isReset()||(e.retryOnMount=!1))},kre=e=>{E.useEffect(()=>{e.clearReset()},[e])},Sre=({result:e,errorResetBoundary:r,throwOnError:t,query:s,suspense:n})=>e.isError&&!r.isReset()&&!e.isFetching&&s&&(n&&e.data===void 0||Q4(t,[e.error,s])),jre=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...n)=>t(s(...n)):t(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Nre=(e,r)=>e.isLoading&&e.isFetching&&!r,Cre=(e,r)=>e?.suspense&&r.isPending,M8=(e,r,t)=>r.fetchOptimistic(e).catch(()=>{t.clearReset()});function Tre(e,r,t){const s=bre(),n=wre(),i=Ss(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const l=i.getQueryCache().get(a.queryHash);a._optimisticResults=s?"isRestoring":"optimistic",jre(a),_re(a,n,l),kre(n);const u=!i.getQueryCache().get(a.queryHash),[c]=E.useState(()=>new r(i,a)),d=c.getOptimisticResult(a),p=!s&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(f=>{const h=p?c.subscribe(Ds.batchCalls(f)):Ui;return c.updateResult(),h},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(a)},[a,c]),Cre(a,d))throw M8(a,c,n);if(Sre({result:d,errorResetBoundary:n,throwOnError:a.throwOnError,query:l,suspense:a.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Td&&Nre(d,s)&&(u?M8(a,c,n):l?.promise)?.catch(Ui).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?d:c.trackResult(d)}function xt(e,r){return Tre(e,lre)}function Pt(e,r){const t=Ss(),[s]=E.useState(()=>new pre(t,e));E.useEffect(()=>{s.setOptions(e)},[s,e]);const n=E.useSyncExternalStore(E.useCallback(a=>s.subscribe(Ds.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=E.useCallback((a,l)=>{s.mutate(a,l).catch(Ui)},[s]);if(n.error&&Q4(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function hc(){try{const e=wl.getPlatform();return e==="android"||e==="ios"}catch{return!1}}let dm=null;async function pc(){const{getDB:e}=await on(async()=>{const{getDB:r}=await Promise.resolve().then(()=>Nte);return{getDB:r}},void 0);return await e()}async function jv(){dm||(dm=hc()?Fo.waitForReady():pc().then(()=>{})),await dm}async function Cu(){dm?await dm:await jv()}async function uo(e,r){if(await Cu(),hc())return await Fo.get(e,r);const t=await pc();try{return await t.get(e,r)}catch{return null}}async function Gi(e){if(await Cu(),hc())return await Fo.getAll(e);const r=await pc();try{return await r.getAll(e)}catch{return[]}}async function Pi(e,r){await Cu();const t=(r.id||r.key||"").toString();t&&(hc()?await Fo.set(e,t,r):await(await pc()).put(e,r))}async function bg(e,r){await Cu();const t=(r.id||r.key||"").toString();t&&(hc()?await Fo.set(e,t,r):await(await pc()).add(e,r))}async function vg(e,r){await Cu(),hc()?await Fo.delete(e,r):await(await pc()).delete(e,r)}async function eS(e){if(await Cu(),hc())await Fo.clearTable(e);else{const r=await pc();try{await r.clear(e)}catch(t){console.warn(`[smartClear] Failed to clear ${e}:`,t)}}}async function kd(e){if(await Cu(),hc())return await Fo.count(e);const r=await pc();try{return await r.count(e)}catch{return 0}}async function eu(e,r){if(!r||r.length===0)return 0;if(await Cu(),hc()){let t=0;for(const s of r)if(s&&(s.id||s.key)){const n=(s.id||s.key).toString();await Fo.set(e,n,s),t++}return t}else{const t=await pc();let s=0;try{const n=t.transaction(e,"readwrite"),i=n.objectStore(e);for(const a of r)if(a&&(a.id||a.key))try{i.put(a),s++}catch(l){console.warn(`[smartSave] Failed to put record in ${e}:`,l)}await n.done}catch(n){console.warn(`[smartSave] Transaction failed for ${e}, falling back to individual puts:`,n);for(const i of r)if(i&&(i.id||i.key))try{await t.put(e,i),s++}catch(a){console.warn(`[smartSave] Fallback put failed in ${e}:`,a)}}return s}}const Cm=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:jv,smartAdd:bg,smartClear:eS,smartCount:kd,smartDelete:vg,smartGet:uo,smartGetAll:Gi,smartPut:Pi,smartSave:eu},Symbol.toStringTag,{value:"Module"}));function R8(){return typeof navigator<"u"?navigator.onLine:!0}var Ere={};const c2="https://app2.binarjoinanelytic.info";function u2(){if(typeof window>"u")return!1;const e=window.Capacitor;if(e?.isNativePlatform?.()||e?.isNative===!0||e?.getPlatform?.()==="android"||e?.getPlatform?.()==="ios")return!0;const r=window.location.protocol;return r==="capacitor:"||r==="ionic:"}const bh={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info"||u2():!0,isAndroid:typeof window<"u"&&u2(),getApiBaseUrl:()=>{if(typeof window>"u")return Ere.VITE_API_BASE_URL||"";if(u2())return c2;const e=window.location.hostname;return e==="binarjoinanelytic.info"||e==="www.binarjoinanelytic.info"||e==="app2.binarjoinanelytic.info"?c2:""},getExternalServerUrl:()=>c2},li=[];for(let e=0;e<256;++e)li.push((e+256).toString(16).slice(1));function Are(e,r=0){return(li[e[r+0]]+li[e[r+1]]+li[e[r+2]]+li[e[r+3]]+"-"+li[e[r+4]]+li[e[r+5]]+"-"+li[e[r+6]]+li[e[r+7]]+"-"+li[e[r+8]]+li[e[r+9]]+"-"+li[e[r+10]]+li[e[r+11]]+li[e[r+12]]+li[e[r+13]]+li[e[r+14]]+li[e[r+15]]).toLowerCase()}let d2;const Pre=new Uint8Array(16);function Ire(){if(!d2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");d2=crypto.getRandomValues.bind(crypto)}return d2(Pre)}const Dre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$8={randomUUID:Dre};function Mre(e,r,t){e=e||{};const s=e.random??e.rng?.()??Ire();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Are(s)}function xg(e,r,t){return $8.randomUUID&&!e?$8.randomUUID():Mre(e)}function Rre(e,r,t){const s=t.id||t.transferNumber||"";return`${e}:${r}:${s}`}function $re(e){const r=["transferDate","selectedDate","date","paymentDate","attendanceDate","expenseDate"],t={...e};for(const s of r)if(t[s]){const n=t[s];typeof n=="string"&&n.includes("T")?t[s]=n.split("T")[0]:n instanceof Date?t[s]=n.toISOString().split("T")[0]:typeof n=="number"&&(t[s]=new Date(n).toISOString().split("T")[0])}return t.selectedDate&&!t.transferDate&&(t.transferDate=t.selectedDate),t}function Nv(e){const r=[];return e.transferNumber&&r.push(`: ${e.transferNumber}`),e.amount&&r.push(`: ${e.amount}`),e.name&&r.push(`: ${e.name}`),e.projectId&&r.push(`: ${e.projectId}`),e.id&&r.push(`ID: ${String(e.id).substring(0,8)}`),r.join(" | ")||" "}async function Qf(e,r,t){t=$re(t);const s=Rre(e,r,t),i=(await Gi("syncQueue")).find(u=>u.idempotencyKey===s&&u.status!=="failed"&&u.status!=="duplicate-resolved");if(i)return console.log(` [Queue]    : ${s}`),e==="update"&&(i.payload={...i.payload,...t},i.timestamp=Date.now(),await Pi("syncQueue",i),console.log(` [Queue]   payload  : ${i.id}`)),i.id;const a=xg(),l={id:a,action:e,endpoint:r,payload:t,timestamp:Date.now(),retries:0,status:"pending",idempotencyKey:s};return await bg("syncQueue",l),a}async function hu(){return(await Gi("syncQueue")).filter(r=>r.status==="pending"||r.status==="failed"||!r.status).sort((r,t)=>r.timestamp-t.timestamp)}async function Ore(){return(await Gi("syncQueue")).sort((r,t)=>t.timestamp-r.timestamp)}async function Cv(e){await vg("syncQueue",e)}async function tS(e){const r=await uo("syncQueue",e);r&&(r.status="in-flight",r.lastAttemptAt=Date.now(),await Pi("syncQueue",r))}async function Gl(e,r,t){const s=await uo("syncQueue",e);s&&(s.status="failed",s.retries=(s.retries||0)+1,s.lastError=r,s.errorType=t||"unknown",s.lastAttemptAt=Date.now(),await Pi("syncQueue",s))}async function QM(e,r){const t=await uo("syncQueue",e);t&&(t.status="duplicate-resolved",t.lastError=r,t.lastAttemptAt=Date.now(),await Pi("syncQueue",t),await ao({queueItemId:e,action:t.action,endpoint:t.endpoint,status:"duplicate",errorMessage:r,payloadSummary:Nv(t.payload),retryCount:t.retries}))}async function Fre(e){const r=await uo("syncQueue",e);r&&await ao({queueItemId:e,action:r.action,endpoint:r.endpoint,status:"skipped",errorMessage:"    ",payloadSummary:Nv(r.payload),retryCount:r.retries}),await vg("syncQueue",e)}async function Lre(){const e=await hu(),r=e.length;for(const t of e)await ao({queueItemId:t.id,action:t.action,endpoint:t.endpoint,status:"skipped",errorMessage:"   ( )",payloadSummary:Nv(t.payload),retryCount:t.retries});return await eS("syncQueue"),r}async function ao(e){const r={id:xg(),timestamp:Date.now(),...e};try{await bg("syncHistory",r);const t=await Gi("syncHistory");if(t.length>500){const n=t.sort((i,a)=>a.timestamp-i.timestamp).slice(500);for(const i of n)await vg("syncHistory",i.id)}}catch(t){console.warn(" [SyncLog]   :",t)}}async function YM(e=50){try{return(await Gi("syncHistory")).sort((t,s)=>s.timestamp-t.timestamp).slice(0,e)}catch{return[]}}async function JM(){return(await Gi("syncQueue")).filter(r=>r.status==="failed"||r.status==="conflict").sort((r,t)=>t.lastAttemptAt-r.lastAttemptAt)}async function zre(){return(await Gi("syncQueue")).filter(r=>r.status==="duplicate-resolved").sort((r,t)=>t.lastAttemptAt-r.lastAttemptAt)}async function Bre(e){const r=await uo("syncQueue",e);r&&(r.status==="failed"||r.status==="conflict")&&(r.status="pending",r.lastError=void 0,await Pi("syncQueue",r))}async function Ure(){const e=await JM();let r=0;for(const t of e)t.status="pending",t.lastError=void 0,await Pi("syncQueue",t),r++;return r}async function Vre(){const e=await kd("syncQueue"),r=await kd("userData"),t=await Gi("syncQueue"),s=t.filter(c=>c.status==="failed"||c.status==="conflict").length,n=t.filter(c=>c.status==="duplicate-resolved").length;let i=[];try{i=await YM(100)}catch{}const a=i.filter(c=>c.status==="success").length,l=i.filter(c=>c.status==="failed").length,u=await kd("deadLetterQueue");return{pendingSync:e-s-n,failedSync:s,duplicateResolved:n,deadLetterCount:u,localUserData:r,totalSuccessful:a,totalRecentFailures:l,lastUpdate:Date.now()}}async function ok(e){const r={id:xg(),originalId:e.id,action:e.action,endpoint:e.endpoint,payload:e.payload,timestamp:e.timestamp,movedAt:Date.now(),totalRetries:e.retries,lastError:e.lastError||"   ",errorType:e.errorType||"max_retries",idempotencyKey:e.idempotencyKey};await bg("deadLetterQueue",r),await Cv(e.id),await ao({queueItemId:e.id,action:e.action,endpoint:e.endpoint,status:"failed",errorMessage:`       ${e.retries} `,payloadSummary:Nv(e.payload),retryCount:e.retries})}let f2=!1;const fm={maxRetries:8,baseDelayMs:500,maxDelayMs:6e4,jitterFactor:.3,nonRetryableStatuses:[400,401,403,404,422]};function eb(e){const r=fm.baseDelayMs*Math.pow(2,e),t=Math.min(r,fm.maxDelayMs),s=t*fm.jitterFactor*(Math.random()*2-1);return Math.max(0,Math.round(t+s))}function eR(e){return e===409?!1:!fm.nonRetryableStatuses.includes(e)}async function tb(){if(!f2){f2=!0;try{await qre()}finally{f2=!1}}}function tR(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const r=e?.message||String(e),t=r.match(/status:\s*(\d{3})/i);return t?parseInt(t[1],10):r.includes(" ")||r.includes("duplicate")||r.includes("already exists")?409:r.includes(" ")||r.includes("validation")||r.includes("")?400:0}function Uf(e){const r=[];return e.transferNumber&&r.push(`: ${e.transferNumber}`),e.amount&&r.push(`: ${e.amount}`),e.id&&r.push(`ID: ${String(e.id).substring(0,8)}`),r.join(" | ")||" "}async function Wre(e,r){const t=Date.now();console.log(`[Silent-Sync]   ${e} (${r.length} )...`);for(const s of r)await tS(s.id);try{const s=r.map(a=>({action:a.action==="create"?"POST":a.action==="update"?"PATCH":"DELETE",endpoint:a.endpoint,payload:a.payload})),n=`batch:${e}:${r[0]?.retries||0}`,i=await qe("/api/sync/batch","POST",{operations:s},0,{"x-idempotency-key":n});if(i&&i.success){for(const a of r)await Cv(a.id),await lk(a,!0),await ao({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"success",duration:Date.now()-t,payloadSummary:Uf(a.payload),retryCount:a.retries});console.log(`[Silent-Sync]  ${e}  (${Date.now()-t}ms)`)}else{const a=i?.message||i?.error||" ";throw new Error(a)}}catch(s){const n=tR(s),i=s?.message||String(s);console.error(`[Silent-Sync]   ${e}:`,i);for(const a of r){if(!eR(n)&&n>0)await ok({...a,retries:a.retries+1,lastError:i,errorType:"validation"});else{const l=Date.now()+eb(a.retries+1);await Gl(a.id,i,"batch");const u=await uo("syncQueue",a.id);u&&(u.nextRetryAt=l,await Pi("syncQueue",u))}await ao({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:Date.now()-t,errorMessage:i,errorCode:String(n),payloadSummary:Uf(a.payload),retryCount:a.retries+1})}}}async function qre(){const e=await hu();if(e.length===0)return;const r=Date.now(),t=e.filter(i=>!(i.nextRetryAt&&i.nextRetryAt>r));if(t.length===0)return;const s=new Map,n=[];for(const i of t)i.batchId?(s.has(i.batchId)||s.set(i.batchId,[]),s.get(i.batchId).push(i)):n.push(i);console.log(`[Silent-Sync]   ${t.length}  (${s.size}  ${n.length} )   ${e.length}...`);for(const[i,a]of s)await Wre(i,a);for(const i of n)try{if(i.retries>=fm.maxRetries){console.warn(`[Silent-Sync]  ${i.id}  DLQ  ${i.retries} `),await ok(i);continue}if(await tS(i.id),i.retries>0){const d=eb(i.retries);await new Promise(p=>setTimeout(p,d))}else await new Promise(d=>setTimeout(d,100));const a=i.action==="create"?"POST":i.action==="update"?"PATCH":"DELETE",l=Date.now();let u;try{const d=i.idempotencyKey||`sync:${i.id}:${i.retries}`;u=await qe(i.endpoint,a,i.payload,0,{"x-idempotency-key":d})}catch(d){const p=tR(d),f=d?.message||d?.error||String(d);if(p===409){console.log(`[Silent-Sync]   (409): ${i.id}`),await QM(i.id,f),await lk(i,!0);continue}if(!eR(p)){console.error(`[Silent-Sync]     (${p}): ${i.id}`),await ok({...i,retries:i.retries+1,lastError:f,errorType:"validation"}),await ao({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-l,errorMessage:`  DLQ: ${f}`,errorCode:String(p),payloadSummary:Uf(i.payload),retryCount:i.retries+1});continue}const h=Date.now()+eb(i.retries+1);await Gl(i.id,f,"network");const g=await uo("syncQueue",i.id);g&&(g.nextRetryAt=h,await Pi("syncQueue",g)),await ao({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:Date.now()-l,errorMessage:f,errorCode:String(p),payloadSummary:Uf(i.payload),retryCount:i.retries+1});continue}const c=Date.now()-l;if(u&&u.success!==!1)await Cv(i.id),await lk(i,!0),await ao({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"success",duration:c,payloadSummary:Uf(i.payload),retryCount:i.retries}),console.log(`[Silent-Sync] : ${i.id} (${c}ms)`);else{const d=u?.message||u?.error||"  ",p=Date.now()+eb(i.retries+1);await Gl(i.id,d,"server");const f=await uo("syncQueue",i.id);f&&(f.nextRetryAt=p,await Pi("syncQueue",f)),await ao({queueItemId:i.id,action:i.action,endpoint:i.endpoint,status:"failed",duration:c,errorMessage:d,payloadSummary:Uf(i.payload),retryCount:i.retries+1})}}catch(a){console.error(`[Silent-Sync]    ${i.id}:`,a),await Gl(i.id,a.message||String(a),"unknown")}}async function lk(e,r){try{const t=e.endpoint.split("/")[2],s=e.payload?.id;if(!t||!s)return;const n=await uo(t,s);n&&(n._pendingSync=!r,n._isLocal=!r,await Pi(t,n))}catch{}}let O8=null,F8=null;function Hre(e=3e4){O8===null&&(tb(),O8=setInterval(()=>{navigator.onLine&&tb()},e),F8=()=>{tb()},window.addEventListener("online",F8))}let rb=0,ck="0";async function Kre(e){const r=new TextEncoder,t=await crypto.subtle.digest("SHA-256",r.encode(e));return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}async function Zre(){const e=await Gi("localAuditLog");if(e.length>0){const r=e.sort((t,s)=>s.sequence-t.sequence);rb=r[0].sequence,ck=r[0].hash}}async function rS(e,r,t,s){rb++;const n=ck,i=Date.now(),a=`${rb}:${e}:${r}:${t}:${n}:${i}`,l=await Kre(a),u={id:xg(),action:e,entityType:r,entityId:t,payload:{...s},timestamp:i,sequence:rb,hash:l,previousHash:n};await bg("localAuditLog",u),ck=l}const rR={"/api/fund-transfers":"fundTransfers","/api/worker-attendance":"workerAttendance","/api/transportation-expenses":"transportationExpenses","/api/material-purchases":"materialPurchases","/api/worker-transfers":"workerTransfers","/api/worker-misc-expenses":"workerMiscExpenses","/api/workers":"workers","/api/projects":"projects","/api/suppliers":"suppliers","/api/materials":"materials","/api/wells":"wells","/api/project-types":"projectTypes","/api/autocomplete":"autocompleteData","/api/supplier-payments":"supplierPayments"};function nR(e){const r=e.split("?")[0];for(const[t,s]of Object.entries(rR))if(r===t||r.startsWith(t+"/"))return s;return r.startsWith("/api/projects/")&&r.includes("/fund-transfers")?"fundTransfers":r.startsWith("/api/projects/")&&r.includes("/worker-attendance")?"workerAttendance":r.startsWith("/api/projects/")&&r.includes("/material-purchases")?"materialPurchases":r.startsWith("/api/projects/")&&r.includes("/transportation")?"transportationExpenses":(r.startsWith("/api/projects/")&&r.includes("/daily-expenses"),null)}function nS(e){const r=e.split("?")[0];r.split("/");for(const[t]of Object.entries(rR))if(r.startsWith(t+"/")){const n=r.substring(t.length+1).split("/")[0];if(n&&n.length>0)return n}return null}async function L8(e,r,t){const s=nR(e);if(!s)throw new Error(`[Offline]    ${e}  `);if(r==="POST")return Gre(e,s,t);if(r==="PATCH"||r==="PUT")return Xre(e,s,t);if(r==="DELETE")return Qre(e,s);if(r==="GET")return Yre(e,s);throw new Error(`[Offline]  ${r}    `)}async function Gre(e,r,t){const s=t?.id||xg(),n={...t,id:s,_isLocal:!0,_pendingSync:!0,_offlineCreatedAt:Date.now(),createdAt:t?.createdAt||new Date().toISOString()};return await Pi(r,n),await Qf("create",e,n),rS("create",r,s,n).catch(i=>console.warn("[Audit]  :",i)),{success:!0,data:{success:!0,data:n,message:"  "},isOffline:!0,pendingSync:!0}}async function Xre(e,r,t){const s=nS(e)||t?.id;if(!s)throw new Error("[Offline]     ");const i={...await uo(r,s)||{},...t,id:s,_pendingSync:!0,_offlineUpdatedAt:Date.now(),updatedAt:new Date().toISOString()};return await Pi(r,i),await Qf("update",e,i),rS("update",r,s,i).catch(a=>console.warn("[Audit]  :",a)),{success:!0,data:{success:!0,data:i,message:"  "},isOffline:!0,pendingSync:!0}}async function Qre(e,r){const t=nS(e);if(!t)throw new Error("[Offline]     ");return await vg(r,t),await Qf("delete",e,{id:t}),rS("delete",r,t,{id:t}).catch(s=>console.warn("[Audit]  :",s)),{success:!0,data:{success:!0,message:"  "},isOffline:!0,pendingSync:!0}}async function Yre(e,r){const t=nS(e);if(t){const n=await uo(r,t);return{success:!!n,data:n?{success:!0,data:n}:{success:!1,data:null},isOffline:!0,pendingSync:!1}}const s=await Gi(r);return{success:!0,data:{success:!0,data:s,count:s.length},isOffline:!0,pendingSync:!1}}function z8(e){return nR(e)!==null}const ve={projects:["/api/projects"],projectsWithStats:["/api/projects/with-stats"],projectTypes:["/api/project-types"],materials:["/api/materials"],suppliers:["/api/suppliers"],workers:["/api/workers"],workerTypes:["/api/worker-types"],notifications:["/api/notifications"],autocomplete:["/api/autocomplete"],tasks:["/api/tasks"],transportationExpenses:["/api/transportation-expenses"],workerMiscExpenses:["/api/worker-misc-expenses"],financialSummary:["/api/financial-summary"],healthStats:["/api/health/stats"],users:["/api/users"],usersList:["/api/users/list"],aiSessions:["/api/ai/sessions"],backupsStatus:["/api/backups/status"],backupsLogs:["/api/backups/logs"],backupsDatabases:["/api/backups/databases"],equipment:["equipment"],equipmentMovements:["equipment-movements"],wells:["wells"],recentActivities:["/api/recent-activities"],recentActivitiesByProject:e=>["/api/recent-activities",e],healthFull:["/api/health/full"],incidents:["/api/incidents"],metricsSummary:["/api/metrics/summary"],aiAccess:["/api/ai/access"],dbConnections:["/api/db/connections"],dbStats:["/api/stats"],adminDataHealth:["/api/admin/data-health"],autocompleteTransportCategories:["/api/autocomplete/transport-categories"],autocompleteTransactionCategories:["/api/autocomplete/transaction-categories"],syncProjects:["/api/projects"],syncAuditLogs:["/api/sync-audit/logs"],syncAuditStats:["/api/sync-audit/stats"],syncAuditModules:["/api/sync-audit/modules"],syncAuditLogsFiltered:e=>["/api/sync-audit/logs",e],projectTransportation:(e,r,t)=>["/api/projects",e,"transportation",r,t].filter(Boolean),projectFundTransfersFiltered:(e,r)=>["/api/projects",e,"fund-transfers",r].filter(t=>t!==void 0),projectFundTransfersIncoming:(e,r)=>["/api/projects",e,"fund-transfers","incoming",r].filter(t=>t!==void 0),projectFundTransfersOutgoing:(e,r)=>["/api/projects",e,"fund-transfers","outgoing",r].filter(t=>t!==void 0),projectWorkerAttendanceFiltered:(e,r)=>["/api/projects",e,"worker-attendance",r].filter(t=>t!==void 0),projectMaterialPurchasesFiltered:(e,r)=>["/api/projects",e,"material-purchases",r].filter(t=>t!==void 0),transportationExpensesFiltered:(e,r)=>["/api/transportation-expenses",e,r].filter(t=>t!==void 0),workerMiscExpensesFiltered:(e,r)=>["/api/worker-misc-expenses",e,r].filter(Boolean),workerTransfersFiltered:(e,r)=>["/api/worker-transfers",e,r].filter(t=>t!==void 0),workerStats:(e,r)=>["/api/workers",e,"stats",r].filter(Boolean),projectAttendance:e=>["/api/projects",e,"attendance"],dailyExpensesComplex:(e,r,t)=>["/api/projects",e,r,t].filter(Boolean),materialPurchases:(e,r)=>["/api/projects",e,"material-purchases",r].filter(Boolean),workerAttendance:(e,r)=>["/api/projects",e,"worker-attendance",r].filter(Boolean),workerAttendanceAll:e=>["/api/projects",e,"worker-attendance"],dailyExpenses:(e,r)=>["/api/projects",e,"daily-expenses",r].filter(Boolean),previousBalance:(e,r)=>["/api/projects",e,"previous-balance",r].filter(Boolean),dailySummary:(e,r)=>["/api/projects",e,"daily-summary",r].filter(Boolean),projectStats:e=>["/api/projects",e,"stats"],workerTransfers:e=>["/api/worker-transfers",e],projectFundTransfers:["/api/project-fund-transfers"],allFundTransfers:["/api/projects/all/fund-transfers"],supplierStatistics:["/api/suppliers/statistics"],supplierStatisticsFiltered:(...e)=>["/api/suppliers/statistics",...e],materialPurchasesDateRange:["/api/material-purchases/date-range"],materialPurchasesFiltered:(...e)=>["/api/material-purchases",...e],dailyProjectTransfers:(e,r)=>["/api/daily-project-transfers",e,r].filter(Boolean),dailyExpenseSummaries:["/api/daily-expense-summaries"],wellTasks:e=>["well-tasks",e],wellExpenses:e=>["well-expenses",e],wellCostReport:e=>["well-cost-report",e],wellById:e=>["well",e],wellsByProject:e=>["wells",e],autocompleteCategory:e=>["autocomplete",e],autocompleteOwnerNames:e=>["autocomplete/ownerNames",e],autocompleteFanTypes:e=>["autocomplete/fanTypes",e],autocompletePumpPowers:e=>["autocomplete/pumpPowers",e],autocompleteTaskDescriptions:e=>["autocomplete/taskDescriptions",e],notificationsByUser:e=>["/api/notifications",e],adminNotifications:(...e)=>["admin-notifications",...e],userActivity:["user-activity"],metrics:["/api/metrics/current"],diagnostics:["/api/diagnostics/checks"],workerAttendanceEdit:e=>["/api/worker-attendance",e],materialPurchaseEdit:e=>["/api/material-purchases",e],reportsWorkerStatement:(...e)=>["/api/reports/worker-statement",...e],reportsDashboardKpis:(...e)=>["/api/reports/dashboard-kpis",...e],securityPolicies:["/api/security/policies"],securityViolations:["/api/security/violations"],securitySuggestions:["/api/security/suggestions"],projectCosts:e=>["project-costs",e],errorLogs:["/api/error-logs"],usersWithRoles:["/api/users","with-roles"],workerStatsSimple:e=>["/api/workers",e,"stats"],equipmentFiltered:(...e)=>["equipment",...e],equipmentMovementsById:e=>["equipment-movements",e],autocompleteAdmin:(...e)=>["autocomplete-admin",...e],autocompleteFanTypesPrefix:["autocomplete/fanTypes"],autocompletePumpPowersPrefix:["autocomplete/pumpPowers"],autocompleteOwnerNamesPrefix:["autocomplete/ownerNames"]};let uk=null;function B8(e){uk=e}function Jre(){return uk?uk.getAccessToken():localStorage.getItem("accessToken")}async function qe(e,r="GET",t,s=0,n){const i=bh.getApiBaseUrl();let a=e;if(!e.startsWith("http")){const d=e.startsWith("/")?e:`/${e}`;a=`${i}${d}`}const l=typeof window<"u"?localStorage.getItem("accessToken"):null;l||(console.warn(` [apiRequest]    : ${r} ${e}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&e.includes("/auth/login"));const u={"Content-Type":"application/json",...n||{}};l&&(u.Authorization=`Bearer ${l}`);const c={method:r,headers:u,credentials:"include"};t&&r!=="GET"&&(c.body=JSON.stringify(t));try{if(!navigator.onLine&&r!=="GET"&&z8(e)){console.log(` [apiRequest]   -   : ${r} ${e}`);const h=await L8(e,r,t);if(h.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:r,pendingSync:!0}})),{...h.data,isOffline:!0,pendingSync:!0}}console.log(` API Request: ${r} ${e}`,t||"");const d=await fetch(a,c),p=d.headers.get("content-type");if(d.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const h=localStorage.getItem("refreshToken");if(h&&s===0)try{const y=`${bh.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const m=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:h})});if(m.ok){const v=await m.json(),x=v.data?.accessToken||v.accessToken,k=v.data?.refreshToken||v.refreshToken;if(x){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",x),k&&localStorage.setItem("refreshToken",k);const T={...u,Authorization:`Bearer ${x}`},A={...c,headers:T},L=await fetch(a,A);if(!L.ok)throw new Error("    ");return await L.json()}}else console.error(" [apiRequest] Refresh response not OK:",m.status)}catch(g){console.error(" [apiRequest] Refresh failed:",g)}if(!window.location.pathname.includes("/login"))return console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),null;throw new Error(" ")}if(!d.ok){let h=`HTTP error! status: ${d.status}`;try{if(p&&p.includes("application/json"))h=(await d.json()).message||h;else{const g=await d.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:r,status:d.status,contentType:p,responsePreview:g.substring(0,200)})}}catch{}throw new Error(h)}if(!p||!p.includes("application/json")){const h=await d.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:e,method:r,status:d.status,contentType:p,responsePreview:h.substring(0,200)}),new Error(`   :  JSON    ${p}`)}const f=await d.json();return console.log(` API Response: ${r} ${e}`,f),f}catch(d){if(d instanceof TypeError&&(d.message.includes("Failed to fetch")||d.message.includes("NetworkError")||d.message.includes("Network request failed"))&&r!=="GET"&&z8(e)){console.log(` [apiRequest]   -   : ${r} ${e}`);try{const p=await L8(e,r,t);if(p.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:e,method:r,pendingSync:!0}})),{...p.data,isOffline:!0,pendingSync:!0}}catch(p){console.error(" [apiRequest]    :",p)}}throw console.error(` API Error: ${r} ${e}`,d),d}}const ene=({on401:e,useLocalFallback:r=!0})=>async({queryKey:t})=>{const s=bh.getApiBaseUrl(),n=t.join("/");let i=n;if(!n.startsWith("http"))if(s){const l=n.startsWith("/")?n:`/${n}`;i=`${s}${l}`}else n.startsWith("/")||(i=`/${n}`);async function a(l=0){const u=new AbortController,c=setTimeout(()=>u.abort(),3e4);try{const d=R8();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&r){console.log(` [QueryClient]   -     : ${t.join("/")}`);try{const y=t[0].startsWith("/api/")?t[0].substring(5):t[0],m=await Gi(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const p={},f=Jre();f&&(p.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${i}`,{hasToken:!!f,online:R8()});const h=await fetch(i,{headers:p,credentials:"include",signal:u.signal});if(clearTimeout(c),!h.ok){if(h.status===401&&l===0){console.log(" [QueryClient] 401 -   ...");const m=localStorage.getItem("refreshToken");if(m)try{const x=`${bh.getApiBaseUrl()}/api/auth/refresh`,k=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:m})});if(k.ok){const T=await k.json(),A=T.data?.accessToken||T.accessToken,L=T.data?.refreshToken||T.refreshToken;if(A)return console.log(" [QueryClient]      ..."),localStorage.setItem("accessToken",A),L&&localStorage.setItem("refreshToken",L),a(l+1)}}catch(v){console.error(" [QueryClient]   :",v)}throw console.error(" [QueryClient] Unauthorized (401) -  "),new Error("Authentication Error (401)")}if(h.status===401)throw new Error("Authentication Error (401)");const y=await h.json().catch(()=>({message:`Error ${h.status}`}));throw new Error(y?.message||`Error ${h.status}`)}const g=await h.json();if(console.log(` [QueryClient]    ${t.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${t.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof t[0]=="string"&&t[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${t.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${t.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${t.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${t.join("/")}:`,g),g}catch(d){throw clearTimeout(c),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${t.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${t.join("/")}`,d),d)}}return a()},Xu={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},Qs=new gre({defaultOptions:{queries:{queryFn:ene({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:!1,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:e=>e},mutations:{retry:1}}}),Qu=ve;async function tne(){console.log(" [Prefetch]     ...");const e=Date.now(),r=[Qs.prefetchQuery({queryKey:Qu.projects,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.projectsWithStats,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.workers,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.materials,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.suppliers,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.autocomplete,staleTime:Xu.REFERENCE_DATA}),Qs.prefetchQuery({queryKey:Qu.notifications,staleTime:Xu.ACTIVE_DATA})];try{await Promise.all(r);const t=Date.now()-e;console.log(` [Prefetch]       ${t}ms`)}catch(t){console.warn(" [Prefetch]    :",t)}}function rne(){console.log(" [Cache]    ..."),Qs.clear()}const nne=3,sne=5e3;let h2=0;function ine(){return h2=(h2+1)%Number.MAX_SAFE_INTEGER,h2.toString()}const p2=new Map,U8=e=>{if(p2.has(e))return;const r=setTimeout(()=>{p2.delete(e),hm({type:"REMOVE_TOAST",toastId:e})},sne);p2.set(e,r)},ane=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,nne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(t=>t.id===r.toast.id?{...t,...r.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=r;return t?U8(t):e.toasts.forEach(s=>{U8(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==r.toastId)}}},nb=[];let sb={toasts:[]};function hm(e){sb=ane(sb,e),nb.forEach(r=>{r(sb)})}function sS({...e}){const r=ine(),t=n=>hm({type:"UPDATE_TOAST",toast:{...n,id:r}}),s=()=>hm({type:"DISMISS_TOAST",toastId:r});return hm({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:n=>{n||s()}}}),{id:r,dismiss:s,update:t}}function pn(){const[e,r]=E.useState(sb);return E.useEffect(()=>(nb.push(r),()=>{const t=nb.indexOf(r);t>-1&&nb.splice(t,1)}),[e]),{...e,toast:sS,dismiss:t=>hm({type:"DISMISS_TOAST",toastId:t})}}var Zd=jM();const one=W4(Zd);function mt(e,r,{checkForDefaultPrevented:t=!0}={}){return function(n){if(e?.(n),t===!1||!n.defaultPrevented)return r?.(n)}}function V8(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Sl(...e){return r=>{let t=!1;const s=e.map(n=>{const i=V8(n,r);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let n=0;n<s.length;n++){const i=s[n];typeof i=="function"?i():V8(e[n],null)}}}}function Er(...e){return E.useCallback(Sl(...e),e)}function lne(e,r){const t=E.createContext(r),s=i=>{const{children:a,...l}=i,u=E.useMemo(()=>l,Object.values(l));return o.jsx(t.Provider,{value:u,children:a})};s.displayName=e+"Provider";function n(i){const a=E.useContext(t);if(a)return a;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,n]}function mi(e,r=[]){let t=[];function s(i,a){const l=E.createContext(a),u=t.length;t=[...t,a];const c=p=>{const{scope:f,children:h,...g}=p,y=f?.[e]?.[u]||l,m=E.useMemo(()=>g,Object.values(g));return o.jsx(y.Provider,{value:m,children:h})};c.displayName=i+"Provider";function d(p,f){const h=f?.[e]?.[u]||l,g=E.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,d]}const n=()=>{const i=t.map(a=>E.createContext(a));return function(l){const u=l?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return n.scopeName=e,[s,cne(n,...r)]}function cne(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const a=s.reduce((l,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...l,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}function W8(e){const r=une(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(fne);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function une(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=pne(n),l=hne(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var dne=Symbol("radix.slottable");function fne(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dne}function hne(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function pne(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function Tv(e){const r=e+"CollectionProvider",[t,s]=mi(r),[n,i]=t(r,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:m,children:v}=y,x=Zt.useRef(null),k=Zt.useRef(new Map).current;return o.jsx(n,{scope:m,itemMap:k,collectionRef:x,children:v})};a.displayName=r;const l=e+"CollectionSlot",u=W8(l),c=Zt.forwardRef((y,m)=>{const{scope:v,children:x}=y,k=i(l,v),T=Er(m,k.collectionRef);return o.jsx(u,{ref:T,children:x})});c.displayName=l;const d=e+"CollectionItemSlot",p="data-radix-collection-item",f=W8(d),h=Zt.forwardRef((y,m)=>{const{scope:v,children:x,...k}=y,T=Zt.useRef(null),A=Er(m,T),L=i(d,v);return Zt.useEffect(()=>(L.itemMap.set(T,{ref:T,...k}),()=>void L.itemMap.delete(T))),o.jsx(f,{[p]:"",ref:A,children:x})});h.displayName=d;function g(y){const m=i(e+"CollectionConsumer",y);return Zt.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const k=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((L,q)=>k.indexOf(L.ref.current)-k.indexOf(q.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},g,s]}function m2(e,r,{checkForDefaultPrevented:t=!0}={}){return function(n){if(e?.(n),t===!1||!n.defaultPrevented)return r?.(n)}}function mne(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function sR(...e){return r=>e.forEach(t=>mne(t,r))}function iR(...e){return E.useCallback(sR(...e),e)}var aR=E.forwardRef((e,r)=>{const{children:t,...s}=e,n=E.Children.toArray(t),i=n.find(yne);if(i){const a=i.props.children,l=n.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return o.jsx(dk,{...s,ref:r,children:E.isValidElement(a)?E.cloneElement(a,void 0,l):null})}return o.jsx(dk,{...s,ref:r,children:t})});aR.displayName="Slot";var dk=E.forwardRef((e,r)=>{const{children:t,...s}=e;if(E.isValidElement(t)){const n=vne(t);return E.cloneElement(t,{...bne(s,t.props),ref:r?sR(r,n):n})}return E.Children.count(t)>1?E.Children.only(null):null});dk.displayName="SlotClone";var gne=({children:e})=>o.jsx(o.Fragment,{children:e});function yne(e){return E.isValidElement(e)&&e.type===gne}function bne(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{i(...l),n(...l)}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function vne(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var xne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],oR=xne.reduce((e,r)=>{const t=E.forwardRef((s,n)=>{const{asChild:i,...a}=s,l=i?aR:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:n})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function wne(e,r){e&&Zd.flushSync(()=>e.dispatchEvent(r))}function lR(e){const r=E.useRef(e);return E.useEffect(()=>{r.current=e}),E.useMemo(()=>(...t)=>r.current?.(...t),[])}function _ne(e){const r=E.useRef(e);return E.useEffect(()=>{r.current=e}),E.useMemo(()=>(...t)=>r.current?.(...t),[])}function kne(e,r=globalThis?.document){const t=_ne(e);E.useEffect(()=>{const s=n=>{n.key==="Escape"&&t(n)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[t,r])}var Sne="DismissableLayer",fk="dismissableLayer.update",jne="dismissableLayer.pointerDownOutside",Nne="dismissableLayer.focusOutside",q8,cR=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gd=E.forwardRef((e,r)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...u}=e,c=E.useContext(cR),[d,p]=E.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=E.useState({}),g=iR(r,q=>p(q)),y=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),x=d?y.indexOf(d):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,T=x>=v,A=Tne(q=>{const D=q.target,$=[...c.branches].some(z=>z.contains(D));!T||$||(n?.(q),a?.(q),q.defaultPrevented||l?.())},f),L=Ene(q=>{const D=q.target;[...c.branches].some(z=>z.contains(D))||(i?.(q),a?.(q),q.defaultPrevented||l?.())},f);return kne(q=>{x===c.layers.size-1&&(s?.(q),!q.defaultPrevented&&l&&(q.preventDefault(),l()))},f),E.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(q8=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),H8(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=q8)}},[d,f,t,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),H8())},[d,c]),E.useEffect(()=>{const q=()=>h({});return document.addEventListener(fk,q),()=>document.removeEventListener(fk,q)},[]),o.jsx(oR.div,{...u,ref:g,style:{pointerEvents:k?T?"auto":"none":void 0,...e.style},onFocusCapture:m2(e.onFocusCapture,L.onFocusCapture),onBlurCapture:m2(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:m2(e.onPointerDownCapture,A.onPointerDownCapture)})});Gd.displayName=Sne;var Cne="DismissableLayerBranch",uR=E.forwardRef((e,r)=>{const t=E.useContext(cR),s=E.useRef(null),n=iR(r,s);return E.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),o.jsx(oR.div,{...e,ref:n})});uR.displayName=Cne;function Tne(e,r=globalThis?.document){const t=lR(e),s=E.useRef(!1),n=E.useRef(()=>{});return E.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){dR(jne,t,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=u,r.addEventListener("click",n.current,{once:!0})):u()}else r.removeEventListener("click",n.current);s.current=!1},a=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,t]),{onPointerDownCapture:()=>s.current=!0}}function Ene(e,r=globalThis?.document){const t=lR(e),s=E.useRef(!1);return E.useEffect(()=>{const n=i=>{i.target&&!s.current&&dR(Nne,t,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function H8(){const e=new CustomEvent(fk);document.dispatchEvent(e)}function dR(e,r,t,{discrete:s}){const n=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});r&&n.addEventListener(e,r,{once:!0}),s?wne(n,i):n.dispatchEvent(i)}var Ane=Gd,Pne=uR;function Ine(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function Dne(...e){return r=>e.forEach(t=>Ine(t,r))}var fR=E.forwardRef((e,r)=>{const{children:t,...s}=e,n=E.Children.toArray(t),i=n.find(Rne);if(i){const a=i.props.children,l=n.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return o.jsx(hk,{...s,ref:r,children:E.isValidElement(a)?E.cloneElement(a,void 0,l):null})}return o.jsx(hk,{...s,ref:r,children:t})});fR.displayName="Slot";var hk=E.forwardRef((e,r)=>{const{children:t,...s}=e;if(E.isValidElement(t)){const n=One(t);return E.cloneElement(t,{...$ne(s,t.props),ref:r?Dne(r,n):n})}return E.Children.count(t)>1?E.Children.only(null):null});hk.displayName="SlotClone";var Mne=({children:e})=>o.jsx(o.Fragment,{children:e});function Rne(e){return E.isValidElement(e)&&e.type===Mne}function $ne(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{i(...l),n(...l)}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function One(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Fne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Lne=Fne.reduce((e,r)=>{const t=E.forwardRef((s,n)=>{const{asChild:i,...a}=s,l=i?fR:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:n})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{}),zne=globalThis?.document?E.useLayoutEffect:()=>{},Bne="Portal",Vh=E.forwardRef((e,r)=>{const{container:t,...s}=e,[n,i]=E.useState(!1);zne(()=>i(!0),[]);const a=t||n&&globalThis?.document?.body;return a?one.createPortal(o.jsx(Lne.div,{...s,ref:r}),a):null});Vh.displayName=Bne;var ri=globalThis?.document?E.useLayoutEffect:()=>{};function Une(e,r){return E.useReducer((t,s)=>r[t][s]??t,e)}var js=e=>{const{present:r,children:t}=e,s=Vne(r),n=typeof t=="function"?t({present:s.isPresent}):E.Children.only(t),i=Er(s.ref,Wne(n));return typeof t=="function"||s.isPresent?E.cloneElement(n,{ref:i}):null};js.displayName="Presence";function Vne(e){const[r,t]=E.useState(),s=E.useRef(null),n=E.useRef(e),i=E.useRef("none"),a=e?"mounted":"unmounted",[l,u]=Une(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=Ny(s.current);i.current=l==="mounted"?c:"none"},[l]),ri(()=>{const c=s.current,d=n.current;if(d!==e){const f=i.current,h=Ny(c);e?u("MOUNT"):h==="none"||c?.display==="none"?u("UNMOUNT"):u(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,u]),ri(()=>{if(r){let c;const d=r.ownerDocument.defaultView??window,p=h=>{const y=Ny(s.current).includes(CSS.escape(h.animationName));if(h.target===r&&y&&(u("ANIMATION_END"),!n.current)){const m=r.style.animationFillMode;r.style.animationFillMode="forwards",c=d.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=m)})}},f=h=>{h.target===r&&(i.current=Ny(s.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{d.clearTimeout(c),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(c=>{s.current=c?getComputedStyle(c):null,t(c)},[])}}function Ny(e){return e?.animationName||"none"}function Wne(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function qne(e){const r=Hne(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(Zne);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function Hne(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=Xne(n),l=Gne(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Kne=Symbol("radix.slottable");function Zne(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kne}function Gne(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function Xne(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Qne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=Qne.reduce((e,r)=>{const t=qne(`Primitive.${r}`),s=E.forwardRef((n,i)=>{const{asChild:a,...l}=n,u=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function hR(e,r){e&&Zd.flushSync(()=>e.dispatchEvent(r))}function ji(e){const r=E.useRef(e);return E.useEffect(()=>{r.current=e}),E.useMemo(()=>(...t)=>r.current?.(...t),[])}var Yne=Sv[" useInsertionEffect ".trim().toString()]||ri;function fo({prop:e,defaultProp:r,onChange:t=()=>{},caller:s}){const[n,i,a]=Jne({defaultProp:r,onChange:t}),l=e!==void 0,u=l?e:n;{const d=E.useRef(e!==void 0);E.useEffect(()=>{const p=d.current;p!==l&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const c=E.useCallback(d=>{if(l){const p=ese(d)?d(e):d;p!==e&&a.current?.(p)}else i(d)},[l,e,i,a]);return[u,c]}function Jne({defaultProp:e,onChange:r}){const[t,s]=E.useState(e),n=E.useRef(t),i=E.useRef(r);return Yne(()=>{i.current=r},[r]),E.useEffect(()=>{n.current!==t&&(i.current?.(t),n.current=t)},[t,n]),[t,s,i]}function ese(e){return typeof e=="function"}var tse=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rse="VisuallyHidden",iS=E.forwardRef((e,r)=>o.jsx(qt.span,{...e,ref:r,style:{...tse,...e.style}}));iS.displayName=rse;var aS="ToastProvider",[oS,nse,sse]=Tv("Toast"),[pR]=mi("Toast",[sse]),[ise,Ev]=pR(aS),mR=e=>{const{__scopeToast:r,label:t="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:a}=e,[l,u]=E.useState(null),[c,d]=E.useState(0),p=E.useRef(!1),f=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${aS}\`. Expected non-empty \`string\`.`),o.jsx(oS.Provider,{scope:r,children:o.jsx(ise,{scope:r,label:t,duration:s,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:E.useCallback(()=>d(h=>h+1),[]),onToastRemove:E.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:a})})};mR.displayName=aS;var gR="ToastViewport",ase=["F8"],pk="toast.viewportPause",mk="toast.viewportResume",yR=E.forwardRef((e,r)=>{const{__scopeToast:t,hotkey:s=ase,label:n="Notifications ({hotkey})",...i}=e,a=Ev(gR,t),l=nse(t),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),p=E.useRef(null),f=Er(r,p,a.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;E.useEffect(()=>{const m=v=>{s.length!==0&&s.every(k=>v[k]||v.code===k)&&p.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[s]),E.useEffect(()=>{const m=u.current,v=p.current;if(g&&m&&v){const x=()=>{if(!a.isClosePausedRef.current){const L=new CustomEvent(pk);v.dispatchEvent(L),a.isClosePausedRef.current=!0}},k=()=>{if(a.isClosePausedRef.current){const L=new CustomEvent(mk);v.dispatchEvent(L),a.isClosePausedRef.current=!1}},T=L=>{!m.contains(L.relatedTarget)&&k()},A=()=>{m.contains(document.activeElement)||k()};return m.addEventListener("focusin",x),m.addEventListener("focusout",T),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",A),window.addEventListener("blur",x),window.addEventListener("focus",k),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",T),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",A),window.removeEventListener("blur",x),window.removeEventListener("focus",k)}}},[g,a.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:m})=>{const x=l().map(k=>{const T=k.ref.current,A=[T,...vse(T)];return m==="forwards"?A:A.reverse()});return(m==="forwards"?x.reverse():x).flat()},[l]);return E.useEffect(()=>{const m=p.current;if(m){const v=x=>{const k=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!k){const A=document.activeElement,L=x.shiftKey;if(x.target===m&&L){c.current?.focus();return}const $=y({tabbingDirection:L?"backwards":"forwards"}),z=$.findIndex(K=>K===A);g2($.slice(z+1))?x.preventDefault():L?c.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[l,y]),o.jsxs(Pne,{ref:u,role:"region","aria-label":n.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(gk,{ref:c,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});g2(m)}}),o.jsx(oS.Slot,{scope:t,children:o.jsx(qt.ol,{tabIndex:-1,...i,ref:f})}),g&&o.jsx(gk,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});g2(m)}})]})});yR.displayName=gR;var bR="ToastFocusProxy",gk=E.forwardRef((e,r)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...n}=e,i=Ev(bR,t);return o.jsx(iS,{tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:a=>{const l=a.relatedTarget;!i.viewport?.contains(l)&&s()}})});gk.displayName=bR;var wg="Toast",ose="toast.swipeStart",lse="toast.swipeMove",cse="toast.swipeCancel",use="toast.swipeEnd",vR=E.forwardRef((e,r)=>{const{forceMount:t,open:s,defaultOpen:n,onOpenChange:i,...a}=e,[l,u]=fo({prop:s,defaultProp:n??!0,onChange:i,caller:wg});return o.jsx(js,{present:t||l,children:o.jsx(hse,{open:l,...a,ref:r,onClose:()=>u(!1),onPause:ji(e.onPause),onResume:ji(e.onResume),onSwipeStart:mt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mt(e.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:mt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mt(e.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});vR.displayName=wg;var[dse,fse]=pR(wg,{onClose(){}}),hse=E.forwardRef((e,r)=>{const{__scopeToast:t,type:s="foreground",duration:n,open:i,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...g}=e,y=Ev(wg,t),[m,v]=E.useState(null),x=Er(r,R=>v(R)),k=E.useRef(null),T=E.useRef(null),A=n||y.duration,L=E.useRef(0),q=E.useRef(A),D=E.useRef(0),{onToastAdd:$,onToastRemove:z}=y,K=ji(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),a()}),W=E.useCallback(R=>{!R||R===1/0||(window.clearTimeout(D.current),L.current=new Date().getTime(),D.current=window.setTimeout(K,R))},[K]);E.useEffect(()=>{const R=y.viewport;if(R){const C=()=>{W(q.current),c?.()},_=()=>{const S=new Date().getTime()-L.current;q.current=q.current-S,window.clearTimeout(D.current),u?.()};return R.addEventListener(pk,_),R.addEventListener(mk,C),()=>{R.removeEventListener(pk,_),R.removeEventListener(mk,C)}}},[y.viewport,A,u,c,W]),E.useEffect(()=>{i&&!y.isClosePausedRef.current&&W(A)},[i,A,y.isClosePausedRef,W]),E.useEffect(()=>($(),()=>z()),[$,z]);const P=E.useMemo(()=>m?NR(m):null,[m]);return y.viewport?o.jsxs(o.Fragment,{children:[P&&o.jsx(pse,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:P}),o.jsx(dse,{scope:t,onClose:K,children:Zd.createPortal(o.jsx(oS.ItemSlot,{scope:t,children:o.jsx(Ane,{asChild:!0,onEscapeKeyDown:mt(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||K(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(qt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:mt(e.onKeyDown,R=>{R.key==="Escape"&&(l?.(R.nativeEvent),R.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:mt(e.onPointerDown,R=>{R.button===0&&(k.current={x:R.clientX,y:R.clientY})}),onPointerMove:mt(e.onPointerMove,R=>{if(!k.current)return;const C=R.clientX-k.current.x,_=R.clientY-k.current.y,S=!!T.current,j=["left","right"].includes(y.swipeDirection),N=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,M=j?N(0,C):0,O=j?0:N(0,_),B=R.pointerType==="touch"?10:2,G={x:M,y:O},Q={originalEvent:R,delta:G};S?(T.current=G,Cy(lse,p,Q,{discrete:!1})):K8(G,y.swipeDirection,B)?(T.current=G,Cy(ose,d,Q,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(C)>B||Math.abs(_)>B)&&(k.current=null)}),onPointerUp:mt(e.onPointerUp,R=>{const C=T.current,_=R.target;if(_.hasPointerCapture(R.pointerId)&&_.releasePointerCapture(R.pointerId),T.current=null,k.current=null,C){const S=R.currentTarget,j={originalEvent:R,delta:C};K8(C,y.swipeDirection,y.swipeThreshold)?Cy(use,h,j,{discrete:!0}):Cy(cse,f,j,{discrete:!0}),S.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),pse=e=>{const{__scopeToast:r,children:t,...s}=e,n=Ev(wg,r),[i,a]=E.useState(!1),[l,u]=E.useState(!1);return yse(()=>a(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:o.jsx(Vh,{asChild:!0,children:o.jsx(iS,{...s,children:i&&o.jsxs(o.Fragment,{children:[n.label," ",t]})})})},mse="ToastTitle",xR=E.forwardRef((e,r)=>{const{__scopeToast:t,...s}=e;return o.jsx(qt.div,{...s,ref:r})});xR.displayName=mse;var gse="ToastDescription",wR=E.forwardRef((e,r)=>{const{__scopeToast:t,...s}=e;return o.jsx(qt.div,{...s,ref:r})});wR.displayName=gse;var _R="ToastAction",kR=E.forwardRef((e,r)=>{const{altText:t,...s}=e;return t.trim()?o.jsx(jR,{altText:t,asChild:!0,children:o.jsx(lS,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${_R}\`. Expected non-empty \`string\`.`),null)});kR.displayName=_R;var SR="ToastClose",lS=E.forwardRef((e,r)=>{const{__scopeToast:t,...s}=e,n=fse(SR,t);return o.jsx(jR,{asChild:!0,children:o.jsx(qt.button,{type:"button",...s,ref:r,onClick:mt(e.onClick,n.onClose)})})});lS.displayName=SR;var jR=E.forwardRef((e,r)=>{const{__scopeToast:t,altText:s,...n}=e;return o.jsx(qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:r})});function NR(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),bse(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&r.push(a)}else r.push(...NR(s))}}),r}function Cy(e,r,t,{discrete:s}){const n=t.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r&&n.addEventListener(e,r,{once:!0}),s?hR(n,i):n.dispatchEvent(i)}var K8=(e,r,t=0)=>{const s=Math.abs(e.x),n=Math.abs(e.y),i=s>n;return r==="left"||r==="right"?i&&s>t:!i&&n>t};function yse(e=()=>{}){const r=ji(e);ri(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[r])}function bse(e){return e.nodeType===e.ELEMENT_NODE}function vse(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function g2(e){const r=document.activeElement;return e.some(t=>t===r?!0:(t.focus(),document.activeElement!==r))}var xse=mR,CR=yR,TR=vR,ER=xR,AR=wR,PR=kR,IR=lS;function DR(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(t=DR(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function MR(){for(var e,r,t=0,s="",n=arguments.length;t<n;t++)(e=arguments[t])&&(r=DR(e))&&(s&&(s+=" "),s+=r);return s}const Z8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G8=MR,Xd=(e,r)=>t=>{var s;if(r?.variants==null)return G8(e,t?.class,t?.className);const{variants:n,defaultVariants:i}=r,a=Object.keys(n).map(c=>{const d=t?.[c],p=i?.[c];if(d===null)return null;const f=Z8(d)||Z8(p);return n[c][f]}),l=t&&Object.entries(t).reduce((c,d)=>{let[p,f]=d;return f===void 0||(c[p]=f),c},{}),u=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((c,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...i,...l}[y]):{...i,...l}[y]===m})?[...c,p,f]:c},[]);return G8(e,a,u,t?.class,t?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RR=(...e)=>e.filter((r,t,s)=>!!r&&s.indexOf(r)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=E.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:a,...l},u)=>E.createElement("svg",{ref:u,..._se,width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:RR("lucide",n),...l},[...a.map(([c,d])=>E.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(e,r)=>{const t=E.forwardRef(({className:s,...n},i)=>E.createElement(kse,{ref:i,iconNode:r,className:RR(`lucide-${wse(e)}`,s),...n}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=Ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Ke("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ke("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=Ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=Ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=Ke("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=Ke("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=Ke("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ke("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=Ke("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Ke("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Ke("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Ke("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=Ke("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=Ke("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=Ke("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=Ke("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ke("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=Ke("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=Ke("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=Ke("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ke("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ke("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=Ke("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=Ke("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Ke("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=Ke("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Ke("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=Ke("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=Ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ke("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=Ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ke("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=Ke("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=Ke("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=Ke("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=Ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=Ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ke("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=Ke("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=Ke("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ke("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=Ke("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ke("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Ke("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=Ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=Ke("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Ke("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ke("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pS="-",fie=e=>{const r=pie(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:a=>{const l=a.split(pS);return l[0]===""&&l.length!==1&&l.shift(),HR(l,r)||hie(a)},getConflictingClassGroupIds:(a,l)=>{const u=t[a]||[];return l&&s[a]?[...u,...s[a]]:u}}},HR=(e,r)=>{if(e.length===0)return r.classGroupId;const t=e[0],s=r.nextPart.get(t),n=s?HR(e.slice(1),s):void 0;if(n)return n;if(r.validators.length===0)return;const i=e.join(pS);return r.validators.find(({validator:a})=>a(i))?.classGroupId},iT=/^\[(.+)\]$/,hie=e=>{if(iT.test(e)){const r=iT.exec(e)[1],t=r?.substring(0,r.indexOf(":"));if(t)return"arbitrary.."+t}},pie=e=>{const{theme:r,prefix:t}=e,s={nextPart:new Map,validators:[]};return gie(Object.entries(e.classGroups),t).forEach(([i,a])=>{wk(a,s,i,r)}),s},wk=(e,r,t,s)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?r:aT(r,n);i.classGroupId=t;return}if(typeof n=="function"){if(mie(n)){wk(n(s),r,t,s);return}r.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,a])=>{wk(a,aT(r,i),t,s)})})},aT=(e,r)=>{let t=e;return r.split(pS).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},mie=e=>e.isThemeGetter,gie=(e,r)=>r?e.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[r+a,l])):i);return[t,n]}):e,yie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=new Map,s=new Map;const n=(i,a)=>{t.set(i,a),r++,r>e&&(r=0,s=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return n(i,a),a},set(i,a){t.has(i)?t.set(i,a):n(i,a)}}},KR="!",bie=e=>{const{separator:r,experimentalParseClassName:t}=e,s=r.length===1,n=r[0],i=r.length,a=l=>{const u=[];let c=0,d=0,p;for(let m=0;m<l.length;m++){let v=l[m];if(c===0){if(v===n&&(s||l.slice(m,m+i)===r)){u.push(l.slice(d,m)),d=m+i;continue}if(v==="/"){p=m;continue}}v==="["?c++:v==="]"&&c--}const f=u.length===0?l:l.substring(d),h=f.startsWith(KR),g=h?f.substring(1):f,y=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return t?l=>t({className:l,parseClassName:a}):a},vie=e=>{if(e.length<=1)return e;const r=[];let t=[];return e.forEach(s=>{s[0]==="["?(r.push(...t.sort(),s),t=[]):t.push(s)}),r.push(...t.sort()),r},xie=e=>({cache:yie(e.cacheSize),parseClassName:bie(e),...fie(e)}),wie=/\s+/,_ie=(e,r)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=r,i=[],a=e.trim().split(wie);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=t(c);let g=!!h,y=s(g?f.substring(0,h):f);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=s(f),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const m=vie(d).join(":"),v=p?m+KR:m,x=v+y;if(i.includes(x))continue;i.push(x);const k=n(y,g);for(let T=0;T<k.length;++T){const A=k[T];i.push(v+A)}l=c+(l.length>0?" "+l:l)}return l};function kie(){let e=0,r,t,s="";for(;e<arguments.length;)(r=arguments[e++])&&(t=ZR(r))&&(s&&(s+=" "),s+=t);return s}const ZR=e=>{if(typeof e=="string")return e;let r,t="";for(let s=0;s<e.length;s++)e[s]&&(r=ZR(e[s]))&&(t&&(t+=" "),t+=r);return t};function Sie(e,...r){let t,s,n,i=a;function a(u){const c=r.reduce((d,p)=>p(d),e());return t=xie(c),s=t.cache.get,n=t.cache.set,i=l,l(u)}function l(u){const c=s(u);if(c)return c;const d=_ie(u,t);return n(u,d),d}return function(){return i(kie.apply(null,arguments))}}const Dn=e=>{const r=t=>t[e]||[];return r.isThemeGetter=!0,r},GR=/^\[(?:([a-z-]+):)?(.+)\]$/i,jie=/^\d+\/\d+$/,Nie=new Set(["px","full","screen"]),Cie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Eie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$l=e=>Yf(e)||Nie.has(e)||jie.test(e),Mc=e=>qh(e,"length",Lie),Yf=e=>!!e&&!Number.isNaN(Number(e)),b2=e=>qh(e,"number",Yf),Wp=e=>!!e&&Number.isInteger(Number(e)),Iie=e=>e.endsWith("%")&&Yf(e.slice(0,-1)),$r=e=>GR.test(e),Rc=e=>Cie.test(e),Die=new Set(["length","size","percentage"]),Mie=e=>qh(e,Die,XR),Rie=e=>qh(e,"position",XR),$ie=new Set(["image","url"]),Oie=e=>qh(e,$ie,Bie),Fie=e=>qh(e,"",zie),qp=()=>!0,qh=(e,r,t)=>{const s=GR.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):t(s[2]):!1},Lie=e=>Tie.test(e)&&!Eie.test(e),XR=()=>!1,zie=e=>Aie.test(e),Bie=e=>Pie.test(e),Uie=()=>{const e=Dn("colors"),r=Dn("spacing"),t=Dn("blur"),s=Dn("brightness"),n=Dn("borderColor"),i=Dn("borderRadius"),a=Dn("borderSpacing"),l=Dn("borderWidth"),u=Dn("contrast"),c=Dn("grayscale"),d=Dn("hueRotate"),p=Dn("invert"),f=Dn("gap"),h=Dn("gradientColorStops"),g=Dn("gradientColorStopPositions"),y=Dn("inset"),m=Dn("margin"),v=Dn("opacity"),x=Dn("padding"),k=Dn("saturate"),T=Dn("scale"),A=Dn("sepia"),L=Dn("skew"),q=Dn("space"),D=Dn("translate"),$=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",$r,r],W=()=>[$r,r],P=()=>["",$l,Mc],R=()=>["auto",Yf,$r],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],S=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",$r],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Yf,$r];return{cacheSize:500,separator:":",theme:{colors:[qp],spacing:[$l,Mc],blur:["none","",Rc,$r],brightness:O(),borderColor:[e],borderRadius:["none","","full",Rc,$r],borderSpacing:W(),borderWidth:P(),contrast:O(),grayscale:N(),hueRotate:O(),invert:N(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[Iie,Mc],inset:K(),margin:K(),opacity:O(),padding:W(),saturate:O(),scale:O(),sepia:N(),skew:O(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",$r]}],container:["container"],columns:[{columns:[Rc]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),$r]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wp,$r]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$r]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Wp,$r]}],"grid-cols":[{"grid-cols":[qp]}],"col-start-end":[{col:["auto",{span:["full",Wp,$r]},$r]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[qp]}],"row-start-end":[{row:["auto",{span:[Wp,$r]},$r]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$r]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$r]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$r,r]}],"min-w":[{"min-w":[$r,r,"min","max","fit"]}],"max-w":[{"max-w":[$r,r,"none","full","min","max","fit","prose",{screen:[Rc]},Rc]}],h:[{h:[$r,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$r,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$r,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$r,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Rc,Mc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b2]}],"font-family":[{font:[qp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$r]}],"line-clamp":[{"line-clamp":["none",Yf,b2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$l,$r]}],"list-image":[{"list-image":["none",$r]}],"list-style-type":[{list:["none","disc","decimal",$r]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$l,Mc]}],"underline-offset":[{"underline-offset":["auto",$l,$r]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$r]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$r]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),Rie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oie]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[$l,$r]}],"outline-w":[{outline:[$l,Mc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[$l,Mc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rc,Fie]}],"shadow-color":[{shadow:[qp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...S(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":S()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Rc,$r]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$r]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",$r]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",$r]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Wp,$r]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$r]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$r]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$r]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$l,Mc,b2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vie=Sie(Uie);function Ae(...e){return Vie(MR(e))}const Je=e=>{if(e==null)return"0 .";let r;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/))return"0 .";const t=e.replace(/[^\d.-]/g,"");r=parseFloat(t)}else r=e;return isNaN(r)||!isFinite(r)?"0 .":Math.abs(r)>1e11?(console.warn("    :",r),"0 ."):`${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},As=e=>{if(e==null)return 0;if(typeof e=="number")return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e;if(typeof e=="string"){if(e.match(/^(\d{1,3})\1{2,}$/)||e.match(/^(\d)\1{5,}$/))return 0;const r=e.replace(/[^\d.-]/g,""),t=parseFloat(r);return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?0:t}return 0},Ao=e=>{const r=typeof e=="string"?new Date(e):e;return isNaN(r.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(r).replace(/[-]/g,s=>"0123456789"["".indexOf(s)])},oT=e=>{const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return"";const t=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0");return`${t}-${s}-${n}`};function di(){return new Date().toISOString().split("T")[0]}const Wie=xse,QR=E.forwardRef(({className:e,...r},t)=>o.jsx(CR,{ref:t,className:Ae("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",e),...r}));QR.displayName=CR.displayName;const qie=Xd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),YR=E.forwardRef(({className:e,variant:r,...t},s)=>o.jsx(TR,{ref:s,className:Ae(qie({variant:r}),e),...t}));YR.displayName=TR.displayName;const Hie=E.forwardRef(({className:e,...r},t)=>o.jsx(PR,{ref:t,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",e),...r}));Hie.displayName=PR.displayName;const JR=E.forwardRef(({className:e,...r},t)=>o.jsx(IR,{ref:t,className:Ae("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:o.jsx(Rs,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));JR.displayName=IR.displayName;const e$=E.forwardRef(({className:e,...r},t)=>o.jsx(ER,{ref:t,className:Ae("text-sm font-bold tracking-wide",e),...r}));e$.displayName=ER.displayName;const t$=E.forwardRef(({className:e,...r},t)=>o.jsx(AR,{ref:t,className:Ae("text-sm opacity-90 leading-relaxed",e),...r}));t$.displayName=AR.displayName;function Kie(){const{toasts:e}=pn();return o.jsxs(Wie,{children:[e.map(function({id:r,title:t,description:s,action:n,...i}){return o.jsxs(YR,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[t&&o.jsx(e$,{children:t}),s&&o.jsx(t$,{children:s})]}),n,o.jsx(JR,{})]},r)}),o.jsx(QR,{})]})}var Zie=Sv[" useId ".trim().toString()]||(()=>{}),Gie=0;function Pa(e){const[r,t]=E.useState(Zie());return ri(()=>{t(s=>s??String(Gie++))},[e]),r?`radix-${r}`:""}const Xie=["top","right","bottom","left"],gu=Math.min,Na=Math.max,Db=Math.round,Ty=Math.floor,pl=e=>({x:e,y:e}),Qie={left:"right",right:"left",bottom:"top",top:"bottom"},Yie={start:"end",end:"start"};function _k(e,r,t){return Na(e,gu(r,t))}function ic(e,r){return typeof e=="function"?e(r):e}function ac(e){return e.split("-")[0]}function Hh(e){return e.split("-")[1]}function mS(e){return e==="x"?"y":"x"}function gS(e){return e==="y"?"height":"width"}const Jie=new Set(["top","bottom"]);function ul(e){return Jie.has(ac(e))?"y":"x"}function yS(e){return mS(ul(e))}function eae(e,r,t){t===void 0&&(t=!1);const s=Hh(e),n=yS(e),i=gS(n);let a=n==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(a=Mb(a)),[a,Mb(a)]}function tae(e){const r=Mb(e);return[kk(e),r,kk(r)]}function kk(e){return e.replace(/start|end/g,r=>Yie[r])}const lT=["left","right"],cT=["right","left"],rae=["top","bottom"],nae=["bottom","top"];function sae(e,r,t){switch(e){case"top":case"bottom":return t?r?cT:lT:r?lT:cT;case"left":case"right":return r?rae:nae;default:return[]}}function iae(e,r,t,s){const n=Hh(e);let i=sae(ac(e),t==="start",s);return n&&(i=i.map(a=>a+"-"+n),r&&(i=i.concat(i.map(kk)))),i}function Mb(e){return e.replace(/left|right|bottom|top/g,r=>Qie[r])}function aae(e){return{top:0,right:0,bottom:0,left:0,...e}}function r$(e){return typeof e!="number"?aae(e):{top:e,right:e,bottom:e,left:e}}function Rb(e){const{x:r,y:t,width:s,height:n}=e;return{width:s,height:n,top:t,left:r,right:r+s,bottom:t+n,x:r,y:t}}function uT(e,r,t){let{reference:s,floating:n}=e;const i=ul(r),a=yS(r),l=gS(a),u=ac(r),c=i==="y",d=s.x+s.width/2-n.width/2,p=s.y+s.height/2-n.height/2,f=s[l]/2-n[l]/2;let h;switch(u){case"top":h={x:d,y:s.y-n.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:p};break;case"left":h={x:s.x-n.width,y:p};break;default:h={x:s.x,y:s.y}}switch(Hh(r)){case"start":h[a]-=f*(t&&c?-1:1);break;case"end":h[a]+=f*(t&&c?-1:1);break}return h}const oae=async(e,r,t)=>{const{placement:s="bottom",strategy:n="absolute",middleware:i=[],platform:a}=t,l=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(r));let c=await a.getElementRects({reference:e,floating:r,strategy:n}),{x:d,y:p}=uT(c,s,u),f=s,h={},g=0;for(let y=0;y<l.length;y++){const{name:m,fn:v}=l[y],{x,y:k,data:T,reset:A}=await v({x:d,y:p,initialPlacement:s,placement:f,strategy:n,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:r}});d=x??d,p=k??p,h={...h,[m]:{...h[m],...T}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:e,floating:r,strategy:n}):A.rects),{x:d,y:p}=uT(c,f,u)),y=-1)}return{x:d,y:p,placement:f,strategy:n,middlewareData:h}};async function Im(e,r){var t;r===void 0&&(r={});const{x:s,y:n,platform:i,rects:a,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=ic(r,e),g=r$(h),m=l[f?p==="floating"?"reference":"floating":p],v=Rb(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(m)))==null||t?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),x=p==="floating"?{x:s,y:n,width:a.floating.width,height:a.floating.height}:a.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},A=Rb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:k,strategy:u}):x);return{top:(v.top-A.top+g.top)/T.y,bottom:(A.bottom-v.bottom+g.bottom)/T.y,left:(v.left-A.left+g.left)/T.x,right:(A.right-v.right+g.right)/T.x}}const lae=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:s,placement:n,rects:i,platform:a,elements:l,middlewareData:u}=r,{element:c,padding:d=0}=ic(e,r)||{};if(c==null)return{};const p=r$(d),f={x:t,y:s},h=yS(n),g=gS(h),y=await a.getDimensions(c),m=h==="y",v=m?"top":"left",x=m?"bottom":"right",k=m?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[h]-f[h]-i.floating[g],A=f[h]-i.reference[h],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let q=L?L[k]:0;(!q||!await(a.isElement==null?void 0:a.isElement(L)))&&(q=l.floating[k]||i.floating[g]);const D=T/2-A/2,$=q/2-y[g]/2-1,z=gu(p[v],$),K=gu(p[x],$),W=z,P=q-y[g]-K,R=q/2-y[g]/2+D,C=_k(W,R,P),_=!u.arrow&&Hh(n)!=null&&R!==C&&i.reference[g]/2-(R<W?z:K)-y[g]/2<0,S=_?R<W?R-W:R-P:0;return{[h]:f[h]+S,data:{[h]:C,centerOffset:R-C-S,..._&&{alignmentOffset:S}},reset:_}}}),cae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,s;const{placement:n,middlewareData:i,rects:a,initialPlacement:l,platform:u,elements:c}=r,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=ic(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const v=ac(n),x=ul(l),k=ac(l)===l,T=await(u.isRTL==null?void 0:u.isRTL(c.floating)),A=f||(k||!y?[Mb(l)]:tae(l)),L=g!=="none";!f&&L&&A.push(...iae(l,y,g,T));const q=[l,...A],D=await Im(r,m),$=[];let z=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&$.push(D[v]),p){const R=eae(n,a,T);$.push(D[R[0]],D[R[1]])}if(z=[...z,{placement:n,overflows:$}],!$.every(R=>R<=0)){var K,W;const R=(((K=i.flip)==null?void 0:K.index)||0)+1,C=q[R];if(C&&(!(p==="alignment"?x!==ul(C):!1)||z.every(j=>ul(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:R,overflows:z},reset:{placement:C}};let _=(W=z.filter(S=>S.overflows[0]<=0).sort((S,j)=>S.overflows[1]-j.overflows[1])[0])==null?void 0:W.placement;if(!_)switch(h){case"bestFit":{var P;const S=(P=z.filter(j=>{if(L){const N=ul(j.placement);return N===x||N==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(N=>N>0).reduce((N,M)=>N+M,0)]).sort((j,N)=>j[1]-N[1])[0])==null?void 0:P[0];S&&(_=S);break}case"initialPlacement":_=l;break}if(n!==_)return{reset:{placement:_}}}return{}}}};function dT(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function fT(e){return Xie.some(r=>e[r]>=0)}const uae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:t}=r,{strategy:s="referenceHidden",...n}=ic(e,r);switch(s){case"referenceHidden":{const i=await Im(r,{...n,elementContext:"reference"}),a=dT(i,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:fT(a)}}}case"escaped":{const i=await Im(r,{...n,altBoundary:!0}),a=dT(i,t.floating);return{data:{escapedOffsets:a,escaped:fT(a)}}}default:return{}}}}},n$=new Set(["left","top"]);async function dae(e,r){const{placement:t,platform:s,elements:n}=e,i=await(s.isRTL==null?void 0:s.isRTL(n.floating)),a=ac(t),l=Hh(t),u=ul(t)==="y",c=n$.has(a)?-1:1,d=i&&u?-1:1,p=ic(r,e);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),u?{x:h*d,y:f*c}:{x:f*c,y:h*d}}const fae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,s;const{x:n,y:i,placement:a,middlewareData:l}=r,u=await dae(r,e);return a===((t=l.offset)==null?void 0:t.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:n+u.x,y:i+u.y,data:{...u,placement:a}}}}},hae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:t,y:s,placement:n}=r,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:m=>{let{x:v,y:x}=m;return{x:v,y:x}}},...u}=ic(e,r),c={x:t,y:s},d=await Im(r,u),p=ul(ac(n)),f=mS(p);let h=c[f],g=c[p];if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=h+d[m],k=h-d[v];h=_k(x,h,k)}if(a){const m=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=g+d[m],k=g-d[v];g=_k(x,g,k)}const y=l.fn({...r,[f]:h,[p]:g});return{...y,data:{x:y.x-t,y:y.y-s,enabled:{[f]:i,[p]:a}}}}}},pae=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:t,y:s,placement:n,rects:i,middlewareData:a}=r,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=ic(e,r),d={x:t,y:s},p=ul(n),f=mS(p);let h=d[f],g=d[p];const y=ic(l,r),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const k=f==="y"?"height":"width",T=i.reference[f]-i.floating[k]+m.mainAxis,A=i.reference[f]+i.reference[k]-m.mainAxis;h<T?h=T:h>A&&(h=A)}if(c){var v,x;const k=f==="y"?"width":"height",T=n$.has(ac(n)),A=i.reference[p]-i.floating[k]+(T&&((v=a.offset)==null?void 0:v[p])||0)+(T?0:m.crossAxis),L=i.reference[p]+i.reference[k]+(T?0:((x=a.offset)==null?void 0:x[p])||0)-(T?m.crossAxis:0);g<A?g=A:g>L&&(g=L)}return{[f]:h,[p]:g}}}},mae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var t,s;const{placement:n,rects:i,platform:a,elements:l}=r,{apply:u=()=>{},...c}=ic(e,r),d=await Im(r,c),p=ac(n),f=Hh(n),h=ul(n)==="y",{width:g,height:y}=i.floating;let m,v;p==="top"||p==="bottom"?(m=p,v=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=p,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,k=g-d.left-d.right,T=gu(y-d[m],x),A=gu(g-d[v],k),L=!r.middlewareData.shift;let q=T,D=A;if((t=r.middlewareData.shift)!=null&&t.enabled.x&&(D=k),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(q=x),L&&!f){const z=Na(d.left,0),K=Na(d.right,0),W=Na(d.top,0),P=Na(d.bottom,0);h?D=g-2*(z!==0||K!==0?z+K:Na(d.left,d.right)):q=y-2*(W!==0||P!==0?W+P:Na(d.top,d.bottom))}await u({...r,availableWidth:D,availableHeight:q});const $=await a.getDimensions(l.floating);return g!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function Av(){return typeof window<"u"}function Kh(e){return s$(e)?(e.nodeName||"").toLowerCase():"#document"}function Ia(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function jl(e){var r;return(r=(s$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function s$(e){return Av()?e instanceof Node||e instanceof Ia(e).Node:!1}function Uo(e){return Av()?e instanceof Element||e instanceof Ia(e).Element:!1}function _l(e){return Av()?e instanceof HTMLElement||e instanceof Ia(e).HTMLElement:!1}function hT(e){return!Av()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ia(e).ShadowRoot}const gae=new Set(["inline","contents"]);function Sg(e){const{overflow:r,overflowX:t,overflowY:s,display:n}=Vo(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+t)&&!gae.has(n)}const yae=new Set(["table","td","th"]);function bae(e){return yae.has(Kh(e))}const vae=[":popover-open",":modal"];function Pv(e){return vae.some(r=>{try{return e.matches(r)}catch{return!1}})}const xae=["transform","translate","scale","rotate","perspective"],wae=["transform","translate","scale","rotate","perspective","filter"],_ae=["paint","layout","strict","content"];function bS(e){const r=vS(),t=Uo(e)?Vo(e):e;return xae.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||wae.some(s=>(t.willChange||"").includes(s))||_ae.some(s=>(t.contain||"").includes(s))}function kae(e){let r=yu(e);for(;_l(r)&&!xh(r);){if(bS(r))return r;if(Pv(r))return null;r=yu(r)}return null}function vS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Sae=new Set(["html","body","#document"]);function xh(e){return Sae.has(Kh(e))}function Vo(e){return Ia(e).getComputedStyle(e)}function Iv(e){return Uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yu(e){if(Kh(e)==="html")return e;const r=e.assignedSlot||e.parentNode||hT(e)&&e.host||jl(e);return hT(r)?r.host:r}function i$(e){const r=yu(e);return xh(r)?e.ownerDocument?e.ownerDocument.body:e.body:_l(r)&&Sg(r)?r:i$(r)}function Dm(e,r,t){var s;r===void 0&&(r=[]),t===void 0&&(t=!0);const n=i$(e),i=n===((s=e.ownerDocument)==null?void 0:s.body),a=Ia(n);if(i){const l=Sk(a);return r.concat(a,a.visualViewport||[],Sg(n)?n:[],l&&t?Dm(l):[])}return r.concat(n,Dm(n,[],t))}function Sk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a$(e){const r=Vo(e);let t=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const n=_l(e),i=n?e.offsetWidth:t,a=n?e.offsetHeight:s,l=Db(t)!==i||Db(s)!==a;return l&&(t=i,s=a),{width:t,height:s,$:l}}function xS(e){return Uo(e)?e:e.contextElement}function Jf(e){const r=xS(e);if(!_l(r))return pl(1);const t=r.getBoundingClientRect(),{width:s,height:n,$:i}=a$(r);let a=(i?Db(t.width):t.width)/s,l=(i?Db(t.height):t.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const jae=pl(0);function o$(e){const r=Ia(e);return!vS()||!r.visualViewport?jae:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Nae(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==Ia(e)?!1:r}function Dd(e,r,t,s){r===void 0&&(r=!1),t===void 0&&(t=!1);const n=e.getBoundingClientRect(),i=xS(e);let a=pl(1);r&&(s?Uo(s)&&(a=Jf(s)):a=Jf(e));const l=Nae(i,t,s)?o$(i):pl(0);let u=(n.left+l.x)/a.x,c=(n.top+l.y)/a.y,d=n.width/a.x,p=n.height/a.y;if(i){const f=Ia(i),h=s&&Uo(s)?Ia(s):s;let g=f,y=Sk(g);for(;y&&s&&h!==g;){const m=Jf(y),v=y.getBoundingClientRect(),x=Vo(y),k=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,T=v.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;u*=m.x,c*=m.y,d*=m.x,p*=m.y,u+=k,c+=T,g=Ia(y),y=Sk(g)}}return Rb({width:d,height:p,x:u,y:c})}function Dv(e,r){const t=Iv(e).scrollLeft;return r?r.left+t:Dd(jl(e)).left+t}function l$(e,r){const t=e.getBoundingClientRect(),s=t.left+r.scrollLeft-Dv(e,t),n=t.top+r.scrollTop;return{x:s,y:n}}function Cae(e){let{elements:r,rect:t,offsetParent:s,strategy:n}=e;const i=n==="fixed",a=jl(s),l=r?Pv(r.floating):!1;if(s===a||l&&i)return t;let u={scrollLeft:0,scrollTop:0},c=pl(1);const d=pl(0),p=_l(s);if((p||!p&&!i)&&((Kh(s)!=="body"||Sg(a))&&(u=Iv(s)),_l(s))){const h=Dd(s);c=Jf(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}const f=a&&!p&&!i?l$(a,u):pl(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-u.scrollLeft*c.x+d.x+f.x,y:t.y*c.y-u.scrollTop*c.y+d.y+f.y}}function Tae(e){return Array.from(e.getClientRects())}function Eae(e){const r=jl(e),t=Iv(e),s=e.ownerDocument.body,n=Na(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=Na(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let a=-t.scrollLeft+Dv(e);const l=-t.scrollTop;return Vo(s).direction==="rtl"&&(a+=Na(r.clientWidth,s.clientWidth)-n),{width:n,height:i,x:a,y:l}}const pT=25;function Aae(e,r){const t=Ia(e),s=jl(e),n=t.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,u=0;if(n){i=n.width,a=n.height;const d=vS();(!d||d&&r==="fixed")&&(l=n.offsetLeft,u=n.offsetTop)}const c=Dv(s);if(c<=0){const d=s.ownerDocument,p=d.body,f=getComputedStyle(p),h=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(s.clientWidth-p.clientWidth-h);g<=pT&&(i-=g)}else c<=pT&&(i+=c);return{width:i,height:a,x:l,y:u}}const Pae=new Set(["absolute","fixed"]);function Iae(e,r){const t=Dd(e,!0,r==="fixed"),s=t.top+e.clientTop,n=t.left+e.clientLeft,i=_l(e)?Jf(e):pl(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,u=n*i.x,c=s*i.y;return{width:a,height:l,x:u,y:c}}function mT(e,r,t){let s;if(r==="viewport")s=Aae(e,t);else if(r==="document")s=Eae(jl(e));else if(Uo(r))s=Iae(r,t);else{const n=o$(e);s={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return Rb(s)}function c$(e,r){const t=yu(e);return t===r||!Uo(t)||xh(t)?!1:Vo(t).position==="fixed"||c$(t,r)}function Dae(e,r){const t=r.get(e);if(t)return t;let s=Dm(e,[],!1).filter(l=>Uo(l)&&Kh(l)!=="body"),n=null;const i=Vo(e).position==="fixed";let a=i?yu(e):e;for(;Uo(a)&&!xh(a);){const l=Vo(a),u=bS(a);!u&&l.position==="fixed"&&(n=null),(i?!u&&!n:!u&&l.position==="static"&&!!n&&Pae.has(n.position)||Sg(a)&&!u&&c$(e,a))?s=s.filter(d=>d!==a):n=l,a=yu(a)}return r.set(e,s),s}function Mae(e){let{element:r,boundary:t,rootBoundary:s,strategy:n}=e;const a=[...t==="clippingAncestors"?Pv(r)?[]:Dae(r,this._c):[].concat(t),s],l=a[0],u=a.reduce((c,d)=>{const p=mT(r,d,n);return c.top=Na(p.top,c.top),c.right=gu(p.right,c.right),c.bottom=gu(p.bottom,c.bottom),c.left=Na(p.left,c.left),c},mT(r,l,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Rae(e){const{width:r,height:t}=a$(e);return{width:r,height:t}}function $ae(e,r,t){const s=_l(r),n=jl(r),i=t==="fixed",a=Dd(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const u=pl(0);function c(){u.x=Dv(n)}if(s||!s&&!i)if((Kh(r)!=="body"||Sg(n))&&(l=Iv(r)),s){const h=Dd(r,!0,i,r);u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}else n&&c();i&&!s&&n&&c();const d=n&&!s&&!i?l$(n,l):pl(0),p=a.left+l.scrollLeft-u.x-d.x,f=a.top+l.scrollTop-u.y-d.y;return{x:p,y:f,width:a.width,height:a.height}}function v2(e){return Vo(e).position==="static"}function gT(e,r){if(!_l(e)||Vo(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return jl(e)===t&&(t=t.ownerDocument.body),t}function u$(e,r){const t=Ia(e);if(Pv(e))return t;if(!_l(e)){let n=yu(e);for(;n&&!xh(n);){if(Uo(n)&&!v2(n))return n;n=yu(n)}return t}let s=gT(e,r);for(;s&&bae(s)&&v2(s);)s=gT(s,r);return s&&xh(s)&&v2(s)&&!bS(s)?t:s||kae(e)||t}const Oae=async function(e){const r=this.getOffsetParent||u$,t=this.getDimensions,s=await t(e.floating);return{reference:$ae(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Fae(e){return Vo(e).direction==="rtl"}const Lae={convertOffsetParentRelativeRectToViewportRelativeRect:Cae,getDocumentElement:jl,getClippingRect:Mae,getOffsetParent:u$,getElementRects:Oae,getClientRects:Tae,getDimensions:Rae,getScale:Jf,isElement:Uo,isRTL:Fae};function d$(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function zae(e,r){let t=null,s;const n=jl(e);function i(){var l;clearTimeout(s),(l=t)==null||l.disconnect(),t=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const c=e.getBoundingClientRect(),{left:d,top:p,width:f,height:h}=c;if(l||r(),!f||!h)return;const g=Ty(p),y=Ty(n.clientWidth-(d+f)),m=Ty(n.clientHeight-(p+h)),v=Ty(d),k={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:Na(0,gu(1,u))||1};let T=!0;function A(L){const q=L[0].intersectionRatio;if(q!==u){if(!T)return a();q?a(!1,q):s=setTimeout(()=>{a(!1,1e-7)},1e3)}q===1&&!d$(c,e.getBoundingClientRect())&&a(),T=!1}try{t=new IntersectionObserver(A,{...k,root:n.ownerDocument})}catch{t=new IntersectionObserver(A,k)}t.observe(e)}return a(!0),i}function Bae(e,r,t,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,c=xS(e),d=n||i?[...c?Dm(c):[],...Dm(r)]:[];d.forEach(v=>{n&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const p=c&&l?zae(c,t):null;let f=-1,h=null;a&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&h&&(h.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(r)})),t()}),c&&!u&&h.observe(c),h.observe(r));let g,y=u?Dd(e):null;u&&m();function m(){const v=Dd(e);y&&!d$(y,v)&&t(),y=v,g=requestAnimationFrame(m)}return t(),()=>{var v;d.forEach(x=>{n&&x.removeEventListener("scroll",t),i&&x.removeEventListener("resize",t)}),p?.(),(v=h)==null||v.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const Uae=fae,Vae=hae,Wae=cae,qae=mae,Hae=uae,yT=lae,Kae=pae,Zae=(e,r,t)=>{const s=new Map,n={platform:Lae,...t},i={...n.platform,_c:s};return oae(e,r,{...n,platform:i})};var Gae=typeof document<"u",Xae=function(){},ab=Gae?E.useLayoutEffect:Xae;function $b(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,s,n;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(s=t;s--!==0;)if(!$b(e[s],r[s]))return!1;return!0}if(n=Object.keys(e),t=n.length,t!==Object.keys(r).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(r,n[s]))return!1;for(s=t;s--!==0;){const i=n[s];if(!(i==="_owner"&&e.$$typeof)&&!$b(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function f$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bT(e,r){const t=f$(e);return Math.round(r*t)/t}function x2(e){const r=E.useRef(e);return ab(()=>{r.current=e}),r}function Qae(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:s=[],platform:n,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,p]=E.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[f,h]=E.useState(s);$b(f,s)||h(s);const[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useCallback(j=>{j!==L.current&&(L.current=j,y(j))},[]),k=E.useCallback(j=>{j!==q.current&&(q.current=j,v(j))},[]),T=i||g,A=a||m,L=E.useRef(null),q=E.useRef(null),D=E.useRef(d),$=u!=null,z=x2(u),K=x2(n),W=x2(c),P=E.useCallback(()=>{if(!L.current||!q.current)return;const j={placement:r,strategy:t,middleware:f};K.current&&(j.platform=K.current),Zae(L.current,q.current,j).then(N=>{const M={...N,isPositioned:W.current!==!1};R.current&&!$b(D.current,M)&&(D.current=M,Zd.flushSync(()=>{p(M)}))})},[f,r,t,K,W]);ab(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const R=E.useRef(!1);ab(()=>(R.current=!0,()=>{R.current=!1}),[]),ab(()=>{if(T&&(L.current=T),A&&(q.current=A),T&&A){if(z.current)return z.current(T,A,P);P()}},[T,A,P,z,$]);const C=E.useMemo(()=>({reference:L,floating:q,setReference:x,setFloating:k}),[x,k]),_=E.useMemo(()=>({reference:T,floating:A}),[T,A]),S=E.useMemo(()=>{const j={position:t,left:0,top:0};if(!_.floating)return j;const N=bT(_.floating,d.x),M=bT(_.floating,d.y);return l?{...j,transform:"translate("+N+"px, "+M+"px)",...f$(_.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:M}},[t,l,_.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:P,refs:C,elements:_,floatingStyles:S}),[d,P,C,_,S])}const Yae=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:s,padding:n}=typeof e=="function"?e(t):e;return s&&r(s)?s.current!=null?yT({element:s.current,padding:n}).fn(t):{}:s?yT({element:s,padding:n}).fn(t):{}}}},Jae=(e,r)=>({...Uae(e),options:[e,r]}),eoe=(e,r)=>({...Vae(e),options:[e,r]}),toe=(e,r)=>({...Kae(e),options:[e,r]}),roe=(e,r)=>({...Wae(e),options:[e,r]}),noe=(e,r)=>({...qae(e),options:[e,r]}),soe=(e,r)=>({...Hae(e),options:[e,r]}),ioe=(e,r)=>({...Yae(e),options:[e,r]});var aoe="Arrow",h$=E.forwardRef((e,r)=>{const{children:t,width:s=10,height:n=5,...i}=e;return o.jsx(qt.svg,{...i,ref:r,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});h$.displayName=aoe;var ooe=h$;function wS(e){const[r,t]=E.useState(void 0);return ri(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let a,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,l=c.blockSize}else a=e.offsetWidth,l=e.offsetHeight;t({width:a,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else t(void 0)},[e]),r}var _S="Popper",[p$,Tu]=mi(_S),[loe,m$]=p$(_S),g$=e=>{const{__scopePopper:r,children:t}=e,[s,n]=E.useState(null);return o.jsx(loe,{scope:r,anchor:s,onAnchorChange:n,children:t})};g$.displayName=_S;var y$="PopperAnchor",b$=E.forwardRef((e,r)=>{const{__scopePopper:t,virtualRef:s,...n}=e,i=m$(y$,t),a=E.useRef(null),l=Er(r,a),u=E.useRef(null);return E.useEffect(()=>{const c=u.current;u.current=s?.current||a.current,c!==u.current&&i.onAnchorChange(u.current)}),s?null:o.jsx(qt.div,{...n,ref:l})});b$.displayName=y$;var kS="PopperContent",[coe,uoe]=p$(kS),v$=E.forwardRef((e,r)=>{const{__scopePopper:t,side:s="bottom",sideOffset:n=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=e,m=m$(kS,t),[v,x]=E.useState(null),k=Er(r,Y=>x(Y)),[T,A]=E.useState(null),L=wS(T),q=L?.width??0,D=L?.height??0,$=s+(i!=="center"?"-"+i:""),z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(c)?c:[c],W=K.length>0,P={padding:z,boundary:K.filter(foe),altBoundary:W},{refs:R,floatingStyles:C,placement:_,isPositioned:S,middlewareData:j}=Qae({strategy:"fixed",placement:$,whileElementsMounted:(...Y)=>Bae(...Y,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[Jae({mainAxis:n+D,alignmentAxis:a}),u&&eoe({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?toe():void 0,...P}),u&&roe({...P}),noe({...P,apply:({elements:Y,rects:V,availableWidth:U,availableHeight:Z})=>{const{width:ie,height:me}=V.reference,ce=Y.floating.style;ce.setProperty("--radix-popper-available-width",`${U}px`),ce.setProperty("--radix-popper-available-height",`${Z}px`),ce.setProperty("--radix-popper-anchor-width",`${ie}px`),ce.setProperty("--radix-popper-anchor-height",`${me}px`)}}),T&&ioe({element:T,padding:l}),hoe({arrowWidth:q,arrowHeight:D}),f&&soe({strategy:"referenceHidden",...P})]}),[N,M]=_$(_),O=ji(g);ri(()=>{S&&O?.()},[S,O]);const B=j.arrow?.x,G=j.arrow?.y,Q=j.arrow?.centerOffset!==0,[re,F]=E.useState();return ri(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:S?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(coe,{scope:t,placedSide:N,onArrowChange:A,arrowX:B,arrowY:G,shouldHideArrow:Q,children:o.jsx(qt.div,{"data-side":N,"data-align":M,...y,ref:k,style:{...y.style,animation:S?void 0:"none"}})})})});v$.displayName=kS;var x$="PopperArrow",doe={top:"bottom",right:"left",bottom:"top",left:"right"},w$=E.forwardRef(function(r,t){const{__scopePopper:s,...n}=r,i=uoe(x$,s),a=doe[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(ooe,{...n,ref:t,style:{...n.style,display:"block"}})})});w$.displayName=x$;function foe(e){return e!==null}var hoe=e=>({name:"transformOrigin",options:e,fn(r){const{placement:t,rects:s,middlewareData:n}=r,a=n.arrow?.centerOffset!==0,l=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[c,d]=_$(t),p={start:"0%",center:"50%",end:"100%"}[d],f=(n.arrow?.x??0)+l/2,h=(n.arrow?.y??0)+u/2;let g="",y="";return c==="bottom"?(g=a?p:`${f}px`,y=`${-u}px`):c==="top"?(g=a?p:`${f}px`,y=`${s.floating.height+u}px`):c==="right"?(g=`${-u}px`,y=a?p:`${h}px`):c==="left"&&(g=`${s.floating.width+u}px`,y=a?p:`${h}px`),{data:{x:g,y}}}});function _$(e){const[r,t="center"]=e.split("-");return[r,t]}var Mv=g$,jg=b$,Rv=v$,$v=w$,poe=Symbol("radix.slottable");function moe(e){const r=({children:t})=>o.jsx(o.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=poe,r}var goe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yoe="VisuallyHidden",k$=E.forwardRef((e,r)=>o.jsx(qt.span,{...e,ref:r,style:{...goe,...e.style}}));k$.displayName=yoe;var boe=k$,[Ov]=mi("Tooltip",[Tu]),Fv=Tu(),S$="TooltipProvider",voe=700,jk="tooltip.open",[xoe,SS]=Ov(S$),j$=e=>{const{__scopeTooltip:r,delayDuration:t=voe,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=e,a=E.useRef(!0),l=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),o.jsx(xoe,{scope:r,isOpenDelayedRef:a,delayDuration:t,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(c=>{l.current=c},[]),disableHoverableContent:n,children:i})};j$.displayName=S$;var Mm="Tooltip",[woe,Lv]=Ov(Mm),N$=e=>{const{__scopeTooltip:r,children:t,open:s,defaultOpen:n,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,u=SS(Mm,e.__scopeTooltip),c=Fv(r),[d,p]=E.useState(null),f=Pa(),h=E.useRef(0),g=a??u.disableHoverableContent,y=l??u.delayDuration,m=E.useRef(!1),[v,x]=fo({prop:s,defaultProp:n??!1,onChange:q=>{q?(u.onOpen(),document.dispatchEvent(new CustomEvent(jk))):u.onClose(),i?.(q)},caller:Mm}),k=E.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),T=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,x(!0)},[x]),A=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),L=E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,x(!0),h.current=0},y)},[y,x]);return E.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),o.jsx(Mv,{...c,children:o.jsx(woe,{scope:r,contentId:f,open:v,stateAttribute:k,trigger:d,onTriggerChange:p,onTriggerEnter:E.useCallback(()=>{u.isOpenDelayedRef.current?L():T()},[u.isOpenDelayedRef,L,T]),onTriggerLeave:E.useCallback(()=>{g?A():(window.clearTimeout(h.current),h.current=0)},[A,g]),onOpen:T,onClose:A,disableHoverableContent:g,children:t})})};N$.displayName=Mm;var Nk="TooltipTrigger",C$=E.forwardRef((e,r)=>{const{__scopeTooltip:t,...s}=e,n=Lv(Nk,t),i=SS(Nk,t),a=Fv(t),l=E.useRef(null),u=Er(r,l,n.onTriggerChange),c=E.useRef(!1),d=E.useRef(!1),p=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),o.jsx(jg,{asChild:!0,...a,children:o.jsx(qt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:u,onPointerMove:mt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:mt(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:mt(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:mt(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:mt(e.onBlur,n.onClose),onClick:mt(e.onClick,n.onClose)})})});C$.displayName=Nk;var _oe="TooltipPortal",[cAe,koe]=Ov(_oe,{forceMount:void 0}),wh="TooltipContent",T$=E.forwardRef((e,r)=>{const t=koe(wh,e.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...i}=e,a=Lv(wh,e.__scopeTooltip);return o.jsx(js,{present:s||a.open,children:a.disableHoverableContent?o.jsx(E$,{side:n,...i,ref:r}):o.jsx(Soe,{side:n,...i,ref:r})})}),Soe=E.forwardRef((e,r)=>{const t=Lv(wh,e.__scopeTooltip),s=SS(wh,e.__scopeTooltip),n=E.useRef(null),i=Er(r,n),[a,l]=E.useState(null),{trigger:u,onClose:c}=t,d=n.current,{onPointerInTransitChange:p}=s,f=E.useCallback(()=>{l(null),p(!1)},[p]),h=E.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},x=Eoe(v,m.getBoundingClientRect()),k=Aoe(v,x),T=Poe(y.getBoundingClientRect()),A=Doe([...k,...T]);l(A),p(!0)},[p]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(u&&d){const g=m=>h(m,d),y=m=>h(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,h,f]),E.useEffect(()=>{if(a){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},x=u?.contains(m)||d?.contains(m),k=!Ioe(v,a);x?f():k&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,a,c,f]),o.jsx(E$,{...e,ref:i})}),[joe,Noe]=Ov(Mm,{isInside:!1}),Coe=moe("TooltipContent"),E$=E.forwardRef((e,r)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,u=Lv(wh,t),c=Fv(t),{onClose:d}=u;return E.useEffect(()=>(document.addEventListener(jk,d),()=>document.removeEventListener(jk,d)),[d]),E.useEffect(()=>{if(u.trigger){const p=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:o.jsxs(Rv,{"data-state":u.stateAttribute,...c,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Coe,{children:s}),o.jsx(joe,{scope:t,isInside:!0,children:o.jsx(boe,{id:u.contentId,role:"tooltip",children:n||s})})]})})});T$.displayName=wh;var A$="TooltipArrow",Toe=E.forwardRef((e,r)=>{const{__scopeTooltip:t,...s}=e,n=Fv(t);return Noe(A$,t).isInside?null:o.jsx($v,{...n,...s,ref:r})});Toe.displayName=A$;function Eoe(e,r){const t=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),n=Math.abs(r.right-e.x),i=Math.abs(r.left-e.x);switch(Math.min(t,s,n,i)){case i:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Aoe(e,r,t=5){const s=[];switch(r){case"top":s.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":s.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":s.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":s.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return s}function Poe(e){const{top:r,right:t,bottom:s,left:n}=e;return[{x:n,y:r},{x:t,y:r},{x:t,y:s},{x:n,y:s}]}function Ioe(e,r){const{x:t,y:s}=e;let n=!1;for(let i=0,a=r.length-1;i<r.length;a=i++){const l=r[i],u=r[a],c=l.x,d=l.y,p=u.x,f=u.y;d>s!=f>s&&t<(p-c)*(s-d)/(f-d)+c&&(n=!n)}return n}function Doe(e){const r=e.slice();return r.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),Moe(r)}function Moe(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const n=e[s];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(n.y-a.y)>=(i.y-a.y)*(n.x-a.x))r.pop();else break}r.push(n)}r.pop();const t=[];for(let s=e.length-1;s>=0;s--){const n=e[s];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(n.y-a.y)>=(i.y-a.y)*(n.x-a.x))t.pop();else break}t.push(n)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}var Roe=j$,$oe=N$,Ooe=C$,P$=T$;const zv=Roe,jS=$oe,NS=Ooe,Bv=E.forwardRef(({className:e,sideOffset:r=4,...t},s)=>o.jsx(P$,{ref:s,sideOffset:r,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...t}));Bv.displayName=P$.displayName;const ir=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ir.displayName="Card";const fs=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("flex flex-col space-y-1.5 p-6",e),...r}));fs.displayName="CardHeader";const xs=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...r}));xs.displayName="CardTitle";const ru=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("text-sm text-muted-foreground",e),...r}));ru.displayName="CardDescription";const br=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("p-6 pt-0",e),...r}));br.displayName="CardContent";const Foe=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("flex items-center p-6 pt-0",e),...r}));Foe.displayName="CardFooter";function Loe(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(ir,{className:"w-full max-w-md mx-4",children:o.jsxs(br,{className:"pt-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ti,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Ng=e=>e.type==="checkbox",id=e=>e instanceof Date,oa=e=>e==null;const I$=e=>typeof e=="object";var _s=e=>!oa(e)&&!Array.isArray(e)&&I$(e)&&!id(e),D$=e=>_s(e)&&e.target?Ng(e.target)?e.target.checked:e.target.value:e,zoe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,M$=(e,r)=>e.has(zoe(r)),Boe=e=>{const r=e.constructor&&e.constructor.prototype;return _s(r)&&r.hasOwnProperty("isPrototypeOf")},CS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ys(e){if(e instanceof Date)return new Date(e);const r=typeof FileList<"u"&&e instanceof FileList;if(CS&&(e instanceof Blob||r))return e;const t=Array.isArray(e);if(!t&&!(_s(e)&&Boe(e)))return e;const s=t?[]:Object.create(Object.getPrototypeOf(e));for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=ys(e[n]));return s}var Uv=e=>/^\w*$/.test(e),zn=e=>e===void 0,TS=e=>Array.isArray(e)?e.filter(Boolean):[],ES=e=>TS(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(e,r,t)=>{if(!r||!_s(e))return t;const s=(Uv(r)?[r]:ES(r)).reduce((n,i)=>oa(n)?n:n[i],e);return zn(s)||s===e?zn(e[r])?t:e[r]:s},ja=e=>typeof e=="boolean",Wi=e=>typeof e=="function",mn=(e,r,t)=>{let s=-1;const n=Uv(r)?[r]:ES(r),i=n.length,a=i-1;for(;++s<i;){const l=n[s];let u=t;if(s!==a){const c=e[l];u=_s(c)||Array.isArray(c)?c:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const Ob={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ol={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AS=Zt.createContext(null);AS.displayName="HookFormControlContext";const PS=()=>Zt.useContext(AS);var R$=(e,r,t,s=!0)=>{const n={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const a=i;return r._proxyFormState[a]!==Io.all&&(r._proxyFormState[a]=!s||Io.all),t&&(t[a]=!0),e[a]}});return n};const IS=typeof window<"u"?Zt.useLayoutEffect:Zt.useEffect;function Uoe(e){const r=PS(),{control:t=r,disabled:s,name:n,exact:i}=e||{},[a,l]=Zt.useState(t._formState),u=Zt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return IS(()=>t._subscribe({name:n,formState:u.current,exact:i,callback:c=>{!s&&l({...t._formState,...c})}}),[n,s,i]),Zt.useEffect(()=>{u.current.isValid&&t._setValid(!0)},[t]),Zt.useMemo(()=>R$(a,t,u.current,!1),[a,t])}var Ca=e=>typeof e=="string",Ck=(e,r,t,s,n)=>Ca(e)?(s&&r.watch.add(e),kt(t,e,n)):Array.isArray(e)?e.map(i=>(s&&r.watch.add(i),kt(t,i))):(s&&(r.watchAll=!0),t),Tk=e=>oa(e)||!I$(e);function Do(e,r,t=new WeakSet){if(Tk(e)||Tk(r))return Object.is(e,r);if(id(e)&&id(r))return Object.is(e.getTime(),r.getTime());const s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const i of s){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=r[i];if(id(a)&&id(l)||_s(a)&&_s(l)||Array.isArray(a)&&Array.isArray(l)?!Do(a,l,t):!Object.is(a,l))return!1}}return!0}function Voe(e){const r=PS(),{control:t=r,name:s,defaultValue:n,disabled:i,exact:a,compute:l}=e||{},u=Zt.useRef(n),c=Zt.useRef(l),d=Zt.useRef(void 0),p=Zt.useRef(t),f=Zt.useRef(s);c.current=l;const[h,g]=Zt.useState(()=>{const T=t._getWatch(s,u.current);return c.current?c.current(T):T}),y=Zt.useCallback(T=>{const A=Ck(s,t._names,T||t._formValues,!1,u.current);return c.current?c.current(A):A},[t._formValues,t._names,s]),m=Zt.useCallback(T=>{if(!i){const A=Ck(s,t._names,T||t._formValues,!1,u.current);if(c.current){const L=c.current(A);Do(L,d.current)||(g(L),d.current=L)}else g(A)}},[t._formValues,t._names,i,s]);IS(()=>((p.current!==t||!Do(f.current,s))&&(p.current=t,f.current=s,m()),t._subscribe({name:s,formState:{values:!0},exact:a,callback:T=>{m(T.values)}})),[t,a,s,m]),Zt.useEffect(()=>t._removeUnmounted());const v=p.current!==t,x=f.current,k=Zt.useMemo(()=>{if(i)return null;const T=!v&&!Do(x,s);return v||T?y():null},[i,v,s,x,y]);return k!==null?k:h}function Woe(e){const r=PS(),{name:t,disabled:s,control:n=r,shouldUnregister:i,defaultValue:a,exact:l=!0}=e,u=M$(n._names.array,t),c=Zt.useMemo(()=>kt(n._formValues,t,kt(n._defaultValues,t,a)),[n,t,a]),d=Voe({control:n,name:t,defaultValue:c,exact:l}),p=Uoe({control:n,name:t,exact:l}),f=Zt.useRef(e),h=Zt.useRef(void 0),g=Zt.useRef(n.register(t,{...e.rules,value:d,...ja(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const y=Zt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!kt(p.errors,t)},isDirty:{enumerable:!0,get:()=>!!kt(p.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!kt(p.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!kt(p.validatingFields,t)},error:{enumerable:!0,get:()=>kt(p.errors,t)}}),[p,t]),m=Zt.useCallback(T=>g.current.onChange({target:{value:D$(T),name:t},type:Ob.CHANGE}),[t]),v=Zt.useCallback(()=>g.current.onBlur({target:{value:kt(n._formValues,t),name:t},type:Ob.BLUR}),[t,n._formValues]),x=Zt.useCallback(T=>{const A=kt(n._fields,t);A&&A._f&&T&&(A._f.ref={focus:()=>Wi(T.focus)&&T.focus(),select:()=>Wi(T.select)&&T.select(),setCustomValidity:L=>Wi(T.setCustomValidity)&&T.setCustomValidity(L),reportValidity:()=>Wi(T.reportValidity)&&T.reportValidity()})},[n._fields,t]),k=Zt.useMemo(()=>({name:t,value:d,...ja(s)||p.disabled?{disabled:p.disabled||s}:{},onChange:m,onBlur:v,ref:x}),[t,s,p.disabled,m,v,x,d]);return Zt.useEffect(()=>{const T=n._options.shouldUnregister||i,A=h.current;A&&A!==t&&!u&&n.unregister(A),n.register(t,{...f.current.rules,...ja(f.current.disabled)?{disabled:f.current.disabled}:{}});const L=(q,D)=>{const $=kt(n._fields,q);$&&$._f&&($._f.mount=D)};if(L(t,!0),T){const q=ys(kt(n._options.defaultValues,t,f.current.defaultValue));mn(n._defaultValues,t,q),zn(kt(n._formValues,t))&&mn(n._formValues,t,q)}return!u&&n.register(t),h.current=t,()=>{(u?T&&!n._state.action:T)?n.unregister(t):L(t,!1)}},[t,n,u,i]),Zt.useEffect(()=>{n._setDisabledField({disabled:s,name:t})},[s,t,n]),Zt.useMemo(()=>({field:k,formState:p,fieldState:y}),[k,p,y])}const $$=e=>e.render(Woe(e)),DS=Zt.createContext(null);DS.displayName="HookFormContext";const qoe=()=>Zt.useContext(DS),Hoe=e=>{const{children:r,watch:t,getValues:s,getFieldState:n,setError:i,clearErrors:a,setValue:l,trigger:u,formState:c,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}=e;return Zt.createElement(DS.Provider,{value:Zt.useMemo(()=>({watch:t,getValues:s,getFieldState:n,setError:i,clearErrors:a,setValue:l,trigger:u,formState:c,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}),[a,g,c,n,s,f,y,p,d,i,m,l,v,u,h,t])},Zt.createElement(AS.Provider,{value:g},r))};var O$=(e,r,t,s,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{},mm=e=>Array.isArray(e)?e:[e],vT=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}};function F$(e,r){const t={};for(const s in e)if(e.hasOwnProperty(s)){const n=e[s],i=r[s];if(n&&_s(n)&&i){const a=F$(n,i);_s(a)&&(t[s]=a)}else e[s]&&(t[s]=i)}return t}var Bi=e=>_s(e)&&!Object.keys(e).length,MS=e=>e.type==="file",Fb=e=>{if(!CS)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},L$=e=>e.type==="select-multiple",RS=e=>e.type==="radio",Koe=e=>RS(e)||Ng(e),w2=e=>Fb(e)&&e.isConnected;function Zoe(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=zn(e)?s++:e[r[s++]];return e}function Goe(e){for(const r in e)if(e.hasOwnProperty(r)&&!zn(e[r]))return!1;return!0}function bs(e,r){const t=Array.isArray(r)?r:Uv(r)?[r]:ES(r),s=t.length===1?e:Zoe(e,t),n=t.length-1,i=t[n];return s&&delete s[i],n!==0&&(_s(s)&&Bi(s)||Array.isArray(s)&&Goe(s))&&bs(e,t.slice(0,-1)),e}var Xoe=e=>{for(const r in e)if(Wi(e[r]))return!0;return!1};function z$(e){return Array.isArray(e)||_s(e)&&!Xoe(e)}function Ek(e,r={}){for(const t in e){const s=e[t];z$(s)?(r[t]=Array.isArray(s)?[]:{},Ek(s,r[t])):zn(s)||(r[t]=!0)}return r}function Bf(e,r,t){t||(t=Ek(r));for(const s in e){const n=e[s];if(z$(n))zn(r)||Tk(t[s])?t[s]=Ek(n,Array.isArray(n)?[]:{}):Bf(n,oa(r)?{}:r[s],t[s]);else{const i=r[s];t[s]=!Do(n,i)}}return t}const xT={value:!1,isValid:!1},wT={value:!0,isValid:!0};var B$=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zn(e[0].attributes.value)?zn(e[0].value)||e[0].value===""?wT:{value:e[0].value,isValid:!0}:wT:xT}return xT},U$=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>zn(e)?e:r?e===""?NaN:e&&+e:t&&Ca(e)?new Date(e):s?s(e):e;const _T={isValid:!1,value:null};var V$=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,_T):_T;function kT(e){const r=e.ref;return MS(r)?r.files:RS(r)?V$(e.refs).value:L$(r)?[...r.selectedOptions].map(({value:t})=>t):Ng(r)?B$(e.refs).value:U$(zn(r.value)?e.ref.value:r.value,e)}var Qoe=(e,r,t,s)=>{const n={};for(const i of e){const a=kt(r,i);a&&mn(n,i,a._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},Lb=e=>e instanceof RegExp,Hp=e=>zn(e)?e:Lb(e)?e.source:_s(e)?Lb(e.value)?e.value.source:e.value:e,ST=e=>({isOnSubmit:!e||e===Io.onSubmit,isOnBlur:e===Io.onBlur,isOnChange:e===Io.onChange,isOnAll:e===Io.all,isOnTouch:e===Io.onTouched});const jT="AsyncFunction";var Yoe=e=>!!e&&!!e.validate&&!!(Wi(e.validate)&&e.validate.constructor.name===jT||_s(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===jT)),Joe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),NT=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const gm=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const i=kt(e,n);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],n)&&!s)return!0;if(a.ref&&r(a.ref,a.name)&&!s)return!0;if(gm(l,r))break}else if(_s(l)&&gm(l,r))break}}};function CT(e,r,t){const s=kt(e,t);if(s||Uv(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),a=kt(r,i),l=kt(e,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:t}}var ele=(e,r,t,s)=>{t(e);const{name:n,...i}=e;return Bi(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(a=>r[a]===(!s||Io.all))},tle=(e,r,t)=>!e||!r||e===r||mm(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),rle=(e,r,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?s.isOnBlur:n.isOnBlur)?!e:(t?s.isOnChange:n.isOnChange)?e:!0,nle=(e,r)=>!TS(kt(e,r)).length&&bs(e,r),sle=(e,r,t)=>{const s=mm(kt(e,t));return mn(s,"root",r[t]),mn(e,t,s),e};function TT(e,r,t="validate"){if(Ca(e)||Array.isArray(e)&&e.every(Ca)||ja(e)&&!e)return{type:t,message:Ca(e)?e:"",ref:r}}var Df=e=>_s(e)&&!Lb(e)?e:{value:e,message:""},ET=async(e,r,t,s,n,i)=>{const{ref:a,refs:l,required:u,maxLength:c,minLength:d,min:p,max:f,pattern:h,validate:g,name:y,valueAsNumber:m,mount:v}=e._f,x=kt(t,y);if(!v||r.has(y))return{};const k=l?l[0]:a,T=W=>{n&&k.reportValidity&&(k.setCustomValidity(ja(W)?"":W||""),k.reportValidity())},A={},L=RS(a),q=Ng(a),D=L||q,$=(m||MS(a))&&zn(a.value)&&zn(x)||Fb(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,z=O$.bind(null,y,s,A),K=(W,P,R,C=Ol.maxLength,_=Ol.minLength)=>{const S=W?P:R;A[y]={type:W?C:_,message:S,ref:a,...z(W?C:_,S)}};if(i?!Array.isArray(x)||!x.length:u&&(!D&&($||oa(x))||ja(x)&&!x||q&&!B$(l).isValid||L&&!V$(l).isValid)){const{value:W,message:P}=Ca(u)?{value:!!u,message:u}:Df(u);if(W&&(A[y]={type:Ol.required,message:P,ref:k,...z(Ol.required,P)},!s))return T(P),A}if(!$&&(!oa(p)||!oa(f))){let W,P;const R=Df(f),C=Df(p);if(!oa(x)&&!isNaN(x)){const _=a.valueAsNumber||x&&+x;oa(R.value)||(W=_>R.value),oa(C.value)||(P=_<C.value)}else{const _=a.valueAsDate||new Date(x),S=M=>new Date(new Date().toDateString()+" "+M),j=a.type=="time",N=a.type=="week";Ca(R.value)&&x&&(W=j?S(x)>S(R.value):N?x>R.value:_>new Date(R.value)),Ca(C.value)&&x&&(P=j?S(x)<S(C.value):N?x<C.value:_<new Date(C.value))}if((W||P)&&(K(!!W,R.message,C.message,Ol.max,Ol.min),!s))return T(A[y].message),A}if((c||d)&&!$&&(Ca(x)||i&&Array.isArray(x))){const W=Df(c),P=Df(d),R=!oa(W.value)&&x.length>+W.value,C=!oa(P.value)&&x.length<+P.value;if((R||C)&&(K(R,W.message,P.message),!s))return T(A[y].message),A}if(h&&!$&&Ca(x)){const{value:W,message:P}=Df(h);if(Lb(W)&&!x.match(W)&&(A[y]={type:Ol.pattern,message:P,ref:a,...z(Ol.pattern,P)},!s))return T(P),A}if(g){if(Wi(g)){const W=await g(x,t),P=TT(W,k);if(P&&(A[y]={...P,...z(Ol.validate,P.message)},!s))return T(P.message),A}else if(_s(g)){let W={};for(const P in g){if(!Bi(W)&&!s)break;const R=TT(await g[P](x,t),k,P);R&&(W={...R,...z(P,R.message)},T(R.message),s&&(A[y]=W))}if(!Bi(W)&&(A[y]={ref:k,...W},!s))return A}}return T(!0),A};const ile={mode:Io.onSubmit,reValidateMode:Io.onChange,shouldFocusError:!0};function ale(e={}){let r={...ile,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wi(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},n=_s(r.defaultValues)||_s(r.values)?ys(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:ys(n),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={...d};let f={...p};const h={array:vT(),state:vT()},g=r.criteriaMode===Io.all,y=te=>se=>{clearTimeout(c),c=setTimeout(te,se)},m=async te=>{if(!a.keepIsValid&&!r.disabled&&(p.isValid||f.isValid||te)){let se;r.resolver?(se=Bi((await D()).errors),v()):se=await z(s,!0),se!==t.isValid&&h.state.next({isValid:se})}},v=(te,se)=>{!r.disabled&&(p.isValidating||p.validatingFields||f.isValidating||f.validatingFields)&&((te||Array.from(l.mount)).forEach(de=>{de&&(se?mn(t.validatingFields,de,se):bs(t.validatingFields,de))}),h.state.next({validatingFields:t.validatingFields,isValidating:!Bi(t.validatingFields)}))},x=(te,se=[],de,ge,ke=!0,Ee=!0)=>{if(ge&&de&&!r.disabled){if(a.action=!0,Ee&&Array.isArray(kt(s,te))){const Oe=de(kt(s,te),ge.argA,ge.argB);ke&&mn(s,te,Oe)}if(Ee&&Array.isArray(kt(t.errors,te))){const Oe=de(kt(t.errors,te),ge.argA,ge.argB);ke&&mn(t.errors,te,Oe),nle(t.errors,te)}if((p.touchedFields||f.touchedFields)&&Ee&&Array.isArray(kt(t.touchedFields,te))){const Oe=de(kt(t.touchedFields,te),ge.argA,ge.argB);ke&&mn(t.touchedFields,te,Oe)}(p.dirtyFields||f.dirtyFields)&&(t.dirtyFields=Bf(n,i)),h.state.next({name:te,isDirty:W(te,se),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else mn(i,te,se)},k=(te,se)=>{mn(t.errors,te,se),h.state.next({errors:t.errors})},T=te=>{t.errors=te,h.state.next({errors:t.errors,isValid:!1})},A=(te,se,de,ge)=>{const ke=kt(s,te);if(ke){const Ee=kt(i,te,zn(de)?kt(n,te):de);zn(Ee)||ge&&ge.defaultChecked||se?mn(i,te,se?Ee:kT(ke._f)):C(te,Ee),a.mount&&!a.action&&m()}},L=(te,se,de,ge,ke)=>{let Ee=!1,Oe=!1;const Le={name:te};if(!r.disabled){if(!de||ge){(p.isDirty||f.isDirty)&&(Oe=t.isDirty,t.isDirty=Le.isDirty=W(),Ee=Oe!==Le.isDirty);const Ge=Do(kt(n,te),se);Oe=!!kt(t.dirtyFields,te),Ge?bs(t.dirtyFields,te):mn(t.dirtyFields,te,!0),Le.dirtyFields=t.dirtyFields,Ee=Ee||(p.dirtyFields||f.dirtyFields)&&Oe!==!Ge}if(de){const Ge=kt(t.touchedFields,te);Ge||(mn(t.touchedFields,te,de),Le.touchedFields=t.touchedFields,Ee=Ee||(p.touchedFields||f.touchedFields)&&Ge!==de)}Ee&&ke&&h.state.next(Le)}return Ee?Le:{}},q=(te,se,de,ge)=>{const ke=kt(t.errors,te),Ee=(p.isValid||f.isValid)&&ja(se)&&t.isValid!==se;if(r.delayError&&de?(u=y(()=>k(te,de)),u(r.delayError)):(clearTimeout(c),u=null,de?mn(t.errors,te,de):bs(t.errors,te)),(de?!Do(ke,de):ke)||!Bi(ge)||Ee){const Oe={...ge,...Ee&&ja(se)?{isValid:se}:{},errors:t.errors,name:te};t={...t,...Oe},h.state.next(Oe)}},D=async te=>(v(te,!0),await r.resolver(i,r.context,Qoe(te||l.mount,s,r.criteriaMode,r.shouldUseNativeValidation))),$=async te=>{const{errors:se}=await D(te);if(v(te),te)for(const de of te){const ge=kt(se,de);ge?mn(t.errors,de,ge):bs(t.errors,de)}else t.errors=se;return se},z=async(te,se,de={valid:!0})=>{for(const ge in te){const ke=te[ge];if(ke){const{_f:Ee,...Oe}=ke;if(Ee){const Le=l.array.has(Ee.name),Ge=ke._f&&Yoe(ke._f);Ge&&p.validatingFields&&v([Ee.name],!0);const Qe=await ET(ke,l.disabled,i,g,r.shouldUseNativeValidation&&!se,Le);if(Ge&&p.validatingFields&&v([Ee.name]),Qe[Ee.name]&&(de.valid=!1,se||e.shouldUseNativeValidation))break;!se&&(kt(Qe,Ee.name)?Le?sle(t.errors,Qe,Ee.name):mn(t.errors,Ee.name,Qe[Ee.name]):bs(t.errors,Ee.name))}!Bi(Oe)&&await z(Oe,se,de)}}return de.valid},K=()=>{for(const te of l.unMount){const se=kt(s,te);se&&(se._f.refs?se._f.refs.every(de=>!w2(de)):!w2(se._f.ref))&&V(te)}l.unMount=new Set},W=(te,se)=>!r.disabled&&(te&&se&&mn(i,te,se),!Do(O(),n)),P=(te,se,de)=>Ck(te,l,{...a.mount?i:zn(se)?n:Ca(te)?{[te]:se}:se},de,se),R=te=>TS(kt(a.mount?i:n,te,r.shouldUnregister?kt(n,te,[]):[])),C=(te,se,de={})=>{const ge=kt(s,te);let ke=se;if(ge){const Ee=ge._f;Ee&&(!Ee.disabled&&mn(i,te,U$(se,Ee)),ke=Fb(Ee.ref)&&oa(se)?"":se,L$(Ee.ref)?[...Ee.ref.options].forEach(Oe=>Oe.selected=ke.includes(Oe.value)):Ee.refs?Ng(Ee.ref)?Ee.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(ke)?Oe.checked=!!ke.find(Le=>Le===Oe.value):Oe.checked=ke===Oe.value||!!ke)}):Ee.refs.forEach(Oe=>Oe.checked=Oe.value===ke):MS(Ee.ref)?Ee.ref.value="":(Ee.ref.value=ke,Ee.ref.type||h.state.next({name:te,values:ys(i)})))}(de.shouldDirty||de.shouldTouch)&&L(te,ke,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&M(te)},_=(te,se,de)=>{for(const ge in se){if(!se.hasOwnProperty(ge))return;const ke=se[ge],Ee=te+"."+ge,Oe=kt(s,Ee);(l.array.has(te)||_s(ke)||Oe&&!Oe._f)&&!id(ke)?_(Ee,ke,de):C(Ee,ke,de)}},S=(te,se,de={})=>{const ge=kt(s,te),ke=l.array.has(te),Ee=ys(se);mn(i,te,Ee),ke?(h.array.next({name:te,values:ys(i)}),(p.isDirty||p.dirtyFields||f.isDirty||f.dirtyFields)&&de.shouldDirty&&h.state.next({name:te,dirtyFields:Bf(n,i),isDirty:W(te,Ee)})):ge&&!ge._f&&!oa(Ee)?_(te,Ee,de):C(te,Ee,de),NT(te,l)?h.state.next({...t,name:te,values:ys(i)}):h.state.next({name:a.mount?te:void 0,values:ys(i)})},j=async te=>{a.mount=!0;const se=te.target;let de=se.name,ge=!0;const ke=kt(s,de),Ee=Ge=>{ge=Number.isNaN(Ge)||id(Ge)&&isNaN(Ge.getTime())||Do(Ge,kt(i,de,Ge))},Oe=ST(r.mode),Le=ST(r.reValidateMode);if(ke){let Ge,Qe;const yt=se.type?kT(ke._f):D$(te),it=te.type===Ob.BLUR||te.type===Ob.FOCUS_OUT,et=!Joe(ke._f)&&!r.resolver&&!kt(t.errors,de)&&!ke._f.deps||rle(it,kt(t.touchedFields,de),t.isSubmitted,Le,Oe),xe=NT(de,l,it);mn(i,de,yt),it?(!se||!se.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(te),u&&u(0)):ke._f.onChange&&ke._f.onChange(te);const be=L(de,yt,it),Ve=!Bi(be)||xe;if(!it&&h.state.next({name:de,type:te.type,values:ys(i)}),et)return(p.isValid||f.isValid)&&(r.mode==="onBlur"?it&&m():it||m()),Ve&&h.state.next({name:de,...xe?{}:be});if(!it&&xe&&h.state.next({...t}),r.resolver){const{errors:Xe}=await D([de]);if(v([de]),Ee(yt),ge){const Mt=CT(t.errors,s,de),Xt=CT(Xe,s,Mt.name||de);Ge=Xt.error,de=Xt.name,Qe=Bi(Xe)}}else v([de],!0),Ge=(await ET(ke,l.disabled,i,g,r.shouldUseNativeValidation))[de],v([de]),Ee(yt),ge&&(Ge?Qe=!1:(p.isValid||f.isValid)&&(Qe=await z(s,!0)));ge&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&M(ke._f.deps),q(de,Qe,Ge,be))}},N=(te,se)=>{if(kt(t.errors,se)&&te.focus)return te.focus(),1},M=async(te,se={})=>{let de,ge;const ke=mm(te);if(r.resolver){const Ee=await $(zn(te)?te:ke);de=Bi(Ee),ge=te?!ke.some(Oe=>kt(Ee,Oe)):de}else te?(ge=(await Promise.all(ke.map(async Ee=>{const Oe=kt(s,Ee);return await z(Oe&&Oe._f?{[Ee]:Oe}:Oe)}))).every(Boolean),!(!ge&&!t.isValid)&&m()):ge=de=await z(s);return h.state.next({...!Ca(te)||(p.isValid||f.isValid)&&de!==t.isValid?{}:{name:te},...r.resolver||!te?{isValid:de}:{},errors:t.errors}),se.shouldFocus&&!ge&&gm(s,N,te?ke:l.mount),ge},O=(te,se)=>{let de={...a.mount?i:n};return se&&(de=F$(se.dirtyFields?t.dirtyFields:t.touchedFields,de)),zn(te)?de:Ca(te)?kt(de,te):te.map(ge=>kt(de,ge))},B=(te,se)=>({invalid:!!kt((se||t).errors,te),isDirty:!!kt((se||t).dirtyFields,te),error:kt((se||t).errors,te),isValidating:!!kt(t.validatingFields,te),isTouched:!!kt((se||t).touchedFields,te)}),G=te=>{te&&mm(te).forEach(se=>bs(t.errors,se)),h.state.next({errors:te?t.errors:{}})},Q=(te,se,de)=>{const ge=(kt(s,te,{_f:{}})._f||{}).ref,ke=kt(t.errors,te)||{},{ref:Ee,message:Oe,type:Le,...Ge}=ke;mn(t.errors,te,{...Ge,...se,ref:ge}),h.state.next({name:te,errors:t.errors,isValid:!1}),de&&de.shouldFocus&&ge&&ge.focus&&ge.focus()},re=(te,se)=>Wi(te)?h.state.subscribe({next:de=>"values"in de&&te(P(void 0,se),de)}):P(te,se,!0),F=te=>h.state.subscribe({next:se=>{tle(te.name,se.name,te.exact)&&ele(se,te.formState||p,fe,te.reRenderRoot)&&te.callback({values:{...i},...t,...se,defaultValues:n})}}).unsubscribe,Y=te=>(a.mount=!0,f={...f,...te.formState},F({...te,formState:{...d,...te.formState}})),V=(te,se={})=>{for(const de of te?mm(te):l.mount)l.mount.delete(de),l.array.delete(de),se.keepValue||(bs(s,de),bs(i,de)),!se.keepError&&bs(t.errors,de),!se.keepDirty&&bs(t.dirtyFields,de),!se.keepTouched&&bs(t.touchedFields,de),!se.keepIsValidating&&bs(t.validatingFields,de),!r.shouldUnregister&&!se.keepDefaultValue&&bs(n,de);h.state.next({values:ys(i)}),h.state.next({...t,...se.keepDirty?{isDirty:W()}:{}}),!se.keepIsValid&&m()},U=({disabled:te,name:se})=>{if(ja(te)&&a.mount||te||l.disabled.has(se)){const ke=l.disabled.has(se)!==!!te;te?l.disabled.add(se):l.disabled.delete(se),ke&&a.mount&&!a.action&&m()}},Z=(te,se={})=>{let de=kt(s,te);const ge=ja(se.disabled)||ja(r.disabled);return mn(s,te,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:te}},name:te,mount:!0,...se}}),l.mount.add(te),de?U({disabled:ja(se.disabled)?se.disabled:r.disabled,name:te}):A(te,!0,se.value),{...ge?{disabled:se.disabled||r.disabled}:{},...r.progressive?{required:!!se.required,min:Hp(se.min),max:Hp(se.max),minLength:Hp(se.minLength),maxLength:Hp(se.maxLength),pattern:Hp(se.pattern)}:{},name:te,onChange:j,onBlur:j,ref:ke=>{if(ke){Z(te,se),de=kt(s,te);const Ee=zn(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Oe=Koe(Ee),Le=de._f.refs||[];if(Oe?Le.find(Ge=>Ge===Ee):Ee===de._f.ref)return;mn(s,te,{_f:{...de._f,...Oe?{refs:[...Le.filter(w2),Ee,...Array.isArray(kt(n,te))?[{}]:[]],ref:{type:Ee.type,name:te}}:{ref:Ee}}}),A(te,!1,void 0,Ee)}else de=kt(s,te,{}),de._f&&(de._f.mount=!1),(r.shouldUnregister||se.shouldUnregister)&&!(M$(l.array,te)&&a.action)&&l.unMount.add(te)}}},ie=()=>r.shouldFocusError&&gm(s,N,l.mount),me=te=>{ja(te)&&(h.state.next({disabled:te}),gm(s,(se,de)=>{const ge=kt(s,de);ge&&(se.disabled=ge._f.disabled||te,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(ke=>{ke.disabled=ge._f.disabled||te}))},0,!1))},ce=(te,se)=>async de=>{let ge;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let ke=ys(i);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Ee,values:Oe}=await D();v(),t.errors=Ee,ke=ys(Oe)}else await z(s);if(l.disabled.size)for(const Ee of l.disabled)bs(ke,Ee);if(bs(t.errors,"root"),Bi(t.errors)){h.state.next({errors:{}});try{await te(ke,de)}catch(Ee){ge=Ee}}else se&&await se({...t.errors},de),ie(),setTimeout(ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bi(t.errors)&&!ge,submitCount:t.submitCount+1,errors:t.errors}),ge)throw ge},ye=(te,se={})=>{kt(s,te)&&(zn(se.defaultValue)?S(te,ys(kt(n,te))):(S(te,se.defaultValue),mn(n,te,ys(se.defaultValue))),se.keepTouched||bs(t.touchedFields,te),se.keepDirty||(bs(t.dirtyFields,te),t.isDirty=se.defaultValue?W(te,ys(kt(n,te))):W()),se.keepError||(bs(t.errors,te),p.isValid&&m()),h.state.next({...t}))},ee=(te,se={})=>{const de=te?ys(te):n,ge=ys(de),ke=Bi(te),Ee=ke?n:ge;if(se.keepDefaultValues||(n=de),!se.keepValues){if(se.keepDirtyValues){const Oe=new Set([...l.mount,...Object.keys(Bf(n,i))]);for(const Le of Array.from(Oe)){const Ge=kt(t.dirtyFields,Le),Qe=kt(i,Le),yt=kt(Ee,Le);Ge&&!zn(Qe)?mn(Ee,Le,Qe):!Ge&&!zn(yt)&&S(Le,yt)}}else{if(CS&&zn(te))for(const Oe of l.mount){const Le=kt(s,Oe);if(Le&&Le._f){const Ge=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Fb(Ge)){const Qe=Ge.closest("form");if(Qe){Qe.reset();break}}}}if(se.keepFieldsRef)for(const Oe of l.mount)S(Oe,kt(Ee,Oe));else s={}}i=r.shouldUnregister?se.keepDefaultValues?ys(n):{}:ys(Ee),h.array.next({values:{...Ee}}),h.state.next({values:{...Ee}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!r.shouldUnregister&&!Bi(Ee),a.watch=!!r.shouldUnregister,a.keepIsValid=!!se.keepIsValid,a.action=!1,se.keepErrors||(t.errors={}),h.state.next({submitCount:se.keepSubmitCount?t.submitCount:0,isDirty:ke?!1:se.keepDirty?t.isDirty:!!(se.keepDefaultValues&&!Do(te,n)),isSubmitted:se.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ke?{}:se.keepDirtyValues?se.keepDefaultValues&&i?Bf(n,i):t.dirtyFields:se.keepDefaultValues&&te?Bf(n,te):se.keepDirty?t.dirtyFields:{},touchedFields:se.keepTouched?t.touchedFields:{},errors:se.keepErrors?t.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},oe=(te,se)=>ee(Wi(te)?te(i):te,{...r.resetOptions,...se}),ne=(te,se={})=>{const de=kt(s,te),ge=de&&de._f;if(ge){const ke=ge.refs?ge.refs[0]:ge.ref;ke.focus&&setTimeout(()=>{ke.focus(),se.shouldSelect&&Wi(ke.select)&&ke.select()})}},fe=te=>{t={...t,...te}},ae={control:{register:Z,unregister:V,getFieldState:B,handleSubmit:ce,setError:Q,_subscribe:F,_runSchema:D,_updateIsValidating:v,_focusError:ie,_getWatch:P,_getDirty:W,_setValid:m,_setFieldArray:x,_setDisabledField:U,_setErrors:T,_getFieldArray:R,_reset:ee,_resetDefaultValues:()=>Wi(r.defaultValues)&&r.defaultValues().then(te=>{oe(te,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:me,_subjects:h,_proxyFormState:p,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(te){a=te},get _defaultValues(){return n},get _names(){return l},set _names(te){l=te},get _formState(){return t},get _options(){return r},set _options(te){r={...r,...te}}},subscribe:Y,trigger:M,register:Z,handleSubmit:ce,watch:re,setValue:S,getValues:O,reset:oe,resetField:ye,clearErrors:G,unregister:V,setError:Q,setFocus:ne,getFieldState:B};return{...ae,formControl:ae}}function oc(e={}){const r=Zt.useRef(void 0),t=Zt.useRef(void 0),[s,n]=Zt.useState({isDirty:!1,isValidating:!1,isLoading:Wi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wi(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!Wi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=ale(e);r.current={...l,formState:s}}const i=r.current.control;return i._options=e,IS(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Zt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Zt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Zt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Zt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Zt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),Zt.useEffect(()=>{var a;e.values&&!Do(e.values,t.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),t.current=e.values,n(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Zt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=Zt.useMemo(()=>R$(s,i),[i,s]),r.current}const AT=(e,r,t)=>{if(e&&"reportValidity"in e){const s=kt(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},W$=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?AT(s.ref,t,e):s.refs&&s.refs.forEach(n=>AT(n,t,e))}},ole=(e,r)=>{r.shouldUseNativeValidation&&W$(e,r);const t={};for(const s in e){const n=kt(r.fields,s),i=Object.assign(e[s]||{},{ref:n&&n.ref});if(lle(r.names||Object.keys(e),s)){const a=Object.assign({},kt(t,s));mn(a,"root",i),mn(t,s,a)}else mn(t,s,i)}return t},lle=(e,r)=>e.some(t=>t.startsWith(r+"."));var cle=function(e,r){for(var t={};e.length;){var s=e[0],n=s.code,i=s.message,a=s.path.join(".");if(!t[a])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];t[a]={message:l.message,type:l.code}}else t[a]={message:i,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(p){return e.push(p)})}),r){var u=t[a].types,c=u&&u[s.code];t[a]=O$(a,r,t,n,c?[].concat(c,s.message):s.message)}e.shift()}return t},lc=function(e,r,t){return t===void 0&&(t={}),function(s,n,i){try{return Promise.resolve((function(a,l){try{var u=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(c){return i.shouldUseNativeValidation&&W$({},i),{errors:{},values:t.raw?s:c}})}catch(c){return l(c)}return u&&u.then?u.then(void 0,l):u})(0,function(a){if((function(l){return Array.isArray(l?.errors)})(a))return{values:{},errors:ole(cle(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const q$=Object.freeze({status:"aborted"});function Re(e,r,t){function s(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),r(l,u);const c=a.prototype,d=Object.keys(c);for(let p=0;p<d.length;p++){const f=d[p];f in l||(l[f]=c[f].bind(l))}}const n=t?.Parent??Object;class i extends n{}Object.defineProperty(i,"name",{value:e});function a(l){var u;const c=t?.Parent?new i:this;s(c,l),(u=c._zod).deferred??(u.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(a,"init",{value:s}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>t?.Parent&&l instanceof t.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}const H$=Symbol("zod_brand");class jd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Vv extends Error{constructor(r){super(`Encountered unidirectional transform during encode: ${r}`),this.name="ZodEncodeError"}}const zb={};function Ii(e){return e&&Object.assign(zb,e),zb}function ule(e){return e}function dle(e){return e}function fle(e){}function hle(e){throw new Error("Unexpected value in exhaustive check")}function ple(e){}function $S(e){const r=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,n])=>r.indexOf(+s)===-1).map(([s,n])=>n)}function pt(e,r="|"){return e.map(t=>pr(t)).join(r)}function Bb(e,r){return typeof r=="bigint"?r.toString():r}function Cg(e){return{get value(){{const r=e();return Object.defineProperty(this,"value",{value:r}),r}}}}function Yd(e){return e==null}function Wv(e){const r=e.startsWith("^")?1:0,t=e.endsWith("$")?e.length-1:e.length;return e.slice(r,t)}function K$(e,r){const t=(e.toString().split(".")[1]||"").length,s=r.toString();let n=(s.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(s)){const u=s.match(/\d?e-(\d?)/);u?.[1]&&(n=Number.parseInt(u[1]))}const i=t>n?t:n,a=Number.parseInt(e.toFixed(i).replace(".","")),l=Number.parseInt(r.toFixed(i).replace(".",""));return a%l/10**i}const PT=Symbol("evaluating");function zr(e,r,t){let s;Object.defineProperty(e,r,{get(){if(s!==PT)return s===void 0&&(s=PT,s=t()),s},set(n){Object.defineProperty(e,r,{value:n})},configurable:!0})}function mle(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Eu(e,r,t){Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Nl(...e){const r={};for(const t of e){const s=Object.getOwnPropertyDescriptors(t);Object.assign(r,s)}return Object.defineProperties({},r)}function gle(e){return Nl(e._zod.def)}function yle(e,r){return r?r.reduce((t,s)=>t?.[s],e):e}function ble(e){const r=Object.keys(e),t=r.map(s=>e[s]);return Promise.all(t).then(s=>{const n={};for(let i=0;i<r.length;i++)n[r[i]]=s[i];return n})}function vle(e=10){const r="abcdefghijklmnopqrstuvwxyz";let t="";for(let s=0;s<e;s++)t+=r[Math.floor(Math.random()*r.length)];return t}function Ak(e){return JSON.stringify(e)}function Z$(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const OS="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function _h(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const G$=Cg(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Md(e){if(_h(e)===!1)return!1;const r=e.constructor;if(r===void 0||typeof r!="function")return!0;const t=r.prototype;return!(_h(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function qv(e){return Md(e)?{...e}:Array.isArray(e)?[...e]:e}function xle(e){let r=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&r++;return r}const wle=e=>{const r=typeof e;switch(r){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${r}`)}},Ub=new Set(["string","number","symbol"]),X$=new Set(["string","number","bigint","boolean","symbol","undefined"]);function cc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function go(e,r,t){const s=new e._zod.constr(r??e._zod.def);return(!r||t?.parent)&&(s._zod.parent=e),s}function tt(e){const r=e;if(!r)return{};if(typeof r=="string")return{error:()=>r};if(r?.message!==void 0){if(r?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");r.error=r.message}return delete r.message,typeof r.error=="string"?{...r,error:()=>r.error}:r}function _le(e){let r;return new Proxy({},{get(t,s,n){return r??(r=e()),Reflect.get(r,s,n)},set(t,s,n,i){return r??(r=e()),Reflect.set(r,s,n,i)},has(t,s){return r??(r=e()),Reflect.has(r,s)},deleteProperty(t,s){return r??(r=e()),Reflect.deleteProperty(r,s)},ownKeys(t){return r??(r=e()),Reflect.ownKeys(r)},getOwnPropertyDescriptor(t,s){return r??(r=e()),Reflect.getOwnPropertyDescriptor(r,s)},defineProperty(t,s,n){return r??(r=e()),Reflect.defineProperty(r,s,n)}})}function pr(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function Q$(e){return Object.keys(e).filter(r=>e[r]._zod.optin==="optional"&&e[r]._zod.optout==="optional")}const Y$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},J$={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function eO(e,r){const t=e._zod.def,s=t.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Nl(e._zod.def,{get shape(){const a={};for(const l in r){if(!(l in t.shape))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(a[l]=t.shape[l])}return Eu(this,"shape",a),a},checks:[]});return go(e,i)}function tO(e,r){const t=e._zod.def,s=t.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Nl(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in r){if(!(l in t.shape))throw new Error(`Unrecognized key: "${l}"`);r[l]&&delete a[l]}return Eu(this,"shape",a),a},checks:[]});return go(e,i)}function rO(e,r){if(!Md(r))throw new Error("Invalid input to extend: expected a plain object");const t=e._zod.def.checks;if(t&&t.length>0){const i=e._zod.def.shape;for(const a in r)if(Object.getOwnPropertyDescriptor(i,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const n=Nl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...r};return Eu(this,"shape",i),i}});return go(e,n)}function nO(e,r){if(!Md(r))throw new Error("Invalid input to safeExtend: expected a plain object");const t=Nl(e._zod.def,{get shape(){const s={...e._zod.def.shape,...r};return Eu(this,"shape",s),s}});return go(e,t)}function sO(e,r){const t=Nl(e._zod.def,{get shape(){const s={...e._zod.def.shape,...r._zod.def.shape};return Eu(this,"shape",s),s},get catchall(){return r._zod.def.catchall},checks:[]});return go(e,t)}function iO(e,r,t){const n=r._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Nl(r._zod.def,{get shape(){const l=r._zod.def.shape,u={...l};if(t)for(const c in t){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(u[c]=e?new e({type:"optional",innerType:l[c]}):l[c])}else for(const c in l)u[c]=e?new e({type:"optional",innerType:l[c]}):l[c];return Eu(this,"shape",u),u},checks:[]});return go(r,a)}function aO(e,r,t){const s=Nl(r._zod.def,{get shape(){const n=r._zod.def.shape,i={...n};if(t)for(const a in t){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(i[a]=new e({type:"nonoptional",innerType:n[a]}))}else for(const a in n)i[a]=new e({type:"nonoptional",innerType:n[a]});return Eu(this,"shape",i),i}});return go(r,s)}function ad(e,r=0){if(e.aborted===!0)return!0;for(let t=r;t<e.issues.length;t++)if(e.issues[t]?.continue!==!0)return!0;return!1}function Ro(e,r){return r.map(t=>{var s;return(s=t).path??(s.path=[]),t.path.unshift(e),t})}function rm(e){return typeof e=="string"?e:e?.message}function ho(e,r,t){const s={...e,path:e.path??[]};if(!e.message){const n=rm(e.inst?._zod.def?.error?.(e))??rm(r?.error?.(e))??rm(t.customError?.(e))??rm(t.localeError?.(e))??"Invalid input";s.message=n}return delete s.inst,delete s.continue,r?.reportInput||delete s.input,s}function Hv(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Kv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function xr(e){const r=typeof e;switch(r){case"number":return Number.isNaN(e)?"nan":"number";case"object":{if(e===null)return"null";if(Array.isArray(e))return"array";const t=e;if(t&&Object.getPrototypeOf(t)!==Object.prototype&&"constructor"in t&&t.constructor)return t.constructor.name}}return r}function kh(...e){const[r,t,s]=e;return typeof r=="string"?{message:r,code:"custom",input:t,inst:s}:{...r}}function kle(e){return Object.entries(e).filter(([r,t])=>Number.isNaN(Number.parseInt(r,10))).map(r=>r[1])}function oO(e){const r=atob(e),t=new Uint8Array(r.length);for(let s=0;s<r.length;s++)t[s]=r.charCodeAt(s);return t}function lO(e){let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}function Sle(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),t="=".repeat((4-r.length%4)%4);return oO(r+t)}function jle(e){return lO(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Nle(e){const r=e.replace(/^0x/,"");if(r.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(r.length/2);for(let s=0;s<r.length;s+=2)t[s/2]=Number.parseInt(r.slice(s,s+2),16);return t}function Cle(e){return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")}class Tle{constructor(...r){}}const cO=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:J$,Class:Tle,NUMBER_FORMAT_RANGES:Y$,aborted:ad,allowsEval:G$,assert:ple,assertEqual:ule,assertIs:fle,assertNever:hle,assertNotEqual:dle,assignProp:Eu,base64ToUint8Array:oO,base64urlToUint8Array:Sle,cached:Cg,captureStackTrace:OS,cleanEnum:kle,cleanRegex:Wv,clone:go,cloneDef:gle,createTransparentProxy:_le,defineLazy:zr,esc:Ak,escapeRegex:cc,extend:rO,finalizeIssue:ho,floatSafeRemainder:K$,getElementAtPath:yle,getEnumValues:$S,getLengthableOrigin:Kv,getParsedType:wle,getSizableOrigin:Hv,hexToUint8Array:Nle,isObject:_h,isPlainObject:Md,issue:kh,joinValues:pt,jsonStringifyReplacer:Bb,merge:sO,mergeDefs:Nl,normalizeParams:tt,nullish:Yd,numKeys:xle,objectClone:mle,omit:tO,optionalKeys:Q$,parsedType:xr,partial:iO,pick:eO,prefixIssues:Ro,primitiveTypes:X$,promiseAllObject:ble,propertyKeyTypes:Ub,randomString:vle,required:aO,safeExtend:nO,shallowClone:qv,slugify:Z$,stringifyPrimitive:pr,uint8ArrayToBase64:lO,uint8ArrayToBase64url:jle,uint8ArrayToHex:Cle,unwrapMessage:rm},Symbol.toStringTag,{value:"Module"})),uO=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),e.message=JSON.stringify(r,Bb,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},FS=Re("$ZodError",uO),Ra=Re("$ZodError",uO,{Parent:Error});function LS(e,r=t=>t.message){const t={},s=[];for(const n of e.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(r(n))):s.push(r(n));return{formErrors:s,fieldErrors:t}}function zS(e,r=t=>t.message){const t={_errors:[]},s=n=>{for(const i of n.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>s({issues:a}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)t._errors.push(r(i));else{let a=t,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(e),t}function dO(e,r=t=>t.message){const t={errors:[]},s=(n,i=[])=>{var a,l;for(const u of n.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>s({issues:c},u.path));else if(u.code==="invalid_key")s({issues:u.issues},u.path);else if(u.code==="invalid_element")s({issues:u.issues},u.path);else{const c=[...i,...u.path];if(c.length===0){t.errors.push(r(u));continue}let d=t,p=0;for(;p<c.length;){const f=c[p],h=p===c.length-1;typeof f=="string"?(d.properties??(d.properties={}),(a=d.properties)[f]??(a[f]={errors:[]}),d=d.properties[f]):(d.items??(d.items=[]),(l=d.items)[f]??(l[f]={errors:[]}),d=d.items[f]),h&&d.errors.push(r(u)),p++}}};return s(e),t}function fO(e){const r=[],t=e.map(s=>typeof s=="object"?s.key:s);for(const s of t)typeof s=="number"?r.push(`[${s}]`):typeof s=="symbol"?r.push(`[${JSON.stringify(String(s))}]`):/[^\w$]/.test(s)?r.push(`[${JSON.stringify(s)}]`):(r.length&&r.push("."),r.push(s));return r.join("")}function hO(e){const r=[],t=[...e.issues].sort((s,n)=>(s.path??[]).length-(n.path??[]).length);for(const s of t)r.push(` ${s.message}`),s.path?.length&&r.push(`   at ${fO(s.path)}`);return r.join(`
`)}const Tg=e=>(r,t,s,n)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},a=r._zod.run({value:t,issues:[]},i);if(a instanceof Promise)throw new jd;if(a.issues.length){const l=new(n?.Err??e)(a.issues.map(u=>ho(u,i,Ii())));throw OS(l,n?.callee),l}return a.value},Pk=Tg(Ra),Eg=e=>async(r,t,s,n)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=r._zod.run({value:t,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new(n?.Err??e)(a.issues.map(u=>ho(u,i,Ii())));throw OS(l,n?.callee),l}return a.value},Ik=Eg(Ra),Ag=e=>(r,t,s)=>{const n=s?{...s,async:!1}:{async:!1},i=r._zod.run({value:t,issues:[]},n);if(i instanceof Promise)throw new jd;return i.issues.length?{success:!1,error:new(e??FS)(i.issues.map(a=>ho(a,n,Ii())))}:{success:!0,data:i.value}},pO=Ag(Ra),Pg=e=>async(r,t,s)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let i=r._zod.run({value:t,issues:[]},n);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>ho(a,n,Ii())))}:{success:!0,data:i.value}},mO=Pg(Ra),BS=e=>(r,t,s)=>{const n=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Tg(e)(r,t,n)},Ele=BS(Ra),US=e=>(r,t,s)=>Tg(e)(r,t,s),Ale=US(Ra),VS=e=>async(r,t,s)=>{const n=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Eg(e)(r,t,n)},Ple=VS(Ra),WS=e=>async(r,t,s)=>Eg(e)(r,t,s),Ile=WS(Ra),qS=e=>(r,t,s)=>{const n=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ag(e)(r,t,n)},Dle=qS(Ra),HS=e=>(r,t,s)=>Ag(e)(r,t,s),Mle=HS(Ra),KS=e=>async(r,t,s)=>{const n=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Pg(e)(r,t,n)},Rle=KS(Ra),ZS=e=>async(r,t,s)=>Pg(e)(r,t,s),$le=ZS(Ra),gO=/^[cC][^\s-]{8,}$/,yO=/^[0-9a-z]+$/,bO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,vO=/^[0-9a-vA-V]{20}$/,xO=/^[A-Za-z0-9]{27}$/,wO=/^[a-zA-Z0-9_-]{21}$/,_O=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ole=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Sh=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Fle=Sh(4),Lle=Sh(6),zle=Sh(7),SO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ble=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ule=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,jO=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Vle=jO,Wle=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function NO(){return new RegExp(qle,"u")}const CO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,EO=e=>{const r=cc(e??":");return new RegExp(`^(?:[0-9A-F]{2}${r}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${r}){5}[0-9a-f]{2}$`)},AO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,PO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,GS=/^[A-Za-z0-9_-]*$/,DO=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,MO=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,RO=/^\+[1-9]\d{6,14}$/,$O="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",OO=new RegExp(`^${$O}$`);function FO(e){const r="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${r}`:e.precision===0?`${r}:[0-5]\\d`:`${r}:[0-5]\\d\\.\\d{${e.precision}}`:`${r}(?::[0-5]\\d(?:\\.\\d+)?)?`}function LO(e){return new RegExp(`^${FO(e)}$`)}function zO(e){const r=FO({precision:e.precision}),t=["Z"];e.local&&t.push(""),e.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${r}(?:${t.join("|")})`;return new RegExp(`^${$O}T(?:${s})$`)}const BO=e=>{const r=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${r}$`)},UO=/^-?\d+n?$/,VO=/^-?\d+$/,XS=/^-?\d+(?:\.\d+)?$/,WO=/^(?:true|false)$/i,qO=/^null$/i,HO=/^undefined$/i,KO=/^[^A-Z]*$/,ZO=/^[^a-z]*$/,GO=/^[0-9a-fA-F]*$/;function Ig(e,r){return new RegExp(`^[A-Za-z0-9+/]{${e}}${r}$`)}function Dg(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}const Hle=/^[0-9a-fA-F]{32}$/,Kle=Ig(22,"=="),Zle=Dg(22),Gle=/^[0-9a-fA-F]{40}$/,Xle=Ig(27,"="),Qle=Dg(27),Yle=/^[0-9a-fA-F]{64}$/,Jle=Ig(43,"="),ece=Dg(43),tce=/^[0-9a-fA-F]{96}$/,rce=Ig(64,""),nce=Dg(64),sce=/^[0-9a-fA-F]{128}$/,ice=Ig(86,"=="),ace=Dg(86),QS=Object.freeze(Object.defineProperty({__proto__:null,base64:IO,base64url:GS,bigint:UO,boolean:WO,browserEmail:Wle,cidrv4:AO,cidrv6:PO,cuid:gO,cuid2:yO,date:OO,datetime:zO,domain:MO,duration:_O,e164:RO,email:SO,emoji:NO,extendedDuration:Ole,guid:kO,hex:GO,hostname:DO,html5Email:Ble,idnEmail:Vle,integer:VO,ipv4:CO,ipv6:TO,ksuid:xO,lowercase:KO,mac:EO,md5_base64:Kle,md5_base64url:Zle,md5_hex:Hle,nanoid:wO,null:qO,number:XS,rfc5322Email:Ule,sha1_base64:Xle,sha1_base64url:Qle,sha1_hex:Gle,sha256_base64:Jle,sha256_base64url:ece,sha256_hex:Yle,sha384_base64:rce,sha384_base64url:nce,sha384_hex:tce,sha512_base64:ice,sha512_base64url:ace,sha512_hex:sce,string:BO,time:LO,ulid:bO,undefined:HO,unicodeEmail:jO,uppercase:ZO,uuid:Sh,uuid4:Fle,uuid6:Lle,uuid7:zle,xid:vO},Symbol.toStringTag,{value:"Module"})),Hn=Re("$ZodCheck",(e,r)=>{var t;e._zod??(e._zod={}),e._zod.def=r,(t=e._zod).onattach??(t.onattach=[])}),XO={number:"number",bigint:"bigint",object:"date"},YS=Re("$ZodCheckLessThan",(e,r)=>{Hn.init(e,r);const t=XO[typeof r.value];e._zod.onattach.push(s=>{const n=s._zod.bag,i=(r.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;r.value<i&&(r.inclusive?n.maximum=r.value:n.exclusiveMaximum=r.value)}),e._zod.check=s=>{(r.inclusive?s.value<=r.value:s.value<r.value)||s.issues.push({origin:t,code:"too_big",maximum:typeof r.value=="object"?r.value.getTime():r.value,input:s.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),JS=Re("$ZodCheckGreaterThan",(e,r)=>{Hn.init(e,r);const t=XO[typeof r.value];e._zod.onattach.push(s=>{const n=s._zod.bag,i=(r.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;r.value>i&&(r.inclusive?n.minimum=r.value:n.exclusiveMinimum=r.value)}),e._zod.check=s=>{(r.inclusive?s.value>=r.value:s.value>r.value)||s.issues.push({origin:t,code:"too_small",minimum:typeof r.value=="object"?r.value.getTime():r.value,input:s.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),QO=Re("$ZodCheckMultipleOf",(e,r)=>{Hn.init(e,r),e._zod.onattach.push(t=>{var s;(s=t._zod.bag).multipleOf??(s.multipleOf=r.value)}),e._zod.check=t=>{if(typeof t.value!=typeof r.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%r.value===BigInt(0):K$(t.value,r.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:r.value,input:t.value,inst:e,continue:!r.abort})}}),YO=Re("$ZodCheckNumberFormat",(e,r)=>{Hn.init(e,r),r.format=r.format||"float64";const t=r.format?.includes("int"),s=t?"int":"number",[n,i]=Y$[r.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=r.format,l.minimum=n,l.maximum=i,t&&(l.pattern=VO)}),e._zod.check=a=>{const l=a.value;if(t){if(!Number.isInteger(l)){a.issues.push({expected:s,format:r.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!r.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!r.abort});return}}l<n&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!r.abort}),l>i&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!r.abort})}}),JO=Re("$ZodCheckBigIntFormat",(e,r)=>{Hn.init(e,r);const[t,s]=J$[r.format];e._zod.onattach.push(n=>{const i=n._zod.bag;i.format=r.format,i.minimum=t,i.maximum=s}),e._zod.check=n=>{const i=n.value;i<t&&n.issues.push({origin:"bigint",input:i,code:"too_small",minimum:t,inclusive:!0,inst:e,continue:!r.abort}),i>s&&n.issues.push({origin:"bigint",input:i,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!r.abort})}}),eF=Re("$ZodCheckMaxSize",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.size!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag.maximum??Number.POSITIVE_INFINITY;r.maximum<n&&(s._zod.bag.maximum=r.maximum)}),e._zod.check=s=>{const n=s.value;n.size<=r.maximum||s.issues.push({origin:Hv(n),code:"too_big",maximum:r.maximum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),tF=Re("$ZodCheckMinSize",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.size!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;r.minimum>n&&(s._zod.bag.minimum=r.minimum)}),e._zod.check=s=>{const n=s.value;n.size>=r.minimum||s.issues.push({origin:Hv(n),code:"too_small",minimum:r.minimum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),rF=Re("$ZodCheckSizeEquals",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.size!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag;n.minimum=r.size,n.maximum=r.size,n.size=r.size}),e._zod.check=s=>{const n=s.value,i=n.size;if(i===r.size)return;const a=i>r.size;s.issues.push({origin:Hv(n),...a?{code:"too_big",maximum:r.size}:{code:"too_small",minimum:r.size},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!r.abort})}}),nF=Re("$ZodCheckMaxLength",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.length!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag.maximum??Number.POSITIVE_INFINITY;r.maximum<n&&(s._zod.bag.maximum=r.maximum)}),e._zod.check=s=>{const n=s.value;if(n.length<=r.maximum)return;const a=Kv(n);s.issues.push({origin:a,code:"too_big",maximum:r.maximum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),sF=Re("$ZodCheckMinLength",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.length!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;r.minimum>n&&(s._zod.bag.minimum=r.minimum)}),e._zod.check=s=>{const n=s.value;if(n.length>=r.minimum)return;const a=Kv(n);s.issues.push({origin:a,code:"too_small",minimum:r.minimum,inclusive:!0,input:n,inst:e,continue:!r.abort})}}),iF=Re("$ZodCheckLengthEquals",(e,r)=>{var t;Hn.init(e,r),(t=e._zod.def).when??(t.when=s=>{const n=s.value;return!Yd(n)&&n.length!==void 0}),e._zod.onattach.push(s=>{const n=s._zod.bag;n.minimum=r.length,n.maximum=r.length,n.length=r.length}),e._zod.check=s=>{const n=s.value,i=n.length;if(i===r.length)return;const a=Kv(n),l=i>r.length;s.issues.push({origin:a,...l?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!r.abort})}}),Mg=Re("$ZodCheckStringFormat",(e,r)=>{var t,s;Hn.init(e,r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.format=r.format,r.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(r.pattern))}),r.pattern?(t=e._zod).check??(t.check=n=>{r.pattern.lastIndex=0,!r.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:r.format,input:n.value,...r.pattern?{pattern:r.pattern.toString()}:{},inst:e,continue:!r.abort})}):(s=e._zod).check??(s.check=()=>{})}),aF=Re("$ZodCheckRegex",(e,r)=>{Mg.init(e,r),e._zod.check=t=>{r.pattern.lastIndex=0,!r.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:r.pattern.toString(),inst:e,continue:!r.abort})}}),oF=Re("$ZodCheckLowerCase",(e,r)=>{r.pattern??(r.pattern=KO),Mg.init(e,r)}),lF=Re("$ZodCheckUpperCase",(e,r)=>{r.pattern??(r.pattern=ZO),Mg.init(e,r)}),cF=Re("$ZodCheckIncludes",(e,r)=>{Hn.init(e,r);const t=cc(r.includes),s=new RegExp(typeof r.position=="number"?`^.{${r.position}}${t}`:t);r.pattern=s,e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=n=>{n.value.includes(r.includes,r.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:r.includes,input:n.value,inst:e,continue:!r.abort})}}),uF=Re("$ZodCheckStartsWith",(e,r)=>{Hn.init(e,r);const t=new RegExp(`^${cc(r.prefix)}.*`);r.pattern??(r.pattern=t),e._zod.onattach.push(s=>{const n=s._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(t)}),e._zod.check=s=>{s.value.startsWith(r.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:r.prefix,input:s.value,inst:e,continue:!r.abort})}}),dF=Re("$ZodCheckEndsWith",(e,r)=>{Hn.init(e,r);const t=new RegExp(`.*${cc(r.suffix)}$`);r.pattern??(r.pattern=t),e._zod.onattach.push(s=>{const n=s._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(t)}),e._zod.check=s=>{s.value.endsWith(r.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:r.suffix,input:s.value,inst:e,continue:!r.abort})}});function IT(e,r,t){e.issues.length&&r.issues.push(...Ro(t,e.issues))}const fF=Re("$ZodCheckProperty",(e,r)=>{Hn.init(e,r),e._zod.check=t=>{const s=r.schema._zod.run({value:t.value[r.property],issues:[]},{});if(s instanceof Promise)return s.then(n=>IT(n,t,r.property));IT(s,t,r.property)}}),hF=Re("$ZodCheckMimeType",(e,r)=>{Hn.init(e,r);const t=new Set(r.mime);e._zod.onattach.push(s=>{s._zod.bag.mime=r.mime}),e._zod.check=s=>{t.has(s.value.type)||s.issues.push({code:"invalid_value",values:r.mime,input:s.value.type,inst:e,continue:!r.abort})}}),pF=Re("$ZodCheckOverwrite",(e,r)=>{Hn.init(e,r),e._zod.check=t=>{t.value=r.tx(t.value)}});class mF{constructor(r=[]){this.content=[],this.indent=0,this&&(this.args=r)}indented(r){this.indent+=1,r(this),this.indent-=1}write(r){if(typeof r=="function"){r(this,{execution:"sync"}),r(this,{execution:"async"});return}const s=r.split(`
`).filter(a=>a),n=Math.min(...s.map(a=>a.length-a.trimStart().length)),i=s.map(a=>a.slice(n)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const r=Function,t=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new r(...t,n.join(`
`))}}const gF={major:4,minor:3,patch:6},Ar=Re("$ZodType",(e,r)=>{var t;e??(e={}),e._zod.def=r,e._zod.bag=e._zod.bag||{},e._zod.version=gF;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const n of s)for(const i of n._zod.onattach)i(e);if(s.length===0)(t=e._zod).deferred??(t.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const n=(a,l,u)=>{let c=ad(a),d;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(a))continue}else if(c)continue;const f=a.issues.length,h=p._zod.check(a);if(h instanceof Promise&&u?.async===!1)throw new jd;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,a.issues.length!==f&&(c||(c=ad(a,f)))});else{if(a.issues.length===f)continue;c||(c=ad(a,f))}}return d?d.then(()=>a):a},i=(a,l,u)=>{if(ad(a))return a.aborted=!0,a;const c=n(l,s,u);if(c instanceof Promise){if(u.async===!1)throw new jd;return c.then(d=>e._zod.parse(d,u))}return e._zod.parse(c,u)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const c=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(d=>i(d,a,l)):i(c,a,l)}const u=e._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new jd;return u.then(c=>n(c,s,l))}return n(u,s,l)}}zr(e,"~standard",()=>({validate:n=>{try{const i=pO(e,n);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return mO(e,n).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),Rg=Re("$ZodString",(e,r)=>{Ar.init(e,r),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??BO(e._zod.bag),e._zod.parse=(t,s)=>{if(r.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:e}),t}}),Nn=Re("$ZodStringFormat",(e,r)=>{Mg.init(e,r),Rg.init(e,r)}),yF=Re("$ZodGUID",(e,r)=>{r.pattern??(r.pattern=kO),Nn.init(e,r)}),bF=Re("$ZodUUID",(e,r)=>{if(r.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[r.version];if(s===void 0)throw new Error(`Invalid UUID version: "${r.version}"`);r.pattern??(r.pattern=Sh(s))}else r.pattern??(r.pattern=Sh());Nn.init(e,r)}),vF=Re("$ZodEmail",(e,r)=>{r.pattern??(r.pattern=SO),Nn.init(e,r)}),xF=Re("$ZodURL",(e,r)=>{Nn.init(e,r),e._zod.check=t=>{try{const s=t.value.trim(),n=new URL(s);r.hostname&&(r.hostname.lastIndex=0,r.hostname.test(n.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:r.hostname.source,input:t.value,inst:e,continue:!r.abort})),r.protocol&&(r.protocol.lastIndex=0,r.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:r.protocol.source,input:t.value,inst:e,continue:!r.abort})),r.normalize?t.value=n.href:t.value=s;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:e,continue:!r.abort})}}}),wF=Re("$ZodEmoji",(e,r)=>{r.pattern??(r.pattern=NO()),Nn.init(e,r)}),_F=Re("$ZodNanoID",(e,r)=>{r.pattern??(r.pattern=wO),Nn.init(e,r)}),kF=Re("$ZodCUID",(e,r)=>{r.pattern??(r.pattern=gO),Nn.init(e,r)}),SF=Re("$ZodCUID2",(e,r)=>{r.pattern??(r.pattern=yO),Nn.init(e,r)}),jF=Re("$ZodULID",(e,r)=>{r.pattern??(r.pattern=bO),Nn.init(e,r)}),NF=Re("$ZodXID",(e,r)=>{r.pattern??(r.pattern=vO),Nn.init(e,r)}),CF=Re("$ZodKSUID",(e,r)=>{r.pattern??(r.pattern=xO),Nn.init(e,r)}),TF=Re("$ZodISODateTime",(e,r)=>{r.pattern??(r.pattern=zO(r)),Nn.init(e,r)}),EF=Re("$ZodISODate",(e,r)=>{r.pattern??(r.pattern=OO),Nn.init(e,r)}),AF=Re("$ZodISOTime",(e,r)=>{r.pattern??(r.pattern=LO(r)),Nn.init(e,r)}),PF=Re("$ZodISODuration",(e,r)=>{r.pattern??(r.pattern=_O),Nn.init(e,r)}),IF=Re("$ZodIPv4",(e,r)=>{r.pattern??(r.pattern=CO),Nn.init(e,r),e._zod.bag.format="ipv4"}),DF=Re("$ZodIPv6",(e,r)=>{r.pattern??(r.pattern=TO),Nn.init(e,r),e._zod.bag.format="ipv6",e._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:e,continue:!r.abort})}}}),MF=Re("$ZodMAC",(e,r)=>{r.pattern??(r.pattern=EO(r.delimiter)),Nn.init(e,r),e._zod.bag.format="mac"}),RF=Re("$ZodCIDRv4",(e,r)=>{r.pattern??(r.pattern=AO),Nn.init(e,r)}),$F=Re("$ZodCIDRv6",(e,r)=>{r.pattern??(r.pattern=PO),Nn.init(e,r),e._zod.check=t=>{const s=t.value.split("/");try{if(s.length!==2)throw new Error;const[n,i]=s;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${n}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:e,continue:!r.abort})}}});function ej(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const OF=Re("$ZodBase64",(e,r)=>{r.pattern??(r.pattern=IO),Nn.init(e,r),e._zod.bag.contentEncoding="base64",e._zod.check=t=>{ej(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:e,continue:!r.abort})}});function FF(e){if(!GS.test(e))return!1;const r=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),t=r.padEnd(Math.ceil(r.length/4)*4,"=");return ej(t)}const LF=Re("$ZodBase64URL",(e,r)=>{r.pattern??(r.pattern=GS),Nn.init(e,r),e._zod.bag.contentEncoding="base64url",e._zod.check=t=>{FF(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:e,continue:!r.abort})}}),zF=Re("$ZodE164",(e,r)=>{r.pattern??(r.pattern=RO),Nn.init(e,r)});function BF(e,r=null){try{const t=e.split(".");if(t.length!==3)return!1;const[s]=t;if(!s)return!1;const n=JSON.parse(atob(s));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||r&&(!("alg"in n)||n.alg!==r))}catch{return!1}}const UF=Re("$ZodJWT",(e,r)=>{Nn.init(e,r),e._zod.check=t=>{BF(t.value,r.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:e,continue:!r.abort})}}),VF=Re("$ZodCustomStringFormat",(e,r)=>{Nn.init(e,r),e._zod.check=t=>{r.fn(t.value)||t.issues.push({code:"invalid_format",format:r.format,input:t.value,inst:e,continue:!r.abort})}}),tj=Re("$ZodNumber",(e,r)=>{Ar.init(e,r),e._zod.pattern=e._zod.bag.pattern??XS,e._zod.parse=(t,s)=>{if(r.coerce)try{t.value=Number(t.value)}catch{}const n=t.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return t;const i=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...i?{received:i}:{}}),t}}),WF=Re("$ZodNumberFormat",(e,r)=>{YO.init(e,r),tj.init(e,r)}),rj=Re("$ZodBoolean",(e,r)=>{Ar.init(e,r),e._zod.pattern=WO,e._zod.parse=(t,s)=>{if(r.coerce)try{t.value=!!t.value}catch{}const n=t.value;return typeof n=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),t}}),nj=Re("$ZodBigInt",(e,r)=>{Ar.init(e,r),e._zod.pattern=UO,e._zod.parse=(t,s)=>{if(r.coerce)try{t.value=BigInt(t.value)}catch{}return typeof t.value=="bigint"||t.issues.push({expected:"bigint",code:"invalid_type",input:t.value,inst:e}),t}}),qF=Re("$ZodBigIntFormat",(e,r)=>{JO.init(e,r),nj.init(e,r)}),HF=Re("$ZodSymbol",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;return typeof n=="symbol"||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),KF=Re("$ZodUndefined",(e,r)=>{Ar.init(e,r),e._zod.pattern=HO,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,s)=>{const n=t.value;return typeof n>"u"||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),ZF=Re("$ZodNull",(e,r)=>{Ar.init(e,r),e._zod.pattern=qO,e._zod.values=new Set([null]),e._zod.parse=(t,s)=>{const n=t.value;return n===null||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),GF=Re("$ZodAny",(e,r)=>{Ar.init(e,r),e._zod.parse=t=>t}),XF=Re("$ZodUnknown",(e,r)=>{Ar.init(e,r),e._zod.parse=t=>t}),QF=Re("$ZodNever",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),YF=Re("$ZodVoid",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;return typeof n>"u"||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),JF=Re("$ZodDate",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{if(r.coerce)try{t.value=new Date(t.value)}catch{}const n=t.value,i=n instanceof Date;return i&&!Number.isNaN(n.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:n,...i?{received:"Invalid Date"}:{},inst:e}),t}});function DT(e,r,t){e.issues.length&&r.issues.push(...Ro(t,e.issues)),r.value[t]=e.value}const eL=Re("$ZodArray",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;if(!Array.isArray(n))return t.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),t;t.value=Array(n.length);const i=[];for(let a=0;a<n.length;a++){const l=n[a],u=r.element._zod.run({value:l,issues:[]},s);u instanceof Promise?i.push(u.then(c=>DT(c,t,a))):DT(u,t,a)}return i.length?Promise.all(i).then(()=>t):t}});function Vb(e,r,t,s,n){if(e.issues.length){if(n&&!(t in s))return;r.issues.push(...Ro(t,e.issues))}e.value===void 0?t in s&&(r.value[t]=void 0):r.value[t]=e.value}function tL(e){const r=Object.keys(e.shape);for(const s of r)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const t=Q$(e.shape);return{...e,keys:r,keySet:new Set(r),numKeys:r.length,optionalKeys:new Set(t)}}function rL(e,r,t,s,n,i){const a=[],l=n.keySet,u=n.catchall._zod,c=u.def.type,d=u.optout==="optional";for(const p in r){if(l.has(p))continue;if(c==="never"){a.push(p);continue}const f=u.run({value:r[p],issues:[]},s);f instanceof Promise?e.push(f.then(h=>Vb(h,t,p,r,d))):Vb(f,t,p,r,d)}return a.length&&t.issues.push({code:"unrecognized_keys",keys:a,input:r,inst:i}),e.length?Promise.all(e).then(()=>t):t}const nL=Re("$ZodObject",(e,r)=>{if(Ar.init(e,r),!Object.getOwnPropertyDescriptor(r,"shape")?.get){const l=r.shape;Object.defineProperty(r,"shape",{get:()=>{const u={...l};return Object.defineProperty(r,"shape",{value:u}),u}})}const s=Cg(()=>tL(r));zr(e._zod,"propValues",()=>{const l=r.shape,u={};for(const c in l){const d=l[c]._zod;if(d.values){u[c]??(u[c]=new Set);for(const p of d.values)u[c].add(p)}}return u});const n=_h,i=r.catchall;let a;e._zod.parse=(l,u)=>{a??(a=s.value);const c=l.value;if(!n(c))return l.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),l;l.value={};const d=[],p=a.shape;for(const f of a.keys){const h=p[f],g=h._zod.optout==="optional",y=h._zod.run({value:c[f],issues:[]},u);y instanceof Promise?d.push(y.then(m=>Vb(m,l,f,c,g))):Vb(y,l,f,c,g)}return i?rL(d,c,l,u,s.value,e):d.length?Promise.all(d).then(()=>l):l}}),sL=Re("$ZodObjectJIT",(e,r)=>{nL.init(e,r);const t=e._zod.parse,s=Cg(()=>tL(r)),n=f=>{const h=new mF(["shape","payload","ctx"]),g=s.value,y=k=>{const T=Ak(k);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};h.write("const input = payload.value;");const m=Object.create(null);let v=0;for(const k of g.keys)m[k]=`key_${v++}`;h.write("const newResult = {};");for(const k of g.keys){const T=m[k],A=Ak(k),q=f[k]?._zod?.optout==="optional";h.write(`const ${T} = ${y(k)};`),q?h.write(`
        if (${T}.issues.length) {
          if (${A} in input) {
            payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${A}, ...iss.path] : [${A}]
            })));
          }
        }
        
        if (${T}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${T}.value;
        }
        
      `):h.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        if (${T}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${T}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const x=h.compile();return(k,T)=>x(f,k,T)};let i;const a=_h,l=!zb.jitless,c=l&&G$.value,d=r.catchall;let p;e._zod.parse=(f,h)=>{p??(p=s.value);const g=f.value;return a(g)?l&&c&&h?.async===!1&&h.jitless!==!0?(i||(i=n(r.shape)),f=i(f,h),d?rL([],g,f,h,p,e):f):t(f,h):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function MT(e,r,t,s){for(const i of e)if(i.issues.length===0)return r.value=i.value,r;const n=e.filter(i=>!ad(i));return n.length===1?(r.value=n[0].value,n[0]):(r.issues.push({code:"invalid_union",input:r.value,inst:t,errors:e.map(i=>i.issues.map(a=>ho(a,s,Ii())))}),r)}const Zv=Re("$ZodUnion",(e,r)=>{Ar.init(e,r),zr(e._zod,"optin",()=>r.options.some(n=>n._zod.optin==="optional")?"optional":void 0),zr(e._zod,"optout",()=>r.options.some(n=>n._zod.optout==="optional")?"optional":void 0),zr(e._zod,"values",()=>{if(r.options.every(n=>n._zod.values))return new Set(r.options.flatMap(n=>Array.from(n._zod.values)))}),zr(e._zod,"pattern",()=>{if(r.options.every(n=>n._zod.pattern)){const n=r.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>Wv(i.source)).join("|")})$`)}});const t=r.options.length===1,s=r.options[0]._zod.run;e._zod.parse=(n,i)=>{if(t)return s(n,i);let a=!1;const l=[];for(const u of r.options){const c=u._zod.run({value:n.value,issues:[]},i);if(c instanceof Promise)l.push(c),a=!0;else{if(c.issues.length===0)return c;l.push(c)}}return a?Promise.all(l).then(u=>MT(u,n,e,i)):MT(l,n,e,i)}});function RT(e,r,t,s){const n=e.filter(i=>i.issues.length===0);return n.length===1?(r.value=n[0].value,r):(n.length===0?r.issues.push({code:"invalid_union",input:r.value,inst:t,errors:e.map(i=>i.issues.map(a=>ho(a,s,Ii())))}):r.issues.push({code:"invalid_union",input:r.value,inst:t,errors:[],inclusive:!1}),r)}const iL=Re("$ZodXor",(e,r)=>{Zv.init(e,r),r.inclusive=!1;const t=r.options.length===1,s=r.options[0]._zod.run;e._zod.parse=(n,i)=>{if(t)return s(n,i);let a=!1;const l=[];for(const u of r.options){const c=u._zod.run({value:n.value,issues:[]},i);c instanceof Promise?(l.push(c),a=!0):l.push(c)}return a?Promise.all(l).then(u=>RT(u,n,e,i)):RT(l,n,e,i)}}),aL=Re("$ZodDiscriminatedUnion",(e,r)=>{r.inclusive=!1,Zv.init(e,r);const t=e._zod.parse;zr(e._zod,"propValues",()=>{const n={};for(const i of r.options){const a=i._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${r.options.indexOf(i)}"`);for(const[l,u]of Object.entries(a)){n[l]||(n[l]=new Set);for(const c of u)n[l].add(c)}}return n});const s=Cg(()=>{const n=r.options,i=new Map;for(const a of n){const l=a._zod.propValues?.[r.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${r.options.indexOf(a)}"`);for(const u of l){if(i.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);i.set(u,a)}}return i});e._zod.parse=(n,i)=>{const a=n.value;if(!_h(a))return n.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),n;const l=s.value.get(a?.[r.discriminator]);return l?l._zod.run(n,i):r.unionFallback?t(n,i):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:r.discriminator,input:a,path:[r.discriminator],inst:e}),n)}}),oL=Re("$ZodIntersection",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value,i=r.left._zod.run({value:n,issues:[]},s),a=r.right._zod.run({value:n,issues:[]},s);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([u,c])=>$T(t,u,c)):$T(t,i,a)}});function Dk(e,r){if(e===r)return{valid:!0,data:e};if(e instanceof Date&&r instanceof Date&&+e==+r)return{valid:!0,data:e};if(Md(e)&&Md(r)){const t=Object.keys(r),s=Object.keys(e).filter(i=>t.indexOf(i)!==-1),n={...e,...r};for(const i of s){const a=Dk(e[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n[i]=a.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let s=0;s<e.length;s++){const n=e[s],i=r[s],a=Dk(n,i);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};t.push(a.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function $T(e,r,t){const s=new Map;let n;for(const l of r.issues)if(l.code==="unrecognized_keys"){n??(n=l);for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).l=!0}else e.issues.push(l);for(const l of t.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).r=!0;else e.issues.push(l);const i=[...s].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(i.length&&n&&e.issues.push({...n,keys:i}),ad(e))return e;const a=Dk(r.value,t.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const sj=Re("$ZodTuple",(e,r)=>{Ar.init(e,r);const t=r.items;e._zod.parse=(s,n)=>{const i=s.value;if(!Array.isArray(i))return s.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[],l=[...t].reverse().findIndex(d=>d._zod.optin!=="optional"),u=l===-1?0:t.length-l;if(!r.rest){const d=i.length>t.length,p=i.length<u-1;if(d||p)return s.issues.push({...d?{code:"too_big",maximum:t.length,inclusive:!0}:{code:"too_small",minimum:t.length},input:i,inst:e,origin:"array"}),s}let c=-1;for(const d of t){if(c++,c>=i.length&&c>=u)continue;const p=d._zod.run({value:i[c],issues:[]},n);p instanceof Promise?a.push(p.then(f=>Ey(f,s,c))):Ey(p,s,c)}if(r.rest){const d=i.slice(t.length);for(const p of d){c++;const f=r.rest._zod.run({value:p,issues:[]},n);f instanceof Promise?a.push(f.then(h=>Ey(h,s,c))):Ey(f,s,c)}}return a.length?Promise.all(a).then(()=>s):s}});function Ey(e,r,t){e.issues.length&&r.issues.push(...Ro(t,e.issues)),r.value[t]=e.value}const lL=Re("$ZodRecord",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;if(!Md(n))return t.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),t;const i=[],a=r.keyType._zod.values;if(a){t.value={};const l=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){l.add(typeof c=="number"?c.toString():c);const d=r.valueType._zod.run({value:n[c],issues:[]},s);d instanceof Promise?i.push(d.then(p=>{p.issues.length&&t.issues.push(...Ro(c,p.issues)),t.value[c]=p.value})):(d.issues.length&&t.issues.push(...Ro(c,d.issues)),t.value[c]=d.value)}let u;for(const c in n)l.has(c)||(u=u??[],u.push(c));u&&u.length>0&&t.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:u})}else{t.value={};for(const l of Reflect.ownKeys(n)){if(l==="__proto__")continue;let u=r.keyType._zod.run({value:l,issues:[]},s);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&XS.test(l)&&u.issues.length){const p=r.keyType._zod.run({value:Number(l),issues:[]},s);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");p.issues.length===0&&(u=p)}if(u.issues.length){r.mode==="loose"?t.value[l]=n[l]:t.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(p=>ho(p,s,Ii())),input:l,path:[l],inst:e});continue}const d=r.valueType._zod.run({value:n[l],issues:[]},s);d instanceof Promise?i.push(d.then(p=>{p.issues.length&&t.issues.push(...Ro(l,p.issues)),t.value[u.value]=p.value})):(d.issues.length&&t.issues.push(...Ro(l,d.issues)),t.value[u.value]=d.value)}}return i.length?Promise.all(i).then(()=>t):t}}),cL=Re("$ZodMap",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;if(!(n instanceof Map))return t.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),t;const i=[];t.value=new Map;for(const[a,l]of n){const u=r.keyType._zod.run({value:a,issues:[]},s),c=r.valueType._zod.run({value:l,issues:[]},s);u instanceof Promise||c instanceof Promise?i.push(Promise.all([u,c]).then(([d,p])=>{OT(d,p,t,a,n,e,s)})):OT(u,c,t,a,n,e,s)}return i.length?Promise.all(i).then(()=>t):t}});function OT(e,r,t,s,n,i,a){e.issues.length&&(Ub.has(typeof s)?t.issues.push(...Ro(s,e.issues)):t.issues.push({code:"invalid_key",origin:"map",input:n,inst:i,issues:e.issues.map(l=>ho(l,a,Ii()))})),r.issues.length&&(Ub.has(typeof s)?t.issues.push(...Ro(s,r.issues)):t.issues.push({origin:"map",code:"invalid_element",input:n,inst:i,key:s,issues:r.issues.map(l=>ho(l,a,Ii()))})),t.value.set(e.value,r.value)}const uL=Re("$ZodSet",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;if(!(n instanceof Set))return t.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),t;const i=[];t.value=new Set;for(const a of n){const l=r.valueType._zod.run({value:a,issues:[]},s);l instanceof Promise?i.push(l.then(u=>FT(u,t))):FT(l,t)}return i.length?Promise.all(i).then(()=>t):t}});function FT(e,r){e.issues.length&&r.issues.push(...e.issues),r.value.add(e.value)}const dL=Re("$ZodEnum",(e,r)=>{Ar.init(e,r);const t=$S(r.entries),s=new Set(t);e._zod.values=s,e._zod.pattern=new RegExp(`^(${t.filter(n=>Ub.has(typeof n)).map(n=>typeof n=="string"?cc(n):n.toString()).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return s.has(a)||n.issues.push({code:"invalid_value",values:t,input:a,inst:e}),n}}),fL=Re("$ZodLiteral",(e,r)=>{if(Ar.init(e,r),r.values.length===0)throw new Error("Cannot create literal schema with no valid values");const t=new Set(r.values);e._zod.values=t,e._zod.pattern=new RegExp(`^(${r.values.map(s=>typeof s=="string"?cc(s):s?cc(s.toString()):String(s)).join("|")})$`),e._zod.parse=(s,n)=>{const i=s.value;return t.has(i)||s.issues.push({code:"invalid_value",values:r.values,input:i,inst:e}),s}}),hL=Re("$ZodFile",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{const n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),pL=Re("$ZodTransform",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{if(s.direction==="backward")throw new Vv(e.constructor.name);const n=r.transform(t.value,t);if(s.async)return(n instanceof Promise?n:Promise.resolve(n)).then(a=>(t.value=a,t));if(n instanceof Promise)throw new jd;return t.value=n,t}});function LT(e,r){return e.issues.length&&r===void 0?{issues:[],value:void 0}:e}const ij=Re("$ZodOptional",(e,r)=>{Ar.init(e,r),e._zod.optin="optional",e._zod.optout="optional",zr(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,void 0]):void 0),zr(e._zod,"pattern",()=>{const t=r.innerType._zod.pattern;return t?new RegExp(`^(${Wv(t.source)})?$`):void 0}),e._zod.parse=(t,s)=>{if(r.innerType._zod.optin==="optional"){const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(i=>LT(i,t.value)):LT(n,t.value)}return t.value===void 0?t:r.innerType._zod.run(t,s)}}),mL=Re("$ZodExactOptional",(e,r)=>{ij.init(e,r),zr(e._zod,"values",()=>r.innerType._zod.values),zr(e._zod,"pattern",()=>r.innerType._zod.pattern),e._zod.parse=(t,s)=>r.innerType._zod.run(t,s)}),gL=Re("$ZodNullable",(e,r)=>{Ar.init(e,r),zr(e._zod,"optin",()=>r.innerType._zod.optin),zr(e._zod,"optout",()=>r.innerType._zod.optout),zr(e._zod,"pattern",()=>{const t=r.innerType._zod.pattern;return t?new RegExp(`^(${Wv(t.source)}|null)$`):void 0}),zr(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,null]):void 0),e._zod.parse=(t,s)=>t.value===null?t:r.innerType._zod.run(t,s)}),yL=Re("$ZodDefault",(e,r)=>{Ar.init(e,r),e._zod.optin="optional",zr(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(t,s)=>{if(s.direction==="backward")return r.innerType._zod.run(t,s);if(t.value===void 0)return t.value=r.defaultValue,t;const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(i=>zT(i,r)):zT(n,r)}});function zT(e,r){return e.value===void 0&&(e.value=r.defaultValue),e}const bL=Re("$ZodPrefault",(e,r)=>{Ar.init(e,r),e._zod.optin="optional",zr(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(t,s)=>(s.direction==="backward"||t.value===void 0&&(t.value=r.defaultValue),r.innerType._zod.run(t,s))}),vL=Re("$ZodNonOptional",(e,r)=>{Ar.init(e,r),zr(e._zod,"values",()=>{const t=r.innerType._zod.values;return t?new Set([...t].filter(s=>s!==void 0)):void 0}),e._zod.parse=(t,s)=>{const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(i=>BT(i,e)):BT(n,e)}});function BT(e,r){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:r}),e}const xL=Re("$ZodSuccess",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>{if(s.direction==="backward")throw new Vv("ZodSuccess");const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(i=>(t.value=i.issues.length===0,t)):(t.value=n.issues.length===0,t)}}),wL=Re("$ZodCatch",(e,r)=>{Ar.init(e,r),zr(e._zod,"optin",()=>r.innerType._zod.optin),zr(e._zod,"optout",()=>r.innerType._zod.optout),zr(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(t,s)=>{if(s.direction==="backward")return r.innerType._zod.run(t,s);const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(i=>(t.value=i.value,i.issues.length&&(t.value=r.catchValue({...t,error:{issues:i.issues.map(a=>ho(a,s,Ii()))},input:t.value}),t.issues=[]),t)):(t.value=n.value,n.issues.length&&(t.value=r.catchValue({...t,error:{issues:n.issues.map(i=>ho(i,s,Ii()))},input:t.value}),t.issues=[]),t)}}),_L=Re("$ZodNaN",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>((typeof t.value!="number"||!Number.isNaN(t.value))&&t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),kL=Re("$ZodPipe",(e,r)=>{Ar.init(e,r),zr(e._zod,"values",()=>r.in._zod.values),zr(e._zod,"optin",()=>r.in._zod.optin),zr(e._zod,"optout",()=>r.out._zod.optout),zr(e._zod,"propValues",()=>r.in._zod.propValues),e._zod.parse=(t,s)=>{if(s.direction==="backward"){const i=r.out._zod.run(t,s);return i instanceof Promise?i.then(a=>Ay(a,r.in,s)):Ay(i,r.in,s)}const n=r.in._zod.run(t,s);return n instanceof Promise?n.then(i=>Ay(i,r.out,s)):Ay(n,r.out,s)}});function Ay(e,r,t){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:e.value,issues:e.issues},t)}const aj=Re("$ZodCodec",(e,r)=>{Ar.init(e,r),zr(e._zod,"values",()=>r.in._zod.values),zr(e._zod,"optin",()=>r.in._zod.optin),zr(e._zod,"optout",()=>r.out._zod.optout),zr(e._zod,"propValues",()=>r.in._zod.propValues),e._zod.parse=(t,s)=>{if((s.direction||"forward")==="forward"){const i=r.in._zod.run(t,s);return i instanceof Promise?i.then(a=>Py(a,r,s)):Py(i,r,s)}else{const i=r.out._zod.run(t,s);return i instanceof Promise?i.then(a=>Py(a,r,s)):Py(i,r,s)}}});function Py(e,r,t){if(e.issues.length)return e.aborted=!0,e;if((t.direction||"forward")==="forward"){const n=r.transform(e.value,e);return n instanceof Promise?n.then(i=>Iy(e,i,r.out,t)):Iy(e,n,r.out,t)}else{const n=r.reverseTransform(e.value,e);return n instanceof Promise?n.then(i=>Iy(e,i,r.in,t)):Iy(e,n,r.in,t)}}function Iy(e,r,t,s){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:r,issues:e.issues},s)}const SL=Re("$ZodReadonly",(e,r)=>{Ar.init(e,r),zr(e._zod,"propValues",()=>r.innerType._zod.propValues),zr(e._zod,"values",()=>r.innerType._zod.values),zr(e._zod,"optin",()=>r.innerType?._zod?.optin),zr(e._zod,"optout",()=>r.innerType?._zod?.optout),e._zod.parse=(t,s)=>{if(s.direction==="backward")return r.innerType._zod.run(t,s);const n=r.innerType._zod.run(t,s);return n instanceof Promise?n.then(UT):UT(n)}});function UT(e){return e.value=Object.freeze(e.value),e}const jL=Re("$ZodTemplateLiteral",(e,r)=>{Ar.init(e,r);const t=[];for(const s of r.parts)if(typeof s=="object"&&s!==null){if(!s._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...s._zod.traits].shift()}`);const n=s._zod.pattern instanceof RegExp?s._zod.pattern.source:s._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${s._zod.traits}`);const i=n.startsWith("^")?1:0,a=n.endsWith("$")?n.length-1:n.length;t.push(n.slice(i,a))}else if(s===null||X$.has(typeof s))t.push(cc(`${s}`));else throw new Error(`Invalid template literal part: ${s}`);e._zod.pattern=new RegExp(`^${t.join("")}$`),e._zod.parse=(s,n)=>typeof s.value!="string"?(s.issues.push({input:s.value,inst:e,expected:"string",code:"invalid_type"}),s):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(s.value)||s.issues.push({input:s.value,inst:e,code:"invalid_format",format:r.format??"template_literal",pattern:e._zod.pattern.source}),s)}),NL=Re("$ZodFunction",(e,r)=>(Ar.init(e,r),e._def=r,e._zod.def=r,e.implement=t=>{if(typeof t!="function")throw new Error("implement() must be called with a function");return function(...s){const n=e._def.input?Pk(e._def.input,s):s,i=Reflect.apply(t,this,n);return e._def.output?Pk(e._def.output,i):i}},e.implementAsync=t=>{if(typeof t!="function")throw new Error("implementAsync() must be called with a function");return async function(...s){const n=e._def.input?await Ik(e._def.input,s):s,i=await Reflect.apply(t,this,n);return e._def.output?await Ik(e._def.output,i):i}},e._zod.parse=(t,s)=>typeof t.value!="function"?(t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}),t):(e._def.output&&e._def.output._zod.def.type==="promise"?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{const s=e.constructor;return Array.isArray(t[0])?new s({type:"function",input:new sj({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}):new s({type:"function",input:t[0],output:e._def.output})},e.output=t=>{const s=e.constructor;return new s({type:"function",input:e._def.input,output:t})},e)),CL=Re("$ZodPromise",(e,r)=>{Ar.init(e,r),e._zod.parse=(t,s)=>Promise.resolve(t.value).then(n=>r.innerType._zod.run({value:n,issues:[]},s))}),TL=Re("$ZodLazy",(e,r)=>{Ar.init(e,r),zr(e._zod,"innerType",()=>r.getter()),zr(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),zr(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),zr(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),zr(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,s)=>e._zod.innerType._zod.run(t,s)}),EL=Re("$ZodCustom",(e,r)=>{Hn.init(e,r),Ar.init(e,r),e._zod.parse=(t,s)=>t,e._zod.check=t=>{const s=t.value,n=r.fn(s);if(n instanceof Promise)return n.then(i=>VT(i,t,s,e));VT(n,t,s,e)}});function VT(e,r,t,s){if(!e){const n={code:"custom",input:t,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(n.params=s._zod.def.params),r.issues.push(kh(n))}}const oce=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`  :   instanceof ${n.expected}    ${l}`:`  :   ${i}    ${l}`}case"invalid_value":return n.values.length===1?`  :   ${pr(n.values[0])}`:`  :     : ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`   :    ${n.origin??""} ${i} ${n.maximum.toString()} ${a.unit??""}`:`  :    ${n.origin??""} ${i} ${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`  :   ${n.origin}   ${i} ${n.minimum.toString()} ${a.unit}`:`  :   ${n.origin}   ${i} ${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`  :     "${n.prefix}"`:i.format==="ends_with"?`  :     "${i.suffix}"`:i.format==="includes"?`  :    "${i.includes}"`:i.format==="regex"?`  :     ${i.pattern}`:`${t[i.format]??n.format}  `}case"not_multiple_of":return`  :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${pt(n.keys," ")}`;case"invalid_key":return`    ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${n.origin}`;default:return"  "}}};function lce(){return{localeError:oce()}}const cce=()=>{const e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function r(n){return e[n]??null}const t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Yanl dyr: gzlniln instanceof ${n.expected}, daxil olan ${l}`:`Yanl dyr: gzlniln ${i}, daxil olan ${l}`}case"invalid_value":return n.values.length===1?`Yanl dyr: gzlniln ${pr(n.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`ox byk: gzlniln ${n.origin??"dyr"} ${i}${n.maximum.toString()} ${a.unit??"element"}`:`ox byk: gzlniln ${n.origin??"dyr"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`ox kiik: gzlniln ${n.origin} ${i}${n.minimum.toString()} ${a.unit}`:`ox kiik: gzlniln ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Yanl mtn: "${i.prefix}" il balamaldr`:i.format==="ends_with"?`Yanl mtn: "${i.suffix}" il bitmlidir`:i.format==="includes"?`Yanl mtn: "${i.includes}" daxil olmaldr`:i.format==="regex"?`Yanl mtn: ${i.pattern} ablonuna uyun olmaldr`:`Yanl ${t[i.format]??n.format}`}case"not_multiple_of":return`Yanl dd: ${n.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${n.keys.length>1?"lar":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${n.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function uce(){return{localeError:cce()}}function WT(e,r,t,s){const n=Math.abs(e),i=n%10,a=n%100;return a>=11&&a<=19?s:i===1?r:i>=2&&i<=4?t:s}const dce=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}`:` :    ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);if(a){const l=Number(n.maximum),u=WT(l,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${n.origin??""}  ${a.verb} ${i}${n.maximum.toString()} ${u}`}return` : ,  ${n.origin??""}   ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);if(a){const l=Number(n.minimum),u=WT(l,a.unit.one,a.unit.few,a.unit.many);return` : ,  ${n.origin}  ${a.verb} ${i}${n.minimum.toString()} ${u}`}return` : ,  ${n.origin}   ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function fce(){return{localeError:dce()}}const hce=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}`:` :    ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` :   ${n.origin??""}   ${i}${n.maximum.toString()} ${a.unit??""}`:` :   ${n.origin??""}   ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` :   ${n.origin}   ${i}${n.minimum.toString()} ${a.unit}`:` :   ${n.origin}   ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;if(i.format==="starts_with")return` :     "${i.prefix}"`;if(i.format==="ends_with")return` :     "${i.suffix}"`;if(i.format==="includes")return` :    "${i.includes}"`;if(i.format==="regex")return` :     ${i.pattern}`;let a="";return i.format==="emoji"&&(a=""),i.format==="datetime"&&(a=""),i.format==="date"&&(a=""),i.format==="time"&&(a=""),i.format==="duration"&&(a=""),`${a} ${t[i.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function pce(){return{localeError:hce()}}const mce=()=>{const e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function r(n){return e[n]??null}const t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Tipus invlid: s'esperava instanceof ${n.expected}, s'ha rebut ${l}`:`Tipus invlid: s'esperava ${i}, s'ha rebut ${l}`}case"invalid_value":return n.values.length===1?`Valor invlid: s'esperava ${pr(n.values[0])}`:`Opci invlida: s'esperava una de ${pt(n.values," o ")}`;case"too_big":{const i=n.inclusive?"com a mxim":"menys de",a=r(n.origin);return a?`Massa gran: s'esperava que ${n.origin??"el valor"} contingus ${i} ${n.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${i} ${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?"com a mnim":"ms de",a=r(n.origin);return a?`Massa petit: s'esperava que ${n.origin} contingus ${i} ${n.minimum.toString()} ${a.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${i} ${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Format invlid: ha de comenar amb "${i.prefix}"`:i.format==="ends_with"?`Format invlid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format invlid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format invlid: ha de coincidir amb el patr ${i.pattern}`:`Format invlid per a ${t[i.format]??n.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Clau invlida a ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${n.origin}`;default:return"Entrada invlida"}}};function gce(){return{localeError:mce()}}const yce=()=>{const e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function r(n){return e[n]??null}const t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},s={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Neplatn vstup: oekvno instanceof ${n.expected}, obdreno ${l}`:`Neplatn vstup: oekvno ${i}, obdreno ${l}`}case"invalid_value":return n.values.length===1?`Neplatn vstup: oekvno ${pr(n.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Hodnota je pli velk: ${n.origin??"hodnota"} mus mt ${i}${n.maximum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli velk: ${n.origin??"hodnota"} mus bt ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Hodnota je pli mal: ${n.origin??"hodnota"} mus mt ${i}${n.minimum.toString()} ${a.unit??"prvk"}`:`Hodnota je pli mal: ${n.origin??"hodnota"} mus bt ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Neplatn etzec: mus zanat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn etzec: mus konit na "${i.suffix}"`:i.format==="includes"?`Neplatn etzec: mus obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${i.pattern}`:`Neplatn formt ${t[i.format]??n.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${n.divisor}`;case"unrecognized_keys":return`Neznm kle: ${pt(n.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${n.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${n.origin}`;default:return"Neplatn vstup"}}};function bce(){return{localeError:yce()}}const vce=()=>{const e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function r(n){return e[n]??null}const t={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},s={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Ugyldigt input: forventede instanceof ${n.expected}, fik ${l}`:`Ugyldigt input: forventede ${i}, fik ${l}`}case"invalid_value":return n.values.length===1?`Ugyldig vrdi: forventede ${pr(n.values[0])}`:`Ugyldigt valg: forventede en af flgende ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin),l=s[n.origin]??n.origin;return a?`For stor: forventede ${l??"value"} ${a.verb} ${i} ${n.maximum.toString()} ${a.unit??"elementer"}`:`For stor: forventede ${l??"value"} havde ${i} ${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin),l=s[n.origin]??n.origin;return a?`For lille: forventede ${l} ${a.verb} ${i} ${n.minimum.toString()} ${a.unit}`:`For lille: forventede ${l} havde ${i} ${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Ugyldig streng: skal starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: skal ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: skal indeholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: skal matche mnsteret ${i.pattern}`:`Ugyldig ${t[i.format]??n.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${n.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${n.origin}`;default:return"Ugyldigt input"}}};function xce(){return{localeError:vce()}}const wce=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function r(n){return e[n]??null}const t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},s={nan:"NaN",number:"Zahl",array:"Array"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Ungltige Eingabe: erwartet instanceof ${n.expected}, erhalten ${l}`:`Ungltige Eingabe: erwartet ${i}, erhalten ${l}`}case"invalid_value":return n.values.length===1?`Ungltige Eingabe: erwartet ${pr(n.values[0])}`:`Ungltige Option: erwartet eine von ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Zu gro: erwartet, dass ${n.origin??"Wert"} ${i}${n.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${n.origin??"Wert"} ${i}${n.maximum.toString()} ist`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Zu klein: erwartet, dass ${n.origin} ${i}${n.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${i}${n.minimum.toString()} ist`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Ungltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ungltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ungltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ungltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ungltig: ${t[i.format]??n.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${n.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${n.origin}`;default:return"Ungltige Eingabe"}}};function _ce(){return{localeError:wce()}}const kce=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function r(n){return e[n]??null}const t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return`Invalid input: expected ${i}, received ${l}`}case"invalid_value":return n.values.length===1?`Invalid input: expected ${pr(n.values[0])}`:`Invalid option: expected one of ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${a.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${t[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function AL(){return{localeError:kce()}}const Sce=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function r(n){return e[n]??null}const t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},s={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Nevalida enigo: atendiis instanceof ${n.expected}, riceviis ${l}`:`Nevalida enigo: atendiis ${i}, riceviis ${l}`}case"invalid_value":return n.values.length===1?`Nevalida enigo: atendiis ${pr(n.values[0])}`:`Nevalida opcio: atendiis unu el ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendiis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Tro malgranda: atendiis ke ${n.origin} havu ${i}${n.minimum.toString()} ${a.unit}`:`Tro malgranda: atendiis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${t[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} losilo${n.keys.length>1?"j":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}};function jce(){return{localeError:Sce()}}const Nce=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function r(n){return e[n]??null}const t={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},s={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Entrada invlida: se esperaba instanceof ${n.expected}, recibido ${l}`:`Entrada invlida: se esperaba ${i}, recibido ${l}`}case"invalid_value":return n.values.length===1?`Entrada invlida: se esperaba ${pr(n.values[0])}`:`Opcin invlida: se esperaba una de ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin),l=s[n.origin]??n.origin;return a?`Demasiado grande: se esperaba que ${l??"valor"} tuviera ${i}${n.maximum.toString()} ${a.unit??"elementos"}`:`Demasiado grande: se esperaba que ${l??"valor"} fuera ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin),l=s[n.origin]??n.origin;return a?`Demasiado pequeo: se esperaba que ${l} tuviera ${i}${n.minimum.toString()} ${a.unit}`:`Demasiado pequeo: se esperaba que ${l} fuera ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Cadena invlida: debe comenzar con "${i.prefix}"`:i.format==="ends_with"?`Cadena invlida: debe terminar en "${i.suffix}"`:i.format==="includes"?`Cadena invlida: debe incluir "${i.includes}"`:i.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${i.pattern}`:`Invlido ${t[i.format]??n.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${n.divisor}`;case"unrecognized_keys":return`Llave${n.keys.length>1?"s":""} desconocida${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Llave invlida en ${s[n.origin]??n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${s[n.origin]??n.origin}`;default:return"Entrada invlida"}}};function Cce(){return{localeError:Nce()}}const Tce=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected}  ${l}  `:` :  ${i}  ${l}  `}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])} `:` :    ${pt(n.values,"|")} `;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` : ${n.origin??""}  ${i}${n.maximum.toString()} ${a.unit??""} `:` : ${n.origin??""}  ${i}${n.maximum.toString()} `}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` : ${n.origin}  ${i}${n.minimum.toString()} ${a.unit} `:` : ${n.origin}  ${i}${n.minimum.toString()} `}case"invalid_format":{const i=n;return i.format==="starts_with"?` :   "${i.prefix}"  `:i.format==="ends_with"?` :   "${i.suffix}"  `:i.format==="includes"?` :   "${i.includes}" `:i.format==="regex"?` :    ${i.pattern}   `:`${t[i.format]??n.format} `}case"not_multiple_of":return` :   ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""} : ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function Ece(){return{localeError:Tce()}}const Ace=()=>{const e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function r(n){return e[n]??null}const t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Virheellinen tyyppi: odotettiin instanceof ${n.expected}, oli ${l}`:`Virheellinen tyyppi: odotettiin ${i}, oli ${l}`}case"invalid_value":return n.values.length===1?`Virheellinen syte: tytyy olla ${pr(n.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Liian suuri: ${a.subject} tytyy olla ${i}${n.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon tytyy olla ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Liian pieni: ${a.subject} tytyy olla ${i}${n.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon tytyy olla ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen syte: tytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen syte: tytyy sislt "${i.includes}"`:i.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${i.pattern}`:`Virheellinen ${t[i.format]??n.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${pt(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function Pce(){return{localeError:Ace()}}const Ice=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function r(n){return e[n]??null}const t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},s={nan:"NaN",number:"nombre",array:"tableau"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Entre invalide : instanceof ${n.expected} attendu, ${l} reu`:`Entre invalide : ${i} attendu, ${l} reu`}case"invalid_value":return n.values.length===1?`Entre invalide : ${pr(n.values[0])} attendu`:`Option invalide : une valeur parmi ${pt(n.values,"|")} attendue`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Trop grand : ${n.origin??"valeur"} doit ${a.verb} ${i}${n.maximum.toString()} ${a.unit??"lment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit tre ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Trop petit : ${n.origin} doit ${a.verb} ${i}${n.minimum.toString()} ${a.unit}`:`Trop petit : ${n.origin} doit tre ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au modle ${i.pattern}`:`${t[i.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${pt(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}};function Dce(){return{localeError:Ice()}}const Mce=()=>{const e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function r(n){return e[n]??null}const t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Entre invalide : attendu instanceof ${n.expected}, reu ${l}`:`Entre invalide : attendu ${i}, reu ${l}`}case"invalid_value":return n.values.length===1?`Entre invalide : attendu ${pr(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"":"<",a=r(n.origin);return a?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${i}${n.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?"":">",a=r(n.origin);return a?`Trop petit : attendu que ${n.origin} ait ${i}${n.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${n.origin} soit ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Chane invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Chane invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Chane invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Chane invalide : doit correspondre au motif ${i.pattern}`:`${t[i.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${pt(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}};function Rce(){return{localeError:Mce()}}const $ce=()=>{const e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},r={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},t=c=>c?e[c]:void 0,s=c=>{const d=t(c);return d?d.label:c??e.unknown.label},n=c=>`${s(c)}`,i=c=>(t(c)?.gender??"m")==="f"?" ":" ",a=c=>c?r[c]??null:null,l={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},u={nan:"NaN"};return c=>{switch(c.code){case"invalid_type":{const d=c.expected,p=u[d??""]??s(d),f=xr(c.input),h=u[f]??e[f]?.label??f;return/^[A-Z]/.test(c.expected)?`  :   instanceof ${c.expected},  ${h}`:`  :   ${p},  ${h}`}case"invalid_value":{if(c.values.length===1)return`  :    ${pr(c.values[0])}`;const d=c.values.map(h=>pr(h));if(c.values.length===2)return`  :    ${d[0]}  ${d[1]}`;const p=d[d.length-1];return`  :    ${d.slice(0,-1).join(", ")}  ${p}`}case"too_big":{const d=a(c.origin),p=n(c.origin??"value");if(c.origin==="string")return`${d?.longLabel??""} : ${p}   ${c.maximum.toString()} ${d?.unit??""} ${c.inclusive?" ":" "}`.trim();if(c.origin==="number"){const g=c.inclusive?`   -${c.maximum}`:` -${c.maximum}`;return` : ${p}   ${g}`}if(c.origin==="array"||c.origin==="set"){const g=c.origin==="set"?"":"",y=c.inclusive?`${c.maximum} ${d?.unit??""}  `:` -${c.maximum} ${d?.unit??""}`;return` : ${p} ${g}  ${y}`.trim()}const f=c.inclusive?"<=":"<",h=i(c.origin??"value");return d?.unit?`${d.longLabel} : ${p} ${h} ${f}${c.maximum.toString()} ${d.unit}`:`${d?.longLabel??""} : ${p} ${h} ${f}${c.maximum.toString()}`}case"too_small":{const d=a(c.origin),p=n(c.origin??"value");if(c.origin==="string")return`${d?.shortLabel??""} : ${p}   ${c.minimum.toString()} ${d?.unit??""} ${c.inclusive?" ":""}`.trim();if(c.origin==="number"){const g=c.inclusive?`   -${c.minimum}`:` -${c.minimum}`;return` : ${p}   ${g}`}if(c.origin==="array"||c.origin==="set"){const g=c.origin==="set"?"":"";if(c.minimum===1&&c.inclusive){const m=(c.origin==="set","  ");return` : ${p} ${g}  ${m}`}const y=c.inclusive?`${c.minimum} ${d?.unit??""}  `:` -${c.minimum} ${d?.unit??""}`;return` : ${p} ${g}  ${y}`.trim()}const f=c.inclusive?">=":">",h=i(c.origin??"value");return d?.unit?`${d.shortLabel} : ${p} ${h} ${f}${c.minimum.toString()} ${d.unit}`:`${d?.shortLabel??""} : ${p} ${h} ${f}${c.minimum.toString()}`}case"invalid_format":{const d=c;if(d.format==="starts_with")return`    "${d.prefix}"`;if(d.format==="ends_with")return`    "${d.suffix}"`;if(d.format==="includes")return`   "${d.includes}"`;if(d.format==="regex")return`    ${d.pattern}`;const p=l[d.format],f=p?.label??d.format,g=(p?.gender??"m")==="f"?"":"";return`${f}  ${g}`}case"not_multiple_of":return`  :     ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"":""}  ${c.keys.length>1?"":""}: ${pt(c.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${n(c.origin??"array")}`;default:return"  "}}};function Oce(){return{localeError:$ce()}}const Fce=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function r(n){return e[n]??null}const t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},s={nan:"NaN",number:"szm",array:"tmb"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`rvnytelen bemenet: a vrt rtk instanceof ${n.expected}, a kapott rtk ${l}`:`rvnytelen bemenet: a vrt rtk ${i}, a kapott rtk ${l}`}case"invalid_value":return n.values.length===1?`rvnytelen bemenet: a vrt rtk ${pr(n.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Tl nagy: ${n.origin??"rtk"} mrete tl nagy ${i}${n.maximum.toString()} ${a.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${n.origin??"rtk"} tl nagy: ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Tl kicsi: a bemeneti rtk ${n.origin} mrete tl kicsi ${i}${n.minimum.toString()} ${a.unit}`:`Tl kicsi: a bemeneti rtk ${n.origin} tl kicsi ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`rvnytelen string: "${i.prefix}" rtkkel kell kezddnie`:i.format==="ends_with"?`rvnytelen string: "${i.suffix}" rtkkel kell vgzdnie`:i.format==="includes"?`rvnytelen string: "${i.includes}" rtket kell tartalmaznia`:i.format==="regex"?`rvnytelen string: ${i.pattern} mintnak kell megfelelnie`:`rvnytelen ${t[i.format]??n.format}`}case"not_multiple_of":return`rvnytelen szm: ${n.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${n.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${n.origin}`;default:return"rvnytelen bemenet"}}};function Lce(){return{localeError:Fce()}}function qT(e,r,t){return Math.abs(e)===1?r:t}function Mf(e){if(!e)return"";const r=["","","","","","",""],t=e[e.length-1];return e+(r.includes(t)?"":"")}const zce=()=>{const e={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}};function r(n){return e[n]??null}const t={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`    instanceof ${n.expected},   ${l}`:`    ${i},   ${l}`}case"invalid_value":return n.values.length===1?`    ${pr(n.values[1])}`:`      ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);if(a){const l=Number(n.maximum),u=qT(l,a.unit.one,a.unit.many);return`    ,  ${Mf(n.origin??"")}  ${i}${n.maximum.toString()} ${u}`}return`    ,  ${Mf(n.origin??"")}  ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);if(a){const l=Number(n.minimum),u=qT(l,a.unit.one,a.unit.many);return`    ,  ${Mf(n.origin)}  ${i}${n.minimum.toString()} ${u}`}return`    ,  ${Mf(n.origin)}  ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`     "${i.prefix}"-`:i.format==="ends_with"?`     "${i.suffix}"-`:i.format==="includes"?`     "${i.includes}"`:i.format==="regex"?`     ${i.pattern} `:` ${t[i.format]??n.format}`}case"not_multiple_of":return`      ${n.divisor}-`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}. ${pt(n.keys,", ")}`;case"invalid_key":return`  ${Mf(n.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${Mf(n.origin)}-`;default:return" "}}};function Bce(){return{localeError:zce()}}const Uce=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function r(n){return e[n]??null}const t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Input tidak valid: diharapkan instanceof ${n.expected}, diterima ${l}`:`Input tidak valid: diharapkan ${i}, diterima ${l}`}case"invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${pr(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${i}${n.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Terlalu kecil: diharapkan ${n.origin} memiliki ${i}${n.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${t[i.format]??n.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`;default:return"Input tidak valid"}}};function Vce(){return{localeError:Uce()}}const Wce=()=>{const e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function r(n){return e[n]??null}const t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},s={nan:"NaN",number:"nmer",array:"fylki"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Rangt gildi:  slst inn ${l} ar sem  a vera instanceof ${n.expected}`:`Rangt gildi:  slst inn ${l} ar sem  a vera ${i}`}case"invalid_value":return n.values.length===1?`Rangt gildi: gert r fyrir ${pr(n.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Of strt: gert er r fyrir a ${n.origin??"gildi"} hafi ${i}${n.maximum.toString()} ${a.unit??"hluti"}`:`Of strt: gert er r fyrir a ${n.origin??"gildi"} s ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Of lti: gert er r fyrir a ${n.origin} hafi ${i}${n.minimum.toString()} ${a.unit}`:`Of lti: gert er r fyrir a ${n.origin} s ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${t[i.format]??n.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`ekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${n.origin}`;default:return"Rangt gildi"}}};function qce(){return{localeError:Wce()}}const Hce=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function r(n){return e[n]??null}const t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},s={nan:"NaN",number:"numero",array:"vettore"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Input non valido: atteso instanceof ${n.expected}, ricevuto ${l}`:`Input non valido: atteso ${i}, ricevuto ${l}`}case"invalid_value":return n.values.length===1?`Input non valido: atteso ${pr(n.values[0])}`:`Opzione non valida: atteso uno tra ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Troppo grande: ${n.origin??"valore"} deve avere ${i}${n.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Troppo piccolo: ${n.origin} deve avere ${i}${n.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${n.origin} deve essere ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${t[i.format]??n.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`;default:return"Input non valido"}}};function Kce(){return{localeError:Hce()}}const Zce=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`: instanceof ${n.expected}${l}`:`: ${i}${l}`}case"invalid_value":return n.values.length===1?`: ${pr(n.values[0])}`:`: ${pt(n.values,"")}`;case"too_big":{const i=n.inclusive?"":"",a=r(n.origin);return a?`: ${n.origin??""}${n.maximum.toString()}${a.unit??""}${i}`:`: ${n.origin??""}${n.maximum.toString()}${i}`}case"too_small":{const i=n.inclusive?"":"",a=r(n.origin);return a?`: ${n.origin}${n.minimum.toString()}${a.unit}${i}`:`: ${n.origin}${n.minimum.toString()}${i}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`: "${i.prefix}"`:i.format==="ends_with"?`: "${i.suffix}"`:i.format==="includes"?`: "${i.includes}"`:i.format==="regex"?`: ${i.pattern}`:`${t[i.format]??n.format}`}case"not_multiple_of":return`: ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}: ${pt(n.keys,"")}`;case"invalid_key":return`${n.origin}`;case"invalid_union":return"";case"invalid_element":return`${n.origin}`;default:return""}}};function Gce(){return{localeError:Zce()}}const Xce=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}`:` :  - ${pt(n.values,"|")}-`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` :  ${n.origin??""} ${a.verb} ${i}${n.maximum.toString()} ${a.unit}`:` :  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` :  ${n.origin} ${a.verb} ${i}${n.minimum.toString()} ${a.unit}`:` :  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return` :   ${n.divisor}- `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`  ${n.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${n.origin}-`;default:return" "}}};function Qce(){return{localeError:Xce()}}const Yce=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`  instanceof ${n.expected}  ${l}`:`  ${i}  ${l}`}case"invalid_value":return n.values.length===1?`  ${pr(n.values[0])}`:`  ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`  ${n.origin??""} ${i} ${n.maximum.toString()} ${a.unit??""}`:`  ${n.origin??""} ${i} ${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`  ${n.origin} ${i} ${n.minimum.toString()} ${a.unit}`:`  ${n.origin} ${i} ${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`  "${i.prefix}"`:i.format==="ends_with"?`  "${i.suffix}"`:i.format==="includes"?`  "${i.includes}"`:i.format==="regex"?`  ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return`  ${n.divisor}`;case"unrecognized_keys":return` ${pt(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return"";case"invalid_element":return` ${n.origin}`;default:return""}}};function PL(){return{localeError:Yce()}}function Jce(){return PL()}const eue=()=>{const e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function r(n){return e[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :   instanceof ${n.expected},   ${l}`:` :   ${i},   ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}  `:` : ${pt(n.values," ")}   `;case"too_big":{const i=n.inclusive?"":"",a=i===""?" ":" ",l=r(n.origin),u=l?.unit??"";return l?`${n.origin??""}  : ${n.maximum.toString()}${u} ${i}${a}`:`${n.origin??""}  : ${n.maximum.toString()} ${i}${a}`}case"too_small":{const i=n.inclusive?"":"",a=i===""?" ":" ",l=r(n.origin),u=l?.unit??"";return l?`${n.origin??""}  : ${n.minimum.toString()}${u} ${i}${a}`:`${n.origin??""}  : ${n.minimum.toString()} ${i}${a}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` : "${i.prefix}"()  `:i.format==="ends_with"?` : "${i.suffix}"()  `:i.format==="includes"?` : "${i.includes}"()  `:i.format==="regex"?` :  ${i.pattern}   `:` ${t[i.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}  `;case"unrecognized_keys":return`   : ${pt(n.keys,", ")}`;case"invalid_key":return` : ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${n.origin}`;default:return" "}}};function tue(){return{localeError:eue()}}const Kp=e=>e.charAt(0).toUpperCase()+e.slice(1);function HT(e){const r=Math.abs(e),t=r%10,s=r%100;return s>=11&&s<=19||t===0?"many":t===1?"one":"few"}const rue=()=>{const e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function r(n,i,a,l){const u=e[n]??null;return u===null?u:{unit:u.unit[i],verb:u.verb[l][a?"inclusive":"notInclusive"]}}const t={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},s={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Gautas tipas ${l}, o tiktasi - instanceof ${n.expected}`:`Gautas tipas ${l}, o tiktasi - ${i}`}case"invalid_value":return n.values.length===1?`Privalo bti ${pr(n.values[0])}`:`Privalo bti vienas i ${pt(n.values,"|")} pasirinkim`;case"too_big":{const i=s[n.origin]??n.origin,a=r(n.origin,HT(Number(n.maximum)),n.inclusive??!1,"smaller");if(a?.verb)return`${Kp(i??n.origin??"reikm")} ${a.verb} ${n.maximum.toString()} ${a.unit??"element"}`;const l=n.inclusive?"ne didesnis kaip":"maesnis kaip";return`${Kp(i??n.origin??"reikm")} turi bti ${l} ${n.maximum.toString()} ${a?.unit}`}case"too_small":{const i=s[n.origin]??n.origin,a=r(n.origin,HT(Number(n.minimum)),n.inclusive??!1,"bigger");if(a?.verb)return`${Kp(i??n.origin??"reikm")} ${a.verb} ${n.minimum.toString()} ${a.unit??"element"}`;const l=n.inclusive?"ne maesnis kaip":"didesnis kaip";return`${Kp(i??n.origin??"reikm")} turi bti ${l} ${n.minimum.toString()} ${a?.unit}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${t[i.format]??n.format}`}case"not_multiple_of":return`Skaiius privalo bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${pt(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{const i=s[n.origin]??n.origin;return`${Kp(i??n.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function nue(){return{localeError:rue()}}const sue=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :   instanceof ${n.expected},  ${l}`:` :   ${i},  ${l}`}case"invalid_value":return n.values.length===1?`Invalid input: expected ${pr(n.values[0])}`:` :    ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` :   ${n.origin??""}   ${i}${n.maximum.toString()} ${a.unit??""}`:` :   ${n.origin??""}   ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` :   ${n.origin}   ${i}${n.minimum.toString()} ${a.unit}`:` :   ${n.origin}   ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` :     "${i.prefix}"`:i.format==="ends_with"?` :     "${i.suffix}"`:i.format==="includes"?` :    "${i.includes}"`:i.format==="regex"?` :      ${i.pattern}`:`Invalid ${t[i.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?" ":" "}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}};function iue(){return{localeError:sue()}}const aue=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function r(n){return e[n]??null}const t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},s={nan:"NaN",number:"nombor"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Input tidak sah: dijangka instanceof ${n.expected}, diterima ${l}`:`Input tidak sah: dijangka ${i}, diterima ${l}`}case"invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${pr(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Terlalu besar: dijangka ${n.origin??"nilai"} ${a.verb} ${i}${n.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Terlalu kecil: dijangka ${n.origin} ${a.verb} ${i}${n.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${t[i.format]??n.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${pt(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`;default:return"Input tidak sah"}}};function oue(){return{localeError:aue()}}const lue=()=>{const e={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function r(n){return e[n]??null}const t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},s={nan:"NaN",number:"getal"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Ongeldige invoer: verwacht instanceof ${n.expected}, ontving ${l}`:`Ongeldige invoer: verwacht ${i}, ontving ${l}`}case"invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${pr(n.values[0])}`:`Ongeldige optie: verwacht n van ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin),l=n.origin==="date"?"laat":n.origin==="string"?"lang":"groot";return a?`Te ${l}: verwacht dat ${n.origin??"waarde"} ${i}${n.maximum.toString()} ${a.unit??"elementen"} ${a.verb}`:`Te ${l}: verwacht dat ${n.origin??"waarde"} ${i}${n.maximum.toString()} is`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin),l=n.origin==="date"?"vroeg":n.origin==="string"?"kort":"klein";return a?`Te ${l}: verwacht dat ${n.origin} ${i}${n.minimum.toString()} ${a.unit} ${a.verb}`:`Te ${l}: verwacht dat ${n.origin} ${i}${n.minimum.toString()} is`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${t[i.format]??n.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`;default:return"Ongeldige invoer"}}};function cue(){return{localeError:lue()}}const uue=()=>{const e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function r(n){return e[n]??null}const t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},s={nan:"NaN",number:"tall",array:"liste"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Ugyldig input: forventet instanceof ${n.expected}, fikk ${l}`:`Ugyldig input: forventet ${i}, fikk ${l}`}case"invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${pr(n.values[0])}`:`Ugyldig valg: forventet en av ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`For stor(t): forventet ${n.origin??"value"} til  ha ${i}${n.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til  ha ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`For lite(n): forventet ${n.origin} til  ha ${i}${n.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${n.origin} til  ha ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Ugyldig streng: m starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m matche mnsteret ${i.pattern}`:`Ugyldig ${t[i.format]??n.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${n.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`;default:return"Ugyldig input"}}};function due(){return{localeError:uue()}}const fue=()=>{const e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function r(n){return e[n]??null}const t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},s={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Fsit giren: umulan instanceof ${n.expected}, alnan ${l}`:`Fsit giren: umulan ${i}, alnan ${l}`}case"invalid_value":return n.values.length===1?`Fsit giren: umulan ${pr(n.values[0])}`:`Fsit tercih: mteberler ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Fazla byk: ${n.origin??"value"}, ${i}${n.maximum.toString()} ${a.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${n.origin??"value"}, ${i}${n.maximum.toString()} olmalyd.`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Fazla kk: ${n.origin}, ${i}${n.minimum.toString()} ${a.unit} sahip olmalyd.`:`Fazla kk: ${n.origin}, ${i}${n.minimum.toString()} olmalyd.`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Fsit metin: "${i.prefix}" ile balamal.`:i.format==="ends_with"?`Fsit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`Fsit metin: "${i.includes}" ihtiv etmeli.`:i.format==="regex"?`Fsit metin: ${i.pattern} nakna uymal.`:`Fsit ${t[i.format]??n.format}`}case"not_multiple_of":return`Fsit say: ${n.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${n.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function hue(){return{localeError:fue()}}const pue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected} ,  ${l}  `:` :  ${i} ,  ${l}  `}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])} `:` :    ${pt(n.values,"|")}  `;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` : ${n.origin??""}  ${i}${n.maximum.toString()} ${a.unit??""} `:` : ${n.origin??""}  ${i}${n.maximum.toString()} `}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` : ${n.origin}  ${i}${n.minimum.toString()} ${a.unit} `:` : ${n.origin}  ${i}${n.minimum.toString()} `}case"invalid_format":{const i=n;return i.format==="starts_with"?` :   "${i.prefix}"   `:i.format==="ends_with"?` :   "${i.suffix}"    `:i.format==="includes"?` :  "${i.includes}" `:i.format==="regex"?` :   ${i.pattern}   `:`${t[i.format]??n.format}  `}case"not_multiple_of":return` :   ${n.divisor}  `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin} `;default:return" "}}};function mue(){return{localeError:pue()}}const gue=()=>{const e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function r(n){return e[n]??null}const t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},s={nan:"NaN",number:"liczba",array:"tablica"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Nieprawidowe dane wejciowe: oczekiwano instanceof ${n.expected}, otrzymano ${l}`:`Nieprawidowe dane wejciowe: oczekiwano ${i}, otrzymano ${l}`}case"invalid_value":return n.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${pr(n.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Za dua warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${i}${n.maximum.toString()} ${a.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Za maa warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${i}${n.minimum.toString()} ${a.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${i.prefix}"`:i.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${i.suffix}"`:i.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${i.includes}"`:i.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${i.pattern}`:`Nieprawidow(y/a/e) ${t[i.format]??n.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${n.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${n.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function yue(){return{localeError:gue()}}const bue=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function r(n){return e[n]??null}const t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},s={nan:"NaN",number:"nmero",null:"nulo"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Tipo invlido: esperado instanceof ${n.expected}, recebido ${l}`:`Tipo invlido: esperado ${i}, recebido ${l}`}case"invalid_value":return n.values.length===1?`Entrada invlida: esperado ${pr(n.values[0])}`:`Opo invlida: esperada uma das ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${i}${n.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Muito pequeno: esperado que ${n.origin} tivesse ${i}${n.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Texto invlido: deve comear com "${i.prefix}"`:i.format==="ends_with"?`Texto invlido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto invlido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto invlido: deve corresponder ao padro ${i.pattern}`:`${t[i.format]??n.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`Chave invlida em ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${n.origin}`;default:return"Campo invlido"}}};function vue(){return{localeError:bue()}}function KT(e,r,t,s){const n=Math.abs(e),i=n%10,a=n%100;return a>=11&&a<=19?s:i===1?r:i>=2&&i<=4?t:s}const xue=()=>{const e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}`:` :    ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);if(a){const l=Number(n.maximum),u=KT(l,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${n.origin??""}   ${i}${n.maximum.toString()} ${u}`}return`  : ,  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);if(a){const l=Number(n.minimum),u=KT(l,a.unit.one,a.unit.few,a.unit.many);return`  : ,  ${n.origin}   ${i}${n.minimum.toString()} ${u}`}return`  : ,  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}};function wue(){return{localeError:xue()}}const _ue=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function r(n){return e[n]??null}const t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},s={nan:"NaN",number:"tevilo",array:"tabela"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Neveljaven vnos: priakovano instanceof ${n.expected}, prejeto ${l}`:`Neveljaven vnos: priakovano ${i}, prejeto ${l}`}case"invalid_value":return n.values.length===1?`Neveljaven vnos: priakovano ${pr(n.values[0])}`:`Neveljavna monost: priakovano eno izmed ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Preveliko: priakovano, da bo ${n.origin??"vrednost"} imelo ${i}${n.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: priakovano, da bo ${n.origin??"vrednost"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Premajhno: priakovano, da bo ${n.origin} imelo ${i}${n.minimum.toString()} ${a.unit}`:`Premajhno: priakovano, da bo ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se konati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${t[i.format]??n.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i kljui":" klju"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${n.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`;default:return"Neveljaven vnos"}}};function kue(){return{localeError:_ue()}}const Sue=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function r(n){return e[n]??null}const t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},s={nan:"NaN",number:"antal",array:"lista"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Ogiltig inmatning: frvntat instanceof ${n.expected}, fick ${l}`:`Ogiltig inmatning: frvntat ${i}, fick ${l}`}case"invalid_value":return n.values.length===1?`Ogiltig inmatning: frvntat ${pr(n.values[0])}`:`Ogiltigt val: frvntade en av ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Fr stor(t): frvntade ${n.origin??"vrdet"} att ha ${i}${n.maximum.toString()} ${a.unit??"element"}`:`Fr stor(t): frvntat ${n.origin??"vrdet"} att ha ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${i}${n.minimum.toString()} ${a.unit}`:`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Ogiltig strng: mste brja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig strng: mste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig strng: mste innehlla "${i.includes}"`:i.format==="regex"?`Ogiltig strng: mste matcha mnstret "${i.pattern}"`:`Ogiltig(t) ${t[i.format]??n.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${pt(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${n.origin??"vrdet"}`;default:return"Ogiltig input"}}};function jue(){return{localeError:Sue()}}const Nue=()=>{const e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function r(n){return e[n]??null}const t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},s={nan:"NaN",number:"",array:"",null:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` :  instanceof ${n.expected},  ${l}`:` :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?` :  ${pr(n.values[0])}`:` :  ${pt(n.values,"|")}  `;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` :  ${n.origin??""} ${i}${n.maximum.toString()} ${a.unit??""}   `:` :  ${n.origin??""} ${i}${n.maximum.toString()}   `}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` :  ${n.origin} ${i}${n.minimum.toString()} ${a.unit}   `:` :  ${n.origin} ${i}${n.minimum.toString()}   `}case"invalid_format":{const i=n;return i.format==="starts_with"?` : "${i.prefix}"   `:i.format==="ends_with"?` : "${i.suffix}"   `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` : ${i.pattern}   `:` ${t[i.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`  ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${n.origin}   `;default:return" "}}};function Cue(){return{localeError:Nue()}}const Tue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},s={nan:"NaN",number:"",array:" (Array)",null:" (null)"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`:  instanceof ${n.expected}  ${l}`:`:  ${i}  ${l}`}case"invalid_value":return n.values.length===1?`:  ${pr(n.values[0])}`:`:  ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"":"",a=r(n.origin);return a?`: ${n.origin??""} ${i} ${n.maximum.toString()} ${a.unit??""}`:`: ${n.origin??""} ${i} ${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?"":"",a=r(n.origin);return a?`: ${n.origin} ${i} ${n.minimum.toString()} ${a.unit}`:`: ${n.origin} ${i} ${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`:  "${i.prefix}"`:i.format==="ends_with"?`:  "${i.suffix}"`:i.format==="includes"?`:  "${i.includes}" `:i.format==="regex"?`:  ${i.pattern}`:`: ${t[i.format]??n.format}`}case"not_multiple_of":return`:  ${n.divisor} `;case"unrecognized_keys":return`: ${pt(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${n.origin}`;default:return""}}};function Eue(){return{localeError:Tue()}}const Aue=()=>{const e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function r(n){return e[n]??null}const t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Geersiz deer: beklenen instanceof ${n.expected}, alnan ${l}`:`Geersiz deer: beklenen ${i}, alnan ${l}`}case"invalid_value":return n.values.length===1?`Geersiz deer: beklenen ${pr(n.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()} ${a.unit??"e"}`:`ok byk: beklenen ${n.origin??"deer"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${a.unit}`:`ok kk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${t[i.format]??n.format}`}case"not_multiple_of":return`Geersiz say: ${n.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${n.keys.length>1?"lar":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${n.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function Pue(){return{localeError:Aue()}}const Iue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},s={nan:"NaN",number:"",array:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`  :  instanceof ${n.expected},  ${l}`:`  :  ${i},  ${l}`}case"invalid_value":return n.values.length===1?`  :  ${pr(n.values[0])}`:` :    ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` : ,  ${n.origin??""} ${a.verb} ${i}${n.maximum.toString()} ${a.unit??""}`:` : ,  ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` : ,  ${n.origin} ${a.verb} ${i}${n.minimum.toString()} ${a.unit}`:` : ,  ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` :    "${i.prefix}"`:i.format==="ends_with"?` :    "${i.suffix}"`:i.format==="includes"?` :   "${i.includes}"`:i.format==="regex"?` :    ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}};function IL(){return{localeError:Iue()}}function Due(){return IL()}const Mue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},s={nan:"NaN",number:"",array:"",null:""};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`  : instanceof ${n.expected}   ${l}  `:`  : ${i}   ${l}  `}case"invalid_value":return n.values.length===1?`  : ${pr(n.values[0])}  `:` : ${pt(n.values,"|")}     `;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` : ${n.origin??""}  ${i}${n.maximum.toString()} ${a.unit??""}   `:` : ${n.origin??""}  ${i}${n.maximum.toString()}   `}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` : ${n.origin}  ${i}${n.minimum.toString()} ${a.unit}   `:` : ${n.origin}  ${i}${n.minimum.toString()}   `}case"invalid_format":{const i=n;return i.format==="starts_with"?` : "${i.prefix}"    `:i.format==="ends_with"?` : "${i.suffix}"    `:i.format==="includes"?` : "${i.includes}"   `:i.format==="regex"?` :  ${i.pattern}    `:` ${t[i.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`   ${n.keys.length>1?"":""}: ${pt(n.keys," ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${n.origin}   `;default:return"  "}}};function Rue(){return{localeError:Mue()}}const $ue=()=>{const e={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}};function r(n){return e[n]??null}const t={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},s={nan:"NaN",number:"raqam",array:"massiv"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`Notogri kirish: kutilgan instanceof ${n.expected}, qabul qilingan ${l}`:`Notogri kirish: kutilgan ${i}, qabul qilingan ${l}`}case"invalid_value":return n.values.length===1?`Notogri kirish: kutilgan ${pr(n.values[0])}`:`Notogri variant: quyidagilardan biri kutilgan ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Juda katta: kutilgan ${n.origin??"qiymat"} ${i}${n.maximum.toString()} ${a.unit} ${a.verb}`:`Juda katta: kutilgan ${n.origin??"qiymat"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Juda kichik: kutilgan ${n.origin} ${i}${n.minimum.toString()} ${a.unit} ${a.verb}`:`Juda kichik: kutilgan ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Notogri satr: "${i.prefix}" bilan boshlanishi kerak`:i.format==="ends_with"?`Notogri satr: "${i.suffix}" bilan tugashi kerak`:i.format==="includes"?`Notogri satr: "${i.includes}" ni oz ichiga olishi kerak`:i.format==="regex"?`Notogri satr: ${i.pattern} shabloniga mos kelishi kerak`:`Notogri ${t[i.format]??n.format}`}case"not_multiple_of":return`Notogri raqam: ${n.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${n.keys.length>1?"lar":""}: ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${n.origin} da notogri qiymat`;default:return"Notogri kirish"}}};function Oue(){return{localeError:$ue()}}const Fue=()=>{const e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function r(n){return e[n]??null}const t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},s={nan:"NaN",number:"s",array:"mng"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`u vo khng hp l: mong i instanceof ${n.expected}, nhn c ${l}`:`u vo khng hp l: mong i ${i}, nhn c ${l}`}case"invalid_value":return n.values.length===1?`u vo khng hp l: mong i ${pr(n.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`Qu ln: mong i ${n.origin??"gi tr"} ${a.verb} ${i}${n.maximum.toString()} ${a.unit??"phn t"}`:`Qu ln: mong i ${n.origin??"gi tr"} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Qu nh: mong i ${n.origin} ${a.verb} ${i}${n.minimum.toString()} ${a.unit}`:`Qu nh: mong i ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`Chui khng hp l: phi bt u bng "${i.prefix}"`:i.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${i.suffix}"`:i.format==="includes"?`Chui khng hp l: phi bao gm "${i.includes}"`:i.format==="regex"?`Chui khng hp l: phi khp vi mu ${i.pattern}`:`${t[i.format]??n.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${n.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${pt(n.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${n.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${n.origin}`;default:return"u vo khng hp l"}}};function Lue(){return{localeError:Fue()}}const zue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},s={nan:"NaN",number:"",array:"",null:"(null)"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` instanceof ${n.expected} ${l}`:` ${i} ${l}`}case"invalid_value":return n.values.length===1?` ${pr(n.values[0])}`:` ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` ${n.origin??""} ${i}${n.maximum.toString()} ${a.unit??""}`:` ${n.origin??""} ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` ${n.origin} ${i}${n.minimum.toString()} ${a.unit}`:` ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:`${t[i.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`(key): ${pt(n.keys,", ")}`;case"invalid_key":return`${n.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${n.origin} (value)`;default:return""}}};function Bue(){return{localeError:zue()}}const Uue=()=>{const e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function r(n){return e[n]??null}const t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},s={nan:"NaN"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?` instanceof ${n.expected} ${l}`:` ${i} ${l}`}case"invalid_value":return n.values.length===1?` ${pr(n.values[0])}`:` ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?` ${n.origin??""}  ${i}${n.maximum.toString()} ${a.unit??""}`:` ${n.origin??""}  ${i}${n.maximum.toString()}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?` ${n.origin}  ${i}${n.minimum.toString()} ${a.unit}`:` ${n.origin}  ${i}${n.minimum.toString()}`}case"invalid_format":{const i=n;return i.format==="starts_with"?` "${i.prefix}" `:i.format==="ends_with"?` "${i.suffix}" `:i.format==="includes"?` "${i.includes}"`:i.format==="regex"?` ${i.pattern}`:` ${t[i.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""}${pt(n.keys,"")}`;case"invalid_key":return`${n.origin} `;case"invalid_union":return"";case"invalid_element":return`${n.origin} `;default:return""}}};function Vue(){return{localeError:Uue()}}const Wue=()=>{const e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function r(n){return e[n]??null}const t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},s={nan:"NaN",number:"nmb",array:"akop"};return n=>{switch(n.code){case"invalid_type":{const i=s[n.expected]??n.expected,a=xr(n.input),l=s[a]??a;return/^[A-Z]/.test(n.expected)?`bwl ae: a n lti fi instanceof ${n.expected}, m a r ${l}`:`bwl ae: a n lti fi ${i}, m a r ${l}`}case"invalid_value":return n.values.length===1?`bwl ae: a n lti fi ${pr(n.values[0])}`:`yn ae: yan kan lra ${pt(n.values,"|")}`;case"too_big":{const i=n.inclusive?"<=":"<",a=r(n.origin);return a?`T p j: a n lti j p ${n.origin??"iye"} ${a.verb} ${i}${n.maximum} ${a.unit}`:`T p j: a n lti j ${i}${n.maximum}`}case"too_small":{const i=n.inclusive?">=":">",a=r(n.origin);return a?`Kr ju: a n lti j p ${n.origin} ${a.verb} ${i}${n.minimum} ${a.unit}`:`Kr ju: a n lti j ${i}${n.minimum}`}case"invalid_format":{const i=n;return i.format==="starts_with"?`r ae: gbd br pl "${i.prefix}"`:i.format==="ends_with"?`r ae: gbd par pl "${i.suffix}"`:i.format==="includes"?`r ae: gbd n "${i.includes}"`:i.format==="regex"?`r ae: gbd b pr mu ${i.pattern}`:`Ae: ${t[i.format]??n.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${n.divisor}`;case"unrecognized_keys":return`Btn m: ${pt(n.keys,", ")}`;case"invalid_key":return`Btn ae nn ${n.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${n.origin}`;default:return"bwl ae"}}};function que(){return{localeError:Wue()}}const DL=Object.freeze(Object.defineProperty({__proto__:null,ar:lce,az:uce,be:fce,bg:pce,ca:gce,cs:bce,da:xce,de:_ce,en:AL,eo:jce,es:Cce,fa:Ece,fi:Pce,fr:Dce,frCA:Rce,he:Oce,hu:Lce,hy:Bce,id:Vce,is:qce,it:Kce,ja:Gce,ka:Qce,kh:Jce,km:PL,ko:tue,lt:nue,mk:iue,ms:oue,nl:cue,no:due,ota:hue,pl:yue,ps:mue,pt:vue,ru:wue,sl:kue,sv:jue,ta:Cue,th:Eue,tr:Pue,ua:Due,uk:IL,ur:Rue,uz:Oue,vi:Lue,yo:que,zhCN:Bue,zhTW:Vue},Symbol.toStringTag,{value:"Module"}));var ZT;const ML=Symbol("ZodOutput"),RL=Symbol("ZodInput");class $L{constructor(){this._map=new WeakMap,this._idmap=new Map}add(r,...t){const s=t[0];return this._map.set(r,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,r),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(r){const t=this._map.get(r);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(r),this}get(r){const t=r._zod.parent;if(t){const s={...this.get(t)??{}};delete s.id;const n={...s,...this._map.get(r)};return Object.keys(n).length?n:void 0}return this._map.get(r)}has(r){return this._map.has(r)}}function oj(){return new $L}(ZT=globalThis).__zod_globalRegistry??(ZT.__zod_globalRegistry=oj());const oo=globalThis.__zod_globalRegistry;function OL(e,r){return new e({type:"string",...tt(r)})}function FL(e,r){return new e({type:"string",coerce:!0,...tt(r)})}function lj(e,r){return new e({type:"string",format:"email",check:"string_format",abort:!1,...tt(r)})}function Wb(e,r){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...tt(r)})}function cj(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...tt(r)})}function uj(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tt(r)})}function dj(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tt(r)})}function fj(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tt(r)})}function Gv(e,r){return new e({type:"string",format:"url",check:"string_format",abort:!1,...tt(r)})}function hj(e,r){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...tt(r)})}function pj(e,r){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...tt(r)})}function mj(e,r){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...tt(r)})}function gj(e,r){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...tt(r)})}function yj(e,r){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...tt(r)})}function bj(e,r){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...tt(r)})}function vj(e,r){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...tt(r)})}function xj(e,r){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...tt(r)})}function wj(e,r){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...tt(r)})}function LL(e,r){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...tt(r)})}function _j(e,r){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tt(r)})}function kj(e,r){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tt(r)})}function Sj(e,r){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...tt(r)})}function jj(e,r){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...tt(r)})}function Nj(e,r){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...tt(r)})}function Cj(e,r){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...tt(r)})}const zL={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function BL(e,r){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tt(r)})}function UL(e,r){return new e({type:"string",format:"date",check:"string_format",...tt(r)})}function VL(e,r){return new e({type:"string",format:"time",check:"string_format",precision:null,...tt(r)})}function WL(e,r){return new e({type:"string",format:"duration",check:"string_format",...tt(r)})}function qL(e,r){return new e({type:"number",checks:[],...tt(r)})}function HL(e,r){return new e({type:"number",coerce:!0,checks:[],...tt(r)})}function KL(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...tt(r)})}function ZL(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...tt(r)})}function GL(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...tt(r)})}function XL(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...tt(r)})}function QL(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...tt(r)})}function YL(e,r){return new e({type:"boolean",...tt(r)})}function JL(e,r){return new e({type:"boolean",coerce:!0,...tt(r)})}function ez(e,r){return new e({type:"bigint",...tt(r)})}function tz(e,r){return new e({type:"bigint",coerce:!0,...tt(r)})}function rz(e,r){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...tt(r)})}function nz(e,r){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...tt(r)})}function sz(e,r){return new e({type:"symbol",...tt(r)})}function iz(e,r){return new e({type:"undefined",...tt(r)})}function az(e,r){return new e({type:"null",...tt(r)})}function oz(e){return new e({type:"any"})}function lz(e){return new e({type:"unknown"})}function cz(e,r){return new e({type:"never",...tt(r)})}function uz(e,r){return new e({type:"void",...tt(r)})}function dz(e,r){return new e({type:"date",...tt(r)})}function fz(e,r){return new e({type:"date",coerce:!0,...tt(r)})}function hz(e,r){return new e({type:"nan",...tt(r)})}function bu(e,r){return new YS({check:"less_than",...tt(r),value:e,inclusive:!1})}function lo(e,r){return new YS({check:"less_than",...tt(r),value:e,inclusive:!0})}function vu(e,r){return new JS({check:"greater_than",...tt(r),value:e,inclusive:!1})}function ua(e,r){return new JS({check:"greater_than",...tt(r),value:e,inclusive:!0})}function Tj(e){return vu(0,e)}function Ej(e){return bu(0,e)}function Aj(e){return lo(0,e)}function Pj(e){return ua(0,e)}function jh(e,r){return new QO({check:"multiple_of",...tt(r),value:e})}function Zh(e,r){return new eF({check:"max_size",...tt(r),maximum:e})}function xu(e,r){return new tF({check:"min_size",...tt(r),minimum:e})}function $g(e,r){return new rF({check:"size_equals",...tt(r),size:e})}function Og(e,r){return new nF({check:"max_length",...tt(r),maximum:e})}function Rd(e,r){return new sF({check:"min_length",...tt(r),minimum:e})}function Fg(e,r){return new iF({check:"length_equals",...tt(r),length:e})}function Xv(e,r){return new aF({check:"string_format",format:"regex",...tt(r),pattern:e})}function Qv(e){return new oF({check:"string_format",format:"lowercase",...tt(e)})}function Yv(e){return new lF({check:"string_format",format:"uppercase",...tt(e)})}function Jv(e,r){return new cF({check:"string_format",format:"includes",...tt(r),includes:e})}function ex(e,r){return new uF({check:"string_format",format:"starts_with",...tt(r),prefix:e})}function tx(e,r){return new dF({check:"string_format",format:"ends_with",...tt(r),suffix:e})}function Ij(e,r,t){return new fF({check:"property",property:e,schema:r,...tt(t)})}function rx(e,r){return new hF({check:"mime_type",mime:e,...tt(r)})}function mc(e){return new pF({check:"overwrite",tx:e})}function nx(e){return mc(r=>r.normalize(e))}function sx(){return mc(e=>e.trim())}function ix(){return mc(e=>e.toLowerCase())}function ax(){return mc(e=>e.toUpperCase())}function ox(){return mc(e=>Z$(e))}function pz(e,r,t){return new e({type:"array",element:r,...tt(t)})}function Hue(e,r,t){return new e({type:"union",options:r,...tt(t)})}function Kue(e,r,t){return new e({type:"union",options:r,inclusive:!1,...tt(t)})}function Zue(e,r,t,s){return new e({type:"union",options:t,discriminator:r,...tt(s)})}function Gue(e,r,t){return new e({type:"intersection",left:r,right:t})}function Xue(e,r,t,s){const n=t instanceof Ar,i=n?s:t,a=n?t:null;return new e({type:"tuple",items:r,rest:a,...tt(i)})}function Que(e,r,t,s){return new e({type:"record",keyType:r,valueType:t,...tt(s)})}function Yue(e,r,t,s){return new e({type:"map",keyType:r,valueType:t,...tt(s)})}function Jue(e,r,t){return new e({type:"set",valueType:r,...tt(t)})}function ede(e,r,t){const s=Array.isArray(r)?Object.fromEntries(r.map(n=>[n,n])):r;return new e({type:"enum",entries:s,...tt(t)})}function tde(e,r,t){return new e({type:"enum",entries:r,...tt(t)})}function rde(e,r,t){return new e({type:"literal",values:Array.isArray(r)?r:[r],...tt(t)})}function mz(e,r){return new e({type:"file",...tt(r)})}function nde(e,r){return new e({type:"transform",transform:r})}function sde(e,r){return new e({type:"optional",innerType:r})}function ide(e,r){return new e({type:"nullable",innerType:r})}function ade(e,r,t){return new e({type:"default",innerType:r,get defaultValue(){return typeof t=="function"?t():qv(t)}})}function ode(e,r,t){return new e({type:"nonoptional",innerType:r,...tt(t)})}function lde(e,r){return new e({type:"success",innerType:r})}function cde(e,r,t){return new e({type:"catch",innerType:r,catchValue:typeof t=="function"?t:()=>t})}function ude(e,r,t){return new e({type:"pipe",in:r,out:t})}function dde(e,r){return new e({type:"readonly",innerType:r})}function fde(e,r,t){return new e({type:"template_literal",parts:r,...tt(t)})}function hde(e,r){return new e({type:"lazy",getter:r})}function pde(e,r){return new e({type:"promise",innerType:r})}function gz(e,r,t){const s=tt(t);return s.abort??(s.abort=!0),new e({type:"custom",check:"custom",fn:r,...s})}function yz(e,r,t){return new e({type:"custom",check:"custom",fn:r,...tt(t)})}function bz(e){const r=vz(t=>(t.addIssue=s=>{if(typeof s=="string")t.issues.push(kh(s,t.value,r._zod.def));else{const n=s;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=t.value),n.inst??(n.inst=r),n.continue??(n.continue=!r._zod.def.abort),t.issues.push(kh(n))}},e(t.value,t)));return r}function vz(e,r){const t=new Hn({check:"custom",...tt(r)});return t._zod.check=e,t}function xz(e){const r=new Hn({check:"describe"});return r._zod.onattach=[t=>{const s=oo.get(t)??{};oo.add(t,{...s,description:e})}],r._zod.check=()=>{},r}function wz(e){const r=new Hn({check:"meta"});return r._zod.onattach=[t=>{const s=oo.get(t)??{};oo.add(t,{...s,...e})}],r._zod.check=()=>{},r}function _z(e,r){const t=tt(r);let s=t.truthy??["true","1","yes","on","y","enabled"],n=t.falsy??["false","0","no","off","n","disabled"];t.case!=="sensitive"&&(s=s.map(h=>typeof h=="string"?h.toLowerCase():h),n=n.map(h=>typeof h=="string"?h.toLowerCase():h));const i=new Set(s),a=new Set(n),l=e.Codec??aj,u=e.Boolean??rj,c=e.String??Rg,d=new c({type:"string",error:t.error}),p=new u({type:"boolean",error:t.error}),f=new l({type:"pipe",in:d,out:p,transform:((h,g)=>{let y=h;return t.case!=="sensitive"&&(y=y.toLowerCase()),i.has(y)?!0:a.has(y)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:g.value,inst:f,continue:!1}),{})}),reverseTransform:((h,g)=>h===!0?s[0]||"true":n[0]||"false"),error:t.error});return f}function Lg(e,r,t,s={}){const n=tt(s),i={...tt(s),check:"string_format",type:"string",format:r,fn:typeof t=="function"?t:l=>t.test(l),...n};return t instanceof RegExp&&(i.pattern=t),new e(i)}function Nh(e){let r=e?.target??"draft-2020-12";return r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??oo,target:r,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function _n(e,r,t={path:[],schemaPath:[]}){var s;const n=e._zod.def,i=r.seen.get(e);if(i)return i.count++,t.schemaPath.includes(e)&&(i.cycle=t.path),i.schema;const a={schema:{},count:1,cycle:void 0,path:t.path};r.seen.set(e,a);const l=e._zod.toJSONSchema?.();if(l)a.schema=l;else{const d={...t,schemaPath:[...t.schemaPath,e],path:t.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(r,a.schema,d);else{const f=a.schema,h=r.processors[n.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);h(e,r,f,d)}const p=e._zod.parent;p&&(a.ref||(a.ref=p),_n(p,r,d),r.seen.get(p).isParent=!0)}const u=r.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),r.io==="input"&&Li(e)&&(delete a.schema.examples,delete a.schema.default),r.io==="input"&&a.schema._prefault&&((s=a.schema).default??(s.default=a.schema._prefault)),delete a.schema._prefault,r.seen.get(e).schema}function Ch(e,r){const t=e.seen.get(r);if(!t)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const a of e.seen.entries()){const l=e.metadataRegistry.get(a[0])?.id;if(l){const u=s.get(l);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(l,a[0])}}const n=a=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(a[0])?.id,f=e.external.uri??(g=>g);if(p)return{ref:f(p)};const h=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=h,{defId:h,ref:`${f("__shared")}#/${l}/${h}`}}if(a[1]===t)return{ref:"#"};const c=`#/${l}/`,d=a[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:c+d}},i=a=>{if(a[1].schema.$ref)return;const l=a[1],{ref:u,defId:c}=n(a);l.def={...l.schema},c&&(l.defId=c);const d=l.schema;for(const p in d)delete d[p];d.$ref=u};if(e.cycles==="throw")for(const a of e.seen.entries()){const l=a[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const l=a[1];if(r===a[0]){i(a);continue}if(e.external){const c=e.external.registry.get(a[0])?.id;if(r!==a[0]&&c){i(a);continue}}if(e.metadataRegistry.get(a[0])?.id){i(a);continue}if(l.cycle){i(a);continue}if(l.count>1&&e.reused==="ref"){i(a);continue}}}function Th(e,r){const t=e.seen.get(r);if(!t)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=a=>{const l=e.seen.get(a);if(l.ref===null)return;const u=l.def??l.schema,c={...u},d=l.ref;if(l.ref=null,d){s(d);const f=e.seen.get(d),h=f.schema;if(h.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(h)):Object.assign(u,h),Object.assign(u,c),a._zod.parent===d)for(const y in u)y==="$ref"||y==="allOf"||y in c||delete u[y];if(h.$ref&&f.def)for(const y in u)y==="$ref"||y==="allOf"||y in f.def&&JSON.stringify(u[y])===JSON.stringify(f.def[y])&&delete u[y]}const p=a._zod.parent;if(p&&p!==d){s(p);const f=e.seen.get(p);if(f?.schema.$ref&&(u.$ref=f.schema.$ref,f.def))for(const h in u)h==="$ref"||h==="allOf"||h in f.def&&JSON.stringify(u[h])===JSON.stringify(f.def[h])&&delete u[h]}e.override({zodSchema:a,jsonSchema:u,path:l.path??[]})};for(const a of[...e.seen.entries()].reverse())s(a[0]);const n={};if(e.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(r)?.id;if(!a)throw new Error("Schema is missing an `id` property");n.$id=e.external.uri(a)}Object.assign(n,t.def??t.schema);const i=e.external?.defs??{};for(const a of e.seen.entries()){const l=a[1];l.def&&l.defId&&(i[l.defId]=l.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?n.$defs=i:n.definitions=i);try{const a=JSON.parse(JSON.stringify(n));return Object.defineProperty(a,"~standard",{value:{...r["~standard"],jsonSchema:{input:Rm(r,"input",e.processors),output:Rm(r,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function Li(e,r){const t=r??{seen:new Set};if(t.seen.has(e))return!1;t.seen.add(e);const s=e._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return Li(s.element,t);if(s.type==="set")return Li(s.valueType,t);if(s.type==="lazy")return Li(s.getter(),t);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return Li(s.innerType,t);if(s.type==="intersection")return Li(s.left,t)||Li(s.right,t);if(s.type==="record"||s.type==="map")return Li(s.keyType,t)||Li(s.valueType,t);if(s.type==="pipe")return Li(s.in,t)||Li(s.out,t);if(s.type==="object"){for(const n in s.shape)if(Li(s.shape[n],t))return!0;return!1}if(s.type==="union"){for(const n of s.options)if(Li(n,t))return!0;return!1}if(s.type==="tuple"){for(const n of s.items)if(Li(n,t))return!0;return!!(s.rest&&Li(s.rest,t))}return!1}const kz=(e,r={})=>t=>{const s=Nh({...t,processors:r});return _n(e,s),Ch(s,e),Th(s,e)},Rm=(e,r,t={})=>s=>{const{libraryOptions:n,target:i}=s??{},a=Nh({...n??{},target:i,io:r,processors:t});return _n(e,a),Ch(a,e),Th(a,e)},mde={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Sz=(e,r,t,s)=>{const n=t;n.type="string";const{minimum:i,maximum:a,format:l,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof i=="number"&&(n.minLength=i),typeof a=="number"&&(n.maxLength=a),l&&(n.format=mde[l]??l,n.format===""&&delete n.format,l==="time"&&delete n.format),c&&(n.contentEncoding=c),u&&u.size>0){const d=[...u];d.length===1?n.pattern=d[0].source:d.length>1&&(n.allOf=[...d.map(p=>({...r.target==="draft-07"||r.target==="draft-04"||r.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},jz=(e,r,t,s)=>{const n=t,{minimum:i,maximum:a,format:l,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:d}=e._zod.bag;typeof l=="string"&&l.includes("int")?n.type="integer":n.type="number",typeof d=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(n.minimum=d,n.exclusiveMinimum=!0):n.exclusiveMinimum=d),typeof i=="number"&&(n.minimum=i,typeof d=="number"&&r.target!=="draft-04"&&(d>=i?delete n.minimum:delete n.exclusiveMinimum)),typeof c=="number"&&(r.target==="draft-04"||r.target==="openapi-3.0"?(n.maximum=c,n.exclusiveMaximum=!0):n.exclusiveMaximum=c),typeof a=="number"&&(n.maximum=a,typeof c=="number"&&r.target!=="draft-04"&&(c<=a?delete n.maximum:delete n.exclusiveMaximum)),typeof u=="number"&&(n.multipleOf=u)},Nz=(e,r,t,s)=>{t.type="boolean"},Cz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},Tz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},Ez=(e,r,t,s)=>{r.target==="openapi-3.0"?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null"},Az=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},Pz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},Iz=(e,r,t,s)=>{t.not={}},Dz=(e,r,t,s)=>{},Mz=(e,r,t,s)=>{},Rz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},$z=(e,r,t,s)=>{const n=e._zod.def,i=$S(n.entries);i.every(a=>typeof a=="number")&&(t.type="number"),i.every(a=>typeof a=="string")&&(t.type="string"),t.enum=i},Oz=(e,r,t,s)=>{const n=e._zod.def,i=[];for(const a of n.values)if(a===void 0){if(r.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(r.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(a))}else i.push(a);if(i.length!==0)if(i.length===1){const a=i[0];t.type=a===null?"null":typeof a,r.target==="draft-04"||r.target==="openapi-3.0"?t.enum=[a]:t.const=a}else i.every(a=>typeof a=="number")&&(t.type="number"),i.every(a=>typeof a=="string")&&(t.type="string"),i.every(a=>typeof a=="boolean")&&(t.type="boolean"),i.every(a=>a===null)&&(t.type="null"),t.enum=i},Fz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},Lz=(e,r,t,s)=>{const n=t,i=e._zod.pattern;if(!i)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=i.source},zz=(e,r,t,s)=>{const n=t,i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:l,mime:u}=e._zod.bag;a!==void 0&&(i.minLength=a),l!==void 0&&(i.maxLength=l),u?u.length===1?(i.contentMediaType=u[0],Object.assign(n,i)):(Object.assign(n,i),n.anyOf=u.map(c=>({contentMediaType:c}))):Object.assign(n,i)},Bz=(e,r,t,s)=>{t.type="boolean"},Uz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Vz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},Wz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},qz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},Hz=(e,r,t,s)=>{if(r.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},Kz=(e,r,t,s)=>{const n=t,i=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(n.minItems=a),typeof l=="number"&&(n.maxItems=l),n.type="array",n.items=_n(i.element,r,{...s,path:[...s.path,"items"]})},Zz=(e,r,t,s)=>{const n=t,i=e._zod.def;n.type="object",n.properties={};const a=i.shape;for(const c in a)n.properties[c]=_n(a[c],r,{...s,path:[...s.path,"properties",c]});const l=new Set(Object.keys(a)),u=new Set([...l].filter(c=>{const d=i.shape[c]._zod;return r.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(n.required=Array.from(u)),i.catchall?._zod.def.type==="never"?n.additionalProperties=!1:i.catchall?i.catchall&&(n.additionalProperties=_n(i.catchall,r,{...s,path:[...s.path,"additionalProperties"]})):r.io==="output"&&(n.additionalProperties=!1)},Dj=(e,r,t,s)=>{const n=e._zod.def,i=n.inclusive===!1,a=n.options.map((l,u)=>_n(l,r,{...s,path:[...s.path,i?"oneOf":"anyOf",u]}));i?t.oneOf=a:t.anyOf=a},Gz=(e,r,t,s)=>{const n=e._zod.def,i=_n(n.left,r,{...s,path:[...s.path,"allOf",0]}),a=_n(n.right,r,{...s,path:[...s.path,"allOf",1]}),l=c=>"allOf"in c&&Object.keys(c).length===1,u=[...l(i)?i.allOf:[i],...l(a)?a.allOf:[a]];t.allOf=u},Xz=(e,r,t,s)=>{const n=t,i=e._zod.def;n.type="array";const a=r.target==="draft-2020-12"?"prefixItems":"items",l=r.target==="draft-2020-12"||r.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((f,h)=>_n(f,r,{...s,path:[...s.path,a,h]})),c=i.rest?_n(i.rest,r,{...s,path:[...s.path,l,...r.target==="openapi-3.0"?[i.items.length]:[]]}):null;r.target==="draft-2020-12"?(n.prefixItems=u,c&&(n.items=c)):r.target==="openapi-3.0"?(n.items={anyOf:u},c&&n.items.anyOf.push(c),n.minItems=u.length,c||(n.maxItems=u.length)):(n.items=u,c&&(n.additionalItems=c));const{minimum:d,maximum:p}=e._zod.bag;typeof d=="number"&&(n.minItems=d),typeof p=="number"&&(n.maxItems=p)},Qz=(e,r,t,s)=>{const n=t,i=e._zod.def;n.type="object";const a=i.keyType,u=a._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const d=_n(i.valueType,r,{...s,path:[...s.path,"patternProperties","*"]});n.patternProperties={};for(const p of u)n.patternProperties[p.source]=d}else(r.target==="draft-07"||r.target==="draft-2020-12")&&(n.propertyNames=_n(i.keyType,r,{...s,path:[...s.path,"propertyNames"]})),n.additionalProperties=_n(i.valueType,r,{...s,path:[...s.path,"additionalProperties"]});const c=a._zod.values;if(c){const d=[...c].filter(p=>typeof p=="string"||typeof p=="number");d.length>0&&(n.required=d)}},Yz=(e,r,t,s)=>{const n=e._zod.def,i=_n(n.innerType,r,s),a=r.seen.get(e);r.target==="openapi-3.0"?(a.ref=n.innerType,t.nullable=!0):t.anyOf=[i,{type:"null"}]},Jz=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType},eB=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue))},tB=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType,r.io==="input"&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)))},rB=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType;let a;try{a=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=a},nB=(e,r,t,s)=>{const n=e._zod.def,i=r.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;_n(i,r,s);const a=r.seen.get(e);a.ref=i},sB=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType,t.readOnly=!0},iB=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType},Mj=(e,r,t,s)=>{const n=e._zod.def;_n(n.innerType,r,s);const i=r.seen.get(e);i.ref=n.innerType},aB=(e,r,t,s)=>{const n=e._zod.innerType;_n(n,r,s);const i=r.seen.get(e);i.ref=n},Mk={string:Sz,number:jz,boolean:Nz,bigint:Cz,symbol:Tz,null:Ez,undefined:Az,void:Pz,never:Iz,any:Dz,unknown:Mz,date:Rz,enum:$z,literal:Oz,nan:Fz,template_literal:Lz,file:zz,success:Bz,custom:Uz,function:Vz,transform:Wz,map:qz,set:Hz,array:Kz,object:Zz,union:Dj,intersection:Gz,tuple:Xz,record:Qz,nullable:Yz,nonoptional:Jz,default:eB,prefault:tB,catch:rB,pipe:nB,readonly:sB,promise:iB,optional:Mj,lazy:aB};function oB(e,r){if("_idmap"in e){const s=e,n=Nh({...r,processors:Mk}),i={};for(const u of s._idmap.entries()){const[c,d]=u;_n(d,n)}const a={},l={registry:s,uri:r?.uri,defs:i};n.external=l;for(const u of s._idmap.entries()){const[c,d]=u;Ch(n,d),a[c]=Th(n,d)}if(Object.keys(i).length>0){const u=n.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[u]:i}}return{schemas:a}}const t=Nh({...r,processors:Mk});return _n(e,t),Ch(t,e),Th(t,e)}class gde{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(r){this.ctx.counter=r}get seen(){return this.ctx.seen}constructor(r){let t=r?.target??"draft-2020-12";t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),this.ctx=Nh({processors:Mk,target:t,...r?.metadata&&{metadata:r.metadata},...r?.unrepresentable&&{unrepresentable:r.unrepresentable},...r?.override&&{override:r.override},...r?.io&&{io:r.io}})}process(r,t={path:[],schemaPath:[]}){return _n(r,this.ctx,t)}emit(r,t){t&&(t.cycles&&(this.ctx.cycles=t.cycles),t.reused&&(this.ctx.reused=t.reused),t.external&&(this.ctx.external=t.external)),Ch(this.ctx,r);const s=Th(this.ctx,r),{"~standard":n,...i}=s;return i}}const yde=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),bde=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:GF,$ZodArray:eL,$ZodAsyncError:jd,$ZodBase64:OF,$ZodBase64URL:LF,$ZodBigInt:nj,$ZodBigIntFormat:qF,$ZodBoolean:rj,$ZodCIDRv4:RF,$ZodCIDRv6:$F,$ZodCUID:kF,$ZodCUID2:SF,$ZodCatch:wL,$ZodCheck:Hn,$ZodCheckBigIntFormat:JO,$ZodCheckEndsWith:dF,$ZodCheckGreaterThan:JS,$ZodCheckIncludes:cF,$ZodCheckLengthEquals:iF,$ZodCheckLessThan:YS,$ZodCheckLowerCase:oF,$ZodCheckMaxLength:nF,$ZodCheckMaxSize:eF,$ZodCheckMimeType:hF,$ZodCheckMinLength:sF,$ZodCheckMinSize:tF,$ZodCheckMultipleOf:QO,$ZodCheckNumberFormat:YO,$ZodCheckOverwrite:pF,$ZodCheckProperty:fF,$ZodCheckRegex:aF,$ZodCheckSizeEquals:rF,$ZodCheckStartsWith:uF,$ZodCheckStringFormat:Mg,$ZodCheckUpperCase:lF,$ZodCodec:aj,$ZodCustom:EL,$ZodCustomStringFormat:VF,$ZodDate:JF,$ZodDefault:yL,$ZodDiscriminatedUnion:aL,$ZodE164:zF,$ZodEmail:vF,$ZodEmoji:wF,$ZodEncodeError:Vv,$ZodEnum:dL,$ZodError:FS,$ZodExactOptional:mL,$ZodFile:hL,$ZodFunction:NL,$ZodGUID:yF,$ZodIPv4:IF,$ZodIPv6:DF,$ZodISODate:EF,$ZodISODateTime:TF,$ZodISODuration:PF,$ZodISOTime:AF,$ZodIntersection:oL,$ZodJWT:UF,$ZodKSUID:CF,$ZodLazy:TL,$ZodLiteral:fL,$ZodMAC:MF,$ZodMap:cL,$ZodNaN:_L,$ZodNanoID:_F,$ZodNever:QF,$ZodNonOptional:vL,$ZodNull:ZF,$ZodNullable:gL,$ZodNumber:tj,$ZodNumberFormat:WF,$ZodObject:nL,$ZodObjectJIT:sL,$ZodOptional:ij,$ZodPipe:kL,$ZodPrefault:bL,$ZodPromise:CL,$ZodReadonly:SL,$ZodRealError:Ra,$ZodRecord:lL,$ZodRegistry:$L,$ZodSet:uL,$ZodString:Rg,$ZodStringFormat:Nn,$ZodSuccess:xL,$ZodSymbol:HF,$ZodTemplateLiteral:jL,$ZodTransform:pL,$ZodTuple:sj,$ZodType:Ar,$ZodULID:jF,$ZodURL:xF,$ZodUUID:bF,$ZodUndefined:KF,$ZodUnion:Zv,$ZodUnknown:XF,$ZodVoid:YF,$ZodXID:NF,$ZodXor:iL,$brand:H$,$constructor:Re,$input:RL,$output:ML,Doc:mF,JSONSchema:yde,JSONSchemaGenerator:gde,NEVER:q$,TimePrecision:zL,_any:oz,_array:pz,_base64:Sj,_base64url:jj,_bigint:ez,_boolean:YL,_catch:cde,_check:vz,_cidrv4:_j,_cidrv6:kj,_coercedBigint:tz,_coercedBoolean:JL,_coercedDate:fz,_coercedNumber:HL,_coercedString:FL,_cuid:mj,_cuid2:gj,_custom:gz,_date:dz,_decode:US,_decodeAsync:WS,_default:ade,_discriminatedUnion:Zue,_e164:Nj,_email:lj,_emoji:hj,_encode:BS,_encodeAsync:VS,_endsWith:tx,_enum:ede,_file:mz,_float32:ZL,_float64:GL,_gt:vu,_gte:ua,_guid:Wb,_includes:Jv,_int:KL,_int32:XL,_int64:rz,_intersection:Gue,_ipv4:xj,_ipv6:wj,_isoDate:UL,_isoDateTime:BL,_isoDuration:WL,_isoTime:VL,_jwt:Cj,_ksuid:vj,_lazy:hde,_length:Fg,_literal:rde,_lowercase:Qv,_lt:bu,_lte:lo,_mac:LL,_map:Yue,_max:lo,_maxLength:Og,_maxSize:Zh,_mime:rx,_min:ua,_minLength:Rd,_minSize:xu,_multipleOf:jh,_nan:hz,_nanoid:pj,_nativeEnum:tde,_negative:Ej,_never:cz,_nonnegative:Pj,_nonoptional:ode,_nonpositive:Aj,_normalize:nx,_null:az,_nullable:ide,_number:qL,_optional:sde,_overwrite:mc,_parse:Tg,_parseAsync:Eg,_pipe:ude,_positive:Tj,_promise:pde,_property:Ij,_readonly:dde,_record:Que,_refine:yz,_regex:Xv,_safeDecode:HS,_safeDecodeAsync:ZS,_safeEncode:qS,_safeEncodeAsync:KS,_safeParse:Ag,_safeParseAsync:Pg,_set:Jue,_size:$g,_slugify:ox,_startsWith:ex,_string:OL,_stringFormat:Lg,_stringbool:_z,_success:lde,_superRefine:bz,_symbol:sz,_templateLiteral:fde,_toLowerCase:ix,_toUpperCase:ax,_transform:nde,_trim:sx,_tuple:Xue,_uint32:QL,_uint64:nz,_ulid:yj,_undefined:iz,_union:Hue,_unknown:lz,_uppercase:Yv,_url:Gv,_uuid:cj,_uuidv4:uj,_uuidv6:dj,_uuidv7:fj,_void:uz,_xid:bj,_xor:Kue,clone:go,config:Ii,createStandardJSONSchemaMethod:Rm,createToJSONSchemaMethod:kz,decode:Ale,decodeAsync:Ile,describe:xz,encode:Ele,encodeAsync:Ple,extractDefs:Ch,finalize:Th,flattenError:LS,formatError:zS,globalConfig:zb,globalRegistry:oo,initializeContext:Nh,isValidBase64:ej,isValidBase64URL:FF,isValidJWT:BF,locales:DL,meta:wz,parse:Pk,parseAsync:Ik,prettifyError:hO,process:_n,regexes:QS,registry:oj,safeDecode:Mle,safeDecodeAsync:$le,safeEncode:Dle,safeEncodeAsync:Rle,safeParse:pO,safeParseAsync:mO,toDotPath:fO,toJSONSchema:oB,treeifyError:dO,util:cO,version:gF},Symbol.toStringTag,{value:"Module"})),vde=Object.freeze(Object.defineProperty({__proto__:null,endsWith:tx,gt:vu,gte:ua,includes:Jv,length:Fg,lowercase:Qv,lt:bu,lte:lo,maxLength:Og,maxSize:Zh,mime:rx,minLength:Rd,minSize:xu,multipleOf:jh,negative:Ej,nonnegative:Pj,nonpositive:Aj,normalize:nx,overwrite:mc,positive:Tj,property:Ij,regex:Xv,size:$g,slugify:ox,startsWith:ex,toLowerCase:ix,toUpperCase:ax,trim:sx,uppercase:Yv},Symbol.toStringTag,{value:"Module"})),Rj=Re("ZodISODateTime",(e,r)=>{TF.init(e,r),Cn.init(e,r)});function lB(e){return BL(Rj,e)}const $j=Re("ZodISODate",(e,r)=>{EF.init(e,r),Cn.init(e,r)});function cB(e){return UL($j,e)}const Oj=Re("ZodISOTime",(e,r)=>{AF.init(e,r),Cn.init(e,r)});function uB(e){return VL(Oj,e)}const Fj=Re("ZodISODuration",(e,r)=>{PF.init(e,r),Cn.init(e,r)});function dB(e){return WL(Fj,e)}const fB=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:$j,ZodISODateTime:Rj,ZodISODuration:Fj,ZodISOTime:Oj,date:cB,datetime:lB,duration:dB,time:uB},Symbol.toStringTag,{value:"Module"})),hB=(e,r)=>{FS.init(e,r),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>zS(e,t)},flatten:{value:t=>LS(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Bb,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Bb,2)}},isEmpty:{get(){return e.issues.length===0}}})},xde=Re("ZodError",hB),$a=Re("ZodError",hB,{Parent:Error}),pB=Tg($a),mB=Eg($a),gB=Ag($a),yB=Pg($a),bB=BS($a),vB=US($a),xB=VS($a),wB=WS($a),_B=qS($a),kB=HS($a),SB=KS($a),jB=ZS($a),Rr=Re("ZodType",(e,r)=>(Ar.init(e,r),Object.assign(e["~standard"],{jsonSchema:{input:Rm(e,"input"),output:Rm(e,"output")}}),e.toJSONSchema=kz(e,{}),e.def=r,e.type=r.type,Object.defineProperty(e,"_def",{value:r}),e.check=(...t)=>e.clone(Nl(r,{checks:[...r.checks??[],...t.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),e.with=e.check,e.clone=(t,s)=>go(e,t,s),e.brand=()=>e,e.register=((t,s)=>(t.add(e,s),e)),e.parse=(t,s)=>pB(e,t,s,{callee:e.parse}),e.safeParse=(t,s)=>gB(e,t,s),e.parseAsync=async(t,s)=>mB(e,t,s,{callee:e.parseAsync}),e.safeParseAsync=async(t,s)=>yB(e,t,s),e.spa=e.safeParseAsync,e.encode=(t,s)=>bB(e,t,s),e.decode=(t,s)=>vB(e,t,s),e.encodeAsync=async(t,s)=>xB(e,t,s),e.decodeAsync=async(t,s)=>wB(e,t,s),e.safeEncode=(t,s)=>_B(e,t,s),e.safeDecode=(t,s)=>kB(e,t,s),e.safeEncodeAsync=async(t,s)=>SB(e,t,s),e.safeDecodeAsync=async(t,s)=>jB(e,t,s),e.refine=(t,s)=>e.check(j3(t,s)),e.superRefine=t=>e.check(N3(t)),e.overwrite=t=>e.check(mc(t)),e.optional=()=>Lm(e),e.exactOptional=()=>a3(e),e.nullable=()=>zm(e),e.nullish=()=>Lm(zm(e)),e.nonoptional=t=>f3(e,t),e.array=()=>Xh(e),e.or=t=>Qh([e,t]),e.and=t=>Qj(e,t),e.transform=t=>Bm(e,Px(t)),e.default=t=>c3(e,t),e.prefault=t=>d3(e,t),e.catch=t=>m3(e,t),e.pipe=t=>Bm(e,t),e.readonly=()=>b3(e),e.describe=t=>{const s=e.clone();return oo.add(s,{description:t}),s},Object.defineProperty(e,"description",{get(){return oo.get(e)?.description},configurable:!0}),e.meta=(...t)=>{if(t.length===0)return oo.get(e);const s=e.clone();return oo.add(s,t[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),lx=Re("_ZodString",(e,r)=>{Rg.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(s,n,i)=>Sz(e,s,n);const t=e._zod.bag;e.format=t.format??null,e.minLength=t.minimum??null,e.maxLength=t.maximum??null,e.regex=(...s)=>e.check(Xv(...s)),e.includes=(...s)=>e.check(Jv(...s)),e.startsWith=(...s)=>e.check(ex(...s)),e.endsWith=(...s)=>e.check(tx(...s)),e.min=(...s)=>e.check(Rd(...s)),e.max=(...s)=>e.check(Og(...s)),e.length=(...s)=>e.check(Fg(...s)),e.nonempty=(...s)=>e.check(Rd(1,...s)),e.lowercase=s=>e.check(Qv(s)),e.uppercase=s=>e.check(Yv(s)),e.trim=()=>e.check(sx()),e.normalize=(...s)=>e.check(nx(...s)),e.toLowerCase=()=>e.check(ix()),e.toUpperCase=()=>e.check(ax()),e.slugify=()=>e.check(ox())}),zg=Re("ZodString",(e,r)=>{Rg.init(e,r),lx.init(e,r),e.email=t=>e.check(lj(cx,t)),e.url=t=>e.check(Gv(Bg,t)),e.jwt=t=>e.check(Cj(Sx,t)),e.emoji=t=>e.check(hj(ux,t)),e.guid=t=>e.check(Wb($m,t)),e.uuid=t=>e.check(cj(dl,t)),e.uuidv4=t=>e.check(uj(dl,t)),e.uuidv6=t=>e.check(dj(dl,t)),e.uuidv7=t=>e.check(fj(dl,t)),e.nanoid=t=>e.check(pj(dx,t)),e.guid=t=>e.check(Wb($m,t)),e.cuid=t=>e.check(mj(fx,t)),e.cuid2=t=>e.check(gj(hx,t)),e.ulid=t=>e.check(yj(px,t)),e.base64=t=>e.check(Sj(wx,t)),e.base64url=t=>e.check(jj(_x,t)),e.xid=t=>e.check(bj(mx,t)),e.ksuid=t=>e.check(vj(gx,t)),e.ipv4=t=>e.check(xj(yx,t)),e.ipv6=t=>e.check(wj(bx,t)),e.cidrv4=t=>e.check(_j(vx,t)),e.cidrv6=t=>e.check(kj(xx,t)),e.e164=t=>e.check(Nj(kx,t)),e.datetime=t=>e.check(lB(t)),e.date=t=>e.check(cB(t)),e.time=t=>e.check(uB(t)),e.duration=t=>e.check(dB(t))});function Ur(e){return OL(zg,e)}const Cn=Re("ZodStringFormat",(e,r)=>{Nn.init(e,r),lx.init(e,r)}),cx=Re("ZodEmail",(e,r)=>{vF.init(e,r),Cn.init(e,r)});function NB(e){return lj(cx,e)}const $m=Re("ZodGUID",(e,r)=>{yF.init(e,r),Cn.init(e,r)});function CB(e){return Wb($m,e)}const dl=Re("ZodUUID",(e,r)=>{bF.init(e,r),Cn.init(e,r)});function TB(e){return cj(dl,e)}function EB(e){return uj(dl,e)}function AB(e){return dj(dl,e)}function PB(e){return fj(dl,e)}const Bg=Re("ZodURL",(e,r)=>{xF.init(e,r),Cn.init(e,r)});function IB(e){return Gv(Bg,e)}function DB(e){return Gv(Bg,{protocol:/^https?$/,hostname:MO,...tt(e)})}const ux=Re("ZodEmoji",(e,r)=>{wF.init(e,r),Cn.init(e,r)});function MB(e){return hj(ux,e)}const dx=Re("ZodNanoID",(e,r)=>{_F.init(e,r),Cn.init(e,r)});function RB(e){return pj(dx,e)}const fx=Re("ZodCUID",(e,r)=>{kF.init(e,r),Cn.init(e,r)});function $B(e){return mj(fx,e)}const hx=Re("ZodCUID2",(e,r)=>{SF.init(e,r),Cn.init(e,r)});function OB(e){return gj(hx,e)}const px=Re("ZodULID",(e,r)=>{jF.init(e,r),Cn.init(e,r)});function FB(e){return yj(px,e)}const mx=Re("ZodXID",(e,r)=>{NF.init(e,r),Cn.init(e,r)});function LB(e){return bj(mx,e)}const gx=Re("ZodKSUID",(e,r)=>{CF.init(e,r),Cn.init(e,r)});function zB(e){return vj(gx,e)}const yx=Re("ZodIPv4",(e,r)=>{IF.init(e,r),Cn.init(e,r)});function BB(e){return xj(yx,e)}const Lj=Re("ZodMAC",(e,r)=>{MF.init(e,r),Cn.init(e,r)});function UB(e){return LL(Lj,e)}const bx=Re("ZodIPv6",(e,r)=>{DF.init(e,r),Cn.init(e,r)});function VB(e){return wj(bx,e)}const vx=Re("ZodCIDRv4",(e,r)=>{RF.init(e,r),Cn.init(e,r)});function WB(e){return _j(vx,e)}const xx=Re("ZodCIDRv6",(e,r)=>{$F.init(e,r),Cn.init(e,r)});function qB(e){return kj(xx,e)}const wx=Re("ZodBase64",(e,r)=>{OF.init(e,r),Cn.init(e,r)});function HB(e){return Sj(wx,e)}const _x=Re("ZodBase64URL",(e,r)=>{LF.init(e,r),Cn.init(e,r)});function KB(e){return jj(_x,e)}const kx=Re("ZodE164",(e,r)=>{zF.init(e,r),Cn.init(e,r)});function ZB(e){return Nj(kx,e)}const Sx=Re("ZodJWT",(e,r)=>{UF.init(e,r),Cn.init(e,r)});function GB(e){return Cj(Sx,e)}const Gh=Re("ZodCustomStringFormat",(e,r)=>{VF.init(e,r),Cn.init(e,r)});function XB(e,r,t={}){return Lg(Gh,e,r,t)}function QB(e){return Lg(Gh,"hostname",DO,e)}function YB(e){return Lg(Gh,"hex",GO,e)}function JB(e,r){const t=r?.enc??"hex",s=`${e}_${t}`,n=QS[s];if(!n)throw new Error(`Unrecognized hash format: ${s}`);return Lg(Gh,s,n,r)}const Ug=Re("ZodNumber",(e,r)=>{tj.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(s,n,i)=>jz(e,s,n),e.gt=(s,n)=>e.check(vu(s,n)),e.gte=(s,n)=>e.check(ua(s,n)),e.min=(s,n)=>e.check(ua(s,n)),e.lt=(s,n)=>e.check(bu(s,n)),e.lte=(s,n)=>e.check(lo(s,n)),e.max=(s,n)=>e.check(lo(s,n)),e.int=s=>e.check(qb(s)),e.safe=s=>e.check(qb(s)),e.positive=s=>e.check(vu(0,s)),e.nonnegative=s=>e.check(ua(0,s)),e.negative=s=>e.check(bu(0,s)),e.nonpositive=s=>e.check(lo(0,s)),e.multipleOf=(s,n)=>e.check(jh(s,n)),e.step=(s,n)=>e.check(jh(s,n)),e.finite=()=>e;const t=e._zod.bag;e.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),e.isFinite=!0,e.format=t.format??null});function jx(e){return qL(Ug,e)}const Jd=Re("ZodNumberFormat",(e,r)=>{WF.init(e,r),Ug.init(e,r)});function qb(e){return KL(Jd,e)}function eU(e){return ZL(Jd,e)}function tU(e){return GL(Jd,e)}function rU(e){return XL(Jd,e)}function nU(e){return QL(Jd,e)}const Vg=Re("ZodBoolean",(e,r)=>{rj.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Nz(e,t,s)});function Wg(e){return YL(Vg,e)}const qg=Re("ZodBigInt",(e,r)=>{nj.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(s,n,i)=>Cz(e,s),e.gte=(s,n)=>e.check(ua(s,n)),e.min=(s,n)=>e.check(ua(s,n)),e.gt=(s,n)=>e.check(vu(s,n)),e.gte=(s,n)=>e.check(ua(s,n)),e.min=(s,n)=>e.check(ua(s,n)),e.lt=(s,n)=>e.check(bu(s,n)),e.lte=(s,n)=>e.check(lo(s,n)),e.max=(s,n)=>e.check(lo(s,n)),e.positive=s=>e.check(vu(BigInt(0),s)),e.negative=s=>e.check(bu(BigInt(0),s)),e.nonpositive=s=>e.check(lo(BigInt(0),s)),e.nonnegative=s=>e.check(ua(BigInt(0),s)),e.multipleOf=(s,n)=>e.check(jh(s,n));const t=e._zod.bag;e.minValue=t.minimum??null,e.maxValue=t.maximum??null,e.format=t.format??null});function sU(e){return ez(qg,e)}const Nx=Re("ZodBigIntFormat",(e,r)=>{qF.init(e,r),qg.init(e,r)});function iU(e){return rz(Nx,e)}function aU(e){return nz(Nx,e)}const zj=Re("ZodSymbol",(e,r)=>{HF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Tz(e,t)});function oU(e){return sz(zj,e)}const Bj=Re("ZodUndefined",(e,r)=>{KF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Az(e,t)});function lU(e){return iz(Bj,e)}const Uj=Re("ZodNull",(e,r)=>{ZF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Ez(e,t,s)});function Cx(e){return az(Uj,e)}const Vj=Re("ZodAny",(e,r)=>{GF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Dz()});function Om(){return oz(Vj)}const Wj=Re("ZodUnknown",(e,r)=>{XF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Mz()});function $d(){return lz(Wj)}const qj=Re("ZodNever",(e,r)=>{QF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Iz(e,t,s)});function Tx(e){return cz(qj,e)}const Hj=Re("ZodVoid",(e,r)=>{YF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Pz(e,t)});function cU(e){return uz(Hj,e)}const Ex=Re("ZodDate",(e,r)=>{JF.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(s,n,i)=>Rz(e,s),e.min=(s,n)=>e.check(ua(s,n)),e.max=(s,n)=>e.check(lo(s,n));const t=e._zod.bag;e.minDate=t.minimum?new Date(t.minimum):null,e.maxDate=t.maximum?new Date(t.maximum):null});function uU(e){return dz(Ex,e)}const Kj=Re("ZodArray",(e,r)=>{eL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Kz(e,t,s,n),e.element=r.element,e.min=(t,s)=>e.check(Rd(t,s)),e.nonempty=t=>e.check(Rd(1,t)),e.max=(t,s)=>e.check(Og(t,s)),e.length=(t,s)=>e.check(Fg(t,s)),e.unwrap=()=>e.element});function Xh(e,r){return pz(Kj,e,r)}function dU(e){const r=e._zod.def.shape;return Yh(Object.keys(r))}const Hg=Re("ZodObject",(e,r)=>{sL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Zz(e,t,s,n),zr(e,"shape",()=>r.shape),e.keyof=()=>Yh(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:$d()}),e.loose=()=>e.clone({...e._zod.def,catchall:$d()}),e.strict=()=>e.clone({...e._zod.def,catchall:Tx()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>rO(e,t),e.safeExtend=t=>nO(e,t),e.merge=t=>sO(e,t),e.pick=t=>eO(e,t),e.omit=t=>tO(e,t),e.partial=(...t)=>iO(Ix,e,t[0]),e.required=(...t)=>aO(Dx,e,t[0])});function Au(e,r){const t={type:"object",shape:e??{},...tt(r)};return new Hg(t)}function fU(e,r){return new Hg({type:"object",shape:e,catchall:Tx(),...tt(r)})}function hU(e,r){return new Hg({type:"object",shape:e,catchall:$d(),...tt(r)})}const Kg=Re("ZodUnion",(e,r)=>{Zv.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Dj(e,t,s,n),e.options=r.options});function Qh(e,r){return new Kg({type:"union",options:e,...tt(r)})}const Zj=Re("ZodXor",(e,r)=>{Kg.init(e,r),iL.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Dj(e,t,s,n),e.options=r.options});function pU(e,r){return new Zj({type:"union",options:e,inclusive:!1,...tt(r)})}const Gj=Re("ZodDiscriminatedUnion",(e,r)=>{Kg.init(e,r),aL.init(e,r)});function mU(e,r,t){return new Gj({type:"union",options:r,discriminator:e,...tt(t)})}const Xj=Re("ZodIntersection",(e,r)=>{oL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Gz(e,t,s,n)});function Qj(e,r){return new Xj({type:"intersection",left:e,right:r})}const Yj=Re("ZodTuple",(e,r)=>{sj.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Xz(e,t,s,n),e.rest=t=>e.clone({...e._zod.def,rest:t})});function Jj(e,r,t){const s=r instanceof Ar,n=s?t:r,i=s?r:null;return new Yj({type:"tuple",items:e,rest:i,...tt(n)})}const Zg=Re("ZodRecord",(e,r)=>{lL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Qz(e,t,s,n),e.keyType=r.keyType,e.valueType=r.valueType});function Ax(e,r,t){return new Zg({type:"record",keyType:e,valueType:r,...tt(t)})}function gU(e,r,t){const s=go(e);return s._zod.values=void 0,new Zg({type:"record",keyType:s,valueType:r,...tt(t)})}function yU(e,r,t){return new Zg({type:"record",keyType:e,valueType:r,mode:"loose",...tt(t)})}const e3=Re("ZodMap",(e,r)=>{cL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>qz(e,t),e.keyType=r.keyType,e.valueType=r.valueType,e.min=(...t)=>e.check(xu(...t)),e.nonempty=t=>e.check(xu(1,t)),e.max=(...t)=>e.check(Zh(...t)),e.size=(...t)=>e.check($g(...t))});function bU(e,r,t){return new e3({type:"map",keyType:e,valueType:r,...tt(t)})}const t3=Re("ZodSet",(e,r)=>{uL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Hz(e,t),e.min=(...t)=>e.check(xu(...t)),e.nonempty=t=>e.check(xu(1,t)),e.max=(...t)=>e.check(Zh(...t)),e.size=(...t)=>e.check($g(...t))});function vU(e,r){return new t3({type:"set",valueType:e,...tt(r)})}const Eh=Re("ZodEnum",(e,r)=>{dL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(s,n,i)=>$z(e,s,n),e.enum=r.entries,e.options=Object.values(r.entries);const t=new Set(Object.keys(r.entries));e.extract=(s,n)=>{const i={};for(const a of s)if(t.has(a))i[a]=r.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Eh({...r,checks:[],...tt(n),entries:i})},e.exclude=(s,n)=>{const i={...r.entries};for(const a of s)if(t.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Eh({...r,checks:[],...tt(n),entries:i})}});function Yh(e,r){const t=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new Eh({type:"enum",entries:t,...tt(r)})}function xU(e,r){return new Eh({type:"enum",entries:e,...tt(r)})}const r3=Re("ZodLiteral",(e,r)=>{fL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Oz(e,t,s),e.values=new Set(r.values),Object.defineProperty(e,"value",{get(){if(r.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return r.values[0]}})});function Fm(e,r){return new r3({type:"literal",values:Array.isArray(e)?e:[e],...tt(r)})}const n3=Re("ZodFile",(e,r)=>{hL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>zz(e,t,s),e.min=(t,s)=>e.check(xu(t,s)),e.max=(t,s)=>e.check(Zh(t,s)),e.mime=(t,s)=>e.check(rx(Array.isArray(t)?t:[t],s))});function wU(e){return mz(n3,e)}const s3=Re("ZodTransform",(e,r)=>{pL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Wz(e,t),e._zod.parse=(t,s)=>{if(s.direction==="backward")throw new Vv(e.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(kh(i,t.value,r));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=t.value),a.inst??(a.inst=e),t.issues.push(kh(a))}};const n=r.transform(t.value,t);return n instanceof Promise?n.then(i=>(t.value=i,t)):(t.value=n,t)}});function Px(e){return new s3({type:"transform",transform:e})}const Ix=Re("ZodOptional",(e,r)=>{ij.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Mj(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function Lm(e){return new Ix({type:"optional",innerType:e})}const i3=Re("ZodExactOptional",(e,r)=>{mL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Mj(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function a3(e){return new i3({type:"optional",innerType:e})}const o3=Re("ZodNullable",(e,r)=>{gL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Yz(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function zm(e){return new o3({type:"nullable",innerType:e})}function _U(e){return Lm(zm(e))}const l3=Re("ZodDefault",(e,r)=>{yL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>eB(e,t,s,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function c3(e,r){return new l3({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():qv(r)}})}const u3=Re("ZodPrefault",(e,r)=>{bL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>tB(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function d3(e,r){return new u3({type:"prefault",innerType:e,get defaultValue(){return typeof r=="function"?r():qv(r)}})}const Dx=Re("ZodNonOptional",(e,r)=>{vL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Jz(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function f3(e,r){return new Dx({type:"nonoptional",innerType:e,...tt(r)})}const h3=Re("ZodSuccess",(e,r)=>{xL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Bz(e,t,s),e.unwrap=()=>e._zod.def.innerType});function kU(e){return new h3({type:"success",innerType:e})}const p3=Re("ZodCatch",(e,r)=>{wL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>rB(e,t,s,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function m3(e,r){return new p3({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}const g3=Re("ZodNaN",(e,r)=>{_L.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Fz(e,t)});function SU(e){return hz(g3,e)}const Mx=Re("ZodPipe",(e,r)=>{kL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>nB(e,t,s,n),e.in=r.in,e.out=r.out});function Bm(e,r){return new Mx({type:"pipe",in:e,out:r})}const Rx=Re("ZodCodec",(e,r)=>{Mx.init(e,r),aj.init(e,r)});function jU(e,r,t){return new Rx({type:"pipe",in:e,out:r,transform:t.decode,reverseTransform:t.encode})}const y3=Re("ZodReadonly",(e,r)=>{SL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>sB(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function b3(e){return new y3({type:"readonly",innerType:e})}const v3=Re("ZodTemplateLiteral",(e,r)=>{jL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Lz(e,t,s)});function NU(e,r){return new v3({type:"template_literal",parts:e,...tt(r)})}const x3=Re("ZodLazy",(e,r)=>{TL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>aB(e,t,s,n),e.unwrap=()=>e._zod.def.getter()});function w3(e){return new x3({type:"lazy",getter:e})}const _3=Re("ZodPromise",(e,r)=>{CL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>iB(e,t,s,n),e.unwrap=()=>e._zod.def.innerType});function CU(e){return new _3({type:"promise",innerType:e})}const k3=Re("ZodFunction",(e,r)=>{NL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Vz(e,t)});function Hb(e){return new k3({type:"function",input:Array.isArray(e?.input)?Jj(e?.input):e?.input??Xh($d()),output:e?.output??$d()})}const Gg=Re("ZodCustom",(e,r)=>{EL.init(e,r),Rr.init(e,r),e._zod.processJSONSchema=(t,s,n)=>Uz(e,t)});function TU(e){const r=new Hn({check:"custom"});return r._zod.check=e,r}function S3(e,r){return gz(Gg,e??(()=>!0),r)}function j3(e,r={}){return yz(Gg,e,r)}function N3(e){return bz(e)}const EU=xz,AU=wz;function PU(e,r={}){const t=new Gg({type:"custom",check:"custom",fn:s=>s instanceof e,abort:!0,...tt(r)});return t._zod.bag.Class=e,t._zod.check=s=>{s.value instanceof e||s.issues.push({code:"invalid_type",expected:e.name,input:s.value,inst:t,path:[...t._zod.def.path??[]]})},t}const IU=(...e)=>_z({Codec:Rx,Boolean:Vg,String:zg},...e);function DU(e){const r=w3(()=>Qh([Ur(e),jx(),Wg(),Cx(),Xh(r),Ax(Ur(),r)]));return r}function $x(e,r){return Bm(Px(e),r)}const wde=Object.freeze(Object.defineProperty({__proto__:null,ZodAny:Vj,ZodArray:Kj,ZodBase64:wx,ZodBase64URL:_x,ZodBigInt:qg,ZodBigIntFormat:Nx,ZodBoolean:Vg,ZodCIDRv4:vx,ZodCIDRv6:xx,ZodCUID:fx,ZodCUID2:hx,ZodCatch:p3,ZodCodec:Rx,ZodCustom:Gg,ZodCustomStringFormat:Gh,ZodDate:Ex,ZodDefault:l3,ZodDiscriminatedUnion:Gj,ZodE164:kx,ZodEmail:cx,ZodEmoji:ux,ZodEnum:Eh,ZodExactOptional:i3,ZodFile:n3,ZodFunction:k3,ZodGUID:$m,ZodIPv4:yx,ZodIPv6:bx,ZodIntersection:Xj,ZodJWT:Sx,ZodKSUID:gx,ZodLazy:x3,ZodLiteral:r3,ZodMAC:Lj,ZodMap:e3,ZodNaN:g3,ZodNanoID:dx,ZodNever:qj,ZodNonOptional:Dx,ZodNull:Uj,ZodNullable:o3,ZodNumber:Ug,ZodNumberFormat:Jd,ZodObject:Hg,ZodOptional:Ix,ZodPipe:Mx,ZodPrefault:u3,ZodPromise:_3,ZodReadonly:y3,ZodRecord:Zg,ZodSet:t3,ZodString:zg,ZodStringFormat:Cn,ZodSuccess:h3,ZodSymbol:zj,ZodTemplateLiteral:v3,ZodTransform:s3,ZodTuple:Yj,ZodType:Rr,ZodULID:px,ZodURL:Bg,ZodUUID:dl,ZodUndefined:Bj,ZodUnion:Kg,ZodUnknown:Wj,ZodVoid:Hj,ZodXID:mx,ZodXor:Zj,_ZodString:lx,_default:c3,_function:Hb,any:Om,array:Xh,base64:HB,base64url:KB,bigint:sU,boolean:Wg,catch:m3,check:TU,cidrv4:WB,cidrv6:qB,codec:jU,cuid:$B,cuid2:OB,custom:S3,date:uU,describe:EU,discriminatedUnion:mU,e164:ZB,email:NB,emoji:MB,enum:Yh,exactOptional:a3,file:wU,float32:eU,float64:tU,function:Hb,guid:CB,hash:JB,hex:YB,hostname:QB,httpUrl:DB,instanceof:PU,int:qb,int32:rU,int64:iU,intersection:Qj,ipv4:BB,ipv6:VB,json:DU,jwt:GB,keyof:dU,ksuid:zB,lazy:w3,literal:Fm,looseObject:hU,looseRecord:yU,mac:UB,map:bU,meta:AU,nan:SU,nanoid:RB,nativeEnum:xU,never:Tx,nonoptional:f3,null:Cx,nullable:zm,nullish:_U,number:jx,object:Au,optional:Lm,partialRecord:gU,pipe:Bm,prefault:d3,preprocess:$x,promise:CU,readonly:b3,record:Ax,refine:j3,set:vU,strictObject:fU,string:Ur,stringFormat:XB,stringbool:IU,success:kU,superRefine:N3,symbol:oU,templateLiteral:NU,transform:Px,tuple:Jj,uint32:nU,uint64:aU,ulid:FB,undefined:lU,union:Qh,unknown:$d,url:IB,uuid:TB,uuidv4:EB,uuidv6:AB,uuidv7:PB,void:cU,xid:LB,xor:pU},Symbol.toStringTag,{value:"Module"})),_de={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function kde(e){Ii({customError:e})}function Sde(){return Ii().customError}var Rk;Rk||(Rk={});const Nt={...wde,...vde,iso:fB},jde=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function Nde(e,r){const t=e.$schema;return t==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":t==="http://json-schema.org/draft-07/schema#"?"draft-7":t==="http://json-schema.org/draft-04/schema#"?"draft-4":r??"draft-2020-12"}function Cde(e,r){if(!e.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");const t=e.slice(1).split("/").filter(Boolean);if(t.length===0)return r.rootSchema;const s=r.version==="draft-2020-12"?"$defs":"definitions";if(t[0]===s){const n=t[1];if(!n||!r.defs[n])throw new Error(`Reference not found: ${e}`);return r.defs[n]}throw new Error(`Reference not found: ${e}`)}function MU(e,r){if(e.not!==void 0){if(typeof e.not=="object"&&Object.keys(e.not).length===0)return Nt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(e.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(e.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(e.if!==void 0||e.then!==void 0||e.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(e.dependentSchemas!==void 0||e.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(e.$ref){const n=e.$ref;if(r.refs.has(n))return r.refs.get(n);if(r.processing.has(n))return Nt.lazy(()=>{if(!r.refs.has(n))throw new Error(`Circular reference not resolved: ${n}`);return r.refs.get(n)});r.processing.add(n);const i=Cde(n,r),a=_i(i,r);return r.refs.set(n,a),r.processing.delete(n),a}if(e.enum!==void 0){const n=e.enum;if(r.version==="openapi-3.0"&&e.nullable===!0&&n.length===1&&n[0]===null)return Nt.null();if(n.length===0)return Nt.never();if(n.length===1)return Nt.literal(n[0]);if(n.every(a=>typeof a=="string"))return Nt.enum(n);const i=n.map(a=>Nt.literal(a));return i.length<2?i[0]:Nt.union([i[0],i[1],...i.slice(2)])}if(e.const!==void 0)return Nt.literal(e.const);const t=e.type;if(Array.isArray(t)){const n=t.map(i=>{const a={...e,type:i};return MU(a,r)});return n.length===0?Nt.never():n.length===1?n[0]:Nt.union(n)}if(!t)return Nt.any();let s;switch(t){case"string":{let n=Nt.string();if(e.format){const i=e.format;i==="email"?n=n.check(Nt.email()):i==="uri"||i==="uri-reference"?n=n.check(Nt.url()):i==="uuid"||i==="guid"?n=n.check(Nt.uuid()):i==="date-time"?n=n.check(Nt.iso.datetime()):i==="date"?n=n.check(Nt.iso.date()):i==="time"?n=n.check(Nt.iso.time()):i==="duration"?n=n.check(Nt.iso.duration()):i==="ipv4"?n=n.check(Nt.ipv4()):i==="ipv6"?n=n.check(Nt.ipv6()):i==="mac"?n=n.check(Nt.mac()):i==="cidr"?n=n.check(Nt.cidrv4()):i==="cidr-v6"?n=n.check(Nt.cidrv6()):i==="base64"?n=n.check(Nt.base64()):i==="base64url"?n=n.check(Nt.base64url()):i==="e164"?n=n.check(Nt.e164()):i==="jwt"?n=n.check(Nt.jwt()):i==="emoji"?n=n.check(Nt.emoji()):i==="nanoid"?n=n.check(Nt.nanoid()):i==="cuid"?n=n.check(Nt.cuid()):i==="cuid2"?n=n.check(Nt.cuid2()):i==="ulid"?n=n.check(Nt.ulid()):i==="xid"?n=n.check(Nt.xid()):i==="ksuid"&&(n=n.check(Nt.ksuid()))}typeof e.minLength=="number"&&(n=n.min(e.minLength)),typeof e.maxLength=="number"&&(n=n.max(e.maxLength)),e.pattern&&(n=n.regex(new RegExp(e.pattern))),s=n;break}case"number":case"integer":{let n=t==="integer"?Nt.number().int():Nt.number();typeof e.minimum=="number"&&(n=n.min(e.minimum)),typeof e.maximum=="number"&&(n=n.max(e.maximum)),typeof e.exclusiveMinimum=="number"?n=n.gt(e.exclusiveMinimum):e.exclusiveMinimum===!0&&typeof e.minimum=="number"&&(n=n.gt(e.minimum)),typeof e.exclusiveMaximum=="number"?n=n.lt(e.exclusiveMaximum):e.exclusiveMaximum===!0&&typeof e.maximum=="number"&&(n=n.lt(e.maximum)),typeof e.multipleOf=="number"&&(n=n.multipleOf(e.multipleOf)),s=n;break}case"boolean":{s=Nt.boolean();break}case"null":{s=Nt.null();break}case"object":{const n={},i=e.properties||{},a=new Set(e.required||[]);for(const[u,c]of Object.entries(i)){const d=_i(c,r);n[u]=a.has(u)?d:d.optional()}if(e.propertyNames){const u=_i(e.propertyNames,r),c=e.additionalProperties&&typeof e.additionalProperties=="object"?_i(e.additionalProperties,r):Nt.any();if(Object.keys(n).length===0){s=Nt.record(u,c);break}const d=Nt.object(n).passthrough(),p=Nt.looseRecord(u,c);s=Nt.intersection(d,p);break}if(e.patternProperties){const u=e.patternProperties,c=Object.keys(u),d=[];for(const f of c){const h=_i(u[f],r),g=Nt.string().regex(new RegExp(f));d.push(Nt.looseRecord(g,h))}const p=[];if(Object.keys(n).length>0&&p.push(Nt.object(n).passthrough()),p.push(...d),p.length===0)s=Nt.object({}).passthrough();else if(p.length===1)s=p[0];else{let f=Nt.intersection(p[0],p[1]);for(let h=2;h<p.length;h++)f=Nt.intersection(f,p[h]);s=f}break}const l=Nt.object(n);e.additionalProperties===!1?s=l.strict():typeof e.additionalProperties=="object"?s=l.catchall(_i(e.additionalProperties,r)):s=l.passthrough();break}case"array":{const n=e.prefixItems,i=e.items;if(n&&Array.isArray(n)){const a=n.map(u=>_i(u,r)),l=i&&typeof i=="object"&&!Array.isArray(i)?_i(i,r):void 0;l?s=Nt.tuple(a).rest(l):s=Nt.tuple(a),typeof e.minItems=="number"&&(s=s.check(Nt.minLength(e.minItems))),typeof e.maxItems=="number"&&(s=s.check(Nt.maxLength(e.maxItems)))}else if(Array.isArray(i)){const a=i.map(u=>_i(u,r)),l=e.additionalItems&&typeof e.additionalItems=="object"?_i(e.additionalItems,r):void 0;l?s=Nt.tuple(a).rest(l):s=Nt.tuple(a),typeof e.minItems=="number"&&(s=s.check(Nt.minLength(e.minItems))),typeof e.maxItems=="number"&&(s=s.check(Nt.maxLength(e.maxItems)))}else if(i!==void 0){const a=_i(i,r);let l=Nt.array(a);typeof e.minItems=="number"&&(l=l.min(e.minItems)),typeof e.maxItems=="number"&&(l=l.max(e.maxItems)),s=l}else s=Nt.array(Nt.any());break}default:throw new Error(`Unsupported type: ${t}`)}return e.description&&(s=s.describe(e.description)),e.default!==void 0&&(s=s.default(e.default)),s}function _i(e,r){if(typeof e=="boolean")return e?Nt.any():Nt.never();let t=MU(e,r);const s=e.type||e.enum!==void 0||e.const!==void 0;if(e.anyOf&&Array.isArray(e.anyOf)){const l=e.anyOf.map(c=>_i(c,r)),u=Nt.union(l);t=s?Nt.intersection(t,u):u}if(e.oneOf&&Array.isArray(e.oneOf)){const l=e.oneOf.map(c=>_i(c,r)),u=Nt.xor(l);t=s?Nt.intersection(t,u):u}if(e.allOf&&Array.isArray(e.allOf))if(e.allOf.length===0)t=s?t:Nt.any();else{let l=s?t:_i(e.allOf[0],r);const u=s?0:1;for(let c=u;c<e.allOf.length;c++)l=Nt.intersection(l,_i(e.allOf[c],r));t=l}e.nullable===!0&&r.version==="openapi-3.0"&&(t=Nt.nullable(t)),e.readOnly===!0&&(t=Nt.readonly(t));const n={},i=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(const l of i)l in e&&(n[l]=e[l]);const a=["contentEncoding","contentMediaType","contentSchema"];for(const l of a)l in e&&(n[l]=e[l]);for(const l of Object.keys(e))jde.has(l)||(n[l]=e[l]);return Object.keys(n).length>0&&r.registry.add(t,n),t}function Tde(e,r){if(typeof e=="boolean")return e?Nt.any():Nt.never();const t=Nde(e,r?.defaultTarget),s=e.$defs||e.definitions||{},n={version:t,defs:s,refs:new Map,processing:new Set,rootSchema:e,registry:r?.registry??oo};return _i(e,n)}function Is(e){return FL(zg,e)}function Ede(e){return HL(Ug,e)}function Ade(e){return JL(Vg,e)}function Pde(e){return tz(qg,e)}function Ide(e){return fz(Ex,e)}const Dde=Object.freeze(Object.defineProperty({__proto__:null,bigint:Pde,boolean:Ade,date:Ide,number:Ede,string:Is},Symbol.toStringTag,{value:"Module"}));Ii(AL());const Mde=Object.freeze(Object.defineProperty({__proto__:null,$brand:H$,$input:RL,$output:ML,NEVER:q$,TimePrecision:zL,ZodAny:Vj,ZodArray:Kj,ZodBase64:wx,ZodBase64URL:_x,ZodBigInt:qg,ZodBigIntFormat:Nx,ZodBoolean:Vg,ZodCIDRv4:vx,ZodCIDRv6:xx,ZodCUID:fx,ZodCUID2:hx,ZodCatch:p3,ZodCodec:Rx,ZodCustom:Gg,ZodCustomStringFormat:Gh,ZodDate:Ex,ZodDefault:l3,ZodDiscriminatedUnion:Gj,ZodE164:kx,ZodEmail:cx,ZodEmoji:ux,ZodEnum:Eh,ZodError:xde,ZodExactOptional:i3,ZodFile:n3,get ZodFirstPartyTypeKind(){return Rk},ZodFunction:k3,ZodGUID:$m,ZodIPv4:yx,ZodIPv6:bx,ZodISODate:$j,ZodISODateTime:Rj,ZodISODuration:Fj,ZodISOTime:Oj,ZodIntersection:Xj,ZodIssueCode:_de,ZodJWT:Sx,ZodKSUID:gx,ZodLazy:x3,ZodLiteral:r3,ZodMAC:Lj,ZodMap:e3,ZodNaN:g3,ZodNanoID:dx,ZodNever:qj,ZodNonOptional:Dx,ZodNull:Uj,ZodNullable:o3,ZodNumber:Ug,ZodNumberFormat:Jd,ZodObject:Hg,ZodOptional:Ix,ZodPipe:Mx,ZodPrefault:u3,ZodPromise:_3,ZodReadonly:y3,ZodRealError:$a,ZodRecord:Zg,ZodSet:t3,ZodString:zg,ZodStringFormat:Cn,ZodSuccess:h3,ZodSymbol:zj,ZodTemplateLiteral:v3,ZodTransform:s3,ZodTuple:Yj,ZodType:Rr,ZodULID:px,ZodURL:Bg,ZodUUID:dl,ZodUndefined:Bj,ZodUnion:Kg,ZodUnknown:Wj,ZodVoid:Hj,ZodXID:mx,ZodXor:Zj,_ZodString:lx,_default:c3,_function:Hb,any:Om,array:Xh,base64:HB,base64url:KB,bigint:sU,boolean:Wg,catch:m3,check:TU,cidrv4:WB,cidrv6:qB,clone:go,codec:jU,coerce:Dde,config:Ii,core:bde,cuid:$B,cuid2:OB,custom:S3,date:uU,decode:vB,decodeAsync:wB,describe:EU,discriminatedUnion:mU,e164:ZB,email:NB,emoji:MB,encode:bB,encodeAsync:xB,endsWith:tx,enum:Yh,exactOptional:a3,file:wU,flattenError:LS,float32:eU,float64:tU,formatError:zS,fromJSONSchema:Tde,function:Hb,getErrorMap:Sde,globalRegistry:oo,gt:vu,gte:ua,guid:CB,hash:JB,hex:YB,hostname:QB,httpUrl:DB,includes:Jv,instanceof:PU,int:qb,int32:rU,int64:iU,intersection:Qj,ipv4:BB,ipv6:VB,iso:fB,json:DU,jwt:GB,keyof:dU,ksuid:zB,lazy:w3,length:Fg,literal:Fm,locales:DL,looseObject:hU,looseRecord:yU,lowercase:Qv,lt:bu,lte:lo,mac:UB,map:bU,maxLength:Og,maxSize:Zh,meta:AU,mime:rx,minLength:Rd,minSize:xu,multipleOf:jh,nan:SU,nanoid:RB,nativeEnum:xU,negative:Ej,never:Tx,nonnegative:Pj,nonoptional:f3,nonpositive:Aj,normalize:nx,null:Cx,nullable:zm,nullish:_U,number:jx,object:Au,optional:Lm,overwrite:mc,parse:pB,parseAsync:mB,partialRecord:gU,pipe:Bm,positive:Tj,prefault:d3,preprocess:$x,prettifyError:hO,promise:CU,property:Ij,readonly:b3,record:Ax,refine:j3,regex:Xv,regexes:QS,registry:oj,safeDecode:kB,safeDecodeAsync:jB,safeEncode:_B,safeEncodeAsync:SB,safeParse:gB,safeParseAsync:yB,set:vU,setErrorMap:kde,size:$g,slugify:ox,startsWith:ex,strictObject:fU,string:Ur,stringFormat:XB,stringbool:IU,success:kU,superRefine:N3,symbol:oU,templateLiteral:NU,toJSONSchema:oB,toLowerCase:ix,toUpperCase:ax,transform:Px,treeifyError:dO,trim:sx,tuple:Jj,uint32:nU,uint64:aU,ulid:FB,undefined:lU,union:Qh,unknown:$d,uppercase:Yv,url:IB,util:cO,uuid:TB,uuidv4:EB,uuidv6:AB,uuidv7:PB,void:cU,xid:LB,xor:pU},Symbol.toStringTag,{value:"Module"})),RU=E.createContext(void 0);function gc(){const e=E.useContext(RU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Rde({children:e}){const[r,t]=E.useState(null),[s,n]=E.useState(!0),i=Ss(),a=r!==null,l=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[c,d]=E.useState(0),[p,f]=E.useState(null);E.useEffect(()=>{B8({getAccessToken:l,refreshToken:q,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const z=window.location.origin;if(z.includes("binarjoinanelytic.info"))return`${z}/api`;if(z.includes("replit.dev"))return`${z}/api`;if(z.startsWith("http://localhost")||z.startsWith("file://")||z==="null")return"https://app2.binarjoinanelytic.info/api"}const $="https://app2.binarjoinanelytic.info/api";return $.endsWith("/api")?$:`${$}/api`})();E.useEffect(()=>{(async()=>{try{const{smartGetAll:z,smartSave:K}=await on(async()=>{const{smartGetAll:P,smartSave:R}=await Promise.resolve().then(()=>Cm);return{smartGetAll:P,smartSave:R}},void 0);(await z("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await K("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),E.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const z=localStorage.getItem("accessToken"),K=localStorage.getItem("user");if(!z||!K){console.log(" [AuthProvider]     "),n(!1);return}try{const W=JSON.parse(K);t(W),n(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${z}`}}).then(async P=>{if(P.ok){const R=await P.json();R.user&&(t(R.user),localStorage.setItem("user",JSON.stringify(R.user)))}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(W){console.error(" [AuthProvider]     :",W),await m()}}catch(z){console.error(" [AuthProvider]  :",z)}finally{n(!1)}})()},[]),E.useEffect(()=>{const $=z=>{z.key==="accessToken"&&!z.newValue&&(console.log(" [AuthProvider]       "),t(null))};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[]);const y=async($,z)=>{console.log(" [AuthProvider.login]   :",$,new Date().toISOString());let K=null,W=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),W=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:$,password:z})}),W.ok?K=await W.json():W.status===503||W.status===500?console.warn(` [AuthProvider]       (${W.status})    ...`):console.warn(` [AuthProvider]    ${W.status}    ...`)}catch(N){console.warn(" [AuthProvider]       ...",N)}if(!K||W&&!W.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:N}=await on(async()=>{const{smartGetAll:B}=await Promise.resolve().then(()=>Cm);return{smartGetAll:B}},void 0),M=await N("emergencyUsers");console.log(` [AuthProvider]  ${M.length}  `);const O=M.find(B=>B.email.toLowerCase()===$.toLowerCase()&&B.password===z);if(O)console.log(" [AuthProvider]     "),K={success:!0,data:{user:{...O,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const B=await N("users");console.log(` [AuthProvider]  ${B.length}  `);const G=B.find(Q=>Q.email.toLowerCase()===$.toLowerCase());G&&(console.log(" [AuthProvider]      ()"),K={success:!0,data:{user:G,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(N){console.error(" [AuthProvider]    :",N)}}if(W&&!W.ok&&!K){const N=await W.json().catch(()=>({}));if(W.status===403&&N.requireEmailVerification){const M=new Error(N.message||"     ");throw M.requireEmailVerification=!0,M.userId=N.data?.userId,M.email=N.data?.email,M.status=403,M.data=N.data,M}throw new Error(N.message||"  ")}const P=K?.data||K,R=P?.user||K?.user;let C=P?.tokens?.accessToken||K?.tokens?.accessToken||P?.accessToken||K?.accessToken||K?.data?.accessToken||P?.token||K?.token,_=P?.tokens?.refreshToken||K?.tokens?.refreshToken||P?.refreshToken||K?.refreshToken||K?.data?.refreshToken;if(!C&&K&&typeof K=="object"){const N=["accessToken","token","jwt","auth_token"];for(const M of N)if(K[M]){C=K[M];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!R,hasToken:!!C,tokenType:typeof C}),!C)throw console.error(" [AuthProvider.login]    :",K),new Error("       .    .");const S={id:R?.id||"unknown",email:R?.email||$,name:R?.name||R?.fullName||`${R?.firstName||""} ${R?.lastName||""}`.trim()||$,role:R?.role||"admin",mfaEnabled:!!R?.mfaEnabled,emailVerified:R?.emailVerified===!0||!0};return console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(S)),localStorage.setItem("accessToken",C),_&&localStorage.setItem("refreshToken",_),t(S),(async()=>{try{console.log(" [AuthProvider]   ...");const N=await on(()=>Promise.resolve().then(()=>JX),void 0),M=N.startSync||N.default?.startSync;typeof M=="function"&&await M()}catch(N){console.warn(" [AuthProvider]     :",N)}})().then(()=>{console.log(" [AuthProvider]   "),[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(M=>i.invalidateQueries({queryKey:M,refetchType:"active",exact:!1}))}).catch(()=>{}),await new Promise(N=>setTimeout(N,50)),tne().catch(console.warn),console.log(" [AuthProvider.login]    "),K},m=async()=>{try{const $=localStorage.getItem("accessToken");if($)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${$}`}})}catch{}}catch{}finally{t(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),rne()}},[v,x]=E.useState(0),[k,T]=E.useState(!1),A=$=>new Promise(z=>setTimeout(z,$)),L=$=>Math.min(100*Math.pow(2,$),5e3),q=async($=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),k&&!$){for(console.log(" [AuthProvider.refreshToken]    ...");k;)await A(100);return localStorage.getItem("accessToken")!==null}T(!0);const z=Date.now();try{const K=localStorage.getItem("refreshToken");if(!K)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const W=3;for(let R=0;R<W;R++){const C=Date.now();console.log(` [AuthProvider.refreshToken]  ${R+1}/${W}...`);try{const _=new AbortController,S=setTimeout(()=>{_.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${R+1}`)},1e4),j=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:K}),signal:_.signal}),N=j.headers.get("content-type");if(!N||!N.includes("application/json")){console.error(" [AuthProvider.refreshToken]      ( JSON):",N),await A(2e3);continue}clearTimeout(S);const M=Date.now()-C;console.log(` [AuthProvider.refreshToken]  ${R+1}  ${M}ms`);const O=await j.json();if(j.ok&&O.success&&O.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:O.success,hasTokens:!!O.tokens}),localStorage.setItem("accessToken",O.tokens.accessToken),localStorage.setItem("refreshToken",O.tokens.refreshToken),x(0);const B=Date.now()-z;return console.log(` [AuthProvider.refreshToken]    ${B}ms  ${R+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${j.status}:`,O.message||responseText);if(j.status===401||j.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(_){const S=Date.now()-C;_ instanceof Error?_.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${R+1}  ${S}ms`):console.log(` [AuthProvider.refreshToken]     ${R+1}:`,_.message):console.log(` [AuthProvider.refreshToken]      ${R+1}:`,_)}if(R<W-1){const _=L(R);console.log(` [AuthProvider.refreshToken]  ${_}ms   ...`),await A(_)}}x(R=>R+1);const P=Date.now()-z;return console.log(` [AuthProvider.refreshToken]     ${P}ms ${W} `),localStorage.getItem("user")?(console.warn(" [AuthProvider]           Offline"),!1):(await m(),window.location.href="/login",!1)}catch(K){const W=Date.now()-z;return console.error(` [AuthProvider.refreshToken]    ${W}ms:`,K),x(P=>P+1),!1}finally{T(!1)}},D={user:r,isAuthenticated:a,isLoading:s,login:y,logout:m,refreshToken:q,getAccessToken:l,getRefreshToken:u};return E.useEffect(()=>{B8({getAccessToken:l,refreshToken:q,logout:m})},[]),o.jsx(RU.Provider,{value:D,children:e})}var $de=Symbol.for("react.lazy"),Kb=Sv[" use ".trim().toString()];function Ode(e){return typeof e=="object"&&e!==null&&"then"in e}function $U(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===$de&&"_payload"in e&&Ode(e._payload)}function Xg(e){const r=Fde(e),t=E.forwardRef((s,n)=>{let{children:i,...a}=s;$U(i)&&typeof Kb=="function"&&(i=Kb(i._payload));const l=E.Children.toArray(i),u=l.find(zde);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}var ef=Xg("Slot");function Fde(e){const r=E.forwardRef((t,s)=>{let{children:n,...i}=t;if($U(n)&&typeof Kb=="function"&&(n=Kb(n._payload)),E.isValidElement(n)){const a=Ude(n),l=Bde(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Lde=Symbol("radix.slottable");function zde(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lde}function Bde(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function Ude(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Vde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wde=Vde.reduce((e,r)=>{const t=Xg(`Primitive.${r}`),s=E.forwardRef((n,i)=>{const{asChild:a,...l}=n,u=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),qde="Label",OU=E.forwardRef((e,r)=>o.jsx(Wde.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));OU.displayName=qde;var FU=OU;const Hde=Xd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=E.forwardRef(({className:e,...r},t)=>o.jsx(FU,{ref:t,className:Ae(Hde(),e),...r}));Ye.displayName=FU.displayName;const uc=Hoe,LU=E.createContext({}),rn=({...e})=>o.jsx(LU.Provider,{value:{name:e.name},children:o.jsx($$,{...e})}),Ox=()=>{const e=E.useContext(LU),r=E.useContext(zU),{getFieldState:t,formState:s}=qoe(),n=t(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},zU=E.createContext({}),Jr=E.forwardRef(({className:e,...r},t)=>{const s=E.useId();return o.jsx(zU.Provider,{value:{id:s},children:o.jsx("div",{ref:t,className:Ae("space-y-2",e),...r})})});Jr.displayName="FormItem";const Xn=E.forwardRef(({className:e,...r},t)=>{const{error:s,formItemId:n}=Ox();return o.jsx(Ye,{ref:t,className:Ae(s&&"text-destructive",e),htmlFor:n,...r})});Xn.displayName="FormLabel";const sn=E.forwardRef(({...e},r)=>{const{error:t,formItemId:s,formDescriptionId:n,formMessageId:i}=Ox();return o.jsx(ef,{ref:r,id:s,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});sn.displayName="FormControl";const Kde=E.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:s}=Ox();return o.jsx("p",{ref:t,id:s,className:Ae("text-sm text-muted-foreground",e),...r})});Kde.displayName="FormDescription";const Rn=E.forwardRef(({className:e,children:r,...t},s)=>{const{error:n,formMessageId:i}=Ox(),a=n?String(n?.message??""):r;return a?o.jsx("p",{ref:s,id:i,className:Ae("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",e),...t,children:a}):null});Rn.displayName="FormMessage";const C3=E.createContext({});function T3(e){const r=E.useRef(null);return r.current===null&&(r.current=e()),r.current}const Fx=E.createContext(null),E3=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Zde extends E.Component{getSnapshotBeforeUpdate(r){const t=this.props.childRef.current;if(t&&r.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gde({children:e,isPresent:r}){const t=E.useId(),s=E.useRef(null),n=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(E3);return E.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:c}=n.current;if(r||!s.current||!a||!l)return;s.current.dataset.motionPopId=t;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[r]),o.jsx(Zde,{isPresent:r,childRef:s,sizeRef:n,children:E.cloneElement(e,{ref:s})})}const Xde=({children:e,initial:r,isPresent:t,onExitComplete:s,custom:n,presenceAffectsLayout:i,mode:a})=>{const l=T3(Qde),u=E.useId(),c=E.useCallback(p=>{l.set(p,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),d=E.useMemo(()=>({id:u,initial:r,isPresent:t,custom:n,onExitComplete:c,register:p=>(l.set(p,!1),()=>l.delete(p))}),i?[Math.random(),c]:[t,c]);return E.useMemo(()=>{l.forEach((p,f)=>l.set(f,!1))},[t]),E.useEffect(()=>{!t&&!l.size&&s&&s()},[t]),a==="popLayout"&&(e=o.jsx(Gde,{isPresent:t,children:e})),o.jsx(Fx.Provider,{value:d,children:e})};function Qde(){return new Map}function BU(e=!0){const r=E.useContext(Fx);if(r===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=r,i=E.useId();E.useEffect(()=>{e&&n(i)},[e]);const a=E.useCallback(()=>e&&s&&s(i),[i,s,e]);return!t&&s?[!1,a]:[!0]}const Dy=e=>e.key||"";function GT(e){const r=[];return E.Children.forEach(e,t=>{E.isValidElement(t)&&r.push(t)}),r}const A3=typeof window<"u",UU=A3?E.useLayoutEffect:E.useEffect,Um=({children:e,custom:r,initial:t=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:i="sync",propagate:a=!1})=>{const[l,u]=BU(a),c=E.useMemo(()=>GT(e),[e]),d=a&&!l?[]:c.map(Dy),p=E.useRef(!0),f=E.useRef(c),h=T3(()=>new Map),[g,y]=E.useState(c),[m,v]=E.useState(c);UU(()=>{p.current=!1,f.current=c;for(let T=0;T<m.length;T++){const A=Dy(m[T]);d.includes(A)?h.delete(A):h.get(A)!==!0&&h.set(A,!1)}},[m,d.length,d.join("-")]);const x=[];if(c!==g){let T=[...c];for(let A=0;A<m.length;A++){const L=m[A],q=Dy(L);d.includes(q)||(T.splice(A,0,L),x.push(L))}i==="wait"&&x.length&&(T=x),v(GT(T)),y(c);return}const{forceRender:k}=E.useContext(C3);return o.jsx(o.Fragment,{children:m.map(T=>{const A=Dy(T),L=a&&!l?!1:c===m||d.includes(A),q=()=>{if(h.has(A))h.set(A,!0);else return;let D=!0;h.forEach($=>{$||(D=!1)}),D&&(k?.(),v(f.current),a&&u?.(),s&&s())};return o.jsx(Xde,{isPresent:L,initial:!p.current||t?void 0:!1,custom:L?void 0:r,presenceAffectsLayout:n,mode:i,onExitComplete:L?void 0:q,children:T},A)})})},Da=e=>e;let VU=Da;function P3(e){let r;return()=>(r===void 0&&(r=e()),r)}const Ah=(e,r,t)=>{const s=r-e;return s===0?1:(t-e)/s},Yl=e=>e*1e3,Jl=e=>e/1e3,Yde={useManualTiming:!1};function Jde(e){let r=new Set,t=new Set,s=!1,n=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){i.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,d=!1,p=!1)=>{const h=p&&s?r:t;return d&&i.add(c),h.has(c)||h.add(c),c},cancel:c=>{t.delete(c),i.delete(c)},process:c=>{if(a=c,s){n=!0;return}s=!0,[r,t]=[t,r],r.forEach(l),r.clear(),s=!1,n&&(n=!1,u.process(c))}};return u}const My=["read","resolveKeyframes","update","preRender","render","postRender"],efe=40;function WU(e,r){let t=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,a=My.reduce((v,x)=>(v[x]=Jde(i),v),{}),{read:l,resolveKeyframes:u,update:c,preRender:d,render:p,postRender:f}=a,h=()=>{const v=performance.now();t=!1,n.delta=s?1e3/60:Math.max(Math.min(v-n.timestamp,efe),1),n.timestamp=v,n.isProcessing=!0,l.process(n),u.process(n),c.process(n),d.process(n),p.process(n),f.process(n),n.isProcessing=!1,t&&r&&(s=!1,e(h))},g=()=>{t=!0,s=!0,n.isProcessing||e(h)};return{schedule:My.reduce((v,x)=>{const k=a[x];return v[x]=(T,A=!1,L=!1)=>(t||g(),k.schedule(T,A,L)),v},{}),cancel:v=>{for(let x=0;x<My.length;x++)a[My[x]].cancel(v)},state:n,steps:a}}const{schedule:On,cancel:wu,state:ui,steps:_2}=WU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Da,!0),qU=E.createContext({strict:!1}),XT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ph={};for(const e in XT)Ph[e]={isEnabled:r=>XT[e].some(t=>!!r[t])};function tfe(e){for(const r in e)Ph[r]={...Ph[r],...e[r]}}const rfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rfe.has(e)}let HU=e=>!Zb(e);function nfe(e){e&&(HU=r=>r.startsWith("on")?!Zb(r):e(r))}try{nfe(require("@emotion/is-prop-valid").default)}catch{}function sfe(e,r,t){const s={};for(const n in e)n==="values"&&typeof e.values=="object"||(HU(n)||t===!0&&Zb(n)||!r&&!Zb(n)||e.draggable&&n.startsWith("onDrag"))&&(s[n]=e[n]);return s}function ife(e){if(typeof Proxy>"u")return e;const r=new Map,t=(...s)=>e(...s);return new Proxy(t,{get:(s,n)=>n==="create"?e:(r.has(n)||r.set(n,e(n)),r.get(n))})}const Lx=E.createContext({});function Vm(e){return typeof e=="string"||Array.isArray(e)}function zx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const I3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D3=["initial",...I3];function Bx(e){return zx(e.animate)||D3.some(r=>Vm(e[r]))}function KU(e){return!!(Bx(e)||e.variants)}function afe(e,r){if(Bx(e)){const{initial:t,animate:s}=e;return{initial:t===!1||Vm(t)?t:void 0,animate:Vm(s)?s:void 0}}return e.inherit!==!1?r:{}}function ofe(e){const{initial:r,animate:t}=afe(e,E.useContext(Lx));return E.useMemo(()=>({initial:r,animate:t}),[QT(r),QT(t)])}function QT(e){return Array.isArray(e)?e.join(" "):e}const lfe=Symbol.for("motionComponentSymbol");function Hf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cfe(e,r,t){return E.useCallback(s=>{s&&e.onMount&&e.onMount(s),r&&(s?r.mount(s):r.unmount()),t&&(typeof t=="function"?t(s):Hf(t)&&(t.current=s))},[r])}const M3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ufe="framerAppearId",ZU="data-"+M3(ufe),{schedule:R3}=WU(queueMicrotask,!1),GU=E.createContext({});function dfe(e,r,t,s,n){var i,a;const{visualElement:l}=E.useContext(Lx),u=E.useContext(qU),c=E.useContext(Fx),d=E.useContext(E3).reducedMotion,p=E.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(e,{visualState:r,parent:l,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=p.current,h=E.useContext(GU);f&&!f.projection&&n&&(f.type==="html"||f.type==="svg")&&ffe(p.current,t,n,h);const g=E.useRef(!1);E.useInsertionEffect(()=>{f&&g.current&&f.update(t,c)});const y=t[ZU],m=E.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return UU(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),R3.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function ffe(e,r,t,s){const{layoutId:n,layout:i,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:c}=r;e.projection=new t(e.latestValues,r["data-framer-portal-id"]?void 0:XU(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!a||l&&Hf(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:u,layoutRoot:c})}function XU(e){if(e)return e.options.allowProjection!==!1?e.projection:XU(e.parent)}function hfe({preloadedFeatures:e,createVisualElement:r,useRender:t,useVisualState:s,Component:n}){var i,a;e&&tfe(e);function l(c,d){let p;const f={...E.useContext(E3),...c,layoutId:pfe(c)},{isStatic:h}=f,g=ofe(c),y=s(c,h);if(!h&&A3){mfe();const m=gfe(f);p=m.MeasureLayout,g.visualElement=dfe(n,y,f,r,m.ProjectionNode)}return o.jsxs(Lx.Provider,{value:g,children:[p&&g.visualElement?o.jsx(p,{visualElement:g.visualElement,...f}):null,t(n,c,cfe(y,g.visualElement,d),y,h,g.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${(a=(i=n.displayName)!==null&&i!==void 0?i:n.name)!==null&&a!==void 0?a:""})`}`;const u=E.forwardRef(l);return u[lfe]=n,u}function pfe({layoutId:e}){const r=E.useContext(C3).id;return r&&e!==void 0?r+"-"+e:e}function mfe(e,r){E.useContext(qU).strict}function gfe(e){const{drag:r,layout:t}=Ph;if(!r&&!t)return{};const s={...r,...t};return{MeasureLayout:r?.isEnabled(e)||t?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const yfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $3(e){return typeof e!="string"||e.includes("-")?!1:!!(yfe.indexOf(e)>-1||/[A-Z]/u.test(e))}function YT(e){const r=[{},{}];return e?.values.forEach((t,s)=>{r[0][s]=t.get(),r[1][s]=t.getVelocity()}),r}function O3(e,r,t,s){if(typeof r=="function"){const[n,i]=YT(s);r=r(t!==void 0?t:e.custom,n,i)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[n,i]=YT(s);r=r(t!==void 0?t:e.custom,n,i)}return r}const $k=e=>Array.isArray(e),bfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vfe=e=>$k(e)?e[e.length-1]||0:e,Ci=e=>!!(e&&e.getVelocity);function ob(e){const r=Ci(e)?e.get():e;return bfe(r)?r.toValue():r}function xfe({scrapeMotionValuesFromProps:e,createRenderState:r,onUpdate:t},s,n,i){const a={latestValues:wfe(s,n,i,e),renderState:r()};return t&&(a.onMount=l=>t({props:s,current:l,...a}),a.onUpdate=l=>t(l)),a}const QU=e=>(r,t)=>{const s=E.useContext(Lx),n=E.useContext(Fx),i=()=>xfe(e,r,s,n);return t?i():T3(i)};function wfe(e,r,t,s){const n={},i=s(e,{});for(const f in i)n[f]=ob(i[f]);let{initial:a,animate:l}=e;const u=Bx(e),c=KU(e);r&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=r.initial),l===void 0&&(l=r.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const p=d?l:a;if(p&&typeof p!="boolean"&&!zx(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const g=O3(e,f[h]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const x in v){let k=v[x];if(Array.isArray(k)){const T=d?k.length-1:0;k=k[T]}k!==null&&(n[x]=k)}for(const x in y)n[x]=y[x]}}}return n}const Jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tf=new Set(Jh),YU=e=>r=>typeof r=="string"&&r.startsWith(e),JU=YU("--"),_fe=YU("var(--"),F3=e=>_fe(e)?kfe.test(e.split("/*")[0].trim()):!1,kfe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eV=(e,r)=>r&&typeof e=="number"?r.transform(e):e,dc=(e,r,t)=>t>r?r:t<e?e:t,ep={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wm={...ep,transform:e=>dc(0,1,e)},Ry={...ep,default:1},Qg=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),Lc=Qg("deg"),ml=Qg("%"),hr=Qg("px"),Sfe=Qg("vh"),jfe=Qg("vw"),JT={...ml,parse:e=>ml.parse(e)/100,transform:e=>ml.transform(e*100)},Nfe={borderWidth:hr,borderTopWidth:hr,borderRightWidth:hr,borderBottomWidth:hr,borderLeftWidth:hr,borderRadius:hr,radius:hr,borderTopLeftRadius:hr,borderTopRightRadius:hr,borderBottomRightRadius:hr,borderBottomLeftRadius:hr,width:hr,maxWidth:hr,height:hr,maxHeight:hr,top:hr,right:hr,bottom:hr,left:hr,padding:hr,paddingTop:hr,paddingRight:hr,paddingBottom:hr,paddingLeft:hr,margin:hr,marginTop:hr,marginRight:hr,marginBottom:hr,marginLeft:hr,backgroundPositionX:hr,backgroundPositionY:hr},Cfe={rotate:Lc,rotateX:Lc,rotateY:Lc,rotateZ:Lc,scale:Ry,scaleX:Ry,scaleY:Ry,scaleZ:Ry,skew:Lc,skewX:Lc,skewY:Lc,distance:hr,translateX:hr,translateY:hr,translateZ:hr,x:hr,y:hr,z:hr,perspective:hr,transformPerspective:hr,opacity:Wm,originX:JT,originY:JT,originZ:hr},eE={...ep,transform:Math.round},L3={...Nfe,...Cfe,zIndex:eE,size:hr,fillOpacity:Wm,strokeOpacity:Wm,numOctaves:eE},Tfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Efe=Jh.length;function Afe(e,r,t){let s="",n=!0;for(let i=0;i<Efe;i++){const a=Jh[i],l=e[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const c=eV(l,L3[a]);if(!u){n=!1;const d=Tfe[a]||a;s+=`${d}(${c}) `}t&&(r[a]=c)}}return s=s.trim(),t?s=t(r,n?"":s):n&&(s="none"),s}function z3(e,r,t){const{style:s,vars:n,transformOrigin:i}=e;let a=!1,l=!1;for(const u in r){const c=r[u];if(tf.has(u)){a=!0;continue}else if(JU(u)){n[u]=c;continue}else{const d=eV(c,L3[u]);u.startsWith("origin")?(l=!0,i[u]=d):s[u]=d}}if(r.transform||(a||t?s.transform=Afe(r,e.transform,t):s.transform&&(s.transform="none")),l){const{originX:u="50%",originY:c="50%",originZ:d=0}=i;s.transformOrigin=`${u} ${c} ${d}`}}const Pfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ife={offset:"strokeDashoffset",array:"strokeDasharray"};function Dfe(e,r,t=1,s=0,n=!0){e.pathLength=1;const i=n?Pfe:Ife;e[i.offset]=hr.transform(-s);const a=hr.transform(r),l=hr.transform(t);e[i.array]=`${a} ${l}`}function tE(e,r,t){return typeof e=="string"?e:hr.transform(r+t*e)}function Mfe(e,r,t){const s=tE(r,e.x,e.width),n=tE(t,e.y,e.height);return`${s} ${n}`}function B3(e,{attrX:r,attrY:t,attrScale:s,originX:n,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...c},d,p){if(z3(e,c,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:g}=e;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(n!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=Mfe(g,n!==void 0?n:.5,i!==void 0?i:.5)),r!==void 0&&(f.x=r),t!==void 0&&(f.y=t),s!==void 0&&(f.scale=s),a!==void 0&&Dfe(f,a,l,u,!1)}const U3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tV=()=>({...U3(),attrs:{}}),V3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rV(e,{style:r,vars:t},s,n){Object.assign(e.style,r,n&&n.getProjectionStyles(s));for(const i in t)e.style.setProperty(i,t[i])}const nV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sV(e,r,t,s){rV(e,r,void 0,s);for(const n in r.attrs)e.setAttribute(nV.has(n)?n:M3(n),r.attrs[n])}const Gb={};function Rfe(e){Object.assign(Gb,e)}function iV(e,{layout:r,layoutId:t}){return tf.has(e)||e.startsWith("origin")||(r||t!==void 0)&&(!!Gb[e]||e==="opacity")}function W3(e,r,t){var s;const{style:n}=e,i={};for(const a in n)(Ci(n[a])||r.style&&Ci(r.style[a])||iV(a,e)||((s=t?.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}function aV(e,r,t){const s=W3(e,r,t);for(const n in e)if(Ci(e[n])||Ci(r[n])){const i=Jh.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[i]=e[n]}return s}function $fe(e,r){try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}const rE=["x","y","width","height","cx","cy","r"],Ofe={useVisualState:QU({scrapeMotionValuesFromProps:aV,createRenderState:tV,onUpdate:({props:e,prevProps:r,current:t,renderState:s,latestValues:n})=>{if(!t)return;let i=!!e.drag;if(!i){for(const l in n)if(tf.has(l)){i=!0;break}}if(!i)return;let a=!r;if(r)for(let l=0;l<rE.length;l++){const u=rE[l];e[u]!==r[u]&&(a=!0)}a&&On.read(()=>{$fe(t,s),On.render(()=>{B3(s,n,V3(t.tagName),e.transformTemplate),sV(t,s)})})}})},Ffe={useVisualState:QU({scrapeMotionValuesFromProps:W3,createRenderState:U3})};function oV(e,r,t){for(const s in r)!Ci(r[s])&&!iV(s,t)&&(e[s]=r[s])}function Lfe({transformTemplate:e},r){return E.useMemo(()=>{const t=U3();return z3(t,r,e),Object.assign({},t.vars,t.style)},[r])}function zfe(e,r){const t=e.style||{},s={};return oV(s,t,e),Object.assign(s,Lfe(e,r)),s}function Bfe(e,r){const t={},s=zfe(e,r);return e.drag&&e.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(t.tabIndex=0),t.style=s,t}function Ufe(e,r,t,s){const n=E.useMemo(()=>{const i=tV();return B3(i,r,V3(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(e.style){const i={};oV(i,e.style,e),n.style={...i,...n.style}}return n}function Vfe(e=!1){return(t,s,n,{latestValues:i},a)=>{const u=($3(t)?Ufe:Bfe)(s,i,a,t),c=sfe(s,typeof t=="string",e),d=t!==E.Fragment?{...c,...u,ref:n}:{},{children:p}=s,f=E.useMemo(()=>Ci(p)?p.get():p,[p]);return E.createElement(t,{...d,children:f})}}function Wfe(e,r){return function(s,{forwardMotionProps:n}={forwardMotionProps:!1}){const a={...$3(s)?Ofe:Ffe,preloadedFeatures:e,useRender:Vfe(n),createVisualElement:r,Component:s};return hfe(a)}}function lV(e,r){if(!Array.isArray(r))return!1;const t=r.length;if(t!==e.length)return!1;for(let s=0;s<t;s++)if(r[s]!==e[s])return!1;return!0}function Ux(e,r,t){const s=e.getProps();return O3(s,r,t!==void 0?t:s.custom,e)}const qfe=P3(()=>window.ScrollTimeline!==void 0);class Hfe{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}get finished(){return Promise.all(this.animations.map(r=>"finished"in r?r.finished:r))}getAll(r){return this.animations[0][r]}setAll(r,t){for(let s=0;s<this.animations.length;s++)this.animations[s][r]=t}attachTimeline(r,t){const s=this.animations.map(n=>{if(qfe()&&n.attachTimeline)return n.attachTimeline(r);if(typeof t=="function")return t(n)});return()=>{s.forEach((n,i)=>{n&&n(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let t=0;t<this.animations.length;t++)r=Math.max(r,this.animations[t].duration);return r}runAll(r){this.animations.forEach(t=>t[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Kfe extends Hfe{then(r,t){return Promise.all(this.animations).then(r).catch(t)}}function q3(e,r){return e?e[r]||e.default||e:void 0}const Ok=2e4;function cV(e){let r=0;const t=50;let s=e.next(r);for(;!s.done&&r<Ok;)r+=t,s=e.next(r);return r>=Ok?1/0:r}function H3(e){return typeof e=="function"}function nE(e,r){e.timeline=r,e.onfinish=null}const K3=e=>Array.isArray(e)&&typeof e[0]=="number",Zfe={linearEasing:void 0};function Gfe(e,r){const t=P3(e);return()=>{var s;return(s=Zfe[r])!==null&&s!==void 0?s:t()}}const Xb=Gfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uV=(e,r,t=10)=>{let s="";const n=Math.max(Math.round(r/t),2);for(let i=0;i<n;i++)s+=e(Ah(0,n-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function dV(e){return!!(typeof e=="function"&&Xb()||!e||typeof e=="string"&&(e in Fk||Xb())||K3(e)||Array.isArray(e)&&e.every(dV))}const nm=([e,r,t,s])=>`cubic-bezier(${e}, ${r}, ${t}, ${s})`,Fk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nm([0,.65,.55,1]),circOut:nm([.55,0,1,.45]),backIn:nm([.31,.01,.66,-.59]),backOut:nm([.33,1.53,.69,.99])};function fV(e,r){if(e)return typeof e=="function"&&Xb()?uV(e,r):K3(e)?nm(e):Array.isArray(e)?e.map(t=>fV(t,r)||Fk.easeOut):Fk[e]}const No={x:!1,y:!1};function hV(){return No.x||No.y}function Xfe(e,r,t){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let n=document;const i=(s=void 0)!==null&&s!==void 0?s:n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function pV(e,r){const t=Xfe(e),s=new AbortController,n={passive:!0,...r,signal:s.signal};return[t,n,()=>s.abort()]}function sE(e){return r=>{r.pointerType==="touch"||hV()||e(r)}}function Qfe(e,r,t={}){const[s,n,i]=pV(e,t),a=sE(l=>{const{target:u}=l,c=r(l);if(typeof c!="function"||!u)return;const d=sE(p=>{c(p),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,n)});return s.forEach(l=>{l.addEventListener("pointerenter",a,n)}),i}const mV=(e,r)=>r?e===r?!0:mV(e,r.parentElement):!1,Z3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Jfe(e){return Yfe.has(e.tagName)||e.tabIndex!==-1}const sm=new WeakSet;function iE(e){return r=>{r.key==="Enter"&&e(r)}}function k2(e,r){e.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const ehe=(e,r)=>{const t=e.currentTarget;if(!t)return;const s=iE(()=>{if(sm.has(t))return;k2(t,"down");const n=iE(()=>{k2(t,"up")}),i=()=>k2(t,"cancel");t.addEventListener("keyup",n,r),t.addEventListener("blur",i,r)});t.addEventListener("keydown",s,r),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),r)};function aE(e){return Z3(e)&&!hV()}function the(e,r,t={}){const[s,n,i]=pV(e,t),a=l=>{const u=l.currentTarget;if(!aE(l)||sm.has(u))return;sm.add(u);const c=r(l),d=(h,g)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),!(!aE(h)||!sm.has(u))&&(sm.delete(u),typeof c=="function"&&c(h,{success:g}))},p=h=>{d(h,t.useGlobalTarget||mV(u,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,n),window.addEventListener("pointercancel",f,n)};return s.forEach(l=>{!Jfe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,n),l.addEventListener("focus",c=>ehe(c,n),n)}),i}function rhe(e){return e==="x"||e==="y"?No[e]?null:(No[e]=!0,()=>{No[e]=!1}):No.x||No.y?null:(No.x=No.y=!0,()=>{No.x=No.y=!1})}const gV=new Set(["width","height","top","left","right","bottom",...Jh]);let lb;function nhe(){lb=void 0}const gl={now:()=>(lb===void 0&&gl.set(ui.isProcessing||Yde.useManualTiming?ui.timestamp:performance.now()),lb),set:e=>{lb=e,queueMicrotask(nhe)}};function G3(e,r){e.indexOf(r)===-1&&e.push(r)}function X3(e,r){const t=e.indexOf(r);t>-1&&e.splice(t,1)}class Q3{constructor(){this.subscriptions=[]}add(r){return G3(this.subscriptions,r),()=>X3(this.subscriptions,r)}notify(r,t,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,t,s);else for(let i=0;i<n;i++){const a=this.subscriptions[i];a&&a(r,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yV(e,r){return r?e*(1e3/r):0}const oE=30,she=e=>!isNaN(parseFloat(e));class ihe{constructor(r,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,n=!0)=>{const i=gl.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=t.owner}setCurrent(r){this.current=r,this.updatedAt=gl.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=she(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,t){this.events[r]||(this.events[r]=new Q3);const s=this.events[r].add(t);return r==="change"?()=>{s(),On.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,t){this.passiveEffect=r,this.stopPassiveEffect=t}set(r,t=!0){!t||!this.passiveEffect?this.updateAndNotify(r,t):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-s}jump(r,t=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>oE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,oE);return yV(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(r){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=r(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qm(e,r){return new ihe(e,r)}function ahe(e,r,t){e.hasValue(r)?e.getValue(r).set(t):e.addValue(r,qm(t))}function ohe(e,r){const t=Ux(e,r);let{transitionEnd:s={},transition:n={},...i}=t||{};i={...i,...s};for(const a in i){const l=vfe(i[a]);ahe(e,a,l)}}function lhe(e){return!!(Ci(e)&&e.add)}function Lk(e,r){const t=e.getValue("willChange");if(lhe(t))return t.add(r)}function bV(e){return e.props[ZU]}const vV=(e,r,t)=>(((1-3*t+3*r)*e+(3*t-6*r))*e+3*r)*e,che=1e-7,uhe=12;function dhe(e,r,t,s,n){let i,a,l=0;do a=r+(t-r)/2,i=vV(a,s,n)-e,i>0?t=a:r=a;while(Math.abs(i)>che&&++l<uhe);return a}function Yg(e,r,t,s){if(e===r&&t===s)return Da;const n=i=>dhe(i,0,1,e,t);return i=>i===0||i===1?i:vV(n(i),r,s)}const xV=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,wV=e=>r=>1-e(1-r),_V=Yg(.33,1.53,.69,.99),Y3=wV(_V),kV=xV(Y3),SV=e=>(e*=2)<1?.5*Y3(e):.5*(2-Math.pow(2,-10*(e-1))),J3=e=>1-Math.sin(Math.acos(e)),jV=wV(J3),NV=xV(J3),CV=e=>/^0[^.\s]+$/u.test(e);function fhe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||CV(e):!0}const ym=e=>Math.round(e*1e5)/1e5,e6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hhe(e){return e==null}const phe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t6=(e,r)=>t=>!!(typeof t=="string"&&phe.test(t)&&t.startsWith(e)||r&&!hhe(t)&&Object.prototype.hasOwnProperty.call(t,r)),TV=(e,r,t)=>s=>{if(typeof s!="string")return s;const[n,i,a,l]=s.match(e6);return{[e]:parseFloat(n),[r]:parseFloat(i),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},mhe=e=>dc(0,255,e),S2={...ep,transform:e=>Math.round(mhe(e))},od={test:t6("rgb","red"),parse:TV("red","green","blue"),transform:({red:e,green:r,blue:t,alpha:s=1})=>"rgba("+S2.transform(e)+", "+S2.transform(r)+", "+S2.transform(t)+", "+ym(Wm.transform(s))+")"};function ghe(e){let r="",t="",s="",n="";return e.length>5?(r=e.substring(1,3),t=e.substring(3,5),s=e.substring(5,7),n=e.substring(7,9)):(r=e.substring(1,2),t=e.substring(2,3),s=e.substring(3,4),n=e.substring(4,5),r+=r,t+=t,s+=s,n+=n),{red:parseInt(r,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const zk={test:t6("#"),parse:ghe,transform:od.transform},Kf={test:t6("hsl","hue"),parse:TV("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:t,alpha:s=1})=>"hsla("+Math.round(e)+", "+ml.transform(ym(r))+", "+ml.transform(ym(t))+", "+ym(Wm.transform(s))+")"},ki={test:e=>od.test(e)||zk.test(e)||Kf.test(e),parse:e=>od.test(e)?od.parse(e):Kf.test(e)?Kf.parse(e):zk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?od.transform(e):Kf.transform(e)},yhe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bhe(e){var r,t;return isNaN(e)&&typeof e=="string"&&(((r=e.match(e6))===null||r===void 0?void 0:r.length)||0)+(((t=e.match(yhe))===null||t===void 0?void 0:t.length)||0)>0}const EV="number",AV="color",vhe="var",xhe="var(",lE="${}",whe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hm(e){const r=e.toString(),t=[],s={color:[],number:[],var:[]},n=[];let i=0;const l=r.replace(whe,u=>(ki.test(u)?(s.color.push(i),n.push(AV),t.push(ki.parse(u))):u.startsWith(xhe)?(s.var.push(i),n.push(vhe),t.push(u)):(s.number.push(i),n.push(EV),t.push(parseFloat(u))),++i,lE)).split(lE);return{values:t,split:l,indexes:s,types:n}}function PV(e){return Hm(e).values}function IV(e){const{split:r,types:t}=Hm(e),s=r.length;return n=>{let i="";for(let a=0;a<s;a++)if(i+=r[a],n[a]!==void 0){const l=t[a];l===EV?i+=ym(n[a]):l===AV?i+=ki.transform(n[a]):i+=n[a]}return i}}const _he=e=>typeof e=="number"?0:e;function khe(e){const r=PV(e);return IV(e)(r.map(_he))}const _u={test:bhe,parse:PV,createTransformer:IV,getAnimatableNone:khe},She=new Set(["brightness","contrast","saturate","opacity"]);function jhe(e){const[r,t]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[s]=t.match(e6)||[];if(!s)return e;const n=t.replace(s,"");let i=She.has(r)?1:0;return s!==t&&(i*=100),r+"("+i+n+")"}const Nhe=/\b([a-z-]*)\(.*?\)/gu,Bk={..._u,getAnimatableNone:e=>{const r=e.match(Nhe);return r?r.map(jhe).join(" "):e}},Che={...L3,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:Bk,WebkitFilter:Bk},r6=e=>Che[e];function DV(e,r){let t=r6(e);return t!==Bk&&(t=_u),t.getAnimatableNone?t.getAnimatableNone(r):void 0}const The=new Set(["auto","none","0"]);function Ehe(e,r,t){let s=0,n;for(;s<e.length&&!n;){const i=e[s];typeof i=="string"&&!The.has(i)&&Hm(i).values.length&&(n=e[s]),s++}if(n&&t)for(const i of r)e[i]=DV(t,n)}const cE=e=>e===ep||e===hr,uE=(e,r)=>parseFloat(e.split(", ")[r]),dE=(e,r)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const n=s.match(/^matrix3d\((.+)\)$/u);if(n)return uE(n[1],r);{const i=s.match(/^matrix\((.+)\)$/u);return i?uE(i[1],e):0}},Ahe=new Set(["x","y","z"]),Phe=Jh.filter(e=>!Ahe.has(e));function Ihe(e){const r=[];return Phe.forEach(t=>{const s=e.getValue(t);s!==void 0&&(r.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),r}const Ih={width:({x:e},{paddingLeft:r="0",paddingRight:t="0"})=>e.max-e.min-parseFloat(r)-parseFloat(t),height:({y:e},{paddingTop:r="0",paddingBottom:t="0"})=>e.max-e.min-parseFloat(r)-parseFloat(t),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:dE(4,13),y:dE(5,14)};Ih.translateX=Ih.x;Ih.translateY=Ih.y;const Nd=new Set;let Uk=!1,Vk=!1;function MV(){if(Vk){const e=Array.from(Nd).filter(s=>s.needsMeasurement),r=new Set(e.map(s=>s.element)),t=new Map;r.forEach(s=>{const n=Ihe(s);n.length&&(t.set(s,n),s.render())}),e.forEach(s=>s.measureInitialState()),r.forEach(s=>{s.render();const n=t.get(s);n&&n.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vk=!1,Uk=!1,Nd.forEach(e=>e.complete()),Nd.clear()}function RV(){Nd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vk=!0)})}function Dhe(){RV(),MV()}class n6{constructor(r,t,s,n,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=t,this.name=s,this.motionValue=n,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Nd.add(this),Uk||(Uk=!0,On.read(RV),On.resolveKeyframes(MV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:t,element:s,motionValue:n}=this;for(let i=0;i<r.length;i++)if(r[i]===null)if(i===0){const a=n?.get(),l=r[r.length-1];if(a!==void 0)r[0]=a;else if(s&&t){const u=s.readValue(t,l);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=l),n&&a===void 0&&n.set(r[0])}else r[i]=r[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Nd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Nd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $V=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Mhe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rhe(e){const r=Mhe.exec(e);if(!r)return[,];const[,t,s,n]=r;return[`--${t??s}`,n]}function OV(e,r,t=1){const[s,n]=Rhe(e);if(!s)return;const i=window.getComputedStyle(r).getPropertyValue(s);if(i){const a=i.trim();return $V(a)?parseFloat(a):a}return F3(n)?OV(n,r,t+1):n}const FV=e=>r=>r.test(e),$he={test:e=>e==="auto",parse:e=>e},LV=[ep,hr,ml,Lc,jfe,Sfe,$he],fE=e=>LV.find(FV(e));class zV extends n6{constructor(r,t,s,n,i){super(r,t,s,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let c=r[u];if(typeof c=="string"&&(c=c.trim(),F3(c))){const d=OV(c,t.current);d!==void 0&&(r[u]=d),u===r.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gV.has(s)||r.length!==2)return;const[n,i]=r,a=fE(n),l=fE(i);if(a!==l)if(cE(a)&&cE(l))for(let u=0;u<r.length;u++){const c=r[u];typeof c=="string"&&(r[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:t}=this,s=[];for(let n=0;n<r.length;n++)fhe(r[n])&&s.push(n);s.length&&Ehe(r,s,t)}measureInitialState(){const{element:r,unresolvedKeyframes:t,name:s}=this;if(!r||!r.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ih[s](r.measureViewportBox(),window.getComputedStyle(r.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];n!==void 0&&r.getValue(s,n).jump(n,!1)}measureEndState(){var r;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=Ih[s](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const hE=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_u.test(e)||e==="0")&&!e.startsWith("url("));function Ohe(e){const r=e[0];if(e.length===1)return!0;for(let t=0;t<e.length;t++)if(e[t]!==r)return!0}function Fhe(e,r,t,s){const n=e[0];if(n===null)return!1;if(r==="display"||r==="visibility")return!0;const i=e[e.length-1],a=hE(n,r),l=hE(i,r);return!a||!l?!1:Ohe(e)||(t==="spring"||H3(t))&&s}const Lhe=e=>e!==null;function Vx(e,{repeat:r,repeatType:t="loop"},s){const n=e.filter(Lhe),i=r&&t!=="loop"&&r%2===1?0:n.length-1;return!i||s===void 0?n[i]:s}const zhe=40;class BV{constructor({autoplay:r=!0,delay:t=0,type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gl.now(),this.options={autoplay:r,delay:t,type:s,repeat:n,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zhe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Dhe(),this._resolved}onKeyframesResolved(r,t){this.resolvedAt=gl.now(),this.hasAttemptedResolve=!0;const{name:s,type:n,velocity:i,delay:a,onComplete:l,onUpdate:u,isGenerator:c}=this.options;if(!c&&!Fhe(r,s,n,i))if(a)this.options.duration=0;else{u&&u(Vx(r,this.options,t)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(r,t);d!==!1&&(this._resolved={keyframes:r,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(r,t){return this.currentFinishedPromise.then(r,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const Jn=(e,r,t)=>e+(r-e)*t;function j2(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(r-e)*6*t:t<1/2?r:t<2/3?e+(r-e)*(2/3-t)*6:e}function Bhe({hue:e,saturation:r,lightness:t,alpha:s}){e/=360,r/=100,t/=100;let n=0,i=0,a=0;if(!r)n=i=a=t;else{const l=t<.5?t*(1+r):t+r-t*r,u=2*t-l;n=j2(u,l,e+1/3),i=j2(u,l,e),a=j2(u,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function Qb(e,r){return t=>t>0?r:e}const N2=(e,r,t)=>{const s=e*e,n=t*(r*r-s)+s;return n<0?0:Math.sqrt(n)},Uhe=[zk,od,Kf],Vhe=e=>Uhe.find(r=>r.test(e));function pE(e){const r=Vhe(e);if(!r)return!1;let t=r.parse(e);return r===Kf&&(t=Bhe(t)),t}const mE=(e,r)=>{const t=pE(e),s=pE(r);if(!t||!s)return Qb(e,r);const n={...t};return i=>(n.red=N2(t.red,s.red,i),n.green=N2(t.green,s.green,i),n.blue=N2(t.blue,s.blue,i),n.alpha=Jn(t.alpha,s.alpha,i),od.transform(n))},Whe=(e,r)=>t=>r(e(t)),Jg=(...e)=>e.reduce(Whe),Wk=new Set(["none","hidden"]);function qhe(e,r){return Wk.has(e)?t=>t<=0?e:r:t=>t>=1?r:e}function Hhe(e,r){return t=>Jn(e,r,t)}function s6(e){return typeof e=="number"?Hhe:typeof e=="string"?F3(e)?Qb:ki.test(e)?mE:Ghe:Array.isArray(e)?UV:typeof e=="object"?ki.test(e)?mE:Khe:Qb}function UV(e,r){const t=[...e],s=t.length,n=e.map((i,a)=>s6(i)(i,r[a]));return i=>{for(let a=0;a<s;a++)t[a]=n[a](i);return t}}function Khe(e,r){const t={...e,...r},s={};for(const n in t)e[n]!==void 0&&r[n]!==void 0&&(s[n]=s6(e[n])(e[n],r[n]));return n=>{for(const i in s)t[i]=s[i](n);return t}}function Zhe(e,r){var t;const s=[],n={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const a=r.types[i],l=e.indexes[a][n[a]],u=(t=e.values[l])!==null&&t!==void 0?t:0;s[i]=u,n[a]++}return s}const Ghe=(e,r)=>{const t=_u.createTransformer(r),s=Hm(e),n=Hm(r);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?Wk.has(e)&&!n.values.length||Wk.has(r)&&!s.values.length?qhe(e,r):Jg(UV(Zhe(s,n),n.values),t):Qb(e,r)};function VV(e,r,t){return typeof e=="number"&&typeof r=="number"&&typeof t=="number"?Jn(e,r,t):s6(e)(e,r)}const Xhe=5;function WV(e,r,t){const s=Math.max(r-Xhe,0);return yV(t-e(s),r-s)}const as={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C2=.001;function Qhe({duration:e=as.duration,bounce:r=as.bounce,velocity:t=as.velocity,mass:s=as.mass}){let n,i,a=1-r;a=dc(as.minDamping,as.maxDamping,a),e=dc(as.minDuration,as.maxDuration,Jl(e)),a<1?(n=c=>{const d=c*a,p=d*e,f=d-t,h=qk(c,a),g=Math.exp(-p);return C2-f/h*g},i=c=>{const p=c*a*e,f=p*t+t,h=Math.pow(a,2)*Math.pow(c,2)*e,g=Math.exp(-p),y=qk(Math.pow(c,2),a);return(-n(c)+C2>0?-1:1)*((f-h)*g)/y}):(n=c=>{const d=Math.exp(-c*e),p=(c-t)*e+1;return-C2+d*p},i=c=>{const d=Math.exp(-c*e),p=(t-c)*(e*e);return d*p});const l=5/e,u=Jhe(n,i,l);if(e=Yl(e),isNaN(u))return{stiffness:as.stiffness,damping:as.damping,duration:e};{const c=Math.pow(u,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:e}}}const Yhe=12;function Jhe(e,r,t){let s=t;for(let n=1;n<Yhe;n++)s=s-e(s)/r(s);return s}function qk(e,r){return e*Math.sqrt(1-r*r)}const epe=["duration","bounce"],tpe=["stiffness","damping","mass"];function gE(e,r){return r.some(t=>e[t]!==void 0)}function rpe(e){let r={velocity:as.velocity,stiffness:as.stiffness,damping:as.damping,mass:as.mass,isResolvedFromDuration:!1,...e};if(!gE(e,tpe)&&gE(e,epe))if(e.visualDuration){const t=e.visualDuration,s=2*Math.PI/(t*1.2),n=s*s,i=2*dc(.05,1,1-(e.bounce||0))*Math.sqrt(n);r={...r,mass:as.mass,stiffness:n,damping:i}}else{const t=Qhe(e);r={...r,...t,mass:as.mass},r.isResolvedFromDuration=!0}return r}function qV(e=as.visualDuration,r=as.bounce){const t=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:s,restDelta:n}=t;const i=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:c,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=rpe({...t,velocity:-Jl(t.velocity||0)}),g=f||0,y=c/(2*Math.sqrt(u*d)),m=a-i,v=Jl(Math.sqrt(u/d)),x=Math.abs(m)<5;s||(s=x?as.restSpeed.granular:as.restSpeed.default),n||(n=x?as.restDelta.granular:as.restDelta.default);let k;if(y<1){const A=qk(v,y);k=L=>{const q=Math.exp(-y*v*L);return a-q*((g+y*v*m)/A*Math.sin(A*L)+m*Math.cos(A*L))}}else if(y===1)k=A=>a-Math.exp(-v*A)*(m+(g+v*m)*A);else{const A=v*Math.sqrt(y*y-1);k=L=>{const q=Math.exp(-y*v*L),D=Math.min(A*L,300);return a-q*((g+y*v*m)*Math.sinh(D)+A*m*Math.cosh(D))/A}}const T={calculatedDuration:h&&p||null,next:A=>{const L=k(A);if(h)l.done=A>=p;else{let q=0;y<1&&(q=A===0?Yl(g):WV(k,A,L));const D=Math.abs(q)<=s,$=Math.abs(a-L)<=n;l.done=D&&$}return l.value=l.done?a:L,l},toString:()=>{const A=Math.min(cV(T),Ok),L=uV(q=>T.next(A*q).value,A,30);return A+"ms "+L}};return T}function yE({keyframes:e,velocity:r=0,power:t=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:d}){const p=e[0],f={done:!1,value:p},h=D=>l!==void 0&&D<l||u!==void 0&&D>u,g=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let y=t*r;const m=p+y,v=a===void 0?m:a(m);v!==m&&(y=v-p);const x=D=>-y*Math.exp(-D/s),k=D=>v+x(D),T=D=>{const $=x(D),z=k(D);f.done=Math.abs($)<=c,f.value=f.done?v:z};let A,L;const q=D=>{h(f.value)&&(A=D,L=qV({keyframes:[f.value,g(f.value)],velocity:WV(k,D,f.value),damping:n,stiffness:i,restDelta:c,restSpeed:d}))};return q(0),{calculatedDuration:null,next:D=>{let $=!1;return!L&&A===void 0&&($=!0,T(D),q(D)),A!==void 0&&D>=A?L.next(D-A):(!$&&T(D),f)}}}const npe=Yg(.42,0,1,1),spe=Yg(0,0,.58,1),HV=Yg(.42,0,.58,1),ipe=e=>Array.isArray(e)&&typeof e[0]!="number",ape={linear:Da,easeIn:npe,easeInOut:HV,easeOut:spe,circIn:J3,circInOut:NV,circOut:jV,backIn:Y3,backInOut:kV,backOut:_V,anticipate:SV},bE=e=>{if(K3(e)){VU(e.length===4);const[r,t,s,n]=e;return Yg(r,t,s,n)}else if(typeof e=="string")return ape[e];return e};function ope(e,r,t){const s=[],n=t||VV,i=e.length-1;for(let a=0;a<i;a++){let l=n(e[a],e[a+1]);if(r){const u=Array.isArray(r)?r[a]||Da:r;l=Jg(u,l)}s.push(l)}return s}function lpe(e,r,{clamp:t=!0,ease:s,mixer:n}={}){const i=e.length;if(VU(i===r.length),i===1)return()=>r[0];if(i===2&&r[0]===r[1])return()=>r[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),r=[...r].reverse());const l=ope(r,s,n),u=l.length,c=d=>{if(a&&d<e[0])return r[0];let p=0;if(u>1)for(;p<e.length-2&&!(d<e[p+1]);p++);const f=Ah(e[p],e[p+1],d);return l[p](f)};return t?d=>c(dc(e[0],e[i-1],d)):c}function cpe(e,r){const t=e[e.length-1];for(let s=1;s<=r;s++){const n=Ah(0,r,s);e.push(Jn(t,1,n))}}function upe(e){const r=[0];return cpe(r,e.length-1),r}function dpe(e,r){return e.map(t=>t*r)}function fpe(e,r){return e.map(()=>r||HV).splice(0,e.length-1)}function Yb({duration:e=300,keyframes:r,times:t,ease:s="easeInOut"}){const n=ipe(s)?s.map(bE):bE(s),i={done:!1,value:r[0]},a=dpe(t&&t.length===r.length?t:upe(r),e),l=lpe(a,r,{ease:Array.isArray(n)?n:fpe(r,n)});return{calculatedDuration:e,next:u=>(i.value=l(u),i.done=u>=e,i)}}const hpe=e=>{const r=({timestamp:t})=>e(t);return{start:()=>On.update(r,!0),stop:()=>wu(r),now:()=>ui.isProcessing?ui.timestamp:gl.now()}},ppe={decay:yE,inertia:yE,tween:Yb,keyframes:Yb,spring:qV},mpe=e=>e/100;class i6 extends BV{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:t,motionValue:s,element:n,keyframes:i}=this.options,a=n?.KeyframeResolver||n6,l=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new a(i,l,t,s,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:t="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:i,velocity:a=0}=this.options,l=H3(t)?t:ppe[t]||Yb;let u,c;l!==Yb&&typeof r[0]!="number"&&(u=Jg(mpe,VV(r[0],r[1])),r=[0,100]);const d=l({...this.options,keyframes:r});i==="mirror"&&(c=l({...this.options,keyframes:[...r].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=cV(d));const{calculatedDuration:p}=d,f=p+n,h=f*(s+1)-n;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,t=!1){const{resolved:s}=this;if(!s){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:n,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:c,totalDuration:d,resolvedDuration:p}=s;if(this.startTime===null)return i.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-d/this.speed,this.startTime)),t?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let k=this.currentTime,T=i;if(h){const D=Math.min(this.currentTime,d)/p;let $=Math.floor(D),z=D%1;!z&&D>=1&&(z=1),z===1&&$--,$=Math.min($,h+1),!!($%2)&&(g==="reverse"?(z=1-z,y&&(z-=y/p)):g==="mirror"&&(T=a)),k=dc(0,1,z)*p}const A=x?{done:!1,value:u[0]}:T.next(k);l&&(A.value=l(A.value));let{done:L}=A;!x&&c!==null&&(L=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return q&&n!==void 0&&(A.value=Vx(u,this.options,n)),m&&m(A.value),q&&this.finish(),A}get duration(){const{resolved:r}=this;return r?Jl(r.calculatedDuration):0}get time(){return Jl(this.currentTime)}set time(r){r=Yl(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const t=this.playbackSpeed!==r;this.playbackSpeed=r,t&&(this.time=Jl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=hpe,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=r(i=>this.tick(i))),t&&t();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}const gpe=new Set(["opacity","clipPath","filter","transform"]);function ype(e,r,t,{delay:s=0,duration:n=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:u}={}){const c={[r]:t};u&&(c.offset=u);const d=fV(l,n);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:s,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const bpe=P3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jb=10,vpe=2e4;function xpe(e){return H3(e.type)||e.type==="spring"||!dV(e.ease)}function wpe(e,r){const t=new i6({...r,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const n=[];let i=0;for(;!s.done&&i<vpe;)s=t.sample(i),n.push(s.value),i+=Jb;return{times:void 0,keyframes:n,duration:i-Jb,ease:"linear"}}const KV={anticipate:SV,backInOut:kV,circInOut:NV};function _pe(e){return e in KV}class vE extends BV{constructor(r){super(r);const{name:t,motionValue:s,element:n,keyframes:i}=this.options;this.resolver=new zV(i,(a,l)=>this.onKeyframesResolved(a,l),t,s,n),this.resolver.scheduleResolve()}initPlayback(r,t){let{duration:s=300,times:n,ease:i,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Xb()&&_pe(i)&&(i=KV[i]),xpe(this.options)){const{onComplete:p,onUpdate:f,motionValue:h,element:g,...y}=this.options,m=wpe(r,y);r=m.keyframes,r.length===1&&(r[1]=r[0]),s=m.duration,n=m.times,i=m.ease,a="keyframes"}const d=ype(l.owner.current,u,r,{...this.options,duration:s,times:n,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(nE(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Vx(r,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:n,type:a,ease:i,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:t}=r;return Jl(t)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:t}=r;return Jl(t.currentTime||0)}set time(r){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=Yl(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:t}=r;return t.playbackRate}set speed(r){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:t}=r;return t.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:t}=r;return t.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:t}=this;if(!t)return Da;const{animation:s}=t;nE(s,r)}return Da}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:t}=r;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:t}=r;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:t,keyframes:s,duration:n,type:i,ease:a,times:l}=r;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:p,element:f,...h}=this.options,g=new i6({...h,keyframes:s,duration:n,type:i,ease:a,times:l,isGenerator:!0}),y=Yl(this.time);c.setWithVelocity(g.sample(y-Jb).value,g.sample(y).value,Jb)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:a,type:l}=r;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return bpe()&&s&&gpe.has(s)&&!u&&!c&&!n&&i!=="mirror"&&a!==0&&l!=="inertia"}}const kpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Spe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jpe={type:"keyframes",duration:.8},Npe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cpe=(e,{keyframes:r})=>r.length>2?jpe:tf.has(e)?e.startsWith("scale")?Spe(r[1]):kpe:Npe;function Tpe({when:e,delay:r,delayChildren:t,staggerChildren:s,staggerDirection:n,repeat:i,repeatType:a,repeatDelay:l,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const a6=(e,r,t,s={},n,i)=>a=>{const l=q3(s,e)||{},u=l.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Yl(u);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:r.getVelocity(),...l,delay:-c,onUpdate:f=>{r.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:r,element:i?void 0:n};Tpe(l)||(d={...d,...Cpe(e,d)}),d.duration&&(d.duration=Yl(d.duration)),d.repeatDelay&&(d.repeatDelay=Yl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&r.get()!==void 0){const f=Vx(d.keyframes,l);if(f!==void 0)return On.update(()=>{d.onUpdate(f),d.onComplete()}),new Kfe([])}return!i&&vE.supports(d)?new vE(d):new i6(d)};function Epe({protectedKeys:e,needsAnimating:r},t){const s=e.hasOwnProperty(t)&&r[t]!==!0;return r[t]=!1,s}function ZV(e,r,{delay:t=0,transitionOverride:s,type:n}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...u}=r;s&&(a=s);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const p in u){const f=e.getValue(p,(i=e.latestValues[p])!==null&&i!==void 0?i:null),h=u[p];if(h===void 0||d&&Epe(d,p))continue;const g={delay:t,...q3(a||{},p)};let y=!1;if(window.MotionHandoffAnimation){const v=bV(e);if(v){const x=window.MotionHandoffAnimation(v,p,On);x!==null&&(g.startTime=x,y=!0)}}Lk(e,p),f.start(a6(p,f,h,e.shouldReduceMotion&&gV.has(p)?{type:!1}:g,e,y));const m=f.animation;m&&c.push(m)}return l&&Promise.all(c).then(()=>{On.update(()=>{l&&ohe(e,l)})}),c}function Hk(e,r,t={}){var s;const n=Ux(e,r,t.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const a=n?()=>Promise.all(ZV(e,n,t)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=i;return Ape(e,r,d+c,p,f,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,d]=u==="beforeChildren"?[a,l]:[l,a];return c().then(()=>d())}else return Promise.all([a(),l(t.delay)])}function Ape(e,r,t=0,s=0,n=1,i){const a=[],l=(e.variantChildren.size-1)*s,u=n===1?(c=0)=>c*s:(c=0)=>l-c*s;return Array.from(e.variantChildren).sort(Ppe).forEach((c,d)=>{c.notify("AnimationStart",r),a.push(Hk(c,r,{...i,delay:t+u(d)}).then(()=>c.notify("AnimationComplete",r)))}),Promise.all(a)}function Ppe(e,r){return e.sortNodePosition(r)}function Ipe(e,r,t={}){e.notify("AnimationStart",r);let s;if(Array.isArray(r)){const n=r.map(i=>Hk(e,i,t));s=Promise.all(n)}else if(typeof r=="string")s=Hk(e,r,t);else{const n=typeof r=="function"?Ux(e,r,t.custom):r;s=Promise.all(ZV(e,n,t))}return s.then(()=>{e.notify("AnimationComplete",r)})}const Dpe=D3.length;function GV(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent?GV(e.parent)||{}:{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}const r={};for(let t=0;t<Dpe;t++){const s=D3[t],n=e.props[s];(Vm(n)||n===!1)&&(r[s]=n)}return r}const Mpe=[...I3].reverse(),Rpe=I3.length;function $pe(e){return r=>Promise.all(r.map(({animation:t,options:s})=>Ipe(e,t,s)))}function Ope(e){let r=$pe(e),t=xE(),s=!0;const n=u=>(c,d)=>{var p;const f=Ux(e,d,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(f){const{transition:h,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function i(u){r=u(e)}function a(u){const{props:c}=e,d=GV(e.parent)||{},p=[],f=new Set;let h={},g=1/0;for(let m=0;m<Rpe;m++){const v=Mpe[m],x=t[v],k=c[v]!==void 0?c[v]:d[v],T=Vm(k),A=v===u?x.isActive:null;A===!1&&(g=m);let L=k===d[v]&&k!==c[v]&&T;if(L&&s&&e.manuallyAnimateOnMount&&(L=!1),x.protectedKeys={...h},!x.isActive&&A===null||!k&&!x.prevProp||zx(k)||typeof k=="boolean")continue;const q=Fpe(x.prevProp,k);let D=q||v===u&&x.isActive&&!L&&T||m>g&&T,$=!1;const z=Array.isArray(k)?k:[k];let K=z.reduce(n(v),{});A===!1&&(K={});const{prevResolvedValues:W={}}=x,P={...W,...K},R=S=>{D=!0,f.has(S)&&($=!0,f.delete(S)),x.needsAnimating[S]=!0;const j=e.getValue(S);j&&(j.liveStyle=!1)};for(const S in P){const j=K[S],N=W[S];if(h.hasOwnProperty(S))continue;let M=!1;$k(j)&&$k(N)?M=!lV(j,N):M=j!==N,M?j!=null?R(S):f.add(S):j!==void 0&&f.has(S)?R(S):x.protectedKeys[S]=!0}x.prevProp=k,x.prevResolvedValues=K,x.isActive&&(h={...h,...K}),s&&e.blockInitialAnimation&&(D=!1),D&&(!(L&&q)||$)&&p.push(...z.map(S=>({animation:S,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const x=e.getBaseTarget(v),k=e.getValue(v);k&&(k.liveStyle=!0),m[v]=x??null}),p.push({animation:m})}let y=!!p.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?r(p):Promise.resolve()}function l(u,c){var d;if(t[u].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(u,c)}),t[u].isActive=c;const p=a(u);for(const f in t)t[f].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>t,reset:()=>{t=xE(),s=!0}}}function Fpe(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!lV(r,e):!1}function Yu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xE(){return{animate:Yu(!0),whileInView:Yu(),whileHover:Yu(),whileTap:Yu(),whileDrag:Yu(),whileFocus:Yu(),exit:Yu()}}class Pu{constructor(r){this.isMounted=!1,this.node=r}update(){}}class Lpe extends Pu{constructor(r){super(r),r.animationState||(r.animationState=Ope(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();zx(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:t}=this.node.prevProps||{};r!==t&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let zpe=0;class Bpe extends Pu{constructor(){super(...arguments),this.id=zpe++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===s)return;const n=this.node.animationState.setActive("exit",!r);t&&!r&&n.then(()=>t(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const Upe={animation:{Feature:Lpe},exit:{Feature:Bpe}};function Km(e,r,t,s={passive:!0}){return e.addEventListener(r,t,s),()=>e.removeEventListener(r,t)}function e0(e){return{point:{x:e.pageX,y:e.pageY}}}const Vpe=e=>r=>Z3(r)&&e(r,e0(r));function bm(e,r,t,s){return Km(e,r,Vpe(t),s)}const wE=(e,r)=>Math.abs(e-r);function Wpe(e,r){const t=wE(e.x,r.x),s=wE(e.y,r.y);return Math.sqrt(t**2+s**2)}class XV{constructor(r,t,{transformPagePoint:s,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=E2(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Wpe(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=p,{timestamp:y}=ui;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=T2(f,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=E2(p.type==="pointercancel"?this.lastMoveEventInfo:T2(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,m),g&&g(p,m)},!Z3(r))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=s,this.contextWindow=n||window;const a=e0(r),l=T2(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=ui;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=t;d&&d(r,E2(l,this.history)),this.removeListeners=Jg(bm(this.contextWindow,"pointermove",this.handlePointerMove),bm(this.contextWindow,"pointerup",this.handlePointerUp),bm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),wu(this.updatePoint)}}function T2(e,r){return r?{point:r(e.point)}:e}function _E(e,r){return{x:e.x-r.x,y:e.y-r.y}}function E2({point:e},r){return{point:e,delta:_E(e,QV(r)),offset:_E(e,qpe(r)),velocity:Hpe(r,.1)}}function qpe(e){return e[0]}function QV(e){return e[e.length-1]}function Hpe(e,r){if(e.length<2)return{x:0,y:0};let t=e.length-1,s=null;const n=QV(e);for(;t>=0&&(s=e[t],!(n.timestamp-s.timestamp>Yl(r)));)t--;if(!s)return{x:0,y:0};const i=Jl(n.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(n.x-s.x)/i,y:(n.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const YV=1e-4,Kpe=1-YV,Zpe=1+YV,JV=.01,Gpe=0-JV,Xpe=0+JV;function Ma(e){return e.max-e.min}function Qpe(e,r,t){return Math.abs(e-r)<=t}function kE(e,r,t,s=.5){e.origin=s,e.originPoint=Jn(r.min,r.max,e.origin),e.scale=Ma(t)/Ma(r),e.translate=Jn(t.min,t.max,e.origin)-e.originPoint,(e.scale>=Kpe&&e.scale<=Zpe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gpe&&e.translate<=Xpe||isNaN(e.translate))&&(e.translate=0)}function vm(e,r,t,s){kE(e.x,r.x,t.x,s?s.originX:void 0),kE(e.y,r.y,t.y,s?s.originY:void 0)}function SE(e,r,t){e.min=t.min+r.min,e.max=e.min+Ma(r)}function Ype(e,r,t){SE(e.x,r.x,t.x),SE(e.y,r.y,t.y)}function jE(e,r,t){e.min=r.min-t.min,e.max=e.min+Ma(r)}function xm(e,r,t){jE(e.x,r.x,t.x),jE(e.y,r.y,t.y)}function Jpe(e,{min:r,max:t},s){return r!==void 0&&e<r?e=s?Jn(r,e,s.min):Math.max(e,r):t!==void 0&&e>t&&(e=s?Jn(t,e,s.max):Math.min(e,t)),e}function NE(e,r,t){return{min:r!==void 0?e.min+r:void 0,max:t!==void 0?e.max+t-(e.max-e.min):void 0}}function eme(e,{top:r,left:t,bottom:s,right:n}){return{x:NE(e.x,t,n),y:NE(e.y,r,s)}}function CE(e,r){let t=r.min-e.min,s=r.max-e.max;return r.max-r.min<e.max-e.min&&([t,s]=[s,t]),{min:t,max:s}}function tme(e,r){return{x:CE(e.x,r.x),y:CE(e.y,r.y)}}function rme(e,r){let t=.5;const s=Ma(e),n=Ma(r);return n>s?t=Ah(r.min,r.max-s,e.min):s>n&&(t=Ah(e.min,e.max-n,r.min)),dc(0,1,t)}function nme(e,r){const t={};return r.min!==void 0&&(t.min=r.min-e.min),r.max!==void 0&&(t.max=r.max-e.min),t}const Kk=.35;function sme(e=Kk){return e===!1?e=0:e===!0&&(e=Kk),{x:TE(e,"left","right"),y:TE(e,"top","bottom")}}function TE(e,r,t){return{min:EE(e,r),max:EE(e,t)}}function EE(e,r){return typeof e=="number"?e:e[r]||0}const AE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zf=()=>({x:AE(),y:AE()}),PE=()=>({min:0,max:0}),cs=()=>({x:PE(),y:PE()});function Za(e){return[e("x"),e("y")]}function eW({top:e,left:r,right:t,bottom:s}){return{x:{min:r,max:t},y:{min:e,max:s}}}function ime({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function ame(e,r){if(!r)return e;const t=r({x:e.left,y:e.top}),s=r({x:e.right,y:e.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function A2(e){return e===void 0||e===1}function Zk({scale:e,scaleX:r,scaleY:t}){return!A2(e)||!A2(r)||!A2(t)}function Ju(e){return Zk(e)||tW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tW(e){return IE(e.x)||IE(e.y)}function IE(e){return e&&e!=="0%"}function ev(e,r,t){const s=e-t,n=r*s;return t+n}function DE(e,r,t,s,n){return n!==void 0&&(e=ev(e,n,s)),ev(e,t,s)+r}function Gk(e,r=0,t=1,s,n){e.min=DE(e.min,r,t,s,n),e.max=DE(e.max,r,t,s,n)}function rW(e,{x:r,y:t}){Gk(e.x,r.translate,r.scale,r.originPoint),Gk(e.y,t.translate,t.scale,t.originPoint)}const ME=.999999999999,RE=1.0000000000001;function ome(e,r,t,s=!1){const n=t.length;if(!n)return;r.x=r.y=1;let i,a;for(let l=0;l<n;l++){i=t[l],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(r.x*=a.x.scale,r.y*=a.y.scale,rW(e,a)),s&&Ju(i.latestValues)&&Xf(e,i.latestValues))}r.x<RE&&r.x>ME&&(r.x=1),r.y<RE&&r.y>ME&&(r.y=1)}function Gf(e,r){e.min=e.min+r,e.max=e.max+r}function $E(e,r,t,s,n=.5){const i=Jn(e.min,e.max,n);Gk(e,r,t,i,s)}function Xf(e,r){$E(e.x,r.x,r.scaleX,r.scale,r.originX),$E(e.y,r.y,r.scaleY,r.scale,r.originY)}function nW(e,r){return eW(ame(e.getBoundingClientRect(),r))}function lme(e,r,t){const s=nW(e,t),{scroll:n}=r;return n&&(Gf(s.x,n.offset.x),Gf(s.y,n.offset.y)),s}const sW=({current:e})=>e?e.ownerDocument.defaultView:null,cme=new WeakMap;class ume{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cs(),this.visualElement=r}start(r,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const n=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(e0(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rhe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Za(m=>{let v=this.getAxisMotionValue(m).get()||0;if(ml.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const k=x.layout.layoutBox[m];k&&(v=Ma(k)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&On.postRender(()=>g(d,p)),Lk(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=p;if(h&&this.currentDirection===null){this.currentDirection=dme(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,m),this.updateAxis("y",p.point,m),this.visualElement.render(),y&&y(d,p)},l=(d,p)=>this.stop(d,p),u=()=>Za(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XV(r,{onSessionStart:n,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sW(this.visualElement)})}stop(r,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&On.postRender(()=>i(r,t))}cancel(){this.isDragging=!1;const{projection:r,animationState:t}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(r,t,s){const{drag:n}=this.getProps();if(!s||!$y(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let a=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(a=Jpe(a,this.constraints[r],this.elastic[r])),i.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;t&&Hf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=eme(n.layoutBox,t):this.constraints=!1,this.elastic=sme(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Za(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=nme(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:t}=this.getProps();if(!r||!Hf(r))return!1;const s=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=lme(s,n.root,this.visualElement.getTransformPagePoint());let a=tme(n.layout.layoutBox,i);if(t){const l=t(ime(a));this.hasMutatedConstraints=!!l,l&&(a=eW(l))}return a}startAnimation(r){const{drag:t,dragMomentum:s,dragElastic:n,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=Za(d=>{if(!$y(d,t,this.currentDirection))return;let p=u&&u[d]||{};a&&(p={min:0,max:0});const f=n?200:1e6,h=n?40:1e7,g={type:"inertia",velocity:s?r[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(l)}startAxisValueAnimation(r,t){const s=this.getAxisMotionValue(r);return Lk(this.visualElement,r),s.start(a6(r,s,0,t,this.visualElement,!1))}stopAnimation(){Za(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Za(r=>{var t;return(t=this.getAxisMotionValue(r).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(r){var t;return(t=this.getAxisMotionValue(r).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(r){const t=`_drag${r.toUpperCase()}`,s=this.visualElement.getProps(),n=s[t];return n||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){Za(t=>{const{drag:s}=this.getProps();if(!$y(t,s,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){const{min:a,max:l}=n.layout.layoutBox[t];i.set(r[t]-Jn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Hf(t)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Za(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();n[a]=rme({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Za(a=>{if(!$y(a,r,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(Jn(u,c,n[a]))})}addListeners(){if(!this.visualElement.current)return;cme.set(this.visualElement,this);const r=this.visualElement.current,t=bm(r,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Hf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),On.read(s);const a=Km(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Za(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),l&&l()}}getProps(){const r=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:a=Kk,dragMomentum:l=!0}=r;return{...r,drag:t,dragDirectionLock:s,dragPropagation:n,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function $y(e,r,t){return(r===!0||r===e)&&(t===null||t===e)}function dme(e,r=10){let t=null;return Math.abs(e.y)>r?t="y":Math.abs(e.x)>r&&(t="x"),t}class fme extends Pu{constructor(r){super(r),this.removeGroupControls=Da,this.removeListeners=Da,this.controls=new ume(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Da}unmount(){this.removeGroupControls(),this.removeListeners()}}const OE=e=>(r,t)=>{e&&On.postRender(()=>e(r,t))};class hme extends Pu{constructor(){super(...arguments),this.removePointerDownListener=Da}onPointerDown(r){this.session=new XV(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sW(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:t,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:OE(r),onStart:OE(t),onMove:s,onEnd:(i,a)=>{delete this.session,n&&On.postRender(()=>n(i,a))}}}mount(){this.removePointerDownListener=bm(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FE(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const Zp={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(hr.test(e))e=parseFloat(e);else return e;const t=FE(e,r.target.x),s=FE(e,r.target.y);return`${t}% ${s}%`}},pme={correct:(e,{treeScale:r,projectionDelta:t})=>{const s=e,n=_u.parse(e);if(n.length>5)return s;const i=_u.createTransformer(e),a=typeof n[0]!="number"?1:0,l=t.x.scale*r.x,u=t.y.scale*r.y;n[0+a]/=l,n[1+a]/=u;const c=Jn(l,u,.5);return typeof n[2+a]=="number"&&(n[2+a]/=c),typeof n[3+a]=="number"&&(n[3+a]/=c),i(n)}};class mme extends E.Component{componentDidMount(){const{visualElement:r,layoutGroup:t,switchLayoutGroup:s,layoutId:n}=this.props,{projection:i}=r;Rfe(gme),i&&(t.group&&t.group.add(i),s&&s.register&&n&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cb.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:t,visualElement:s,drag:n,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,n||r.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?a.promote():a.relegate()||On.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),R3.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:n}=r;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function iW(e){const[r,t]=BU(),s=E.useContext(C3);return o.jsx(mme,{...e,layoutGroup:s,switchLayoutGroup:E.useContext(GU),isPresent:r,safeToRemove:t})}const gme={borderRadius:{...Zp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zp,borderTopRightRadius:Zp,borderBottomLeftRadius:Zp,borderBottomRightRadius:Zp,boxShadow:pme};function yme(e,r,t){const s=Ci(e)?e:qm(e);return s.start(a6("",s,r,t)),s.animation}function bme(e){return e instanceof SVGElement&&e.tagName!=="svg"}const vme=(e,r)=>e.depth-r.depth;class xme{constructor(){this.children=[],this.isDirty=!1}add(r){G3(this.children,r),this.isDirty=!0}remove(r){X3(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(vme),this.isDirty=!1,this.children.forEach(r)}}function wme(e,r){const t=gl.now(),s=({timestamp:n})=>{const i=n-t;i>=r&&(wu(s),e(i-r))};return On.read(s,!0),()=>wu(s)}const aW=["TopLeft","TopRight","BottomLeft","BottomRight"],_me=aW.length,LE=e=>typeof e=="string"?parseFloat(e):e,zE=e=>typeof e=="number"||hr.test(e);function kme(e,r,t,s,n,i){n?(e.opacity=Jn(0,t.opacity!==void 0?t.opacity:1,Sme(s)),e.opacityExit=Jn(r.opacity!==void 0?r.opacity:1,0,jme(s))):i&&(e.opacity=Jn(r.opacity!==void 0?r.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let a=0;a<_me;a++){const l=`border${aW[a]}Radius`;let u=BE(r,l),c=BE(t,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||zE(u)===zE(c)?(e[l]=Math.max(Jn(LE(u),LE(c),s),0),(ml.test(c)||ml.test(u))&&(e[l]+="%")):e[l]=c}(r.rotate||t.rotate)&&(e.rotate=Jn(r.rotate||0,t.rotate||0,s))}function BE(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const Sme=oW(0,.5,jV),jme=oW(.5,.95,Da);function oW(e,r,t){return s=>s<e?0:s>r?1:t(Ah(e,r,s))}function UE(e,r){e.min=r.min,e.max=r.max}function Ka(e,r){UE(e.x,r.x),UE(e.y,r.y)}function VE(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function WE(e,r,t,s,n){return e-=r,e=ev(e,1/t,s),n!==void 0&&(e=ev(e,1/n,s)),e}function Nme(e,r=0,t=1,s=.5,n,i=e,a=e){if(ml.test(r)&&(r=parseFloat(r),r=Jn(a.min,a.max,r/100)-a.min),typeof r!="number")return;let l=Jn(i.min,i.max,s);e===i&&(l-=r),e.min=WE(e.min,r,t,l,n),e.max=WE(e.max,r,t,l,n)}function qE(e,r,[t,s,n],i,a){Nme(e,r[t],r[s],r[n],r.scale,i,a)}const Cme=["x","scaleX","originX"],Tme=["y","scaleY","originY"];function HE(e,r,t,s){qE(e.x,r,Cme,t?t.x:void 0,s?s.x:void 0),qE(e.y,r,Tme,t?t.y:void 0,s?s.y:void 0)}function KE(e){return e.translate===0&&e.scale===1}function lW(e){return KE(e.x)&&KE(e.y)}function ZE(e,r){return e.min===r.min&&e.max===r.max}function Eme(e,r){return ZE(e.x,r.x)&&ZE(e.y,r.y)}function GE(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function cW(e,r){return GE(e.x,r.x)&&GE(e.y,r.y)}function XE(e){return Ma(e.x)/Ma(e.y)}function QE(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class Ame{constructor(){this.members=[]}add(r){G3(this.members,r),r.scheduleRender()}remove(r){if(X3(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(r){const t=this.members.findIndex(n=>r===n);if(t===0)return!1;let s;for(let n=t;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(r,t){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,t&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:t,resumingFrom:s}=r;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Pme(e,r,t){let s="";const n=e.x.translate/r.x,i=e.y.translate/r.y,a=t?.z||0;if((n||i||a)&&(s=`translate3d(${n}px, ${i}px, ${a}px) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:g}=t;c&&(s=`perspective(${c}px) ${s}`),d&&(s+=`rotate(${d}deg) `),p&&(s+=`rotateX(${p}deg) `),f&&(s+=`rotateY(${f}deg) `),h&&(s+=`skewX(${h}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=e.x.scale*r.x,u=e.y.scale*r.y;return(l!==1||u!==1)&&(s+=`scale(${l}, ${u})`),s||"none"}const ed={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},im=typeof window<"u"&&window.MotionDebug!==void 0,P2=["","X","Y","Z"],Ime={visibility:"hidden"},YE=1e3;let Dme=0;function I2(e,r,t,s){const{latestValues:n}=r;n[e]&&(t[e]=n[e],r.setStaticValue(e,0),s&&(s[e]=0))}function uW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const t=bV(r);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(t,"transform",On,!(n||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uW(s)}function dW({attachResizeListener:e,defaultParent:r,measureScroll:t,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(a={},l=r?.()){this.id=Dme++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,im&&(ed.totalNodes=ed.resolvedTargetDeltas=ed.recalculatedProjection=0),this.nodes.forEach($me),this.nodes.forEach(Bme),this.nodes.forEach(Ume),this.nodes.forEach(Ome),im&&window.MotionDebug.record(ed)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new xme)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Q3),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bme(a),this.instance=a;const{layoutId:u,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||u)&&(this.isLayoutDirty=!0),e){let p;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=wme(f,250),cb.hasAnimatedSinceResize&&(cb.hasAnimatedSinceResize=!1,this.nodes.forEach(eA))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Kme,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!cW(this.targetLayout,g)||h,k=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const T={...q3(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||eA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vme),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JE);return}this.isUpdating||this.nodes.forEach(Lme),this.isUpdating=!1,this.nodes.forEach(zme),this.nodes.forEach(Mme),this.nodes.forEach(Rme),this.clearAllSnapshots();const l=gl.now();ui.delta=dc(0,1e3/60,l-ui.timestamp),ui.timestamp=l,ui.isProcessing=!0,_2.update.process(ui),_2.preRender.process(ui),_2.render.process(ui),ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fme),this.sharedNodes.forEach(Wme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!n)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!lW(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(l||Ju(this.latestValues)||d)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),Zme(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return cs();const u=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Gme))){const{scroll:d}=this.root;d&&(Gf(u.x,d.offset.x),Gf(u.y,d.offset.y))}return u}removeElementScroll(a){var l;const u=cs();if(Ka(u,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Ka(u,a),Gf(u.x,p.offset.x),Gf(u.y,p.offset.y))}return u}applyTransform(a,l=!1){const u=cs();Ka(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ju(d.latestValues)&&Xf(u,d.latestValues)}return Ju(this.latestValues)&&Xf(u,this.latestValues),u}removeTransform(a){const l=cs();Ka(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ju(c.latestValues))continue;Zk(c.latestValues)&&c.updateSnapshot();const d=cs(),p=c.measurePageBox();Ka(d,p),HE(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ju(this.latestValues)&&HE(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!(!this.layout||!(p||f))){if(this.resolvedRelativeTargetAt=ui.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cs(),this.relativeTargetOrigin=cs(),xm(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=cs(),this.targetWithTransforms=cs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ype(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ka(this.target,this.layout.layoutBox),rW(this.target,this.targetDelta)):Ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cs(),this.relativeTargetOrigin=cs(),xm(this.relativeTargetOrigin,this.target,h.target),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}im&&ed.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zk(this.parent.latestValues)||tW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ui.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Ka(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;ome(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=cs());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VE(this.prevProjectionDelta.x,this.projectionDelta.x),VE(this.prevProjectionDelta.y,this.projectionDelta.y)),vm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),im&&ed.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zf(),this.projectionDelta=Zf(),this.projectionDeltaWithTransform=Zf()}setAnimationOrigin(a,l=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},p=Zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=cs(),h=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,m=this.getStack(),v=!m||m.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Hme));this.animationProgress=0;let k;this.mixTargetDelta=T=>{const A=T/1e3;tA(p.x,a.x,A),tA(p.y,a.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qme(this.relativeTarget,this.relativeTargetOrigin,f,A),k&&Eme(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=cs()),Ka(k,this.relativeTarget)),y&&(this.animationValues=d,kme(d,c,this.latestValues,A,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{cb.hasAnimatedSinceResize=!0,this.currentAnimation=yme(0,YE,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:d}=a;if(!(!l||!u||!c)){if(this!==a&&this.layout&&c&&fW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||cs();const p=Ma(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const f=Ma(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+f}Ka(l,u),Xf(l,d),vm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ame),this.sharedNodes.get(a).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const c={};u.z&&I2("z",a,c,this.animationValues);for(let d=0;d<P2.length;d++)I2(`rotate${P2[d]}`,a,c,this.animationValues),I2(`skew${P2[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ime;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ob(a?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ob(a?.pointerEvents)||""),this.hasProjected&&!Ju(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=Pme(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,p.animationValues?c.opacity=p===this?(u=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Gb){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=Gb[y],x=c.transform==="none"?f[y]:m(f[y],p);if(v){const k=v.length;for(let T=0;T<k;T++)c[v[T]]=x}else c[y]=x}return this.options.layoutId&&(c.pointerEvents=p===this?ob(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(JE),this.root.sharedNodes.clear()}}}function Mme(e){e.updateLayout()}function Rme(e){var r;const t=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Za(p=>{const f=a?t.measuredBox[p]:t.layoutBox[p],h=Ma(f);f.min=s[p].min,f.max=f.min+h}):fW(i,t.layoutBox,s)&&Za(p=>{const f=a?t.measuredBox[p]:t.layoutBox[p],h=Ma(s[p]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+h)});const l=Zf();vm(l,s,t.layoutBox);const u=Zf();a?vm(u,e.applyTransform(n,!0),t.measuredBox):vm(u,s,t.layoutBox);const c=!lW(l);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const g=cs();xm(g,t.layoutBox,f.layoutBox);const y=cs();xm(y,s,h.layoutBox),cW(g,y)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function $me(e){im&&ed.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ome(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Fme(e){e.clearSnapshot()}function JE(e){e.clearMeasurements()}function Lme(e){e.isLayoutDirty=!1}function zme(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function eA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Bme(e){e.resolveTargetDelta()}function Ume(e){e.calcProjection()}function Vme(e){e.resetSkewAndRotation()}function Wme(e){e.removeLeadSnapshot()}function tA(e,r,t){e.translate=Jn(r.translate,0,t),e.scale=Jn(r.scale,1,t),e.origin=r.origin,e.originPoint=r.originPoint}function rA(e,r,t,s){e.min=Jn(r.min,t.min,s),e.max=Jn(r.max,t.max,s)}function qme(e,r,t,s){rA(e.x,r.x,t.x,s),rA(e.y,r.y,t.y,s)}function Hme(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Kme={duration:.45,ease:[.4,0,.1,1]},nA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sA=nA("applewebkit/")&&!nA("chrome/")?Math.round:Da;function iA(e){e.min=sA(e.min),e.max=sA(e.max)}function Zme(e){iA(e.x),iA(e.y)}function fW(e,r,t){return e==="position"||e==="preserve-aspect"&&!Qpe(XE(r),XE(t),.2)}function Gme(e){var r;return e!==e.root&&((r=e.scroll)===null||r===void 0?void 0:r.wasRoot)}const Xme=dW({attachResizeListener:(e,r)=>Km(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D2={current:void 0},hW=dW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!D2.current){const e=new Xme({});e.mount(window),e.setOptions({layoutScroll:!0}),D2.current=e}return D2.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qme={pan:{Feature:hme},drag:{Feature:fme,ProjectionNode:hW,MeasureLayout:iW}};function aA(e,r,t){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t==="Start");const n="onHover"+t,i=s[n];i&&On.postRender(()=>i(r,e0(r)))}class Yme extends Pu{mount(){const{current:r}=this.node;r&&(this.unmount=Qfe(r,t=>(aA(this.node,t,"Start"),s=>aA(this.node,s,"End"))))}unmount(){}}class Jme extends Pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jg(Km(this.node.current,"focus",()=>this.onFocus()),Km(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oA(e,r,t){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",t==="Start");const n="onTap"+(t==="End"?"":t),i=s[n];i&&On.postRender(()=>i(r,e0(r)))}class ege extends Pu{mount(){const{current:r}=this.node;r&&(this.unmount=the(r,t=>(oA(this.node,t,"Start"),(s,{success:n})=>oA(this.node,s,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xk=new WeakMap,M2=new WeakMap,tge=e=>{const r=Xk.get(e.target);r&&r(e)},rge=e=>{e.forEach(tge)};function nge({root:e,...r}){const t=e||document;M2.has(t)||M2.set(t,{});const s=M2.get(t),n=JSON.stringify(r);return s[n]||(s[n]=new IntersectionObserver(rge,{root:e,...r})),s[n]}function sge(e,r,t){const s=nge(r);return Xk.set(e,t),s.observe(e),()=>{Xk.delete(e),s.unobserve(e)}}const ige={some:0,all:1};class age extends Pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:t,margin:s,amount:n="some",once:i}=r,a={root:t?t.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:ige[n]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=c?d:p;f&&f(u)};return sge(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:t}=this.node;["amount","margin","root"].some(oge(r,t))&&this.startObserver()}unmount(){}}function oge({viewport:e={}},{viewport:r={}}={}){return t=>e[t]!==r[t]}const lge={inView:{Feature:age},tap:{Feature:ege},focus:{Feature:Jme},hover:{Feature:Yme}},cge={layout:{ProjectionNode:hW,MeasureLayout:iW}},Qk={current:null},pW={current:!1};function uge(){if(pW.current=!0,!!A3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>Qk.current=e.matches;e.addListener(r),r()}else Qk.current=!1}const dge=[...LV,ki,_u],fge=e=>dge.find(FV(e)),lA=new WeakMap;function hge(e,r,t){for(const s in r){const n=r[s],i=t[s];if(Ci(n))e.addValue(s,n);else if(Ci(i))e.addValue(s,qm(n,{owner:e}));else if(i!==n)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(n):a.hasAnimated||a.set(n)}else{const a=e.getStaticValue(s);e.addValue(s,qm(a!==void 0?a:n,{owner:e}))}}for(const s in t)r[s]===void 0&&e.removeValue(s);return r}const cA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pge{scrapeMotionValuesFromProps(r,t,s){return{}}constructor({parent:r,props:t,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=gl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,On.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=c,this.parent=r,this.props=t,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Bx(t),this.isVariantNode=KU(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in f){const g=f[h];u[h]!==void 0&&Ci(g)&&g.set(u[h],!1)}}mount(r){this.current=r,lA.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),pW.current||uge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lA.delete(this.current),this.projection&&this.projection.unmount(),wu(this.notifyUpdate),wu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const t=this.features[r];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(r,t){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const s=tf.has(r),n=t.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&On.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,r,t)),this.valueSubscriptions.set(r,()=>{n(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Ph){const t=Ph[r];if(!t)continue;const{isEnabled:s,Feature:n}=t;if(!this.features[r]&&n&&s(this.props)&&(this.features[r]=new n(this)),this.features[r]){const i=this.features[r];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cs()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,t){this.latestValues[r]=t}update(r,t){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<cA.length;s++){const n=cA[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,a=r[i];a&&(this.propEventSubscriptions[n]=this.on(n,a))}this.prevMotionValues=hge(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(r),()=>t.variantChildren.delete(r)}addValue(r,t){const s=this.values.get(r);t!==s&&(s&&this.removeValue(r),this.bindToMotionValue(r,t),this.values.set(r,t),this.latestValues[r]=t.get())}removeValue(r){this.values.delete(r);const t=this.valueSubscriptions.get(r);t&&(t(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,t){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&t!==void 0&&(s=qm(t===null?void 0:t,{owner:this}),this.addValue(r,s)),s}readValue(r,t){var s;let n=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(s=this.getBaseTargetFromProps(this.props,r))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,r,this.options);return n!=null&&(typeof n=="string"&&($V(n)||CV(n))?n=parseFloat(n):!fge(n)&&_u.test(t)&&(n=DV(r,t)),this.setBaseTarget(r,Ci(n)?n.get():n)),Ci(n)?n.get():n}setBaseTarget(r,t){this.baseTarget[r]=t}getBaseTarget(r){var t;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const a=O3(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(n=a[r])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Ci(i)?i:this.initialValues[r]!==void 0&&n===void 0?void 0:this.baseTarget[r]}on(r,t){return this.events[r]||(this.events[r]=new Q3),this.events[r].add(t)}notify(r,...t){this.events[r]&&this.events[r].notify(...t)}}class mW extends pge{constructor(){super(...arguments),this.KeyframeResolver=zV}sortInstanceNodePosition(r,t){return r.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(r,t){return r.style?r.style[t]:void 0}removeValueFromRenderState(r,{vars:t,style:s}){delete t[r],delete s[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Ci(r)&&(this.childSubscription=r.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function mge(e){return window.getComputedStyle(e)}class gge extends mW{constructor(){super(...arguments),this.type="html",this.renderInstance=rV}readValueFromInstance(r,t){if(tf.has(t)){const s=r6(t);return s&&s.default||0}else{const s=mge(r),n=(JU(t)?s.getPropertyValue(t):s[t])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:t}){return nW(r,t)}build(r,t,s){z3(r,t,s.transformTemplate)}scrapeMotionValuesFromProps(r,t,s){return W3(r,t,s)}}class yge extends mW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cs}getBaseTargetFromProps(r,t){return r[t]}readValueFromInstance(r,t){if(tf.has(t)){const s=r6(t);return s&&s.default||0}return t=nV.has(t)?t:M3(t),r.getAttribute(t)}scrapeMotionValuesFromProps(r,t,s){return aV(r,t,s)}build(r,t,s){B3(r,t,this.isSVGTag,s.transformTemplate)}renderInstance(r,t,s,n){sV(r,t,s,n)}mount(r){this.isSVGTag=V3(r.tagName),super.mount(r)}}const bge=(e,r)=>$3(e)?new yge(r):new gge(r,{allowProjection:e!==E.Fragment}),vge=Wfe({...Upe,...lge,...Qme,...cge},bge),xn=ife(vge),xge=(e,r="")=>{const[t,s]=E.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${e}`)||r),n=E.useCallback(a=>{s(a),typeof window<"u"&&(a?localStorage.setItem(`form-memory-${e}`,a):localStorage.removeItem(`form-memory-${e}`))},[e]),i=E.useCallback(()=>{s(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${e}`)},[e]);return{value:t,updateValue:n,clearMemory:i}},wge=(e,r,t,s)=>{const[n,i]=E.useState({isValid:!0});return E.useEffect(()=>{if(!e){i({isValid:!0});return}if(t){i(l=>({...l,isValidating:!0}));const a=setTimeout(()=>{const l=t(e);i({...l,isValidating:!1})},300);return()=>clearTimeout(a)}if(r&&(r==="email"||r==="password")){if(r==="email"&&e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){i({isValid:!1,message:"    ",isValidating:!1});return}i(l=>({...l,isValidating:!0}));const a=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:r,value:e,context:s||"register"})})).json();u.success?i({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):i({isValid:!1,message:"   ",isValidating:!1})}catch(l){console.error("  :",l),i({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(a)}},[e,t,r,s]),n},vt=E.forwardRef(({className:e,type:r="text",enableMemory:t=!1,memoryKey:s,validator:n,showValidation:i=!0,leftIcon:a,rightIcon:l,loading:u=!1,strengthIndicator:c=!1,fieldType:d,validationContext:p,hidePasswordToggle:f=!1,autoWidth:h=!1,maxWidth:g=420,onChange:y,value:m,...v},x)=>{const[k,T]=E.useState(!1),[A,L]=E.useState(!1),q=E.useRef(null),[D,$]=E.useState("100%"),{value:z,updateValue:K}=xge(s||`input-${v.name||"default"}`,typeof m=="string"?m:""),W=m!==void 0?String(m):z,P=wge(W,d,n,p);E.useEffect(()=>{if(h&&q.current){q.current.textContent=W||v.placeholder||"";const O=q.current.offsetWidth+32;$(Math.max(60,Math.min(O,g)))}else h||$("100%")},[W,h,v.placeholder,g]);const R=E.useCallback(O=>{const B=O.target.value;t&&m===void 0&&K(B),y?.(O)},[t,m,K,y]),C=E.useCallback(()=>{T(O=>!O)},[]),_=r==="password"?k?"text":"password":r,S=a||u,j=l||r==="password"||i&&P.message,N=()=>P.isValidating?"border-blue-300 ring-blue-100":P.isValid?P.isValid&&W?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200",M=E.useMemo(()=>{const O={position:"relative"};return h?(O.width=typeof D=="number"?`${D}px`:D,O.minWidth="60px"):O.width="100%",O},[h,D]);return o.jsxs("div",{className:Ae("relative",h?"inline-block align-bottom":"w-full"),children:[h&&o.jsx("span",{ref:q,className:"absolute invisible whitespace-pre font-inherit px-4 text-sm pointer-events-none",style:{font:"inherit",letterSpacing:"inherit"},"aria-hidden":"true"}),o.jsxs(xn.div,{animate:{scale:A?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:M,children:[o.jsx("input",{type:_,className:Ae("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",S&&"pr-11",j&&"pl-11",N(),e),ref:x,value:W,onChange:R,onFocus:()=>L(!0),onBlur:()=>L(!1),...v}),S&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?o.jsx(an,{className:"h-4 w-4 animate-spin"}):a}),j&&o.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[r==="password"&&!f&&o.jsx(xn.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:C,children:k?o.jsx(vh,{className:"h-4 w-4"}):o.jsx(pu,{className:"h-4 w-4"})}),i&&W&&!P.isValidating&&o.jsx(xn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:P.isValid?o.jsx(zo,{className:"h-4 w-4 text-green-500"}):o.jsx(ti,{className:"h-4 w-4 text-red-500"})}),P.isValidating&&o.jsx(an,{className:"h-4 w-4 animate-spin text-blue-500"}),l]})]}),c&&r==="password"&&W&&typeof P.strength=="number"&&o.jsxs(xn.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map(O=>o.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:P.strength>=O?O<=2?"#ef4444":O===3?"#eab308":"#22c55e":"#e5e7eb"}},O))}),o.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",P.strength<=2?"":P.strength===3?"":""]})]}),o.jsx(Um,{children:i&&P.message&&o.jsxs(xn.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:P.isValid?"#15803d":"#dc2626",backgroundColor:P.isValid?"#f0fdf4":"#fef2f2",borderColor:P.isValid?"#bbf7d0":"#fecaca"},children:[P.isValid?o.jsx(zo,{className:"h-3 w-3 text-green-500"}):o.jsx(ti,{className:"h-3 w-3 text-red-500"}),P.message]})})]})});vt.displayName="Input";const _ge=(e=1e3)=>{const[r,t]=E.useState(!1),s=E.useRef(0),n=E.useCallback(()=>{const i=Date.now();return i-s.current<e?(t(!0),!1):(s.current=i,t(!1),!0)},[e]);return{isLimited:r,checkRateLimit:n}},Zm=Xd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ie=E.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,loading:n=!1,loadingText:i=" ...",enableRateLimit:a=!1,rateLimitDelay:l=1e3,ripple:u=!0,onClick:c,children:d,disabled:p,...f},h)=>{const g=s?ef:"button",{isLimited:y,checkRateLimit:m}=_ge(l),[v,x]=E.useState({}),[k,T]=E.useState(!1),A=E.useCallback(D=>{if(!(n||p)){if(a&&!m()){D.preventDefault();return}if(u){const z=D.currentTarget.getBoundingClientRect(),K=D.clientX-z.left,W=D.clientY-z.top;x({left:K-10,top:W-10,width:20,height:20}),T(!0),setTimeout(()=>T(!1),600)}c?.(D)}},[n,p,a,m,u,c]),L=p||n||a&&y,q=o.jsxs(o.Fragment,{children:[k&&u&&o.jsx(xn.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),n?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"h-4 w-4 animate-spin"}),i]}):d,a&&y&&o.jsx(xn.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return o.jsx(xn.div,{whileHover:{scale:L?1:1.02},whileTap:{scale:L?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:o.jsx(g,{className:Ae(Zm({variant:r,size:t,className:e})),ref:h,onClick:A,disabled:L,...f,children:q})})});Ie.displayName="Button";const gW="/assets/logo_header_light.png",kge="/assets/logo_header_dark.png",yW="/assets/app_icon_light.png",Sge="/assets/app_icon_dark.png",jge=Au({email:Ur().email("   "),password:Ur().min(1,"  ")});function Nge(){const[,e]=zs(),{toast:r}=pn(),{login:t}=gc(),[s,n]=E.useState("online"),[i,a]=E.useState(!1),[l,u]=E.useState(!1),c=oc({resolver:lc(jge),defaultValues:{email:"",password:""}}),d=Pt({mutationFn:async p=>await t(p.email,p.password),onSuccess:()=>{r({title:"  ",description:"    "}),e("/")},onError:p=>{if(p.requireEmailVerification||p.status===403){r({title:"    ",description:"       ",variant:"default"});const f=p.userId||p.data?.userId,h=p.email||p.data?.email||c.getValues("email");e(`/verify-email?userId=${f}&email=${encodeURIComponent(h)}`);return}r({title:"  ",description:p.message||"    ",variant:"destructive"})}});return o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[o.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),o.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:o.jsxs("div",{className:"flex gap-0.5",children:[o.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[o.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[o.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),o.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[o.jsx("img",{src:yW,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),o.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:o.jsx("img",{src:gW,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[o.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),o.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),o.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[o.jsxs("button",{type:"button",onClick:()=>n("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${s==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[o.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[o.jsx("span",{className:`text-[8px] font-bold ${s==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),o.jsx("span",{className:"text-[11px] font-black",children:" "})]}),o.jsx("div",{className:`p-1.5 rounded-lg ${s==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:o.jsx(rT,{className:"w-4 h-4"})})]}),o.jsxs("button",{type:"button",onClick:()=>n("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${s==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[o.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[o.jsx("span",{className:`text-[8px] font-bold ${s==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),o.jsx("span",{className:"text-[11px] font-black",children:" "})]}),o.jsx("div",{className:`p-1.5 rounded-lg ${s==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:o.jsx(hS,{className:"w-4 h-4"})})]})]}),o.jsx(uc,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(p=>d.mutate(p)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[o.jsx(rn,{control:c.control,name:"email",render:({field:p})=>o.jsx(Jr,{children:o.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${c.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),o.jsx(sn,{children:o.jsx(vt,{...p,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),o.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:o.jsx(Vn,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),o.jsx(rn,{control:c.control,name:"password",render:({field:p})=>o.jsx(Jr,{children:o.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${c.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),o.jsx(sn,{children:o.jsx(vt,{...p,type:i?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:i?o.jsx(pu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):o.jsx(vh,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),o.jsxs("div",{className:"flex justify-between px-1",children:[o.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),o.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?o.jsx(an,{className:"animate-spin h-5 w-5"}):" "}),o.jsx(Ie,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>e("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),o.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[o.jsxs("div",{className:"flex items-center gap-4 w-full",children:[o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),o.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),o.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:zse,label:"Biometric",testId:"button-fingerprint"},{Icon:rT,label:"QR Scan",testId:"button-scan-qr"},{Icon:Kse,label:"Support",testId:"button-support"}].map(({Icon:p,label:f,testId:h},g)=>o.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":h,children:o.jsx(p,{className:"w-5 h-5",strokeWidth:1.5})},g))}),o.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),o.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),l&&o.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[o.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),o.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:o.jsx(Rs,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}function o6(e){const r=E.useRef({value:e,previous:e});return E.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Wx="Checkbox",[Cge]=mi(Wx),[Tge,l6]=Cge(Wx);function Ege(e){const{__scopeCheckbox:r,checked:t,children:s,defaultChecked:n,disabled:i,form:a,name:l,onCheckedChange:u,required:c,value:d="on",internal_do_not_use_render:p}=e,[f,h]=fo({prop:t,defaultProp:n??!1,onChange:u,caller:Wx}),[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useRef(!1),k=g?!!a||!!g.closest("form"):!0,T={checked:f,disabled:i,setChecked:h,control:g,setControl:y,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:c,defaultChecked:nu(n)?!1:n,isFormControl:k,bubbleInput:m,setBubbleInput:v};return o.jsx(Tge,{scope:r,...T,children:Age(p)?p(T):s})}var bW="CheckboxTrigger",vW=E.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:t,...s},n)=>{const{control:i,value:a,disabled:l,checked:u,required:c,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=l6(bW,e),y=Er(n,d),m=E.useRef(u);return E.useEffect(()=>{const v=i?.form;if(v){const x=()=>p(m.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,p]),o.jsx(qt.button,{type:"button",role:"checkbox","aria-checked":nu(u)?"mixed":u,"aria-required":c,"data-state":SW(u),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:y,onKeyDown:mt(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:mt(t,v=>{p(x=>nu(x)?!0:!x),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});vW.displayName=bW;var c6=E.forwardRef((e,r)=>{const{__scopeCheckbox:t,name:s,checked:n,defaultChecked:i,required:a,disabled:l,value:u,onCheckedChange:c,form:d,...p}=e;return o.jsx(Ege,{__scopeCheckbox:t,checked:n,defaultChecked:i,disabled:l,required:a,onCheckedChange:c,name:s,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>o.jsxs(o.Fragment,{children:[o.jsx(vW,{...p,ref:r,__scopeCheckbox:t}),f&&o.jsx(kW,{__scopeCheckbox:t})]})})});c6.displayName=Wx;var xW="CheckboxIndicator",wW=E.forwardRef((e,r)=>{const{__scopeCheckbox:t,forceMount:s,...n}=e,i=l6(xW,t);return o.jsx(js,{present:s||nu(i.checked)||i.checked===!0,children:o.jsx(qt.span,{"data-state":SW(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});wW.displayName=xW;var _W="CheckboxBubbleInput",kW=E.forwardRef(({__scopeCheckbox:e,...r},t)=>{const{control:s,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:a,required:l,disabled:u,name:c,value:d,form:p,bubbleInput:f,setBubbleInput:h}=l6(_W,e),g=Er(t,h),y=o6(i),m=wS(s);E.useEffect(()=>{const x=f;if(!x)return;const k=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(k,"checked").set,L=!n.current;if(y!==i&&A){const q=new Event("click",{bubbles:L});x.indeterminate=nu(i),A.call(x,nu(i)?!1:i),x.dispatchEvent(q)}},[f,y,i,n]);const v=E.useRef(nu(i)?!1:i);return o.jsx(qt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:u,name:c,value:d,form:p,...r,tabIndex:-1,ref:g,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kW.displayName=_W;function Age(e){return typeof e=="function"}function nu(e){return e==="indeterminate"}function SW(e){return nu(e)?"indeterminate":e?"checked":"unchecked"}const t0=E.forwardRef(({className:e,...r},t)=>o.jsx(c6,{ref:t,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:o.jsx(wW,{className:Ae("flex items-center justify-center text-current"),children:o.jsx($o,{className:"h-4 w-4"})})}));t0.displayName=c6.displayName;function Pge(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function jW(...e){return r=>e.forEach(t=>Pge(t,r))}function Ige(...e){return E.useCallback(jW(...e),e)}var NW=E.forwardRef((e,r)=>{const{children:t,...s}=e,n=E.Children.toArray(t),i=n.find(Mge);if(i){const a=i.props.children,l=n.map(u=>u===i?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:u);return o.jsx(Yk,{...s,ref:r,children:E.isValidElement(a)?E.cloneElement(a,void 0,l):null})}return o.jsx(Yk,{...s,ref:r,children:t})});NW.displayName="Slot";var Yk=E.forwardRef((e,r)=>{const{children:t,...s}=e;if(E.isValidElement(t)){const n=$ge(t);return E.cloneElement(t,{...Rge(s,t.props),ref:r?jW(r,n):n})}return E.Children.count(t)>1?E.Children.only(null):null});Yk.displayName="SlotClone";var Dge=({children:e})=>o.jsx(o.Fragment,{children:e});function Mge(e){return E.isValidElement(e)&&e.type===Dge}function Rge(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{i(...l),n(...l)}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function $ge(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Oge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fge=Oge.reduce((e,r)=>{const t=E.forwardRef((s,n)=>{const{asChild:i,...a}=s,l=i?NW:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:n})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function uA(e){const r=E.useRef(e);return E.useEffect(()=>{r.current=e}),E.useMemo(()=>(...t)=>r.current?.(...t),[])}var R2="focusScope.autoFocusOnMount",$2="focusScope.autoFocusOnUnmount",dA={bubbles:!1,cancelable:!0},Lge="FocusScope",r0=E.forwardRef((e,r)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...a}=e,[l,u]=E.useState(null),c=uA(n),d=uA(i),p=E.useRef(null),f=Ige(r,y=>u(y)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(s){let y=function(k){if(h.paused||!l)return;const T=k.target;l.contains(T)?p.current=T:zc(p.current,{select:!0})},m=function(k){if(h.paused||!l)return;const T=k.relatedTarget;T!==null&&(l.contains(T)||zc(p.current,{select:!0}))},v=function(k){if(document.activeElement===document.body)for(const A of k)A.removedNodes.length>0&&zc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[s,l,h.paused]),E.useEffect(()=>{if(l){hA.add(h);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(R2,dA);l.addEventListener(R2,c),l.dispatchEvent(v),v.defaultPrevented||(zge(qge(CW(l)),{select:!0}),document.activeElement===y&&zc(l))}return()=>{l.removeEventListener(R2,c),setTimeout(()=>{const v=new CustomEvent($2,dA);l.addEventListener($2,d),l.dispatchEvent(v),v.defaultPrevented||zc(y??document.body,{select:!0}),l.removeEventListener($2,d),hA.remove(h)},0)}}},[l,c,d,h]);const g=E.useCallback(y=>{if(!t&&!s||h.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const x=y.currentTarget,[k,T]=Bge(x);k&&T?!y.shiftKey&&v===T?(y.preventDefault(),t&&zc(k,{select:!0})):y.shiftKey&&v===k&&(y.preventDefault(),t&&zc(T,{select:!0})):v===x&&y.preventDefault()}},[t,s,h.paused]);return o.jsx(Fge.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});r0.displayName=Lge;function zge(e,{select:r=!1}={}){const t=document.activeElement;for(const s of e)if(zc(s,{select:r}),document.activeElement!==t)return}function Bge(e){const r=CW(e),t=fA(r,e),s=fA(r.reverse(),e);return[t,s]}function CW(e){const r=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)r.push(t.currentNode);return r}function fA(e,r){for(const t of e)if(!Uge(t,{upTo:r}))return t}function Uge(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vge(e){return e instanceof HTMLInputElement&&"select"in e}function zc(e,{select:r=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Vge(e)&&r&&e.select()}}var hA=Wge();function Wge(){let e=[];return{add(r){const t=e[0];r!==t&&t?.pause(),e=pA(e,r),e.unshift(r)},remove(r){e=pA(e,r),e[0]?.resume()}}}function pA(e,r){const t=[...e],s=t.indexOf(r);return s!==-1&&t.splice(s,1),t}function qge(e){return e.filter(r=>r.tagName!=="A")}var O2=0;function qx(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mA()),document.body.insertAdjacentElement("beforeend",e[1]??mA()),O2++,()=>{O2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),O2--}},[])}function mA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var al=function(){return al=Object.assign||function(r){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},al.apply(this,arguments)};function TW(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t}function Hge(e,r,t){if(t||arguments.length===2)for(var s=0,n=r.length,i;s<n;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}var ub="right-scroll-bar-position",fb="width-before-scroll-bar",Kge="with-scroll-bars-hidden",Zge="--removed-body-scroll-bar-size";function F2(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Gge(e,r){var t=E.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(s){var n=t.value;n!==s&&(t.value=s,t.callback(s,n))}}}})[0];return t.callback=r,t.facade}var Xge=typeof window<"u"?E.useLayoutEffect:E.useEffect,gA=new WeakMap;function Qge(e,r){var t=Gge(null,function(s){return e.forEach(function(n){return F2(n,s)})});return Xge(function(){var s=gA.get(t);if(s){var n=new Set(s),i=new Set(e),a=t.current;n.forEach(function(l){i.has(l)||F2(l,null)}),i.forEach(function(l){n.has(l)||F2(l,a)})}gA.set(t,e)},[e]),t}function Yge(e){return e}function Jge(e,r){r===void 0&&(r=Yge);var t=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var a=r(i,s);return t.push(a),function(){t=t.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;t.length;){var a=t;t=[],a.forEach(i)}t={push:function(l){return i(l)},filter:function(){return t}}},assignMedium:function(i){s=!0;var a=[];if(t.length){var l=t;t=[],l.forEach(i),a=t}var u=function(){var d=a;a=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),t={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),t}}}};return n}function e0e(e){e===void 0&&(e={});var r=Jge(null);return r.options=al({async:!0,ssr:!1},e),r}var EW=function(e){var r=e.sideCar,t=TW(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return E.createElement(s,al({},t))};EW.isSideCarExport=!0;function t0e(e,r){return e.useMedium(r),EW}var AW=e0e(),L2=function(){},Hx=E.forwardRef(function(e,r){var t=E.useRef(null),s=E.useState({onScrollCapture:L2,onWheelCapture:L2,onTouchMoveCapture:L2}),n=s[0],i=s[1],a=e.forwardProps,l=e.children,u=e.className,c=e.removeScrollBar,d=e.enabled,p=e.shards,f=e.sideCar,h=e.noRelative,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,k=e.gapMode,T=TW(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,L=Qge([t,r]),q=al(al({},T),n);return E.createElement(E.Fragment,null,d&&E.createElement(A,{sideCar:AW,removeScrollBar:c,shards:p,noRelative:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:t,gapMode:k}),a?E.cloneElement(E.Children.only(l),al(al({},q),{ref:L})):E.createElement(x,al({},q,{className:u,ref:L}),l))});Hx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hx.classNames={fullWidth:fb,zeroRight:ub};var r0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function n0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=r0e();return r&&e.setAttribute("nonce",r),e}function s0e(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function i0e(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var a0e=function(){var e=0,r=null;return{add:function(t){e==0&&(r=n0e())&&(s0e(r,t),i0e(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},o0e=function(){var e=a0e();return function(r,t){E.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&t])}},PW=function(){var e=o0e(),r=function(t){var s=t.styles,n=t.dynamic;return e(s,n),null};return r},l0e={left:0,top:0,right:0,gap:0},z2=function(e){return parseInt(e||"",10)||0},c0e=function(e){var r=window.getComputedStyle(document.body),t=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],n=r[e==="padding"?"paddingRight":"marginRight"];return[z2(t),z2(s),z2(n)]},u0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l0e;var r=c0e(e),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-t+r[2]-r[0])}},d0e=PW(),eh="data-scroll-locked",f0e=function(e,r,t,s){var n=e.left,i=e.top,a=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Kge,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(eh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ub,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(fb,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ub," .").concat(ub,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(fb," .").concat(fb,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(eh,`] {
    `).concat(Zge,": ").concat(l,`px;
  }
`)},yA=function(){var e=parseInt(document.body.getAttribute(eh)||"0",10);return isFinite(e)?e:0},h0e=function(){E.useEffect(function(){return document.body.setAttribute(eh,(yA()+1).toString()),function(){var e=yA()-1;e<=0?document.body.removeAttribute(eh):document.body.setAttribute(eh,e.toString())}},[])},p0e=function(e){var r=e.noRelative,t=e.noImportant,s=e.gapMode,n=s===void 0?"margin":s;h0e();var i=E.useMemo(function(){return u0e(n)},[n]);return E.createElement(d0e,{styles:f0e(i,!r,n,t?"":"!important")})},Jk=!1;if(typeof window<"u")try{var Oy=Object.defineProperty({},"passive",{get:function(){return Jk=!0,!0}});window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{Jk=!1}var Rf=Jk?{passive:!1}:!1,m0e=function(e){return e.tagName==="TEXTAREA"},IW=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!m0e(e)&&t[r]==="visible")},g0e=function(e){return IW(e,"overflowY")},y0e=function(e){return IW(e,"overflowX")},bA=function(e,r){var t=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=DW(e,s);if(n){var i=MW(e,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},b0e=function(e){var r=e.scrollTop,t=e.scrollHeight,s=e.clientHeight;return[r,t,s]},v0e=function(e){var r=e.scrollLeft,t=e.scrollWidth,s=e.clientWidth;return[r,t,s]},DW=function(e,r){return e==="v"?g0e(r):y0e(r)},MW=function(e,r){return e==="v"?b0e(r):v0e(r)},x0e=function(e,r){return e==="h"&&r==="rtl"?-1:1},w0e=function(e,r,t,s,n){var i=x0e(e,window.getComputedStyle(r).direction),a=i*s,l=t.target,u=r.contains(l),c=!1,d=a>0,p=0,f=0;do{if(!l)break;var h=MW(e,l),g=h[0],y=h[1],m=h[2],v=y-m-i*g;(g||v)&&DW(e,l)&&(p+=v,f+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!u&&l!==document.body||u&&(r.contains(l)||r===l));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(c=!0),c},Fy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vA=function(e){return[e.deltaX,e.deltaY]},xA=function(e){return e&&"current"in e?e.current:e},_0e=function(e,r){return e[0]===r[0]&&e[1]===r[1]},k0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S0e=0,$f=[];function j0e(e){var r=E.useRef([]),t=E.useRef([0,0]),s=E.useRef(),n=E.useState(S0e++)[0],i=E.useState(PW)[0],a=E.useRef(e);E.useEffect(function(){a.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var y=Hge([e.lockRef.current],(e.shards||[]).map(xA),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=E.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=Fy(y),x=t.current,k="deltaX"in y?y.deltaX:x[0]-v[0],T="deltaY"in y?y.deltaY:x[1]-v[1],A,L=y.target,q=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in y&&q==="h"&&L.type==="range")return!1;var D=window.getSelection(),$=D&&D.anchorNode,z=$?$===L||$.contains(L):!1;if(z)return!1;var K=bA(q,L);if(!K)return!0;if(K?A=q:(A=q==="v"?"h":"v",K=bA(q,L)),!K)return!1;if(!s.current&&"changedTouches"in y&&(k||T)&&(s.current=A),!A)return!0;var W=s.current||A;return w0e(W,m,y,W==="h"?k:T)},[]),u=E.useCallback(function(y){var m=y;if(!(!$f.length||$f[$f.length-1]!==i)){var v="deltaY"in m?vA(m):Fy(m),x=r.current.filter(function(A){return A.name===m.type&&(A.target===m.target||m.target===A.shadowParent)&&_0e(A.delta,v)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var k=(a.current.shards||[]).map(xA).filter(Boolean).filter(function(A){return A.contains(m.target)}),T=k.length>0?l(m,k[0]):!a.current.noIsolation;T&&m.cancelable&&m.preventDefault()}}},[]),c=E.useCallback(function(y,m,v,x){var k={name:y,delta:m,target:v,should:x,shadowParent:N0e(v)};r.current.push(k),setTimeout(function(){r.current=r.current.filter(function(T){return T!==k})},1)},[]),d=E.useCallback(function(y){t.current=Fy(y),s.current=void 0},[]),p=E.useCallback(function(y){c(y.type,vA(y),y.target,l(y,e.lockRef.current))},[]),f=E.useCallback(function(y){c(y.type,Fy(y),y.target,l(y,e.lockRef.current))},[]);E.useEffect(function(){return $f.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Rf),document.addEventListener("touchmove",u,Rf),document.addEventListener("touchstart",d,Rf),function(){$f=$f.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,Rf),document.removeEventListener("touchmove",u,Rf),document.removeEventListener("touchstart",d,Rf)}},[]);var h=e.removeScrollBar,g=e.inert;return E.createElement(E.Fragment,null,g?E.createElement(i,{styles:k0e(n)}):null,h?E.createElement(p0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N0e(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const C0e=t0e(AW,j0e);var n0=E.forwardRef(function(e,r){return E.createElement(Hx,al({},e,{ref:r,sideCar:C0e}))});n0.classNames=Hx.classNames;var T0e=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Of=new WeakMap,Ly=new WeakMap,zy={},B2=0,RW=function(e){return e&&(e.host||RW(e.parentNode))},E0e=function(e,r){return r.map(function(t){if(e.contains(t))return t;var s=RW(t);return s&&e.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},A0e=function(e,r,t,s){var n=E0e(r,Array.isArray(e)?e:[e]);zy[t]||(zy[t]=new WeakMap);var i=zy[t],a=[],l=new Set,u=new Set(n),c=function(p){!p||l.has(p)||(l.add(p),c(p.parentNode))};n.forEach(c);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(f){if(l.has(f))d(f);else try{var h=f.getAttribute(s),g=h!==null&&h!=="false",y=(Of.get(f)||0)+1,m=(i.get(f)||0)+1;Of.set(f,y),i.set(f,m),a.push(f),y===1&&g&&Ly.set(f,!0),m===1&&f.setAttribute(t,"true"),g||f.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(r),l.clear(),B2++,function(){a.forEach(function(p){var f=Of.get(p)-1,h=i.get(p)-1;Of.set(p,f),i.set(p,h),f||(Ly.has(p)||p.removeAttribute(s),Ly.delete(p)),h||p.removeAttribute(t)}),B2--,B2||(Of=new WeakMap,Of=new WeakMap,Ly=new WeakMap,zy={})}},Kx=function(e,r,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),n=T0e(e);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),A0e(s,n,t,"aria-hidden")):function(){return null}};function P0e(e){const r=I0e(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(M0e);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function I0e(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=$0e(n),l=R0e(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var D0e=Symbol("radix.slottable");function M0e(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D0e}function R0e(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function $0e(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Zx="Dialog",[$W,OW]=mi(Zx),[O0e,Ho]=$W(Zx),FW=e=>{const{__scopeDialog:r,children:t,open:s,defaultOpen:n,onOpenChange:i,modal:a=!0}=e,l=E.useRef(null),u=E.useRef(null),[c,d]=fo({prop:s,defaultProp:n??!1,onChange:i,caller:Zx});return o.jsx(O0e,{scope:r,triggerRef:l,contentRef:u,contentId:Pa(),titleId:Pa(),descriptionId:Pa(),open:c,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(p=>!p),[d]),modal:a,children:t})};FW.displayName=Zx;var LW="DialogTrigger",zW=E.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,n=Ho(LW,t),i=Er(r,n.triggerRef);return o.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":f6(n.open),...s,ref:i,onClick:mt(e.onClick,n.onOpenToggle)})});zW.displayName=LW;var u6="DialogPortal",[F0e,BW]=$W(u6,{forceMount:void 0}),UW=e=>{const{__scopeDialog:r,forceMount:t,children:s,container:n}=e,i=Ho(u6,r);return o.jsx(F0e,{scope:r,forceMount:t,children:E.Children.map(s,a=>o.jsx(js,{present:t||i.open,children:o.jsx(Vh,{asChild:!0,container:n,children:a})}))})};UW.displayName=u6;var tv="DialogOverlay",VW=E.forwardRef((e,r)=>{const t=BW(tv,e.__scopeDialog),{forceMount:s=t.forceMount,...n}=e,i=Ho(tv,e.__scopeDialog);return i.modal?o.jsx(js,{present:s||i.open,children:o.jsx(z0e,{...n,ref:r})}):null});VW.displayName=tv;var L0e=P0e("DialogOverlay.RemoveScroll"),z0e=E.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,n=Ho(tv,t);return o.jsx(n0,{as:L0e,allowPinchZoom:!0,shards:[n.contentRef],children:o.jsx(qt.div,{"data-state":f6(n.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Od="DialogContent",WW=E.forwardRef((e,r)=>{const t=BW(Od,e.__scopeDialog),{forceMount:s=t.forceMount,...n}=e,i=Ho(Od,e.__scopeDialog);return o.jsx(js,{present:s||i.open,children:i.modal?o.jsx(B0e,{...n,ref:r}):o.jsx(U0e,{...n,ref:r})})});WW.displayName=Od;var B0e=E.forwardRef((e,r)=>{const t=Ho(Od,e.__scopeDialog),s=E.useRef(null),n=Er(r,t.contentRef,s);return E.useEffect(()=>{const i=s.current;if(i)return Kx(i)},[]),o.jsx(qW,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(e.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:mt(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:mt(e.onFocusOutside,i=>i.preventDefault())})}),U0e=E.forwardRef((e,r)=>{const t=Ho(Od,e.__scopeDialog),s=E.useRef(!1),n=E.useRef(!1);return o.jsx(qW,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||t.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const a=i.target;t.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),qW=E.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:i,...a}=e,l=Ho(Od,t),u=E.useRef(null),c=Er(r,u);return qx(),o.jsxs(o.Fragment,{children:[o.jsx(r0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:i,children:o.jsx(Gd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":f6(l.open),...a,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(W0e,{titleId:l.titleId}),o.jsx(H0e,{contentRef:u,descriptionId:l.descriptionId})]})]})}),d6="DialogTitle",HW=E.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,n=Ho(d6,t);return o.jsx(qt.h2,{id:n.titleId,...s,ref:r})});HW.displayName=d6;var KW="DialogDescription",ZW=E.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,n=Ho(KW,t);return o.jsx(qt.p,{id:n.descriptionId,...s,ref:r})});ZW.displayName=KW;var GW="DialogClose",XW=E.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,n=Ho(GW,t);return o.jsx(qt.button,{type:"button",...s,ref:r,onClick:mt(e.onClick,()=>n.onOpenChange(!1))})});XW.displayName=GW;function f6(e){return e?"open":"closed"}var QW="DialogTitleWarning",[V0e,YW]=lne(QW,{contentName:Od,titleName:d6,docsSlug:"dialog"}),W0e=({titleId:e})=>{const r=YW(QW),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},q0e="DialogDescriptionWarning",H0e=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YW(q0e).contentName}}.`;return E.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},h6=FW,p6=zW,m6=UW,s0=VW,i0=WW,tp=HW,rp=ZW,a0=XW,K0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z0e=K0e.reduce((e,r)=>{const t=Xg(`Primitive.${r}`),s=E.forwardRef((n,i)=>{const{asChild:a,...l}=n,u=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),G0e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),X0e="VisuallyHidden",JW=E.forwardRef((e,r)=>o.jsx(Z0e.span,{...e,ref:r,style:{...G0e,...e.style}}));JW.displayName=X0e;var Q0e=JW;const Ys=h6,Dh=p6,Y0e=m6,eq=E.forwardRef(({className:e,...r},t)=>o.jsx(s0,{ref:t,className:Ae("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));eq.displayName=s0.displayName;const $s=E.forwardRef(({className:e,children:r,...t},s)=>o.jsxs(Y0e,{children:[o.jsx(eq,{}),o.jsxs(i0,{ref:s,className:Ae("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",e),style:{pointerEvents:"auto"},...t,children:[o.jsxs(Q0e,{children:[o.jsx(tp,{children:"Dialog Content"}),o.jsx(rp,{children:"Accessibility description for the dialog content."})]}),r,o.jsxs(a0,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Rs,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$s.displayName=i0.displayName;const Js=({className:e,...r})=>o.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-right",e),...r});Js.displayName="DialogHeader";const rv=({className:e,...r})=>o.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});rv.displayName="DialogFooter";const hi=E.forwardRef(({className:e,...r},t)=>o.jsx(tp,{ref:t,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...r}));hi.displayName=tp.displayName;const ec=E.forwardRef(({className:e,...r},t)=>o.jsx(rp,{ref:t,className:Ae("text-sm text-muted-foreground",e),...r}));ec.displayName=rp.displayName;const Lr=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],J0e=Au({fullName:Ur().min(1,"  "),email:Ur().email("   "),phone:Ur().min(9,"   "),password:Ur().min(6,"       6 "),confirmPassword:Ur().min(1,"   "),birthDate:Ur().min(1,"  "),birthPlace:Ur().min(1,"  "),gender:Ur().min(1," "),terms:Wg().refine(e=>e===!0,"   ")}).refine(e=>e.password===e.confirmPassword,{message:"   ",path:["confirmPassword"]}),eye=()=>o.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[o.jsx("div",{className:"relative mb-3 group cursor-pointer",children:o.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[o.jsx("img",{src:yW,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),o.jsx("img",{src:Sge,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),o.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),o.jsxs("div",{className:"text-center relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[o.jsx("img",{src:gW,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),o.jsx("img",{src:kge,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),o.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),o.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function tye(){const[,e]=zs(),{toast:r}=pn(),[t,s]=E.useState(Lr[0]),[n,i]=E.useState(""),[a,l]=E.useState(!1),[u,c]=E.useState(!1),[d,p]=E.useState(!1),[f,h]=E.useState(!1),[g,y]=E.useState(2e3),[m,v]=E.useState(1),[x,k]=E.useState(1);E.useEffect(()=>{(()=>{try{const D=Intl.DateTimeFormat().resolvedOptions().timeZone;D.includes("Aden")||D.includes("Sanaa")?s(Lr.find($=>$.code==="+967")||Lr[0]):D.includes("Riyadh")?s(Lr.find($=>$.code==="+966")||Lr[0]):D.includes("Dubai")||D.includes("Abu_Dhabi")?s(Lr.find($=>$.code==="+971")||Lr[0]):D.includes("Cairo")?s(Lr.find($=>$.code==="+20")||Lr[0]):D.includes("Muscat")?s(Lr.find($=>$.code==="+968")||Lr[0]):D.includes("Kuwait")?s(Lr.find($=>$.code==="+965")||Lr[0]):D.includes("Qatar")?s(Lr.find($=>$.code==="+974")||Lr[0]):D.includes("Bahrain")?s(Lr.find($=>$.code==="+973")||Lr[0]):D.includes("Amman")?s(Lr.find($=>$.code==="+962")||Lr[0]):D.includes("Baghdad")?s(Lr.find($=>$.code==="+964")||Lr[0]):D.includes("Damascus")?s(Lr.find($=>$.code==="+963")||Lr[0]):D.includes("Beirut")?s(Lr.find($=>$.code==="+961")||Lr[0]):D.includes("Gaza")||D.includes("Hebron")?s(Lr.find($=>$.code==="+970")||Lr[0]):D.includes("Casablanca")?s(Lr.find($=>$.code==="+212")||Lr[0]):D.includes("Algiers")?s(Lr.find($=>$.code==="+213")||Lr[0]):D.includes("Tunis")?s(Lr.find($=>$.code==="+216")||Lr[0]):D.includes("Tripoli")?s(Lr.find($=>$.code==="+218")||Lr[0]):D.includes("Khartoum")?s(Lr.find($=>$.code==="+249")||Lr[0]):D.includes("Istanbul")&&s(Lr.find($=>$.code==="+90")||Lr[0])}catch(D){console.error("Failed to detect country:",D)}})()},[]);const T=Lr.filter(q=>q.name.includes(n)||q.code.includes(n)),A=oc({resolver:lc(J0e),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),L=Pt({mutationFn:async q=>{const D=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!D.ok){const $=await D.json();throw new Error($.message||"  ")}return D.json()},onSuccess:q=>{r({title:"   ",description:"      "});const D=q?.data?.user?.id,$=q?.data?.user?.email||A.getValues("email");e(`/verify-email?userId=${D}&email=${encodeURIComponent($)}`)},onError:q=>{r({title:"  ",description:q.message,variant:"destructive"})}});return o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:o.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),o.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:o.jsxs("div",{className:"flex gap-0.5",children:[o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),o.jsx(eye,{}),o.jsx(uc,{...A,children:o.jsxs("form",{onSubmit:A.handleSubmit(q=>L.mutate(q)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[o.jsx(rn,{control:A.control,name:"fullName",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),o.jsx(sn,{children:o.jsx(vt,{...q,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),o.jsx(rn,{control:A.control,name:"email",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),o.jsx(sn,{children:o.jsx(vt,{...q,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),o.jsx(dS,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),o.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[o.jsxs(Ys,{open:a,onOpenChange:l,children:[o.jsx(Dh,{asChild:!0,children:o.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[o.jsx(Bn,{className:"w-3 h-3 text-blue-600/30"}),o.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:t.code}),o.jsx("img",{src:t.flag,alt:t.name,className:"w-4 h-auto rounded-sm"})]})}),o.jsx($s,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(vt,{placeholder:"",value:n,onChange:q=>i(q.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),o.jsx(Bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),o.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:T.map(q=>o.jsxs("button",{onClick:()=>{s(q),l(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[o.jsx("img",{src:q.flag,alt:q.name,className:"w-6 h-auto rounded-sm shadow-sm"}),o.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:q.code}),o.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:q.name})]},q.name+q.code))})]})})]}),o.jsx(rn,{control:A.control,name:"phone",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),o.jsx(sn,{children:o.jsx(vt,{...q,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),o.jsx(hS,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(rn,{control:A.control,name:"password",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),o.jsx(sn,{children:o.jsx(vt,{...q,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),o.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?o.jsx(pu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):o.jsx(vh,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),o.jsx(rn,{control:A.control,name:"confirmPassword",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),o.jsx(sn,{children:o.jsx(vt,{...q,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?o.jsx(pu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):o.jsx(vh,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(rn,{control:A.control,name:"birthPlace",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),o.jsx(sn,{children:o.jsx(vt,{...q,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),o.jsx(cl,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),o.jsx(rn,{control:A.control,name:"birthDate",render:({field:q})=>o.jsx(Jr,{className:"space-y-0",children:o.jsxs(Ys,{open:u,onOpenChange:c,children:[o.jsx(Dh,{asChild:!0,children:o.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[o.jsx(ks,{className:"w-4 h-4 text-blue-600/30"}),o.jsx("span",{className:`text-xs font-bold ${q.value?"text-foreground":"text-muted-foreground/30"}`,children:q.value||" "})]})}),o.jsx($s,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:o.jsxs("div",{className:"p-4",children:[o.jsx(Js,{className:"pb-4 border-b border-border dark:border-slate-800",children:o.jsx(hi,{className:"text-center text-lg font-black text-foreground",children:" "})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),o.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(D,$)=>2025-$).map(D=>o.jsx("button",{type:"button",onClick:()=>y(D),className:`w-full py-2 text-center font-bold transition-colors ${g===D?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),o.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((D,$)=>o.jsx("button",{type:"button",onClick:()=>v($+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===$+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),o.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(D,$)=>$+1).map(D=>o.jsx("button",{type:"button",onClick:()=>k(D),className:`w-full py-2 text-center font-bold transition-colors ${x===D?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]})]}),o.jsx(Ie,{onClick:()=>{const D=`${g}-${String(m).padStart(2,"0")}-${String(x).padStart(2,"0")}`;A.setValue("birthDate",D),c(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),o.jsx(rn,{control:A.control,name:"terms",render:({field:q})=>o.jsxs(Jr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[o.jsx(sn,{children:o.jsx(t0,{checked:q.value,onCheckedChange:q.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),o.jsx("div",{className:"leading-none text-right px-2",children:o.jsxs(Xn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),o.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:L.isPending,"data-testid":"button-submit",children:L.isPending?o.jsx(an,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"  "}),o.jsx(Ql,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),o.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:o.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",o.jsx("button",{onClick:()=>e("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const rye=Au({newPassword:Ur().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:Ur().min(1,"   ")}).refine(e=>e.newPassword===e.confirmPassword,{message:"   ",path:["confirmPassword"]});function nye(){const[,e]=zs(),{toast:r}=pn(),[t,s]=E.useState(!1),[n,i]=E.useState(null),[a,l]=E.useState(null),[u,c]=E.useState(!1),[d,p]=E.useState(!1),f=oc({resolver:lc(rye),defaultValues:{newPassword:"",confirmPassword:""}});E.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(i(m),l(!0)):l(!1)},[]);const h=Pt({mutationFn:async y=>{if(!n)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(s(!0),r({title:"    ",description:"      "})):r({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{r({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{h.mutate(y)};return a===!1?o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[o.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:o.jsx(sc,{className:"w-12 h-12 text-red-500"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),o.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx(Ie,{onClick:()=>e("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),o.jsx(Ie,{variant:"ghost",onClick:()=>e("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):t?o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:o.jsx(zo,{className:"w-12 h-12 text-blue-600"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),o.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),o.jsx(Ie,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[o.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),o.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),children:o.jsxs("div",{className:"flex gap-0.5",children:[o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[o.jsx("div",{className:"relative mb-4 group cursor-pointer",children:o.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[o.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),o.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),o.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),o.jsx("div",{className:"text-center relative",children:o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[o.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),o.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),o.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),o.jsx(uc,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[o.jsx(rn,{control:f.control,name:"newPassword",render:({field:y})=>o.jsxs(Jr,{children:[o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),o.jsx(sn,{children:o.jsx(vt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),o.jsx("button",{type:"button",onClick:()=>c(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?o.jsx(pu,{className:"w-5 h-5 text-blue-600"}):o.jsx(vh,{className:"w-5 h-5 text-blue-600/30"})})]}),o.jsx(Rn,{})]})}),o.jsx(rn,{control:f.control,name:"confirmPassword",render:({field:y})=>o.jsxs(Jr,{children:[o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),o.jsx(sn,{children:o.jsx(vt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),o.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?o.jsx(pu,{className:"w-5 h-5 text-blue-600"}):o.jsx(vh,{className:"w-5 h-5 text-blue-600/30"})})]}),o.jsx(Rn,{})]})}),o.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:h.isPending,children:h.isPending?o.jsx(an,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[o.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),o.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),o.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const sye=Au({email:Ur().email("   ")});function iye(){const[,e]=zs(),{toast:r}=pn(),[t,s]=E.useState(!1),n=oc({resolver:lc(sye),defaultValues:{email:""}}),i=Pt({mutationFn:async a=>{const l=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const u=await l.json();throw new Error(u.message||"   ")}return l.json()},onSuccess:()=>{s(!0),r({title:"  ",description:"        "})},onError:a=>{r({title:"  ",description:a.message,variant:"destructive"})}});return t?o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:o.jsx(zo,{className:"w-12 h-12 text-blue-600"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),o.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),o.jsx(Ie,{onClick:()=>e("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):o.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),o.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[o.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),o.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>e("/login"),"data-testid":"button-back",children:o.jsxs("div",{className:"flex gap-0.5",children:[o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),o.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[o.jsx("div",{className:"relative mb-4 group cursor-pointer",children:o.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[o.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),o.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),o.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),o.jsx("div",{className:"text-center relative",children:o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[o.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),o.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),o.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),o.jsx(uc,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(a=>i.mutate(a)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[o.jsx(rn,{control:n.control,name:"email",render:({field:a})=>o.jsxs(Jr,{children:[o.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[o.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),o.jsx(sn,{children:o.jsx(vt,{...a,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),o.jsx(dS,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),o.jsx(Rn,{})]})}),o.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:i.isPending,"data-testid":"button-submit",children:i.isPending?o.jsx(an,{className:"animate-spin h-5 w-5"}):"  "}),o.jsx("div",{className:"text-center pt-2",children:o.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",o.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[o.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),o.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),o.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),o.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const aye=Xd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tq=E.forwardRef(({className:e,variant:r,...t},s)=>o.jsx("div",{ref:s,role:"alert",className:Ae(aye({variant:r}),e),...t}));tq.displayName="Alert";const oye=E.forwardRef(({className:e,...r},t)=>o.jsx("h5",{ref:t,className:Ae("mb-1 font-medium leading-none tracking-tight",e),...r}));oye.displayName="AlertTitle";const rq=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,className:Ae("text-sm [&_p]:leading-relaxed",e),...r}));rq.displayName="AlertDescription";const lye=Au({code:Ur().length(6,"     6 ").regex(/^\d+$/,"       ")}),wA=()=>o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),o.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function cye(){const[,e]=zs(),{toast:r}=pn(),[t,s]=E.useState("input"),[n,i]=E.useState({}),[a,l]=E.useState(0),[u,c]=E.useState(!1);E.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),x=m.get("email"),k=m.get("token");v&&x&&i({id:v,email:x}),k&&v&&(console.log(" [EmailVerification]    :",{token:k,userId:v}),p.mutate({code:k,userId:v}))},[]),E.useEffect(()=>{let m;return a>0&&(m=setTimeout(()=>l(a-1),1e3)),()=>clearTimeout(m)},[a]);const d=oc({resolver:lc(lye),defaultValues:{code:""}}),p=Pt({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||n.id});const v=m.userId||n.id;if(!v)throw new Error("  ");const x=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),k=await x.json();if(!x.ok)throw new Error(k.message||"   ");return k},onSuccess:m=>{console.log(" [EmailVerification]   :",m),m.success?(s("verified"),r({title:" ! ",description:m.message}),setTimeout(()=>{e("/login")},3e3)):(s("error"),r({title:" ",description:m.message,variant:"destructive"}))},onError:m=>{console.error(" [EmailVerification]   :",m),s("error"),r({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=Pt({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!n.id||!n.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n.id,email:n.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),r({title:"  ",description:m.message}),l(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),r({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),h=m=>{p.mutate(m)},g=()=>{a===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),c(!0),r({title:" !",description:"     "}),setTimeout(()=>c(!1),2e3)}catch{r({title:" ",description:"    ",variant:"destructive"})}else r({title:"   ",description:"    ",variant:"destructive"})};return t==="verified"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[o.jsx(wA,{}),o.jsxs(ir,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[o.jsxs(fs,{className:"text-center space-y-1",children:[o.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:o.jsx(zo,{className:"w-10 h-10 text-white dark:text-blue-600"})}),o.jsx(xs,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),o.jsx(ru,{className:"text-lg",children:"    "})]}),o.jsx(br,{className:"space-y-1",children:o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("p",{className:"text-gray-600",children:"       ..."}),o.jsx(Ie,{onClick:()=>e("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):o.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[o.jsx(wA,{}),o.jsxs(ir,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[o.jsxs(fs,{className:"text-center space-y-1",children:[o.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:o.jsx(dS,{className:"w-10 h-10 text-white dark:text-blue-600"})}),o.jsx(xs,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),o.jsx(ru,{className:"text-lg",children:"      "}),n.email&&o.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",n.email]})]}),o.jsxs(br,{className:"space-y-1",children:[t==="error"&&o.jsx(tq,{className:"border-red-200 bg-red-50",children:o.jsx(rq,{className:"text-red-700",children:"    .        ."})}),o.jsx(uc,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-1",children:[o.jsx(rn,{control:d.control,name:"code",render:({field:m})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-gray-700 font-medium",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(sn,{children:o.jsx(vt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:p.isPending,"data-testid":"input-verification-code",onChange:v=>{const x=v.target.value.replace(/\D/g,"");m.onChange(x)}})}),o.jsx(Ie,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?o.jsx($o,{className:"h-4 w-4 text-green-600"}):o.jsx(Vf,{className:"h-4 w-4 text-gray-500"})})]}),o.jsx(Rn,{})]})}),o.jsx(Ie,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:p.isPending,"data-testid":"button-verify-email",children:p.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ie,{variant:"outline",onClick:g,disabled:a>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):a>0?o.jsxs(o.Fragment,{children:[o.jsx(Un,{className:"w-4 h-4 mr-2"})," ",a," "]}):o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"w-4 h-4 mr-2"}),"  "]})}),o.jsxs(Ie,{variant:"ghost",onClick:()=>e("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[o.jsx(Nse,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:"       "}),o.jsx("li",{children:"    24  "}),o.jsx("li",{children:"    6 "})]})]})]})]})]})}const kl=Object.create(null);kl.open="0";kl.close="1";kl.ping="2";kl.pong="3";kl.message="4";kl.upgrade="5";kl.noop="6";const hb=Object.create(null);Object.keys(kl).forEach(e=>{hb[kl[e]]=e});const e4={type:"error",data:"parser error"},nq=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sq=typeof ArrayBuffer=="function",iq=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,g6=({type:e,data:r},t,s)=>nq&&r instanceof Blob?t?s(r):_A(r,s):sq&&(r instanceof ArrayBuffer||iq(r))?t?s(r):_A(new Blob([r]),s):s(kl[e]+(r||"")),_A=(e,r)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];r("b"+(s||""))},t.readAsDataURL(e)};function kA(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let U2;function uye(e,r){if(nq&&e.data instanceof Blob)return e.data.arrayBuffer().then(kA).then(r);if(sq&&(e.data instanceof ArrayBuffer||iq(e.data)))return r(kA(e.data));g6(e,!1,t=>{U2||(U2=new TextEncoder),r(U2.encode(t))})}const SA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",am=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<SA.length;e++)am[SA.charCodeAt(e)]=e;const dye=e=>{let r=e.length*.75,t=e.length,s,n=0,i,a,l,u;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const c=new ArrayBuffer(r),d=new Uint8Array(c);for(s=0;s<t;s+=4)i=am[e.charCodeAt(s)],a=am[e.charCodeAt(s+1)],l=am[e.charCodeAt(s+2)],u=am[e.charCodeAt(s+3)],d[n++]=i<<2|a>>4,d[n++]=(a&15)<<4|l>>2,d[n++]=(l&3)<<6|u&63;return c},fye=typeof ArrayBuffer=="function",y6=(e,r)=>{if(typeof e!="string")return{type:"message",data:aq(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:hye(e.substring(1),r)}:hb[t]?e.length>1?{type:hb[t],data:e.substring(1)}:{type:hb[t]}:e4},hye=(e,r)=>{if(fye){const t=dye(e);return aq(t,r)}else return{base64:!0,data:e}},aq=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},oq="",pye=(e,r)=>{const t=e.length,s=new Array(t);let n=0;e.forEach((i,a)=>{g6(i,!1,l=>{s[a]=l,++n===t&&r(s.join(oq))})})},mye=(e,r)=>{const t=e.split(oq),s=[];for(let n=0;n<t.length;n++){const i=y6(t[n],r);if(s.push(i),i.type==="error")break}return s};function gye(){return new TransformStream({transform(e,r){uye(e,t=>{const s=t.length;let n;if(s<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,s);else if(s<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(n[0]|=128),r.enqueue(n),r.enqueue(t)})}})}let V2;function By(e){return e.reduce((r,t)=>r+t.length,0)}function Uy(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let s=0;for(let n=0;n<r;n++)t[n]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),t}function yye(e,r){V2||(V2=new TextDecoder);const t=[];let s=0,n=-1,i=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(s===0){if(By(t)<1)break;const u=Uy(t,1);i=(u[0]&128)===128,n=u[0]&127,n<126?s=3:n===126?s=1:s=2}else if(s===1){if(By(t)<2)break;const u=Uy(t,2);n=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),s=3}else if(s===2){if(By(t)<8)break;const u=Uy(t,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(e4);break}n=d*Math.pow(2,32)+c.getUint32(4),s=3}else{if(By(t)<n)break;const u=Uy(t,n);l.enqueue(y6(i?u:V2.decode(u),r)),s=0}if(n===0||n>e){l.enqueue(e4);break}}}})}const lq=4;function ws(e){if(e)return bye(e)}function bye(e){for(var r in ws.prototype)e[r]=ws.prototype[r];return e}ws.prototype.on=ws.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};ws.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};ws.prototype.off=ws.prototype.removeListener=ws.prototype.removeAllListeners=ws.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,n=0;n<t.length;n++)if(s=t[n],s===r||s.fn===r){t.splice(n,1);break}return t.length===0&&delete this._callbacks["$"+e],this};ws.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,n=t.length;s<n;++s)t[s].apply(this,r)}return this};ws.prototype.emitReserved=ws.prototype.emit;ws.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ws.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Gx=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,t)=>t(r,0),ro=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),vye="arraybuffer";function cq(e,...r){return r.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{})}const xye=ro.setTimeout,wye=ro.clearTimeout;function Xx(e,r){r.useNativeTimers?(e.setTimeoutFn=xye.bind(ro),e.clearTimeoutFn=wye.bind(ro)):(e.setTimeoutFn=ro.setTimeout.bind(ro),e.clearTimeoutFn=ro.clearTimeout.bind(ro))}const _ye=1.33;function kye(e){return typeof e=="string"?Sye(e):Math.ceil((e.byteLength||e.size)*_ye)}function Sye(e){let r=0,t=0;for(let s=0,n=e.length;s<n;s++)r=e.charCodeAt(s),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(s++,t+=4);return t}function uq(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function jye(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function Nye(e){let r={},t=e.split("&");for(let s=0,n=t.length;s<n;s++){let i=t[s].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}class Cye extends Error{constructor(r,t,s){super(r),this.description=t,this.context=s,this.type="TransportError"}}class b6 extends ws{constructor(r){super(),this.writable=!1,Xx(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,t,s){return super.emitReserved("error",new Cye(r,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=y6(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=jye(r);return t.length?"?"+t:""}}class Tye extends b6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};mye(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,pye(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=uq()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}}let dq=!1;try{dq=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Eye=dq;function Aye(){}class Pye extends Tye{constructor(r){if(super(r),typeof location<"u"){const t=location.protocol==="https:";let s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||s!==r.port}}doWrite(r,t){const s=this.request({method:"POST",data:r});s.on("success",t),s.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=r}}class yl extends ws{constructor(r,t,s){super(),this.createRequest=r,Xx(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var r;const t=cq(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&s.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var n;s.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=yl.requestsCount++,yl.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Aye,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yl.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yl.requestsCount=0;yl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jA);else if(typeof addEventListener=="function"){const e="onpagehide"in ro?"pagehide":"unload";addEventListener(e,jA,!1)}}function jA(){for(let e in yl.requests)yl.requests.hasOwnProperty(e)&&yl.requests[e].abort()}const Iye=(function(){const e=fq({xdomain:!1});return e&&e.responseType!==null})();class Dye extends Pye{constructor(r){super(r);const t=r&&r.forceBase64;this.supportsBinary=Iye&&!t}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new yl(fq,this.uri(),r)}}function fq(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Eye))return new XMLHttpRequest}catch{}if(!r)try{return new ro[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const hq=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Mye extends b6{get name(){return"websocket"}doOpen(){const r=this.uri(),t=this.opts.protocols,s=hq?{}:cq(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,t,s)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],n=t===r.length-1;g6(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}n&&Gx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uq()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}}const W2=ro.WebSocket||ro.MozWebSocket;class Rye extends Mye{createSocket(r,t,s){return hq?new W2(r,t,s):t?new W2(r,t):new W2(r)}doWrite(r,t){this.ws.send(t)}}class $ye extends b6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const t=yye(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=r.readable.pipeThrough(t).getReader(),n=gye();n.readable.pipeTo(r.writable),this._writer=n.writable.getWriter();const i=()=>{s.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const s=r[t],n=t===r.length-1;this._writer.write(s).then(()=>{n&&Gx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const Oye={websocket:Rye,webtransport:$ye,polling:Dye},Fye=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lye=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function t4(e){if(e.length>8e3)throw"URI too long";const r=e,t=e.indexOf("["),s=e.indexOf("]");t!=-1&&s!=-1&&(e=e.substring(0,t)+e.substring(t,s).replace(/:/g,";")+e.substring(s,e.length));let n=Fye.exec(e||""),i={},a=14;for(;a--;)i[Lye[a]]=n[a]||"";return t!=-1&&s!=-1&&(i.source=r,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=zye(i,i.path),i.queryKey=Bye(i,i.query),i}function zye(e,r){const t=/\/{2,9}/g,s=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&s.splice(0,1),r.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Bye(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,n,i){n&&(t[n]=i)}),t}const r4=typeof addEventListener=="function"&&typeof removeEventListener=="function",pb=[];r4&&addEventListener("offline",()=>{pb.forEach(e=>e())},!1);class su extends ws{constructor(r,t){if(super(),this.binaryType=vye,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(t=r,r=null),r){const s=t4(r);t.hostname=s.host,t.secure=s.protocol==="https"||s.protocol==="wss",t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=t4(t.host).host);Xx(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(s=>{const n=s.prototype.name;this.transports.push(n),this._transportsByName[n]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Nye(this.opts.query)),r4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=lq,t.transport=r,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&su.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(r);t.open(),this.setTransport(t)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",su.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=r.data,this._onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=kye(n)),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Gx(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,t,s){return this._sendPacket("message",r,t,s),this}send(r,t,s){return this._sendPacket("message",r,t,s),this}_sendPacket(r,t,s,n){if(typeof t=="function"&&(n=t,t=void 0),typeof s=="function"&&(n=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:r,data:t,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():r()}):this.upgrading?s():r()),this}_onError(r){if(su.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),r4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=pb.indexOf(this._offlineEventListener);s!==-1&&pb.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this._prevBufferLen=0}}}su.protocol=lq;class Uye extends su{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let t=this.createTransport(r),s=!1;su.priorWebsocketSuccess=!1;const n=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!s)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;su.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function i(){s||(s=!0,d(),t.close(),t=null)}const a=p=>{const f=new Error("probe error: "+p);f.transport=t.name,i(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function u(){a("socket closed")}function c(p){t&&p.name!==t.name&&i()}const d=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",l),this.off("close",u),this.off("upgrading",c)};t.once("open",n),t.once("error",a),t.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const t=[];for(let s=0;s<r.length;s++)~this.transports.indexOf(r[s])&&t.push(r[s]);return t}}let Vye=class extends Uye{constructor(r,t={}){const s=typeof r=="object"?r:t;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(n=>Oye[n]).filter(n=>!!n)),super(r,s)}};function Wye(e,r="",t){let s=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),s=t4(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+r,s.href=s.protocol+"://"+i+(t&&t.port===s.port?"":":"+s.port),s}const qye=typeof ArrayBuffer=="function",Hye=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,pq=Object.prototype.toString,Kye=typeof Blob=="function"||typeof Blob<"u"&&pq.call(Blob)==="[object BlobConstructor]",Zye=typeof File=="function"||typeof File<"u"&&pq.call(File)==="[object FileConstructor]";function v6(e){return qye&&(e instanceof ArrayBuffer||Hye(e))||Kye&&e instanceof Blob||Zye&&e instanceof File}function mb(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if(mb(e[t]))return!0;return!1}if(v6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return mb(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&mb(e[t]))return!0;return!1}function Gye(e){const r=[],t=e.data,s=e;return s.data=n4(t,r),s.attachments=r.length,{packet:s,buffers:r}}function n4(e,r){if(!e)return e;if(v6(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=n4(e[s],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=n4(e[s],r));return t}return e}function Xye(e,r){return e.data=s4(e.data,r),delete e.attachments,e}function s4(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=s4(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=s4(e[t],r));return e}const Qye=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Qr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Qr||(Qr={}));class Yye{constructor(r){this.replacer=r}encode(r){return(r.type===Qr.EVENT||r.type===Qr.ACK)&&mb(r)?this.encodeAsBinary({type:r.type===Qr.EVENT?Qr.BINARY_EVENT:Qr.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Qr.BINARY_EVENT||r.type===Qr.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=Gye(r),s=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(s),n}}class x6 extends ws{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const s=t.type===Qr.BINARY_EVENT;s||t.type===Qr.BINARY_ACK?(t.type=s?Qr.EVENT:Qr.ACK,this.reconstructor=new Jye(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(v6(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const s={type:Number(r.charAt(0))};if(Qr[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Qr.BINARY_EVENT||s.type===Qr.BINARY_ACK){const i=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const a=r.substring(i,t);if(a!=Number(a)||r.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(r.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););s.nsp=r.substring(i,t)}else s.nsp="/";const n=r.charAt(t+1);if(n!==""&&Number(n)==n){const i=t+1;for(;++t;){const a=r.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===r.length)break}s.id=Number(r.substring(i,t+1))}if(r.charAt(++t)){const i=this.tryParse(r.substr(t));if(x6.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t){switch(r){case Qr.CONNECT:return NA(t);case Qr.DISCONNECT:return t===void 0;case Qr.CONNECT_ERROR:return typeof t=="string"||NA(t);case Qr.EVENT:case Qr.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Qye.indexOf(t[0])===-1);case Qr.ACK:case Qr.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jye{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=Xye(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function NA(e){return Object.prototype.toString.call(e)==="[object Object]"}const ebe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:x6,Encoder:Yye,get PacketType(){return Qr}},Symbol.toStringTag,{value:"Module"}));function Po(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const tbe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mq extends ws{constructor(r,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Po(r,"open",this.onopen.bind(this)),Po(r,"packet",this.onpacket.bind(this)),Po(r,"error",this.onerror.bind(this)),Po(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){var s,n,i;if(tbe.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:Qr.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,p=t.pop();this._registerAckCallback(d,p),a.id=d}const l=(n=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||n===void 0?void 0:n.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(r,t){var s;const n=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(n===void 0){this.acks[r]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===r&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},n),a=(...l)=>{this.io.clearTimeoutFn(i),t.apply(this,l)};a.withError=!0,this.acks[r]=a}emitWithAck(r,...t){return new Promise((s,n)=>{const i=(a,l)=>a?n(a):s(l);i.withError=!0,t.push(i),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((n,...i)=>(this._queue[0],n!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Qr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(s=>String(s.id)===r)){const s=this.acks[r];delete this.acks[r],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Qr.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qr.EVENT:case Qr.BINARY_EVENT:this.onevent(r);break;case Qr.ACK:case Qr.BINARY_ACK:this.onack(r);break;case Qr.DISCONNECT:this.ondisconnect();break;case Qr.CONNECT_ERROR:this.destroy();const s=new Error(r.data.message);s.data=r.data.data,this.emitReserved("connect_error",s);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let s=!1;return function(...n){s||(s=!0,t.packet({type:Qr.ACK,id:r,data:n}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(r===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,r.data)}}}function np(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}np.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};np.prototype.reset=function(){this.attempts=0};np.prototype.setMin=function(e){this.ms=e};np.prototype.setMax=function(e){this.max=e};np.prototype.setJitter=function(e){this.jitter=e};class i4 extends ws{constructor(r,t){var s;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Xx(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new np({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const n=t.parser||ebe;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Vye(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=Po(t,"open",function(){s.onopen(),r&&r()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),r?r(l):this.maybeReconnectOnOpen()},a=Po(t,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),t.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(n),this.subs.push(a),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Po(r,"ping",this.onping.bind(this)),Po(r,"data",this.ondata.bind(this)),Po(r,"error",this.onerror.bind(this)),Po(r,"close",this.onclose.bind(this)),Po(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){Gx(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let s=this.nsps[r];return s?this._autoConnect&&!s.active&&s.connect():(s=new mq(this,r,t),this.nsps[r]=s),s}_destroy(r){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let s=0;s<t.length;s++)this.engine.write(t[s],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,t){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(n=>{n?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",n)):r.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Gp={};function gb(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=Wye(e,r.path||"/socket.io"),s=t.source,n=t.id,i=t.path,a=Gp[n]&&i in Gp[n].nsps,l=r.forceNew||r["force new connection"]||r.multiplex===!1||a;let u;return l?u=new i4(s,r):(Gp[n]||(Gp[n]=new i4(s,r)),u=Gp[n]),t.query&&!r.query&&(r.query=t.queryKey),u.socket(t.path,r)}Object.assign(gb,{Manager:i4,Socket:mq,io:gb,connect:gb});function rbe(){const e=Ss(),{toast:r}=pn(),t=E.useRef(null);E.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const n=gb({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});t.current=n,n.on("connect",()=>{console.log(" [Socket.IO]   !",n.id)}),n.on("disconnect",i=>{console.log(" [Socket.IO]   :",i)}),n.on("error",i=>{console.error(" [Socket.IO] :",i)}),n.on("message",i=>{try{if(console.log(" [Socket.IO]  :",i),i.type==="INVALIDATE"){const a=[i.entity,i.id].filter(Boolean);console.log(" [Socket.IO]   cache:",a),e.invalidateQueries({queryKey:a})}else i.type==="UPDATE_ALL"&&e.invalidateQueries({queryKey:[i.entity],exact:!1})}catch(a){console.error(" [Socket.IO]    :",a)}})}catch(n){console.error(" [Socket.IO]   :",n)}})(),()=>{t.current&&t.current.disconnect()}),[e,r])}var Qx="Collapsible",[nbe]=mi(Qx),[sbe,w6]=nbe(Qx),gq=E.forwardRef((e,r)=>{const{__scopeCollapsible:t,open:s,defaultOpen:n,disabled:i,onOpenChange:a,...l}=e,[u,c]=fo({prop:s,defaultProp:n??!1,onChange:a,caller:Qx});return o.jsx(sbe,{scope:t,disabled:i,contentId:Pa(),open:u,onOpenToggle:E.useCallback(()=>c(d=>!d),[c]),children:o.jsx(qt.div,{"data-state":k6(u),"data-disabled":i?"":void 0,...l,ref:r})})});gq.displayName=Qx;var yq="CollapsibleTrigger",bq=E.forwardRef((e,r)=>{const{__scopeCollapsible:t,...s}=e,n=w6(yq,t);return o.jsx(qt.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":k6(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...s,ref:r,onClick:mt(e.onClick,n.onOpenToggle)})});bq.displayName=yq;var _6="CollapsibleContent",vq=E.forwardRef((e,r)=>{const{forceMount:t,...s}=e,n=w6(_6,e.__scopeCollapsible);return o.jsx(js,{present:t||n.open,children:({present:i})=>o.jsx(ibe,{...s,ref:r,present:i})})});vq.displayName=_6;var ibe=E.forwardRef((e,r)=>{const{__scopeCollapsible:t,present:s,children:n,...i}=e,a=w6(_6,t),[l,u]=E.useState(s),c=E.useRef(null),d=Er(r,c),p=E.useRef(0),f=p.current,h=E.useRef(0),g=h.current,y=a.open||l,m=E.useRef(y),v=E.useRef(void 0);return E.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),ri(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const k=x.getBoundingClientRect();p.current=k.height,h.current=k.width,m.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),u(s)}},[a.open,s]),o.jsx(qt.div,{"data-state":k6(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&n})});function k6(e){return e?"open":"closed"}var abe=gq;const Ga=abe,Xa=bq,Qa=vq;function a4(e,[r,t]){return Math.min(t,Math.max(r,e))}var obe=E.createContext(void 0);function sp(e){const r=E.useContext(obe);return e||r||"ltr"}function lbe(e){const r=cbe(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(dbe);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function cbe(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=hbe(n),l=fbe(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var ube=Symbol("radix.slottable");function dbe(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ube}function fbe(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function hbe(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var xq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pbe="VisuallyHidden",mbe=E.forwardRef((e,r)=>o.jsx(qt.span,{...e,ref:r,style:{...xq,...e.style}}));mbe.displayName=pbe;var gbe=[" ","Enter","ArrowUp","ArrowDown"],ybe=[" ","Enter"],Fd="Select",[Yx,Jx,bbe]=Tv(Fd),[ip]=mi(Fd,[bbe,Tu]),e1=Tu(),[vbe,Iu]=ip(Fd),[xbe,wbe]=ip(Fd),wq=e=>{const{__scopeSelect:r,children:t,open:s,defaultOpen:n,onOpenChange:i,value:a,defaultValue:l,onValueChange:u,dir:c,name:d,autoComplete:p,disabled:f,required:h,form:g}=e,y=e1(r),[m,v]=E.useState(null),[x,k]=E.useState(null),[T,A]=E.useState(!1),L=sp(c),[q,D]=fo({prop:s,defaultProp:n??!1,onChange:i,caller:Fd}),[$,z]=fo({prop:a,defaultProp:l,onChange:u,caller:Fd}),K=E.useRef(null),W=m?g||!!m.closest("form"):!0,[P,R]=E.useState(new Set),C=Array.from(P).map(_=>_.props.value).join(";");return o.jsx(Mv,{...y,children:o.jsxs(vbe,{required:h,scope:r,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:A,contentId:Pa(),value:$,onValueChange:z,open:q,onOpenChange:D,dir:L,triggerPointerDownPosRef:K,disabled:f,children:[o.jsx(Yx.Provider,{scope:r,children:o.jsx(xbe,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(_=>{R(S=>new Set(S).add(_))},[]),onNativeOptionRemove:E.useCallback(_=>{R(S=>{const j=new Set(S);return j.delete(_),j})},[]),children:t})}),W?o.jsxs(qq,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:$,onChange:_=>z(_.target.value),disabled:f,form:g,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(P)]},C):null]})})};wq.displayName=Fd;var _q="SelectTrigger",kq=E.forwardRef((e,r)=>{const{__scopeSelect:t,disabled:s=!1,...n}=e,i=e1(t),a=Iu(_q,t),l=a.disabled||s,u=Er(r,a.onTriggerChange),c=Jx(t),d=E.useRef("touch"),[p,f,h]=Kq(y=>{const m=c().filter(k=>!k.disabled),v=m.find(k=>k.value===a.value),x=Zq(m,y,v);x!==void 0&&a.onValueChange(x.value)}),g=y=>{l||(a.onOpenChange(!0),h()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(jg,{asChild:!0,...i,children:o.jsx(qt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Hq(a.value)?"":void 0,...n,ref:u,onClick:mt(n.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:mt(n.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:mt(n.onKeyDown,y=>{const m=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&gbe.includes(y.key)&&(g(),y.preventDefault())})})})});kq.displayName=_q;var Sq="SelectValue",jq=E.forwardRef((e,r)=>{const{__scopeSelect:t,className:s,style:n,children:i,placeholder:a="",...l}=e,u=Iu(Sq,t),{onValueNodeHasChildrenChange:c}=u,d=i!==void 0,p=Er(r,u.onValueNodeChange);return ri(()=>{c(d)},[c,d]),o.jsx(qt.span,{...l,ref:p,style:{pointerEvents:"none"},children:Hq(u.value)?o.jsx(o.Fragment,{children:a}):i})});jq.displayName=Sq;var _be="SelectIcon",Nq=E.forwardRef((e,r)=>{const{__scopeSelect:t,children:s,...n}=e;return o.jsx(qt.span,{"aria-hidden":!0,...n,ref:r,children:s||""})});Nq.displayName=_be;var kbe="SelectPortal",Cq=e=>o.jsx(Vh,{asChild:!0,...e});Cq.displayName=kbe;var Ld="SelectContent",Tq=E.forwardRef((e,r)=>{const t=Iu(Ld,e.__scopeSelect),[s,n]=E.useState();if(ri(()=>{n(new DocumentFragment)},[]),!t.open){const i=s;return i?Zd.createPortal(o.jsx(Eq,{scope:e.__scopeSelect,children:o.jsx(Yx.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(Aq,{...e,ref:r})});Tq.displayName=Ld;var Co=10,[Eq,Du]=ip(Ld),Sbe="SelectContentImpl",jbe=lbe("SelectContent.RemoveScroll"),Aq=E.forwardRef((e,r)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=e,x=Iu(Ld,t),[k,T]=E.useState(null),[A,L]=E.useState(null),q=Er(r,Y=>T(Y)),[D,$]=E.useState(null),[z,K]=E.useState(null),W=Jx(t),[P,R]=E.useState(!1),C=E.useRef(!1);E.useEffect(()=>{if(k)return Kx(k)},[k]),qx();const _=E.useCallback(Y=>{const[V,...U]=W().map(me=>me.ref.current),[Z]=U.slice(-1),ie=document.activeElement;for(const me of Y)if(me===ie||(me?.scrollIntoView({block:"nearest"}),me===V&&A&&(A.scrollTop=0),me===Z&&A&&(A.scrollTop=A.scrollHeight),me?.focus(),document.activeElement!==ie))return},[W,A]),S=E.useCallback(()=>_([D,k]),[_,D,k]);E.useEffect(()=>{P&&S()},[P,S]);const{onOpenChange:j,triggerPointerDownPosRef:N}=x;E.useEffect(()=>{if(k){let Y={x:0,y:0};const V=Z=>{Y={x:Math.abs(Math.round(Z.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(Z.pageY)-(N.current?.y??0))}},U=Z=>{Y.x<=10&&Y.y<=10?Z.preventDefault():k.contains(Z.target)||j(!1),document.removeEventListener("pointermove",V),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",U,{capture:!0})}}},[k,j,N]),E.useEffect(()=>{const Y=()=>j(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[j]);const[M,O]=Kq(Y=>{const V=W().filter(ie=>!ie.disabled),U=V.find(ie=>ie.ref.current===document.activeElement),Z=Zq(V,Y,U);Z&&setTimeout(()=>Z.ref.current.focus())}),B=E.useCallback((Y,V,U)=>{const Z=!C.current&&!U;(x.value!==void 0&&x.value===V||Z)&&($(Y),Z&&(C.current=!0))},[x.value]),G=E.useCallback(()=>k?.focus(),[k]),Q=E.useCallback((Y,V,U)=>{const Z=!C.current&&!U;(x.value!==void 0&&x.value===V||Z)&&K(Y)},[x.value]),re=s==="popper"?o4:Pq,F=re===o4?{side:l,sideOffset:u,align:c,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return o.jsx(Eq,{scope:t,content:k,viewport:A,onViewportChange:L,itemRefCallback:B,selectedItem:D,onItemLeave:G,itemTextRefCallback:Q,focusSelectedItem:S,selectedItemText:z,position:s,isPositioned:P,searchRef:M,children:o.jsx(n0,{as:jbe,allowPinchZoom:!0,children:o.jsx(r0,{asChild:!0,trapped:x.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:mt(n,Y=>{x.trigger?.focus({preventScroll:!0}),Y.preventDefault()}),children:o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Y=>Y.preventDefault(),...v,...F,onPlaced:()=>R(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:mt(v.onKeyDown,Y=>{const V=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!V&&Y.key.length===1&&O(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Z=W().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ie=Y.target,me=Z.indexOf(ie);Z=Z.slice(me+1)}setTimeout(()=>_(Z)),Y.preventDefault()}})})})})})})});Aq.displayName=Sbe;var Nbe="SelectItemAlignedPosition",Pq=E.forwardRef((e,r)=>{const{__scopeSelect:t,onPlaced:s,...n}=e,i=Iu(Ld,t),a=Du(Ld,t),[l,u]=E.useState(null),[c,d]=E.useState(null),p=Er(r,q=>d(q)),f=Jx(t),h=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:x}=a,k=E.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&c&&y&&m&&v){const q=i.trigger.getBoundingClientRect(),D=c.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),z=v.getBoundingClientRect();if(i.dir!=="rtl"){const ie=z.left-D.left,me=$.left-ie,ce=q.left-me,ye=q.width+ce,ee=Math.max(ye,D.width),oe=window.innerWidth-Co,ne=a4(me,[Co,Math.max(Co,oe-ee)]);l.style.minWidth=ye+"px",l.style.left=ne+"px"}else{const ie=D.right-z.right,me=window.innerWidth-$.right-ie,ce=window.innerWidth-q.right-me,ye=q.width+ce,ee=Math.max(ye,D.width),oe=window.innerWidth-Co,ne=a4(me,[Co,Math.max(Co,oe-ee)]);l.style.minWidth=ye+"px",l.style.right=ne+"px"}const K=f(),W=window.innerHeight-Co*2,P=y.scrollHeight,R=window.getComputedStyle(c),C=parseInt(R.borderTopWidth,10),_=parseInt(R.paddingTop,10),S=parseInt(R.borderBottomWidth,10),j=parseInt(R.paddingBottom,10),N=C+_+P+j+S,M=Math.min(m.offsetHeight*5,N),O=window.getComputedStyle(y),B=parseInt(O.paddingTop,10),G=parseInt(O.paddingBottom,10),Q=q.top+q.height/2-Co,re=W-Q,F=m.offsetHeight/2,Y=m.offsetTop+F,V=C+_+Y,U=N-V;if(V<=Q){const ie=K.length>0&&m===K[K.length-1].ref.current;l.style.bottom="0px";const me=c.clientHeight-y.offsetTop-y.offsetHeight,ce=Math.max(re,F+(ie?G:0)+me+S),ye=V+ce;l.style.height=ye+"px"}else{const ie=K.length>0&&m===K[0].ref.current;l.style.top="0px";const ce=Math.max(Q,C+y.offsetTop+(ie?B:0)+F)+U;l.style.height=ce+"px",y.scrollTop=V-Q+y.offsetTop}l.style.margin=`${Co}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=W+"px",s?.(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,l,c,y,m,v,i.dir,s]);ri(()=>k(),[k]);const[T,A]=E.useState();ri(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const L=E.useCallback(q=>{q&&g.current===!0&&(k(),x?.(),g.current=!1)},[k,x]);return o.jsx(Tbe,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:L,children:o.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(qt.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Pq.displayName=Nbe;var Cbe="SelectPopperPosition",o4=E.forwardRef((e,r)=>{const{__scopeSelect:t,align:s="start",collisionPadding:n=Co,...i}=e,a=e1(t);return o.jsx(Rv,{...a,...i,ref:r,align:s,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o4.displayName=Cbe;var[Tbe,S6]=ip(Ld,{}),l4="SelectViewport",Iq=E.forwardRef((e,r)=>{const{__scopeSelect:t,nonce:s,...n}=e,i=Du(l4,t),a=S6(l4,t),l=Er(r,i.onViewportChange),u=E.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Yx.Slot,{scope:t,children:o.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:mt(n.onScroll,c=>{const d=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=a;if(f?.current&&p){const h=Math.abs(u.current-d.scrollTop);if(h>0){const g=window.innerHeight-Co*2,y=parseFloat(p.style.minHeight),m=parseFloat(p.style.height),v=Math.max(y,m);if(v<g){const x=v+h,k=Math.min(g,x),T=x-k;p.style.height=k+"px",p.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});Iq.displayName=l4;var Dq="SelectGroup",[Ebe,Abe]=ip(Dq),Pbe=E.forwardRef((e,r)=>{const{__scopeSelect:t,...s}=e,n=Pa();return o.jsx(Ebe,{scope:t,id:n,children:o.jsx(qt.div,{role:"group","aria-labelledby":n,...s,ref:r})})});Pbe.displayName=Dq;var Mq="SelectLabel",Rq=E.forwardRef((e,r)=>{const{__scopeSelect:t,...s}=e,n=Abe(Mq,t);return o.jsx(qt.div,{id:n.id,...s,ref:r})});Rq.displayName=Mq;var nv="SelectItem",[Ibe,$q]=ip(nv),Oq=E.forwardRef((e,r)=>{const{__scopeSelect:t,value:s,disabled:n=!1,textValue:i,...a}=e,l=Iu(nv,t),u=Du(nv,t),c=l.value===s,[d,p]=E.useState(i??""),[f,h]=E.useState(!1),g=Er(r,x=>u.itemRefCallback?.(x,s,n)),y=Pa(),m=E.useRef("touch"),v=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Ibe,{scope:t,value:s,disabled:n,textId:y,isSelected:c,onItemTextChange:E.useCallback(x=>{p(k=>k||(x?.textContent??"").trim())},[]),children:o.jsx(Yx.ItemSlot,{scope:t,value:s,disabled:n,textValue:d,children:o.jsx(qt.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...a,ref:g,onFocus:mt(a.onFocus,()=>h(!0)),onBlur:mt(a.onBlur,()=>h(!1)),onClick:mt(a.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:mt(a.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:mt(a.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:mt(a.onPointerMove,x=>{m.current=x.pointerType,n?u.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(a.onPointerLeave,x=>{x.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:mt(a.onKeyDown,x=>{u.searchRef?.current!==""&&x.key===" "||(ybe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});Oq.displayName=nv;var om="SelectItemText",Fq=E.forwardRef((e,r)=>{const{__scopeSelect:t,className:s,style:n,...i}=e,a=Iu(om,t),l=Du(om,t),u=$q(om,t),c=wbe(om,t),[d,p]=E.useState(null),f=Er(r,v=>p(v),u.onItemTextChange,v=>l.itemTextRefCallback?.(v,u.value,u.disabled)),h=d?.textContent,g=E.useMemo(()=>o.jsx("option",{value:u.value,disabled:u.disabled,children:h},u.value),[u.disabled,u.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=c;return ri(()=>(y(g),()=>m(g)),[y,m,g]),o.jsxs(o.Fragment,{children:[o.jsx(qt.span,{id:u.textId,...i,ref:f}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Zd.createPortal(i.children,a.valueNode):null]})});Fq.displayName=om;var Lq="SelectItemIndicator",zq=E.forwardRef((e,r)=>{const{__scopeSelect:t,...s}=e;return $q(Lq,t).isSelected?o.jsx(qt.span,{"aria-hidden":!0,...s,ref:r}):null});zq.displayName=Lq;var c4="SelectScrollUpButton",Bq=E.forwardRef((e,r)=>{const t=Du(c4,e.__scopeSelect),s=S6(c4,e.__scopeSelect),[n,i]=E.useState(!1),a=Er(r,s.onScrollButtonChange);return ri(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=u.scrollTop>0;i(c)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?o.jsx(Vq,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});Bq.displayName=c4;var u4="SelectScrollDownButton",Uq=E.forwardRef((e,r)=>{const t=Du(u4,e.__scopeSelect),s=S6(u4,e.__scopeSelect),[n,i]=E.useState(!1),a=Er(r,s.onScrollButtonChange);return ri(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;i(d)};const u=t.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),n?o.jsx(Vq,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=t;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});Uq.displayName=u4;var Vq=E.forwardRef((e,r)=>{const{__scopeSelect:t,onAutoScroll:s,...n}=e,i=Du("SelectScrollButton",t),a=E.useRef(null),l=Jx(t),u=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),ri(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(qt.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:mt(n.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:mt(n.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:mt(n.onPointerLeave,()=>{u()})})}),Dbe="SelectSeparator",Wq=E.forwardRef((e,r)=>{const{__scopeSelect:t,...s}=e;return o.jsx(qt.div,{"aria-hidden":!0,...s,ref:r})});Wq.displayName=Dbe;var d4="SelectArrow",Mbe=E.forwardRef((e,r)=>{const{__scopeSelect:t,...s}=e,n=e1(t),i=Iu(d4,t),a=Du(d4,t);return i.open&&a.position==="popper"?o.jsx($v,{...n,...s,ref:r}):null});Mbe.displayName=d4;var Rbe="SelectBubbleInput",qq=E.forwardRef(({__scopeSelect:e,value:r,...t},s)=>{const n=E.useRef(null),i=Er(s,n),a=o6(r);return E.useEffect(()=>{const l=n.current;if(!l)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==r&&d){const p=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(p)}},[a,r]),o.jsx(qt.select,{...t,style:{...xq,...t.style},ref:i,defaultValue:r})});qq.displayName=Rbe;function Hq(e){return e===""||e===void 0}function Kq(e){const r=ji(e),t=E.useRef(""),s=E.useRef(0),n=E.useCallback(a=>{const l=t.current+a;r(l),(function u(c){t.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[r]),i=E.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,n,i]}function Zq(e,r,t){const n=r.length>1&&Array.from(r).every(c=>c===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let a=$be(e,Math.max(i,0));n.length===1&&(a=a.filter(c=>c!==t));const u=a.find(c=>c.textValue.toLowerCase().startsWith(n.toLowerCase()));return u!==t?u:void 0}function $be(e,r){return e.map((t,s)=>e[(r+s)%e.length])}var Obe=wq,Gq=kq,Fbe=jq,Lbe=Nq,zbe=Cq,Xq=Tq,Bbe=Iq,Qq=Rq,Yq=Oq,Ube=Fq,Vbe=zq,Jq=Bq,eH=Uq,tH=Wq;const es=e=>o.jsx(Obe,{modal:!1,...e}),ts=Fbe,Wn=E.forwardRef(({className:e,children:r,...t},s)=>o.jsxs(Gq,{ref:s,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,o.jsx(Lbe,{asChild:!0,children:o.jsx(Bn,{className:"h-4 w-4 opacity-50"})})]}));Wn.displayName=Gq.displayName;const rH=E.forwardRef(({className:e,...r},t)=>o.jsx(Jq,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",e),...r,children:o.jsx(Lo,{className:"h-4 w-4"})}));rH.displayName=Jq.displayName;const nH=E.forwardRef(({className:e,...r},t)=>o.jsx(eH,{ref:t,className:Ae("flex cursor-default items-center justify-center py-1",e),...r,children:o.jsx(Bn,{className:"h-4 w-4"})}));nH.displayName=eH.displayName;const qn=E.forwardRef(({className:e,children:r,position:t="popper",...s},n)=>o.jsx(zbe,{children:o.jsxs(Xq,{ref:n,className:Ae("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,style:{pointerEvents:"auto"},...s,children:[o.jsx(rH,{}),o.jsx(Bbe,{className:Ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),o.jsx(nH,{})]})}));qn.displayName=Xq.displayName;const Wbe=E.forwardRef(({className:e,...r},t)=>o.jsx(Qq,{ref:t,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));Wbe.displayName=Qq.displayName;const zt=E.forwardRef(({className:e,children:r,...t},s)=>o.jsxs(Yq,{ref:s,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Vbe,{children:o.jsx($o,{className:"h-4 w-4"})})}),o.jsx(Ube,{children:r})]}));zt.displayName=Yq.displayName;const qbe=E.forwardRef(({className:e,...r},t)=>o.jsx(tH,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",e),...r}));qbe.displayName=tH.displayName;function Ms({value:e,onChange:r,placeholder:t,category:s,disabled:n=!1,className:i="",type:a="text",inputMode:l="text",autoWidth:u=!1,maxWidth:c=420}){const[d,p]=E.useState(!1),[f,h]=E.useState(""),g=E.useRef(null),y=E.useRef(null),m=Ss(),{data:v=[],isLoading:x}=xt({queryKey:ve.autocompleteCategory(s),queryFn:async()=>{const W=await qe(`/api/autocomplete/${s}`,"GET");return W&&typeof W=="object"?W.data||W:[]},enabled:!!s,staleTime:1e3*60*5}),k=Pt({mutationFn:W=>qe("/api/autocomplete","POST",W),onSuccess:async()=>{await m.invalidateQueries({queryKey:ve.autocompleteCategory(s)})},onError:W=>{console.error("Error saving autocomplete data:",W)}}),T=Pt({mutationFn:({category:W,value:P})=>qe(`/api/autocomplete/${W}/${encodeURIComponent(P)}`,"DELETE"),onSuccess:async()=>{await m.invalidateQueries({queryKey:ve.autocompleteCategory(s)})}}),A=Array.isArray(v)?v.filter(W=>W?.value&&typeof W.value=="string"?W.value.toLowerCase().includes(f.toLowerCase()):!1):[],L=E.useCallback(W=>{r(W),p(!1),h(""),W&&typeof W=="string"&&W.trim()&&k.mutate({category:s,value:W.trim()})},[r,s,k]),q=E.useCallback(W=>{setTimeout(()=>{y.current&&!y.current.contains(W.relatedTarget)&&(p(!1),h(""),e&&typeof e=="string"&&e.trim()&&e.trim().length>=2&&k.mutate({category:s,value:e.trim()}))},150)},[e,s,k]),D=E.useCallback((W,P)=>{P.stopPropagation(),T.mutate({category:s,value:W})},[s,T]);E.useEffect(()=>{const W=P=>{y.current&&!y.current.contains(P.target)&&g.current&&!g.current.contains(P.target)&&(p(!1),h(""))};if(d)return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[d]);const $=W=>{const P=W.target.value;r(P),h(P),!d&&P&&P.length>=1&&p(!0)},z=E.useCallback(W=>{W.key==="Enter"&&e.trim()&&e.trim().length>=2&&(W.preventDefault(),p(!1),h(""),k.mutate({category:s,value:e.trim()}))},[e,s,k]),K=()=>{p(!0),m.refetchQueries({queryKey:ve.autocompleteCategory(s)})};return o.jsxs("div",{className:Ae("relative",u?"inline-block align-bottom":"w-full"),children:[o.jsx(vt,{ref:g,value:e,onChange:$,onFocus:K,onBlur:q,onKeyDown:z,placeholder:t,disabled:n,className:`arabic-numbers ${i}`,type:a,inputMode:l,autoWidth:u,maxWidth:c}),d&&!n&&o.jsx("div",{ref:y,className:"absolute z-50 w-full mt-1",children:o.jsx(ir,{className:"max-h-64 overflow-y-auto shadow-lg border",children:x?o.jsxs("div",{className:"p-3 text-center text-gray-500",children:[o.jsx(Bo,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(A)&&A.length>0?o.jsx("div",{className:"py-1",children:A.slice(0,10).map(W=>o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>L(W.value),children:[o.jsx("span",{className:"flex-1 text-right",children:W.value}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("span",{className:"text-xs text-gray-400",children:W.usageCount}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:P=>D(W.value,P),children:o.jsx(Yn,{className:"w-3 h-3"})})]})]},W.id))}):f?o.jsxs("div",{className:"p-3 text-center text-gray-500",children:[o.jsx(Bo,{className:"w-4 h-4 mx-auto"}),'    "',f,'"']}):o.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}const Xp="construction-app-selected-project",Qp="construction-app-selected-project-name",Ps="all",rl=" ",Hbe=[ve.projects,ve.projectsWithStats,ve.workers,ve.workerTypes,ve.materials,ve.projectFundTransfers,ve.transportationExpenses,ve.workerMiscExpenses,ve.suppliers,ve.dailyExpenseSummaries,ve.notifications],sH=E.createContext(null);function Kbe({children:e}){const[r,t]=E.useState(Ps),[s,n]=E.useState(rl),[i,a]=E.useState(!1),l=Ss(),{data:u,isLoading:c,error:d}=xt({queryKey:ve.projects,queryFn:async()=>{const L=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!L.ok)throw new Error("   ");const q=await L.json();return Array.isArray(q?.data)?q.data:Array.isArray(q)?q:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),p=E.useMemo(()=>Array.isArray(u)?u:[],[u]);E.useEffect(()=>{try{const L=localStorage.getItem(Xp),q=localStorage.getItem(Qp);L&&L!=="undefined"&&L!=="null"?(t(L),q&&n(q)):(t(Ps),n(rl))}catch{localStorage.removeItem(Xp),localStorage.removeItem(Qp),t(Ps),n(rl)}finally{a(!0)}},[]);const f=!i||c,h=E.useCallback(async L=>{console.log(" [SelectedProjectContext]    ...",L);const q=Date.now();await l.cancelQueries();const D=Hbe.map(z=>l.invalidateQueries({queryKey:z,refetchType:"all",exact:!1}));L&&L!==Ps&&D.push(l.invalidateQueries({predicate:z=>{const K=z.queryKey;return Array.isArray(K)&&K.some(W=>String(W)===L)},refetchType:"all"})),await Promise.all(D),await l.refetchQueries({type:"active",exact:!1});const $=Date.now()-q;console.log(` [SelectedProjectContext]      ${$}ms`)},[l]),g=E.useCallback(async(L,q)=>{console.log(" [SelectedProjectContext]   :",{projectId:L,projectName:q}),t(L),q?n(q):L===Ps&&n(rl);try{L&&L!=="undefined"&&L!=="null"?(localStorage.setItem(Xp,L),q?localStorage.setItem(Qp,q):L===Ps&&localStorage.setItem(Qp,rl)):(localStorage.removeItem(Xp),localStorage.removeItem(Qp),n(""))}catch(D){console.error(" [SelectedProjectContext]    :",D)}await h(L)},[h]),y=E.useCallback(()=>{g(Ps,rl)},[g]),m=E.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(Ps,rl)},[g]),v=E.useCallback(()=>{try{const L=localStorage.getItem(Xp);return!!(L&&L!=="undefined"&&L!=="null"&&L!==Ps)}catch{return!1}},[]),x=E.useCallback(()=>{if(!(r===Ps||!r))return r},[r]),k=r===Ps,T=E.useCallback(async()=>{await h(r)},[h,r]),A=E.useMemo(()=>({selectedProjectId:r,selectedProjectName:s,isLoading:f,isAllProjects:k,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:x,projects:p,projectsError:d,isProjectsLoading:c,refreshAllData:T}),[r,s,f,k,g,m,y,v,x,p,d,c,T]);return o.jsx(sH.Provider,{value:A,children:e})}function Zbe(){const e=E.useContext(sH);if(!e)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return e}function Ko(){const e=Zbe();return{...e,refreshAllData:e.refreshAllData}}const Gbe=Xd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function At({className:e,variant:r,...t}){return o.jsx("div",{className:Ae(Gbe({variant:r}),e),...t})}function Xbe({worker:e,attendance:r,onAttendanceChange:t,selectedDate:s=di()}){const[n,i]=E.useState(r),[a,l]=E.useState(!1),[u,c]=E.useState(r.recordType||"work"),{data:d}=xt({queryKey:ve.workerStatsSimple(e.id),queryFn:async()=>{try{const A=await qe(`/api/workers/${e.id}/stats`,"GET");return A&&A.data?A.data:A||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(A){return console.error("Error fetching worker stats:",A),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),p=n.isPresent&&s===di();E.useEffect(()=>{i(r)},[r]);const f=A=>{const L={...n,...A};L.isPresent&&(A.workDays!==void 0||A.paidAmount!==void 0||A.overtime!==void 0||A.overtimeRate!==void 0)&&(L.actualWage=y(),L.totalPay=v(),L.remainingAmount=x(),L.hoursWorked=g()),i(L),t(L)},h=A=>{const L=A===!0;L||l(!1),f(L&&u==="work"?{isPresent:L,startTime:n.startTime||"07:00",endTime:n.endTime||"15:00",workDescription:n.workDescription,workDays:n.workDays===void 0?0:n.workDays,paidAmount:n.paidAmount,paymentType:n.paymentType||"partial"}:L&&u==="advance"?{isPresent:L,workDays:0,paidAmount:n.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:L})},g=()=>{if(!n.startTime||!n.endTime)return 0;const A=new Date(`2000-01-01T${n.startTime}:00`);let q=new Date(`2000-01-01T${n.endTime}:00`).getTime()-A.getTime();q<0&&(q+=1440*60*1e3);const D=q/(1e3*60*60);return Math.max(0,D)},y=()=>{if(!n.isPresent||u==="advance")return 0;const A=n.workDays||0,L=parseFloat(String(e.dailyWage||"0"));return Math.max(0,L*A)},m=()=>{const A=n.overtime||0,L=n.overtimeRate||0;return A*L},v=()=>{const A=y(),L=m();return Math.max(0,A+L)},x=()=>{if(u==="advance")return-parseFloat(n.paidAmount||"0");const A=v(),L=parseFloat(n.paidAmount||"0");return A-L},k=A=>{switch(A){case"":return o.jsx(Vn,{className:"h-5 w-5"});case"":return o.jsx(qse,{className:"h-5 w-5"});case"":return o.jsx(Wse,{className:"h-5 w-5"});case"":return o.jsx(rie,{className:"h-5 w-5"});case"":return o.jsx(Aa,{className:"h-5 w-5"});default:return o.jsx(Qd,{className:"h-5 w-5"})}},T=A=>{const L=A.toLowerCase();return L.includes("")||L.includes("master")?"bg-gradient-to-br from-primary to-primary/80":L.includes("")||L.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":L.includes("")||L.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":L.includes("")||L.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":L.includes("")||L.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":L.includes("")||L.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":L.includes("")||L.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":L.includes("")||L.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return o.jsx(ir,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${p?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${e.id}`,children:o.jsxs(br,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${T(e.type)}`,children:k(e.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${e.id}`,children:e.name}),e.isActive?o.jsx(zo,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${e.id}`}):o.jsx(ti,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${e.id}`})]}),o.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[o.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:o.jsx(At,{variant:"secondary",className:`${T(e.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:e.type})}),o.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[o.jsx(Tr,{className:"h-3 w-3"}),o.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${e.id}`,children:Je(e.dailyWage)})]}),o.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[o.jsx(Fs,{className:"h-3 w-3"}),o.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[n.isPresent&&o.jsxs(o.Fragment,{children:[o.jsx(Ie,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>c("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${e.id}`,children:""}),o.jsx(Ie,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>c("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${e.id}`,children:""}),o.jsxs(Ie,{variant:a?"default":"ghost",size:"sm",onClick:()=>l(!a),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${e.id}`,children:[a?o.jsx(Lo,{className:"h-4 w-4"}):o.jsx(Bn,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs",children:a?"":""})]})]}),o.jsx(Ye,{htmlFor:`present-${e.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),o.jsx(t0,{id:`present-${e.id}`,checked:n.isPresent,onCheckedChange:h,className:"w-5 h-5","data-testid":`attendance-checkbox-${e.id}`})]})]}),n.isPresent&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"space-y-1.5 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:""}),o.jsx("span",{className:"font-bold text-foreground",children:e.name})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),o.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(e.dailyWage||"0")})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:""}),o.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:Je(y())})]})]})}),o.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:o.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:n.workDays||"",onChange:A=>{const L=A.target.value;f({workDays:L===""?0:parseFloat(L)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${e.id}`})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:""}),o.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(parseFloat(n.paidAmount||"0"))})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:""}),o.jsx("span",{className:`font-bold arabic-numbers ${x()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:Je(Math.abs(x()))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:n.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[o.jsx("span",{className:"text-muted-foreground font-medium",children:""}),o.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:Je(Math.abs(x()))})]})]})})})]}),n.isPresent&&a&&o.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:o.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[o.jsx(Un,{className:"h-4 w-4 text-slate-600"}),o.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx(vt,{type:"time",value:n.startTime||"07:00",onChange:A=>f({startTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx(vt,{type:"time",value:n.endTime||"15:00",onChange:A=>f({endTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx(vt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:n.workDays||"",onChange:A=>{const L=A.target.value;f({workDays:L===""?0:parseFloat(L)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx(vt,{type:"number",inputMode:"decimal",placeholder:"0",value:n.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:n.overtime===void 0?"":n.overtime,onChange:A=>{const L=A.target.value;f({overtime:L===""?0:parseFloat(L)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",placeholder:"0",value:n.overtimeRate===void 0?"":n.overtimeRate,onChange:A=>{const L=A.target.value;f({overtimeRate:L===""?0:parseFloat(L)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),o.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),o.jsx(Ms,{value:n.workDescription||"",onChange:A=>f({workDescription:A}),placeholder:"   ...",category:"workDescriptions",autoWidth:!0,maxWidth:500,className:"w-full text-sm"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),o.jsx(vt,{type:"text",value:n.notes||"",onChange:A=>f({notes:A.target.value}),placeholder:" ...",autoWidth:!0,maxWidth:500,className:"text-sm h-8"})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),o.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:o.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:Je(v())})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),o.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:Je(m())})})]})]})]})})]})})}function Qbe(e){const r=Ybe(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(eve);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function Ybe(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=rve(n),l=tve(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Jbe=Symbol("radix.slottable");function eve(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jbe}function tve(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function rve(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var t1="Popover",[iH]=mi(t1,[Tu]),o0=Tu(),[nve,Mu]=iH(t1),aH=e=>{const{__scopePopover:r,children:t,open:s,defaultOpen:n,onOpenChange:i,modal:a=!1}=e,l=o0(r),u=E.useRef(null),[c,d]=E.useState(!1),[p,f]=fo({prop:s,defaultProp:n??!1,onChange:i,caller:t1});return o.jsx(Mv,{...l,children:o.jsx(nve,{scope:r,contentId:Pa(),triggerRef:u,open:p,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:c,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:a,children:t})})};aH.displayName=t1;var oH="PopoverAnchor",sve=E.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,n=Mu(oH,t),i=o0(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=n;return E.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(jg,{...i,...s,ref:r})});sve.displayName=oH;var lH="PopoverTrigger",cH=E.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,n=Mu(lH,t),i=o0(t),a=Er(r,n.triggerRef),l=o.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":pH(n.open),...s,ref:a,onClick:mt(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:o.jsx(jg,{asChild:!0,...i,children:l})});cH.displayName=lH;var j6="PopoverPortal",[ive,ave]=iH(j6,{forceMount:void 0}),uH=e=>{const{__scopePopover:r,forceMount:t,children:s,container:n}=e,i=Mu(j6,r);return o.jsx(ive,{scope:r,forceMount:t,children:o.jsx(js,{present:t||i.open,children:o.jsx(Vh,{asChild:!0,container:n,children:s})})})};uH.displayName=j6;var Mh="PopoverContent",dH=E.forwardRef((e,r)=>{const t=ave(Mh,e.__scopePopover),{forceMount:s=t.forceMount,...n}=e,i=Mu(Mh,e.__scopePopover);return o.jsx(js,{present:s||i.open,children:i.modal?o.jsx(lve,{...n,ref:r}):o.jsx(cve,{...n,ref:r})})});dH.displayName=Mh;var ove=Qbe("PopoverContent.RemoveScroll"),lve=E.forwardRef((e,r)=>{const t=Mu(Mh,e.__scopePopover),s=E.useRef(null),n=Er(r,s),i=E.useRef(!1);return E.useEffect(()=>{const a=s.current;if(a)return Kx(a)},[]),o.jsx(n0,{as:ove,allowPinchZoom:!0,children:o.jsx(fH,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(e.onCloseAutoFocus,a=>{a.preventDefault(),i.current||t.triggerRef.current?.focus()}),onPointerDownOutside:mt(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:mt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),cve=E.forwardRef((e,r)=>{const t=Mu(Mh,e.__scopePopover),s=E.useRef(!1),n=E.useRef(!1);return o.jsx(fH,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||t.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const a=i.target;t.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),fH=E.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:d,...p}=e,f=Mu(Mh,t),h=o0(t);return qx(),o.jsx(r0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:i,children:o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(Rv,{"data-state":pH(f.open),role:"dialog",id:f.contentId,...h,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hH="PopoverClose",uve=E.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,n=Mu(hH,t);return o.jsx(qt.button,{type:"button",...s,ref:r,onClick:mt(e.onClick,()=>n.onOpenChange(!1))})});uve.displayName=hH;var dve="PopoverArrow",fve=E.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,n=o0(t);return o.jsx($v,{...n,...s,ref:r})});fve.displayName=dve;function pH(e){return e?"open":"closed"}var hve=aH,pve=cH,mve=uH,mH=dH;const r1=e=>o.jsx(hve,{modal:!1,...e}),n1=pve,l0=E.forwardRef(({className:e,align:r="center",sideOffset:t=4,...s},n)=>o.jsx(mve,{children:o.jsx(mH,{ref:n,align:r,sideOffset:t,className:Ae("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...s})}));l0.displayName=mH.displayName;function gve(e,r){return E.useReducer((t,s)=>r[t][s]??t,e)}var N6="ScrollArea",[gH]=mi(N6),[yve,yo]=gH(N6),yH=E.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:s="hover",dir:n,scrollHideDelay:i=600,...a}=e,[l,u]=E.useState(null),[c,d]=E.useState(null),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState(null),[v,x]=E.useState(0),[k,T]=E.useState(0),[A,L]=E.useState(!1),[q,D]=E.useState(!1),$=Er(r,K=>u(K)),z=sp(n);return o.jsx(yve,{scope:t,type:s,dir:z,scrollHideDelay:i,scrollArea:l,viewport:c,onViewportChange:d,content:p,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:A,onScrollbarXEnabledChange:L,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:q,onScrollbarYEnabledChange:D,onCornerWidthChange:x,onCornerHeightChange:T,children:o.jsx(qt.div,{dir:z,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});yH.displayName=N6;var bH="ScrollAreaViewport",vH=E.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:s,nonce:n,...i}=e,a=yo(bH,t),l=E.useRef(null),u=Er(r,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(qt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});vH.displayName=bH;var Cl="ScrollAreaScrollbar",C6=E.forwardRef((e,r)=>{const{forceMount:t,...s}=e,n=yo(Cl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=n,l=e.orientation==="horizontal";return E.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),n.type==="hover"?o.jsx(bve,{...s,ref:r,forceMount:t}):n.type==="scroll"?o.jsx(vve,{...s,ref:r,forceMount:t}):n.type==="auto"?o.jsx(xH,{...s,ref:r,forceMount:t}):n.type==="always"?o.jsx(T6,{...s,ref:r}):null});C6.displayName=Cl;var bve=E.forwardRef((e,r)=>{const{forceMount:t,...s}=e,n=yo(Cl,e.__scopeScrollArea),[i,a]=E.useState(!1);return E.useEffect(()=>{const l=n.scrollArea;let u=0;if(l){const c=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",d)}}},[n.scrollArea,n.scrollHideDelay]),o.jsx(js,{present:t||i,children:o.jsx(xH,{"data-state":i?"visible":"hidden",...s,ref:r})})}),vve=E.forwardRef((e,r)=>{const{forceMount:t,...s}=e,n=yo(Cl,e.__scopeScrollArea),i=e.orientation==="horizontal",a=i1(()=>u("SCROLL_END"),100),[l,u]=gve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>u("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,n.scrollHideDelay,u]),E.useEffect(()=>{const c=n.viewport,d=i?"scrollLeft":"scrollTop";if(c){let p=c[d];const f=()=>{const h=c[d];p!==h&&(u("SCROLL"),a()),p=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[n.viewport,i,u,a]),o.jsx(js,{present:t||l!=="hidden",children:o.jsx(T6,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:mt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:mt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),xH=E.forwardRef((e,r)=>{const t=yo(Cl,e.__scopeScrollArea),{forceMount:s,...n}=e,[i,a]=E.useState(!1),l=e.orientation==="horizontal",u=i1(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;a(l?c:d)}},10);return Rh(t.viewport,u),Rh(t.content,u),o.jsx(js,{present:s||i,children:o.jsx(T6,{"data-state":i?"visible":"hidden",...n,ref:r})})}),T6=E.forwardRef((e,r)=>{const{orientation:t="vertical",...s}=e,n=yo(Cl,e.__scopeScrollArea),i=E.useRef(null),a=E.useRef(0),[l,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=jH(l.viewport,l.content),d={...s,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function p(f,h){return jve(f,a.current,l,h)}return t==="horizontal"?o.jsx(xve,{...d,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollLeft,h=CA(f,l,n.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=p(f,n.dir))}}):t==="vertical"?o.jsx(wve,{...d,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const f=n.viewport.scrollTop,h=CA(f,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=p(f))}}):null}),xve=E.forwardRef((e,r)=>{const{sizes:t,onSizesChange:s,...n}=e,i=yo(Cl,e.__scopeScrollArea),[a,l]=E.useState(),u=E.useRef(null),c=Er(r,u,i.onScrollbarXChange);return E.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),o.jsx(_H,{"data-orientation":"horizontal",...n,ref:c,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s1(t)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),CH(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:iv(a.paddingLeft),paddingEnd:iv(a.paddingRight)}})}})}),wve=E.forwardRef((e,r)=>{const{sizes:t,onSizesChange:s,...n}=e,i=yo(Cl,e.__scopeScrollArea),[a,l]=E.useState(),u=E.useRef(null),c=Er(r,u,i.onScrollbarYChange);return E.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),o.jsx(_H,{"data-orientation":"vertical",...n,ref:c,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s1(t)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),CH(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:iv(a.paddingTop),paddingEnd:iv(a.paddingBottom)}})}})}),[_ve,wH]=gH(Cl),_H=E.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:n,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:c,onWheelScroll:d,onResize:p,...f}=e,h=yo(Cl,t),[g,y]=E.useState(null),m=Er(r,$=>y($)),v=E.useRef(null),x=E.useRef(""),k=h.viewport,T=s.content-s.viewport,A=ji(d),L=ji(u),q=i1(p,10);function D($){if(v.current){const z=$.clientX-v.current.left,K=$.clientY-v.current.top;c({x:z,y:K})}}return E.useEffect(()=>{const $=z=>{const K=z.target;g?.contains(K)&&A(z,T)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[k,g,T,A]),E.useEffect(L,[s,L]),Rh(g,q),Rh(h.content,q),o.jsx(_ve,{scope:t,scrollbar:g,hasThumb:n,onThumbChange:ji(i),onThumbPointerUp:ji(a),onThumbPositionChange:L,onThumbPointerDown:ji(l),children:o.jsx(qt.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:mt(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),D($))}),onPointerMove:mt(e.onPointerMove,D),onPointerUp:mt(e.onPointerUp,$=>{const z=$.target;z.hasPointerCapture($.pointerId)&&z.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),sv="ScrollAreaThumb",kH=E.forwardRef((e,r)=>{const{forceMount:t,...s}=e,n=wH(sv,e.__scopeScrollArea);return o.jsx(js,{present:t||n.hasThumb,children:o.jsx(kve,{ref:r,...s})})}),kve=E.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:s,...n}=e,i=yo(sv,t),a=wH(sv,t),{onThumbPositionChange:l}=a,u=Er(r,p=>a.onThumbChange(p)),c=E.useRef(void 0),d=i1(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const p=i.viewport;if(p){const f=()=>{if(d(),!c.current){const h=Nve(p,l);c.current=h,l()}};return l(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(qt.div,{"data-state":a.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:mt(e.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),g=p.clientX-h.left,y=p.clientY-h.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:mt(e.onPointerUp,a.onThumbPointerUp)})});kH.displayName=sv;var E6="ScrollAreaCorner",SH=E.forwardRef((e,r)=>{const t=yo(E6,e.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?o.jsx(Sve,{...e,ref:r}):null});SH.displayName=E6;var Sve=E.forwardRef((e,r)=>{const{__scopeScrollArea:t,...s}=e,n=yo(E6,t),[i,a]=E.useState(0),[l,u]=E.useState(0),c=!!(i&&l);return Rh(n.scrollbarX,()=>{const d=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(d),u(d)}),Rh(n.scrollbarY,()=>{const d=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(d),a(d)}),c?o.jsx(qt.div,{...s,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function iv(e){return e?parseInt(e,10):0}function jH(e,r){const t=e/r;return isNaN(t)?0:t}function s1(e){const r=jH(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-t)*r;return Math.max(s,18)}function jve(e,r,t,s="ltr"){const n=s1(t),i=n/2,a=r||i,l=n-a,u=t.scrollbar.paddingStart+a,c=t.scrollbar.size-t.scrollbar.paddingEnd-l,d=t.content-t.viewport,p=s==="ltr"?[0,d]:[d*-1,0];return NH([u,c],p)(e)}function CA(e,r,t="ltr"){const s=s1(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,a=r.content-r.viewport,l=i-s,u=t==="ltr"?[0,a]:[a*-1,0],c=a4(e,u);return NH([0,a],[0,l])(c)}function NH(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(t-e[0])}}function CH(e,r){return e>0&&e<r}var Nve=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},s=0;return(function n(){const i={left:e.scrollLeft,top:e.scrollTop},a=t.left!==i.left,l=t.top!==i.top;(a||l)&&r(),t=i,s=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(s)};function i1(e,r){const t=ji(e),s=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(s.current),[]),E.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,r)},[t,r])}function Rh(e,r){const t=ji(r);ri(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,t])}var TH=yH,Cve=vH,Tve=SH;const Zo=E.forwardRef(({className:e,children:r,...t},s)=>o.jsxs(TH,{ref:s,className:Ae("relative overflow-hidden",e),...t,children:[o.jsx(Cve,{className:"h-full w-full rounded-[inherit]",children:r}),o.jsx(A6,{}),o.jsx(Tve,{})]}));Zo.displayName=TH.displayName;const A6=E.forwardRef(({className:e,orientation:r="vertical",...t},s)=>o.jsx(C6,{ref:s,orientation:r,className:Ae("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:o.jsx(kH,{className:"relative flex-1 rounded-full bg-border"})}));A6.displayName=C6.displayName;function us({value:e,onValueChange:r,options:t,placeholder:s="...",searchPlaceholder:n="...",emptyText:i="  ",disabled:a=!1,className:l="",triggerClassName:u="",contentClassName:c="",showSearch:d=!0,maxHeight:p=300,allowCustom:f=!1,onCustomAdd:h}){const[g,y]=E.useState(!1),[m,v]=E.useState(""),x=E.useRef(null),k=E.useMemo(()=>{if(!m.trim())return t;const D=m.toLowerCase().trim();return t.filter($=>$.label.toLowerCase().includes(D)||$.value.toLowerCase().includes(D)||$.description?.toLowerCase().includes(D))},[t,m]),T=E.useMemo(()=>t.find(D=>D.value===e),[t,e]),A=E.useCallback(D=>{r(D),y(!1),v("")},[r]),L=E.useCallback(D=>{D.stopPropagation(),r("")},[r]);E.useEffect(()=>{if(g&&d&&x.current){x.current.focus();const D=setTimeout(()=>{x.current?.focus()},50);return()=>clearTimeout(D)}g||v("")},[g,d]);const q=E.useCallback(D=>{D.key==="Escape"&&y(!1)},[]);return o.jsx("div",{className:Ae("w-full",l),children:o.jsxs(r1,{open:g,onOpenChange:y,children:[o.jsx(n1,{asChild:!0,children:o.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":g,disabled:a,className:Ae("w-full justify-between h-10 font-normal",!e&&"text-muted-foreground",u),children:[o.jsx("span",{className:"truncate text-right flex-1",children:T?.label||s}),o.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[e&&!a&&o.jsx(Rs,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:L}),o.jsx(Bn,{className:"h-4 w-4 opacity-50"})]})]})}),o.jsxs(l0,{className:Ae("w-[var(--radix-popover-trigger-width)] p-0",c),align:"start",onKeyDown:q,children:[d&&o.jsx("div",{className:"border-b p-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),o.jsx(vt,{ref:x,placeholder:n,value:m,onChange:D=>v(D.target.value),className:"pr-8 h-9"})]})}),o.jsx(Zo,{className:"w-full",style:{maxHeight:`${p}px`},children:o.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:k.length===0?o.jsx("div",{children:f&&m.trim()?o.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[o.jsx(vs,{className:"h-4 w-4 shrink-0"}),o.jsx("div",{className:"flex-1 text-right",children:o.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):o.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:i})}):o.jsxs(o.Fragment,{children:[k.map(D=>o.jsxs("button",{onClick:()=>!D.disabled&&A(D.value),disabled:D.disabled,className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",e===D.value&&"bg-accent/50",D.disabled&&"opacity-50 cursor-not-allowed"),children:[o.jsx($o,{className:Ae("h-4 w-4 shrink-0",e===D.value?"opacity-100":"opacity-0")}),o.jsxs("div",{className:"flex-1 text-right",children:[o.jsx("div",{children:D.label}),D.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:D.description})]})]},D.value)),f&&m.trim()&&!k.some(D=>D.value===m.trim())&&o.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[o.jsx(vs,{className:"h-4 w-4 shrink-0"}),o.jsx("div",{className:"flex-1 text-right",children:o.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function fAe({value:e,onValueChange:r,workers:t,placeholder:s=" ",showAllOption:n=!1,allOptionLabel:i=" ",showInactiveWorkers:a=!0,disabled:l=!1,className:u=""}){const c=E.useMemo(()=>{const p=(a?t:t.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return n?[{value:"all",label:i},...p]:p},[t,n,i,a]);return o.jsx(us,{value:e,onValueChange:r,options:c,placeholder:s,searchPlaceholder:"  ...",emptyText:"    ",disabled:l,className:u})}function hAe({value:e,onValueChange:r,projects:t,placeholder:s=" ",showAllOption:n=!1,allOptionLabel:i=" ",disabled:a=!1,className:l=""}){const u=E.useMemo(()=>{const c=t.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return n?[{value:"all",label:i},...c]:c},[t,n,i]);return o.jsx(us,{value:e,onValueChange:r,options:u,placeholder:s,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:l})}function pAe({value:e,onValueChange:r,users:t,placeholder:s=" ",showAllOption:n=!1,allOptionLabel:i=" ",disabled:a=!1,className:l=""}){const u=E.useMemo(()=>{const c=t.map(d=>({value:d.id,label:d.fullName||d.username||d.email||d.id,description:d.email||void 0}));return n?[{value:"all",label:i},...c]:c},[t,n,i]);return o.jsx(us,{value:e,onValueChange:r,options:u,placeholder:s,searchPlaceholder:"  ...",emptyText:"    ",disabled:a,className:l})}function f4({value:e,onValueChange:r,projectTypes:t,placeholder:s="  ",showNoneOption:n=!0,noneOptionLabel:i=" ",disabled:a=!1,className:l=""}){const u=E.useMemo(()=>{const c=t.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return n?[{value:"",label:i},...c]:c},[t,n,i]);return o.jsx(us,{value:e,onValueChange:r,options:u,placeholder:s,searchPlaceholder:"   ...",emptyText:"    ",disabled:a,className:l})}function Gm({projectId:e,value:r,onChange:t,showLabel:s=!0,disabled:n=!1,optional:i=!0}){const{data:a=[],isLoading:l}=xt({queryKey:ve.wellsByProject(e),queryFn:async()=>{if(!e)return[];try{const c=await qe(`/api/wells?projectId=${e}`);return c&&c.success&&Array.isArray(c.data)?c.data:Array.isArray(c)?c:c.data||[]}catch(c){return console.error("Error fetching wells:",c),[]}},enabled:!!e,staleTime:3e5}),u=E.useMemo(()=>{const c=a.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return i?[{value:"none",label:" "},...c]:c},[a,i]);return!e||a.length===0?null:o.jsxs("div",{className:"space-y-1",children:[s&&o.jsxs(Ye,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!i&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(us,{options:u,value:r?String(r):"none",onValueChange:c=>t(c==="none"?void 0:parseInt(c)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:n||l})]})}const EH=E.createContext(void 0);function Eve({children:e}){const[r,t]=E.useState(null),[s,n]=E.useState(null),[i,a]=E.useState(" "),[l,u]=E.useState(!1),c=E.useCallback((p,f=" ")=>{t(h=>h===p?h:p),a(h=>h===f?h:f)},[]),d=E.useCallback(p=>{n(f=>f===p?f:p)},[]);return o.jsx(EH.Provider,{value:{setFloatingAction:c,setRefreshAction:d,floatingAction:r,floatingLabel:i,refreshAction:s,setShowAddButton:u,showAddButton:l},children:e})}function Go(){const e=E.useContext(EH);if(e===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return e}const TA={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function EA(e){return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?"0":e.toLocaleString("en-US")}function Ave({item:e}){const r=e.splitValue;return r?o.jsxs("div",{className:Ae("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[50px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 py-0.5 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[o.jsx(e.icon,{className:"h-2.5 w-2.5 text-slate-600 dark:text-slate-400"}),o.jsx("span",{className:"text-[8px] font-bold text-slate-700 dark:text-slate-300 uppercase tracking-tighter",children:e.label})]}),o.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse flex-1",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-teal-50/50 dark:bg-teal-900/20",children:[o.jsx("span",{className:"text-[7px] font-medium text-teal-600 dark:text-teal-400 leading-tight",children:""}),o.jsx("span",{className:"text-[10px] font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers leading-none",children:EA(r.incoming)})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0 bg-rose-50/50 dark:bg-rose-900/20",children:[o.jsx("span",{className:"text-[7px] font-medium text-rose-600 dark:text-rose-400 leading-tight",children:""}),o.jsx("span",{className:"text-[10px] font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers leading-none",children:EA(r.outgoing)})]})]})]}):null}function Pve({item:e}){if(e.isSplitCard)return o.jsx(Ave,{item:e});const r=TA[e.color]||TA.blue,t=e.icon,n=(a=>typeof a=="number"?isNaN(a)||!isFinite(a)||Math.abs(a)>1e11?"0":e.formatter?e.formatter(a):a.toLocaleString("en-US"):String(a))(e.value),i=a=>{const l=a.length;return l<=4?"0.75rem":l<=7?"0.65rem":l<=10?"0.6rem":l<=13?"0.55rem":"0.5rem"};return o.jsxs("div",{className:Ae("relative flex flex-col p-1 rounded-xl border transition-all h-[50px]",r.bg,r.border,"hover:shadow-sm",e.onClick&&"cursor-pointer"),onClick:e.onClick,children:[o.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0",children:[o.jsx("span",{className:"text-[8px] font-bold text-muted-foreground truncate flex-1 leading-tight uppercase tracking-tighter",children:e.label}),o.jsx("div",{className:Ae("p-0.5 rounded-md flex-shrink-0",r.bg),children:o.jsx(t,{className:Ae("h-2.5 w-2.5",r.icon)})})]}),e.showDot&&o.jsx("div",{className:Ae("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",e.dotColor||"bg-green-500")}),o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("span",{className:Ae("font-bold arabic-numbers leading-none whitespace-nowrap",r.text),style:{fontSize:i(n)},children:n}),e.unit&&o.jsx("span",{className:"text-[9px] text-muted-foreground leading-none",children:e.unit}),e.subLabel&&o.jsx("span",{className:"text-[9px] text-muted-foreground/70 truncate w-full mt-0.5",children:e.subLabel}),e.trend&&o.jsxs("span",{className:Ae("text-[9px] flex items-center gap-0.5 mt-0.5",e.trend.isPositive?"text-green-500":"text-red-500"),children:[e.trend.isPositive?o.jsx($n,{className:"h-2 w-2"}):o.jsx(Ei,{className:"h-2 w-2"}),e.trend.value,"%"]})]})]})}function Ive({rows:e,className:r}){if(!e||e.length===0)return null;const t=(n=3)=>{switch(n){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},s=(n="sm")=>{switch(n){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return o.jsx("div",{className:Ae("space-y-2",r),children:e.map((n,i)=>o.jsx("div",{className:Ae("grid",t(n.columns),s(n.gap)),children:n.items.map(a=>o.jsx(Pve,{item:a},a.key))},i))})}const a1=h6,P6=p6,AH=a0,Dve=m6,PH=E.forwardRef(({className:e,...r},t)=>o.jsx(s0,{className:Ae("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));PH.displayName=s0.displayName;const Mve=Xd("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),c0=E.forwardRef(({side:e="right",className:r,children:t,...s},n)=>o.jsxs(Dve,{children:[o.jsx(PH,{}),o.jsxs(i0,{ref:n,className:Ae(Mve({side:e}),r),style:{pointerEvents:"auto"},...s,children:[t,o.jsxs(a0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Rs,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));c0.displayName=i0.displayName;const I6=({className:e,...r})=>o.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...r});I6.displayName="SheetHeader";const u0=E.forwardRef(({className:e,...r},t)=>o.jsx(tp,{ref:t,className:Ae("text-lg font-semibold text-foreground",e),...r}));u0.displayName=tp.displayName;const IH=E.forwardRef(({className:e,...r},t)=>o.jsx(rp,{ref:t,className:Ae("text-sm text-muted-foreground",e),...r}));IH.displayName=rp.displayName;function ln(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function ma(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function Vi(e,r){const t=ln(e);return isNaN(r)?ma(e,NaN):(r&&t.setDate(t.getDate()+r),t)}function Wo(e,r){const t=ln(e);if(isNaN(r))return ma(e,NaN);if(!r)return t;const s=t.getDate(),n=ma(e,t.getTime());n.setMonth(t.getMonth()+r+1,0);const i=n.getDate();return s>=i?n:(t.setFullYear(n.getFullYear(),n.getMonth(),s),t)}const D6=6048e5,Rve=864e5,DH=6e4,MH=36e5;let $ve={};function d0(){return $ve}function po(e,r){const t=d0(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=ln(e),i=n.getDay(),a=(i<s?7:0)+i-s;return n.setDate(n.getDate()-a),n.setHours(0,0,0,0),n}function zd(e){return po(e,{weekStartsOn:1})}function RH(e){const r=ln(e),t=r.getFullYear(),s=ma(e,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const n=zd(s),i=ma(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=zd(i);return r.getTime()>=n.getTime()?t+1:r.getTime()>=a.getTime()?t:t-1}function $h(e){const r=ln(e);return r.setHours(0,0,0,0),r}function av(e){const r=ln(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function fl(e,r){const t=$h(e),s=$h(r),n=+t-av(t),i=+s-av(s);return Math.round((n-i)/Rve)}function Ove(e){const r=RH(e),t=ma(e,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),zd(t)}function h4(e,r){const t=r*7;return Vi(e,t)}function Fve(e,r){return Wo(e,r*12)}function Lve(e){let r;return e.forEach(function(t){const s=ln(t);(r===void 0||r<s||isNaN(Number(s)))&&(r=s)}),r||new Date(NaN)}function zve(e){let r;return e.forEach(t=>{const s=ln(t);(!r||r>s||isNaN(+s))&&(r=s)}),r||new Date(NaN)}function o1(e){return ma(e,Date.now())}function Ti(e,r){const t=$h(e),s=$h(r);return+t==+s}function M6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bve(e){if(!M6(e)&&typeof e!="number")return!1;const r=ln(e);return!isNaN(Number(r))}function Xm(e,r){const t=ln(e),s=ln(r),n=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return n*12+i}function Uve(e,r,t){const s=po(e,t),n=po(r,t),i=+s-av(s),a=+n-av(n);return Math.round((i-a)/D6)}function R6(e){const r=ln(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function ha(e){const r=ln(e);return r.setDate(1),r.setHours(0,0,0,0),r}function $H(e){const r=ln(e),t=ma(e,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function $6(e,r){const t=d0(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=ln(e),i=n.getDay(),a=(i<s?-7:0)+6-(i-s);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}function OH(e){return $6(e,{weekStartsOn:1})}const Vve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wve=(e,r,t)=>{let s;const n=Vve[e];return typeof n=="string"?s=n:r===1?s=n.one:s=n.other.replace("{{count}}",r.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function tc(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const qve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zve={date:tc({formats:qve,defaultWidth:"full"}),time:tc({formats:Hve,defaultWidth:"full"}),dateTime:tc({formats:Kve,defaultWidth:"full"})},Gve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xve=(e,r,t,s)=>Gve[e];function qi(e){return(r,t)=>{const s=t?.context?String(t.context):"standalone";let n;if(s==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=t?.width?String(t.width):a;n=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=t?.width?String(t.width):e.defaultWidth;n=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const Qve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},exe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},txe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nxe=(e,r)=>{const t=Number(e),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},sxe={ordinalNumber:nxe,era:qi({values:Qve,defaultWidth:"wide"}),quarter:qi({values:Yve,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qi({values:Jve,defaultWidth:"wide"}),day:qi({values:exe,defaultWidth:"wide"}),dayPeriod:qi({values:txe,defaultWidth:"wide",formattingValues:rxe,defaultFormattingWidth:"wide"})};function Hi(e){return(r,t={})=>{const s=t.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const a=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?axe(l,p=>p.test(a)):ixe(l,p=>p.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=t.valueCallback?t.valueCallback(c):c;const d=r.slice(a.length);return{value:c,rest:d}}}function ixe(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function axe(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function O6(e){return(r,t={})=>{const s=r.match(e.matchPattern);if(!s)return null;const n=s[0],i=r.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const l=r.slice(n.length);return{value:a,rest:l}}}const oxe=/^(\d+)(th|st|nd|rd)?/i,lxe=/\d+/i,cxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uxe={any:[/^b/i,/^(a|c)/i]},dxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fxe={any:[/1/i,/2/i,/3/i,/4/i]},hxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vxe={ordinalNumber:O6({matchPattern:oxe,parsePattern:lxe,valueCallback:e=>parseInt(e,10)}),era:Hi({matchPatterns:cxe,defaultMatchWidth:"wide",parsePatterns:uxe,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:dxe,defaultMatchWidth:"wide",parsePatterns:fxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hi({matchPatterns:hxe,defaultMatchWidth:"wide",parsePatterns:pxe,defaultParseWidth:"any"}),day:Hi({matchPatterns:mxe,defaultMatchWidth:"wide",parsePatterns:gxe,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:yxe,defaultMatchWidth:"any",parsePatterns:bxe,defaultParseWidth:"any"})},FH={code:"en-US",formatDistance:Wve,formatLong:Zve,formatRelative:Xve,localize:sxe,match:vxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xxe(e){const r=ln(e);return fl(r,$H(r))+1}function LH(e){const r=ln(e),t=+zd(r)-+Ove(r);return Math.round(t/D6)+1}function zH(e,r){const t=ln(e),s=t.getFullYear(),n=d0(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=ma(e,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const l=po(a,r),u=ma(e,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const c=po(u,r);return t.getTime()>=l.getTime()?s+1:t.getTime()>=c.getTime()?s:s-1}function wxe(e,r){const t=d0(),s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,n=zH(e,r),i=ma(e,0);return i.setFullYear(n,0,s),i.setHours(0,0,0,0),po(i,r)}function BH(e,r){const t=ln(e),s=+po(t,r)-+wxe(t,r);return Math.round(s/D6)+1}function gn(e,r){const t=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return t+s}const $c={y(e,r){const t=e.getFullYear(),s=t>0?t:1-t;return gn(r==="yy"?s%100:s,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):gn(t+1,2)},d(e,r){return gn(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return gn(e.getHours()%12||12,r.length)},H(e,r){return gn(e.getHours(),r.length)},m(e,r){return gn(e.getMinutes(),r.length)},s(e,r){return gn(e.getSeconds(),r.length)},S(e,r){const t=r.length,s=e.getMilliseconds(),n=Math.trunc(s*Math.pow(10,t-3));return gn(n,r.length)}},Ff={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AA={G:function(e,r,t){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const s=e.getFullYear(),n=s>0?s:1-s;return t.ordinalNumber(n,{unit:"year"})}return $c.y(e,r)},Y:function(e,r,t,s){const n=zH(e,s),i=n>0?n:1-n;if(r==="YY"){const a=i%100;return gn(a,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):gn(i,r.length)},R:function(e,r){const t=RH(e);return gn(t,r.length)},u:function(e,r){const t=e.getFullYear();return gn(t,r.length)},Q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return gn(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,t){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return gn(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,t){const s=e.getMonth();switch(r){case"M":case"MM":return $c.M(e,r);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,t){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return gn(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,t,s){const n=BH(e,s);return r==="wo"?t.ordinalNumber(n,{unit:"week"}):gn(n,r.length)},I:function(e,r,t){const s=LH(e);return r==="Io"?t.ordinalNumber(s,{unit:"week"}):gn(s,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):$c.d(e,r)},D:function(e,r,t){const s=xxe(e);return r==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):gn(s,r.length)},E:function(e,r,t){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,t,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return gn(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,t,s){const n=e.getDay(),i=(n-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return gn(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,t){const s=e.getDay(),n=s===0?7:s;switch(r){case"i":return String(n);case"ii":return gn(n,r.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,t){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,t){const s=e.getHours();let n;switch(s===12?n=Ff.noon:s===0?n=Ff.midnight:n=s/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,t){const s=e.getHours();let n;switch(s>=17?n=Ff.evening:s>=12?n=Ff.afternoon:s>=4?n=Ff.morning:n=Ff.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return $c.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):$c.H(e,r)},K:function(e,r,t){const s=e.getHours()%12;return r==="Ko"?t.ordinalNumber(s,{unit:"hour"}):gn(s,r.length)},k:function(e,r,t){let s=e.getHours();return s===0&&(s=24),r==="ko"?t.ordinalNumber(s,{unit:"hour"}):gn(s,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):$c.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):$c.s(e,r)},S:function(e,r){return $c.S(e,r)},X:function(e,r,t){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return IA(s);case"XXXX":case"XX":return td(s);case"XXXXX":case"XXX":default:return td(s,":")}},x:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"x":return IA(s);case"xxxx":case"xx":return td(s);case"xxxxx":case"xxx":default:return td(s,":")}},O:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+PA(s,":");case"OOOO":default:return"GMT"+td(s,":")}},z:function(e,r,t){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+PA(s,":");case"zzzz":default:return"GMT"+td(s,":")}},t:function(e,r,t){const s=Math.trunc(e.getTime()/1e3);return gn(s,r.length)},T:function(e,r,t){const s=e.getTime();return gn(s,r.length)}};function PA(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),n=Math.trunc(s/60),i=s%60;return i===0?t+String(n):t+String(n)+r+gn(i,2)}function IA(e,r){return e%60===0?(e>0?"-":"+")+gn(Math.abs(e)/60,2):td(e,r)}function td(e,r=""){const t=e>0?"-":"+",s=Math.abs(e),n=gn(Math.trunc(s/60),2),i=gn(s%60,2);return t+n+r+i}const DA=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},UH=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},_xe=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],s=t[1],n=t[2];if(!n)return DA(e,r);let i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",DA(s,r)).replace("{{time}}",UH(n,r))},kxe={p:UH,P:_xe},Sxe=/^D+$/,jxe=/^Y+$/,Nxe=["D","DD","YY","YYYY"];function Cxe(e){return Sxe.test(e)}function Txe(e){return jxe.test(e)}function Exe(e,r,t){const s=Axe(e,r,t);if(console.warn(s),Nxe.includes(e))throw new RangeError(s)}function Axe(e,r,t){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ixe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dxe=/^'([^]*?)'?$/,Mxe=/''/g,Rxe=/[a-zA-Z]/;function Or(e,r,t){const s=d0(),n=t?.locale??s.locale??FH,i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=ln(e);if(!Bve(l))throw new RangeError("Invalid time value");let u=r.match(Ixe).map(d=>{const p=d[0];if(p==="p"||p==="P"){const f=kxe[p];return f(d,n.formatLong)}return d}).join("").match(Pxe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const p=d[0];if(p==="'")return{isToken:!1,value:$xe(d)};if(AA[p])return{isToken:!0,value:d};if(p.match(Rxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:d}});n.localize.preprocessor&&(u=n.localize.preprocessor(l,u));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:n};return u.map(d=>{if(!d.isToken)return d.value;const p=d.value;(!t?.useAdditionalWeekYearTokens&&Txe(p)||!t?.useAdditionalDayOfYearTokens&&Cxe(p))&&Exe(p,r,String(e));const f=AA[p[0]];return f(l,p,n.localize,c)}).join("")}function $xe(e){const r=e.match(Dxe);return r?r[1].replace(Mxe,"'"):e}function Oxe(e){const r=ln(e),t=r.getFullYear(),s=r.getMonth(),n=ma(e,0);return n.setFullYear(t,s+1,0),n.setHours(0,0,0,0),n.getDate()}function Fxe(e){return Math.trunc(+ln(e)/1e3)}function Lxe(e){const r=ln(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(0,0,0,0),r}function zxe(e,r){return Uve(Lxe(e),ha(e),r)+1}function p4(e,r){const t=ln(e),s=ln(r);return t.getTime()>s.getTime()}function VH(e,r){const t=ln(e),s=ln(r);return+t<+s}function Bxe(e,r,t){const s=po(e,t),n=po(r,t);return+s==+n}function l1(e,r){const t=ln(e),s=ln(r);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()}function Uxe(e,r){const t=ln(e),s=ln(r);return t.getFullYear()===s.getFullYear()}function Vxe(e){return l1(e,o1(e))}function Wxe(e,r){return Bxe(e,o1(e),r)}function qxe(e){return Ti(e,o1(e))}function yb(e,r){return Vi(e,-r)}function Hxe(e){return Ti(e,yb(o1(e),1))}function m4(e,r){const s=Xxe(e);let n;if(s.date){const u=Qxe(s.date,2);n=Yxe(u.restDateString,u.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const i=n.getTime();let a=0,l;if(s.time&&(a=Jxe(s.time),isNaN(a)))return new Date(NaN);if(s.timezone){if(l=e1e(s.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(i+a),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(i+a+l)}const Vy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kxe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zxe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gxe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xxe(e){const r={},t=e.split(Vy.dateTimeDelimiter);let s;if(t.length>2)return r;if(/:/.test(t[0])?s=t[0]:(r.date=t[0],s=t[1],Vy.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Vy.timeZoneDelimiter)[0],s=e.substr(r.date.length,e.length))),s){const n=Vy.timezone.exec(s);n?(r.time=s.replace(n[1],""),r.timezone=n[1]):r.time=s}return r}function Qxe(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),s=e.match(t);if(!s)return{year:NaN,restDateString:""};const n=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?n:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function Yxe(e,r){if(r===null)return new Date(NaN);const t=e.match(Kxe);if(!t)return new Date(NaN);const s=!!t[4],n=Yp(t[1]),i=Yp(t[2])-1,a=Yp(t[3]),l=Yp(t[4]),u=Yp(t[5])-1;if(s)return i1e(r,l,u)?t1e(r,l,u):new Date(NaN);{const c=new Date(0);return!n1e(r,i,a)||!s1e(r,n)?new Date(NaN):(c.setUTCFullYear(r,i,Math.max(n,a)),c)}}function Yp(e){return e?parseInt(e):1}function Jxe(e){const r=e.match(Zxe);if(!r)return NaN;const t=q2(r[1]),s=q2(r[2]),n=q2(r[3]);return a1e(t,s,n)?t*MH+s*DH+n*1e3:NaN}function q2(e){return e&&parseFloat(e.replace(",","."))||0}function e1e(e){if(e==="Z")return 0;const r=e.match(Gxe);if(!r)return 0;const t=r[1]==="+"?-1:1,s=parseInt(r[2]),n=r[3]&&parseInt(r[3])||0;return o1e(s,n)?t*(s*MH+n*DH):NaN}function t1e(e,r,t){const s=new Date(0);s.setUTCFullYear(e,0,4);const n=s.getUTCDay()||7,i=(r-1)*7+t+1-n;return s.setUTCDate(s.getUTCDate()+i),s}const r1e=[31,null,31,30,31,30,31,31,30,31,30,31];function WH(e){return e%400===0||e%4===0&&e%100!==0}function n1e(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(r1e[r]||(WH(e)?29:28))}function s1e(e,r){return r>=1&&r<=(WH(e)?366:365)}function i1e(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function a1e(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function o1e(e,r){return r>=0&&r<=59}function H2(e,r){const t=ln(e),s=t.getFullYear(),n=t.getDate(),i=ma(e,0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);const a=Oxe(i);return t.setMonth(r,Math.min(n,a)),t}function MA(e,r){const t=ln(e);return isNaN(+t)?ma(e,NaN):(t.setFullYear(r),t)}const l1e={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},c1e=(e,r,t)=>{const s=l1e[e];let n;return typeof s=="string"?n=s:r===1?n=s.one:r===2?n=s.two:r<=10?n=s.threeToTen.replace("{{count}}",String(r)):n=s.other.replace("{{count}}",String(r)),t?.addSuffix?t.comparison&&t.comparison>0?" "+n:" "+n:n},u1e={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},d1e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},f1e={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h1e={date:tc({formats:u1e,defaultWidth:"full"}),time:tc({formats:d1e,defaultWidth:"full"}),dateTime:tc({formats:f1e,defaultWidth:"full"})},p1e={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},m1e=e=>p1e[e],g1e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},y1e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},b1e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},v1e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},x1e={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},w1e={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},_1e=e=>String(e),k1e={ordinalNumber:_1e,era:qi({values:g1e,defaultWidth:"wide"}),quarter:qi({values:y1e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qi({values:b1e,defaultWidth:"wide"}),day:qi({values:v1e,defaultWidth:"wide"}),dayPeriod:qi({values:x1e,defaultWidth:"wide",formattingValues:w1e,defaultFormattingWidth:"wide"})},S1e=/^(\d+)(th|st|nd|rd)?/i,j1e=/\d+/i,N1e={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},C1e={any:[//,//]},T1e={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},E1e={any:[/1/i,/2/i,/3/i,/4/i]},A1e={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},P1e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},I1e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},D1e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},M1e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},R1e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},$1e={ordinalNumber:O6({matchPattern:S1e,parsePattern:j1e,valueCallback:e=>parseInt(e,10)}),era:Hi({matchPatterns:N1e,defaultMatchWidth:"wide",parsePatterns:C1e,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:T1e,defaultMatchWidth:"wide",parsePatterns:E1e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hi({matchPatterns:A1e,defaultMatchWidth:"wide",parsePatterns:P1e,defaultParseWidth:"any"}),day:Hi({matchPatterns:I1e,defaultMatchWidth:"wide",parsePatterns:D1e,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:M1e,defaultMatchWidth:"any",parsePatterns:R1e,defaultParseWidth:"any"})},da={code:"ar",formatDistance:c1e,formatLong:h1e,formatRelative:m1e,localize:k1e,match:$1e,options:{weekStartsOn:6,firstWeekContainsDate:1}},O1e={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},F1e=(e,r,t)=>{let s;const n=O1e[e];return typeof n=="string"?s=n:r===1?s=n.one:r===2?s=n.two:r<=10?s=n.threeToTen.replace("{{count}}",String(r)):s=n.other.replace("{{count}}",String(r)),t?.addSuffix?t.comparison&&t.comparison>0?"  "+s:" "+s:s},L1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B1e={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U1e={date:tc({formats:L1e,defaultWidth:"full"}),time:tc({formats:z1e,defaultWidth:"full"}),dateTime:tc({formats:B1e,defaultWidth:"full"})},V1e={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},W1e=(e,r,t,s)=>V1e[e],q1e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},H1e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},K1e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Z1e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},G1e={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},X1e={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},Q1e=e=>String(e),Y1e={ordinalNumber:Q1e,era:qi({values:q1e,defaultWidth:"wide"}),quarter:qi({values:H1e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qi({values:K1e,defaultWidth:"wide"}),day:qi({values:Z1e,defaultWidth:"wide"}),dayPeriod:qi({values:G1e,defaultWidth:"wide",formattingValues:X1e,defaultFormattingWidth:"wide"})},J1e=/^(\d+)(th|st|nd|rd)?/i,ewe=/\d+/i,twe={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},rwe={any:[/^/i,/^/i]},nwe={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},swe={any:[/1/i,/2/i,/3/i,/4/i]},iwe={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},awe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},owe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},lwe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},cwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dwe={ordinalNumber:O6({matchPattern:J1e,parsePattern:ewe,valueCallback:e=>parseInt(e,10)}),era:Hi({matchPatterns:twe,defaultMatchWidth:"wide",parsePatterns:rwe,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:nwe,defaultMatchWidth:"wide",parsePatterns:swe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hi({matchPatterns:iwe,defaultMatchWidth:"wide",parsePatterns:awe,defaultParseWidth:"any"}),day:Hi({matchPatterns:owe,defaultMatchWidth:"wide",parsePatterns:lwe,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:cwe,defaultMatchWidth:"any",parsePatterns:uwe,defaultParseWidth:"any"})},qH={code:"ar-SA",formatDistance:F1e,formatLong:U1e,formatRelative:W1e,localize:Y1e,match:dwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};var yr=function(){return yr=Object.assign||function(r){for(var t,s=1,n=arguments.length;s<n;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},yr.apply(this,arguments)};function fwe(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)r.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]]);return t}function HH(e,r,t){for(var s=0,n=r.length,i;s<n;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}function f0(e){return e.mode==="multiple"}function h0(e){return e.mode==="range"}function c1(e){return e.mode==="single"}var hwe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function pwe(e,r){return Or(e,"LLLL y",r)}function mwe(e,r){return Or(e,"d",r)}function gwe(e,r){return Or(e,"LLLL",r)}function ywe(e){return"".concat(e)}function bwe(e,r){return Or(e,"cccccc",r)}function vwe(e,r){return Or(e,"yyyy",r)}var xwe=Object.freeze({__proto__:null,formatCaption:pwe,formatDay:mwe,formatMonthCaption:gwe,formatWeekNumber:ywe,formatWeekdayName:bwe,formatYearCaption:vwe}),wwe=function(e,r,t){return Or(e,"do MMMM (EEEE)",t)},_we=function(){return"Month: "},kwe=function(){return"Go to next month"},Swe=function(){return"Go to previous month"},jwe=function(e,r){return Or(e,"cccc",r)},Nwe=function(e){return"Week n. ".concat(e)},Cwe=function(){return"Year: "},Twe=Object.freeze({__proto__:null,labelDay:wwe,labelMonthDropdown:_we,labelNext:kwe,labelPrevious:Swe,labelWeekNumber:Nwe,labelWeekday:jwe,labelYearDropdown:Cwe});function Ewe(){var e="buttons",r=hwe,t=FH,s={},n={},i=1,a={},l=new Date;return{captionLayout:e,classNames:r,formatters:xwe,labels:Twe,locale:t,modifiersClassNames:s,modifiers:n,numberOfMonths:i,styles:a,today:l,mode:"default"}}function Awe(e){var r=e.fromYear,t=e.toYear,s=e.fromMonth,n=e.toMonth,i=e.fromDate,a=e.toDate;return s?i=ha(s):r&&(i=new Date(r,0,1)),n?a=R6(n):t&&(a=new Date(t,11,31)),{fromDate:i?$h(i):void 0,toDate:a?$h(a):void 0}}var KH=E.createContext(void 0);function Pwe(e){var r,t=e.initialProps,s=Ewe(),n=Awe(t),i=n.fromDate,a=n.toDate,l=(r=t.captionLayout)!==null&&r!==void 0?r:s.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var u;(c1(t)||f0(t)||h0(t))&&(u=t.onSelect);var c=yr(yr(yr({},s),t),{captionLayout:l,classNames:yr(yr({},s.classNames),t.classNames),components:yr({},t.components),formatters:yr(yr({},s.formatters),t.formatters),fromDate:i,labels:yr(yr({},s.labels),t.labels),mode:t.mode||s.mode,modifiers:yr(yr({},s.modifiers),t.modifiers),modifiersClassNames:yr(yr({},s.modifiersClassNames),t.modifiersClassNames),onSelect:u,styles:yr(yr({},s.styles),t.styles),toDate:a});return o.jsx(KH.Provider,{value:c,children:e.children})}function An(){var e=E.useContext(KH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ZH(e){var r=An(),t=r.locale,s=r.classNames,n=r.styles,i=r.formatters.formatCaption;return o.jsx("div",{className:s.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:t})})}function Iwe(e){return o.jsx("svg",yr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function GH(e){var r,t,s=e.onChange,n=e.value,i=e.children,a=e.caption,l=e.className,u=e.style,c=An(),d=(t=(r=c.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&t!==void 0?t:Iwe;return o.jsxs("div",{className:l,style:u,children:[o.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:n,onChange:s,children:i}),o.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Dwe(e){var r,t=An(),s=t.fromDate,n=t.toDate,i=t.styles,a=t.locale,l=t.formatters.formatMonthCaption,u=t.classNames,c=t.components,d=t.labels.labelMonthDropdown;if(!s)return o.jsx(o.Fragment,{});if(!n)return o.jsx(o.Fragment,{});var p=[];if(Uxe(s,n))for(var f=ha(s),h=s.getMonth();h<=n.getMonth();h++)p.push(H2(f,h));else for(var f=ha(new Date),h=0;h<=11;h++)p.push(H2(f,h));var g=function(m){var v=Number(m.target.value),x=H2(ha(e.displayMonth),v);e.onChange(x)},y=(r=c?.Dropdown)!==null&&r!==void 0?r:GH;return o.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:p.map(function(m){return o.jsx("option",{value:m.getMonth(),children:l(m,{locale:a})},m.getMonth())})})}function Mwe(e){var r,t=e.displayMonth,s=An(),n=s.fromDate,i=s.toDate,a=s.locale,l=s.styles,u=s.classNames,c=s.components,d=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,f=[];if(!n)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var h=n.getFullYear(),g=i.getFullYear(),y=h;y<=g;y++)f.push(MA($H(new Date),y));var m=function(x){var k=MA(ha(t),Number(x.target.value));e.onChange(k)},v=(r=c?.Dropdown)!==null&&r!==void 0?r:GH;return o.jsx(v,{name:"years","aria-label":p(),className:u.dropdown_year,style:l.dropdown_year,onChange:m,value:t.getFullYear(),caption:d(t,{locale:a}),children:f.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:a})},x.getFullYear())})})}function Rwe(e,r){var t=E.useState(e),s=t[0],n=t[1],i=r===void 0?s:r;return[i,n]}function $we(e){var r=e.month,t=e.defaultMonth,s=e.today,n=r||t||s||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,u=l===void 0?1:l;if(i&&Xm(i,n)<0){var c=-1*(u-1);n=Wo(i,c)}return a&&Xm(n,a)<0&&(n=a),ha(n)}function Owe(){var e=An(),r=$we(e),t=Rwe(r,e.month),s=t[0],n=t[1],i=function(a){var l;if(!e.disableNavigation){var u=ha(a);n(u),(l=e.onMonthChange)===null||l===void 0||l.call(e,u)}};return[s,i]}function Fwe(e,r){for(var t=r.reverseMonths,s=r.numberOfMonths,n=ha(e),i=ha(Wo(n,s)),a=Xm(i,n),l=[],u=0;u<a;u++){var c=Wo(n,u);l.push(c)}return t&&(l=l.reverse()),l}function Lwe(e,r){if(!r.disableNavigation){var t=r.toDate,s=r.pagedNavigation,n=r.numberOfMonths,i=n===void 0?1:n,a=s?i:1,l=ha(e);if(!t)return Wo(l,a);var u=Xm(t,e);if(!(u<i))return Wo(l,a)}}function zwe(e,r){if(!r.disableNavigation){var t=r.fromDate,s=r.pagedNavigation,n=r.numberOfMonths,i=n===void 0?1:n,a=s?i:1,l=ha(e);if(!t)return Wo(l,-a);var u=Xm(l,t);if(!(u<=0))return Wo(l,-a)}}var XH=E.createContext(void 0);function Bwe(e){var r=An(),t=Owe(),s=t[0],n=t[1],i=Fwe(s,r),a=Lwe(s,r),l=zwe(s,r),u=function(p){return i.some(function(f){return l1(p,f)})},c=function(p,f){u(p)||(f&&VH(p,f)?n(Wo(p,1+r.numberOfMonths*-1)):n(p))},d={currentMonth:s,displayMonths:i,goToMonth:n,goToDate:c,previousMonth:l,nextMonth:a,isDateDisplayed:u};return o.jsx(XH.Provider,{value:d,children:e.children})}function p0(){var e=E.useContext(XH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RA(e){var r,t=An(),s=t.classNames,n=t.styles,i=t.components,a=p0().goToMonth,l=function(d){a(Wo(d,e.displayIndex?-e.displayIndex:0))},u=(r=i?.CaptionLabel)!==null&&r!==void 0?r:ZH,c=o.jsx(u,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:s.caption_dropdowns,style:n.caption_dropdowns,children:[o.jsx("div",{className:s.vhidden,children:c}),o.jsx(Dwe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Mwe,{onChange:l,displayMonth:e.displayMonth})]})}function Uwe(e){return o.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Vwe(e){return o.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ov=E.forwardRef(function(e,r){var t=An(),s=t.classNames,n=t.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var a=i.join(" "),l=yr(yr({},n.button_reset),n.button);return e.style&&Object.assign(l,e.style),o.jsx("button",yr({},e,{ref:r,type:"button",className:a,style:l}))});function Wwe(e){var r,t,s=An(),n=s.dir,i=s.locale,a=s.classNames,l=s.styles,u=s.labels,c=u.labelPrevious,d=u.labelNext,p=s.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var f=c(e.previousMonth,{locale:i}),h=[a.nav_button,a.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),y=[a.nav_button,a.nav_button_next].join(" "),m=(r=p?.IconRight)!==null&&r!==void 0?r:Vwe,v=(t=p?.IconLeft)!==null&&t!==void 0?t:Uwe;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(ov,{name:"previous-month","aria-label":f,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?o.jsx(m,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(ov,{name:"next-month","aria-label":g,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(m,{className:a.nav_icon,style:l.nav_icon})})]})}function $A(e){var r=An().numberOfMonths,t=p0(),s=t.previousMonth,n=t.nextMonth,i=t.goToMonth,a=t.displayMonths,l=a.findIndex(function(g){return l1(e.displayMonth,g)}),u=l===0,c=l===a.length-1,d=r>1&&(u||!c),p=r>1&&(c||!u),f=function(){s&&i(s)},h=function(){n&&i(n)};return o.jsx(Wwe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:p,nextMonth:n,previousMonth:s,onPreviousClick:f,onNextClick:h})}function qwe(e){var r,t=An(),s=t.classNames,n=t.disableNavigation,i=t.styles,a=t.captionLayout,l=t.components,u=(r=l?.CaptionLabel)!==null&&r!==void 0?r:ZH,c;return n?c=o.jsx(u,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?c=o.jsx(RA,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?c=o.jsxs(o.Fragment,{children:[o.jsx(RA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx($A,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=o.jsxs(o.Fragment,{children:[o.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx($A,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:s.caption,style:i.caption,children:c})}function Hwe(e){var r=An(),t=r.footer,s=r.styles,n=r.classNames.tfoot;return t?o.jsx("tfoot",{className:n,style:s.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:t})})}):o.jsx(o.Fragment,{})}function Kwe(e,r,t){for(var s=t?zd(new Date):po(new Date,{locale:e,weekStartsOn:r}),n=[],i=0;i<7;i++){var a=Vi(s,i);n.push(a)}return n}function Zwe(){var e=An(),r=e.classNames,t=e.styles,s=e.showWeekNumber,n=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,c=Kwe(n,i,a);return o.jsxs("tr",{style:t.head_row,className:r.head_row,children:[s&&o.jsx("td",{style:t.head_cell,className:r.head_cell}),c.map(function(d,p){return o.jsx("th",{scope:"col",className:r.head_cell,style:t.head_cell,"aria-label":u(d,{locale:n}),children:l(d,{locale:n})},p)})]})}function Gwe(){var e,r=An(),t=r.classNames,s=r.styles,n=r.components,i=(e=n?.HeadRow)!==null&&e!==void 0?e:Zwe;return o.jsx("thead",{style:s.head,className:t.head,children:o.jsx(i,{})})}function Xwe(e){var r=An(),t=r.locale,s=r.formatters.formatDay;return o.jsx(o.Fragment,{children:s(e.date,{locale:t})})}var F6=E.createContext(void 0);function Qwe(e){if(!f0(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return o.jsx(F6.Provider,{value:r,children:e.children})}return o.jsx(Ywe,{initialProps:e.initialProps,children:e.children})}function Ywe(e){var r=e.initialProps,t=e.children,s=r.selected,n=r.min,i=r.max,a=function(c,d,p){var f,h;(f=r.onDayClick)===null||f===void 0||f.call(r,c,d,p);var g=!!(d.selected&&n&&s?.length===n);if(!g){var y=!!(!d.selected&&i&&s?.length===i);if(!y){var m=s?HH([],s):[];if(d.selected){var v=m.findIndex(function(x){return Ti(c,x)});m.splice(v,1)}else m.push(c);(h=r.onSelect)===null||h===void 0||h.call(r,m,c,d,p)}}},l={disabled:[]};s&&l.disabled.push(function(c){var d=i&&s.length>i-1,p=s.some(function(f){return Ti(f,c)});return!!(d&&!p)});var u={selected:s,onDayClick:a,modifiers:l};return o.jsx(F6.Provider,{value:u,children:t})}function L6(){var e=E.useContext(F6);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Jwe(e,r){var t=r||{},s=t.from,n=t.to;return s&&n?Ti(n,e)&&Ti(s,e)?void 0:Ti(n,e)?{from:n,to:void 0}:Ti(s,e)?void 0:p4(s,e)?{from:e,to:n}:{from:s,to:e}:n?p4(e,n)?{from:n,to:e}:{from:e,to:n}:s?VH(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var z6=E.createContext(void 0);function e2e(e){if(!h0(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(z6.Provider,{value:r,children:e.children})}return o.jsx(t2e,{initialProps:e.initialProps,children:e.children})}function t2e(e){var r=e.initialProps,t=e.children,s=r.selected,n=s||{},i=n.from,a=n.to,l=r.min,u=r.max,c=function(h,g,y){var m,v;(m=r.onDayClick)===null||m===void 0||m.call(r,h,g,y);var x=Jwe(h,s);(v=r.onSelect)===null||v===void 0||v.call(r,x,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Ti(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:yb(i,l-1),before:Vi(i,l-1)}),i&&a&&d.disabled.push({after:i,before:Vi(i,l-1)}),!i&&a&&d.disabled.push({after:yb(a,l-1),before:Vi(a,l-1)})),u){if(i&&!a&&(d.disabled.push({before:Vi(i,-u+1)}),d.disabled.push({after:Vi(i,u-1)})),i&&a){var p=fl(a,i)+1,f=u-p;d.disabled.push({before:yb(i,f)}),d.disabled.push({after:Vi(a,f)})}!i&&a&&(d.disabled.push({before:Vi(a,-u+1)}),d.disabled.push({after:Vi(a,u-1)}))}return o.jsx(z6.Provider,{value:{selected:s,onDayClick:c,modifiers:d},children:t})}function B6(){var e=E.useContext(z6);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function bb(e){return Array.isArray(e)?HH([],e):e!==void 0?[e]:[]}function r2e(e){var r={};return Object.entries(e).forEach(function(t){var s=t[0],n=t[1];r[s]=bb(n)}),r}var qo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(qo||(qo={}));var n2e=qo.Selected,Fl=qo.Disabled,s2e=qo.Hidden,i2e=qo.Today,K2=qo.RangeEnd,Z2=qo.RangeMiddle,G2=qo.RangeStart,a2e=qo.Outside;function o2e(e,r,t){var s,n=(s={},s[n2e]=bb(e.selected),s[Fl]=bb(e.disabled),s[s2e]=bb(e.hidden),s[i2e]=[e.today],s[K2]=[],s[Z2]=[],s[G2]=[],s[a2e]=[],s);return e.fromDate&&n[Fl].push({before:e.fromDate}),e.toDate&&n[Fl].push({after:e.toDate}),f0(e)?n[Fl]=n[Fl].concat(r.modifiers[Fl]):h0(e)&&(n[Fl]=n[Fl].concat(t.modifiers[Fl]),n[G2]=t.modifiers[G2],n[Z2]=t.modifiers[Z2],n[K2]=t.modifiers[K2]),n}var QH=E.createContext(void 0);function l2e(e){var r=An(),t=L6(),s=B6(),n=o2e(r,t,s),i=r2e(r.modifiers),a=yr(yr({},n),i);return o.jsx(QH.Provider,{value:a,children:e.children})}function YH(){var e=E.useContext(QH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function c2e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function u2e(e){return!!(e&&typeof e=="object"&&"from"in e)}function d2e(e){return!!(e&&typeof e=="object"&&"after"in e)}function f2e(e){return!!(e&&typeof e=="object"&&"before"in e)}function h2e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function p2e(e,r){var t,s=r.from,n=r.to;if(s&&n){var i=fl(n,s)<0;i&&(t=[n,s],s=t[0],n=t[1]);var a=fl(e,s)>=0&&fl(n,e)>=0;return a}return n?Ti(n,e):s?Ti(s,e):!1}function m2e(e){return M6(e)}function g2e(e){return Array.isArray(e)&&e.every(M6)}function y2e(e,r){return r.some(function(t){if(typeof t=="boolean")return t;if(m2e(t))return Ti(e,t);if(g2e(t))return t.includes(e);if(u2e(t))return p2e(e,t);if(h2e(t))return t.dayOfWeek.includes(e.getDay());if(c2e(t)){var s=fl(t.before,e),n=fl(t.after,e),i=s>0,a=n<0,l=p4(t.before,t.after);return l?a&&i:i||a}return d2e(t)?fl(e,t.after)>0:f2e(t)?fl(t.before,e)>0:typeof t=="function"?t(e):!1})}function U6(e,r,t){var s=Object.keys(r).reduce(function(i,a){var l=r[a];return y2e(e,l)&&i.push(a),i},[]),n={};return s.forEach(function(i){return n[i]=!0}),t&&!l1(e,t)&&(n.outside=!0),n}function b2e(e,r){for(var t=ha(e[0]),s=R6(e[e.length-1]),n,i,a=t;a<=s;){var l=U6(a,r),u=!l.disabled&&!l.hidden;if(!u){a=Vi(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),n||(n=a),a=Vi(a,1)}return i||n}var v2e=365;function JH(e,r){var t=r.moveBy,s=r.direction,n=r.context,i=r.modifiers,a=r.retry,l=a===void 0?{count:0,lastFocused:e}:a,u=n.weekStartsOn,c=n.fromDate,d=n.toDate,p=n.locale,f={day:Vi,week:h4,month:Wo,year:Fve,startOfWeek:function(m){return n.ISOWeek?zd(m):po(m,{locale:p,weekStartsOn:u})},endOfWeek:function(m){return n.ISOWeek?OH(m):$6(m,{locale:p,weekStartsOn:u})}},h=f[t](e,s==="after"?1:-1);s==="before"&&c?h=Lve([c,h]):s==="after"&&d&&(h=zve([d,h]));var g=!0;if(i){var y=U6(h,i);g=!y.disabled&&!y.hidden}return g?h:l.count>v2e?l.lastFocused:JH(h,{moveBy:t,direction:s,context:n,modifiers:i,retry:yr(yr({},l),{count:l.count+1})})}var eK=E.createContext(void 0);function x2e(e){var r=p0(),t=YH(),s=E.useState(),n=s[0],i=s[1],a=E.useState(),l=a[0],u=a[1],c=b2e(r.displayMonths,t),d=n??(l&&r.isDateDisplayed(l))?l:c,p=function(){u(n),i(void 0)},f=function(m){i(m)},h=An(),g=function(m,v){if(n){var x=JH(n,{moveBy:m,direction:v,context:h,modifiers:t});Ti(n,x)||(r.goToDate(x,n),f(x))}},y={focusedDay:n,focusTarget:d,blur:p,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(eK.Provider,{value:y,children:e.children})}function V6(){var e=E.useContext(eK);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function w2e(e,r){var t=YH(),s=U6(e,t,r);return s}var W6=E.createContext(void 0);function _2e(e){if(!c1(e.initialProps)){var r={selected:void 0};return o.jsx(W6.Provider,{value:r,children:e.children})}return o.jsx(k2e,{initialProps:e.initialProps,children:e.children})}function k2e(e){var r=e.initialProps,t=e.children,s=function(i,a,l){var u,c,d;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,a,l),a.selected&&!r.required){(c=r.onSelect)===null||c===void 0||c.call(r,void 0,i,a,l);return}(d=r.onSelect)===null||d===void 0||d.call(r,i,i,a,l)},n={selected:r.selected,onDayClick:s};return o.jsx(W6.Provider,{value:n,children:t})}function tK(){var e=E.useContext(W6);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function S2e(e,r){var t=An(),s=tK(),n=L6(),i=B6(),a=V6(),l=a.focusDayAfter,u=a.focusDayBefore,c=a.focusWeekAfter,d=a.focusWeekBefore,p=a.blur,f=a.focus,h=a.focusMonthBefore,g=a.focusMonthAfter,y=a.focusYearBefore,m=a.focusYearAfter,v=a.focusStartOfWeek,x=a.focusEndOfWeek,k=function(S){var j,N,M,O;c1(t)?(j=s.onDayClick)===null||j===void 0||j.call(s,e,r,S):f0(t)?(N=n.onDayClick)===null||N===void 0||N.call(n,e,r,S):h0(t)?(M=i.onDayClick)===null||M===void 0||M.call(i,e,r,S):(O=t.onDayClick)===null||O===void 0||O.call(t,e,r,S)},T=function(S){var j;f(e),(j=t.onDayFocus)===null||j===void 0||j.call(t,e,r,S)},A=function(S){var j;p(),(j=t.onDayBlur)===null||j===void 0||j.call(t,e,r,S)},L=function(S){var j;(j=t.onDayMouseEnter)===null||j===void 0||j.call(t,e,r,S)},q=function(S){var j;(j=t.onDayMouseLeave)===null||j===void 0||j.call(t,e,r,S)},D=function(S){var j;(j=t.onDayPointerEnter)===null||j===void 0||j.call(t,e,r,S)},$=function(S){var j;(j=t.onDayPointerLeave)===null||j===void 0||j.call(t,e,r,S)},z=function(S){var j;(j=t.onDayTouchCancel)===null||j===void 0||j.call(t,e,r,S)},K=function(S){var j;(j=t.onDayTouchEnd)===null||j===void 0||j.call(t,e,r,S)},W=function(S){var j;(j=t.onDayTouchMove)===null||j===void 0||j.call(t,e,r,S)},P=function(S){var j;(j=t.onDayTouchStart)===null||j===void 0||j.call(t,e,r,S)},R=function(S){var j;(j=t.onDayKeyUp)===null||j===void 0||j.call(t,e,r,S)},C=function(S){var j;switch(S.key){case"ArrowLeft":S.preventDefault(),S.stopPropagation(),t.dir==="rtl"?l():u();break;case"ArrowRight":S.preventDefault(),S.stopPropagation(),t.dir==="rtl"?u():l();break;case"ArrowDown":S.preventDefault(),S.stopPropagation(),c();break;case"ArrowUp":S.preventDefault(),S.stopPropagation(),d();break;case"PageUp":S.preventDefault(),S.stopPropagation(),S.shiftKey?y():h();break;case"PageDown":S.preventDefault(),S.stopPropagation(),S.shiftKey?m():g();break;case"Home":S.preventDefault(),S.stopPropagation(),v();break;case"End":S.preventDefault(),S.stopPropagation(),x();break}(j=t.onDayKeyDown)===null||j===void 0||j.call(t,e,r,S)},_={onClick:k,onFocus:T,onBlur:A,onKeyDown:C,onKeyUp:R,onMouseEnter:L,onMouseLeave:q,onPointerEnter:D,onPointerLeave:$,onTouchCancel:z,onTouchEnd:K,onTouchMove:W,onTouchStart:P};return _}function j2e(){var e=An(),r=tK(),t=L6(),s=B6(),n=c1(e)?r.selected:f0(e)?t.selected:h0(e)?s.selected:void 0;return n}function N2e(e){return Object.values(qo).includes(e)}function C2e(e,r){var t=[e.classNames.day];return Object.keys(r).forEach(function(s){var n=e.modifiersClassNames[s];if(n)t.push(n);else if(N2e(s)){var i=e.classNames["day_".concat(s)];i&&t.push(i)}}),t}function T2e(e,r){var t=yr({},e.styles.day);return Object.keys(r).forEach(function(s){var n;t=yr(yr({},t),(n=e.modifiersStyles)===null||n===void 0?void 0:n[s])}),t}function E2e(e,r,t){var s,n,i,a=An(),l=V6(),u=w2e(e,r),c=S2e(e,u),d=j2e(),p=!!(a.onDayClick||a.mode!=="default");E.useEffect(function(){var L;u.outside||l.focusedDay&&p&&Ti(l.focusedDay,e)&&((L=t.current)===null||L===void 0||L.focus())},[l.focusedDay,e,t,p,u.outside]);var f=C2e(a,u).join(" "),h=T2e(a,u),g=!!(u.outside&&!a.showOutsideDays||u.hidden),y=(i=(n=a.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:Xwe,m=o.jsx(y,{date:e,displayMonth:r,activeModifiers:u}),v={style:h,className:f,children:m,role:"gridcell"},x=l.focusTarget&&Ti(l.focusTarget,e)&&!u.outside,k=l.focusedDay&&Ti(l.focusedDay,e),T=yr(yr(yr({},v),(s={disabled:u.disabled,role:"gridcell"},s["aria-selected"]=u.selected,s.tabIndex=k||x?0:-1,s)),c),A={isButton:p,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:T,divProps:v};return A}function A2e(e){var r=E.useRef(null),t=E2e(e.date,e.displayMonth,r);return t.isHidden?o.jsx("div",{role:"gridcell"}):t.isButton?o.jsx(ov,yr({name:"day",ref:r},t.buttonProps)):o.jsx("div",yr({},t.divProps))}function P2e(e){var r=e.number,t=e.dates,s=An(),n=s.onWeekNumberClick,i=s.styles,a=s.classNames,l=s.locale,u=s.labels.labelWeekNumber,c=s.formatters.formatWeekNumber,d=c(Number(r),{locale:l});if(!n)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var p=u(Number(r),{locale:l}),f=function(h){n(r,t,h)};return o.jsx(ov,{name:"week-number","aria-label":p,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function I2e(e){var r,t,s=An(),n=s.styles,i=s.classNames,a=s.showWeekNumber,l=s.components,u=(r=l?.Day)!==null&&r!==void 0?r:A2e,c=(t=l?.WeekNumber)!==null&&t!==void 0?t:P2e,d;return a&&(d=o.jsx("td",{className:i.cell,style:n.cell,children:o.jsx(c,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:n.row,children:[d,e.dates.map(function(p){return o.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:o.jsx(u,{displayMonth:e.displayMonth,date:p})},Fxe(p))})]})}function OA(e,r,t){for(var s=t?.ISOWeek?OH(r):$6(r,t),n=t?.ISOWeek?zd(e):po(e,t),i=fl(s,n),a=[],l=0;l<=i;l++)a.push(Vi(n,l));var u=a.reduce(function(c,d){var p=t?.ISOWeek?LH(d):BH(d,t),f=c.find(function(h){return h.weekNumber===p});return f?(f.dates.push(d),c):(c.push({weekNumber:p,dates:[d]}),c)},[]);return u}function D2e(e,r){var t=OA(ha(e),R6(e),r);if(r?.useFixedWeeks){var s=zxe(e,r);if(s<6){var n=t[t.length-1],i=n.dates[n.dates.length-1],a=h4(i,6-s),l=OA(h4(i,1),a,r);t.push.apply(t,l)}}return t}function M2e(e){var r,t,s,n=An(),i=n.locale,a=n.classNames,l=n.styles,u=n.hideHead,c=n.fixedWeeks,d=n.components,p=n.weekStartsOn,f=n.firstWeekContainsDate,h=n.ISOWeek,g=D2e(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:h,locale:i,weekStartsOn:p,firstWeekContainsDate:f}),y=(r=d?.Head)!==null&&r!==void 0?r:Gwe,m=(t=d?.Row)!==null&&t!==void 0?t:I2e,v=(s=d?.Footer)!==null&&s!==void 0?s:Hwe;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&o.jsx(y,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:g.map(function(x){return o.jsx(m,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(v,{displayMonth:e.displayMonth})]})}function R2e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $2e=R2e()?E.useLayoutEffect:E.useEffect,X2=!1,O2e=0;function FA(){return"react-day-picker-".concat(++O2e)}function F2e(e){var r,t=e??(X2?FA():null),s=E.useState(t),n=s[0],i=s[1];return $2e(function(){n===null&&i(FA())},[]),E.useEffect(function(){X2===!1&&(X2=!0)},[]),(r=e??n)!==null&&r!==void 0?r:void 0}function L2e(e){var r,t,s=An(),n=s.dir,i=s.classNames,a=s.styles,l=s.components,u=p0().displayMonths,c=F2e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],f=a.month,h=e.displayIndex===0,g=e.displayIndex===u.length-1,y=!h&&!g;n==="rtl"&&(r=[h,g],g=r[0],h=r[1]),h&&(p.push(i.caption_start),f=yr(yr({},f),a.caption_start)),g&&(p.push(i.caption_end),f=yr(yr({},f),a.caption_end)),y&&(p.push(i.caption_between),f=yr(yr({},f),a.caption_between));var m=(t=l?.Caption)!==null&&t!==void 0?t:qwe;return o.jsxs("div",{className:p.join(" "),style:f,children:[o.jsx(m,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(M2e,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function z2e(e){var r=An(),t=r.classNames,s=r.styles;return o.jsx("div",{className:t.months,style:s.months,children:e.children})}function B2e(e){var r,t,s=e.initialProps,n=An(),i=V6(),a=p0(),l=E.useState(!1),u=l[0],c=l[1];E.useEffect(function(){n.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),c(!0)))},[n.initialFocus,u,i.focus,i.focusTarget,i]);var d=[n.classNames.root,n.className];n.numberOfMonths>1&&d.push(n.classNames.multiple_months),n.showWeekNumber&&d.push(n.classNames.with_weeknumber);var p=yr(yr({},n.styles.root),n.style),f=Object.keys(s).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return yr(yr({},g),(m={},m[y]=s[y],m))},{}),h=(t=(r=s.components)===null||r===void 0?void 0:r.Months)!==null&&t!==void 0?t:z2e;return o.jsx("div",yr({className:d.join(" "),style:p,dir:n.dir,id:n.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:o.jsx(h,{children:a.displayMonths.map(function(g,y){return o.jsx(L2e,{displayIndex:y,displayMonth:g},y)})})}))}function U2e(e){var r=e.children,t=fwe(e,["children"]);return o.jsx(Pwe,{initialProps:t,children:o.jsx(Bwe,{children:o.jsx(_2e,{initialProps:t,children:o.jsx(Qwe,{initialProps:t,children:o.jsx(e2e,{initialProps:t,children:o.jsx(l2e,{children:o.jsx(x2e,{children:r})})})})})})})}function V2e(e){return o.jsx(U2e,yr({},e,{children:o.jsx(B2e,{initialProps:e})}))}function q6({className:e,classNames:r,showOutsideDays:t=!0,locale:s,...n}){const i=s??da,a=i===da||n.dir==="rtl";return o.jsx("div",{dir:a?"rtl":"ltr",lang:a?"ar":"en",children:o.jsx(V2e,{showOutsideDays:t,locale:i,weekStartsOn:6,className:Ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:Ae(Zm({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:a?"absolute right-1":"absolute left-1",nav_button_next:a?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ae(Zm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{Dropdown:({value:l,onChange:u,children:c,...d})=>{const p=E.Children.toArray(c),f=p.find(g=>g.props.value===l),h=g=>{u?.({target:{value:g}})};return o.jsxs(es,{value:l?.toString(),onValueChange:g=>h(g),children:[o.jsx(Wn,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:o.jsx(ts,{children:f?.props?.children})}),o.jsx(qn,{position:"popper",children:o.jsx(Zo,{className:"h-80",children:p.map((g,y)=>o.jsx(zt,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:l,...u})=>a?o.jsx(Ad,{className:Ae("h-4 w-4",l),...u}):o.jsx(Eb,{className:Ae("h-4 w-4",l),...u}),IconRight:({className:l,...u})=>a?o.jsx(Eb,{className:Ae("h-4 w-4",l),...u}):o.jsx(Ad,{className:Ae("h-4 w-4",l),...u})},...n})})}q6.displayName="Calendar";function bl({label:e,value:r,onChange:t,placeholder:s=" ",disabled:n=!1,className:i,required:a=!1,error:l,id:u}){const[c,d]=E.useState(!1),[p,f]=E.useState(void 0),h=E.useMemo(()=>{if(r){if(r instanceof Date)return r;if(typeof r=="string"){const v=new Date(r);return isNaN(v.getTime())?void 0:v}}},[r]);E.useEffect(()=>{c&&f(h||new Date)},[c,h]);const g=()=>{t?.(p),d(!1)},y=()=>{t?.(void 0),d(!1)},m=h?Or(h,"dd MMMM yyyy",{locale:da}):null;return o.jsxs("div",{className:Ae("flex flex-col gap-1.5",i),children:[e&&o.jsxs(Ye,{htmlFor:u,className:"text-right font-medium",children:[e,a&&o.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),o.jsxs(Ys,{open:c,onOpenChange:d,children:[o.jsx(Dh,{asChild:!0,children:o.jsxs(Ie,{id:u,variant:"ghost",disabled:n,className:Ae("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!h&&"text-muted-foreground",l&&"text-destructive"),children:[o.jsx(ks,{className:"ml-2 h-4 w-4 opacity-50"}),o.jsx("span",{className:"truncate",children:m||s})]})}),o.jsxs($s,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[o.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:o.jsx(Rs,{className:"h-5 w-5"})}),o.jsxs(Js,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[o.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:Or(p||new Date,"yyyy")}),o.jsx("div",{className:"text-2xl font-bold",children:p?Or(p,"eeee d MMMM",{locale:da}):"  "})]}),o.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:o.jsx(q6,{mode:"single",selected:p,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),o.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[o.jsx(Ie,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),o.jsx(Ie,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),o.jsx(Ie,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),l&&o.jsx("p",{className:"text-sm text-destructive text-right",children:l})]})}function W2e({name:e,control:r,label:t,placeholder:s=" ",disabled:n=!1,className:i,required:a=!1,rules:l}){return o.jsx($$,{name:e,control:r,rules:l,render:({field:u,fieldState:c})=>o.jsx(bl,{label:t,value:u.value,onChange:d=>{u.onChange(d?Or(d,"yyyy-MM-dd"):"")},placeholder:s,disabled:n,className:i,required:a,error:c.error?.message,id:e})})}function q2e({searchValue:e="",onSearchChange:r,searchPlaceholder:t="...",showSearch:s=!0,actions:n=[],onReset:i,onRefresh:a,isRefreshing:l=!1,hasActiveFilters:u=!1,viewMode:c="grid",onViewModeChange:d,showViewToggle:p=!1,className:f,filters:h=[],filterValues:g={},onFilterChange:y}){const[m,v]=E.useState(!1),x=E.useCallback(()=>{r?.("")},[r]),T=h.filter($=>{const z=g[$.key];return $.type==="date"?z instanceof Date:$.type==="date-range"?z?.from||z?.to:z&&z!=="all"&&z!==$.defaultValue}).length,A=h.length>0&&y,L=$=>{const z=g[$.key];switch($.type){case"date":return o.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),o.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:o.jsx(bl,{value:z?new Date(z):void 0,onChange:P=>{y?.($.key,P),P&&y?.("dateRange",void 0)},placeholder:$.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const K=z?.from?z.from instanceof Date?z.from:new Date(z.from):void 0,W=z?.to?z.to instanceof Date?z.to:new Date(z.to):void 0;return o.jsxs("div",{onClick:P=>P.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),o.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:o.jsx(bl,{value:K,onChange:P=>{const R=typeof z=="object"&&z!==null?{...z}:{};R.from=P,P&&y?.("specificDate",void 0),y?.($.key,R)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),o.jsxs("div",{className:"relative group",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),o.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:o.jsx(bl,{value:W,onChange:P=>{const R=typeof z=="object"&&z!==null?{...z}:{};R.to=P,y?.($.key,R)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return o.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:$.label}),o.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:o.jsxs(es,{value:String(z||$.defaultValue||"all"),onValueChange:P=>y?.($.key,P),children:[o.jsx(Wn,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:o.jsx(ts,{placeholder:$.placeholder||$.label})}),o.jsx(qn,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:$.options?.map(P=>o.jsx(zt,{value:String(P.value),className:"rounded-xl my-1 py-3 text-right",children:P.label},P.value))})]})})]})}},q=[];p&&d&&(q.push({key:"viewList",icon:Gse,tooltip:" ",onClick:()=>d("list"),variant:c==="list"?"default":"ghost"}),q.push({key:"viewGrid",icon:Zse,tooltip:" ",onClick:()=>d("grid"),variant:c==="grid"?"default":"ghost"})),a&&q.push({key:"refresh",icon:Ls,tooltip:"",onClick:a,loading:l}),i&&u&&q.push({key:"reset",icon:Xl,tooltip:" ",onClick:i});const D=[...q,...Array.isArray(n)?n:[]];return o.jsxs("div",{className:Ae("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[s&&o.jsxs("div",{className:"relative flex-1",children:[o.jsx(vt,{type:"text",placeholder:t,value:e,onChange:$=>r?.($.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),e?o.jsx(Ie,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:x,type:"button",children:o.jsx(Rs,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):o.jsx(Bo,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),A&&o.jsxs(a1,{open:m,onOpenChange:v,children:[o.jsx(P6,{asChild:!0,children:o.jsxs(Ie,{variant:"ghost",size:"icon",className:Ae("h-8 w-8 rounded-lg relative",T>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[o.jsx(Pb,{className:"h-4 w-4"}),T>0&&o.jsx(At,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:T})]})}),o.jsx(c0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:$=>{const z=$.target;(z.closest(".rdp")||z.closest('[role="listbox"]')||z.closest(".relative"))&&$.preventDefault()},onInteractOutside:$=>{const z=$.target;(z.closest(".rdp")||z.closest('[role="listbox"]'))&&$.preventDefault()},children:o.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(AH,{asChild:!0,children:o.jsx(Ie,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:o.jsx(Rs,{className:"h-5 w-5"})})}),o.jsx(u0,{className:"text-xl font-bold tracking-tight",children:" "})]}),o.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),o.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[o.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:h.map($=>o.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:L($)},$.key))}),h.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[o.jsx(Pb,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"    "})]})]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:o.jsx("div",{className:"max-w-xl mx-auto",children:o.jsx(Ie,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),D.length>0&&o.jsx(zv,{delayDuration:300,children:o.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:D.map($=>{const z=$.icon;return o.jsxs(jS,{children:[o.jsx(NS,{asChild:!0,children:o.jsx(Ie,{variant:$.variant||"ghost",size:"icon",className:Ae("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",$.loading&&"bg-primary/10 text-primary",$.variant==="default"&&"bg-primary/10 text-primary"),onClick:$.onClick,disabled:$.disabled||$.loading,children:o.jsx(z,{className:Ae("h-4 w-4 transition-transform duration-200",$.loading&&"animate-spin")})})}),$.tooltip&&o.jsx(Bv,{side:"bottom",className:"text-xs",children:o.jsx("p",{children:$.loading?" ...":$.tooltip})})]},$.key)})})})]})}function H2e({filters:e,filterValues:r,onFilterChange:t,onReset:s,showAllFiltersButton:n=!0,className:i}){const[a,l]=E.useState(!1),c=e.filter(f=>{const h=r[f.key];return f.type==="date"?h instanceof Date:f.type==="date-range"?h?.from||h?.to:h&&h!=="all"&&h!==f.defaultValue}),d=f=>{const h=r[f.key];if(f.type==="date"&&h instanceof Date)return Or(h,"dd MMMM yyyy",{locale:da});if(f.type==="date-range"){if(h?.from&&h?.to)return`${Or(h.from,"dd MMM",{locale:da})} - ${Or(h.to,"dd MMM",{locale:da})}`;if(h?.from)return` ${Or(h.from,"dd MMM",{locale:da})}`}return f.options?.find(y=>y.value===h)?.label||h},p=f=>{f.type==="date"||f.type==="date-range"?t(f.key,void 0):t(f.key,f.defaultValue||"all")};return o.jsx("div",{className:Ae("space-y-1",i),children:c.length>0&&o.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:c.map(f=>o.jsxs(At,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[o.jsx("span",{className:"font-medium",children:d(f)}),o.jsx("button",{onClick:h=>{h.stopPropagation(),p(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:o.jsx(Rs,{className:"h-3.5 w-3.5"})})]},f.key))})})}function K2e({config:e,className:r}){const{totalCount:t,filteredCount:s,totalLabel:n="",filteredLabel:i="",totalValue:a,totalValueLabel:l="",unit:u=".",categoryBreakdown:c,showBreakdown:d=!1}=e,p=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return o.jsxs("div",{className:Ae("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",r),children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[n,":"]}),o.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:s}),o.jsx("span",{className:"text-xs text-gray-500",children:i}),o.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:t})]}),a!==void 0&&!d&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[l,":"]}),o.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:p(a)}),u&&o.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&c&&c.length>0&&o.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[c.map((f,h)=>o.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),o.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[p(f.value)," ",f.unit||u]})]},h)),a!==void 0&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[o.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[l,":"]}),o.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[p(a)," ",u]})]})]})]})}function bo({statsRows:e,searchValue:r,onSearchChange:t,searchPlaceholder:s,showSearch:n=!0,filters:i=[],filterValues:a={},onFilterChange:l,onReset:u,onRefresh:c,isRefreshing:d,actions:p,resultsSummary:f,showAllFiltersButton:h=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:x,title:k,subtitle:T,hideHeader:A=!1}){const L=i.some(q=>{const D=a[q.key];return q.type==="date"?D instanceof Date:q.type==="date-range"?D?.from||D?.to:D&&D!=="all"&&D!==q.defaultValue})||!!(r&&r.length>0);return o.jsxs("div",{className:Ae("space-y-2",y),children:[!A&&(k||T)&&o.jsxs("div",{className:"mb-4",children:[k&&o.jsx("h2",{className:"text-2xl font-bold",children:k}),T&&o.jsx("p",{className:"text-muted-foreground",children:T})]}),e&&e.length>0&&o.jsx(Ive,{rows:e}),o.jsx(q2e,{searchValue:r,onSearchChange:t,searchPlaceholder:s,showSearch:n,actions:p,onReset:u,onRefresh:c,isRefreshing:d,hasActiveFilters:L,viewMode:v,onViewModeChange:x,showViewToggle:!!x,filters:i,filterValues:a,onFilterChange:l}),i.length>0&&l&&o.jsx(H2e,{filters:i,filterValues:a,onFilterChange:l,onReset:u,showAllFiltersButton:!1}),f&&o.jsx(K2e,{config:f})]})}function bn({className:e,...r}){return o.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",e),...r})}var Q2="rovingFocusGroup.onEntryFocus",Z2e={bubbles:!1,cancelable:!0},m0="RovingFocusGroup",[g4,rK,G2e]=Tv(m0),[X2e,ap]=mi(m0,[G2e]),[Q2e,Y2e]=X2e(m0),nK=E.forwardRef((e,r)=>o.jsx(g4.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(g4.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(J2e,{...e,ref:r})})}));nK.displayName=m0;var J2e=E.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:n=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...p}=e,f=E.useRef(null),h=Er(r,f),g=sp(i),[y,m]=fo({prop:a,defaultProp:l??null,onChange:u,caller:m0}),[v,x]=E.useState(!1),k=ji(c),T=rK(t),A=E.useRef(!1),[L,q]=E.useState(0);return E.useEffect(()=>{const D=f.current;if(D)return D.addEventListener(Q2,k),()=>D.removeEventListener(Q2,k)},[k]),o.jsx(Q2e,{scope:t,orientation:s,dir:g,loop:n,currentTabStopId:y,onItemFocus:E.useCallback(D=>m(D),[m]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>q(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>q(D=>D-1),[]),children:o.jsx(qt.div,{tabIndex:v||L===0?-1:0,"data-orientation":s,...p,ref:h,style:{outline:"none",...e.style},onMouseDown:mt(e.onMouseDown,()=>{A.current=!0}),onFocus:mt(e.onFocus,D=>{const $=!A.current;if(D.target===D.currentTarget&&$&&!v){const z=new CustomEvent(Q2,Z2e);if(D.currentTarget.dispatchEvent(z),!z.defaultPrevented){const K=T().filter(_=>_.focusable),W=K.find(_=>_.active),P=K.find(_=>_.id===y),C=[W,P,...K].filter(Boolean).map(_=>_.ref.current);aK(C,d)}}A.current=!1}),onBlur:mt(e.onBlur,()=>x(!1))})})}),sK="RovingFocusGroupItem",iK=E.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:n=!1,tabStopId:i,children:a,...l}=e,u=Pa(),c=i||u,d=Y2e(sK,t),p=d.currentTabStopId===c,f=rK(t),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return E.useEffect(()=>{if(s)return h(),()=>g()},[s,h,g]),o.jsx(g4.ItemSlot,{scope:t,id:c,focusable:s,active:n,children:o.jsx(qt.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...l,ref:r,onMouseDown:mt(e.onMouseDown,m=>{s?d.onItemFocus(c):m.preventDefault()}),onFocus:mt(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:mt(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=r_e(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let k=f().filter(T=>T.focusable).map(T=>T.ref.current);if(v==="last")k.reverse();else if(v==="prev"||v==="next"){v==="prev"&&k.reverse();const T=k.indexOf(m.currentTarget);k=d.loop?n_e(k,T+1):k.slice(T+1)}setTimeout(()=>aK(k))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});iK.displayName=sK;var e_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function t_e(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function r_e(e,r,t){const s=t_e(e.key,t);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return e_e[s]}function aK(e,r=!1){const t=document.activeElement;for(const s of e)if(s===t||(s.focus({preventScroll:r}),document.activeElement!==t))return}function n_e(e,r){return e.map((t,s)=>e[(r+s)%e.length])}var H6=nK,K6=iK;function s_e(e){const r=i_e(e),t=E.forwardRef((s,n)=>{const{children:i,...a}=s,l=E.Children.toArray(i),u=l.find(o_e);if(u){const c=u.props.children,d=l.map(p=>p===u?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:p);return o.jsx(r,{...a,ref:n,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return o.jsx(r,{...a,ref:n,children:i})});return t.displayName=`${e}.Slot`,t}function i_e(e){const r=E.forwardRef((t,s)=>{const{children:n,...i}=t;if(E.isValidElement(n)){const a=c_e(n),l=l_e(i,n.props);return n.type!==E.Fragment&&(l.ref=s?Sl(s,a):a),E.cloneElement(n,l)}return E.Children.count(n)>1?E.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var a_e=Symbol("radix.slottable");function o_e(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a_e}function l_e(e,r){const t={...r};for(const s in r){const n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...l)=>{const u=i(...l);return n(...l),u}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}function c_e(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var y4=["Enter"," "],u_e=["ArrowDown","PageUp","Home"],oK=["ArrowUp","PageDown","End"],d_e=[...u_e,...oK],f_e={ltr:[...y4,"ArrowRight"],rtl:[...y4,"ArrowLeft"]},h_e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},g0="Menu",[Qm,p_e,m_e]=Tv(g0),[rf,lK]=mi(g0,[m_e,Tu,ap]),u1=Tu(),cK=ap(),[g_e,nf]=rf(g0),[y_e,y0]=rf(g0),uK=e=>{const{__scopeMenu:r,open:t=!1,children:s,dir:n,onOpenChange:i,modal:a=!0}=e,l=u1(r),[u,c]=E.useState(null),d=E.useRef(!1),p=ji(i),f=sp(n);return E.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(Mv,{...l,children:o.jsx(g_e,{scope:r,open:t,onOpenChange:p,content:u,onContentChange:c,children:o.jsx(y_e,{scope:r,onClose:E.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:a,children:s})})})};uK.displayName=g0;var b_e="MenuAnchor",Z6=E.forwardRef((e,r)=>{const{__scopeMenu:t,...s}=e,n=u1(t);return o.jsx(jg,{...n,...s,ref:r})});Z6.displayName=b_e;var G6="MenuPortal",[v_e,dK]=rf(G6,{forceMount:void 0}),fK=e=>{const{__scopeMenu:r,forceMount:t,children:s,container:n}=e,i=nf(G6,r);return o.jsx(v_e,{scope:r,forceMount:t,children:o.jsx(js,{present:t||i.open,children:o.jsx(Vh,{asChild:!0,container:n,children:s})})})};fK.displayName=G6;var co="MenuContent",[x_e,X6]=rf(co),hK=E.forwardRef((e,r)=>{const t=dK(co,e.__scopeMenu),{forceMount:s=t.forceMount,...n}=e,i=nf(co,e.__scopeMenu),a=y0(co,e.__scopeMenu);return o.jsx(Qm.Provider,{scope:e.__scopeMenu,children:o.jsx(js,{present:s||i.open,children:o.jsx(Qm.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(w_e,{...n,ref:r}):o.jsx(__e,{...n,ref:r})})})})}),w_e=E.forwardRef((e,r)=>{const t=nf(co,e.__scopeMenu),s=E.useRef(null),n=Er(r,s);return E.useEffect(()=>{const i=s.current;if(i)return Kx(i)},[]),o.jsx(Q6,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:mt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),__e=E.forwardRef((e,r)=>{const t=nf(co,e.__scopeMenu);return o.jsx(Q6,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),k_e=s_e("MenuContent.ScrollLock"),Q6=E.forwardRef((e,r)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:g,...y}=e,m=nf(co,t),v=y0(co,t),x=u1(t),k=cK(t),T=p_e(t),[A,L]=E.useState(null),q=E.useRef(null),D=Er(r,q,m.onContentChange),$=E.useRef(0),z=E.useRef(""),K=E.useRef(0),W=E.useRef(null),P=E.useRef("right"),R=E.useRef(0),C=g?n0:E.Fragment,_=g?{as:k_e,allowPinchZoom:!0}:void 0,S=N=>{const M=z.current+N,O=T().filter(Y=>!Y.disabled),B=document.activeElement,G=O.find(Y=>Y.ref.current===B)?.textValue,Q=O.map(Y=>Y.textValue),re=R_e(Q,M,G),F=O.find(Y=>Y.textValue===re)?.ref.current;(function Y(V){z.current=V,window.clearTimeout($.current),V!==""&&($.current=window.setTimeout(()=>Y(""),1e3))})(M),F&&setTimeout(()=>F.focus())};E.useEffect(()=>()=>window.clearTimeout($.current),[]),qx();const j=E.useCallback(N=>P.current===W.current?.side&&O_e(N,W.current?.area),[]);return o.jsx(x_e,{scope:t,searchRef:z,onItemEnter:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),onItemLeave:E.useCallback(N=>{j(N)||(q.current?.focus(),L(null))},[j]),onTriggerLeave:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),pointerGraceTimerRef:K,onPointerGraceIntentChange:E.useCallback(N=>{W.current=N},[]),children:o.jsx(C,{..._,children:o.jsx(r0,{asChild:!0,trapped:n,onMountAutoFocus:mt(i,N=>{N.preventDefault(),q.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:o.jsx(H6,{asChild:!0,...k,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:A,onCurrentTabStopIdChange:L,onEntryFocus:mt(u,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Rv,{role:"menu","aria-orientation":"vertical","data-state":EK(m.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:mt(y.onKeyDown,N=>{const O=N.target.closest("[data-radix-menu-content]")===N.currentTarget,B=N.ctrlKey||N.altKey||N.metaKey,G=N.key.length===1;O&&(N.key==="Tab"&&N.preventDefault(),!B&&G&&S(N.key));const Q=q.current;if(N.target!==Q||!d_e.includes(N.key))return;N.preventDefault();const F=T().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);oK.includes(N.key)&&F.reverse(),D_e(F)}),onBlur:mt(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout($.current),z.current="")}),onPointerMove:mt(e.onPointerMove,Ym(N=>{const M=N.target,O=R.current!==N.clientX;if(N.currentTarget.contains(M)&&O){const B=N.clientX>R.current?"right":"left";P.current=B,R.current=N.clientX}}))})})})})})})});hK.displayName=co;var S_e="MenuGroup",Y6=E.forwardRef((e,r)=>{const{__scopeMenu:t,...s}=e;return o.jsx(qt.div,{role:"group",...s,ref:r})});Y6.displayName=S_e;var j_e="MenuLabel",pK=E.forwardRef((e,r)=>{const{__scopeMenu:t,...s}=e;return o.jsx(qt.div,{...s,ref:r})});pK.displayName=j_e;var lv="MenuItem",LA="menu.itemSelect",d1=E.forwardRef((e,r)=>{const{disabled:t=!1,onSelect:s,...n}=e,i=E.useRef(null),a=y0(lv,e.__scopeMenu),l=X6(lv,e.__scopeMenu),u=Er(r,i),c=E.useRef(!1),d=()=>{const p=i.current;if(!t&&p){const f=new CustomEvent(LA,{bubbles:!0,cancelable:!0});p.addEventListener(LA,h=>s?.(h),{once:!0}),hR(p,f),f.defaultPrevented?c.current=!1:a.onClose()}};return o.jsx(mK,{...n,ref:u,disabled:t,onClick:mt(e.onClick,d),onPointerDown:p=>{e.onPointerDown?.(p),c.current=!0},onPointerUp:mt(e.onPointerUp,p=>{c.current||p.currentTarget?.click()}),onKeyDown:mt(e.onKeyDown,p=>{const f=l.searchRef.current!=="";t||f&&p.key===" "||y4.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});d1.displayName=lv;var mK=E.forwardRef((e,r)=>{const{__scopeMenu:t,disabled:s=!1,textValue:n,...i}=e,a=X6(lv,t),l=cK(t),u=E.useRef(null),c=Er(r,u),[d,p]=E.useState(!1),[f,h]=E.useState("");return E.useEffect(()=>{const g=u.current;g&&h((g.textContent??"").trim())},[i.children]),o.jsx(Qm.ItemSlot,{scope:t,disabled:s,textValue:n??f,children:o.jsx(K6,{asChild:!0,...l,focusable:!s,children:o.jsx(qt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:c,onPointerMove:mt(e.onPointerMove,Ym(g=>{s?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:mt(e.onPointerLeave,Ym(g=>a.onItemLeave(g))),onFocus:mt(e.onFocus,()=>p(!0)),onBlur:mt(e.onBlur,()=>p(!1))})})})}),N_e="MenuCheckboxItem",gK=E.forwardRef((e,r)=>{const{checked:t=!1,onCheckedChange:s,...n}=e;return o.jsx(wK,{scope:e.__scopeMenu,checked:t,children:o.jsx(d1,{role:"menuitemcheckbox","aria-checked":cv(t)?"mixed":t,...n,ref:r,"data-state":e5(t),onSelect:mt(n.onSelect,()=>s?.(cv(t)?!0:!t),{checkForDefaultPrevented:!1})})})});gK.displayName=N_e;var yK="MenuRadioGroup",[C_e,T_e]=rf(yK,{value:void 0,onValueChange:()=>{}}),bK=E.forwardRef((e,r)=>{const{value:t,onValueChange:s,...n}=e,i=ji(s);return o.jsx(C_e,{scope:e.__scopeMenu,value:t,onValueChange:i,children:o.jsx(Y6,{...n,ref:r})})});bK.displayName=yK;var vK="MenuRadioItem",xK=E.forwardRef((e,r)=>{const{value:t,...s}=e,n=T_e(vK,e.__scopeMenu),i=t===n.value;return o.jsx(wK,{scope:e.__scopeMenu,checked:i,children:o.jsx(d1,{role:"menuitemradio","aria-checked":i,...s,ref:r,"data-state":e5(i),onSelect:mt(s.onSelect,()=>n.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});xK.displayName=vK;var J6="MenuItemIndicator",[wK,E_e]=rf(J6,{checked:!1}),_K=E.forwardRef((e,r)=>{const{__scopeMenu:t,forceMount:s,...n}=e,i=E_e(J6,t);return o.jsx(js,{present:s||cv(i.checked)||i.checked===!0,children:o.jsx(qt.span,{...n,ref:r,"data-state":e5(i.checked)})})});_K.displayName=J6;var A_e="MenuSeparator",kK=E.forwardRef((e,r)=>{const{__scopeMenu:t,...s}=e;return o.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});kK.displayName=A_e;var P_e="MenuArrow",SK=E.forwardRef((e,r)=>{const{__scopeMenu:t,...s}=e,n=u1(t);return o.jsx($v,{...n,...s,ref:r})});SK.displayName=P_e;var I_e="MenuSub",[mAe,jK]=rf(I_e),lm="MenuSubTrigger",NK=E.forwardRef((e,r)=>{const t=nf(lm,e.__scopeMenu),s=y0(lm,e.__scopeMenu),n=jK(lm,e.__scopeMenu),i=X6(lm,e.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,c={__scopeMenu:e.__scopeMenu},d=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),o.jsx(Z6,{asChild:!0,...c,children:o.jsx(mK,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":n.contentId,"data-state":EK(t.open),...e,ref:Sl(r,n.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:mt(e.onPointerMove,Ym(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!t.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:mt(e.onPointerLeave,Ym(p=>{d();const f=t.content?.getBoundingClientRect();if(f){const h=t.content?.dataset.side,g=h==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:h}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:mt(e.onKeyDown,p=>{const f=i.searchRef.current!=="";e.disabled||f&&p.key===" "||f_e[s.dir].includes(p.key)&&(t.onOpenChange(!0),t.content?.focus(),p.preventDefault())})})})});NK.displayName=lm;var CK="MenuSubContent",TK=E.forwardRef((e,r)=>{const t=dK(co,e.__scopeMenu),{forceMount:s=t.forceMount,...n}=e,i=nf(co,e.__scopeMenu),a=y0(co,e.__scopeMenu),l=jK(CK,e.__scopeMenu),u=E.useRef(null),c=Er(r,u);return o.jsx(Qm.Provider,{scope:e.__scopeMenu,children:o.jsx(js,{present:s||i.open,children:o.jsx(Qm.Slot,{scope:e.__scopeMenu,children:o.jsx(Q6,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:mt(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:mt(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:mt(e.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),f=h_e[a.dir].includes(d.key);p&&f&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});TK.displayName=CK;function EK(e){return e?"open":"closed"}function cv(e){return e==="indeterminate"}function e5(e){return cv(e)?"indeterminate":e?"checked":"unchecked"}function D_e(e){const r=document.activeElement;for(const t of e)if(t===r||(t.focus(),document.activeElement!==r))return}function M_e(e,r){return e.map((t,s)=>e[(r+s)%e.length])}function R_e(e,r,t){const n=r.length>1&&Array.from(r).every(c=>c===r[0])?r[0]:r,i=t?e.indexOf(t):-1;let a=M_e(e,Math.max(i,0));n.length===1&&(a=a.filter(c=>c!==t));const u=a.find(c=>c.toLowerCase().startsWith(n.toLowerCase()));return u!==t?u:void 0}function $_e(e,r){const{x:t,y:s}=e;let n=!1;for(let i=0,a=r.length-1;i<r.length;a=i++){const l=r[i],u=r[a],c=l.x,d=l.y,p=u.x,f=u.y;d>s!=f>s&&t<(p-c)*(s-d)/(f-d)+c&&(n=!n)}return n}function O_e(e,r){if(!r)return!1;const t={x:e.clientX,y:e.clientY};return $_e(t,r)}function Ym(e){return r=>r.pointerType==="mouse"?e(r):void 0}var F_e=uK,L_e=Z6,z_e=fK,B_e=hK,U_e=Y6,V_e=pK,W_e=d1,q_e=gK,H_e=bK,K_e=xK,Z_e=_K,G_e=kK,X_e=SK,Q_e=NK,Y_e=TK,f1="DropdownMenu",[J_e]=mi(f1,[lK]),Xi=lK(),[eke,AK]=J_e(f1),PK=e=>{const{__scopeDropdownMenu:r,children:t,dir:s,open:n,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,u=Xi(r),c=E.useRef(null),[d,p]=fo({prop:n,defaultProp:i??!1,onChange:a,caller:f1});return o.jsx(eke,{scope:r,triggerId:Pa(),triggerRef:c,contentId:Pa(),open:d,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(f=>!f),[p]),modal:l,children:o.jsx(F_e,{...u,open:d,onOpenChange:p,dir:s,modal:l,children:t})})};PK.displayName=f1;var IK="DropdownMenuTrigger",DK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...n}=e,i=AK(IK,t),a=Xi(t);return o.jsx(L_e,{asChild:!0,...a,children:o.jsx(qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...n,ref:Sl(r,i.triggerRef),onPointerDown:mt(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:mt(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DK.displayName=IK;var tke="DropdownMenuPortal",MK=e=>{const{__scopeDropdownMenu:r,...t}=e,s=Xi(r);return o.jsx(z_e,{...s,...t})};MK.displayName=tke;var RK="DropdownMenuContent",$K=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=AK(RK,t),i=Xi(t),a=E.useRef(!1);return o.jsx(B_e,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...s,ref:r,onCloseAutoFocus:mt(e.onCloseAutoFocus,l=>{a.current||n.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:mt(e.onInteractOutside,l=>{const u=l.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!n.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$K.displayName=RK;var rke="DropdownMenuGroup",nke=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(U_e,{...n,...s,ref:r})});nke.displayName=rke;var ske="DropdownMenuLabel",OK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(V_e,{...n,...s,ref:r})});OK.displayName=ske;var ike="DropdownMenuItem",FK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(W_e,{...n,...s,ref:r})});FK.displayName=ike;var ake="DropdownMenuCheckboxItem",LK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(q_e,{...n,...s,ref:r})});LK.displayName=ake;var oke="DropdownMenuRadioGroup",lke=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(H_e,{...n,...s,ref:r})});lke.displayName=oke;var cke="DropdownMenuRadioItem",zK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(K_e,{...n,...s,ref:r})});zK.displayName=cke;var uke="DropdownMenuItemIndicator",BK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(Z_e,{...n,...s,ref:r})});BK.displayName=uke;var dke="DropdownMenuSeparator",UK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(G_e,{...n,...s,ref:r})});UK.displayName=dke;var fke="DropdownMenuArrow",hke=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(X_e,{...n,...s,ref:r})});hke.displayName=fke;var pke="DropdownMenuSubTrigger",VK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(Q_e,{...n,...s,ref:r})});VK.displayName=pke;var mke="DropdownMenuSubContent",WK=E.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...s}=e,n=Xi(t);return o.jsx(Y_e,{...n,...s,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WK.displayName=mke;var gke=PK,yke=DK,bke=MK,qK=$K,HK=OK,KK=FK,ZK=LK,GK=zK,XK=BK,QK=UK,YK=VK,JK=WK;const eZ=e=>o.jsx(gke,{modal:!1,...e}),tZ=yke,vke=E.forwardRef(({className:e,inset:r,children:t,...s},n)=>o.jsxs(YK,{ref:n,className:Ae("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...s,children:[t,o.jsx(Ad,{className:"ml-auto"})]}));vke.displayName=YK.displayName;const xke=E.forwardRef(({className:e,...r},t)=>o.jsx(JK,{ref:t,className:Ae("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),style:{pointerEvents:"auto"},...r}));xke.displayName=JK.displayName;const t5=E.forwardRef(({className:e,sideOffset:r=4,...t},s)=>o.jsx(bke,{children:o.jsx(qK,{ref:s,sideOffset:r,className:Ae("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",e),style:{pointerEvents:"auto"},...t})}));t5.displayName=qK.displayName;const uv=E.forwardRef(({className:e,inset:r,...t},s)=>o.jsx(KK,{ref:s,className:Ae("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...t}));uv.displayName=KK.displayName;const wke=E.forwardRef(({className:e,children:r,checked:t,...s},n)=>o.jsxs(ZK,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(XK,{children:o.jsx($o,{className:"h-4 w-4"})})}),r]}));wke.displayName=ZK.displayName;const _ke=E.forwardRef(({className:e,children:r,...t},s)=>o.jsxs(GK,{ref:s,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(XK,{children:o.jsx(zR,{className:"h-2 w-2 fill-current"})})}),r]}));_ke.displayName=GK.displayName;const rZ=E.forwardRef(({className:e,inset:r,...t},s)=>o.jsx(HK,{ref:s,className:Ae("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t}));rZ.displayName=HK.displayName;const nZ=E.forwardRef(({className:e,...r},t)=>o.jsx(QK,{ref:t,className:Ae("-mx-1 my-1 h-px bg-muted",e),...r}));nZ.displayName=QK.displayName;const kke={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},Ske={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},jke={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},zA={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function Nke(e){const t=String(e||"").length;return t<=4?"text-sm font-bold":t<=7?"text-xs font-bold":t<=12?"text-[11px] font-semibold":t<=18?"text-[10px] font-semibold":t<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function Cke({compact:e}){return o.jsxs("div",{className:Ae("relative rounded-xl border bg-card shadow-sm overflow-hidden",e?"p-3":"p-4"),children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(bn,{className:"h-5 w-32 mb-2"}),o.jsx(bn,{className:"h-3 w-24"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(bn,{className:"h-7 w-7 rounded"}),o.jsx(bn,{className:"h-7 w-7 rounded"})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(r=>o.jsxs("div",{className:"space-y-1",children:[o.jsx(bn,{className:"h-3 w-16"}),o.jsx(bn,{className:"h-4 w-24"})]},r))})]})}function vn({title:e,subtitle:r,titleIcon:t,badges:s=[],fields:n,actions:i=[],footer:a,className:l,onClick:u,isLoading:c,compact:d=!1,headerColor:p}){if(c)return o.jsx(Cke,{compact:d});const f=(n||[]).filter(g=>!g.hidden),h=(i||[]).filter(g=>!g.hidden);return o.jsxs("div",{className:Ae("group relative rounded-2xl border-2 bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-300","hover:shadow-xl hover:border-primary/30 hover:-translate-y-1",u&&"cursor-pointer",d?"p-4":"p-6",l),onClick:u,children:[p&&o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:p}}),o.jsx("div",{className:"flex items-start gap-3",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[t&&o.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(t,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:Ae("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:e}),r&&o.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:r})]}),s.length>0&&o.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:s.map((g,y)=>o.jsx(At,{variant:"outline",className:Ae("text-[10px] px-1.5 py-0 h-5 font-medium",jke[g.variant||"default"],g.className),children:g.label},y))})]})})}),o.jsxs("div",{className:Ae("flex items-start",d?"mt-2":"mt-3"),children:[o.jsx("div",{className:Ae("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return o.jsxs("div",{className:Ae("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&o.jsx(m,{className:Ae("h-3 w-3 shrink-0",g.iconClassName||Ske[g.color||"default"])}),o.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[o.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),o.jsx("span",{className:Ae("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":Nke(g.value),kke[g.color||"default"]),children:g.value||"-"})]})]},y)})}),h.length>0&&o.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:h.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?o.jsxs(eZ,{children:[o.jsx(tZ,{asChild:!0,children:o.jsx(Ie,{size:"icon",variant:"ghost",className:Ae("h-6 w-6 rounded-md",zA[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:o.jsx(m,{className:"h-3.5 w-3.5"})})}),o.jsx(t5,{align:"end",className:"w-48",children:g.dropdown.map((v,x)=>o.jsx(uv,{onClick:k=>{k.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:o.jsx("span",{children:v.label})},x))})]},y):o.jsx(Ie,{size:"icon",variant:"ghost",className:Ae("h-6 w-6 rounded-md",zA[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:o.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),a&&o.jsx("div",{className:Ae("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:a})]})}function ei({children:e,columns:r=2,className:t}){const s={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return o.jsx("div",{className:Ae("grid gap-3",s[r],t),children:e})}function Tke(){zs();const{selectedProjectId:e,isAllProjects:r,projects:t}=Ko(),[s,n]=E.useState(""),[i,a]=E.useState({dateRange:void 0,type:"all"}),[l,u]=E.useState(!1),[c,d]=E.useState(),p=new URLSearchParams(window.location.search),f=p.get("edit"),h=p.get("worker"),g=p.get("date"),[y,m]=E.useState(g||null),[v,x]=E.useState({}),[k,T]=E.useState(!1),[A,L]=E.useState(!1),[q,D]=E.useState(!0),[$,z]=E.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:K}=pn(),W=Ss(),{setFloatingAction:P}=Go();E.useCallback((ee,oe)=>{a(ne=>({...ne,[ee]:oe}))},[]);const R=E.useCallback(()=>{n(""),a({dateRange:void 0,type:"all"}),q&&m(di()),K({title:"  ",description:"      "})},[K,q]),C=E.useCallback(async()=>{u(!0);try{await W.invalidateQueries({queryKey:ve.workerAttendanceAll(e)}),K({title:" ",description:"   "})}catch{K({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[W,e,K]);E.useEffect(()=>{!y&&q&&m(di())},[]),E.useEffect(()=>(P(null),()=>P(null)),[P]);const _=async(ee,oe)=>{if(!(!oe||typeof oe!="string"||!oe.trim()))try{await qe("/api/autocomplete","POST",{category:ee,value:oe.trim()})}catch(ne){console.log(`Failed to save autocomplete value for ${ee}:`,ne)}},{data:S=[]}=xt({queryKey:ve.workerAttendance(e,y),queryFn:async()=>{try{if(r){const ne=[];for(const fe of t){const le=y?`/api/projects/${fe.id}/worker-attendance?date=${y}`:`/api/projects/${fe.id}/worker-attendance`;try{const ae=await qe(le,"GET"),te=ae?.data||ae||[];Array.isArray(te)&&ne.push(...te.map(se=>({...se,projectId:fe.id,projectName:fe.name})))}catch(ae){console.error(`Error fetching attendance for project ${fe.id}:`,ae)}}return ne}const ee=y?`/api/projects/${e}/worker-attendance?date=${y}`:`/api/projects/${e}/worker-attendance`,oe=await qe(ee,"GET");return oe&&oe.data&&Array.isArray(oe.data)?oe.data:Array.isArray(oe)?oe:[]}catch(ee){return console.error("Error fetching attendance records:",ee),[]}},enabled:!!e&&(r?t.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:j=[]}=xt({queryKey:ve.workerAttendanceAll(e),queryFn:async()=>{try{const ee=await qe(`/api/projects/${e}/worker-attendance`,"GET");return ee&&ee.data&&Array.isArray(ee.data)?ee.data:Array.isArray(ee)?ee:[]}catch(ee){return console.error("Error fetching all attendance records:",ee),[]}},enabled:!!e,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:N}=xt({queryKey:ve.workerAttendanceEdit(f),queryFn:async()=>{try{const ee=await qe(`/api/worker-attendance/${f}`,"GET");return ee&&ee.data?ee.data:ee||null}catch(ee){return console.error("Error fetching attendance record for editing:",ee),null}},enabled:!!f});E.useEffect(()=>{x({}),d(void 0)},[y,e]),E.useEffect(()=>{if(N&&h){const ee={...v};ee[h]={isPresent:!0,startTime:N.startTime,endTime:N.endTime,workDescription:N.workDescription||"",workDays:parseFloat(N.workDays?.toString()||"0"),paidAmount:N.paidAmount?.toString()||"",paymentType:N.paymentType||"partial"},x(ee)}},[N,h]);const M=Pt({mutationFn:ee=>qe(`/api/worker-attendance/${ee}`,"DELETE"),onMutate:async ee=>{const oe=e,ne=y,fe=ve.workerAttendanceAll(oe),le=ve.workerAttendance(oe,ne);await W.cancelQueries({queryKey:fe}),await W.cancelQueries({queryKey:le});const ae=W.getQueryData(fe),te=W.getQueryData(le);return Array.isArray(ae)&&W.setQueryData(fe,ae.filter(se=>se.id!==ee)),Array.isArray(te)&&W.setQueryData(le,te.filter(se=>se.id!==ee)),{previousAllData:ae,previousDateData:te,allKey:fe,dateKey:le}},onSuccess:()=>{K({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(ee,oe,ne)=>{ne?.previousAllData&&ne?.allKey&&W.setQueryData(ne.allKey,ne.previousAllData),ne?.previousDateData&&ne?.dateKey&&W.setQueryData(ne.dateKey,ne.previousDateData),console.error(" [DeleteAttendance]   :",ee);const fe=ee.message||"     ";K({title:"",description:fe,variant:"destructive"})},onSettled:(ee,oe,ne,fe)=>{fe?.allKey&&W.invalidateQueries({queryKey:fe.allKey}),fe?.dateKey&&W.invalidateQueries({queryKey:fe.dateKey})}}),O=ee=>{if(Array.isArray(B)?B.find(ne=>ne.id===ee.workerId):null){const ne={...v};ne[ee.workerId]={isPresent:!0,startTime:ee.startTime,endTime:ee.endTime,workDescription:ee.workDescription||"",workDays:parseFloat(ee.workDays?.toString()||"0"),paidAmount:ee.paidAmount,paymentType:ee.paymentType||"partial",recordId:ee.id,recordType:ee.recordType||"work"},x(ne)}},{data:B=[],isLoading:G}=xt({queryKey:ve.workers}),Q=Pt({onMutate:async ee=>{console.log("      (Optimistic):",ee.length);for(const oe of ee){const ne=parseFloat(oe.workDays?.toString()||"0"),fe=parseFloat(oe.paidAmount?.toString()||"0");if(ne<=0&&fe<=0){const ae=`         ${B.find(te=>te.id===oe.workerId)?.name||""}`;throw K({title:" ",description:ae,variant:"destructive"}),new Error(ae)}}},mutationFn:async ee=>{console.log("     :",ee.length);const oe=ee.flatMap(le=>[_("workDescriptions",le.workDescription),_("paymentTypes",le.paymentType)]).filter(Boolean);oe.length>0&&await Promise.all(oe);const ne=[],fe=[];for(const le of ee)try{!le.attendanceDate&&le.date&&(le.attendanceDate=le.date),le.attendanceDate||(le.attendanceDate=y||di()),console.log(`    : ${le.workerId}  : ${le.attendanceDate}`);const ae=parseFloat(le.workDays?.toString()||"0"),te=parseFloat(le.paidAmount?.toString()||"0");if(ae<=0&&te<=0){const se=B.find(de=>de.id===le.workerId);throw new Error(`         ${se?.name||""}`)}if(le.recordType==="advance"?(le.workDays="0",console.log("   -  workDays = 0")):le.workDays!==void 0&&(le.workDays=le.workDays.toString()),le.recordId){console.log(`    : ${le.workerId} : ${le.recordId}`);const se={...le};delete se.recordId;const de=await qe(`/api/worker-attendance/${le.recordId}`,"PATCH",se);ne.push(de)}else try{const se=await qe(`/api/projects/${le.projectId}/attendance?date=${le.date}&workerId=${le.workerId}`,"GET"),de=se?.data||se||[],ge=Array.isArray(de)?de.find(ke=>ke.workerId===le.workerId):null;if(ge){console.log(`    : ${le.workerId}    -    `);const ke=await qe(`/api/worker-attendance/${ge.id}`,"PATCH",le);ne.push(ke)}else{console.log(`    : ${le.workerId}`);const ke=await qe("/api/worker-attendance","POST",le);ne.push(ke)}}catch(se){console.log("       -  :",se);try{const de=await qe("/api/worker-attendance","POST",le);ne.push(de)}catch(de){throw de.message&&de.message.includes("unique")||de.message.includes("UNIQUE")?(console.log(`      ${le.workerId}   `),new Error("      .      .")):de}}}catch(ae){console.error(`      ${le.workerId}:`,ae);const se=B.find(ge=>ge.id===le.workerId)?.name||"  ";let de="  ";ae?.response?.data?.message?de=ae.response.data.message:ae?.response?.data?.error?de=ae.response.data.error:ae?.message&&(de=ae.message),fe.push({workerId:le.workerId,workerName:se,error:de})}return console.log(`   ${ne.length}   `),fe.length>0&&console.warn(`    ${fe.length}  :`,fe),{successful:ne,failed:fe,totalProcessed:ee.length}},onSuccess:async ee=>{W.refetchQueries({queryKey:ve.autocomplete}),W.refetchQueries({queryKey:ve.workerAttendanceAll(e)});const{successful:oe,failed:ne,totalProcessed:fe}=ee;if(ne.length===0)K({title:"   ",description:`   ${oe.length}  `});else if(oe.length>0){const le=ne.map(ae=>` ${ae.workerName}: ${ae.error}`).join(`
`);K({title:"   ",description:`: ${oe.length} 
: ${ne.length} 

${le}`,variant:"default"}),console.error(" :",ne)}else{const le=ne.map(ae=>` ${ae.workerName}: ${ae.error}`).join(`
`);K({title:"  ",description:`     :

${le}`,variant:"destructive"})}oe.length>0&&x(le=>{const ae={...le};return oe.forEach(te=>{const se=te?.data||te;se?.workerId&&delete ae[se.workerId]}),ae})},onError:async(ee,oe)=>{const ne=oe.flatMap(le=>[_("workDescriptions",le.workDescription),_("paymentTypes",le.paymentType)]).filter(Boolean);ne.length>0&&(await Promise.all(ne),W.refetchQueries({queryKey:ve.autocomplete})),console.error("Error saving attendance:",ee);let fe="    ";if(ee?.response?.data?.error||ee?.message){const le=ee?.response?.data?.error||ee?.message;le.includes("     ")?fe="        ":fe=le}K({title:"",description:fe,variant:"destructive"})}}),re=(ee,oe)=>{const ne=B.find(fe=>fe.id===ee);if(ne&&oe.isPresent&&oe.workDays===void 0){oe.workDays=1;const fe=parseFloat(ne.dailyWage||"0");oe.actualWage=fe*(oe.workDays||0),oe.totalPay=oe.actualWage,oe.remainingAmount=oe.totalPay-parseFloat(oe.paidAmount||"0")}x(fe=>({...fe,[ee]:oe}))},F=()=>{const ee={...v};Object.keys(ee).forEach(oe=>{ee[oe].isPresent&&(ee[oe]={...ee[oe],startTime:$.startTime,endTime:$.endTime,workDays:$.workDays,paymentType:$.paymentType,paidAmount:$.paidAmount,workDescription:$.workDescription})}),x(ee),K({title:" ",description:"      "})},Y=ee=>{const oe={};B.forEach(ne=>{ee?oe[ne.id]={isPresent:!0,startTime:$.startTime,endTime:$.endTime,workDays:$.workDays,paymentType:$.paymentType,paidAmount:$.paidAmount,workDescription:$.workDescription}:oe[ne.id]={isPresent:!1}}),x(oe)},V=()=>{if(!e||e===Ps){K({title:"   ",description:"         ",variant:"destructive"});return}if(!y){K({title:"   ",description:"      ",variant:"destructive"});return}const ee=Object.entries(v).filter(([fe,le])=>{if(!le.isPresent)return!1;const ae=le.recordType||"work";return ae==="work"&&(!le.workDays||le.workDays<=0)||ae==="advance"&&(!le.paidAmount||parseFloat(le.paidAmount)<=0)});if(ee.length>0){const fe=ee.some(([se,de])=>(de.recordType||"work")==="work"),le=ee.some(([se,de])=>(de.recordType||"work")==="advance");let ae="";const te=[];fe&&(ae+=`          
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="work"){const ke=B.find(Ee=>Ee.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),le&&(ae+=`         
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="advance"){const ke=B.find(Ee=>Ee.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),K({title:"   ",description:ae+(te.length>0?`
`+te.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([fe,le])=>le.isPresent).length===0){K({title:" ",description:"     .     .",variant:"destructive"});return}const ne=Object.entries(v).filter(([fe,le])=>le.isPresent?(le.recordType||"work")==="work"?le.workDays&&le.workDays>0:le.paidAmount&&parseFloat(le.paidAmount)>0:!1).map(([fe,le])=>{const ae=B.find(et=>et.id===fe),te=parseFloat(ae?.dailyWage||"0"),se=le.recordType||"work",de=se==="advance"?0:le.workDays||0,ge=te*de,ke=parseFloat(String(le.overtime||0)),Ee=parseFloat(String(le.overtimeRate||0)),Oe=ke*Ee,Le=se==="advance"?0:Math.max(0,ge+Oe),Ge=parseFloat(le.paidAmount||"0"),Qe=se==="advance"?-Ge:le.paymentType==="credit"?Le:Le-Ge,yt=()=>{if(!le.startTime||!le.endTime)return 0;const et=new Date(`2000-01-01T${le.startTime}:00`);let be=new Date(`2000-01-01T${le.endTime}:00`).getTime()-et.getTime();return be<0&&(be+=1440*60*1e3),Math.max(0,be/(1e3*60*60))},it={projectId:e,workerId:fe,date:y,attendanceDate:y,startTime:le.startTime||"07:00",endTime:le.endTime||"15:00",workDescription:le.workDescription||"",isPresent:!0,workDays:de,dailyWage:ae?.dailyWage||"0",hoursWorked:yt().toString(),overtime:ke.toString(),overtimeRate:Ee.toString(),actualWage:ge.toString(),totalPay:Le.toString(),paidAmount:Ge.toString(),remainingAmount:Qe.toString(),paymentType:le.paymentType||"partial",notes:le.notes||"",wellId:c||null};return le.recordId&&(it.recordId=le.recordId),it});if(ne.length===0){K({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}Q.mutate(ne)},U=Array.isArray(S)?S:[],Z=E.useMemo(()=>{if(!s.trim())return B;const ee=s.toLowerCase().trim();return B.filter(oe=>oe.name?.toLowerCase().includes(ee)||oe.phone?.toLowerCase().includes(ee)||oe.type?.toLowerCase().includes(ee))},[B,s]),ie=E.useMemo(()=>{let ee=U;if(s.trim()){const oe=s.toLowerCase().trim();ee=ee.filter(ne=>B.find(le=>le.id===ne.workerId)?.name?.toLowerCase().includes(oe)||ne.workDescription?.toLowerCase().includes(oe)||ne.notes?.toLowerCase().includes(oe))}return(i.dateRange?.from||i.dateRange?.to)&&(ee=ee.filter(oe=>{const ne=new Date(oe.attendanceDate||oe.date);if(i.dateRange.from){const fe=new Date(i.dateRange.from);if(fe.setHours(0,0,0,0),ne<fe)return!1}if(i.dateRange.to){const fe=new Date(i.dateRange.to);if(fe.setHours(23,59,59,999),ne>fe)return!1}return!0})),i.type&&i.type!=="all"&&(ee=ee.filter(oe=>B.find(fe=>fe.id===oe.workerId)?.type===i.type)),ee},[U,B,s,i.dateRange,i.type]),me=E.useMemo(()=>{const ee=ie.length,oe=ie.reduce((te,se)=>te+parseFloat(se.workDays||"0"),0);let ne=0,fe=0,le=0;ie.forEach(te=>{const se=B.find(Oe=>Oe.id===te.workerId),de=parseFloat(se?.dailyWage||te.dailyWage||"0"),ge=parseFloat(te.workDays||"0"),ke=de*ge,Ee=parseFloat(te.paidAmount||"0");ne+=ke,fe+=Ee,te.transfers&&(le+=parseFloat(te.transfers))});const ae=ne-fe-le;return{totalWorkers:Z.length,presentWorkers:ee,totalWorkDays:oe,totalEarned:ne,totalPaid:fe,totalRemaining:ae,allWorkersCount:B.length,allRecordsCount:U.length}},[ie,Z,B,U]),ce=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:me.totalWorkers,icon:Vn,color:"blue"},{key:"present",label:" ",value:me.presentWorkers,icon:wn,color:"green"},{key:"days",label:" ",value:me.totalWorkDays.toFixed(2),icon:Un,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:Je(me.totalEarned),icon:Tr,color:"blue"},{key:"paid",label:"",value:Je(me.totalPaid),icon:wn,color:"green"},{key:"remaining",label:"",value:Je(me.totalRemaining),icon:Tr,color:me.totalRemaining>=0?"purple":"red"}]}],[me]),ye=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set(B.map(ee=>ee.type))).filter(Boolean).map(ee=>({value:ee,label:ee}))]}],[B]);return o.jsxs("div",{className:"p-4 space-y-4",children:[e&&o.jsx(bo,{hideHeader:!0,title:"",statsRows:ce,searchValue:s,onSearchChange:n,searchPlaceholder:"  ...",showSearch:!0,filters:ye,filterValues:{date:y?(()=>{const[ee,oe,ne]=y.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:(ee,oe)=>{if(ee==="date")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),le=String(oe.getDate()).padStart(2,"0");m(`${ne}-${fe}-${le}`)}else m(null)},onReset:R,onRefresh:C,isRefreshing:l,resultsSummary:s?{totalCount:me.allRecordsCount,filteredCount:me.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:me.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),B.length>0&&o.jsx(Ga,{open:A,onOpenChange:L,children:o.jsxs(ir,{className:"mb-4",children:[(!e||e===Ps||!y)&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),o.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!e||e===Ps)&&o.jsx("p",{children:"      "}),!y&&o.jsx("p",{children:"      "})]})]})]})}),o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:A?" ":" "}),A?o.jsx(Lo,{className:"h-5 w-5 text-muted-foreground"}):o.jsx(Bn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),o.jsx(Qa,{children:o.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[o.jsx(Gm,{projectId:e,value:c,onChange:d,optional:!0}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:o.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>T(!k),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:k?o.jsx(Lo,{className:"h-4 w-4"}):o.jsx(Bn,{className:"h-4 w-4"})})}),k&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Y(!0),className:"text-xs",children:" "}),o.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Y(!1),className:"text-xs",children:" "}),o.jsx(Ie,{size:"sm",onClick:F,className:"text-xs",children:"  "})]})]}),k&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsx(vt,{type:"time",value:$.startTime,onChange:ee=>z(oe=>({...oe,startTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsx(vt,{type:"time",value:$.endTime,onChange:ee=>z(oe=>({...oe,endTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(vt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:$.workDays||"",onChange:ee=>{const oe=ee.target.value;z(ne=>({...ne,workDays:oe===""?0:parseFloat(oe)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),$.workDays!==0&&o.jsx("button",{onClick:()=>z(ee=>({...ee,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsxs(es,{value:$.paymentType,onValueChange:ee=>z(oe=>({...oe,paymentType:ee})),children:[o.jsx(Wn,{className:"mt-1",children:o.jsx(ts,{})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"full",children:" "}),o.jsx(zt,{value:"partial",children:" "}),o.jsx(zt,{value:"credit",children:" "})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[$.paymentType!=="credit"&&o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",placeholder:"0",value:$.paidAmount,onChange:ee=>z(oe=>({...oe,paidAmount:ee.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),o.jsx(Ms,{value:$.workDescription,onChange:ee=>z(oe=>({...oe,workDescription:ee})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),G?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):B.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"   "})}):o.jsx("div",{className:"space-y-3",children:Z.length===0&&s?o.jsx("div",{className:"text-center py-8",children:o.jsxs("p",{className:"text-muted-foreground",children:['    "',s,'"']})}):Z.map(ee=>o.jsx(Xbe,{worker:ee,attendance:v[ee.id]||{isPresent:!1},onAttendanceChange:oe=>re(ee.id,oe),selectedDate:y??void 0},ee.id))}),o.jsx("div",{className:"mt-6",children:o.jsxs(Ie,{onClick:V,disabled:Q.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[o.jsx(Qc,{className:"ml-2 h-4 w-4"}),Q.isPending?" ...":" "]})})]})})]})}),e&&o.jsx("div",{className:"mt-6",children:ie.length>0?o.jsx(ei,{columns:2,children:ie.map(ee=>{const oe=B.find(de=>de.id===ee.workerId),ne=parseFloat(oe?.dailyWage||ee.dailyWage||"0"),fe=parseFloat(ee.workDays||"0"),le=ne*fe,ae=parseFloat(ee.paidAmount||"0"),te=le-ae,se=ee.projectName||t.find(de=>de.id===ee.projectId)?.name;return o.jsx(vn,{title:oe?.name||ee.workerId,subtitle:r&&se?`${se} - ${ee.date||ee.attendanceDate}`:ee.date||ee.attendanceDate,titleIcon:Qd,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...r&&se?[{label:se,variant:"outline"}]:[]],fields:[{label:"",value:`${ee.startTime||" "} - ${ee.endTime||" "}`,icon:Un,color:"info"},{label:" ",value:fe.toString(),icon:ks,color:"warning"},{label:" ",value:Je(ne),icon:Tr,color:"default"},{label:"",value:Je(le),icon:Tr,color:"info",emphasis:!0},{label:"",value:Je(ae),icon:wn,color:"success"},{label:"",value:Je(te),icon:Tr,color:te>0?"danger":"success",emphasis:!0}],actions:[{icon:Ul,label:"",onClick:()=>O(ee),color:"blue"},{icon:Yn,label:"",onClick:()=>M.mutate(ee.id),color:"red",disabled:M.isPending}],footer:ee.workDescription?o.jsx("p",{className:"text-sm text-muted-foreground",children:ee.workDescription}):void 0,compact:!0},ee.id)})}):null})]})}const Eke=e=>e==="web"?[{id:1,name:" ",status:"pending",icon:Wf},{id:2,name:"   GitHub",status:"pending",icon:Wf},{id:3,name:"  ",status:"pending",icon:Pd},{id:4,name:"   ",status:"pending",icon:pm},{id:5,name:"   ",status:"pending",icon:jn},{id:6,name:"   ",status:"pending",icon:pi},{id:7,name:"  ",status:"pending",icon:Fs}]:[{id:1,name:" ",status:"pending",icon:Wf},{id:2,name:"   GitHub",status:"pending",icon:Wf},{id:3,name:"  ",status:"pending",icon:Pd},{id:4,name:"   ",status:"pending",icon:pm},{id:5,name:"   ",status:"pending",icon:jn},{id:6,name:" APK  Android",status:"pending",icon:hS},{id:7,name:" APK  ",status:"pending",icon:pm}],Ake=[{id:1,name:" ",status:"pending",icon:Wf},{id:2,name:"   GitHub",status:"pending",icon:Wf},{id:3,name:"   ",status:"pending",icon:Pd},{id:4,name:" ",status:"pending",icon:jn},{id:5,name:" ",status:"pending",icon:pi},{id:6,name:" ",status:"pending",icon:pi},{id:7,name:" ",status:"pending",icon:Fs}];function Pke(){const{toast:e}=pn(),[r,t]=E.useState(!1),[s,n]=E.useState(0),[i,a]=E.useState(Ake),[l,u]=E.useState([]),[c,d]=E.useState(!0),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState("web"),[v,x]=E.useState({show:!1,message:"",action:""}),k=E.useRef(null);E.useEffect(()=>{c&&k.current&&k.current.scrollIntoView({behavior:"smooth",block:"end"})},[l,c]);const T=(K,W="info")=>{u(P=>[...P,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:K,type:W}])},A=(K,W,P)=>{a(R=>R.map(C=>C.id===K?{...C,status:W,duration:P}:C))},L=async()=>{if(!y){e({description:"   ",variant:"destructive"});return}t(!0),n(0),u([]);const K=Eke(y);a(K.map(P=>({...P,status:"pending",duration:void 0}))),f(Date.now()),g(null);const W=y==="web"?" ":" Android";T(`       ${W}...`,"info"),A(1,"running");try{T("      ...","info");const P=await qe("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:P}),P&&P.logs&&Array.isArray(P.logs)){let R=1;P.logs.forEach((C,_)=>{if(C&&C.message&&C.type){T(C.message,C.type);const j=Math.floor(_/2)+1;j<K.length&&R!==j&&(R<=K.length&&A(R,"success"),R=j,A(R,"running"))}}),a(C=>C.map((_,S)=>({..._,status:"success",duration:S<3?2:3}))),n(100),T(`      ${W}  100%!`,"success"),e({description:"   ",variant:"default"})}else T(`     - : ${JSON.stringify(P)}`,"warning"),n(100),a(R=>R.map(C=>({...C,status:"success",duration:3})))}catch(P){console.error(" [startDeployment] :",P);const R=P?.message||"   ";T(`   : ${R}`,"error"),a(C=>C.map((_,S)=>S===0?{..._,status:"success"}:S===1?{..._,status:"failed"}:_)),e({description:` : ${R}`,variant:"destructive"})}finally{t(!1),g(Date.now())}},q=()=>{if(!p)return"00:00";const K=h||Date.now(),W=Math.floor((K-p)/1e3),P=Math.floor(W/60),R=W%60;return`${P.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`},D=()=>{const K=l.map(W=>`[${W.timestamp}] ${W.message}`).join(`
`);navigator.clipboard.writeText(K),e({description:"    "})},$=async()=>{x({show:!1,message:"",action:""}),T("      ...","info");try{await qe("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),T("      ","success")}catch(K){T(`   : ${K.message}`,"error")}},z=()=>{x({show:!1,message:"",action:""}),T("     ","warning")};return o.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsx("div",{className:"w-full md:w-auto",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),o.jsxs(es,{value:y,onValueChange:K=>m(K),disabled:r,children:[o.jsx(Wn,{className:"w-full md:w-56","data-testid":"select-app-type",children:o.jsx(ts,{placeholder:" "})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"web","data-testid":"option-web-app",children:" "}),o.jsx(zt,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),o.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[o.jsxs(Ie,{variant:"outline",size:"sm",onClick:D,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[o.jsx(Vf,{className:"w-4 h-4 ml-2"})," "]}),r?o.jsxs(Ie,{variant:"destructive",onClick:()=>t(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[o.jsx(oie,{className:"w-4 h-4 ml-2"})," "]}):o.jsxs(Ie,{onClick:L,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[o.jsx(sie,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs(ir,{className:"border-border/50 shadow-sm overflow-hidden",children:[o.jsx(fs,{className:"bg-muted/30 pb-4",children:o.jsxs(xs,{className:"text-sm font-medium flex items-center justify-between",children:[o.jsx("span",{children:"  "}),o.jsx(At,{variant:r?"secondary":"outline",className:r?"animate-pulse":"",children:r?" ":""})]})}),o.jsx(br,{className:"pt-6 space-y-1",children:i.map((K,W)=>o.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[W!==i.length-1&&o.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${K.status==="success"?"bg-primary":"bg-border"}`}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${K.status==="success"?"bg-primary text-primary-foreground":K.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":K.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:K.status==="success"?o.jsx($o,{className:"w-3 h-3"}):K.status==="failed"?o.jsx(ti,{className:"w-3 h-3"}):(()=>{const P=K.icon;return o.jsx(P,{className:"w-3 h-3"})})()}),o.jsxs("div",{className:"flex-1 pr-8",children:[o.jsx("p",{className:`text-sm font-semibold ${K.status==="running"?"text-primary":"text-foreground"}`,children:K.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[K.status==="running"&&o.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),K.duration&&o.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[K.duration," "]})]})]})]})]},K.id))})]}),o.jsx(ir,{className:"bg-primary/5 border-primary/20",children:o.jsx(br,{className:"pt-6 space-y-4",children:o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),o.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:q()})]}),o.jsx(Un,{className:"w-10 h-10 text-primary/20"})]})})})]}),o.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[o.jsxs(ir,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[o.jsxs(fs,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[o.jsx(qR,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),r&&o.jsx(At,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[o.jsx(Input,{type:"checkbox",checked:c,onChange:K=>d(K.target.checked),className:"rounded border-border w-4 h-4"})," "]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:o.jsx(pm,{className:"w-4 h-4"})})]})]}),o.jsx(br,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:o.jsx(Zo,{className:"h-full",children:o.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[l.length===0?o.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[o.jsx(Ad,{className:"w-4 h-4"}),"  ..."]}):l.map((K,W)=>o.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[o.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:W+1}),o.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:K.timestamp}),o.jsx("span",{className:`flex-1 break-all ${K.type==="success"?"text-emerald-400 font-medium":K.type==="error"?"text-rose-400 font-bold":K.type==="warning"?"text-amber-400":"text-slate-300"}`,children:K.message})]},K.id)),o.jsx("div",{ref:k,className:"h-2"})]})})})]}),s===100&&!r&&o.jsx(ir,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:o.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[o.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:o.jsx($o,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:" !"}),o.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),o.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[o.jsx(Ie,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:o.jsx("a",{href:"/",target:"_blank",children:"  "})}),o.jsx(Ie,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),i.some(K=>K.status==="failed")&&!r&&o.jsx(ir,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:o.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[o.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:o.jsx(ti,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:"  "}),o.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),o.jsxs(Ie,{onClick:L,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[o.jsx(Xl,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&o.jsx(ir,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:o.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[o.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:o.jsx(pa,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold",children:" "}),o.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),o.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[o.jsxs(Ie,{onClick:$,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[o.jsx($o,{className:"w-4 h-4"}),o.jsx("span",{className:"ml-2",children:""})]}),o.jsxs(Ie,{onClick:z,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[o.jsx(ti,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const Oh=E.forwardRef(({className:e,autoHeight:r=!0,maxRows:t=10,minRows:s=3,onChange:n,...i},a)=>{const l=E.useRef(null),u=E.useCallback(()=>{const d=l.current;if(r&&d){d.style.height="auto";const f=s*20,h=d.scrollHeight,g=Math.max(f,h);d.style.height=`${g}px`,d.style.overflowY="hidden"}},[r,t,s]),c=d=>{u(),n?.(d)};return E.useEffect(()=>{u();const d=l.current;if(!d)return;const p=new ResizeObserver(()=>u());return p.observe(d),()=>p.disconnect()},[u,i.value]),o.jsx("textarea",{className:Ae("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none transition-[height] duration-100 ease-out",e),ref:d=>{l.current=d,typeof a=="function"?a(d):a&&(a.current=d)},onChange:c,...i})});Oh.displayName="Textarea";var r5="Radio",[Ike,sZ]=mi(r5),[Dke,Mke]=Ike(r5),iZ=E.forwardRef((e,r)=>{const{__scopeRadio:t,name:s,checked:n=!1,required:i,disabled:a,value:l="on",onCheck:u,form:c,...d}=e,[p,f]=E.useState(null),h=Er(r,m=>f(m)),g=E.useRef(!1),y=p?c||!!p.closest("form"):!0;return o.jsxs(Dke,{scope:t,checked:n,disabled:a,children:[o.jsx(qt.button,{type:"button",role:"radio","aria-checked":n,"data-state":cZ(n),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:h,onClick:mt(e.onClick,m=>{n||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&o.jsx(lZ,{control:p,bubbles:!g.current,name:s,value:l,checked:n,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});iZ.displayName=r5;var aZ="RadioIndicator",oZ=E.forwardRef((e,r)=>{const{__scopeRadio:t,forceMount:s,...n}=e,i=Mke(aZ,t);return o.jsx(js,{present:s||i.checked,children:o.jsx(qt.span,{"data-state":cZ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});oZ.displayName=aZ;var Rke="RadioBubbleInput",lZ=E.forwardRef(({__scopeRadio:e,control:r,checked:t,bubbles:s=!0,...n},i)=>{const a=E.useRef(null),l=Er(a,i),u=o6(t),c=wS(r);return E.useEffect(()=>{const d=a.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==t&&h){const g=new Event("click",{bubbles:s});h.call(d,t),d.dispatchEvent(g)}},[u,t,s]),o.jsx(qt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:l,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lZ.displayName=Rke;function cZ(e){return e?"checked":"unchecked"}var $ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h1="RadioGroup",[Oke]=mi(h1,[ap,sZ]),uZ=ap(),dZ=sZ(),[Fke,Lke]=Oke(h1),fZ=E.forwardRef((e,r)=>{const{__scopeRadioGroup:t,name:s,defaultValue:n,value:i,required:a=!1,disabled:l=!1,orientation:u,dir:c,loop:d=!0,onValueChange:p,...f}=e,h=uZ(t),g=sp(c),[y,m]=fo({prop:i,defaultProp:n??null,onChange:p,caller:h1});return o.jsx(Fke,{scope:t,name:s,required:a,disabled:l,value:y,onValueChange:m,children:o.jsx(H6,{asChild:!0,...h,orientation:u,dir:g,loop:d,children:o.jsx(qt.div,{role:"radiogroup","aria-required":a,"aria-orientation":u,"data-disabled":l?"":void 0,dir:g,...f,ref:r})})})});fZ.displayName=h1;var hZ="RadioGroupItem",pZ=E.forwardRef((e,r)=>{const{__scopeRadioGroup:t,disabled:s,...n}=e,i=Lke(hZ,t),a=i.disabled||s,l=uZ(t),u=dZ(t),c=E.useRef(null),d=Er(r,c),p=i.value===n.value,f=E.useRef(!1);return E.useEffect(()=>{const h=y=>{$ke.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),o.jsx(K6,{asChild:!0,...l,focusable:!a,active:p,children:o.jsx(iZ,{disabled:a,required:i.required,checked:p,...u,...n,name:i.name,ref:d,onCheck:()=>i.onValueChange(n.value),onKeyDown:mt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:mt(n.onFocus,()=>{f.current&&c.current?.click()})})})});pZ.displayName=hZ;var zke="RadioGroupIndicator",mZ=E.forwardRef((e,r)=>{const{__scopeRadioGroup:t,...s}=e,n=dZ(t);return o.jsx(oZ,{...n,...s,ref:r})});mZ.displayName=zke;var gZ=fZ,yZ=pZ,Bke=mZ;const bZ=E.forwardRef(({className:e,...r},t)=>o.jsx(gZ,{className:Ae("grid gap-2",e),...r,ref:t}));bZ.displayName=gZ.displayName;const vb=E.forwardRef(({className:e,...r},t)=>o.jsx(yZ,{ref:t,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:o.jsx(Bke,{className:"flex items-center justify-center",children:o.jsx(zR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vb.displayName=yZ.displayName;function Wy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Y2={exports:{}};/*! ExcelJS 19-10-2023 */var BA;function Uke(){return BA||(BA=1,(function(e,r){(function(t){e.exports=t()})((function(){return(function t(s,n,i){function a(c,d){if(!n[c]){if(!s[c]){var p=typeof Wy=="function"&&Wy;if(!d&&p)return p(c,!0);if(l)return l(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[c]={exports:{}};s[c][0].call(h.exports,(function(g){return a(s[c][1][g]||g)}),h,h.exports,t,s,n,i)}return n[c].exports}for(var l=typeof Wy=="function"&&Wy,u=0;u<i.length;u++)a(i[u]);return a})({1:[function(t,s,n){const i=t("fs"),a=t("fast-csv"),l=t("dayjs/plugin/customParseFormat"),u=t("dayjs/plugin/utc"),c=t("dayjs").extend(l).extend(u),d=t("../utils/stream-buf"),{fs:{exists:p}}=t("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await p(h))throw new Error("File not found: "+h);const y=i.createReadStream(h),m=await this.read(y,g);return y.close(),m}read(h,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),x=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],k=g.map||function(A){if(A==="")return null;const L=Number(A);if(!Number.isNaN(L)&&L!==1/0)return L;const q=x.reduce(($,z)=>{if($)return $;const K=c(A,z,!0);return K.isValid()?K:null},null);if(q)return new Date(q.valueOf());const D=f[A];return D!==void 0?D:A},T=a.parse(g.parserOptions).on("data",A=>{v.addRow(A.map(k))}).on("end",()=>{T.emit("worksheet",v)});T.on("worksheet",y).on("error",m),h.pipe(T)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),x=a.format(g.formatterOptions);h.on("finish",()=>{y()}),x.on("error",m),x.pipe(h);const{dateFormat:k,dateUTC:T}=g,A=g.map||(D=>{if(D){if(D.text||D.hyperlink)return D.hyperlink||D.text||"";if(D.formula||D.result)return D.result||"";if(D instanceof Date)return k?T?c.utc(D).format(k):c(D).format(k):T?c.utc(D).format():c(D).format();if(D.error)return D.error;if(typeof D=="object")return JSON.stringify(D)}return D}),L=g.includeEmptyRows===void 0||g.includeEmptyRows;let q=1;v&&v.eachRow((D,$)=>{if(L)for(;q++<$-1;)x.write([]);const{values:z}=D;z.shift(),x.write(z.map(A)),q=$}),x.end()})}writeFile(h,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=i.createWriteStream(h,y);return this.write(m,g)}async writeBuffer(h){const g=new d;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,s,n){const i=t("../utils/col-cache");class a{constructor(u,c){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,c)if(typeof c=="string"){const p=i.decodeAddress(c);this.nativeCol=p.col+d,this.nativeColOff=0,this.nativeRow=p.row+d,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+d,this.row=c.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof a||u==null?u:new a(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}s.exports=a},{"../utils/col-cache":19}],3:[function(t,s,n){const i=t("../utils/col-cache"),a=t("../utils/under-dash"),l=t("./enums"),{slideFormula:u}=t("../utils/shared-formula"),c=t("./note");class d{constructor(h,g,y){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,i.validateAddress(y),this._address=y,this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,y){const m=h&&h.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=h&&h.font||g&&g.font;v&&(y.font=v);const x=h&&h.alignment||g&&g.alignment;x&&(y.alignment=x);const k=h&&h.border||g&&g.border;k&&(y.border=k);const T=h&&h.fill||g&&g.fill;T&&(y.fill=T);const A=h&&h.protection||g&&g.protection;return A&&(y.protection=A),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(h,g){this._value.release(),this._value=p.create(d.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===d.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==d.Types.Merge?(this._value.release(),this._value=p.create(p.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new c(h)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===d.Types.String&&(this._value=p.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=p.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=c.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}d.Types=l.ValueType;const p={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=y=>{const m=f[y];m&&(h[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(p.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?l.ValueType.Null:f instanceof String||typeof f=="string"?l.ValueType.String:typeof f=="number"?l.ValueType.Number:f instanceof Date?l.ValueType.Date:f.text&&f.hyperlink?l.ValueType.Hyperlink:f.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&u(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(h,g)}};s.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,s,n){const i=t("../utils/under-dash"),a=t("./enums"),l=t("../utils/col-cache");class u{constructor(d,p,f){this._worksheet=d,this._number=p,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((p,f)=>{this._worksheet.getCell(f+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&i.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,p){const f=this.number;p||(p=d,d=null),this._worksheet.eachRow(d,(h,g)=>{p(h.getCell(f),g)})}get values(){const d=[];return this.eachCell((p,f)=>{p&&p.type!==a.ValueType.Null&&(d[f]=p.value)}),d}set values(d){if(!d)return;const p=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((h,g)=>{this._worksheet.getCell(g+f,p).value=h})}_applyStyle(d,p){return this.style[d]=p,this.eachCell(f=>{f[d]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const p=[];let f=null;return d&&d.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},p.push(f))}),p.length?p:void 0}static fromModel(d,p){const f=[];let h=1,g=0;for(p=(p=p||[]).sort((function(y,m){return y.min-m.min}));g<p.length;){const y=p[g++];for(;h<y.min;)f.push(new u(d,h++));for(;h<=y.max;)f.push(new u(d,h++,y))}return f.length?f:null}}s.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,s,n){s.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(t,s,n){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),l=t("../utils/cell-matrix"),u=t("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new l)}add(d,p){const f=a.decodeEx(d);this.addEx(f,p)}addEx(d,p){const f=this.getMatrix(p);if(d.top)for(let h=d.left;h<=d.right;h++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:a.n2l(h)+g,row:g,col:h};f.addCellEx(y)}else f.addCellEx(d)}remove(d,p){const f=a.decodeEx(d);this.removeEx(f,p)}removeEx(d,p){this.getMatrix(p).removeCellEx(d)}removeAllNames(d){i.each(this.matrixMap,p=>{p.removeCellEx(d)})}forEach(d){i.each(this.matrixMap,(p,f)=>{p.forEach(h=>{d(f,h)})})}getNames(d){return this.getNamesEx(a.decodeEx(d))}getNamesEx(d){return i.map(this.matrixMap,(p,f)=>p.findCellEx(d)&&f).filter(Boolean)}_explore(d,p){p.mark=!1;const{sheetName:f}=p,h=new u(p.row,p.col,p.row,p.col,f);let g,y;function m(x,k){const T=d.findCellAt(f,x,p.col);return!(!T||!T.mark)&&(h[k]=x,T.mark=!1,!0)}for(y=p.row-1;m(y,"top");y--);for(y=p.row+1;m(y,"bottom");y++);function v(x,k){const T=[];for(y=h.top;y<=h.bottom;y++){const A=d.findCellAt(f,y,x);if(!A||!A.mark)return!1;T.push(A)}h[k]=x;for(let A=0;A<T.length;A++)T[A].mark=!1;return!0}for(g=p.col-1;v(g,"left");g--);for(g=p.col+1;v(g,"right");g++);return h}getRanges(d,p){return(p=p||this.matrixMap[d])?(p.forEach(f=>{f.mark=!0}),{name:d,ranges:p.map(f=>f.mark&&this._explore(p,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,p){d.forEachInSheet(p,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=a.n2l(g)+h))})}spliceRows(d,p,f,h){i.each(this.matrixMap,g=>{g.spliceRows(d,p,f,h),this.normaliseMatrix(g,d)})}spliceColumns(d,p,f,h){i.each(this.matrixMap,g=>{g.spliceColumns(d,p,f,h),this.normaliseMatrix(g,d)})}get model(){return i.map(this.matrixMap,(d,p)=>this.getRanges(p,d)).filter(d=>d.ranges.length)}set model(d){const p=this.matrixMap={};d.forEach(f=>{const h=p[f.name]=new l;f.ranges.forEach(g=>{c.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,s,n){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,s,n){const i=t("../utils/col-cache"),a=t("./anchor");s.exports=class{constructor(l,u){this.worksheet=l,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:u,imageId:c,range:d,hyperlinks:p}=l;if(this.type=u,this.imageId=c,u==="image")if(typeof d=="string"){const f=i.decode(d);this.range={tl:new a(this.worksheet,{col:f.left,row:f.top},-1),br:new a(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,d.tl,0),br:d.br&&new a(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:p||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,s,n){const i=t("../utils/under-dash");class a{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,u)}set model(u){const{note:c}=u,{texts:d}=c;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=c}static fromModel(u){const c=new a;return c.model=u,c}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=a},{"../utils/under-dash":26}],10:[function(t,s,n){const i=t("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(u,c,d,p,f){if(arguments.length<4){const h=i.decodeAddress(u),g=i.decodeAddress(c);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:d},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(c,p),bottom:Math.max(u,d),right:Math.max(c,p),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const c=u[0];if(c instanceof a)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const d=i.decodeEx(c);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,c,d,p){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(u){if(u){const{dimensions:c,number:d}=u;c&&this.expand(d,c.min,d,c.max)}}expandToAddress(u){const c=i.decodeEx(u);this.expand(c.row,c.col,c.row,c.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const c=i.decodeEx(u);return this.containsEx(c)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let c=this.left;c<=this.right;c++)for(let d=this.top;d<=this.bottom;d++)u(i.encodeAddress(d,c),d,c)}}s.exports=a},{"../utils/col-cache":19}],11:[function(t,s,n){const i=t("../utils/under-dash"),a=t("./enums"),l=t("../utils/col-cache"),u=t("./cell");s.exports=class{constructor(c,d){this._worksheet=c,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let d=this._cells[c.col-1];if(!d){const p=this._worksheet.getColumn(c.col);d=new u(this,p,c.address),this._cells[c.col-1]=d}return d}getCell(c){if(typeof c=="string"){const d=this._worksheet.getColumnKey(c);c=d?d.number:l.l2n(c)}return this._cells[c-1]||this.getCellEx({address:l.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,d){const p=c+d;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const y=h.length-d,m=this._cells.length;let v,x,k;if(y<0)for(v=c+h.length;v<=m;v++)k=this._cells[v-1],x=this._cells[v-y-1],x?(k=this.getCell(v),k.value=x.value,k.style=x.style,k._comment=x._comment):k&&(k.value=null,k.style={},k._comment=void 0);else if(y>0)for(v=m;v>=p;v--)x=this._cells[v-1],x?(k=this.getCell(v+y),k.value=x.value,k.style=x.style,k._comment=x._comment):this._cells[v+y-1]=void 0;for(v=0;v<h.length;v++)k=this.getCell(c+v),k.value=h[v],k.style={},k._comment=void 0}eachCell(c,d){if(d||(d=c,c=null),c&&c.includeEmpty){const p=this._cells.length;for(let f=1;f<=p;f++)d(this.getCell(f),f)}else this._cells.forEach((p,f)=>{p&&p.type!==a.ValueType.Null&&d(p,f+1)})}addPageBreak(c,d){const p=this._worksheet,f=Math.max(0,c-1)||0,h=Math.max(0,d-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),p.rowBreaks.push(g)}get values(){const c=[];return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&(c[d.col]=d.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((p,f)=>{p!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=p)})}else this._worksheet.eachColumnKey((d,p)=>{c[p]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=c[p])})}get hasValues(){return i.some(this._cells,c=>c&&c.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,d=0;return this._cells.forEach(p=>{p&&p.type!==a.ValueType.Null&&((!c||c>p.col)&&(c=p.col),d<p.col&&(d=p.col))}),c>0?{min:c,max:d}:null}_applyStyle(c,d){return this.style[c]=d,this._cells.forEach(p=>{p&&(p[c]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let d=0,p=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!d||d>f.col)&&(d=f.col),p<f.col&&(p=f.col),c.push(h))}}),this.height||c.length?{cells:c,number:this.number,min:d,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],c.cells.forEach(p=>{switch(p.type){case u.Types.Merge:break;default:{let f;if(p.address)f=l.decodeAddress(p.address);else if(d){const{row:h}=d,g=d.col+1;f={row:h,col:g,address:l.encodeAddress(h,g),$col$row:`$${l.n2l(g)}$${h}`}}d=f,this.getCellEx(f).model=p;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,s,n){const i=t("../utils/col-cache");class a{constructor(u,c,d){this.table=u,this.column=c,this.index=d}_set(u,c){this.table.cacheState(),this.column[u]=c}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}s.exports=class{constructor(l,u){this.worksheet=l,u&&(this.table=u,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(l,"headerRow",!0),u(l,"totalsRow",!1),u(l,"style",{}),u(l.style,"theme","TableStyleMedium2"),u(l.style,"showFirstColumn",!1),u(l.style,"showLastColumn",!1),u(l.style,"showRowStripes",!1),u(l.style,"showColumnStripes",!1);const c=(y,m)=>{if(!y)throw new Error(m)};c(l.ref,"Table must have ref"),c(l.columns,"Table must have column definitions"),c(l.rows,"Table must have row definitions"),l.tl=i.decodeAddress(l.ref);const{row:d,col:p}=l.tl;c(d>0,"Table must be on valid row"),c(p>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;l.autoFilterRef=i.encode(d,p,d+h-1,p+f-1),l.tableRef=i.encode(d,p,d+g-1,p+f-1),l.columns.forEach((y,m)=>{c(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const l=(h,g)=>{g&&Object.keys(g).forEach(y=>{h[y]=g[y]})},{worksheet:u,table:c}=this,{row:d,col:p}=c.tl;let f=0;if(c.headerRow){const h=u.getRow(d+f++);c.columns.forEach((g,y)=>{const{style:m,name:v}=g,x=h.getCell(p+y);x.value=v,l(x,m)})}if(c.rows.forEach(h=>{const g=u.getRow(d+f++);h.forEach((y,m)=>{const v=g.getCell(p+m);v.value=y,l(v,c.columns[m].style)})}),c.totalsRow){const h=u.getRow(d+f++);c.columns.forEach((g,y)=>{const m=h.getCell(p+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}l(m,g.style)})}}load(l){const{table:u}=this,{row:c,col:d}=u.tl;let p=0;if(u.headerRow){const f=l.getRow(c+p++);u.columns.forEach((h,g)=>{f.getCell(d+g).value=h.name})}if(u.rows.forEach(f=>{const h=l.getRow(c+p++);f.forEach((g,y)=>{h.getCell(d+y).value=g})}),u.totalsRow){const f=l.getRow(c+p++);u.columns.forEach((h,g)=>{const y=f.getCell(d+g);g===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const c=this.worksheet.getRow(l.row+u);for(let d=0;d<this._cache.width;d++)c.getCell(l.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const c=this.worksheet.getRow(l.row+u);for(let d=0;d<this._cache.width;d++)c.getCell(l.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const c=this.worksheet.getRow(l.row+u);for(let d=this.width;d<this._cache.width;d++)c.getCell(l.col+d).value=null}}this.store()}addRow(l,u){this.cacheState(),u===void 0?this.table.rows.push(l):this.table.rows.splice(u,0,l)}removeRows(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,u)}getColumn(l){const u=this.table.columns[l];return new a(this,u,l)}addColumn(l,u,c){this.cacheState(),c===void 0?(this.table.columns.push(l),this.table.rows.forEach((d,p)=>{d.push(u[p])})):(this.table.columns.splice(c,0,l),this.table.rows.forEach((d,p)=>{d.splice(c,0,u[p])}))}removeColumns(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,u),this.table.rows.forEach(c=>{c.splice(l,u)})}_assign(l,u,c){this.cacheState(),l[u]=c}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(t,s,n){const i=t("./worksheet"),a=t("./defined-names"),l=t("../xlsx/xlsx"),u=t("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,d){const p=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),h=Object.assign({},d,{id:p,name:c,orderNo:f+1,workbook:this}),g=new i(h);return this._worksheets[p]=g,g}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const d=this.getWorksheet(c);d&&d.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(d=>d&&d.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,d)=>c.orderNo-d.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(d=>{c(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const d=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),d}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(d=>{const{id:p,name:f,state:h}=d,g=c.sheets&&c.sheets.findIndex(y=>y.id===p);(this._worksheets[p]=new i({id:p,name:f,orderNo:g,state:h,workbook:this})).model=d}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,s,n){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),l=t("./range"),u=t("./row"),c=t("./column"),d=t("./enums"),p=t("./image"),f=t("./table"),h=t("./data-validations"),g=t("../utils/encryptor"),{copyStyle:y}=t("../utils/copy-style");s.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new l;return this._rows.forEach(v=>{if(v){const x=v.dimensions;x&&m.expand(v.number,x.min,v.number,x.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((k,T)=>{const A=(T.header?1:T.headers&&T.headers.length)||0;return Math.max(k,A)},0);let v=1;const x=this._columns=[];m.forEach(k=>{const T=new c(this,v++,!1);x.push(T),T.defn=k})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new c(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const x=this._rows.length;for(var k=arguments.length,T=new Array(k>2?k-2:0),A=2;A<k;A++)T[A-2]=arguments[A];if(T.length>0)for(let $=0;$<x;$++){const z=[m,v];T.forEach(W=>{z.push(W[$]||null)});const K=this.getRow($+1);K.splice.apply(K,z)}else this._rows.forEach($=>{$&&$.splice(m,v)});const L=T.length-v,q=m+v,D=this._columns.length;if(L<0)for(let $=m+T.length;$<=D;$++)this.getColumn($).defn=this.getColumn($-L).defn;else if(L>0)for(let $=D;$>=q;$--)this.getColumn($+L).defn=this.getColumn($).defn;for(let $=m;$<m+T.length;$++)this.getColumn($).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,T.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(x=>{x.eachCell(k=>{let{col:T}=k;m[T]||(m[T]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const x=[];for(let k=m;k<m+v;k++)x.push(this.getRow(k));return x}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,k=this.getRow(x);return k.values=m,this._setStyleOption(x,v[0]==="i"?v:"n"),k}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return m.forEach(k=>{x.push(this.addRow(k,v))}),x}insertRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,x),this.getRow(m)}insertRows(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),x!=="n")for(let k=0;k<v.length;k++)x[0]==="o"&&this.findRow(v.length+m+k)!==void 0?this._copyStyle(v.length+m+k,m+k,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+k,x[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this.getRow(m),T=this.getRow(v);T.style=y(k.style),k.eachCell({includeEmpty:x},(A,L)=>{T.getCell(L).style=y(A.style)}),T.height=k.height}duplicateRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this._rows[m-1],T=new Array(v).fill(k.values);this.spliceRows(m+1,x?0:v,...T);for(let A=0;A<v;A++){const L=this._rows[m+A];L.style=k.style,L.height=k.height,k.eachCell({includeEmpty:!0},(q,D)=>{L.getCell(D).style=q.style})}}spliceRows(m,v){const x=m+v;for(var k=arguments.length,T=new Array(k>2?k-2:0),A=2;A<k;A++)T[A-2]=arguments[A];const L=T.length,q=L-v,D=this._rows.length;let $,z;if(q<0)for(m===D&&(this._rows[D-1]=void 0),$=x;$<=D;$++)if(z=this._rows[$-1],z){const K=this.getRow($+q);K.values=z.values,K.style=z.style,K.height=z.height,z.eachCell({includeEmpty:!0},(W,P)=>{K.getCell(P).style=W.style}),this._rows[$-1]=void 0}else this._rows[$+q-1]=void 0;else if(q>0)for($=D;$>=x;$--)if(z=this._rows[$-1],z){const K=this.getRow($+q);K.values=z.values,K.style=z.style,K.height=z.height,z.eachCell({includeEmpty:!0},(W,P)=>{if(K.getCell(P).style=W.style,W._value.constructor.name==="MergeValue"){const R=this.getRow(W._row._number+L).getCell(P),C=W._value._master,_=this.getRow(C._row._number+L).getCell(C._column._number);R.merge(_)}})}else this._rows[$+q-1]=void 0;for($=0;$<L;$++){const K=this.getRow(m+$);K.style={},K.values=T[$]}this.workbook.definedNames.spliceRows(this.name,m,v,L)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const x=this._rows.length;for(let k=1;k<=x;k++)v(this.getRow(k),k)}else this._rows.forEach(x=>{x&&x.hasValues&&v(x,x.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const x=a.getAddress(m,v),k=this._rows[x.row-1];return k?k.findCell(x.col):void 0}getCell(m,v){const x=a.getAddress(m,v);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const k=new l(v);this._mergeCellsInternal(k)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const k=new l(v);this._mergeCellsInternal(k,!0)}_mergeCellsInternal(m,v){i.each(this._merges,k=>{if(k.intersects(m))throw new Error("Cannot merge already merged cells")});const x=this.getCell(m.top,m.left);for(let k=m.top;k<=m.bottom;k++)for(let T=m.left;T<=m.right;T++)(k>m.top||T>m.left)&&this.getCell(k,T).merge(x,v);this._merges[x.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let x=v.top;x<=v.bottom;x++)for(let k=v.left;k<=v.right;k++)this.getCell(x,k).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const k=new l(v);for(let T=k.top;T<=k.bottom;T++)for(let A=k.left;A<=k.right;A++){const L=this.findCell(T,A);L&&(L.type===d.ValueType.Merge?this._unMergeMaster(L.master):this._merges[L.address]&&this._unMergeMaster(L))}}fillFormula(m,v,x){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const T=a.decode(m),{top:A,left:L,bottom:q,right:D}=T,$=D-L+1,z=a.encodeAddress(A,L),K=k==="shared";let W;W=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(R,C)=>x[R-A][C-L]:(R,C)=>x[(R-A)*$+(C-L)]:()=>{};let P=!0;for(let R=A;R<=q;R++)for(let C=L;C<=D;C++)P?(this.getCell(R,C).value={shareType:k,formula:v,ref:m,result:W(R,C)},P=!1):this.getCell(R,C).value=K?{sharedFormula:z,result:W(R,C)}:W(R,C)}addImage(m,v){const x={type:"image",imageId:m,range:v};this._media.push(new p(this,x))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new p(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(x=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(k=>k.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(k=>k.model),conditionalFormattings:this.conditionalFormattings};m.cols=c.toModel(this.columns);const v=m.rows=[],x=m.dimensions=new l;return this._rows.forEach(k=>{const T=k&&k.model;T&&(x.expand(T.number,T.min,T.number,T.max),v.push(T))}),m.merges=[],i.each(this._merges,k=>{m.merges.push(k.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const x=new u(this,v.number);this._rows[x.number-1]=x,x.model=v})}_parseMergeCells(m){i.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=c.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new p(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,x)=>{const k=new f;return k.model=x,v[x.name]=k,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,s,n){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const i={Workbook:t("./doc/workbook")},a=t("./doc/enums");Object.keys(a).forEach(l=>{i[l]=a[l]}),s.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,s,n){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(t,s,n){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=t("buffer");n.stringToBuffer=function(l){return typeof l!="string"?l:i?a.from(i.encode(l).buffer):a.from(l)}},{buffer:220}],18:[function(t,s,n){const i=t("./under-dash"),a=t("./col-cache");s.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(a.decodeEx(l))}getCell(l){return this.findCellEx(a.decodeEx(l),!0)}findCell(l){return this.findCellEx(a.decodeEx(l),!1)}findCellAt(l,u,c){const d=this.sheets[l],p=d&&d[u];return p&&p[c]}addCellEx(l){if(l.top)for(let u=l.top;u<=l.bottom;u++)for(let c=l.left;c<=l.right;c++)this.getCellAt(l.sheetName,u,c);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,u){const c=this.findSheet(l,u),d=this.findSheetRow(c,l,u);return this.findRowCell(d,l,u)}getCellAt(l,u,c){const d=this.sheets[l]||(this.sheets[l]=[]),p=d[u]||(d[u]=[]);return p[c]||(p[c]={sheetName:l,address:a.n2l(c)+u,row:u,col:c})}removeCellEx(l){const u=this.findSheet(l);if(!u)return;const c=this.findSheetRow(u,l);c&&delete c[l.col]}forEachInSheet(l,u){const c=this.sheets[l];c&&c.forEach((d,p)=>{d&&d.forEach((f,h)=>{f&&u(f,p,h)})})}forEach(l){i.each(this.sheets,(u,c)=>{this.forEachInSheet(c,l)})}map(l){const u=[];return this.forEach(c=>{u.push(l(c))}),u}findSheet(l,u){const c=l.sheetName;return this.sheets[c]?this.sheets[c]:u?this.sheets[c]=[]:void 0}findSheetRow(l,u,c){const{row:d}=u;return l&&l[d]?l[d]:c?l[d]=[]:void 0}findRowCell(l,u,c){const{col:d}=u;return l&&l[d]?l[d]:c?l[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(l,u,c,d){const p=this.sheets[l];if(p){const f=[];for(let h=0;h<d;h++)f.push([]);p.splice(u,c,...f)}}spliceColumns(l,u,c,d){const p=this.sheets[l];if(p){const f=[];for(let h=0;h<d;h++)f.push(null);i.each(p,h=>{h.splice(u,c,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,s,n){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let u,c,d,p,f,h=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;h<=26;)u=this._dictionary[h-1],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(h=27;h<=702;)c=h-27,d=c%26,p=Math.floor(c/26),u=this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(h=703;h<=16384;)c=h-703,d=c%26,p=Math.floor(c/26)%26,f=Math.floor(c/676),u=this._dictionary[f]+this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!i.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const u=l.length<5&&this._hash[l];if(u)return u;let c=!1,d="",p=0,f=!1,h="",g=0;for(let m,v=0;v<l.length;v++)if(m=l.charCodeAt(v),!f&&m>=65&&m<=90)c=!0,d+=l[v],p=26*p+m-64;else if(m>=48&&m<=57)f=!0,h+=l[v],g=10*g+m-48;else if(f&&c&&m!==36)break;if(c){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else p=void 0;f||(g=void 0);const y={address:l=d+h,col:p,row:g,$col$row:`$${d}$${h}`};return p<=100&&g<=100&&(this._hash[l]=y,this._hash[y.$col$row]=y),y},getAddress(l,u){if(u){const c=this.n2l(u)+l;return this.decodeAddress(c)}return this.decodeAddress(l)},decode(l){const u=l.split(":");if(u.length===2){const c=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),p={top:Math.min(c.row,d.row),left:Math.min(c.col,d.col),bottom:Math.max(c.row,d.row),right:Math.max(c.col,d.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(l)},decodeEx(l){const u=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=u[1]||u[2],d=u[3],p=d.split(":");if(p.length>1){let h=this.decodeAddress(p[0]),g=this.decodeAddress(p[1]);const y=Math.min(h.row,g.row),m=Math.min(h.col,g.col),v=Math.max(h.row,g.row),x=Math.max(h.col,g.col);return h=this.n2l(m)+y,g=this.n2l(x)+v,{top:y,left:m,bottom:v,right:x,sheetName:c,tl:{address:h,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:c},br:{address:g,col:x,row:v,$col$row:`$${this.n2l(x)}$${v}`,sheetName:c},dimensions:`${h}:${g}`}}if(d.startsWith("#"))return c?{sheetName:c,error:d}:{error:d};const f=this.decodeAddress(d);return c?{sheetName:c,...f}:f},encodeAddress:(l,u)=>a.n2l(u)+l,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,u){const[c,d,,p,f]=l,[h,g]=u;return h>=c&&h<=p&&g>=d&&g<=f}};s.exports=a},{}],20:[function(t,s,n){const i=(l,u)=>({...l,...u.reduce((c,d)=>(l[d]&&(c[d]={...l[d]}),c),{})}),a=function(l,u,c){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[c]&&(u[c]=i(l[c],d))};n.copyStyle=l=>{if(!l)return l;if(u=l,Object.keys(u).length===0)return{};var u;const c={...l};return a(l,c,"font",["color"]),a(l,c,"alignment"),a(l,c,"protection"),l.border&&(a(l,c,"border"),a(l.border,c.border,"top",["color"]),a(l.border,c.border,"left",["color"]),a(l.border,c.border,"bottom",["color"]),a(l.border,c.border,"right",["color"]),a(l.border,c.border,"diagonal",["color"])),l.fill&&(a(l,c,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(c.fill.stops=l.fill.stops.map(d=>i(d,["color"])))),c}},{}],21:[function(t,s,n){(function(i){(function(){const a=t("crypto"),l={hash(u){const c=a.createHash(u);for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return c.update(i.concat(p)),c.digest()},convertPasswordToHash(u,c,d,p){if(c=c.toLowerCase(),a.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const f=i.from(u,"utf16le");let h=this.hash(c,i.from(d,"base64"),f);for(let g=0;g<p;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),h=this.hash(c,h,y)}return h.toString("base64")},randomBytes:u=>a.randomBytes(u)};s.exports=l}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,s,n){const{SaxesParser:i}=t("saxes"),{PassThrough:a}=t("readable-stream"),{bufferToString:l}=t("./browser-buffer-decode");s.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new a));const c=new i;let d;c.on("error",f=>{d=f});let p=[];c.on("opentag",f=>p.push({eventType:"opentag",value:f})),c.on("text",f=>p.push({eventType:"text",value:f})),c.on("closetag",f=>p.push({eventType:"closetag",value:f}));for await(const f of u){if(c.write(l(f)),d)throw d;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,s,n){const i=t("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(u,c,d){const p=i.decode(c),f=i.decode(d);return u.replace(a,(h,g,y,m,v)=>{if(v)return h;const x=l.exec(m);if(x){const k=x[1],T=x[2].toUpperCase(),A=x[3],L=x[4];if(T.length>3||T.length===3&&T>"XFD")return h;let q=i.l2n(T),D=parseInt(L,10);return k||(q+=f.col-p.col),A||(D+=f.row-p.row),(g||"")+(k||"")+i.n2l(q)+(A||"")+D}return h})}}},{"./col-cache":19}],24:[function(t,s,n){(function(i,a){(function(){const l=t("readable-stream"),u=t("./utils"),c=t("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,x,k){return this.toBuffer().copy(m,v,x,k)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class p{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,k){return this._data._buf.copy(m,v,x,k)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,k){this._data.copy(m,v,x,k)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,x){const k=Math.min(x,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+k),this.iWrite+=k,k}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let x;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof c)x=new p(y);else if(y instanceof a)x=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),i.nextTick(v)):(await this._pipe(x),v());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const x=k=>{k?v(k):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};y?this.write(y,m,x):x()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],x=v.read(y);y-=x.length,m.push(x),v.eod&&v.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=g}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,s,n){(function(i){(function(){s.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let l=2*this._buf.length;for(;l<a;)l*=2;const u=i.alloc(l);this._buf.copy(u,0),this._buf=u}addText(a){this._buffer=void 0;let l=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+a.length),l=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=l}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,s,n){const{toString:i}=Object.prototype,a=/["&<>]/,l={each:function(u,c){u&&(Array.isArray(u)?u.forEach(c):Object.keys(u).forEach(d=>{c(u[d],d)}))},some:function(u,c){return!!u&&(Array.isArray(u)?u.some(c):Object.keys(u).some(d=>c(u[d],d)))},every:function(u,c){return!u||(Array.isArray(u)?u.every(c):Object.keys(u).every(d=>c(u[d],d)))},map:function(u,c){return u?Array.isArray(u)?u.map(c):Object.keys(u).map(d=>c(u[d],d)):[]},keyBy:(u,c)=>u.reduce((d,p)=>(d[p[c]]=p,d),{}),isEqual:function(u,c){const d=typeof u,p=typeof c,f=Array.isArray(u),h=Array.isArray(c);let g;if(d!==p)return!1;switch(typeof u){case"object":if(f||h)return!(!f||!h)&&u.length===c.length&&u.every((y,m)=>{const v=c[m];return l.isEqual(y,v)});if(u===null||c===null)return u===c;if(g=Object.keys(u),Object.keys(c).length!==g.length)return!1;for(const y of g)if(!c.hasOwnProperty(y))return!1;return l.every(u,(y,m)=>{const v=c[m];return l.isEqual(y,v)});default:return u===c}},escapeHtml(u){const c=a.exec(u);if(!c)return u;let d="",p="",f=0,h=c.index;for(;h<u.length;h++){switch(u.charAt(h)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}f!==h&&(d+=u.substring(f,h)),f=h+1,d+=p}return f!==h?d+u.substring(f,h):d},strcmp:(u,c)=>u<c?-1:u>c?1:0,isUndefined:u=>i.call(u)==="[object Undefined]",isObject:u=>i.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:c}=arguments;let d,p,f;function h(g,y){d=u[y],f=Array.isArray(g),l.isObject(g)||f?(f?(f=!1,p=d&&Array.isArray(d)?d:[]):p=d&&l.isObject(d)?d:{},u[y]=l.deepMerge(p,g)):l.isUndefined(g)||(u[y]=g)}for(let g=0;g<c;g++)l.each(arguments[g],h);return u}};s.exports=l},{}],27:[function(t,s,n){(function(i,a){(function(){const l=t("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:d=>new Promise(p=>{i.setImmediate?a(()=>{p(d)}):setTimeout(()=>{p(d)},1)}),inherits:function(d,p,f,h){d.super_=p,h||(h=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(h,y)}),d.prototype=Object.create(p.prototype,g)},dateToExcel:(d,p)=>25569+d.getTime()/864e5-(p?1462:0),excelToDate(d,p){const f=Math.round(24*(d-25569+(p?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const p=d.lastIndexOf("/");return{path:d.substring(0,p),name:d.substring(p+1)}},getRelsPath(d){const p=c.parsePath(d);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(d){const p=u.exec(d);if(!p)return d;let f="",h="",g=0,y=p.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,h&&(f+=h)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(d){const p=parseInt(d,10);return Number.isNaN(p)?0:p},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(p=>{l.access(d,l.constants.F_OK,f=>{p(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};s.exports=c}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,s,n){const i=t("./under-dash"),a=t("./utils");function l(d,p,f){d.push(` ${p}="${a.xmlEncode(f.toString())}"`)}function u(d,p){if(p){const f=[];i.each(p,(h,g)=>{h!==void 0&&l(f,g,h)}),d.push(f.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const f=this._xml;f.push("<?xml"),u(f,p),f.push(`?>
`)}openNode(p,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(p),g.push("<"),g.push(p),u(g,f),this.leaf=!0,this.open=!0}addAttribute(p,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&l(this._xml,p,f)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,p)}writeText(p){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(a.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(p),f.push(">")),this.open=!1,this.leaf=!1}leafNode(p,f,h){this.openNode(p,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=c},{"./under-dash":26,"./utils":27}],29:[function(t,s,n){(function(i){(function(){const a=t("events"),l=t("jszip"),u=t("./stream-buf"),{stringToBuffer:c}=t("./browser-buffer-encode");class d extends a.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new l,this.stream=new u}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=c(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}s.exports={ZipWriter:d}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,s,n){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,s,n){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,s,n){const i=t("../../utils/parse-sax"),a=t("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof l?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const d of c)for(const{eventType:p,value:f}of d)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(c){return this.parse(i(c))}get xml(){return this.toXml(this.model)}toXml(c){const d=new a;return this.render(d,c),d.xml}static toAttribute(c,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(p)return d}else if(p||c!==d)return c.toString()}static toStringAttribute(c,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(c,d,p)}static toStringValue(c,d){return c===void 0?d:c}static toBoolAttribute(c,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(p)return d}else if(p||c!==d)return c?"1":"0"}static toBoolValue(c,d){return c===void 0?d:c==="1"}static toIntAttribute(c,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(c,d,p)}static toIntValue(c,d){return c===void 0?d:parseInt(c,10)}static toFloatAttribute(c,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(c,d,p)}static toFloatValue(c,d){return c===void 0?d:parseFloat(c)}}s.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,s,n){const i=t("../base-xform"),a=t("../../../utils/col-cache");function l(c){try{return a.decodeEx(c),!0}catch{return!1}}function u(c){const d=[];let p=!1,f="";return c.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(p?f+=h+",":l(h)&&d.push(h));const y=g%2==0;!p&&y&&l(h)?d.push(h):p&&!y?(p=!1,l(f+h)&&d.push(f+h),f=""):(p=!0,f+=h+",")}),d}s.exports=class extends i{render(c,d){c.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),c.writeText(d.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,s,n){const i=t("../../../utils/utils"),a=t("../base-xform");s.exports=class extends a{render(l,u){l.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:i.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){a.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){const u={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(u.visibility=l.visibility),a.leafNode("workbookView",u)}parseOpen(a){if(a.name==="workbookView"){const l=this.model={},u=function(d,p,f){const h=p!==void 0?l[d]=p:f;h!==void 0&&(l[d]=h)},c=function(d,p,f){const h=p!==void 0?l[d]=parseInt(p,10):f;h!==void 0&&(l[d]=h)};return c("x",a.attributes.xWindow,0),c("y",a.attributes.yWindow,0),c("width",a.attributes.windowWidth,25e3),c("height",a.attributes.windowHeight,1e4),u("visibility",a.attributes.visibility,"visible"),c("activeTab",a.attributes.activeTab,void 0),c("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),u=t("../base-xform"),c=t("../static-xform"),d=t("../list-xform"),p=t("./defined-name-xform"),f=t("./sheet-xform"),h=t("./workbook-view-xform"),g=t("./workbook-properties-xform"),y=t("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new h}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new p}),calcPr:new y}}prepare(x){x.sheets=x.worksheets;const k=[];let T=0;x.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(L=>{const q=L.split(":"),D={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${q[0]}:$${q[1]}`],localSheetId:T};k.push(D)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const L=[];if(A.pageSetup.printTitlesColumn){const D=A.pageSetup.printTitlesColumn.split(":");L.push(`'${A.name}'!$${D[0]}:$${D[1]}`)}if(A.pageSetup.printTitlesRow){const D=A.pageSetup.printTitlesRow.split(":");L.push(`'${A.name}'!$${D[0]}:$${D[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:L,localSheetId:T};k.push(q)}T++}),k.length&&(x.definedNames=x.definedNames.concat(k)),(x.media||[]).forEach((A,L)=>{A.name=A.type+(L+1)})}render(x,k){x.openXml(l.StdDocAttributes),x.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,k.properties),this.map.bookViews.render(x,k.views),this.map.sheets.render(x,k.sheets),this.map.definedNames.render(x,k.definedNames),this.map.calcPr.render(x,k.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const k=(x.workbookRels||[]).reduce((D,$)=>(D[$.Id]=$,D),{}),T=[];let A,L=0;(x.sheets||[]).forEach(D=>{const $=k[D.rId];$&&(A=x.worksheetHash["xl/"+$.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=D.name,A.id=D.id,A.state=D.state,T[L++]=A))});const q=[];i.each(x.definedNames,D=>{if(D.name==="_xlnm.Print_Area"){if(A=T[D.localSheetId],A){A.pageSetup||(A.pageSetup={});const $=a.decodeEx(D.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${$.dimensions}`:$.dimensions}}else if(D.name==="_xlnm.Print_Titles"){if(A=T[D.localSheetId],A){A.pageSetup||(A.pageSetup={});const $=D.ranges.join(","),z=/\$/g,K=/\$\d+:\$\d+/,W=$.match(K);if(W&&W.length){const C=W[0];A.pageSetup.printTitlesRow=C.replace(z,"")}const P=/\$[A-Z]+:\$[A-Z]+/,R=$.match(P);if(R&&R.length){const C=R[0];A.pageSetup.printTitlesColumn=C.replace(z,"")}}}else q.push(D)}),x.definedNames=q,x.media.forEach((D,$)=>{D.index=$})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,s,n){const i=t("../strings/rich-text-xform"),a=t("../../../utils/utils"),l=t("../base-xform"),u=s.exports=function(c){this.model=c};a.inherits(u,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(c,d){d=d||this.model,c.openNode("comment",{ref:d.ref,authorId:0}),c.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(p=>{this.richTextXform.render(c,p)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../../../utils/utils"),l=t("../base-xform"),u=t("./comment-xform"),c=s.exports=function(){this.map={comment:new u}};a.inherits(c,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,p){p=p||this.model,d.openXml(i.StdDocAttributes),d.openNode("comments",c.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),p.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l,u){(l===u[2]||this.tag==="x:SizeWithCells"&&l===u[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const l=Math.floor(a.left),u=Math.floor(68*(a.left-l)),c=Math.floor(a.top),d=Math.floor(18*(a.top-c)),p=Math.floor(a.right),f=Math.floor(68*(a.right-p)),h=Math.floor(a.bottom);return[l,u,c,d,p,f,h,Math.floor(18*(a.bottom-h))]}getDefaultRect(a){const l=a.col,u=Math.max(a.row-2,0);return[l,6,u,14,l+2,2,u+4,16]}render(a,l){const u=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);a.leafNode("x:Anchor",null,u.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,s,n){const i=t("../base-xform"),a=t("./vml-anchor-xform"),l=t("./style/vml-protection-xform"),u=t("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];s.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,p){const{protection:f,editAs:h}=p.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,h,c),this.map["x:SizeWithCells"].render(d,h,c),this.map["x:Anchor"].render(d,p),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,p.refAddress.row-1),d.leafNode("x:Column",null,p.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(d).length;this.model.editAs=c[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("./vml-shape-xform");class u extends a{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(d,p){d.openXml(i.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),p.comments.forEach((f,h)=>{this.map["v:shape"].render(d,f,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,s,n){const i=t("../base-xform"),a=t("./vml-textbox-xform"),l=t("./vml-client-data-xform");class u extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new l}}get tag(){return"v:shape"}render(d,p,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(p,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,p),this.map["x:ClientData"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(c,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),s.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,l,u){return`${parseFloat(a)*l.toFixed(2)}${u}`}reverseConversionUnit(a){return(a||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(a,l){const u={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:c}=l.note&&l.note.margins;Array.isArray(c)&&(c=c.map(d=>this.conversionUnit(d,10,"mm")).join(",")),c&&(u.inset=c)}a.openNode("v:textbox",u),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,s,n){const i=t("./base-xform");s.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,l){this.model[a]=l.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,l.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(u=>{a.leafNode("vt:lpstr",void 0,u.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("../simple/string-xform"),u=t("./app-heading-pairs-xform"),c=t("./app-titles-of-parts-xform");class d extends a{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new c}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform");class l extends a{render(c,d){c.openXml(i.StdDocAttributes),c.openNode("Types",l.PROPERTY_ATTRIBUTES);const p={};(d.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;p[h]||(p[h]=!0,c.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;c.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{c.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{c.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:h}=f;c.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("../simple/date-xform"),u=t("../simple/string-xform"),c=t("../simple/integer-xform");class d extends a{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{render(a,l){a.leafNode("Relationship",l)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("./relationship-xform");class u extends a{constructor(){super(),this.map={Relationship:new l}}render(d,p){p=p||this._values,d.openXml(i.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),p.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,l){if(a&&a.rId){const u=l.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const c=u[1],d=l.mediaIndex[c];return l.media[d]}}}}},{"../base-xform":32}],57:[function(t,s,n){const i=t("../base-xform"),a=t("./blip-xform");s.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(l,u){l.openNode(this.tag),this.map["a:blip"].render(l,u),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:blip"}render(a,l){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,s,n){const i=t("../base-xform"),a=t("./hlink-click-xform"),l=t("./ext-lst-xform");s.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(u,c){u.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(u,c),this.map["a:extLst"].render(u,c),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,s,n){const i=t("../base-xform"),a=t("../simple/integer-xform");s.exports=class extends i{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(l,u){l.openNode(this.tag),this.map["xdr:col"].render(l,u.nativeCol),this.map["xdr:colOff"].render(l,u.nativeColOff),this.map["xdr:row"].render(l,u.nativeRow),this.map["xdr:rowOff"].render(l,u.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,s,n){const i=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),l=t("../base-xform"),u=t("./two-cell-anchor-xform"),c=t("./one-cell-anchor-xform");class d extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new c}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=(function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(a.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,l){a.openNode(this.tag);const u=Math.floor(9525*l.width),c=Math.floor(9525*l.height);a.addAttribute("cx",u),a.addAttribute("cy",c),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,l){l.hyperlinks&&l.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,s,n){const i=t("../base-xform"),a=t("./c-nv-pr-xform"),l=t("./c-nv-pic-pr-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(u,c){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,c),this.map["xdr:cNvPicPr"].render(u,c),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,s,n){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),l=t("./cell-position-xform"),u=t("./ext-xform"),c=t("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,p){this.map["xdr:pic"].prepare(d.picture,p)}render(d,p){d.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,p.range.tl),this.map["xdr:ext"].render(d,p.range.ext),this.map["xdr:pic"].render(d,p.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,p){d.medium=this.reconcilePicture(d.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,s,n){const i=t("../base-xform"),a=t("../static-xform"),l=t("./blip-fill-xform"),u=t("./nv-pic-pr-xform"),c=t("./sp-pr");s.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new l,"xdr:spPr":new a(c)}}get tag(){return"xdr:pic"}prepare(d,p){d.index=p.index+1}render(d,p){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,p),this.map["xdr:blipFill"].render(d,p),this.map["xdr:spPr"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,s,n){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,s,n){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),l=t("./cell-position-xform"),u=t("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:to"].render(c,d.range.br),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,s,n){const i=t("./base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,l){const{childXform:u}=this;a&&a.forEach((c,d)=>{l.index=d,u.prepare(c,l)})}render(a,l){if(this.always||l&&l.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,l&&l.length||0);const{childXform:u}=this;(l||[]).forEach((c,d)=>{u.render(a,c,d)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,l){if(a){const{childXform:u}=this;a.forEach(c=>{u.reconcile(c,l)})}}}},{"./base-xform":32}],72:[function(t,s,n){const i=t("../../../utils/col-cache"),a=t("../base-xform");s.exports=class extends a{get tag(){return"autoFilter"}render(l,u){if(u)if(typeof u=="string")l.leafNode("autoFilter",{ref:u});else{const c=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},d=c(u.from),p=c(u.to);d&&p&&l.leafNode("autoFilter",{ref:`${d}:${p}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,s,n){const i=t("../../../utils/utils"),a=t("../base-xform"),l=t("../../../doc/range"),u=t("../../../doc/enums"),c=t("../strings/rich-text-xform");function d(p){if(p==null)return u.ValueType.Null;if(p instanceof String||typeof p=="string")return u.ValueType.String;if(typeof p=="number")return u.ValueType.Number;if(typeof p=="boolean")return u.ValueType.Boolean;if(p instanceof Date)return u.ValueType.Date;if(p.text&&p.hyperlink)return u.ValueType.Hyperlink;if(p.formula)return u.ValueType.Formula;if(p.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends a{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(p,f){const h=f.styles.addStyleModel(p.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(p));switch(h&&(p.styleId=h),p.comment&&f.comments.push({...p.comment,ref:p.address}),p.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(p.ssId=f.sharedStrings.add(p.value));break;case u.ValueType.Date:f.date1904&&(p.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=f.sharedStrings.add(p.text)),f.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case u.ValueType.Merge:f.merges.add(p);break;case u.ValueType.Formula:if(f.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=f.siFormulae++),p.formula)f.formulae[p.address]=p;else if(p.sharedFormula){const g=f.formulae[p.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new l(g.address,p.address)):g.range&&g.range.expandToAddress(p.address),p.si=g.si}}}renderFormula(p,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:p.leafNode("f",h,f.formula);break;case u.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Number:p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result.error);break;case u.ValueType.Date:p.leafNode("f",h,f.formula),p.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,f){if(f.type!==u.ValueType.Null||f.styleId){switch(p.openNode("c"),p.addAttribute("r",f.address),f.styleId&&p.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:p.leafNode("v",null,f.value);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(p,h)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,f.value));break;case u.ValueType.Date:p.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(p,f);break;case u.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,f){const h=p.styleId&&f.styles&&f.styles.getStyleModel(p.styleId);switch(h&&(p.style=h),p.styleId!==void 0&&(p.styleId=void 0),p.type){case u.ValueType.String:typeof p.value=="number"&&f.sharedStrings&&(p.value=f.sharedStrings.getString(p.value)),p.value.richText&&(p.type=u.ValueType.RichText);break;case u.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(p.type=u.ValueType.Date,p.value=i.excelToDate(p.value,f.date1904));break;case u.ValueType.Formula:p.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(p.result=i.excelToDate(p.result,f.date1904)),p.shareType==="shared"&&(p.ref?f.formulae[p.si]=p.address:(p.sharedFormula=f.formulae[p.si],delete p.shareType),delete p.si)}const g=f.hyperlinkMap[p.address];g&&(p.type===u.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=u.ValueType.Hyperlink,p.hyperlink=g);const y=f.commentsMap&&f.commentsMap[p.address];y&&(p.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,l){a.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(a){let{attributes:l}=a;this.model={iconSet:l.iconSet,iconId:i.toIntValue(l.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(t,s,n){const{v4:i}=t("uuid"),a=t("../../base-xform"),l=t("../../composite-xform"),u=t("./databar-ext-xform"),c=t("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?u.isExt(h):!(h.type!=="iconSet"||!h.custom&&!d[h.iconSet])}prepare(h){p.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,g){if(p.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}s.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,s,n){const i=t("../../composite-xform"),a=t("./f-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(l,u){l.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(l,u.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,u){switch(l){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,s,n){const i=t("../../composite-xform"),a=t("./sqref-ext-xform"),l=t("./cf-rule-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(u,c){u.rules.forEach(d=>{this.cfRule.prepare(d,c)})}render(u,c){c.rules.some(l.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(l.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,c.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,c){switch(u){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,s,n){const i=t("../../composite-xform"),a=t("./cf-rule-ext-xform"),l=t("./conditional-formatting-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(c=>c.rules.some(a.isExt))),u.hasExtContent}prepare(u,c){u.forEach(d=>{this.cfXform.prepare(d,c)})}render(u,c){this.hasContent(c)&&(u.openNode(this.tag),c.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,s,n){const i=t("../../base-xform"),a=t("../../composite-xform"),l=t("../../style/color-xform"),u=t("./cfvo-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,d){c.openNode(this.tag,{minLength:i.toIntAttribute(d.minLength,0,!0),maxLength:i.toIntAttribute(d.maxLength,100,!0),border:i.toBoolAttribute(d.border,!1),gradient:i.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(d.axisPosition,"auto"),direction:i.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(p=>{this.cfvoXform.render(c,p)}),this.borderColorXform.render(c,d.borderColor),this.negativeBorderColorXform.render(c,d.negativeBorderColor),this.negativeFillColorXform.render(c,d.negativeFillColor),this.axisColorXform.render(c,d.axisColor),c.closeNode()}createNewModel(c){let{attributes:d}=c;return{cfvo:[],minLength:i.toIntValue(d.minLength,0),maxLength:i.toIntValue(d.maxLength,100),border:i.toBoolValue(d.border,!1),gradient:i.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(d.axisPosition,"auto"),direction:i.toStringValue(d.direction,"leftToRight")}}onParserClose(c,d){const[,p]=c.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"xm:f"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(t,s,n){const i=t("../../base-xform"),a=t("../../composite-xform"),l=t("./cfvo-ext-xform"),u=t("./cf-icon-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(c,d){c.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0),custom:i.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(p=>{this.cfvoXform.render(c,p)}),d.icons&&d.icons.forEach((p,f)=>{p.iconId=f,this.cfIconXform.render(c,p)}),c.closeNode()}createNewModel(c){let{attributes:d}=c;return{cfvo:[],iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse,!1),showValue:i.toBoolValue(d.showValue,!0)}}onParserClose(c,d){const[,p]=c.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"xm:sqref"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(t,s,n){const i=t("../../base-xform"),a=t("../../composite-xform"),l=t("../../../../doc/range"),u=t("./databar-xform"),c=t("./ext-lst-ref-xform"),d=t("./formula-xform"),p=t("./color-scale-xform"),f=t("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:x}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:x}}};class y extends a{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,x){switch(x.type){case"expression":this.renderExpression(v,x);break;case"cellIs":this.renderCellIs(v,x);break;case"top10":this.renderTop10(v,x);break;case"aboveAverage":this.renderAboveAverage(v,x);break;case"dataBar":this.renderDataBar(v,x);break;case"colorScale":this.renderColorScale(v,x);break;case"iconSet":this.renderIconSet(v,x);break;case"containsText":this.renderText(v,x);break;case"timePeriod":this.renderTimePeriod(v,x)}}renderExpression(v,x){v.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(v,x.formulae[0]),v.closeNode()}renderCellIs(v,x){v.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(k=>{this.formulaXform.render(v,k)}),v.closeNode()}renderTop10(v,x){v.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:i.toBoolAttribute(x.percent,!1),bottom:i.toBoolAttribute(x.bottom,!1),rank:i.toIntValue(x.rank,10,!0)})}renderAboveAverage(v,x){v.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:i.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(v,x){v.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(v,x),this.extLstRefXform.render(v,x),v.closeNode()}renderColorScale(v,x){v.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(v,x),v.closeNode()}renderIconSet(v,x){y.isPrimitive(x)&&(v.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(v,x),v.closeNode())}renderText(v,x){v.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:i.toStringAttribute(x.operator,"containsText")});const k=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const A=new l(T.ref),{tl:L}=A;switch(T.operator){case"containsText":return`NOT(ISERROR(SEARCH("${T.text}",${L})))`;case"containsBlanks":return`LEN(TRIM(${L}))=0`;case"notContainsBlanks":return`LEN(TRIM(${L}))>0`;case"containsErrors":return`ISERROR(${L})`;case"notContainsErrors":return`NOT(ISERROR(${L}))`;default:return}})(x);k&&this.formulaXform.render(v,k),v.closeNode()}renderTimePeriod(v,x){v.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const k=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const A=new l(T.ref),{tl:L}=A;switch(T.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${L},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${L},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${L},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${L},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${L},1)=TODAY()-1`;case"today":return`FLOOR(${L},1)=TODAY()`;case"tomorrow":return`FLOOR(${L},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${L},1)<=6,FLOOR(${L},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0-1)),YEAR(${L})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${L})=MONTH(TODAY()),YEAR(${L})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0+1)),YEAR(${L})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);k&&this.formulaXform.render(v,k),v.closeNode()}createNewModel(v){let{attributes:x}=v;return{...g(x),dxfId:i.toIntValue(x.dxfId),priority:i.toIntValue(x.priority),timePeriod:x.timePeriod,percent:i.toBoolValue(x.percent),bottom:i.toBoolValue(x.bottom),rank:i.toIntValue(x.rank),aboveAverage:i.toBoolValue(x.aboveAverage)}}onParserClose(v,x){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}s.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"cfvo"}render(a,l){a.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(t,s,n){const i=t("../../composite-xform"),a=t("../../style/color-xform"),l=t("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"colorScale"}render(u,c){u.openNode(this.tag),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),c.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,c){this.model[u].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,s,n){const i=t("../../composite-xform"),a=t("./cf-rule-xform");s.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(l,u){u.rules.some(a.isPrimitive)&&(l.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(c=>{a.isPrimitive(c)&&(c.ref=u.ref,this.map.cfRule.render(l,c))}),l.closeNode())}createNewModel(l){let{attributes:u}=l;return{ref:u.sqref,rules:[]}}onParserClose(l,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,s,n){const i=t("../../base-xform"),a=t("./conditional-formatting-xform");s.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,u){let c=l.reduce((d,p)=>Math.max(d,...p.rules.map(f=>f.priority||0)),1);l.forEach(d=>{d.rules.forEach(p=>{p.priority||(p.priority=c++),p.style&&(p.dxfId=u.styles.addDxfStyle(p.style))})})}render(l,u){u.forEach(c=>{this.cfXform.render(l,c)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,u){l.forEach(c=>{c.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,s,n){const i=t("../../composite-xform"),a=t("../../style/color-xform"),l=t("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"dataBar"}render(u,c){u.openNode(this.tag),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,c.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,c){switch(u){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,s,n){const i=t("../../base-xform"),a=t("../../composite-xform");class l extends i{get tag(){return"x14:id"}render(d,p){d.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends a{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(d,p){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,p.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,p){this.model.x14Id=p.model}}s.exports=class extends a{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(c,d){c.openNode(this.tag),this.map.ext.render(c,d),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,s,n){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"formula"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(t,s,n){const i=t("../../base-xform"),a=t("../../composite-xform"),l=t("./cfvo-xform");s.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(u,c){u.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse),showValue:i.toBoolValue(c.showValue),cfvo:[]}}onParserClose(u,c){this.model[u].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,s,n){const i=t("../../../utils/utils"),a=t("../base-xform");s.exports=class extends a{get tag(){return"col"}prepare(l,u){const c=u.styles.addStyleModel(l.style||{});c&&(l.styleId=c)}render(l,u){l.openNode("col"),l.addAttribute("min",u.min),l.addAttribute("max",u.max),u.width&&l.addAttribute("width",u.width),u.styleId&&l.addAttribute("style",u.styleId),u.hidden&&l.addAttribute("hidden","1"),u.bestFit&&l.addAttribute("bestFit","1"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const u=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(u.styleId=parseInt(l.attributes.style,10)),i.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,u){l.styleId&&(l.style=u.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../../../utils/utils"),l=t("../../../utils/col-cache"),u=t("../base-xform"),c=t("../../../doc/range");function d(f,h,g,y){const m=h[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function p(f,h,g,y){const m=h[g];m!==void 0&&(f[g]=a.parseBoolean(m))}s.exports=class extends u{get tag(){return"dataValidations"}render(f,h){const g=(function(y){const m=i.map(y,(k,T)=>({address:T,dataValidation:k,marked:!1})).sort((k,T)=>i.strcmp(k.address,T.address)),v=i.keyBy(m,"address"),x=(k,T,A)=>{for(let L=0;L<T;L++){const q=l.encodeAddress(k.row+L,A);if(!y[q]||!i.isEqual(y[k.address],y[q]))return!1}return!0};return m.map(k=>{if(!k.marked){const T=l.decodeEx(k.address);if(T.dimensions)return v[T.dimensions].marked=!0,{...k.dataValidation,sqref:k.address};let A=1,L=l.encodeAddress(T.row+A,T.col);for(;y[L]&&i.isEqual(k.dataValidation,y[L]);)A++,L=l.encodeAddress(T.row+A,T.col);let q=1;for(;x(T,A,T.col+q);)q++;for(let D=0;D<A;D++)for(let $=0;$<q;$++)L=l.encodeAddress(T.row+D,T.col+$),v[L].marked=!0;if(A>1||q>1){const D=T.row+(A-1),$=T.col+(q-1);return{...k.dataValidation,sqref:`${k.address}:${l.encodeAddress(D,$)}`}}return{...k.dataValidation,sqref:k.address}}return null}).filter(Boolean)})(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(a.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&p(h,f.attributes,"allowBlank"),p(h,f.attributes,"showInputMessage"),p(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:d(h,f.attributes,"operator","between")}return d(h,f.attributes,"promptTitle"),d(h,f.attributes,"prompt"),d(h,f.attributes,"errorStyle"),d(h,f.attributes,"errorTitle"),d(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new c(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=a.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"dimension"}render(a,l){l&&a.leafNode("dimension",{ref:l})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"drawing"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,s,n){const i=t("../composite-xform"),a=t("./cf-ext/conditional-formattings-ext-xform");class l extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,d){this.conditionalFormattings.prepare(c.conditionalFormattings,d)}render(c,d){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,d.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model[c]=d.model}}s.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(u,c){this.ext.prepare(u,c)}hasContent(u){return this.ext.hasContent(u)}render(u,c){this.hasContent(c)&&(u.openNode("extLst"),this.ext.render(u,c),u.closeNode())}createNewModel(){return{}}onParserClose(u,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"headerFooter"}render(a,l){if(l){a.addRollback();let u=!1;a.openNode("headerFooter"),l.differentFirst&&(a.addAttribute("differentFirst","1"),u=!0),l.differentOddEven&&(a.addAttribute("differentOddEven","1"),u=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(a.leafNode("oddHeader",null,l.oddHeader),u=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(a.leafNode("oddFooter",null,l.oddFooter),u=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(a.leafNode("evenHeader",null,l.evenHeader),u=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(a.leafNode("evenFooter",null,l.evenFooter),u=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(a.leafNode("firstHeader",null,l.firstHeader),u=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(a.leafNode("firstFooter",null,l.firstFooter),u=!0),u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"hyperlink"}render(a,l){this.isInternalLink(l)?a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"mergeCell"}render(a,l){a.leafNode("mergeCell",{ref:l})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../../../doc/range"),l=t("../../../utils/col-cache"),u=t("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const d=`${c.master}:${c.address}`;this.merges[c.master]=new a(d)}}get mergeCells(){return i.map(this.merges,c=>c.range)}reconcile(c,d){i.each(c,p=>{const f=l.decode(p);for(let h=f.top;h<=f.bottom;h++){const g=d[h-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:l.encodeAddress(h,y)}}}})}getMasterAddress(c){const d=this.hash[c];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,s,n){const i=t("../base-xform"),a=l=>l!==void 0;s.exports=class extends i{get tag(){return"outlinePr"}render(l,u){return!(!u||!a(u.summaryBelow)&&!a(u.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:a(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:a(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:a(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:a(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"brk"}render(a,l){a.leafNode("brk",l)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../base-xform");s.exports=class extends a{get tag(){return"pageMargins"}render(l,u){if(u){const c={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};i.some(c,d=>d!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,l){return!(!l||!l.fitToPage)&&(a.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../base-xform");function l(p){return p?"1":void 0}function u(p){switch(p){case"overThenDown":return p;default:return}}function c(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function d(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}s.exports=class extends a{get tag(){return"pageSetup"}render(p,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:l(f.blackAndWhite),draft:l(f.draft),cellComments:c(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:l(f.firstPageNumber),usePrinterDefaults:l(f.usePrinterDefaults),copies:f.copies};i.some(h,g=>g!==void 0)&&p.leafNode(this.tag,h)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(f=p.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"picture"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../base-xform");function l(u){return u?"1":void 0}s.exports=class extends a{get tag(){return"printOptions"}render(u,c){if(c){const d={headings:l(c.showRowColHeaders),gridLines:l(c.showGridLines),horizontalCentered:l(c.horizontalCentered),verticalCentered:l(c.verticalCentered)};i.some(d,p=>p!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,s,n){const i=t("./page-breaks-xform"),a=t("../list-xform");s.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(l,u){if(u&&u.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,u.length),l.addAttribute("manualBreakCount",u.length));const{childXform:c}=this;u.forEach(d=>{c.render(l,d)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,s,n){const i=t("../base-xform"),a=t("../../../utils/utils"),l=t("./cell-xform");s.exports=class extends i{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(u,c){const d=c.styles.addStyleModel(u.style);d&&(u.styleId=d);const p=this.map.c;u.cells.forEach(f=>{p.prepare(f,c)})}render(u,c,d){u.openNode("row"),u.addAttribute("r",c.number),c.height&&(u.addAttribute("ht",c.height),u.addAttribute("customHeight","1")),c.hidden&&u.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&u.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(u.addAttribute("s",c.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&u.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&u.addAttribute("collapsed","1");const p=this.map.c;c.cells.forEach(f=>{p.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const c=u.attributes.spans?u.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:c[0],max:c[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),a.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),a.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),a.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,c){u.style=u.styleId?c.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(p=>{d.reconcile(p,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../base-xform");s.exports=class extends a{get tag(){return"sheetFormatPr"}render(l,u){if(u){const c={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(c.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(c.customHeight="1"),i.some(c,d=>d!==void 0)&&l.leafNode("sheetFormatPr",c)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,s,n){const i=t("../base-xform"),a=t("../style/color-xform"),l=t("./page-setup-properties-xform"),u=t("./outline-properties-xform");s.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new l,outlinePr:new u}}get tag(){return"sheetPr"}render(c,d){if(d){c.addRollback(),c.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(c,d.tabColor)||p,p=this.map.pageSetUpPr.render(c,d.pageSetup)||p,p=this.map.outlinePr.render(c,d.outlineProperties)||p,p?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../base-xform");function l(c,d){return c?d:void 0}function u(c,d){return c===d||void 0}s.exports=class extends a{get tag(){return"sheetProtection"}render(c,d){if(d){const p={sheet:l(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:l(d.formatCells,"0"),formatColumns:l(d.formatColumns,"0"),formatRows:l(d.formatRows,"0"),insertColumns:l(d.insertColumns,"0"),insertRows:l(d.insertRows,"0"),insertHyperlinks:l(d.insertHyperlinks,"0"),deleteColumns:l(d.deleteColumns,"0"),deleteRows:l(d.deleteRows,"0"),sort:l(d.sort,"0"),autoFilter:l(d.autoFilter,"0"),pivotTables:l(d.pivotTables,"0")};d.sheet&&(p.algorithmName=d.algorithmName,p.hashValue=d.hashValue,p.saltValue=d.saltValue,p.spinCount=d.spinCount,p.objects=l(d.objects===!1,"1"),p.scenarios=l(d.scenarios===!1,"1")),i.some(p,f=>f!==void 0)&&c.leafNode(this.tag,p)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:u(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(c.attributes.formatCells,"0"),formatColumns:u(c.attributes.formatColumns,"0"),formatRows:u(c.attributes.formatRows,"0"),insertColumns:u(c.attributes.insertColumns,"0"),insertRows:u(c.attributes.insertRows,"0"),insertHyperlinks:u(c.attributes.insertHyperlinks,"0"),deleteColumns:u(c.attributes.deleteColumns,"0"),deleteRows:u(c.attributes.deleteRows,"0"),sort:u(c.attributes.sort,"0"),autoFilter:u(c.attributes.autoFilter,"0"),pivotTables:u(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,s,n){const i=t("../../../utils/col-cache"),a=t("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends a{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,c){u.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let p,f,h,g;switch(d("rightToLeft","1",c.rightToLeft===!0),d("tabSelected","1",c.tabSelected),d("showRuler","0",c.showRuler===!1),d("showRowColHeaders","0",c.showRowColHeaders===!1),d("showGridLines","0",c.showGridLines===!1),d("zoomScale",c.zoomScale,c.zoomScale),d("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),d("view",c.style,c.style),c.state){case"frozen":f=c.xSplit||0,h=c.ySplit||0,p=c.topLeftCell||i.getAddress(h+1,f+1).address,g=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:p,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),u.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),u.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&u.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const c=u.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let c,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(c.activeCell=d.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(c.activeCell=d.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tablePart"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),u=t("../../rel-type"),c=t("./merges"),d=t("../base-xform"),p=t("../list-xform"),f=t("./row-xform"),h=t("./col-xform"),g=t("./dimension-xform"),y=t("./hyperlink-xform"),m=t("./merge-cell-xform"),v=t("./data-validations-xform"),x=t("./sheet-properties-xform"),k=t("./sheet-format-properties-xform"),T=t("./sheet-view-xform"),A=t("./sheet-protection-xform"),L=t("./page-margins-xform"),q=t("./page-setup-xform"),D=t("./print-options-xform"),$=t("./auto-filter-xform"),z=t("./picture-xform"),K=t("./drawing-xform"),W=t("./table-part-xform"),P=t("./row-breaks-xform"),R=t("./header-footer-xform"),C=t("./cf/conditional-formattings-xform"),_=t("./ext-lst-xform"),S=(N,M)=>{if(!M||!M.length)return N;if(!N||!N.length)return M;const O={},B={};return N.forEach(G=>{O[G.ref]=G,G.rules.forEach(Q=>{const{x14Id:re}=Q;re&&(B[re]=Q)})}),M.forEach(G=>{G.rules.forEach(Q=>{const re=B[Q.x14Id];re?((F,Y)=>{Object.keys(Y).forEach(V=>{const U=F[V],Z=Y[V];U===void 0&&Z!==void 0&&(F[V]=Z)})})(re,Q):O[G.ref]?O[G.ref].rules.push(Q):N.push({ref:G.ref,rules:[Q]})})}),N};class j extends d{constructor(M){super();const{maxRows:O,maxCols:B,ignoreNodes:G}=M||{};this.ignoreNodes=G||[],this.map={sheetPr:new x,dimension:new g,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new k,cols:new p({tag:"cols",count:!1,childXform:new h}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:B}),maxItems:O}),autoFilter:new $,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new P,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new L,dataValidations:new v,pageSetup:new q,headerFooter:new R,printOptions:new D,picture:new z,drawing:new K,sheetProtection:new A,tableParts:new p({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new C,extLst:new _}}prepare(M,O){O.merges=new c,M.hyperlinks=O.hyperlinks=[],M.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(M.cols,O),this.map.sheetData.prepare(M.rows,O),this.map.conditionalFormatting.prepare(M.conditionalFormattings,O),M.mergeCells=O.merges.mergeCells;const B=M.rels=[];function G(F){return"rId"+(F.length+1)}if(M.hyperlinks.forEach(F=>{const Y=G(B);F.rId=Y,B.push({Id:Y,Type:u.Hyperlink,Target:F.target,TargetMode:"External"})}),M.comments.length>0){const F={Id:G(B),Type:u.Comments,Target:`../comments${M.id}.xml`};B.push(F);const Y={Id:G(B),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${M.id}.vml`};B.push(Y),M.comments.forEach(V=>{V.refAddress=a.decodeAddress(V.ref)}),O.commentRefs.push({commentName:"comments"+M.id,vmlDrawing:"vmlDrawing"+M.id})}const Q=[];let re;M.media.forEach(F=>{if(F.type==="background"){const Y=G(B);re=O.media[F.imageId],B.push({Id:Y,Type:u.Image,Target:`../media/${re.name}.${re.extension}`}),M.background={rId:Y},M.image=O.media[F.imageId]}else if(F.type==="image"){let{drawing:Y}=M;re=O.media[F.imageId],Y||(Y=M.drawing={rId:G(B),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(Y),B.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let V=this.preImageId===F.imageId?Q[F.imageId]:Q[Y.rels.length];V||(V=G(Y.rels),Q[Y.rels.length]=V,Y.rels.push({Id:V,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const U={picture:{rId:V},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const Z=G(Y.rels);Q[Y.rels.length]=Z,U.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:Z},Y.rels.push({Id:Z,Type:u.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Y.anchors.push(U)}}),M.tables.forEach(F=>{const Y=G(B);F.rId=Y,B.push({Id:Y,Type:u.Table,Target:"../tables/"+F.target}),F.columns.forEach(V=>{const{style:U}=V;U&&(V.dxfId=O.styles.addDxfStyle(U))})}),this.map.extLst.prepare(M,O)}render(M,O){M.openXml(l.StdDocAttributes),M.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const B=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(B.defaultColWidth=O.properties.defaultColWidth);const G={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},Q=O.pageSetup&&O.pageSetup.margins,re={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},F=O.sheetProtection;this.map.sheetPr.render(M,G),this.map.dimension.render(M,O.dimensions),this.map.sheetViews.render(M,O.views),this.map.sheetFormatPr.render(M,B),this.map.cols.render(M,O.cols),this.map.sheetData.render(M,O.rows),this.map.sheetProtection.render(M,F),this.map.autoFilter.render(M,O.autoFilter),this.map.mergeCells.render(M,O.mergeCells),this.map.conditionalFormatting.render(M,O.conditionalFormattings),this.map.dataValidations.render(M,O.dataValidations),this.map.hyperlinks.render(M,O.hyperlinks),this.map.printOptions.render(M,re),this.map.pageMargins.render(M,Q),this.map.pageSetup.render(M,O.pageSetup),this.map.headerFooter.render(M,O.headerFooter),this.map.rowBreaks.render(M,O.rowBreaks),this.map.drawing.render(M,O.drawing),this.map.picture.render(M,O.background),this.map.tableParts.render(M,O.tables),this.map.extLst.render(M,O),O.rels&&O.rels.forEach(Y=>{Y.Type===u.VmlDrawing&&M.leafNode("legacyDrawing",{"r:id":Y.Id})}),M.closeNode()}parseOpen(M){return this.parser?(this.parser.parseOpen(M),!0):M.name==="worksheet"?(i.each(this.map,O=>{O.reset()}),!0):(this.map[M.name]&&!this.ignoreNodes.includes(M.name)&&(this.parser=this.map[M.name],this.parser.parseOpen(M)),!0)}parseText(M){this.parser&&this.parser.parseText(M)}parseClose(M){if(this.parser)return this.parser.parseClose(M)||(this.parser=void 0),!0;switch(M){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),Q=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Q},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(M,O){const B=(M.relationships||[]).reduce((Q,re)=>{if(Q[re.Id]=re,re.Type===u.Comments&&(M.comments=O.comments[re.Target].comments),re.Type===u.VmlDrawing&&M.comments&&M.comments.length){const F=O.vmlDrawings[re.Target].comments;M.comments.forEach((Y,V)=>{Y.note=Object.assign({},Y.note,F[V])})}return Q},{});if(O.commentsMap=(M.comments||[]).reduce((Q,re)=>(re.ref&&(Q[re.ref]=re),Q),{}),O.hyperlinkMap=(M.hyperlinks||[]).reduce((Q,re)=>(re.rId&&(Q[re.address]=B[re.rId].Target),Q),{}),O.formulae={},M.rows=M.rows&&M.rows.filter(Boolean)||[],M.rows.forEach(Q=>{Q.cells=Q.cells&&Q.cells.filter(Boolean)||[]}),this.map.cols.reconcile(M.cols,O),this.map.sheetData.reconcile(M.rows,O),this.map.conditionalFormatting.reconcile(M.conditionalFormattings,O),M.media=[],M.drawing){const Q=B[M.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Q){const re=Q[1];O.drawings[re].anchors.forEach(F=>{if(F.medium){const Y={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};M.media.push(Y)}})}}const G=M.background&&B[M.background.rId];if(G){const Q=G.Target.split("/media/")[1],re=O.mediaIndex&&O.mediaIndex[Q];re!==void 0&&M.media.push({type:"background",imageId:re})}M.tables=(M.tables||[]).map(Q=>{const re=B[Q.rId];return O.tables[re.Target]}),delete M.relationships,delete M.hyperlinks,delete M.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,l){l&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=a.parse||function(l){return new Date(l)}}render(a,l){l&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(l)):a.writeText(this._format(l)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,l){(l||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,l){l!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,s,n){const i=t("./base-xform"),a=t("../../utils/xml-stream");s.exports=class extends i{constructor(l){super(),this._model=l}render(l){if(!this._xml){const u=new a;(function c(d,p){d.openNode(p.tag,p.$),p.c&&p.c.forEach(f=>{c(d,f)}),p.t&&d.writeText(p.t),d.closeNode()})(u,this._model),this._xml=u.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,s,n){const i=t("./text-xform"),a=t("./rich-text-xform"),l=t("../base-xform");s.exports=class extends l{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(u,c){if(u.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:d}=this.map;c.richText.forEach(p=>{d.render(u,p)})}else c&&this.map.t.render(u,c.text);u.closeNode()}parseOpen(u){const{name:c}=u;return this.parser?(this.parser.parseOpen(u),!0):c===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,s,n){const i=t("./text-xform"),a=t("../style/font-xform"),l=t("../base-xform");class u extends l{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(u.FONT_OPTIONS))}render(d,p){p=p||this.model,d.openNode("r"),p.font&&this.fontXform.render(d,p.font),this.textXform.render(d,p.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,s,n){const i=t("./text-xform"),a=t("./rich-text-xform"),l=t("./phonetic-text-xform"),u=t("../base-xform");s.exports=class extends u{constructor(c){super(),this.model=c,this.map={r:new a,t:new i,rPh:new l}}get tag(){return"si"}render(c,d){c.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(p=>{this.map.r.render(c,p)}):this.map.t.render(c,""):d!=null&&this.map.t.render(c,d),c.closeNode()}parseOpen(c){const{name:d}=c;return this.parser?(this.parser.parseOpen(c),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("./shared-string-xform");s.exports=class extends a{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let c=this.hash[u];return c===void 0&&(c=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,c}addRichText(u){const c=this.sharedStringXform.toXml(u);let d=this.rich[c];return d===void 0&&(d=this.rich[c]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,c){c=c||this._values,u.openXml(i.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const d=this.sharedStringXform;c.values.forEach(p=>{d.render(u,p)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"t"}render(a,l){a.openNode("t"),/^\s|\n|\s$/.test(l)&&a.addAttribute("xml:space","preserve"),a.writeText(l),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,s,n){const i=t("../../../doc/enums"),a=t("../../../utils/utils"),l=t("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=a.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=a.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},c={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const p=Math.round(d);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(d){const p=a.validInt(d);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};s.exports=class extends l{get tag(){return"alignment"}render(d,p){d.addRollback(),d.openNode("alignment");let f=!1;function h(g,y){y&&(d.addAttribute(g,y),f=!0)}h("horizontal",u.horizontal(p.horizontal)),h("vertical",u.vertical(p.vertical)),h("wrapText",!!u.wrapText(p.wrapText)&&"1"),h("shrinkToFit",!!u.shrinkToFit(p.shrinkToFit)&&"1"),h("indent",u.indent(p.indent)),h("textRotation",c.toXml(p.textRotation)),h("readingOrder",u.readingOrder(p.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const p={};let f=!1;function h(g,y,m){g&&(p[y]=m,f=!0)}h(d.attributes.horizontal,"horizontal",d.attributes.horizontal),h(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),h(d.attributes.wrapText,"wrapText",a.parseBoolean(d.attributes.wrapText)),h(d.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(d.attributes.shrinkToFit)),h(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),h(d.attributes.textRotation,"textRotation",c.toModel(d.attributes.textRotation)),h(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,s,n){const i=t("../base-xform"),a=t("../../../utils/utils"),l=t("./color-xform");class u extends i{constructor(d){super(),this.name=d,this.map={color:new l}}get tag(){return this.name}render(d,p,f){const h=p&&p.color||f||this.defaultColor;d.openNode(this.name),p&&p.style&&(d.addAttribute("style",p.style),h&&this.map.color.render(d,h)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:p}=d.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,d)=>(c[d]=!0,c),{}),s.exports=class extends i{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(c,d){const{color:p}=d;function f(h,g){h&&!h.color&&d.color&&(h={...h,color:d.color}),g.render(c,h,p)}c.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&c.addAttribute("diagonalUp","1"),d.diagonal.down&&c.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const d=this.model={},p=function(f,h,g){h&&(g&&Object.assign(h,g),d[f]=h)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,l){return!!l&&(a.openNode(this.name),l.argb?a.addAttribute("rgb",l.argb):l.theme!==void 0?(a.addAttribute("theme",l.theme),l.tint!==void 0&&a.addAttribute("tint",l.tint)):l.indexed!==void 0?a.addAttribute("indexed",l.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,s,n){const i=t("../base-xform"),a=t("./alignment-xform"),l=t("./border-xform"),u=t("./fill-xform"),c=t("./font-xform"),d=t("./numfmt-xform"),p=t("./protection-xform");s.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new l,fill:new u,font:new c,numFmt:new d,protection:new p}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,s,n){const i=t("../base-xform"),a=t("./color-xform");class l extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={patternFill:new u,gradientFill:new c}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,f)=>(p[f]=!0,p),{}),d.StopXform=l,d.PatternFillXform=u,d.GradientFillXform=c,s.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(t,s,n){const i=t("./color-xform"),a=t("../simple/boolean-xform"),l=t("../simple/integer-xform"),u=t("../simple/string-xform"),c=t("./underline-xform"),d=t("../../../utils/under-dash"),p=t("../base-xform");class f extends p{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,x)=>{m[x].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,s,n){const i=t("../../../utils/under-dash"),a=t("../../defaultnumformats"),l=t("../base-xform"),u=(function(){const d={};return i.each(a,(p,f)=>{p.f&&(d[p.f]=parseInt(f,10))}),d})();class c extends l{constructor(p,f){super(),this.id=p,this.formatCode=f}get tag(){return"numFmt"}render(p,f){p.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(d){return u[d]},c.getDefaultFmtCode=function(d){return a[d]&&a[d].f},s.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,s,n){const i=t("../base-xform"),a={boolean:(l,u)=>l===void 0?u:l};s.exports=class extends i{get tag(){return"protection"}render(l,u){l.addRollback(),l.openNode("protection");let c=!1;function d(p,f){f!==void 0&&(l.addAttribute(p,f),c=!0)}d("locked",a.boolean(u.locked,!0)?void 0:"0"),d("hidden",a.boolean(u.hidden,!1)?"1":void 0),l.closeNode(),c?l.commit():l.rollback()}parseOpen(l){const u={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},c=!u.locked||u.hidden;this.model=c?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,s,n){const i=t("../base-xform"),a=t("./alignment-xform"),l=t("./protection-xform");s.exports=class extends i{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new a,protection:new l}}get tag(){return"xf"}render(u,c){u.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&u.addAttribute("xfId",c.xfId||0),c.numFmtId&&u.addAttribute("applyNumberFormat","1"),c.fontId&&u.addAttribute("applyFont","1"),c.fillId&&u.addAttribute("applyFill","1"),c.borderId&&u.addAttribute("applyBorder","1"),c.alignment&&u.addAttribute("applyAlignment","1"),c.protection&&u.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(u,c.alignment),c.protection&&this.map.protection.render(u,c.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,s,n){const i=t("../../../doc/enums"),a=t("../../../utils/xml-stream"),l=t("../base-xform"),u=t("../static-xform"),c=t("../list-xform"),d=t("./font-xform"),p=t("./fill-xform"),f=t("./border-xform"),h=t("./numfmt-xform"),g=t("./style-xform"),y=t("./dxf-xform");class m extends l{constructor(x){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new h}),fonts:new c({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new p}),borders:new c({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new d,fill:new p,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,k){k=k||this.model,x.openXml(a.StdDocAttributes),x.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(k.numFmts&&k.numFmts.length&&(x.openNode("numFmts",{count:k.numFmts.length}),k.numFmts.forEach(T=>{x.writeXml(T)}),x.closeNode()),k.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:k.fonts.length,"x14ac:knownFonts":1}),k.fonts.forEach(T=>{x.writeXml(T)}),x.closeNode(),x.openNode("fills",{count:k.fills.length}),k.fills.forEach(T=>{x.writeXml(T)}),x.closeNode(),x.openNode("borders",{count:k.borders.length}),k.borders.forEach(T=>{x.writeXml(T)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:k.styles.length}),k.styles.forEach(T=>{x.writeXml(T)}),x.closeNode()):(this.map.numFmts.render(x,k.numFmts),this.map.fonts.render(x,k.fonts),this.map.fills.render(x,k.fills),this.map.borders.render(x,k.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,k.styles)),m.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,k.dxfs),m.STATIC_XFORMS.tableStyles.render(x),m.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const k=(T,A)=>{A.model&&A.model.length&&(this.model[T]=A.model)};if(k("numFmts",this.map.numFmts),k("fonts",this.map.fonts),k("fills",this.map.fills),k("borders",this.map.borders),k("styles",this.map.cellXfs),k("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const T=this.index.numFmt;this.model.numFmts.forEach(A=>{T[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(x,k){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const T={};if(k=k||i.ValueType.Number,x.numFmt)T.numFmtId=this._addNumFmtStr(x.numFmt);else switch(k){case i.ValueType.Number:T.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:T.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(T.fontId=this._addFont(x.font)),x.border&&(T.borderId=this._addBorder(x.border)),x.fill&&(T.fillId=this._addFill(x.fill)),x.alignment&&(T.alignment=x.alignment),x.protection&&(T.protection=x.protection);const A=this._addStyle(T);return this.weakMap&&this.weakMap.set(x,A),A}getStyleModel(x){const k=this.model.styles[x];if(!k)return null;let T=this.index.model[x];if(T)return T;if(T=this.index.model[x]={},k.numFmtId){const L=this.index.numFmt[k.numFmtId]||h.getDefaultFmtCode(k.numFmtId);L&&(T.numFmt=L)}function A(L,q,D){if(D||D===0){const $=q[D];$&&(T[L]=$)}}return A("font",this.model.fonts,k.fontId),A("border",this.model.borders,k.borderId),A("fill",this.model.fills,k.fillId),k.alignment&&(T.alignment=k.alignment),k.protection&&(T.protection=k.protection),T}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const k=this.map.style.toXml(x);let T=this.index.style[k];return T===void 0&&(T=this.index.style[k]=this.model.styles.length,this.model.styles.push(k)),T}_addNumFmtStr(x){let k=h.getDefaultFmtId(x);if(k!==void 0||(k=this.index.numFmt[x],k!==void 0))return k;k=this.index.numFmt[x]=164+this.model.numFmts.length;const T=this.map.numFmt.toXml({id:k,formatCode:x});return this.model.numFmts.push(T),k}_addFont(x){const k=this.map.font.toXml(x);let T=this.index.font[k];return T===void 0&&(T=this.index.font[k]=this.model.fonts.length,this.model.fonts.push(k)),T}_addBorder(x){const k=this.map.border.toXml(x);let T=this.index.border[k];return T===void 0&&(T=this.index.border[k]=this.model.borders.length,this.model.borders.push(k)),T}_addFill(x){const k=this.map.fill.toXml(x);let T=this.index.fill[k];return T===void 0&&(T=this.index.fill[k]=this.model.fills.length,this.model.fills.push(k)),T}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,x){switch(x){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,s,n){const i=t("../base-xform");class a extends i{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,c){if((c=c||this.model)===!0)u.leafNode("u");else{const d=a.Attributes[c];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=a},{"../base-xform":32}],137:[function(t,s,n){const i=t("../base-xform"),a=t("./filter-column-xform");s.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((u,c)=>{this.map.filterColumn.prepare(u,{index:c})})}render(l,u){return l.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(c=>{this.map.filterColumn.render(l,c)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"customFilter"}render(a,l){a.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,s,n){const i=t("../base-xform"),a=t("../list-xform"),l=t("./custom-filter-xform"),u=t("./filter-xform");s.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(c,d){c.colId=d.index.toString()}render(c,d){return d.customFilters?(c.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(c,d.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:d}=c;switch(c.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"filter"}render(a,l){a.leafNode(this.tag,{val:l.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tableColumn"}prepare(a,l){a.id=l.index+1}render(a,l){return a.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,s,n){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,l){return a.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,s,n){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("../list-xform"),u=t("./auto-filter-xform"),c=t("./table-column-xform"),d=t("./table-style-info-xform");class p extends a{constructor(){super(),this.map={autoFilter:new u,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new d}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(i.StdDocAttributes),h.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:y}=h;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,s,n){(function(i,a){(function(){const l=t("fs"),u=t("jszip"),{PassThrough:c}=t("readable-stream"),d=t("../utils/zip-stream"),p=t("../utils/stream-buf"),f=t("../utils/utils"),h=t("../utils/xml-stream"),{bufferToString:g}=t("../utils/browser-buffer-decode"),y=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),x=t("./xform/core/relationships-xform"),k=t("./xform/core/content-types-xform"),T=t("./xform/core/app-xform"),A=t("./xform/book/workbook-xform"),L=t("./xform/sheet/worksheet-xform"),q=t("./xform/drawing/drawing-xform"),D=t("./xform/table/table-xform"),$=t("./xform/comment/comments-xform"),z=t("./xform/comment/vml-notes-xform"),K=t("./xml/theme1");class W{constructor(R){this.workbook=R}async readFile(R,C){if(!await f.fs.exists(R))throw new Error("File not found: "+R);const _=l.createReadStream(R);try{const S=await this.read(_,C);return _.close(),S}catch(S){throw _.close(),S}}parseRels(R){return new x().parseStream(R)}parseWorkbook(R){return new A().parseStream(R)}parseSharedStrings(R){return new v().parseStream(R)}reconcile(R,C){const _=new A,S=new L(C),j=new q,N=new D;_.reconcile(R);const M={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(G=>{const Q=R.drawings[G],re=R.drawingRels[G];re&&(M.rels=re.reduce((F,Y)=>(F[Y.Id]=Y,F),{}),(Q.anchors||[]).forEach(F=>{const Y=F.picture&&F.picture.hyperlinks;Y&&M.rels[Y.rId]&&(Y.hyperlink=M.rels[Y.rId].Target,delete Y.rId)}),j.reconcile(Q,M))});const O={styles:R.styles};Object.values(R.tables).forEach(G=>{N.reconcile(G,O)});const B={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(G=>{G.relationships=R.worksheetRels[G.sheetNo],S.reconcile(G,B)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,C,_,S,j){const N=new L(S),M=await N.parseStream(R);M.sheetNo=_,C.worksheetHash[j]=M,C.worksheets.push(M)}async _processCommentEntry(R,C,_){const S=new $,j=await S.parseStream(R);C.comments[`../${_}.xml`]=j}async _processTableEntry(R,C,_){const S=new D,j=await S.parseStream(R);C.tables[`../tables/${_}.xml`]=j}async _processWorksheetRelsEntry(R,C,_){const S=new x,j=await S.parseStream(R);C.worksheetRels[_]=j}async _processMediaEntry(R,C,_){const S=_.lastIndexOf(".");if(S>=1){const j=_.substr(S+1),N=_.substr(0,S);await new Promise((M,O)=>{const B=new p;B.on("finish",()=>{C.mediaIndex[_]=C.media.length,C.mediaIndex[N]=C.media.length;const G={type:"image",name:N,extension:j,buffer:B.toBuffer()};C.media.push(G),M()}),R.on("error",G=>{O(G)}),R.pipe(B)})}}async _processDrawingEntry(R,C,_){const S=new q,j=await S.parseStream(R);C.drawings[_]=j}async _processDrawingRelsEntry(R,C,_){const S=new x,j=await S.parseStream(R);C.drawingRels[_]=j}async _processVmlDrawingEntry(R,C,_){const S=new z,j=await S.parseStream(R);C.vmlDrawings[`../drawings/${_}.vml`]=j}async _processThemeEntry(R,C,_){await new Promise((S,j)=>{const N=new p;R.on("error",j),N.on("error",j),N.on("finish",()=>{C.themes[_]=N.read().toString(),S()}),R.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,C){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new c));const _=[];for await(const S of R)_.push(S);return this.load(a.concat(_),C)}async load(R,C){let _;_=C&&C.base64?a.from(R.toString(),"base64"):R;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await u.loadAsync(_);for(const N of Object.values(j.files))if(!N.dir){let M,O=N.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))M=new c,M.write(await N.async("nodebuffer"));else{let B;M=new c({writableObjectMode:!0,readableObjectMode:!0}),B=i.browser?g(await N.async("nodebuffer")):await N.async("string");const G=16384;for(let Q=0;Q<B.length;Q+=G)M.write(B.substring(Q,Q+G))}switch(M.end(),O){case"_rels/.rels":S.globalRels=await this.parseRels(M);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(M);S.sheets=B.sheets,S.definedNames=B.definedNames,S.views=B.views,S.properties=B.properties,S.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(M);break;case"xl/sharedStrings.xml":S.sharedStrings=new v,await S.sharedStrings.parseStream(M);break;case"xl/styles.xml":S.styles=new y,await S.styles.parseStream(M);break;case"docProps/app.xml":{const B=new T,G=await B.parseStream(M);S.company=G.company,S.manager=G.manager;break}case"docProps/core.xml":{const B=new m,G=await B.parseStream(M);Object.assign(S,G);break}default:{let B=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(M,S,B[1],C,O);break}if(B=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(M,S,B[1]);break}if(B=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(M,S,B[1]);break}if(B=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(M,S,B[1]);break}if(B=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(M,S,B[1]);break}if(B=O.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(M,S,B[1]);break}if(B=O.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(M,S,B[1]);break}if(B=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(M,S,B[1]);break}if(B=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(M,S,B[1]);break}}}}return this.reconcile(S,C),this.workbook.model=S,this.workbook}async addMedia(R,C){await Promise.all(C.media.map(async _=>{if(_.type==="image"){const S=`xl/media/${_.name}.${_.extension}`;if(_.filename){const j=await(function(N,M){return new Promise((O,B)=>{l.readFile(N,M,(G,Q)=>{G?B(G):O(Q)})})})(_.filename);return R.append(j,{name:S})}if(_.buffer)return R.append(_.buffer,{name:S});if(_.base64){const j=_.base64,N=j.substring(j.indexOf(",")+1);return R.append(N,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,C){const _=new q,S=new x;C.worksheets.forEach(j=>{const{drawing:N}=j;if(N){_.prepare(N,{});let M=_.toXml(N);R.append(M,{name:`xl/drawings/${N.name}.xml`}),M=S.toXml(N.rels),R.append(M,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(R,C){const _=new D;C.worksheets.forEach(S=>{const{tables:j}=S;j.forEach(N=>{_.prepare(N,{});const M=_.toXml(N);R.append(M,{name:"xl/tables/"+N.target})})})}async addContentTypes(R,C){const _=new k().toXml(C);R.append(_,{name:"[Content_Types].xml"})}async addApp(R,C){const _=new T().toXml(C);R.append(_,{name:"docProps/app.xml"})}async addCore(R,C){const _=new m;R.append(_.toXml(C),{name:"docProps/core.xml"})}async addThemes(R,C){const _=C.themes||{theme1:K};Object.keys(_).forEach(S=>{const j=_[S],N=`xl/theme/${S}.xml`;R.append(j,{name:N})})}async addOfficeRels(R){const C=new x().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(C,{name:"_rels/.rels"})}async addWorkbookRels(R,C){let _=1;const S=[{Id:"rId"+_++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&S.push({Id:"rId"+_++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(N=>{N.rId="rId"+_++,S.push({Id:N.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const j=new x().toXml(S);R.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,C){C.sharedStrings&&C.sharedStrings.count&&R.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,C){const{xml:_}=C.styles;_&&R.append(_,{name:"xl/styles.xml"})}async addWorkbook(R,C){const _=new A;R.append(_.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(R,C){const _=new L,S=new x,j=new $,N=new z;C.worksheets.forEach(M=>{let O=new h;_.render(O,M),R.append(O.xml,{name:`xl/worksheets/sheet${M.id}.xml`}),M.rels&&M.rels.length&&(O=new h,S.render(O,M.rels),R.append(O.xml,{name:`xl/worksheets/_rels/sheet${M.id}.xml.rels`})),M.comments.length>0&&(O=new h,j.render(O,M),R.append(O.xml,{name:`xl/comments${M.id}.xml`}),O=new h,N.render(O,M),R.append(O.xml,{name:`xl/drawings/vmlDrawing${M.id}.vml`}))})}_finalize(R){return new Promise((C,_)=>{R.on("finish",()=>{C(this)}),R.on("error",_),R.finalize()})}prepareModel(R,C){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,R.useStyles=C.useStyles===void 0||C.useStyles,R.sharedStrings=new v,R.styles=R.useStyles?new y(!0):new y.Mock;const _=new A,S=new L;_.prepare(R);const j={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};j.drawings=R.drawings=[],j.commentRefs=R.commentRefs=[];let N=0;R.tables=[],R.worksheets.forEach(M=>{M.tables.forEach(O=>{N++,O.target=`table${N}.xml`,O.id=N,R.tables.push(O)}),S.prepare(M,j)})}async write(R,C){C=C||{};const{model:_}=this.workbook,S=new d.ZipWriter(C.zip);return S.pipe(R),this.prepareModel(_,C),await this.addContentTypes(S,_),await this.addOfficeRels(S,_),await this.addWorkbookRels(S,_),await this.addWorksheets(S,_),await this.addSharedStrings(S,_),await this.addDrawings(S,_),await this.addTables(S,_),await Promise.all([this.addThemes(S,_),this.addStyles(S,_)]),await this.addMedia(S,_),await Promise.all([this.addApp(S,_),this.addCore(S,_)]),await this.addWorkbook(S,_),this._finalize(S)}writeFile(R,C){const _=l.createWriteStream(R);return new Promise((S,j)=>{_.on("finish",()=>{S()}),_.on("error",N=>{j(N)}),this.write(_,C).then(()=>{_.end()}).catch(N=>{j(N)})})}async writeBuffer(R){const C=new p;return await this.write(C,R),C.read()}}W.RelType=t("./rel-type"),s.exports=W}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,s,n){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,s,n){(function(i){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;const a=t("stream"),l=t("./formatter");class u extends a.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new l.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,p,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(h=!0,f(g)):(y&&y.forEach(m=>{this.push(i.from(m,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(d){this.rowFormatter.finish((p,f)=>p?d(p):(f&&f.forEach(h=>{this.push(i.from(h,"utf8"))}),d()))}}n.CsvFormatterStream=u}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,s,n){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;const a=i(t("lodash.isboolean")),l=i(t("lodash.isnil")),u=i(t("lodash.escaperegexp"));n.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const d=`[${c.delimiter}${u.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(c){this._headers=c}shouldQuote(c,d){const p=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(p)?p:Array.isArray(p)?p[c]:this._headers!==null&&p[this._headers[c]]}format(c,d,p){const f=(""+(l.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,p)?this.quoteField(f):f}quoteField(c){const{quote:d}=this.formatterOptions;return`${d}${c}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,s,n){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;const a=i(t("lodash.isfunction")),l=i(t("lodash.isequal")),u=t("./FieldFormatter"),c=t("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return c.isSyncTransform(f)?(h,g)=>{let y=null;try{y=f(h)}catch(m){return g(m)}return g(null,y)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!a.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,h){this.callTransformer(f,(g,y)=>{if(g)return h(g);if(!f)return h(null);const m=[];if(y){const{shouldFormatColumns:v,headers:x}=this.checkHeaders(y);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),v){const k=this.gatherColumns(y);m.push(this.formatColumns(k,!1))}}return h(null,m)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=d.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((h,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}n.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=t("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,s,n){(function(i){(function(){var a=Object.create?function(v,x,k,T){T===void 0&&(T=k),Object.defineProperty(v,T,{enumerable:!0,get:function(){return x[k]}})}:function(v,x,k,T){T===void 0&&(T=k),v[T]=x[k]},l=Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x},u=function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var k in v)k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)&&a(x,v,k);return l(x,v),x},c=function(v,x){for(var k in v)k==="default"||Object.prototype.hasOwnProperty.call(x,k)||a(x,v,k)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;const d=t("util"),p=t("stream"),f=u(t("fs")),h=t("./FormatterOptions"),g=t("./CsvFormatterStream");c(t("./types"),n);var y=t("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),n.format=v=>new g.CsvFormatterStream(new h.FormatterOptions(v)),n.write=(v,x)=>{const k=n.format(x),T=d.promisify((A,L)=>{k.write(A,void 0,L)});return v.reduce((A,L)=>A.then(()=>T(L)),Promise.resolve()).then(()=>k.end()).catch(A=>{k.emit("error",A)}),k},n.writeToStream=(v,x,k)=>n.write(x,k).pipe(v),n.writeToBuffer=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=[],T=new p.Writable({write(A,L,q){k.push(A),q()}});return new Promise((A,L)=>{T.on("error",L).on("finish",()=>A(i.concat(k))),n.write(v,x).pipe(T)})},n.writeToString=(v,x)=>n.writeToBuffer(v,x).then(k=>k.toString()),n.writeToPath=(v,x,k)=>{const T=f.createWriteStream(v,{encoding:"utf8"});return n.write(x,k).pipe(T)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=i=>i.length===1},{}],153:[function(t,s,n){(function(i){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;const a=t("string_decoder"),l=t("stream"),u=t("./transforms"),c=t("./parser");class d extends l.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new c.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new a.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),x=this.parse(v,!0);return this.processRows(x,y)}catch(m){return y(m)}}_flush(f){const h=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,h);return this.lines=g,y}processRows(f,h){const g=f.length,y=m=>{const v=T=>T?h(T):m%100!=0?y(m+1):void i(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const x=f[m];this.rowCount+=1,this.parsedRowCount+=1;const k=this.rowCount;return this.transformRow(x,(T,A)=>{if(T)return this.rowCount-=1,v(T);if(!A)return v(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,v)}else this.emit("data-invalid",A.row,k,A.reason);return v()})};y(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,y)=>g?h(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}n.CsvParserStream=d}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,s,n){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;const a=i(t("lodash.escaperegexp")),l=i(t("lodash.isnil"));n.ParserOptions=class{constructor(u){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,s,n){var i=Object.create?function(y,m,v,x){x===void 0&&(x=v),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,x){x===void 0&&(x=v),y[x]=m[v]},a=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},l=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&i(m,y,v);return a(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||i(m,y,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;const c=l(t("fs")),d=t("stream"),p=t("./ParserOptions"),f=t("./CsvParserStream");u(t("./types"),n);var h=t("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=t("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),n.parse=y=>new f.CsvParserStream(new p.ParserOptions(y)),n.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new p.ParserOptions(m))),n.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(y).pipe(new f.CsvParserStream(new p.ParserOptions(m)))},n.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new p.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;const i=t("./Scanner"),a=t("./RowParser"),l=t("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,p){const f=new i.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const p=[];let f=!0;for(;f;)f=this.parseRow(d,p);return{line:d.line,rows:p}}parseWithComments(d){const{parserOptions:p}=this,f=[];for(let h=d.nextCharacterToken;h!==null;h=d.nextCharacterToken)if(l.Token.isTokenComment(h,p)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,p){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(f)||p.push(f),!0)}}n.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;const i=t("./column"),a=t("./Token");n.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new i.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:u}=this,{hasMoreData:c}=l,d=l,p=[];let f=this.getStartToken(d,p);for(;f;){if(a.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&a.Token.isTokenCarriageReturn(f,u)&&c?null:(d.truncateToCursor(),p);if(!this.shouldSkipColumnParse(d,f,p)){const h=this.columnParser.parse(d);if(h===null)return null;p.push(h)}f=d.nextNonSpaceToken}return c?null:(d.truncateToCursor(),p)}getStartToken(l,u){const c=l.nextNonSpaceToken;return c!==null&&a.Token.isTokenDelimiter(c,this.parserOptions)?(u.push(""),l.nextNonSpaceToken):c}shouldSkipColumnParse(l,u,c){const{parserOptions:d}=this;if(a.Token.isTokenDelimiter(u,d)){l.advancePastToken(u);const p=l.nextCharacterToken;if(!l.hasMoreCharacters||p!==null&&a.Token.isTokenRowDelimiter(p)||p!==null&&a.Token.isTokenDelimiter(p,d))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;const i=t("./Token"),a=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(u)===-1)return null;const c=u.exec(l);if(c==null)return null;const d=c[1],p=this.cursor+(c.index||0);return new i.Token({token:d,startCursor:p,endCursor:p+d.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:u}=this;return u<=l?null:new i.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=a.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;const i=t("./NonQuotedColumnParser"),a=t("./QuotedColumnParser"),l=t("../Token");n.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new a.QuotedColumnParser(u),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:c}=u;return c!==null&&l.Token.isTokenQuote(c,this.parserOptions)?(u.advanceToToken(c),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");n.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:u}=this,c=[];let d=l.nextCharacterToken;for(;d&&!a.Token.isTokenDelimiter(d,u)&&!a.Token.isTokenRowDelimiter(d);d=l.nextCharacterToken)c.push(d.token),l.advancePastToken(d);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");n.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const u=l.cursor,{foundClosingQuote:c,col:d}=this.gatherDataBetweenQuotes(l);if(!c){if(l.advanceTo(u),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),d}gatherDataBetweenQuotes(l){const{parserOptions:u}=this;let c=!1,d=!1;const p=[];let f=l.nextCharacterToken;for(;!d&&f!==null;f=l.nextCharacterToken){const h=a.Token.isTokenQuote(f,u);if(!c&&h)c=!0;else if(c)if(a.Token.isTokenEscapeCharacter(f,u)){l.advancePastToken(f);const g=l.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,u)||a.Token.isTokenEscapeCharacter(g,u))?(p.push(g.token),f=g):h?d=!0:p.push(f.token)}else h?d=!0:p.push(f.token);l.advancePastToken(f)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:d}}checkForMalformedColumn(l){const{parserOptions:u}=this,{nextNonSpaceToken:c}=l;if(c){const d=a.Token.isTokenDelimiter(c,u),p=a.Token.isTokenRowDelimiter(c);if(!d&&!p){const f=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${c.token}'. at '${f}`)}l.advanceToToken(c)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=t("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var l=t("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var u=t("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var i=t("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=t("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var l=t("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var u=t("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return u.Token}});var c=t("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,s,n){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;const a=i(t("lodash.isundefined")),l=i(t("lodash.isfunction")),u=i(t("lodash.uniq")),c=i(t("lodash.groupby"));n.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):l.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,p){return this.shouldMapRow(d)?p(null,this.processRow(d)):p(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&d.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return p.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const p={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const y=f[g];if(!a.default(y)){const m=d[g];a.default(m)?p[y]="":p[y]=m}}return p}setHeaders(d){var p;const f=d.filter(h=>!!h);if(u.default(f).length!==f.length){const h=c.default(f),g=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,s,n){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;const a=i(t("lodash.isfunction")),l=t("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return l.isSyncTransform(d)?(p,f)=>{let h=null;try{h=d(p)}catch(g){return f(g)}return f(null,h)}:d}static createValidator(d){return l.isSyncValidate(d)?(p,f)=>{f(null,{row:p,isValid:d(p)})}:(p,f)=>{d(p,(h,g,y)=>h?f(h):f(null,g?{row:p,isValid:g,reason:y}:{row:p,isValid:!1,reason:y}))}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!a.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,p){return this.callTransformer(d,(f,h)=>f?p(f):h?this.callValidator(h,(g,y)=>g?p(g):y&&!y.isValid?p(null,{row:h,isValid:!1,reason:y.reason}):p(null,{row:h,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}callValidator(d,p){return this._rowValidator?this._rowValidator(d,p):p(null,{row:d,isValid:!0})}}n.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=t("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=i=>i.length===1,n.isSyncValidate=i=>i.length===1},{}],170:[function(t,s,n){const i=n;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,s,n){const i=t("./encoders"),a=t("./decoders"),l=t("inherits");function u(c,d){this.name=c,this.body=d,this.decoders={},this.encoders={}}n.define=function(c,d){return new u(c,d)},u.prototype._createNamed=function(c){const d=this.name;function p(f){this._initNamed(f,d)}return l(p,c),p.prototype._initNamed=function(f,h){c.call(this,f,h)},new p(this)},u.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(a[c])),this.decoders[c]},u.prototype.decode=function(c,d,p){return this._getDecoder(d).decode(c,p)},u.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(i[c])),this.encoders[c]},u.prototype.encode=function(c,d,p){return this._getEncoder(d).encode(c,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,s,n){const i=t("inherits"),a=t("../base/reporter").Reporter,l=t("safer-buffer").Buffer;function u(d,p){a.call(this,p),l.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function c(d,p){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return c.isEncoderBuffer(f)||(f=new c(f,p)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return p.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=l.byteLength(d);else{if(!l.isBuffer(d))return p.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}i(u,a),n.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&l.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},u.prototype.restore=function(d){const p=new u(this.base);return p.offset=d.offset,p.length=this.offset,this.offset=d.offset,a.prototype.restore.call(this,d.reporter),p},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,p){if(!(this.offset+d<=this.length))return this.error(p||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},n.EncoderBuffer=c,c.isEncoderBuffer=function(d){return d instanceof c?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},c.prototype.join=function(d,p){return d||(d=l.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,p),p+=f.length})):(typeof this.value=="number"?d[p]=this.value:typeof this.value=="string"?d.write(this.value,p):l.isBuffer(this.value)&&this.value.copy(d,p),p+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,s,n){const i=n;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,s,n){const i=t("../base/reporter").Reporter,a=t("../base/buffer").EncoderBuffer,l=t("../base/buffer").DecoderBuffer,u=t("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function p(h,g,y){const m={};this._baseState=m,m.name=y,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}s.exports=p;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const h=this._baseState,g={};f.forEach((function(m){g[m]=h[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},p.prototype._wrap=function(){const h=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return h.children.push(y),y[g].apply(y,arguments)}}),this)},p.prototype._init=function(h){const g=this._baseState;u(g.parent===null),h.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(h){const g=this._baseState,y=h.filter((function(m){return m instanceof this.constructor}),this);h=h.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),h.length!==0&&(u(g.args===null),g.args=h,g.reverseArgs=h.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(x){x==(0|x)&&(x|=0);const k=m[x];v[k]=x})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){p.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}})),c.forEach((function(h){p.prototype[h]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=h,this._useArgs(y),this}})),p.prototype.use=function(h){u(h);const g=this._baseState;return u(g.use===null),g.use=h,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(h){const g=this._baseState;return u(g.default===null),g.default=h,g.optional=!0,this},p.prototype.explicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=h,this},p.prototype.implicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=h,this},p.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},p.prototype.key=function(h){const g=this._baseState;return u(g.key===null),g.key=h,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(h){const g=this._baseState;return u(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map((function(y){return h[y]}))),this},p.prototype.contains=function(h){const g=this._baseState;return u(g.use===null),g.contains=h,this},p.prototype._decode=function(h,g){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,g));let m,v=y.default,x=!0,k=null;if(y.key!==null&&(k=h.enterKey(y.key)),y.optional){let T=null;if(y.explicit!==null?T=y.explicit:y.implicit!==null?T=y.implicit:y.tag!==null&&(T=y.tag),T!==null||y.any){if(x=this._peekTag(h,T,y.any),h.isError(x))return x}else{const A=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g),x=!0}catch{x=!1}h.restore(A)}}if(y.obj&&x&&(m=h.enterObject()),x){if(y.explicit!==null){const A=this._decodeTag(h,y.explicit);if(h.isError(A))return A;h=A}const T=h.offset;if(y.use===null&&y.choice===null){let A;y.any&&(A=h.save());const L=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(L))return L;y.any?v=h.raw(A):h=L}if(g&&g.track&&y.tag!==null&&g.track(h.path(),T,h.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g)),h.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(A){A._decode(h,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const A=new l(v);v=this._getUse(y.contains,h._reporterState.obj)._decode(A,g)}}return y.obj&&x&&(v=h.leaveObject(m)),y.key===null||v===null&&x!==!0?k!==null&&h.exitKey(k):h.leaveKey(k,y.key,v),v},p.prototype._decodeGeneric=function(h,g,y){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],y):/str$/.test(h)?this._decodeStr(g,h,y):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):h==="objid"?this._decodeObjid(g,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(g,h,y):h==="null_"?this._decodeNull(g,y):h==="bool"?this._decodeBool(g,y):h==="objDesc"?this._decodeStr(g,h,y):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+h)},p.prototype._getUse=function(h,g){const y=this._baseState;return y.useDecoder=this._use(h,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},p.prototype._decodeChoice=function(h,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(x){const k=h.save(),T=y.choice[x];try{const A=T._decode(h,g);if(h.isError(A))return!1;m={type:x,value:A},v=!0}catch{return h.restore(k),!1}return!0}),this),v?m:h.error("Choice not matched")},p.prototype._createEncoderBuffer=function(h){return new a(h,this.reporter)},p.prototype._encode=function(h,g,y){const m=this._baseState;if(m.default!==null&&m.default===h)return;const v=this._encodeValue(h,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},p.prototype._encodeValue=function(h,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new i);let v=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let x=null,k=!1;if(m.any)v=this._createEncoderBuffer(h);else if(m.choice)v=this._encodeChoice(h,g);else if(m.contains)x=this._getUse(m.contains,y)._encode(h,g),k=!0;else if(m.children)x=m.children.map((function(T){if(T._baseState.tag==="null_")return T._encode(null,g,h);if(T._baseState.key===null)return g.error("Child should have a key");const A=g.enterKey(T._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const L=T._encode(h[T._baseState.key],g,h);return g.leaveKey(A),L}),this).filter((function(T){return T})),x=this._createEncoderBuffer(x);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,x=this._createEncoderBuffer(h.map((function(A){const L=this._baseState;return this._getUse(L.args[0],h)._encode(A,g)}),T))}else m.use!==null?v=this._getUse(m.use,y)._encode(h,g):(x=this._encodePrimitive(m.tag,h),k=!0);if(!m.any&&m.choice===null){const T=m.implicit!==null?m.implicit:m.tag,A=m.implicit===null?"universal":"context";T===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(T,k,A,x))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(h,g){const y=this._baseState,m=y.choice[h.type];return m||u(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(h.value,g)},p.prototype._encodePrimitive=function(h,g){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},p.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},p.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,s,n){const i=t("inherits");function a(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function l(u,c){this.path=u,this.rethrow(c)}n.Reporter=a,a.prototype.isError=function(u){return u instanceof l},a.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},a.prototype.restore=function(u){const c=this._reporterState;c.obj=u.obj,c.path=c.path.slice(0,u.pathLen)},a.prototype.enterKey=function(u){return this._reporterState.path.push(u)},a.prototype.exitKey=function(u){const c=this._reporterState;c.path=c.path.slice(0,u-1)},a.prototype.leaveKey=function(u,c,d){const p=this._reporterState;this.exitKey(u),p.obj!==null&&(p.obj[c]=d)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const u=this._reporterState,c=u.obj;return u.obj={},c},a.prototype.leaveObject=function(u){const c=this._reporterState,d=c.obj;return c.obj=u,d},a.prototype.error=function(u){let c;const d=this._reporterState,p=u instanceof l;if(c=p?u:new l(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw c;return p||d.errors.push(c),c},a.prototype.wrapResult=function(u){const c=this._reporterState;return c.options.partial?{result:this.isError(u)?null:u,errors:c.errors}:u},i(l,Error),l.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(t,s,n){function i(a){const l={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const c=a[u];l[c]=u})),l}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=i(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=i(n.tag)},{}],177:[function(t,s,n){const i=n;i._reverse=function(a){const l={};return Object.keys(a).forEach((function(u){(0|u)==u&&(u|=0);const c=a[u];l[c]=u})),l},i.der=t("./der")},{"./der":176}],178:[function(t,s,n){const i=t("inherits"),a=t("bn.js"),l=t("../base/buffer").DecoderBuffer,u=t("../base/node"),c=t("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new p,this.tree._init(g.body)}function p(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=c.tagClass[m>>6],x=(32&m)==0;if((31&m)==31){let k=m;for(m=0;(128&k)==128;){if(k=g.readUInt8(y),g.isError(k))return k;m<<=7,m|=127&k}}else m&=31;return{cls:v,primitive:x,tag:m,tagStr:c.tag[m]}}function h(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const x=127&v;if(x>4)return g.error("length octect is too long");v=0;for(let k=0;k<x;k++){v<<=8;const T=g.readUInt8(m);if(g.isError(T))return T;v|=T}return v}s.exports=d,d.prototype.decode=function(g,y){return l.isDecoderBuffer(g)||(g=new l(g,y)),this.tree._decode(g,y)},i(p,u),p.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),x=f(g,'Failed to peek tag: "'+y+'"');return g.isError(x)?x:(g.restore(v),x.tag===y||x.tagStr===y||x.tagStr+"of"===y||m)},p.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let x=h(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(x))return x;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||x!==null)return g.skip(x,'Failed to match body of: "'+y+'"');const k=g.save(),T=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(T)?T:(x=g.offset-k.offset,g.restore(k),g.skip(x,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=h(g,m.primitive,y);if(g.isError(v))return v;let x;if(x=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(x))return x;if(m.tagStr==="end")break}},p.prototype._decodeList=function(g,y,m,v){const x=[];for(;!g.isEmpty();){const k=this._peekTag(g,"end");if(g.isError(k))return k;const T=m.decode(g,"der",v);if(g.isError(T)&&k)break;x.push(T)}return x},p.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let x=0;x<m.length/2;x++)v+=String.fromCharCode(m.readUInt16BE(2*x));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},p.prototype._decodeObjid=function(g,y,m){let v;const x=[];let k=0,T=0;for(;!g.isEmpty();)T=g.readUInt8(),k<<=7,k|=127&T,(128&T)==0&&(x.push(k),k=0);128&T&&x.push(k);const A=x[0]/40|0,L=x[0]%40;if(v=m?x:[A,L].concat(x.slice(1)),y){let q=y[v.join(" ")];q===void 0&&(q=y[v.join(".")]),q!==void 0&&(v=q)}return v},p.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,x,k,T,A,L;if(y==="gentime")v=0|m.slice(0,4),x=0|m.slice(4,6),k=0|m.slice(6,8),T=0|m.slice(8,10),A=0|m.slice(10,12),L=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),x=0|m.slice(2,4),k=0|m.slice(4,6),T=0|m.slice(6,8),A=0|m.slice(8,10),L=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,x-1,k,T,A,L,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},p.prototype._decodeInt=function(g,y){const m=g.raw();let v=new a(m);return y&&(v=y[v.toString(10)]||v),v},p.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,s,n){const i=n;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,s,n){const i=t("inherits"),a=t("safer-buffer").Buffer,l=t("./der");function u(c){l.call(this,c),this.enc="pem"}i(u,l),s.exports=u,u.prototype.decode=function(c,d){const p=c.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let x=0;x<p.length;x++){const k=p[x].match(h);if(k!==null&&k[2]===f){if(g!==-1){if(k[1]!=="END")break;y=x;break}if(k[1]!=="BEGIN")break;g=x}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=p.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(m,"base64");return l.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,s,n){const i=t("inherits"),a=t("safer-buffer").Buffer,l=t("../base/node"),u=t("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){l.call(this,"der",f)}function p(f){return f<10?"0"+f:f}s.exports=c,c.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},i(d,l),d.prototype._encodeComposite=function(f,h,g,y){const m=(function(k,T,A,L){let q;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),u.tagByName.hasOwnProperty(k))q=u.tagByName[k];else{if(typeof k!="number"||(0|k)!==k)return L.error("Unknown tag: "+k);q=k}return q>=31?L.error("Multi-octet tag encoding unsupported"):(T||(q|=32),q|=u.tagClassByName[A||"universal"]<<6,q)})(f,h,g,this.reporter);if(y.length<128){const k=a.alloc(2);return k[0]=m,k[1]=y.length,this._createEncoderBuffer([k,y])}let v=1;for(let k=y.length;k>=256;k>>=8)v++;const x=a.alloc(2+v);x[0]=m,x[1]=128|v;for(let k=1+v,T=y.length;T>0;k--,T>>=8)x[k]=255&T;return this._createEncoderBuffer([x,y])},d.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=a.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},d.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let x=0;x<f.length;x++)f[x]|=0}else if(Array.isArray(f)){f=f.slice();for(let x=0;x<f.length;x++)f[x]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let x=0;x<f.length;x++){let k=f[x];for(y++;k>=128;k>>=7)y++}const m=a.alloc(y);let v=m.length-1;for(let x=f.length-1;x>=0;x--){let k=f[x];for(m[v--]=127&k;(k>>=7)>0;)m[v--]=128|127&k}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,h){let g;const y=new Date(f);return h==="gentime"?g=[p(y.getUTCFullYear()),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[p(y.getUTCFullYear()%100),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!a.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=a.from(m)}if(a.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=a.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(a.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,h,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,s,n){const i=n;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,s,n){const i=t("inherits"),a=t("./der");function l(u){a.call(this,u),this.enc="pem"}i(l,a),s.exports=l,l.prototype.encode=function(u,c){const d=a.prototype.encode.call(this,u).toString("base64"),p=["-----BEGIN "+c.label+"-----"];for(let f=0;f<d.length;f+=64)p.push(d.slice(f,f+64));return p.push("-----END "+c.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,s,n){(function(i,a){function l(P,R){if(!P)throw new Error(R||"Assertion failed")}function u(P,R){P.super_=R;var C=function(){};C.prototype=R.prototype,P.prototype=new C,P.prototype.constructor=P}function c(P,R,C){if(c.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&(R!=="le"&&R!=="be"||(C=R,R=10),this._init(P||0,R||10,C||"be"))}var d;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function p(P,R){var C=P.charCodeAt(R);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function f(P,R,C){var _=p(P,C);return C-1>=R&&(_|=p(P,C-1)<<4),_}function h(P,R,C,_){for(var S=0,j=Math.min(P.length,C),N=R;N<j;N++){var M=P.charCodeAt(N)-48;S*=_,S+=M>=49?M-49+10:M>=17?M-17+10:M}return S}c.isBN=function(P){return P instanceof c||P!==null&&typeof P=="object"&&P.constructor.wordSize===c.wordSize&&Array.isArray(P.words)},c.max=function(P,R){return P.cmp(R)>0?P:R},c.min=function(P,R){return P.cmp(R)<0?P:R},c.prototype._init=function(P,R,C){if(typeof P=="number")return this._initNumber(P,R,C);if(typeof P=="object")return this._initArray(P,R,C);R==="hex"&&(R=16),l(R===(0|R)&&R>=2&&R<=36);var _=0;(P=P.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<P.length&&(R===16?this._parseHex(P,_,C):(this._parseBase(P,R,_),C==="le"&&this._initArray(this.toArray(),R,C)))},c.prototype._initNumber=function(P,R,C){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(l(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),R,C)},c.prototype._initArray=function(P,R,C){if(l(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,j,N=0;if(C==="be")for(_=P.length-1,S=0;_>=0;_-=3)j=P[_]|P[_-1]<<8|P[_-2]<<16,this.words[S]|=j<<N&67108863,this.words[S+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if(C==="le")for(_=0,S=0;_<P.length;_+=3)j=P[_]|P[_+1]<<8|P[_+2]<<16,this.words[S]|=j<<N&67108863,this.words[S+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},c.prototype._parseHex=function(P,R,C){this.length=Math.ceil((P.length-R)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,j=0,N=0;if(C==="be")for(_=P.length-1;_>=R;_-=2)S=f(P,R,_)<<j,this.words[N]|=67108863&S,j>=18?(j-=18,N+=1,this.words[N]|=S>>>26):j+=8;else for(_=(P.length-R)%2==0?R+1:R;_<P.length;_+=2)S=f(P,R,_)<<j,this.words[N]|=67108863&S,j>=18?(j-=18,N+=1,this.words[N]|=S>>>26):j+=8;this.strip()},c.prototype._parseBase=function(P,R,C){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=R)_++;_--,S=S/R|0;for(var j=P.length-C,N=j%_,M=Math.min(j,j-N)+C,O=0,B=C;B<M;B+=_)O=h(P,B,B+_,R),this.imuln(S),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(N!==0){var G=1;for(O=h(P,B,P.length,R),B=0;B<N;B++)G*=R;this.imuln(G),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},c.prototype.copy=function(P){P.words=new Array(this.length);for(var R=0;R<this.length;R++)P.words[R]=this.words[R];P.length=this.length,P.negative=this.negative,P.red=this.red},c.prototype.clone=function(){var P=new c(null);return this.copy(P),P},c.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(P,R,C){C.negative=R.negative^P.negative;var _=P.length+R.length|0;C.length=_,_=_-1|0;var S=0|P.words[0],j=0|R.words[0],N=S*j,M=67108863&N,O=N/67108864|0;C.words[0]=M;for(var B=1;B<_;B++){for(var G=O>>>26,Q=67108863&O,re=Math.min(B,R.length-1),F=Math.max(0,B-P.length+1);F<=re;F++){var Y=B-F|0;G+=(N=(S=0|P.words[Y])*(j=0|R.words[F])+Q)/67108864|0,Q=67108863&N}C.words[B]=0|Q,O=0|G}return O!==0?C.words[B]=0|O:C.length--,C.strip()}c.prototype.toString=function(P,R){var C;if(R=0|R||1,(P=P||10)===16||P==="hex"){C="";for(var _=0,S=0,j=0;j<this.length;j++){var N=this.words[j],M=(16777215&(N<<_|S)).toString(16);C=(S=N>>>24-_&16777215)!==0||j!==this.length-1?g[6-M.length]+M+C:M+C,(_+=2)>=26&&(_-=26,j--)}for(S!==0&&(C=S.toString(16)+C);C.length%R!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(P===(0|P)&&P>=2&&P<=36){var O=y[P],B=m[P];C="";var G=this.clone();for(G.negative=0;!G.isZero();){var Q=G.modn(B).toString(P);C=(G=G.idivn(B)).isZero()?Q+C:g[O-Q.length]+Q+C}for(this.isZero()&&(C="0"+C);C.length%R!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}l(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=67108864*this.words[1]:this.length===3&&this.words[2]===1?P+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(P,R){return l(d!==void 0),this.toArrayLike(d,P,R)},c.prototype.toArray=function(P,R){return this.toArrayLike(Array,P,R)},c.prototype.toArrayLike=function(P,R,C){var _=this.byteLength(),S=C||Math.max(1,_);l(_<=S,"byte array longer than desired length"),l(S>0,"Requested array length <= 0"),this.strip();var j,N,M=R==="le",O=new P(S),B=this.clone();if(M){for(N=0;!B.isZero();N++)j=B.andln(255),B.iushrn(8),O[N]=j;for(;N<S;N++)O[N]=0}else{for(N=0;N<S-_;N++)O[N]=0;for(N=0;!B.isZero();N++)j=B.andln(255),B.iushrn(8),O[S-N-1]=j}return O},Math.clz32?c.prototype._countBits=function(P){return 32-Math.clz32(P)}:c.prototype._countBits=function(P){var R=P,C=0;return R>=4096&&(C+=13,R>>>=13),R>=64&&(C+=7,R>>>=7),R>=8&&(C+=4,R>>>=4),R>=2&&(C+=2,R>>>=2),C+R},c.prototype._zeroBits=function(P){if(P===0)return 26;var R=P,C=0;return(8191&R)==0&&(C+=13,R>>>=13),(127&R)==0&&(C+=7,R>>>=7),(15&R)==0&&(C+=4,R>>>=4),(3&R)==0&&(C+=2,R>>>=2),(1&R)==0&&C++,C},c.prototype.bitLength=function(){var P=this.words[this.length-1],R=this._countBits(P);return 26*(this.length-1)+R},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,R=0;R<this.length;R++){var C=this._zeroBits(this.words[R]);if(P+=C,C!==26)break}return P},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},c.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var R=0;R<P.length;R++)this.words[R]=this.words[R]|P.words[R];return this.strip()},c.prototype.ior=function(P){return l((this.negative|P.negative)==0),this.iuor(P)},c.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},c.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},c.prototype.iuand=function(P){var R;R=this.length>P.length?P:this;for(var C=0;C<R.length;C++)this.words[C]=this.words[C]&P.words[C];return this.length=R.length,this.strip()},c.prototype.iand=function(P){return l((this.negative|P.negative)==0),this.iuand(P)},c.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},c.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},c.prototype.iuxor=function(P){var R,C;this.length>P.length?(R=this,C=P):(R=P,C=this);for(var _=0;_<C.length;_++)this.words[_]=R.words[_]^C.words[_];if(this!==R)for(;_<R.length;_++)this.words[_]=R.words[_];return this.length=R.length,this.strip()},c.prototype.ixor=function(P){return l((this.negative|P.negative)==0),this.iuxor(P)},c.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},c.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},c.prototype.inotn=function(P){l(typeof P=="number"&&P>=0);var R=0|Math.ceil(P/26),C=P%26;this._expand(R),C>0&&R--;for(var _=0;_<R;_++)this.words[_]=67108863&~this.words[_];return C>0&&(this.words[_]=~this.words[_]&67108863>>26-C),this.strip()},c.prototype.notn=function(P){return this.clone().inotn(P)},c.prototype.setn=function(P,R){l(typeof P=="number"&&P>=0);var C=P/26|0,_=P%26;return this._expand(C+1),this.words[C]=R?this.words[C]|1<<_:this.words[C]&~(1<<_),this.strip()},c.prototype.iadd=function(P){var R,C,_;if(this.negative!==0&&P.negative===0)return this.negative=0,R=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,R=this.isub(P),P.negative=1,R._normSign();this.length>P.length?(C=this,_=P):(C=P,_=this);for(var S=0,j=0;j<_.length;j++)R=(0|C.words[j])+(0|_.words[j])+S,this.words[j]=67108863&R,S=R>>>26;for(;S!==0&&j<C.length;j++)R=(0|C.words[j])+S,this.words[j]=67108863&R,S=R>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;j<C.length;j++)this.words[j]=C.words[j];return this},c.prototype.add=function(P){var R;return P.negative!==0&&this.negative===0?(P.negative=0,R=this.sub(P),P.negative^=1,R):P.negative===0&&this.negative!==0?(this.negative=0,R=P.sub(this),this.negative=1,R):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},c.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var R=this.iadd(P);return P.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var C,_,S=this.cmp(P);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,_=P):(C=P,_=this);for(var j=0,N=0;N<_.length;N++)j=(R=(0|C.words[N])-(0|_.words[N])+j)>>26,this.words[N]=67108863&R;for(;j!==0&&N<C.length;N++)j=(R=(0|C.words[N])+j)>>26,this.words[N]=67108863&R;if(j===0&&N<C.length&&C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this.length=Math.max(this.length,N),C!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(P){return this.clone().isub(P)};var x=function(P,R,C){var _,S,j,N=P.words,M=R.words,O=C.words,B=0,G=0|N[0],Q=8191&G,re=G>>>13,F=0|N[1],Y=8191&F,V=F>>>13,U=0|N[2],Z=8191&U,ie=U>>>13,me=0|N[3],ce=8191&me,ye=me>>>13,ee=0|N[4],oe=8191&ee,ne=ee>>>13,fe=0|N[5],le=8191&fe,ae=fe>>>13,te=0|N[6],se=8191&te,de=te>>>13,ge=0|N[7],ke=8191&ge,Ee=ge>>>13,Oe=0|N[8],Le=8191&Oe,Ge=Oe>>>13,Qe=0|N[9],yt=8191&Qe,it=Qe>>>13,et=0|M[0],xe=8191&et,be=et>>>13,Ve=0|M[1],Xe=8191&Ve,Mt=Ve>>>13,Xt=0|M[2],wt=8191&Xt,Jt=Xt>>>13,bt=0|M[3],It=8191&bt,St=bt>>>13,Sr=0|M[4],Ft=8191&Sr,jr=Sr>>>13,or=0|M[5],Ht=8191&or,Nr=or>>>13,gr=0|M[6],rr=8191&gr,Ce=gr>>>13,Me=0|M[7],We=8191&Me,st=Me>>>13,$t=0|M[8],ut=8191&$t,Ot=$t>>>13,Kt=0|M[9],Tt=8191&Kt,nr=Kt>>>13;C.negative=P.negative^R.negative,C.length=19;var Qt=(B+(_=Math.imul(Q,xe))|0)+((8191&(S=(S=Math.imul(Q,be))+Math.imul(re,xe)|0))<<13)|0;B=((j=Math.imul(re,be))+(S>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,_=Math.imul(Y,xe),S=(S=Math.imul(Y,be))+Math.imul(V,xe)|0,j=Math.imul(V,be);var ar=(B+(_=_+Math.imul(Q,Xe)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Mt)|0)+Math.imul(re,Xe)|0))<<13)|0;B=((j=j+Math.imul(re,Mt)|0)+(S>>>13)|0)+(ar>>>26)|0,ar&=67108863,_=Math.imul(Z,xe),S=(S=Math.imul(Z,be))+Math.imul(ie,xe)|0,j=Math.imul(ie,be),_=_+Math.imul(Y,Xe)|0,S=(S=S+Math.imul(Y,Mt)|0)+Math.imul(V,Xe)|0,j=j+Math.imul(V,Mt)|0;var mr=(B+(_=_+Math.imul(Q,wt)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Jt)|0)+Math.imul(re,wt)|0))<<13)|0;B=((j=j+Math.imul(re,Jt)|0)+(S>>>13)|0)+(mr>>>26)|0,mr&=67108863,_=Math.imul(ce,xe),S=(S=Math.imul(ce,be))+Math.imul(ye,xe)|0,j=Math.imul(ye,be),_=_+Math.imul(Z,Xe)|0,S=(S=S+Math.imul(Z,Mt)|0)+Math.imul(ie,Xe)|0,j=j+Math.imul(ie,Mt)|0,_=_+Math.imul(Y,wt)|0,S=(S=S+Math.imul(Y,Jt)|0)+Math.imul(V,wt)|0,j=j+Math.imul(V,Jt)|0;var en=(B+(_=_+Math.imul(Q,It)|0)|0)+((8191&(S=(S=S+Math.imul(Q,St)|0)+Math.imul(re,It)|0))<<13)|0;B=((j=j+Math.imul(re,St)|0)+(S>>>13)|0)+(en>>>26)|0,en&=67108863,_=Math.imul(oe,xe),S=(S=Math.imul(oe,be))+Math.imul(ne,xe)|0,j=Math.imul(ne,be),_=_+Math.imul(ce,Xe)|0,S=(S=S+Math.imul(ce,Mt)|0)+Math.imul(ye,Xe)|0,j=j+Math.imul(ye,Mt)|0,_=_+Math.imul(Z,wt)|0,S=(S=S+Math.imul(Z,Jt)|0)+Math.imul(ie,wt)|0,j=j+Math.imul(ie,Jt)|0,_=_+Math.imul(Y,It)|0,S=(S=S+Math.imul(Y,St)|0)+Math.imul(V,It)|0,j=j+Math.imul(V,St)|0;var Ir=(B+(_=_+Math.imul(Q,Ft)|0)|0)+((8191&(S=(S=S+Math.imul(Q,jr)|0)+Math.imul(re,Ft)|0))<<13)|0;B=((j=j+Math.imul(re,jr)|0)+(S>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,_=Math.imul(le,xe),S=(S=Math.imul(le,be))+Math.imul(ae,xe)|0,j=Math.imul(ae,be),_=_+Math.imul(oe,Xe)|0,S=(S=S+Math.imul(oe,Mt)|0)+Math.imul(ne,Xe)|0,j=j+Math.imul(ne,Mt)|0,_=_+Math.imul(ce,wt)|0,S=(S=S+Math.imul(ce,Jt)|0)+Math.imul(ye,wt)|0,j=j+Math.imul(ye,Jt)|0,_=_+Math.imul(Z,It)|0,S=(S=S+Math.imul(Z,St)|0)+Math.imul(ie,It)|0,j=j+Math.imul(ie,St)|0,_=_+Math.imul(Y,Ft)|0,S=(S=S+Math.imul(Y,jr)|0)+Math.imul(V,Ft)|0,j=j+Math.imul(V,jr)|0;var Se=(B+(_=_+Math.imul(Q,Ht)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Nr)|0)+Math.imul(re,Ht)|0))<<13)|0;B=((j=j+Math.imul(re,Nr)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(se,xe),S=(S=Math.imul(se,be))+Math.imul(de,xe)|0,j=Math.imul(de,be),_=_+Math.imul(le,Xe)|0,S=(S=S+Math.imul(le,Mt)|0)+Math.imul(ae,Xe)|0,j=j+Math.imul(ae,Mt)|0,_=_+Math.imul(oe,wt)|0,S=(S=S+Math.imul(oe,Jt)|0)+Math.imul(ne,wt)|0,j=j+Math.imul(ne,Jt)|0,_=_+Math.imul(ce,It)|0,S=(S=S+Math.imul(ce,St)|0)+Math.imul(ye,It)|0,j=j+Math.imul(ye,St)|0,_=_+Math.imul(Z,Ft)|0,S=(S=S+Math.imul(Z,jr)|0)+Math.imul(ie,Ft)|0,j=j+Math.imul(ie,jr)|0,_=_+Math.imul(Y,Ht)|0,S=(S=S+Math.imul(Y,Nr)|0)+Math.imul(V,Ht)|0,j=j+Math.imul(V,Nr)|0;var lt=(B+(_=_+Math.imul(Q,rr)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Ce)|0)+Math.imul(re,rr)|0))<<13)|0;B=((j=j+Math.imul(re,Ce)|0)+(S>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ke,xe),S=(S=Math.imul(ke,be))+Math.imul(Ee,xe)|0,j=Math.imul(Ee,be),_=_+Math.imul(se,Xe)|0,S=(S=S+Math.imul(se,Mt)|0)+Math.imul(de,Xe)|0,j=j+Math.imul(de,Mt)|0,_=_+Math.imul(le,wt)|0,S=(S=S+Math.imul(le,Jt)|0)+Math.imul(ae,wt)|0,j=j+Math.imul(ae,Jt)|0,_=_+Math.imul(oe,It)|0,S=(S=S+Math.imul(oe,St)|0)+Math.imul(ne,It)|0,j=j+Math.imul(ne,St)|0,_=_+Math.imul(ce,Ft)|0,S=(S=S+Math.imul(ce,jr)|0)+Math.imul(ye,Ft)|0,j=j+Math.imul(ye,jr)|0,_=_+Math.imul(Z,Ht)|0,S=(S=S+Math.imul(Z,Nr)|0)+Math.imul(ie,Ht)|0,j=j+Math.imul(ie,Nr)|0,_=_+Math.imul(Y,rr)|0,S=(S=S+Math.imul(Y,Ce)|0)+Math.imul(V,rr)|0,j=j+Math.imul(V,Ce)|0;var he=(B+(_=_+Math.imul(Q,We)|0)|0)+((8191&(S=(S=S+Math.imul(Q,st)|0)+Math.imul(re,We)|0))<<13)|0;B=((j=j+Math.imul(re,st)|0)+(S>>>13)|0)+(he>>>26)|0,he&=67108863,_=Math.imul(Le,xe),S=(S=Math.imul(Le,be))+Math.imul(Ge,xe)|0,j=Math.imul(Ge,be),_=_+Math.imul(ke,Xe)|0,S=(S=S+Math.imul(ke,Mt)|0)+Math.imul(Ee,Xe)|0,j=j+Math.imul(Ee,Mt)|0,_=_+Math.imul(se,wt)|0,S=(S=S+Math.imul(se,Jt)|0)+Math.imul(de,wt)|0,j=j+Math.imul(de,Jt)|0,_=_+Math.imul(le,It)|0,S=(S=S+Math.imul(le,St)|0)+Math.imul(ae,It)|0,j=j+Math.imul(ae,St)|0,_=_+Math.imul(oe,Ft)|0,S=(S=S+Math.imul(oe,jr)|0)+Math.imul(ne,Ft)|0,j=j+Math.imul(ne,jr)|0,_=_+Math.imul(ce,Ht)|0,S=(S=S+Math.imul(ce,Nr)|0)+Math.imul(ye,Ht)|0,j=j+Math.imul(ye,Nr)|0,_=_+Math.imul(Z,rr)|0,S=(S=S+Math.imul(Z,Ce)|0)+Math.imul(ie,rr)|0,j=j+Math.imul(ie,Ce)|0,_=_+Math.imul(Y,We)|0,S=(S=S+Math.imul(Y,st)|0)+Math.imul(V,We)|0,j=j+Math.imul(V,st)|0;var je=(B+(_=_+Math.imul(Q,ut)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Ot)|0)+Math.imul(re,ut)|0))<<13)|0;B=((j=j+Math.imul(re,Ot)|0)+(S>>>13)|0)+(je>>>26)|0,je&=67108863,_=Math.imul(yt,xe),S=(S=Math.imul(yt,be))+Math.imul(it,xe)|0,j=Math.imul(it,be),_=_+Math.imul(Le,Xe)|0,S=(S=S+Math.imul(Le,Mt)|0)+Math.imul(Ge,Xe)|0,j=j+Math.imul(Ge,Mt)|0,_=_+Math.imul(ke,wt)|0,S=(S=S+Math.imul(ke,Jt)|0)+Math.imul(Ee,wt)|0,j=j+Math.imul(Ee,Jt)|0,_=_+Math.imul(se,It)|0,S=(S=S+Math.imul(se,St)|0)+Math.imul(de,It)|0,j=j+Math.imul(de,St)|0,_=_+Math.imul(le,Ft)|0,S=(S=S+Math.imul(le,jr)|0)+Math.imul(ae,Ft)|0,j=j+Math.imul(ae,jr)|0,_=_+Math.imul(oe,Ht)|0,S=(S=S+Math.imul(oe,Nr)|0)+Math.imul(ne,Ht)|0,j=j+Math.imul(ne,Nr)|0,_=_+Math.imul(ce,rr)|0,S=(S=S+Math.imul(ce,Ce)|0)+Math.imul(ye,rr)|0,j=j+Math.imul(ye,Ce)|0,_=_+Math.imul(Z,We)|0,S=(S=S+Math.imul(Z,st)|0)+Math.imul(ie,We)|0,j=j+Math.imul(ie,st)|0,_=_+Math.imul(Y,ut)|0,S=(S=S+Math.imul(Y,Ot)|0)+Math.imul(V,ut)|0,j=j+Math.imul(V,Ot)|0;var Be=(B+(_=_+Math.imul(Q,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(Q,nr)|0)+Math.imul(re,Tt)|0))<<13)|0;B=((j=j+Math.imul(re,nr)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,_=Math.imul(yt,Xe),S=(S=Math.imul(yt,Mt))+Math.imul(it,Xe)|0,j=Math.imul(it,Mt),_=_+Math.imul(Le,wt)|0,S=(S=S+Math.imul(Le,Jt)|0)+Math.imul(Ge,wt)|0,j=j+Math.imul(Ge,Jt)|0,_=_+Math.imul(ke,It)|0,S=(S=S+Math.imul(ke,St)|0)+Math.imul(Ee,It)|0,j=j+Math.imul(Ee,St)|0,_=_+Math.imul(se,Ft)|0,S=(S=S+Math.imul(se,jr)|0)+Math.imul(de,Ft)|0,j=j+Math.imul(de,jr)|0,_=_+Math.imul(le,Ht)|0,S=(S=S+Math.imul(le,Nr)|0)+Math.imul(ae,Ht)|0,j=j+Math.imul(ae,Nr)|0,_=_+Math.imul(oe,rr)|0,S=(S=S+Math.imul(oe,Ce)|0)+Math.imul(ne,rr)|0,j=j+Math.imul(ne,Ce)|0,_=_+Math.imul(ce,We)|0,S=(S=S+Math.imul(ce,st)|0)+Math.imul(ye,We)|0,j=j+Math.imul(ye,st)|0,_=_+Math.imul(Z,ut)|0,S=(S=S+Math.imul(Z,Ot)|0)+Math.imul(ie,ut)|0,j=j+Math.imul(ie,Ot)|0;var Ze=(B+(_=_+Math.imul(Y,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,nr)|0)+Math.imul(V,Tt)|0))<<13)|0;B=((j=j+Math.imul(V,nr)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,_=Math.imul(yt,wt),S=(S=Math.imul(yt,Jt))+Math.imul(it,wt)|0,j=Math.imul(it,Jt),_=_+Math.imul(Le,It)|0,S=(S=S+Math.imul(Le,St)|0)+Math.imul(Ge,It)|0,j=j+Math.imul(Ge,St)|0,_=_+Math.imul(ke,Ft)|0,S=(S=S+Math.imul(ke,jr)|0)+Math.imul(Ee,Ft)|0,j=j+Math.imul(Ee,jr)|0,_=_+Math.imul(se,Ht)|0,S=(S=S+Math.imul(se,Nr)|0)+Math.imul(de,Ht)|0,j=j+Math.imul(de,Nr)|0,_=_+Math.imul(le,rr)|0,S=(S=S+Math.imul(le,Ce)|0)+Math.imul(ae,rr)|0,j=j+Math.imul(ae,Ce)|0,_=_+Math.imul(oe,We)|0,S=(S=S+Math.imul(oe,st)|0)+Math.imul(ne,We)|0,j=j+Math.imul(ne,st)|0,_=_+Math.imul(ce,ut)|0,S=(S=S+Math.imul(ce,Ot)|0)+Math.imul(ye,ut)|0,j=j+Math.imul(ye,Ot)|0;var jt=(B+(_=_+Math.imul(Z,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,nr)|0)+Math.imul(ie,Tt)|0))<<13)|0;B=((j=j+Math.imul(ie,nr)|0)+(S>>>13)|0)+(jt>>>26)|0,jt&=67108863,_=Math.imul(yt,It),S=(S=Math.imul(yt,St))+Math.imul(it,It)|0,j=Math.imul(it,St),_=_+Math.imul(Le,Ft)|0,S=(S=S+Math.imul(Le,jr)|0)+Math.imul(Ge,Ft)|0,j=j+Math.imul(Ge,jr)|0,_=_+Math.imul(ke,Ht)|0,S=(S=S+Math.imul(ke,Nr)|0)+Math.imul(Ee,Ht)|0,j=j+Math.imul(Ee,Nr)|0,_=_+Math.imul(se,rr)|0,S=(S=S+Math.imul(se,Ce)|0)+Math.imul(de,rr)|0,j=j+Math.imul(de,Ce)|0,_=_+Math.imul(le,We)|0,S=(S=S+Math.imul(le,st)|0)+Math.imul(ae,We)|0,j=j+Math.imul(ae,st)|0,_=_+Math.imul(oe,ut)|0,S=(S=S+Math.imul(oe,Ot)|0)+Math.imul(ne,ut)|0,j=j+Math.imul(ne,Ot)|0;var ct=(B+(_=_+Math.imul(ce,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(ce,nr)|0)+Math.imul(ye,Tt)|0))<<13)|0;B=((j=j+Math.imul(ye,nr)|0)+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(yt,Ft),S=(S=Math.imul(yt,jr))+Math.imul(it,Ft)|0,j=Math.imul(it,jr),_=_+Math.imul(Le,Ht)|0,S=(S=S+Math.imul(Le,Nr)|0)+Math.imul(Ge,Ht)|0,j=j+Math.imul(Ge,Nr)|0,_=_+Math.imul(ke,rr)|0,S=(S=S+Math.imul(ke,Ce)|0)+Math.imul(Ee,rr)|0,j=j+Math.imul(Ee,Ce)|0,_=_+Math.imul(se,We)|0,S=(S=S+Math.imul(se,st)|0)+Math.imul(de,We)|0,j=j+Math.imul(de,st)|0,_=_+Math.imul(le,ut)|0,S=(S=S+Math.imul(le,Ot)|0)+Math.imul(ae,ut)|0,j=j+Math.imul(ae,Ot)|0;var ht=(B+(_=_+Math.imul(oe,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(oe,nr)|0)+Math.imul(ne,Tt)|0))<<13)|0;B=((j=j+Math.imul(ne,nr)|0)+(S>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(yt,Ht),S=(S=Math.imul(yt,Nr))+Math.imul(it,Ht)|0,j=Math.imul(it,Nr),_=_+Math.imul(Le,rr)|0,S=(S=S+Math.imul(Le,Ce)|0)+Math.imul(Ge,rr)|0,j=j+Math.imul(Ge,Ce)|0,_=_+Math.imul(ke,We)|0,S=(S=S+Math.imul(ke,st)|0)+Math.imul(Ee,We)|0,j=j+Math.imul(Ee,st)|0,_=_+Math.imul(se,ut)|0,S=(S=S+Math.imul(se,Ot)|0)+Math.imul(de,ut)|0,j=j+Math.imul(de,Ot)|0;var lr=(B+(_=_+Math.imul(le,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(le,nr)|0)+Math.imul(ae,Tt)|0))<<13)|0;B=((j=j+Math.imul(ae,nr)|0)+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(yt,rr),S=(S=Math.imul(yt,Ce))+Math.imul(it,rr)|0,j=Math.imul(it,Ce),_=_+Math.imul(Le,We)|0,S=(S=S+Math.imul(Le,st)|0)+Math.imul(Ge,We)|0,j=j+Math.imul(Ge,st)|0,_=_+Math.imul(ke,ut)|0,S=(S=S+Math.imul(ke,Ot)|0)+Math.imul(Ee,ut)|0,j=j+Math.imul(Ee,Ot)|0;var fr=(B+(_=_+Math.imul(se,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(se,nr)|0)+Math.imul(de,Tt)|0))<<13)|0;B=((j=j+Math.imul(de,nr)|0)+(S>>>13)|0)+(fr>>>26)|0,fr&=67108863,_=Math.imul(yt,We),S=(S=Math.imul(yt,st))+Math.imul(it,We)|0,j=Math.imul(it,st),_=_+Math.imul(Le,ut)|0,S=(S=S+Math.imul(Le,Ot)|0)+Math.imul(Ge,ut)|0,j=j+Math.imul(Ge,Ot)|0;var Ut=(B+(_=_+Math.imul(ke,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(ke,nr)|0)+Math.imul(Ee,Tt)|0))<<13)|0;B=((j=j+Math.imul(Ee,nr)|0)+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(yt,ut),S=(S=Math.imul(yt,Ot))+Math.imul(it,ut)|0,j=Math.imul(it,Ot);var Vt=(B+(_=_+Math.imul(Le,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(Le,nr)|0)+Math.imul(Ge,Tt)|0))<<13)|0;B=((j=j+Math.imul(Ge,nr)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863;var wr=(B+(_=Math.imul(yt,Tt))|0)+((8191&(S=(S=Math.imul(yt,nr))+Math.imul(it,Tt)|0))<<13)|0;return B=((j=Math.imul(it,nr))+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,O[0]=Qt,O[1]=ar,O[2]=mr,O[3]=en,O[4]=Ir,O[5]=Se,O[6]=lt,O[7]=he,O[8]=je,O[9]=Be,O[10]=Ze,O[11]=jt,O[12]=ct,O[13]=ht,O[14]=lr,O[15]=fr,O[16]=Ut,O[17]=Vt,O[18]=wr,B!==0&&(O[19]=B,C.length++),C};function k(P,R,C){return new T().mulp(P,R,C)}function T(P,R){this.x=P,this.y=R}Math.imul||(x=v),c.prototype.mulTo=function(P,R){var C=this.length+P.length;return this.length===10&&P.length===10?x(this,P,R):C<63?v(this,P,R):C<1024?(function(_,S,j){j.negative=S.negative^_.negative,j.length=_.length+S.length;for(var N=0,M=0,O=0;O<j.length-1;O++){var B=M;M=0;for(var G=67108863&N,Q=Math.min(O,S.length-1),re=Math.max(0,O-_.length+1);re<=Q;re++){var F=O-re,Y=(0|_.words[F])*(0|S.words[re]),V=67108863&Y;G=67108863&(V=V+G|0),M+=(B=(B=B+(Y/67108864|0)|0)+(V>>>26)|0)>>>26,B&=67108863}j.words[O]=G,N=B,B=M}return N!==0?j.words[O]=N:j.length--,j.strip()})(this,P,R):k(this,P,R)},T.prototype.makeRBT=function(P){for(var R=new Array(P),C=c.prototype._countBits(P)-1,_=0;_<P;_++)R[_]=this.revBin(_,C,P);return R},T.prototype.revBin=function(P,R,C){if(P===0||P===C-1)return P;for(var _=0,S=0;S<R;S++)_|=(1&P)<<R-S-1,P>>=1;return _},T.prototype.permute=function(P,R,C,_,S,j){for(var N=0;N<j;N++)_[N]=R[P[N]],S[N]=C[P[N]]},T.prototype.transform=function(P,R,C,_,S,j){this.permute(j,P,R,C,_,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,O=Math.cos(2*Math.PI/M),B=Math.sin(2*Math.PI/M),G=0;G<S;G+=M)for(var Q=O,re=B,F=0;F<N;F++){var Y=C[G+F],V=_[G+F],U=C[G+F+N],Z=_[G+F+N],ie=Q*U-re*Z;Z=Q*Z+re*U,U=ie,C[G+F]=Y+U,_[G+F]=V+Z,C[G+F+N]=Y-U,_[G+F+N]=V-Z,F!==M&&(ie=O*Q-B*re,re=O*re+B*Q,Q=ie)}},T.prototype.guessLen13b=function(P,R){var C=1|Math.max(R,P),_=1&C,S=0;for(C=C/2|0;C;C>>>=1)S++;return 1<<S+1+_},T.prototype.conjugate=function(P,R,C){if(!(C<=1))for(var _=0;_<C/2;_++){var S=P[_];P[_]=P[C-_-1],P[C-_-1]=S,S=R[_],R[_]=-R[C-_-1],R[C-_-1]=-S}},T.prototype.normalize13b=function(P,R){for(var C=0,_=0;_<R/2;_++){var S=8192*Math.round(P[2*_+1]/R)+Math.round(P[2*_]/R)+C;P[_]=67108863&S,C=S<67108864?0:S/67108864|0}return P},T.prototype.convert13b=function(P,R,C,_){for(var S=0,j=0;j<R;j++)S+=0|P[j],C[2*j]=8191&S,S>>>=13,C[2*j+1]=8191&S,S>>>=13;for(j=2*R;j<_;++j)C[j]=0;l(S===0),l((-8192&S)==0)},T.prototype.stub=function(P){for(var R=new Array(P),C=0;C<P;C++)R[C]=0;return R},T.prototype.mulp=function(P,R,C){var _=2*this.guessLen13b(P.length,R.length),S=this.makeRBT(_),j=this.stub(_),N=new Array(_),M=new Array(_),O=new Array(_),B=new Array(_),G=new Array(_),Q=new Array(_),re=C.words;re.length=_,this.convert13b(P.words,P.length,N,_),this.convert13b(R.words,R.length,B,_),this.transform(N,j,M,O,_,S),this.transform(B,j,G,Q,_,S);for(var F=0;F<_;F++){var Y=M[F]*G[F]-O[F]*Q[F];O[F]=M[F]*Q[F]+O[F]*G[F],M[F]=Y}return this.conjugate(M,O,_),this.transform(M,O,re,j,_,S),this.conjugate(re,j,_),this.normalize13b(re,_),C.negative=P.negative^R.negative,C.length=P.length+R.length,C.strip()},c.prototype.mul=function(P){var R=new c(null);return R.words=new Array(this.length+P.length),this.mulTo(P,R)},c.prototype.mulf=function(P){var R=new c(null);return R.words=new Array(this.length+P.length),k(this,P,R)},c.prototype.imul=function(P){return this.clone().mulTo(P,this)},c.prototype.imuln=function(P){l(typeof P=="number"),l(P<67108864);for(var R=0,C=0;C<this.length;C++){var _=(0|this.words[C])*P,S=(67108863&_)+(67108863&R);R>>=26,R+=_/67108864|0,R+=S>>>26,this.words[C]=67108863&S}return R!==0&&(this.words[C]=R,this.length++),this},c.prototype.muln=function(P){return this.clone().imuln(P)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(P){var R=(function(j){for(var N=new Array(j.bitLength()),M=0;M<N.length;M++){var O=M/26|0,B=M%26;N[M]=(j.words[O]&1<<B)>>>B}return N})(P);if(R.length===0)return new c(1);for(var C=this,_=0;_<R.length&&R[_]===0;_++,C=C.sqr());if(++_<R.length)for(var S=C.sqr();_<R.length;_++,S=S.sqr())R[_]!==0&&(C=C.mul(S));return C},c.prototype.iushln=function(P){l(typeof P=="number"&&P>=0);var R,C=P%26,_=(P-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var j=0;for(R=0;R<this.length;R++){var N=this.words[R]&S,M=(0|this.words[R])-N<<C;this.words[R]=M|j,j=N>>>26-C}j&&(this.words[R]=j,this.length++)}if(_!==0){for(R=this.length-1;R>=0;R--)this.words[R+_]=this.words[R];for(R=0;R<_;R++)this.words[R]=0;this.length+=_}return this.strip()},c.prototype.ishln=function(P){return l(this.negative===0),this.iushln(P)},c.prototype.iushrn=function(P,R,C){var _;l(typeof P=="number"&&P>=0),_=R?(R-R%26)/26:0;var S=P%26,j=Math.min((P-S)/26,this.length),N=67108863^67108863>>>S<<S,M=C;if(_-=j,_=Math.max(0,_),M){for(var O=0;O<j;O++)M.words[O]=this.words[O];M.length=j}if(j!==0)if(this.length>j)for(this.length-=j,O=0;O<this.length;O++)this.words[O]=this.words[O+j];else this.words[0]=0,this.length=1;var B=0;for(O=this.length-1;O>=0&&(B!==0||O>=_);O--){var G=0|this.words[O];this.words[O]=B<<26-S|G>>>S,B=G&N}return M&&B!==0&&(M.words[M.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(P,R,C){return l(this.negative===0),this.iushrn(P,R,C)},c.prototype.shln=function(P){return this.clone().ishln(P)},c.prototype.ushln=function(P){return this.clone().iushln(P)},c.prototype.shrn=function(P){return this.clone().ishrn(P)},c.prototype.ushrn=function(P){return this.clone().iushrn(P)},c.prototype.testn=function(P){l(typeof P=="number"&&P>=0);var R=P%26,C=(P-R)/26,_=1<<R;return!(this.length<=C)&&!!(this.words[C]&_)},c.prototype.imaskn=function(P){l(typeof P=="number"&&P>=0);var R=P%26,C=(P-R)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(R!==0&&C++,this.length=Math.min(C,this.length),R!==0){var _=67108863^67108863>>>R<<R;this.words[this.length-1]&=_}return this.strip()},c.prototype.maskn=function(P){return this.clone().imaskn(P)},c.prototype.iaddn=function(P){return l(typeof P=="number"),l(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},c.prototype._iaddn=function(P){this.words[0]+=P;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},c.prototype.isubn=function(P){if(l(typeof P=="number"),l(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},c.prototype.addn=function(P){return this.clone().iaddn(P)},c.prototype.subn=function(P){return this.clone().isubn(P)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(P,R,C){var _,S,j=P.length+C;this._expand(j);var N=0;for(_=0;_<P.length;_++){S=(0|this.words[_+C])+N;var M=(0|P.words[_])*R;N=((S-=67108863&M)>>26)-(M/67108864|0),this.words[_+C]=67108863&S}for(;_<this.length-C;_++)N=(S=(0|this.words[_+C])+N)>>26,this.words[_+C]=67108863&S;if(N===0)return this.strip();for(l(N===-1),N=0,_=0;_<this.length;_++)N=(S=-(0|this.words[_])+N)>>26,this.words[_]=67108863&S;return this.negative=1,this.strip()},c.prototype._wordDiv=function(P,R){var C=(this.length,P.length),_=this.clone(),S=P,j=0|S.words[S.length-1];(C=26-this._countBits(j))!==0&&(S=S.ushln(C),_.iushln(C),j=0|S.words[S.length-1]);var N,M=_.length-S.length;if(R!=="mod"){(N=new c(null)).length=M+1,N.words=new Array(N.length);for(var O=0;O<N.length;O++)N.words[O]=0}var B=_.clone()._ishlnsubmul(S,1,M);B.negative===0&&(_=B,N&&(N.words[M]=1));for(var G=M-1;G>=0;G--){var Q=67108864*(0|_.words[S.length+G])+(0|_.words[S.length+G-1]);for(Q=Math.min(Q/j|0,67108863),_._ishlnsubmul(S,Q,G);_.negative!==0;)Q--,_.negative=0,_._ishlnsubmul(S,1,G),_.isZero()||(_.negative^=1);N&&(N.words[G]=Q)}return N&&N.strip(),_.strip(),R!=="div"&&C!==0&&_.iushrn(C),{div:N||null,mod:_}},c.prototype.divmod=function(P,R,C){return l(!P.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&P.negative===0?(j=this.neg().divmod(P,R),R!=="mod"&&(_=j.div.neg()),R!=="div"&&(S=j.mod.neg(),C&&S.negative!==0&&S.iadd(P)),{div:_,mod:S}):this.negative===0&&P.negative!==0?(j=this.divmod(P.neg(),R),R!=="mod"&&(_=j.div.neg()),{div:_,mod:j.mod}):(this.negative&P.negative)!=0?(j=this.neg().divmod(P.neg(),R),R!=="div"&&(S=j.mod.neg(),C&&S.negative!==0&&S.isub(P)),{div:j.div,mod:S}):P.length>this.length||this.cmp(P)<0?{div:new c(0),mod:this}:P.length===1?R==="div"?{div:this.divn(P.words[0]),mod:null}:R==="mod"?{div:null,mod:new c(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new c(this.modn(P.words[0]))}:this._wordDiv(P,R);var _,S,j},c.prototype.div=function(P){return this.divmod(P,"div",!1).div},c.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},c.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},c.prototype.divRound=function(P){var R=this.divmod(P);if(R.mod.isZero())return R.div;var C=R.div.negative!==0?R.mod.isub(P):R.mod,_=P.ushrn(1),S=P.andln(1),j=C.cmp(_);return j<0||S===1&&j===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},c.prototype.modn=function(P){l(P<=67108863);for(var R=(1<<26)%P,C=0,_=this.length-1;_>=0;_--)C=(R*C+(0|this.words[_]))%P;return C},c.prototype.idivn=function(P){l(P<=67108863);for(var R=0,C=this.length-1;C>=0;C--){var _=(0|this.words[C])+67108864*R;this.words[C]=_/P|0,R=_%P}return this.strip()},c.prototype.divn=function(P){return this.clone().idivn(P)},c.prototype.egcd=function(P){l(P.negative===0),l(!P.isZero());var R=this,C=P.clone();R=R.negative!==0?R.umod(P):R.clone();for(var _=new c(1),S=new c(0),j=new c(0),N=new c(1),M=0;R.isEven()&&C.isEven();)R.iushrn(1),C.iushrn(1),++M;for(var O=C.clone(),B=R.clone();!R.isZero();){for(var G=0,Q=1;(R.words[0]&Q)==0&&G<26;++G,Q<<=1);if(G>0)for(R.iushrn(G);G-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(O),S.isub(B)),_.iushrn(1),S.iushrn(1);for(var re=0,F=1;(C.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(C.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(O),N.isub(B)),j.iushrn(1),N.iushrn(1);R.cmp(C)>=0?(R.isub(C),_.isub(j),S.isub(N)):(C.isub(R),j.isub(_),N.isub(S))}return{a:j,b:N,gcd:C.iushln(M)}},c.prototype._invmp=function(P){l(P.negative===0),l(!P.isZero());var R=this,C=P.clone();R=R.negative!==0?R.umod(P):R.clone();for(var _,S=new c(1),j=new c(0),N=C.clone();R.cmpn(1)>0&&C.cmpn(1)>0;){for(var M=0,O=1;(R.words[0]&O)==0&&M<26;++M,O<<=1);if(M>0)for(R.iushrn(M);M-- >0;)S.isOdd()&&S.iadd(N),S.iushrn(1);for(var B=0,G=1;(C.words[0]&G)==0&&B<26;++B,G<<=1);if(B>0)for(C.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(N),j.iushrn(1);R.cmp(C)>=0?(R.isub(C),S.isub(j)):(C.isub(R),j.isub(S))}return(_=R.cmpn(1)===0?S:j).cmpn(0)<0&&_.iadd(P),_},c.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var R=this.clone(),C=P.clone();R.negative=0,C.negative=0;for(var _=0;R.isEven()&&C.isEven();_++)R.iushrn(1),C.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=R.cmp(C);if(S<0){var j=R;R=C,C=j}else if(S===0||C.cmpn(1)===0)break;R.isub(C)}return C.iushln(_)},c.prototype.invm=function(P){return this.egcd(P).a.umod(P)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(P){return this.words[0]&P},c.prototype.bincn=function(P){l(typeof P=="number");var R=P%26,C=(P-R)/26,_=1<<R;if(this.length<=C)return this._expand(C+1),this.words[C]|=_,this;for(var S=_,j=C;S!==0&&j<this.length;j++){var N=0|this.words[j];S=(N+=S)>>>26,N&=67108863,this.words[j]=N}return S!==0&&(this.words[j]=S,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(P){var R,C=P<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)R=1;else{C&&(P=-P),l(P<=67108863,"Number is too big");var _=0|this.words[0];R=_===P?0:_<P?-1:1}return this.negative!==0?0|-R:R},c.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var R=this.ucmp(P);return this.negative!==0?0|-R:R},c.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var R=0,C=this.length-1;C>=0;C--){var _=0|this.words[C],S=0|P.words[C];if(_!==S){_<S?R=-1:_>S&&(R=1);break}}return R},c.prototype.gtn=function(P){return this.cmpn(P)===1},c.prototype.gt=function(P){return this.cmp(P)===1},c.prototype.gten=function(P){return this.cmpn(P)>=0},c.prototype.gte=function(P){return this.cmp(P)>=0},c.prototype.ltn=function(P){return this.cmpn(P)===-1},c.prototype.lt=function(P){return this.cmp(P)===-1},c.prototype.lten=function(P){return this.cmpn(P)<=0},c.prototype.lte=function(P){return this.cmp(P)<=0},c.prototype.eqn=function(P){return this.cmpn(P)===0},c.prototype.eq=function(P){return this.cmp(P)===0},c.red=function(P){return new K(P)},c.prototype.toRed=function(P){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},c.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(P){return this.red=P,this},c.prototype.forceRed=function(P){return l(!this.red,"Already a number in reduction context"),this._forceRed(P)},c.prototype.redAdd=function(P){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},c.prototype.redIAdd=function(P){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},c.prototype.redSub=function(P){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},c.prototype.redISub=function(P){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},c.prototype.redShl=function(P){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},c.prototype.redMul=function(P){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},c.prototype.redIMul=function(P){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},c.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(P){return l(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var A={k256:null,p224:null,p192:null,p25519:null};function L(P,R){this.name=P,this.p=new c(R,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function K(P){if(typeof P=="string"){var R=c._prime(P);this.m=R.p,this.prime=R}else l(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function W(P){K.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var P=new c(null);return P.words=new Array(Math.ceil(this.n/13)),P},L.prototype.ireduce=function(P){var R,C=P;do this.split(C,this.tmp),R=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(R>this.n);var _=R<this.n?-1:C.ucmp(this.p);return _===0?(C.words[0]=0,C.length=1):_>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},L.prototype.split=function(P,R){P.iushrn(this.n,0,R)},L.prototype.imulK=function(P){return P.imul(this.k)},u(q,L),q.prototype.split=function(P,R){for(var C=Math.min(P.length,9),_=0;_<C;_++)R.words[_]=P.words[_];if(R.length=C,P.length<=9)return P.words[0]=0,void(P.length=1);var S=P.words[9];for(R.words[R.length++]=4194303&S,_=10;_<P.length;_++){var j=0|P.words[_];P.words[_-10]=(4194303&j)<<4|S>>>22,S=j}S>>>=22,P.words[_-10]=S,S===0&&P.length>10?P.length-=10:P.length-=9},q.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var R=0,C=0;C<P.length;C++){var _=0|P.words[C];R+=977*_,P.words[C]=67108863&R,R=64*_+(R/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P},u(D,L),u($,L),u(z,L),z.prototype.imulK=function(P){for(var R=0,C=0;C<P.length;C++){var _=19*(0|P.words[C])+R,S=67108863&_;_>>>=26,P.words[C]=S,R=_}return R!==0&&(P.words[P.length++]=R),P},c._prime=function(P){if(A[P])return A[P];var R;if(P==="k256")R=new q;else if(P==="p224")R=new D;else if(P==="p192")R=new $;else{if(P!=="p25519")throw new Error("Unknown prime "+P);R=new z}return A[P]=R,R},K.prototype._verify1=function(P){l(P.negative===0,"red works only with positives"),l(P.red,"red works only with red numbers")},K.prototype._verify2=function(P,R){l((P.negative|R.negative)==0,"red works only with positives"),l(P.red&&P.red===R.red,"red works only with red numbers")},K.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},K.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},K.prototype.add=function(P,R){this._verify2(P,R);var C=P.add(R);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},K.prototype.iadd=function(P,R){this._verify2(P,R);var C=P.iadd(R);return C.cmp(this.m)>=0&&C.isub(this.m),C},K.prototype.sub=function(P,R){this._verify2(P,R);var C=P.sub(R);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},K.prototype.isub=function(P,R){this._verify2(P,R);var C=P.isub(R);return C.cmpn(0)<0&&C.iadd(this.m),C},K.prototype.shl=function(P,R){return this._verify1(P),this.imod(P.ushln(R))},K.prototype.imul=function(P,R){return this._verify2(P,R),this.imod(P.imul(R))},K.prototype.mul=function(P,R){return this._verify2(P,R),this.imod(P.mul(R))},K.prototype.isqr=function(P){return this.imul(P,P.clone())},K.prototype.sqr=function(P){return this.mul(P,P)},K.prototype.sqrt=function(P){if(P.isZero())return P.clone();var R=this.m.andln(3);if(l(R%2==1),R===3){var C=this.m.add(new c(1)).iushrn(2);return this.pow(P,C)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);l(!_.isZero());var j=new c(1).toRed(this),N=j.redNeg(),M=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new c(2*O*O).toRed(this);this.pow(O,M).cmp(N)!==0;)O.redIAdd(N);for(var B=this.pow(O,_),G=this.pow(P,_.addn(1).iushrn(1)),Q=this.pow(P,_),re=S;Q.cmp(j)!==0;){for(var F=Q,Y=0;F.cmp(j)!==0;Y++)F=F.redSqr();l(Y<re);var V=this.pow(B,new c(1).iushln(re-Y-1));G=G.redMul(V),B=V.redSqr(),Q=Q.redMul(B),re=Y}return G},K.prototype.invm=function(P){var R=P._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},K.prototype.pow=function(P,R){if(R.isZero())return new c(1).toRed(this);if(R.cmpn(1)===0)return P.clone();var C=new Array(16);C[0]=new c(1).toRed(this),C[1]=P;for(var _=2;_<C.length;_++)C[_]=this.mul(C[_-1],P);var S=C[0],j=0,N=0,M=R.bitLength()%26;for(M===0&&(M=26),_=R.length-1;_>=0;_--){for(var O=R.words[_],B=M-1;B>=0;B--){var G=O>>B&1;S!==C[0]&&(S=this.sqr(S)),G!==0||j!==0?(j<<=1,j|=G,(++N===4||_===0&&B===0)&&(S=this.mul(S,C[j]),N=0,j=0)):N=0}M=26}return S},K.prototype.convertTo=function(P){var R=P.umod(this.m);return R===P?R.clone():R},K.prototype.convertFrom=function(P){var R=P.clone();return R.red=null,R},c.mont=function(P){return new W(P)},u(W,K),W.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},W.prototype.convertFrom=function(P){var R=this.imod(P.mul(this.rinv));return R.red=null,R},W.prototype.imul=function(P,R){if(P.isZero()||R.isZero())return P.words[0]=0,P.length=1,P;var C=P.imul(R),_=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(_).iushrn(this.shift),j=S;return S.cmp(this.m)>=0?j=S.isub(this.m):S.cmpn(0)<0&&(j=S.iadd(this.m)),j._forceRed(this)},W.prototype.mul=function(P,R){if(P.isZero()||R.isZero())return new c(0)._forceRed(this);var C=P.mul(R),_=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(_).iushrn(this.shift),j=S;return S.cmp(this.m)>=0?j=S.isub(this.m):S.cmpn(0)<0&&(j=S.iadd(this.m)),j._forceRed(this)},W.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(t,s,n){n.byteLength=function(h){var g=p(h),y=g[0],m=g[1];return 3*(y+m)/4-m},n.toByteArray=function(h){var g,y,m=p(h),v=m[0],x=m[1],k=new l((function(L,q,D){return 3*(q+D)/4-D})(0,v,x)),T=0,A=x>0?v-4:v;for(y=0;y<A;y+=4)g=a[h.charCodeAt(y)]<<18|a[h.charCodeAt(y+1)]<<12|a[h.charCodeAt(y+2)]<<6|a[h.charCodeAt(y+3)],k[T++]=g>>16&255,k[T++]=g>>8&255,k[T++]=255&g;return x===2&&(g=a[h.charCodeAt(y)]<<2|a[h.charCodeAt(y+1)]>>4,k[T++]=255&g),x===1&&(g=a[h.charCodeAt(y)]<<10|a[h.charCodeAt(y+1)]<<4|a[h.charCodeAt(y+2)]>>2,k[T++]=g>>8&255,k[T++]=255&g),k},n.fromByteArray=function(h){for(var g,y=h.length,m=y%3,v=[],x=0,k=y-m;x<k;x+=16383)v.push(f(h,x,x+16383>k?k:x+16383));return m===1?(g=h[y-1],v.push(i[g>>2]+i[g<<4&63]+"==")):m===2&&(g=(h[y-2]<<8)+h[y-1],v.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),v.join("")};for(var i=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=u.length;c<d;++c)i[c]=u[c],a[u.charCodeAt(c)]=c;function p(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(h,g,y){for(var m,v,x=[],k=g;k<y;k+=3)m=(h[k]<<16&16711680)+(h[k+1]<<8&65280)+(255&h[k+2]),x.push(i[(v=m)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return x.join("")}a[45]=62,a[95]=63},{}],186:[function(t,s,n){(function(i,a){function l(C,_){if(!C)throw new Error(_||"Assertion failed")}function u(C,_){C.super_=_;var S=function(){};S.prototype=_.prototype,C.prototype=new S,C.prototype.constructor=C}function c(C,_,S){if(c.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(_!=="le"&&_!=="be"||(S=_,_=10),this._init(C||0,_||10,S||"be"))}var d;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function p(C,_){var S=C.charCodeAt(_);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void l(!1,"Invalid character in "+C)}function f(C,_,S){var j=p(C,S);return S-1>=_&&(j|=p(C,S-1)<<4),j}function h(C,_,S,j){for(var N=0,M=0,O=Math.min(C.length,S),B=_;B<O;B++){var G=C.charCodeAt(B)-48;N*=j,M=G>=49?G-49+10:G>=17?G-17+10:G,l(G>=0&&M<j,"Invalid character"),N+=M}return N}function g(C,_){C.words=_.words,C.length=_.length,C.negative=_.negative,C.red=_.red}if(c.isBN=function(C){return C instanceof c||C!==null&&typeof C=="object"&&C.constructor.wordSize===c.wordSize&&Array.isArray(C.words)},c.max=function(C,_){return C.cmp(_)>0?C:_},c.min=function(C,_){return C.cmp(_)<0?C:_},c.prototype._init=function(C,_,S){if(typeof C=="number")return this._initNumber(C,_,S);if(typeof C=="object")return this._initArray(C,_,S);_==="hex"&&(_=16),l(_===(0|_)&&_>=2&&_<=36);var j=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<C.length&&(_===16?this._parseHex(C,j,S):(this._parseBase(C,_,j),S==="le"&&this._initArray(this.toArray(),_,S)))},c.prototype._initNumber=function(C,_,S){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},c.prototype._initArray=function(C,_,S){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,M,O=0;if(S==="be")for(j=C.length-1,N=0;j>=0;j-=3)M=C[j]|C[j-1]<<8|C[j-2]<<16,this.words[N]|=M<<O&67108863,this.words[N+1]=M>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);else if(S==="le")for(j=0,N=0;j<C.length;j+=3)M=C[j]|C[j+1]<<8|C[j+2]<<16,this.words[N]|=M<<O&67108863,this.words[N+1]=M>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);return this._strip()},c.prototype._parseHex=function(C,_,S){this.length=Math.ceil((C.length-_)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,M=0,O=0;if(S==="be")for(j=C.length-1;j>=_;j-=2)N=f(C,_,j)<<M,this.words[O]|=67108863&N,M>=18?(M-=18,O+=1,this.words[O]|=N>>>26):M+=8;else for(j=(C.length-_)%2==0?_+1:_;j<C.length;j+=2)N=f(C,_,j)<<M,this.words[O]|=67108863&N,M>=18?(M-=18,O+=1,this.words[O]|=N>>>26):M+=8;this._strip()},c.prototype._parseBase=function(C,_,S){this.words=[0],this.length=1;for(var j=0,N=1;N<=67108863;N*=_)j++;j--,N=N/_|0;for(var M=C.length-S,O=M%j,B=Math.min(M,M-O)+S,G=0,Q=S;Q<B;Q+=j)G=h(C,Q,Q+j,_),this.imuln(N),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(O!==0){var re=1;for(G=h(C,Q,C.length,_),Q=0;Q<O;Q++)re*=_;this.imuln(re),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},c.prototype.copy=function(C){C.words=new Array(this.length);for(var _=0;_<this.length;_++)C.words[_]=this.words[_];C.length=this.length,C.negative=this.negative,C.red=this.red},c.prototype._move=function(C){g(C,this)},c.prototype.clone=function(){var C=new c(null);return this.copy(C),C},c.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{c.prototype.inspect=y}else c.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(C,_){var S;if(_=0|_||1,(C=C||10)===16||C==="hex"){S="";for(var j=0,N=0,M=0;M<this.length;M++){var O=this.words[M],B=(16777215&(O<<j|N)).toString(16);N=O>>>24-j&16777215,(j+=2)>=26&&(j-=26,M--),S=N!==0||M!==this.length-1?m[6-B.length]+B+S:B+S}for(N!==0&&(S=N.toString(16)+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(C===(0|C)&&C>=2&&C<=36){var G=v[C],Q=x[C];S="";var re=this.clone();for(re.negative=0;!re.isZero();){var F=re.modrn(Q).toString(C);S=(re=re.idivn(Q)).isZero()?F+S:m[G-F.length]+F+S}for(this.isZero()&&(S="0"+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}l(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},c.prototype.toJSON=function(){return this.toString(16,2)},d&&(c.prototype.toBuffer=function(C,_){return this.toArrayLike(d,C,_)}),c.prototype.toArray=function(C,_){return this.toArrayLike(Array,C,_)};function k(C,_,S){S.negative=_.negative^C.negative;var j=C.length+_.length|0;S.length=j,j=j-1|0;var N=0|C.words[0],M=0|_.words[0],O=N*M,B=67108863&O,G=O/67108864|0;S.words[0]=B;for(var Q=1;Q<j;Q++){for(var re=G>>>26,F=67108863&G,Y=Math.min(Q,_.length-1),V=Math.max(0,Q-C.length+1);V<=Y;V++){var U=Q-V|0;re+=(O=(N=0|C.words[U])*(M=0|_.words[V])+F)/67108864|0,F=67108863&O}S.words[Q]=0|F,G=0|re}return G!==0?S.words[Q]=0|G:S.length--,S._strip()}c.prototype.toArrayLike=function(C,_,S){this._strip();var j=this.byteLength(),N=S||Math.max(1,j);l(j<=N,"byte array longer than desired length"),l(N>0,"Requested array length <= 0");var M=(function(O,B){return O.allocUnsafe?O.allocUnsafe(B):new O(B)})(C,N);return this["_toArrayLike"+(_==="le"?"LE":"BE")](M,j),M},c.prototype._toArrayLikeLE=function(C,_){for(var S=0,j=0,N=0,M=0;N<this.length;N++){var O=this.words[N]<<M|j;C[S++]=255&O,S<C.length&&(C[S++]=O>>8&255),S<C.length&&(C[S++]=O>>16&255),M===6?(S<C.length&&(C[S++]=O>>24&255),j=0,M=0):(j=O>>>24,M+=2)}if(S<C.length)for(C[S++]=j;S<C.length;)C[S++]=0},c.prototype._toArrayLikeBE=function(C,_){for(var S=C.length-1,j=0,N=0,M=0;N<this.length;N++){var O=this.words[N]<<M|j;C[S--]=255&O,S>=0&&(C[S--]=O>>8&255),S>=0&&(C[S--]=O>>16&255),M===6?(S>=0&&(C[S--]=O>>24&255),j=0,M=0):(j=O>>>24,M+=2)}if(S>=0)for(C[S--]=j;S>=0;)C[S--]=0},Math.clz32?c.prototype._countBits=function(C){return 32-Math.clz32(C)}:c.prototype._countBits=function(C){var _=C,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},c.prototype._zeroBits=function(C){if(C===0)return 26;var _=C,S=0;return(8191&_)==0&&(S+=13,_>>>=13),(127&_)==0&&(S+=7,_>>>=7),(15&_)==0&&(S+=4,_>>>=4),(3&_)==0&&(S+=2,_>>>=2),(1&_)==0&&S++,S},c.prototype.bitLength=function(){var C=this.words[this.length-1],_=this._countBits(C);return 26*(this.length-1)+_},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(C+=S,S!==26)break}return C},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},c.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var _=0;_<C.length;_++)this.words[_]=this.words[_]|C.words[_];return this._strip()},c.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},c.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},c.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},c.prototype.iuand=function(C){var _;_=this.length>C.length?C:this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&C.words[S];return this.length=_.length,this._strip()},c.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},c.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},c.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},c.prototype.iuxor=function(C){var _,S;this.length>C.length?(_=this,S=C):(_=C,S=this);for(var j=0;j<S.length;j++)this.words[j]=_.words[j]^S.words[j];if(this!==_)for(;j<_.length;j++)this.words[j]=_.words[j];return this.length=_.length,this._strip()},c.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},c.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},c.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},c.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var _=0|Math.ceil(C/26),S=C%26;this._expand(_),S>0&&_--;for(var j=0;j<_;j++)this.words[j]=67108863&~this.words[j];return S>0&&(this.words[j]=~this.words[j]&67108863>>26-S),this._strip()},c.prototype.notn=function(C){return this.clone().inotn(C)},c.prototype.setn=function(C,_){l(typeof C=="number"&&C>=0);var S=C/26|0,j=C%26;return this._expand(S+1),this.words[S]=_?this.words[S]|1<<j:this.words[S]&~(1<<j),this._strip()},c.prototype.iadd=function(C){var _,S,j;if(this.negative!==0&&C.negative===0)return this.negative=0,_=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,_=this.isub(C),C.negative=1,_._normSign();this.length>C.length?(S=this,j=C):(S=C,j=this);for(var N=0,M=0;M<j.length;M++)_=(0|S.words[M])+(0|j.words[M])+N,this.words[M]=67108863&_,N=_>>>26;for(;N!==0&&M<S.length;M++)_=(0|S.words[M])+N,this.words[M]=67108863&_,N=_>>>26;if(this.length=S.length,N!==0)this.words[this.length]=N,this.length++;else if(S!==this)for(;M<S.length;M++)this.words[M]=S.words[M];return this},c.prototype.add=function(C){var _;return C.negative!==0&&this.negative===0?(C.negative=0,_=this.sub(C),C.negative^=1,_):C.negative===0&&this.negative!==0?(this.negative=0,_=C.sub(this),this.negative=1,_):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},c.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var _=this.iadd(C);return C.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var S,j,N=this.cmp(C);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(S=this,j=C):(S=C,j=this);for(var M=0,O=0;O<j.length;O++)M=(_=(0|S.words[O])-(0|j.words[O])+M)>>26,this.words[O]=67108863&_;for(;M!==0&&O<S.length;O++)M=(_=(0|S.words[O])+M)>>26,this.words[O]=67108863&_;if(M===0&&O<S.length&&S!==this)for(;O<S.length;O++)this.words[O]=S.words[O];return this.length=Math.max(this.length,O),S!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(C){return this.clone().isub(C)};var T=function(C,_,S){var j,N,M,O=C.words,B=_.words,G=S.words,Q=0,re=0|O[0],F=8191&re,Y=re>>>13,V=0|O[1],U=8191&V,Z=V>>>13,ie=0|O[2],me=8191&ie,ce=ie>>>13,ye=0|O[3],ee=8191&ye,oe=ye>>>13,ne=0|O[4],fe=8191&ne,le=ne>>>13,ae=0|O[5],te=8191&ae,se=ae>>>13,de=0|O[6],ge=8191&de,ke=de>>>13,Ee=0|O[7],Oe=8191&Ee,Le=Ee>>>13,Ge=0|O[8],Qe=8191&Ge,yt=Ge>>>13,it=0|O[9],et=8191&it,xe=it>>>13,be=0|B[0],Ve=8191&be,Xe=be>>>13,Mt=0|B[1],Xt=8191&Mt,wt=Mt>>>13,Jt=0|B[2],bt=8191&Jt,It=Jt>>>13,St=0|B[3],Sr=8191&St,Ft=St>>>13,jr=0|B[4],or=8191&jr,Ht=jr>>>13,Nr=0|B[5],gr=8191&Nr,rr=Nr>>>13,Ce=0|B[6],Me=8191&Ce,We=Ce>>>13,st=0|B[7],$t=8191&st,ut=st>>>13,Ot=0|B[8],Kt=8191&Ot,Tt=Ot>>>13,nr=0|B[9],Qt=8191&nr,ar=nr>>>13;S.negative=C.negative^_.negative,S.length=19;var mr=(Q+(j=Math.imul(F,Ve))|0)+((8191&(N=(N=Math.imul(F,Xe))+Math.imul(Y,Ve)|0))<<13)|0;Q=((M=Math.imul(Y,Xe))+(N>>>13)|0)+(mr>>>26)|0,mr&=67108863,j=Math.imul(U,Ve),N=(N=Math.imul(U,Xe))+Math.imul(Z,Ve)|0,M=Math.imul(Z,Xe);var en=(Q+(j=j+Math.imul(F,Xt)|0)|0)+((8191&(N=(N=N+Math.imul(F,wt)|0)+Math.imul(Y,Xt)|0))<<13)|0;Q=((M=M+Math.imul(Y,wt)|0)+(N>>>13)|0)+(en>>>26)|0,en&=67108863,j=Math.imul(me,Ve),N=(N=Math.imul(me,Xe))+Math.imul(ce,Ve)|0,M=Math.imul(ce,Xe),j=j+Math.imul(U,Xt)|0,N=(N=N+Math.imul(U,wt)|0)+Math.imul(Z,Xt)|0,M=M+Math.imul(Z,wt)|0;var Ir=(Q+(j=j+Math.imul(F,bt)|0)|0)+((8191&(N=(N=N+Math.imul(F,It)|0)+Math.imul(Y,bt)|0))<<13)|0;Q=((M=M+Math.imul(Y,It)|0)+(N>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,j=Math.imul(ee,Ve),N=(N=Math.imul(ee,Xe))+Math.imul(oe,Ve)|0,M=Math.imul(oe,Xe),j=j+Math.imul(me,Xt)|0,N=(N=N+Math.imul(me,wt)|0)+Math.imul(ce,Xt)|0,M=M+Math.imul(ce,wt)|0,j=j+Math.imul(U,bt)|0,N=(N=N+Math.imul(U,It)|0)+Math.imul(Z,bt)|0,M=M+Math.imul(Z,It)|0;var Se=(Q+(j=j+Math.imul(F,Sr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Ft)|0)+Math.imul(Y,Sr)|0))<<13)|0;Q=((M=M+Math.imul(Y,Ft)|0)+(N>>>13)|0)+(Se>>>26)|0,Se&=67108863,j=Math.imul(fe,Ve),N=(N=Math.imul(fe,Xe))+Math.imul(le,Ve)|0,M=Math.imul(le,Xe),j=j+Math.imul(ee,Xt)|0,N=(N=N+Math.imul(ee,wt)|0)+Math.imul(oe,Xt)|0,M=M+Math.imul(oe,wt)|0,j=j+Math.imul(me,bt)|0,N=(N=N+Math.imul(me,It)|0)+Math.imul(ce,bt)|0,M=M+Math.imul(ce,It)|0,j=j+Math.imul(U,Sr)|0,N=(N=N+Math.imul(U,Ft)|0)+Math.imul(Z,Sr)|0,M=M+Math.imul(Z,Ft)|0;var lt=(Q+(j=j+Math.imul(F,or)|0)|0)+((8191&(N=(N=N+Math.imul(F,Ht)|0)+Math.imul(Y,or)|0))<<13)|0;Q=((M=M+Math.imul(Y,Ht)|0)+(N>>>13)|0)+(lt>>>26)|0,lt&=67108863,j=Math.imul(te,Ve),N=(N=Math.imul(te,Xe))+Math.imul(se,Ve)|0,M=Math.imul(se,Xe),j=j+Math.imul(fe,Xt)|0,N=(N=N+Math.imul(fe,wt)|0)+Math.imul(le,Xt)|0,M=M+Math.imul(le,wt)|0,j=j+Math.imul(ee,bt)|0,N=(N=N+Math.imul(ee,It)|0)+Math.imul(oe,bt)|0,M=M+Math.imul(oe,It)|0,j=j+Math.imul(me,Sr)|0,N=(N=N+Math.imul(me,Ft)|0)+Math.imul(ce,Sr)|0,M=M+Math.imul(ce,Ft)|0,j=j+Math.imul(U,or)|0,N=(N=N+Math.imul(U,Ht)|0)+Math.imul(Z,or)|0,M=M+Math.imul(Z,Ht)|0;var he=(Q+(j=j+Math.imul(F,gr)|0)|0)+((8191&(N=(N=N+Math.imul(F,rr)|0)+Math.imul(Y,gr)|0))<<13)|0;Q=((M=M+Math.imul(Y,rr)|0)+(N>>>13)|0)+(he>>>26)|0,he&=67108863,j=Math.imul(ge,Ve),N=(N=Math.imul(ge,Xe))+Math.imul(ke,Ve)|0,M=Math.imul(ke,Xe),j=j+Math.imul(te,Xt)|0,N=(N=N+Math.imul(te,wt)|0)+Math.imul(se,Xt)|0,M=M+Math.imul(se,wt)|0,j=j+Math.imul(fe,bt)|0,N=(N=N+Math.imul(fe,It)|0)+Math.imul(le,bt)|0,M=M+Math.imul(le,It)|0,j=j+Math.imul(ee,Sr)|0,N=(N=N+Math.imul(ee,Ft)|0)+Math.imul(oe,Sr)|0,M=M+Math.imul(oe,Ft)|0,j=j+Math.imul(me,or)|0,N=(N=N+Math.imul(me,Ht)|0)+Math.imul(ce,or)|0,M=M+Math.imul(ce,Ht)|0,j=j+Math.imul(U,gr)|0,N=(N=N+Math.imul(U,rr)|0)+Math.imul(Z,gr)|0,M=M+Math.imul(Z,rr)|0;var je=(Q+(j=j+Math.imul(F,Me)|0)|0)+((8191&(N=(N=N+Math.imul(F,We)|0)+Math.imul(Y,Me)|0))<<13)|0;Q=((M=M+Math.imul(Y,We)|0)+(N>>>13)|0)+(je>>>26)|0,je&=67108863,j=Math.imul(Oe,Ve),N=(N=Math.imul(Oe,Xe))+Math.imul(Le,Ve)|0,M=Math.imul(Le,Xe),j=j+Math.imul(ge,Xt)|0,N=(N=N+Math.imul(ge,wt)|0)+Math.imul(ke,Xt)|0,M=M+Math.imul(ke,wt)|0,j=j+Math.imul(te,bt)|0,N=(N=N+Math.imul(te,It)|0)+Math.imul(se,bt)|0,M=M+Math.imul(se,It)|0,j=j+Math.imul(fe,Sr)|0,N=(N=N+Math.imul(fe,Ft)|0)+Math.imul(le,Sr)|0,M=M+Math.imul(le,Ft)|0,j=j+Math.imul(ee,or)|0,N=(N=N+Math.imul(ee,Ht)|0)+Math.imul(oe,or)|0,M=M+Math.imul(oe,Ht)|0,j=j+Math.imul(me,gr)|0,N=(N=N+Math.imul(me,rr)|0)+Math.imul(ce,gr)|0,M=M+Math.imul(ce,rr)|0,j=j+Math.imul(U,Me)|0,N=(N=N+Math.imul(U,We)|0)+Math.imul(Z,Me)|0,M=M+Math.imul(Z,We)|0;var Be=(Q+(j=j+Math.imul(F,$t)|0)|0)+((8191&(N=(N=N+Math.imul(F,ut)|0)+Math.imul(Y,$t)|0))<<13)|0;Q=((M=M+Math.imul(Y,ut)|0)+(N>>>13)|0)+(Be>>>26)|0,Be&=67108863,j=Math.imul(Qe,Ve),N=(N=Math.imul(Qe,Xe))+Math.imul(yt,Ve)|0,M=Math.imul(yt,Xe),j=j+Math.imul(Oe,Xt)|0,N=(N=N+Math.imul(Oe,wt)|0)+Math.imul(Le,Xt)|0,M=M+Math.imul(Le,wt)|0,j=j+Math.imul(ge,bt)|0,N=(N=N+Math.imul(ge,It)|0)+Math.imul(ke,bt)|0,M=M+Math.imul(ke,It)|0,j=j+Math.imul(te,Sr)|0,N=(N=N+Math.imul(te,Ft)|0)+Math.imul(se,Sr)|0,M=M+Math.imul(se,Ft)|0,j=j+Math.imul(fe,or)|0,N=(N=N+Math.imul(fe,Ht)|0)+Math.imul(le,or)|0,M=M+Math.imul(le,Ht)|0,j=j+Math.imul(ee,gr)|0,N=(N=N+Math.imul(ee,rr)|0)+Math.imul(oe,gr)|0,M=M+Math.imul(oe,rr)|0,j=j+Math.imul(me,Me)|0,N=(N=N+Math.imul(me,We)|0)+Math.imul(ce,Me)|0,M=M+Math.imul(ce,We)|0,j=j+Math.imul(U,$t)|0,N=(N=N+Math.imul(U,ut)|0)+Math.imul(Z,$t)|0,M=M+Math.imul(Z,ut)|0;var Ze=(Q+(j=j+Math.imul(F,Kt)|0)|0)+((8191&(N=(N=N+Math.imul(F,Tt)|0)+Math.imul(Y,Kt)|0))<<13)|0;Q=((M=M+Math.imul(Y,Tt)|0)+(N>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,j=Math.imul(et,Ve),N=(N=Math.imul(et,Xe))+Math.imul(xe,Ve)|0,M=Math.imul(xe,Xe),j=j+Math.imul(Qe,Xt)|0,N=(N=N+Math.imul(Qe,wt)|0)+Math.imul(yt,Xt)|0,M=M+Math.imul(yt,wt)|0,j=j+Math.imul(Oe,bt)|0,N=(N=N+Math.imul(Oe,It)|0)+Math.imul(Le,bt)|0,M=M+Math.imul(Le,It)|0,j=j+Math.imul(ge,Sr)|0,N=(N=N+Math.imul(ge,Ft)|0)+Math.imul(ke,Sr)|0,M=M+Math.imul(ke,Ft)|0,j=j+Math.imul(te,or)|0,N=(N=N+Math.imul(te,Ht)|0)+Math.imul(se,or)|0,M=M+Math.imul(se,Ht)|0,j=j+Math.imul(fe,gr)|0,N=(N=N+Math.imul(fe,rr)|0)+Math.imul(le,gr)|0,M=M+Math.imul(le,rr)|0,j=j+Math.imul(ee,Me)|0,N=(N=N+Math.imul(ee,We)|0)+Math.imul(oe,Me)|0,M=M+Math.imul(oe,We)|0,j=j+Math.imul(me,$t)|0,N=(N=N+Math.imul(me,ut)|0)+Math.imul(ce,$t)|0,M=M+Math.imul(ce,ut)|0,j=j+Math.imul(U,Kt)|0,N=(N=N+Math.imul(U,Tt)|0)+Math.imul(Z,Kt)|0,M=M+Math.imul(Z,Tt)|0;var jt=(Q+(j=j+Math.imul(F,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(F,ar)|0)+Math.imul(Y,Qt)|0))<<13)|0;Q=((M=M+Math.imul(Y,ar)|0)+(N>>>13)|0)+(jt>>>26)|0,jt&=67108863,j=Math.imul(et,Xt),N=(N=Math.imul(et,wt))+Math.imul(xe,Xt)|0,M=Math.imul(xe,wt),j=j+Math.imul(Qe,bt)|0,N=(N=N+Math.imul(Qe,It)|0)+Math.imul(yt,bt)|0,M=M+Math.imul(yt,It)|0,j=j+Math.imul(Oe,Sr)|0,N=(N=N+Math.imul(Oe,Ft)|0)+Math.imul(Le,Sr)|0,M=M+Math.imul(Le,Ft)|0,j=j+Math.imul(ge,or)|0,N=(N=N+Math.imul(ge,Ht)|0)+Math.imul(ke,or)|0,M=M+Math.imul(ke,Ht)|0,j=j+Math.imul(te,gr)|0,N=(N=N+Math.imul(te,rr)|0)+Math.imul(se,gr)|0,M=M+Math.imul(se,rr)|0,j=j+Math.imul(fe,Me)|0,N=(N=N+Math.imul(fe,We)|0)+Math.imul(le,Me)|0,M=M+Math.imul(le,We)|0,j=j+Math.imul(ee,$t)|0,N=(N=N+Math.imul(ee,ut)|0)+Math.imul(oe,$t)|0,M=M+Math.imul(oe,ut)|0,j=j+Math.imul(me,Kt)|0,N=(N=N+Math.imul(me,Tt)|0)+Math.imul(ce,Kt)|0,M=M+Math.imul(ce,Tt)|0;var ct=(Q+(j=j+Math.imul(U,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(U,ar)|0)+Math.imul(Z,Qt)|0))<<13)|0;Q=((M=M+Math.imul(Z,ar)|0)+(N>>>13)|0)+(ct>>>26)|0,ct&=67108863,j=Math.imul(et,bt),N=(N=Math.imul(et,It))+Math.imul(xe,bt)|0,M=Math.imul(xe,It),j=j+Math.imul(Qe,Sr)|0,N=(N=N+Math.imul(Qe,Ft)|0)+Math.imul(yt,Sr)|0,M=M+Math.imul(yt,Ft)|0,j=j+Math.imul(Oe,or)|0,N=(N=N+Math.imul(Oe,Ht)|0)+Math.imul(Le,or)|0,M=M+Math.imul(Le,Ht)|0,j=j+Math.imul(ge,gr)|0,N=(N=N+Math.imul(ge,rr)|0)+Math.imul(ke,gr)|0,M=M+Math.imul(ke,rr)|0,j=j+Math.imul(te,Me)|0,N=(N=N+Math.imul(te,We)|0)+Math.imul(se,Me)|0,M=M+Math.imul(se,We)|0,j=j+Math.imul(fe,$t)|0,N=(N=N+Math.imul(fe,ut)|0)+Math.imul(le,$t)|0,M=M+Math.imul(le,ut)|0,j=j+Math.imul(ee,Kt)|0,N=(N=N+Math.imul(ee,Tt)|0)+Math.imul(oe,Kt)|0,M=M+Math.imul(oe,Tt)|0;var ht=(Q+(j=j+Math.imul(me,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(me,ar)|0)+Math.imul(ce,Qt)|0))<<13)|0;Q=((M=M+Math.imul(ce,ar)|0)+(N>>>13)|0)+(ht>>>26)|0,ht&=67108863,j=Math.imul(et,Sr),N=(N=Math.imul(et,Ft))+Math.imul(xe,Sr)|0,M=Math.imul(xe,Ft),j=j+Math.imul(Qe,or)|0,N=(N=N+Math.imul(Qe,Ht)|0)+Math.imul(yt,or)|0,M=M+Math.imul(yt,Ht)|0,j=j+Math.imul(Oe,gr)|0,N=(N=N+Math.imul(Oe,rr)|0)+Math.imul(Le,gr)|0,M=M+Math.imul(Le,rr)|0,j=j+Math.imul(ge,Me)|0,N=(N=N+Math.imul(ge,We)|0)+Math.imul(ke,Me)|0,M=M+Math.imul(ke,We)|0,j=j+Math.imul(te,$t)|0,N=(N=N+Math.imul(te,ut)|0)+Math.imul(se,$t)|0,M=M+Math.imul(se,ut)|0,j=j+Math.imul(fe,Kt)|0,N=(N=N+Math.imul(fe,Tt)|0)+Math.imul(le,Kt)|0,M=M+Math.imul(le,Tt)|0;var lr=(Q+(j=j+Math.imul(ee,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(ee,ar)|0)+Math.imul(oe,Qt)|0))<<13)|0;Q=((M=M+Math.imul(oe,ar)|0)+(N>>>13)|0)+(lr>>>26)|0,lr&=67108863,j=Math.imul(et,or),N=(N=Math.imul(et,Ht))+Math.imul(xe,or)|0,M=Math.imul(xe,Ht),j=j+Math.imul(Qe,gr)|0,N=(N=N+Math.imul(Qe,rr)|0)+Math.imul(yt,gr)|0,M=M+Math.imul(yt,rr)|0,j=j+Math.imul(Oe,Me)|0,N=(N=N+Math.imul(Oe,We)|0)+Math.imul(Le,Me)|0,M=M+Math.imul(Le,We)|0,j=j+Math.imul(ge,$t)|0,N=(N=N+Math.imul(ge,ut)|0)+Math.imul(ke,$t)|0,M=M+Math.imul(ke,ut)|0,j=j+Math.imul(te,Kt)|0,N=(N=N+Math.imul(te,Tt)|0)+Math.imul(se,Kt)|0,M=M+Math.imul(se,Tt)|0;var fr=(Q+(j=j+Math.imul(fe,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(fe,ar)|0)+Math.imul(le,Qt)|0))<<13)|0;Q=((M=M+Math.imul(le,ar)|0)+(N>>>13)|0)+(fr>>>26)|0,fr&=67108863,j=Math.imul(et,gr),N=(N=Math.imul(et,rr))+Math.imul(xe,gr)|0,M=Math.imul(xe,rr),j=j+Math.imul(Qe,Me)|0,N=(N=N+Math.imul(Qe,We)|0)+Math.imul(yt,Me)|0,M=M+Math.imul(yt,We)|0,j=j+Math.imul(Oe,$t)|0,N=(N=N+Math.imul(Oe,ut)|0)+Math.imul(Le,$t)|0,M=M+Math.imul(Le,ut)|0,j=j+Math.imul(ge,Kt)|0,N=(N=N+Math.imul(ge,Tt)|0)+Math.imul(ke,Kt)|0,M=M+Math.imul(ke,Tt)|0;var Ut=(Q+(j=j+Math.imul(te,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(te,ar)|0)+Math.imul(se,Qt)|0))<<13)|0;Q=((M=M+Math.imul(se,ar)|0)+(N>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,j=Math.imul(et,Me),N=(N=Math.imul(et,We))+Math.imul(xe,Me)|0,M=Math.imul(xe,We),j=j+Math.imul(Qe,$t)|0,N=(N=N+Math.imul(Qe,ut)|0)+Math.imul(yt,$t)|0,M=M+Math.imul(yt,ut)|0,j=j+Math.imul(Oe,Kt)|0,N=(N=N+Math.imul(Oe,Tt)|0)+Math.imul(Le,Kt)|0,M=M+Math.imul(Le,Tt)|0;var Vt=(Q+(j=j+Math.imul(ge,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(ge,ar)|0)+Math.imul(ke,Qt)|0))<<13)|0;Q=((M=M+Math.imul(ke,ar)|0)+(N>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,j=Math.imul(et,$t),N=(N=Math.imul(et,ut))+Math.imul(xe,$t)|0,M=Math.imul(xe,ut),j=j+Math.imul(Qe,Kt)|0,N=(N=N+Math.imul(Qe,Tt)|0)+Math.imul(yt,Kt)|0,M=M+Math.imul(yt,Tt)|0;var wr=(Q+(j=j+Math.imul(Oe,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(Oe,ar)|0)+Math.imul(Le,Qt)|0))<<13)|0;Q=((M=M+Math.imul(Le,ar)|0)+(N>>>13)|0)+(wr>>>26)|0,wr&=67108863,j=Math.imul(et,Kt),N=(N=Math.imul(et,Tt))+Math.imul(xe,Kt)|0,M=Math.imul(xe,Tt);var Hr=(Q+(j=j+Math.imul(Qe,Qt)|0)|0)+((8191&(N=(N=N+Math.imul(Qe,ar)|0)+Math.imul(yt,Qt)|0))<<13)|0;Q=((M=M+Math.imul(yt,ar)|0)+(N>>>13)|0)+(Hr>>>26)|0,Hr&=67108863;var Vr=(Q+(j=Math.imul(et,Qt))|0)+((8191&(N=(N=Math.imul(et,ar))+Math.imul(xe,Qt)|0))<<13)|0;return Q=((M=Math.imul(xe,ar))+(N>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,G[0]=mr,G[1]=en,G[2]=Ir,G[3]=Se,G[4]=lt,G[5]=he,G[6]=je,G[7]=Be,G[8]=Ze,G[9]=jt,G[10]=ct,G[11]=ht,G[12]=lr,G[13]=fr,G[14]=Ut,G[15]=Vt,G[16]=wr,G[17]=Hr,G[18]=Vr,Q!==0&&(G[19]=Q,S.length++),S};function A(C,_,S){S.negative=_.negative^C.negative,S.length=C.length+_.length;for(var j=0,N=0,M=0;M<S.length-1;M++){var O=N;N=0;for(var B=67108863&j,G=Math.min(M,_.length-1),Q=Math.max(0,M-C.length+1);Q<=G;Q++){var re=M-Q,F=(0|C.words[re])*(0|_.words[Q]),Y=67108863&F;B=67108863&(Y=Y+B|0),N+=(O=(O=O+(F/67108864|0)|0)+(Y>>>26)|0)>>>26,O&=67108863}S.words[M]=B,j=O,O=N}return j!==0?S.words[M]=j:S.length--,S._strip()}function L(C,_,S){return A(C,_,S)}Math.imul||(T=k),c.prototype.mulTo=function(C,_){var S=this.length+C.length;return this.length===10&&C.length===10?T(this,C,_):S<63?k(this,C,_):S<1024?A(this,C,_):L(this,C,_)},c.prototype.mul=function(C){var _=new c(null);return _.words=new Array(this.length+C.length),this.mulTo(C,_)},c.prototype.mulf=function(C){var _=new c(null);return _.words=new Array(this.length+C.length),L(this,C,_)},c.prototype.imul=function(C){return this.clone().mulTo(C,this)},c.prototype.imuln=function(C){var _=C<0;_&&(C=-C),l(typeof C=="number"),l(C<67108864);for(var S=0,j=0;j<this.length;j++){var N=(0|this.words[j])*C,M=(67108863&N)+(67108863&S);S>>=26,S+=N/67108864|0,S+=M>>>26,this.words[j]=67108863&M}return S!==0&&(this.words[j]=S,this.length++),_?this.ineg():this},c.prototype.muln=function(C){return this.clone().imuln(C)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(C){var _=(function(M){for(var O=new Array(M.bitLength()),B=0;B<O.length;B++){var G=B/26|0,Q=B%26;O[B]=M.words[G]>>>Q&1}return O})(C);if(_.length===0)return new c(1);for(var S=this,j=0;j<_.length&&_[j]===0;j++,S=S.sqr());if(++j<_.length)for(var N=S.sqr();j<_.length;j++,N=N.sqr())_[j]!==0&&(S=S.mul(N));return S},c.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var _,S=C%26,j=(C-S)/26,N=67108863>>>26-S<<26-S;if(S!==0){var M=0;for(_=0;_<this.length;_++){var O=this.words[_]&N,B=(0|this.words[_])-O<<S;this.words[_]=B|M,M=O>>>26-S}M&&(this.words[_]=M,this.length++)}if(j!==0){for(_=this.length-1;_>=0;_--)this.words[_+j]=this.words[_];for(_=0;_<j;_++)this.words[_]=0;this.length+=j}return this._strip()},c.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},c.prototype.iushrn=function(C,_,S){var j;l(typeof C=="number"&&C>=0),j=_?(_-_%26)/26:0;var N=C%26,M=Math.min((C-N)/26,this.length),O=67108863^67108863>>>N<<N,B=S;if(j-=M,j=Math.max(0,j),B){for(var G=0;G<M;G++)B.words[G]=this.words[G];B.length=M}if(M!==0)if(this.length>M)for(this.length-=M,G=0;G<this.length;G++)this.words[G]=this.words[G+M];else this.words[0]=0,this.length=1;var Q=0;for(G=this.length-1;G>=0&&(Q!==0||G>=j);G--){var re=0|this.words[G];this.words[G]=Q<<26-N|re>>>N,Q=re&O}return B&&Q!==0&&(B.words[B.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(C,_,S){return l(this.negative===0),this.iushrn(C,_,S)},c.prototype.shln=function(C){return this.clone().ishln(C)},c.prototype.ushln=function(C){return this.clone().iushln(C)},c.prototype.shrn=function(C){return this.clone().ishrn(C)},c.prototype.ushrn=function(C){return this.clone().iushrn(C)},c.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var _=C%26,S=(C-_)/26,j=1<<_;return!(this.length<=S)&&!!(this.words[S]&j)},c.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var _=C%26,S=(C-_)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var j=67108863^67108863>>>_<<_;this.words[this.length-1]&=j}return this._strip()},c.prototype.maskn=function(C){return this.clone().imaskn(C)},c.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},c.prototype._iaddn=function(C){this.words[0]+=C;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},c.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},c.prototype.addn=function(C){return this.clone().iaddn(C)},c.prototype.subn=function(C){return this.clone().isubn(C)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(C,_,S){var j,N,M=C.length+S;this._expand(M);var O=0;for(j=0;j<C.length;j++){N=(0|this.words[j+S])+O;var B=(0|C.words[j])*_;O=((N-=67108863&B)>>26)-(B/67108864|0),this.words[j+S]=67108863&N}for(;j<this.length-S;j++)O=(N=(0|this.words[j+S])+O)>>26,this.words[j+S]=67108863&N;if(O===0)return this._strip();for(l(O===-1),O=0,j=0;j<this.length;j++)O=(N=-(0|this.words[j])+O)>>26,this.words[j]=67108863&N;return this.negative=1,this._strip()},c.prototype._wordDiv=function(C,_){var S=(this.length,C.length),j=this.clone(),N=C,M=0|N.words[N.length-1];(S=26-this._countBits(M))!==0&&(N=N.ushln(S),j.iushln(S),M=0|N.words[N.length-1]);var O,B=j.length-N.length;if(_!=="mod"){(O=new c(null)).length=B+1,O.words=new Array(O.length);for(var G=0;G<O.length;G++)O.words[G]=0}var Q=j.clone()._ishlnsubmul(N,1,B);Q.negative===0&&(j=Q,O&&(O.words[B]=1));for(var re=B-1;re>=0;re--){var F=67108864*(0|j.words[N.length+re])+(0|j.words[N.length+re-1]);for(F=Math.min(F/M|0,67108863),j._ishlnsubmul(N,F,re);j.negative!==0;)F--,j.negative=0,j._ishlnsubmul(N,1,re),j.isZero()||(j.negative^=1);O&&(O.words[re]=F)}return O&&O._strip(),j._strip(),_!=="div"&&S!==0&&j.iushrn(S),{div:O||null,mod:j}},c.prototype.divmod=function(C,_,S){return l(!C.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&C.negative===0?(M=this.neg().divmod(C,_),_!=="mod"&&(j=M.div.neg()),_!=="div"&&(N=M.mod.neg(),S&&N.negative!==0&&N.iadd(C)),{div:j,mod:N}):this.negative===0&&C.negative!==0?(M=this.divmod(C.neg(),_),_!=="mod"&&(j=M.div.neg()),{div:j,mod:M.mod}):(this.negative&C.negative)!=0?(M=this.neg().divmod(C.neg(),_),_!=="div"&&(N=M.mod.neg(),S&&N.negative!==0&&N.isub(C)),{div:M.div,mod:N}):C.length>this.length||this.cmp(C)<0?{div:new c(0),mod:this}:C.length===1?_==="div"?{div:this.divn(C.words[0]),mod:null}:_==="mod"?{div:null,mod:new c(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new c(this.modrn(C.words[0]))}:this._wordDiv(C,_);var j,N,M},c.prototype.div=function(C){return this.divmod(C,"div",!1).div},c.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},c.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},c.prototype.divRound=function(C){var _=this.divmod(C);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(C):_.mod,j=C.ushrn(1),N=C.andln(1),M=S.cmp(j);return M<0||N===1&&M===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},c.prototype.modrn=function(C){var _=C<0;_&&(C=-C),l(C<=67108863);for(var S=(1<<26)%C,j=0,N=this.length-1;N>=0;N--)j=(S*j+(0|this.words[N]))%C;return _?-j:j},c.prototype.modn=function(C){return this.modrn(C)},c.prototype.idivn=function(C){var _=C<0;_&&(C=-C),l(C<=67108863);for(var S=0,j=this.length-1;j>=0;j--){var N=(0|this.words[j])+67108864*S;this.words[j]=N/C|0,S=N%C}return this._strip(),_?this.ineg():this},c.prototype.divn=function(C){return this.clone().idivn(C)},c.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var _=this,S=C.clone();_=_.negative!==0?_.umod(C):_.clone();for(var j=new c(1),N=new c(0),M=new c(0),O=new c(1),B=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++B;for(var G=S.clone(),Q=_.clone();!_.isZero();){for(var re=0,F=1;(_.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(_.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(G),N.isub(Q)),j.iushrn(1),N.iushrn(1);for(var Y=0,V=1;(S.words[0]&V)==0&&Y<26;++Y,V<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(M.isOdd()||O.isOdd())&&(M.iadd(G),O.isub(Q)),M.iushrn(1),O.iushrn(1);_.cmp(S)>=0?(_.isub(S),j.isub(M),N.isub(O)):(S.isub(_),M.isub(j),O.isub(N))}return{a:M,b:O,gcd:S.iushln(B)}},c.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var _=this,S=C.clone();_=_.negative!==0?_.umod(C):_.clone();for(var j,N=new c(1),M=new c(0),O=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var B=0,G=1;(_.words[0]&G)==0&&B<26;++B,G<<=1);if(B>0)for(_.iushrn(B);B-- >0;)N.isOdd()&&N.iadd(O),N.iushrn(1);for(var Q=0,re=1;(S.words[0]&re)==0&&Q<26;++Q,re<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)M.isOdd()&&M.iadd(O),M.iushrn(1);_.cmp(S)>=0?(_.isub(S),N.isub(M)):(S.isub(_),M.isub(N))}return(j=_.cmpn(1)===0?N:M).cmpn(0)<0&&j.iadd(C),j},c.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var _=this.clone(),S=C.clone();_.negative=0,S.negative=0;for(var j=0;_.isEven()&&S.isEven();j++)_.iushrn(1),S.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var N=_.cmp(S);if(N<0){var M=_;_=S,S=M}else if(N===0||S.cmpn(1)===0)break;_.isub(S)}return S.iushln(j)},c.prototype.invm=function(C){return this.egcd(C).a.umod(C)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(C){return this.words[0]&C},c.prototype.bincn=function(C){l(typeof C=="number");var _=C%26,S=(C-_)/26,j=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=j,this;for(var N=j,M=S;N!==0&&M<this.length;M++){var O=0|this.words[M];N=(O+=N)>>>26,O&=67108863,this.words[M]=O}return N!==0&&(this.words[M]=N,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(C){var _,S=C<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)_=1;else{S&&(C=-C),l(C<=67108863,"Number is too big");var j=0|this.words[0];_=j===C?0:j<C?-1:1}return this.negative!==0?0|-_:_},c.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var _=this.ucmp(C);return this.negative!==0?0|-_:_},c.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var j=0|this.words[S],N=0|C.words[S];if(j!==N){j<N?_=-1:j>N&&(_=1);break}}return _},c.prototype.gtn=function(C){return this.cmpn(C)===1},c.prototype.gt=function(C){return this.cmp(C)===1},c.prototype.gten=function(C){return this.cmpn(C)>=0},c.prototype.gte=function(C){return this.cmp(C)>=0},c.prototype.ltn=function(C){return this.cmpn(C)===-1},c.prototype.lt=function(C){return this.cmp(C)===-1},c.prototype.lten=function(C){return this.cmpn(C)<=0},c.prototype.lte=function(C){return this.cmp(C)<=0},c.prototype.eqn=function(C){return this.cmpn(C)===0},c.prototype.eq=function(C){return this.cmp(C)===0},c.red=function(C){return new P(C)},c.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},c.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(C){return this.red=C,this},c.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},c.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},c.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},c.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},c.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},c.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},c.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},c.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},c.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var q={k256:null,p224:null,p192:null,p25519:null};function D(C,_){this.name=C,this.p=new c(_,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function K(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(C){if(typeof C=="string"){var _=c._prime(C);this.m=_.p,this.prime=_}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function R(C){P.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var C=new c(null);return C.words=new Array(Math.ceil(this.n/13)),C},D.prototype.ireduce=function(C){var _,S=C;do this.split(S,this.tmp),_=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(_>this.n);var j=_<this.n?-1:S.ucmp(this.p);return j===0?(S.words[0]=0,S.length=1):j>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},D.prototype.split=function(C,_){C.iushrn(this.n,0,_)},D.prototype.imulK=function(C){return C.imul(this.k)},u($,D),$.prototype.split=function(C,_){for(var S=Math.min(C.length,9),j=0;j<S;j++)_.words[j]=C.words[j];if(_.length=S,C.length<=9)return C.words[0]=0,void(C.length=1);var N=C.words[9];for(_.words[_.length++]=4194303&N,j=10;j<C.length;j++){var M=0|C.words[j];C.words[j-10]=(4194303&M)<<4|N>>>22,N=M}N>>>=22,C.words[j-10]=N,N===0&&C.length>10?C.length-=10:C.length-=9},$.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var _=0,S=0;S<C.length;S++){var j=0|C.words[S];_+=977*j,C.words[S]=67108863&_,_=64*j+(_/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},u(z,D),u(K,D),u(W,D),W.prototype.imulK=function(C){for(var _=0,S=0;S<C.length;S++){var j=19*(0|C.words[S])+_,N=67108863&j;j>>>=26,C.words[S]=N,_=j}return _!==0&&(C.words[C.length++]=_),C},c._prime=function(C){if(q[C])return q[C];var _;if(C==="k256")_=new $;else if(C==="p224")_=new z;else if(C==="p192")_=new K;else{if(C!=="p25519")throw new Error("Unknown prime "+C);_=new W}return q[C]=_,_},P.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},P.prototype._verify2=function(C,_){l((C.negative|_.negative)==0,"red works only with positives"),l(C.red&&C.red===_.red,"red works only with red numbers")},P.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(g(C,C.umod(this.m)._forceRed(this)),C)},P.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},P.prototype.add=function(C,_){this._verify2(C,_);var S=C.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},P.prototype.iadd=function(C,_){this._verify2(C,_);var S=C.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},P.prototype.sub=function(C,_){this._verify2(C,_);var S=C.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},P.prototype.isub=function(C,_){this._verify2(C,_);var S=C.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},P.prototype.shl=function(C,_){return this._verify1(C),this.imod(C.ushln(_))},P.prototype.imul=function(C,_){return this._verify2(C,_),this.imod(C.imul(_))},P.prototype.mul=function(C,_){return this._verify2(C,_),this.imod(C.mul(_))},P.prototype.isqr=function(C){return this.imul(C,C.clone())},P.prototype.sqr=function(C){return this.mul(C,C)},P.prototype.sqrt=function(C){if(C.isZero())return C.clone();var _=this.m.andln(3);if(l(_%2==1),_===3){var S=this.m.add(new c(1)).iushrn(2);return this.pow(C,S)}for(var j=this.m.subn(1),N=0;!j.isZero()&&j.andln(1)===0;)N++,j.iushrn(1);l(!j.isZero());var M=new c(1).toRed(this),O=M.redNeg(),B=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new c(2*G*G).toRed(this);this.pow(G,B).cmp(O)!==0;)G.redIAdd(O);for(var Q=this.pow(G,j),re=this.pow(C,j.addn(1).iushrn(1)),F=this.pow(C,j),Y=N;F.cmp(M)!==0;){for(var V=F,U=0;V.cmp(M)!==0;U++)V=V.redSqr();l(U<Y);var Z=this.pow(Q,new c(1).iushln(Y-U-1));re=re.redMul(Z),Q=Z.redSqr(),F=F.redMul(Q),Y=U}return re},P.prototype.invm=function(C){var _=C._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},P.prototype.pow=function(C,_){if(_.isZero())return new c(1).toRed(this);if(_.cmpn(1)===0)return C.clone();var S=new Array(16);S[0]=new c(1).toRed(this),S[1]=C;for(var j=2;j<S.length;j++)S[j]=this.mul(S[j-1],C);var N=S[0],M=0,O=0,B=_.bitLength()%26;for(B===0&&(B=26),j=_.length-1;j>=0;j--){for(var G=_.words[j],Q=B-1;Q>=0;Q--){var re=G>>Q&1;N!==S[0]&&(N=this.sqr(N)),re!==0||M!==0?(M<<=1,M|=re,(++O===4||j===0&&Q===0)&&(N=this.mul(N,S[M]),O=0,M=0)):O=0}B=26}return N},P.prototype.convertTo=function(C){var _=C.umod(this.m);return _===C?_.clone():_},P.prototype.convertFrom=function(C){var _=C.clone();return _.red=null,_},c.mont=function(C){return new R(C)},u(R,P),R.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},R.prototype.convertFrom=function(C){var _=this.imod(C.mul(this.rinv));return _.red=null,_},R.prototype.imul=function(C,_){if(C.isZero()||_.isZero())return C.words[0]=0,C.length=1,C;var S=C.imul(_),j=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(j).iushrn(this.shift),M=N;return N.cmp(this.m)>=0?M=N.isub(this.m):N.cmpn(0)<0&&(M=N.iadd(this.m)),M._forceRed(this)},R.prototype.mul=function(C,_){if(C.isZero()||_.isZero())return new c(0)._forceRed(this);var S=C.mul(_),j=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(j).iushrn(this.shift),M=N;return N.cmp(this.m)>=0?M=N.isub(this.m):N.cmpn(0)<0&&(M=N.iadd(this.m)),M._forceRed(this)},R.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(t,s,n){var i;function a(u){this.rand=u}if(s.exports=function(u){return i||(i=new a(null)),i.generate(u)},s.exports.Rand=a,a.prototype.generate=function(u){return this._rand(u)},a.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var c=new Uint8Array(u),d=0;d<c.length;d++)c[d]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(u){var c=new Uint8Array(u);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(u){var c=new Uint8Array(u);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=t("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(u){return l.randomBytes(u)}}catch{}},{crypto:188}],188:[function(t,s,n){},{}],189:[function(t,s,n){var i=t("safe-buffer").Buffer;function a(f){i.isBuffer(f)||(f=i.from(f));for(var h=f.length/4|0,g=new Array(h),y=0;y<h;y++)g[y]=f.readUInt32BE(4*y);return g}function l(f){for(;0<f.length;f++)f[0]=0}function u(f,h,g,y,m){for(var v,x,k,T,A=g[0],L=g[1],q=g[2],D=g[3],$=f[0]^h[0],z=f[1]^h[1],K=f[2]^h[2],W=f[3]^h[3],P=4,R=1;R<m;R++)v=A[$>>>24]^L[z>>>16&255]^q[K>>>8&255]^D[255&W]^h[P++],x=A[z>>>24]^L[K>>>16&255]^q[W>>>8&255]^D[255&$]^h[P++],k=A[K>>>24]^L[W>>>16&255]^q[$>>>8&255]^D[255&z]^h[P++],T=A[W>>>24]^L[$>>>16&255]^q[z>>>8&255]^D[255&K]^h[P++],$=v,z=x,K=k,W=T;return v=(y[$>>>24]<<24|y[z>>>16&255]<<16|y[K>>>8&255]<<8|y[255&W])^h[P++],x=(y[z>>>24]<<24|y[K>>>16&255]<<16|y[W>>>8&255]<<8|y[255&$])^h[P++],k=(y[K>>>24]<<24|y[W>>>16&255]<<16|y[$>>>8&255]<<8|y[255&z])^h[P++],T=(y[W>>>24]<<24|y[$>>>16&255]<<16|y[z>>>8&255]<<8|y[255&K])^h[P++],[v>>>=0,x>>>=0,k>>>=0,T>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],x=0,k=0,T=0;T<256;++T){var A=k^k<<1^k<<2^k<<3^k<<4;A=A>>>8^255&A^99,g[x]=A,y[A]=x;var L=f[x],q=f[L],D=f[q],$=257*f[A]^16843008*A;m[0][x]=$<<24|$>>>8,m[1][x]=$<<16|$>>>16,m[2][x]=$<<8|$>>>24,m[3][x]=$,$=16843009*D^65537*q^257*L^16843008*x,v[0][A]=$<<24|$>>>8,v[1][A]=$<<16|$>>>16,v[2][A]=$<<8|$>>>24,v[3][A]=$,x===0?x=k=1:(x=L^f[f[f[D^L]]],k^=f[f[k]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function p(f){this._key=a(f),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,y=4*(g+1),m=[],v=0;v<h;v++)m[v]=f[v];for(v=h;v<y;v++){var x=m[v-1];v%h==0?(x=x<<8|x>>>24,x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x],x^=c[v/h|0]<<24):h>6&&v%h==4&&(x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x]),m[v]=m[v-h]^x}for(var k=[],T=0;T<y;T++){var A=y-T,L=m[A-(T%4?0:4)];k[T]=T<4||A<=4?L:d.INV_SUB_MIX[0][d.SBOX[L>>>24]]^d.INV_SUB_MIX[1][d.SBOX[L>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[L>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&L]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=k},p.prototype.encryptBlockRaw=function(f){return u(f=a(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},p.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},p.prototype.decryptBlock=function(f){var h=(f=a(f))[1];f[1]=f[3],f[3]=h;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},p.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},s.exports.AES=p},{"safe-buffer":494}],190:[function(t,s,n){var i=t("./aes"),a=t("safe-buffer").Buffer,l=t("cipher-base"),u=t("inherits"),c=t("./ghash"),d=t("buffer-xor"),p=t("./incr32");function f(h,g,y,m){l.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(g);var x=this._cipher.encryptBlock(v);this._ghash=new c(x),y=(function(k,T,A){if(T.length===12)return k._finID=a.concat([T,a.from([0,0,0,1])]),a.concat([T,a.from([0,0,0,2])]);var L=new c(A),q=T.length,D=q%16;L.update(T),D&&(D=16-D,L.update(a.alloc(D,0))),L.update(a.alloc(8,0));var $=8*q,z=a.alloc(8);z.writeUIntBE($,0,8),L.update(z),k._finID=L.state;var K=a.from(k._finID);return p(K),K})(this,y,x),this._prev=a.from(y),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}u(f,l),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),x=0;x<v;++x)m+=g[x]^y[x];return m})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},s.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,s,n){var i=t("./encrypter"),a=t("./decrypter"),l=t("./modes/list.json");n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv,n.createDecipher=n.Decipher=a.createDecipher,n.createDecipheriv=n.Decipheriv=a.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,s,n){var i=t("./authCipher"),a=t("safe-buffer").Buffer,l=t("./modes"),u=t("./streamCipher"),c=t("cipher-base"),d=t("./aes"),p=t("evp_bytestokey");function f(y,m,v){c.call(this),this._cache=new h,this._last=void 0,this._cipher=new d.AES(m),this._prev=a.from(v),this._mode=y,this._autopadding=!0}function h(){this.cache=a.allocUnsafe(0)}function g(y,m,v){var x=l[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),x.mode!=="GCM"&&v.length!==x.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==x.key/8)throw new TypeError("invalid key length "+m.length);return x.type==="stream"?new u(x.module,m,v,!0):x.type==="auth"?new i(x.module,m,v,!0):new f(x.module,m,v)}t("inherits")(f,c),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var x=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),x.push(v);return a.concat(x)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var x=-1;++x<v;)if(m[x+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=a.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(y,m){var v=l[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var x=p(m,!1,v.key,v.iv);return g(y,x.key,x.iv)},n.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,s,n){var i=t("./modes"),a=t("./authCipher"),l=t("safe-buffer").Buffer,u=t("./streamCipher"),c=t("cipher-base"),d=t("./aes"),p=t("evp_bytestokey");function f(m,v,x){c.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=l.from(x),this._mode=m,this._autopadding=!0}t("inherits")(f,c),f.prototype._update=function(m){var v,x;this._cache.add(m);for(var k=[];v=this._cache.get();)x=this._mode.encrypt(this,v),k.push(x);return l.concat(k)};var h=l.alloc(16,16);function g(){this.cache=l.allocUnsafe(0)}function y(m,v,x){var k=i[m.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=l.from(v)),v.length!==k.key/8)throw new TypeError("invalid key length "+v.length);if(typeof x=="string"&&(x=l.from(x)),k.mode!=="GCM"&&x.length!==k.iv)throw new TypeError("invalid iv length "+x.length);return k.type==="stream"?new u(k.module,v,x):k.type==="auth"?new a(k.module,v,x):new f(k.module,v,x)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=l.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=l.allocUnsafe(m),x=-1;++x<m;)v.writeUInt8(m,x);return l.concat([this.cache,v])},n.createCipheriv=y,n.createCipher=function(m,v){var x=i[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var k=p(v,!1,x.key,x.iv);return y(m,k.key,k.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,s,n){var i=t("safe-buffer").Buffer,a=i.alloc(16,0);function l(c){var d=i.allocUnsafe(16);return d.writeUInt32BE(c[0]>>>0,0),d.writeUInt32BE(c[1]>>>0,4),d.writeUInt32BE(c[2]>>>0,8),d.writeUInt32BE(c[3]>>>0,12),d}function u(c){this.h=c,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(c){for(var d=-1;++d<c.length;)this.state[d]^=c[d];this._multiply()},u.prototype._multiply=function(){for(var c,d,p,f=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),p=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,p&&(f[0]=f[0]^225<<24)}this.state=l(h)},u.prototype.update=function(c){var d;for(this.cache=i.concat([this.cache,c]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(c,d){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(l([0,c,0,d])),this.state},s.exports=u},{"safe-buffer":494}],195:[function(t,s,n){s.exports=function(i){for(var a,l=i.length;l--;){if((a=i.readUInt8(l))!==255){a++,i.writeUInt8(a,l);break}i.writeUInt8(0,l)}}},{}],196:[function(t,s,n){var i=t("buffer-xor");n.encrypt=function(a,l){var u=i(l,a._prev);return a._prev=a._cipher.encryptBlock(u),a._prev},n.decrypt=function(a,l){var u=a._prev;a._prev=l;var c=a._cipher.decryptBlock(l);return i(c,u)}},{"buffer-xor":219}],197:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("buffer-xor");function l(u,c,d){var p=c.length,f=a(c,u._cache);return u._cache=u._cache.slice(p),u._prev=i.concat([u._prev,d?c:f]),f}n.encrypt=function(u,c,d){for(var p,f=i.allocUnsafe(0);c.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=i.allocUnsafe(0)),!(u._cache.length<=c.length)){f=i.concat([f,l(u,c,d)]);break}p=u._cache.length,f=i.concat([f,l(u,c.slice(0,p),d)]),c=c.slice(p)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,s,n){var i=t("safe-buffer").Buffer;function a(u,c,d){for(var p,f,h=-1,g=0;++h<8;)p=c&1<<7-h?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^p))>>h%8,u._prev=l(u._prev,d?p:f);return g}function l(u,c){var d=u.length,p=-1,f=i.allocUnsafe(u.length);for(u=i.concat([u,i.from([c])]);++p<d;)f[p]=u[p]<<1|u[p+1]>>7;return f}n.encrypt=function(u,c,d){for(var p=c.length,f=i.allocUnsafe(p),h=-1;++h<p;)f[h]=a(u,c[h],d);return f}},{"safe-buffer":494}],199:[function(t,s,n){var i=t("safe-buffer").Buffer;function a(l,u,c){var d=l._cipher.encryptBlock(l._prev)[0]^u;return l._prev=i.concat([l._prev.slice(1),i.from([c?u:d])]),d}n.encrypt=function(l,u,c){for(var d=u.length,p=i.allocUnsafe(d),f=-1;++f<d;)p[f]=a(l,u[f],c);return p}},{"safe-buffer":494}],200:[function(t,s,n){var i=t("buffer-xor"),a=t("safe-buffer").Buffer,l=t("../incr32");function u(c){var d=c._cipher.encryptBlockRaw(c._prev);return l(c._prev),d}n.encrypt=function(c,d){var p=Math.ceil(d.length/16),f=c._cache.length;c._cache=a.concat([c._cache,a.allocUnsafe(16*p)]);for(var h=0;h<p;h++){var g=u(c),y=f+16*h;c._cache.writeUInt32BE(g[0],y+0),c._cache.writeUInt32BE(g[1],y+4),c._cache.writeUInt32BE(g[2],y+8),c._cache.writeUInt32BE(g[3],y+12)}var m=c._cache.slice(0,d.length);return c._cache=c._cache.slice(d.length),i(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,s,n){n.encrypt=function(i,a){return i._cipher.encryptBlock(a)},n.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(t,s,n){var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},a=t("./list.json");for(var l in a)a[l].module=i[a[l].mode];s.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,s,n){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,s,n){(function(i){(function(){var a=t("buffer-xor");function l(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}n.encrypt=function(u,c){for(;u._cache.length<c.length;)u._cache=i.concat([u._cache,l(u)]);var d=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),a(c,d)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,s,n){var i=t("./aes"),a=t("safe-buffer").Buffer,l=t("cipher-base");function u(c,d,p,f){l.call(this),this._cipher=new i.AES(d),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=f,this._mode=c}t("inherits")(u,l),u.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},s.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,s,n){var i=t("browserify-des"),a=t("browserify-aes/browser"),l=t("browserify-aes/modes"),u=t("browserify-des/modes"),c=t("evp_bytestokey");function d(f,h,g){if(f=f.toLowerCase(),l[f])return a.createCipheriv(f,h,g);if(u[f])return new i({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function p(f,h,g){if(f=f.toLowerCase(),l[f])return a.createDecipheriv(f,h,g);if(u[f])return new i({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(f,h){var g,y;if(f=f.toLowerCase(),l[f])g=l[f].key,y=l[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=c(h,!1,g,y);return d(f,m.key,m.iv)},n.createCipheriv=n.Cipheriv=d,n.createDecipher=n.Decipher=function(f,h){var g,y;if(f=f.toLowerCase(),l[f])g=l[f].key,y=l[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=c(h,!1,g,y);return p(f,m.key,m.iv)},n.createDecipheriv=n.Decipheriv=p,n.listCiphers=n.getCiphers=function(){return Object.keys(u).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,s,n){var i=t("cipher-base"),a=t("des.js"),l=t("inherits"),u=t("safe-buffer").Buffer,c={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function d(p){i.call(this);var f,h=p.mode.toLowerCase(),g=c[h];f=p.decrypt?"decrypt":"encrypt";var y=p.key;u.isBuffer(y)||(y=u.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=p.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],s.exports=d,l(d,i),d.prototype._update=function(p){return u.from(this._des.update(p))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,s,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(t,s,n){(function(i){(function(){var a=t("bn.js"),l=t("randombytes");function u(d){var p,f=d.modulus.byteLength();do p=new a(l(f));while(p.cmp(d.modulus)>=0||!p.umod(d.prime1)||!p.umod(d.prime2));return p}function c(d,p){var f=(function(q){var D=u(q);return{blinder:D.toRed(a.mont(q.modulus)).redPow(new a(q.publicExponent)).fromRed(),unblinder:D.invm(q.modulus)}})(p),h=p.modulus.byteLength(),g=new a(d).mul(f.blinder).umod(p.modulus),y=g.toRed(a.mont(p.prime1)),m=g.toRed(a.mont(p.prime2)),v=p.coefficient,x=p.prime1,k=p.prime2,T=y.redPow(p.exponent1).fromRed(),A=m.redPow(p.exponent2).fromRed(),L=T.isub(A).imul(v).umod(x).imul(k);return A.iadd(L).imul(f.unblinder).umod(p.modulus).toArrayLike(i,"be",h)}c.getr=u,s.exports=c}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,s,n){s.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,s,n){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,s,n){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("create-hash"),l=t("readable-stream"),u=t("inherits"),c=t("./sign"),d=t("./verify"),p=t("./algorithms.json");function f(m){l.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function h(m){l.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new h(m)}Object.keys(p).forEach((function(m){p[m].id=i.from(p[m].id,"hex"),p[m.toLowerCase()]=p[m]})),u(f,l.Writable),f.prototype._write=function(m,v,x){this._hash.update(m),x()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var x=this._hash.digest(),k=c(x,m,this._hashType,this._signType,this._tag);return v?k.toString(v):k},u(h,l.Writable),h.prototype._write=function(m,v,x){this._hash.update(m),x()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},h.prototype.verify=function(m,v,x){typeof v=="string"&&(v=i.from(v,x)),this.end();var k=this._hash.digest();return d(v,k,m,this._signType,this._tag)},s.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("create-hmac"),l=t("browserify-rsa"),u=t("elliptic").ec,c=t("bn.js"),d=t("parse-asn1"),p=t("./curves.json");function f(m,v,x,k){if((m=i.from(m.toArray())).length<v.byteLength()){var T=i.alloc(v.byteLength()-m.length);m=i.concat([T,m])}var A=x.length,L=(function($,z){$=($=h($,z)).mod(z);var K=i.from($.toArray());if(K.length<z.byteLength()){var W=i.alloc(z.byteLength()-K.length);K=i.concat([W,K])}return K})(x,v),q=i.alloc(A);q.fill(1);var D=i.alloc(A);return D=a(k,D).update(q).update(i.from([0])).update(m).update(L).digest(),q=a(k,D).update(q).digest(),{k:D=a(k,D).update(q).update(i.from([1])).update(m).update(L).digest(),v:q=a(k,D).update(q).digest()}}function h(m,v){var x=new c(m),k=(m.length<<3)-v.bitLength();return k>0&&x.ishrn(k),x}function g(m,v,x){var k,T;do{for(k=i.alloc(0);8*k.length<m.bitLength();)v.v=a(x,v.k).update(v.v).digest(),k=i.concat([k,v.v]);T=h(k,m),v.k=a(x,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(x,v.k).update(v.v).digest()}while(T.cmp(m)!==-1);return T}function y(m,v,x,k){return m.toRed(c.mont(x)).redPow(v).fromRed().mod(k)}s.exports=function(m,v,x,k,T){var A=d(v);if(A.curve){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");return(function($,z){var K=p[z.curve.join(".")];if(!K)throw new Error("unknown curve "+z.curve.join("."));var W=new u(K).keyFromPrivate(z.privateKey).sign($);return i.from(W.toDER())})(m,A)}if(A.type==="dsa"){if(k!=="dsa")throw new Error("wrong private key type");return(function($,z,K){for(var W,P=z.params.priv_key,R=z.params.p,C=z.params.q,_=z.params.g,S=new c(0),j=h($,C).mod(C),N=!1,M=f(P,C,$,K);N===!1;)W=g(C,M,K),S=y(_,W,R,C),(N=W.invm(C).imul(j.add(P.mul(S))).mod(C)).cmpn(0)===0&&(N=!1,S=new c(0));return(function(O,B){O=O.toArray(),B=B.toArray(),128&O[0]&&(O=[0].concat(O)),128&B[0]&&(B=[0].concat(B));var G=[48,O.length+B.length+4,2,O.length];return G=G.concat(O,[2,B.length],B),i.from(G)})(S,N)})(m,A,x)}if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([T,m]);for(var L=A.modulus.byteLength(),q=[0,1];m.length+q.length+1<L;)q.push(255);q.push(0);for(var D=-1;++D<m.length;)q.push(m[D]);return l(q,A)},s.exports.getKey=f,s.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("bn.js"),l=t("elliptic").ec,u=t("parse-asn1"),c=t("./curves.json");function d(p,f){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(f)>=f)throw new Error("invalid sig")}s.exports=function(p,f,h,g,y){var m=u(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(q,D,$){var z=c[$.data.algorithm.curve.join(".")];if(!z)throw new Error("unknown curve "+$.data.algorithm.curve.join("."));var K=new l(z),W=$.data.subjectPrivateKey.data;return K.verify(D,q,W)})(p,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(q,D,$){var z=$.data.p,K=$.data.q,W=$.data.g,P=$.data.pub_key,R=u.signature.decode(q,"der"),C=R.s,_=R.r;d(C,K),d(_,K);var S=a.mont(z),j=C.invm(K);return W.toRed(S).redPow(new a(D).mul(j).mod(K)).fromRed().mul(P.toRed(S).redPow(_.mul(j).mod(K)).fromRed()).mod(z).mod(K).cmp(_)===0})(p,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([y,f]);for(var v=m.modulus.byteLength(),x=[1],k=0;f.length+x.length+2<v;)x.push(255),k++;x.push(0);for(var T=-1;++T<f.length;)x.push(f[T]);x=i.from(x);var A=a.mont(m.modulus);p=(p=new a(p).toRed(A)).redPow(new a(m.publicExponent)),p=i.from(p.fromRed().toArray());var L=k<8?1:0;for(v=Math.min(p.length,x.length),p.length!==x.length&&(L=1),T=-1;++T<v;)L|=p[T]^x[T];return L===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,s,n){},{}],217:[function(t,s,n){var i=t("buffer"),a=i.Buffer;function l(c,d){for(var p in c)d[p]=c[p]}function u(c,d,p){return a(c,d,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?s.exports=i:(l(i,n),n.Buffer=u),l(a,u),u.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},u.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=a(c);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],218:[function(t,s,n){var i=t("safe-buffer").Buffer,a=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(m){var v;switch(this.encoding=(function(x){var k=(function(T){if(!T)return"utf8";for(var A;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(A)return;T=(""+T).toLowerCase(),A=!0}})(x);if(typeof k!="string"&&(i.isEncoding===a||!a(x)))throw new Error("Unknown encoding: "+x);return k||x})(m),this.encoding){case"utf16le":this.text=d,this.end=p,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=f,this.end=h,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function c(m){var v=this.lastTotal-this.lastNeed,x=(function(k,T,A){if((192&T[0])!=128)return k.lastNeed=0,"";if(k.lastNeed>1&&T.length>1){if((192&T[1])!=128)return k.lastNeed=1,"";if(k.lastNeed>2&&T.length>2&&(192&T[2])!=128)return k.lastNeed=2,""}})(this,m);return x!==void 0?x:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var x=m.toString("utf16le",v);if(x){var k=x.charCodeAt(x.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function f(m,v){var x=(m.length-v)%3;return x===0?m.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-x))}function h(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}n.StringDecoder=l,l.prototype.write=function(m){if(m.length===0)return"";var v,x;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?v?v+this.text(m,x):this.text(m,x):v||""},l.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},l.prototype.text=function(m,v){var x=(function(T,A,L){var q=A.length-1;if(q<L)return 0;var D=u(A[q]);return D>=0?(D>0&&(T.lastNeed=D-1),D):--q<L||D===-2?0:(D=u(A[q]))>=0?(D>0&&(T.lastNeed=D-2),D):--q<L||D===-2?0:(D=u(A[q]))>=0?(D>0&&(D===2?D=0:T.lastNeed=D-3),D):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=x;var k=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,k),m.toString("utf8",v,k)},l.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,s,n){(function(i){(function(){s.exports=function(a,l){for(var u=Math.min(a.length,l.length),c=new i(u),d=0;d<u;++d)c[d]=a[d]^l[d];return c}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,s,n){(function(i){(function(){var a=t("base64-js"),l=t("ieee754");n.Buffer=c,n.SlowBuffer=function(V){return+V!=V&&(V=0),c.alloc(+V)},n.INSPECT_MAX_BYTES=50;function u(V){if(V>2147483647)throw new RangeError('The value "'+V+'" is invalid for option "size"');var U=new Uint8Array(V);return U.__proto__=c.prototype,U}function c(V,U,Z){if(typeof V=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return d(V,U,Z)}function d(V,U,Z){if(typeof V=="string")return(function(ce,ye){if(typeof ye=="string"&&ye!==""||(ye="utf8"),!c.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);var ee=0|y(ce,ye),oe=u(ee),ne=oe.write(ce,ye);return ne!==ee&&(oe=oe.slice(0,ne)),oe})(V,U);if(ArrayBuffer.isView(V))return h(V);if(V==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(F(V,ArrayBuffer)||V&&F(V.buffer,ArrayBuffer))return(function(ce,ye,ee){if(ye<0||ce.byteLength<ye)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<ye+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ye===void 0&&ee===void 0?new Uint8Array(ce):ee===void 0?new Uint8Array(ce,ye):new Uint8Array(ce,ye,ee),oe.__proto__=c.prototype,oe})(V,U,Z);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=V.valueOf&&V.valueOf();if(ie!=null&&ie!==V)return c.from(ie,U,Z);var me=(function(ce){if(c.isBuffer(ce)){var ye=0|g(ce.length),ee=u(ye);return ee.length===0||ce.copy(ee,0,0,ye),ee}if(ce.length!==void 0)return typeof ce.length!="number"||Y(ce.length)?u(0):h(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return h(ce.data)})(V);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return c.from(V[Symbol.toPrimitive]("string"),U,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function f(V){return p(V),u(V<0?0:0|g(V))}function h(V){for(var U=V.length<0?0:0|g(V.length),Z=u(U),ie=0;ie<U;ie+=1)Z[ie]=255&V[ie];return Z}function g(V){if(V>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|V}function y(V,U){if(c.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||F(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var Z=V.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&Z===0)return 0;for(var me=!1;;)switch(U){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return G(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Q(V).length;default:if(me)return ie?-1:G(V).length;U=(""+U).toLowerCase(),me=!0}}function m(V,U,Z){var ie=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(U>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return R(this,U,Z);case"utf8":case"utf-8":return K(this,U,Z);case"ascii":return W(this,U,Z);case"latin1":case"binary":return P(this,U,Z);case"base64":return z(this,U,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,U,Z);default:if(ie)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ie=!0}}function v(V,U,Z){var ie=V[U];V[U]=V[Z],V[Z]=ie}function x(V,U,Z,ie,me){if(V.length===0)return-1;if(typeof Z=="string"?(ie=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Y(Z=+Z)&&(Z=me?0:V.length-1),Z<0&&(Z=V.length+Z),Z>=V.length){if(me)return-1;Z=V.length-1}else if(Z<0){if(!me)return-1;Z=0}if(typeof U=="string"&&(U=c.from(U,ie)),c.isBuffer(U))return U.length===0?-1:k(V,U,Z,ie,me);if(typeof U=="number")return U&=255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(V,U,Z):Uint8Array.prototype.lastIndexOf.call(V,U,Z):k(V,[U],Z,ie,me);throw new TypeError("val must be string, number or Buffer")}function k(V,U,Z,ie,me){var ce,ye=1,ee=V.length,oe=U.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(V.length<2||U.length<2)return-1;ye=2,ee/=2,oe/=2,Z/=2}function ne(te,se){return ye===1?te[se]:te.readUInt16BE(se*ye)}if(me){var fe=-1;for(ce=Z;ce<ee;ce++)if(ne(V,ce)===ne(U,fe===-1?0:ce-fe)){if(fe===-1&&(fe=ce),ce-fe+1===oe)return fe*ye}else fe!==-1&&(ce-=ce-fe),fe=-1}else for(Z+oe>ee&&(Z=ee-oe),ce=Z;ce>=0;ce--){for(var le=!0,ae=0;ae<oe;ae++)if(ne(V,ce+ae)!==ne(U,ae)){le=!1;break}if(le)return ce}return-1}function T(V,U,Z,ie){Z=Number(Z)||0;var me=V.length-Z;ie?(ie=Number(ie))>me&&(ie=me):ie=me;var ce=U.length;ie>ce/2&&(ie=ce/2);for(var ye=0;ye<ie;++ye){var ee=parseInt(U.substr(2*ye,2),16);if(Y(ee))return ye;V[Z+ye]=ee}return ye}function A(V,U,Z,ie){return re(G(U,V.length-Z),V,Z,ie)}function L(V,U,Z,ie){return re((function(me){for(var ce=[],ye=0;ye<me.length;++ye)ce.push(255&me.charCodeAt(ye));return ce})(U),V,Z,ie)}function q(V,U,Z,ie){return L(V,U,Z,ie)}function D(V,U,Z,ie){return re(Q(U),V,Z,ie)}function $(V,U,Z,ie){return re((function(me,ce){for(var ye,ee,oe,ne=[],fe=0;fe<me.length&&!((ce-=2)<0);++fe)ye=me.charCodeAt(fe),ee=ye>>8,oe=ye%256,ne.push(oe),ne.push(ee);return ne})(U,V.length-Z),V,Z,ie)}function z(V,U,Z){return U===0&&Z===V.length?a.fromByteArray(V):a.fromByteArray(V.slice(U,Z))}function K(V,U,Z){Z=Math.min(V.length,Z);for(var ie=[],me=U;me<Z;){var ce,ye,ee,oe,ne=V[me],fe=null,le=ne>239?4:ne>223?3:ne>191?2:1;if(me+le<=Z)switch(le){case 1:ne<128&&(fe=ne);break;case 2:(192&(ce=V[me+1]))==128&&(oe=(31&ne)<<6|63&ce)>127&&(fe=oe);break;case 3:ce=V[me+1],ye=V[me+2],(192&ce)==128&&(192&ye)==128&&(oe=(15&ne)<<12|(63&ce)<<6|63&ye)>2047&&(oe<55296||oe>57343)&&(fe=oe);break;case 4:ce=V[me+1],ye=V[me+2],ee=V[me+3],(192&ce)==128&&(192&ye)==128&&(192&ee)==128&&(oe=(15&ne)<<18|(63&ce)<<12|(63&ye)<<6|63&ee)>65535&&oe<1114112&&(fe=oe)}fe===null?(fe=65533,le=1):fe>65535&&(fe-=65536,ie.push(fe>>>10&1023|55296),fe=56320|1023&fe),ie.push(fe),me+=le}return(function(ae){var te=ae.length;if(te<=4096)return String.fromCharCode.apply(String,ae);for(var se="",de=0;de<te;)se+=String.fromCharCode.apply(String,ae.slice(de,de+=4096));return se})(ie)}n.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=(function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42}catch{return!1}})(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(V,U,Z){return d(V,U,Z)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(V,U,Z){return(function(ie,me,ce){return p(ie),ie<=0?u(ie):me!==void 0?typeof ce=="string"?u(ie).fill(me,ce):u(ie).fill(me):u(ie)})(V,U,Z)},c.allocUnsafe=function(V){return f(V)},c.allocUnsafeSlow=function(V){return f(V)},c.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==c.prototype},c.compare=function(V,U){if(F(V,Uint8Array)&&(V=c.from(V,V.offset,V.byteLength)),F(U,Uint8Array)&&(U=c.from(U,U.offset,U.byteLength)),!c.isBuffer(V)||!c.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===U)return 0;for(var Z=V.length,ie=U.length,me=0,ce=Math.min(Z,ie);me<ce;++me)if(V[me]!==U[me]){Z=V[me],ie=U[me];break}return Z<ie?-1:ie<Z?1:0},c.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(V,U){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return c.alloc(0);var Z;if(U===void 0)for(U=0,Z=0;Z<V.length;++Z)U+=V[Z].length;var ie=c.allocUnsafe(U),me=0;for(Z=0;Z<V.length;++Z){var ce=V[Z];if(F(ce,Uint8Array)&&(ce=c.from(ce)),!c.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(ie,me),me+=ce.length}return ie},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<V;U+=2)v(this,U,U+1);return this},c.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<V;U+=4)v(this,U,U+3),v(this,U+1,U+2);return this},c.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<V;U+=8)v(this,U,U+7),v(this,U+1,U+6),v(this,U+2,U+5),v(this,U+3,U+4);return this},c.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?K(this,0,V):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(V){if(!c.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||c.compare(this,V)===0},c.prototype.inspect=function(){var V="",U=n.INSPECT_MAX_BYTES;return V=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(V+=" ... "),"<Buffer "+V+">"},c.prototype.compare=function(V,U,Z,ie,me){if(F(V,Uint8Array)&&(V=c.from(V,V.offset,V.byteLength)),!c.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(U===void 0&&(U=0),Z===void 0&&(Z=V?V.length:0),ie===void 0&&(ie=0),me===void 0&&(me=this.length),U<0||Z>V.length||ie<0||me>this.length)throw new RangeError("out of range index");if(ie>=me&&U>=Z)return 0;if(ie>=me)return-1;if(U>=Z)return 1;if(this===V)return 0;for(var ce=(me>>>=0)-(ie>>>=0),ye=(Z>>>=0)-(U>>>=0),ee=Math.min(ce,ye),oe=this.slice(ie,me),ne=V.slice(U,Z),fe=0;fe<ee;++fe)if(oe[fe]!==ne[fe]){ce=oe[fe],ye=ne[fe];break}return ce<ye?-1:ye<ce?1:0},c.prototype.includes=function(V,U,Z){return this.indexOf(V,U,Z)!==-1},c.prototype.indexOf=function(V,U,Z){return x(this,V,U,Z,!0)},c.prototype.lastIndexOf=function(V,U,Z){return x(this,V,U,Z,!1)},c.prototype.write=function(V,U,Z,ie){if(U===void 0)ie="utf8",Z=this.length,U=0;else if(Z===void 0&&typeof U=="string")ie=U,Z=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(Z)?(Z>>>=0,ie===void 0&&(ie="utf8")):(ie=Z,Z=void 0)}var me=this.length-U;if((Z===void 0||Z>me)&&(Z=me),V.length>0&&(Z<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var ce=!1;;)switch(ie){case"hex":return T(this,V,U,Z);case"utf8":case"utf-8":return A(this,V,U,Z);case"ascii":return L(this,V,U,Z);case"latin1":case"binary":return q(this,V,U,Z);case"base64":return D(this,V,U,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,V,U,Z);default:if(ce)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ce=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(V,U,Z){var ie="";Z=Math.min(V.length,Z);for(var me=U;me<Z;++me)ie+=String.fromCharCode(127&V[me]);return ie}function P(V,U,Z){var ie="";Z=Math.min(V.length,Z);for(var me=U;me<Z;++me)ie+=String.fromCharCode(V[me]);return ie}function R(V,U,Z){var ie=V.length;(!U||U<0)&&(U=0),(!Z||Z<0||Z>ie)&&(Z=ie);for(var me="",ce=U;ce<Z;++ce)me+=B(V[ce]);return me}function C(V,U,Z){for(var ie=V.slice(U,Z),me="",ce=0;ce<ie.length;ce+=2)me+=String.fromCharCode(ie[ce]+256*ie[ce+1]);return me}function _(V,U,Z){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+U>Z)throw new RangeError("Trying to access beyond buffer length")}function S(V,U,Z,ie,me,ce){if(!c.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>me||U<ce)throw new RangeError('"value" argument is out of bounds');if(Z+ie>V.length)throw new RangeError("Index out of range")}function j(V,U,Z,ie,me,ce){if(Z+ie>V.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function N(V,U,Z,ie,me){return U=+U,Z>>>=0,me||j(V,0,Z,4),l.write(V,U,Z,ie,23,4),Z+4}function M(V,U,Z,ie,me){return U=+U,Z>>>=0,me||j(V,0,Z,8),l.write(V,U,Z,ie,52,8),Z+8}c.prototype.slice=function(V,U){var Z=this.length;(V=~~V)<0?(V+=Z)<0&&(V=0):V>Z&&(V=Z),(U=U===void 0?Z:~~U)<0?(U+=Z)<0&&(U=0):U>Z&&(U=Z),U<V&&(U=V);var ie=this.subarray(V,U);return ie.__proto__=c.prototype,ie},c.prototype.readUIntLE=function(V,U,Z){V>>>=0,U>>>=0,Z||_(V,U,this.length);for(var ie=this[V],me=1,ce=0;++ce<U&&(me*=256);)ie+=this[V+ce]*me;return ie},c.prototype.readUIntBE=function(V,U,Z){V>>>=0,U>>>=0,Z||_(V,U,this.length);for(var ie=this[V+--U],me=1;U>0&&(me*=256);)ie+=this[V+--U]*me;return ie},c.prototype.readUInt8=function(V,U){return V>>>=0,U||_(V,1,this.length),this[V]},c.prototype.readUInt16LE=function(V,U){return V>>>=0,U||_(V,2,this.length),this[V]|this[V+1]<<8},c.prototype.readUInt16BE=function(V,U){return V>>>=0,U||_(V,2,this.length),this[V]<<8|this[V+1]},c.prototype.readUInt32LE=function(V,U){return V>>>=0,U||_(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},c.prototype.readUInt32BE=function(V,U){return V>>>=0,U||_(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},c.prototype.readIntLE=function(V,U,Z){V>>>=0,U>>>=0,Z||_(V,U,this.length);for(var ie=this[V],me=1,ce=0;++ce<U&&(me*=256);)ie+=this[V+ce]*me;return ie>=(me*=128)&&(ie-=Math.pow(2,8*U)),ie},c.prototype.readIntBE=function(V,U,Z){V>>>=0,U>>>=0,Z||_(V,U,this.length);for(var ie=U,me=1,ce=this[V+--ie];ie>0&&(me*=256);)ce+=this[V+--ie]*me;return ce>=(me*=128)&&(ce-=Math.pow(2,8*U)),ce},c.prototype.readInt8=function(V,U){return V>>>=0,U||_(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},c.prototype.readInt16LE=function(V,U){V>>>=0,U||_(V,2,this.length);var Z=this[V]|this[V+1]<<8;return 32768&Z?4294901760|Z:Z},c.prototype.readInt16BE=function(V,U){V>>>=0,U||_(V,2,this.length);var Z=this[V+1]|this[V]<<8;return 32768&Z?4294901760|Z:Z},c.prototype.readInt32LE=function(V,U){return V>>>=0,U||_(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},c.prototype.readInt32BE=function(V,U){return V>>>=0,U||_(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},c.prototype.readFloatLE=function(V,U){return V>>>=0,U||_(V,4,this.length),l.read(this,V,!0,23,4)},c.prototype.readFloatBE=function(V,U){return V>>>=0,U||_(V,4,this.length),l.read(this,V,!1,23,4)},c.prototype.readDoubleLE=function(V,U){return V>>>=0,U||_(V,8,this.length),l.read(this,V,!0,52,8)},c.prototype.readDoubleBE=function(V,U){return V>>>=0,U||_(V,8,this.length),l.read(this,V,!1,52,8)},c.prototype.writeUIntLE=function(V,U,Z,ie){V=+V,U>>>=0,Z>>>=0,ie||S(this,V,U,Z,Math.pow(2,8*Z)-1,0);var me=1,ce=0;for(this[U]=255&V;++ce<Z&&(me*=256);)this[U+ce]=V/me&255;return U+Z},c.prototype.writeUIntBE=function(V,U,Z,ie){V=+V,U>>>=0,Z>>>=0,ie||S(this,V,U,Z,Math.pow(2,8*Z)-1,0);var me=Z-1,ce=1;for(this[U+me]=255&V;--me>=0&&(ce*=256);)this[U+me]=V/ce&255;return U+Z},c.prototype.writeUInt8=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,1,255,0),this[U]=255&V,U+1},c.prototype.writeUInt16LE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,2,65535,0),this[U]=255&V,this[U+1]=V>>>8,U+2},c.prototype.writeUInt16BE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,2,65535,0),this[U]=V>>>8,this[U+1]=255&V,U+2},c.prototype.writeUInt32LE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,4,4294967295,0),this[U+3]=V>>>24,this[U+2]=V>>>16,this[U+1]=V>>>8,this[U]=255&V,U+4},c.prototype.writeUInt32BE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,4,4294967295,0),this[U]=V>>>24,this[U+1]=V>>>16,this[U+2]=V>>>8,this[U+3]=255&V,U+4},c.prototype.writeIntLE=function(V,U,Z,ie){if(V=+V,U>>>=0,!ie){var me=Math.pow(2,8*Z-1);S(this,V,U,Z,me-1,-me)}var ce=0,ye=1,ee=0;for(this[U]=255&V;++ce<Z&&(ye*=256);)V<0&&ee===0&&this[U+ce-1]!==0&&(ee=1),this[U+ce]=(V/ye>>0)-ee&255;return U+Z},c.prototype.writeIntBE=function(V,U,Z,ie){if(V=+V,U>>>=0,!ie){var me=Math.pow(2,8*Z-1);S(this,V,U,Z,me-1,-me)}var ce=Z-1,ye=1,ee=0;for(this[U+ce]=255&V;--ce>=0&&(ye*=256);)V<0&&ee===0&&this[U+ce+1]!==0&&(ee=1),this[U+ce]=(V/ye>>0)-ee&255;return U+Z},c.prototype.writeInt8=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,1,127,-128),V<0&&(V=255+V+1),this[U]=255&V,U+1},c.prototype.writeInt16LE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,2,32767,-32768),this[U]=255&V,this[U+1]=V>>>8,U+2},c.prototype.writeInt16BE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,2,32767,-32768),this[U]=V>>>8,this[U+1]=255&V,U+2},c.prototype.writeInt32LE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,4,2147483647,-2147483648),this[U]=255&V,this[U+1]=V>>>8,this[U+2]=V>>>16,this[U+3]=V>>>24,U+4},c.prototype.writeInt32BE=function(V,U,Z){return V=+V,U>>>=0,Z||S(this,V,U,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[U]=V>>>24,this[U+1]=V>>>16,this[U+2]=V>>>8,this[U+3]=255&V,U+4},c.prototype.writeFloatLE=function(V,U,Z){return N(this,V,U,!0,Z)},c.prototype.writeFloatBE=function(V,U,Z){return N(this,V,U,!1,Z)},c.prototype.writeDoubleLE=function(V,U,Z){return M(this,V,U,!0,Z)},c.prototype.writeDoubleBE=function(V,U,Z){return M(this,V,U,!1,Z)},c.prototype.copy=function(V,U,Z,ie){if(!c.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),ie||ie===0||(ie=this.length),U>=V.length&&(U=V.length),U||(U=0),ie>0&&ie<Z&&(ie=Z),ie===Z||V.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),V.length-U<ie-Z&&(ie=V.length-U+Z);var me=ie-Z;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,Z,ie);else if(this===V&&Z<U&&U<ie)for(var ce=me-1;ce>=0;--ce)V[ce+U]=this[ce+Z];else Uint8Array.prototype.set.call(V,this.subarray(Z,ie),U);return me},c.prototype.fill=function(V,U,Z,ie){if(typeof V=="string"){if(typeof U=="string"?(ie=U,U=0,Z=this.length):typeof Z=="string"&&(ie=Z,Z=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!c.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(V.length===1){var me=V.charCodeAt(0);(ie==="utf8"&&me<128||ie==="latin1")&&(V=me)}}else typeof V=="number"&&(V&=255);if(U<0||this.length<U||this.length<Z)throw new RangeError("Out of range index");if(Z<=U)return this;var ce;if(U>>>=0,Z=Z===void 0?this.length:Z>>>0,V||(V=0),typeof V=="number")for(ce=U;ce<Z;++ce)this[ce]=V;else{var ye=c.isBuffer(V)?V:c.from(V,ie),ee=ye.length;if(ee===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ce=0;ce<Z-U;++ce)this[ce+U]=ye[ce%ee]}return this};var O=/[^+/0-9A-Za-z-_]/g;function B(V){return V<16?"0"+V.toString(16):V.toString(16)}function G(V,U){var Z;U=U||1/0;for(var ie=V.length,me=null,ce=[],ye=0;ye<ie;++ye){if((Z=V.charCodeAt(ye))>55295&&Z<57344){if(!me){if(Z>56319){(U-=3)>-1&&ce.push(239,191,189);continue}if(ye+1===ie){(U-=3)>-1&&ce.push(239,191,189);continue}me=Z;continue}if(Z<56320){(U-=3)>-1&&ce.push(239,191,189),me=Z;continue}Z=65536+(me-55296<<10|Z-56320)}else me&&(U-=3)>-1&&ce.push(239,191,189);if(me=null,Z<128){if((U-=1)<0)break;ce.push(Z)}else if(Z<2048){if((U-=2)<0)break;ce.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((U-=3)<0)break;ce.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;ce.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return ce}function Q(V){return a.toByteArray((function(U){if((U=(U=U.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U})(V))}function re(V,U,Z,ie){for(var me=0;me<ie&&!(me+Z>=U.length||me>=V.length);++me)U[me+Z]=V[me];return me}function F(V,U){return V instanceof U||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===U.name}function Y(V){return V!=V}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("stream").Transform,l=t("string_decoder").StringDecoder;function u(c){a.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(u,a),u.prototype.update=function(c,d,p){typeof c=="string"&&(c=i.from(c,d));var f=this._update(c);return this.hashMode?this:(p&&(f=this._toString(f,p)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(c,d,p){var f;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(h){f=h}finally{p(f)}},u.prototype._flush=function(c){var d;try{this.push(this.__final())}catch(p){d=p}c(d)},u.prototype._finalOrDigest=function(c){var d=this.__final()||i.alloc(0);return c&&(d=this._toString(d,c,!0)),d},u.prototype._toString=function(c,d,p){if(this._decoder||(this._decoder=new l(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(c);return p&&(f+=this._decoder.end()),f},s.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,s,n){var i=t("../internals/is-callable"),a=t("../internals/try-to-string"),l=TypeError;s.exports=function(u){if(i(u))return u;throw new l(a(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,s,n){var i=t("../internals/is-constructor"),a=t("../internals/try-to-string"),l=TypeError;s.exports=function(u){if(i(u))return u;throw new l(a(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,s,n){var i=t("../internals/is-callable"),a=String,l=TypeError;s.exports=function(u){if(typeof u=="object"||i(u))return u;throw new l("Can't set "+a(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,s,n){var i=t("../internals/well-known-symbol"),a=t("../internals/object-create"),l=t("../internals/object-define-property").f,u=i("unscopables"),c=Array.prototype;c[u]===void 0&&l(c,u,{configurable:!0,value:a(null)}),s.exports=function(d){c[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,s,n){var i=t("../internals/object-is-prototype-of"),a=TypeError;s.exports=function(l,u){if(i(u,l))return l;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,s,n){var i=t("../internals/is-object"),a=String,l=TypeError;s.exports=function(u){if(i(u))return u;throw new l(a(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,s,n){var i=t("../internals/to-indexed-object"),a=t("../internals/to-absolute-index"),l=t("../internals/length-of-array-like"),u=function(c){return function(d,p,f){var h,g=i(d),y=l(g),m=a(f,y);if(c&&p!=p){for(;y>m;)if((h=g[m++])!=h)return!0}else for(;y>m;m++)if((c||m in g)&&g[m]===p)return c||m||0;return!c&&-1}};s.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,s,n){var i=t("../internals/function-bind-context"),a=t("../internals/function-uncurry-this"),l=t("../internals/indexed-object"),u=t("../internals/to-object"),c=t("../internals/length-of-array-like"),d=t("../internals/array-species-create"),p=a([].push),f=function(h){var g=h===1,y=h===2,m=h===3,v=h===4,x=h===6,k=h===7,T=h===5||x;return function(A,L,q,D){for(var $,z,K=u(A),W=l(K),P=i(L,q),R=c(W),C=0,_=D||d,S=g?_(A,R):y||k?_(A,0):void 0;R>C;C++)if((T||C in W)&&(z=P($=W[C],C,K),h))if(g)S[C]=z;else if(z)switch(h){case 3:return!0;case 5:return $;case 6:return C;case 2:p(S,$)}else switch(h){case 4:return!1;case 7:p(S,$)}return x?-1:m||v?v:S}};s.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,s,n){var i=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),l=t("../internals/create-property"),u=Array,c=Math.max;s.exports=function(d,p,f){for(var h=a(d),g=i(p,h),y=i(f===void 0?h:f,h),m=u(c(y-g,0)),v=0;g<y;g++,v++)l(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,s,n){var i=t("../internals/function-uncurry-this");s.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,s,n){var i=t("../internals/is-array"),a=t("../internals/is-constructor"),l=t("../internals/is-object"),u=t("../internals/well-known-symbol")("species"),c=Array;s.exports=function(d){var p;return i(d)&&(p=d.constructor,(a(p)&&(p===c||i(p.prototype))||l(p)&&(p=p[u])===null)&&(p=void 0)),p===void 0?c:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,s,n){var i=t("../internals/array-species-constructor");s.exports=function(a,l){return new(i(a))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(t,s,n){var i=t("../internals/well-known-symbol")("iterator"),a=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}s.exports=function(c,d){try{if(!d&&!a)return!1}catch{return!1}var p=!1;try{var f={};f[i]=function(){return{next:function(){return{done:p=!0}}}},c(f)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=i({}.toString),l=i("".slice);s.exports=function(u){return l(a(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,s,n){var i=t("../internals/to-string-tag-support"),a=t("../internals/is-callable"),l=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("toStringTag"),c=Object,d=l((function(){return arguments})())==="Arguments";s.exports=i?l:function(p){var f,h,g;return p===void 0?"Undefined":p===null?"Null":typeof(h=(function(y,m){try{return y[m]}catch{}})(f=c(p),u))=="string"?h:d?l(f):(g=l(f))==="Object"&&a(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,s,n){var i=t("../internals/has-own-property"),a=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");s.exports=function(c,d,p){for(var f=a(d),h=u.f,g=l.f,y=0;y<f.length;y++){var m=f[y];i(c,m)||p&&i(p,m)||h(c,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,s,n){var i=t("../internals/well-known-symbol")("match");s.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,s,n){var i=t("../internals/fails");s.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(t,s,n){s.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");s.exports=i?function(u,c,d){return a.f(u,c,l(1,d))}:function(u,c,d){return u[c]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,s,n){s.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(t,s,n){var i=t("../internals/to-property-key"),a=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");s.exports=function(u,c,d){var p=i(c);p in u?a.f(u,p,l(0,d)):u[p]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,s,n){var i=t("../internals/make-built-in"),a=t("../internals/object-define-property");s.exports=function(l,u,c){return c.get&&i(c.get,u,{getter:!0}),c.set&&i(c.set,u,{setter:!0}),a.f(l,u,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,s,n){var i=t("../internals/is-callable"),a=t("../internals/object-define-property"),l=t("../internals/make-built-in"),u=t("../internals/define-global-property");s.exports=function(c,d,p,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:d;if(i(p)&&l(p,g,f),f.global)h?c[d]=p:u(d,p);else{try{f.unsafe?c[d]&&(h=!0):delete c[d]}catch{}h?c[d]=p:a.f(c,d,{value:p,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,s,n){var i=t("../internals/global"),a=Object.defineProperty;s.exports=function(l,u){try{a(i,l,{value:u,configurable:!0,writable:!0})}catch{i[l]=u}return u}},{"../internals/global":274}],247:[function(t,s,n){var i=t("../internals/fails");s.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,s,n){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;s.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/is-object"),l=i.document,u=a(l)&&a(l.createElement);s.exports=function(c){return u?l.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,s,n){var i=t("../internals/engine-is-deno"),a=t("../internals/engine-is-node");s.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,s,n){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,s,n){var i=t("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,s,n){var i=t("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/classof-raw");s.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,s,n){var i=t("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,s,n){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,s,n){var i,a,l=t("../internals/global"),u=t("../internals/engine-user-agent"),c=l.process,d=l.Deno,p=c&&c.versions||d&&d.version,f=p&&p.v8;f&&(a=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(a=+i[1]),s.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,s,n){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),u=t("../internals/define-built-in"),c=t("../internals/define-global-property"),d=t("../internals/copy-constructor-properties"),p=t("../internals/is-forced");s.exports=function(f,h){var g,y,m,v,x,k=f.target,T=f.global,A=f.stat;if(g=T?i:A?i[k]||c(k,{}):(i[k]||{}).prototype)for(y in h){if(v=h[y],m=f.dontCallGetSet?(x=a(g,y))&&x.value:g[y],!p(T?y:k+(A?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&l(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,s,n){s.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(t,s,n){var i=t("../internals/function-bind-native"),a=Function.prototype,l=a.apply,u=a.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(i?u.bind(l):function(){return u.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,s,n){var i=t("../internals/function-uncurry-this-clause"),a=t("../internals/a-callable"),l=t("../internals/function-bind-native"),u=i(i.bind);s.exports=function(c,d){return a(c),d===void 0?c:l?u(c,d):function(){return c.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,s,n){var i=t("../internals/fails");s.exports=!i((function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,s,n){var i=t("../internals/function-bind-native"),a=Function.prototype.call;s.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/has-own-property"),l=Function.prototype,u=i&&Object.getOwnPropertyDescriptor,c=a(l,"name"),d=c&&function(){}.name==="something",p=c&&(!i||i&&u(l,"name").configurable);s.exports={EXISTS:c,PROPER:d,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/a-callable");s.exports=function(l,u,c){try{return i(a(Object.getOwnPropertyDescriptor(l,u)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,s,n){var i=t("../internals/classof-raw"),a=t("../internals/function-uncurry-this");s.exports=function(l){if(i(l)==="Function")return a(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,s,n){var i=t("../internals/function-bind-native"),a=Function.prototype,l=a.call,u=i&&a.bind.bind(l,l);s.exports=i?u:function(c){return function(){return l.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/is-callable"),l=function(u){return a(u)?u:void 0};s.exports=function(u,c){return arguments.length<2?l(i[u]):i[u]&&i[u][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,s,n){var i=t("../internals/classof"),a=t("../internals/get-method"),l=t("../internals/is-null-or-undefined"),u=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");s.exports=function(d){if(!l(d))return a(d,c)||a(d,"@@iterator")||u[i(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,s,n){var i=t("../internals/function-call"),a=t("../internals/a-callable"),l=t("../internals/an-object"),u=t("../internals/try-to-string"),c=t("../internals/get-iterator-method"),d=TypeError;s.exports=function(p,f){var h=arguments.length<2?c(p):f;if(a(h))return l(i(h,p));throw new d(u(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-array"),l=t("../internals/is-callable"),u=t("../internals/classof-raw"),c=t("../internals/to-string"),d=i([].push);s.exports=function(p){if(l(p))return p;if(a(p)){for(var f=p.length,h=[],g=0;g<f;g++){var y=p[g];typeof y=="string"?d(h,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(h,c(y))}var m=h.length,v=!0;return function(x,k){if(v)return v=!1,k;if(a(this))return k;for(var T=0;T<m;T++)if(h[T]===x)return k}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,s,n){var i=t("../internals/a-callable"),a=t("../internals/is-null-or-undefined");s.exports=function(l,u){var c=l[u];return a(c)?void 0:i(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,s,n){(function(i){(function(){var a=function(l){return l&&l.Math===Math&&l};s.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/to-object"),l=i({}.hasOwnProperty);s.exports=Object.hasOwn||function(u,c){return l(a(u),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,s,n){s.exports={}},{}],277:[function(t,s,n){s.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(t,s,n){var i=t("../internals/get-built-in");s.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/fails"),l=t("../internals/document-create-element");s.exports=!i&&!a((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),l=t("../internals/classof-raw"),u=Object,c=i("".split);s.exports=a((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return l(d)==="String"?c(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-callable"),l=t("../internals/shared-store"),u=i(Function.toString);a(l.inspectSource)||(l.inspectSource=function(c){return u(c)}),s.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,s,n){var i,a,l,u=t("../internals/weak-map-basic-detection"),c=t("../internals/global"),d=t("../internals/is-object"),p=t("../internals/create-non-enumerable-property"),f=t("../internals/has-own-property"),h=t("../internals/shared-store"),g=t("../internals/shared-key"),y=t("../internals/hidden-keys"),m=c.TypeError,v=c.WeakMap;if(u||h.state){var x=h.state||(h.state=new v);x.get=x.get,x.has=x.has,x.set=x.set,i=function(T,A){if(x.has(T))throw new m("Object already initialized");return A.facade=T,x.set(T,A),A},a=function(T){return x.get(T)||{}},l=function(T){return x.has(T)}}else{var k=g("state");y[k]=!0,i=function(T,A){if(f(T,k))throw new m("Object already initialized");return A.facade=T,p(T,k,A),A},a=function(T){return f(T,k)?T[k]:{}},l=function(T){return f(T,k)}}s.exports={set:i,get:a,has:l,enforce:function(T){return l(T)?a(T):i(T,{})},getterFor:function(T){return function(A){var L;if(!d(A)||(L=a(A)).type!==T)throw new m("Incompatible receiver, "+T+" required");return L}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,s,n){var i=t("../internals/well-known-symbol"),a=t("../internals/iterators"),l=i("iterator"),u=Array.prototype;s.exports=function(c){return c!==void 0&&(a.Array===c||u[l]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,s,n){var i=t("../internals/classof-raw");s.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,s,n){var i=t("../internals/document-all"),a=i.all;s.exports=i.IS_HTMLDDA?function(l){return typeof l=="function"||l===a}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),l=t("../internals/is-callable"),u=t("../internals/classof"),c=t("../internals/get-built-in"),d=t("../internals/inspect-source"),p=function(){},f=[],h=c("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),m=!g.test(p),v=function(k){if(!l(k))return!1;try{return h(p,f,k),!0}catch{return!1}},x=function(k){if(!l(k))return!1;switch(u(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(k))}catch{return!0}};x.sham=!0,s.exports=!h||a((function(){var k;return v(v.call)||!v(Object)||!v((function(){k=!0}))||k}))?x:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,s,n){var i=t("../internals/fails"),a=t("../internals/is-callable"),l=/#|\.prototype\./,u=function(h,g){var y=d[c(h)];return y===f||y!==p&&(a(g)?i(g):!!g)},c=u.normalize=function(h){return String(h).replace(l,".").toLowerCase()},d=u.data={},p=u.NATIVE="N",f=u.POLYFILL="P";s.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,s,n){s.exports=function(i){return i==null}},{}],289:[function(t,s,n){var i=t("../internals/is-callable"),a=t("../internals/document-all"),l=a.all;s.exports=a.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:i(u)||u===l}:function(u){return typeof u=="object"?u!==null:i(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,s,n){s.exports=!1},{}],291:[function(t,s,n){var i=t("../internals/is-object"),a=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");s.exports=function(u){var c;return i(u)&&((c=u[l])!==void 0?!!c:a(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,s,n){var i=t("../internals/get-built-in"),a=t("../internals/is-callable"),l=t("../internals/object-is-prototype-of"),u=t("../internals/use-symbol-as-uid"),c=Object;s.exports=u?function(d){return typeof d=="symbol"}:function(d){var p=i("Symbol");return a(p)&&l(p.prototype,c(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,s,n){var i=t("../internals/function-bind-context"),a=t("../internals/function-call"),l=t("../internals/an-object"),u=t("../internals/try-to-string"),c=t("../internals/is-array-iterator-method"),d=t("../internals/length-of-array-like"),p=t("../internals/object-is-prototype-of"),f=t("../internals/get-iterator"),h=t("../internals/get-iterator-method"),g=t("../internals/iterator-close"),y=TypeError,m=function(x,k){this.stopped=x,this.result=k},v=m.prototype;s.exports=function(x,k,T){var A,L,q,D,$,z,K,W=T&&T.that,P=!(!T||!T.AS_ENTRIES),R=!(!T||!T.IS_RECORD),C=!(!T||!T.IS_ITERATOR),_=!(!T||!T.INTERRUPTED),S=i(k,W),j=function(M){return A&&g(A,"normal",M),new m(!0,M)},N=function(M){return P?(l(M),_?S(M[0],M[1],j):S(M[0],M[1])):_?S(M,j):S(M)};if(R)A=x.iterator;else if(C)A=x;else{if(!(L=h(x)))throw new y(u(x)+" is not iterable");if(c(L)){for(q=0,D=d(x);D>q;q++)if(($=N(x[q]))&&p(v,$))return $;return new m(!1)}A=f(x,L)}for(z=R?x.next:A.next;!(K=a(z,A)).done;){try{$=N(K.value)}catch(M){g(A,"throw",M)}if(typeof $=="object"&&$&&p(v,$))return $}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,s,n){var i=t("../internals/function-call"),a=t("../internals/an-object"),l=t("../internals/get-method");s.exports=function(u,c,d){var p,f;a(u);try{if(!(p=l(u,"return"))){if(c==="throw")throw d;return d}p=i(p,u)}catch(h){f=!0,p=h}if(c==="throw")throw d;if(f)throw p;return a(p),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,s,n){var i=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),l=t("../internals/create-property-descriptor"),u=t("../internals/set-to-string-tag"),c=t("../internals/iterators"),d=function(){return this};s.exports=function(p,f,h,g){var y=f+" Iterator";return p.prototype=a(i,{next:l(+!g,h)}),u(p,y,!1,!0),c[y]=d,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-call"),l=t("../internals/is-pure"),u=t("../internals/function-name"),c=t("../internals/is-callable"),d=t("../internals/iterator-create-constructor"),p=t("../internals/object-get-prototype-of"),f=t("../internals/object-set-prototype-of"),h=t("../internals/set-to-string-tag"),g=t("../internals/create-non-enumerable-property"),y=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),v=t("../internals/iterators"),x=t("../internals/iterators-core"),k=u.PROPER,T=u.CONFIGURABLE,A=x.IteratorPrototype,L=x.BUGGY_SAFARI_ITERATORS,q=m("iterator"),D=function(){return this};s.exports=function($,z,K,W,P,R,C){d(K,z,W);var _,S,j,N=function(F){if(F===P&&Q)return Q;if(!L&&F&&F in B)return B[F];switch(F){case"keys":case"values":case"entries":return function(){return new K(this,F)}}return function(){return new K(this)}},M=z+" Iterator",O=!1,B=$.prototype,G=B[q]||B["@@iterator"]||P&&B[P],Q=!L&&G||N(P),re=z==="Array"&&B.entries||G;if(re&&(_=p(re.call(new $)))!==Object.prototype&&_.next&&(l||p(_)===A||(f?f(_,A):c(_[q])||y(_,q,D)),h(_,M,!0,!0),l&&(v[M]=D)),k&&P==="values"&&G&&G.name!=="values"&&(!l&&T?g(B,"name","values"):(O=!0,Q=function(){return a(G,this)})),P)if(S={values:N("values"),keys:R?Q:N("keys"),entries:N("entries")},C)for(j in S)(L||O||!(j in B))&&y(B,j,S[j]);else i({target:z,proto:!0,forced:L||O},S);return l&&!C||B[q]===Q||y(B,q,Q,{name:P}),v[z]=Q,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,s,n){var i,a,l,u=t("../internals/fails"),c=t("../internals/is-callable"),d=t("../internals/is-object"),p=t("../internals/object-create"),f=t("../internals/object-get-prototype-of"),h=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),y=t("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(a=f(f(l)))!==Object.prototype&&(i=a):v=!0),!d(i)||u((function(){var x={};return i[m].call(x)!==x}))?i={}:y&&(i=p(i)),c(i[m])||h(i,m,(function(){return this})),s.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,s,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(t,s,n){var i=t("../internals/to-length");s.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),l=t("../internals/is-callable"),u=t("../internals/has-own-property"),c=t("../internals/descriptors"),d=t("../internals/function-name").CONFIGURABLE,p=t("../internals/inspect-source"),f=t("../internals/internal-state"),h=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=i("".slice),x=i("".replace),k=i([].join),T=c&&!a((function(){return m((function(){}),"length",{value:8}).length!==8})),A=String(String).split("String"),L=s.exports=function(q,D,$){v(y(D),0,7)==="Symbol("&&(D="["+x(y(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),$&&$.getter&&(D="get "+D),$&&$.setter&&(D="set "+D),(!u(q,"name")||d&&q.name!==D)&&(c?m(q,"name",{value:D,configurable:!0}):q.name=D),T&&$&&u($,"arity")&&q.length!==$.arity&&m(q,"length",{value:$.arity});try{$&&u($,"constructor")&&$.constructor?c&&m(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var z=h(q);return u(z,"source")||(z.source=k(A,typeof D=="string"?D:"")),q};Function.prototype.toString=L((function(){return l(this)&&g(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,s,n){var i=Math.ceil,a=Math.floor;s.exports=Math.trunc||function(l){var u=+l;return(u>0?a:i)(u)}},{}],302:[function(t,s,n){var i,a,l,u,c,d=t("../internals/global"),p=t("../internals/function-bind-context"),f=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/task").set,g=t("../internals/queue"),y=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),x=t("../internals/engine-is-node"),k=d.MutationObserver||d.WebKitMutationObserver,T=d.document,A=d.process,L=d.Promise,q=f(d,"queueMicrotask"),D=q&&q.value;if(!D){var $=new g,z=function(){var K,W;for(x&&(K=A.domain)&&K.exit();W=$.get();)try{W()}catch(P){throw $.head&&i(),P}K&&K.enter()};y||x||v||!k||!T?!m&&L&&L.resolve?((u=L.resolve(void 0)).constructor=L,c=p(u.then,u),i=function(){c(z)}):x?i=function(){A.nextTick(z)}:(h=p(h,d),i=function(){h(z)}):(a=!0,l=T.createTextNode(""),new k(z).observe(l,{characterData:!0}),i=function(){l.data=a=!a}),D=function(K){$.head||i(),$.add(K)}}s.exports=D},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,s,n){var i=t("../internals/a-callable"),a=TypeError,l=function(u){var c,d;this.promise=new u((function(p,f){if(c!==void 0||d!==void 0)throw new a("Bad Promise constructor");c=p,d=f})),this.resolve=i(c),this.reject=i(d)};s.exports.f=function(u){return new l(u)}},{"../internals/a-callable":222}],304:[function(t,s,n){var i=t("../internals/is-regexp"),a=TypeError;s.exports=function(l){if(i(l))throw new a("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/function-uncurry-this"),l=t("../internals/function-call"),u=t("../internals/fails"),c=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),f=t("../internals/to-object"),h=t("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=a([].concat);s.exports=!g||u((function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},x={},k=Symbol("assign detection");return v[k]=7,"abcdefghijklmnopqrst".split("").forEach((function(T){x[T]=T})),g({},v)[k]!==7||c(g({},x)).join("")!=="abcdefghijklmnopqrst"}))?function(v,x){for(var k=f(v),T=arguments.length,A=1,L=d.f,q=p.f;T>A;)for(var D,$=h(arguments[A++]),z=L?m(c($),L($)):c($),K=z.length,W=0;K>W;)D=z[W++],i&&!l(q,$,D)||(k[D]=$[D]);return k}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,s,n){var i,a=t("../internals/an-object"),l=t("../internals/object-define-properties"),u=t("../internals/enum-bug-keys"),c=t("../internals/hidden-keys"),d=t("../internals/html"),p=t("../internals/document-create-element"),f=t("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},y=function(x){return"<script>"+x+"<\/script>"},m=function(x){x.write(y("")),x.close();var k=x.parentWindow.Object;return x=null,k},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var x,k;v=typeof document<"u"?document.domain&&i?m(i):((k=p("iframe")).style.display="none",d.appendChild(k),k.src="javascript:",(x=k.contentWindow.document).open(),x.write(y("document.F=Object")),x.close(),x.F):m(i);for(var T=u.length;T--;)delete v.prototype[u[T]];return v()};c[h]=!0,s.exports=Object.create||function(x,k){var T;return x!==null?(g.prototype=a(x),T=new g,g.prototype=null,T[h]=x):T=v(),k===void 0?T:l.f(T,k)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/v8-prototype-define-bug"),l=t("../internals/object-define-property"),u=t("../internals/an-object"),c=t("../internals/to-indexed-object"),d=t("../internals/object-keys");n.f=i&&!a?Object.defineProperties:function(p,f){u(p);for(var h,g=c(f),y=d(f),m=y.length,v=0;m>v;)l.f(p,h=y[v++],g[h]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/ie8-dom-define"),l=t("../internals/v8-prototype-define-bug"),u=t("../internals/an-object"),c=t("../internals/to-property-key"),d=TypeError,p=Object.defineProperty,f=Object.getOwnPropertyDescriptor;n.f=i?l?function(h,g,y){if(u(h),g=c(g),u(y),typeof h=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(h,g);m&&m.writable&&(h[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return p(h,g,y)}:p:function(h,g,y){if(u(h),g=c(g),u(y),a)try{return p(h,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(h[g]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/function-call"),l=t("../internals/object-property-is-enumerable"),u=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),d=t("../internals/to-property-key"),p=t("../internals/has-own-property"),f=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;n.f=i?h:function(g,y){if(g=c(g),y=d(y),f)try{return h(g,y)}catch{}if(p(g,y))return u(!a(l.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,s,n){var i=t("../internals/classof-raw"),a=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,u=t("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(d){return c&&i(d)==="Window"?(function(p){try{return l(p)}catch{return u(c)}})(d):l(a(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,s,n){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,s,n){n.f=Object.getOwnPropertySymbols},{}],313:[function(t,s,n){var i=t("../internals/has-own-property"),a=t("../internals/is-callable"),l=t("../internals/to-object"),u=t("../internals/shared-key"),c=t("../internals/correct-prototype-getter"),d=u("IE_PROTO"),p=Object,f=p.prototype;s.exports=c?p.getPrototypeOf:function(h){var g=l(h);if(i(g,d))return g[d];var y=g.constructor;return a(y)&&g instanceof y?y.prototype:g instanceof p?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,s,n){var i=t("../internals/function-uncurry-this");s.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=t("../internals/has-own-property"),l=t("../internals/to-indexed-object"),u=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys"),d=i([].push);s.exports=function(p,f){var h,g=l(p),y=0,m=[];for(h in g)!a(c,h)&&a(g,h)&&d(m,h);for(;f.length>y;)a(g,h=f[y++])&&(~u(m,h)||d(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,s,n){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys");s.exports=Object.keys||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,s,n){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!i.call({1:2},1);n.f=l?function(u){var c=a(this,u);return!!c&&c.enumerable}:i},{}],318:[function(t,s,n){var i=t("../internals/function-uncurry-this-accessor"),a=t("../internals/an-object"),l=t("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,c=!1,d={};try{(u=i(Object.prototype,"__proto__","set"))(d,[]),c=d instanceof Array}catch{}return function(p,f){return a(p),l(f),c?u(p,f):p.__proto__=f,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/fails"),l=t("../internals/function-uncurry-this"),u=t("../internals/object-get-prototype-of"),c=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),p=l(t("../internals/object-property-is-enumerable").f),f=l([].push),h=i&&a((function(){var y=Object.create(null);return y[2]=2,!p(y,2)})),g=function(y){return function(m){for(var v,x=d(m),k=c(x),T=h&&u(x)===null,A=k.length,L=0,q=[];A>L;)v=k[L++],i&&!(T?v in x:p(x,v))||f(q,y?[v,x[v]]:x[v]);return q}};s.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,s,n){var i=t("../internals/function-call"),a=t("../internals/is-callable"),l=t("../internals/is-object"),u=TypeError;s.exports=function(c,d){var p,f;if(d==="string"&&a(p=c.toString)&&!l(f=i(p,c))||a(p=c.valueOf)&&!l(f=i(p,c))||d!=="string"&&a(p=c.toString)&&!l(f=i(p,c)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,s,n){var i=t("../internals/get-built-in"),a=t("../internals/function-uncurry-this"),l=t("../internals/object-get-own-property-names"),u=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object"),d=a([].concat);s.exports=i("Reflect","ownKeys")||function(p){var f=l.f(c(p)),h=u.f;return h?d(f,h(p)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,s,n){var i=t("../internals/global");s.exports=i},{"../internals/global":274}],323:[function(t,s,n){s.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/promise-native-constructor"),l=t("../internals/is-callable"),u=t("../internals/is-forced"),c=t("../internals/inspect-source"),d=t("../internals/well-known-symbol"),p=t("../internals/engine-is-browser"),f=t("../internals/engine-is-deno"),h=t("../internals/is-pure"),g=t("../internals/engine-v8-version"),y=a&&a.prototype,m=d("species"),v=!1,x=l(i.PromiseRejectionEvent),k=u("Promise",(function(){var T=c(a),A=T!==String(a);if(!A&&g===66||h&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(T)){var L=new a((function(D){D(1)})),q=function(D){D((function(){}),(function(){}))};if((L.constructor={})[m]=q,!(v=L.then((function(){}))instanceof q))return!0}return!A&&(p||f)&&!x}));s.exports={CONSTRUCTOR:k,REJECTION_EVENT:x,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,s,n){var i=t("../internals/global");s.exports=i.Promise},{"../internals/global":274}],326:[function(t,s,n){var i=t("../internals/an-object"),a=t("../internals/is-object"),l=t("../internals/new-promise-capability");s.exports=function(u,c){if(i(u),a(c)&&c.constructor===u)return c;var d=l.f(u);return(0,d.resolve)(c),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,s,n){var i=t("../internals/promise-native-constructor"),a=t("../internals/check-correctness-of-iteration"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=l||!a((function(u){i.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,s,n){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var l={item:a,next:null},u=this.tail;u?u.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},s.exports=i},{}],329:[function(t,s,n){var i=t("../internals/is-null-or-undefined"),a=TypeError;s.exports=function(l){if(i(l))throw new a("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(t,s,n){var i=t("../internals/get-built-in"),a=t("../internals/define-built-in-accessor"),l=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),c=l("species");s.exports=function(d){var p=i(d);u&&p&&!p[c]&&a(p,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,s,n){var i=t("../internals/object-define-property").f,a=t("../internals/has-own-property"),l=t("../internals/well-known-symbol")("toStringTag");s.exports=function(u,c,d){u&&!d&&(u=u.prototype),u&&!a(u,l)&&i(u,l,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,s,n){var i=t("../internals/shared"),a=t("../internals/uid"),l=i("keys");s.exports=function(u){return l[u]||(l[u]=a(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/define-global-property"),l=i["__core-js_shared__"]||a("__core-js_shared__",{});s.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,s,n){var i=t("../internals/is-pure"),a=t("../internals/shared-store");(s.exports=function(l,u){return a[l]||(a[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,s,n){var i=t("../internals/an-object"),a=t("../internals/a-constructor"),l=t("../internals/is-null-or-undefined"),u=t("../internals/well-known-symbol")("species");s.exports=function(c,d){var p,f=i(c).constructor;return f===void 0||l(p=i(f)[u])?d:a(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,s,n){var i=t("../internals/engine-v8-version"),a=t("../internals/fails"),l=t("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!a((function(){var u=Symbol("symbol detection");return!l(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,s,n){var i=t("../internals/function-call"),a=t("../internals/get-built-in"),l=t("../internals/well-known-symbol"),u=t("../internals/define-built-in");s.exports=function(){var c=a("Symbol"),d=c&&c.prototype,p=d&&d.valueOf,f=l("toPrimitive");d&&!d[f]&&u(d,f,(function(h){return i(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,s,n){var i=t("../internals/symbol-constructor-detection");s.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,s,n){var i,a,l,u,c=t("../internals/global"),d=t("../internals/function-apply"),p=t("../internals/function-bind-context"),f=t("../internals/is-callable"),h=t("../internals/has-own-property"),g=t("../internals/fails"),y=t("../internals/html"),m=t("../internals/array-slice"),v=t("../internals/document-create-element"),x=t("../internals/validate-arguments-length"),k=t("../internals/engine-is-ios"),T=t("../internals/engine-is-node"),A=c.setImmediate,L=c.clearImmediate,q=c.process,D=c.Dispatch,$=c.Function,z=c.MessageChannel,K=c.String,W=0,P={};g((function(){i=c.location}));var R=function(j){if(h(P,j)){var N=P[j];delete P[j],N()}},C=function(j){return function(){R(j)}},_=function(j){R(j.data)},S=function(j){c.postMessage(K(j),i.protocol+"//"+i.host)};A&&L||(A=function(j){x(arguments.length,1);var N=f(j)?j:$(j),M=m(arguments,1);return P[++W]=function(){d(N,void 0,M)},a(W),W},L=function(j){delete P[j]},T?a=function(j){q.nextTick(C(j))}:D&&D.now?a=function(j){D.now(C(j))}:z&&!k?(u=(l=new z).port2,l.port1.onmessage=_,a=p(u.postMessage,u)):c.addEventListener&&f(c.postMessage)&&!c.importScripts&&i&&i.protocol!=="file:"&&!g(S)?(a=S,c.addEventListener("message",_,!1)):a="onreadystatechange"in v("script")?function(j){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),R(j)}}:function(j){setTimeout(C(j),0)}),s.exports={set:A,clear:L}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,s,n){var i=t("../internals/to-integer-or-infinity"),a=Math.max,l=Math.min;s.exports=function(u,c){var d=i(u);return d<0?a(d+c,0):l(d,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,s,n){var i=t("../internals/indexed-object"),a=t("../internals/require-object-coercible");s.exports=function(l){return i(a(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,s,n){var i=t("../internals/math-trunc");s.exports=function(a){var l=+a;return l!=l||l===0?0:i(l)}},{"../internals/math-trunc":301}],343:[function(t,s,n){var i=t("../internals/to-integer-or-infinity"),a=Math.min;s.exports=function(l){return l>0?a(i(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,s,n){var i=t("../internals/require-object-coercible"),a=Object;s.exports=function(l){return a(i(l))}},{"../internals/require-object-coercible":329}],345:[function(t,s,n){var i=t("../internals/function-call"),a=t("../internals/is-object"),l=t("../internals/is-symbol"),u=t("../internals/get-method"),c=t("../internals/ordinary-to-primitive"),d=t("../internals/well-known-symbol"),p=TypeError,f=d("toPrimitive");s.exports=function(h,g){if(!a(h)||l(h))return h;var y,m=u(h,f);if(m){if(g===void 0&&(g="default"),y=i(m,h,g),!a(y)||l(y))return y;throw new p("Can't convert object to primitive value")}return g===void 0&&(g="number"),c(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,s,n){var i=t("../internals/to-primitive"),a=t("../internals/is-symbol");s.exports=function(l){var u=i(l,"string");return a(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,s,n){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,s,n){var i=t("../internals/classof"),a=String;s.exports=function(l){if(i(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(l)}},{"../internals/classof":236}],349:[function(t,s,n){var i=String;s.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(t,s,n){var i=t("../internals/function-uncurry-this"),a=0,l=Math.random(),u=i(1 .toString);s.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+u(++a+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,s,n){var i=t("../internals/symbol-constructor-detection");s.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,s,n){var i=t("../internals/descriptors"),a=t("../internals/fails");s.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,s,n){var i=TypeError;s.exports=function(a,l){if(a<l)throw new i("Not enough arguments");return a}},{}],354:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/is-callable"),l=i.WeakMap;s.exports=a(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,s,n){var i=t("../internals/path"),a=t("../internals/has-own-property"),l=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;s.exports=function(c){var d=i.Symbol||(i.Symbol={});a(d,c)||u(d,c,{value:l.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,s,n){var i=t("../internals/well-known-symbol");n.f=i},{"../internals/well-known-symbol":357}],357:[function(t,s,n){var i=t("../internals/global"),a=t("../internals/shared"),l=t("../internals/has-own-property"),u=t("../internals/uid"),c=t("../internals/symbol-constructor-detection"),d=t("../internals/use-symbol-as-uid"),p=i.Symbol,f=a("wks"),h=d?p.for||p:p&&p.withoutSetter||u;s.exports=function(g){return l(f,g)||(f[g]=c&&l(p,g)?p[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/array-iteration").findIndex,l=t("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{findIndex:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/array-iteration").find,l=t("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{find:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/array-includes").includes,l=t("../internals/fails"),u=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,s,n){var i=t("../internals/to-indexed-object"),a=t("../internals/add-to-unscopables"),l=t("../internals/iterators"),u=t("../internals/internal-state"),c=t("../internals/object-define-property").f,d=t("../internals/iterator-define"),p=t("../internals/create-iter-result-object"),f=t("../internals/is-pure"),h=t("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");s.exports=d(Array,"Array",(function(v,x){g(this,{type:"Array Iterator",target:i(v),index:0,kind:x})}),(function(){var v=y(this),x=v.target,k=v.kind,T=v.index++;if(!x||T>=x.length)return v.target=void 0,p(void 0,!0);switch(k){case"keys":return p(T,!1);case"values":return p(x[T],!1)}return p([T,x[T]],!1)}),"values");var m=l.Arguments=l.Array;if(a("keys"),a("values"),a("entries"),!f&&h&&m.name!=="values")try{c(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/get-built-in"),l=t("../internals/function-apply"),u=t("../internals/function-call"),c=t("../internals/function-uncurry-this"),d=t("../internals/fails"),p=t("../internals/is-callable"),f=t("../internals/is-symbol"),h=t("../internals/array-slice"),g=t("../internals/get-json-replacer-function"),y=t("../internals/symbol-constructor-detection"),m=String,v=a("JSON","stringify"),x=c(/./.exec),k=c("".charAt),T=c("".charCodeAt),A=c("".replace),L=c(1 .toString),q=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,z=!y||d((function(){var R=a("Symbol")("stringify detection");return v([R])!=="[null]"||v({a:R})!=="{}"||v(Object(R))!=="{}"})),K=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),W=function(R,C){var _=h(arguments),S=g(C);if(p(S)||R!==void 0&&!f(R))return _[1]=function(j,N){if(p(S)&&(N=u(S,this,m(j),N)),!f(N))return N},l(v,null,_)},P=function(R,C,_){var S=k(_,C-1),j=k(_,C+1);return x(D,R)&&!x($,j)||x($,R)&&!x(D,S)?"\\u"+L(T(R,0),16):R};v&&i({target:"JSON",stat:!0,arity:3,forced:z||K},{stringify:function(R,C,_){var S=h(arguments),j=l(z?W:v,null,S);return K&&typeof j=="string"?A(j,q,P):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,s,n){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),u=t("../internals/object-get-own-property-symbols"),c=t("../internals/to-object");i({target:"Object",stat:!0,forced:!a||l((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var p=u.f;return p?p(c(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/to-object"),l=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")((function(){l(1)}))},{keys:function(u){return l(a(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(l){return a(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-call"),l=t("../internals/a-callable"),u=t("../internals/new-promise-capability"),c=t("../internals/perform"),d=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(p){var f=this,h=u.f(f),g=h.resolve,y=h.reject,m=c((function(){var v=l(f.resolve),x=[],k=0,T=1;d(p,(function(A){var L=k++,q=!1;T++,a(v,f,A).then((function(D){q||(q=!0,x[L]=D,--T||g(x))}),y)})),--T||g(x)}));return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/is-pure"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-native-constructor"),c=t("../internals/get-built-in"),d=t("../internals/is-callable"),p=t("../internals/define-built-in"),f=u&&u.prototype;if(i({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&d(u)){var h=c("Promise").prototype.catch;f.catch!==h&&p(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,s,n){var i,a,l,u=t("../internals/export"),c=t("../internals/is-pure"),d=t("../internals/engine-is-node"),p=t("../internals/global"),f=t("../internals/function-call"),h=t("../internals/define-built-in"),g=t("../internals/object-set-prototype-of"),y=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),v=t("../internals/a-callable"),x=t("../internals/is-callable"),k=t("../internals/is-object"),T=t("../internals/an-instance"),A=t("../internals/species-constructor"),L=t("../internals/task").set,q=t("../internals/microtask"),D=t("../internals/host-report-errors"),$=t("../internals/perform"),z=t("../internals/queue"),K=t("../internals/internal-state"),W=t("../internals/promise-native-constructor"),P=t("../internals/promise-constructor-detection"),R=t("../internals/new-promise-capability"),C=P.CONSTRUCTOR,_=P.REJECTION_EVENT,S=P.SUBCLASSING,j=K.getterFor("Promise"),N=K.set,M=W&&W.prototype,O=W,B=M,G=p.TypeError,Q=p.document,re=p.process,F=R.f,Y=F,V=!!(Q&&Q.createEvent&&p.dispatchEvent),U=function(le){var ae;return!(!k(le)||!x(ae=le.then))&&ae},Z=function(le,ae){var te,se,de,ge=ae.value,ke=ae.state===1,Ee=ke?le.ok:le.fail,Oe=le.resolve,Le=le.reject,Ge=le.domain;try{Ee?(ke||(ae.rejection===2&&ee(ae),ae.rejection=1),Ee===!0?te=ge:(Ge&&Ge.enter(),te=Ee(ge),Ge&&(Ge.exit(),de=!0)),te===le.promise?Le(new G("Promise-chain cycle")):(se=U(te))?f(se,te,Oe,Le):Oe(te)):Le(ge)}catch(Qe){Ge&&!de&&Ge.exit(),Le(Qe)}},ie=function(le,ae){le.notified||(le.notified=!0,q((function(){for(var te,se=le.reactions;te=se.get();)Z(te,le);le.notified=!1,ae&&!le.rejection&&ce(le)})))},me=function(le,ae,te){var se,de;V?((se=Q.createEvent("Event")).promise=ae,se.reason=te,se.initEvent(le,!1,!0),p.dispatchEvent(se)):se={promise:ae,reason:te},!_&&(de=p["on"+le])?de(se):le==="unhandledrejection"&&D("Unhandled promise rejection",te)},ce=function(le){f(L,p,(function(){var ae,te=le.facade,se=le.value;if(ye(le)&&(ae=$((function(){d?re.emit("unhandledRejection",se,te):me("unhandledrejection",te,se)})),le.rejection=d||ye(le)?2:1,ae.error))throw ae.value}))},ye=function(le){return le.rejection!==1&&!le.parent},ee=function(le){f(L,p,(function(){var ae=le.facade;d?re.emit("rejectionHandled",ae):me("rejectionhandled",ae,le.value)}))},oe=function(le,ae,te){return function(se){le(ae,se,te)}},ne=function(le,ae,te){le.done||(le.done=!0,te&&(le=te),le.value=ae,le.state=2,ie(le,!0))},fe=function(le,ae,te){if(!le.done){le.done=!0,te&&(le=te);try{if(le.facade===ae)throw new G("Promise can't be resolved itself");var se=U(ae);se?q((function(){var de={done:!1};try{f(se,ae,oe(fe,de,le),oe(ne,de,le))}catch(ge){ne(de,ge,le)}})):(le.value=ae,le.state=1,ie(le,!1))}catch(de){ne({done:!1},de,le)}}};if(C&&(B=(O=function(le){T(this,B),v(le),f(i,this);var ae=j(this);try{le(oe(fe,ae),oe(ne,ae))}catch(te){ne(ae,te)}}).prototype,(i=function(le){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=h(B,"then",(function(le,ae){var te=j(this),se=F(A(this,O));return te.parent=!0,se.ok=!x(le)||le,se.fail=x(ae)&&ae,se.domain=d?re.domain:void 0,te.state===0?te.reactions.add(se):q((function(){Z(se,te)})),se.promise})),a=function(){var le=new i,ae=j(le);this.promise=le,this.resolve=oe(fe,ae),this.reject=oe(ne,ae)},R.f=F=function(le){return le===O||le===void 0?new a(le):Y(le)},!c&&x(W)&&M!==Object.prototype)){l=M.then,S||h(M,"then",(function(le,ae){var te=this;return new O((function(se,de){f(l,te,se,de)})).then(le,ae)}),{unsafe:!0});try{delete M.constructor}catch{}g&&g(M,B)}u({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:O}),y(O,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),u=t("../internals/fails"),c=t("../internals/get-built-in"),d=t("../internals/is-callable"),p=t("../internals/species-constructor"),f=t("../internals/promise-resolve"),h=t("../internals/define-built-in"),g=l&&l.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!l&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=p(this,c("Promise")),x=d(m);return this.then(x?function(k){return f(v,m()).then((function(){return k}))}:m,x?function(k){return f(v,m()).then((function(){throw k}))}:m)}}),!a&&d(l)){var y=c("Promise").prototype.finally;g.finally!==y&&h(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,s,n){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-call"),l=t("../internals/a-callable"),u=t("../internals/new-promise-capability"),c=t("../internals/perform"),d=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(p){var f=this,h=u.f(f),g=h.reject,y=c((function(){var m=l(f.resolve);d(p,(function(v){a(m,f,v).then(h.resolve,g)}))}));return y.error&&g(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-call"),l=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var c=l.f(this);return a(c.reject,void 0,u),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/get-built-in"),l=t("../internals/is-pure"),u=t("../internals/promise-native-constructor"),c=t("../internals/promise-constructor-detection").CONSTRUCTOR,d=t("../internals/promise-resolve"),p=a("Promise"),f=l&&!c;i({target:"Promise",stat:!0,forced:l||c},{resolve:function(h){return d(f&&this===p?u:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),l=t("../internals/to-absolute-index"),u=RangeError,c=String.fromCharCode,d=String.fromCodePoint,p=a([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var h,g=[],y=arguments.length,m=0;y>m;){if(h=+arguments[m++],l(h,1114111)!==h)throw new u(h+" is not a valid code point");g[m]=h<65536?c(h):c(55296+((h-=65536)>>10),h%1024+56320)}return p(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),l=t("../internals/not-a-regexp"),u=t("../internals/require-object-coercible"),c=t("../internals/to-string"),d=t("../internals/correct-is-regexp-logic"),p=a("".indexOf);i({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~p(c(u(this)),c(l(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,s,n){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/global"),l=t("../internals/function-call"),u=t("../internals/function-uncurry-this"),c=t("../internals/is-pure"),d=t("../internals/descriptors"),p=t("../internals/symbol-constructor-detection"),f=t("../internals/fails"),h=t("../internals/has-own-property"),g=t("../internals/object-is-prototype-of"),y=t("../internals/an-object"),m=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),x=t("../internals/to-string"),k=t("../internals/create-property-descriptor"),T=t("../internals/object-create"),A=t("../internals/object-keys"),L=t("../internals/object-get-own-property-names"),q=t("../internals/object-get-own-property-names-external"),D=t("../internals/object-get-own-property-symbols"),$=t("../internals/object-get-own-property-descriptor"),z=t("../internals/object-define-property"),K=t("../internals/object-define-properties"),W=t("../internals/object-property-is-enumerable"),P=t("../internals/define-built-in"),R=t("../internals/define-built-in-accessor"),C=t("../internals/shared"),_=t("../internals/shared-key"),S=t("../internals/hidden-keys"),j=t("../internals/uid"),N=t("../internals/well-known-symbol"),M=t("../internals/well-known-symbol-wrapped"),O=t("../internals/well-known-symbol-define"),B=t("../internals/symbol-define-to-primitive"),G=t("../internals/set-to-string-tag"),Q=t("../internals/internal-state"),re=t("../internals/array-iteration").forEach,F=_("hidden"),Y=Q.set,V=Q.getterFor("Symbol"),U=Object.prototype,Z=a.Symbol,ie=Z&&Z.prototype,me=a.RangeError,ce=a.TypeError,ye=a.QObject,ee=$.f,oe=z.f,ne=q.f,fe=W.f,le=u([].push),ae=C("symbols"),te=C("op-symbols"),se=C("wks"),de=!ye||!ye.prototype||!ye.prototype.findChild,ge=function(et,xe,be){var Ve=ee(U,xe);Ve&&delete U[xe],oe(et,xe,be),Ve&&et!==U&&oe(U,xe,Ve)},ke=d&&f((function(){return T(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7}))?ge:oe,Ee=function(et,xe){var be=ae[et]=T(ie);return Y(be,{type:"Symbol",tag:et,description:xe}),d||(be.description=xe),be},Oe=function(et,xe,be){et===U&&Oe(te,xe,be),y(et);var Ve=v(xe);return y(be),h(ae,Ve)?(be.enumerable?(h(et,F)&&et[F][Ve]&&(et[F][Ve]=!1),be=T(be,{enumerable:k(0,!1)})):(h(et,F)||oe(et,F,k(1,{})),et[F][Ve]=!0),ke(et,Ve,be)):oe(et,Ve,be)},Le=function(et,xe){y(et);var be=m(xe),Ve=A(be).concat(it(be));return re(Ve,(function(Xe){d&&!l(Ge,be,Xe)||Oe(et,Xe,be[Xe])})),et},Ge=function(et){var xe=v(et),be=l(fe,this,xe);return!(this===U&&h(ae,xe)&&!h(te,xe))&&(!(be||!h(this,xe)||!h(ae,xe)||h(this,F)&&this[F][xe])||be)},Qe=function(et,xe){var be=m(et),Ve=v(xe);if(be!==U||!h(ae,Ve)||h(te,Ve)){var Xe=ee(be,Ve);return!Xe||!h(ae,Ve)||h(be,F)&&be[F][Ve]||(Xe.enumerable=!0),Xe}},yt=function(et){var xe=ne(m(et)),be=[];return re(xe,(function(Ve){h(ae,Ve)||h(S,Ve)||le(be,Ve)})),be},it=function(et){var xe=et===U,be=ne(xe?te:m(et)),Ve=[];return re(be,(function(Xe){!h(ae,Xe)||xe&&!h(U,Xe)||le(Ve,ae[Xe])})),Ve};p||(P(ie=(Z=function(){if(g(ie,this))throw new ce("Symbol is not a constructor");var et=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,xe=j(et),be=function(Ve){this===U&&l(be,te,Ve),h(this,F)&&h(this[F],xe)&&(this[F][xe]=!1);var Xe=k(1,Ve);try{ke(this,xe,Xe)}catch(Mt){if(!(Mt instanceof me))throw Mt;ge(this,xe,Xe)}};return d&&de&&ke(U,xe,{configurable:!0,set:be}),Ee(xe,et)}).prototype,"toString",(function(){return V(this).tag})),P(Z,"withoutSetter",(function(et){return Ee(j(et),et)})),W.f=Ge,z.f=Oe,K.f=Le,$.f=Qe,L.f=q.f=yt,D.f=it,M.f=function(et){return Ee(N(et),et)},d&&(R(ie,"description",{configurable:!0,get:function(){return V(this).description}}),c||P(U,"propertyIsEnumerable",Ge,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),re(A(se),(function(et){O(et)})),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(et,xe){return xe===void 0?T(et):Le(T(et),xe)},defineProperty:Oe,defineProperties:Le,getOwnPropertyDescriptor:Qe}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:yt}),B(),G(Z,"Symbol"),S[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/get-built-in"),l=t("../internals/has-own-property"),u=t("../internals/to-string"),c=t("../internals/shared"),d=t("../internals/symbol-registry-detection"),p=c("string-to-symbol-registry"),f=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(h){var g=u(h);if(l(p,g))return p[g];var y=a("Symbol")(g);return p[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,s,n){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,s,n){var i=t("../internals/export"),a=t("../internals/has-own-property"),l=t("../internals/is-symbol"),u=t("../internals/try-to-string"),c=t("../internals/shared"),d=t("../internals/symbol-registry-detection"),p=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!l(f))throw new TypeError(u(f)+" is not a symbol");if(a(p,f))return p[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,s,n){function i(a){return Object.prototype.toString.call(a)}n.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},n.isBoolean=function(a){return typeof a=="boolean"},n.isNull=function(a){return a===null},n.isNullOrUndefined=function(a){return a==null},n.isNumber=function(a){return typeof a=="number"},n.isString=function(a){return typeof a=="string"},n.isSymbol=function(a){return typeof a=="symbol"},n.isUndefined=function(a){return a===void 0},n.isRegExp=function(a){return i(a)==="[object RegExp]"},n.isObject=function(a){return typeof a=="object"&&a!==null},n.isDate=function(a){return i(a)==="[object Date]"},n.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},n.isFunction=function(a){return typeof a=="function"},n.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},n.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,s,n){(function(i){(function(){var a=t("elliptic"),l=t("bn.js");s.exports=function(p){return new c(p)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(p){this.curveType=u[p],this.curveType||(this.curveType={name:p}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function d(p,f,h){Array.isArray(p)||(p=p.toArray());var g=new i(p);if(h&&g.length<h){var y=new i(h-g.length);y.fill(0),g=i.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,c.prototype.generateKeys=function(p,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,f)},c.prototype.computeSecret=function(p,f,h){return f=f||"utf8",i.isBuffer(p)||(p=new i(p,f)),d(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},c.prototype.getPublicKey=function(p,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,p)},c.prototype.getPrivateKey=function(p){return d(this.keys.getPrivate(),p)},c.prototype.setPublicKey=function(p,f){return f=f||"utf8",i.isBuffer(p)||(p=new i(p,f)),this.keys._importPublic(p),this},c.prototype.setPrivateKey=function(p,f){f=f||"utf8",i.isBuffer(p)||(p=new i(p,f));var h=new l(p);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,s,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(t,s,n){var i=t("inherits"),a=t("md5.js"),l=t("ripemd160"),u=t("sha.js"),c=t("cipher-base");function d(p){c.call(this,"digest"),this._hash=p}i(d,c),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){return this._hash.digest()},s.exports=function(p){return(p=p.toLowerCase())==="md5"?new a:p==="rmd160"||p==="ripemd160"?new l:new d(u(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,s,n){var i=t("md5.js");s.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(t,s,n){var i=t("inherits"),a=t("./legacy"),l=t("cipher-base"),u=t("safe-buffer").Buffer,c=t("create-hash/md5"),d=t("ripemd160"),p=t("sha.js"),f=u.alloc(128);function h(g,y){l.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:p(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),x=this._opad=u.allocUnsafe(m),k=0;k<m;k++)v[k]=54^y[k],x[k]=92^y[k];this._hash=g==="rmd160"?new d:p(g),this._hash.update(v)}i(h,l),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:p(this._alg)).update(this._opad).update(g).digest()},s.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",y):g==="md5"?new a(c,y):new h(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,s,n){var i=t("inherits"),a=t("safe-buffer").Buffer,l=t("cipher-base"),u=a.alloc(128);function c(d,p){l.call(this,"digest"),typeof p=="string"&&(p=a.from(p)),this._alg=d,this._key=p,p.length>64?p=d(p):p.length<64&&(p=a.concat([p,u],64));for(var f=this._ipad=a.allocUnsafe(64),h=this._opad=a.allocUnsafe(64),g=0;g<64;g++)f[g]=54^p[g],h[g]=92^p[g];this._hash=[f]}i(c,l),c.prototype._update=function(d){this._hash.push(d)},c.prototype._final=function(){var d=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,d]))},s.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,s,n){n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),a=Object.keys(i),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);n.getHashes=function(){return l};var u=t("pbkdf2");n.pbkdf2=u.pbkdf2,n.pbkdf2Sync=u.pbkdf2Sync;var c=t("browserify-cipher");n.Cipher=c.Cipher,n.createCipher=c.createCipher,n.Cipheriv=c.Cipheriv,n.createCipheriv=c.createCipheriv,n.Decipher=c.Decipher,n.createDecipher=c.createDecipher,n.Decipheriv=c.Decipheriv,n.createDecipheriv=c.createDecipheriv,n.getCiphers=c.getCiphers,n.listCiphers=c.listCiphers;var d=t("diffie-hellman");n.DiffieHellmanGroup=d.DiffieHellmanGroup,n.createDiffieHellmanGroup=d.createDiffieHellmanGroup,n.getDiffieHellman=d.getDiffieHellman,n.createDiffieHellman=d.createDiffieHellman,n.DiffieHellman=d.DiffieHellman;var p=t("browserify-sign");n.createSign=p.createSign,n.Sign=p.Sign,n.createVerify=p.createVerify,n.Verify=p.Verify,n.createECDH=t("create-ecdh");var f=t("public-encrypt");n.publicEncrypt=f.publicEncrypt,n.privateEncrypt=f.privateEncrypt,n.publicDecrypt=f.publicDecrypt,n.privateDecrypt=f.privateDecrypt;var h=t("randomfill");n.randomFill=h.randomFill,n.randomFillSync=h.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,s,n){(function(i,a){typeof n=="object"&&s!==void 0?s.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,l="millisecond",u="second",c="minute",d="hour",p="day",f="week",h="month",g="quarter",y="year",m="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var S=["th","st","nd","rd"],j=_%100;return"["+_+(S[(j-20)%10]||S[j]||S[0])+"]"}},A=function(_,S,j){var N=String(_);return!N||N.length>=S?_:""+Array(S+1-N.length).join(j)+_},L={s:A,z:function(_){var S=-_.utcOffset(),j=Math.abs(S),N=Math.floor(j/60),M=j%60;return(S<=0?"+":"-")+A(N,2,"0")+":"+A(M,2,"0")},m:function _(S,j){if(S.date()<j.date())return-_(j,S);var N=12*(j.year()-S.year())+(j.month()-S.month()),M=S.clone().add(N,h),O=j-M<0,B=S.clone().add(N+(O?-1:1),h);return+(-(N+(j-M)/(O?M-B:B-M))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y,w:f,d:p,D:m,h:d,m:c,s:u,ms:l,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},q="en",D={};D[q]=T;var $="$isDayjsObject",z=function(_){return _ instanceof R||!(!_||!_[$])},K=function _(S,j,N){var M;if(!S)return q;if(typeof S=="string"){var O=S.toLowerCase();D[O]&&(M=O),j&&(D[O]=j,M=O);var B=S.split("-");if(!M&&B.length>1)return _(B[0])}else{var G=S.name;D[G]=S,M=G}return!N&&M&&(q=M),M||!N&&q},W=function(_,S){if(z(_))return _.clone();var j=typeof S=="object"?S:{};return j.date=_,j.args=arguments,new R(j)},P=L;P.l=K,P.i=z,P.w=function(_,S){return W(_,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var R=(function(){function _(j){this.$L=K(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[$]=!0}var S=_.prototype;return S.parse=function(j){this.$d=(function(N){var M=N.date,O=N.utc;if(M===null)return new Date(NaN);if(P.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var B=M.match(x);if(B){var G=B[2]-1||0,Q=(B[7]||"0").substring(0,3);return O?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Q)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Q)}}return new Date(M)})(j),this.init()},S.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},S.$utils=function(){return P},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(j,N){var M=W(j);return this.startOf(N)<=M&&M<=this.endOf(N)},S.isAfter=function(j,N){return W(j)<this.startOf(N)},S.isBefore=function(j,N){return this.endOf(N)<W(j)},S.$g=function(j,N,M){return P.u(j)?this[N]:this.set(M,j)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(j,N){var M=this,O=!!P.u(N)||N,B=P.p(j),G=function(ie,me){var ce=P.w(M.$u?Date.UTC(M.$y,me,ie):new Date(M.$y,me,ie),M);return O?ce:ce.endOf(p)},Q=function(ie,me){return P.w(M.toDate()[ie].apply(M.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(me)),M)},re=this.$W,F=this.$M,Y=this.$D,V="set"+(this.$u?"UTC":"");switch(B){case y:return O?G(1,0):G(31,11);case h:return O?G(1,F):G(0,F+1);case f:var U=this.$locale().weekStart||0,Z=(re<U?re+7:re)-U;return G(O?Y-Z:Y+(6-Z),F);case p:case m:return Q(V+"Hours",0);case d:return Q(V+"Minutes",1);case c:return Q(V+"Seconds",2);case u:return Q(V+"Milliseconds",3);default:return this.clone()}},S.endOf=function(j){return this.startOf(j,!1)},S.$set=function(j,N){var M,O=P.p(j),B="set"+(this.$u?"UTC":""),G=(M={},M[p]=B+"Date",M[m]=B+"Date",M[h]=B+"Month",M[y]=B+"FullYear",M[d]=B+"Hours",M[c]=B+"Minutes",M[u]=B+"Seconds",M[l]=B+"Milliseconds",M)[O],Q=O===p?this.$D+(N-this.$W):N;if(O===h||O===y){var re=this.clone().set(m,1);re.$d[G](Q),re.init(),this.$d=re.set(m,Math.min(this.$D,re.daysInMonth())).$d}else G&&this.$d[G](Q);return this.init(),this},S.set=function(j,N){return this.clone().$set(j,N)},S.get=function(j){return this[P.p(j)]()},S.add=function(j,N){var M,O=this;j=Number(j);var B=P.p(N),G=function(F){var Y=W(O);return P.w(Y.date(Y.date()+Math.round(F*j)),O)};if(B===h)return this.set(h,this.$M+j);if(B===y)return this.set(y,this.$y+j);if(B===p)return G(1);if(B===f)return G(7);var Q=(M={},M[c]=i,M[d]=a,M[u]=1e3,M)[B]||1,re=this.$d.getTime()+j*Q;return P.w(re,this)},S.subtract=function(j,N){return this.add(-1*j,N)},S.format=function(j){var N=this,M=this.$locale();if(!this.isValid())return M.invalidDate||v;var O=j||"YYYY-MM-DDTHH:mm:ssZ",B=P.z(this),G=this.$H,Q=this.$m,re=this.$M,F=M.weekdays,Y=M.months,V=M.meridiem,U=function(me,ce,ye,ee){return me&&(me[ce]||me(N,O))||ye[ce].slice(0,ee)},Z=function(me){return P.s(G%12||12,me,"0")},ie=V||function(me,ce,ye){var ee=me<12?"AM":"PM";return ye?ee.toLowerCase():ee};return O.replace(k,(function(me,ce){return ce||(function(ye){switch(ye){case"YY":return String(N.$y).slice(-2);case"YYYY":return P.s(N.$y,4,"0");case"M":return re+1;case"MM":return P.s(re+1,2,"0");case"MMM":return U(M.monthsShort,re,Y,3);case"MMMM":return U(Y,re);case"D":return N.$D;case"DD":return P.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return U(M.weekdaysMin,N.$W,F,2);case"ddd":return U(M.weekdaysShort,N.$W,F,3);case"dddd":return F[N.$W];case"H":return String(G);case"HH":return P.s(G,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return ie(G,Q,!0);case"A":return ie(G,Q,!1);case"m":return String(Q);case"mm":return P.s(Q,2,"0");case"s":return String(N.$s);case"ss":return P.s(N.$s,2,"0");case"SSS":return P.s(N.$ms,3,"0");case"Z":return B}return null})(me)||B.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(j,N,M){var O,B=this,G=P.p(N),Q=W(j),re=(Q.utcOffset()-this.utcOffset())*i,F=this-Q,Y=function(){return P.m(B,Q)};switch(G){case y:O=Y()/12;break;case h:O=Y();break;case g:O=Y()/3;break;case f:O=(F-re)/6048e5;break;case p:O=(F-re)/864e5;break;case d:O=F/a;break;case c:O=F/i;break;case u:O=F/1e3;break;default:O=F}return M?O:P.a(O)},S.daysInMonth=function(){return this.endOf(h).$D},S.$locale=function(){return D[this.$L]},S.locale=function(j,N){if(!j)return this.$L;var M=this.clone(),O=K(j,N,!0);return O&&(M.$L=O),M},S.clone=function(){return P.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},_})(),C=R.prototype;return W.prototype=C,[["$ms",l],["$s",u],["$m",c],["$H",d],["$W",p],["$M",h],["$y",y],["$D",m]].forEach((function(_){C[_[1]]=function(S){return this.$g(S,_[0],_[1])}})),W.extend=function(_,S){return _.$i||(_(S,R,W),_.$i=!0),W},W.locale=K,W.isDayjs=z,W.unix=function(_){return W(1e3*_)},W.en=D[q],W.Ls=D,W.p={},W}))},{}],392:[function(t,s,n){(function(i,a){typeof n=="object"&&s!==void 0?s.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,u=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,d={},p=function(x){return(x=+x)+(x>68?1900:2e3)},f=function(x){return function(k){this[x]=+k}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=(function(k){if(!k||k==="Z")return 0;var T=k.match(/([+-]|\d\d)/g),A=60*T[1]+(+T[2]||0);return A===0?0:T[0]==="+"?-A:A})(x)}],g=function(x){var k=d[x];return k&&(k.indexOf?k:k.s.concat(k.f))},y=function(x,k){var T,A=d.meridiem;if(A){for(var L=1;L<=24;L+=1)if(x.indexOf(A(L,0,k))>-1){T=L>12;break}}else T=x===(k?"pm":"PM");return T},m={A:[c,function(x){this.afternoon=y(x,!1)}],a:[c,function(x){this.afternoon=y(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[l,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[l,f("day")],Do:[c,function(x){var k=d.ordinal,T=x.match(/\d+/);if(this.day=T[0],k)for(var A=1;A<=31;A+=1)k(A).replace(/\[|\]/g,"")===x&&(this.day=A)}],M:[u,f("month")],MM:[l,f("month")],MMM:[c,function(x){var k=g("months"),T=(g("monthsShort")||k.map((function(A){return A.slice(0,3)}))).indexOf(x)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[c,function(x){var k=g("months").indexOf(x)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,f("year")],YY:[l,function(x){this.year=p(x)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(x){var k,T;k=x,T=d&&d.formats;for(var A=(x=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(W,P,R){var C=R&&R.toUpperCase();return P||T[R]||i[R]||T[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,S,j){return S||j.slice(1)}))}))).match(a),L=A.length,q=0;q<L;q+=1){var D=A[q],$=m[D],z=$&&$[0],K=$&&$[1];A[q]=K?{regex:z,parser:K}:D.replace(/^\[|\]$/g,"")}return function(W){for(var P={},R=0,C=0;R<L;R+=1){var _=A[R];if(typeof _=="string")C+=_.length;else{var S=_.regex,j=_.parser,N=W.slice(C),M=S.exec(N)[0];j.call(P,M),W=W.replace(M,"")}}return(function(O){var B=O.afternoon;if(B!==void 0){var G=O.hours;B?G<12&&(O.hours+=12):G===12&&(O.hours=0),delete O.afternoon}})(P),P}}return function(x,k,T){T.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(p=x.parseTwoDigitYear);var A=k.prototype,L=A.parse;A.parse=function(q){var D=q.date,$=q.utc,z=q.args;this.$u=$;var K=z[1];if(typeof K=="string"){var W=z[2]===!0,P=z[3]===!0,R=W||P,C=z[2];P&&(C=z[2]),d=this.$locale(),!W&&C&&(d=T.Ls[C]),this.$d=(function(N,M,O){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*N);var B=v(M)(N),G=B.year,Q=B.month,re=B.day,F=B.hours,Y=B.minutes,V=B.seconds,U=B.milliseconds,Z=B.zone,ie=new Date,me=re||(G||Q?1:ie.getDate()),ce=G||ie.getFullYear(),ye=0;G&&!Q||(ye=Q>0?Q-1:ie.getMonth());var ee=F||0,oe=Y||0,ne=V||0,fe=U||0;return Z?new Date(Date.UTC(ce,ye,me,ee,oe,ne,fe+60*Z.offset*1e3)):O?new Date(Date.UTC(ce,ye,me,ee,oe,ne,fe)):new Date(ce,ye,me,ee,oe,ne,fe)}catch{return new Date("")}})(D,K,$),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),R&&D!=this.format(K)&&(this.$d=new Date("")),d={}}else if(K instanceof Array)for(var _=K.length,S=1;S<=_;S+=1){z[1]=K[S-1];var j=T.apply(this,z);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}S===_&&(this.$d=new Date(""))}else L.call(this,q)}}}))},{}],393:[function(t,s,n){(function(i,a){typeof n=="object"&&s!==void 0?s.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(u,c,d){var p=c.prototype;d.utc=function(x){var k={date:x,utc:!0,args:arguments};return new c(k)},p.utc=function(x){var k=d(this.toDate(),{locale:this.$L,utc:!0});return x?k.add(this.utcOffset(),i):k},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=p.parse;p.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),f.call(this,x)};var h=p.init;p.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else h.call(this)};var g=p.utcOffset;p.utcOffset=function(x,k){var T=this.$utils().u;if(T(x))return this.$u?0:T(this.$offset)?g.call(this):this.$offset;if(typeof x=="string"&&(x=(function(D){D===void 0&&(D="");var $=D.match(a);if(!$)return null;var z=(""+$[0]).match(l)||["-",0,0],K=z[0],W=60*+z[1]+ +z[2];return W===0?0:K==="+"?W:-W})(x))===null)return this;var A=Math.abs(x)<=16?60*x:x,L=this;if(k)return L.$offset=A,L.$u=x===0,L;if(x!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(A+q,i)).$offset=A,L.$x.$localOffset=q}else L=this.utc();return L};var y=p.format;p.format=function(x){var k=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,k)},p.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var m=p.toDate;p.toDate=function(x){return x==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=p.diff;p.diff=function(x,k,T){if(x&&this.$u===x.$u)return v.call(this,x,k,T);var A=this.local(),L=d(x).local();return v.call(A,L,k,T)}}}))},{}],394:[function(t,s,n){n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,s,n){var i=t("minimalistic-assert"),a=t("inherits"),l={};function u(c){i.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=c[d]}n.instantiate=function(c){function d(g){c.call(this,g),this._cbcInit()}a(d,c);for(var p=Object.keys(l),f=0;f<p.length;f++){var h=p[f];d.prototype[h]=l[h]}return d.create=function(g){return new d(g)},d},l._cbcInit=function(){var c=new u(this.options.iv);this._cbcState=c},l._update=function(c,d,p,f){var h=this._cbcState,g=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=c[d+m];for(g._update.call(this,y,0,p,f),m=0;m<this.blockSize;m++)y[m]=p[f+m]}else{for(g._update.call(this,c,d,p,f),m=0;m<this.blockSize;m++)p[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=c[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,s,n){var i=t("minimalistic-assert");function a(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}s.exports=a,a.prototype._init=function(){},a.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},a.prototype._buffer=function(l,u){for(var c=Math.min(this.buffer.length-this.bufferOff,l.length-u),d=0;d<c;d++)this.buffer[this.bufferOff+d]=l[u+d];return this.bufferOff+=c,c},a.prototype._flushBuffer=function(l,u){return this._update(this.buffer,0,l,u),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(l){var u=0,c=0,d=(this.bufferOff+l.length)/this.blockSize|0,p=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(l,u),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(p,c)));for(var f=l.length-(l.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(l,u,p,c),c+=this.blockSize;for(;u<l.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=l[u];return p},a.prototype._updateDecrypt=function(l){for(var u=0,c=0,d=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,p=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(l,u),c+=this._flushBuffer(p,c);return u+=this._buffer(l,u),p},a.prototype.final=function(l){var u,c;return l&&(u=this.update(l)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(c):c},a.prototype._pad=function(l,u){if(u===0)return!1;for(;u<l.length;)l[u++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},a.prototype._unpad=function(l){return l},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(t,s,n){var i=t("minimalistic-assert"),a=t("inherits"),l=t("./utils"),u=t("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var h=new c;this._desState=h,this.deriveKeys(h,f.key)}a(d,u),s.exports=d,d.create=function(f){return new d(f)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,h){f.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var g=l.readUInt32BE(h,0),y=l.readUInt32BE(h,4);l.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=p[m>>>1];g=l.r28shl(g,v),y=l.r28shl(y,v),l.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,h,g,y){var m=this._desState,v=l.readUInt32BE(f,h),x=l.readUInt32BE(f,h+4);l.ip(v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,x,m.tmp,0):this._decrypt(m,v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],l.writeUInt32BE(g,v,y),l.writeUInt32BE(g,x,y+4)},d.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,y=h;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)i.equal(f[g],h);return f.slice(0,f.length-h)},d.prototype._encrypt=function(f,h,g,y,m){for(var v=h,x=g,k=0;k<f.keys.length;k+=2){var T=f.keys[k],A=f.keys[k+1];l.expand(x,f.tmp,0),T^=f.tmp[0],A^=f.tmp[1];var L=l.substitute(T,A),q=x;x=(v^l.permute(L))>>>0,v=q}l.rip(x,v,y,m)},d.prototype._decrypt=function(f,h,g,y,m){for(var v=g,x=h,k=f.keys.length-2;k>=0;k-=2){var T=f.keys[k],A=f.keys[k+1];l.expand(v,f.tmp,0),T^=f.tmp[0],A^=f.tmp[1];var L=l.substitute(T,A),q=v;v=(x^l.permute(L))>>>0,x=q}l.rip(v,x,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,s,n){var i=t("minimalistic-assert"),a=t("inherits"),l=t("./cipher"),u=t("./des");function c(p,f){i.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=p==="encrypt"?[u.create({type:"encrypt",key:h}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:h})]}function d(p){l.call(this,p);var f=new c(this.type,this.options.key);this._edeState=f}a(d,l),s.exports=d,d.create=function(p){return new d(p)},d.prototype._update=function(p,f,h,g){var y=this._edeState;y.ciphers[0]._update(p,f,h,g),y.ciphers[1]._update(h,g,h,g),y.ciphers[2]._update(h,g,h,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,s,n){n.readUInt32BE=function(u,c){return(u[0+c]<<24|u[1+c]<<16|u[2+c]<<8|u[3+c])>>>0},n.writeUInt32BE=function(u,c,d){u[0+d]=c>>>24,u[1+d]=c>>>16&255,u[2+d]=c>>>8&255,u[3+d]=255&c},n.ip=function(u,c,d,p){for(var f=0,h=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=c>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)h<<=1,h|=c>>>y+g&1;for(y=1;y<=25;y+=8)h<<=1,h|=u>>>y+g&1}d[p+0]=f>>>0,d[p+1]=h>>>0},n.rip=function(u,c,d,p){for(var f=0,h=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=c>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)h<<=1,h|=c>>>y+g&1,h<<=1,h|=u>>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},n.pc1=function(u,c,d,p){for(var f=0,h=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=c>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=c>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)h<<=1,h|=c>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},n.r28shl=function(u,c){return u<<c&268435455|u>>>28-c};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(u,c,d,p){for(var f=0,h=0,g=i.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>i[y]&1;for(y=g;y<i.length;y++)h<<=1,h|=c>>>i[y]&1;d[p+0]=f>>>0,d[p+1]=h>>>0},n.expand=function(u,c,d){var p=0,f=0;p=(1&u)<<5|u>>>27;for(var h=23;h>=15;h-=4)p<<=6,p|=u>>>h&63;for(h=11;h>=3;h-=4)f|=u>>>h&63,f<<=6;f|=(31&u)<<1|u>>>31,c[d+0]=p>>>0,c[d+1]=f>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(u,c){for(var d=0,p=0;p<4;p++)d<<=4,d|=a[64*p+(u>>>18-6*p&63)];for(p=0;p<4;p++)d<<=4,d|=a[256+64*p+(c>>>18-6*p&63)];return d>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(u){for(var c=0,d=0;d<l.length;d++)c<<=1,c|=u>>>l[d]&1;return c>>>0},n.padSplit=function(u,c,d){for(var p=u.toString(2);p.length<c;)p="0"+p;for(var f=[],h=0;h<c;h+=d)f.push(p.slice(h,h+d));return f.join(" ")}},{}],400:[function(t,s,n){(function(i){(function(){var a=t("./lib/generatePrime"),l=t("./lib/primes.json"),u=t("./lib/dh"),c={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(d){var p=new i(l[d].prime,"hex"),f=new i(l[d].gen,"hex");return new u(p,f)},n.createDiffieHellman=n.DiffieHellman=function d(p,f,h,g){return i.isBuffer(f)||c[f]===void 0?d(p,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,g)),typeof p=="number"?new u(a(p,h),h,!0):(i.isBuffer(p)||(p=new i(p,f)),new u(p,h,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,s,n){(function(i){(function(){var a=t("bn.js"),l=new(t("miller-rabin")),u=new a(24),c=new a(11),d=new a(10),p=new a(3),f=new a(7),h=t("./generatePrime"),g=t("randombytes");function y(T,A){return A=A||"utf8",i.isBuffer(T)||(T=new i(T,A)),this._pub=new a(T),this}function m(T,A){return A=A||"utf8",i.isBuffer(T)||(T=new i(T,A)),this._priv=new a(T),this}s.exports=x;var v={};function x(T,A,L){this.setGenerator(A),this.__prime=new a(T),this._prime=a.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function k(T,A){var L=new i(T.toArray());return A?L.toString(A):L}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(T,A){var L=A.toString("hex"),q=[L,T.toString(16)].join("_");if(q in v)return v[q];var D,$=0;if(T.isEven()||!h.simpleSieve||!h.fermatTest(T)||!l.test(T))return $+=1,$+=L==="02"||L==="05"?8:4,v[q]=$,$;switch(l.test(T.shrn(1))||($+=2),L){case"02":T.mod(u).cmp(c)&&($+=8);break;case"05":(D=T.mod(d)).cmp(p)&&D.cmp(f)&&($+=8);break;default:$+=4}return v[q]=$,$})(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(T){var A=(T=(T=new a(T)).toRed(this._prime)).redPow(this._priv).fromRed(),L=new i(A.toArray()),q=this.getPrime();if(L.length<q.length){var D=new i(q.length-L.length);D.fill(0),L=i.concat([D,L])}return L},x.prototype.getPublicKey=function(T){return k(this._pub,T)},x.prototype.getPrivateKey=function(T){return k(this._priv,T)},x.prototype.getPrime=function(T){return k(this.__prime,T)},x.prototype.getGenerator=function(T){return k(this._gen,T)},x.prototype.setGenerator=function(T,A){return A=A||"utf8",i.isBuffer(T)||(T=new i(T,A)),this.__gen=T,this._gen=new a(T),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,s,n){var i=t("randombytes");s.exports=T,T.simpleSieve=x,T.fermatTest=k;var a=t("bn.js"),l=new a(24),u=new(t("miller-rabin")),c=new a(1),d=new a(2),p=new a(5),f=(new a(16),new a(8),new a(10)),h=new a(3),g=(new a(7),new a(11)),y=new a(4),m=(new a(12),null);function v(){if(m!==null)return m;var A=[];A[0]=2;for(var L=1,q=3;q<1048576;q+=2){for(var D=Math.ceil(Math.sqrt(q)),$=0;$<L&&A[$]<=D&&q%A[$]!=0;$++);L!==$&&A[$]<=D||(A[L++]=q)}return m=A,A}function x(A){for(var L=v(),q=0;q<L.length;q++)if(A.modn(L[q])===0)return A.cmpn(L[q])===0;return!0}function k(A){var L=a.mont(A);return d.toRed(L).redPow(A.subn(1)).fromRed().cmpn(1)===0}function T(A,L){if(A<16)return new a(L===2||L===5?[140,123]:[140,39]);var q,D;for(L=new a(L);;){for(q=new a(i(Math.ceil(A/8)));q.bitLength()>A;)q.ishrn(1);if(q.isEven()&&q.iadd(c),q.testn(1)||q.iadd(d),L.cmp(d)){if(!L.cmp(p))for(;q.mod(f).cmp(h);)q.iadd(y)}else for(;q.mod(l).cmp(g);)q.iadd(y);if(x(D=q.shrn(1))&&x(q)&&k(D)&&k(q)&&u.test(D)&&u.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,s,n){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,s,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(t,s,n){var i=n;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,s,n){var i=t("bn.js"),a=t("../utils"),l=a.getNAF,u=a.getJSF,c=a.assert;function d(f,h){this.type=f,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(f,h){this.curve=f,this.type=h,this.precomputed=null}s.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,h){c(f.precomputed);var g=f._getDoubles(),y=l(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,x,k=[];for(v=0;v<y.length;v+=g.step){x=0;for(var T=v+g.step-1;T>=v;T--)x=(x<<1)+y[T];k.push(x)}for(var A=this.jpoint(null,null,null),L=this.jpoint(null,null,null),q=m;q>0;q--){for(v=0;v<k.length;v++)(x=k[v])===q?L=L.mixedAdd(g.points[v]):x===-q&&(L=L.mixedAdd(g.points[v].neg()));A=A.add(L)}return A.toP()},d.prototype._wnafMul=function(f,h){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=l(h,g,this._bitLength),x=this.jpoint(null,null,null),k=v.length-1;k>=0;k--){for(var T=0;k>=0&&v[k]===0;k--)T++;if(k>=0&&T++,x=x.dblp(T),k<0)break;var A=v[k];c(A!==0),x=f.type==="affine"?A>0?x.mixedAdd(m[A-1>>1]):x.mixedAdd(m[-A-1>>1].neg()):A>0?x.add(m[A-1>>1]):x.add(m[-A-1>>1].neg())}return f.type==="affine"?x.toP():x},d.prototype._wnafMulAdd=function(f,h,g,y,m){var v,x,k,T=this._wnafT1,A=this._wnafT2,L=this._wnafT3,q=0;for(v=0;v<y;v++){var D=(k=h[v])._getNAFPoints(f);T[v]=D.wnd,A[v]=D.points}for(v=y-1;v>=1;v-=2){var $=v-1,z=v;if(T[$]===1&&T[z]===1){var K=[h[$],null,null,h[z]];h[$].y.cmp(h[z].y)===0?(K[1]=h[$].add(h[z]),K[2]=h[$].toJ().mixedAdd(h[z].neg())):h[$].y.cmp(h[z].y.redNeg())===0?(K[1]=h[$].toJ().mixedAdd(h[z]),K[2]=h[$].add(h[z].neg())):(K[1]=h[$].toJ().mixedAdd(h[z]),K[2]=h[$].toJ().mixedAdd(h[z].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],P=u(g[$],g[z]);for(q=Math.max(P[0].length,q),L[$]=new Array(q),L[z]=new Array(q),x=0;x<q;x++){var R=0|P[0][x],C=0|P[1][x];L[$][x]=W[3*(R+1)+(C+1)],L[z][x]=0,A[$]=K}}else L[$]=l(g[$],T[$],this._bitLength),L[z]=l(g[z],T[z],this._bitLength),q=Math.max(L[$].length,q),q=Math.max(L[z].length,q)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(v=q;v>=0;v--){for(var j=0;v>=0;){var N=!0;for(x=0;x<y;x++)S[x]=0|L[x][v],S[x]!==0&&(N=!1);if(!N)break;j++,v--}if(v>=0&&j++,_=_.dblp(j),v<0)break;for(x=0;x<y;x++){var M=S[x];M!==0&&(M>0?k=A[x][M-1>>1]:M<0&&(k=A[x][-M-1>>1].neg()),_=k.type==="affine"?_.mixedAdd(k):_.add(k))}}for(v=0;v<y;v++)A[v]=null;return m?_:_.toP()},d.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,h){f=a.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?c(f[f.length-1]%2==0):f[0]===7&&c(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(f){return this.encode(f,!0)},p.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},p.prototype.encode=function(f,h){return a.encode(this._encode(h),f)},p.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},p.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},p.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<h;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},p.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(y);return{wnd:f,points:h}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(t,s,n){var i=t("../utils"),a=t("bn.js"),l=t("inherits"),u=t("./base"),c=i.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new a(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function p(f,h,g,y,m){u.BasePoint.call(this,f,"projective"),h===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(h,16),this.y=new a(g,16),this.z=y?new a(y,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(d,u),s.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,h,g,y){return this.point(f,h,g,y)},d.prototype.pointFromX=function(f,h){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var k=x.fromRed().isOdd();return(h&&!k||!h&&k)&&(x=x.redNeg()),this.point(f,x)},d.prototype.pointFromY=function(f,h){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==h&&(x=x.redNeg()),this.point(x,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),y=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return y.cmp(m)===0},l(p,u.BasePoint),d.prototype.pointFromJSON=function(f){return p.fromJSON(this,f)},d.prototype.point=function(f,h,g,y){return new p(this,f,h,g,y)},p.fromJSON=function(f,h){return new p(f,h[0],h[1],h[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),v=y.redAdd(h),x=v.redSub(g),k=y.redSub(h),T=m.redMul(x),A=v.redMul(k),L=m.redMul(k),q=x.redMul(v);return this.curve.point(T,A,q,L)},p.prototype._projDbl=function(){var f,h,g,y,m,v,x=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),T=this.y.redSqr();if(this.curve.twisted){var A=(y=this.curve._mulA(k)).redAdd(T);this.zOne?(f=x.redSub(k).redSub(T).redMul(A.redSub(this.curve.two)),h=A.redMul(y.redSub(T)),g=A.redSqr().redSub(A).redSub(A)):(m=this.z.redSqr(),v=A.redSub(m).redISub(m),f=x.redSub(k).redISub(T).redMul(v),h=A.redMul(y.redSub(T)),g=A.redMul(v))}else y=k.redAdd(T),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(x.redISub(y)).redMul(v),h=this.curve._mulC(y).redMul(k.redISub(T)),g=y.redMul(v);return this.curve.point(f,h,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(h),x=m.redSub(y),k=m.redAdd(y),T=g.redAdd(h),A=v.redMul(x),L=k.redMul(T),q=v.redMul(T),D=x.redMul(k);return this.curve.point(A,L,D,q)},p.prototype._projAdd=function(f){var h,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),x=this.y.redMul(f.y),k=this.curve.d.redMul(v).redMul(x),T=m.redSub(k),A=m.redAdd(k),L=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(x),q=y.redMul(T).redMul(L);return this.curve.twisted?(h=y.redMul(A).redMul(x.redSub(this.curve._mulA(v))),g=T.redMul(A)):(h=y.redMul(A).redMul(x.redSub(v)),g=this.curve._mulC(T).redMul(A)),this.curve.point(q,h,g)},p.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},p.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},p.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},p.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,s,n){var i=n;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,s,n){var i=t("bn.js"),a=t("inherits"),l=t("./base"),u=t("../utils");function c(p){l.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(p,f,h){l.BasePoint.call(this,p,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,l),s.exports=c,c.prototype.validate=function(p){var f=p.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},a(d,l.BasePoint),c.prototype.decodePoint=function(p,f){return this.point(u.toArray(p,f),1)},c.prototype.point=function(p,f){return new d(this,p,f)},c.prototype.pointFromJSON=function(p){return d.fromJSON(this,p)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(p,f){return new d(p,f[0],f[1]||p.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=p.redSub(f),g=p.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(p,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=p.x.redAdd(p.z),m=p.x.redSub(p.z).redMul(h),v=y.redMul(g),x=f.z.redMul(m.redAdd(v).redSqr()),k=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(x,k)},d.prototype.mul=function(p){for(var f=p.clone(),h=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,s,n){var i=t("../utils"),a=t("bn.js"),l=t("inherits"),u=t("./base"),c=i.assert;function d(h){u.call(this,"short",h),this.a=new a(h.a,16).toRed(this.red),this.b=new a(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(h,g,y,m){u.BasePoint.call(this,h,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,y,m){u.BasePoint.call(this,h,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(y,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(d,u),s.exports=d,d.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(h.beta)g=new a(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)y=new a(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],c(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:h.basis?h.basis.map((function(x){return{a:new a(x.a,16),b:new a(x.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:a.mont(h),y=new a(2).toRed(g).redInvm(),m=y.redNeg(),v=new a(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(h){for(var g,y,m,v,x,k,T,A,L,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),D=h,$=this.n.clone(),z=new a(1),K=new a(0),W=new a(0),P=new a(1),R=0;D.cmpn(0)!==0;){var C=$.div(D);A=$.sub(C.mul(D)),L=W.sub(C.mul(z));var _=P.sub(C.mul(K));if(!m&&A.cmp(q)<0)g=T.neg(),y=z,m=A.neg(),v=L;else if(m&&++R==2)break;T=A,$=D,D=A,W=z,z=L,P=K,K=_}x=A.neg(),k=L;var S=m.sqr().add(v.sqr());return x.sqr().add(k.sqr()).cmp(S)>=0&&(x=g,k=y),m.negative&&(m=m.neg(),v=v.neg()),x.negative&&(x=x.neg(),k=k.neg()),[{a:m,b:v},{a:x,b:k}]},d.prototype._endoSplit=function(h){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(h).divRound(this.n),x=y.b.neg().mul(h).divRound(this.n),k=v.mul(y.a),T=x.mul(m.a),A=v.mul(y.b),L=x.mul(m.b);return{k1:h.sub(k).sub(T),k2:A.add(L).neg()}},d.prototype.pointFromX=function(h,g){(h=new a(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(h,m)},d.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,y=h.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(h,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,x=0;x<h.length;x++){var k=this._endoSplit(g[x]),T=h[x],A=T._getBeta();k.k1.negative&&(k.k1.ineg(),T=T.neg(!0)),k.k2.negative&&(k.k2.ineg(),A=A.neg(!0)),m[2*x]=T,m[2*x+1]=A,v[2*x]=k.k1,v[2*x+1]=k.k2}for(var L=this._wnafMulAdd(1,m,v,2*x,y),q=0;q<2*x;q++)m[q]=null,v[q]=null;return L},l(p,u.BasePoint),d.prototype.point=function(h,g,y){return new p(this,h,g,y)},d.prototype.pointFromJSON=function(h,g){return p.fromJSON(this,h,g)},p.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(h,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],y);if(!g[2])return m;function v(k){return h.point(k[0],k[1],y)}var x=g[2];return m.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[m].concat(x.doubles.points.map(v))},naf:x.naf&&{wnd:x.naf.wnd,points:[m].concat(x.naf.points.map(v))}},m},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},p.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=h.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),x=v.redSqr().redISub(this.x.redAdd(this.x)),k=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,k)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(h){return h=new a(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},p.prototype.jmulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},p.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},p.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(f,u.BasePoint),d.prototype.jpoint=function(h,g,y){return new f(this,h,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=h.x.redMul(y),x=this.y.redMul(g.redMul(h.z)),k=h.y.redMul(y.redMul(this.z)),T=m.redSub(v),A=x.redSub(k);if(T.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=T.redSqr(),q=L.redMul(T),D=m.redMul(L),$=A.redSqr().redIAdd(q).redISub(D).redISub(D),z=A.redMul(D.redISub($)).redISub(x.redMul(q)),K=this.z.redMul(h.z).redMul(T);return this.curve.jpoint($,z,K)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=h.x.redMul(g),v=this.y,x=h.y.redMul(g).redMul(this.z),k=y.redSub(m),T=v.redSub(x);if(k.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=k.redSqr(),L=A.redMul(k),q=y.redMul(A),D=T.redSqr().redIAdd(L).redISub(q).redISub(q),$=T.redMul(q.redISub(D)).redISub(v.redMul(L)),z=this.z.redMul(k);return this.curve.jpoint(D,$,z)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<h;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,x=this.x,k=this.y,T=this.z,A=T.redSqr().redSqr(),L=k.redAdd(k);for(g=0;g<h;g++){var q=x.redSqr(),D=L.redSqr(),$=D.redSqr(),z=q.redAdd(q).redIAdd(q).redIAdd(m.redMul(A)),K=x.redMul(D),W=z.redSqr().redISub(K.redAdd(K)),P=K.redISub(W),R=z.redMul(P);R=R.redIAdd(R).redISub($);var C=L.redMul(T);g+1<h&&(A=A.redMul($)),x=W,T=C,L=R}return this.curve.jpoint(x,L.redMul(v),T)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),k=this.x.redAdd(v).redSqr().redISub(m).redISub(x);k=k.redIAdd(k);var T=m.redAdd(m).redIAdd(m),A=T.redSqr().redISub(k).redISub(k),L=x.redIAdd(x);L=(L=L.redIAdd(L)).redIAdd(L),h=A,g=T.redMul(k.redISub(A)).redISub(L),y=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),D=this.y.redSqr(),$=D.redSqr(),z=this.x.redAdd(D).redSqr().redISub(q).redISub($);z=z.redIAdd(z);var K=q.redAdd(q).redIAdd(q),W=K.redSqr(),P=$.redIAdd($);P=(P=P.redIAdd(P)).redIAdd(P),h=W.redISub(z).redISub(z),g=K.redMul(z.redISub(h)).redISub(P),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,g,y)},f.prototype._threeDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),k=this.x.redAdd(v).redSqr().redISub(m).redISub(x);k=k.redIAdd(k);var T=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),A=T.redSqr().redISub(k).redISub(k);h=A;var L=x.redIAdd(x);L=(L=L.redIAdd(L)).redIAdd(L),g=T.redMul(k.redISub(A)).redISub(L),y=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),D=this.y.redSqr(),$=this.x.redMul(D),z=this.x.redSub(q).redMul(this.x.redAdd(q));z=z.redAdd(z).redIAdd(z);var K=$.redIAdd($),W=(K=K.redIAdd(K)).redAdd(K);h=z.redSqr().redISub(W),y=this.y.redAdd(this.z).redSqr().redISub(D).redISub(q);var P=D.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P),g=z.redMul(K.redISub(h)).redISub(P)}return this.curve.jpoint(h,g,y)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),x=g.redSqr(),k=y.redSqr(),T=x.redAdd(x).redIAdd(x).redIAdd(h.redMul(v)),A=g.redAdd(g),L=(A=A.redIAdd(A)).redMul(k),q=T.redSqr().redISub(L.redAdd(L)),D=L.redISub(q),$=k.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var z=T.redMul(D).redISub($),K=y.redAdd(y).redMul(m);return this.curve.jpoint(q,z,K)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=h.redAdd(h).redIAdd(h),x=v.redSqr(),k=this.x.redAdd(g).redSqr().redISub(h).redISub(m),T=(k=(k=(k=k.redIAdd(k)).redAdd(k).redIAdd(k)).redISub(x)).redSqr(),A=m.redIAdd(m);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var L=v.redIAdd(k).redSqr().redISub(x).redISub(T).redISub(A),q=g.redMul(L);q=(q=q.redIAdd(q)).redIAdd(q);var D=this.x.redMul(T).redISub(q);D=(D=D.redIAdd(D)).redIAdd(D);var $=this.y.redMul(L.redMul(A.redISub(L)).redISub(k.redMul(T)));$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var z=this.z.redAdd(k).redSqr().redISub(y).redISub(T);return this.curve.jpoint(D,$,z)},f.prototype.mul=function(h,g){return h=new a(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=h.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,s,n){var i,a=n,l=t("hash.js"),u=t("./curve"),c=t("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(f,h){Object.defineProperty(a,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(h);return Object.defineProperty(a,f,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=d,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,s,n){var i=t("bn.js"),a=t("hmac-drbg"),l=t("../utils"),u=t("../curves"),c=t("brorand"),d=l.assert,p=t("./key"),f=t("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}s.exports=h,h.prototype.keyPair=function(g){return new p(this,g)},h.prototype.keyFromPrivate=function(g,y){return p.fromPrivate(this,g,y)},h.prototype.keyFromPublic=function(g,y){return p.fromPublic(this,g,y)},h.prototype.genKeyPair=function(g){g||(g={});for(var y=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||c(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new i(2));;){var x=new i(y.generate(m));if(!(x.cmp(v)>0))return x.iaddn(1),this.keyFromPrivate(x)}},h.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new i(g,16));for(var x=this.n.byteLength(),k=y.getPrivate().toArray("be",x),T=g.toArray("be",x),A=new a({hash:this.hash,entropy:k,nonce:T,pers:v.pers,persEnc:v.persEnc||"utf8"}),L=this.n.sub(new i(1)),q=0;;q++){var D=v.k?v.k(q):new i(A.generate(this.n.byteLength()));if(!((D=this._truncateToN(D,!0)).cmpn(1)<=0||D.cmp(L)>=0)){var $=this.g.mul(D);if(!$.isInfinity()){var z=$.getX(),K=z.umod(this.n);if(K.cmpn(0)!==0){var W=D.invm(this.n).mul(K.mul(y.getPrivate()).iadd(g));if((W=W.umod(this.n)).cmpn(0)!==0){var P=($.getY().isOdd()?1:0)|(z.cmp(K)!==0?2:0);return v.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),P^=1),new f({r:K,s:W,recoveryParam:P})}}}}}},h.prototype.verify=function(g,y,m,v){g=this._truncateToN(new i(g,16)),m=this.keyFromPublic(m,v);var x=(y=new f(y,"hex")).r,k=y.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var T,A=k.invm(this.n),L=A.mul(g).umod(this.n),q=A.mul(x).umod(this.n);return this.curve._maxwellTrick?!(T=this.g.jmulAdd(L,m.getPublic(),q)).isInfinity()&&T.eqXToP(x):!(T=this.g.mulAdd(L,m.getPublic(),q)).isInfinity()&&T.getX().umod(this.n).cmp(x)===0},h.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var x=this.n,k=new i(g),T=y.r,A=y.s,L=1&m,q=m>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");T=q?this.curve.pointFromX(T.add(this.curve.n),L):this.curve.pointFromX(T,L);var D=y.r.invm(x),$=x.sub(k).mul(D).umod(x),z=A.mul(D).umod(x);return this.g.mulAdd($,T,z)},h.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var x=0;x<4;x++){var k;try{k=this.recoverPubKey(g,y,x)}catch{continue}if(k.eq(m))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,s,n){var i=t("bn.js"),a=t("../utils").assert;function l(u,c){this.ec=u,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}s.exports=l,l.fromPublic=function(u,c,d){return c instanceof l?c:new l(u,{pub:c,pubEnc:d})},l.fromPrivate=function(u,c,d){return c instanceof l?c:new l(u,{priv:c,privEnc:d})},l.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(u,c){return typeof u=="string"&&(c=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,u):this.pub},l.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(u,c){this.priv=new i(u,c||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(u,c){if(u.x||u.y)return this.ec.curve.type==="mont"?a(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,c)},l.prototype.derive=function(u){return u.validate()||a(u.validate(),"public point not validated"),u.mul(this.priv).getX()},l.prototype.sign=function(u,c,d){return this.ec.sign(u,this,c,d)},l.prototype.verify=function(u,c){return this.ec.verify(u,c,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,s,n){var i=t("bn.js"),a=t("../utils"),l=a.assert;function u(h,g){if(h instanceof u)return h;this._importDER(h,g)||(l(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function c(){this.place=0}function d(h,g){var y=h[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,x=0,k=g.place;x<m;x++,k++)v<<=8,v|=h[k],v>>>=0;return!(v<=127)&&(g.place=k,v)}function p(h){for(var g=0,y=h.length-1;!h[g]&&!(128&h[g+1])&&g<y;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(g>>>(y<<3)&255);h.push(g)}}s.exports=u,u.prototype._importDER=function(h,g){h=a.toArray(h,g);var y=new c;if(h[y.place++]!==48)return!1;var m=d(h,y);if(m===!1||m+y.place!==h.length||h[y.place++]!==2)return!1;var v=d(h,y);if(v===!1)return!1;var x=h.slice(y.place,v+y.place);if(y.place+=v,h[y.place++]!==2)return!1;var k=d(h,y);if(k===!1||h.length!==k+y.place)return!1;var T=h.slice(y.place,k+y.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(T[0]===0){if(!(128&T[1]))return!1;T=T.slice(1)}return this.r=new i(x),this.s=new i(T),this.recoveryParam=null,!0},u.prototype.toDER=function(h){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=p(g),y=p(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),x=[48];return f(x,v.length),x=x.concat(v),a.encode(x,h)}},{"../utils":419,"bn.js":420}],415:[function(t,s,n){var i=t("hash.js"),a=t("../curves"),l=t("../utils"),u=l.assert,c=l.parseBytes,d=t("./key"),p=t("./signature");function f(h){if(u(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=a[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}s.exports=f,f.prototype.sign=function(h,g){h=c(h);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),h),v=this.g.mul(m),x=this.encodePoint(v),k=this.hashInt(x,y.pubBytes(),h).mul(y.priv()),T=m.add(k).umod(this.curve.n);return this.makeSignature({R:v,S:T,Rencoded:x})},f.prototype.verify=function(h,g,y){h=c(h),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),h),x=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(x)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return l.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return d.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return d.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof p?h:new p(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=l.parseBytes(h)).length-1,y=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,v=l.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return l.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,s,n){var i=t("../utils"),a=i.assert,l=i.parseBytes,u=i.cachedProperty;function c(d,p){this.eddsa=d,this._secret=l(p.secret),d.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=l(p.pub)}c.fromPublic=function(d,p){return p instanceof c?p:new c(d,{pub:p})},c.fromSecret=function(d,p){return p instanceof c?p:new c(d,{secret:p})},c.prototype.secret=function(){return this._secret},u(c,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(c,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(c,"privBytes",(function(){var d=this.eddsa,p=this.hash(),f=d.encodingLength-1,h=p.slice(0,d.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h})),u(c,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(c,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(c,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),c.prototype.sign=function(d){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},c.prototype.verify=function(d,p){return this.eddsa.verify(d,p,this)},c.prototype.getSecret=function(d){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),d)},c.prototype.getPublic=function(d){return i.encode(this.pubBytes(),d)},s.exports=c},{"../utils":419}],417:[function(t,s,n){var i=t("bn.js"),a=t("../utils"),l=a.assert,u=a.cachedProperty,c=a.parseBytes;function d(p,f){this.eddsa=p,typeof f!="object"&&(f=c(f)),Array.isArray(f)&&(f={R:f.slice(0,p.encodingLength),S:f.slice(p.encodingLength)}),l(f.R&&f.S,"Signature without R or S"),p.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},s.exports=d},{"../utils":419,"bn.js":420}],418:[function(t,s,n){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,s,n){var i=n,a=t("bn.js"),l=t("minimalistic-assert"),u=t("minimalistic-crypto-utils");i.assert=l,i.toArray=u.toArray,i.zero2=u.zero2,i.toHex=u.toHex,i.encode=u.encode,i.getNAF=function(c,d,p){var f=new Array(Math.max(c.bitLength(),p)+1);f.fill(0);for(var h=1<<d+1,g=c.clone(),y=0;y<f.length;y++){var m,v=g.andln(h-1);g.isOdd()?(m=v>(h>>1)-1?(h>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},i.getJSF=function(c,d){var p=[[],[]];c=c.clone(),d=d.clone();for(var f,h=0,g=0;c.cmpn(-h)>0||d.cmpn(-g)>0;){var y,m,v=c.andln(3)+h&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1),y=(1&v)==0?0:(f=c.andln(7)+h&7)!==3&&f!==5||x!==2?v:-v,p[0].push(y),m=(1&x)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?x:-x,p[1].push(m),2*h===y+1&&(h=1-h),2*g===m+1&&(g=1-g),c.iushrn(1),d.iushrn(1)}return p},i.cachedProperty=function(c,d,p){var f="_"+d;c.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=p.call(this)}},i.parseBytes=function(c){return typeof c=="string"?i.toArray(c,"hex"):c},i.intFromLE=function(c){return new a(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,s,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(t,s,n){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,s,n){var i=Object.create||function(D){var $=function(){};return $.prototype=D,new $},a=Object.keys||function(D){var $=[];for(var z in D)Object.prototype.hasOwnProperty.call(D,z)&&$.push(z);return z},l=Function.prototype.bind||function(D){var $=this;return function(){return $.apply(D,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var c,d=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),c=p.x===0}catch{c=!1}function f(D){return D._maxListeners===void 0?u.defaultMaxListeners:D._maxListeners}function h(D,$,z){if($)D.call(z);else for(var K=D.length,W=q(D,K),P=0;P<K;++P)W[P].call(z)}function g(D,$,z,K){if($)D.call(z,K);else for(var W=D.length,P=q(D,W),R=0;R<W;++R)P[R].call(z,K)}function y(D,$,z,K,W){if($)D.call(z,K,W);else for(var P=D.length,R=q(D,P),C=0;C<P;++C)R[C].call(z,K,W)}function m(D,$,z,K,W,P){if($)D.call(z,K,W,P);else for(var R=D.length,C=q(D,R),_=0;_<R;++_)C[_].call(z,K,W,P)}function v(D,$,z,K){if($)D.apply(z,K);else for(var W=D.length,P=q(D,W),R=0;R<W;++R)P[R].apply(z,K)}function x(D,$,z,K){var W,P,R;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if((P=D._events)?(P.newListener&&(D.emit("newListener",$,z.listener?z.listener:z),P=D._events),R=P[$]):(P=D._events=i(null),D._eventsCount=0),R){if(typeof R=="function"?R=P[$]=K?[z,R]:[R,z]:K?R.unshift(z):R.push(z),!R.warned&&(W=f(D))&&W>0&&R.length>W){R.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String($)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=D,C.type=$,C.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else R=P[$]=z,++D._eventsCount;return D}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),$=0;$<D.length;++$)D[$]=arguments[$];this.listener.apply(this.target,D)}}function T(D,$,z){var K={fired:!1,wrapFn:void 0,target:D,type:$,listener:z},W=l.call(k,K);return W.listener=z,K.wrapFn=W,W}function A(D,$,z){var K=D._events;if(!K)return[];var W=K[$];return W?typeof W=="function"?z?[W.listener||W]:[W]:z?(function(P){for(var R=new Array(P.length),C=0;C<R.length;++C)R[C]=P[C].listener||P[C];return R})(W):q(W,W.length):[]}function L(D){var $=this._events;if($){var z=$[D];if(typeof z=="function")return 1;if(z)return z.length}return 0}function q(D,$){for(var z=new Array($),K=0;K<$;++K)z[K]=D[K];return z}c?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(D){if(typeof D!="number"||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');d=D}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(D){var $,z,K,W,P,R,C=D==="error";if(R=this._events)C=C&&R.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&($=arguments[1]),$ instanceof Error)throw $;var _=new Error('Unhandled "error" event. ('+$+")");throw _.context=$,_}if(!(z=R[D]))return!1;var S=typeof z=="function";switch(K=arguments.length){case 1:h(z,S,this);break;case 2:g(z,S,this,arguments[1]);break;case 3:y(z,S,this,arguments[1],arguments[2]);break;case 4:m(z,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(K-1),P=1;P<K;P++)W[P-1]=arguments[P];v(z,S,this,W)}return!0},u.prototype.addListener=function(D,$){return x(this,D,$,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(D,$){return x(this,D,$,!0)},u.prototype.once=function(D,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,T(this,D,$)),this},u.prototype.prependOnceListener=function(D,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,T(this,D,$)),this},u.prototype.removeListener=function(D,$){var z,K,W,P,R;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(!(K=this._events))return this;if(!(z=K[D]))return this;if(z===$||z.listener===$)--this._eventsCount==0?this._events=i(null):(delete K[D],K.removeListener&&this.emit("removeListener",D,z.listener||$));else if(typeof z!="function"){for(W=-1,P=z.length-1;P>=0;P--)if(z[P]===$||z[P].listener===$){R=z[P].listener,W=P;break}if(W<0)return this;W===0?z.shift():(function(C,_){for(var S=_,j=S+1,N=C.length;j<N;S+=1,j+=1)C[S]=C[j];C.pop()})(z,W),z.length===1&&(K[D]=z[0]),K.removeListener&&this.emit("removeListener",D,R||$)}return this},u.prototype.removeAllListeners=function(D){var $,z,K;if(!(z=this._events))return this;if(!z.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):z[D]&&(--this._eventsCount==0?this._events=i(null):delete z[D]),this;if(arguments.length===0){var W,P=a(z);for(K=0;K<P.length;++K)(W=P[K])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof($=z[D])=="function")this.removeListener(D,$);else if($)for(K=$.length-1;K>=0;K--)this.removeListener(D,$[K]);return this},u.prototype.listeners=function(D){return A(this,D,!0)},u.prototype.rawListeners=function(D){return A(this,D,!1)},u.listenerCount=function(D,$){return typeof D.listenerCount=="function"?D.listenerCount($):L.call(D,$)},u.prototype.listenerCount=L,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("md5.js");s.exports=function(l,u,c,d){if(i.isBuffer(l)||(l=i.from(l,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=c/8,f=i.alloc(p),h=i.alloc(d||0),g=i.alloc(0);p>0||d>0;){var y=new a;y.update(g),y.update(l),u&&y.update(u),g=y.digest();var m=0;if(p>0){var v=f.length-p;m=Math.min(p,g.length),g.copy(f,v,0,m),p-=m}if(m<g.length&&d>0){var x=h.length-d,k=Math.min(d,g.length-m);g.copy(h,x,m,m+k),d-=k}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=t("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("readable-stream").Transform;function l(u){a.call(this),this._block=i.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(l,a),l.prototype._transform=function(u,c,d){var p=null;try{this.update(u,c)}catch(f){p=f}d(p)},l.prototype._flush=function(u){var c=null;try{this.push(this.digest())}catch(d){c=d}u(c)},l.prototype.update=function(u,c){if((function(y,m){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(u)||(u=i.from(u,c));for(var d=this._block,p=0;this._blockOffset+u.length-p>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[p++];this._update(),this._blockOffset=0}for(;p<u.length;)d[this._blockOffset++]=u[p++];for(var h=0,g=8*u.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();u!==void 0&&(c=c.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return c},l.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,s,n){var i=n;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,s,n){var i=t("./utils"),a=t("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=l,l.prototype.update=function(u,c){if(u=i.toArray(u,c),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=i.join32(u,0,u.length-d,this.endian);for(var p=0;p<u.length;p+=this._delta32)this._update(u,p,p+this._delta32)}return this},l.prototype.digest=function(u){return this.update(this._pad()),a(this.pending===null),this._digest(u)},l.prototype._pad=function(){var u=this.pendingTotal,c=this._delta8,d=c-(u+this.padLength)%c,p=new Array(d+this.padLength);p[0]=128;for(var f=1;f<d;f++)p[f]=0;if(u<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)p[f++]=0;p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=u>>>24&255,p[f++]=u>>>16&255,p[f++]=u>>>8&255,p[f++]=255&u}else for(p[f++]=255&u,p[f++]=u>>>8&255,p[f++]=u>>>16&255,p[f++]=u>>>24&255,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,h=8;h<this.padLength;h++)p[f++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,s,n){var i=t("./utils"),a=t("minimalistic-assert");function l(u,c,d){if(!(this instanceof l))return new l(u,c,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(c,d))}s.exports=l,l.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),a(u.length<=this.blockSize);for(var c=u.length;c<this.blockSize;c++)u.push(0);for(c=0;c<u.length;c++)u[c]^=54;for(this.inner=new this.Hash().update(u),c=0;c<u.length;c++)u[c]^=106;this.outer=new this.Hash().update(u)},l.prototype.update=function(u,c){return this.inner.update(u,c),this},l.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,s,n){var i=t("./utils"),a=t("./common"),l=i.rotl32,u=i.sum32,c=i.sum32_3,d=i.sum32_4,p=a.BlockHash;function f(){if(!(this instanceof f))return new f;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(T,A,L,q){return T<=15?A^L^q:T<=31?A&L|~A&q:T<=47?(A|~L)^q:T<=63?A&q|L&~q:A^(L|~q)}function g(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function y(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}i.inherits(f,p),n.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(T,A){for(var L=this.h[0],q=this.h[1],D=this.h[2],$=this.h[3],z=this.h[4],K=L,W=q,P=D,R=$,C=z,_=0;_<80;_++){var S=u(l(d(L,h(_,q,D,$),T[m[_]+A],g(_)),x[_]),z);L=z,z=$,$=l(D,10),D=q,q=S,S=u(l(d(K,h(79-_,W,P,R),T[v[_]+A],y(_)),k[_]),C),K=C,C=R,R=l(P,10),P=W,W=S}S=c(this.h[1],D,R),this.h[1]=c(this.h[2],$,C),this.h[2]=c(this.h[3],z,K),this.h[3]=c(this.h[4],L,W),this.h[4]=c(this.h[0],q,P),this.h[0]=S},f.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,s,n){n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,s,n){var i=t("../utils"),a=t("../common"),l=t("./common"),u=i.rotl32,c=i.sum32,d=i.sum32_5,p=l.ft_1,f=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),s.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,x=0;x<16;x++)v[x]=y[m+x];for(;x<v.length;x++)v[x]=u(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var k=this.h[0],T=this.h[1],A=this.h[2],L=this.h[3],q=this.h[4];for(x=0;x<v.length;x++){var D=~~(x/20),$=d(u(k,5),p(D,T,A,L),q,v[x],h[D]);q=L,L=A,A=u(T,30),T=k,k=$}this.h[0]=c(this.h[0],k),this.h[1]=c(this.h[1],T),this.h[2]=c(this.h[2],A),this.h[3]=c(this.h[3],L),this.h[4]=c(this.h[4],q)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,s,n){var i=t("../utils"),a=t("./256");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(l,a),s.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,s,n){var i=t("../utils"),a=t("../common"),l=t("./common"),u=t("minimalistic-assert"),c=i.sum32,d=i.sum32_4,p=i.sum32_5,f=l.ch32,h=l.maj32,g=l.s0_256,y=l.s1_256,m=l.g0_256,v=l.g1_256,x=a.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,this.W=new Array(64)}i.inherits(T,x),s.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(A,L){for(var q=this.W,D=0;D<16;D++)q[D]=A[L+D];for(;D<q.length;D++)q[D]=d(v(q[D-2]),q[D-7],m(q[D-15]),q[D-16]);var $=this.h[0],z=this.h[1],K=this.h[2],W=this.h[3],P=this.h[4],R=this.h[5],C=this.h[6],_=this.h[7];for(u(this.k.length===q.length),D=0;D<q.length;D++){var S=p(_,y(P),f(P,R,C),this.k[D],q[D]),j=c(g($),h($,z,K));_=C,C=R,R=P,P=c(W,S),W=K,K=z,z=$,$=c(S,j)}this.h[0]=c(this.h[0],$),this.h[1]=c(this.h[1],z),this.h[2]=c(this.h[2],K),this.h[3]=c(this.h[3],W),this.h[4]=c(this.h[4],P),this.h[5]=c(this.h[5],R),this.h[6]=c(this.h[6],C),this.h[7]=c(this.h[7],_)},T.prototype._digest=function(A){return A==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,s,n){var i=t("../utils"),a=t("./512");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(l,a),s.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,s,n){var i=t("../utils"),a=t("../common"),l=t("minimalistic-assert"),u=i.rotr64_hi,c=i.rotr64_lo,d=i.shr64_hi,p=i.shr64_lo,f=i.sum64,h=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,m=i.sum64_4_lo,v=i.sum64_5_hi,x=i.sum64_5_lo,k=a.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}function L(j,N,M,O,B){var G=j&M^~j&B;return G<0&&(G+=4294967296),G}function q(j,N,M,O,B,G){var Q=N&O^~N&G;return Q<0&&(Q+=4294967296),Q}function D(j,N,M,O,B){var G=j&M^j&B^M&B;return G<0&&(G+=4294967296),G}function $(j,N,M,O,B,G){var Q=N&O^N&G^O&G;return Q<0&&(Q+=4294967296),Q}function z(j,N){var M=u(j,N,28)^u(N,j,2)^u(N,j,7);return M<0&&(M+=4294967296),M}function K(j,N){var M=c(j,N,28)^c(N,j,2)^c(N,j,7);return M<0&&(M+=4294967296),M}function W(j,N){var M=u(j,N,14)^u(j,N,18)^u(N,j,9);return M<0&&(M+=4294967296),M}function P(j,N){var M=c(j,N,14)^c(j,N,18)^c(N,j,9);return M<0&&(M+=4294967296),M}function R(j,N){var M=u(j,N,1)^u(j,N,8)^d(j,N,7);return M<0&&(M+=4294967296),M}function C(j,N){var M=c(j,N,1)^c(j,N,8)^p(j,N,7);return M<0&&(M+=4294967296),M}function _(j,N){var M=u(j,N,19)^u(N,j,29)^d(j,N,6);return M<0&&(M+=4294967296),M}function S(j,N){var M=c(j,N,19)^c(N,j,29)^p(j,N,6);return M<0&&(M+=4294967296),M}i.inherits(A,k),s.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(j,N){for(var M=this.W,O=0;O<32;O++)M[O]=j[N+O];for(;O<M.length;O+=2){var B=_(M[O-4],M[O-3]),G=S(M[O-4],M[O-3]),Q=M[O-14],re=M[O-13],F=R(M[O-30],M[O-29]),Y=C(M[O-30],M[O-29]),V=M[O-32],U=M[O-31];M[O]=y(B,G,Q,re,F,Y,V,U),M[O+1]=m(B,G,Q,re,F,Y,V,U)}},A.prototype._update=function(j,N){this._prepareBlock(j,N);var M=this.W,O=this.h[0],B=this.h[1],G=this.h[2],Q=this.h[3],re=this.h[4],F=this.h[5],Y=this.h[6],V=this.h[7],U=this.h[8],Z=this.h[9],ie=this.h[10],me=this.h[11],ce=this.h[12],ye=this.h[13],ee=this.h[14],oe=this.h[15];l(this.k.length===M.length);for(var ne=0;ne<M.length;ne+=2){var fe=ee,le=oe,ae=W(U,Z),te=P(U,Z),se=L(U,Z,ie,me,ce),de=q(U,Z,ie,me,ce,ye),ge=this.k[ne],ke=this.k[ne+1],Ee=M[ne],Oe=M[ne+1],Le=v(fe,le,ae,te,se,de,ge,ke,Ee,Oe),Ge=x(fe,le,ae,te,se,de,ge,ke,Ee,Oe);fe=z(O,B),le=K(O,B),ae=D(O,B,G,Q,re),te=$(O,B,G,Q,re,F);var Qe=h(fe,le,ae,te),yt=g(fe,le,ae,te);ee=ce,oe=ye,ce=ie,ye=me,ie=U,me=Z,U=h(Y,V,Le,Ge),Z=g(V,V,Le,Ge),Y=re,V=F,re=G,F=Q,G=O,Q=B,O=h(Le,Ge,Qe,yt),B=g(Le,Ge,Qe,yt)}f(this.h,0,O,B),f(this.h,2,G,Q),f(this.h,4,re,F),f(this.h,6,Y,V),f(this.h,8,U,Z),f(this.h,10,ie,me),f(this.h,12,ce,ye),f(this.h,14,ee,oe)},A.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,s,n){var i=t("../utils").rotr32;function a(c,d,p){return c&d^~c&p}function l(c,d,p){return c&d^c&p^d&p}function u(c,d,p){return c^d^p}n.ft_1=function(c,d,p,f){return c===0?a(d,p,f):c===1||c===3?u(d,p,f):c===2?l(d,p,f):void 0},n.ch32=a,n.maj32=l,n.p32=u,n.s0_256=function(c){return i(c,2)^i(c,13)^i(c,22)},n.s1_256=function(c){return i(c,6)^i(c,11)^i(c,25)},n.g0_256=function(c){return i(c,7)^i(c,18)^c>>>3},n.g1_256=function(c){return i(c,17)^i(c,19)^c>>>10}},{"../utils":437}],437:[function(t,s,n){var i=t("minimalistic-assert"),a=t("inherits");function l(p,f){return(64512&p.charCodeAt(f))==55296&&!(f<0||f+1>=p.length)&&(64512&p.charCodeAt(f+1))==56320}function u(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function c(p){return p.length===1?"0"+p:p}function d(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}n.inherits=a,n.toArray=function(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var h=[];if(typeof p=="string")if(f){if(f==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),y=0;y<p.length;y+=2)h.push(parseInt(p[y]+p[y+1],16))}else for(var g=0,y=0;y<p.length;y++){var m=p.charCodeAt(y);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):l(p,y)?(m=65536+((1023&m)<<10)+(1023&p.charCodeAt(++y)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(y=0;y<p.length;y++)h[y]=0|p[y];return h},n.toHex=function(p){for(var f="",h=0;h<p.length;h++)f+=c(p[h].toString(16));return f},n.htonl=u,n.toHex32=function(p,f){for(var h="",g=0;g<p.length;g++){var y=p[g];f==="little"&&(y=u(y)),h+=d(y.toString(16))}return h},n.zero2=c,n.zero8=d,n.join32=function(p,f,h,g){var y=h-f;i(y%4==0);for(var m=new Array(y/4),v=0,x=f;v<m.length;v++,x+=4){var k;k=g==="big"?p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3]:p[x+3]<<24|p[x+2]<<16|p[x+1]<<8|p[x],m[v]=k>>>0}return m},n.split32=function(p,f){for(var h=new Array(4*p.length),g=0,y=0;g<p.length;g++,y+=4){var m=p[g];f==="big"?(h[y]=m>>>24,h[y+1]=m>>>16&255,h[y+2]=m>>>8&255,h[y+3]=255&m):(h[y+3]=m>>>24,h[y+2]=m>>>16&255,h[y+1]=m>>>8&255,h[y]=255&m)}return h},n.rotr32=function(p,f){return p>>>f|p<<32-f},n.rotl32=function(p,f){return p<<f|p>>>32-f},n.sum32=function(p,f){return p+f>>>0},n.sum32_3=function(p,f,h){return p+f+h>>>0},n.sum32_4=function(p,f,h,g){return p+f+h+g>>>0},n.sum32_5=function(p,f,h,g,y){return p+f+h+g+y>>>0},n.sum64=function(p,f,h,g){var y=p[f],m=g+p[f+1]>>>0,v=(m<g?1:0)+h+y;p[f]=v>>>0,p[f+1]=m},n.sum64_hi=function(p,f,h,g){return(f+g>>>0<f?1:0)+p+h>>>0},n.sum64_lo=function(p,f,h,g){return f+g>>>0},n.sum64_4_hi=function(p,f,h,g,y,m,v,x){var k=0,T=f;return k+=(T=T+g>>>0)<f?1:0,k+=(T=T+m>>>0)<m?1:0,p+h+y+v+(k+=(T=T+x>>>0)<x?1:0)>>>0},n.sum64_4_lo=function(p,f,h,g,y,m,v,x){return f+g+m+x>>>0},n.sum64_5_hi=function(p,f,h,g,y,m,v,x,k,T){var A=0,L=f;return A+=(L=L+g>>>0)<f?1:0,A+=(L=L+m>>>0)<m?1:0,A+=(L=L+x>>>0)<x?1:0,p+h+y+v+k+(A+=(L=L+T>>>0)<T?1:0)>>>0},n.sum64_5_lo=function(p,f,h,g,y,m,v,x,k,T){return f+g+m+x+T>>>0},n.rotr64_hi=function(p,f,h){return(f<<32-h|p>>>h)>>>0},n.rotr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0},n.shr64_hi=function(p,f,h){return p>>>h},n.shr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,s,n){var i=t("hash.js"),a=t("minimalistic-crypto-utils"),l=t("minimalistic-assert");function u(c){if(!(this instanceof u))return new u(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=a.toArray(c.entropy,c.entropyEnc||"hex"),p=a.toArray(c.nonce,c.nonceEnc||"hex"),f=a.toArray(c.pers,c.persEnc||"hex");l(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,p,f)}s.exports=u,u.prototype._init=function(c,d,p){var f=c.concat(d).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},u.prototype._update=function(c){var d=this._hmac().update(this.V).update([0]);c&&(d=d.update(c)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(c,d,p,f){typeof d!="string"&&(f=p,p=d,d=null),c=a.toArray(c,d),p=a.toArray(p,f),l(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(p||[])),this._reseed=1},u.prototype.generate=function(c,d,p,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=p,p=d,d=null),p&&(p=a.toArray(p,f||"hex"),this._update(p));for(var h=[];h.length<c;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,c);return this._update(p),this._reseed++,a.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,s,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(i,a,l,u,c){var d,p,f=8*c-u-1,h=(1<<f)-1,g=h>>1,y=-7,m=l?c-1:0,v=l?-1:1,x=i[a+m];for(m+=v,d=x&(1<<-y)-1,x>>=-y,y+=f;y>0;d=256*d+i[a+m],m+=v,y-=8);for(p=d&(1<<-y)-1,d>>=-y,y+=u;y>0;p=256*p+i[a+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===h)return p?NaN:1/0*(x?-1:1);p+=Math.pow(2,u),d-=g}return(x?-1:1)*p*Math.pow(2,d-u)},n.write=function(i,a,l,u,c,d){var p,f,h,g=8*d-c-1,y=(1<<g)-1,m=y>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:d-1,k=u?1:-1,T=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(f=isNaN(a)?1:0,p=y):(p=Math.floor(Math.log(a)/Math.LN2),a*(h=Math.pow(2,-p))<1&&(p--,h*=2),(a+=p+m>=1?v/h:v*Math.pow(2,1-m))*h>=2&&(p++,h/=2),p+m>=y?(f=0,p=y):p+m>=1?(f=(a*h-1)*Math.pow(2,c),p+=m):(f=a*Math.pow(2,m-1)*Math.pow(2,c),p=0));c>=8;i[l+x]=255&f,x+=k,f/=256,c-=8);for(p=p<<c|f,g+=c;g>0;i[l+x]=255&p,x+=k,p/=256,g-=8);i[l+x-k]|=128*T}},{}],440:[function(t,s,n){typeof Object.create=="function"?s.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(i,a){if(a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}}},{}],441:[function(t,s,n){(function(i,a,l,u,c,d,p,f){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof n=="object"&&s!==void 0?s.exports=h():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(g,y,m){function v(T,A){if(!y[T]){if(!g[T]){var L=typeof t=="function"&&t;if(!A&&L)return L(T,!0);if(x)return x(T,!0);var q=new Error("Cannot find module '"+T+"'");throw q.code="MODULE_NOT_FOUND",q}var D=y[T]={exports:{}};g[T][0].call(D.exports,(function($){return v(g[T][1][$]||$)}),D,D.exports,h,g,y,m)}return y[T].exports}for(var x=typeof t=="function"&&t,k=0;k<m.length;k++)v(m[k]);return v})({1:[function(h,g,y){var m=h("./utils"),v=h("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(k){for(var T,A,L,q,D,$,z,K=[],W=0,P=k.length,R=P,C=m.getTypeOf(k)!=="string";W<k.length;)R=P-W,L=C?(T=k[W++],A=W<P?k[W++]:0,W<P?k[W++]:0):(T=k.charCodeAt(W++),A=W<P?k.charCodeAt(W++):0,W<P?k.charCodeAt(W++):0),q=T>>2,D=(3&T)<<4|A>>4,$=1<R?(15&A)<<2|L>>6:64,z=2<R?63&L:64,K.push(x.charAt(q)+x.charAt(D)+x.charAt($)+x.charAt(z));return K.join("")},y.decode=function(k){var T,A,L,q,D,$,z=0,K=0,W="data:";if(k.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var P,R=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===x.charAt(64)&&R--,k.charAt(k.length-2)===x.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=v.uint8array?new Uint8Array(0|R):new Array(0|R);z<k.length;)T=x.indexOf(k.charAt(z++))<<2|(q=x.indexOf(k.charAt(z++)))>>4,A=(15&q)<<4|(D=x.indexOf(k.charAt(z++)))>>2,L=(3&D)<<6|($=x.indexOf(k.charAt(z++))),P[K++]=T,D!==64&&(P[K++]=A),$!==64&&(P[K++]=L);return P}},{"./support":30,"./utils":32}],2:[function(h,g,y){var m=h("./external"),v=h("./stream/DataWorker"),x=h("./stream/Crc32Probe"),k=h("./stream/DataLengthProbe");function T(A,L,q,D,$){this.compressedSize=A,this.uncompressedSize=L,this.crc32=q,this.compression=D,this.compressedContent=$}T.prototype={getContentWorker:function(){var A=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),L=this;return A.on("end",(function(){if(this.streamInfo.data_length!==L.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),A},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(A,L,q){return A.pipe(new x).pipe(new k("uncompressedSize")).pipe(L.compressWorker(q)).pipe(new k("compressedSize")).withStreamInfo("compression",L)},g.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,y){var m=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,y){var m=h("./utils"),v=(function(){for(var x,k=[],T=0;T<256;T++){x=T;for(var A=0;A<8;A++)x=1&x?3988292384^x>>>1:x>>>1;k[T]=x}return k})();g.exports=function(x,k){return x!==void 0&&x.length?m.getTypeOf(x)!=="string"?(function(T,A,L,q){var D=v,$=0+L;T^=-1;for(var z=0;z<$;z++)T=T>>>8^D[255&(T^A[z])];return-1^T})(0|k,x,x.length):(function(T,A,L,q){var D=v,$=0+L;T^=-1;for(var z=0;z<$;z++)T=T>>>8^D[255&(T^A.charCodeAt(z))];return-1^T})(0|k,x,x.length):0}},{"./utils":32}],5:[function(h,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,g,y){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),x=h("./utils"),k=h("./stream/GenericWorker"),T=m?"uint8array":"array";function A(L,q){k.call(this,"FlateWorker/"+L),this._pako=null,this._pakoAction=L,this._pakoOptions=q,this.meta={}}y.magic="\b\0",x.inherits(A,k),A.prototype.processChunk=function(L){this.meta=L.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(T,L.data),!1)},A.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var L=this;this._pako.onData=function(q){L.push({data:q,meta:L.meta})}},y.compressWorker=function(L){return new A("Deflate",L)},y.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,y){function m(D,$){var z,K="";for(z=0;z<$;z++)K+=String.fromCharCode(255&D),D>>>=8;return K}function v(D,$,z,K,W,P){var R,C,_=D.file,S=D.compression,j=P!==T.utf8encode,N=x.transformTo("string",P(_.name)),M=x.transformTo("string",T.utf8encode(_.name)),O=_.comment,B=x.transformTo("string",P(O)),G=x.transformTo("string",T.utf8encode(O)),Q=M.length!==_.name.length,re=G.length!==O.length,F="",Y="",V="",U=_.dir,Z=_.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};$&&!z||(ie.crc32=D.crc32,ie.compressedSize=D.compressedSize,ie.uncompressedSize=D.uncompressedSize);var me=0;$&&(me|=8),j||!Q&&!re||(me|=2048);var ce=0,ye=0;U&&(ce|=16),W==="UNIX"?(ye=798,ce|=(function(oe,ne){var fe=oe;return oe||(fe=ne?16893:33204),(65535&fe)<<16})(_.unixPermissions,U)):(ye=20,ce|=(function(oe){return 63&(oe||0)})(_.dosPermissions)),R=Z.getUTCHours(),R<<=6,R|=Z.getUTCMinutes(),R<<=5,R|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),Q&&(Y=m(1,1)+m(A(N),4)+M,F+="up"+m(Y.length,2)+Y),re&&(V=m(1,1)+m(A(B),4)+G,F+="uc"+m(V.length,2)+V);var ee="";return ee+=`
\0`,ee+=m(me,2),ee+=S.magic,ee+=m(R,2),ee+=m(C,2),ee+=m(ie.crc32,4),ee+=m(ie.compressedSize,4),ee+=m(ie.uncompressedSize,4),ee+=m(N.length,2),ee+=m(F.length,2),{fileRecord:L.LOCAL_FILE_HEADER+ee+N+F,dirRecord:L.CENTRAL_FILE_HEADER+m(ye,2)+ee+m(B.length,2)+"\0\0\0\0"+m(ce,4)+m(K,4)+N+F+B}}var x=h("../utils"),k=h("../stream/GenericWorker"),T=h("../utf8"),A=h("../crc32"),L=h("../signature");function q(D,$,z,K){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=$,this.zipPlatform=z,this.encodeFileName=K,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(q,k),q.prototype.push=function(D){var $=D.meta.percent||0,z=this.entriesCount,K=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,k.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:z?($+100*(z-K-1))/z:100}}))},q.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var $=this.streamFiles&&!D.file.dir;if($){var z=v(D,$,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:z.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(D){this.accumulate=!1;var $=this.streamFiles&&!D.file.dir,z=v(D,$,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(z.dirRecord),$)this.push({data:(function(K){return L.DATA_DESCRIPTOR+m(K.crc32,4)+m(K.compressedSize,4)+m(K.uncompressedSize,4)})(D),meta:{percent:100}});else for(this.push({data:z.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var D=this.bytesWritten,$=0;$<this.dirRecords.length;$++)this.push({data:this.dirRecords[$],meta:{percent:100}});var z=this.bytesWritten-D,K=(function(W,P,R,C,_){var S=x.transformTo("string",_(C));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(W,2)+m(W,2)+m(P,4)+m(R,4)+m(S.length,2)+S})(this.dirRecords.length,z,D,this.zipComment,this.encodeFileName);this.push({data:K,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(D){this._sources.push(D);var $=this;return D.on("data",(function(z){$.processChunk(z)})),D.on("end",(function(){$.closedSource($.previous.streamInfo),$._sources.length?$.prepareNextSource():$.end()})),D.on("error",(function(z){$.error(z)})),this},q.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(D){var $=this._sources;if(!k.prototype.error.call(this,D))return!1;for(var z=0;z<$.length;z++)try{$[z].error(D)}catch{}return!0},q.prototype.lock=function(){k.prototype.lock.call(this);for(var D=this._sources,$=0;$<D.length;$++)D[$].lock()},g.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,y){var m=h("../compressions"),v=h("./ZipFileWorker");y.generateWorker=function(x,k,T){var A=new v(k.streamFiles,T,k.platform,k.encodeFileName),L=0;try{x.forEach((function(q,D){L++;var $=(function(P,R){var C=P||R,_=m[C];if(!_)throw new Error(C+" is not a valid compression method !");return _})(D.options.compression,k.compression),z=D.options.compressionOptions||k.compressionOptions||{},K=D.dir,W=D.date;D._compressWorker($,z).withStreamInfo("file",{name:q,dir:K,date:W,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(A)})),A.entriesCount=L}catch(q){A.error(q)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var x in this)typeof this[x]!="function"&&(v[x]=this[x]);return v}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(v,x){return new m().loadAsync(v,x)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,y){var m=h("./utils"),v=h("./external"),x=h("./utf8"),k=h("./zipEntries"),T=h("./stream/Crc32Probe"),A=h("./nodejsUtils");function L(q){return new v.Promise((function(D,$){var z=q.decompressed.getContentWorker().pipe(new T);z.on("error",(function(K){$(K)})).on("end",(function(){z.streamInfo.crc32!==q.decompressed.crc32?$(new Error("Corrupted zip : CRC32 mismatch")):D()})).resume()}))}g.exports=function(q,D){var $=this;return D=m.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),A.isNode&&A.isStream(q)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",q,!0,D.optimizedBinaryString,D.base64).then((function(z){var K=new k(D);return K.load(z),K})).then((function(z){var K=[v.Promise.resolve(z)],W=z.files;if(D.checkCRC32)for(var P=0;P<W.length;P++)K.push(L(W[P]));return v.Promise.all(K)})).then((function(z){for(var K=z.shift(),W=K.files,P=0;P<W.length;P++){var R=W[P],C=R.fileNameStr,_=m.resolve(R.fileNameStr);$.file(_,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:D.createFolders}),R.dir||($.file(_).unsafeOriginalName=C)}return K.zipComment.length&&($.comment=K.zipComment),$}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,y){var m=h("../utils"),v=h("../stream/GenericWorker");function x(k,T){v.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(T)}m.inherits(x,v),x.prototype._bindStream=function(k){var T=this;(this._stream=k).pause(),k.on("data",(function(A){T.push({data:A,meta:{percent:0}})})).on("error",(function(A){T.isPaused?this.generatedError=A:T.error(A)})).on("end",(function(){T.isPaused?T._upstreamEnded=!0:T.end()}))},x.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,y){var m=h("readable-stream").Readable;function v(x,k,T){m.call(this,k),this._helper=x;var A=this;x.on("data",(function(L,q){A.push(L)||A._helper.pause(),T&&T(q)})).on("error",(function(L){A.emit("error",L)})).on("end",(function(){A.push(null)}))}h("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,g,y){g.exports={isNode:l!==void 0,newBufferFrom:function(m,v){if(l.from&&l.from!==Uint8Array.from)return l.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new l(m,v)},allocBuffer:function(m){if(l.alloc)return l.alloc(m);var v=new l(m);return v.fill(0),v},isBuffer:function(m){return l.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,y){function m(_,S,j){var N,M=x.getTypeOf(S),O=x.extend(j||{},A);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(_=W(_)),O.createFolders&&(N=K(_))&&P.call(this,N,!0);var B=M==="string"&&O.binary===!1&&O.base64===!1;j&&j.binary!==void 0||(O.binary=!B),(S instanceof L&&S.uncompressedSize===0||O.dir||!S||S.length===0)&&(O.base64=!1,O.binary=!0,S="",O.compression="STORE",M="string");var G;G=S instanceof L||S instanceof k?S:$.isNode&&$.isStream(S)?new z(_,S):x.prepareContent(_,S,O.binary,O.optimizedBinaryString,O.base64);var Q=new q(_,G,O);this.files[_]=Q}var v=h("./utf8"),x=h("./utils"),k=h("./stream/GenericWorker"),T=h("./stream/StreamHelper"),A=h("./defaults"),L=h("./compressedObject"),q=h("./zipObject"),D=h("./generate"),$=h("./nodejsUtils"),z=h("./nodejs/NodejsStreamInputAdapter"),K=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},W=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},P=function(_,S){return S=S!==void 0?S:A.createFolders,_=W(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function R(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,j,N;for(S in this.files)N=this.files[S],(j=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(j,N)},filter:function(_){var S=[];return this.forEach((function(j,N){_(j,N)&&S.push(N)})),S},file:function(_,S,j){if(arguments.length!==1)return _=this.root+_,m.call(this,_,S,j),this;if(R(_)){var N=_;return this.filter((function(O,B){return!B.dir&&N.test(O)}))}var M=this.files[this.root+_];return M&&!M.dir?M:null},folder:function(_){if(!_)return this;if(R(_))return this.filter((function(M,O){return O.dir&&_.test(M)}));var S=this.root+_,j=P.call(this,S),N=this.clone();return N.root=j.name,N},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var j=this.filter((function(M,O){return O.name.slice(0,_.length)===_})),N=0;N<j.length;N++)delete this.files[j[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,j={};try{if((j=x.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");x.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var N=j.comment||this.comment||"";S=D.generateWorker(this,j,N)}catch(M){(S=new k("error")).error(M)}return new T(S,j.type||"string",j.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};g.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,y){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x);for(var k=0;k<this.data.length;k++)x[k]=255&x[k]}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data[this.zero+x]},v.prototype.lastIndexOfSignature=function(x){for(var k=x.charCodeAt(0),T=x.charCodeAt(1),A=x.charCodeAt(2),L=x.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===k&&this.data[q+1]===T&&this.data[q+2]===A&&this.data[q+3]===L)return q-this.zero;return-1},v.prototype.readAndCheckSignature=function(x){var k=x.charCodeAt(0),T=x.charCodeAt(1),A=x.charCodeAt(2),L=x.charCodeAt(3),q=this.readData(4);return k===q[0]&&T===q[1]&&A===q[2]&&L===q[3]},v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,k},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,g,y){var m=h("../utils");function v(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var k,T=0;for(this.checkOffset(x),k=this.index+x-1;k>=this.index;k--)T=(T<<8)+this.byteAt(k);return this.index+=x,T},readString:function(x){return m.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},g.exports=v},{"../utils":32}],19:[function(h,g,y){var m=h("./Uint8ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){this.checkOffset(x);var k=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,k},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},v.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},v.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},v.prototype.readData=function(x){this.checkOffset(x);var k=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,k},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,g,y){var m=h("./ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,k},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,y){var m=h("../utils"),v=h("../support"),x=h("./ArrayReader"),k=h("./StringReader"),T=h("./NodeBufferReader"),A=h("./Uint8ArrayReader");g.exports=function(L){var q=m.getTypeOf(L);return m.checkSupport(q),q!=="string"||v.uint8array?q==="nodebuffer"?new T(L):v.uint8array?new A(m.transformTo("uint8array",L)):new x(m.transformTo("array",L)):new k(L)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,y){var m=h("./GenericWorker"),v=h("../utils");function x(k){m.call(this,"ConvertWorker to "+k),this.destType=k}v.inherits(x,m),x.prototype.processChunk=function(k){this.push({data:v.transformTo(this.destType,k.data),meta:k.meta})},g.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,y){var m=h("./GenericWorker"),v=h("../crc32");function x(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(x,m),x.prototype.processChunk=function(k){this.streamInfo.crc32=v(k.data,this.streamInfo.crc32||0),this.push(k)},g.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(k){v.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}m.inherits(x,v),x.prototype.processChunk=function(k){if(k){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+k.data.length}v.prototype.processChunk.call(this,k)},g.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(k){v.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then((function(A){T.dataIsReady=!0,T.data=A,T.max=A&&A.length||0,T.type=m.getTypeOf(A),T.isPaused||T._tickAndRepeat()}),(function(A){T.error(A)}))}m.inherits(x,v),x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,T);break;case"uint8array":k=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":k=this.data.slice(this.index,T)}return this.index=T,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,x){return this._listeners[v].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,x){if(this._listeners[v])for(var k=0;k<this._listeners[v].length;k++)this._listeners[v][k].call(this,x)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var x=this;return v.on("data",(function(k){x.processChunk(k)})),v.on("end",(function(){x.end()})),v.on("error",(function(k){x.error(k)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,x){return this.extraStreamInfo[v]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(h,g,y){var m=h("../utils"),v=h("./ConvertWorker"),x=h("./GenericWorker"),k=h("../base64"),T=h("../support"),A=h("../external"),L=null;if(T.nodestream)try{L=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(D,$,z){var K=$;switch($){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=$,this._mimeType=z,m.checkSupport(K),this._worker=D.pipe(new v(K)),D.lock()}catch(W){this._worker=new x("error"),this._worker.error(W)}}q.prototype={accumulate:function(D){return(function($,z){return new A.Promise((function(K,W){var P=[],R=$._internalType,C=$._outputType,_=$._mimeType;$.on("data",(function(S,j){P.push(S),z&&z(j)})).on("error",(function(S){P=[],W(S)})).on("end",(function(){try{var S=(function(j,N,M){switch(j){case"blob":return m.newBlob(m.transformTo("arraybuffer",N),M);case"base64":return k.encode(N);default:return m.transformTo(j,N)}})(C,(function(j,N){var M,O=0,B=null,G=0;for(M=0;M<N.length;M++)G+=N[M].length;switch(j){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(B=new Uint8Array(G),M=0;M<N.length;M++)B.set(N[M],O),O+=N[M].length;return B;case"nodebuffer":return l.concat(N);default:throw new Error("concat : unsupported type '"+j+"'")}})(R,P),_);K(S)}catch(j){W(j)}P=[]})).resume()}))})(this,D)},on:function(D,$){var z=this;return D==="data"?this._worker.on(D,(function(K){$.call(z,K.data,K.meta)})):this._worker.on(D,(function(){m.delay($,arguments,z)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new L(this,{objectMode:this._outputType!=="nodebuffer"},D)}},g.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=l!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,y){for(var m=h("./utils"),v=h("./support"),x=h("./nodejsUtils"),k=h("./stream/GenericWorker"),T=new Array(256),A=0;A<256;A++)T[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function L(){k.call(this,"utf-8 decode"),this.leftOver=null}function q(){k.call(this,"utf-8 encode")}T[254]=T[254]=1,y.utf8encode=function(D){return v.nodebuffer?x.newBufferFrom(D,"utf-8"):(function($){var z,K,W,P,R,C=$.length,_=0;for(P=0;P<C;P++)(64512&(K=$.charCodeAt(P)))==55296&&P+1<C&&(64512&(W=$.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(W-56320),P++),_+=K<128?1:K<2048?2:K<65536?3:4;for(z=v.uint8array?new Uint8Array(_):new Array(_),P=R=0;R<_;P++)(64512&(K=$.charCodeAt(P)))==55296&&P+1<C&&(64512&(W=$.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(W-56320),P++),K<128?z[R++]=K:(K<2048?z[R++]=192|K>>>6:(K<65536?z[R++]=224|K>>>12:(z[R++]=240|K>>>18,z[R++]=128|K>>>12&63),z[R++]=128|K>>>6&63),z[R++]=128|63&K);return z})(D)},y.utf8decode=function(D){return v.nodebuffer?m.transformTo("nodebuffer",D).toString("utf-8"):(function($){var z,K,W,P,R=$.length,C=new Array(2*R);for(z=K=0;z<R;)if((W=$[z++])<128)C[K++]=W;else if(4<(P=T[W]))C[K++]=65533,z+=P-1;else{for(W&=P===2?31:P===3?15:7;1<P&&z<R;)W=W<<6|63&$[z++],P--;1<P?C[K++]=65533:W<65536?C[K++]=W:(W-=65536,C[K++]=55296|W>>10&1023,C[K++]=56320|1023&W)}return C.length!==K&&(C.subarray?C=C.subarray(0,K):C.length=K),m.applyFromCharCode(C)})(D=m.transformTo(v.uint8array?"uint8array":"array",D))},m.inherits(L,k),L.prototype.processChunk=function(D){var $=m.transformTo(v.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var z=$;($=new Uint8Array(z.length+this.leftOver.length)).set(this.leftOver,0),$.set(z,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var K=(function(P,R){var C;for((R=R||P.length)>P.length&&(R=P.length),C=R-1;0<=C&&(192&P[C])==128;)C--;return C<0||C===0?R:C+T[P[C]]>R?C:R})($),W=$;K!==$.length&&(v.uint8array?(W=$.subarray(0,K),this.leftOver=$.subarray(K,$.length)):(W=$.slice(0,K),this.leftOver=$.slice(K,$.length))),this.push({data:y.utf8decode(W),meta:D.meta})},L.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=L,m.inherits(q,k),q.prototype.processChunk=function(D){this.push({data:y.utf8encode(D.data),meta:D.meta})},y.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,y){var m=h("./support"),v=h("./base64"),x=h("./nodejsUtils"),k=h("./external");function T(z){return z}function A(z,K){for(var W=0;W<z.length;++W)K[W]=255&z.charCodeAt(W);return K}h("setimmediate"),y.newBlob=function(z,K){y.checkSupport("blob");try{return new Blob([z],{type:K})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(z),W.getBlob(K)}catch{throw new Error("Bug : can't construct the Blob.")}}};var L={stringifyByChunk:function(z,K,W){var P=[],R=0,C=z.length;if(C<=W)return String.fromCharCode.apply(null,z);for(;R<C;)K==="array"||K==="nodebuffer"?P.push(String.fromCharCode.apply(null,z.slice(R,Math.min(R+W,C)))):P.push(String.fromCharCode.apply(null,z.subarray(R,Math.min(R+W,C)))),R+=W;return P.join("")},stringifyByChar:function(z){for(var K="",W=0;W<z.length;W++)K+=String.fromCharCode(z[W]);return K},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function q(z){var K=65536,W=y.getTypeOf(z),P=!0;if(W==="uint8array"?P=L.applyCanBeUsed.uint8array:W==="nodebuffer"&&(P=L.applyCanBeUsed.nodebuffer),P)for(;1<K;)try{return L.stringifyByChunk(z,W,K)}catch{K=Math.floor(K/2)}return L.stringifyByChar(z)}function D(z,K){for(var W=0;W<z.length;W++)K[W]=z[W];return K}y.applyFromCharCode=q;var $={};$.string={string:T,array:function(z){return A(z,new Array(z.length))},arraybuffer:function(z){return $.string.uint8array(z).buffer},uint8array:function(z){return A(z,new Uint8Array(z.length))},nodebuffer:function(z){return A(z,x.allocBuffer(z.length))}},$.array={string:q,array:T,arraybuffer:function(z){return new Uint8Array(z).buffer},uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return x.newBufferFrom(z)}},$.arraybuffer={string:function(z){return q(new Uint8Array(z))},array:function(z){return D(new Uint8Array(z),new Array(z.byteLength))},arraybuffer:T,uint8array:function(z){return new Uint8Array(z)},nodebuffer:function(z){return x.newBufferFrom(new Uint8Array(z))}},$.uint8array={string:q,array:function(z){return D(z,new Array(z.length))},arraybuffer:function(z){return z.buffer},uint8array:T,nodebuffer:function(z){return x.newBufferFrom(z)}},$.nodebuffer={string:q,array:function(z){return D(z,new Array(z.length))},arraybuffer:function(z){return $.nodebuffer.uint8array(z).buffer},uint8array:function(z){return D(z,new Uint8Array(z.length))},nodebuffer:T},y.transformTo=function(z,K){if(K=K||"",!z)return K;y.checkSupport(z);var W=y.getTypeOf(K);return $[W][z](K)},y.resolve=function(z){for(var K=z.split("/"),W=[],P=0;P<K.length;P++){var R=K[P];R==="."||R===""&&P!==0&&P!==K.length-1||(R===".."?W.pop():W.push(R))}return W.join("/")},y.getTypeOf=function(z){return typeof z=="string"?"string":Object.prototype.toString.call(z)==="[object Array]"?"array":m.nodebuffer&&x.isBuffer(z)?"nodebuffer":m.uint8array&&z instanceof Uint8Array?"uint8array":m.arraybuffer&&z instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(z){if(!m[z.toLowerCase()])throw new Error(z+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(z){var K,W,P="";for(W=0;W<(z||"").length;W++)P+="\\x"+((K=z.charCodeAt(W))<16?"0":"")+K.toString(16).toUpperCase();return P},y.delay=function(z,K,W){f((function(){z.apply(W||null,K||[])}))},y.inherits=function(z,K){function W(){}W.prototype=K.prototype,z.prototype=new W},y.extend=function(){var z,K,W={};for(z=0;z<arguments.length;z++)for(K in arguments[z])Object.prototype.hasOwnProperty.call(arguments[z],K)&&W[K]===void 0&&(W[K]=arguments[z][K]);return W},y.prepareContent=function(z,K,W,P,R){return k.Promise.resolve(K).then((function(C){return m.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new k.Promise((function(_,S){var j=new FileReader;j.onload=function(N){_(N.target.result)},j.onerror=function(N){S(N.target.error)},j.readAsArrayBuffer(C)})):C})).then((function(C){var _=y.getTypeOf(C);return _?(_==="arraybuffer"?C=y.transformTo("uint8array",C):_==="string"&&(R?C=v.decode(C):W&&P!==!0&&(C=(function(S){return A(S,m.uint8array?new Uint8Array(S.length):new Array(S.length))})(C))),C):k.Promise.reject(new Error("Can't read the data of '"+z+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./signature"),k=h("./zipEntry"),T=h("./support");function A(L){this.files=[],this.loadOptions=L}A.prototype={checkSignature:function(L){if(!this.reader.readAndCheckSignature(L)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(q)+", expected "+v.pretty(L)+")")}},isSignature:function(L,q){var D=this.reader.index;this.reader.setIndex(L);var $=this.reader.readString(4)===q;return this.reader.setIndex(D),$},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var L=this.reader.readData(this.zipCommentLength),q=T.uint8array?"uint8array":"array",D=v.transformTo(q,L);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var L,q,D,$=this.zip64EndOfCentralSize-44;0<$;)L=this.reader.readInt(2),q=this.reader.readInt(4),D=this.reader.readData(q),this.zip64ExtensibleData[L]={id:L,length:q,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var L,q;for(L=0;L<this.files.length;L++)q=this.files[L],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var L;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(L=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(L);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var L=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(L<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(L);var q=L;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(L=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(L),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var $=q-D;if(0<$)this.isSignature(q,x.CENTRAL_FILE_HEADER)||(this.reader.zero=$);else if($<0)throw new Error("Corrupted zip: missing "+Math.abs($)+" bytes.")},prepareReader:function(L){this.reader=m(L)},load:function(L){this.prepareReader(L),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./compressedObject"),k=h("./crc32"),T=h("./utf8"),A=h("./compressions"),L=h("./support");function q(D,$){this.options=D,this.loadOptions=$}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var $,z;if(D.skip(22),this.fileNameLength=D.readInt(2),z=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(z),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(($=(function(K){for(var W in A)if(Object.prototype.hasOwnProperty.call(A,W)&&A[W].magic===K)return A[W];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,$,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var $=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip($),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var D=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=D.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=D.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=D.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=D.readInt(4))}},readExtraFields:function(D){var $,z,K,W=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<W;)$=D.readInt(2),z=D.readInt(2),K=D.readData(z),this.extraFields[$]={id:$,length:z,value:K};D.setIndex(W)},handleUTF8:function(){var D=L.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if($!==null)this.fileNameStr=$;else{var z=v.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(z)}var K=this.findExtraFieldUnicodeComment();if(K!==null)this.fileCommentStr=K;else{var W=v.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var $=m(D.value);return $.readInt(1)!==1||k(this.fileName)!==$.readInt(4)?null:T.utf8decode($.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var $=m(D.value);return $.readInt(1)!==1||k(this.fileComment)!==$.readInt(4)?null:T.utf8decode($.readData(D.length-5))}return null}},g.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,y){function m($,z,K){this.name=$,this.dir=K.dir,this.date=K.date,this.comment=K.comment,this.unixPermissions=K.unixPermissions,this.dosPermissions=K.dosPermissions,this._data=z,this._dataBinary=K.binary,this.options={compression:K.compression,compressionOptions:K.compressionOptions}}var v=h("./stream/StreamHelper"),x=h("./stream/DataWorker"),k=h("./utf8"),T=h("./compressedObject"),A=h("./stream/GenericWorker");m.prototype={internalStream:function($){var z=null,K="string";try{if(!$)throw new Error("No output type specified.");var W=(K=$.toLowerCase())==="string"||K==="text";K!=="binarystring"&&K!=="text"||(K="string"),z=this._decompressWorker();var P=!this._dataBinary;P&&!W&&(z=z.pipe(new k.Utf8EncodeWorker)),!P&&W&&(z=z.pipe(new k.Utf8DecodeWorker))}catch(R){(z=new A("error")).error(R)}return new v(z,K,"")},async:function($,z){return this.internalStream($).accumulate(z)},nodeStream:function($,z){return this.internalStream($||"nodebuffer").toNodejsStream(z)},_compressWorker:function($,z){if(this._data instanceof T&&this._data.compression.magic===$.magic)return this._data.getCompressedWorker();var K=this._decompressWorker();return this._dataBinary||(K=K.pipe(new k.Utf8EncodeWorker)),T.createWorkerFrom(K,$,z)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof A?this._data:new x(this._data)}};for(var L=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<L.length;D++)m.prototype[L[D]]=q;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,y){(function(m){var v,x,k=m.MutationObserver||m.WebKitMutationObserver;if(k){var T=0,A=new k($),L=m.document.createTextNode("");A.observe(L,{characterData:!0}),v=function(){L.data=T=++T%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var z=m.document.createElement("script");z.onreadystatechange=function(){$(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},m.document.documentElement.appendChild(z)}:function(){setTimeout($,0)};else{var q=new m.MessageChannel;q.port1.onmessage=$,v=function(){q.port2.postMessage(0)}}var D=[];function $(){var z,K;x=!0;for(var W=D.length;W;){for(K=D,D=[],z=-1;++z<W;)K[z]();W=D.length}x=!1}g.exports=function(z){D.push(z)!==1||x||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,y){var m=h("immediate");function v(){}var x={},k=["REJECTED"],T=["FULFILLED"],A=["PENDING"];function L(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,W!==v&&z(this,W)}function q(W,P,R){this.promise=W,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function D(W,P,R){m((function(){var C;try{C=P(R)}catch(_){return x.reject(W,_)}C===W?x.reject(W,new TypeError("Cannot resolve promise with itself")):x.resolve(W,C)}))}function $(W){var P=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof P=="function")return function(){P.apply(W,arguments)}}function z(W,P){var R=!1;function C(j){R||(R=!0,x.reject(W,j))}function _(j){R||(R=!0,x.resolve(W,j))}var S=K((function(){P(_,C)}));S.status==="error"&&C(S.value)}function K(W,P){var R={};try{R.value=W(P),R.status="success"}catch(C){R.status="error",R.value=C}return R}(g.exports=L).prototype.finally=function(W){if(typeof W!="function")return this;var P=this.constructor;return this.then((function(R){return P.resolve(W()).then((function(){return R}))}),(function(R){return P.resolve(W()).then((function(){throw R}))}))},L.prototype.catch=function(W){return this.then(null,W)},L.prototype.then=function(W,P){if(typeof W!="function"&&this.state===T||typeof P!="function"&&this.state===k)return this;var R=new this.constructor(v);return this.state!==A?D(R,this.state===T?W:P,this.outcome):this.queue.push(new q(R,W,P)),R},q.prototype.callFulfilled=function(W){x.resolve(this.promise,W)},q.prototype.otherCallFulfilled=function(W){D(this.promise,this.onFulfilled,W)},q.prototype.callRejected=function(W){x.reject(this.promise,W)},q.prototype.otherCallRejected=function(W){D(this.promise,this.onRejected,W)},x.resolve=function(W,P){var R=K($,P);if(R.status==="error")return x.reject(W,R.value);var C=R.value;if(C)z(W,C);else{W.state=T,W.outcome=P;for(var _=-1,S=W.queue.length;++_<S;)W.queue[_].callFulfilled(P)}return W},x.reject=function(W,P){W.state=k,W.outcome=P;for(var R=-1,C=W.queue.length;++R<C;)W.queue[R].callRejected(P);return W},L.resolve=function(W){return W instanceof this?W:x.resolve(new this(v),W)},L.reject=function(W){var P=new this(v);return x.reject(P,W)},L.all=function(W){var P=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=W.length,C=!1;if(!R)return this.resolve([]);for(var _=new Array(R),S=0,j=-1,N=new this(v);++j<R;)M(W[j],j);return N;function M(O,B){P.resolve(O).then((function(G){_[B]=G,++S!==R||C||(C=!0,x.resolve(N,_))}),(function(G){C||(C=!0,x.reject(N,G))}))}},L.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=W.length,R=!1;if(!P)return this.resolve([]);for(var C,_=-1,S=new this(v);++_<P;)C=W[_],this.resolve(C).then((function(j){R||(R=!0,x.resolve(S,j))}),(function(j){R||(R=!0,x.reject(S,j))}));return S}},{immediate:36}],38:[function(h,g,y){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,y){var m=h("./zlib/deflate"),v=h("./utils/common"),x=h("./utils/strings"),k=h("./zlib/messages"),T=h("./zlib/zstream"),A=Object.prototype.toString;function L(D){if(!(this instanceof L))return new L(D);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},D||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var z=m.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(z!==0)throw new Error(k[z]);if($.header&&m.deflateSetHeader(this.strm,$.header),$.dictionary){var K;if(K=typeof $.dictionary=="string"?x.string2buf($.dictionary):A.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(z=m.deflateSetDictionary(this.strm,K))!==0)throw new Error(k[z]);this._dict_set=!0}}function q(D,$){var z=new L($);if(z.push(D,!0),z.err)throw z.msg||k[z.err];return z.result}L.prototype.push=function(D,$){var z,K,W=this.strm,P=this.options.chunkSize;if(this.ended)return!1;K=$===~~$?$:$===!0?4:0,typeof D=="string"?W.input=x.string2buf(D):A.call(D)==="[object ArrayBuffer]"?W.input=new Uint8Array(D):W.input=D,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new v.Buf8(P),W.next_out=0,W.avail_out=P),(z=m.deflate(W,K))!==1&&z!==0)return this.onEnd(z),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(v.shrinkBuf(W.output,W.next_out))):this.onData(v.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&z!==1);return K===4?(z=m.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===0):K!==2||(this.onEnd(0),!(W.avail_out=0))},L.prototype.onData=function(D){this.chunks.push(D)},L.prototype.onEnd=function(D){D===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},y.Deflate=L,y.deflate=q,y.deflateRaw=function(D,$){return($=$||{}).raw=!0,q(D,$)},y.gzip=function(D,$){return($=$||{}).gzip=!0,q(D,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,y){var m=h("./zlib/inflate"),v=h("./utils/common"),x=h("./utils/strings"),k=h("./zlib/constants"),T=h("./zlib/messages"),A=h("./zlib/zstream"),L=h("./zlib/gzheader"),q=Object.prototype.toString;function D(z){if(!(this instanceof D))return new D(z);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},z||{});var K=this.options;K.raw&&0<=K.windowBits&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),!(0<=K.windowBits&&K.windowBits<16)||z&&z.windowBits||(K.windowBits+=32),15<K.windowBits&&K.windowBits<48&&(15&K.windowBits)==0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var W=m.inflateInit2(this.strm,K.windowBits);if(W!==k.Z_OK)throw new Error(T[W]);this.header=new L,m.inflateGetHeader(this.strm,this.header)}function $(z,K){var W=new D(K);if(W.push(z,!0),W.err)throw W.msg||T[W.err];return W.result}D.prototype.push=function(z,K){var W,P,R,C,_,S,j=this.strm,N=this.options.chunkSize,M=this.options.dictionary,O=!1;if(this.ended)return!1;P=K===~~K?K:K===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof z=="string"?j.input=x.binstring2buf(z):q.call(z)==="[object ArrayBuffer]"?j.input=new Uint8Array(z):j.input=z,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new v.Buf8(N),j.next_out=0,j.avail_out=N),(W=m.inflate(j,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&M&&(S=typeof M=="string"?x.string2buf(M):q.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,W=m.inflateSetDictionary(this.strm,S)),W===k.Z_BUF_ERROR&&O===!0&&(W=k.Z_OK,O=!1),W!==k.Z_STREAM_END&&W!==k.Z_OK)return this.onEnd(W),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&W!==k.Z_STREAM_END&&(j.avail_in!==0||P!==k.Z_FINISH&&P!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=x.utf8border(j.output,j.next_out),C=j.next_out-R,_=x.buf2string(j.output,R),j.next_out=C,j.avail_out=N-C,C&&v.arraySet(j.output,j.output,R,C,0),this.onData(_)):this.onData(v.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(O=!0)}while((0<j.avail_in||j.avail_out===0)&&W!==k.Z_STREAM_END);return W===k.Z_STREAM_END&&(P=k.Z_FINISH),P===k.Z_FINISH?(W=m.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===k.Z_OK):P!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(j.avail_out=0))},D.prototype.onData=function(z){this.chunks.push(z)},D.prototype.onEnd=function(z){z===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},y.Inflate=D,y.inflate=$,y.inflateRaw=function(z,K){return(K=K||{}).raw=!0,$(z,K)},y.ungzip=$},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(k){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var A=T.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var L in A)A.hasOwnProperty(L)&&(k[L]=A[L])}}return k},y.shrinkBuf=function(k,T){return k.length===T?k:k.subarray?k.subarray(0,T):(k.length=T,k)};var v={arraySet:function(k,T,A,L,q){if(T.subarray&&k.subarray)k.set(T.subarray(A,A+L),q);else for(var D=0;D<L;D++)k[q+D]=T[A+D]},flattenChunks:function(k){var T,A,L,q,D,$;for(T=L=0,A=k.length;T<A;T++)L+=k[T].length;for($=new Uint8Array(L),T=q=0,A=k.length;T<A;T++)D=k[T],$.set(D,q),q+=D.length;return $}},x={arraySet:function(k,T,A,L,q){for(var D=0;D<L;D++)k[q+D]=T[A+D]},flattenChunks:function(k){return[].concat.apply([],k)}};y.setTyped=function(k){k?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,x))},y.setTyped(m)},{}],42:[function(h,g,y){var m=h("./common"),v=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var k=new m.Buf8(256),T=0;T<256;T++)k[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function A(L,q){if(q<65537&&(L.subarray&&x||!L.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(L,q));for(var D="",$=0;$<q;$++)D+=String.fromCharCode(L[$]);return D}k[254]=k[254]=1,y.string2buf=function(L){var q,D,$,z,K,W=L.length,P=0;for(z=0;z<W;z++)(64512&(D=L.charCodeAt(z)))==55296&&z+1<W&&(64512&($=L.charCodeAt(z+1)))==56320&&(D=65536+(D-55296<<10)+($-56320),z++),P+=D<128?1:D<2048?2:D<65536?3:4;for(q=new m.Buf8(P),z=K=0;K<P;z++)(64512&(D=L.charCodeAt(z)))==55296&&z+1<W&&(64512&($=L.charCodeAt(z+1)))==56320&&(D=65536+(D-55296<<10)+($-56320),z++),D<128?q[K++]=D:(D<2048?q[K++]=192|D>>>6:(D<65536?q[K++]=224|D>>>12:(q[K++]=240|D>>>18,q[K++]=128|D>>>12&63),q[K++]=128|D>>>6&63),q[K++]=128|63&D);return q},y.buf2binstring=function(L){return A(L,L.length)},y.binstring2buf=function(L){for(var q=new m.Buf8(L.length),D=0,$=q.length;D<$;D++)q[D]=L.charCodeAt(D);return q},y.buf2string=function(L,q){var D,$,z,K,W=q||L.length,P=new Array(2*W);for(D=$=0;D<W;)if((z=L[D++])<128)P[$++]=z;else if(4<(K=k[z]))P[$++]=65533,D+=K-1;else{for(z&=K===2?31:K===3?15:7;1<K&&D<W;)z=z<<6|63&L[D++],K--;1<K?P[$++]=65533:z<65536?P[$++]=z:(z-=65536,P[$++]=55296|z>>10&1023,P[$++]=56320|1023&z)}return A(P,$)},y.utf8border=function(L,q){var D;for((q=q||L.length)>L.length&&(q=L.length),D=q-1;0<=D&&(192&L[D])==128;)D--;return D<0||D===0?q:D+k[L[D]]>q?D:q}},{"./common":41}],43:[function(h,g,y){g.exports=function(m,v,x,k){for(var T=65535&m|0,A=m>>>16&65535|0,L=0;x!==0;){for(x-=L=2e3<x?2e3:x;A=A+(T=T+v[k++]|0)|0,--L;);T%=65521,A%=65521}return T|A<<16|0}},{}],44:[function(h,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,y){var m=(function(){for(var v,x=[],k=0;k<256;k++){v=k;for(var T=0;T<8;T++)v=1&v?3988292384^v>>>1:v>>>1;x[k]=v}return x})();g.exports=function(v,x,k,T){var A=m,L=T+k;v^=-1;for(var q=T;q<L;q++)v=v>>>8^A[255&(v^x[q])];return-1^v}},{}],46:[function(h,g,y){var m,v=h("../utils/common"),x=h("./trees"),k=h("./adler32"),T=h("./crc32"),A=h("./messages"),L=-2,q=258,D=262,$=113;function z(F,Y){return F.msg=A[Y],Y}function K(F){return(F<<1)-(4<F?9:0)}function W(F){for(var Y=F.length;0<=--Y;)F[Y]=0}function P(F){var Y=F.state,V=Y.pending;V>F.avail_out&&(V=F.avail_out),V!==0&&(v.arraySet(F.output,Y.pending_buf,Y.pending_out,V,F.next_out),F.next_out+=V,Y.pending_out+=V,F.total_out+=V,F.avail_out-=V,Y.pending-=V,Y.pending===0&&(Y.pending_out=0))}function R(F,Y){x._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Y),F.block_start=F.strstart,P(F.strm)}function C(F,Y){F.pending_buf[F.pending++]=Y}function _(F,Y){F.pending_buf[F.pending++]=Y>>>8&255,F.pending_buf[F.pending++]=255&Y}function S(F,Y){var V,U,Z=F.max_chain_length,ie=F.strstart,me=F.prev_length,ce=F.nice_match,ye=F.strstart>F.w_size-D?F.strstart-(F.w_size-D):0,ee=F.window,oe=F.w_mask,ne=F.prev,fe=F.strstart+q,le=ee[ie+me-1],ae=ee[ie+me];F.prev_length>=F.good_match&&(Z>>=2),ce>F.lookahead&&(ce=F.lookahead);do if(ee[(V=Y)+me]===ae&&ee[V+me-1]===le&&ee[V]===ee[ie]&&ee[++V]===ee[ie+1]){ie+=2,V++;do;while(ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ee[++ie]===ee[++V]&&ie<fe);if(U=q-(fe-ie),ie=fe-q,me<U){if(F.match_start=Y,ce<=(me=U))break;le=ee[ie+me-1],ae=ee[ie+me]}}while((Y=ne[Y&oe])>ye&&--Z!=0);return me<=F.lookahead?me:F.lookahead}function j(F){var Y,V,U,Z,ie,me,ce,ye,ee,oe,ne=F.w_size;do{if(Z=F.window_size-F.lookahead-F.strstart,F.strstart>=ne+(ne-D)){for(v.arraySet(F.window,F.window,ne,ne,0),F.match_start-=ne,F.strstart-=ne,F.block_start-=ne,Y=V=F.hash_size;U=F.head[--Y],F.head[Y]=ne<=U?U-ne:0,--V;);for(Y=V=ne;U=F.prev[--Y],F.prev[Y]=ne<=U?U-ne:0,--V;);Z+=ne}if(F.strm.avail_in===0)break;if(me=F.strm,ce=F.window,ye=F.strstart+F.lookahead,oe=void 0,(ee=Z)<(oe=me.avail_in)&&(oe=ee),V=oe===0?0:(me.avail_in-=oe,v.arraySet(ce,me.input,me.next_in,oe,ye),me.state.wrap===1?me.adler=k(me.adler,ce,oe,ye):me.state.wrap===2&&(me.adler=T(me.adler,ce,oe,ye)),me.next_in+=oe,me.total_in+=oe,oe),F.lookahead+=V,F.lookahead+F.insert>=3)for(ie=F.strstart-F.insert,F.ins_h=F.window[ie],F.ins_h=(F.ins_h<<F.hash_shift^F.window[ie+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[ie+3-1])&F.hash_mask,F.prev[ie&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ie,ie++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<D&&F.strm.avail_in!==0)}function N(F,Y){for(var V,U;;){if(F.lookahead<D){if(j(F),F.lookahead<D&&Y===0)return 1;if(F.lookahead===0)break}if(V=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),V!==0&&F.strstart-V<=F.w_size-D&&(F.match_length=S(F,V)),F.match_length>=3)if(U=x._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else U=x._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(U&&(R(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Y===4?(R(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?1:2}function M(F,Y){for(var V,U,Z;;){if(F.lookahead<D){if(j(F),F.lookahead<D&&Y===0)return 1;if(F.lookahead===0)break}if(V=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,V!==0&&F.prev_length<F.max_lazy_match&&F.strstart-V<=F.w_size-D&&(F.match_length=S(F,V),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(Z=F.strstart+F.lookahead-3,U=x._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=Z&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,U&&(R(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((U=x._tr_tally(F,0,F.window[F.strstart-1]))&&R(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(U=x._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Y===4?(R(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(R(F,!1),F.strm.avail_out===0)?1:2}function O(F,Y,V,U,Z){this.good_length=F,this.max_lazy=Y,this.nice_length=V,this.max_chain=U,this.func=Z}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(F){var Y;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Y=F.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:$,F.adler=Y.wrap===2?0:1,Y.last_flush=0,x._tr_init(Y),0):z(F,L)}function Q(F){var Y=G(F);return Y===0&&(function(V){V.window_size=2*V.w_size,W(V.head),V.max_lazy_match=m[V.level].max_lazy,V.good_match=m[V.level].good_length,V.nice_match=m[V.level].nice_length,V.max_chain_length=m[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0})(F.state),Y}function re(F,Y,V,U,Z,ie){if(!F)return L;var me=1;if(Y===-1&&(Y=6),U<0?(me=0,U=-U):15<U&&(me=2,U-=16),Z<1||9<Z||V!==8||U<8||15<U||Y<0||9<Y||ie<0||4<ie)return z(F,L);U===8&&(U=9);var ce=new B;return(F.state=ce).strm=F,ce.wrap=me,ce.gzhead=null,ce.w_bits=U,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=Z+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+3-1)/3),ce.window=new v.Buf8(2*ce.w_size),ce.head=new v.Buf16(ce.hash_size),ce.prev=new v.Buf16(ce.w_size),ce.lit_bufsize=1<<Z+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new v.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=Y,ce.strategy=ie,ce.method=V,Q(F)}m=[new O(0,0,0,0,(function(F,Y){var V=65535;for(V>F.pending_buf_size-5&&(V=F.pending_buf_size-5);;){if(F.lookahead<=1){if(j(F),F.lookahead===0&&Y===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var U=F.block_start+V;if((F.strstart===0||F.strstart>=U)&&(F.lookahead=F.strstart-U,F.strstart=U,R(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-D&&(R(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Y===4?(R(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(R(F,!1),F.strm.avail_out),1)})),new O(4,4,8,4,N),new O(4,5,16,8,N),new O(4,6,32,32,N),new O(4,4,16,16,M),new O(8,16,32,32,M),new O(8,16,128,128,M),new O(8,32,128,256,M),new O(32,128,258,1024,M),new O(32,258,258,4096,M)],y.deflateInit=function(F,Y){return re(F,Y,8,15,8,0)},y.deflateInit2=re,y.deflateReset=Q,y.deflateResetKeep=G,y.deflateSetHeader=function(F,Y){return F&&F.state?F.state.wrap!==2?L:(F.state.gzhead=Y,0):L},y.deflate=function(F,Y){var V,U,Z,ie;if(!F||!F.state||5<Y||Y<0)return F?z(F,L):L;if(U=F.state,!F.output||!F.input&&F.avail_in!==0||U.status===666&&Y!==4)return z(F,F.avail_out===0?-5:L);if(U.strm=F,V=U.last_flush,U.last_flush=Y,U.status===42)if(U.wrap===2)F.adler=0,C(U,31),C(U,139),C(U,8),U.gzhead?(C(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),C(U,255&U.gzhead.time),C(U,U.gzhead.time>>8&255),C(U,U.gzhead.time>>16&255),C(U,U.gzhead.time>>24&255),C(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),C(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(C(U,255&U.gzhead.extra.length),C(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(F.adler=T(F.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(C(U,0),C(U,0),C(U,0),C(U,0),C(U,0),C(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),C(U,3),U.status=$);else{var me=8+(U.w_bits-8<<4)<<8;me|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(me|=32),me+=31-me%31,U.status=$,_(U,me),U.strstart!==0&&(_(U,F.adler>>>16),_(U,65535&F.adler)),F.adler=1}if(U.status===69)if(U.gzhead.extra){for(Z=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),P(F),Z=U.pending,U.pending!==U.pending_buf_size));)C(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){Z=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),P(F),Z=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,C(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),ie===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){Z=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),P(F),Z=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,C(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Z&&(F.adler=T(F.adler,U.pending_buf,U.pending-Z,Z)),ie===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&P(F),U.pending+2<=U.pending_buf_size&&(C(U,255&F.adler),C(U,F.adler>>8&255),F.adler=0,U.status=$)):U.status=$),U.pending!==0){if(P(F),F.avail_out===0)return U.last_flush=-1,0}else if(F.avail_in===0&&K(Y)<=K(V)&&Y!==4)return z(F,-5);if(U.status===666&&F.avail_in!==0)return z(F,-5);if(F.avail_in!==0||U.lookahead!==0||Y!==0&&U.status!==666){var ce=U.strategy===2?(function(ye,ee){for(var oe;;){if(ye.lookahead===0&&(j(ye),ye.lookahead===0)){if(ee===0)return 1;break}if(ye.match_length=0,oe=x._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++,oe&&(R(ye,!1),ye.strm.avail_out===0))return 1}return ye.insert=0,ee===4?(R(ye,!0),ye.strm.avail_out===0?3:4):ye.last_lit&&(R(ye,!1),ye.strm.avail_out===0)?1:2})(U,Y):U.strategy===3?(function(ye,ee){for(var oe,ne,fe,le,ae=ye.window;;){if(ye.lookahead<=q){if(j(ye),ye.lookahead<=q&&ee===0)return 1;if(ye.lookahead===0)break}if(ye.match_length=0,ye.lookahead>=3&&0<ye.strstart&&(ne=ae[fe=ye.strstart-1])===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]){le=ye.strstart+q;do;while(ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&ne===ae[++fe]&&fe<le);ye.match_length=q-(le-fe),ye.match_length>ye.lookahead&&(ye.match_length=ye.lookahead)}if(ye.match_length>=3?(oe=x._tr_tally(ye,1,ye.match_length-3),ye.lookahead-=ye.match_length,ye.strstart+=ye.match_length,ye.match_length=0):(oe=x._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++),oe&&(R(ye,!1),ye.strm.avail_out===0))return 1}return ye.insert=0,ee===4?(R(ye,!0),ye.strm.avail_out===0?3:4):ye.last_lit&&(R(ye,!1),ye.strm.avail_out===0)?1:2})(U,Y):m[U.level].func(U,Y);if(ce!==3&&ce!==4||(U.status=666),ce===1||ce===3)return F.avail_out===0&&(U.last_flush=-1),0;if(ce===2&&(Y===1?x._tr_align(U):Y!==5&&(x._tr_stored_block(U,0,0,!1),Y===3&&(W(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),P(F),F.avail_out===0))return U.last_flush=-1,0}return Y!==4?0:U.wrap<=0?1:(U.wrap===2?(C(U,255&F.adler),C(U,F.adler>>8&255),C(U,F.adler>>16&255),C(U,F.adler>>24&255),C(U,255&F.total_in),C(U,F.total_in>>8&255),C(U,F.total_in>>16&255),C(U,F.total_in>>24&255)):(_(U,F.adler>>>16),_(U,65535&F.adler)),P(F),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?0:1)},y.deflateEnd=function(F){var Y;return F&&F.state?(Y=F.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==$&&Y!==666?z(F,L):(F.state=null,Y===$?z(F,-3):0):L},y.deflateSetDictionary=function(F,Y){var V,U,Z,ie,me,ce,ye,ee,oe=Y.length;if(!F||!F.state||(ie=(V=F.state).wrap)===2||ie===1&&V.status!==42||V.lookahead)return L;for(ie===1&&(F.adler=k(F.adler,Y,oe,0)),V.wrap=0,oe>=V.w_size&&(ie===0&&(W(V.head),V.strstart=0,V.block_start=0,V.insert=0),ee=new v.Buf8(V.w_size),v.arraySet(ee,Y,oe-V.w_size,V.w_size,0),Y=ee,oe=V.w_size),me=F.avail_in,ce=F.next_in,ye=F.input,F.avail_in=oe,F.next_in=0,F.input=Y,j(V);V.lookahead>=3;){for(U=V.strstart,Z=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[U+3-1])&V.hash_mask,V.prev[U&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=U,U++,--Z;);V.strstart=U,V.lookahead=2,j(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,F.next_in=ce,F.input=ye,F.avail_in=me,V.wrap=ie,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,y){g.exports=function(m,v){var x,k,T,A,L,q,D,$,z,K,W,P,R,C,_,S,j,N,M,O,B,G,Q,re,F;x=m.state,k=m.next_in,re=m.input,T=k+(m.avail_in-5),A=m.next_out,F=m.output,L=A-(v-m.avail_out),q=A+(m.avail_out-257),D=x.dmax,$=x.wsize,z=x.whave,K=x.wnext,W=x.window,P=x.hold,R=x.bits,C=x.lencode,_=x.distcode,S=(1<<x.lenbits)-1,j=(1<<x.distbits)-1;e:do{R<15&&(P+=re[k++]<<R,R+=8,P+=re[k++]<<R,R+=8),N=C[P&S];t:for(;;){if(P>>>=M=N>>>24,R-=M,(M=N>>>16&255)==0)F[A++]=65535&N;else{if(!(16&M)){if((64&M)==0){N=C[(65535&N)+(P&(1<<M)-1)];continue t}if(32&M){x.mode=12;break e}m.msg="invalid literal/length code",x.mode=30;break e}O=65535&N,(M&=15)&&(R<M&&(P+=re[k++]<<R,R+=8),O+=P&(1<<M)-1,P>>>=M,R-=M),R<15&&(P+=re[k++]<<R,R+=8,P+=re[k++]<<R,R+=8),N=_[P&j];r:for(;;){if(P>>>=M=N>>>24,R-=M,!(16&(M=N>>>16&255))){if((64&M)==0){N=_[(65535&N)+(P&(1<<M)-1)];continue r}m.msg="invalid distance code",x.mode=30;break e}if(B=65535&N,R<(M&=15)&&(P+=re[k++]<<R,(R+=8)<M&&(P+=re[k++]<<R,R+=8)),D<(B+=P&(1<<M)-1)){m.msg="invalid distance too far back",x.mode=30;break e}if(P>>>=M,R-=M,(M=A-L)<B){if(z<(M=B-M)&&x.sane){m.msg="invalid distance too far back",x.mode=30;break e}if(Q=W,(G=0)===K){if(G+=$-M,M<O){for(O-=M;F[A++]=W[G++],--M;);G=A-B,Q=F}}else if(K<M){if(G+=$+K-M,(M-=K)<O){for(O-=M;F[A++]=W[G++],--M;);if(G=0,K<O){for(O-=M=K;F[A++]=W[G++],--M;);G=A-B,Q=F}}}else if(G+=K-M,M<O){for(O-=M;F[A++]=W[G++],--M;);G=A-B,Q=F}for(;2<O;)F[A++]=Q[G++],F[A++]=Q[G++],F[A++]=Q[G++],O-=3;O&&(F[A++]=Q[G++],1<O&&(F[A++]=Q[G++]))}else{for(G=A-B;F[A++]=F[G++],F[A++]=F[G++],F[A++]=F[G++],2<(O-=3););O&&(F[A++]=F[G++],1<O&&(F[A++]=F[G++]))}break}}break}}while(k<T&&A<q);k-=O=R>>3,P&=(1<<(R-=O<<3))-1,m.next_in=k,m.next_out=A,m.avail_in=k<T?T-k+5:5-(k-T),m.avail_out=A<q?q-A+257:257-(A-q),x.hold=P,x.bits=R}},{}],49:[function(h,g,y){var m=h("../utils/common"),v=h("./adler32"),x=h("./crc32"),k=h("./inffast"),T=h("./inftrees"),A=-2;function L(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(S){var j;return S&&S.state?(j=S.state,S.total_in=S.total_out=j.total=0,S.msg="",j.wrap&&(S.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new m.Buf32(852),j.distcode=j.distdyn=new m.Buf32(592),j.sane=1,j.back=-1,0):A}function $(S){var j;return S&&S.state?((j=S.state).wsize=0,j.whave=0,j.wnext=0,D(S)):A}function z(S,j){var N,M;return S&&S.state?(M=S.state,j<0?(N=0,j=-j):(N=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?A:(M.window!==null&&M.wbits!==j&&(M.window=null),M.wrap=N,M.wbits=j,$(S))):A}function K(S,j){var N,M;return S?(M=new q,(S.state=M).window=null,(N=z(S,j))!==0&&(S.state=null),N):A}var W,P,R=!0;function C(S){if(R){var j;for(W=new m.Buf32(512),P=new m.Buf32(32),j=0;j<144;)S.lens[j++]=8;for(;j<256;)S.lens[j++]=9;for(;j<280;)S.lens[j++]=7;for(;j<288;)S.lens[j++]=8;for(T(1,S.lens,0,288,W,0,S.work,{bits:9}),j=0;j<32;)S.lens[j++]=5;T(2,S.lens,0,32,P,0,S.work,{bits:5}),R=!1}S.lencode=W,S.lenbits=9,S.distcode=P,S.distbits=5}function _(S,j,N,M){var O,B=S.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new m.Buf8(B.wsize)),M>=B.wsize?(m.arraySet(B.window,j,N-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(M<(O=B.wsize-B.wnext)&&(O=M),m.arraySet(B.window,j,N-M,O,B.wnext),(M-=O)?(m.arraySet(B.window,j,N-M,M,0),B.wnext=M,B.whave=B.wsize):(B.wnext+=O,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=O))),0}y.inflateReset=$,y.inflateReset2=z,y.inflateResetKeep=D,y.inflateInit=function(S){return K(S,15)},y.inflateInit2=K,y.inflate=function(S,j){var N,M,O,B,G,Q,re,F,Y,V,U,Z,ie,me,ce,ye,ee,oe,ne,fe,le,ae,te,se,de=0,ge=new m.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return A;(N=S.state).mode===12&&(N.mode=13),G=S.next_out,O=S.output,re=S.avail_out,B=S.next_in,M=S.input,Q=S.avail_in,F=N.hold,Y=N.bits,V=Q,U=re,ae=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;Y<16;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(2&N.wrap&&F===35615){ge[N.check=0]=255&F,ge[1]=F>>>8&255,N.check=x(N.check,ge,2,0),Y=F=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&F)<<8)+(F>>8))%31){S.msg="incorrect header check",N.mode=30;break}if((15&F)!=8){S.msg="unknown compression method",N.mode=30;break}if(Y-=4,le=8+(15&(F>>>=4)),N.wbits===0)N.wbits=le;else if(le>N.wbits){S.msg="invalid window size",N.mode=30;break}N.dmax=1<<le,S.adler=N.check=1,N.mode=512&F?10:12,Y=F=0;break;case 2:for(;Y<16;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(N.flags=F,(255&N.flags)!=8){S.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){S.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=F>>8&1),512&N.flags&&(ge[0]=255&F,ge[1]=F>>>8&255,N.check=x(N.check,ge,2,0)),Y=F=0,N.mode=3;case 3:for(;Y<32;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.head&&(N.head.time=F),512&N.flags&&(ge[0]=255&F,ge[1]=F>>>8&255,ge[2]=F>>>16&255,ge[3]=F>>>24&255,N.check=x(N.check,ge,4,0)),Y=F=0,N.mode=4;case 4:for(;Y<16;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.head&&(N.head.xflags=255&F,N.head.os=F>>8),512&N.flags&&(ge[0]=255&F,ge[1]=F>>>8&255,N.check=x(N.check,ge,2,0)),Y=F=0,N.mode=5;case 5:if(1024&N.flags){for(;Y<16;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.length=F,N.head&&(N.head.extra_len=F),512&N.flags&&(ge[0]=255&F,ge[1]=F>>>8&255,N.check=x(N.check,ge,2,0)),Y=F=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Q<(Z=N.length)&&(Z=Q),Z&&(N.head&&(le=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),m.arraySet(N.head.extra,M,B,Z,le)),512&N.flags&&(N.check=x(N.check,M,Z,B)),Q-=Z,B+=Z,N.length-=Z),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Q===0)break e;for(Z=0;le=M[B+Z++],N.head&&le&&N.length<65536&&(N.head.name+=String.fromCharCode(le)),le&&Z<Q;);if(512&N.flags&&(N.check=x(N.check,M,Z,B)),Q-=Z,B+=Z,le)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Q===0)break e;for(Z=0;le=M[B+Z++],N.head&&le&&N.length<65536&&(N.head.comment+=String.fromCharCode(le)),le&&Z<Q;);if(512&N.flags&&(N.check=x(N.check,M,Z,B)),Q-=Z,B+=Z,le)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Y<16;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(F!==(65535&N.check)){S.msg="header crc mismatch",N.mode=30;break}Y=F=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),S.adler=N.check=0,N.mode=12;break;case 10:for(;Y<32;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}S.adler=N.check=L(F),Y=F=0,N.mode=11;case 11:if(N.havedict===0)return S.next_out=G,S.avail_out=re,S.next_in=B,S.avail_in=Q,N.hold=F,N.bits=Y,2;S.adler=N.check=1,N.mode=12;case 12:if(j===5||j===6)break e;case 13:if(N.last){F>>>=7&Y,Y-=7&Y,N.mode=27;break}for(;Y<3;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}switch(N.last=1&F,Y-=1,3&(F>>>=1)){case 0:N.mode=14;break;case 1:if(C(N),N.mode=20,j!==6)break;F>>>=2,Y-=2;break e;case 2:N.mode=17;break;case 3:S.msg="invalid block type",N.mode=30}F>>>=2,Y-=2;break;case 14:for(F>>>=7&Y,Y-=7&Y;Y<32;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if((65535&F)!=(F>>>16^65535)){S.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&F,Y=F=0,N.mode=15,j===6)break e;case 15:N.mode=16;case 16:if(Z=N.length){if(Q<Z&&(Z=Q),re<Z&&(Z=re),Z===0)break e;m.arraySet(O,M,B,Z,G),Q-=Z,B+=Z,re-=Z,G+=Z,N.length-=Z;break}N.mode=12;break;case 17:for(;Y<14;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(N.nlen=257+(31&F),F>>>=5,Y-=5,N.ndist=1+(31&F),F>>>=5,Y-=5,N.ncode=4+(15&F),F>>>=4,Y-=4,286<N.nlen||30<N.ndist){S.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Y<3;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.lens[ke[N.have++]]=7&F,F>>>=3,Y-=3}for(;N.have<19;)N.lens[ke[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,te={bits:N.lenbits},ae=T(0,N.lens,0,19,N.lencode,0,N.work,te),N.lenbits=te.bits,ae){S.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ye=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Y);){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(ee<16)F>>>=ce,Y-=ce,N.lens[N.have++]=ee;else{if(ee===16){for(se=ce+2;Y<se;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(F>>>=ce,Y-=ce,N.have===0){S.msg="invalid bit length repeat",N.mode=30;break}le=N.lens[N.have-1],Z=3+(3&F),F>>>=2,Y-=2}else if(ee===17){for(se=ce+3;Y<se;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}Y-=ce,le=0,Z=3+(7&(F>>>=ce)),F>>>=3,Y-=3}else{for(se=ce+7;Y<se;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}Y-=ce,le=0,Z=11+(127&(F>>>=ce)),F>>>=7,Y-=7}if(N.have+Z>N.nlen+N.ndist){S.msg="invalid bit length repeat",N.mode=30;break}for(;Z--;)N.lens[N.have++]=le}}if(N.mode===30)break;if(N.lens[256]===0){S.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,te={bits:N.lenbits},ae=T(1,N.lens,0,N.nlen,N.lencode,0,N.work,te),N.lenbits=te.bits,ae){S.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,te={bits:N.distbits},ae=T(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,te),N.distbits=te.bits,ae){S.msg="invalid distances set",N.mode=30;break}if(N.mode=20,j===6)break e;case 20:N.mode=21;case 21:if(6<=Q&&258<=re){S.next_out=G,S.avail_out=re,S.next_in=B,S.avail_in=Q,N.hold=F,N.bits=Y,k(S,U),G=S.next_out,O=S.output,re=S.avail_out,B=S.next_in,M=S.input,Q=S.avail_in,F=N.hold,Y=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ye=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Y);){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(ye&&(240&ye)==0){for(oe=ce,ne=ye,fe=ee;ye=(de=N.lencode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ce=de>>>24)<=Y);){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}F>>>=oe,Y-=oe,N.back+=oe}if(F>>>=ce,Y-=ce,N.back+=ce,N.length=ee,ye===0){N.mode=26;break}if(32&ye){N.back=-1,N.mode=12;break}if(64&ye){S.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ye,N.mode=22;case 22:if(N.extra){for(se=N.extra;Y<se;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.length+=F&(1<<N.extra)-1,F>>>=N.extra,Y-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ye=(de=N.distcode[F&(1<<N.distbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Y);){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if((240&ye)==0){for(oe=ce,ne=ye,fe=ee;ye=(de=N.distcode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ce=de>>>24)<=Y);){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}F>>>=oe,Y-=oe,N.back+=oe}if(F>>>=ce,Y-=ce,N.back+=ce,64&ye){S.msg="invalid distance code",N.mode=30;break}N.offset=ee,N.extra=15&ye,N.mode=24;case 24:if(N.extra){for(se=N.extra;Y<se;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}N.offset+=F&(1<<N.extra)-1,F>>>=N.extra,Y-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){S.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(re===0)break e;if(Z=U-re,N.offset>Z){if((Z=N.offset-Z)>N.whave&&N.sane){S.msg="invalid distance too far back",N.mode=30;break}ie=Z>N.wnext?(Z-=N.wnext,N.wsize-Z):N.wnext-Z,Z>N.length&&(Z=N.length),me=N.window}else me=O,ie=G-N.offset,Z=N.length;for(re<Z&&(Z=re),re-=Z,N.length-=Z;O[G++]=me[ie++],--Z;);N.length===0&&(N.mode=21);break;case 26:if(re===0)break e;O[G++]=N.length,re--,N.mode=21;break;case 27:if(N.wrap){for(;Y<32;){if(Q===0)break e;Q--,F|=M[B++]<<Y,Y+=8}if(U-=re,S.total_out+=U,N.total+=U,U&&(S.adler=N.check=N.flags?x(N.check,O,U,G-U):v(N.check,O,U,G-U)),U=re,(N.flags?F:L(F))!==N.check){S.msg="incorrect data check",N.mode=30;break}Y=F=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Y<32;){if(Q===0)break e;Q--,F+=M[B++]<<Y,Y+=8}if(F!==(4294967295&N.total)){S.msg="incorrect length check",N.mode=30;break}Y=F=0}N.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return A}return S.next_out=G,S.avail_out=re,S.next_in=B,S.avail_in=Q,N.hold=F,N.bits=Y,(N.wsize||U!==S.avail_out&&N.mode<30&&(N.mode<27||j!==4))&&_(S,S.output,S.next_out,U-S.avail_out)?(N.mode=31,-4):(V-=S.avail_in,U-=S.avail_out,S.total_in+=V,S.total_out+=U,N.total+=U,N.wrap&&U&&(S.adler=N.check=N.flags?x(N.check,O,U,S.next_out-U):v(N.check,O,U,S.next_out-U)),S.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(V==0&&U===0||j===4)&&ae===0&&(ae=-5),ae)},y.inflateEnd=function(S){if(!S||!S.state)return A;var j=S.state;return j.window&&(j.window=null),S.state=null,0},y.inflateGetHeader=function(S,j){var N;return S&&S.state?(2&(N=S.state).wrap)==0?A:((N.head=j).done=!1,0):A},y.inflateSetDictionary=function(S,j){var N,M=j.length;return S&&S.state?(N=S.state).wrap!==0&&N.mode!==11?A:N.mode===11&&v(1,j,M,0)!==N.check?-3:_(S,j,M,M)?(N.mode=31,-4):(N.havedict=1,0):A},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,y){var m=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(A,L,q,D,$,z,K,W){var P,R,C,_,S,j,N,M,O,B=W.bits,G=0,Q=0,re=0,F=0,Y=0,V=0,U=0,Z=0,ie=0,me=0,ce=null,ye=0,ee=new m.Buf16(16),oe=new m.Buf16(16),ne=null,fe=0;for(G=0;G<=15;G++)ee[G]=0;for(Q=0;Q<D;Q++)ee[L[q+Q]]++;for(Y=B,F=15;1<=F&&ee[F]===0;F--);if(F<Y&&(Y=F),F===0)return $[z++]=20971520,$[z++]=20971520,W.bits=1,0;for(re=1;re<F&&ee[re]===0;re++);for(Y<re&&(Y=re),G=Z=1;G<=15;G++)if(Z<<=1,(Z-=ee[G])<0)return-1;if(0<Z&&(A===0||F!==1))return-1;for(oe[1]=0,G=1;G<15;G++)oe[G+1]=oe[G]+ee[G];for(Q=0;Q<D;Q++)L[q+Q]!==0&&(K[oe[L[q+Q]]++]=Q);if(j=A===0?(ce=ne=K,19):A===1?(ce=v,ye-=257,ne=x,fe-=257,256):(ce=k,ne=T,-1),G=re,S=z,U=Q=me=0,C=-1,_=(ie=1<<(V=Y))-1,A===1&&852<ie||A===2&&592<ie)return 1;for(;;){for(N=G-U,O=K[Q]<j?(M=0,K[Q]):K[Q]>j?(M=ne[fe+K[Q]],ce[ye+K[Q]]):(M=96,0),P=1<<G-U,re=R=1<<V;$[S+(me>>U)+(R-=P)]=N<<24|M<<16|O|0,R!==0;);for(P=1<<G-1;me&P;)P>>=1;if(P!==0?(me&=P-1,me+=P):me=0,Q++,--ee[G]==0){if(G===F)break;G=L[q+K[Q]]}if(Y<G&&(me&_)!==C){for(U===0&&(U=Y),S+=re,Z=1<<(V=G-U);V+U<F&&!((Z-=ee[V+U])<=0);)V++,Z<<=1;if(ie+=1<<V,A===1&&852<ie||A===2&&592<ie)return 1;$[C=me&_]=Y<<24|V<<16|S-z|0}}return me!==0&&($[S+me]=G-U<<24|64<<16|0),W.bits=Y,0}},{"../utils/common":41}],51:[function(h,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,y){var m=h("../utils/common");function v(ne){for(var fe=ne.length;0<=--fe;)ne[fe]=0}var x=256,k=286,T=30,A=15,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(576);v(z);var K=new Array(60);v(K);var W=new Array(512);v(W);var P=new Array(256);v(P);var R=new Array(29);v(R);var C,_,S,j=new Array(T);function N(ne,fe,le,ae,te){this.static_tree=ne,this.extra_bits=fe,this.extra_base=le,this.elems=ae,this.max_length=te,this.has_stree=ne&&ne.length}function M(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function O(ne){return ne<256?W[ne]:W[256+(ne>>>7)]}function B(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function G(ne,fe,le){ne.bi_valid>16-le?(ne.bi_buf|=fe<<ne.bi_valid&65535,B(ne,ne.bi_buf),ne.bi_buf=fe>>16-ne.bi_valid,ne.bi_valid+=le-16):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=le)}function Q(ne,fe,le){G(ne,le[2*fe],le[2*fe+1])}function re(ne,fe){for(var le=0;le|=1&ne,ne>>>=1,le<<=1,0<--fe;);return le>>>1}function F(ne,fe,le){var ae,te,se=new Array(16),de=0;for(ae=1;ae<=A;ae++)se[ae]=de=de+le[ae-1]<<1;for(te=0;te<=fe;te++){var ge=ne[2*te+1];ge!==0&&(ne[2*te]=re(se[ge]++,ge))}}function Y(ne){var fe;for(fe=0;fe<k;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<T;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function V(ne){8<ne.bi_valid?B(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function U(ne,fe,le,ae){var te=2*fe,se=2*le;return ne[te]<ne[se]||ne[te]===ne[se]&&ae[fe]<=ae[le]}function Z(ne,fe,le){for(var ae=ne.heap[le],te=le<<1;te<=ne.heap_len&&(te<ne.heap_len&&U(fe,ne.heap[te+1],ne.heap[te],ne.depth)&&te++,!U(fe,ae,ne.heap[te],ne.depth));)ne.heap[le]=ne.heap[te],le=te,te<<=1;ne.heap[le]=ae}function ie(ne,fe,le){var ae,te,se,de,ge=0;if(ne.last_lit!==0)for(;ae=ne.pending_buf[ne.d_buf+2*ge]<<8|ne.pending_buf[ne.d_buf+2*ge+1],te=ne.pending_buf[ne.l_buf+ge],ge++,ae===0?Q(ne,te,fe):(Q(ne,(se=P[te])+x+1,fe),(de=L[se])!==0&&G(ne,te-=R[se],de),Q(ne,se=O(--ae),le),(de=q[se])!==0&&G(ne,ae-=j[se],de)),ge<ne.last_lit;);Q(ne,256,fe)}function me(ne,fe){var le,ae,te,se=fe.dyn_tree,de=fe.stat_desc.static_tree,ge=fe.stat_desc.has_stree,ke=fe.stat_desc.elems,Ee=-1;for(ne.heap_len=0,ne.heap_max=573,le=0;le<ke;le++)se[2*le]!==0?(ne.heap[++ne.heap_len]=Ee=le,ne.depth[le]=0):se[2*le+1]=0;for(;ne.heap_len<2;)se[2*(te=ne.heap[++ne.heap_len]=Ee<2?++Ee:0)]=1,ne.depth[te]=0,ne.opt_len--,ge&&(ne.static_len-=de[2*te+1]);for(fe.max_code=Ee,le=ne.heap_len>>1;1<=le;le--)Z(ne,se,le);for(te=ke;le=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Z(ne,se,1),ae=ne.heap[1],ne.heap[--ne.heap_max]=le,ne.heap[--ne.heap_max]=ae,se[2*te]=se[2*le]+se[2*ae],ne.depth[te]=(ne.depth[le]>=ne.depth[ae]?ne.depth[le]:ne.depth[ae])+1,se[2*le+1]=se[2*ae+1]=te,ne.heap[1]=te++,Z(ne,se,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(Oe,Le){var Ge,Qe,yt,it,et,xe,be=Le.dyn_tree,Ve=Le.max_code,Xe=Le.stat_desc.static_tree,Mt=Le.stat_desc.has_stree,Xt=Le.stat_desc.extra_bits,wt=Le.stat_desc.extra_base,Jt=Le.stat_desc.max_length,bt=0;for(it=0;it<=A;it++)Oe.bl_count[it]=0;for(be[2*Oe.heap[Oe.heap_max]+1]=0,Ge=Oe.heap_max+1;Ge<573;Ge++)Jt<(it=be[2*be[2*(Qe=Oe.heap[Ge])+1]+1]+1)&&(it=Jt,bt++),be[2*Qe+1]=it,Ve<Qe||(Oe.bl_count[it]++,et=0,wt<=Qe&&(et=Xt[Qe-wt]),xe=be[2*Qe],Oe.opt_len+=xe*(it+et),Mt&&(Oe.static_len+=xe*(Xe[2*Qe+1]+et)));if(bt!==0){do{for(it=Jt-1;Oe.bl_count[it]===0;)it--;Oe.bl_count[it]--,Oe.bl_count[it+1]+=2,Oe.bl_count[Jt]--,bt-=2}while(0<bt);for(it=Jt;it!==0;it--)for(Qe=Oe.bl_count[it];Qe!==0;)Ve<(yt=Oe.heap[--Ge])||(be[2*yt+1]!==it&&(Oe.opt_len+=(it-be[2*yt+1])*be[2*yt],be[2*yt+1]=it),Qe--)}})(ne,fe),F(se,Ee,ne.bl_count)}function ce(ne,fe,le){var ae,te,se=-1,de=fe[1],ge=0,ke=7,Ee=4;for(de===0&&(ke=138,Ee=3),fe[2*(le+1)+1]=65535,ae=0;ae<=le;ae++)te=de,de=fe[2*(ae+1)+1],++ge<ke&&te===de||(ge<Ee?ne.bl_tree[2*te]+=ge:te!==0?(te!==se&&ne.bl_tree[2*te]++,ne.bl_tree[32]++):ge<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,se=te,Ee=(ge=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4))}function ye(ne,fe,le){var ae,te,se=-1,de=fe[1],ge=0,ke=7,Ee=4;for(de===0&&(ke=138,Ee=3),ae=0;ae<=le;ae++)if(te=de,de=fe[2*(ae+1)+1],!(++ge<ke&&te===de)){if(ge<Ee)for(;Q(ne,te,ne.bl_tree),--ge!=0;);else te!==0?(te!==se&&(Q(ne,te,ne.bl_tree),ge--),Q(ne,16,ne.bl_tree),G(ne,ge-3,2)):ge<=10?(Q(ne,17,ne.bl_tree),G(ne,ge-3,3)):(Q(ne,18,ne.bl_tree),G(ne,ge-11,7));se=te,Ee=(ge=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4)}}v(j);var ee=!1;function oe(ne,fe,le,ae){G(ne,0+(ae?1:0),3),(function(te,se,de,ge){V(te),B(te,de),B(te,~de),m.arraySet(te.pending_buf,te.window,se,de,te.pending),te.pending+=de})(ne,fe,le)}y._tr_init=function(ne){ee||((function(){var fe,le,ae,te,se,de=new Array(16);for(te=ae=0;te<28;te++)for(R[te]=ae,fe=0;fe<1<<L[te];fe++)P[ae++]=te;for(P[ae-1]=te,te=se=0;te<16;te++)for(j[te]=se,fe=0;fe<1<<q[te];fe++)W[se++]=te;for(se>>=7;te<T;te++)for(j[te]=se<<7,fe=0;fe<1<<q[te]-7;fe++)W[256+se++]=te;for(le=0;le<=A;le++)de[le]=0;for(fe=0;fe<=143;)z[2*fe+1]=8,fe++,de[8]++;for(;fe<=255;)z[2*fe+1]=9,fe++,de[9]++;for(;fe<=279;)z[2*fe+1]=7,fe++,de[7]++;for(;fe<=287;)z[2*fe+1]=8,fe++,de[8]++;for(F(z,287,de),fe=0;fe<T;fe++)K[2*fe+1]=5,K[2*fe]=re(fe,5);C=new N(z,L,257,k,A),_=new N(K,q,0,T,A),S=new N(new Array(0),D,0,19,7)})(),ee=!0),ne.l_desc=new M(ne.dyn_ltree,C),ne.d_desc=new M(ne.dyn_dtree,_),ne.bl_desc=new M(ne.bl_tree,S),ne.bi_buf=0,ne.bi_valid=0,Y(ne)},y._tr_stored_block=oe,y._tr_flush_block=function(ne,fe,le,ae){var te,se,de=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(ge){var ke,Ee=4093624447;for(ke=0;ke<=31;ke++,Ee>>>=1)if(1&Ee&&ge.dyn_ltree[2*ke]!==0)return 0;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return 1;for(ke=32;ke<x;ke++)if(ge.dyn_ltree[2*ke]!==0)return 1;return 0})(ne)),me(ne,ne.l_desc),me(ne,ne.d_desc),de=(function(ge){var ke;for(ce(ge,ge.dyn_ltree,ge.l_desc.max_code),ce(ge,ge.dyn_dtree,ge.d_desc.max_code),me(ge,ge.bl_desc),ke=18;3<=ke&&ge.bl_tree[2*$[ke]+1]===0;ke--);return ge.opt_len+=3*(ke+1)+5+5+4,ke})(ne),te=ne.opt_len+3+7>>>3,(se=ne.static_len+3+7>>>3)<=te&&(te=se)):te=se=le+5,le+4<=te&&fe!==-1?oe(ne,fe,le,ae):ne.strategy===4||se===te?(G(ne,2+(ae?1:0),3),ie(ne,z,K)):(G(ne,4+(ae?1:0),3),(function(ge,ke,Ee,Oe){var Le;for(G(ge,ke-257,5),G(ge,Ee-1,5),G(ge,Oe-4,4),Le=0;Le<Oe;Le++)G(ge,ge.bl_tree[2*$[Le]+1],3);ye(ge,ge.dyn_ltree,ke-1),ye(ge,ge.dyn_dtree,Ee-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,de+1),ie(ne,ne.dyn_ltree,ne.dyn_dtree)),Y(ne),ae&&V(ne)},y._tr_tally=function(ne,fe,le){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&le,ne.last_lit++,fe===0?ne.dyn_ltree[2*le]++:(ne.matches++,fe--,ne.dyn_ltree[2*(P[le]+x+1)]++,ne.dyn_dtree[2*O(fe)]++),ne.last_lit===ne.lit_bufsize-1},y._tr_align=function(ne){G(ne,2,3),Q(ne,256,z),(function(fe){fe.bi_valid===16?(B(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(h,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,y){(function(m){(function(v,x){if(!v.setImmediate){var k,T,A,L,q=1,D={},$=!1,z=v.document,K=Object.getPrototypeOf&&Object.getPrototypeOf(v);K=K&&K.setTimeout?K:v,k={}.toString.call(v.process)==="[object process]"?function(C){i.nextTick((function(){P(C)}))}:(function(){if(v.postMessage&&!v.importScripts){var C=!0,_=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=_,C}})()?(L="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",R,!1):v.attachEvent("onmessage",R),function(C){v.postMessage(L+C,"*")}):v.MessageChannel?((A=new MessageChannel).port1.onmessage=function(C){P(C.data)},function(C){A.port2.postMessage(C)}):z&&"onreadystatechange"in z.createElement("script")?(T=z.documentElement,function(C){var _=z.createElement("script");_.onreadystatechange=function(){P(C),_.onreadystatechange=null,T.removeChild(_),_=null},T.appendChild(_)}):function(C){setTimeout(P,0,C)},K.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var j={callback:C,args:_};return D[q]=j,k(q),q++},K.clearImmediate=W}function W(C){delete D[C]}function P(C){if($)setTimeout(P,0,C);else{var _=D[C];if(_){$=!0;try{(function(S){var j=S.callback,N=S.args;switch(N.length){case 0:j();break;case 1:j(N[0]);break;case 2:j(N[0],N[1]);break;case 3:j(N[0],N[1],N[2]);break;default:j.apply(void 0,N)}})(_)}finally{W(C),$=!1}}}}function R(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(L)===0&&P(+C.data.slice(L.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,s,n){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,l=RegExp(a.source),u=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),p=Object.prototype.toString,f=d.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(x){return typeof x=="symbol"||(function(k){return!!k&&typeof k=="object"})(x)&&p.call(x)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}s.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&l.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,s,n){(function(i){(function(){var a="[object Arguments]",l="[object Map]",u="[object Object]",c="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[l]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof i=="object"&&i&&i.Object===Object&&i,k=typeof self=="object"&&self&&self.Object===Object&&self,T=x||k||Function("return this")(),A=typeof n=="object"&&n&&!n.nodeType&&n,L=A&&typeof s=="object"&&s&&!s.nodeType&&s,q=L&&L.exports===A&&x.process,D=(function(){try{return q&&q.binding("util")}catch{}})(),$=D&&D.isTypedArray;function z(he,je,Be,Ze){for(var jt=-1,ct=he?he.length:0;++jt<ct;){var ht=he[jt];je(Ze,ht,Be(ht),he)}return Ze}function K(he,je){for(var Be=-1,Ze=he?he.length:0;++Be<Ze;)if(je(he[Be],Be,he))return!0;return!1}function W(he){var je=!1;if(he!=null&&typeof he.toString!="function")try{je=!!(he+"")}catch{}return je}function P(he){var je=-1,Be=Array(he.size);return he.forEach((function(Ze,jt){Be[++je]=[jt,Ze]})),Be}function R(he){var je=-1,Be=Array(he.size);return he.forEach((function(Ze){Be[++je]=Ze})),Be}var C,_,S,j=Array.prototype,N=Function.prototype,M=Object.prototype,O=T["__core-js_shared__"],B=(C=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",G=N.toString,Q=M.hasOwnProperty,re=M.toString,F=RegExp("^"+G.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=T.Symbol,V=T.Uint8Array,U=M.propertyIsEnumerable,Z=j.splice,ie=(_=Object.keys,S=Object,function(he){return _(S(he))}),me=Ft(T,"DataView"),ce=Ft(T,"Map"),ye=Ft(T,"Promise"),ee=Ft(T,"Set"),oe=Ft(T,"WeakMap"),ne=Ft(Object,"create"),fe=Me(me),le=Me(ce),ae=Me(ye),te=Me(ee),se=Me(oe),de=Y?Y.prototype:void 0,ge=de?de.valueOf:void 0,ke=de?de.toString:void 0;function Ee(he){var je=-1,Be=he?he.length:0;for(this.clear();++je<Be;){var Ze=he[je];this.set(Ze[0],Ze[1])}}function Oe(he){var je=-1,Be=he?he.length:0;for(this.clear();++je<Be;){var Ze=he[je];this.set(Ze[0],Ze[1])}}function Le(he){var je=-1,Be=he?he.length:0;for(this.clear();++je<Be;){var Ze=he[je];this.set(Ze[0],Ze[1])}}function Ge(he){var je=-1,Be=he?he.length:0;for(this.__data__=new Le;++je<Be;)this.add(he[je])}function Qe(he){this.__data__=new Oe(he)}function yt(he,je){var Be=Kt(he)||Ot(he)?(function(ht,lr){for(var fr=-1,Ut=Array(ht);++fr<ht;)Ut[fr]=lr(fr);return Ut})(he.length,String):[],Ze=Be.length,jt=!!Ze;for(var ct in he)!Q.call(he,ct)||jt&&(ct=="length"||or(ct,Ze))||Be.push(ct);return Be}function it(he,je){for(var Be=he.length;Be--;)if(ut(he[Be][0],je))return Be;return-1}function et(he,je,Be,Ze){return be(he,(function(jt,ct,ht){je(Ze,jt,Be(jt),ht)})),Ze}Ee.prototype.clear=function(){this.__data__=ne?ne(null):{}},Ee.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},Ee.prototype.get=function(he){var je=this.__data__;if(ne){var Be=je[he];return Be==="__lodash_hash_undefined__"?void 0:Be}return Q.call(je,he)?je[he]:void 0},Ee.prototype.has=function(he){var je=this.__data__;return ne?je[he]!==void 0:Q.call(je,he)},Ee.prototype.set=function(he,je){return this.__data__[he]=ne&&je===void 0?"__lodash_hash_undefined__":je,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(he){var je=this.__data__,Be=it(je,he);return!(Be<0)&&(Be==je.length-1?je.pop():Z.call(je,Be,1),!0)},Oe.prototype.get=function(he){var je=this.__data__,Be=it(je,he);return Be<0?void 0:je[Be][1]},Oe.prototype.has=function(he){return it(this.__data__,he)>-1},Oe.prototype.set=function(he,je){var Be=this.__data__,Ze=it(Be,he);return Ze<0?Be.push([he,je]):Be[Ze][1]=je,this},Le.prototype.clear=function(){this.__data__={hash:new Ee,map:new(ce||Oe),string:new Ee}},Le.prototype.delete=function(he){return Sr(this,he).delete(he)},Le.prototype.get=function(he){return Sr(this,he).get(he)},Le.prototype.has=function(he){return Sr(this,he).has(he)},Le.prototype.set=function(he,je){return Sr(this,he).set(he,je),this},Ge.prototype.add=Ge.prototype.push=function(he){return this.__data__.set(he,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(he){return this.__data__.has(he)},Qe.prototype.clear=function(){this.__data__=new Oe},Qe.prototype.delete=function(he){return this.__data__.delete(he)},Qe.prototype.get=function(he){return this.__data__.get(he)},Qe.prototype.has=function(he){return this.__data__.has(he)},Qe.prototype.set=function(he,je){var Be=this.__data__;if(Be instanceof Oe){var Ze=Be.__data__;if(!ce||Ze.length<199)return Ze.push([he,je]),this;Be=this.__data__=new Le(Ze)}return Be.set(he,je),this};var xe,be=(xe=function(he,je){return he&&Ve(he,je,Se)},function(he,je){if(he==null)return he;if(!Tt(he))return xe(he,je);for(var Be=he.length,Ze=-1,jt=Object(he);++Ze<Be&&je(jt[Ze],Ze,jt)!==!1;);return he}),Ve=(function(he){return function(je,Be,Ze){for(var jt=-1,ct=Object(je),ht=Ze(je),lr=ht.length;lr--;){var fr=ht[++jt];if(Be(ct[fr],fr,ct)===!1)break}return je}})();function Xe(he,je){for(var Be=0,Ze=(je=Ht(je,he)?[je]:It(je)).length;he!=null&&Be<Ze;)he=he[Ce(je[Be++])];return Be&&Be==Ze?he:void 0}function Mt(he,je){return he!=null&&je in Object(he)}function Xt(he,je,Be,Ze,jt){return he===je||(he==null||je==null||!ar(he)&&!mr(je)?he!=he&&je!=je:(function(ct,ht,lr,fr,Ut,Vt){var wr=Kt(ct),Hr=Kt(ht),Vr="[object Array]",dn="[object Array]";wr||(Vr=(Vr=jr(ct))==a?u:Vr),Hr||(dn=(dn=jr(ht))==a?u:dn);var yn=Vr==u&&!W(ct),fn=dn==u&&!W(ht),Sn=Vr==dn;if(Sn&&!yn)return Vt||(Vt=new Qe),wr||Ir(ct)?St(ct,ht,lr,fr,Ut,Vt):(function(Kr,Dr,Us,ga,Oa,_r,Ns){switch(Us){case"[object DataView]":if(Kr.byteLength!=Dr.byteLength||Kr.byteOffset!=Dr.byteOffset)return!1;Kr=Kr.buffer,Dr=Dr.buffer;case"[object ArrayBuffer]":return!(Kr.byteLength!=Dr.byteLength||!ga(new V(Kr),new V(Dr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ut(+Kr,+Dr);case"[object Error]":return Kr.name==Dr.name&&Kr.message==Dr.message;case"[object RegExp]":case"[object String]":return Kr==Dr+"";case l:var Di=P;case c:var ya=2&_r;if(Di||(Di=R),Kr.size!=Dr.size&&!ya)return!1;var vo=Ns.get(Kr);if(vo)return vo==Dr;_r|=1,Ns.set(Kr,Dr);var ba=St(Di(Kr),Di(Dr),ga,Oa,_r,Ns);return Ns.delete(Kr),ba;case"[object Symbol]":if(ge)return ge.call(Kr)==ge.call(Dr)}return!1})(ct,ht,Vr,lr,fr,Ut,Vt);if(!(2&Ut)){var rs=yn&&Q.call(ct,"__wrapped__"),Bs=fn&&Q.call(ht,"__wrapped__");if(rs||Bs){var Qi=rs?ct.value():ct,ms=Bs?ht.value():ht;return Vt||(Vt=new Qe),lr(Qi,ms,fr,Ut,Vt)}}return Sn?(Vt||(Vt=new Qe),(function(Kr,Dr,Us,ga,Oa,_r){var Ns=2&Oa,Di=Se(Kr),ya=Di.length,vo=Se(Dr).length;if(ya!=vo&&!Ns)return!1;for(var ba=ya;ba--;){var Mi=Di[ba];if(!(Ns?Mi in Dr:Q.call(Dr,Mi)))return!1}var Xo=_r.get(Kr);if(Xo&&_r.get(Dr))return Xo==Dr;var Fa=!0;_r.set(Kr,Dr),_r.set(Dr,Kr);for(var va=Ns;++ba<ya;){Mi=Di[ba];var Yi=Kr[Mi],Ri=Dr[Mi];if(ga)var La=Ns?ga(Ri,Yi,Mi,Dr,Kr,_r):ga(Yi,Ri,Mi,Kr,Dr,_r);if(!(La===void 0?Yi===Ri||Us(Yi,Ri,ga,Oa,_r):La)){Fa=!1;break}va||(va=Mi=="constructor")}if(Fa&&!va){var xa=Kr.constructor,si=Dr.constructor;xa==si||!("constructor"in Kr)||!("constructor"in Dr)||typeof xa=="function"&&xa instanceof xa&&typeof si=="function"&&si instanceof si||(Fa=!1)}return _r.delete(Kr),_r.delete(Dr),Fa})(ct,ht,lr,fr,Ut,Vt)):!1})(he,je,Xt,Be,Ze,jt))}function wt(he){return!(!ar(he)||(function(je){return!!B&&B in je})(he))&&(nr(he)||W(he)?F:y).test(Me(he))}function Jt(he){return typeof he=="function"?he:he==null?lt:typeof he=="object"?Kt(he)?(function(Ze,jt){return Ht(Ze)&&Nr(jt)?gr(Ce(Ze),jt):function(ct){var ht=(function(lr,fr,Ut){var Vt=lr==null?void 0:Xe(lr,fr);return Vt===void 0?Ut:Vt})(ct,Ze);return ht===void 0&&ht===jt?(function(lr,fr){return lr!=null&&(function(Ut,Vt,wr){Vt=Ht(Vt,Ut)?[Vt]:It(Vt);for(var Hr,Vr=-1,dn=Vt.length;++Vr<dn;){var yn=Ce(Vt[Vr]);if(!(Hr=Ut!=null&&wr(Ut,yn)))break;Ut=Ut[yn]}return Hr||!!(dn=Ut?Ut.length:0)&&Qt(dn)&&or(yn,dn)&&(Kt(Ut)||Ot(Ut))})(lr,fr,Mt)})(ct,Ze):Xt(jt,ht,void 0,3)}})(he[0],he[1]):(function(Ze){var jt=(function(ct){for(var ht=Se(ct),lr=ht.length;lr--;){var fr=ht[lr],Ut=ct[fr];ht[lr]=[fr,Ut,Nr(Ut)]}return ht})(Ze);return jt.length==1&&jt[0][2]?gr(jt[0][0],jt[0][1]):function(ct){return ct===Ze||(function(ht,lr,fr,Ut){var Vt=fr.length,wr=Vt;if(ht==null)return!wr;for(ht=Object(ht);Vt--;){var Hr=fr[Vt];if(Hr[2]?Hr[1]!==ht[Hr[0]]:!(Hr[0]in ht))return!1}for(;++Vt<wr;){var Vr=(Hr=fr[Vt])[0],dn=ht[Vr],yn=Hr[1];if(Hr[2]){if(dn===void 0&&!(Vr in ht))return!1}else{var fn=new Qe,Sn;if(!(Sn===void 0?Xt(yn,dn,Ut,3,fn):Sn))return!1}}return!0})(ct,Ze,jt)}})(he):Ht(je=he)?(Be=Ce(je),function(Ze){return Ze?.[Be]}):(function(Ze){return function(jt){return Xe(jt,Ze)}})(je);var je,Be}function bt(he){if(Be=(je=he)&&je.constructor,Ze=typeof Be=="function"&&Be.prototype||M,je!==Ze)return ie(he);var je,Be,Ze,jt=[];for(var ct in Object(he))Q.call(he,ct)&&ct!="constructor"&&jt.push(ct);return jt}function It(he){return Kt(he)?he:rr(he)}function St(he,je,Be,Ze,jt,ct){var ht=2&jt,lr=he.length,fr=je.length;if(lr!=fr&&!(ht&&fr>lr))return!1;var Ut=ct.get(he);if(Ut&&ct.get(je))return Ut==je;var Vt=-1,wr=!0,Hr=1&jt?new Ge:void 0;for(ct.set(he,je),ct.set(je,he);++Vt<lr;){var Vr=he[Vt],dn=je[Vt];if(Ze)var yn=ht?Ze(dn,Vr,Vt,je,he,ct):Ze(Vr,dn,Vt,he,je,ct);if(yn!==void 0){if(yn)continue;wr=!1;break}if(Hr){if(!K(je,(function(fn,Sn){if(!Hr.has(Sn)&&(Vr===fn||Be(Vr,fn,Ze,jt,ct)))return Hr.add(Sn)}))){wr=!1;break}}else if(Vr!==dn&&!Be(Vr,dn,Ze,jt,ct)){wr=!1;break}}return ct.delete(he),ct.delete(je),wr}function Sr(he,je){var Be,Ze,jt=he.__data__;return((Ze=typeof(Be=je))=="string"||Ze=="number"||Ze=="symbol"||Ze=="boolean"?Be!=="__proto__":Be===null)?jt[typeof je=="string"?"string":"hash"]:jt.map}function Ft(he,je){var Be=(function(Ze,jt){return Ze?.[jt]})(he,je);return wt(Be)?Be:void 0}var jr=function(he){return re.call(he)};function or(he,je){return!!(je=je??9007199254740991)&&(typeof he=="number"||m.test(he))&&he>-1&&he%1==0&&he<je}function Ht(he,je){if(Kt(he))return!1;var Be=typeof he;return!(Be!="number"&&Be!="symbol"&&Be!="boolean"&&he!=null&&!en(he))||p.test(he)||!d.test(he)||je!=null&&he in Object(je)}function Nr(he){return he==he&&!ar(he)}function gr(he,je){return function(Be){return Be!=null&&Be[he]===je&&(je!==void 0||he in Object(Be))}}(me&&jr(new me(new ArrayBuffer(1)))!="[object DataView]"||ce&&jr(new ce)!=l||ye&&jr(ye.resolve())!="[object Promise]"||ee&&jr(new ee)!=c||oe&&jr(new oe)!="[object WeakMap]")&&(jr=function(he){var je=re.call(he),Be=je==u?he.constructor:void 0,Ze=Be?Me(Be):void 0;if(Ze)switch(Ze){case fe:return"[object DataView]";case le:return l;case ae:return"[object Promise]";case te:return c;case se:return"[object WeakMap]"}return je});var rr=$t((function(he){var je;he=(je=he)==null?"":(function(Ze){if(typeof Ze=="string")return Ze;if(en(Ze))return ke?ke.call(Ze):"";var jt=Ze+"";return jt=="0"&&1/Ze==-1/0?"-0":jt})(je);var Be=[];return f.test(he)&&Be.push(""),he.replace(h,(function(Ze,jt,ct,ht){Be.push(ct?ht.replace(g,"$1"):jt||Ze)})),Be}));function Ce(he){if(typeof he=="string"||en(he))return he;var je=he+"";return je=="0"&&1/he==-1/0?"-0":je}function Me(he){if(he!=null){try{return G.call(he)}catch{}try{return he+""}catch{}}return""}var We,st=(We=function(he,je,Be){Q.call(he,Be)?he[Be].push(je):he[Be]=[je]},function(he,je){var Be=Kt(he)?z:et,Ze={};return Be(he,We,Jt(je),Ze)});function $t(he,je){if(typeof he!="function"||je&&typeof je!="function")throw new TypeError("Expected a function");var Be=function(){var Ze=arguments,jt=je?je.apply(this,Ze):Ze[0],ct=Be.cache;if(ct.has(jt))return ct.get(jt);var ht=he.apply(this,Ze);return Be.cache=ct.set(jt,ht),ht};return Be.cache=new($t.Cache||Le),Be}function ut(he,je){return he===je||he!=he&&je!=je}function Ot(he){return(function(je){return mr(je)&&Tt(je)})(he)&&Q.call(he,"callee")&&(!U.call(he,"callee")||re.call(he)==a)}$t.Cache=Le;var Kt=Array.isArray;function Tt(he){return he!=null&&Qt(he.length)&&!nr(he)}function nr(he){var je=ar(he)?re.call(he):"";return je=="[object Function]"||je=="[object GeneratorFunction]"}function Qt(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=9007199254740991}function ar(he){var je=typeof he;return!!he&&(je=="object"||je=="function")}function mr(he){return!!he&&typeof he=="object"}function en(he){return typeof he=="symbol"||mr(he)&&re.call(he)=="[object Symbol]"}var Ir=$?(function(he){return function(je){return he(je)}})($):function(he){return mr(he)&&Qt(he.length)&&!!v[re.call(he)]};function Se(he){return Tt(he)?yt(he):bt(he)}function lt(he){return he}s.exports=st}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,s,n){var i=Object.prototype.toString;s.exports=function(a){return a===!0||a===!1||(function(l){return!!l&&typeof l=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(t,s,n){(function(i){(function(){var a="[object Arguments]",l="[object Map]",u="[object Object]",c="[object Set]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[a]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[l]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[c]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=h||g||Function("return this")(),m=typeof n=="object"&&n&&!n.nodeType&&n,v=m&&typeof s=="object"&&s&&!s.nodeType&&s,x=v&&v.exports===m,k=x&&h.process,T=(function(){try{return k&&k.binding&&k.binding("util")}catch{}})(),A=T&&T.isTypedArray;function L(Ce,Me){for(var We=-1,st=Ce==null?0:Ce.length;++We<st;)if(Me(Ce[We],We,Ce))return!0;return!1}function q(Ce){var Me=-1,We=Array(Ce.size);return Ce.forEach((function(st,$t){We[++Me]=[$t,st]})),We}function D(Ce){var Me=-1,We=Array(Ce.size);return Ce.forEach((function(st){We[++Me]=st})),We}var $,z,K,W=Array.prototype,P=Function.prototype,R=Object.prototype,C=y["__core-js_shared__"],_=P.toString,S=R.hasOwnProperty,j=($=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",N=R.toString,M=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x?y.Buffer:void 0,B=y.Symbol,G=y.Uint8Array,Q=R.propertyIsEnumerable,re=W.splice,F=B?B.toStringTag:void 0,Y=Object.getOwnPropertySymbols,V=O?O.isBuffer:void 0,U=(z=Object.keys,K=Object,function(Ce){return z(K(Ce))}),Z=Mt(y,"DataView"),ie=Mt(y,"Map"),me=Mt(y,"Promise"),ce=Mt(y,"Set"),ye=Mt(y,"WeakMap"),ee=Mt(Object,"create"),oe=bt(Z),ne=bt(ie),fe=bt(me),le=bt(ce),ae=bt(ye),te=B?B.prototype:void 0,se=te?te.valueOf:void 0;function de(Ce){var Me=-1,We=Ce==null?0:Ce.length;for(this.clear();++Me<We;){var st=Ce[Me];this.set(st[0],st[1])}}function ge(Ce){var Me=-1,We=Ce==null?0:Ce.length;for(this.clear();++Me<We;){var st=Ce[Me];this.set(st[0],st[1])}}function ke(Ce){var Me=-1,We=Ce==null?0:Ce.length;for(this.clear();++Me<We;){var st=Ce[Me];this.set(st[0],st[1])}}function Ee(Ce){var Me=-1,We=Ce==null?0:Ce.length;for(this.__data__=new ke;++Me<We;)this.add(Ce[Me])}function Oe(Ce){var Me=this.__data__=new ge(Ce);this.size=Me.size}function Le(Ce,Me){var We=Sr(Ce),st=!We&&St(Ce),$t=!We&&!st&&Ft(Ce),ut=!We&&!st&&!$t&&gr(Ce),Ot=We||st||$t||ut,Kt=Ot?(function(Qt,ar){for(var mr=-1,en=Array(Qt);++mr<Qt;)en[mr]=ar(mr);return en})(Ce.length,String):[],Tt=Kt.length;for(var nr in Ce)!S.call(Ce,nr)||Ot&&(nr=="length"||$t&&(nr=="offset"||nr=="parent")||ut&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||Jt(nr,Tt))||Kt.push(nr);return Kt}function Ge(Ce,Me){for(var We=Ce.length;We--;)if(It(Ce[We][0],Me))return We;return-1}function Qe(Ce){return Ce==null?Ce===void 0?"[object Undefined]":"[object Null]":F&&F in Object(Ce)?(function(Me){var We=S.call(Me,F),st=Me[F];try{Me[F]=void 0;var $t=!0}catch{}var ut=N.call(Me);return $t&&(We?Me[F]=st:delete Me[F]),ut})(Ce):(function(Me){return N.call(Me)})(Ce)}function yt(Ce){return Nr(Ce)&&Qe(Ce)==a}function it(Ce,Me,We,st,$t){return Ce===Me||(Ce==null||Me==null||!Nr(Ce)&&!Nr(Me)?Ce!=Ce&&Me!=Me:(function(ut,Ot,Kt,Tt,nr,Qt){var ar=Sr(ut),mr=Sr(Ot),en=ar?"[object Array]":wt(ut),Ir=mr?"[object Array]":wt(Ot),Se=(en=en==a?u:en)==u,lt=(Ir=Ir==a?u:Ir)==u,he=en==Ir;if(he&&Ft(ut)){if(!Ft(Ot))return!1;ar=!0,Se=!1}if(he&&!Se)return Qt||(Qt=new Oe),ar||gr(ut)?be(ut,Ot,Kt,Tt,nr,Qt):(function(ct,ht,lr,fr,Ut,Vt,wr){switch(lr){case"[object DataView]":if(ct.byteLength!=ht.byteLength||ct.byteOffset!=ht.byteOffset)return!1;ct=ct.buffer,ht=ht.buffer;case"[object ArrayBuffer]":return!(ct.byteLength!=ht.byteLength||!Vt(new G(ct),new G(ht)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+ct,+ht);case"[object Error]":return ct.name==ht.name&&ct.message==ht.message;case"[object RegExp]":case"[object String]":return ct==ht+"";case l:var Hr=q;case c:var Vr=1&fr;if(Hr||(Hr=D),ct.size!=ht.size&&!Vr)return!1;var dn=wr.get(ct);if(dn)return dn==ht;fr|=2,wr.set(ct,ht);var yn=be(Hr(ct),Hr(ht),fr,Ut,Vt,wr);return wr.delete(ct),yn;case"[object Symbol]":if(se)return se.call(ct)==se.call(ht)}return!1})(ut,Ot,en,Kt,Tt,nr,Qt);if(!(1&Kt)){var je=Se&&S.call(ut,"__wrapped__"),Be=lt&&S.call(Ot,"__wrapped__");if(je||Be){var Ze=je?ut.value():ut,jt=Be?Ot.value():Ot;return Qt||(Qt=new Oe),nr(Ze,jt,Kt,Tt,Qt)}}return he?(Qt||(Qt=new Oe),(function(ct,ht,lr,fr,Ut,Vt){var wr=1&lr,Hr=Ve(ct),Vr=Hr.length,dn=Ve(ht).length;if(Vr!=dn&&!wr)return!1;for(var yn=Vr;yn--;){var fn=Hr[yn];if(!(wr?fn in ht:S.call(ht,fn)))return!1}var Sn=Vt.get(ct);if(Sn&&Vt.get(ht))return Sn==ht;var rs=!0;Vt.set(ct,ht),Vt.set(ht,ct);for(var Bs=wr;++yn<Vr;){fn=Hr[yn];var Qi=ct[fn],ms=ht[fn];if(fr)var Kr=wr?fr(ms,Qi,fn,ht,ct,Vt):fr(Qi,ms,fn,ct,ht,Vt);if(!(Kr===void 0?Qi===ms||Ut(Qi,ms,lr,fr,Vt):Kr)){rs=!1;break}Bs||(Bs=fn=="constructor")}if(rs&&!Bs){var Dr=ct.constructor,Us=ht.constructor;Dr==Us||!("constructor"in ct)||!("constructor"in ht)||typeof Dr=="function"&&Dr instanceof Dr&&typeof Us=="function"&&Us instanceof Us||(rs=!1)}return Vt.delete(ct),Vt.delete(ht),rs})(ut,Ot,Kt,Tt,nr,Qt)):!1})(Ce,Me,We,st,it,$t))}function et(Ce){return!(!Ht(Ce)||(function(Me){return!!j&&j in Me})(Ce))&&(jr(Ce)?M:d).test(bt(Ce))}function xe(Ce){if(We=(Me=Ce)&&Me.constructor,st=typeof We=="function"&&We.prototype||R,Me!==st)return U(Ce);var Me,We,st,$t=[];for(var ut in Object(Ce))S.call(Ce,ut)&&ut!="constructor"&&$t.push(ut);return $t}function be(Ce,Me,We,st,$t,ut){var Ot=1&We,Kt=Ce.length,Tt=Me.length;if(Kt!=Tt&&!(Ot&&Tt>Kt))return!1;var nr=ut.get(Ce);if(nr&&ut.get(Me))return nr==Me;var Qt=-1,ar=!0,mr=2&We?new Ee:void 0;for(ut.set(Ce,Me),ut.set(Me,Ce);++Qt<Kt;){var en=Ce[Qt],Ir=Me[Qt];if(st)var Se=Ot?st(Ir,en,Qt,Me,Ce,ut):st(en,Ir,Qt,Ce,Me,ut);if(Se!==void 0){if(Se)continue;ar=!1;break}if(mr){if(!L(Me,(function(lt,he){if(je=he,!mr.has(je)&&(en===lt||$t(en,lt,We,st,ut)))return mr.push(he);var je}))){ar=!1;break}}else if(en!==Ir&&!$t(en,Ir,We,st,ut)){ar=!1;break}}return ut.delete(Ce),ut.delete(Me),ar}function Ve(Ce){return(function(Me,We,st){var $t=We(Me);return Sr(Me)?$t:(function(ut,Ot){for(var Kt=-1,Tt=Ot.length,nr=ut.length;++Kt<Tt;)ut[nr+Kt]=Ot[Kt];return ut})($t,st(Me))})(Ce,rr,Xt)}function Xe(Ce,Me){var We,st,$t=Ce.__data__;return((st=typeof(We=Me))=="string"||st=="number"||st=="symbol"||st=="boolean"?We!=="__proto__":We===null)?$t[typeof Me=="string"?"string":"hash"]:$t.map}function Mt(Ce,Me){var We=(function(st,$t){return st?.[$t]})(Ce,Me);return et(We)?We:void 0}de.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},de.prototype.delete=function(Ce){var Me=this.has(Ce)&&delete this.__data__[Ce];return this.size-=Me?1:0,Me},de.prototype.get=function(Ce){var Me=this.__data__;if(ee){var We=Me[Ce];return We==="__lodash_hash_undefined__"?void 0:We}return S.call(Me,Ce)?Me[Ce]:void 0},de.prototype.has=function(Ce){var Me=this.__data__;return ee?Me[Ce]!==void 0:S.call(Me,Ce)},de.prototype.set=function(Ce,Me){var We=this.__data__;return this.size+=this.has(Ce)?0:1,We[Ce]=ee&&Me===void 0?"__lodash_hash_undefined__":Me,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(Ce){var Me=this.__data__,We=Ge(Me,Ce);return!(We<0)&&(We==Me.length-1?Me.pop():re.call(Me,We,1),--this.size,!0)},ge.prototype.get=function(Ce){var Me=this.__data__,We=Ge(Me,Ce);return We<0?void 0:Me[We][1]},ge.prototype.has=function(Ce){return Ge(this.__data__,Ce)>-1},ge.prototype.set=function(Ce,Me){var We=this.__data__,st=Ge(We,Ce);return st<0?(++this.size,We.push([Ce,Me])):We[st][1]=Me,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(ie||ge),string:new de}},ke.prototype.delete=function(Ce){var Me=Xe(this,Ce).delete(Ce);return this.size-=Me?1:0,Me},ke.prototype.get=function(Ce){return Xe(this,Ce).get(Ce)},ke.prototype.has=function(Ce){return Xe(this,Ce).has(Ce)},ke.prototype.set=function(Ce,Me){var We=Xe(this,Ce),st=We.size;return We.set(Ce,Me),this.size+=We.size==st?0:1,this},Ee.prototype.add=Ee.prototype.push=function(Ce){return this.__data__.set(Ce,"__lodash_hash_undefined__"),this},Ee.prototype.has=function(Ce){return this.__data__.has(Ce)},Oe.prototype.clear=function(){this.__data__=new ge,this.size=0},Oe.prototype.delete=function(Ce){var Me=this.__data__,We=Me.delete(Ce);return this.size=Me.size,We},Oe.prototype.get=function(Ce){return this.__data__.get(Ce)},Oe.prototype.has=function(Ce){return this.__data__.has(Ce)},Oe.prototype.set=function(Ce,Me){var We=this.__data__;if(We instanceof ge){var st=We.__data__;if(!ie||st.length<199)return st.push([Ce,Me]),this.size=++We.size,this;We=this.__data__=new ke(st)}return We.set(Ce,Me),this.size=We.size,this};var Xt=Y?function(Ce){return Ce==null?[]:(Ce=Object(Ce),(function(Me,We){for(var st=-1,$t=Me==null?0:Me.length,ut=0,Ot=[];++st<$t;){var Kt=Me[st];We(Kt,st,Me)&&(Ot[ut++]=Kt)}return Ot})(Y(Ce),(function(Me){return Q.call(Ce,Me)})))}:function(){return[]},wt=Qe;function Jt(Ce,Me){return!!(Me=Me??9007199254740991)&&(typeof Ce=="number"||p.test(Ce))&&Ce>-1&&Ce%1==0&&Ce<Me}function bt(Ce){if(Ce!=null){try{return _.call(Ce)}catch{}try{return Ce+""}catch{}}return""}function It(Ce,Me){return Ce===Me||Ce!=Ce&&Me!=Me}(Z&&wt(new Z(new ArrayBuffer(1)))!="[object DataView]"||ie&&wt(new ie)!=l||me&&wt(me.resolve())!="[object Promise]"||ce&&wt(new ce)!=c||ye&&wt(new ye)!="[object WeakMap]")&&(wt=function(Ce){var Me=Qe(Ce),We=Me==u?Ce.constructor:void 0,st=We?bt(We):"";if(st)switch(st){case oe:return"[object DataView]";case ne:return l;case fe:return"[object Promise]";case le:return c;case ae:return"[object WeakMap]"}return Me});var St=yt((function(){return arguments})())?yt:function(Ce){return Nr(Ce)&&S.call(Ce,"callee")&&!Q.call(Ce,"callee")},Sr=Array.isArray,Ft=V||function(){return!1};function jr(Ce){if(!Ht(Ce))return!1;var Me=Qe(Ce);return Me=="[object Function]"||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function or(Ce){return typeof Ce=="number"&&Ce>-1&&Ce%1==0&&Ce<=9007199254740991}function Ht(Ce){var Me=typeof Ce;return Ce!=null&&(Me=="object"||Me=="function")}function Nr(Ce){return Ce!=null&&typeof Ce=="object"}var gr=A?(function(Ce){return function(Me){return Ce(Me)}})(A):function(Ce){return Nr(Ce)&&or(Ce.length)&&!!f[Qe(Ce)]};function rr(Ce){return(Me=Ce)!=null&&or(Me.length)&&!jr(Me)?Le(Ce):xe(Ce);var Me}s.exports=function(Ce,Me){return it(Ce,Me)}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,s,n){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,u=a||l||Function("return this")(),c=Object.prototype,d=c.hasOwnProperty,p=c.toString,f=u.Symbol,h=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?(function(m){var v=d.call(m,h),x=m[h];try{m[h]=void 0;var k=!0}catch{}var T=p.call(m);return k&&(v?m[h]=x:delete m[h]),T})(y):(function(m){return p.call(m)})(y)}s.exports=function(y){if(!(function(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,s,n){s.exports=function(i){return i==null}},{}],448:[function(t,s,n){s.exports=function(i){return i===void 0}},{}],449:[function(t,s,n){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,l=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function d(B,G){return!!(B&&B.length)&&(function(Q,re,F){if(re!=re)return(function(U,Z,ie,me){for(var ce=U.length,ye=ie+-1;++ye<ce;)if(Z(U[ye],ye,U))return ye;return-1})(Q,p,F);for(var Y=F-1,V=Q.length;++Y<V;)if(Q[Y]===re)return Y;return-1})(B,G,0)>-1}function p(B){return B!=B}function f(B,G){return B.has(G)}function h(B){var G=-1,Q=Array(B.size);return B.forEach((function(re){Q[++G]=re})),Q}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,x=c["__core-js_shared__"],k=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",T=m.toString,A=v.hasOwnProperty,L=v.toString,q=RegExp("^"+T.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=y.splice,$=M(c,"Map"),z=M(c,"Set"),K=M(Object,"create");function W(B){var G=-1,Q=B?B.length:0;for(this.clear();++G<Q;){var re=B[G];this.set(re[0],re[1])}}function P(B){var G=-1,Q=B?B.length:0;for(this.clear();++G<Q;){var re=B[G];this.set(re[0],re[1])}}function R(B){var G=-1,Q=B?B.length:0;for(this.clear();++G<Q;){var re=B[G];this.set(re[0],re[1])}}function C(B){var G=-1,Q=B?B.length:0;for(this.__data__=new R;++G<Q;)this.add(B[G])}function _(B,G){for(var Q,re,F=B.length;F--;)if((Q=B[F][0])===(re=G)||Q!=Q&&re!=re)return F;return-1}function S(B){return!(!O(B)||(G=B,k&&k in G))&&((function(Q){var re=O(Q)?L.call(Q):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})(B)||(function(Q){var re=!1;if(Q!=null&&typeof Q.toString!="function")try{re=!!(Q+"")}catch{}return re})(B)?q:a).test((function(Q){if(Q!=null){try{return T.call(Q)}catch{}try{return Q+""}catch{}}return""})(B));var G}W.prototype.clear=function(){this.__data__=K?K(null):{}},W.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},W.prototype.get=function(B){var G=this.__data__;if(K){var Q=G[B];return Q==="__lodash_hash_undefined__"?void 0:Q}return A.call(G,B)?G[B]:void 0},W.prototype.has=function(B){var G=this.__data__;return K?G[B]!==void 0:A.call(G,B)},W.prototype.set=function(B,G){return this.__data__[B]=K&&G===void 0?"__lodash_hash_undefined__":G,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(B){var G=this.__data__,Q=_(G,B);return!(Q<0)&&(Q==G.length-1?G.pop():D.call(G,Q,1),!0)},P.prototype.get=function(B){var G=this.__data__,Q=_(G,B);return Q<0?void 0:G[Q][1]},P.prototype.has=function(B){return _(this.__data__,B)>-1},P.prototype.set=function(B,G){var Q=this.__data__,re=_(Q,B);return re<0?Q.push([B,G]):Q[re][1]=G,this},R.prototype.clear=function(){this.__data__={hash:new W,map:new($||P),string:new W}},R.prototype.delete=function(B){return N(this,B).delete(B)},R.prototype.get=function(B){return N(this,B).get(B)},R.prototype.has=function(B){return N(this,B).has(B)},R.prototype.set=function(B,G){return N(this,B).set(B,G),this},C.prototype.add=C.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},C.prototype.has=function(B){return this.__data__.has(B)};var j=z&&1/h(new z([,-0]))[1]==1/0?function(B){return new z(B)}:function(){};function N(B,G){var Q,re,F=B.__data__;return((re=typeof(Q=G))=="string"||re=="number"||re=="symbol"||re=="boolean"?Q!=="__proto__":Q===null)?F[typeof G=="string"?"string":"hash"]:F.map}function M(B,G){var Q=(function(re,F){return re?.[F]})(B,G);return S(Q)?Q:void 0}function O(B){var G=typeof B;return!!B&&(G=="object"||G=="function")}s.exports=function(B){return B&&B.length?(function(G,Q,re){var F=-1,Y=d,V=G.length,U=!0,Z=[],ie=Z;if(V>=200){var me=j(G);if(me)return h(me);U=!1,Y=f,ie=new C}else ie=Z;e:for(;++F<V;){var ce=G[F],ye=ce;if(ce=ce!==0?ce:0,U&&ye==ye){for(var ee=ie.length;ee--;)if(ie[ee]===ye)continue e;Z.push(ce)}else Y(ie,ye,re)||(ie!==Z&&ie.push(ye),Z.push(ce))}return Z})(B):[]}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,s,n){var i=t("inherits"),a=t("hash-base"),l=t("safe-buffer").Buffer,u=new Array(16);function c(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function p(y,m,v,x,k,T,A){return d(y+(m&v|~m&x)+k+T|0,A)+m|0}function f(y,m,v,x,k,T,A){return d(y+(m&x|v&~x)+k+T|0,A)+m|0}function h(y,m,v,x,k,T,A){return d(y+(m^v^x)+k+T|0,A)+m|0}function g(y,m,v,x,k,T,A){return d(y+(v^(m|~x))+k+T|0,A)+m|0}i(c,a),c.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,x=this._b,k=this._c,T=this._d;v=p(v,x,k,T,y[0],3614090360,7),T=p(T,v,x,k,y[1],3905402710,12),k=p(k,T,v,x,y[2],606105819,17),x=p(x,k,T,v,y[3],3250441966,22),v=p(v,x,k,T,y[4],4118548399,7),T=p(T,v,x,k,y[5],1200080426,12),k=p(k,T,v,x,y[6],2821735955,17),x=p(x,k,T,v,y[7],4249261313,22),v=p(v,x,k,T,y[8],1770035416,7),T=p(T,v,x,k,y[9],2336552879,12),k=p(k,T,v,x,y[10],4294925233,17),x=p(x,k,T,v,y[11],2304563134,22),v=p(v,x,k,T,y[12],1804603682,7),T=p(T,v,x,k,y[13],4254626195,12),k=p(k,T,v,x,y[14],2792965006,17),v=f(v,x=p(x,k,T,v,y[15],1236535329,22),k,T,y[1],4129170786,5),T=f(T,v,x,k,y[6],3225465664,9),k=f(k,T,v,x,y[11],643717713,14),x=f(x,k,T,v,y[0],3921069994,20),v=f(v,x,k,T,y[5],3593408605,5),T=f(T,v,x,k,y[10],38016083,9),k=f(k,T,v,x,y[15],3634488961,14),x=f(x,k,T,v,y[4],3889429448,20),v=f(v,x,k,T,y[9],568446438,5),T=f(T,v,x,k,y[14],3275163606,9),k=f(k,T,v,x,y[3],4107603335,14),x=f(x,k,T,v,y[8],1163531501,20),v=f(v,x,k,T,y[13],2850285829,5),T=f(T,v,x,k,y[2],4243563512,9),k=f(k,T,v,x,y[7],1735328473,14),v=h(v,x=f(x,k,T,v,y[12],2368359562,20),k,T,y[5],4294588738,4),T=h(T,v,x,k,y[8],2272392833,11),k=h(k,T,v,x,y[11],1839030562,16),x=h(x,k,T,v,y[14],4259657740,23),v=h(v,x,k,T,y[1],2763975236,4),T=h(T,v,x,k,y[4],1272893353,11),k=h(k,T,v,x,y[7],4139469664,16),x=h(x,k,T,v,y[10],3200236656,23),v=h(v,x,k,T,y[13],681279174,4),T=h(T,v,x,k,y[0],3936430074,11),k=h(k,T,v,x,y[3],3572445317,16),x=h(x,k,T,v,y[6],76029189,23),v=h(v,x,k,T,y[9],3654602809,4),T=h(T,v,x,k,y[12],3873151461,11),k=h(k,T,v,x,y[15],530742520,16),v=g(v,x=h(x,k,T,v,y[2],3299628645,23),k,T,y[0],4096336452,6),T=g(T,v,x,k,y[7],1126891415,10),k=g(k,T,v,x,y[14],2878612391,15),x=g(x,k,T,v,y[5],4237533241,21),v=g(v,x,k,T,y[12],1700485571,6),T=g(T,v,x,k,y[3],2399980690,10),k=g(k,T,v,x,y[10],4293915773,15),x=g(x,k,T,v,y[1],2240044497,21),v=g(v,x,k,T,y[8],1873313359,6),T=g(T,v,x,k,y[15],4264355552,10),k=g(k,T,v,x,y[6],2734768916,15),x=g(x,k,T,v,y[13],1309151649,21),v=g(v,x,k,T,y[4],4149444226,6),T=g(T,v,x,k,y[11],3174756917,10),k=g(k,T,v,x,y[2],718787259,15),x=g(x,k,T,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+x|0,this._c=this._c+k|0,this._d=this._d+T|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=l.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},s.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,s,n){var i=t("bn.js"),a=t("brorand");function l(u){this.rand=u||new a.Rand}s.exports=l,l.create=function(u){return new l(u)},l.prototype._randbelow=function(u){var c=u.bitLength(),d=Math.ceil(c/8);do var p=new i(this.rand.generate(d));while(p.cmp(u)>=0);return p},l.prototype._randrange=function(u,c){var d=c.sub(u);return u.add(this._randbelow(d))},l.prototype.test=function(u,c,d){var p=u.bitLength(),f=i.mont(u),h=new i(1).toRed(f);c||(c=Math.max(1,p/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);c>0;c--){var x=this._randrange(new i(2),g);d&&d(x);var k=x.toRed(f).redPow(m);if(k.cmp(h)!==0&&k.cmp(v)!==0){for(var T=1;T<y;T++){if((k=k.redSqr()).cmp(h)===0)return!1;if(k.cmp(v)===0)break}if(T===y)return!1}}return!0},l.prototype.getDivisor=function(u,c){var d=u.bitLength(),p=i.mont(u),f=new i(1).toRed(p);c||(c=Math.max(1,d/48|0));for(var h=u.subn(1),g=0;!h.testn(g);g++);for(var y=u.shrn(g),m=h.toRed(p);c>0;c--){var v=this._randrange(new i(2),h),x=u.gcd(v);if(x.cmpn(1)!==0)return x;var k=v.toRed(p).redPow(y);if(k.cmp(f)!==0&&k.cmp(m)!==0){for(var T=1;T<g;T++){if((k=k.redSqr()).cmp(f)===0)return k.fromRed().subn(1).gcd(u);if(k.cmp(m)===0)break}if(T===g)return(k=k.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,s,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(t,s,n){function i(a,l){if(!a)throw new Error(l||"Assertion failed")}s.exports=i,i.equal=function(a,l,u){if(a!=l)throw new Error(u||"Assertion failed: "+a+" != "+l)}},{}],454:[function(t,s,n){var i=n;function a(u){return u.length===1?"0"+u:u}function l(u){for(var c="",d=0;d<u.length;d++)c+=a(u[d].toString(16));return c}i.toArray=function(u,c){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var p=0;p<u.length;p++)d[p]=0|u[p];return d}if(c==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16));else for(p=0;p<u.length;p++){var f=u.charCodeAt(p),h=f>>8,g=255&f;h?d.push(h,g):d.push(g)}return d},i.zero2=a,i.toHex=l,i.encode=function(u,c){return c==="hex"?l(u):u}},{}],455:[function(t,s,n){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,s,n){var i=t("asn1.js");n.certificate=t("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));n.RSAPrivateKey=a;var l=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));n.RSAPublicKey=l;var u=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())}));n.PublicKey=u;var c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())}));n.PrivateKey=d;var p=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));n.EncryptedPrivateKey=p;var f=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));n.DSAPrivateKey=f,n.DSAparam=i.define("DSAparam",(function(){this.int()}));var h=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));n.ECPrivateKey=h;var g=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));n.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,s,n){var i=t("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=i.define("RelativeDistinguishedName",(function(){this.setof(l)})),p=i.define("RDNSequence",(function(){this.seqof(d)})),f=i.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),h=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),g=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));s.exports=m},{"asn1.js":170}],458:[function(t,s,n){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=t("evp_bytestokey"),c=t("browserify-aes"),d=t("safe-buffer").Buffer;s.exports=function(p,f){var h,g=p.toString(),y=g.match(i);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),x=d.from(y[3].replace(/[\r\n]/g,""),"base64"),k=u(f,v.slice(0,8),parseInt(y[1],10)).key,T=[],A=c.createDecipheriv(m,k,v);T.push(A.update(x)),T.push(A.final()),h=d.concat(T)}else{var L=g.match(l);h=d.from(L[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,s,n){var i=t("./asn1"),a=t("./aesid.json"),l=t("./fixProc"),u=t("browserify-aes"),c=t("pbkdf2"),d=t("safe-buffer").Buffer;function p(f){var h;typeof f!="object"||d.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=l(f,h),v=m.tag,x=m.data;switch(v){case"CERTIFICATE":y=i.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(x,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":x=(function(k,T){var A=k.algorithm.decrypt.kde.kdeparams.salt,L=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=a[k.algorithm.decrypt.cipher.algo.join(".")],D=k.algorithm.decrypt.cipher.iv,$=k.subjectPrivateKey,z=parseInt(q.split("-")[1],10)/8,K=c.pbkdf2Sync(T,A,L,z,"sha1"),W=u.createDecipheriv(q,K,D),P=[];return P.push(W.update($)),P.push(W.final()),d.concat(P)})(x=i.EncryptedPrivateKey.decode(x,"der"),h);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=i.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+v)}}s.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,s,n){n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,s,n){(function(i){(function(){var a,l,u=t("safe-buffer").Buffer,c=t("./precondition"),d=t("./default-encoding"),p=t("./sync"),f=t("./to-buffer"),h=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return l||(l=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(x,k,T,A,L){return h.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then((function(q){return h.deriveBits({name:"PBKDF2",salt:k,iterations:T,hash:{name:L}},q,A<<3)})).then((function(q){return u.from(q)}))}s.exports=function(x,k,T,A,L,q){typeof L=="function"&&(q=L,L=void 0);var D=g[(L=L||"sha1").toLowerCase()];if(D&&typeof i.Promise=="function"){if(c(T,A),x=f(x,d,"Password"),k=f(k,d,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function($,z){$.then((function(K){m()((function(){z(null,K)}))}),(function(K){m()((function(){z(K)}))}))})((function($){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[$]!==void 0)return y[$];var z=v(a=a||u.alloc(8),a,10,128,$).then((function(){return!0})).catch((function(){return!1}));return y[$]=z,z})(D).then((function($){return $?v(x,k,T,A,D):p(x,k,T,A,L)})),q)}else m()((function(){var $;try{$=p(x,k,T,A,L)}catch(z){return q(z)}q(null,$)}))}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,s,n){(function(i,a){(function(){var l;a.process&&a.process.browser?l="utf-8":a.process&&a.process.version?l=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",s.exports=l}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,s,n){var i=Math.pow(2,30)-1;s.exports=function(a,l){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>i||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(t,s,n){var i=t("create-hash/md5"),a=t("ripemd160"),l=t("sha.js"),u=t("safe-buffer").Buffer,c=t("./precondition"),d=t("./default-encoding"),p=t("./to-buffer"),f=u.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var x=(function(D){function $(z){return l(D).update(z).digest()}return D==="rmd160"||D==="ripemd160"?function(z){return new a().update(z).digest()}:D==="md5"?i:$})(y),k=y==="sha512"||y==="sha384"?128:64;m.length>k?m=x(m):m.length<k&&(m=u.concat([m,f],k));for(var T=u.allocUnsafe(k+h[y]),A=u.allocUnsafe(k+h[y]),L=0;L<k;L++)T[L]=54^m[L],A[L]=92^m[L];var q=u.allocUnsafe(k+v+4);T.copy(q,0,0,k),this.ipad1=q,this.ipad2=T,this.opad=A,this.alg=y,this.blocksize=k,this.hash=x,this.size=h[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(y,m,v,x,k){c(v,x);var T=new g(k=k||"sha1",y=p(y,d,"Password"),(m=p(m,d,"Salt")).length),A=u.allocUnsafe(x),L=u.allocUnsafe(m.length+4);m.copy(L,0,0,m.length);for(var q=0,D=h[k],$=Math.ceil(x/D),z=1;z<=$;z++){L.writeUInt32BE(z,m.length);for(var K=T.run(L,T.ipad1),W=K,P=1;P<v;P++){W=T.run(W,T.ipad2);for(var R=0;R<D;R++)K[R]^=W[R]}K.copy(A,q),q+=D}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,s,n){var i=t("safe-buffer").Buffer;s.exports=function(a,l,u){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,l);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,s,n){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(a,l,u,c){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var d,p,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,l)}));case 3:return i.nextTick((function(){a.call(null,l,u)}));case 4:return i.nextTick((function(){a.call(null,l,u,c)}));default:for(d=new Array(f-1),p=0;p<d.length;)d[p++]=arguments[p];return i.nextTick((function(){a.apply(null,d)}))}}}:s.exports=i}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,s,n){var i,a,l=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function d(k){if(i===setTimeout)return setTimeout(k,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(k,0);try{return i(k,0)}catch{try{return i.call(null,k,0)}catch{return i.call(this,k,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{a=typeof clearTimeout=="function"?clearTimeout:c}catch{a=c}})();var p,f=[],h=!1,g=-1;function y(){h&&p&&(h=!1,p.length?f=p.concat(f):g=-1,f.length&&m())}function m(){if(!h){var k=d(y);h=!0;for(var T=f.length;T;){for(p=f,f=[];++g<T;)p&&p[g].run();g=-1,T=f.length}p=null,h=!1,(function(A){if(a===clearTimeout)return clearTimeout(A);if((a===c||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(A);try{a(A)}catch{try{return a.call(null,A)}catch{return a.call(this,A)}}})(k)}}function v(k,T){this.fun=k,this.array=T}function x(){}l.nextTick=function(k){var T=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)T[A-1]=arguments[A];f.push(new v(k,T)),f.length!==1||h||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=x,l.addListener=x,l.once=x,l.off=x,l.removeListener=x,l.removeAllListeners=x,l.emit=x,l.prependListener=x,l.prependOnceListener=x,l.listeners=function(k){return[]},l.binding=function(k){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(k){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(t,s,n){n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(i,a){return n.publicEncrypt(i,a,!0)},n.publicDecrypt=function(i,a){return n.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,s,n){var i=t("create-hash"),a=t("safe-buffer").Buffer;function l(u){var c=a.allocUnsafe(4);return c.writeUInt32BE(u,0),c}s.exports=function(u,c){for(var d,p=a.alloc(0),f=0;p.length<c;)d=l(f++),p=a.concat([p,i("sha1").update(u).update(d).digest()]);return p.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,s,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(t,s,n){var i=t("parse-asn1"),a=t("./mgf"),l=t("./xor"),u=t("bn.js"),c=t("browserify-rsa"),d=t("create-hash"),p=t("./withPublic"),f=t("safe-buffer").Buffer;s.exports=function(h,g,y){var m;m=h.padding?h.padding:y?1:4;var v,x=i(h),k=x.modulus.byteLength();if(g.length>k||new u(g).cmp(x.modulus)>=0)throw new Error("decryption error");v=y?p(new u(g),x):c(g,x);var T=f.alloc(k-v.length);if(v=f.concat([T,v],k),m===4)return(function(A,L){var q=A.modulus.byteLength(),D=d("sha1").update(f.alloc(0)).digest(),$=D.length;if(L[0]!==0)throw new Error("decryption error");var z=L.slice(1,$+1),K=L.slice($+1),W=l(z,a(K,$)),P=l(K,a(W,q-$-1));if((function(C,_){C=f.from(C),_=f.from(_);var S=0,j=C.length;C.length!==_.length&&(S++,j=Math.min(C.length,_.length));for(var N=-1;++N<j;)S+=C[N]^_[N];return S})(D,P.slice(0,$)))throw new Error("decryption error");for(var R=$;P[R]===0;)R++;if(P[R++]!==1)throw new Error("decryption error");return P.slice(R)})(x,v);if(m===1)return(function(A,L,q){for(var D=L.slice(0,2),$=2,z=0;L[$++]!==0;)if($>=L.length){z++;break}var K=L.slice(2,$-1);if((D.toString("hex")!=="0002"&&!q||D.toString("hex")!=="0001"&&q)&&z++,K.length<8&&z++,z)throw new Error("decryption error");return L.slice($)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,s,n){var i=t("parse-asn1"),a=t("randombytes"),l=t("create-hash"),u=t("./mgf"),c=t("./xor"),d=t("bn.js"),p=t("./withPublic"),f=t("browserify-rsa"),h=t("safe-buffer").Buffer;s.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var x,k=i(g);if(v===4)x=(function(T,A){var L=T.modulus.byteLength(),q=A.length,D=l("sha1").update(h.alloc(0)).digest(),$=D.length,z=2*$;if(q>L-z-2)throw new Error("message too long");var K=h.alloc(L-q-z-2),W=L-$-1,P=a($),R=c(h.concat([D,K,h.alloc(1,1),A],W),u(P,W)),C=c(P,u(R,$));return new d(h.concat([h.alloc(1),C,R],L))})(k,y);else if(v===1)x=(function(T,A,L){var q,D=A.length,$=T.modulus.byteLength();if(D>$-11)throw new Error("message too long");return q=L?h.alloc($-D-3,255):(function(z){for(var K,W=h.allocUnsafe(z),P=0,R=a(2*z),C=0;P<z;)C===R.length&&(R=a(2*z),C=0),(K=R[C++])&&(W[P++]=K);return W})($-D-3),new d(h.concat([h.from([0,L?1:2]),q,h.alloc(1),A],$))})(k,y,m);else{if(v!==3)throw new Error("unknown padding");if((x=new d(y)).cmp(k.modulus)>=0)throw new Error("data too long for modulus")}return m?f(x,k):p(x,k)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,s,n){var i=t("bn.js"),a=t("safe-buffer").Buffer;s.exports=function(l,u){return a.from(l.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,s,n){s.exports=function(i,a){for(var l=i.length,u=-1;++u<l;)i[u]^=a[u];return i}},{}],475:[function(t,s,n){(function(i,a){(function(){var l=t("safe-buffer").Buffer,u=a.crypto||a.msCrypto;u&&u.getRandomValues?s.exports=function(c,d){if(c>4294967295)throw new RangeError("requested too many random bytes");var p=l.allocUnsafe(c);if(c>0)if(c>65536)for(var f=0;f<c;f+=65536)u.getRandomValues(p.slice(f,f+65536));else u.getRandomValues(p);return typeof d=="function"?i.nextTick((function(){d(null,p)})):p}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,s,n){(function(i,a){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=t("safe-buffer"),c=t("randombytes"),d=u.Buffer,p=u.kMaxLength,f=a.crypto||a.msCrypto,h=Math.pow(2,32)-1;function g(v,x){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>x)throw new RangeError("offset out of range")}function y(v,x,k){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+x>k||v>p)throw new RangeError("buffer too small")}function m(v,x,k,T){if(i.browser){var A=v.buffer,L=new Uint8Array(A,x,k);return f.getRandomValues(L),T?void i.nextTick((function(){T(null,v)})):v}if(!T)return c(k).copy(v,x),v;c(k,(function(q,D){if(q)return T(q);D.copy(v,x),T(null,v)}))}f&&f.getRandomValues||!i.browser?(n.randomFill=function(v,x,k,T){if(!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")T=x,x=0,k=v.length;else if(typeof k=="function")T=k,k=v.length-x;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return g(x,v.length),y(k,x,v.length),m(v,x,k,T)},n.randomFillSync=function(v,x,k){if(x===void 0&&(x=0),!(d.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(x,v.length),k===void 0&&(k=v.length-x),y(k,x,v.length),m(v,x,k)}):(n.randomFill=l,n.randomFillSync=l)}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,s,n){var i={};function a(u,c,d){d||(d=Error);var p=(function(f){var h,g;function y(m,v,x){return f.call(this,(function(k,T,A){return typeof c=="string"?c:c(k,T,A)})(m,v,x))||this}return g=f,(h=y).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,y})(d);p.prototype.name=d.name,p.prototype.code=u,i[u]=p}function l(u,c){if(Array.isArray(u)){var d=u.length;return u=u.map((function(p){return String(p)})),d>2?"one of ".concat(c," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}return"of ".concat(c," ").concat(String(u))}a("ERR_INVALID_OPT_VALUE",(function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(u,c,d){var p,f,h;if(typeof c=="string"&&(f="not ",c.substr(0,f.length)===f)?(p="must not be",c=c.replace(/^not /,"")):p="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))h="The ".concat(u," ").concat(p," ").concat(l(c,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";h='The "'.concat(u,'" ').concat(g," ").concat(p," ").concat(l(c,"type"))}return h+=". Received type ".concat(typeof d)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=i},{}],478:[function(t,s,n){(function(i){(function(){var a=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};s.exports=f;var l=t("./_stream_readable"),u=t("./_stream_writable");t("inherits")(f,l);for(var c=a(u.prototype),d=0;d<c.length;d++){var p=c[d];f.prototype[p]||(f.prototype[p]=u.prototype[p])}function f(y){if(!(this instanceof f))return new f(y);l.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,s,n){s.exports=a;var i=t("./_stream_transform");function a(l){if(!(this instanceof a))return new a(l);i.call(this,l)}t("inherits")(a,i),a.prototype._transform=function(l,u,c){c(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(t,s,n){(function(i,a){(function(){var l;s.exports=W,W.ReadableState=K,t("events").EventEmitter;var u=function(V,U){return V.listeners(U).length},c=t("./internal/streams/stream"),d=t("buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=t("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,y,m,v=t("./internal/streams/buffer_list"),x=t("./internal/streams/destroy"),k=t("./internal/streams/state").getHighWaterMark,T=t("../errors").codes,A=T.ERR_INVALID_ARG_TYPE,L=T.ERR_STREAM_PUSH_AFTER_EOF,q=T.ERR_METHOD_NOT_IMPLEMENTED,D=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(W,c);var $=x.errorOrDestroy,z=["error","close","destroy","pause","resume"];function K(V,U,Z){l=l||t("./_stream_duplex"),V=V||{},typeof Z!="boolean"&&(Z=U instanceof l),this.objectMode=!!V.objectMode,Z&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=k(this,V,"readableHighWaterMark",Z),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(V.encoding),this.encoding=V.encoding)}function W(V){if(l=l||t("./_stream_duplex"),!(this instanceof W))return new W(V);var U=this instanceof l;this._readableState=new K(V,this,U),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),c.call(this)}function P(V,U,Z,ie,me){f("readableAddChunk",U);var ce,ye=V._readableState;if(U===null)ye.reading=!1,(function(ee,oe){if(f("onEofChunk"),!oe.ended){if(oe.decoder){var ne=oe.decoder.end();ne&&ne.length&&(oe.buffer.push(ne),oe.length+=oe.objectMode?1:ne.length)}oe.ended=!0,oe.sync?_(ee):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,S(ee)))}})(V,ye);else if(me||(ce=(function(ee,oe){var ne;fe=oe,d.isBuffer(fe)||fe instanceof p||typeof oe=="string"||oe===void 0||ee.objectMode||(ne=new A("chunk",["string","Buffer","Uint8Array"],oe));var fe;return ne})(ye,U)),ce)$(V,ce);else if(ye.objectMode||U&&U.length>0)if(typeof U=="string"||ye.objectMode||Object.getPrototypeOf(U)===d.prototype||(U=(function(ee){return d.from(ee)})(U)),ie)ye.endEmitted?$(V,new D):R(V,ye,U,!0);else if(ye.ended)$(V,new L);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!Z?(U=ye.decoder.write(U),ye.objectMode||U.length!==0?R(V,ye,U,!1):j(V,ye)):R(V,ye,U,!1)}else ie||(ye.reading=!1,j(V,ye));return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function R(V,U,Z,ie){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,V.emit("data",Z)):(U.length+=U.objectMode?1:Z.length,ie?U.buffer.unshift(Z):U.buffer.push(Z),U.needReadable&&_(V)),j(V,U)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),W.prototype.destroy=x.destroy,W.prototype._undestroy=x.undestroy,W.prototype._destroy=function(V,U){U(V)},W.prototype.push=function(V,U){var Z,ie=this._readableState;return ie.objectMode?Z=!0:typeof V=="string"&&((U=U||ie.defaultEncoding)!==ie.encoding&&(V=d.from(V,U),U=""),Z=!0),P(this,V,U,!1,Z)},W.prototype.unshift=function(V){return P(this,V,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(V){g||(g=t("string_decoder/").StringDecoder);var U=new g(V);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,ie="";Z!==null;)ie+=U.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};function C(V,U){return V<=0||U.length===0&&U.ended?0:U.objectMode?1:V!=V?U.flowing&&U.length?U.buffer.head.data.length:U.length:(V>U.highWaterMark&&(U.highWaterMark=(function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z})(V)),V<=U.length?V:U.ended?U.length:(U.needReadable=!0,0))}function _(V){var U=V._readableState;f("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(f("emitReadable",U.flowing),U.emittedReadable=!0,i.nextTick(S,V))}function S(V){var U=V._readableState;f("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(V.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,G(V)}function j(V,U){U.readingMore||(U.readingMore=!0,i.nextTick(N,V,U))}function N(V,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var Z=U.length;if(f("maybeReadMore read 0"),V.read(0),Z===U.length)break}U.readingMore=!1}function M(V){var U=V._readableState;U.readableListening=V.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:V.listenerCount("data")>0&&V.resume()}function O(V){f("readable nexttick read 0"),V.read(0)}function B(V,U){f("resume",U.reading),U.reading||V.read(0),U.resumeScheduled=!1,V.emit("resume"),G(V),U.flowing&&!U.reading&&V.read(0)}function G(V){var U=V._readableState;for(f("flow",U.flowing);U.flowing&&V.read()!==null;);}function Q(V,U){return U.length===0?null:(U.objectMode?Z=U.buffer.shift():!V||V>=U.length?(Z=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):Z=U.buffer.consume(V,U.decoder),Z);var Z}function re(V){var U=V._readableState;f("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,i.nextTick(F,U,V))}function F(V,U){if(f("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,U.readable=!1,U.emit("end"),V.autoDestroy)){var Z=U._writableState;(!Z||Z.autoDestroy&&Z.finished)&&U.destroy()}}function Y(V,U){for(var Z=0,ie=V.length;Z<ie;Z++)if(V[Z]===U)return Z;return-1}W.prototype.read=function(V){f("read",V),V=parseInt(V,10);var U=this._readableState,Z=V;if(V!==0&&(U.emittedReadable=!1),V===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return f("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?re(this):_(this),null;if((V=C(V,U))===0&&U.ended)return U.length===0&&re(this),null;var ie,me=U.needReadable;return f("need readable",me),(U.length===0||U.length-V<U.highWaterMark)&&f("length less than watermark",me=!0),U.ended||U.reading?f("reading or ended",me=!1):me&&(f("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(V=C(Z,U))),(ie=V>0?Q(V,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,V=0):(U.length-=V,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),Z!==V&&U.ended&&re(this)),ie!==null&&this.emit("data",ie),ie},W.prototype._read=function(V){$(this,new q("_read()"))},W.prototype.pipe=function(V,U){var Z=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=V;break;case 1:ie.pipes=[ie.pipes,V];break;default:ie.pipes.push(V)}ie.pipesCount+=1,f("pipe count=%d opts=%j",ie.pipesCount,U);var me=(!U||U.end!==!1)&&V!==i.stdout&&V!==i.stderr?ye:te;function ce(se,de){f("onunpipe"),se===Z&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,f("cleanup"),V.removeListener("close",le),V.removeListener("finish",ae),V.removeListener("drain",ee),V.removeListener("error",fe),V.removeListener("unpipe",ce),Z.removeListener("end",ye),Z.removeListener("end",te),Z.removeListener("data",ne),oe=!0,!ie.awaitDrain||V._writableState&&!V._writableState.needDrain||ee())}function ye(){f("onend"),V.end()}ie.endEmitted?i.nextTick(me):Z.once("end",me),V.on("unpipe",ce);var ee=(function(se){return function(){var de=se._readableState;f("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&u(se,"data")&&(de.flowing=!0,G(se))}})(Z);V.on("drain",ee);var oe=!1;function ne(se){f("ondata");var de=V.write(se);f("dest.write",de),de===!1&&((ie.pipesCount===1&&ie.pipes===V||ie.pipesCount>1&&Y(ie.pipes,V)!==-1)&&!oe&&(f("false write response, pause",ie.awaitDrain),ie.awaitDrain++),Z.pause())}function fe(se){f("onerror",se),te(),V.removeListener("error",fe),u(V,"error")===0&&$(V,se)}function le(){V.removeListener("finish",ae),te()}function ae(){f("onfinish"),V.removeListener("close",le),te()}function te(){f("unpipe"),Z.unpipe(V)}return Z.on("data",ne),(function(se,de,ge){if(typeof se.prependListener=="function")return se.prependListener(de,ge);se._events&&se._events[de]?Array.isArray(se._events[de])?se._events[de].unshift(ge):se._events[de]=[ge,se._events[de]]:se.on(de,ge)})(V,"error",fe),V.once("close",le),V.once("finish",ae),V.emit("pipe",Z),ie.flowing||(f("pipe resume"),Z.resume()),V},W.prototype.unpipe=function(V){var U=this._readableState,Z={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return V&&V!==U.pipes||(V||(V=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,V&&V.emit("unpipe",this,Z)),this;if(!V){var ie=U.pipes,me=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var ce=0;ce<me;ce++)ie[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var ye=Y(U.pipes,V);return ye===-1||(U.pipes.splice(ye,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),V.emit("unpipe",this,Z)),this},W.prototype.on=function(V,U){var Z=c.prototype.on.call(this,V,U),ie=this._readableState;return V==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):V==="readable"&&(ie.endEmitted||ie.readableListening||(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,f("on readable",ie.length,ie.reading),ie.length?_(this):ie.reading||i.nextTick(O,this))),Z},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(V,U){var Z=c.prototype.removeListener.call(this,V,U);return V==="readable"&&i.nextTick(M,this),Z},W.prototype.removeAllListeners=function(V){var U=c.prototype.removeAllListeners.apply(this,arguments);return V!=="readable"&&V!==void 0||i.nextTick(M,this),U},W.prototype.resume=function(){var V=this._readableState;return V.flowing||(f("resume"),V.flowing=!V.readableListening,(function(U,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,i.nextTick(B,U,Z))})(this,V)),V.paused=!1,this},W.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(V){var U=this,Z=this._readableState,ie=!1;for(var me in V.on("end",(function(){if(f("wrapped end"),Z.decoder&&!Z.ended){var ye=Z.decoder.end();ye&&ye.length&&U.push(ye)}U.push(null)})),V.on("data",(function(ye){f("wrapped data"),Z.decoder&&(ye=Z.decoder.write(ye)),Z.objectMode&&ye==null||(Z.objectMode||ye&&ye.length)&&(U.push(ye)||(ie=!0,V.pause()))})),V)this[me]===void 0&&typeof V[me]=="function"&&(this[me]=(function(ye){return function(){return V[ye].apply(V,arguments)}})(me));for(var ce=0;ce<z.length;ce++)V.on(z[ce],this.emit.bind(this,z[ce]));return this._read=function(ye){f("wrapped _read",ye),ie&&(ie=!1,V.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=t("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),W._fromList=Q,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(V,U){return m===void 0&&(m=t("./internal/streams/from")),m(W,V,U)})}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,s,n){s.exports=f;var i=t("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,d=t("./_stream_duplex");function p(y,m){var v=this._transformState;v.transforming=!1;var x=v.writecb;if(x===null)return this.emit("error",new l);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),x(y);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new c;if(y._transformState.transforming)throw new u;return y.push(null)}t("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new a("_transform()"))},f.prototype._write=function(y,m,v){var x=this._transformState;if(x.writecb=v,x.writechunk=y,x.writeencoding=m,!x.transforming){var k=this._readableState;(x.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,s,n){(function(i,a){(function(){function l(N){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(O,B,G){var Q=O.entry;for(O.entry=null;Q;){var re=Q.callback;B.pendingcb--,re(G),Q=Q.next}B.corkedRequestsFree.next=O})(M,N)}}var u;s.exports=W,W.WritableState=K;var c={deprecate:t("util-deprecate")},d=t("./internal/streams/stream"),p=t("buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,x=m.ERR_METHOD_NOT_IMPLEMENTED,k=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,A=m.ERR_STREAM_DESTROYED,L=m.ERR_STREAM_NULL_VALUES,q=m.ERR_STREAM_WRITE_AFTER_END,D=m.ERR_UNKNOWN_ENCODING,$=g.errorOrDestroy;function z(){}function K(N,M,O){u=u||t("./_stream_duplex"),N=N||{},typeof O!="boolean"&&(O=M instanceof u),this.objectMode=!!N.objectMode,O&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=y(this,N,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=N.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(Q,re){var F=Q._writableState,Y=F.sync,V=F.writecb;if(typeof V!="function")throw new k;if((function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0})(F),re)(function(Z,ie,me,ce,ye){--ie.pendingcb,me?(i.nextTick(ye,ce),i.nextTick(j,Z,ie),Z._writableState.errorEmitted=!0,$(Z,ce)):(ye(ce),Z._writableState.errorEmitted=!0,$(Z,ce),j(Z,ie))})(Q,F,Y,re,V);else{var U=_(F)||Q.destroyed;U||F.corked||F.bufferProcessing||!F.bufferedRequest||C(Q,F),Y?i.nextTick(R,Q,F,U,V):R(Q,F,U,V)}})(M,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function W(N){var M=this instanceof(u=u||t("./_stream_duplex"));if(!M&&!h.call(W,this))return new W(N);this._writableState=new K(N,this,M),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),d.call(this)}function P(N,M,O,B,G,Q,re){M.writelen=B,M.writecb=re,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new A("write")):O?N._writev(G,M.onwrite):N._write(G,Q,M.onwrite),M.sync=!1}function R(N,M,O,B){O||(function(G,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,G.emit("drain"))})(N,M),M.pendingcb--,B(),j(N,M)}function C(N,M){M.bufferProcessing=!0;var O=M.bufferedRequest;if(N._writev&&O&&O.next){var B=M.bufferedRequestCount,G=new Array(B),Q=M.corkedRequestsFree;Q.entry=O;for(var re=0,F=!0;O;)G[re]=O,O.isBuf||(F=!1),O=O.next,re+=1;G.allBuffers=F,P(N,M,!0,M.length,G,"",Q.finish),M.pendingcb++,M.lastBufferedRequest=null,Q.next?(M.corkedRequestsFree=Q.next,Q.next=null):M.corkedRequestsFree=new l(M),M.bufferedRequestCount=0}else{for(;O;){var Y=O.chunk,V=O.encoding,U=O.callback;if(P(N,M,!1,M.objectMode?1:Y.length,Y,V,U),O=O.next,M.bufferedRequestCount--,M.writing)break}O===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=O,M.bufferProcessing=!1}function _(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function S(N,M){N._final((function(O){M.pendingcb--,O&&$(N,O),M.prefinished=!0,N.emit("prefinish"),j(N,M)}))}function j(N,M){var O=_(M);if(O&&((function(G,Q){Q.prefinished||Q.finalCalled||(typeof G._final!="function"||Q.destroyed?(Q.prefinished=!0,G.emit("prefinish")):(Q.pendingcb++,Q.finalCalled=!0,i.nextTick(S,G,Q)))})(N,M),M.pendingcb===0&&(M.finished=!0,N.emit("finish"),M.autoDestroy))){var B=N._readableState;(!B||B.autoDestroy&&B.endEmitted)&&N.destroy()}return O}t("inherits")(W,d),K.prototype.getBuffer=function(){for(var N=this.bufferedRequest,M=[];N;)M.push(N),N=N.next;return M},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(N){return!!h.call(this,N)||this===W&&N&&N._writableState instanceof K}})):h=function(N){return N instanceof this},W.prototype.pipe=function(){$(this,new T)},W.prototype.write=function(N,M,O){var B,G=this._writableState,Q=!1,re=!G.objectMode&&(B=N,p.isBuffer(B)||B instanceof f);return re&&!p.isBuffer(N)&&(N=(function(F){return p.from(F)})(N)),typeof M=="function"&&(O=M,M=null),re?M="buffer":M||(M=G.defaultEncoding),typeof O!="function"&&(O=z),G.ending?(function(F,Y){var V=new q;$(F,V),i.nextTick(Y,V)})(this,O):(re||(function(F,Y,V,U){var Z;return V===null?Z=new L:typeof V=="string"||Y.objectMode||(Z=new v("chunk",["string","Buffer"],V)),!Z||($(F,Z),i.nextTick(U,Z),!1)})(this,G,N,O))&&(G.pendingcb++,Q=(function(F,Y,V,U,Z,ie){if(!V){var me=(function(oe,ne,fe){return oe.objectMode||oe.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,fe)),ne})(Y,U,Z);U!==me&&(V=!0,Z="buffer",U=me)}var ce=Y.objectMode?1:U.length;Y.length+=ce;var ye=Y.length<Y.highWaterMark;if(ye||(Y.needDrain=!0),Y.writing||Y.corked){var ee=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:U,encoding:Z,isBuf:V,callback:ie,next:null},ee?ee.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else P(F,Y,!1,ce,U,Z,ie);return ye})(this,G,re,N,M,O)),Q},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||C(this,N))},W.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new D(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(N,M,O){O(new x("_write()"))},W.prototype._writev=null,W.prototype.end=function(N,M,O){var B=this._writableState;return typeof N=="function"?(O=N,N=null,M=null):typeof M=="function"&&(O=M,M=null),N!=null&&this.write(N,M),B.corked&&(B.corked=1,this.uncork()),B.ending||(function(G,Q,re){Q.ending=!0,j(G,Q),re&&(Q.finished?i.nextTick(re):G.once("finish",re)),Q.ended=!0,G.writable=!1})(this,B,O),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(N,M){M(N)}}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,s,n){(function(i){(function(){var a;function l(A,L,q){return(L=(function(D){var $=(function(z,K){if(typeof z!="object"||z===null)return z;var W=z[Symbol.toPrimitive];if(W!==void 0){var P=W.call(z,K);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(z)})(D,"string");return typeof $=="symbol"?$:String($)})(L))in A?Object.defineProperty(A,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):A[L]=q,A}var u=t("./end-of-stream"),c=Symbol("lastResolve"),d=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(A,L){return{value:A,done:L}}function v(A){var L=A[c];if(L!==null){var q=A[y].read();q!==null&&(A[h]=null,A[c]=null,A[d]=null,L(m(q,!1)))}}function x(A){i.nextTick(v,A)}var k=Object.getPrototypeOf((function(){})),T=Object.setPrototypeOf((l(a={get stream(){return this[y]},next:function(){var A=this,L=this[p];if(L!==null)return Promise.reject(L);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function(z,K){i.nextTick((function(){A[p]?K(A[p]):z(m(void 0,!0))}))}));var q,D=this[h];if(D)q=new Promise((function(z,K){return function(W,P){z.then((function(){K[f]?W(m(void 0,!0)):K[g](W,P)}),P)}})(D,this));else{var $=this[y].read();if($!==null)return Promise.resolve(m($,!1));q=new Promise(this[g])}return this[h]=q,q}},Symbol.asyncIterator,(function(){return this})),l(a,"return",(function(){var A=this;return new Promise((function(L,q){A[y].destroy(null,(function(D){D?q(D):L(m(void 0,!0))}))}))})),a),k);s.exports=function(A){var L,q=Object.create(T,(l(L={},y,{value:A,writable:!0}),l(L,c,{value:null,writable:!0}),l(L,d,{value:null,writable:!0}),l(L,p,{value:null,writable:!0}),l(L,f,{value:A._readableState.endEmitted,writable:!0}),l(L,g,{value:function(D,$){var z=q[y].read();z?(q[h]=null,q[c]=null,q[d]=null,D(m(z,!1))):(q[c]=D,q[d]=$)},writable:!0}),L));return q[h]=null,u(A,(function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=q[d];return $!==null&&(q[h]=null,q[c]=null,q[d]=null,$(D)),void(q[p]=D)}var z=q[c];z!==null&&(q[h]=null,q[c]=null,q[d]=null,z(m(void 0,!0))),q[f]=!0})),A.on("readable",x.bind(null,q)),q}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,s,n){function i(h,g){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable}))),y.push.apply(y,m)}return y}function a(h){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach((function(m){l(h,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))}))}return h}function l(h,g,y){return(g=c(g))in h?Object.defineProperty(h,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[g]=y,h}function u(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,c(m.key),m)}}function c(h){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var x=v.call(y,m);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(h,"string");return typeof g=="symbol"?g:String(g)}var d=t("buffer").Buffer,p=t("util").inspect,f=p&&p.custom||"inspect";s.exports=(function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,y;return g=h,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=m+v.data;return x}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,x,k,T=d.allocUnsafe(m>>>0),A=this.head,L=0;A;)v=A.data,x=T,k=L,d.prototype.copy.call(v,x,k),L+=A.data.length,A=A.next;return T}},{key:"consume",value:function(m,v){var x;return m<this.head.data.length?(x=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):x=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,x=1,k=v.data;for(m-=k.length;v=v.next;){var T=v.data,A=m>T.length?T.length:m;if(A===T.length?k+=T:k+=T.slice(0,m),(m-=A)==0){A===T.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(A));break}++x}return this.length-=x,k}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),x=this.head,k=1;for(x.data.copy(v),m-=x.data.length;x=x.next;){var T=x.data,A=m>T.length?T.length:m;if(T.copy(v,v.length-m,0,A),(m-=A)==0){A===T.length?(++k,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=T.slice(A));break}++k}return this.length-=k,v}},{key:f,value:function(m,v){return p(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(t,s,n){(function(i){(function(){function a(c,d){u(c,d),l(c)}function l(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function u(c,d){c.emit("error",d)}s.exports={destroy:function(c,d){var p=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,c)):i.nextTick(u,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(g){!d&&g?p._writableState?p._writableState.errorEmitted?i.nextTick(l,p):(p._writableState.errorEmitted=!0,i.nextTick(a,p,g)):i.nextTick(a,p,g):d?(i.nextTick(l,p),d(g)):i.nextTick(l,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,d){var p=c._readableState,f=c._writableState;p&&p.autoDestroy||f&&f.autoDestroy?c.destroy(d):c.emit("error",d)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,s,n){var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}s.exports=function l(u,c,d){if(typeof c=="function")return l(u,null,c);c||(c={}),d=(function(A){var L=!1;return function(){if(!L){L=!0;for(var q=arguments.length,D=new Array(q),$=0;$<q;$++)D[$]=arguments[$];A.apply(this,D)}}})(d||a);var p=c.readable||c.readable!==!1&&u.readable,f=c.writable||c.writable!==!1&&u.writable,h=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,p||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){p=!1,m=!0,f||d.call(u)},x=function(A){d.call(u,A)},k=function(){var A;return p&&!m?(u._readableState&&u._readableState.ended||(A=new i),d.call(u,A)):f&&!g?(u._writableState&&u._writableState.ended||(A=new i),d.call(u,A)):void 0},T=function(){u.req.on("finish",y)};return(function(A){return A.setHeader&&typeof A.abort=="function"})(u)?(u.on("complete",y),u.on("abort",k),u.req?T():u.on("request",T)):f&&!u._writableState&&(u.on("end",h),u.on("close",h)),u.on("end",v),u.on("finish",y),c.error!==!1&&u.on("error",x),u.on("close",k),function(){u.removeListener("complete",y),u.removeListener("abort",k),u.removeListener("request",T),u.req&&u.req.removeListener("finish",y),u.removeListener("end",h),u.removeListener("close",h),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",x),u.removeListener("close",k)}}},{"../../../errors":477}],487:[function(t,s,n){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,s,n){var i,a=t("../../../errors").codes,l=a.ERR_MISSING_ARGS,u=a.ERR_STREAM_DESTROYED;function c(g){if(g)throw g}function d(g,y,m,v){v=(function(T){var A=!1;return function(){A||(A=!0,T.apply(void 0,arguments))}})(v);var x=!1;g.on("close",(function(){x=!0})),i===void 0&&(i=t("./end-of-stream")),i(g,{readable:y,writable:m},(function(T){if(T)return v(T);x=!0,v()}));var k=!1;return function(T){if(!x&&!k)return k=!0,(function(A){return A.setHeader&&typeof A.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(T||new u("pipe"))}}function p(g){g()}function f(g,y){return g.pipe(y)}function h(g){return g.length?typeof g[g.length-1]!="function"?c:g.pop():c}s.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,x=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new l("streams");var k=y.map((function(T,A){var L=A<y.length-1;return d(T,L,A>0,(function(q){v||(v=q),q&&k.forEach(p),L||(k.forEach(p),x(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,s,n){var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(a,l,u,c){var d=(function(p,f,h){return p.highWaterMark!=null?p.highWaterMark:f?p[h]:null})(l,c,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new i(c?u:"highWaterMark",d);return Math.floor(d)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,s,n){s.exports=t("events").EventEmitter},{events:422}],491:[function(t,s,n){(n=s.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,s,n){var i=(function(a){var l=Object.prototype,u=l.hasOwnProperty,c=Object.defineProperty||function(j,N,M){j[N]=M.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",h=d.toStringTag||"@@toStringTag";function g(j,N,M){return Object.defineProperty(j,N,{value:M,enumerable:!0,configurable:!0,writable:!0}),j[N]}try{g({},"")}catch{g=function(N,M,O){return N[M]=O}}function y(j,N,M,O){var B=N&&N.prototype instanceof x?N:x,G=Object.create(B.prototype),Q=new C(O||[]);return c(G,"_invoke",{value:K(j,M,Q)}),G}function m(j,N,M){try{return{type:"normal",arg:j.call(N,M)}}catch(O){return{type:"throw",arg:O}}}a.wrap=y;var v={};function x(){}function k(){}function T(){}var A={};g(A,p,(function(){return this}));var L=Object.getPrototypeOf,q=L&&L(L(_([])));q&&q!==l&&u.call(q,p)&&(A=q);var D=T.prototype=x.prototype=Object.create(A);function $(j){["next","throw","return"].forEach((function(N){g(j,N,(function(M){return this._invoke(N,M)}))}))}function z(j,N){var M;c(this,"_invoke",{value:function(O,B){function G(){return new N((function(Q,re){(function F(Y,V,U,Z){var ie=m(j[Y],j,V);if(ie.type!=="throw"){var me=ie.arg,ce=me.value;return ce&&typeof ce=="object"&&u.call(ce,"__await")?N.resolve(ce.__await).then((function(ye){F("next",ye,U,Z)}),(function(ye){F("throw",ye,U,Z)})):N.resolve(ce).then((function(ye){me.value=ye,U(me)}),(function(ye){return F("throw",ye,U,Z)}))}Z(ie.arg)})(O,B,Q,re)}))}return M=M?M.then(G,G):G()}})}function K(j,N,M){var O="suspendedStart";return function(B,G){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(B==="throw")throw G;return S()}for(M.method=B,M.arg=G;;){var Q=M.delegate;if(Q){var re=W(Q,M);if(re){if(re===v)continue;return re}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(O==="suspendedStart")throw O="completed",M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);O="executing";var F=m(j,N,M);if(F.type==="normal"){if(O=M.done?"completed":"suspendedYield",F.arg===v)continue;return{value:F.arg,done:M.done}}F.type==="throw"&&(O="completed",M.method="throw",M.arg=F.arg)}}}function W(j,N){var M=N.method,O=j.iterator[M];if(O===void 0)return N.delegate=null,M==="throw"&&j.iterator.return&&(N.method="return",N.arg=void 0,W(j,N),N.method==="throw")||M!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+M+"' method")),v;var B=m(O,j.iterator,N.arg);if(B.type==="throw")return N.method="throw",N.arg=B.arg,N.delegate=null,v;var G=B.arg;return G?G.done?(N[j.resultName]=G.value,N.next=j.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,v):G:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,v)}function P(j){var N={tryLoc:j[0]};1 in j&&(N.catchLoc=j[1]),2 in j&&(N.finallyLoc=j[2],N.afterLoc=j[3]),this.tryEntries.push(N)}function R(j){var N=j.completion||{};N.type="normal",delete N.arg,j.completion=N}function C(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(P,this),this.reset(!0)}function _(j){if(j){var N=j[p];if(N)return N.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var M=-1,O=function B(){for(;++M<j.length;)if(u.call(j,M))return B.value=j[M],B.done=!1,B;return B.value=void 0,B.done=!0,B};return O.next=O}}return{next:S}}function S(){return{value:void 0,done:!0}}return k.prototype=T,c(D,"constructor",{value:T,configurable:!0}),c(T,"constructor",{value:k,configurable:!0}),k.displayName=g(T,h,"GeneratorFunction"),a.isGeneratorFunction=function(j){var N=typeof j=="function"&&j.constructor;return!!N&&(N===k||(N.displayName||N.name)==="GeneratorFunction")},a.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,T):(j.__proto__=T,g(j,h,"GeneratorFunction")),j.prototype=Object.create(D),j},a.awrap=function(j){return{__await:j}},$(z.prototype),g(z.prototype,f,(function(){return this})),a.AsyncIterator=z,a.async=function(j,N,M,O,B){B===void 0&&(B=Promise);var G=new z(y(j,N,M,O),B);return a.isGeneratorFunction(N)?G:G.next().then((function(Q){return Q.done?Q.value:G.next()}))},$(D),g(D,h,"Generator"),g(D,p,(function(){return this})),g(D,"toString",(function(){return"[object Generator]"})),a.keys=function(j){var N=Object(j),M=[];for(var O in N)M.push(O);return M.reverse(),function B(){for(;M.length;){var G=M.pop();if(G in N)return B.value=G,B.done=!1,B}return B.done=!0,B}},a.values=_,C.prototype={constructor:C,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!j)for(var N in this)N.charAt(0)==="t"&&u.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var N=this;function M(F,Y){return G.type="throw",G.arg=j,N.next=F,Y&&(N.method="next",N.arg=void 0),!!Y}for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O],G=B.completion;if(B.tryLoc==="root")return M("end");if(B.tryLoc<=this.prev){var Q=u.call(B,"catchLoc"),re=u.call(B,"finallyLoc");if(Q&&re){if(this.prev<B.catchLoc)return M(B.catchLoc,!0);if(this.prev<B.finallyLoc)return M(B.finallyLoc)}else if(Q){if(this.prev<B.catchLoc)return M(B.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return M(B.finallyLoc)}}}},abrupt:function(j,N){for(var M=this.tryEntries.length-1;M>=0;--M){var O=this.tryEntries[M];if(O.tryLoc<=this.prev&&u.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var B=O;break}}B&&(j==="break"||j==="continue")&&B.tryLoc<=N&&N<=B.finallyLoc&&(B=null);var G=B?B.completion:{};return G.type=j,G.arg=N,B?(this.method="next",this.next=B.finallyLoc,v):this.complete(G)},complete:function(j,N){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&N&&(this.next=N),v},finish:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var M=this.tryEntries[N];if(M.finallyLoc===j)return this.complete(M.completion,M.afterLoc),R(M),v}},catch:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var M=this.tryEntries[N];if(M.tryLoc===j){var O=M.completion;if(O.type==="throw"){var B=O.arg;R(M)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(j,N,M){return this.delegate={iterator:_(j),resultName:N,nextLoc:M},this.method==="next"&&(this.arg=void 0),v}},a})(typeof s=="object"?s.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,s,n){var i=t("buffer").Buffer,a=t("inherits"),l=t("hash-base"),u=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(L,q){return L<<q|L>>>32-q}function v(L,q,D,$,z,K,W,P){return m(L+(q^D^$)+K+W|0,P)+z|0}function x(L,q,D,$,z,K,W,P){return m(L+(q&D|~q&$)+K+W|0,P)+z|0}function k(L,q,D,$,z,K,W,P){return m(L+((q|~D)^$)+K+W|0,P)+z|0}function T(L,q,D,$,z,K,W,P){return m(L+(q&$|D&~$)+K+W|0,P)+z|0}function A(L,q,D,$,z,K,W,P){return m(L+(q^(D|~$))+K+W|0,P)+z|0}a(y,l),y.prototype._update=function(){for(var L=u,q=0;q<16;++q)L[q]=this._block.readInt32LE(4*q);for(var D=0|this._a,$=0|this._b,z=0|this._c,K=0|this._d,W=0|this._e,P=0|this._a,R=0|this._b,C=0|this._c,_=0|this._d,S=0|this._e,j=0;j<80;j+=1){var N,M;j<16?(N=v(D,$,z,K,W,L[c[j]],h[0],p[j]),M=A(P,R,C,_,S,L[d[j]],g[0],f[j])):j<32?(N=x(D,$,z,K,W,L[c[j]],h[1],p[j]),M=T(P,R,C,_,S,L[d[j]],g[1],f[j])):j<48?(N=k(D,$,z,K,W,L[c[j]],h[2],p[j]),M=k(P,R,C,_,S,L[d[j]],g[2],f[j])):j<64?(N=T(D,$,z,K,W,L[c[j]],h[3],p[j]),M=x(P,R,C,_,S,L[d[j]],g[3],f[j])):(N=A(D,$,z,K,W,L[c[j]],h[4],p[j]),M=v(P,R,C,_,S,L[d[j]],g[4],f[j])),D=W,W=K,K=m(z,10),z=$,$=N,P=S,S=_,_=m(C,10),C=R,R=M}var O=this._b+z+_|0;this._b=this._c+K+S|0,this._c=this._d+W+P|0,this._d=this._e+D+R|0,this._e=this._a+$+C|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var L=i.alloc?i.alloc(20):new i(20);return L.writeInt32LE(this._a,0),L.writeInt32LE(this._b,4),L.writeInt32LE(this._c,8),L.writeInt32LE(this._d,12),L.writeInt32LE(this._e,16),L},s.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,s,n){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=t("buffer"),a=i.Buffer;function l(c,d){for(var p in c)d[p]=c[p]}function u(c,d,p){return a(c,d,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?s.exports=i:(l(i,n),n.Buffer=u),u.prototype=Object.create(a.prototype),l(a,u),u.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},u.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=a(c);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],495:[function(t,s,n){(function(i){(function(){var a,l=t("buffer"),u=l.Buffer,c={};for(a in l)l.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(c[a]=l[a]);var d=c.Buffer={};for(a in u)u.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(d[a]=u[a]);if(c.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(p,f,h){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return u(p,f,h)}),d.alloc||(d.alloc=function(p,f,h){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var g=u(p);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!c.kStringMaxLength)try{c.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),s.exports=c}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0});const i=t("xmlchars/xml/1.0/ed5"),a=t("xmlchars/xml/1.1/ed2"),l=t("xmlchars/xmlns/1.0/ed3");var u=i.isS,c=i.isChar,d=i.isNameStartChar,p=i.isNameChar,f=i.S_LIST,h=i.NAME_RE,g=a.isChar,y=l.isNCNameStartChar,m=l.isNCNameChar,v=l.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:x,xmlns:k},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},L=_=>_===34||_===39,q=[34,39],D=[...q,91,62],$=[...q,60,93],z=[61,63,...f],K=[...f,62,38,60];function W(_,S,j){switch(S){case"xml":j!==x&&_.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":j!==k&&_.fail(`xmlns prefix must be bound to ${k}.`)}switch(j){case k:_.fail(S===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${k}.`);break;case x:switch(S){case"xml":break;case"":_.fail(`the default namespace may not be set to ${j}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const P=_=>v.test(_),R=_=>h.test(_);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=y,this.nameCheck=m,this.isName=P,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const j=this.opt.additionalNamespaces;j!=null&&((function(N,M){for(const O of Object.keys(M))W(N,O,M[O])})(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=d,this.nameCheck=p,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,S){this[C[_]]=S}off(_){this[C[_]]=void 0}makeError(_){var S;let j=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+_)}fail(_){const S=this.makeError(_),j=this.errorHandler;if(j===void 0)throw S;return j(S),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;_===null?(S=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let j=_.length;const N=_.charCodeAt(j-1);!S&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=_[j-1],j--,_=_.slice(0,j));const{stateTable:M}=this;for(this.chunk=_,this.i=0;this.i<j;)M[this.state].call(this);return this.chunkPosition+=j,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const j=_.charCodeAt(S);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const j=_.charCodeAt(S);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const M=_.charCodeAt(S+1);M!==10&&M!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:S}=this;const{chunk:j}=this;for(;;){const N=this.getCode(),M=N===-2,O=M?10:N;if(O===-1||_.includes(O))return this.text+=j.slice(S,this.prevI),O;M&&(this.text+=j.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(_){let{i:S}=this;const{chunk:j}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=j.slice(S,this.prevI)+`
`,S=this.i,N=10;break;case-1:return this.text+=j.slice(S),!1}if(N===_)return this.text+=j.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:_,i:S}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=_.slice(S),-1;if(!p(j))return this.name+=_.slice(S,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!u(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,S=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const S=this.captureTo(D);switch(S){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:L(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo($);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:L(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=_;this.text+=_,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:j}=this,N=this.entity+S.slice(_,this.prevI);let M;this.state=j,N===""?(this.fail("empty entity name."),M="&;"):(M=this.parseEntity(N),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=M);break e}case-1:this.entity+=S.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const S=this.getCodeNorm();S===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const S=this.getCodeNorm();switch(S){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||u(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:S}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=_.slice(S));if(!this.nameCheck(j)){this.piTarget+=_.slice(S,this.prevI);const N=j===63;N||u(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:u(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const S=this.getCodeNorm();if(S===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(z);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(L(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=S;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(u(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const S=this.captureNameChars();if(S===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:u(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:u(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();L(_)?(this.q=_,this.state=40):u(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:S}=this;let{i:j}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+S.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=S.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(j))}}sAttribValueClosed(){const _=this.getCodeNorm();u(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(K);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():u(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:S}=this;const{chunk:j,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:M}=this,O=j.slice(_,this.prevI);M.length!==0?(N(M+O),this.text=""):O.length!==0&&N(O)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=j.slice(_,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:N!==void 0&&(this.text+=j.slice(_,this.prevI)+`
`),_=this.i,S=0;break;case-1:N!==void 0&&(this.text+=j.slice(_));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:_}=this;const{chunk:S,textHandler:j}=this;let N=!1;e:for(;;){const M=this.getCode();switch(M){case 60:if(this.state=15,j!==void 0){const{text:O}=this,B=S.slice(_,this.prevI);O.length!==0?(j(O+B),this.text=""):B.length!==0&&j(B)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=S.slice(_,this.prevI)),N=!0;break e;case-2:j!==void 0&&(this.text+=S.slice(_,this.prevI)+`
`),_=this.i;break;case-1:j!==void 0&&(this.text+=S.slice(_));break e;default:u(M)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,S){var j;const{prefix:N,local:M}=this.qname(_),O={name:_,prefix:N,local:M,value:S};if(this.attribList.push(O),(j=this.attributeHandler)===null||j===void 0||j.call(this,O),N==="xmlns"){const B=S.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[M]=B,W(this,M,B)}else if(_==="xmlns"){const B=S.trim();this.topNS[""]=B,W(this,"",B)}}pushAttribPlain(_,S){var j;const N={name:_,value:S};this.attribList.push(N),(j=this.attributeHandler)===null||j===void 0||j.call(this,N)}end(){var _,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const M=j.pop();this.fail("unclosed tag: "+M.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,N),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(_){var S,j;let N=this.topNS[_];if(N!==void 0)return N;const{tags:M}=this;for(let O=M.length-1;O>=0;O--)if(N=M[O].ns[_],N!==void 0)return N;return N=this.ns[_],N!==void 0?N:(j=(S=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(S,_)}qname(_){const S=_.indexOf(":");if(S===-1)return{prefix:"",local:_};const j=_.slice(S+1),N=_.slice(0,S);return(N===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:N,local:j}}processAttribsNS(){var _;const{attribList:S}=this,j=this.tag;{const{prefix:O,local:B}=this.qname(j.name);j.prefix=O,j.local=B;const G=j.uri=(_=this.resolve(O))!==null&&_!==void 0?_:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),j.uri=O))}if(S.length===0)return;const{attributes:N}=j,M=new Set;for(const O of S){const{name:B,prefix:G,local:Q}=O;let re,F;G===""?(re=B==="xmlns"?k:"",F=B):(re=this.resolve(G),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),re=G),F=`{${re}}${Q}`),M.has(F)&&this.fail(`duplicate attribute: ${F}.`),M.add(F),O.uri=re,N[B]=O}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,S=this.tag.attributes;for(const{name:j,value:N}of _)S[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),S[j]=N;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:S}=this,j=this.tag;j.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,j),S.push(j),this.state=13,this.name=""}openSelfClosingTag(){var _,S,j;this.processAttribs();const{tags:N}=this,M=this.tag;M.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,M),(S=this.closeTagHandler)===null||S===void 0||S.call(this,M),(this.tag=(j=N[N.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let N=_.length;for(;N-- >0;){const M=this.tag=_.pop();if(this.topNS=M.ns,j?.(M),M.name===S)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(_){if(_[0]!=="#"){const j=this.ENTITIES[_];return j!==void 0?j:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let S=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?S=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(S=parseInt(_.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,s,n){var i=t("safe-buffer").Buffer;function a(l,u){this._block=i.alloc(l),this._finalSize=u,this._blockSize=l,this._len=0}a.prototype.update=function(l,u){typeof l=="string"&&(u=u||"utf8",l=i.from(l,u));for(var c=this._block,d=this._blockSize,p=l.length,f=this._len,h=0;h<p;){for(var g=f%d,y=Math.min(p-h,d-g),m=0;m<y;m++)c[g+m]=l[h+m];h+=y,(f+=y)%d==0&&this._update(c)}return this._len+=p,this},a.prototype.digest=function(l){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var d=(4294967295&c)>>>0,p=(c-d)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return l?f.toString(l):f},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=a},{"safe-buffer":494}],498:[function(t,s,n){var i=s.exports=function(a){a=a.toLowerCase();var l=i[a];if(!l)throw new Error(a+" is not supported (we accept pull requests)");return new l};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,s,n){var i=t("inherits"),a=t("./hash"),l=t("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,a.call(this,64,56)}function p(h){return h<<30|h>>>2}function f(h,g,y,m){return h===0?g&y|~g&m:h===2?g&y|g&m|y&m:g^y^m}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(h){for(var g,y=this._w,m=0|this._a,v=0|this._b,x=0|this._c,k=0|this._d,T=0|this._e,A=0;A<16;++A)y[A]=h.readInt32BE(4*A);for(;A<80;++A)y[A]=y[A-3]^y[A-8]^y[A-14]^y[A-16];for(var L=0;L<80;++L){var q=~~(L/20),D=0|((g=m)<<5|g>>>27)+f(q,v,x,k)+T+y[L]+u[q];T=k,k=x,x=p(v),v=m,m=D}this._a=m+this._a|0,this._b=v+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=T+this._e|0},d.prototype._hash=function(){var h=l.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,s,n){var i=t("inherits"),a=t("./hash"),l=t("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,a.call(this,64,56)}function p(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}i(d,a),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,x=0|this._b,k=0|this._c,T=0|this._d,A=0|this._e,L=0;L<16;++L)m[L]=g.readInt32BE(4*L);for(;L<80;++L)m[L]=(y=m[L-3]^m[L-8]^m[L-14]^m[L-16])<<1|y>>>31;for(var q=0;q<80;++q){var D=~~(q/20),$=p(v)+h(D,x,k,T)+A+m[q]+u[D]|0;A=T,T=k,k=f(x),x=v,v=$}this._a=v+this._a|0,this._b=x+this._b|0,this._c=k+this._c|0,this._d=T+this._d|0,this._e=A+this._e|0},d.prototype._hash=function(){var g=l.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,s,n){var i=t("inherits"),a=t("./sha256"),l=t("./hash"),u=t("safe-buffer").Buffer,c=new Array(64);function d(){this.init(),this._w=c,l.call(this,64,56)}i(d,a),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},s.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,s,n){var i=t("inherits"),a=t("./hash"),l=t("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function d(){this.init(),this._w=c,a.call(this,64,56)}function p(m,v,x){return x^m&(v^x)}function f(m,v,x){return m&v|x&(m|v)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(d,a),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,x=this._w,k=0|this._a,T=0|this._b,A=0|this._c,L=0|this._d,q=0|this._e,D=0|this._f,$=0|this._g,z=0|this._h,K=0;K<16;++K)x[K]=m.readInt32BE(4*K);for(;K<64;++K)x[K]=0|(((v=x[K-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+x[K-7]+y(x[K-15])+x[K-16];for(var W=0;W<64;++W){var P=z+g(q)+p(q,D,$)+u[W]+x[W]|0,R=h(k)+f(k,T,A)|0;z=$,$=D,D=q,q=L+P|0,L=A,A=T,T=k,k=P+R|0}this._a=k+this._a|0,this._b=T+this._b|0,this._c=A+this._c|0,this._d=L+this._d|0,this._e=q+this._e|0,this._f=D+this._f|0,this._g=$+this._g|0,this._h=z+this._h|0},d.prototype._hash=function(){var m=l.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,s,n){var i=t("inherits"),a=t("./sha512"),l=t("./hash"),u=t("safe-buffer").Buffer,c=new Array(160);function d(){this.init(),this._w=c,l.call(this,128,112)}i(d,a),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(48);function f(h,g,y){p.writeInt32BE(h,y),p.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),p},s.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,s,n){var i=t("inherits"),a=t("./hash"),l=t("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function d(){this.init(),this._w=c,a.call(this,128,112)}function p(T,A,L){return L^T&(A^L)}function f(T,A,L){return T&A|L&(T|A)}function h(T,A){return(T>>>28|A<<4)^(A>>>2|T<<30)^(A>>>7|T<<25)}function g(T,A){return(T>>>14|A<<18)^(T>>>18|A<<14)^(A>>>9|T<<23)}function y(T,A){return(T>>>1|A<<31)^(T>>>8|A<<24)^T>>>7}function m(T,A){return(T>>>1|A<<31)^(T>>>8|A<<24)^(T>>>7|A<<25)}function v(T,A){return(T>>>19|A<<13)^(A>>>29|T<<3)^T>>>6}function x(T,A){return(T>>>19|A<<13)^(A>>>29|T<<3)^(T>>>6|A<<26)}function k(T,A){return T>>>0<A>>>0?1:0}i(d,a),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(T){for(var A=this._w,L=0|this._ah,q=0|this._bh,D=0|this._ch,$=0|this._dh,z=0|this._eh,K=0|this._fh,W=0|this._gh,P=0|this._hh,R=0|this._al,C=0|this._bl,_=0|this._cl,S=0|this._dl,j=0|this._el,N=0|this._fl,M=0|this._gl,O=0|this._hl,B=0;B<32;B+=2)A[B]=T.readInt32BE(4*B),A[B+1]=T.readInt32BE(4*B+4);for(;B<160;B+=2){var G=A[B-30],Q=A[B-30+1],re=y(G,Q),F=m(Q,G),Y=v(G=A[B-4],Q=A[B-4+1]),V=x(Q,G),U=A[B-14],Z=A[B-14+1],ie=A[B-32],me=A[B-32+1],ce=F+Z|0,ye=re+U+k(ce,F)|0;ye=(ye=ye+Y+k(ce=ce+V|0,V)|0)+ie+k(ce=ce+me|0,me)|0,A[B]=ye,A[B+1]=ce}for(var ee=0;ee<160;ee+=2){ye=A[ee],ce=A[ee+1];var oe=f(L,q,D),ne=f(R,C,_),fe=h(L,R),le=h(R,L),ae=g(z,j),te=g(j,z),se=u[ee],de=u[ee+1],ge=p(z,K,W),ke=p(j,N,M),Ee=O+te|0,Oe=P+ae+k(Ee,O)|0;Oe=(Oe=(Oe=Oe+ge+k(Ee=Ee+ke|0,ke)|0)+se+k(Ee=Ee+de|0,de)|0)+ye+k(Ee=Ee+ce|0,ce)|0;var Le=le+ne|0,Ge=fe+oe+k(Le,le)|0;P=W,O=M,W=K,M=N,K=z,N=j,z=$+Oe+k(j=S+Ee|0,S)|0,$=D,S=_,D=q,_=C,q=L,C=R,L=Oe+Ge+k(R=Ee+Le|0,Ee)|0}this._al=this._al+R|0,this._bl=this._bl+C|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+j|0,this._fl=this._fl+N|0,this._gl=this._gl+M|0,this._hl=this._hl+O|0,this._ah=this._ah+L+k(this._al,R)|0,this._bh=this._bh+q+k(this._bl,C)|0,this._ch=this._ch+D+k(this._cl,_)|0,this._dh=this._dh+$+k(this._dl,S)|0,this._eh=this._eh+z+k(this._el,j)|0,this._fh=this._fh+K+k(this._fl,N)|0,this._gh=this._gh+W+k(this._gl,M)|0,this._hh=this._hh+P+k(this._hl,O)|0},d.prototype._hash=function(){var T=l.allocUnsafe(64);function A(L,q,D){T.writeInt32BE(L,D),T.writeInt32BE(q,D+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),T},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,s,n){s.exports=a;var i=t("events").EventEmitter;function a(){i.call(this)}t("inherits")(a,i),a.Readable=t("readable-stream/readable.js"),a.Writable=t("readable-stream/writable.js"),a.Duplex=t("readable-stream/duplex.js"),a.Transform=t("readable-stream/transform.js"),a.PassThrough=t("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(l,u){var c=this;function d(v){l.writable&&l.write(v)===!1&&c.pause&&c.pause()}function p(){c.readable&&c.resume&&c.resume()}c.on("data",d),l.on("drain",p),l._isStdio||u&&u.end===!1||(c.on("end",h),c.on("close",g));var f=!1;function h(){f||(f=!0,l.end())}function g(){f||(f=!0,typeof l.destroy=="function"&&l.destroy())}function y(v){if(m(),i.listenerCount(this,"error")===0)throw v}function m(){c.removeListener("data",d),l.removeListener("drain",p),c.removeListener("end",h),c.removeListener("close",g),c.removeListener("error",y),l.removeListener("error",y),c.removeListener("end",m),c.removeListener("close",m),l.removeListener("close",m)}return c.on("error",y),l.on("error",y),c.on("end",m),c.on("close",m),l.on("close",m),l.emit("pipe",c),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,s,n){var i={}.toString;s.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(t,s,n){s.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,s,n){var i=t("process-nextick-args"),a=Object.keys||function(m){var v=[];for(var x in m)v.push(x);return v};s.exports=h;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var u=t("./_stream_readable"),c=t("./_stream_writable");l.inherits(h,u);for(var d=a(c.prototype),p=0;p<d.length;p++){var f=d[p];h.prototype[f]||(h.prototype[f]=c.prototype[f])}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),c.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,v){this.push(null),this.end(),i.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,s,n){s.exports=l;var i=t("./_stream_transform"),a=Object.create(t("core-util-is"));function l(u){if(!(this instanceof l))return new l(u);i.call(this,u)}a.inherits=t("inherits"),a.inherits(l,i),l.prototype._transform=function(u,c,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,s,n){(function(i,a){(function(){var l=t("process-nextick-args");s.exports=L;var u,c=t("isarray");L.ReadableState=A,t("events").EventEmitter;var d=function(O,B){return O.listeners(B).length},p=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(t("core-util-is"));g.inherits=t("inherits");var y=t("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,x=t("./internal/streams/BufferList"),k=t("./internal/streams/destroy");g.inherits(L,p);var T=["error","close","destroy","pause","resume"];function A(O,B){O=O||{};var G=B instanceof(u=u||t("./_stream_duplex"));this.objectMode=!!O.objectMode,G&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var Q=O.highWaterMark,re=O.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=Q||Q===0?Q:G&&(re||re===0)?re:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function L(O){if(u=u||t("./_stream_duplex"),!(this instanceof L))return new L(O);this._readableState=new A(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),p.call(this)}function q(O,B,G,Q,re){var F,Y=O._readableState;return B===null?(Y.reading=!1,(function(V,U){if(!U.ended){if(U.decoder){var Z=U.decoder.end();Z&&Z.length&&(U.buffer.push(Z),U.length+=U.objectMode?1:Z.length)}U.ended=!0,z(V)}})(O,Y)):(re||(F=(function(V,U){var Z;ie=U,f.isBuffer(ie)||ie instanceof h||typeof U=="string"||U===void 0||V.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var ie;return Z})(Y,B)),F?O.emit("error",F):Y.objectMode||B&&B.length>0?(typeof B=="string"||Y.objectMode||Object.getPrototypeOf(B)===f.prototype||(B=(function(V){return f.from(V)})(B)),Q?Y.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):D(O,Y,B,!0):Y.ended?O.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!G?(B=Y.decoder.write(B),Y.objectMode||B.length!==0?D(O,Y,B,!1):W(O,Y)):D(O,Y,B,!1))):Q||(Y.reading=!1)),(function(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)})(Y)}function D(O,B,G,Q){B.flowing&&B.length===0&&!B.sync?(O.emit("data",G),O.read(0)):(B.length+=B.objectMode?1:G.length,Q?B.buffer.unshift(G):B.buffer.push(G),B.needReadable&&z(O)),W(O,B)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),L.prototype.destroy=k.destroy,L.prototype._undestroy=k.undestroy,L.prototype._destroy=function(O,B){this.push(null),B(O)},L.prototype.push=function(O,B){var G,Q=this._readableState;return Q.objectMode?G=!0:typeof O=="string"&&((B=B||Q.defaultEncoding)!==Q.encoding&&(O=f.from(O,B),B=""),G=!0),q(this,O,B,!1,G)},L.prototype.unshift=function(O){return q(this,O,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(O){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};function $(O,B){return O<=0||B.length===0&&B.ended?0:B.objectMode?1:O!=O?B.flowing&&B.length?B.buffer.head.data.length:B.length:(O>B.highWaterMark&&(B.highWaterMark=(function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(O)),O<=B.length?O:B.ended?B.length:(B.needReadable=!0,0))}function z(O){var B=O._readableState;B.needReadable=!1,B.emittedReadable||(m("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?l.nextTick(K,O):K(O))}function K(O){m("emit readable"),O.emit("readable"),_(O)}function W(O,B){B.readingMore||(B.readingMore=!0,l.nextTick(P,O,B))}function P(O,B){for(var G=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(m("maybeReadMore read 0"),O.read(0),G!==B.length);)G=B.length;B.readingMore=!1}function R(O){m("readable nexttick read 0"),O.read(0)}function C(O,B){B.reading||(m("resume read 0"),O.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,O.emit("resume"),_(O),B.flowing&&!B.reading&&O.read(0)}function _(O){var B=O._readableState;for(m("flow",B.flowing);B.flowing&&O.read()!==null;);}function S(O,B){return B.length===0?null:(B.objectMode?G=B.buffer.shift():!O||O>=B.length?(G=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):G=(function(Q,re,F){var Y;return Q<re.head.data.length?(Y=re.head.data.slice(0,Q),re.head.data=re.head.data.slice(Q)):Y=Q===re.head.data.length?re.shift():F?(function(V,U){var Z=U.head,ie=1,me=Z.data;for(V-=me.length;Z=Z.next;){var ce=Z.data,ye=V>ce.length?ce.length:V;if(ye===ce.length?me+=ce:me+=ce.slice(0,V),(V-=ye)===0){ye===ce.length?(++ie,Z.next?U.head=Z.next:U.head=U.tail=null):(U.head=Z,Z.data=ce.slice(ye));break}++ie}return U.length-=ie,me})(Q,re):(function(V,U){var Z=f.allocUnsafe(V),ie=U.head,me=1;for(ie.data.copy(Z),V-=ie.data.length;ie=ie.next;){var ce=ie.data,ye=V>ce.length?ce.length:V;if(ce.copy(Z,Z.length-V,0,ye),(V-=ye)===0){ye===ce.length?(++me,ie.next?U.head=ie.next:U.head=U.tail=null):(U.head=ie,ie.data=ce.slice(ye));break}++me}return U.length-=me,Z})(Q,re),Y})(O,B.buffer,B.decoder),G);var G}function j(O){var B=O._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,l.nextTick(N,B,O))}function N(O,B){O.endEmitted||O.length!==0||(O.endEmitted=!0,B.readable=!1,B.emit("end"))}function M(O,B){for(var G=0,Q=O.length;G<Q;G++)if(O[G]===B)return G;return-1}L.prototype.read=function(O){m("read",O),O=parseInt(O,10);var B=this._readableState,G=O;if(O!==0&&(B.emittedReadable=!1),O===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return m("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?j(this):z(this),null;if((O=$(O,B))===0&&B.ended)return B.length===0&&j(this),null;var Q,re=B.needReadable;return m("need readable",re),(B.length===0||B.length-O<B.highWaterMark)&&m("length less than watermark",re=!0),B.ended||B.reading?m("reading or ended",re=!1):re&&(m("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(O=$(G,B))),(Q=O>0?S(O,B):null)===null?(B.needReadable=!0,O=0):B.length-=O,B.length===0&&(B.ended||(B.needReadable=!0),G!==O&&B.ended&&j(this)),Q!==null&&this.emit("data",Q),Q},L.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(O,B){var G=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=O;break;case 1:Q.pipes=[Q.pipes,O];break;default:Q.pipes.push(O)}Q.pipesCount+=1,m("pipe count=%d opts=%j",Q.pipesCount,B);var re=(!B||B.end!==!1)&&O!==i.stdout&&O!==i.stderr?Y:ee;function F(oe,ne){m("onunpipe"),oe===G&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,m("cleanup"),O.removeListener("close",ce),O.removeListener("finish",ye),O.removeListener("drain",V),O.removeListener("error",me),O.removeListener("unpipe",F),G.removeListener("end",Y),G.removeListener("end",ee),G.removeListener("data",ie),U=!0,!Q.awaitDrain||O._writableState&&!O._writableState.needDrain||V())}function Y(){m("onend"),O.end()}Q.endEmitted?l.nextTick(re):G.once("end",re),O.on("unpipe",F);var V=(function(oe){return function(){var ne=oe._readableState;m("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&d(oe,"data")&&(ne.flowing=!0,_(oe))}})(G);O.on("drain",V);var U=!1,Z=!1;function ie(oe){m("ondata"),Z=!1,O.write(oe)!==!1||Z||((Q.pipesCount===1&&Q.pipes===O||Q.pipesCount>1&&M(Q.pipes,O)!==-1)&&!U&&(m("false write response, pause",Q.awaitDrain),Q.awaitDrain++,Z=!0),G.pause())}function me(oe){m("onerror",oe),ee(),O.removeListener("error",me),d(O,"error")===0&&O.emit("error",oe)}function ce(){O.removeListener("finish",ye),ee()}function ye(){m("onfinish"),O.removeListener("close",ce),ee()}function ee(){m("unpipe"),G.unpipe(O)}return G.on("data",ie),(function(oe,ne,fe){if(typeof oe.prependListener=="function")return oe.prependListener(ne,fe);oe._events&&oe._events[ne]?c(oe._events[ne])?oe._events[ne].unshift(fe):oe._events[ne]=[fe,oe._events[ne]]:oe.on(ne,fe)})(O,"error",me),O.once("close",ce),O.once("finish",ye),O.emit("pipe",G),Q.flowing||(m("pipe resume"),G.resume()),O},L.prototype.unpipe=function(O){var B=this._readableState,G={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return O&&O!==B.pipes||(O||(O=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,O&&O.emit("unpipe",this,G)),this;if(!O){var Q=B.pipes,re=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var F=0;F<re;F++)Q[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=M(B.pipes,O);return Y===-1||(B.pipes.splice(Y,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),O.emit("unpipe",this,G)),this},L.prototype.on=function(O,B){var G=p.prototype.on.call(this,O,B);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var Q=this._readableState;Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.emittedReadable=!1,Q.reading?Q.length&&z(this):l.nextTick(R,this))}return G},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var O=this._readableState;return O.flowing||(m("resume"),O.flowing=!0,(function(B,G){G.resumeScheduled||(G.resumeScheduled=!0,l.nextTick(C,B,G))})(this,O)),this},L.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(O){var B=this,G=this._readableState,Q=!1;for(var re in O.on("end",(function(){if(m("wrapped end"),G.decoder&&!G.ended){var Y=G.decoder.end();Y&&Y.length&&B.push(Y)}B.push(null)})),O.on("data",(function(Y){m("wrapped data"),G.decoder&&(Y=G.decoder.write(Y)),G.objectMode&&Y==null||(G.objectMode||Y&&Y.length)&&(B.push(Y)||(Q=!0,O.pause()))})),O)this[re]===void 0&&typeof O[re]=="function"&&(this[re]=(function(Y){return function(){return O[Y].apply(O,arguments)}})(re));for(var F=0;F<T.length;F++)O.on(T[F],this.emit.bind(this,T[F]));return this._read=function(Y){m("wrapped _read",Y),Q&&(Q=!1,O.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=S}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,s,n){s.exports=u;var i=t("./_stream_duplex"),a=Object.create(t("core-util-is"));function l(p,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);i.call(this,p),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function c(){var p=this;typeof this._flush=="function"?this._flush((function(f,h){d(p,f,h)})):d(this,null,null)}function d(p,f,h){if(f)return p.emit("error",f);if(h!=null&&p.push(h),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}a.inherits=t("inherits"),a.inherits(u,i),u.prototype.push=function(p,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,f)},u.prototype._transform=function(p,f,h){throw new Error("_transform() is not implemented")},u.prototype._write=function(p,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=p,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(p){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(p,f){var h=this;i.prototype._destroy.call(this,p,(function(g){f(g),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,s,n){(function(i,a,l){(function(){var u=t("process-nextick-args");function c(W){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(R,C,_){var S=R.entry;for(R.entry=null;S;){var j=S.callback;C.pendingcb--,j(_),S=S.next}C.corkedRequestsFree.next=R})(P,W)}}s.exports=A;var d,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?l:u.nextTick;A.WritableState=T;var f=Object.create(t("core-util-is"));f.inherits=t("inherits");var h={deprecate:t("util-deprecate")},g=t("./internal/streams/stream"),y=t("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,x=t("./internal/streams/destroy");function k(){}function T(W,P){d=d||t("./_stream_duplex"),W=W||{};var R=P instanceof d;this.objectMode=!!W.objectMode,R&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var C=W.highWaterMark,_=W.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:R&&(_||_===0)?_:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=W.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(M,O){var B=M._writableState,G=B.sync,Q=B.writecb;if((function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0})(B),O)(function(F,Y,V,U,Z){--Y.pendingcb,V?(u.nextTick(Z,U),u.nextTick(K,F,Y),F._writableState.errorEmitted=!0,F.emit("error",U)):(Z(U),F._writableState.errorEmitted=!0,F.emit("error",U),K(F,Y))})(M,B,G,O,Q);else{var re=$(B);re||B.corked||B.bufferProcessing||!B.bufferedRequest||D(M,B),G?p(q,M,B,re,Q):q(M,B,re,Q)}})(P,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function A(W){if(d=d||t("./_stream_duplex"),!(v.call(A,this)||this instanceof d))return new A(W);this._writableState=new T(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),g.call(this)}function L(W,P,R,C,_,S,j){P.writelen=C,P.writecb=j,P.writing=!0,P.sync=!0,R?W._writev(_,P.onwrite):W._write(_,S,P.onwrite),P.sync=!1}function q(W,P,R,C){R||(function(_,S){S.length===0&&S.needDrain&&(S.needDrain=!1,_.emit("drain"))})(W,P),P.pendingcb--,C(),K(W,P)}function D(W,P){P.bufferProcessing=!0;var R=P.bufferedRequest;if(W._writev&&R&&R.next){var C=P.bufferedRequestCount,_=new Array(C),S=P.corkedRequestsFree;S.entry=R;for(var j=0,N=!0;R;)_[j]=R,R.isBuf||(N=!1),R=R.next,j+=1;_.allBuffers=N,L(W,P,!0,P.length,_,"",S.finish),P.pendingcb++,P.lastBufferedRequest=null,S.next?(P.corkedRequestsFree=S.next,S.next=null):P.corkedRequestsFree=new c(P),P.bufferedRequestCount=0}else{for(;R;){var M=R.chunk,O=R.encoding,B=R.callback;if(L(W,P,!1,P.objectMode?1:M.length,M,O,B),R=R.next,P.bufferedRequestCount--,P.writing)break}R===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=R,P.bufferProcessing=!1}function $(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function z(W,P){W._final((function(R){P.pendingcb--,R&&W.emit("error",R),P.prefinished=!0,W.emit("prefinish"),K(W,P)}))}function K(W,P){var R=$(P);return R&&((function(C,_){_.prefinished||_.finalCalled||(typeof C._final=="function"?(_.pendingcb++,_.finalCalled=!0,u.nextTick(z,C,_)):(_.prefinished=!0,C.emit("prefinish")))})(W,P),P.pendingcb===0&&(P.finished=!0,W.emit("finish"))),R}f.inherits(A,g),T.prototype.getBuffer=function(){for(var W=this.bufferedRequest,P=[];W;)P.push(W),W=W.next;return P},(function(){try{Object.defineProperty(T.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(W){return!!v.call(this,W)||this===A&&W&&W._writableState instanceof T}})):v=function(W){return W instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(W,P,R){var C,_=this._writableState,S=!1,j=!_.objectMode&&(C=W,y.isBuffer(C)||C instanceof m);return j&&!y.isBuffer(W)&&(W=(function(N){return y.from(N)})(W)),typeof P=="function"&&(R=P,P=null),j?P="buffer":P||(P=_.defaultEncoding),typeof R!="function"&&(R=k),_.ended?(function(N,M){var O=new Error("write after end");N.emit("error",O),u.nextTick(M,O)})(this,R):(j||(function(N,M,O,B){var G=!0,Q=!1;return O===null?Q=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||M.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(N.emit("error",Q),u.nextTick(B,Q),G=!1),G})(this,_,W,R))&&(_.pendingcb++,S=(function(N,M,O,B,G,Q){if(!O){var re=(function(U,Z,ie){return U.objectMode||U.decodeStrings===!1||typeof Z!="string"||(Z=y.from(Z,ie)),Z})(M,B,G);B!==re&&(O=!0,G="buffer",B=re)}var F=M.objectMode?1:B.length;M.length+=F;var Y=M.length<M.highWaterMark;if(Y||(M.needDrain=!0),M.writing||M.corked){var V=M.lastBufferedRequest;M.lastBufferedRequest={chunk:B,encoding:G,isBuf:O,callback:Q,next:null},V?V.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else L(N,M,!1,F,B,G,Q);return Y})(this,_,j,W,P,R)),S},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||D(this,W))},A.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(W,P,R){R(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(W,P,R){var C=this._writableState;typeof W=="function"?(R=W,W=null,P=null):typeof P=="function"&&(R=P,P=null),W!=null&&this.write(W,P),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(_,S,j){S.ending=!0,K(_,S),j&&(S.finished?u.nextTick(j):_.once("finish",j)),S.ended=!0,_.writable=!1})(this,C,R)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),A.prototype.destroy=x.destroy,A.prototype._undestroy=x.undestroy,A.prototype._destroy=function(W,P){this.end(),P(W)}}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,s,n){var i=t("safe-buffer").Buffer,a=t("util");s.exports=(function(){function l(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(u){var c={data:u,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},l.prototype.unshift=function(u){var c={data:u,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},l.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(u){if(this.length===0)return"";for(var c=this.head,d=""+c.data;c=c.next;)d+=u+c.data;return d},l.prototype.concat=function(u){if(this.length===0)return i.alloc(0);for(var c,d,p,f=i.allocUnsafe(u>>>0),h=this.head,g=0;h;)c=h.data,d=f,p=g,c.copy(d,p),g+=h.data.length,h=h.next;return f},l})(),a&&a.inspect&&a.inspect.custom&&(s.exports.prototype[a.inspect.custom]=function(){var l=a.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(t,s,n){var i=t("process-nextick-args");function a(l,u){l.emit("error",u)}s.exports={destroy:function(l,u){var c=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,l)):i.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(f){!u&&f?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,i.nextTick(a,c,f)):i.nextTick(a,c,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,s,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(t,s,n){s.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,s,n){(n=s.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,s,n){s.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,s,n){s.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,s,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(t,s,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,s,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,s,n){(function(i,a){(function(){var l=t("process/browser.js").nextTick,u=Function.prototype.apply,c=Array.prototype.slice,d={},p=0;function f(h,g){this._id=h,this._clearFn=g}n.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},n.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},n._unrefActive=n.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),g))},n.setImmediate=typeof i=="function"?i:function(h){var g=p++,y=!(arguments.length<2)&&c.call(arguments,1);return d[g]=!0,l((function(){d[g]&&(y?h.apply(null,y):h.call(null),n.clearImmediate(g))})),g},n.clearImmediate=typeof a=="function"?a:function(h){delete d[h]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,s,n){(function(i){(function(){function a(l){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[l];return u!=null&&String(u).toLowerCase()==="true"}s.exports=function(l,u){if(a("noDeprecation"))return l;var c=!1;return function(){if(!c){if(a("throwDeprecation"))throw new Error(u);a("traceDeprecation")?console.trace(u):console.warn(u),c=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,s,n){typeof Object.create=="function"?s.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(i,a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}},{}],526:[function(t,s,n){s.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(t,s,n){(function(i,a){(function(){var l=/%[sdj%]/g;n.format=function(_){if(!T(_)){for(var S=[],j=0;j<arguments.length;j++)S.push(d(arguments[j]));return S.join(" ")}j=1;for(var N=arguments,M=N.length,O=String(_).replace(l,(function(G){if(G==="%%")return"%";if(j>=M)return G;switch(G){case"%s":return String(N[j++]);case"%d":return Number(N[j++]);case"%j":try{return JSON.stringify(N[j++])}catch{return"[Circular]"}default:return G}})),B=N[j];j<M;B=N[++j])x(B)||!q(B)?O+=" "+B:O+=" "+d(B);return O},n.deprecate=function(_,S){if(A(a.process))return function(){return n.deprecate(_,S).apply(this,arguments)};if(i.noDeprecation===!0)return _;var j=!1;return function(){if(!j){if(i.throwDeprecation)throw new Error(S);i.traceDeprecation?console.trace(S):console.error(S),j=!0}return _.apply(this,arguments)}};var u,c={};function d(_,S){var j={seen:[],stylize:f};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),v(S)?j.showHidden=S:S&&n._extend(j,S),A(j.showHidden)&&(j.showHidden=!1),A(j.depth)&&(j.depth=2),A(j.colors)&&(j.colors=!1),A(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=p),h(j,_,j.depth)}function p(_,S){var j=d.styles[S];return j?"\x1B["+d.colors[j][0]+"m"+_+"\x1B["+d.colors[j][1]+"m":_}function f(_,S){return _}function h(_,S,j){if(_.customInspect&&S&&z(S.inspect)&&S.inspect!==n.inspect&&(!S.constructor||S.constructor.prototype!==S)){var N=S.inspect(j,_);return T(N)||(N=h(_,N,j)),N}var M=(function(V,U){if(A(U))return V.stylize("undefined","undefined");if(T(U)){var Z="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(Z,"string")}if(k(U))return V.stylize(""+U,"number");if(v(U))return V.stylize(""+U,"boolean");if(x(U))return V.stylize("null","null")})(_,S);if(M)return M;var O=Object.keys(S),B=(function(V){var U={};return V.forEach((function(Z,ie){U[Z]=!0})),U})(O);if(_.showHidden&&(O=Object.getOwnPropertyNames(S)),$(S)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return g(S);if(O.length===0){if(z(S)){var G=S.name?": "+S.name:"";return _.stylize("[Function"+G+"]","special")}if(L(S))return _.stylize(RegExp.prototype.toString.call(S),"regexp");if(D(S))return _.stylize(Date.prototype.toString.call(S),"date");if($(S))return g(S)}var Q,re="",F=!1,Y=["{","}"];return m(S)&&(F=!0,Y=["[","]"]),z(S)&&(re=" [Function"+(S.name?": "+S.name:"")+"]"),L(S)&&(re=" "+RegExp.prototype.toString.call(S)),D(S)&&(re=" "+Date.prototype.toUTCString.call(S)),$(S)&&(re=" "+g(S)),O.length!==0||F&&S.length!=0?j<0?L(S)?_.stylize(RegExp.prototype.toString.call(S),"regexp"):_.stylize("[Object]","special"):(_.seen.push(S),Q=F?(function(V,U,Z,ie,me){for(var ce=[],ye=0,ee=U.length;ye<ee;++ye)C(U,String(ye))?ce.push(y(V,U,Z,ie,String(ye),!0)):ce.push("");return me.forEach((function(oe){oe.match(/^\d+$/)||ce.push(y(V,U,Z,ie,oe,!0))})),ce})(_,S,j,B,O):O.map((function(V){return y(_,S,j,B,V,F)})),_.seen.pop(),(function(V,U,Z){return V.reduce((function(ie,me){return me.indexOf(`
`)>=0,ie+me.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Z[0]+(U===""?"":U+`
 `)+" "+V.join(`,
  `)+" "+Z[1]:Z[0]+U+" "+V.join(", ")+" "+Z[1]})(Q,re,Y)):Y[0]+re+Y[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,S,j,N,M,O){var B,G,Q;if((Q=Object.getOwnPropertyDescriptor(S,M)||{value:S[M]}).get?G=Q.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Q.set&&(G=_.stylize("[Setter]","special")),C(N,M)||(B="["+M+"]"),G||(_.seen.indexOf(Q.value)<0?(G=x(j)?h(_,Q.value,null):h(_,Q.value,j-1)).indexOf(`
`)>-1&&(G=O?G.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+G.split(`
`).map((function(re){return"   "+re})).join(`
`)):G=_.stylize("[Circular]","special")),A(B)){if(O&&M.match(/^\d+$/))return G;(B=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=_.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=_.stylize(B,"string"))}return B+": "+G}function m(_){return Array.isArray(_)}function v(_){return typeof _=="boolean"}function x(_){return _===null}function k(_){return typeof _=="number"}function T(_){return typeof _=="string"}function A(_){return _===void 0}function L(_){return q(_)&&K(_)==="[object RegExp]"}function q(_){return typeof _=="object"&&_!==null}function D(_){return q(_)&&K(_)==="[object Date]"}function $(_){return q(_)&&(K(_)==="[object Error]"||_ instanceof Error)}function z(_){return typeof _=="function"}function K(_){return Object.prototype.toString.call(_)}function W(_){return _<10?"0"+_.toString(10):_.toString(10)}n.debuglog=function(_){if(A(u)&&(u=i.env.NODE_DEBUG||""),_=_.toUpperCase(),!c[_])if(new RegExp("\\b"+_+"\\b","i").test(u)){var S=i.pid;c[_]=function(){var j=n.format.apply(n,arguments);console.error("%s %d: %s",_,S,j)}}else c[_]=function(){};return c[_]},n.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=v,n.isNull=x,n.isNullOrUndefined=function(_){return _==null},n.isNumber=k,n.isString=T,n.isSymbol=function(_){return typeof _=="symbol"},n.isUndefined=A,n.isRegExp=L,n.isObject=q,n.isDate=D,n.isError=$,n.isFunction=z,n.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},n.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var _=new Date,S=[W(_.getHours()),W(_.getMinutes()),W(_.getSeconds())].join(":");return[_.getDate(),P[_.getMonth()],S].join(" ")}function C(_,S){return Object.prototype.hasOwnProperty.call(_,S)}n.log=function(){console.log("%s - %s",R(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(_,S){if(!S||!q(S))return _;for(var j=Object.keys(S),N=j.length;N--;)_[j[N]]=S[j[N]];return _}}).call(this)}).call(this,t("_process"),typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return h.default}});var i=g(t("./v1.js")),a=g(t("./v3.js")),l=g(t("./v4.js")),u=g(t("./v5.js")),c=g(t("./nil.js")),d=g(t("./version.js")),p=g(t("./validate.js")),f=g(t("./stringify.js")),h=g(t("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,s,n){function i(h){return 14+(h+64>>>9<<4)+1}function a(h,g){const y=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(y>>16)<<16|65535&y}function l(h,g,y,m,v,x){return a((k=a(a(g,h),a(m,x)))<<(T=v)|k>>>32-T,y);var k,T}function u(h,g,y,m,v,x,k){return l(g&y|~g&m,h,g,v,x,k)}function c(h,g,y,m,v,x,k){return l(g&m|y&~m,h,g,v,x,k)}function d(h,g,y,m,v,x,k){return l(g^y^m,h,g,v,x,k)}function p(h,g,y,m,v,x,k){return l(y^(g|~m),h,g,v,x,k)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let y=0;y<g.length;++y)h[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const x=g[v>>5]>>>v%32&255,k=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);y.push(k)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let m=1732584193,v=-271733879,x=-1732584194,k=271733878;for(let T=0;T<g.length;T+=16){const A=m,L=v,q=x,D=k;m=u(m,v,x,k,g[T],7,-680876936),k=u(k,m,v,x,g[T+1],12,-389564586),x=u(x,k,m,v,g[T+2],17,606105819),v=u(v,x,k,m,g[T+3],22,-1044525330),m=u(m,v,x,k,g[T+4],7,-176418897),k=u(k,m,v,x,g[T+5],12,1200080426),x=u(x,k,m,v,g[T+6],17,-1473231341),v=u(v,x,k,m,g[T+7],22,-45705983),m=u(m,v,x,k,g[T+8],7,1770035416),k=u(k,m,v,x,g[T+9],12,-1958414417),x=u(x,k,m,v,g[T+10],17,-42063),v=u(v,x,k,m,g[T+11],22,-1990404162),m=u(m,v,x,k,g[T+12],7,1804603682),k=u(k,m,v,x,g[T+13],12,-40341101),x=u(x,k,m,v,g[T+14],17,-1502002290),v=u(v,x,k,m,g[T+15],22,1236535329),m=c(m,v,x,k,g[T+1],5,-165796510),k=c(k,m,v,x,g[T+6],9,-1069501632),x=c(x,k,m,v,g[T+11],14,643717713),v=c(v,x,k,m,g[T],20,-373897302),m=c(m,v,x,k,g[T+5],5,-701558691),k=c(k,m,v,x,g[T+10],9,38016083),x=c(x,k,m,v,g[T+15],14,-660478335),v=c(v,x,k,m,g[T+4],20,-405537848),m=c(m,v,x,k,g[T+9],5,568446438),k=c(k,m,v,x,g[T+14],9,-1019803690),x=c(x,k,m,v,g[T+3],14,-187363961),v=c(v,x,k,m,g[T+8],20,1163531501),m=c(m,v,x,k,g[T+13],5,-1444681467),k=c(k,m,v,x,g[T+2],9,-51403784),x=c(x,k,m,v,g[T+7],14,1735328473),v=c(v,x,k,m,g[T+12],20,-1926607734),m=d(m,v,x,k,g[T+5],4,-378558),k=d(k,m,v,x,g[T+8],11,-2022574463),x=d(x,k,m,v,g[T+11],16,1839030562),v=d(v,x,k,m,g[T+14],23,-35309556),m=d(m,v,x,k,g[T+1],4,-1530992060),k=d(k,m,v,x,g[T+4],11,1272893353),x=d(x,k,m,v,g[T+7],16,-155497632),v=d(v,x,k,m,g[T+10],23,-1094730640),m=d(m,v,x,k,g[T+13],4,681279174),k=d(k,m,v,x,g[T],11,-358537222),x=d(x,k,m,v,g[T+3],16,-722521979),v=d(v,x,k,m,g[T+6],23,76029189),m=d(m,v,x,k,g[T+9],4,-640364487),k=d(k,m,v,x,g[T+12],11,-421815835),x=d(x,k,m,v,g[T+15],16,530742520),v=d(v,x,k,m,g[T+2],23,-995338651),m=p(m,v,x,k,g[T],6,-198630844),k=p(k,m,v,x,g[T+7],10,1126891415),x=p(x,k,m,v,g[T+14],15,-1416354905),v=p(v,x,k,m,g[T+5],21,-57434055),m=p(m,v,x,k,g[T+12],6,1700485571),k=p(k,m,v,x,g[T+3],10,-1894986606),x=p(x,k,m,v,g[T+10],15,-1051523),v=p(v,x,k,m,g[T+1],21,-2054922799),m=p(m,v,x,k,g[T+8],6,1873313359),k=p(k,m,v,x,g[T+15],10,-30611744),x=p(x,k,m,v,g[T+6],15,-1560198380),v=p(v,x,k,m,g[T+13],21,1309151649),m=p(m,v,x,k,g[T+4],6,-145523070),k=p(k,m,v,x,g[T+11],10,-1120210379),x=p(x,k,m,v,g[T+2],15,718787259),v=p(v,x,k,m,g[T+9],21,-343485551),m=a(m,A),v=a(v,L),x=a(x,q),k=a(k,D)}return[m,v,x,k]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(i(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(h),8*h.length))};n.default=f},{}],530:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},l=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");let c;const d=new Uint8Array(16);return d[0]=(c=parseInt(u.slice(0,8),16))>>>24,d[1]=c>>>16&255,d[2]=c>>>8&255,d[3]=255&c,d[4]=(c=parseInt(u.slice(9,13),16))>>>8,d[5]=255&c,d[6]=(c=parseInt(u.slice(14,18),16))>>>8,d[7]=255&c,d[8]=(c=parseInt(u.slice(19,23),16))>>>8,d[9]=255&c,d[10]=(c=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=c/4294967296&255,d[12]=c>>>24&255,d[13]=c>>>16&255,d[14]=c>>>8&255,d[15]=255&c,d};n.default=l},{"./validate.js":541}],532:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,s,n){let i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(t,s,n){function i(u,c,d,p){switch(u){case 0:return c&d^~c&p;case 1:return c^d^p;case 2:return c&d^c&p^d&p;case 3:return c^d^p}}function a(u,c){return u<<c|u>>>32-c}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(u){const c=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const p=u.length/4+2,f=Math.ceil(p/16),h=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];h[g]=y}h[f-1][14]=8*(u.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let A=0;A<16;++A)y[A]=h[g][A];for(let A=16;A<80;++A)y[A]=a(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);let m=d[0],v=d[1],x=d[2],k=d[3],T=d[4];for(let A=0;A<80;++A){const L=Math.floor(A/20),q=a(m,5)+i(L,v,x,k)+T+c[L]+y[A]>>>0;T=k,k=x,x=a(v,30)>>>0,v=m,m=q}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+x>>>0,d[3]=d[3]+k>>>0,d[4]=d[4]+T>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};n.default=l},{}],535:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i};const l=[];for(let c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var u=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(l[c[d+0]]+l[c[d+1]]+l[c[d+2]]+l[c[d+3]]+"-"+l[c[d+4]]+l[c[d+5]]+"-"+l[c[d+6]]+l[c[d+7]]+"-"+l[c[d+8]]+l[c[d+9]]+"-"+l[c[d+10]]+l[c[d+11]]+l[c[d+12]]+l[c[d+13]]+l[c[d+14]]+l[c[d+15]]).toLowerCase();if(!(0,a.default)(p))throw TypeError("Stringified UUID is invalid");return p};n.default=u},{"./validate.js":541}],536:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("./rng.js")),a=l(t("./stringify.js"));function l(h){return h&&h.__esModule?h:{default:h}}let u,c,d=0,p=0;var f=function(h,g,y){let m=g&&y||0;const v=g||new Array(16);let x=(h=h||{}).node||u,k=h.clockseq!==void 0?h.clockseq:c;if(x==null||k==null){const $=h.random||(h.rng||i.default)();x==null&&(x=u=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),k==null&&(k=c=16383&($[6]<<8|$[7]))}let T=h.msecs!==void 0?h.msecs:Date.now(),A=h.nsecs!==void 0?h.nsecs:p+1;const L=T-d+(A-p)/1e4;if(L<0&&h.clockseq===void 0&&(k=k+1&16383),(L<0||T>d)&&h.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=T,p=A,c=k,T+=122192928e5;const q=(1e4*(268435455&T)+A)%4294967296;v[m++]=q>>>24&255,v[m++]=q>>>16&255,v[m++]=q>>>8&255,v[m++]=255&q;const D=T/4294967296*1e4&268435455;v[m++]=D>>>8&255,v[m++]=255&D,v[m++]=D>>>24&15|16,v[m++]=D>>>16&255,v[m++]=k>>>8|128,v[m++]=255&k;for(let $=0;$<6;++$)v[m+$]=x[$];return g||(0,a.default)(v)};n.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("./v35.js")),a=l(t("./md5.js"));function l(c){return c&&c.__esModule?c:{default:c}}var u=(0,i.default)("v3",48,a.default);n.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(d,p,f){function h(g,y,m,v){if(typeof g=="string"&&(g=(function(k){k=unescape(encodeURIComponent(k));const T=[];for(let A=0;A<k.length;++A)T.push(k.charCodeAt(A));return T})(g)),typeof y=="string"&&(y=(0,a.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+g.length);if(x.set(y),x.set(g,y.length),x=f(x),x[6]=15&x[6]|p,x[8]=63&x[8]|128,m){v=v||0;for(let k=0;k<16;++k)m[v+k]=x[k];return m}return(0,i.default)(x)}try{h.name=d}catch{}return h.DNS=u,h.URL=c,h},n.URL=n.DNS=void 0;var i=l(t("./stringify.js")),a=l(t("./parse.js"));function l(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=u;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("./rng.js")),a=l(t("./stringify.js"));function l(c){return c&&c.__esModule?c:{default:c}}var u=function(c,d,p){const f=(c=c||{}).random||(c.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){p=p||0;for(let h=0;h<16;++h)d[p+h]=f[h];return d}return(0,a.default)(f)};n.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(t("./v35.js")),a=l(t("./sha1.js"));function l(c){return c&&c.__esModule?c:{default:c}}var u=(0,i.default)("v5",80,a.default);n.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=t("./regex.js"))&&i.__esModule?i:{default:i},l=function(u){return typeof u=="string"&&a.default.test(u)};n.default=l},{"./regex.js":532}],542:[function(t,s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},l=function(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};n.default=l},{"./validate.js":541}],543:[function(t,s,n){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r ---`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},n.isS=function(a){return a===32||a===10||a===13||a===9},n.isNameStartChar=i,n.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(t,s,n){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="---",n.RESTRICTED_CHAR="-\b\v\f---",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},n.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},n.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},n.isS=function(a){return a===32||a===10||a===13||a===9},n.isNameStartChar=i,n.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(t,s,n){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z------------",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9--",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(Y2)),Y2.exports}var n5=Uke();const s5=W4(n5),vZ=SM({__proto__:null,default:s5},[n5]);function p1(){try{return wl.isNativePlatform()}catch{return!1}}function xZ(){if(p1())return!0;const e=navigator.userAgent.toLowerCase();return e.includes("wv")||e.includes("webview")||e.includes("android")&&!e.includes("chrome/")||e.includes("android")&&e.includes("version/")}function wZ(){const e=navigator.userAgent.toLowerCase();return(e.includes("iphone")||e.includes("ipad"))&&!e.includes("safari/")}function i5(){return p1()||xZ()||wZ()}function _Z(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function kZ(){return!!window.webkit?.messageHandlers?.downloadFile}function Vke(e,r){const t=e.split(".").pop()?.toLowerCase();return t&&{pdf:"application/pdf",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel",csv:"text/csv",html:"text/html",json:"application/json",txt:"text/plain",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"}[t]||r}function Jm(e){return new Promise((r,t)=>{const s=new FileReader;s.onloadend=()=>{const n=s.result,i=n.indexOf(",");r(i>=0?n.substring(i+1):n)},s.onerror=t,s.readAsDataURL(e)})}function Qn(e,r,t){const s=`[DL] ${e}: ${r}${t?" - "+t:""}`;console.log(s)}async function Wke(e,r,t){try{const n=(await on(()=>import("./index-BfAMD5sS.js"),[])).FileSharer;if(!n||typeof n.share!="function")return Qn("FileSharer","SKIP","plugin not available"),!1;const i=await Jm(e),a=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_"),l=Vke(a,t);return Qn("FileSharer","START",`${a} (${e.size} bytes)`),await n.share({filename:a,contentType:l,base64Data:i}),Qn("FileSharer","OK"),!0}catch(s){const n=String(s?.message||s||"");return Qn("FileSharer","ERROR",n),!!(n.includes("cancel")||n.includes("Cancel")||n.includes("dismiss")||n.includes("USER_CANCELLED"))}}async function qke(e,r,t){try{const s=await on(()=>import("./index-Ce2IZKvK.js"),[]),n=await on(()=>import("./index-rkFuHHLb.js"),[]),i=s.Filesystem,a=s.Directory,l=n.Share;if(!i||!l)return Qn("CapFS+Share","SKIP","plugins not available"),!1;const u=await Jm(e),c=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_");Qn("CapFS","WRITING",c),await i.writeFile({path:c,data:u,directory:a.Cache});const d=await i.getUri({directory:a.Cache,path:c});return Qn("CapFS","URI",d.uri),await l.share({title:r,url:d.uri,dialogTitle:`: ${r}`}),Qn("CapShare","OK"),!0}catch(s){const n=String(s?.message||s||"");return Qn("CapFS+Share","ERROR",n),!!(n.includes("canceled")||n.includes("dismissed")||n.includes("cancel"))}}async function Hke(e,r,t){try{if(typeof navigator.share!="function"||typeof navigator.canShare!="function")return Qn("WebShare","SKIP","API not available"),!1;const s=new File([e],r,{type:t}),n={files:[s]};return navigator.canShare(n)?(Qn("WebShare","START",r),await navigator.share({files:[s],title:r}),Qn("WebShare","OK"),!0):(Qn("WebShare","SKIP","canShare=false"),!1)}catch(s){return s?.name==="AbortError"?(Qn("WebShare","CANCELLED"),!0):(Qn("WebShare","ERROR",String(s?.message||s)),!1)}}async function Kke(e,r,t){try{const s=await Jm(e);Qn("ServerProxy","UPLOADING",`${r} (${e.size} bytes)`);const n=await fetch("/api/temp-download",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({base64Data:s,fileName:r,mimeType:t})});if(!n.ok)return Qn("ServerProxy","UPLOAD_FAILED",`status=${n.status}`),!1;const i=await n.json();if(!i.success||!i.downloadUrl)return Qn("ServerProxy","BAD_RESPONSE"),!1;const a=new URL(i.downloadUrl,window.location.origin).href;if(Qn("ServerProxy","URL_READY",a),i5()){Qn("ServerProxy","MOBILE_REDIRECT","using window.location for download");const u=document.createElement("iframe");u.style.display="none",u.src=a,document.body.appendChild(u),await new Promise(c=>setTimeout(c,3e3));try{document.body.removeChild(u)}catch{}return Qn("ServerProxy","IFRAME_DONE"),!0}const l=document.createElement("a");return l.href=i.downloadUrl,l.download=r,l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),Qn("ServerProxy","BROWSER_CLICK_DONE"),!0}catch(s){return Qn("ServerProxy","ERROR",String(s?.message||s)),!1}}function Zke(e,r){try{const t=URL.createObjectURL(e),s=document.createElement("a");return s.href=t,s.download=r,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>URL.revokeObjectURL(t),1e3),!0}catch(t){return console.error("[DL] Browser failed:",t),!1}}async function a5(e,r,t){const s=t||e.type||"application/octet-stream",n=i5(),i=p1();console.log("[DL] === START ===",{fileName:r,type:s,size:e.size,capacitor:i,mobile:n,ua:navigator.userAgent.substring(0,100)});const a=[];if(i){a.push("FileSharer");try{if(await Wke(e,r,s))return console.log("[DL] === SUCCESS via FileSharer ==="),!0}catch(l){console.error("[DL] FileSharer threw:",l?.message||l)}a.push("CapFS+Share");try{if(await qke(e,r,s))return console.log("[DL] === SUCCESS via CapFS+Share ==="),!0}catch(l){console.error("[DL] CapFS+Share threw:",l?.message||l)}}if(n){a.push("WebShare");try{if(await Hke(e,r,s))return console.log("[DL] === SUCCESS via WebShare ==="),!0}catch(l){console.error("[DL] WebShare threw:",l?.message||l)}a.push("ServerProxy");try{if(await Kke(e,r,s))return console.log("[DL] === SUCCESS via ServerProxy (iframe) ==="),!0}catch(l){console.error("[DL] ServerProxy threw:",l?.message||l)}return console.error("[DL] === ALL MOBILE METHODS FAILED ===",a),!1}if(_Z())try{const l=await Jm(e);if(window.Android?.downloadBase64File)return window.Android.downloadBase64File(l,r,s),!0;if(window.Android?.downloadFile)return window.Android.downloadFile(l,r,s),!0;if(window.Android?.shareFile)return window.Android.shareFile(l,r,s),!0}catch(l){console.error("[DL] AndroidBridge:",l)}if(kZ())try{const l=await Jm(e);return window.webkit?.messageHandlers?.downloadFile?.postMessage({base64:l,fileName:r,mimeType:s}),!0}catch(l){console.error("[DL] iOSBridge:",l)}return console.log("[DL] Using browser download"),Zke(e,r)}async function op(e,r){const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return a5(t,r)}const Gke=Object.freeze(Object.defineProperty({__proto__:null,downloadExcelFile:op,downloadFile:a5,hasAndroidBridge:_Z,hasIOSBridge:kZ,isAndroidWebView:xZ,isCapacitorNative:p1,isIOSWebView:wZ,isMobileWebView:i5},Symbol.toStringTag,{value:"Module"}));async function Xke(e){const r=new s5.Workbook,t=r.addWorksheet(" ");t.views=[{rightToLeft:!0}],t.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const s=t.getRow(1);s.font={bold:!0,color:{argb:"FFFFFFFF"}},s.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},s.alignment={vertical:"middle",horizontal:"center"},e.forEach(l=>{const u=t.addRow({purchaseDate:l.purchaseDate?Or(new Date(l.purchaseDate),"dd/MM/yyyy"):"",materialName:l.materialName||l.material?.name||"",materialCategory:l.materialCategory||l.material?.category||"",quantity:Number(l.quantity),unit:l.materialUnit||l.unit||l.material?.unit||"",unitPrice:Number(l.unitPrice),totalAmount:Number(l.totalAmount),purchaseType:l.purchaseType||"",supplierName:l.supplierName||"",invoiceNumber:l.invoiceNumber||"",projectName:l.projectName||l.project?.name||" ",notes:l.notes||""});u.alignment={vertical:"middle",horizontal:"right"},u.getCell("quantity").numFmt="#,##0.00",u.getCell("unitPrice").numFmt="#,##0.00",u.getCell("totalAmount").numFmt="#,##0.00"});const n=e.reduce((l,u)=>l+parseFloat(u.totalAmount||"0"),0),i=t.addRow({purchaseDate:"",totalAmount:n});i.font={bold:!0},i.getCell("totalAmount").numFmt="#,##0.00",i.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const a=await r.xlsx.writeBuffer();return await op(a,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`)}function Qke(){const[,e]=zs(),{selectedProjectId:r,isAllProjects:t,getProjectIdForApi:s}=Ko(),[n,i]=E.useState(""),[a,l]=E.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,c]=E.useState(!1),[d,p]=E.useState(!1),f=E.useCallback((Se,lt)=>{Se==="selectedDate"?yt(lt?Or(new Date(lt),"yyyy-MM-dd"):""):l(he=>({...he,[Se]:lt}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=E.useState(""),[v,x]=E.useState(""),[k,T]=E.useState(""),[A,L]=E.useState(""),[q,D]=E.useState(""),[$,z]=E.useState(""),K=$==="";E.useEffect(()=>{K&&D("0")},[K]);const[W,P]=E.useState(""),[R,C]=E.useState(""),[_,S]=E.useState(di()),[j,N]=E.useState(di()),[M,O]=E.useState(""),[B,G]=E.useState(""),[Q,re]=E.useState("0"),[F,Y]=E.useState("0"),[V,U]=E.useState(null),[Z,ie]=E.useState(!1),[me,ce]=E.useState(!0),[ye,ee]=E.useState(!1),[oe,ne]=E.useState(""),[fe,le]=E.useState(""),[ae,te]=E.useState(""),[se,de]=E.useState(""),[ge,ke]=E.useState(""),[Ee,Oe]=E.useState(""),[Le,Ge]=E.useState(),[Qe,yt]=E.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:it}=pn(),et=Ss(),{setFloatingAction:xe}=Go(),be=E.useCallback(()=>{i(""),yt(""),l({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),it({title:"  ",description:"      "})},[it]);E.useEffect(()=>{},[]),E.useEffect(()=>(xe(null),()=>xe(null)),[xe]);const Ve=async(Se,lt)=>{if(!(!lt||typeof lt!="string"||!lt.trim()))try{await qe("/api/autocomplete","POST",{category:Se,value:lt.trim()})}catch(he){console.log(`Failed to save autocomplete value for ${Se}:`,he)}},Xe=()=>{ne(""),le(""),te(""),de(""),ke(""),Oe("")},Mt=Pt({mutationFn:async Se=>(await Promise.all([Ve("supplier_name",oe),Ve("supplier_contact_person",fe),Ve("supplier_phone",ae),Ve("supplier_address",se),Ve("supplier_payment_terms",ge)]),qe("/api/suppliers","POST",Se)),onSuccess:Se=>{et.invalidateQueries({queryKey:ve.suppliers}),it({title:"   ",description:`   "${oe}"   `}),P(oe),ee(!1),Xe()},onError:Se=>{it({title:"   ",description:Se?.message||"    .    .",variant:"destructive"})}}),Xt=async Se=>{if(Se.preventDefault(),!oe.trim()){it({title:"  ",description:"   ",variant:"destructive"});return}const lt={name:oe.trim(),contactPerson:fe.trim()||void 0,phone:ae.trim()||void 0,address:se.trim()||void 0,paymentTerms:ge||void 0,notes:Ee.trim()||void 0,isActive:!0};Mt.mutate(lt)},{data:wt=[]}=xt({queryKey:ve.materials,queryFn:async()=>{try{const Se=await qe("/api/materials","GET");return Se&&Se.data&&Array.isArray(Se.data)?Se.data:Array.isArray(Se)?Se:[]}catch(Se){return console.error("Error fetching materials:",Se),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:Jt=[]}=xt({queryKey:ve.suppliers,queryFn:async()=>{try{const Se=await qe("/api/suppliers","GET");return Se&&Se.data&&Array.isArray(Se.data)?Se.data:Array.isArray(Se)?Se:[]}catch(Se){return console.error("Error fetching suppliers:",Se),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:bt,isLoading:It}=xt({queryKey:ve.materialPurchaseEdit(g),queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const Se=await qe(`/api/material-purchases/${g}`,"GET");console.log("    :",Se);let lt=null;if(Se&&Se.data)lt=Se.data;else if(Se&&Se.id)lt=Se;else return console.warn("     "),null;return console.log("     :",lt),lt}catch(Se){return console.error("      :",Se),null}},enabled:!!g,retry:1,staleTime:0});E.useEffect(()=>{if(bt&&g){console.log("    :",bt),console.log("   :",{purchaseToEdit:{materialName:bt.materialName,materialCategory:bt.materialCategory,materialUnit:bt.materialUnit,unit:bt.unit},material:bt.material?{name:bt.material.name,category:bt.material.category,unit:bt.material.unit}:"    "});const Se=bt.materialName||bt.material?.name||"",lt=bt.materialCategory||bt.material?.category||"",he=bt.materialUnit||bt.unit||bt.material?.unit||"";console.log("     :",{materialName:Se,materialCategory:lt,materialUnit:he}),m(Se),x(lt),T(he),L(bt.quantity?.toString()||""),D(bt.unitPrice?.toString()||""),z(bt.purchaseType||""),P(bt.supplierName||""),C(bt.invoiceNumber||""),S(bt.invoiceDate||""),N(bt.purchaseDate||""),re(bt.paidAmount?.toString()||"0"),Y(bt.remainingAmount?.toString()||"0"),O(bt.notes||""),G(bt.invoicePhoto||""),U(bt.id),ie(bt.addToInventory||!1),console.log("    :",{materialName:Se,materialCategory:lt,materialUnit:he,quantity:bt.quantity,unitPrice:bt.unitPrice,purchaseType:bt.purchaseType})}},[bt,g]),Pt({mutationFn:Se=>qe("/api/materials","POST",Se),onSuccess:()=>{et.invalidateQueries({queryKey:ve.materials})},onError:Se=>{console.error("Material creation error:",Se);let lt="    ";Se?.response?.data?.message&&(lt=Se.response.data.message),it({title:"",description:lt,variant:"destructive"})}}),Array.isArray(wt)&&wt.map(Se=>Se.name),Array.isArray(wt)&&Array.from(new Set(wt.map(Se=>Se.unit)));const{data:St=[]}=xt({queryKey:ve.materialPurchases(r,Qe),enabled:!!r,queryFn:async()=>await qe(`/api/projects/${r}/material-purchases?date=${Qe}`,"GET"),refetchOnWindowFocus:!1,retry:!1}),Sr=E.useMemo(()=>St&&St.data&&Array.isArray(St.data)?St.data:Array.isArray(St)?St:[],[St]),Ft=E.useMemo(()=>{const Se=Array.isArray(wt)?wt.map(je=>je.category):[],lt=Array.isArray(Sr)?Sr.map(je=>je.materialCategory):[];return Array.from(new Set([...Se,...lt])).filter(Boolean).map(je=>je.trim()).filter(je=>je!=="")},[wt,Sr]),jr=Array.isArray(Jt)?Jt.filter(Se=>Se.isActive):[],or=Pt({mutationFn:async Se=>{if(!Se.projectId||Se.projectId==="all")throw new Error("       ");return await Promise.all([Ve("materialNames",y),Ve("materialCategories",v),Ve("materialUnits",k),Ve("supplierNames",W),Ve("invoiceNumbers",R),Ve("notes",M)]),qe(`/api/projects/${Se.projectId}/material-purchases`,"POST",Se)},onMutate:async Se=>{await et.cancelQueries({queryKey:ve.materialPurchases(r,Qe)});const lt=et.getQueryData(ve.materialPurchases(r,Qe));return et.setQueryData(ve.materialPurchases(r,Qe),he=>{const je={id:`temp-${Date.now()}`,...Se,createdAt:new Date().toISOString()};return[...Array.isArray(he)?he:he&&typeof he=="object"&&Array.isArray(he.data)?he.data:[],je]}),it({title:" ",description:"  "}),{previousData:lt}},onSuccess:async Se=>{et.invalidateQueries({queryKey:ve.autocomplete});const lt=Se?.equipmentCreated;it({title:" ",description:lt?"     () ":"    "}),Ht(),et.invalidateQueries({queryKey:ve.materialPurchases(r,Qe)}),lt&&et.invalidateQueries({queryKey:ve.equipment})},onError:async Se=>{await Promise.all([Ve("materialNames",y),Ve("materialCategories",v),Ve("materialUnits",k),Ve("supplierNames",W),Ve("invoiceNumbers",R),Ve("notes",M)]),et.invalidateQueries({queryKey:ve.autocomplete}),console.error("Material purchase error:",Se);let lt="     ",he=[];if(Se?.response?.data){const Be=Se.response.data;Be.message&&(lt=Be.message),Be.details&&Array.isArray(Be.details)?he=Be.details:Be.validationErrors&&Array.isArray(Be.validationErrors)&&(he=Be.validationErrors)}let je=lt;he.length>0?je=`${lt}:
${he.map(Be=>` ${Be}`).join(`
`)}`:Se?.response?.data?.error&&(je=`${lt}: ${Se.response.data.error}`),it({title:"    ",description:je,variant:"destructive",duration:1e4})}}),Ht=()=>{m(""),x(""),T(""),L(""),D(""),z(""),P(""),C(""),S(di()),N(di()),O(""),G(""),U(null),ie(!1)},Nr=Pt({mutationFn:async({id:Se,data:lt})=>{console.log(" [PATCH]   :",{id:Se,data:lt}),await Promise.all([Ve("materialNames",y),Ve("materialCategories",v),Ve("materialUnits",k),Ve("supplierNames",W),Ve("invoiceNumbers",R),Ve("notes",M)]);const he=await qe(`/api/material-purchases/${Se}`,"PATCH",lt);return console.log(" [PATCH]   :",he),he},onSuccess:async Se=>{et.invalidateQueries({queryKey:ve.autocomplete});const lt=Se?.equipmentCreated;lt&&et.invalidateQueries({queryKey:ve.equipment}),it({title:lt?"   ":" ",description:lt?"       ":"    "}),Ht(),et.invalidateQueries({queryKey:ve.materialPurchases(r,Qe)})},onError:async Se=>{await Promise.all([Ve("materialNames",y),Ve("materialCategories",v),Ve("materialUnits",k),Ve("supplierNames",W),Ve("invoiceNumbers",R),Ve("notes",M)]),et.invalidateQueries({queryKey:ve.autocomplete}),console.error("Material purchase update error:",Se);let lt="     ",he=[];if(Se?.response?.data){const Be=Se.response.data;Be.message&&(lt=Be.message),Be.details&&Array.isArray(Be.details)?he=Be.details:Be.validationErrors&&Array.isArray(Be.validationErrors)&&(he=Be.validationErrors)}const je=he.length>0?`${lt}

${he.map(Be=>` ${Be}`).join(`
`)}`:lt;it({title:"    ",description:je,variant:"destructive",duration:8e3})}}),gr=Pt({mutationFn:Se=>qe(`/api/material-purchases/${Se}`,"DELETE"),onMutate:async Se=>{await et.cancelQueries({queryKey:ve.materialPurchases(r,Qe)});const lt=et.getQueryData(ve.materialPurchases(r,Qe));return et.setQueryData(ve.materialPurchases(r,Qe),he=>he?he.filter(je=>je.id!==Se):[]),it({title:" ",description:"    "}),{previousData:lt}},onSuccess:()=>{it({title:" ",description:"    "}),et.invalidateQueries({queryKey:ve.materialPurchases(r,Qe)})},onError:Se=>{console.error("Material purchase delete error:",Se);let lt="     ",he=[];if(Se?.response?.data){const Be=Se.response.data;Be.message&&(lt=Be.message),Be.details&&Array.isArray(Be.details)&&(he=Be.details)}const je=he.length>0?`${lt}

${he.map(Be=>` ${Be}`).join(`
`)}`:lt;it({title:"    ",description:je,variant:"destructive",duration:6e3})}}),rr=()=>{const Se=parseFloat(A)||0,lt=parseFloat(q)||0;return(Se*lt).toFixed(2)},Ce=Se=>{const lt=Se.target.files?.[0];if(lt){const he=new FileReader;he.onload=je=>{G(je.target?.result)},he.readAsDataURL(lt)}},Me=(Se=!1)=>{const lt=$!=="";if(!r||!y||!k||!A||lt&&!q){it({title:"",description:"    ",variant:"destructive"});return}const he=rr(),je={projectId:r,materialName:y.trim(),materialCategory:v?.trim()||null,materialUnit:k.trim(),quantity:A.toString(),unitPrice:(lt?q:q||"0").toString(),totalAmount:(lt?he:he||"0").toString(),purchaseType:$.trim(),paidAmount:$.trim()===""&&he.toString()||"0",remainingAmount:($.trim()===""||$.trim()==="")&&he.toString()||"0",supplierName:W?.trim()||"",invoiceNumber:R?.trim()||"",invoiceDate:_||new Date().toISOString().split("T")[0],purchaseDate:j||new Date().toISOString().split("T")[0],notes:M?.trim()||"",wellId:Le||null,invoicePhoto:B||"",addToInventory:Z,status:"completed"};console.log("    :",je),V?Nr.mutate({id:V,data:je}):or.mutate(je),!Se&&!V&&e("/daily-expenses")},{data:We=[],isLoading:st,refetch:$t}=xt({queryKey:ve.materialPurchasesFiltered(s()??"all",Qe),queryFn:async()=>{const Se=s(),lt="/api/material-purchases",he=new URLSearchParams;Se&&Se!=="all"&&he.append("projectId",Se),Qe&&Qe!==""&&he.append("date",Qe);const je=he.toString(),Be=je?`${lt}?${je}`:lt;console.log(` [Fetching] ${Be}`);const Ze=await qe(Be,"GET"),jt=Ze.data||Ze;return Array.isArray(jt)?jt:[]},enabled:!0,staleTime:0}),ut=E.useMemo(()=>We.filter(Se=>{const lt=t||!r||Se.projectId===r,he=n===""||Se.materialName?.toLowerCase().includes(n.toLowerCase())||Se.supplierName?.toLowerCase().includes(n.toLowerCase())||Se.notes?.toLowerCase().includes(n.toLowerCase())||Se.materialCategory?.toLowerCase().includes(n.toLowerCase()),je=a.paymentType==="all"||Se.purchaseType===a.paymentType,Be=!a.category||a.category==="all"||Se.materialCategory===a.category,Ze=!Qe||Se.purchaseDate===Qe;let jt=!0;if(a.dateRange?.from||a.dateRange?.to){const ht=new Date(Se.purchaseDate);if(a.dateRange.from){const lr=new Date(a.dateRange.from);lr.setHours(0,0,0,0),jt=jt&&ht>=lr}if(a.dateRange.to){const lr=new Date(a.dateRange.to);lr.setHours(23,59,59,999),jt=jt&&ht<=lr}}let ct=!0;if(a.specificDate){const ht=new Date(Se.purchaseDate),lr=new Date(a.specificDate);ct=ht.getFullYear()===lr.getFullYear()&&ht.getMonth()===lr.getMonth()&&ht.getDate()===lr.getDate()}return lt&&he&&je&&Be&&jt&&Ze&&ct}),[We,r,t,n,a.paymentType,a.category,a.dateRange,a.specificDate,Qe]),Ot=E.useMemo(()=>({total:We.length,cash:We.filter(Se=>Se.purchaseType==="").length,credit:We.filter(Se=>Se.purchaseType?.includes("")||Se.purchaseType?.includes("")).length,supply:We.filter(Se=>Se.purchaseType==="").length,totalValue:We.reduce((Se,lt)=>Se+parseFloat(lt.totalAmount||"0"),0),avgValue:We.length>0?We.reduce((Se,lt)=>Se+parseFloat(lt.totalAmount||"0"),0)/We.length:0}),[We]),Kt=E.useCallback(async()=>{c(!0);try{await $t()}finally{c(!1)}},[$t]);E.useEffect(()=>{(t||r)&&!We.length&&$t()},[r,t,$t,We.length]);const Tt=Se=>{m(Se.materialName||Se.material?.name||""),x(Se.materialCategory||Se.material?.category||""),T(Se.materialUnit||Se.material?.unit||Se.unit||""),L(Se.quantity),D(Se.unitPrice),z(Se.purchaseType||Se.paymentType||""),P(Se.supplierName||""),C(Se.invoiceNumber||""),S(Se.invoiceDate||""),N(Se.purchaseDate||""),O(Se.notes||""),G(Se.invoicePhoto||""),U(Se.id),ie(Se.addToInventory||!1),ce(!1)},nr=Se=>{if(!Se)return"N/A";try{return new Date(Se).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(lt){return console.error("Error formatting date:",Se,lt),Se}},Qt=Se=>{window.confirm("       ")&&gr.mutate(Se)},ar=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:Ot.total,icon:jn,color:"blue"},{key:"cash",label:" ",value:Ot.cash,icon:Tr,color:"green"},{key:"credit",label:" ",value:Ot.credit,icon:BR,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:Ot.supply,icon:nT,color:"purple"},{key:"totalValue",label:" ",value:Je(Ot.totalValue),icon:$n,color:"teal"},{key:"avgValue",label:" ",value:Je(Ot.avgValue),icon:Ise,color:"indigo"}]}],[Ot]),mr=E.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(Ft||[]).map(Se=>({value:Se,label:Se}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[Ft]),en=E.useCallback(async()=>{if(ut.length===0){it({title:"  ",description:"       ",variant:"destructive"});return}p(!0);try{const Se=await Xke(ut);it(Se?{title:"  ",description:`  ${ut.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(Se){console.error("Export error:",Se),it({title:"  ",description:"     ",variant:"destructive"})}finally{p(!1)}},[ut,it]),Ir=E.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:_g,onClick:en,variant:"outline",disabled:d||ut.length===0}],[en,d,ut.length]);return o.jsxs("div",{className:"p-4 slide-in",children:[o.jsx(bo,{hideHeader:!0,title:"",statsRows:ar,searchValue:n,onSearchChange:i,searchPlaceholder:"    ...",showSearch:!0,filters:mr,filterValues:a,onFilterChange:f,onReset:be,onRefresh:Kt,isRefreshing:u,actions:Ir}),It&&g&&o.jsx(ir,{className:"mb-4 border-blue-200 bg-blue-50",children:o.jsx(br,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),o.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),o.jsx(Ga,{open:!me,onOpenChange:Se=>ce(!Se),children:o.jsx(ir,{className:"mb-4",children:o.jsxs(br,{className:me?"p-2":"p-4",children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${me?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[o.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${me?"text-base":"text-lg"}`,children:[o.jsx(jn,{className:me?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),V?" ":"  "]}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:me?o.jsx(Bn,{className:"h-4 w-4"}):o.jsx(Lo,{className:"h-4 w-4"})})]})}),o.jsx(Qa,{children:o.jsxs("div",{className:"space-y-1 pt-2",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsx(Ms,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsx(Ms,{value:v,onChange:x,category:"materialCategories",placeholder:"    ..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),o.jsx(vt,{type:"number",inputMode:"decimal",value:A,onChange:Se=>L(Se.target.value),placeholder:"0",className:"text-center arabic-numbers",autoWidth:!0,maxWidth:150})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),o.jsx(Ms,{value:k,onChange:T,category:"materialUnits",placeholder:"  ..."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsx(vt,{type:"number",inputMode:"decimal",value:q,onChange:Se=>D(Se.target.value),placeholder:"0.00",disabled:K,className:`text-center arabic-numbers ${K?"cursor-not-allowed opacity-50 bg-muted":""}`})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsx(vt,{type:"number",value:rr(),readOnly:!0,disabled:K,className:`text-center arabic-numbers ${K?"bg-muted cursor-not-allowed":"bg-muted"}`})]})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsxs(bZ,{value:$,onValueChange:z,className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[o.jsx(vb,{value:"",id:"cash"}),o.jsx(Ye,{htmlFor:"cash",className:"text-sm",children:""})]}),o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[o.jsx(vb,{value:"",id:"credit"}),o.jsx(Ye,{htmlFor:"credit",className:"text-sm",children:""})]}),o.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[o.jsx(vb,{value:"",id:"storage"}),o.jsx(Ye,{htmlFor:"storage",className:"text-sm",children:""})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[o.jsx(t0,{id:"addToInventory",checked:Z,onCheckedChange:Se=>ie(Se===!0),"data-testid":"checkbox-add-to-inventory"}),o.jsxs(Ye,{htmlFor:"addToInventory",className:"text-sm font-medium text-blue-700 dark:text-blue-300 cursor-pointer flex items-center gap-2",children:[o.jsx(jn,{className:"h-4 w-4"}),"  ()"]})]}),o.jsx(Gm,{projectId:r,value:Le,onChange:Ge,optional:!0}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" /"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(us,{value:W,onValueChange:P,options:jr.map(Se=>({value:Se.name,label:Se.name,description:Se.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),o.jsxs(Ys,{open:ye,onOpenChange:ee,children:[o.jsx(Dh,{asChild:!0,children:o.jsx(Ie,{type:"button",variant:"outline",size:"icon",title:"  ",children:o.jsx(vs,{className:"h-4 w-4"})})}),o.jsxs($s,{className:"sm:max-w-[425px]",dir:"rtl",children:[o.jsxs(Js,{children:[o.jsx(hi,{children:"  "}),o.jsx(ec,{children:"   .      ."})]}),o.jsxs("form",{onSubmit:Xt,className:"form-grid",children:[o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"supplier-name",children:" / *"}),o.jsx(vt,{id:"supplier-name",value:oe,onChange:Se=>ne(Se.target.value),placeholder:":   ",required:!0})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"supplier-contact",children:" "}),o.jsx(vt,{id:"supplier-contact",value:fe,onChange:Se=>le(Se.target.value),placeholder:":  "})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"supplier-phone",children:" "}),o.jsx(vt,{id:"supplier-phone",value:ae,onChange:Se=>te(Se.target.value),placeholder:": 777123456",type:"tel"})]}),o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"supplier-address",children:""}),o.jsx(vt,{id:"supplier-address",value:se,onChange:Se=>de(Se.target.value),placeholder:":   "})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"supplier-payment",children:" "}),o.jsxs(es,{value:ge,onValueChange:ke,children:[o.jsx(Wn,{children:o.jsx(ts,{placeholder:"  "})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"",children:""}),o.jsx(zt,{value:"",children:""}),o.jsx(zt,{value:" ",children:" "})]})]})]}),o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"supplier-notes",children:""}),o.jsx(Oh,{id:"supplier-notes",value:Ee,onChange:Se=>Oe(Se.target.value),placeholder:"  ...",autoHeight:!0,minRows:3,maxRows:6})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx(Ie,{type:"submit",disabled:Mt.isPending||!oe.trim(),children:Mt.isPending?" ...":" "}),o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{ee(!1),Xe()},children:""})]})]})]})]})]}),jr.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),o.jsx(bl,{label:" ",value:j,onChange:Se=>N(Se?Or(Se,"yyyy-MM-dd"):"")}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsx(Ms,{type:"number",inputMode:"numeric",value:R,onChange:C,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),o.jsx(bl,{label:" ",value:_,onChange:Se=>S(Se?Or(Se,"yyyy-MM-dd"):"")})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[B?o.jsxs("div",{className:"space-y-2",children:[o.jsx("img",{src:B,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),o.jsx("p",{className:"text-sm text-success",children:"   "})]}):o.jsxs(o.Fragment,{children:[o.jsx(OR,{className:"h-12 w-12 text-muted-foreground mx-auto"}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]}),o.jsx(vt,{type:"file",accept:"image/*",onChange:Ce,className:"hidden",id:"invoice-photo"}),o.jsx(Ye,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:B?" ":" "})]})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),o.jsx(Ms,{value:M,onChange:O,category:"notes",placeholder:"  ..."})]}),o.jsxs("div",{className:"space-y-3 pt-4",children:[o.jsxs(Ie,{onClick:()=>Me(!1),disabled:or.isPending||Nr.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[o.jsx(Qc,{className:"ml-2 h-4 w-4"}),or.isPending||Nr.isPending?" ...":V?" ":" "]}),!V&&o.jsxs(Ie,{onClick:()=>Me(!0),disabled:or.isPending,variant:"outline",className:"w-full",children:[o.jsx(vs,{className:"ml-2 h-4 w-4"}),"  "]}),V&&o.jsx(Ie,{onClick:Ht,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),st&&o.jsx(ir,{className:"mt-4",children:o.jsx(br,{className:"p-4",children:o.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!st&&ut.length===0&&o.jsx(ir,{className:"mt-4",children:o.jsx(br,{className:"p-4",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(jn,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),o.jsx("h3",{className:"text-lg font-medium",children:"  "}),o.jsx("p",{className:"text-sm",children:We.length>0?"       ":"     "})]})})}),ut.length>0&&o.jsx("div",{className:"mt-4",children:o.jsx(ei,{columns:3,children:ut.map(Se=>{const lt=Se.purchaseType||"",he=lt==="",je=lt===""||lt==="",Be=lt===""||lt===""||lt==="",Ze=he?"#22c55e":je?"#f97316":Be?"#3b82f6":"#6366f1";return o.jsx(vn,{title:Se.materialName||"  ",subtitle:nr(Se.purchaseDate),titleIcon:nT,headerColor:Ze,badges:[{label:lt,variant:he?"success":je?"warning":Be?"info":"default"}],fields:[...t||!r?[{label:"",value:Se.projectName||Se.project?.name||" ",icon:hs,color:"info"}]:[],{label:"",value:Se.supplierName||" ",icon:Vn,color:"default"},{label:"",value:`${Se.quantity} ${Se.materialUnit||Se.unit}`,icon:jn,color:"warning",emphasis:!0},{label:" ",value:Je(Se.unitPrice),icon:Tr,color:"default"},{label:"",value:Je(Se.totalAmount),icon:Tr,color:he?"success":je?"warning":Be?"info":"default",emphasis:!0},{label:"",value:nr(Se.purchaseDate),icon:ks,color:"muted"}],actions:[{icon:mu,label:"",onClick:()=>Tt(Se),color:"blue"},{icon:Yn,label:"",onClick:()=>Qt(Se.id),color:"red"}],compact:!0},Se.id)})})})]})}function Yke({value:e,onValueChange:r,options:t,placeholder:s="...",emptyText:n="  ",allowCustom:i=!0,customPlaceholder:a=" ..."}){const[l,u]=E.useState(!1),[c,d]=E.useState(""),[p,f]=E.useState(!1),[h,g]=E.useState(""),y=E.useRef(null);E.useEffect(()=>{if(l&&y.current){y.current.focus();const A=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(A)}},[l]);const m=E.useMemo(()=>Array.from(new Set(t)).sort((L,q)=>String(L).localeCompare(String(q),"ar")),[t]),v=E.useMemo(()=>h?m.filter(A=>A.toLowerCase().includes(h.toLowerCase())):m,[m,h]),x=A=>{if(A==="__custom__"){f(!0);return}r(A),u(!1),f(!1),d(""),g("")},k=()=>{c.trim()&&(r(c.trim()),u(!1),f(!1),d(""),g(""))},T=e||s;return o.jsxs(r1,{open:l,onOpenChange:u,children:[o.jsx(n1,{asChild:!0,children:o.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between",children:[o.jsx("span",{className:Ae("truncate",!e&&"text-muted-foreground"),children:T}),o.jsx(Bn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsxs(l0,{className:"w-full p-0",align:"start",children:[o.jsx("div",{className:"border-b p-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(vt,{ref:y,placeholder:"...",value:h,onChange:A=>g(A.target.value),className:"pr-8"})]})}),o.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!i&&o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:n}),v.map(A=>o.jsxs("button",{onClick:()=>x(A),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[o.jsx($o,{className:Ae("mr-2 h-4 w-4",e===A?"opacity-100":"opacity-0")}),A]},A)),i&&o.jsxs("button",{onClick:()=>x("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[o.jsx(vs,{className:"mr-2 h-4 w-4"}),a]})]}),p&&o.jsxs("div",{className:"border-t p-3 space-y-2",children:[o.jsx(vt,{value:c,onChange:A=>d(A.target.value),placeholder:"  ...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),k())},autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{onClick:k,size:"sm",className:"flex-1",disabled:!c.trim(),children:""}),o.jsx(Ie,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const J2={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"},critical:{border:"border-l-red-600",text:"text-red-700",bg:"bg-red-100 dark:bg-red-950/40",iconBg:"bg-red-200 dark:bg-red-900/50",iconColor:"text-red-700 dark:text-red-300"},warning:{border:"border-l-amber-500",text:"text-amber-700",bg:"bg-amber-100 dark:bg-amber-950/40",iconBg:"bg-amber-200 dark:bg-amber-900/50",iconColor:"text-amber-700 dark:text-amber-300"}};function UA({title:e,label:r,value:t,icon:s,color:n="blue",gradient:i,iconBg:a,iconColor:l,formatter:u,className:c="","data-testid":d,secondaryLabel:p,secondaryIcon:f}){const h=n&&J2[n]?J2[n]:J2.blue,g=r||e||"",m=(()=>{if(t==null)return"0";if(typeof t=="number"){if(isNaN(t)||!isFinite(t))return"0";const k=Math.max(0,t);return u?u(k):k.toLocaleString("en-US")}return t.toString()})(),v=g.length>15,x=({children:k})=>v?o.jsx(zv,{delayDuration:300,children:o.jsxs(jS,{children:[o.jsx(NS,{asChild:!0,children:k}),o.jsx(Bv,{side:"top",className:"max-w-[200px] text-center",children:o.jsx("p",{className:"text-xs",children:g})})]})}):o.jsx(o.Fragment,{children:k});return o.jsx(ir,{className:Ae(h.border,h.bg,"border-l-4 hover:shadow-md transition-all duration-300 h-full min-h-[60px] sm:min-h-[70px] rounded-xl overflow-hidden shadow-sm",c),children:o.jsxs(br,{className:"p-2 sm:p-3 flex flex-col justify-between h-full",children:[o.jsxs("div",{className:"flex items-start justify-between gap-1",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(x,{children:o.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-muted-foreground/80 uppercase tracking-tighter truncate mb-0.5",children:g})}),o.jsx("p",{className:Ae("text-xs sm:text-sm md:text-base font-black font-mono tracking-tighter leading-none",h.text),children:m})]}),o.jsx("div",{className:Ae("h-6 w-6 sm:h-8 sm:w-9 rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm",h.iconBg),children:o.jsx(s,{className:Ae("h-3.5 w-3.5 sm:h-4 sm:w-5",h.iconColor)})})]}),(p||n==="critical"||n==="warning")&&o.jsxs("div",{className:"mt-2 sm:mt-4 pt-2 sm:pt-3 border-t border-black/5 dark:border-white/5 flex items-center gap-2",children:[n==="critical"&&o.jsx(ti,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-red-600 animate-pulse"}),n==="warning"&&o.jsx(pi,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-amber-600"}),f&&o.jsx(f,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 opacity-70"}),o.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold opacity-80 truncate",children:p||(n==="critical"?"1  ":n==="warning"?"1 ":"")})]})]})})}function ku({title:e,subtitle:r,stats:t,columns:s=2,showStatus:n=!0,compact:i=!1,hideHeader:a=!1}){const l={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(a)return o.jsx("div",{className:`grid ${l[s]} gap-1 sm:gap-2`,children:t.map((f,h)=>o.jsxs("div",{className:"relative",children:[f.status==="critical"&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),o.jsx(UA,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&o.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"h-3 w-3 text-green-600"}),o.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ei,{className:"h-3 w-3 text-red-600"}),o.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))});const u=t.filter(f=>f.status==="critical"),c=t.filter(f=>f.status==="warning"),p=u.length>0?{label:"",color:"destructive"}:c.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return o.jsxs("div",{className:"space-y-3",children:[e&&o.jsx("div",{className:"px-2",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:e}),r&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r})]}),n&&o.jsx(At,{variant:p.color==="default"?"secondary":p.color,className:"text-xs",children:p.label})]})}),o.jsx("div",{className:`grid ${l[s]} gap-1 sm:gap-2`,children:t.map((f,h)=>o.jsxs("div",{className:"relative",children:[f.status==="critical"&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-red-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),f.status==="warning"&&o.jsx("div",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 bg-amber-500 rounded-full animate-pulse z-10 border-2 border-white dark:border-slate-900"}),o.jsx(UA,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&o.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"h-3 w-3 text-green-600"}),o.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ei,{className:"h-3 w-3 text-red-600"}),o.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))})]})}const Jke={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},e4e={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function t4e(){zs();const{selectedProjectId:e,isAllProjects:r,getProjectIdForApi:t}=Ko(),[s,n]=E.useState(""),[i,a]=E.useState({dateRange:void 0,specificDate:di()}),[l,u]=E.useState(!1),[c,d]=E.useState(null),[p,f]=E.useState(!1),[h,g]=E.useState(""),[y,m]=E.useState(""),[v,x]=E.useState(""),[k,T]=E.useState(di()),[A,L]=E.useState(""),[q,D]=E.useState("worker_transport"),[$,z]=E.useState(),{toast:K}=pn(),W=Ss(),{setFloatingAction:P}=Go(),R=E.useCallback(()=>{g(""),m(""),x(""),T(di()),L(""),D("worker_transport"),z(void 0),d(null),u(!1)},[]);E.useEffect(()=>(P(()=>{u(!0),d(null)},"  "),()=>P(null)),[P]);const{data:C=[]}=xt({queryKey:ve.workers}),{data:_,isLoading:S,refetch:j}=xt({queryKey:ve.projectTransportation(e,i.specificDate,i.dateRange),queryFn:async()=>{let ee=r?"/api/transportation-expenses":`/api/projects/${t()}/transportation-expenses`;const oe=new URLSearchParams;i.specificDate&&oe.append("date",i.specificDate),i.dateRange?.from&&oe.append("dateFrom",oT(i.dateRange.from)),i.dateRange?.to&&oe.append("dateTo",oT(i.dateRange.to));const ne=oe.toString();return await qe(`${ee}${ne?`?${ne}`:""}`,"GET")},enabled:!!e||r}),{data:N}=xt({queryKey:ve.autocompleteTransportCategories,queryFn:async()=>qe("/api/autocomplete/transport-categories","GET")}),M=E.useMemo(()=>{const ee={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return N?.data&&N.data.forEach(oe=>{ee[oe.value]=oe.label}),ee},[N]),O=E.useMemo(()=>{const ee=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!N?.data)return ee;const oe=new Set(ee.map(fe=>fe.value)),ne=N.data.map(fe=>({value:fe.value,label:fe.label})).filter(fe=>!oe.has(fe.value));return[...ee,...ne]},[N]),B=E.useMemo(()=>_?.data||[],[_]),G=E.useMemo(()=>{if(!s)return B;const ee=s.toLowerCase();return B.filter(oe=>oe.description.toLowerCase().includes(ee)||oe.workerName&&oe.workerName.toLowerCase().includes(ee)||oe.projectName&&oe.projectName.toLowerCase().includes(ee))},[B,s]),Q=E.useMemo(()=>{const ee=B.reduce((de,ge)=>de+Number(ge.amount),0),oe=B.length,ne=B.filter(de=>de.category==="maintenance").reduce((de,ge)=>de+Number(ge.amount),0),fe=B.filter(de=>de.category==="fuel_shas"||de.category==="fuel_hilux").reduce((de,ge)=>de+Number(ge.amount),0),le=B.filter(de=>de.category==="material_delivery").reduce((de,ge)=>de+Number(ge.amount),0),ae=B.filter(de=>de.category==="concrete_transport").reduce((de,ge)=>de+Number(ge.amount),0),te=B.filter(de=>de.category==="iron_platforms").reduce((de,ge)=>de+Number(ge.amount),0),se=B.filter(de=>de.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(de.category)).reduce((de,ge)=>de+Number(ge.amount),0);return[{title:"  ",value:Je(ee),icon:Tr,color:"blue"},{title:" ",value:oe,icon:Ni,color:"green"},{title:"  ",value:Je(oe>0?ee/oe:0),icon:$n,color:"amber"},{title:" ",value:Je(ne),icon:Wh,color:"purple"},{title:" ",value:Je(fe),icon:Ose,color:"red"},{title:" ",value:Je(le),icon:jn,color:"indigo"},{title:" ",value:Je(ae),icon:hs,color:"orange"},{title:"  ",value:Je(te),icon:jn,color:"slate"},{title:" ",value:Je(se),icon:Pm,color:"gray"}]},[B]),re=async()=>{try{const ee=new n5.Workbook;ee.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const oe=ee.addWorksheet(" ",{views:[{rightToLeft:!0}]});oe.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const ne=oe.getRow(1);ne.font={bold:!0,color:{argb:"FFFFFF"},size:12},ne.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},ne.alignment={vertical:"middle",horizontal:"center"},B.forEach(ae=>{const te=oe.addRow({date:Ao(ae.date),description:ae.description,amount:Number(ae.amount),category:M[ae.category]||ae.category||"",worker:C.find(se=>se.id===ae.workerId)?.name||" ",well:ae.wellId||"N/A",notes:ae.notes||""});te.alignment={vertical:"middle",horizontal:"right"},te.getCell(3).numFmt="#,##0"});const fe=await ee.xlsx.writeBuffer(),le=await op(fe,`__${new Date().toLocaleDateString("en-GB").replace(/\//g,"-")}.xlsx`);K(le?{title:"  ",description:"    "}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ee){console.error("Export error:",ee),K({title:"  ",variant:"destructive"})}},F=()=>{n(""),a({dateRange:void 0,specificDate:di()}),K({title:"  ",description:"   "})},Y=async()=>{f(!0),await j(),f(!1),K({title:" ",description:"   "})},V=Pt({mutationFn:async ee=>c?qe(`/api/transportation-expenses/${c}`,"PATCH",ee):qe("/api/transportation-expenses","POST",ee),onSuccess:()=>{W.invalidateQueries({queryKey:ve.projects}),W.invalidateQueries({queryKey:ve.transportationExpenses}),K({title:c?"  ":"  "}),R()},onError:ee=>{K({title:"  ",description:ee?.message||"   ",variant:"destructive"})}}),U=Pt({mutationFn:ee=>qe(`/api/transportation-expenses/${ee}`,"DELETE"),onSuccess:()=>{W.invalidateQueries({queryKey:ve.projects}),W.invalidateQueries({queryKey:ve.transportationExpenses}),K({title:"  "})}}),Z=ee=>{if(ee.preventDefault(),!y||!v){K({title:"",description:"   ",variant:"destructive"});return}V.mutate({projectId:e,workerId:h||null,amount:y,description:v,date:k,category:q,notes:A,wellId:$})},ie=ee=>{d(ee.id),g(ee.workerId||""),m(ee.amount.toString()),x(ee.description),T(ee.date),L(ee.notes||""),D(ee.category||"worker_transport"),z(ee.wellId||void 0),u(!0)},me=E.useCallback((ee,oe)=>{if(ee==="specificDate")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),le=String(oe.getDate()).padStart(2,"0");a(ae=>({...ae,specificDate:`${ne}-${fe}-${le}`,dateRange:void 0}))}else a(ne=>({...ne,specificDate:void 0}));else a(ee==="dateRange"?ne=>({...ne,[ee]:oe,specificDate:void 0}):ne=>({...ne,[ee]:oe}))},[]),ce=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:O}],ye=[{key:"export",icon:_g,label:" ",onClick:re,variant:"outline",tooltip:"   "}];return o.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:o.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:o.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[o.jsx(ku,{title:"  ",stats:Q,columns:3}),o.jsx(Ys,{open:l,onOpenChange:u,children:o.jsxs($s,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[o.jsx(Js,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:o.jsxs(hi,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[o.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:o.jsx(Ni,{className:"h-5 w-5"})}),c?"  ":"   "]})}),o.jsx("div",{className:"p-4",children:o.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"col-span-2 space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(mu,{className:"h-3 w-3"}),"  / "]}),o.jsx(Ms,{category:"transport_desc",value:v,onChange:x,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20",autoWidth:!0,maxWidth:400})]}),o.jsxs("div",{className:"col-span-1 space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(Pb,{className:"h-3 w-3"})," "]}),o.jsx(us,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:q,onValueChange:ee=>D(ee),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(Tr,{className:"h-3 w-3"})," "]}),o.jsxs("div",{className:"relative",children:[o.jsx(vt,{type:"number",value:y,onChange:ee=>m(ee.target.value),placeholder:"0.00",autoWidth:!0,maxWidth:200,className:"min-h-11 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),o.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(ks,{className:"h-3 w-3"})," "]}),o.jsx(bl,{value:k,onChange:ee=>T(ee?Or(ee,"yyyy-MM-dd"):di()),className:"h-9"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(vs,{className:"h-3 w-3"}),"  ()"]}),o.jsx(Yke,{options:C.map(ee=>String(ee.name)),value:C.find(ee=>ee.id===h)?.name||"",onValueChange:ee=>{const oe=C.find(ne=>ne.name===ee);oe&&g(oe.id)},placeholder:" ..."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[o.jsx(Y8,{className:"h-3 w-3"})," "]}),o.jsx(Gm,{projectId:e,value:$,onChange:z,showLabel:!1})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),o.jsx(Oh,{value:A,onChange:ee=>L(ee.target.value),placeholder:"  ...",className:"rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20 text-xs",autoHeight:!0,minRows:2,maxRows:6})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o.jsx(Ie,{type:"button",variant:"ghost",onClick:R,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),o.jsxs(Ie,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:V.isPending,children:[o.jsx(Qc,{className:"h-4 w-4"}),c?"":""]})]})]})})]})}),o.jsx(bo,{hideHeader:!0,filters:ce,filterValues:{...i,specificDate:i.specificDate?(()=>{const[ee,oe,ne]=i.specificDate.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:me,onSearchChange:n,searchValue:s,onReset:F,onRefresh:Y,isRefreshing:p,actions:ye,searchPlaceholder:"   ..."}),S?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(ee=>o.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},ee))}):B.length===0?o.jsxs(ir,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[o.jsx(Ni,{className:"h-12 w-12 text-slate-300 mb-4"}),o.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),o.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):o.jsx(ei,{children:G.map(ee=>o.jsx(vn,{title:ee.description,subtitle:(()=>{const oe=ee.workerName||" ";return r&&ee.projectName?`${oe} - ${ee.projectName}`:oe})(),titleIcon:Ni,className:Ae("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",Jke[ee.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:Je(Number(ee.amount)),icon:Tr,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(oe=>oe.value===ee.category)?.label||ee.category||"",icon:Pb,emphasis:!1,iconClassName:e4e[ee.category]||"text-blue-500"},{label:"",value:ee.date,icon:ks,color:"info",iconClassName:"text-sky-500"},{label:"",value:ee.wellId?` ${ee.wellId}`:"N/A",icon:Y8,hidden:!ee.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:mu,label:"",onClick:()=>ie(ee),variant:"ghost"},{icon:Yn,label:"",onClick:()=>{confirm("    ")&&U.mutate(ee.id)},variant:"ghost"}],footer:ee.notes&&o.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Pm,{className:"h-3 w-3 text-slate-400 mt-0.5"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:ee.notes})})]})})},ee.id))})]})})})}const nt=Symbol.for("drizzle:entityKind");function Zs(e,r){if(!e||typeof e!="object")return!1;if(e instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,nt))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let t=Object.getPrototypeOf(e).constructor;if(t)for(;t;){if(nt in t&&t[nt]===r[nt])return!0;t=Object.getPrototypeOf(t)}return!1}var DP;DP=nt;class Fh{constructor(r,t){De(this,"name");De(this,"keyAsName");De(this,"primary");De(this,"notNull");De(this,"default");De(this,"defaultFn");De(this,"onUpdateFn");De(this,"hasDefault");De(this,"isUnique");De(this,"uniqueName");De(this,"uniqueType");De(this,"dataType");De(this,"columnType");De(this,"enumValues");De(this,"generated");De(this,"generatedIdentity");De(this,"config");this.table=r,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}De(Fh,DP,"Column");var MP;MP=nt;class SZ{constructor(r,t,s){De(this,"config");De(this,"$default",this.$defaultFn);De(this,"$onUpdate",this.$onUpdateFn);this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}De(SZ,MP,"ColumnBuilder");const th=Symbol.for("drizzle:Name");var RP;RP=nt;class jZ{constructor(r,t){De(this,"reference");De(this,"_onUpdate","no action");De(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:n,foreignColumns:i}=r();return{name:s,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new NZ(r,this)}}De(jZ,RP,"PgForeignKeyBuilder");var $P;$P=nt;class NZ{constructor(r,t){De(this,"reference");De(this,"onUpdate");De(this,"onDelete");this.table=r,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:r,columns:t,foreignColumns:s}=this.reference(),n=t.map(l=>l.name),i=s.map(l=>l.name),a=[this.table[th],...n,s[0].table[th],...i];return r??`${a.join("_")}_fk`}}De(NZ,$P,"PgForeignKey");function r4e(e,...r){return e(...r)}function n4e(e,r){return`${e[th]}_${r.join("_")}_unique`}function VA(e,r,t){for(let s=r;s<e.length;s++){const n=e[s];if(n==="\\"){s++;continue}if(n==='"')return[e.slice(r,s).replace(/\\/g,""),s+1];if(!t&&(n===","||n==="}"))return[e.slice(r,s).replace(/\\/g,""),s]}return[e.slice(r).replace(/\\/g,""),e.length]}function CZ(e,r=0){const t=[];let s=r,n=!1;for(;s<e.length;){const i=e[s];if(i===","){(n||s===r)&&t.push(""),n=!0,s++;continue}if(n=!1,i==="\\"){s+=2;continue}if(i==='"'){const[u,c]=VA(e,s+1,!0);t.push(u),s=c;continue}if(i==="}")return[t,s+1];if(i==="{"){const[u,c]=CZ(e,s+1);t.push(u),s=c;continue}const[a,l]=VA(e,s,!1);t.push(a),s=l}return[t,s]}function s4e(e){const[r]=CZ(e,1);return r}function TZ(e){return`{${e.map(r=>Array.isArray(r)?TZ(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}var OP,FP;class Gr extends(FP=SZ,OP=nt,FP){constructor(){super(...arguments);De(this,"foreignKeyConfigs",[])}array(t){return new AZ(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>r4e((a,l)=>{const u=new jZ(()=>{const c=a();return{columns:[t],foreignColumns:[c]}});return l.onUpdate&&u.onUpdate(l.onUpdate),l.onDelete&&u.onDelete(l.onDelete),u.build(s)},n,i))}buildExtraConfigColumn(t){return new EZ(t,this.config)}}De(Gr,OP,"PgColumnBuilder");var LP,zP;class Pr extends(zP=Fh,LP=nt,zP){constructor(r,t){t.uniqueName||(t.uniqueName=n4e(r,[t.name])),super(r,t),this.table=r}}De(Pr,LP,"PgColumn");var BP,UP;class EZ extends(UP=Pr,BP=nt,UP){constructor(){super(...arguments);De(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});De(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}De(EZ,BP,"ExtraConfigColumn");var VP,WP;class AZ extends(WP=Gr,VP=nt,WP){constructor(r,t,s){super(r,"array","PgArray"),this.config.baseBuilder=t,this.config.size=s}build(r){const t=this.config.baseBuilder.build(r);return new b4(r,this.config,t)}}De(AZ,VP,"PgArrayBuilder");var qP,HP;const wv=class wv extends(HP=Pr,qP=nt,HP){constructor(t,s,n,i){super(t,s);De(this,"size");this.baseColumn=n,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=s4e(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const n=t.map(i=>i===null?null:Zs(this.baseColumn,wv)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?n:TZ(n)}};De(wv,qP,"PgArray");let b4=wv;const WA=Symbol.for("drizzle:isPgEnum");function i4e(e){return!!e&&typeof e=="function"&&WA in e&&e[WA]===!0}var KP;KP=nt;class o5{constructor(r,t,s,n=!1,i=[]){this._={brand:"Subquery",sql:r,selectedFields:t,alias:s,isWith:n,usedTables:i}}}De(o5,KP,"Subquery");const a4e={startActiveSpan(e,r){return r()}},rh=Symbol.for("drizzle:ViewBaseConfig"),e_=Symbol.for("drizzle:Schema"),qA=Symbol.for("drizzle:Columns"),HA=Symbol.for("drizzle:ExtraConfigColumns"),t_=Symbol.for("drizzle:OriginalName"),r_=Symbol.for("drizzle:BaseName"),dv=Symbol.for("drizzle:IsAlias"),KA=Symbol.for("drizzle:ExtraConfigBuilder"),PZ=Symbol.for("drizzle:IsDrizzleTable");var ZP,GP,XP,QP,YP,JP,eI,tI,rI,nI,Qy;let Gs=(nI=nt,rI=th,tI=t_,eI=e_,JP=qA,YP=HA,QP=r_,XP=dv,GP=PZ,ZP=KA,Qy=class{constructor(r,t,s){De(this,rI);De(this,tI);De(this,eI);De(this,JP);De(this,YP);De(this,QP);De(this,XP,!1);De(this,GP,!0);De(this,ZP);this[th]=this[t_]=r,this[e_]=t,this[r_]=s}},De(Qy,nI,"Table"),De(Qy,"Symbol",{Name:th,Schema:e_,OriginalName:t_,Columns:qA,ExtraConfigColumns:HA,BaseName:r_,IsAlias:dv,ExtraConfigBuilder:KA}),Qy);function IZ(e){return typeof e=="object"&&e!==null&&PZ in e}function o4e(e){return e!=null&&typeof e.getSQL=="function"}function l4e(e){const r={sql:"",params:[]};for(const t of e)r.sql+=t.sql,r.params.push(...t.params),t.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...t.typings));return r}var sI;sI=nt;class Ja{constructor(r){De(this,"value");this.value=Array.isArray(r)?r:[r]}getSQL(){return new Os([this])}}De(Ja,sI,"StringChunk");var iI;iI=nt;const nd=class nd{constructor(r){De(this,"decoder",DZ);De(this,"shouldInlineParams",!1);De(this,"usedTables",[]);this.queryChunks=r;for(const t of r)if(Zs(t,Gs)){const s=t[Gs.Symbol.Schema];this.usedTables.push(s===void 0?t[Gs.Symbol.Name]:s+"."+t[Gs.Symbol.Name])}}append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return a4e.startActiveSpan("drizzle.buildSQL",t=>{const s=this.buildQueryFromSourceParams(this.queryChunks,r);return t?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(r,t){const s=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:a,prepareTyping:l,inlineParams:u,paramStartIndex:c}=s;return l4e(r.map(d=>{if(Zs(d,Ja))return{sql:d.value.join(""),params:[]};if(Zs(d,fv))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Ja("(")];for(const[f,h]of d.entries())p.push(h),f<d.length-1&&p.push(new Ja(", "));return p.push(new Ja(")")),this.buildQueryFromSourceParams(p,s)}if(Zs(d,nd))return this.buildQueryFromSourceParams(d.queryChunks,{...s,inlineParams:u||d.shouldInlineParams});if(Zs(d,Gs)){const p=d[Gs.Symbol.Schema],f=d[Gs.Symbol.Name];return{sql:p===void 0||d[dv]?i(f):i(p)+"."+i(f),params:[]}}if(Zs(d,Fh)){const p=n.getColumnCasing(d);if(t.invokeSource==="indexes")return{sql:i(p),params:[]};const f=d.table[Gs.Symbol.Schema];return{sql:d.table[dv]||f===void 0?i(d.table[Gs.Symbol.Name])+"."+i(p):i(f)+"."+i(d.table[Gs.Symbol.Name])+"."+i(p),params:[]}}if(Zs(d,$Z)){const p=d[rh].schema,f=d[rh].name;return{sql:p===void 0||d[rh].isAlias?i(f):i(p)+"."+i(f),params:[]}}if(Zs(d,l5)){if(Zs(d.value,hv))return{sql:a(c.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Zs(p,nd))return this.buildQueryFromSourceParams([p],s);if(u)return{sql:this.mapInlineParam(p,s),params:[]};let f=["none"];return l&&(f=[l(d.encoder)]),{sql:a(c.value++,p),params:[p],typings:f}}return Zs(d,hv)?{sql:a(c.value++,d),params:[d],typings:["none"]}:Zs(d,nd.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Zs(d,o5)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ja("("),d._.sql,new Ja(") "),new fv(d._.alias)],s):i4e(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:o4e(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],s):this.buildQueryFromSourceParams([new Ja("("),d.getSQL(),new Ja(")")],s):u?{sql:this.mapInlineParam(d,s),params:[]}:{sql:a(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(r,{escapeString:t}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return t(r);if(typeof r=="object"){const s=r.toString();return t(s==="[object Object]"?JSON.stringify(r):s)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new nd.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}};De(nd,iI,"SQL");let Os=nd;var aI;aI=nt;class fv{constructor(r){De(this,"brand");this.value=r}getSQL(){return new Os([this])}}De(fv,aI,"Name");const DZ={mapFromDriverValue:e=>e},MZ={mapToDriverValue:e=>e};({...DZ,...MZ});var oI;oI=nt;class l5{constructor(r,t=MZ){De(this,"brand");this.value=r,this.encoder=t}getSQL(){return new Os([this])}}De(l5,oI,"Param");function vr(e,...r){const t=[];(r.length>0||e.length>0&&e[0]!=="")&&t.push(new Ja(e[0]));for(const[s,n]of r.entries())t.push(n,new Ja(e[s+1]));return new Os(t)}(e=>{function r(){return new Os([])}e.empty=r;function t(u){return new Os(u)}e.fromList=t;function s(u){return new Os([new Ja(u)])}e.raw=s;function n(u,c){const d=[];for(const[p,f]of u.entries())p>0&&c!==void 0&&d.push(c),d.push(f);return new Os(d)}e.join=n;function i(u){return new fv(u)}e.identifier=i;function a(u){return new hv(u)}e.placeholder=a;function l(u,c){return new l5(u,c)}e.param=l})(vr||(vr={}));(e=>{var t;t=nt;const s=class s{constructor(i,a){De(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};De(s,t,"SQL.Aliased");let r=s;e.Aliased=r})(Os||(Os={}));var lI;lI=nt;class hv{constructor(r){this.name=r}getSQL(){return new Os([this])}}De(hv,lI,"Placeholder");const RZ=Symbol.for("drizzle:IsDrizzleView");var cI,uI,dI;dI=nt,uI=rh,cI=RZ;class $Z{constructor({name:r,schema:t,selectedFields:s,query:n}){De(this,uI);De(this,cI,!0);this[rh]={name:r,originalName:r,schema:t,selectedFields:s,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new Os([this])}}De($Z,dI,"View");function c4e(e){return typeof e=="object"&&e!==null&&RZ in e}Fh.prototype.getSQL=function(){return new Os([this])};Gs.prototype.getSQL=function(){return new Os([this])};o5.prototype.getSQL=function(){return new Os([this])};function u4e(e){return e[Gs.Symbol.Columns]}function d4e(e){return e[rh].selectedFields}function ni(e,r){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:r}}typeof TextDecoder>"u"||new TextDecoder;var fI,hI;class b0 extends(hI=Gr,fI=nt,hI){generatedAlwaysAsIdentity(r){if(r){const{name:t,...s}=r;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:t,...s}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}De(b0,fI,"PgIntColumnBaseBuilder");var pI,mI;class OZ extends(mI=b0,pI=nt,mI){constructor(r){super(r,"number","PgBigInt53")}build(r){return new FZ(r,this.config)}}De(OZ,pI,"PgBigInt53Builder");var gI,yI;class FZ extends(yI=Pr,gI=nt,yI){getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}De(FZ,gI,"PgBigInt53");var bI,vI;class LZ extends(vI=b0,bI=nt,vI){constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new zZ(r,this.config)}}De(LZ,bI,"PgBigInt64Builder");var xI,wI;class zZ extends(wI=Pr,xI=nt,wI){getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}De(zZ,xI,"PgBigInt64");function f4e(e,r){const{name:t,config:s}=ni(e,r);return s.mode==="number"?new OZ(t):new LZ(t)}var _I,kI;class BZ extends(kI=Gr,_I=nt,kI){constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new UZ(r,this.config)}}De(BZ,_I,"PgBigSerial53Builder");var SI,jI;class UZ extends(jI=Pr,SI=nt,jI){getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}De(UZ,SI,"PgBigSerial53");var NI,CI;class VZ extends(CI=Gr,NI=nt,CI){constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new WZ(r,this.config)}}De(VZ,NI,"PgBigSerial64Builder");var TI,EI;class WZ extends(EI=Pr,TI=nt,EI){getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}De(WZ,TI,"PgBigSerial64");function h4e(e,r){const{name:t,config:s}=ni(e,r);return s.mode==="number"?new BZ(t):new VZ(t)}var AI,PI;class qZ extends(PI=Gr,AI=nt,PI){constructor(r){super(r,"boolean","PgBoolean")}build(r){return new HZ(r,this.config)}}De(qZ,AI,"PgBooleanBuilder");var II,DI;class HZ extends(DI=Pr,II=nt,DI){getSQLType(){return"boolean"}}De(HZ,II,"PgBoolean");function dr(e){return new qZ(e??"")}var MI,RI;class KZ extends(RI=Gr,MI=nt,RI){constructor(r,t){super(r,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(r){return new ZZ(r,this.config)}}De(KZ,MI,"PgCharBuilder");var $I,OI;class ZZ extends(OI=Pr,$I=nt,OI){constructor(){super(...arguments);De(this,"length",this.config.length);De(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}De(ZZ,$I,"PgChar");function p4e(e,r={}){const{name:t,config:s}=ni(e,r);return new KZ(t,s)}var FI,LI;class GZ extends(LI=Gr,FI=nt,LI){constructor(r){super(r,"string","PgCidr")}build(r){return new XZ(r,this.config)}}De(GZ,FI,"PgCidrBuilder");var zI,BI;class XZ extends(BI=Pr,zI=nt,BI){getSQLType(){return"cidr"}}De(XZ,zI,"PgCidr");function m4e(e){return new GZ(e??"")}var UI,VI;class QZ extends(VI=Gr,UI=nt,VI){constructor(r,t,s){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=s}build(r){return new YZ(r,this.config)}}De(QZ,UI,"PgCustomColumnBuilder");var WI,qI;class YZ extends(qI=Pr,WI=nt,qI){constructor(t,s){super(t,s);De(this,"sqlName");De(this,"mapTo");De(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}De(YZ,WI,"PgCustomColumn");function g4e(e){return(r,t)=>{const{name:s,config:n}=ni(r,t);return new QZ(s,n,e)}}var HI,KI;class lp extends(KI=Gr,HI=nt,KI){defaultNow(){return this.default(vr`now()`)}}De(lp,HI,"PgDateColumnBaseBuilder");var ZI,GI;class JZ extends(GI=lp,ZI=nt,GI){constructor(r){super(r,"date","PgDate")}build(r){return new eG(r,this.config)}}De(JZ,ZI,"PgDateBuilder");var XI,QI;class eG extends(QI=Pr,XI=nt,QI){getSQLType(){return"date"}mapFromDriverValue(r){return typeof r=="string"?new Date(r):r}mapToDriverValue(r){return r.toISOString()}}De(eG,XI,"PgDate");var YI,JI;class tG extends(JI=lp,YI=nt,JI){constructor(r){super(r,"string","PgDateString")}build(r){return new rG(r,this.config)}}De(tG,YI,"PgDateStringBuilder");var e7,t7;class rG extends(t7=Pr,e7=nt,t7){getSQLType(){return"date"}mapFromDriverValue(r){return typeof r=="string"?r:r.toISOString().slice(0,-14)}}De(rG,e7,"PgDateString");function Su(e,r){const{name:t,config:s}=ni(e,r);return s?.mode==="date"?new JZ(t):new tG(t)}var r7,n7;class nG extends(n7=Gr,r7=nt,n7){constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new sG(r,this.config)}}De(nG,r7,"PgDoublePrecisionBuilder");var s7,i7;class sG extends(i7=Pr,s7=nt,i7){getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}De(sG,s7,"PgDoublePrecision");function y4e(e){return new nG(e??"")}var a7,o7;class iG extends(o7=Gr,a7=nt,o7){constructor(r){super(r,"string","PgInet")}build(r){return new aG(r,this.config)}}De(iG,a7,"PgInetBuilder");var l7,c7;class aG extends(c7=Pr,l7=nt,c7){getSQLType(){return"inet"}}De(aG,l7,"PgInet");function sf(e){return new iG(e??"")}var u7,d7;class oG extends(d7=b0,u7=nt,d7){constructor(r){super(r,"number","PgInteger")}build(r){return new lG(r,this.config)}}De(oG,u7,"PgIntegerBuilder");var f7,h7;class lG extends(h7=Pr,f7=nt,h7){getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}De(lG,f7,"PgInteger");function Gt(e){return new oG(e??"")}var p7,m7;class cG extends(m7=Gr,p7=nt,m7){constructor(r,t){super(r,"string","PgInterval"),this.config.intervalConfig=t}build(r){return new uG(r,this.config)}}De(cG,p7,"PgIntervalBuilder");var g7,y7;class uG extends(y7=Pr,g7=nt,y7){constructor(){super(...arguments);De(this,"fields",this.config.intervalConfig.fields);De(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}De(uG,g7,"PgInterval");function b4e(e,r={}){const{name:t,config:s}=ni(e,r);return new cG(t,s)}var b7,v7;class dG extends(v7=Gr,b7=nt,v7){constructor(r){super(r,"json","PgJson")}build(r){return new fG(r,this.config)}}De(dG,b7,"PgJsonBuilder");var x7,w7;class fG extends(w7=Pr,x7=nt,w7){constructor(r,t){super(r,t)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}De(fG,x7,"PgJson");function v4e(e){return new dG(e??"")}var _7,k7;class hG extends(k7=Gr,_7=nt,k7){constructor(r){super(r,"json","PgJsonb")}build(r){return new pG(r,this.config)}}De(hG,_7,"PgJsonbBuilder");var S7,j7;class pG extends(j7=Pr,S7=nt,j7){constructor(r,t){super(r,t)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}De(pG,S7,"PgJsonb");function qr(e){return new hG(e??"")}var N7,C7;class mG extends(C7=Gr,N7=nt,C7){constructor(r){super(r,"array","PgLine")}build(r){return new gG(r,this.config)}}De(mG,N7,"PgLineBuilder");var T7,E7;class gG extends(E7=Pr,T7=nt,E7){getSQLType(){return"line"}mapFromDriverValue(r){const[t,s,n]=r.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(s),Number.parseFloat(n)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}De(gG,T7,"PgLine");var A7,P7;class yG extends(P7=Gr,A7=nt,P7){constructor(r){super(r,"json","PgLineABC")}build(r){return new bG(r,this.config)}}De(yG,A7,"PgLineABCBuilder");var I7,D7;class bG extends(D7=Pr,I7=nt,D7){getSQLType(){return"line"}mapFromDriverValue(r){const[t,s,n]=r.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(s),c:Number.parseFloat(n)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}De(bG,I7,"PgLineABC");function x4e(e,r){const{name:t,config:s}=ni(e,r);return!s?.mode||s.mode==="tuple"?new mG(t):new yG(t)}var M7,R7;class vG extends(R7=Gr,M7=nt,R7){constructor(r){super(r,"string","PgMacaddr")}build(r){return new xG(r,this.config)}}De(vG,M7,"PgMacaddrBuilder");var $7,O7;class xG extends(O7=Pr,$7=nt,O7){getSQLType(){return"macaddr"}}De(xG,$7,"PgMacaddr");function w4e(e){return new vG(e??"")}var F7,L7;class wG extends(L7=Gr,F7=nt,L7){constructor(r){super(r,"string","PgMacaddr8")}build(r){return new _G(r,this.config)}}De(wG,F7,"PgMacaddr8Builder");var z7,B7;class _G extends(B7=Pr,z7=nt,B7){getSQLType(){return"macaddr8"}}De(_G,z7,"PgMacaddr8");function _4e(e){return new wG(e??"")}var U7,V7;class kG extends(V7=Gr,U7=nt,V7){constructor(r,t,s){super(r,"string","PgNumeric"),this.config.precision=t,this.config.scale=s}build(r){return new SG(r,this.config)}}De(kG,U7,"PgNumericBuilder");var W7,q7;class SG extends(q7=Pr,W7=nt,q7){constructor(t,s){super(t,s);De(this,"precision");De(this,"scale");this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}De(SG,W7,"PgNumeric");var H7,K7;class jG extends(K7=Gr,H7=nt,K7){constructor(r,t,s){super(r,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=s}build(r){return new NG(r,this.config)}}De(jG,H7,"PgNumericNumberBuilder");var Z7,G7;class NG extends(G7=Pr,Z7=nt,G7){constructor(t,s){super(t,s);De(this,"precision");De(this,"scale");De(this,"mapToDriverValue",String);this.precision=s.precision,this.scale=s.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}De(NG,Z7,"PgNumericNumber");var X7,Q7;class CG extends(Q7=Gr,X7=nt,Q7){constructor(r,t,s){super(r,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=s}build(r){return new TG(r,this.config)}}De(CG,X7,"PgNumericBigIntBuilder");var Y7,J7;class TG extends(J7=Pr,Y7=nt,J7){constructor(t,s){super(t,s);De(this,"precision");De(this,"scale");De(this,"mapFromDriverValue",BigInt);De(this,"mapToDriverValue",String);this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}De(TG,Y7,"PgNumericBigInt");function EG(e,r){const{name:t,config:s}=ni(e,r),n=s?.mode;return n==="number"?new jG(t,s?.precision,s?.scale):n==="bigint"?new CG(t,s?.precision,s?.scale):new kG(t,s?.precision,s?.scale)}const Yt=EG;var eD,tD;class AG extends(tD=Gr,eD=nt,tD){constructor(r){super(r,"array","PgPointTuple")}build(r){return new PG(r,this.config)}}De(AG,eD,"PgPointTupleBuilder");var rD,nD;class PG extends(nD=Pr,rD=nt,nD){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[t,s]=r.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(s)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}De(PG,rD,"PgPointTuple");var sD,iD;class IG extends(iD=Gr,sD=nt,iD){constructor(r){super(r,"json","PgPointObject")}build(r){return new DG(r,this.config)}}De(IG,sD,"PgPointObjectBuilder");var aD,oD;class DG extends(oD=Pr,aD=nt,oD){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[t,s]=r.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(s)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}De(DG,aD,"PgPointObject");function k4e(e,r){const{name:t,config:s}=ni(e,r);return!s?.mode||s.mode==="tuple"?new AG(t):new IG(t)}function S4e(e){const r=[];for(let t=0;t<e.length;t+=2)r.push(Number.parseInt(e.slice(t,t+2),16));return new Uint8Array(r)}function ZA(e,r){const t=new ArrayBuffer(8),s=new DataView(t);for(let n=0;n<8;n++)s.setUint8(n,e[r+n]);return s.getFloat64(0,!0)}function MG(e){const r=S4e(e);let t=0;const s=r[t];t+=1;const n=new DataView(r.buffer),i=n.getUint32(t,s===1);if(t+=4,i&536870912&&(n.getUint32(t,s===1),t+=4),(i&65535)===1){const a=ZA(r,t);t+=8;const l=ZA(r,t);return t+=8,[a,l]}throw new Error("Unsupported geometry type")}var lD,cD;class RG extends(cD=Gr,lD=nt,cD){constructor(r){super(r,"array","PgGeometry")}build(r){return new $G(r,this.config)}}De(RG,lD,"PgGeometryBuilder");var uD,dD;class $G extends(dD=Pr,uD=nt,dD){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return MG(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}De($G,uD,"PgGeometry");var fD,hD;class OG extends(hD=Gr,fD=nt,hD){constructor(r){super(r,"json","PgGeometryObject")}build(r){return new FG(r,this.config)}}De(OG,fD,"PgGeometryObjectBuilder");var pD,mD;class FG extends(mD=Pr,pD=nt,mD){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const t=MG(r);return{x:t[0],y:t[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}De(FG,pD,"PgGeometryObject");function j4e(e,r){const{name:t,config:s}=ni(e,r);return!s?.mode||s.mode==="tuple"?new RG(t):new OG(t)}var gD,yD;class LG extends(yD=Gr,gD=nt,yD){constructor(r,t){super(r,"number","PgReal"),this.config.length=t}build(r){return new zG(r,this.config)}}De(LG,gD,"PgRealBuilder");var bD,vD;class zG extends(vD=Pr,bD=nt,vD){constructor(t,s){super(t,s);De(this,"mapFromDriverValue",t=>typeof t=="string"?Number.parseFloat(t):t)}getSQLType(){return"real"}}De(zG,bD,"PgReal");function N4e(e){return new LG(e??"")}var xD,wD;class BG extends(wD=Gr,xD=nt,wD){constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new UG(r,this.config)}}De(BG,xD,"PgSerialBuilder");var _D,kD;class UG extends(kD=Pr,_D=nt,kD){getSQLType(){return"serial"}}De(UG,_D,"PgSerial");function ps(e){return new BG(e??"")}var SD,jD;class VG extends(jD=b0,SD=nt,jD){constructor(r){super(r,"number","PgSmallInt")}build(r){return new WG(r,this.config)}}De(VG,SD,"PgSmallIntBuilder");var ND,CD;class WG extends(CD=Pr,ND=nt,CD){constructor(){super(...arguments);De(this,"mapFromDriverValue",t=>typeof t=="string"?Number(t):t)}getSQLType(){return"smallint"}}De(WG,ND,"PgSmallInt");function C4e(e){return new VG(e??"")}var TD,ED;class qG extends(ED=Gr,TD=nt,ED){constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new HG(r,this.config)}}De(qG,TD,"PgSmallSerialBuilder");var AD,PD;class HG extends(PD=Pr,AD=nt,PD){getSQLType(){return"smallserial"}}De(HG,AD,"PgSmallSerial");function T4e(e){return new qG(e??"")}var ID,DD;class KG extends(DD=Gr,ID=nt,DD){constructor(r,t){super(r,"string","PgText"),this.config.enumValues=t.enum}build(r){return new ZG(r,this.config)}}De(KG,ID,"PgTextBuilder");var MD,RD;class ZG extends(RD=Pr,MD=nt,RD){constructor(){super(...arguments);De(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}De(ZG,MD,"PgText");function _e(e,r={}){const{name:t,config:s}=ni(e,r);return new KG(t,s)}var $D,OD;class GG extends(OD=lp,$D=nt,OD){constructor(r,t,s){super(r,"string","PgTime"),this.withTimezone=t,this.precision=s,this.config.withTimezone=t,this.config.precision=s}build(r){return new XG(r,this.config)}}De(GG,$D,"PgTimeBuilder");var FD,LD;class XG extends(LD=Pr,FD=nt,LD){constructor(t,s){super(t,s);De(this,"withTimezone");De(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}De(XG,FD,"PgTime");function E4e(e,r={}){const{name:t,config:s}=ni(e,r);return new GG(t,s.withTimezone??!1,s.precision)}var zD,BD;class QG extends(BD=lp,zD=nt,BD){constructor(r,t,s){super(r,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=s}build(r){return new YG(r,this.config)}}De(QG,zD,"PgTimestampBuilder");var UD,VD;class YG extends(VD=Pr,UD=nt,VD){constructor(t,s){super(t,s);De(this,"withTimezone");De(this,"precision");De(this,"mapToDriverValue",t=>t.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(t){return typeof t=="string"?new Date(this.withTimezone?t:t+"+0000"):t}}De(YG,UD,"PgTimestamp");var WD,qD;class JG extends(qD=lp,WD=nt,qD){constructor(r,t,s){super(r,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=s}build(r){return new eX(r,this.config)}}De(JG,WD,"PgTimestampStringBuilder");var HD,KD;class eX extends(KD=Pr,HD=nt,KD){constructor(t,s){super(t,s);De(this,"withTimezone");De(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(t){if(typeof t=="string")return t;const s=t.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){const n=t.getTimezoneOffset(),i=n<=0?"+":"-";return`${s}${i}${Math.floor(Math.abs(n)/60).toString().padStart(2,"0")}`}return s}}De(eX,HD,"PgTimestampString");function rt(e,r={}){const{name:t,config:s}=ni(e,r);return s?.mode==="string"?new JG(t,s.withTimezone??!1,s.precision):new QG(t,s?.withTimezone??!1,s?.precision)}var ZD,GD;class tX extends(GD=Gr,ZD=nt,GD){constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(vr`gen_random_uuid()`)}build(r){return new rX(r,this.config)}}De(tX,ZD,"PgUUIDBuilder");var XD,QD;class rX extends(QD=Pr,XD=nt,QD){getSQLType(){return"uuid"}}De(rX,XD,"PgUUID");function Zi(e){return new tX(e??"")}var YD,JD;class nX extends(JD=Gr,YD=nt,JD){constructor(r,t){super(r,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(r){return new sX(r,this.config)}}De(nX,YD,"PgVarcharBuilder");var eM,tM;class sX extends(tM=Pr,eM=nt,tM){constructor(){super(...arguments);De(this,"length",this.config.length);De(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}De(sX,eM,"PgVarchar");function $e(e,r={}){const{name:t,config:s}=ni(e,r);return new nX(t,s)}var rM,nM;class iX extends(nM=Gr,rM=nt,nM){constructor(r,t){super(r,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(r){return new aX(r,this.config)}}De(iX,rM,"PgBinaryVectorBuilder");var sM,iM;class aX extends(iM=Pr,sM=nt,iM){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}De(aX,sM,"PgBinaryVector");function A4e(e,r){const{name:t,config:s}=ni(e,r);return new iX(t,s)}var aM,oM;class oX extends(oM=Gr,aM=nt,oM){constructor(r,t){super(r,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(r){return new lX(r,this.config)}}De(oX,aM,"PgHalfVectorBuilder");var lM,cM;class lX extends(cM=Pr,lM=nt,cM){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}De(lX,lM,"PgHalfVector");function P4e(e,r){const{name:t,config:s}=ni(e,r);return new oX(t,s)}var uM,dM;class cX extends(dM=Gr,uM=nt,dM){constructor(r,t){super(r,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(r){return new uX(r,this.config)}}De(cX,uM,"PgSparseVectorBuilder");var fM,hM;class uX extends(hM=Pr,fM=nt,hM){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}De(uX,fM,"PgSparseVector");function I4e(e,r){const{name:t,config:s}=ni(e,r);return new cX(t,s)}var pM,mM;class dX extends(mM=Gr,pM=nt,mM){constructor(r,t){super(r,"array","PgVector"),this.config.dimensions=t.dimensions}build(r){return new fX(r,this.config)}}De(dX,pM,"PgVectorBuilder");var gM,yM;class fX extends(yM=Pr,gM=nt,yM){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}De(fX,gM,"PgVector");function D4e(e,r){const{name:t,config:s}=ni(e,r);return new dX(t,s)}function M4e(){return{bigint:f4e,bigserial:h4e,boolean:dr,char:p4e,cidr:m4e,customType:g4e,date:Su,doublePrecision:y4e,inet:sf,integer:Gt,interval:b4e,json:v4e,jsonb:qr,line:x4e,macaddr:w4e,macaddr8:_4e,numeric:EG,point:k4e,geometry:j4e,real:N4e,serial:ps,smallint:C4e,smallserial:T4e,text:_e,time:E4e,timestamp:rt,uuid:Zi,varchar:$e,bit:A4e,halfvec:P4e,sparsevec:I4e,vector:D4e}}const v4=Symbol.for("drizzle:PgInlineForeignKeys"),GA=Symbol.for("drizzle:EnableRLS");var bM,vM,xM,wM,_M,kM;class wm extends(kM=Gs,_M=nt,wM=v4,xM=GA,vM=Gs.Symbol.ExtraConfigBuilder,bM=Gs.Symbol.ExtraConfigColumns,kM){constructor(){super(...arguments);De(this,wM,[]);De(this,xM,!1);De(this,vM);De(this,bM,{})}}De(wm,_M,"PgTable"),De(wm,"Symbol",Object.assign({},Gs.Symbol,{InlineForeignKeys:v4,EnableRLS:GA}));function R4e(e,r,t,s,n=e){const i=new wm(e,s,n),a=typeof r=="function"?r(M4e()):r,l=Object.fromEntries(Object.entries(a).map(([d,p])=>{const f=p;f.setName(d);const h=f.build(i);return i[v4].push(...f.buildForeignKeys(h,i)),[d,h]})),u=Object.fromEntries(Object.entries(a).map(([d,p])=>{const f=p;f.setName(d);const h=f.buildExtraConfigColumn(i);return[d,h]})),c=Object.assign(i,l);return c[Gs.Symbol.Columns]=l,c[Gs.Symbol.ExtraConfigColumns]=u,t&&(c[wm.Symbol.ExtraConfigBuilder]=t),Object.assign(c,{enableRLS:()=>(c[wm.Symbol.EnableRLS]=!0,c)})}const Bt=(e,r,t)=>R4e(e,r,t,void 0),Gn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ds(e,r){return r.includes(e.columnType)}function $4e(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const O4e=Qh([Ur(),jx(),Wg(),Cx()]),F4e=Qh([O4e,Ax(Ur(),Om()),Xh(Om())]),L4e=S3(e=>e instanceof Buffer);function hX(e,r){const t=Mde,s={};let n;return $4e(e)&&(n=e.enumValues.length?t.enum(e.enumValues):t.string()),n||(ds(e,["PgGeometry","PgPointTuple"])?n=t.tuple([t.number(),t.number()]):ds(e,["PgGeometryObject","PgPointObject"])?n=t.object({x:t.number(),y:t.number()}):ds(e,["PgHalfVector","PgVector"])?(n=t.array(t.number()),n=e.dimensions?n.length(e.dimensions):n):ds(e,["PgLine"])?n=t.tuple([t.number(),t.number(),t.number()]):ds(e,["PgLineABC"])?n=t.object({a:t.number(),b:t.number(),c:t.number()}):ds(e,["PgArray"])?(n=t.array(hX(e.baseColumn)),n=e.size?n.length(e.size):n):e.dataType==="array"?n=t.array(t.any()):e.dataType==="number"?n=z4e(e,t,s):e.dataType==="bigint"?n=B4e(e,t,s):e.dataType==="boolean"?n=s===!0||s.boolean?t.coerce.boolean():t.boolean():e.dataType==="date"?n=s===!0||s.date?t.coerce.date():t.date():e.dataType==="string"?n=U4e(e,t,s):e.dataType==="json"?n=F4e:e.dataType==="custom"?n=t.any():e.dataType==="buffer"&&(n=L4e)),n||(n=t.any()),n}function z4e(e,r,t){let s=e.getSQLType().includes("unsigned"),n,i,a=!1;ds(e,["MySqlTinyInt","SingleStoreTinyInt"])?(n=s?0:Gn.INT8_MIN,i=s?Gn.INT8_UNSIGNED_MAX:Gn.INT8_MAX,a=!0):ds(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=s?0:Gn.INT16_MIN,i=s?Gn.INT16_UNSIGNED_MAX:Gn.INT16_MAX,a=!0):ds(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=s?0:Gn.INT24_MIN,i=s?Gn.INT24_UNSIGNED_MAX:Gn.INT24_MAX,a=ds(e,["MySqlMediumInt","SingleStoreMediumInt"])):ds(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=s?0:Gn.INT32_MIN,i=s?Gn.INT32_UNSIGNED_MAX:Gn.INT32_MAX,a=!0):ds(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=s?0:Gn.INT48_MIN,i=s?Gn.INT48_UNSIGNED_MAX:Gn.INT48_MAX):ds(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||ds(e,["MySqlSerial","SingleStoreSerial"]),n=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):ds(e,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,a=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=t===!0||t?.number?a?r.coerce.number():r.coerce.number().int():a?r.int():r.number();return l=l.gte(n).lte(i),l}function B4e(e,r,t){const s=e.getSQLType().includes("unsigned"),n=s?0n:Gn.INT64_MIN,i=s?Gn.INT64_UNSIGNED_MAX:Gn.INT64_MAX;return(t===!0||t?.bigint?r.coerce.bigint():r.bigint()).gte(n).lte(i)}function U4e(e,r,t){if(ds(e,["PgUUID"]))return r.uuid();let s,n,i=!1;ds(e,["PgVarchar","SQLiteText"])?s=e.length:ds(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??Gn.INT16_UNSIGNED_MAX:ds(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=Gn.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=Gn.INT24_UNSIGNED_MAX:e.textType==="text"?s=Gn.INT16_UNSIGNED_MAX:s=Gn.INT8_UNSIGNED_MAX),ds(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),ds(e,["PgBinaryVector"])&&(n=/^[01]+$/,s=e.dimensions);let a=t===!0||t?.string?r.coerce.string():r.string();return a=n?a.regex(n):a,s&&i?a.length(s):s?a.max(s):a}function pX(e){return IZ(e)?u4e(e):d4e(e)}function mX(e,r,t,s){const n={};for(const[i,a]of Object.entries(e)){if(!Zs(a,Fh)&&!Zs(a,Os)&&!Zs(a,Os.Aliased)&&typeof a=="object"){const p=IZ(a)||c4e(a)?pX(a):a;n[i]=mX(p,r[i]??{},t);continue}const l=r[i];if(l!==void 0&&typeof l!="function"){n[i]=l;continue}const u=Zs(a,Fh)?a:void 0,c=u?hX(u):Om(),d=typeof l=="function"?l(c):c;t.never(u)||(n[i]=d,u&&(t.nullable(u)&&(n[i]=n[i].nullable()),t.optional(u)&&(n[i]=n[i].optional())))}return Au(n)}const V4e={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},tr=(e,r)=>{const t=pX(e);return mX(t,{},V4e)},W4e=Bt("devices",{id:ps("id").primaryKey(),deviceId:_e("device_id").notNull().unique(),model:_e("model"),manufacturer:_e("manufacturer"),osVersion:_e("os_version"),sdkVersion:Gt("sdk_version"),appVersion:_e("app_version"),lastSeen:rt("last_seen").defaultNow(),metadata:qr("metadata")}),q4e=Bt("crashes",{id:ps("id").primaryKey(),deviceId:_e("device_id").notNull(),exceptionType:_e("exception_type"),message:_e("message"),stackTrace:_e("stack_trace").notNull(),severity:_e("severity").notNull(),appState:qr("app_state"),metadata:qr("metadata"),timestamp:rt("timestamp").defaultNow()}),H4e=Bt("metrics",{id:ps("id").primaryKey(),deviceId:_e("device_id").notNull(),metricName:_e("metric_name").notNull(),value:Yt("value",{precision:20,scale:4}).notNull(),unit:_e("unit"),attributes:qr("attributes"),timestamp:rt("timestamp").defaultNow()});tr(W4e).omit({id:!0,lastSeen:!0});tr(q4e).omit({id:!0,timestamp:!0});tr(H4e).omit({id:!0,timestamp:!0});const v0={isLocal:dr("is_local").default(!1),synced:dr("synced").default(!0),pendingSync:dr("pending_sync").default(!1),version:Gt("version").default(1).notNull(),lastModifiedBy:$e("last_modified_by")},kn=Bt("users",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),email:_e("email").notNull().unique(),password:_e("password").notNull(),passwordAlgo:_e("password_algo").default("argon2id").notNull(),firstName:_e("first_name"),lastName:_e("last_name"),fullName:_e("full_name"),phone:_e("phone"),birthDate:_e("birth_date"),birthPlace:_e("birth_place"),gender:_e("gender"),role:_e("role").notNull().default("admin"),isActive:dr("is_active").default(!0).notNull(),notificationsEnabled:dr("notifications_enabled").default(!1).notNull(),emailVerifiedAt:rt("email_verified_at"),totpSecret:_e("totp_secret"),mfaEnabled:dr("mfa_enabled").default(!1).notNull(),fcmToken:_e("fcm_token"),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull(),lastLogin:rt("last_login"),refreshTokenHash:_e("refresh_token_hash"),refreshTokenExpiresAt:rt("refresh_token_expires_at"),isLocal:dr("is_local").default(!1),synced:dr("synced").default(!0),pendingSync:dr("pending_sync").default(!1),version:Gt("version").default(1).notNull(),lastModifiedBy:$e("last_modified_by")},e=>({})),K4e=Bt("refresh_tokens",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id,{onDelete:"cascade"}),tokenHash:_e("token_hash").notNull(),replacedBy:Zi("replaced_by"),revoked:dr("revoked").default(!1).notNull(),expiresAt:rt("expires_at").notNull(),ipAddress:_e("ip_address"),userAgent:_e("user_agent"),deviceFingerprint:_e("device_fingerprint"),createdAt:rt("created_at").defaultNow().notNull()}),Z4e=Bt("audit_logs",{id:ps("id").primaryKey(),userId:$e("user_id").references(()=>kn.id),action:_e("action").notNull(),meta:qr("meta"),ipAddress:_e("ip_address"),createdAt:rt("created_at").defaultNow().notNull()});Bt("emergency_users",{id:$e("id").primaryKey(),email:_e("email").notNull().unique(),password:_e("password").notNull(),name:_e("name").notNull(),role:_e("role").notNull().default("admin"),createdAt:rt("created_at").defaultNow().notNull()});const G4e=Bt("tasks",{id:ps("id").primaryKey(),title:_e("title").notNull(),description:_e("description"),completed:dr("completed").notNull().default(!1),createdAt:rt("created_at").defaultNow().notNull()});tr(G4e).omit({id:!0,createdAt:!0});const X4e=Bt("auth_user_sessions",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id),sessionToken:$e("session_token"),deviceFingerprint:$e("device_fingerprint"),userAgent:_e("user_agent"),ipAddress:sf("ip_address"),locationData:qr("location_data"),isTrustedDevice:dr("is_trusted_device").default(!1).notNull(),expiresAt:rt("expires_at").notNull(),lastActivity:rt("last_activity").defaultNow(),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull(),deviceId:$e("device_id"),deviceName:$e("device_name"),browserName:$e("browser_name"),browserVersion:$e("browser_version"),osName:$e("os_name"),osVersion:$e("os_version"),country:$e("country"),city:$e("city"),timezone:$e("timezone"),loginMethod:$e("login_method"),securityFlags:qr("security_flags"),deviceType:$e("device_type"),refreshTokenHash:_e("refresh_token_hash"),accessTokenHash:_e("access_token_hash"),isRevoked:dr("is_revoked").default(!1).notNull(),revokedAt:rt("revoked_at",{withTimezone:!0}),revokedReason:$e("revoked_reason")}),Q4e=Bt("notifications",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").references(()=>kn.id),title:_e("title").notNull(),body:_e("body").notNull(),message:_e("message"),type:_e("type").notNull().default("system"),priority:Gt("priority").default(3),projectId:$e("project_id").references(()=>En.id),createdBy:$e("created_by").references(()=>kn.id),recipients:_e("recipients").array(),payload:qr("payload"),meta:qr("meta"),readBy:_e("read_by").array(),deliveredTo:_e("delivered_to").array(),scheduledAt:rt("scheduled_at"),channelPreference:qr("channel_preference"),isRead:dr("is_read").default(!1).notNull(),targetPlatform:_e("target_platform").default("all").notNull(),createdAt:rt("created_at").defaultNow().notNull(),isLocal:dr("is_local").default(!1),synced:dr("synced").default(!0),pendingSync:dr("pending_sync").default(!1)});tr(Q4e).omit({id:!0,createdAt:!0,isRead:!0});Bt("email_verification_tokens",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id),email:_e("email").notNull(),token:$e("token").notNull().unique(),tokenHash:$e("token_hash").notNull(),verificationLink:_e("verification_link").notNull(),expiresAt:rt("expires_at").notNull(),verifiedAt:rt("verified_at"),createdAt:rt("created_at").defaultNow().notNull(),ipAddress:sf("ip_address"),userAgent:_e("user_agent"),attemptsCount:Gt("attempts_count").default(0).notNull()});Bt("password_reset_tokens",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id),token:$e("token").notNull().unique(),tokenHash:$e("token_hash").notNull(),expiresAt:rt("expires_at").notNull(),usedAt:rt("used_at"),createdAt:rt("created_at").defaultNow().notNull(),ipAddress:sf("ip_address"),userAgent:_e("user_agent")});const gX=Bt("project_types",{id:ps("id").primaryKey(),name:$e("name",{length:100}).notNull().unique(),description:_e("description"),isActive:dr("is_active").default(!0).notNull(),createdAt:rt("created_at").defaultNow().notNull(),...v0},e=>({uniqueProjectTypeName:vr`UNIQUE ("name")`})),En=Bt("projects",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),name:_e("name").notNull(),description:_e("description"),location:_e("location"),clientName:_e("client_name"),budget:Yt("budget",{precision:15,scale:2}),startDate:Su("start_date"),endDate:Su("end_date"),status:_e("status").notNull().default("active"),engineerId:$e("engineer_id"),managerName:_e("manager_name"),contactPhone:_e("contact_phone"),notes:_e("notes"),imageUrl:_e("image_url"),projectTypeId:Gt("project_type_id").references(()=>gX.id,{onDelete:"set null"}),isActive:dr("is_active").default(!0).notNull(),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull(),...v0},e=>({uniqueProjectName:vr`UNIQUE ("name")`})),af=Bt("workers",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),name:_e("name").notNull(),type:_e("type").notNull(),dailyWage:Yt("daily_wage",{precision:15,scale:2}).notNull(),phone:_e("phone"),hireDate:_e("hire_date"),isActive:dr("is_active").default(!0).notNull(),createdAt:rt("created_at").defaultNow().notNull(),...v0},e=>({uniqueWorkerName:vr`UNIQUE ("name")`})),yc=Bt("wells",{id:ps("id").primaryKey(),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),wellNumber:Gt("well_number").notNull(),ownerName:_e("owner_name").notNull(),region:$e("region",{length:100}).notNull(),numberOfBases:Gt("number_of_bases").notNull(),baseCount:Gt("base_count"),numberOfPanels:Gt("number_of_panels").notNull(),panelCount:Gt("panel_count"),wellDepth:Gt("well_depth").notNull(),waterLevel:Gt("water_level"),numberOfPipes:Gt("number_of_pipes").notNull(),pipeCount:Gt("pipe_count"),fanType:$e("fan_type",{length:100}),pumpPower:Gt("pump_power"),status:_e("status").notNull().default("pending"),completionPercentage:Yt("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:Su("start_date"),completionDate:Su("completion_date"),notes:_e("notes"),createdBy:$e("created_by").notNull().references(()=>kn.id),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull(),...v0},e=>({uniqueWellNumberInProject:vr`UNIQUE (project_id, well_number)`})),Y4e=Bt("fund_transfers",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),senderName:_e("sender_name"),transferNumber:_e("transfer_number").unique(),transferType:_e("transfer_type").notNull(),transferDate:_e("transfer_date").notNull(),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),J4e=Bt("worker_attendance",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),workerId:$e("worker_id").notNull().references(()=>af.id,{onDelete:"cascade"}),attendanceDate:_e("attendance_date").notNull(),date:_e("date"),startTime:_e("start_time"),endTime:_e("end_time"),workDescription:_e("work_description"),isPresent:dr("is_present"),hoursWorked:Yt("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:Yt("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:Yt("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:Yt("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:Yt("daily_wage",{precision:15,scale:2}).notNull(),actualWage:Yt("actual_wage",{precision:15,scale:2}),totalPay:Yt("total_pay",{precision:15,scale:2}).notNull(),paidAmount:Yt("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:Yt("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:_e("payment_type").default("partial"),notes:_e("notes"),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),createdAt:rt("created_at").defaultNow().notNull()},e=>({uniqueWorkerDate:vr`UNIQUE (worker_id, attendance_date, project_id)`})),c5=Bt("suppliers",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),name:_e("name").notNull().unique(),contactPerson:_e("contact_person"),phone:_e("phone"),address:_e("address"),paymentTerms:_e("payment_terms").default(""),totalDebt:Yt("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:dr("is_active").default(!0).notNull(),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),yX=Bt("materials",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),name:_e("name").notNull(),category:_e("category").notNull(),unit:_e("unit").notNull(),createdAt:rt("created_at").defaultNow().notNull()}),bX=Bt("material_purchases",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),supplierId:$e("supplier_id").references(()=>c5.id,{onDelete:"set null"}),materialId:$e("material_id").references(()=>yX.id,{onDelete:"set null"}),materialName:_e("material_name").notNull(),materialCategory:_e("material_category"),materialUnit:_e("material_unit"),quantity:Yt("quantity",{precision:10,scale:3}).notNull(),unit:_e("unit").notNull(),unitPrice:Yt("unit_price",{precision:15,scale:2}).notNull(),totalAmount:Yt("total_amount",{precision:15,scale:2}).notNull(),purchaseType:_e("purchase_type").notNull().default(""),paidAmount:Yt("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:Yt("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:_e("supplier_name"),receiptNumber:_e("receipt_number"),invoiceNumber:_e("invoice_number"),invoiceDate:_e("invoice_date"),dueDate:_e("due_date"),invoicePhoto:_e("invoice_photo"),notes:_e("notes"),purchaseDate:_e("purchase_date").notNull(),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),addToInventory:dr("add_to_inventory").default(!1),equipmentId:Gt("equipment_id"),createdAt:rt("created_at").defaultNow().notNull()},e=>({uniqueInvoice:vr`UNIQUE (project_id, supplier_id, invoice_number, purchase_date)`})),eSe=Bt("supplier_payments",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),supplierId:$e("supplier_id").notNull().references(()=>c5.id,{onDelete:"cascade"}),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),purchaseId:$e("purchase_id").references(()=>bX.id,{onDelete:"set null"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),paymentMethod:_e("payment_method").notNull().default(""),paymentDate:_e("payment_date").notNull(),referenceNumber:_e("reference_number"),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),tSe=Bt("transportation_expenses",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),workerId:$e("worker_id").references(()=>af.id,{onDelete:"set null"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),description:_e("description").notNull(),category:_e("category").notNull().default("other"),date:_e("date").notNull(),notes:_e("notes"),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),createdAt:rt("created_at").defaultNow().notNull()}),rSe=Bt("worker_transfers",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),workerId:$e("worker_id").notNull().references(()=>af.id,{onDelete:"cascade"}),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),transferNumber:_e("transfer_number"),senderName:_e("sender_name"),recipientName:_e("recipient_name").notNull(),recipientPhone:_e("recipient_phone"),transferMethod:_e("transfer_method").notNull(),transferDate:_e("transfer_date").notNull(),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),nSe=Bt("worker_balances",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),workerId:$e("worker_id").notNull().references(()=>af.id,{onDelete:"cascade"}),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),totalEarned:Yt("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:Yt("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:Yt("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:Yt("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:rt("last_updated").defaultNow().notNull(),createdAt:rt("created_at").defaultNow().notNull()}),sSe=Bt("daily_activity_logs",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),engineerId:$e("engineer_id").notNull().references(()=>kn.id),logDate:_e("log_date").notNull(),activityTitle:_e("activity_title").notNull(),description:_e("description"),progressPercentage:Gt("progress_percentage").default(0),weatherConditions:_e("weather_conditions"),temperature:Gt("temperature"),humidity:Gt("humidity"),images:qr("images").default([]),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()});tr(sSe).omit({id:!0,createdAt:!0,updatedAt:!0});const of=$x(e=>{if(e instanceof Date){const r=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${r}-${t}-${s}`}return typeof e=="string"&&e.includes("T")?e.split("T")[0]:e},Ur().regex(/^\d{4}-\d{2}-\d{2}$/,"     YYYY-MM-DD")),iSe=Bt("daily_expense_summaries",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),date:_e("date").notNull(),carriedForwardAmount:Yt("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:Yt("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:Yt("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:Yt("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:Yt("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:Yt("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:Yt("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:Yt("total_income",{precision:15,scale:2}).notNull(),totalExpenses:Yt("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:Yt("remaining_balance",{precision:15,scale:2}).notNull(),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()}),aSe=Bt("worker_types",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),name:_e("name").notNull().unique(),usageCount:Gt("usage_count").default(1).notNull(),lastUsed:rt("last_used").defaultNow().notNull(),createdAt:rt("created_at").defaultNow().notNull()}),oSe=Bt("autocomplete_data",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),category:_e("category").notNull(),value:_e("value").notNull(),usageCount:Gt("usage_count").default(1).notNull(),lastUsed:rt("last_used").defaultNow().notNull(),createdAt:rt("created_at").defaultNow().notNull()}),lSe=Bt("worker_misc_expenses",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),description:_e("description").notNull(),date:_e("date").notNull(),notes:_e("notes"),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),createdAt:rt("created_at").defaultNow().notNull()}),cSe=Bt("backup_logs",{id:ps("id").primaryKey(),filename:_e("filename").notNull(),size:Yt("size",{precision:15,scale:2}),status:_e("status").notNull(),destination:_e("destination").notNull(),errorMessage:_e("error_message"),triggeredBy:$e("triggered_by").references(()=>kn.id),createdAt:rt("created_at").defaultNow().notNull()}),uSe=Bt("backup_settings",{id:ps("id").primaryKey(),autoBackupEnabled:dr("auto_backup_enabled").default(!0).notNull(),intervalMinutes:Gt("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:dr("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:dr("gdrive_enabled").default(!1).notNull(),retentionDays:Gt("retention_days").default(30).notNull(),updatedAt:rt("updated_at").defaultNow().notNull()});tr(cSe);tr(uSe);const dSe=Bt("print_settings",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),reportType:_e("report_type").notNull().default("worker_statement"),name:_e("name").notNull(),pageSize:_e("page_size").notNull().default("A4"),pageOrientation:_e("page_orientation").notNull().default("portrait"),marginTop:Yt("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:Yt("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:Yt("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:Yt("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:_e("font_family").notNull().default("Arial"),fontSize:Gt("font_size").notNull().default(12),headerFontSize:Gt("header_font_size").notNull().default(16),tableFontSize:Gt("table_font_size").notNull().default(10),headerBackgroundColor:_e("header_background_color").notNull().default("#1e40af"),headerTextColor:_e("header_text_color").notNull().default("#ffffff"),tableHeaderColor:_e("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:_e("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:_e("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:_e("table_border_color").notNull().default("#000000"),tableBorderWidth:Gt("table_border_width").notNull().default(1),tableCellPadding:Gt("table_cell_padding").notNull().default(3),tableColumnWidths:_e("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:dr("show_header").notNull().default(!0),showLogo:dr("show_logo").notNull().default(!0),showProjectInfo:dr("show_project_info").notNull().default(!0),showWorkerInfo:dr("show_worker_info").notNull().default(!0),showAttendanceTable:dr("show_attendance_table").notNull().default(!0),showTransfersTable:dr("show_transfers_table").notNull().default(!0),showSummary:dr("show_summary").notNull().default(!0),showSignatures:dr("show_signatures").notNull().default(!0),isDefault:dr("is_default").notNull().default(!1),isActive:dr("is_active").notNull().default(!0),userId:_e("user_id"),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()}),fSe=Bt("project_fund_transfers",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),fromProjectId:$e("from_project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),toProjectId:$e("to_project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),amount:Yt("amount",{precision:15,scale:2}).notNull(),description:_e("description"),transferReason:_e("transfer_reason"),transferDate:_e("transfer_date").notNull(),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()}),u5=Bt("security_policies",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),policyId:$e("policy_id").notNull().unique(),title:$e("title",{length:500}).notNull(),description:_e("description"),category:$e("category",{length:100}).notNull(),severity:$e("severity",{length:50}).notNull().default("medium"),status:$e("status",{length:50}).notNull().default("draft"),complianceLevel:$e("compliance_level",{length:100}),requirements:qr("requirements"),implementation:qr("implementation"),checkCriteria:qr("check_criteria"),checkInterval:Gt("check_interval"),nextCheck:rt("next_check"),violationsCount:Gt("violations_count").notNull().default(0),lastViolation:rt("last_violation"),createdBy:$e("created_by"),approvedBy:$e("approved_by"),approvedAt:rt("approved_at"),createdAt:rt("created_at").notNull().defaultNow(),updatedAt:rt("updated_at").notNull().defaultNow()});Bt("security_policy_suggestions",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),suggestedPolicyId:$e("suggested_policy_id").notNull(),title:$e("title",{length:500}).notNull(),description:_e("description"),category:$e("category",{length:100}).notNull(),priority:$e("priority",{length:50}).notNull().default("medium"),confidence:Gt("confidence").notNull().default(50),reasoning:_e("reasoning"),estimatedImpact:$e("estimated_impact",{length:500}),implementationEffort:$e("implementation_effort",{length:100}),prerequisites:qr("prerequisites"),sourceType:$e("source_type",{length:100}),sourceData:qr("source_data"),status:$e("status",{length:50}).notNull().default("pending"),reviewedBy:$e("reviewed_by"),reviewedAt:rt("reviewed_at"),implementedAs:$e("implemented_as").references(()=>u5.id,{onDelete:"set null"}),implementedAt:rt("implemented_at"),createdAt:rt("created_at").notNull().defaultNow(),updatedAt:rt("updated_at").notNull().defaultNow()});Bt("security_policy_implementations",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),policyId:$e("policy_id").notNull().references(()=>u5.id,{onDelete:"cascade"}),implementationId:$e("implementation_id").notNull(),implementationType:$e("implementation_type",{length:100}).notNull(),status:$e("status",{length:50}).notNull().default("pending"),configuration:qr("configuration"),deploymentDetails:qr("deployment_details"),successCriteria:qr("success_criteria"),rollbackPlan:qr("rollback_plan"),implementedBy:$e("implemented_by"),implementationDate:rt("implementation_date"),verificationDate:rt("verification_date"),nextReview:rt("next_review"),createdAt:rt("created_at").notNull().defaultNow(),updatedAt:rt("updated_at").notNull().defaultNow()});Bt("security_policy_violations",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),policyId:$e("policy_id").notNull().references(()=>u5.id,{onDelete:"cascade"}),violationId:$e("violation_id").notNull().unique(),violatedRule:$e("violated_rule",{length:500}).notNull(),severity:$e("severity",{length:50}).notNull().default("medium"),status:$e("status",{length:50}).notNull().default("open"),violationDetails:qr("violation_details"),affectedResources:qr("affected_resources"),impactAssessment:_e("impact_assessment"),remediation_steps:qr("remediation_steps"),detectedAt:rt("detected_at").notNull().defaultNow(),resolvedAt:rt("resolved_at"),resolvedBy:$e("resolved_by"),createdAt:rt("created_at").notNull().defaultNow(),updatedAt:rt("updated_at").notNull().defaultNow()});const hSe=Bt("user_project_permissions",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id,{onDelete:"cascade"}),projectId:$e("project_id").notNull().references(()=>En.id,{onDelete:"cascade"}),canView:dr("can_view").default(!0).notNull(),canAdd:dr("can_add").default(!1).notNull(),canEdit:dr("can_edit").default(!1).notNull(),canDelete:dr("can_delete").default(!1).notNull(),assignedBy:$e("assigned_by").references(()=>kn.id),assignedAt:rt("assigned_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()},e=>({uniqueUserProject:vr`UNIQUE (user_id, project_id)`})),pSe=Bt("permission_audit_logs",{id:Zi("id").primaryKey().default(vr`gen_random_uuid()`),action:$e("action").notNull(),actorId:$e("actor_id").notNull().references(()=>kn.id),targetUserId:$e("target_user_id").references(()=>kn.id),projectId:$e("project_id").references(()=>En.id),oldPermissions:qr("old_permissions"),newPermissions:qr("new_permissions"),ipAddress:sf("ip_address"),userAgent:_e("user_agent"),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),XA=tr(En).omit({id:!0,createdAt:!0});tr(af).omit({id:!0,createdAt:!0});const mSe=tr(Y4e).omit({id:!0,createdAt:!0}).extend({transferDate:of,amount:$x(e=>e==null?"0":e.toString(),Ur())});tr(J4e).omit({id:!0,createdAt:!0}).extend({attendanceDate:of,dailyWage:Is(),actualWage:Is().optional(),totalPay:Is(),paidAmount:Is().optional(),remainingAmount:Is().optional(),paymentType:Ur().optional().default("partial"),hoursWorked:Is().optional(),overtime:Is().optional(),overtimeRate:Is().optional(),notes:Ur().optional(),startTime:Ur().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM"),endTime:Ur().optional().refine(e=>e?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(e):!0,"     HH:MM")}).refine(e=>{if(e.startTime&&e.endTime){const r=parseInt(e.startTime.split(":")[0])*60+parseInt(e.startTime.split(":")[1]),t=parseInt(e.endTime.split(":")[0])*60+parseInt(e.endTime.split(":")[1]);return r<t||t<r}return!0},{message:"        ( )",path:["endTime"]});tr(yX).omit({id:!0,createdAt:!0});tr(bX).omit({id:!0,createdAt:!0}).extend({purchaseDate:of,quantity:Is().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"    0  "),unit:Ur().min(1,"  ").default(""),unitPrice:Is().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Fm("")),totalAmount:Is().refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ").optional().or(Fm("")),purchaseType:Ur().default(""),paidAmount:Is().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  "),remainingAmount:Is().default("0").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>=0,"     0  ")});tr(tSe).omit({id:!0,createdAt:!0}).extend({date:of,amount:Is()});tr(rSe).omit({id:!0,createdAt:!0}).extend({transferDate:of,amount:Is()});const gSe=tr(fSe).omit({id:!0,createdAt:!0}).extend({transferDate:of,amount:Is()});tr(iSe).omit({id:!0,createdAt:!0,updatedAt:!0});tr(aSe).omit({id:!0,createdAt:!0,lastUsed:!0});tr(oSe).omit({id:!0,createdAt:!0,lastUsed:!0});tr(lSe).omit({id:!0,createdAt:!0}).extend({date:of,amount:Is()});tr(hSe).omit({id:!0,assignedAt:!0,updatedAt:!0});tr(pSe).omit({id:!0,createdAt:!0});tr(kn).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:Ur().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:Ur().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:Ur().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:Ur().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:Yh(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});tr(af).omit({id:!0,createdAt:!0}).extend({name:Ur().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:Ur().min(1,"  ").max(100,"   "),dailyWage:Ur().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(e=>parseFloat(e)>0,{message:"       "})});const ySe=tr(En).omit({id:!0,createdAt:!0}).extend({name:Ur().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:Yh(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:Ur().url("   ").optional().or(Fm(""))});ySe.partial().omit({}).refine(e=>Object.keys(e).length>0,{message:"      "});Ur().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(Ur().regex(/^[a-z0-9-]{8,50}$/,"  "));tr(c5).omit({id:!0,createdAt:!0});tr(eSe).omit({id:!0,createdAt:!0}).extend({amount:Is()});tr(dSe).omit({id:!0,createdAt:!0,updatedAt:!0});tr(nSe);tr(X4e).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const bSe=Bt("report_templates",{id:_e("id").primaryKey().default(vr`gen_random_uuid()`),templateName:_e("template_name").notNull().default("default"),headerTitle:_e("header_title").notNull().default("   "),headerSubtitle:_e("header_subtitle").default(" "),companyName:_e("company_name").notNull().default("  "),companyAddress:_e("company_address").default(" - "),companyPhone:_e("company_phone").default("+967 1 234567"),companyEmail:_e("company_email").default("info@company.com"),footerText:_e("footer_text").default("       "),footerContact:_e("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:_e("primary_color").notNull().default("#1f2937"),secondaryColor:_e("secondary_color").notNull().default("#3b82f6"),accentColor:_e("accent_color").notNull().default("#10b981"),textColor:_e("text_color").notNull().default("#1f2937"),backgroundColor:_e("background_color").notNull().default("#ffffff"),fontSize:Gt("font_size").notNull().default(11),fontFamily:_e("font_family").notNull().default("Arial"),logoUrl:_e("logo_url"),pageOrientation:_e("page_orientation").notNull().default("portrait"),pageSize:_e("page_size").notNull().default("A4"),margins:qr("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:dr("show_header").notNull().default(!0),showFooter:dr("show_footer").notNull().default(!0),showLogo:dr("show_logo").notNull().default(!0),showDate:dr("show_date").notNull().default(!0),showPageNumbers:dr("show_page_numbers").notNull().default(!0),isActive:dr("is_active").notNull().default(!0),createdAt:rt("created_at").defaultNow(),updatedAt:rt("updated_at").defaultNow()});tr(bSe).omit({id:!0,createdAt:!0,updatedAt:!0});tr(K4e);tr(Z4e);const vSe=Bt("notification_read_states",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),notificationId:_e("notification_id").notNull(),userId:$e("user_id").references(()=>kn.id),isRead:dr("is_read").default(!0).notNull(),readAt:rt("read_at").defaultNow().notNull(),deviceInfo:_e("device_info"),createdAt:rt("created_at").defaultNow().notNull()},e=>({uniqueNotificationUser:vr`UNIQUE (notification_id, user_id)`})),xSe=Bt("build_deployments",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),buildNumber:Gt("build_number").notNull(),status:_e("status").notNull().default("running"),currentStep:_e("current_step").notNull(),progress:Gt("progress").notNull().default(0),version:_e("version").notNull(),appType:_e("app_type").notNull().default("web"),logs:qr("logs").notNull().default([]),steps:qr("steps").notNull().default([]),startTime:rt("start_time").defaultNow().notNull(),endTime:rt("end_time"),triggeredBy:$e("triggered_by").references(()=>kn.id),createdAt:rt("created_at").defaultNow().notNull()});tr(xSe).omit({id:!0,createdAt:!0});tr(vSe).omit({id:!0,createdAt:!0});const vX=Bt("ai_chat_sessions",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id,{onDelete:"cascade"}),title:_e("title").default(" "),isActive:dr("is_active").default(!0).notNull(),lastMessageAt:rt("last_message_at"),messagesCount:Gt("messages_count").default(0).notNull(),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()}),wSe=Bt("ai_chat_messages",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),sessionId:$e("session_id").notNull().references(()=>vX.id,{onDelete:"cascade"}),role:_e("role").notNull(),content:_e("content").notNull(),model:_e("model"),provider:_e("provider"),tokensUsed:Gt("tokens_used"),action:_e("action"),actionData:qr("action_data"),createdAt:rt("created_at").defaultNow().notNull()}),_Se=Bt("ai_usage_stats",{id:$e("id").primaryKey().default(vr`gen_random_uuid()`),userId:$e("user_id").notNull().references(()=>kn.id,{onDelete:"cascade"}),date:_e("date").notNull(),provider:_e("provider").notNull(),model:_e("model").notNull(),requestsCount:Gt("requests_count").default(0).notNull(),tokensUsed:Gt("tokens_used").default(0).notNull(),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()});tr(vX).omit({id:!0,createdAt:!0,updatedAt:!0});tr(wSe).omit({id:!0,createdAt:!0});tr(_Se).omit({id:!0,createdAt:!0,updatedAt:!0});const d5=Bt("well_tasks",{id:ps("id").primaryKey(),wellId:Gt("well_id").notNull().references(()=>yc.id,{onDelete:"cascade"}),taskType:$e("task_type",{length:50}).notNull(),description:_e("description"),estimatedCost:Yt("estimated_cost",{precision:12,scale:2}),actualCost:Yt("actual_cost",{precision:12,scale:2}),taskOrder:Gt("task_order").notNull(),status:_e("status").notNull().default("pending"),assignedWorkerId:$e("assigned_worker_id").references(()=>af.id,{onDelete:"set null"}),startDate:Su("start_date"),completionDate:Su("completion_date"),completedBy:$e("completed_by").references(()=>kn.id,{onDelete:"set null"}),createdBy:$e("created_by").references(()=>kn.id,{onDelete:"set null"}),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull(),updatedAt:rt("updated_at").defaultNow().notNull()}),kSe=Bt("well_task_accounts",{id:ps("id").primaryKey(),taskId:Gt("task_id").notNull().unique().references(()=>d5.id,{onDelete:"cascade"}),amount:Yt("amount",{precision:12,scale:2}).notNull(),accountedBy:$e("accounted_by").notNull().references(()=>kn.id),accountedAt:rt("accounted_at").defaultNow().notNull(),paymentMethod:$e("payment_method",{length:50}),referenceNumber:$e("reference_number",{length:100}),notes:_e("notes")}),SSe=Bt("well_expenses",{id:ps("id").primaryKey(),wellId:Gt("well_id").notNull().references(()=>yc.id,{onDelete:"cascade"}),expenseType:$e("expense_type",{length:50}).notNull(),referenceType:$e("reference_type",{length:50}),referenceId:$e("reference_id"),description:_e("description").notNull(),category:$e("category",{length:100}),quantity:Yt("quantity",{precision:10,scale:2}).notNull(),unit:$e("unit",{length:20}).notNull(),unitPrice:Yt("unit_price",{precision:12,scale:2}).notNull(),totalAmount:Yt("total_amount",{precision:12,scale:2}).notNull(),expenseDate:Su("expense_date").notNull(),createdBy:$e("created_by").notNull().references(()=>kn.id),createdAt:rt("created_at").defaultNow().notNull(),notes:_e("notes")}),jSe=Bt("well_audit_logs",{id:ps("id").primaryKey(),wellId:Gt("well_id").references(()=>yc.id,{onDelete:"set null"}),taskId:Gt("task_id").references(()=>d5.id,{onDelete:"set null"}),action:$e("action",{length:50}).notNull(),entityType:$e("entity_type",{length:50}).notNull(),entityId:Gt("entity_id").notNull(),previousData:qr("previous_data"),newData:qr("new_data"),userId:$e("user_id").notNull().references(()=>kn.id),ipAddress:sf("ip_address"),userAgent:_e("user_agent"),createdAt:rt("created_at").defaultNow().notNull()}),NSe=Bt("material_categories",{id:ps("id").primaryKey(),name:$e("name",{length:100}).notNull().unique(),nameAr:$e("name_ar",{length:100}).notNull(),type:$e("type",{length:20}).notNull(),unit:$e("unit",{length:20}).notNull(),description:_e("description"),isActive:dr("is_active").default(!0).notNull(),createdAt:rt("created_at").defaultNow().notNull()});tr(gX).omit({id:!0,createdAt:!0});tr(yc).omit({id:!0,createdAt:!0,updatedAt:!0});tr(d5).omit({id:!0,createdAt:!0,updatedAt:!0});tr(kSe).omit({id:!0,accountedAt:!0});tr(SSe).omit({id:!0,createdAt:!0});tr(jSe).omit({id:!0,createdAt:!0});tr(NSe).omit({id:!0});const xX=Bt("equipment",{id:ps("id").primaryKey(),code:_e("code"),name:_e("name").notNull(),sku:_e("sku"),type:_e("type"),unit:_e("unit").default(""),quantity:Gt("quantity").default(1).notNull(),status:_e("status").default("available"),condition:_e("condition").default("excellent"),description:_e("description"),purchaseDate:_e("purchase_date"),purchasePrice:_e("purchase_price"),projectId:$e("project_id").references(()=>En.id),imageUrl:_e("image_url"),createdAt:rt("created_at").defaultNow().notNull()}),CSe=Bt("equipment_movements",{id:ps("id").primaryKey(),equipmentId:Gt("equipment_id").references(()=>xX.id),fromProjectId:$e("from_project_id").references(()=>En.id),toProjectId:$e("to_project_id").references(()=>En.id),quantity:Gt("quantity").default(1).notNull(),movementDate:rt("movement_date").defaultNow(),reason:_e("reason"),performedBy:_e("performed_by"),notes:_e("notes")});tr(xX).omit({id:!0,createdAt:!0});tr(CSe).omit({id:!0});const TSe=Bt("account_types",{id:ps("id").primaryKey(),code:$e("code",{length:20}).notNull().unique(),nameAr:_e("name_ar").notNull(),nameEn:_e("name_en"),category:_e("category").notNull(),normalBalance:_e("normal_balance").notNull(),parentId:Gt("parent_id"),isActive:dr("is_active").default(!0),createdAt:rt("created_at").defaultNow().notNull()}),wX=Bt("journal_entries",{id:Zi("id").defaultRandom().primaryKey(),entryNumber:ps("entry_number"),projectId:$e("project_id").references(()=>En.id),entryDate:_e("entry_date").notNull(),description:_e("description").notNull(),sourceTable:_e("source_table").notNull(),sourceId:_e("source_id").notNull(),entryType:_e("entry_type").notNull(),reversalOfId:Zi("reversal_of_id"),totalAmount:Yt("total_amount",{precision:15,scale:2}).notNull(),status:_e("status").default("posted"),createdBy:$e("created_by").references(()=>kn.id),createdAt:rt("created_at").defaultNow().notNull(),...v0}),ESe=Bt("journal_lines",{id:Zi("id").defaultRandom().primaryKey(),journalEntryId:Zi("journal_entry_id").references(()=>wX.id).notNull(),accountCode:$e("account_code",{length:20}).notNull(),debitAmount:Yt("debit_amount",{precision:15,scale:2}).default("0"),creditAmount:Yt("credit_amount",{precision:15,scale:2}).default("0"),description:_e("description"),createdAt:rt("created_at").defaultNow().notNull()}),ASe=Bt("financial_audit_log",{id:Zi("id").defaultRandom().primaryKey(),projectId:$e("project_id").references(()=>En.id),action:_e("action").notNull(),entityType:_e("entity_type").notNull(),entityId:_e("entity_id").notNull(),previousData:qr("previous_data"),newData:qr("new_data"),changedFields:qr("changed_fields"),userId:$e("user_id").references(()=>kn.id),userEmail:_e("user_email"),reason:_e("reason"),ipAddress:sf("ip_address"),createdAt:rt("created_at").defaultNow().notNull()}),PSe=Bt("reconciliation_records",{id:Zi("id").defaultRandom().primaryKey(),projectId:$e("project_id").references(()=>En.id).notNull(),reconciliationDate:_e("reconciliation_date").notNull(),ledgerBalance:Yt("ledger_balance",{precision:15,scale:2}).notNull(),computedBalance:Yt("computed_balance",{precision:15,scale:2}).notNull(),discrepancy:Yt("discrepancy",{precision:15,scale:2}).notNull(),status:_e("status").default("pending"),resolvedBy:$e("resolved_by").references(()=>kn.id),resolvedAt:rt("resolved_at"),notes:_e("notes"),createdAt:rt("created_at").defaultNow().notNull()}),ISe=Bt("summary_invalidations",{id:Zi("id").defaultRandom().primaryKey(),projectId:$e("project_id").references(()=>En.id).notNull(),invalidatedFrom:_e("invalidated_from").notNull(),reason:_e("reason").notNull(),sourceTable:_e("source_table"),sourceId:_e("source_id"),createdAt:rt("created_at").defaultNow().notNull()});tr(TSe).omit({id:!0,createdAt:!0});tr(wX).omit({id:!0,entryNumber:!0,createdAt:!0});tr(ESe).omit({id:!0,createdAt:!0});tr(ASe).omit({id:!0,createdAt:!0});tr(PSe).omit({id:!0,createdAt:!0});tr(ISe).omit({id:!0,createdAt:!0});const DSe=Bt("sync_audit_logs",{id:ps("id").primaryKey(),userId:$e("user_id").references(()=>kn.id),userName:_e("user_name"),module:$e("module",{length:50}).notNull(),tableName:$e("table_name",{length:100}).notNull(),recordId:_e("record_id"),action:$e("action",{length:20}).notNull(),status:$e("status",{length:20}).notNull().default("success"),description:_e("description").notNull(),oldValues:qr("old_values"),newValues:qr("new_values"),errorMessage:_e("error_message"),ipAddress:_e("ip_address"),userAgent:_e("user_agent"),durationMs:Gt("duration_ms"),syncType:$e("sync_type",{length:30}),projectId:$e("project_id").references(()=>En.id),projectName:_e("project_name"),amount:Yt("amount",{precision:15,scale:2}),createdAt:rt("created_at").defaultNow().notNull()});tr(DSe).omit({id:!0,createdAt:!0});const MSe=Bt("idempotency_keys",{id:ps("id").primaryKey(),key:$e("key",{length:255}).notNull().unique(),endpoint:$e("endpoint",{length:255}).notNull(),method:$e("method",{length:10}).notNull(),statusCode:Gt("status_code").notNull(),responseBody:qr("response_body"),createdAt:rt("created_at").defaultNow().notNull(),expiresAt:rt("expires_at").notNull()});tr(MSe).omit({id:!0,createdAt:!0});function RSe(){const{toast:e}=pn(),r=Ss(),{setFloatingAction:t}=Go(),[s,n]=E.useState(null),[i,a]=E.useState(!1),l=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,c]=E.useState(""),[d,p]=E.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=C=>c(C),h=(C,_)=>{p(S=>({...S,[C]:_}))},g=()=>{c(""),p({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=xt({queryKey:ve.projectsWithStats,queryFn:async()=>{const C=await qe("/api/projects/with-stats","GET");return C.data||C||[]}}),m=y,{data:v={data:[]},isLoading:x,refetch:k}=xt({queryKey:ve.projectFundTransfers,queryFn:async()=>await qe("/api/project-fund-transfers","GET")||{data:[]}}),T=E.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),A=E.useMemo(()=>{let C=T;if(u){const _=u.toLowerCase();C=C.filter(S=>S.transferReason?.toLowerCase().includes(_)||S.description?.toLowerCase().includes(_)||m.find(j=>j.id===S.fromProjectId)?.name.toLowerCase().includes(_)||m.find(j=>j.id===S.toProjectId)?.name.toLowerCase().includes(_))}if(d.reason&&(C=C.filter(_=>{if(!_.transferReason)return!1;const S=l.find(j=>j.key==="reason")?.options?.find(j=>j.value===d.reason);return _.transferReason===d.reason||_.transferReason===S?.label})),d.dateRange?.from||d.dateRange?.to){const _=d.dateRange.from?new Date(d.dateRange.from).getTime():0,S=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;C=C.filter(j=>{const N=new Date(j.transferDate).getTime();return N>=_&&N<=S})}return C},[T,u,d,m]),L=E.useMemo(()=>{const C=Array.isArray(T)?T:[];return{total:C.length,totalAmount:C.reduce((_,S)=>_+(parseFloat(S.amount?.toString()||"0")||0),0),filtered:A.length,outgoing:A.filter(_=>!A.some(S=>S.fromProjectId===S.toProjectId)).length,incoming:A.filter(_=>A.some(S=>S.toProjectId===S.fromProjectId)).length}},[T,A]),q=Pt({mutationFn:async C=>s?qe(`/api/project-fund-transfers/${s.id}`,"PATCH",C):qe("/api/project-fund-transfers","POST",C),onSuccess:()=>{r.refetchQueries({queryKey:ve.projectFundTransfers}),r.refetchQueries({queryKey:ve.projectsWithStats}),e({title:" ",description:s?"   ":"    "}),$.reset(),n(null),a(!1)},onError:C=>{e({title:"",description:C.message||"    ",variant:"destructive"})}}),D=Pt({mutationFn:async C=>{console.log(" [Client]  :",C);const _=await qe(`/api/project-fund-transfers/${C}`,"DELETE");return console.log(" [Client]  :",_),_},onSuccess:(C,_)=>{console.log(" [Client]    ...",_),r.setQueryData(ve.projectFundTransfers,S=>{console.log(" [Client]  :",S);const j=S?.data?.filter(M=>M.id!==_)||[],N={...S,data:j,success:!0};return console.log(" [Client]  :",N),N}),r.refetchQueries({queryKey:ve.projectFundTransfers}),r.refetchQueries({queryKey:ve.projectsWithStats}),e({title:" ",description:"    "})},onError:C=>{console.error(" [Client]   :",C),e({title:"",description:C.message||"    ",variant:"destructive"})}}),$=oc({resolver:lc(gSe),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});E.useEffect(()=>(t(()=>{n(null),$.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),a(!0)}," "),()=>t(null)),[t,$]);const z=C=>{if(!C.fromProjectId||!C.toProjectId||C.fromProjectId==="all"||C.toProjectId==="all"){e({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(C.fromProjectId===C.toProjectId){e({title:"",description:"      ",variant:"destructive"});return}q.mutate(C)},K=C=>{n(C),$.reset({fromProjectId:C.fromProjectId,toProjectId:C.toProjectId,amount:C.amount,transferReason:C.transferReason||"",transferDate:C.transferDate||new Date().toISOString().split("T")[0],description:C.description||""}),a(!0)},W=C=>m.find(_=>_.id===C)?.name||" ",P=C=>{if(typeof C!="number"){const _=parseFloat(String(C));if(isNaN(_))return"0 .";C=_}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(C)+" ."},R=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:L.total,icon:Tm,color:"orange"},{key:"totalAmount",label:" ",value:L.totalAmount,icon:Tr,color:"green",formatter:P},{key:"filtered",label:" ",value:L.filtered,icon:Ei,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:A.filter(C=>new Date(C.transferDate).toDateString()===new Date().toDateString()).length,icon:$n,color:"purple"},{key:"average",label:" ",value:L.total>0?L.totalAmount/L.total:0,icon:ks,color:"red",formatter:P},{key:"projects",label:" ",value:m.length,icon:ll,color:"indigo"}]}],[L,A,m]);return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[o.jsx(bo,{statsRows:R,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:l,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>k(),isRefreshing:x}),o.jsx("div",{className:"space-y-4 md:space-y-6",children:x?o.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(C=>o.jsx(ir,{className:"bg-white dark:bg-slate-900",children:o.jsx(br,{className:"p-4 md:p-6",children:o.jsx(bn,{className:"h-20 w-full"})})},C))}):A.length===0?o.jsx(ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:o.jsx(br,{className:"p-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx(Tm,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):o.jsx(ei,{columns:2,children:A.map(C=>o.jsx(vn,{title:P(parseFloat(C.amount?.toString()||"0")),titleIcon:Tr,headerColor:"#f59e0b",badges:[{label:new Date(C.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${W(C.fromProjectId)}  ${W(C.toProjectId)}`,icon:hs,color:"info"},{label:"",value:C.transferReason||" ",icon:fi,color:"default"},{label:"",value:new Date(C.transferDate).toLocaleDateString("en-GB"),icon:ks,color:"info"}],actions:[{icon:mu,label:"",onClick:()=>K(C),color:"blue"},{icon:Yn,label:"",onClick:()=>D.mutate(C.id),color:"red"}],compact:!0},C.id))})})]})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:o.jsxs(ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[o.jsx(fs,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xs,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:s?"  ":"   "}),o.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>{a(!1),n(null),$.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:o.jsx(Rs,{className:"h-4 w-4"})})]})}),o.jsx(br,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:o.jsx(uc,{...$,children:o.jsxs("form",{onSubmit:$.handleSubmit(z),className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[o.jsx(rn,{control:$.control,name:"amount",render:({field:C})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),o.jsx(sn,{children:o.jsx(vt,{type:"number",step:"0.01",placeholder:"0",...C,autoWidth:!0,maxWidth:250,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(rn,{control:$.control,name:"transferDate",render:({field:C})=>o.jsxs(Jr,{className:"flex flex-col gap-1.5",children:[o.jsx(Xn,{className:"text-xs md:text-sm font-semibold",children:""}),o.jsx(bl,{value:C.value,onChange:_=>C.onChange(_?Or(_,"yyyy-MM-dd"):"")}),o.jsx(Rn,{className:"text-xs"})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[o.jsx(rn,{control:$.control,name:"fromProjectId",render:({field:C})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),o.jsx(sn,{children:o.jsxs(es,{value:C.value||"",onValueChange:C.onChange,children:[o.jsx(Wn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:o.jsx(ts,{placeholder:"  "})}),o.jsx(qn,{className:"z-[9999999]",children:m.map(_=>o.jsx(zt,{value:_.id||"none",children:_.name},_.id))})]})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(rn,{control:$.control,name:"toProjectId",render:({field:C})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),o.jsx(sn,{children:o.jsxs(es,{value:C.value||"",onValueChange:C.onChange,children:[o.jsx(Wn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:o.jsx(ts,{placeholder:"  "})}),o.jsx(qn,{className:"z-[9999999]",children:m.map(_=>o.jsx(zt,{value:_.id||"none",children:_.name},_.id))})]})}),o.jsx(Rn,{className:"text-xs"})]})})]}),o.jsx(rn,{control:$.control,name:"transferReason",render:({field:C})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" "}),o.jsx(sn,{children:o.jsx(Oh,{placeholder:"   ...",className:"min-h-[60px] text-xs md:text-sm border-2",...C})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(rn,{control:$.control,name:"description",render:({field:C})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" ()"}),o.jsx(sn,{children:o.jsx(Oh,{placeholder:"   ...",className:"min-h-[100px] text-xs md:text-sm border-2",...C})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[o.jsx(Ie,{type:"submit",disabled:q.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:q.isPending?" ...":s?"":" "}),s&&o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{n(null),$.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}function cp(e={}){const{projectId:r,date:t,dateFrom:s,dateTo:n,enabled:i=!0}=e,a=r&&r!=="all"?["/api/financial-summary",r,t,s,n]:["/api/financial-summary","all",t,s,n],{data:l,isLoading:u,error:c,refetch:d}=xt({queryKey:a,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;r&&r!=="all"&&y.append("projectId",r),t&&y.append("date",t),s&&y.append("dateFrom",s),n&&y.append("dateTo",n),y.toString()&&(g+=`?${y.toString()}`);const m=await qe(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:i,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!r||r==="all")&&l){const g=l,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,x)=>({totalWorkerWages:v.totalWorkerWages+(x.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(x.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(x.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(x.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(x.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(x.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(x.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(x.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:c,refetch:d}}const f=l,h=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:h?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:c,refetch:d}}const Mo={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},ss={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},Mr={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+ss.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+ss.headerBlue,altRow:"FF"+ss.lightBlue,green:"FF"+ss.greenTotal,yellow:"FF"+ss.yellowTotal,orange:"FF"+ss.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+ss.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+ss.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+ss.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+ss.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+ss.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+ss.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ss.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+ss.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function qy(e,r){r.font&&(e.font=r.font),r.fill&&(e.fill=r.fill),r.alignment&&(e.alignment=r.alignment),r.border&&(e.border=r.border),r.numFmt&&(e.numFmt=r.numFmt)}function yAe(e,r,t,s){let n=1;const i=e.columns?.length||8;e.mergeCells(n,1,n,i);const a=e.getRow(n);a.getCell(1).value=Mo.name,qy(a.getCell(1),Mr.headerMain),a.height=30,n++,e.mergeCells(n,1,n,i);const l=e.getRow(n);if(l.getCell(1).value=r,qy(l.getCell(1),Mr.headerSecondary),l.height=25,n++,t){e.mergeCells(n,1,n,i);const u=e.getRow(n);u.getCell(1).value=t,qy(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,n++}if(s&&s.length>0){e.mergeCells(n,1,n,i);const u=e.getRow(n);u.getCell(1).value=s.join(" | "),qy(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,n++}return n++,n}const $Se=e=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[e]||e;async function _X(e,r,t,s){const n=(await on(async()=>{const{default:D}=await Promise.resolve().then(()=>vZ);return{default:D}},void 0)).default,i=new n.Workbook;i.creator=Mo.name,i.created=new Date;const a=i.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let l=1;a.mergeCells(`A${l}:O${l}`);const u=a.getCell(`A${l}`);u.value=Mo.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},a.getRow(l).height=30,l++,a.mergeCells(`A${l}:O${l}`);const c=a.getCell(`A${l}`);c.value=Mo.subtitle,c.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},c.alignment={horizontal:"center",vertical:"middle"},a.getRow(l).height=25,l++,a.mergeCells(`A${l}:O${l}`);const d=a.getCell(`A${l}`),p=s?`  - ${s} - ${new Date().toLocaleDateString("en-GB")}`:`  - ${new Date().toLocaleDateString("en-GB")}`;d.value=p,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},a.getRow(l).height=28,l++,l++,[[" ",t(r.totalIncome)],[" ",t(r.totalExpenses)],[" ",t(r.balance)]].forEach(([D,$])=>{const z=a.getRow(l);a.mergeCells(`A${l}:D${l}`);const K=z.getCell(1);K.value=D,K.font={bold:!0,size:11},K.alignment={horizontal:"right",vertical:"middle"},a.mergeCells(`E${l}:H${l}`);const W=z.getCell(5);W.value=$,W.font={bold:!0,size:11,color:{argb:D===" "?r.balance>=0?"FF008000":"FFFF0000":"FF000000"}},W.alignment={horizontal:"left",vertical:"middle"},z.height=22,l++}),l++;const h=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=a.getRow(l);h.forEach((D,$)=>{const z=g.getCell($+1);z.value=D,z.font=Mr.tableHeader.font,z.fill=Mr.tableHeader.fill,z.alignment=Mr.tableHeader.alignment,z.border=Mr.tableHeader.border}),g.height=28,l++,a.getColumn(1).width=5,a.getColumn(2).width=12,a.getColumn(3).width=10,a.getColumn(4).width=14,a.getColumn(5).width=14,a.getColumn(6).width=16,a.getColumn(7).width=10,a.getColumn(8).width=11,a.getColumn(9).width=13,a.getColumn(10).width=8,a.getColumn(11).width=10,a.getColumn(12).width=9,a.getColumn(13).width=14,a.getColumn(14).width=11,a.getColumn(15).width=13,e.forEach((D,$)=>{const z=a.getRow(l),K=$%2===0?Mr.tableCell:Mr.tableCellAlt,P=new Date(D.date).toLocaleDateString("en-GB"),R=()=>D.workerName?D.workerName:D.materialName?D.materialName:D.description&&D.description!=="-"?D.description:"-",C=()=>D.supplierName?D.supplierName:D.recipientName?D.recipientName:"-";[$+1,P,$Se(D.type),D.category,D.projectName||" ",R(),D.workDays??"-",D.dailyWage?t(D.dailyWage):"-",D.payableAmount?t(D.payableAmount):"-",D.quantity??"-",D.unitPrice?t(D.unitPrice):"-",D.paymentType||"-",C(),D.transferMethod||"-",t(D.amount)].forEach((S,j)=>{const N=z.getCell(j+1);N.value=S,N.font=K.font,K.fill&&(N.fill=K.fill),N.alignment=K.alignment,N.border=K.border,j===2&&(D.type==="income"||D.type==="transfer_from_project"?N.font={...K.font,color:{argb:"FF008000"}}:D.type==="expense"?N.font={...K.font,color:{argb:"FFFF0000"}}:D.type==="deferred"&&(N.font={...K.font,color:{argb:"FFFF8C00"}})),j===8&&D.payableAmount&&D.amount===0&&(N.font={...K.font,bold:!0,color:{argb:"FFFF6600"}}),j===14&&(D.type==="income"||D.type==="transfer_from_project"?N.font={...K.font,bold:!0,color:{argb:"FF008000"}}:D.type==="expense"?N.font={...K.font,bold:!0,color:{argb:"FFFF0000"}}:D.type==="deferred"&&(N.font={...K.font,bold:!0,color:{argb:"FFFF8C00"}}))}),z.height=24,l++}),l++;const y=a.getRow(l);a.mergeCells(`A${l}:G${l}`);const m=y.getCell(1);m.value=` : ${e.length}`,m.font=Mr.summaryRow.font,m.fill=Mr.summaryRow.fill,m.alignment=Mr.summaryRow.alignment,m.border=Mr.summaryRow.border,a.mergeCells(`H${l}:O${l}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,l+=2;const x=a.getRow(l);a.mergeCells(`A${l}:E${l}`);const k=x.getCell(1);k.value="  : ________________",k.font=Mr.signatureBox.font,k.alignment=Mr.signatureBox.alignment,k.border=Mr.signatureBox.border,a.mergeCells(`K${l}:O${l}`);const T=x.getCell(11);T.value="  : ________________",T.font=Mr.signatureBox.font,T.alignment=Mr.signatureBox.alignment,T.border=Mr.signatureBox.border,x.height=35,l+=2,a.mergeCells(`A${l}:O${l}`);const A=a.getCell(`A${l}`);A.value=`${Mo.name} | ${Mo.address} |     `,A.font=Mr.footer.font,A.alignment=Mr.footer.alignment;const L=await i.xlsx.writeBuffer(),q=`__${s?s+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;return await op(L,q)}function OSe(){const{getProjectIdForApi:e,isAllProjects:r}=Ko(),t=e()||"",[s,n]=E.useState("all"),[i,a]=E.useState(""),[l,u]=E.useState({}),[c,d]=E.useState(!1),{user:p}=gc(),{toast:f}=pn(),h=p?.role==="admin"||p?.role==="",{totals:g,isLoading:y}=cp({projectId:t||"all",enabled:!0}),m=E.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:$n,color:"green",formatter:ae=>Je(ae)},{title:" ()",value:m.totalExpenses,icon:Ei,color:"red",formatter:ae=>Je(ae)},{title:" ",value:m.currentBalance,icon:Tr,color:m.currentBalance>=0?"blue":"red",formatter:ae=>Je(ae)},{title:" ",value:m.deferredExpenses,icon:Un,color:"orange",formatter:ae=>Je(ae)}].map((ae,te)=>o.jsx(ir,{className:"overflow-hidden",children:o.jsx(br,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-full bg-${ae.color}-100 dark:bg-${ae.color}-900/30`,children:o.jsx(ae.icon,{className:`h-3.5 w-3.5 text-${ae.color}-600 dark:text-${ae.color}-400`})}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ae.title}),o.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ae.color==="red"?"text-red-600":ae.color==="green"?"text-green-600":""}`,children:ae.formatter(ae.value)})]})]})})},te));const x={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:k=[]}=xt({queryKey:ve.projects,...x}),{data:T=[],isLoading:A,error:L}=xt({queryKey:ve.projectFundTransfersFiltered(t,r),queryFn:async()=>{try{if(console.log(`    : ${t},  : ${r}`),r){const ae=[];return await Promise.all(k.map(async te=>{try{const se=await qe(`/api/projects/${te.id}/fund-transfers`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ae.push(...de.map(ge=>({...ge,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}})),console.log(`   ${ae.length}     `),ae}else{const ae=await qe(`/api/projects/${t}/fund-transfers`);return console.log(`   ${Array.isArray(ae?.data)?ae.data.length:0}  `),Array.isArray(ae?.data)?ae.data:[]}}catch(ae){return console.error("     :",ae),[]}},enabled:(!!t||r)&&k.length>0,retry:1,staleTime:3e4}),{data:q=[],isLoading:D,error:$}=xt({queryKey:ve.projectFundTransfersIncoming(t,r),queryFn:async()=>{try{console.log(`    : ${t},  : ${r}`);const ae=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${t}`,te=await fetch(ae,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(ge=>({:ge.fromProjectName,:ge.toProjectName,:ge.amount,:ge.transferDate}))),de}catch(ae){return console.error("     :",ae),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:z=[],isLoading:K,error:W}=xt({queryKey:ve.projectFundTransfersOutgoing(t,r),queryFn:async()=>{try{console.log(`    : ${t},  : ${r}`);const ae=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${t}`,te=await fetch(ae,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(ge=>({:ge.fromProjectName,:ge.toProjectName,:ge.amount,:ge.transferDate}))),de}catch(ae){return console.error("     :",ae),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:P=[],isLoading:R,error:C}=xt({queryKey:ve.projectWorkerAttendanceFiltered(t,r),queryFn:async()=>{try{if(console.log(`    : ${t},  : ${r}`),r){const ae=[];for(const te of k)try{const se=await qe(`/api/projects/${te.id}/worker-attendance`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ae.push(...de.map(ge=>({...ge,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ae.length}     `),ae}else{const ae=await qe(`/api/projects/${t}/worker-attendance`),te=Array.isArray(ae?.data)?ae.data:Array.isArray(ae)?ae:[];return console.log(`   ${te.length}   `),te}}catch(ae){return console.error("     :",ae),[]}},enabled:(!!t||r)&&k.length>0,retry:1,staleTime:3e4}),{data:_=[],isLoading:S,error:j}=xt({queryKey:ve.projectMaterialPurchasesFiltered(t,r),queryFn:async()=>{try{if(console.log(`    : ${t},  : ${r}`),r){const ae=[];for(const te of k)try{const se=await fetch(`/api/projects/${te.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(se.ok){const de=await se.json(),ge=Array.isArray(de?.data)?de.data:Array.isArray(de)?de:[];ae.push(...ge.map(ke=>({...ke,projectId:te.id,projectName:te.name})))}}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ae.length}     `),ae}else{const ae=await fetch(`/api/projects/${t}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ae.ok)return ae.status===401?(console.error("   -     "),[]):(console.error(`     : ${ae.status}`),[]);const te=await ae.json(),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ae){return console.error("     :",ae),[]}},enabled:(!!t||r)&&k.length>0,retry:1,staleTime:3e4}),{data:N=[],isLoading:M}=xt({queryKey:ve.transportationExpensesFiltered(r,t),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${t}`),r){const ae=[];for(const te of k)try{const se=await qe(`/api/transportation-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ae.push(...de.map(ge=>({...ge,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}return console.log(`   ${ae.length}     `),ae}else{let ae="/api/transportation-expenses";t&&(ae=`/api/transportation-expenses?projectId=${t}`);const te=await qe(ae),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ae){return console.error("     :",ae),[]}},enabled:(!!t||r)&&k.length>0,retry:1,staleTime:3e4}),{data:O=[],isLoading:B}=xt({queryKey:ve.workerMiscExpensesFiltered(r,t),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${t}`),r){const ae=[];for(const te of k)try{const se=await qe(`/api/worker-misc-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ae.push(...de.map(ge=>({...ge,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ae.length}     `),ae}else{let ae="/api/worker-misc-expenses";t&&(ae=`/api/worker-misc-expenses?projectId=${t}`);const te=await qe(ae),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ae){return console.error("     :",ae),[]}},enabled:(!!t||r)&&k.length>0,retry:1,staleTime:3e4}),{data:G=[],isLoading:Q,error:re}=xt({queryKey:ve.workerTransfersFiltered(t,r),queryFn:async()=>{try{if(console.log(`    : ${t},  : ${r}`),r){const ae=[];for(const te of k)try{const se=await qe(`/api/worker-transfers?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ae.push(...de.map(ge=>({...ge,projectId:te.id,projectName:ge.projectName||te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ae.length}     `),ae}else{const ae=t?`/api/worker-transfers?projectId=${t}`:"/api/worker-transfers",te=await qe(ae),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ae){return console.error("     :",ae),[]}},enabled:k.length>0,retry:1,staleTime:3e4}),{data:F=[]}=xt({queryKey:ve.workers}),Y=ae=>r?!0:ae.projectId===t,V=E.useMemo(()=>{const ae=[],te=Array.isArray(T)?T:[],se=Array.isArray(q)?q:[],de=Array.isArray(z)?z:[],ge=Array.isArray(P)?P:[],ke=Array.isArray(_)?_:[],Ee=Array.isArray(N)?N:[],Oe=Array.isArray(O)?O:[],Le=Array.isArray(G)?G:[],Ge=Array.isArray(F)?F:[];console.log(`     ${t}`),console.log("  :",{fundTransfers:te?.length||0,incomingProjectTransfers:se?.length||0,outgoingProjectTransfers:de?.length||0,workerAttendance:ge?.length||0,materialPurchases:ke?.length||0,transportExpenses:Ee?.length||0,miscExpenses:Oe?.length||0,workerTransfers:Le?.length||0});const Qe=be=>be&&k.find(Xe=>String(Xe.id)===String(be))?.name||" ";console.log("   :",te.length),te.forEach(be=>{const Ve=be.transferDate,Xe=parseFloat(be.amount);Ve&&!isNaN(Xe)&&Xe>0&&ae.push({id:`fund-${be.id}`,date:Ve,type:"income",category:" ",amount:Xe,description:`: ${be.senderName||" "}`,projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)})}),se.length>0?(console.log(`  ${se.length}  `),se.forEach(be=>{const Ve=be.transferDate,Xe=parseFloat(be.amount);Ve&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.fromProjectName}`),ae.push({id:`project-in-${be.id}`,date:Ve,type:"transfer_from_project",category:"    ",amount:Xe,description:`  : ${be.fromProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.toProjectId,projectName:be.toProjectName||Qe(be.toProjectId)}))})):console.log(`      ${t}`),de.length>0?(console.log(`  ${de.length}  `),de.forEach(be=>{const Ve=be.transferDate,Xe=parseFloat(be.amount);Ve&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.toProjectName}`),ae.push({id:`project-out-${be.id}`,date:Ve,type:"expense",category:"    ",amount:Xe,description:`  : ${be.toProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.fromProjectId,projectName:be.fromProjectName||Qe(be.fromProjectId)}))})):console.log(`      ${t}`),console.log("   :",ge.length),ge.forEach((be,Ve)=>{const Xe=be.date||be.attendanceDate||be.created_at;let Mt=0;if(be.paidAmount!==void 0&&be.paidAmount!==null&&be.paidAmount!==""){const It=parseFloat(be.paidAmount);!isNaN(It)&&It>0&&(Mt=It)}else if(be.actualWage!==void 0&&be.actualWage!==null&&be.actualWage!==""){const It=parseFloat(be.actualWage);!isNaN(It)&&It>0&&(Mt=It)}let Xt=0;const wt=be.dailyWage?parseFloat(be.dailyWage):0,Jt=be.workDays?parseFloat(be.workDays):0;!isNaN(wt)&&!isNaN(Jt)&&wt>0&&Jt>0&&(Xt=wt*Jt);const bt=Mt>0?Mt:0;if(Xe&&(Xt>0||bt>0)){const St=(Array.isArray(Ge)?Ge.find(or=>or.id===be.workerId):void 0)?.name||be.workerName||be.worker?.name||be.name||" ",Sr=be.workDays?` (${be.workDays} )`:"",Ft=Xt>0&&Mt===0?" -  ":"",jr={id:`wage-${be.id}`,date:Xe,type:"expense",category:Xt>0&&Mt===0?"  ( )":" ",amount:bt,description:`${St}${Sr}${Ft}`,workerName:St,workDays:Jt>0?Jt:void 0,dailyWage:wt>0?wt:void 0,payableAmount:Xt>0?Xt:void 0,projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)};ae.push(jr)}});const yt=ke.filter(Y);console.log("   :",yt.length),yt.forEach(be=>{const Ve=be.purchaseDate||be.date;let Xe=0;if(be.totalAmount&&!isNaN(parseFloat(be.totalAmount))?Xe=parseFloat(be.totalAmount):be.amount&&!isNaN(parseFloat(be.amount))?Xe=parseFloat(be.amount):be.cost&&!isNaN(parseFloat(be.cost))&&(Xe=parseFloat(be.cost)),Ve&&Xe>0){const Mt=be.purchaseType===""||be.paymentType==="deferred"||be.isDeferred||be.deferred;ae.push({id:`material-${be.id}`,date:Ve,type:Mt?"deferred":"expense",category:Mt?" ":" ",amount:Xe,description:`: ${be.materialName||be.name||" "}${Mt?" ()":""}`,materialName:be.materialName||be.name||" ",quantity:be.quantity?parseFloat(be.quantity):void 0,unitPrice:be.unitPrice?parseFloat(be.unitPrice):void 0,paymentType:Mt?"":"",supplierName:be.supplierName||be.supplier?.name||"",projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)})}});const it=Ee.filter(Y);console.log("   :",it.length),it.forEach(be=>{const Ve=be.date,Xe=parseFloat(be.amount);Ve&&!isNaN(Xe)&&Xe>0&&ae.push({id:`transport-${be.id}`,date:Ve,type:"expense",category:"",amount:Xe,description:`: ${be.description||" "}`,projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)})});const et=Oe.filter(Y);console.log("   :",et.length),et.forEach(be=>{const Ve=be.date,Xe=parseFloat(be.amount);Ve&&!isNaN(Xe)&&Xe>0&&ae.push({id:`misc-${be.id}`,date:Ve,type:"expense",category:"",amount:Xe,description:`: ${be.description||be.workerName||" "}`,projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)})}),console.log("   :",Le.length),Le.forEach(be=>{const Ve=be.transferDate||be.date,Xe=parseFloat(be.amount);if(Ve&&!isNaN(Xe)&&Xe>0){const Xt=(Array.isArray(Ge)?Ge.find(bt=>bt.id===be.workerId):void 0)?.name||be.workerName||"  ",wt=be.recipientName?`  ${be.recipientName}`:"",Jt=be.transferMethod==="hawaleh"?"()":be.transferMethod==="bank"?"( )":"()";ae.push({id:`worker-transfer-${be.id}`,date:Ve,type:"expense",category:" ",amount:Xe,description:`${Xt}${wt} ${Jt}`,workerName:Xt,recipientName:be.recipientName||"",transferMethod:be.transferMethod==="hawaleh"?"":be.transferMethod==="bank"?"":"",projectId:be.projectId,projectName:be.projectName||Qe(be.projectId)})}});const xe=ae.filter(be=>be.date&&!isNaN(new Date(be.date).getTime())).sort((be,Ve)=>new Date(Ve.date).getTime()-new Date(be.date).getTime());return console.log(`  : ${xe.length}   ${ae.length}`),console.log("   :",{_:xe.filter(be=>be.category===" ").length,_:xe.filter(be=>be.type==="transfer_from_project").length,_:xe.filter(be=>be.category==="    ").length,_:xe.filter(be=>be.category===" ").length,_:xe.filter(be=>be.category===" ").length,_:xe.filter(be=>be.category===" ").length,_:xe.filter(be=>be.type==="deferred").length,:xe.filter(be=>be.category==="").length,:xe.filter(be=>be.category==="").length,:xe.length}),xe},[t,r,T,q,z,P,_,N,O,G,F,k]),U=E.useMemo(()=>{let ae=V;return s!=="all"&&(ae=ae.filter(te=>te.type===s)),i&&(ae=ae.filter(te=>te.description.toLowerCase().includes(i.toLowerCase())||te.category.toLowerCase().includes(i.toLowerCase()))),l.from&&(ae=ae.filter(te=>new Date(te.date)>=l.from)),l.to&&(ae=ae.filter(te=>new Date(te.date)<=l.to)),ae},[V,s,i,l]),Z=E.useMemo(()=>{const ae=V.filter(Le=>Le.type==="income").reduce((Le,Ge)=>Le+(Ge.amount||0),0),te=V.filter(Le=>Le.type==="transfer_from_project").reduce((Le,Ge)=>Le+(Ge.amount||0),0),se=V.filter(Le=>Le.type==="expense").reduce((Le,Ge)=>Le+(Ge.amount||0),0),de=V.filter(Le=>Le.type==="deferred").reduce((Le,Ge)=>Le+(Ge.amount||0),0),ge=V.filter(Le=>Le.category==="    ").reduce((Le,Ge)=>Le+(Ge.amount||0),0),ke=se-ge,Ee=ae+te,Oe=se+de;return console.log("  :",{income:ae,transferFromProject:te,expenses:se,deferredExpenses:de,otherExpenses:ke,transferToProjectExpenses:ge,totalIncome:Ee,totalExpenses:Oe,balance:Ee-Oe}),{income:ae,transferFromProject:te,otherExpenses:ke,transferToProjectExpenses:ge,deferredExpenses:de,totalIncome:Ee,expenses:Oe,totalExpenses:Oe,balance:Ee-Oe}},[V]);Array.isArray(k)&&k.find(ae=>ae.id===t)?.name;const ie=ae=>Je(ae),me=()=>k.find(ae=>ae.id===t)?.name||"",ye={key:"export",icon:c?an:_g,label:" Excel",onClick:async()=>{if(!(c||U.length===0)){d(!0);try{const ae=await _X(U,{totalIncome:Z.totalIncome,totalExpenses:Z.totalExpenses,balance:Z.balance},Je,r?" ":me());f(ae?{title:"  ",description:`  ${U.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ae){console.error("  :",ae),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:c||U.length===0,loading:c,tooltip:"     Excel"},ee=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:Z.totalIncome,icon:$n,color:"green",formatter:ie},{key:"totalExpenses",label:" ()",value:Z.totalExpenses,icon:Ei,color:"red",formatter:ie},{key:"balance",label:" ",value:Z.balance,icon:Tr,color:Z.balance>=0?"blue":"red",formatter:ie},{key:"deferred",label:" ",value:Z.deferredExpenses,icon:Un,color:"orange",formatter:ie}]}],[Z]),{data:oe}=xt({queryKey:ve.autocompleteTransactionCategories,queryFn:async()=>qe("/api/autocomplete/transaction-categories","GET")}),fe=[{key:"type",label:" ",type:"select",placeholder:" ",options:E.useMemo(()=>{const ae=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!oe?.data)return ae;const te=new Set(ae.map(de=>de.value)),se=oe.data.map(de=>({value:de.value,label:de.label})).filter(de=>!te.has(de.value));return[...ae,...se]},[oe])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],le=A||D||K||R||S||Q||M||B;return o.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[o.jsx(bo,{statsRows:ee,searchValue:i,onSearchChange:a,searchPlaceholder:"    ...",showSearch:!0,filters:fe,actions:[ye],filterValues:{type:s,dateRange:l},onFilterChange:(ae,te)=>{ae==="type"?n(te):ae==="dateRange"&&u(te||{})},onReset:()=>{a(""),n("all"),u({})}}),(L||C||j||re||$||W)&&o.jsx(ir,{className:"bg-red-50 border-red-200",children:o.jsx(br,{className:"p-4",children:o.jsxs("div",{className:"text-red-800",children:[o.jsx("h3",{className:"font-semibold",children:"    :"}),L&&o.jsx("p",{children:"     "}),C&&o.jsx("p",{children:"     "}),j&&o.jsx("p",{children:"     "}),re&&o.jsx("p",{children:"     "}),$&&o.jsx("p",{children:"     "}),W&&o.jsx("p",{children:"     "}),o.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),o.jsx("div",{className:"space-y-4 md:space-y-6",children:le?o.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ae=>o.jsx(ir,{className:"bg-white dark:bg-slate-900",children:o.jsx(br,{className:"p-4 md:p-6",children:o.jsx(bn,{className:"h-20 w-full"})})},ae))}):U.length===0?o.jsx(ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:o.jsx(br,{className:"p-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx(fi,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):o.jsx(ei,{columns:2,children:U.map(ae=>{const te=ae.type==="income"||ae.type==="transfer_from_project",se=ae.type==="deferred",de=te?"":se?"":"",ge=()=>ae.category===" "?"/daily-expenses":ae.category===" "?"/worker-attendance":ae.category===" "?"/worker-accounts":ae.category===" "||ae.type==="deferred"?"/material-purchase":ae.category===""?"/daily-expenses":ae.category===""?"/worker-misc-expenses":ae.category.includes("")?"/project-transfers":"/daily-expenses";return o.jsx(vn,{title:ie(ae.amount),subtitle:Or(new Date(ae.date),"dd/MM/yyyy",{locale:da}),titleIcon:te?Cse:jse,headerColor:te?"#10b981":se?"#f59e0b":"#ef4444",badges:[{label:ae.category,variant:te?"default":se?"warning":"destructive"},{label:de,variant:te?"success":se?"warning":"destructive"}],fields:[{label:"",value:ae.projectName||" ",icon:hs,color:"info"},{label:"",value:de,icon:te?$n:Ei,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ae.category,icon:fi,color:"default"},{label:"",value:ie(ae.amount),icon:Tr,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ae.description,icon:fi,color:"default"}],actions:[{icon:mu,label:"",onClick:()=>{const ke=ge();window.location.href=ke},color:"blue"},...h?[{icon:Yn,label:"",onClick:()=>{confirm(`      
${ae.category} - ${ie(ae.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ae.id)})})})]})})})}function FSe(){const{toast:e}=pn(),r=Ss(),{setFloatingAction:t}=Go(),[s,n]=E.useState(null),[i,a]=E.useState(!1),l=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,c]=E.useState(""),[d,p]=E.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=S=>c(S),h=(S,j)=>{p(N=>({...N,[S]:j}))},g=()=>{c(""),p({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=xt({queryKey:ve.projects,queryFn:async()=>(await qe("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:x}=xt({queryKey:ve.allFundTransfers,queryFn:async()=>(await qe("/api/projects/all/fund-transfers","GET")).data||[]}),k=E.useMemo(()=>{let S=m;if(u){const j=u.toLowerCase();S=S.filter(N=>N.senderName?.toLowerCase().includes(j)||N.transferNumber?.toLowerCase().includes(j)||N.notes?.toLowerCase().includes(j)||N.projectName?.toLowerCase().includes(j))}if(d.project&&d.project!=="all"&&(S=S.filter(j=>j.projectId===d.project)),d.transferType&&(S=S.filter(j=>j.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const j=d.dateRange.from?new Date(d.dateRange.from).getTime():0,N=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;S=S.filter(M=>{const O=new Date(M.transferDate).getTime();return O>=j&&O<=N})}return S},[m,u,d]),{totals:T,isLoading:A,refetch:L}=cp(),q=E.useMemo(()=>({total:m.length,totalAmount:T?.totalIncome||m.reduce((S,j)=>S+(parseFloat(j.amount?.toString()||"0")||0),0),currentBalance:T?.totalBalance||0,filtered:k.length,today:k.filter(S=>new Date(S.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:k.filter(S=>{const j=new Date(S.transferDate),N=new Date,M=new Date(N.getTime()-10080*60*1e3);return j>=M&&j<=N}).length}),[m,k,T]),D=Pt({mutationFn:async S=>s?qe(`/api/fund-transfers/${s.id}`,"PATCH",S):qe("/api/fund-transfers","POST",S),onSuccess:()=>{r.refetchQueries({queryKey:ve.allFundTransfers}),r.refetchQueries({queryKey:ve.projectsWithStats}),e({title:" ",description:s?"  ":"   "}),z.reset(),n(null),a(!1)},onError:S=>{e({title:"",description:S.message||"   ",variant:"destructive"})}}),$=Pt({mutationFn:async S=>qe(`/api/fund-transfers/${S}`,"DELETE"),onSuccess:()=>{r.refetchQueries({queryKey:ve.allFundTransfers}),r.refetchQueries({queryKey:ve.projectsWithStats}),e({title:" ",description:"   "})},onError:S=>{e({title:"",description:S.message||"   ",variant:"destructive"})}}),z=oc({resolver:lc(mSe),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});E.useEffect(()=>(t(()=>{n(null),z.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),a(!0)}," "),()=>t(null)),[t,z]);const K=S=>{if(!S.projectId){e({title:"",description:"  ",variant:"destructive"});return}D.mutate(S)},W=S=>{n(S),z.reset({projectId:S.projectId,amount:S.amount,senderName:S.senderName||"",transferNumber:S.transferNumber||"",transferType:S.transferType||"",transferDate:S.transferDate,notes:S.notes||""}),a(!0)},P=S=>{if(typeof S!="number"){const j=parseFloat(String(S));if(isNaN(j))return"0 .";S=j}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(S)+" ."},R=E.useMemo(()=>y.map(S=>({value:S.id,label:S.name})),[y]),C=E.useMemo(()=>l.map(S=>S.key==="project"?{...S,options:R}:S),[R]),_=E.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:q.totalAmount,icon:$n,color:"blue",formatter:P},{key:"totalExpenses",label:" ",value:T?.totalCashExpenses||0,icon:$n,color:"red",formatter:P},{key:"currentBalance",label:" ",value:q.currentBalance,icon:Tr,color:q.currentBalance>=0?"green":"red",formatter:P},{key:"filtered",label:" ",value:q.filtered,icon:fi,color:"purple"}]}],[q,T]);return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[o.jsx(bo,{statsRows:_,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:C,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>x(),isRefreshing:v}),o.jsx("div",{className:"space-y-4 md:space-y-6",children:v?o.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(S=>o.jsx(ir,{className:"bg-white dark:bg-slate-900",children:o.jsx(br,{className:"p-4 md:p-6",children:o.jsx(bn,{className:"h-20 w-full"})})},S))}):k.length===0?o.jsx(ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:o.jsx(br,{className:"p-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx(Tr,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):o.jsx(ei,{columns:2,children:k.map(S=>o.jsx(vn,{title:P(parseFloat(S.amount?.toString()||"0")),titleIcon:Tr,headerColor:"#10b981",badges:[{label:new Date(S.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:S.projectName||" ",icon:hs,color:"info"},{label:"",value:S.senderName||" ",icon:fi,color:"default"},{label:" ",value:S.transferNumber||" ",icon:fi,color:"default"},{label:"",value:S.transferType||" ",icon:fi,color:"default"},{label:"",value:new Date(S.transferDate).toLocaleDateString("en-GB"),icon:ks,color:"info"}],actions:[{icon:mu,label:"",onClick:()=>W(S),color:"blue"},{icon:Yn,label:"",onClick:()=>$.mutate(S.id),color:"red"}],compact:!0},S.id))})})]})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:o.jsxs(ir,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[o.jsx(fs,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xs,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:s?" ":"  "}),o.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>{a(!1),n(null),z.reset()},className:"h-8 w-8 p-0",children:""})]})}),o.jsx(br,{className:"p-4 md:p-6 pb-4 md:pb-6",children:o.jsx(uc,{...z,children:o.jsxs("form",{onSubmit:z.handleSubmit(K),className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[o.jsx(rn,{control:z.control,name:"amount",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),o.jsx(sn,{children:o.jsx(vt,{type:"number",step:"0.01",placeholder:"0",...S,autoWidth:!0,maxWidth:250,onChange:j=>S.onChange(j.target.value),className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(W2e,{name:"transferDate",control:z.control,label:" *",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[o.jsx(rn,{control:z.control,name:"projectId",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" *"}),o.jsx(sn,{children:o.jsxs(es,{value:S.value,onValueChange:S.onChange,children:[o.jsx(Wn,{className:"h-10 md:h-11 border-2",children:o.jsx(ts,{placeholder:" "})}),o.jsx(qn,{className:"z-[100]",children:y.map(j=>o.jsx(zt,{value:j.id,children:j.name},j.id))})]})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(rn,{control:z.control,name:"transferType",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" "}),o.jsx(sn,{children:o.jsxs(es,{value:S.value||"",onValueChange:S.onChange,children:[o.jsx(Wn,{className:"h-10 md:h-11 border-2",children:o.jsx(ts,{placeholder:" "})}),o.jsxs(qn,{className:"z-[100]",children:[o.jsx(zt,{value:"",children:""}),o.jsx(zt,{value:"",children:""}),o.jsx(zt,{value:" ",children:" "})]})]})}),o.jsx(Rn,{className:"text-xs"})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[o.jsx(rn,{control:z.control,name:"senderName",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" "}),o.jsx(sn,{children:o.jsx(Ms,{category:"senderNames",placeholder:" ",value:S.value||"",onChange:S.onChange,className:"h-10 md:h-11 border-2"})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsx(rn,{control:z.control,name:"transferNumber",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:" "}),o.jsx(sn,{children:o.jsx(Ms,{category:"transferNumbers",placeholder:" ",value:S.value||"",onChange:S.onChange,className:"h-10 md:h-11 border-2"})}),o.jsx(Rn,{className:"text-xs"})]})})]}),o.jsx(rn,{control:z.control,name:"notes",render:({field:S})=>o.jsxs(Jr,{children:[o.jsx(Xn,{className:"text-sm font-semibold",children:""}),o.jsx(sn,{children:o.jsx(Ms,{category:"notes",placeholder:" ",value:S.value||"",onChange:S.onChange,className:"border-2 min-h-24 md:min-h-28"})}),o.jsx(Rn,{className:"text-xs"})]})}),o.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[o.jsx(Ie,{type:"submit",disabled:D.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:D.isPending?" ...":s?"":" "}),s&&o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{n(null),z.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var LSe=Symbol("radix.slottable");function zSe(e){const r=({children:t})=>o.jsx(o.Fragment,{children:t});return r.displayName=`${e}.Slottable`,r.__radixId=LSe,r}var kX="AlertDialog",[BSe]=mi(kX,[OW]),bc=OW(),SX=e=>{const{__scopeAlertDialog:r,...t}=e,s=bc(r);return o.jsx(h6,{...s,...t,modal:!0})};SX.displayName=kX;var USe="AlertDialogTrigger",VSe=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,n=bc(t);return o.jsx(p6,{...n,...s,ref:r})});VSe.displayName=USe;var WSe="AlertDialogPortal",jX=e=>{const{__scopeAlertDialog:r,...t}=e,s=bc(r);return o.jsx(m6,{...s,...t})};jX.displayName=WSe;var qSe="AlertDialogOverlay",NX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,n=bc(t);return o.jsx(s0,{...n,...s,ref:r})});NX.displayName=qSe;var nh="AlertDialogContent",[HSe,KSe]=BSe(nh),ZSe=zSe("AlertDialogContent"),CX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,children:s,...n}=e,i=bc(t),a=E.useRef(null),l=Er(r,a),u=E.useRef(null);return o.jsx(V0e,{contentName:nh,titleName:TX,docsSlug:"alert-dialog",children:o.jsx(HSe,{scope:t,cancelRef:u,children:o.jsxs(i0,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:mt(n.onOpenAutoFocus,c=>{c.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[o.jsx(ZSe,{children:s}),o.jsx(XSe,{contentRef:a})]})})})});CX.displayName=nh;var TX="AlertDialogTitle",EX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,n=bc(t);return o.jsx(tp,{...n,...s,ref:r})});EX.displayName=TX;var AX="AlertDialogDescription",PX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,n=bc(t);return o.jsx(rp,{...n,...s,ref:r})});PX.displayName=AX;var GSe="AlertDialogAction",IX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,n=bc(t);return o.jsx(a0,{...n,...s,ref:r})});IX.displayName=GSe;var DX="AlertDialogCancel",MX=E.forwardRef((e,r)=>{const{__scopeAlertDialog:t,...s}=e,{cancelRef:n}=KSe(DX,t),i=bc(t),a=Er(r,n);return o.jsx(a0,{...i,...s,ref:a})});MX.displayName=DX;var XSe=({contentRef:e})=>{const r=`\`${nh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nh}\` by passing a \`${AX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},QSe=SX,YSe=jX,RX=NX,$X=CX,OX=IX,FX=MX,LX=EX,zX=PX;const JSe=QSe,eje=YSe,BX=E.forwardRef(({className:e,...r},t)=>o.jsx(RX,{className:Ae("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));BX.displayName=RX.displayName;const UX=E.forwardRef(({className:e,...r},t)=>o.jsxs(eje,{children:[o.jsx(BX,{}),o.jsx($X,{ref:t,className:Ae("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{pointerEvents:"auto"},...r})]}));UX.displayName=$X.displayName;const VX=({className:e,...r})=>o.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",e),...r});VX.displayName="AlertDialogHeader";const WX=({className:e,...r})=>o.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});WX.displayName="AlertDialogFooter";const qX=E.forwardRef(({className:e,...r},t)=>o.jsx(LX,{ref:t,className:Ae("text-lg font-semibold",e),...r}));qX.displayName=LX.displayName;const HX=E.forwardRef(({className:e,...r},t)=>o.jsx(zX,{ref:t,className:Ae("text-sm text-muted-foreground",e),...r}));HX.displayName=zX.displayName;const KX=E.forwardRef(({className:e,...r},t)=>o.jsx(OX,{ref:t,className:Ae(Zm(),e),...r}));KX.displayName=OX.displayName;const ZX=E.forwardRef(({className:e,...r},t)=>o.jsx(FX,{ref:t,className:Ae(Zm({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));ZX.displayName=FX.displayName;function tje(){return o.jsxs(ir,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bn,{className:"h-10 w-10 rounded-lg"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(bn,{className:"h-5 w-32"}),o.jsx(bn,{className:"h-3 w-20"})]})]}),o.jsx(bn,{className:"h-6 w-16 rounded-full"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((e,r)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bn,{className:"h-4 w-4 rounded"}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx(bn,{className:"h-3 w-12"}),o.jsx(bn,{className:"h-4 w-16"})]})]},r))}),o.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[o.jsx(bn,{className:"h-8 w-8 rounded"}),o.jsx(bn,{className:"h-8 w-8 rounded"})]})]})]})}function rje(){return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((e,r)=>o.jsxs("div",{className:"flex items-center gap-3 p-2",children:[o.jsx(bn,{className:"h-10 w-10 rounded-lg"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(bn,{className:"h-3 w-16"}),o.jsx(bn,{className:"h-5 w-20"})]})]},r))})}function nje(){return o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[o.jsx(bn,{className:"h-9 flex-1 rounded-lg"}),o.jsx(bn,{className:"h-8 w-8 rounded-lg"}),o.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[o.jsx(bn,{className:"h-8 w-8 rounded-lg"}),o.jsx(bn,{className:"h-8 w-8 rounded-lg"})]})]})}function sje(){return o.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[o.jsx(rje,{}),o.jsx(nje,{}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((e,r)=>o.jsx(tje,{},r))})]})}class ije{constructor(){this.baseURL=`${bh.getApiBaseUrl()}/api`}async request(r,t={}){const s=typeof window<"u"?localStorage.getItem("accessToken"):null;if(wl.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${wl.getPlatform()}: skipping direct request to ${r}`),new Error("OFFLINE_MODE");try{const n=`${this.baseURL}${r}`;console.log(` API Request: ${t.method||"GET"} ${r}`,t.body||"");const i={"Content-Type":"application/json"};if(s&&s!=="undefined"&&s!=="null"){const u=s.replace(/^["'](.+)["']$/,"$1");i.Authorization=`Bearer ${u}`,i["x-auth-token"]=u}const a=await fetch(n,{...t,headers:{...i,...t.headers}});if(a.status===401&&(await a.clone().json().catch(()=>({}))).code==="TOKEN_EXPIRED"&&r!=="/auth/refresh"){console.log(" [API] Token expired, attempting refresh...");try{const c=await this.post("/auth/refresh",{refreshToken:localStorage.getItem("refreshToken")});if(c&&c.accessToken)return localStorage.setItem("accessToken",c.accessToken),c.refreshToken&&localStorage.setItem("refreshToken",c.refreshToken),this.request(r,t)}catch(c){console.error(" [API] Refresh failed:",c),typeof window<"u"&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/auth")}}if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return console.log(` API Response: ${t.method||"GET"} ${r}`,u),u}else{const u=await a.text();return console.log(` API Response (non-JSON): ${t.method||"GET"} ${r}`),u}}catch(n){throw console.error(` API Error: ${t.method||"GET"} ${r}`,n),n}}async get(r){return this.request(r,{method:"GET"})}async post(r,t){return this.request(r,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(r,t){return this.request(r,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}}new ije;async function up(e,r="GET",t,s=3e4){const n=bh.getApiBaseUrl(),i=e.startsWith("http")?e:`${n}${e}`,a={"Content-Type":"application/json"},l=typeof window<"u"?localStorage.getItem("accessToken"):null;if(l){const d=l.replace(/^["'](.+)["']$/,"$1");a.Authorization=`Bearer ${d}`,a["x-auth-token"]=d}const u=new AbortController,c=setTimeout(()=>u.abort(),s);try{const d=await fetch(i,{method:r,headers:a,body:t?JSON.stringify(t):void 0,signal:u.signal});if(clearTimeout(c),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const p=d.headers.get("content-type");return p&&p.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(c),d}}class aje{constructor(){this.events=[],this.listeners=[]}logEvent(r){const t={...r,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(t),console.log(` [IntelligentMonitor] [${r.severity.toUpperCase()}] ${r.message}`,r.metadata),(r.severity==="high"||r.severity==="critical")&&this.notifyAdmin(t),(r.type==="error"||r.type==="sync")&&this.attemptSelfHealing(t),this.notifyListeners(t)}notifyAdmin(r){sS({title:`  ${r.severity==="critical"?"":""}`,description:r.message,variant:r.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(r){if(r.resolved)return;console.log(` [Self-Healing]   : ${r.id}`);let t="";if(r.type==="sync"){t="      ";try{const{triggerSync:s}=await on(async()=>{const{triggerSync:n}=await Promise.resolve().then(()=>JX);return{triggerSync:n}},void 0);setTimeout(()=>s(),5e3)}catch(s){console.error(" [Self-Healing]   :",s)}}else(r.message.includes("storage")||r.message.includes("quota"))&&(t="      ");if(t){this.updateEventStatus(r.id,!0,t);try{const{smartSave:s}=await on(async()=>{const{smartSave:n}=await Promise.resolve().then(()=>Cm);return{smartSave:n}},void 0);await s("systemEvents",[{id:r.id,type:"monitoring",data:{...r,actionTaken:t},timestamp:Date.now()}])}catch(s){console.error(" [IntelligentMonitor]     DB:",s)}}}updateEventStatus(r,t,s){const n=this.events.find(i=>i.id===r);n&&(n.resolved=t,n.actionTaken=s,console.log(` [IntelligentMonitor]   : ${r}  ${s}`))}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(t=>t!==r)}}notifyListeners(r){this.listeners.forEach(t=>t(r))}getEvents(){return[...this.events]}}const _m=new aje,GX=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","notification_read_states","build_deployments","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],oje={emergency_users:"emergencyUsers",auth_user_sessions:"authUserSessions",email_verification_tokens:"emailVerificationTokens",password_reset_tokens:"passwordResetTokens",project_types:"projectTypes",fund_transfers:"fundTransfers",worker_attendance:"workerAttendance",material_purchases:"materialPurchases",supplier_payments:"supplierPayments",transportation_expenses:"transportationExpenses",worker_transfers:"workerTransfers",worker_balances:"workerBalances",daily_expense_summaries:"dailyExpenseSummaries",worker_types:"workerTypes",autocomplete_data:"autocompleteData",worker_misc_expenses:"workerMiscExpenses",backup_logs:"backupLogs",backup_settings:"backupSettings",print_settings:"printSettings",project_fund_transfers:"projectFundTransfers",security_policies:"securityPolicies",security_policy_suggestions:"securityPolicySuggestions",security_policy_implementations:"securityPolicyImplementations",security_policy_violations:"securityPolicyViolations",user_project_permissions:"userProjectPermissions",permission_audit_logs:"permissionAuditLogs",report_templates:"reportTemplates",notification_read_states:"notificationReadStates",build_deployments:"buildDeployments",ai_chat_sessions:"aiChatSessions",ai_chat_messages:"aiChatMessages",ai_usage_stats:"aiUsageStats",well_tasks:"wellTasks",well_task_accounts:"wellTaskAccounts",well_expenses:"wellExpenses",well_audit_logs:"wellAuditLogs",material_categories:"materialCategories"};function m1(e){return oje[e]||e}const QA=5,lje=2e3;let ld=!1;function cje(e){if(e?.status)return e.status;if(e?.statusCode)return e.statusCode;const r=e?.message||String(e),t=r.match(/status:\s*(\d{3})/i);return t?parseInt(t[1],10):r.includes(" ")||r.includes("duplicate")||r.includes("already exists")?409:r.includes(" ")||r.includes("validation")||r.includes("")?400:0}let xb=[],wb={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function g1(e){return xb.push(e),()=>{xb=xb.filter(r=>r!==e)}}function ca(e){wb={...wb,...e},xb.forEach(r=>r(wb))}async function uje(e,r){try{return await eS(e),await eu(e,r),console.log(` [ForceSync] Table ${e} synced with ${r.length} records`),!0}catch(t){return console.error(` [ForceSync] Failed to sync ${e}:`,t),!1}}function eg(){return{...wb}}function dje(e){return Math.min(3e4,lje*Math.pow(2,e))}async function x4(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(ld)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),ca({isSyncing:!0}),console.log(" [Sync]   apiRequest  /api/sync/full-backup");const r=await up("/api/sync/full-backup","POST",void 0,12e4);if(console.log(" [Sync]  :",r?"":""),!r||typeof r=="object"&&r.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!r.success||!r.data)return console.error(" [Sync]     :",r?.error||"  ",r),!1;const{data:t}=r,s=Object.entries(t),n=s.length;let i=0,a=0;if(t.users&&Array.isArray(t.users)){i++,ca({progress:{total:n,current:i,tableName:"users",percentage:Math.round(i/n*100)}}),await eu("users",t.users);const u=t.users.map(c=>({id:c.id.toString(),email:c.email,password:c.password,name:`${c.firstName||""} ${c.lastName||""}`.trim(),role:c.role||"user"}));await eu("emergencyUsers",u)}const l=5;for(let u=0;u<s.length;u+=l){const c=s.slice(u,u+l);for(const[d,p]of c)if(d!=="users"&&Array.isArray(p)){i++;const f=m1(d);ca({progress:{total:n,current:i,tableName:f,percentage:Math.min(100,Math.round(i/n*100))}}),await eu(f,p),a+=p.length}}return await Pi("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:a,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),ca({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(r){const t=r instanceof Error?r.message:"Unknown error";return console.error(" [Sync]    :",t),ca({isSyncing:!1,lastError:` : ${t}`}),r instanceof Error&&r.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{ld=!1}}async function iu(){if(!ld){if(!navigator.onLine){ca({isOnline:!1});return}ld=!0,ca({isSyncing:!0,isOnline:!0});try{const e=await hu();if(e.length===0){ca({isSyncing:!1}),ld=!1;return}console.log(` [Sync]   ${e.length} ...`);let r=0,t=0;for(const s of e){if(s.retries>=QA){console.warn(` [Sync]  ${s.id}    -   failed`),await Gl(s.id,`    (${QA})`,"max_retries"),t++;continue}try{await tS(s.id);const n=Date.now(),i=JSON.stringify(s.payload),a=btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(c,d)=>String.fromCharCode(parseInt(d,16)))).substring(0,32);let l;try{l=await up(s.endpoint,s.action==="create"?"POST":s.action==="update"?"PATCH":"DELETE",{...s.payload,_metadata:{signature:a,version:s.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}})}catch(c){const d=cje(c),p=c?.message||c?.error||String(c);if(d===409){console.log(` [Sync]   (409): ${s.id}`),await QM(s.id,p),r++;continue}if(d===400||d===422){console.error(` [Sync]   (${d}): ${s.id}`),await Gl(s.id,p,"validation"),await ao({queueItemId:s.id,action:s.action,endpoint:s.endpoint,status:"failed",duration:Date.now()-n,errorMessage:p,errorCode:String(d),retryCount:s.retries+1}),t++;continue}await Gl(s.id,p,"network"),t++,_m.logEvent({type:"sync",severity:s.retries>2?"high":"medium",message:`  : ${p}`,metadata:{retryCount:s.retries+1,itemId:s.id}});const f=dje(s.retries);await new Promise(h=>setTimeout(h,f));continue}const u=Date.now()-n;if(l&&l.success!==!1){await Cv(s.id);const c=s.payload.id,d=s.endpoint.split("/")[2];if(d&&c)try{const f=(await Gi(d)).find(h=>(h.id||h.key)===c);f&&(f.synced=!0,f.pendingSync=!1,f.isLocal=!1,await eu(d,[f]))}catch(p){console.warn(` [Sync]      ${d}:`,p)}await ao({queueItemId:s.id,action:s.action,endpoint:s.endpoint,status:"success",duration:u,retryCount:s.retries}),r++,ca({latency:u,pendingCount:e.length-r-t})}else{const c=l?.message||l?.error||"  ";await Gl(s.id,c,"server"),t++}}catch(n){const i=n instanceof Error?n.message:"  ";await Gl(s.id,i,"unknown"),t++,_m.logEvent({type:"sync",severity:"high",message:`  : ${i}`,metadata:{itemId:s.id}})}}ca({lastSync:Date.now(),isSyncing:!1,syncedCount:r,failedCount:t})}catch(e){console.error(" [Sync]   :",e),ca({isSyncing:!1}),_m.logEvent({type:"error",severity:"high",message:`    : ${e instanceof Error?e.message:"  "}`})}finally{ld=!1}}}function XX(){window.addEventListener("online",()=>{ca({isOnline:!0}),x4(),iu()}),window.addEventListener("offline",()=>{ca({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await x4(),await iu()})(),setInterval(()=>{navigator.onLine&&iu()},3e4)}function fje(){}function _b(){iu().catch(e=>console.error(" [Sync]    :",e))}async function QX(){try{console.log(" [Sync]       ...");const e=await up("/api/sync/full-backup","POST",void 0,6e4);if(!e||!e.success||!e.data)throw new Error("Backup failed on server");const{data:r}=e;let t=0;for(const[s,n]of Object.entries(r))if(Array.isArray(n)){const i=m1(s);await eu(i,n),t+=n.length}return await Pi("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:t}),{recordCount:t}}catch(e){throw console.error(" [Sync]     :",e),e}}function hje(){ld||iu().catch(e=>{console.error(" [Sync]   :",e)})}async function pje(e,r){try{console.log(" [Sync]   ...");const t=Date.now(),s=await up("/api/sync/instant-sync","POST",{tables:e||[],lastSyncTime:r},6e4);if(!s||!s.success||!s.data)throw new Error("Instant sync failed");const{data:n}=s;let i=0;for(const[l,u]of Object.entries(n))if(Array.isArray(u)&&u.length>0){const c=m1(l);await eu(c,u),i+=u.length}const a=Date.now()-t;return console.log(` [Sync]   : ${i}   ${a}ms`),ca({lastSync:Date.now()}),{success:!0,totalRecords:i,duration:a}}catch(t){return console.error(" [Sync]    :",t),{success:!1,totalRecords:0,duration:0}}}async function YX(){try{console.log(" [Sync]    ...");const e={};for(const t of GX)try{const s=await Gi(t);e[t]=s?.length||0}catch{e[t]=0}const r=await up("/api/sync/verify-sync","POST",{clientCounts:e},3e4);if(!r||!r.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${r.isMatched?" ":`${r.differences?.length||0} `}`),{isMatched:r.isMatched,differences:r.differences||[],summary:r.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(e){return console.error(" [Sync]   :",e),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function mje(){try{const e=await up("/api/sync/stats","GET",void 0,3e4);return!e||!e.success?{stats:{},totalRecords:0}:{stats:e.stats||{},totalRecords:e.summary?.totalRecords||0}}catch(e){return console.error(" [Sync]    :",e),{stats:{},totalRecords:0}}}const JX=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:GX,forceSyncTable:uje,getSyncState:eg,getSyncStats:mje,initSyncListener:XX,loadFullBackup:QX,performInitialDataPull:x4,performInstantSync:pje,serverTableToIDB:m1,startBackgroundSync:hje,stopSyncListener:fje,subscribeSyncState:g1,syncOfflineData:iu,triggerSync:_b,verifySyncStatus:YX},Symbol.toStringTag,{value:"Module"})),gje=({income:e,expenses:r,balance:t,formatCurrencyFn:s})=>o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[o.jsx(FR,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:s(e)})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[o.jsx(cS,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:s(r)})]}),o.jsxs("div",{className:`${t>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[o.jsxs("div",{className:`flex items-center justify-center gap-1 ${t>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[o.jsx(Id,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:`text-xs font-bold ${t>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:s(t)})]})]});function yje(){const{toast:e}=pn(),r=Ss(),{user:t}=gc(),s=t?.role==="admin",[n,i]=E.useState(null),[a,l]=E.useState(!1),[u,c]=E.useState(!1),[d,p]=E.useState(null),f=E.useRef(null),h=E.useRef(null),{setFloatingAction:g}=Go(),[y,m]=E.useState(""),[v,x]=E.useState({status:"all",engineerId:"all"}),[k,T]=E.useState(!1),[A,L]=E.useState(null),[q,D]=E.useState(!1),[$,z]=E.useState(null),[K,W]=E.useState(null),[P,R]=E.useState(!1),C=E.useCallback((xe,be)=>{x(Ve=>({...Ve,[xe]:be}))},[]),_=E.useCallback(()=>{m(""),x({status:"all",engineerId:"all"}),e({title:"  ",description:"   "})},[e]);E.useEffect(()=>(g(()=>l(!0),"  "),()=>g(null)),[g]);const{data:S=[],isLoading:j,refetch:N,error:M}=xt({queryKey:ve.projectsWithStats,staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,queryFn:async()=>{try{console.log(" [Projects]    ...");const xe=await qe("/api/projects/with-stats","GET");let be=[];return xe&&typeof xe=="object"&&(xe.success!==void 0&&xe.data!==void 0?be=Array.isArray(xe.data)?xe.data:[]:Array.isArray(xe)?be=xe:xe.id?be=[xe]:xe.data&&(be=Array.isArray(xe.data)?xe.data:[])),be}catch(xe){return console.error(" [Projects]    :",xe),[]}},refetchInterval:6e4}),O=Array.isArray(S)?S:[],B=O,{totals:G,allProjects:Q,isLoading:re,refetch:F}=cp({projectId:"all",enabled:!0}),Y=E.useMemo(()=>{const xe=new Map;return Q?.projects&&Q.projects.forEach(be=>{xe.set(be.projectId,be)}),xe},[Q?.projects]),V=E.useCallback(xe=>{const be=Y.get(xe);return be?{totalIncome:be.income?.totalIncome||0,totalExpenses:be.expenses?.totalAllExpenses||0,cashExpenses:be.expenses?.totalCashExpenses||0,currentBalance:be.totalBalance||0,totalWorkers:be.workers?.totalWorkers||0,activeWorkers:be.workers?.activeWorkers||0,completedDays:be.workers?.completedDays||0,materialPurchases:be.expenses?.materialExpenses||0,materialExpensesCredit:be.expenses?.materialExpensesCredit||0,totalTransportation:be.expenses?.transportExpenses||0,totalMiscExpenses:be.expenses?.miscExpenses||0,totalWorkerWages:be.expenses?.workerWages||0,totalFundTransfers:be.income?.fundTransfers||0,totalWorkerTransfers:be.expenses?.workerTransfers||0,incomingProjectTransfers:be.income?.incomingProjectTransfers||0,outgoingProjectTransfers:be.expenses?.outgoingProjectTransfers||0}:null},[Y]),U=E.useCallback(async()=>{T(!0);try{await Promise.all([N(),F()]),e({title:" ",description:"   "})}catch{e({title:"",description:"  ",variant:"destructive"})}finally{T(!1)}},[N,e]),{data:Z={users:[]}}=xt({queryKey:ve.usersList,queryFn:async()=>{try{return await qe("/api/users/list","GET")||{users:[]}}catch(xe){return console.error(" [Projects]    :",xe),{users:[]}}},staleTime:6e4}),ie=E.useMemo(()=>Array.isArray(Z?.users)?Z.users:[],[Z]),{data:me=[],isLoading:ce}=xt({queryKey:ve.projectTypes,queryFn:async()=>{try{const xe=await qe("/api/project-types","GET");return xe?.success&&Array.isArray(xe.data)?xe.data:[]}catch(xe){return console.error(" [Projects]     :",xe),[]}},staleTime:6e4}),ye=oc({resolver:lc(XA),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),ee=oc({resolver:lc(XA),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),oe=async(xe,be)=>{if(!(!be||typeof be!="string"||!be.trim()))try{await qe("/api/autocomplete","POST",{category:xe,value:be.trim()})}catch(Ve){console.log(`Failed to save autocomplete value for ${xe}:`,Ve)}},ne=Pt({mutationFn:xe=>qe("/api/projects","POST",xe),onSuccess:async(xe,be)=>{await oe("projectNames",be.name),r.refetchQueries({queryKey:ve.projects}),r.refetchQueries({queryKey:ve.projectsWithStats}),_b(),e({title:"   "}),l(!1),ye.reset(),p(null),f.current&&(f.current.value="")},onError:xe=>{e({title:"   ",description:xe.message,variant:"destructive"})}}),fe=Pt({mutationFn:({id:xe,data:be})=>qe(`/api/projects/${xe}`,"PATCH",be),onSuccess:async(xe,be)=>{await oe("projectNames",be.data.name),r.refetchQueries({queryKey:ve.projects}),r.refetchQueries({queryKey:ve.projectsWithStats}),_b(),e({title:"   "}),c(!1),i(null),ee.reset(),h.current&&(h.current.value="")},onError:xe=>{e({title:"   ",description:xe.message,variant:"destructive"})}}),le=Pt({mutationFn:({id:xe,confirmDeletion:be})=>qe(`/api/projects/${xe}`,"DELETE",{confirmDeletion:be}),onSuccess:()=>{_b(),r.refetchQueries({queryKey:ve.projects}),r.refetchQueries({queryKey:ve.projectsWithStats}),e({title:"   "}),D(!1),z(null),W(null)},onError:xe=>{e({title:"   ",description:xe.message,variant:"destructive"})}}),ae=async xe=>{R(!0);try{const be=await qe(`/api/projects/${xe}/deletion-stats`,"GET");be.success&&be.data&&W({stats:be.data.stats,totalLinkedRecords:be.data.totalLinkedRecords,canDelete:be.data.canDelete,deleteBlockReason:be.data.deleteBlockReason||""})}catch(be){e({title:"    ",description:be.message,variant:"destructive"}),D(!1)}finally{R(!1)}},te=xe=>{z(xe),D(!0),ae(xe.id)},se=Pt({mutationFn:({id:xe,data:be})=>qe(`/api/projects/${xe}`,"PATCH",be),onMutate:async({id:xe,data:be})=>{await r.cancelQueries({queryKey:ve.projectsWithStats});const Ve=r.getQueryData(ve.projectsWithStats);return Array.isArray(Ve)&&r.setQueryData(ve.projectsWithStats,Ve.map(Xe=>Xe.id===xe?{...Xe,status:be.status}:Xe)),{previousData:Ve}},onSuccess:()=>{e({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(xe,be,Ve)=>{Ve?.previousData&&r.setQueryData(ve.projectsWithStats,Ve.previousData),e({title:"",description:xe.message||"     ",variant:"destructive"})},onSettled:()=>{L(null),r.invalidateQueries({queryKey:ve.projectsWithStats}),r.invalidateQueries({queryKey:ve.projects})}}),de=xe=>{L(xe.id);const be=xe.status==="active"?"paused":"active";se.mutate({id:xe.id,data:{status:be}})},ge=xe=>{ne.mutate(xe)},ke=xe=>{if(!n){e({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:n.id,name:n.name,newData:xe}),fe.mutate({id:n.id,data:xe})},Ee=(xe,be=!1)=>{le.mutate({id:xe,confirmDeletion:be})},Oe=xe=>{i(xe),ee.reset({name:xe.name,status:xe.status,engineerId:xe.engineerId||null,projectTypeId:xe.projectTypeId||null}),c(!0)},Le=xe=>{switch(xe){case"active":return"";case"completed":return"";case"paused":return"";default:return xe}};E.useEffect(()=>(g(()=>l(!0),"  "),()=>g(null)),[g]);const Ge=E.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),G){const xe=B.filter(be=>be.status==="active").length;return{totalProjects:B.length,activeProjects:xe,totalIncome:G.totalIncome||0,totalExpenses:G.totalAllExpenses||G.totalExpenses||0,totalWorkers:G.totalWorkers||0,materialPurchases:0}}return{totalProjects:B.length,activeProjects:B.filter(xe=>xe.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[G,B]),Qe=G?.totalBalance??Ge.totalIncome-Ge.totalExpenses,yt=E.useMemo(()=>B.filter(xe=>{if(y&&!xe.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&xe.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(xe.engineerId)return!1}else if(xe.engineerId!==v.engineerId)return!1}return!0}),[B,y,v]),it=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:Ge.totalProjects,icon:hs,color:"blue"},{key:"activeProjects",label:" ",value:Ge.activeProjects,icon:Fs,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:Je(Qe),icon:Id,color:Qe>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:Je(Ge.totalIncome),icon:$n,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:Ge.totalWorkers,icon:Vn,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:Ge.materialPurchases,icon:jn,color:"gray"}]}],[Ge,Qe]),et=E.useMemo(()=>{const xe=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return s&&xe.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...ie.map(be=>({value:be.id,label:be.name}))]}),xe},[ie,s]);return j?o.jsx(sje,{}):M?(console.error(" [Projects]    :",M),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("div",{className:"text-6xl",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),o.jsxs(Ie,{onClick:()=>N(),className:"gap-2",children:[o.jsx(vs,{className:"h-4 w-4"})," "]})]})})):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2 p-2",children:[o.jsx(bo,{hideHeader:!0,title:"",statsRows:it,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:et,filterValues:v,onFilterChange:C,onReset:_,onRefresh:U,isRefreshing:k,resultsSummary:y||v.status!=="all"?{totalCount:O.length,filteredCount:yt.length,totalLabel:"",filteredLabel:"",totalValue:yt.reduce((xe,be)=>{const Ve=V(be.id);return xe+(Ve?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),o.jsx(Ys,{open:a,onOpenChange:l,children:o.jsxs($s,{children:[o.jsxs(Js,{children:[o.jsx(hi,{children:"  "}),o.jsx(ec,{children:"   "})]}),o.jsx(uc,{...ye,children:o.jsxs("form",{onSubmit:ye.handleSubmit(ge),className:"space-y-1",children:[o.jsx(rn,{control:ye.control,name:"name",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsx(sn,{children:o.jsx(Ms,{value:xe.value,onChange:xe.onChange,category:"projectNames",placeholder:" "})}),o.jsx(Rn,{})]})}),s&&o.jsx(rn,{control:ye.control,name:"engineerId",render:({field:xe})=>{const be=[{value:"none",label:" "},...ie.map(Ve=>({value:Ve.id,label:`${Ve.name} (${Ve.role})`}))];return o.jsxs(Jr,{children:[o.jsx(Xn,{children:" / "}),o.jsx(sn,{children:o.jsx(us,{value:xe.value||"none",onValueChange:Ve=>xe.onChange(Ve==="none"?null:Ve),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),o.jsx(Rn,{})]})}}),o.jsx(rn,{control:ye.control,name:"projectTypeId",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsx(sn,{children:o.jsx(f4,{value:xe.value?.toString()||"",onValueChange:be=>xe.onChange(be?parseInt(be):null),projectTypes:me,placeholder:ce?" ...":"  ...",disabled:ce})}),o.jsx(Rn,{})]})}),o.jsx(rn,{control:ye.control,name:"status",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsxs(es,{onValueChange:xe.onChange,defaultValue:xe.value,children:[o.jsx(sn,{children:o.jsx(Wn,{children:o.jsx(ts,{placeholder:"  "})})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"active",children:""}),o.jsx(zt,{value:"paused",children:""}),o.jsx(zt,{value:"completed",children:""})]})]}),o.jsx(Rn,{})]})}),o.jsx(rv,{children:o.jsx(Ie,{type:"submit",disabled:ne.isPending,children:ne.isPending?" ...":" "})})]})})]})}),o.jsx(Ys,{open:u,onOpenChange:c,children:o.jsxs($s,{children:[o.jsxs(Js,{children:[o.jsx(hi,{children:" "}),o.jsx(ec,{children:"  "})]}),o.jsx(uc,{...ee,children:o.jsxs("form",{onSubmit:ee.handleSubmit(ke),className:"space-y-1",children:[o.jsx(rn,{control:ee.control,name:"name",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsx(sn,{children:o.jsx(Ms,{value:xe.value,onChange:xe.onChange,category:"projectNames",placeholder:" "})}),o.jsx(Rn,{})]})}),s&&o.jsx(rn,{control:ee.control,name:"engineerId",render:({field:xe})=>{const be=[{value:"none",label:" "},...ie.map(Ve=>({value:Ve.id,label:`${Ve.name} (${Ve.role})`}))];return o.jsxs(Jr,{children:[o.jsx(Xn,{children:" / "}),o.jsx(sn,{children:o.jsx(us,{value:xe.value||"none",onValueChange:Ve=>xe.onChange(Ve==="none"?null:Ve),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),o.jsx(Rn,{})]})}}),o.jsx(rn,{control:ee.control,name:"projectTypeId",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsx(sn,{children:o.jsx(f4,{value:xe.value?.toString()||"",onValueChange:be=>xe.onChange(be?parseInt(be):null),projectTypes:me,placeholder:ce?" ...":"  ...",disabled:ce})}),o.jsx(Rn,{})]})}),o.jsx(rn,{control:ee.control,name:"status",render:({field:xe})=>o.jsxs(Jr,{children:[o.jsx(Xn,{children:" "}),o.jsxs(es,{onValueChange:xe.onChange,defaultValue:xe.value,children:[o.jsx(sn,{children:o.jsx(Wn,{children:o.jsx(ts,{placeholder:"  "})})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"active",children:""}),o.jsx(zt,{value:"paused",children:""}),o.jsx(zt,{value:"completed",children:""})]})]}),o.jsx(Rn,{})]})}),o.jsxs(rv,{children:[o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:fe.isPending,children:""}),o.jsx(Ie,{type:"submit",disabled:fe.isPending||!n,className:"gap-2",children:fe.isPending?"  ...":"  "})]})]})})]})}),yt.length===0?o.jsxs(ir,{className:"p-12 text-center",children:[o.jsx(hs,{className:"h-16 w-16 mx-auto text-muted-foreground"}),o.jsx("h3",{className:"text-xl font-semibold",children:O.length===0?"  ":"  "}),o.jsx("p",{className:"text-muted-foreground",children:O.length===0?"   ":"     "}),O.length===0&&o.jsxs(Ie,{onClick:()=>l(!0),className:"gap-2",children:[o.jsx(vs,{className:"h-4 w-4"}),"  "]})]}):o.jsx(ei,{columns:4,children:yt.map(xe=>{const be=V(xe.id),Ve=be?.totalIncome||0,Xe=be?.totalExpenses||0,Mt=be?.currentBalance||0;be?.totalWorkers,be?.materialPurchases,be?.completedDays;const Xt=xe.status==="active"?"success":xe.status==="completed"?"default":"destructive";return o.jsx(vn,{title:xe.name,subtitle:Ao(xe.createdAt),titleIcon:hs,headerColor:xe.status==="active"?"#22c55e":xe.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Le(xe.status),variant:Xt}],fields:[{label:"",value:Je(be?.materialPurchases||0),icon:jn,color:"warning"},{label:"",value:Je(be?.totalTransportation||0),icon:cl,color:"info"},{label:"",value:Je(be?.totalMiscExpenses||0),icon:Id,color:"default"},{label:" ",value:Je(be?.totalWorkerWages||0),icon:Vn,color:"success"},{label:" ()",value:Je(be?.outgoingProjectTransfers||0),icon:FR,color:"red"},{label:" ()",value:Je(be?.incomingProjectTransfers||0),icon:cS,color:"success"},{label:" ",value:Je(be?.totalWorkerTransfers||0),icon:Tr,color:"orange"},{label:"",value:xe.engineerId?ie.find(wt=>wt.id===xe.engineerId)?.name||" ":" ",icon:cie,color:xe.engineerId?"info":"muted"}],actions:[{icon:mu,label:"",onClick:()=>Oe(xe),color:"blue"},{icon:WR,label:xe.status==="active"?"":"",onClick:()=>de(xe),disabled:A===xe.id,color:xe.status==="active"?"yellow":"green"},{icon:Yn,label:"",onClick:()=>te(xe),color:"red"}],footer:o.jsx(gje,{income:Ve,expenses:Xe,balance:Mt,formatCurrencyFn:Je}),compact:!0},xe.id)})})]}),o.jsx(JSe,{open:q,onOpenChange:D,children:o.jsxs(UX,{className:"max-w-md",children:[o.jsxs(VX,{children:[o.jsx(qX,{className:"text-right",children:"  "}),o.jsx(HX,{className:"text-right space-y-3",children:P?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):K?o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"font-medium text-base",children:['      "',$?.name,'"']}),K.canDelete?K.totalLinkedRecords>0?o.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[o.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",K.totalLinkedRecords,"  :"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[K.stats.fundTransfers>0&&o.jsxs("div",{children:[" : ",K.stats.fundTransfers]}),K.stats.workerAttendance>0&&o.jsxs("div",{children:[" : ",K.stats.workerAttendance]}),K.stats.materialPurchases>0&&o.jsxs("div",{children:[" : ",K.stats.materialPurchases]}),K.stats.transportationExpenses>0&&o.jsxs("div",{children:[" : ",K.stats.transportationExpenses]}),K.stats.workerTransfers>0&&o.jsxs("div",{children:[" : ",K.stats.workerTransfers]}),K.stats.workerMiscExpenses>0&&o.jsxs("div",{children:[": ",K.stats.workerMiscExpenses]}),K.stats.dailySummaries>0&&o.jsxs("div",{children:[" : ",K.stats.dailySummaries]}),(K.stats.projectTransfersFrom>0||K.stats.projectTransfersTo>0)&&o.jsxs("div",{children:["  : ",(K.stats.projectTransfersFrom||0)+(K.stats.projectTransfersTo||0)]}),K.stats.workerBalances>0&&o.jsxs("div",{children:[" : ",K.stats.workerBalances]}),K.stats.supplierPayments>0&&o.jsxs("div",{children:[" : ",K.stats.supplierPayments]})]}),o.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):o.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:K.deleteBlockReason})]}):o.jsx("p",{children:"  ..."})})]}),o.jsxs(WX,{className:"flex-row-reverse gap-2",children:[o.jsx(ZX,{children:""}),K?.canDelete&&o.jsx(KX,{onClick:()=>{$&&Ee($.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:le.isPending,children:le.isPending?" ...":" "})]})]})})]})}function bje({onAddWorker:e,onAddProject:r}){const[,t]=zs(),s=[{id:"add-worker",label:" ",icon:uie,action:e,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:Use,action:r,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:Tr,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:tu,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:hs,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:Aa,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:Tr,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"reports",label:"",icon:bk,route:"/reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:Ase,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],n=i=>{i.action?i.action():i.route&&t(i.route)};return o.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:s.map(i=>{const a=i.icon;return o.jsxs("button",{onClick:()=>n(i),className:Ae("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",i.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[o.jsx(a,{className:Ae("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",i.iconColor)}),o.jsx("span",{className:Ae("text-[11px] sm:text-xs font-medium text-center leading-tight",i.iconColor),children:i.label})]},i.id)})})}const vje=e=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[e]||e;async function xje(e,r){const t=(await on(async()=>{const{default:L}=await Promise.resolve().then(()=>vZ);return{default:L}},void 0)).default,s=new t.Workbook;s.creator=Mo.name,s.created=new Date;const n=s.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let i=1;n.mergeCells(`A${i}:G${i}`);const a=n.getCell(`A${i}`);a.value=Mo.name,a.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},a.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},a.alignment={horizontal:"center",vertical:"middle"},n.getRow(i).height=30,i++,n.mergeCells(`A${i}:G${i}`);const l=n.getCell(`A${i}`);l.value=Mo.subtitle,l.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},l.alignment={horizontal:"center",vertical:"middle"},n.getRow(i).height=25,i++,n.mergeCells(`A${i}:G${i}`);const u=n.getCell(`A${i}`);u.value=`  - ${new Date().toLocaleDateString("en-GB")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},n.getRow(i).height=28,i++,i++;const c=["#"," ","","","",""," "],d=n.getRow(i);c.forEach((L,q)=>{const D=d.getCell(q+1);D.value=L,D.font=Mr.tableHeader.font,D.fill=Mr.tableHeader.fill,D.alignment=Mr.tableHeader.alignment,D.border=Mr.tableHeader.border}),d.height=28,i++,n.getColumn(1).width=6,n.getColumn(2).width=15,n.getColumn(3).width=18,n.getColumn(4).width=20,n.getColumn(5).width=18,n.getColumn(6).width=30,n.getColumn(7).width=22;let p=0;e.forEach((L,q)=>{const D=n.getRow(i),$=q%2===0?Mr.tableCell:Mr.tableCellAlt,z=new Date(L.createdAt),K=z.toLocaleDateString("en-GB"),W=z.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!0});[q+1,L.actionLabel||vje(L.actionType),L.userName||"",L.projectName||"",L.amount?r(L.amount):"-",L.description||"-",`${K} ${W}`].forEach((R,C)=>{const _=D.getCell(C+1);_.value=R,_.font=$.font,$.fill&&(_.fill=$.fill),_.alignment=$.alignment,_.border=$.border}),D.height=24,L.amount&&(p+=L.amount),i++}),i++;const f=n.getRow(i);n.mergeCells(`A${i}:D${i}`);const h=f.getCell(1);h.value=` : ${e.length}`,h.font=Mr.summaryRow.font,h.fill=Mr.summaryRow.fill,h.alignment=Mr.summaryRow.alignment,h.border=Mr.summaryRow.border;const g=f.getCell(5);g.value=r(p),g.font=Mr.greenRow.font,g.fill=Mr.greenRow.fill,g.alignment=Mr.greenRow.alignment,g.border=Mr.greenRow.border,n.mergeCells(`F${i}:G${i}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("en-GB")} ${new Date().toLocaleTimeString("en-GB")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,i+=2;const m=n.getRow(i);n.mergeCells(`A${i}:C${i}`);const v=m.getCell(1);v.value="  : ________________",v.font=Mr.signatureBox.font,v.alignment=Mr.signatureBox.alignment,v.border=Mr.signatureBox.border,n.mergeCells(`E${i}:G${i}`);const x=m.getCell(5);x.value="  : ________________",x.font=Mr.signatureBox.font,x.alignment=Mr.signatureBox.alignment,x.border=Mr.signatureBox.border,m.height=35,i+=2,n.mergeCells(`A${i}:G${i}`);const k=n.getCell(`A${i}`);k.value=`${Mo.name} | ${Mo.address} |     `,k.font=Mr.footer.font,k.alignment=Mr.footer.alignment;const T=await s.xlsx.writeBuffer(),A=`__${new Date().toISOString().split("T")[0]}.xlsx`;return await op(T,A)}const wje=e=>{switch(e){case"transfer":return Tm;case"expense":return Ei;case"income":return $n;case"attendance":return Vn;case"material":return jn;case"transport":return Ni;case"payment":return Id;default:return Fs}},_je=e=>{switch(e){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},kje=e=>{switch(e){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},eQ=E.memo(({activity:e,formatCurrency:r})=>{const t=wje(e.actionType),s=kje(e.actionType);return o.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:e.description||"",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:`${s} p-1.5 rounded-lg flex-shrink-0`,children:o.jsx(t,{className:"h-3.5 w-3.5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(At,{variant:_je(e.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:e.actionLabel||e.actionType}),e.amount&&e.amount>0&&o.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:r(e.amount)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[o.jsx(Qd,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.userName||""})]}),o.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[o.jsx(hs,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.projectName||""})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-0.5",children:[o.jsx(ks,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),o.jsx("span",{children:Ao(e.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[o.jsx(Un,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),o.jsx("span",{children:new Date(e.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});eQ.displayName="ActivityChip";const tQ=E.memo(({activities:e,formatCurrency:r})=>{const[t,s]=E.useState(!1),n=async()=>{if(!(t||!e||e.length===0)){s(!0);try{await xje(e,r)}catch(i){console.error("  :",i)}finally{s(!1)}}};return!e||e.length===0?null:o.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[o.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:o.jsx(Fs,{className:"h-3.5 w-3.5 text-white"})}),o.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),o.jsx(At,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:e.length}),o.jsxs(Ie,{variant:"outline",size:"sm",onClick:n,disabled:t,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[t?o.jsx(an,{className:"h-3 w-3 animate-spin"}):o.jsx(_g,{className:"h-3 w-3"})," Excel"]}),o.jsx("div",{className:"flex-1"}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),o.jsxs(Zo,{className:"w-full",dir:"rtl",children:[o.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:e.slice(0,15).map((i,a)=>o.jsx(eQ,{activity:i,formatCurrency:r},i.id||a))}),o.jsx(A6,{orientation:"horizontal",className:"h-1.5"})]})]})});tQ.displayName="RecentActivitiesStrip";function Sje({size:e="md",className:r="",variant:t="default"}){const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return t==="professional"?o.jsxs(xn.div,{className:`relative ${s[e]} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[o.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),o.jsx(xn.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):t==="minimal"?o.jsx(xn.div,{className:`${s[e]} border-2 border-muted border-t-primary rounded-full ${r}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):o.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${s[e]} ${r}`})}function jje(){return o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsx(Sje,{size:"lg"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}function Nje(e){if(e)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0,0)}function n_({value:e,onChange:r,placeholder:t=" ",disabled:s=!1,className:n,showClearButton:i=!0,dateFormat:a="dd MMMM yyyy",minDate:l,maxDate:u}){const[c,d]=E.useState(!1),p=E.useCallback(g=>{if(!g)return;const y=Nje(g);r(y),setTimeout(()=>d(!1),10)},[r]),f=E.useCallback(g=>{g.preventDefault(),g.stopPropagation(),r(void 0)},[r]),h=E.useMemo(()=>{const g=[];return l&&g.push({before:l}),u&&g.push({after:u}),g.length>0?g:void 0},[l,u]);return o.jsxs(r1,{open:c,onOpenChange:d,modal:!1,children:[o.jsx(n1,{asChild:!0,children:o.jsxs(Ie,{variant:"outline",disabled:s,className:Ae("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!e&&"text-muted-foreground",n),children:[o.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[o.jsx(ks,{className:"h-4 w-4 opacity-50 shrink-0"}),o.jsx("span",{className:"truncate font-bold",children:e?Or(e,a,{locale:da}):t})]}),i&&e&&o.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:o.jsx(Rs,{className:"h-4 w-4"})})]})}),o.jsx(l0,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:o.jsx(q6,{mode:"single",selected:e,onSelect:p,disabled:h,locale:da,dir:"rtl",initialFocus:!0})})]})}function Cje({config:e,value:r,onChange:t}){const[s,n]=E.useState(e.options||[]),[i,a]=E.useState(!1);return E.useEffect(()=>{e.asyncOptions&&s.length===0&&(a(!0),e.asyncOptions().then(n).catch(console.error).finally(()=>a(!1)))},[e.asyncOptions]),o.jsxs(es,{value:r,onValueChange:t,children:[o.jsx(Wn,{className:"h-9",children:o.jsx(ts,{placeholder:i?e.loadingText||" ...":e.placeholder})}),o.jsx(qn,{className:"z-[10002]",position:"popper",children:s.map(l=>o.jsx(zt,{value:l.value,children:l.label},l.value))})]})}function f5({searchValue:e="",onSearchChange:r,searchPlaceholder:t="...",showSearch:s=!0,filters:n=[],filterValues:i={},onFilterChange:a,onReset:l,showResetButton:u=!0,className:c,compact:d=!1,showActiveFilters:p=!0}){const[f,h]=E.useState(!1),y=Object.entries(i).filter(([D,$])=>{const z=n.find(K=>K.key===D);return z?z.type==="date"?$ instanceof Date:z.type==="date-range"?$?.from||$?.to:$&&$!=="all"&&$!==z?.defaultValue:!1}).map(([D,$])=>{const z=n.find(W=>W.key===D);let K="";return z?.type==="date"&&$ instanceof Date?K=Or($,"yyyy/MM/dd",{locale:da}):z?.type==="date-range"?$?.from&&$?.to?K=`${Or($.from,"MM/dd")} - ${Or($.to,"MM/dd")}`:$?.from&&(K=` ${Or($.from,"MM/dd")}`):K=z?.options?.find(P=>P.value===$)?.label||$,{key:D,filterLabel:z?.label||D,valueLabel:K}}),m=y.length,v=e.length>0||m>0,x=E.useCallback(D=>{r?.(D.target.value)},[r]),k=E.useCallback((D,$)=>{a?.(D,$)},[a]),T=E.useCallback(()=>{l?.(),h(!1)},[l]),A=E.useCallback(()=>{r?.("")},[r]),L=E.useCallback(D=>{const $=n.find(z=>z.key===D);$?.type==="date"||$?.type==="date-range"?a?.(D,void 0):a?.(D,$?.defaultValue||"all")},[n,a]),q=D=>{const $=i[D.key];switch(D.type){case"date":return o.jsx("div",{onClick:W=>W.stopPropagation(),className:"relative",children:o.jsx(n_,{value:$,onChange:W=>k(D.key,W),placeholder:D.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const z=$?.from instanceof Date?$.from:$?.from?new Date($.from):void 0,K=$?.to instanceof Date?$.to:$?.to?new Date($.to):void 0;return o.jsxs("div",{onClick:W=>W.stopPropagation(),className:"space-y-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),o.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:o.jsx(n_,{value:z,onChange:W=>k(D.key,{...$,from:W}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),o.jsxs("div",{className:"relative group",children:[o.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),o.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:o.jsx(n_,{value:K,onChange:W=>k(D.key,{...$,to:W}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return o.jsx("div",{onClick:W=>W.stopPropagation(),children:o.jsx(Cje,{config:D,value:$||D.defaultValue||"all",onChange:W=>k(D.key,W)})});default:return o.jsx("div",{onClick:W=>W.stopPropagation(),children:o.jsxs(es,{value:String($||D.defaultValue||"all"),onValueChange:W=>k(D.key,W),children:[o.jsx(Wn,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:o.jsx(ts,{placeholder:D.placeholder||` ${D.label}`})}),o.jsx(qn,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:D.options?.map(W=>o.jsx(zt,{value:String(W.value),className:"rounded-xl my-1 py-3 text-right",children:W.label},W.value))})]})})}};return o.jsxs("div",{className:Ae("space-y-2",c),children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border-2 border-border/50 rounded-2xl shadow-sm transition-all focus-within:border-primary/30 focus-within:shadow-md",children:[s&&o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Bo,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),o.jsx(vt,{placeholder:t,value:e,onChange:x,className:"pr-12 pl-10 h-12 bg-slate-50/50 dark:bg-slate-800/50 border-none rounded-xl font-medium focus-visible:ring-2 focus-visible:ring-primary/20 transition-all"}),e&&o.jsx(Ie,{variant:"ghost",size:"sm",onClick:A,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:o.jsx(Rs,{className:"h-3 w-3"})})]}),n.length>0&&o.jsxs(a1,{open:f,onOpenChange:h,children:[o.jsx(P6,{asChild:!0,children:o.jsxs(Ie,{variant:"outline",size:"sm",className:Ae("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[o.jsx(sT,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&o.jsx(At,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),o.jsx(c0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:D=>{const $=D.target;($.closest(".rdp")||$.closest('[role="listbox"]')||$.closest(".relative"))&&D.preventDefault()},onInteractOutside:D=>{const $=D.target;($.closest(".rdp")||$.closest('[role="listbox"]'))&&D.preventDefault()},children:o.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[o.jsx(AH,{asChild:!0,children:o.jsx(Ie,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:o.jsx(Rs,{className:"h-5 w-5"})})}),o.jsx(u0,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),o.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),o.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[o.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:n.map(D=>o.jsxs("div",{className:Ae("relative group",D.type==="date-range"?"pt-2":""),children:[D.type!=="date-range"&&o.jsx(Ye,{htmlFor:D.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:D.label}),o.jsx("div",{className:Ae(D.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:q(D)})]},D.key))}),n.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[o.jsx(sT,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"    "})]})]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:o.jsx("div",{className:"max-w-xl mx-auto",children:o.jsx(Ie,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>h(!1),children:""})})})]})})]}),u&&v&&o.jsx(Ie,{variant:"ghost",size:"sm",onClick:T,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:o.jsx(Xl,{className:"h-4 w-4"})})]}),p&&(y.length>0||e)&&o.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),e&&o.jsxs(At,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:A,children:[': "',e.length>15?e.substring(0,15)+"...":e,'"',o.jsx(Rs,{className:"h-3 w-3"})]}),y.map(D=>o.jsxs(At,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>L(D.key),children:[D.filterLabel,": ",D.valueLabel,o.jsx(Rs,{className:"h-3 w-3"})]},D.key)),(y.length>1||y.length>0&&e)&&o.jsx(Ie,{variant:"ghost",size:"sm",onClick:T,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function y1(e,r=""){const[t,s]=E.useState(r),[n,i]=E.useState(e),a=E.useCallback(c=>{s(c)},[]),l=E.useCallback((c,d)=>{i(p=>({...p,[c]:d}))},[]),u=E.useCallback(()=>{s(""),i(e)},[e]);return{searchValue:t,filterValues:n,setSearchValue:a,setFilterValue:l,reset:u,onSearchChange:a,onFilterChange:l,onReset:u}}function Tje(){zs();const{selectedProjectId:e,selectProject:r}=Ko(),[t,s]=E.useState(!1),[n,i]=E.useState(!1),[a,l]=E.useState({name:"",phone:"",type:"",dailyWage:""}),[u,c]=E.useState(!1),[d,p]=E.useState(""),[f,h]=E.useState({name:"",status:"active",description:"",projectTypeId:null}),g=Ss(),{toast:y}=pn(),{searchValue:m,filterValues:v}=y1({status:"all"},""),{totals:x,isLoading:k}=cp({projectId:e||"all",enabled:!0}),T={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:A=[],isLoading:L,error:q}=xt({queryKey:ve.projectsWithStats,queryFn:async()=>{try{console.log(" [Dashboard]    ...");const F=await qe("/api/projects/with-stats","GET");let Y=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Y=Array.isArray(F.data)?F.data:[]:Array.isArray(F)?Y=F:F.id?Y=[F]:F.data&&(Y=Array.isArray(F.data)?F.data:[])),Array.isArray(Y)||(Y=[]),console.log(` [Dashboard]   ${Y.length}   `),Y}catch(F){return console.error(" [Dashboard]    :",F),[]}},...T}),{data:D=[]}=xt({queryKey:ve.workerTypes,queryFn:async()=>{try{const F=await qe("/api/worker-types","GET");return F&&F.data&&Array.isArray(F.data)?F.data:Array.isArray(F)?F:[]}catch(F){return console.error("Error fetching worker types:",F),[]}}}),{data:$=[],isLoading:z}=xt({queryKey:ve.projectTypes,queryFn:async()=>{try{const F=await qe("/api/project-types","GET");return F?.success&&Array.isArray(F.data)?F.data:[]}catch(F){return console.error(" [Dashboard]     :",F),[]}},staleTime:6e4}),K=Pt({mutationFn:async F=>(await Promise.all([G("workerNames",F.name),G("workerTypes",F.type)]),qe("/api/workers","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:ve.workers}),await g.invalidateQueries({queryKey:ve.projectsWithStats}),await g.invalidateQueries({queryKey:ve.autocomplete}),y({title:" ",description:"   "}),s(!1),l({name:"",phone:"",type:"",dailyWage:""})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),W=Pt({mutationFn:async F=>(await Promise.all([G("projectNames",F.name),G("projectDescriptions",F.description)]),qe("/api/projects","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:ve.projects}),await g.invalidateQueries({queryKey:ve.projectsWithStats}),await g.invalidateQueries({queryKey:ve.autocomplete}),y({title:" ",description:"   "}),i(!1),h({name:"",status:"active",description:"",projectTypeId:null})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),P=Pt({mutationFn:async F=>(await G("workerTypes",F.name),qe("/api/worker-types","POST",F)),onSuccess:async F=>{await g.invalidateQueries({queryKey:ve.workerTypes}),await g.invalidateQueries({queryKey:ve.autocomplete}),y({title:" ",description:"    "}),l({...a,type:F.name}),p(""),c(!1)},onError:F=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:R}=xt({queryKey:ve.dailySummary(e,new Date().toISOString().split("T")[0]),enabled:!!e,staleTime:1e3*30}),{data:C=[]}=xt({queryKey:ve.recentActivitiesByProject(e),queryFn:async()=>{try{const F=e?`?projectId=${e}`:"";return(await qe(`/api/recent-activities${F}`,"GET"))?.data||[]}catch(F){return console.error("    :",F),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:_,isLoading:S}=xt({queryKey:ve.healthStats,queryFn:async()=>{try{const F=await qe("/api/health/stats","GET"),Y=F?.data||F;return!Y||typeof Y!="object"?null:{cpuUsage:Y.cpuUsage||0,memoryUsage:Y.memoryUsage||0,activeRequests:Y.activeRequests||0,errorRate:Y.errorRate||0,uptime:Y.uptime||0}}catch(F){return console.error(" [Dashboard]     :",F),null}},refetchInterval:15e3}),j=Array.isArray(A)?A.find(F=>F.id===e):void 0,N=E.useMemo(()=>Array.isArray(A)?A.filter(F=>{const Y=!m||(F.name||"").toLowerCase().includes(m.toLowerCase()),V=v.status==="all"||(F.status||"active")===v.status;return Y&&V}):[],[A,m,v.status]),M=F=>{switch(F){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:F,variant:"secondary"}}},O=F=>{switch(F){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},B=F=>{if(typeof F!="number"){const Y=parseFloat(String(F));if(isNaN(Y))return"0 .";F=Y}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(F)+" ."},G=E.useCallback(async(F,Y)=>{if(!(!Y||Y.trim().length<2))try{await qe("/api/autocomplete","POST",{category:F,value:Y.trim()})}catch(V){console.warn(`[Dashboard] Failed to save autocomplete: ${F}`,V)}},[]),Q=E.useMemo(()=>{if(!x)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const F=x.totalIncome||0,Y=x.totalAllExpenses||0;return{totalIncome:F,totalExpenses:Y,currentBalance:x.totalBalance||F-Y,activeWorkers:String(x.totalWorkers||0),completedDays:String(x.completedDays||0),materialPurchases:B(x.totalAllExpenses||0),transportExpenses:x.transportExpenses||0}},[x]),re=E.useCallback(F=>A.find(V=>V.id===F)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[A]);return L?o.jsx(jje,{}):o.jsxs("div",{className:"p-4 fade-in space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[_&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Fs,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{children:"   (SigNoz)"})]}),o.jsx(ku,{stats:[{title:" ",value:`${_.cpuUsage}%`,icon:Fs,color:"blue",status:_.cpuUsage>80?"critical":"normal"},{title:" ",value:`${_.memoryUsage}%`,icon:jn,color:"teal",status:_.memoryUsage>85?"warning":"normal"},{title:" ",value:_.activeRequests,icon:Tm,color:"purple"},{title:" ",value:`${_.errorRate}%`,icon:Ei,color:"green",status:_.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),j&&o.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsxs("span",{children:[": ",o.jsx("strong",{className:"text-foreground",children:j.name})]})]}),!j&&A.length>0&&o.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsxs("span",{children:["   (",A.length," )"]})]}),o.jsx(ku,{stats:[{title:" ",value:Q.totalIncome,icon:$n,color:"blue",formatter:B},{title:" ",value:Q.totalExpenses,icon:Ei,color:"red",formatter:B},{title:" ",value:Q.currentBalance,icon:Tr,color:"green",formatter:B},{title:" ",value:Q.activeWorkers,icon:kg,color:"purple"},{title:" ",value:Q.completedDays,icon:ks,color:"teal"},{title:" ",value:Q.materialPurchases,icon:jn,color:"indigo"},{title:"",value:Q.transportExpenses,icon:Ni,color:"orange",formatter:B},{title:" ",value:"1  ",icon:ti,color:"critical"},{title:"",value:"1 ",icon:pi,color:"warning"}],columns:3,hideHeader:!0})]}),o.jsx(bje,{onAddWorker:()=>s(!0),onAddProject:()=>i(!0)}),N.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[o.jsx(hs,{className:"h-5 w-5 text-primary"})," (",N.length,")"]})}),o.jsx(ei,{columns:2,children:N.map(F=>{const Y=F.id||"",V=F.name||"",U=F.status||"active",Z=M(U),ie=Y===e,me=re(Y),ce=me?.totalIncome||0,ye=me?.totalExpenses||0,ee=me?.currentBalance||0,oe=me?.activeWorkers||0;return o.jsx(vn,{title:V,titleIcon:hs,headerColor:O(U),badges:[Z],className:ie?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:B(ce),icon:$n,color:"info"},{label:"",value:B(ye),icon:Ei,color:"danger"},{label:"",value:B(ee),icon:Tr,color:"success",emphasis:!0},{label:"",value:String(oe),icon:Vn,color:"default"}],actions:[{icon:ie?zo:pu,label:ie?"":"",onClick:()=>r(Y),color:ie?"green":"blue"}],onClick:()=>r(Y),compact:!0},Y)})})]}),C.length>0&&o.jsx(tQ,{activities:C,formatCurrency:B}),o.jsx(Ys,{open:t,onOpenChange:s,children:o.jsxs($s,{className:"max-w-lg",children:[o.jsxs(Js,{children:[o.jsx(hi,{children:"  "}),o.jsx(ec,{children:"      "})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"worker-name",children:" "}),o.jsx(vt,{id:"worker-name",value:a.name,onChange:F=>l({...a,name:F.target.value}),placeholder:"  "})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"worker-phone",children:" "}),o.jsx(vt,{id:"worker-phone",value:a.phone,onChange:F=>l({...a,phone:F.target.value}),placeholder:"  "})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"worker-wage",children:"  (.)"}),o.jsx(vt,{id:"worker-wage",type:"number",inputMode:"decimal",value:a.dailyWage,onChange:F=>l({...a,dailyWage:F.target.value}),placeholder:"0",className:"text-center",required:!0})]}),o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"worker-type",children:" "}),o.jsx("div",{className:"flex gap-2",children:o.jsx(us,{value:a.type||"",onValueChange:F=>l({...a,type:F}),options:Array.isArray(D)&&D.length>0?D.map(F=>({value:F.value,label:F.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),o.jsx(Ys,{open:u,onOpenChange:c,children:o.jsxs($s,{className:"sm:max-w-md",children:[o.jsxs(Js,{children:[o.jsx(hi,{children:"   "}),o.jsx(ec,{children:"         "})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"new-type-name",children:"  "}),o.jsx(vt,{id:"new-type-name",type:"text",value:d,onChange:F=>p(F.target.value),placeholder:":   ...",required:!0})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx(Ie,{type:"button",onClick:F=>{F.preventDefault(),d.trim()&&P.mutate({name:d.trim()})},disabled:!d.trim()||P.isPending,children:P.isPending?" ...":""}),o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{c(!1),p("")},children:""})]})]})]})}),o.jsxs("div",{className:"form-actions",children:[o.jsx(Ie,{onClick:()=>{if(!a.name.trim()||!a.type||!a.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const F=parseFloat(a.dailyWage);if(isNaN(F)||F<=0){y({title:"",description:"     ",variant:"destructive"});return}K.mutate({name:a.name.trim(),phone:a.phone||null,type:a.type,dailyWage:F.toString(),isActive:!0})},disabled:K.isPending,className:"gap-2",children:K.isPending?"  ...":" "}),o.jsx(Ie,{variant:"outline",onClick:()=>s(!1),children:""})]}),o.jsxs(Ie,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!0),className:"w-full gap-2 mt-2",children:[o.jsx(vs,{className:"h-4 w-4"}),"   "]})]})]})}),o.jsx(Ys,{open:n,onOpenChange:i,children:o.jsxs($s,{className:"max-w-lg",children:[o.jsxs(Js,{children:[o.jsx(hi,{children:"  "}),o.jsx(ec,{children:"      "})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"project-name",children:" "}),o.jsx(vt,{id:"project-name",value:f.name,onChange:F=>h({...f,name:F.target.value}),placeholder:"  "})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"project-type",children:" "}),o.jsx(f4,{value:f.projectTypeId?.toString()||"",onValueChange:F=>h({...f,projectTypeId:F?parseInt(F):null}),projectTypes:$,placeholder:z?" ...":"  ...",disabled:z})]}),o.jsxs("div",{className:"form-field",children:[o.jsx(Ye,{htmlFor:"project-status",children:" "}),o.jsxs(es,{value:f.status,onValueChange:F=>h({...f,status:F}),children:[o.jsx(Wn,{children:o.jsx(ts,{})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"active",children:""}),o.jsx(zt,{value:"completed",children:""}),o.jsx(zt,{value:"paused",children:""})]})]})]}),o.jsxs("div",{className:"form-field form-field-full",children:[o.jsx(Ye,{htmlFor:"project-description",children:" "}),o.jsx(vt,{id:"project-description",value:f.description,onChange:F=>h({...f,description:F.target.value}),placeholder:"   ()"})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx(Ie,{onClick:()=>{f.name&&W.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||W.isPending,children:W.isPending?" ...":""}),o.jsx(Ie,{variant:"outline",onClick:()=>i(!1),children:""})]})]})]})})]})}const Eje=async(e,r)=>{const t=new s5.Workbook,s=t.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),n="FF1E3A8A",i="FF3B82F6",a="FFF8FAFC",l="FFE2E8F0",u="FF10B981",c="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},p={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},h={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:l}},left:{style:"thin",color:{argb:l}},bottom:{style:"thin",color:{argb:l}},right:{style:"thin",color:{argb:l}}};s.mergeCells("A1:I1");const m=s.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=h,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:n}},s.getRow(1).height=45,s.mergeCells("A2:I2");const v=s.getCell("A2");v.value=` : ${Or(new Date,"dd/MM/yyyy HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=h,s.getRow(2).height=20;const x=4;s.getRow(x).height=25,s.getRow(x+1).height=25,s.getRow(x+2).height=25;const k=(N,M,O,B,G)=>{const Q=s.getCell(`${M}${N}`),re=s.getCell(`${String.fromCharCode(M.charCodeAt(0)+1)}${N}`);Q.value=O,Q.font={...f,color:{argb:G}},Q.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},Q.alignment=g,Q.border=y,re.value=B,re.font=p,re.alignment=g,re.border=y};k(4,"A","  :",r.name,i),k(4,"D","  :",e.projectName||" ",i),k(5,"A","  :",r.type||"",i),k(5,"D","  :",e.dateRange||" ",i),k(6,"A","  :",`${r.dailyWage} . / `,i),k(6,"D","  :",`W-${r.id.toString().slice(-4).toUpperCase()}`,i),s.getColumn("A").width=18,s.getColumn("B").width=25,s.getColumn("D").width=18,s.getColumn("E").width=25;const T=8,A=["","",""," ","  ","",""," (+)"," (-)",""],L=s.getRow(T);A.forEach((N,M)=>{const O=L.getCell(M+1);O.value=N,O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},O.font={...d,color:{argb:"FFFFFFFF"}},O.alignment=h,O.border=y}),L.height=30,s.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const q=e.statement||[];let D=10;q.forEach((N,M)=>{const O=s.getRow(D),B=new Date(N.date),G=M%2===0,Q=parseFloat(N.amount||0),re=parseFloat(N.paid||0),F=Q-re,Y=N.workDays!==void 0?parseFloat(N.workDays):N.type===""?1:0;O.values=[M+1,Or(B,"dd/MM/yyyy"),Or(B,"EEEE",{locale:qH}),N.projectName||"-",N.description||(N.type===""?`  ${N.recipientName||"-"}`:"    "),Y,N.hours||(N.type===""?"8h":"-"),Q,re,F],O.eachCell((V,U)=>{V.border=y,V.alignment=h,V.font=p,G&&(V.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(U===8||U===9||U===10)&&(V.numFmt='#,##0.00 "."',U===8&&(V.font={...p,color:{argb:u},bold:!0}),U===9&&parseFloat(N.paid||0)>0&&(V.font={...p,color:{argb:c},bold:!0}),U===10&&(V.font={...p,color:{argb:i},bold:!0}))}),D++});const $=s.getRow(D);s.mergeCells(`A${D}:E${D}`);const z=s.getCell(`A${D}`);z.value="  ",z.font=d,z.alignment=h,z.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const K=s.getCell(`F${D}`),W=s.getCell(`H${D}`),P=s.getCell(`I${D}`),R=s.getCell(`J${D}`);K.value=parseFloat(e.summary.totalWorkDays||0),W.value=parseFloat(e.summary.totalEarned||0),P.value=parseFloat(e.summary.totalPaid||0),R.value=parseFloat(e.summary.finalBalance||0),[K,W,P,R].forEach(N=>{N.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},N.font=d,N.address.startsWith("F")?N.numFmt="#,##0.00":N.numFmt='#,##0.00 "."',N.alignment=h}),$.height=25,D+=2;const C=8,_=[{label:"  ",isHeader:!0,color:n},{label:"  ",value:e.summary.totalEarned,color:u},{label:"  ",value:e.summary.totalPaid,color:c},{label:"  ",value:e.summary.finalBalance,color:i,isFinal:!0}];_.forEach((N,M)=>{const O=D+M;if(N.isHeader){s.mergeCells(O,C,O,C+1);const B=s.getCell(O,C);B.value=N.label,B.fill={type:"pattern",pattern:"solid",fgColor:{argb:N.color}},B.font=d,B.alignment=h}else{const B=s.getCell(O,C+1),G=s.getCell(O,C);B.value=N.label,B.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},B.font=f,B.border=y,B.alignment=g,G.value=parseFloat(N.value||0),G.font={...p,bold:!0,color:{argb:N.color}},G.border=y,G.alignment=h,G.numFmt='#,##0.00 "."',N.isFinal&&(G.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),D+=_.length+1,s.mergeCells(`A${D}:I${D}`);const S=s.getCell(`A${D}`);S.value="         AXION.        .",S.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},S.alignment=h;const j=await t.xlsx.writeBuffer();return await op(j,`Worker_Statement_${r.name.replace(/\s+/g,"_")}_${Or(new Date,"yyyyMMdd")}.xlsx`)};function Aje(e,r){const t=r?.name||"",s=r?.type||"",n=r?.dailyWage?`${parseFloat(r.dailyWage).toLocaleString()} .`:"-",i=Or(new Date,"dd/MM/yyyy"),a=parseFloat(e?.summary?.totalEarned||0),l=parseFloat(e?.summary?.totalPaid||0),u=parseFloat(e?.summary?.finalBalance||0),c=(e?.statement||[]).map((d,p)=>{const f=parseFloat(d.amount||0),h=parseFloat(d.paid||0),g=f-h;return`<tr>
      <td style="width:30px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${p+1}</td>
      <td style="width:75px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?Or(new Date(d.date),"dd/MM/yyyy"):"-"}</td>
      <td style="width:55px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?Or(new Date(d.date),"EEEE",{locale:qH}):"-"}</td>
      <td style="width:100px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:9px;">${d.projectName||d.project_name||"-"}</td>
      <td style="text-align:right;padding:5px 6px;border:1px solid #BFBFBF;font-size:9px;line-height:1.3;">${d.description||(d.type===""?`  ${d.recipientName||"-"}`:"  ")}</td>
      <td style="width:40px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.workDays!==void 0?parseFloat(d.workDays).toFixed(2):"1.00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.hours||"07:00-15:00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#E2F0D9;font-weight:700;">${f.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#FBE2D5;font-weight:700;">${h.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#DEEAF6;font-weight:700;">${g.toLocaleString()}</td>
    </tr>`}).join("");return`<div style="direction:rtl;font-family:'Cairo','Segoe UI',Tahoma,sans-serif;background:#fff;padding:0;margin:0;width:794px;">
    <div style="background:#1F4E79;color:#fff;text-align:center;padding:10px 0;font-size:18px;font-weight:800;margin-bottom:12px;">    </div>
    <div style="display:flex;justify-content:space-between;margin:0 10px 12px 10px;font-size:12px;">
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${t}</div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${s}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${n}</div>
      </div>
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;">:</b> ${e?.projectName||" "}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${i}</div>
      </div>
    </div>
    <table style="width:100%;border-collapse:collapse;table-layout:fixed;">
      <thead>
        <tr>
          <th style="width:30px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:75px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:55px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:100px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"> </th>
          <th style="width:40px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
        </tr>
      </thead>
      <tbody>
        ${c}
        <tr>
          <td colspan="5" style="background:#00B050;color:#fff;font-weight:800;font-size:12px;text-align:center;padding:7px;border:1px solid #00803A;"></td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${parseFloat(e?.summary?.totalWorkDays||0).toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">-</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${a.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${l.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${u.toLocaleString()}</td>
        </tr>
      </tbody>
    </table>
    <div style="margin-top:20px;">
      <table style="width:300px;border:2px solid #1F4E79;border-collapse:collapse;">
        <tr><td colspan="2" style="background:#00B050;color:#fff;text-align:center;font-weight:800;padding:6px;font-size:13px;border:1px solid #00803A;"> </td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${a.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${l.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;background:#F2F2F2;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;font-weight:800;background:#F2F2F2;">${u.toLocaleString()}</td></tr>
      </table>
    </div>
    <div style="text-align:center;font-size:9px;color:#7F7F7F;margin-top:20px;padding:5px;border-top:1px solid #EEE;">
               | ${Or(new Date,"dd/MM/yyyy HH:mm")}
    </div>
  </div>`}const Pje=async(e,r)=>{try{if(!e||!e.statement)return console.error("No data provided for PDF generation"),!1;const t=Aje(e,r),s=document.createElement("div");s.style.position="fixed",s.style.left="-9999px",s.style.top="0",s.style.width="794px",s.style.background="#fff",s.style.zIndex="-1",s.innerHTML=t,document.body.appendChild(s),await new Promise(m=>setTimeout(m,300));const n=(await on(async()=>{const{default:m}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:m}},[])).default,{jsPDF:i}=await on(async()=>{const{jsPDF:m}=await import("./jspdf.es.min-CHKCRZQ2.js").then(v=>v.j);return{jsPDF:m}},[]),a=await n(s,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,windowWidth:794});document.body.removeChild(s);const l=210,u=297,c=a.height*l/a.width,d=new i("p","mm","a4");let p=c,f=0;const h=a.toDataURL("image/jpeg",.92);for(d.addImage(h,"JPEG",0,f,l,c),p-=u;p>0;)f=-(c-p),d.addPage(),d.addImage(h,"JPEG",0,f,l,c),p-=u;const g=d.output("blob"),y=`__${r?.name||""}_${Or(new Date,"yyyy-MM-dd")}.pdf`;return await a5(g,y,"application/pdf")}catch(t){return console.error("PDF generation error:",t),!1}};function YA({children:e,columns:r=2,className:t,...s}){const n={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return o.jsx("div",{className:Ae("grid gap-3 md:gap-4",n[r],t),dir:"rtl",...s,children:e})}function Ije({worker:e,onSuccess:r,onCancel:t,submitLabel:s=" "}){const[n,i]=E.useState(e?.name||""),[a,l]=E.useState(e?.type||""),[u,c]=E.useState(e?e.dailyWage:""),[d,p]=E.useState(e?.phone||""),[f,h]=E.useState(e?.hireDate||""),[g,y]=E.useState(!1),[m,v]=E.useState(""),{toast:x}=pn(),k=Ss();E.useEffect(()=>{e&&(i(e.name||""),l(e.type||""),c(e.dailyWage||""),p(e.phone||""),h(e.hireDate||""))},[e]);const T=async(z,K)=>{if(!(!K||typeof K!="string"||!K.trim()))try{await qe("/api/autocomplete","POST",{category:z,value:K.trim()})}catch{}},{data:A=[]}=xt({queryKey:ve.workerTypes}),L=Pt({mutationFn:async z=>(await Promise.all([T("workerNames",z.name),T("workerTypes",z.type)]),e?qe(`/api/workers/${e.id}`,"PATCH",z):qe("/api/workers","POST",z)),onSuccess:async(z,K)=>{k.setQueryData(["/api/workers"],W=>W?[z.data,...W]:[z.data]),await Promise.all([k.invalidateQueries({queryKey:ve.workerTypes}),k.invalidateQueries({queryKey:ve.autocomplete})]),x({title:" ",description:e?"   ":"   "}),e||(i(""),l(""),c(""),p(""),h("")),r?.()},onError:async(z,K)=>{await Promise.all([T("workerNames",K.name),T("workerTypes",K.type)]),await k.invalidateQueries({queryKey:ve.autocomplete});const W=z?.message||(e?"    ":"    ");x({title:e?"   ":"   ",description:W,variant:"destructive"})}}),q=Pt({mutationFn:async z=>(await T("workerTypes",z.name),qe("/api/worker-types","POST",z)),onSuccess:async(z,K)=>{await k.invalidateQueries({queryKey:ve.workerTypes}),await k.invalidateQueries({queryKey:ve.autocomplete}),x({title:" ",description:"    "}),l(z.name),v(""),y(!1)},onError:async(z,K)=>{await T("workerTypes",K.name),await k.invalidateQueries({queryKey:ve.autocomplete});const W=z?.message||"     ";x({title:"    ",description:W,variant:"destructive"})}}),D=z=>{if(z.preventDefault(),!n.trim()||!a||!u){x({title:"",description:"    ",variant:"destructive"});return}const K=parseFloat(u);if(isNaN(K)||K<=0){x({title:"",description:"     ",variant:"destructive"});return}L.mutate({name:n.trim(),type:a,dailyWage:K.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:e?.isActive??!0})},$=z=>{if(z.preventDefault(),!m.trim()){x({title:"",description:"    ",variant:"destructive"});return}q.mutate({name:m.trim()})};return o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs(YA,{columns:2,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx(Qd,{className:"h-4 w-4 text-blue-500"}),"  *"]}),o.jsx(Oh,{id:"worker-name",value:n,onChange:z=>i(z.target.value),placeholder:"  ...",required:!0,className:"min-h-[44px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx($R,{className:"h-4 w-4 text-purple-500"}),"  *"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(us,{value:a,onValueChange:l,options:Array.isArray(A)&&A.length>0?A.map(z=>({value:z.name,label:z.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),o.jsxs(Ys,{open:g,onOpenChange:y,children:[o.jsx(Dh,{asChild:!0,children:o.jsx(Ie,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:o.jsx(vs,{className:"h-4 w-4"})})}),o.jsxs($s,{className:"sm:max-w-md",children:[o.jsx(Js,{children:o.jsx(hi,{children:"   "})}),o.jsxs("form",{onSubmit:$,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ye,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),o.jsx(vt,{id:"new-type-name",type:"text",value:m,onChange:z=>v(z.target.value),placeholder:":   ...",required:!0})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{type:"submit",disabled:q.isPending,className:"flex-1",children:q.isPending?" ...":""}),o.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),o.jsxs(YA,{columns:3,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx(Tr,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),o.jsx(vt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:z=>c(z.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",required:!0,autoWidth:!0,maxWidth:200})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ye,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[o.jsx(VR,{className:"h-4 w-4 text-blue-500"})," "]}),o.jsx(vt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:z=>p(z.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),o.jsx(bl,{id:"hire-date",label:" ",value:f,onChange:z=>h(z?Or(z,"yyyy-MM-dd"):"")})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{type:"submit",className:"flex-1",disabled:L.isPending,children:L.isPending?" ...":s}),t&&o.jsx(Ie,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:""})]})]})}const Dje=({worker:e,onClose:r,isOpen:t})=>o.jsx(Ys,{open:t,onOpenChange:r,children:o.jsxs($s,{className:"sm:max-w-md",children:[o.jsxs(Js,{children:[o.jsx(hi,{children:e?" ":"  "}),o.jsx(ec,{children:e?"    ":"   "})]}),o.jsx("div",{className:"mt-4",children:o.jsx(Ije,{worker:e,onSuccess:r,onCancel:r,submitLabel:e?" ":" "})})]})}),Mje=({stats:e,formatCurrency:r,isLoading:t})=>{const s=e?.totalEarnings??0,n=e?.totalTransfers??0,i=s-n;return o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[o.jsx(Id,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:t?"...":r(s)})]}),o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[o.jsx(cS,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:t?"...":r(n)})]}),o.jsxs("div",{className:`${i>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[o.jsxs("div",{className:`flex items-center justify-center gap-1 ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[o.jsx(Ei,{className:"h-3 w-3"}),o.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),o.jsx("p",{className:`text-xs font-bold ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:t?"...":r(i)})]})]})},Rje=({worker:e,onEdit:r,onDelete:t,onToggleStatus:s,onExport:n,formatCurrency:i,isToggling:a,selectedProjectId:l,isExporting:u,exportProgress:c,exportingWorkerId:d})=>{const p=l===Ps?void 0:l,{data:f,isLoading:h}=xt({queryKey:ve.workerStats(e.id,l),queryFn:async()=>{const m=p?`/api/workers/${e.id}/stats?projectId=${p}`:`/api/workers/${e.id}/stats`;return qe(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:e.isActive}),g=f?.data,y=g?.projectsWorked??0;return o.jsxs("div",{className:"relative group",children:[u&&o.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:o.jsxs("div",{className:"w-full space-y-4 text-center",children:[o.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),o.jsx(fi,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),o.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[c,"%"]})]})]})}),o.jsx(vn,{title:e.name,subtitle:e.hireDate?new Date(e.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:Qd,headerColor:e.isActive?"#22c55e":"#ef4444",badges:[{label:e.type,variant:"secondary"},{label:e.isActive?"":" ",variant:e.isActive?"success":"destructive"}],fields:[{label:" ",value:i(parseFloat(e.dailyWage)),icon:Tr,emphasis:!0,color:"success"},{label:"",value:e.phone||" ",icon:VR,color:e.phone?"success":"muted"},{label:"",value:h?"...":y>0?`${y} `:" ",icon:yk,color:y>0?"info":"muted"},{label:" ",value:h?"...":`${g?.totalWorkDays??0} `,icon:ks,color:"warning"}],actions:[{icon:fi,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>n("pdf")},{label:"  Excel",onClick:()=>n("excel")},{label:" ",onClick:()=>n("pdf")}]},{icon:Ul,label:"",onClick:r,color:"blue"},{icon:WR,label:e.isActive?"":"",onClick:s,disabled:a,color:e.isActive?"yellow":"green"},{icon:Yn,label:"",onClick:t,color:"red"}],footer:o.jsx(Mje,{stats:g,formatCurrency:i,isLoading:h}),compact:!0})]})};function $je(){const[e,r]=E.useState(),[t,s]=E.useState(!1),[n,i]=E.useState(""),[a,l]=E.useState({status:"all",type:"all"}),[u,c]=E.useState(!1),[d,p]=E.useState(null),[f,h]=E.useState(null),[g,y]=E.useState(0),[m,v]=E.useState(null),{toast:x}=pn(),k=Ss(),{setFloatingAction:T}=Go(),{selectedProjectId:A}=Ko(),L=E.useCallback((re,F)=>{l(Y=>({...Y,[re]:F}))},[]),q=E.useCallback(()=>{i(""),l({status:"all",type:"all"}),x({title:"  ",description:"   "})},[x]),D=re=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(re)+" .",{data:$=[],isLoading:z,refetch:K}=xt({queryKey:ve.workers,queryFn:async()=>{try{const re=await qe("/api/workers","GET");let F=[];return re&&typeof re=="object"&&(re.success&&Array.isArray(re.data)?F=re.data:Array.isArray(re)&&(F=re)),F}catch(re){return console.error("Error fetching workers:",re),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:re=>re,refetchOnWindowFocus:!0}),{data:W=[]}=xt({queryKey:ve.workerTypes,queryFn:async()=>{try{const re=await fetch("/api/worker-types");if(!re.ok)return[];const F=await re.json();let Y=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Y=Array.isArray(F.data)?F.data:[]:Array.isArray(F)&&(Y=F)),Array.isArray(Y)?Y:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:re=>re,refetchOnWindowFocus:!1}),P=E.useCallback(async()=>{c(!0);try{await K(),x({title:" ",description:"   "})}catch{x({title:"",description:"  ",variant:"destructive"})}finally{c(!1)}},[K,x]),R=Pt({mutationFn:re=>qe(`/api/workers/${re}`,"DELETE"),onMutate:async re=>{await k.cancelQueries({queryKey:ve.workers});const F=k.getQueryData(ve.workers);return Array.isArray(F)&&k.setQueryData(ve.workers,F.filter(Y=>Y.id!==re)),{previousData:F}},onSuccess:re=>{x({title:"   ",description:re?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(re,F,Y)=>{Y?.previousData&&k.setQueryData(ve.workers,Y.previousData),x({title:"   ",description:re?.message||"    ",variant:"destructive"})},onSettled:()=>{k.invalidateQueries({queryKey:ve.workers}),k.invalidateQueries({queryKey:ve.projectsWithStats})}}),C=Pt({mutationFn:({id:re,data:F})=>qe(`/api/workers/${re}`,"PATCH",F),onMutate:async({id:re,data:F})=>{await k.cancelQueries({queryKey:ve.workers});const Y=k.getQueryData(ve.workers);return Array.isArray(Y)&&k.setQueryData(ve.workers,Y.map(V=>V.id===re?{...V,...F}:V)),{previousData:Y}},onSuccess:re=>{x({title:" ",description:re?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),k.invalidateQueries({queryKey:ve.workers})},onError:(re,F,Y)=>{Y?.previousData&&k.setQueryData(ve.workers,Y.previousData),x({title:"",description:re.message||"    ",variant:"destructive"})},onSettled:()=>{p(null),k.invalidateQueries({queryKey:ve.workers}),k.invalidateQueries({queryKey:ve.projectsWithStats})}}),_=E.useMemo(()=>(Array.isArray($)?$:[]).filter(re=>{const F=re.name.toLowerCase().includes(n.toLowerCase())||re.type.toLowerCase().includes(n.toLowerCase())||re.phone&&re.phone.includes(n),Y=a.status==="all"||a.status==="active"&&re.isActive||a.status==="inactive"&&!re.isActive,V=a.type==="all"||re.type===a.type;return F&&Y&&V}),[$,n,a]),S=E.useMemo(()=>({total:Array.isArray($)?$.length:0,active:Array.isArray($)?$.filter(re=>re.isActive).length:0,inactive:Array.isArray($)?$.filter(re=>!re.isActive).length:0,avgWage:Array.isArray($)&&$.length>0?$.reduce((re,F)=>re+parseFloat(F.dailyWage),0)/$.length:0}),[$]),j=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:S.total,icon:Vn,color:"blue"},{key:"active",label:" ",value:S.active,icon:Fs,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:S.inactive,icon:Un,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:D(S.avgWage),icon:Tr,color:"purple"},{key:"totalTypes",label:" ",value:W.length,icon:$R,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:ks,color:"indigo"}]}],[S,W]),N=E.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(W)?W.map(re=>({value:re.name,label:re.name})):[]]}],[W]),M=()=>{r(void 0),s(!0)},O=re=>{r(re),s(!0)},B=re=>{confirm(`      "${re.name}"`)&&R.mutate(re.id)},G=re=>{p(re.id),C.mutate({id:re.id,data:{isActive:!re.isActive}})},Q=async(re,F="excel")=>{h(re.id),y(10),v(null);try{const Y=A===Ps?void 0:A,V=setInterval(()=>{y(ie=>ie>=90?(clearInterval(V),90):ie+10)},200),U=`/api/reports/worker-statement?workerId=${re.id}${Y?`&projectId=${Y}`:""}`,Z=await qe(U,"GET");if(clearInterval(V),y(100),Z.success){let ie=!1;F==="pdf"?ie=await Pje(Z.data,re):ie=await Eje(Z.data,re),x(ie?{title:" ",description:`    ${re.name} `}:{title:" ",description:"     .   .",variant:"destructive"})}}catch(Y){console.error("Error exporting statement:",Y),x({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{h(null),y(0)},500)}};return E.useEffect(()=>(T(M,"  "),()=>T(null)),[T]),o.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[o.jsx(bo,{hideHeader:!0,title:"",subtitle:"",statsRows:j,filters:N,onFilterChange:L,onSearchChange:i,searchValue:n,onReset:q,onRefresh:P,isRefreshing:u}),z?o.jsx(ei,{columns:4,children:Array.from({length:8}).map((re,F)=>o.jsx(vn,{title:"",fields:[],isLoading:!0,compact:!0},F))}):_.length===0?o.jsx(ir,{className:"p-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[o.jsx(Vn,{className:"h-12 w-12 opacity-20"}),o.jsx("p",{className:"text-lg",children:"     "}),o.jsx(Ie,{variant:"outline",onClick:q,children:" "})]})}):o.jsx(ei,{columns:4,children:_.map(re=>o.jsx(Rje,{worker:re,onEdit:()=>O(re),onDelete:()=>B(re),onToggleStatus:()=>G(re),onExport:F=>Q(re,F),formatCurrency:D,isToggling:d===re.id,selectedProjectId:A,isExporting:f===re.id,exportProgress:g,exportingWorkerId:f},re.id))}),o.jsx(Dje,{worker:e,isOpen:t,onClose:()=>s(!1)})]})}function Oje(e,r=[]){let t=[];function s(i,a){const l=E.createContext(a);l.displayName=i+"Context";const u=t.length;t=[...t,a];const c=p=>{const{scope:f,children:h,...g}=p,y=f?.[e]?.[u]||l,m=E.useMemo(()=>g,Object.values(g));return o.jsx(y.Provider,{value:m,children:h})};c.displayName=i+"Provider";function d(p,f){const h=f?.[e]?.[u]||l,g=E.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,d]}const n=()=>{const i=t.map(a=>E.createContext(a));return function(l){const u=l?.[e]||i;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return n.scopeName=e,[s,Fje(n,...r)]}function Fje(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const a=s.reduce((l,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...l,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}var Lje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rQ=Lje.reduce((e,r)=>{const t=Xg(`Primitive.${r}`),s=E.forwardRef((n,i)=>{const{asChild:a,...l}=n,u=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),h5="Progress",p5=100,[zje]=Oje(h5),[Bje,Uje]=zje(h5),nQ=E.forwardRef((e,r)=>{const{__scopeProgress:t,value:s=null,max:n,getValueLabel:i=Vje,...a}=e;(n||n===0)&&!JA(n)&&console.error(Wje(`${n}`,"Progress"));const l=JA(n)?n:p5;s!==null&&!e9(s,l)&&console.error(qje(`${s}`,"Progress"));const u=e9(s,l)?s:null,c=pv(u)?i(u,l):void 0;return o.jsx(Bje,{scope:t,value:u,max:l,children:o.jsx(rQ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":pv(u)?u:void 0,"aria-valuetext":c,role:"progressbar","data-state":aQ(u,l),"data-value":u??void 0,"data-max":l,...a,ref:r})})});nQ.displayName=h5;var sQ="ProgressIndicator",iQ=E.forwardRef((e,r)=>{const{__scopeProgress:t,...s}=e,n=Uje(sQ,t);return o.jsx(rQ.div,{"data-state":aQ(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:r})});iQ.displayName=sQ;function Vje(e,r){return`${Math.round(e/r*100)}%`}function aQ(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function pv(e){return typeof e=="number"}function JA(e){return pv(e)&&!isNaN(e)&&e>0}function e9(e,r){return pv(e)&&!isNaN(e)&&e<=r&&e>=0}function Wje(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${p5}\`.`}function qje(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${p5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oQ=nQ,Hje=iQ;const ju=E.forwardRef(({className:e,value:r,...t},s)=>o.jsx(oQ,{ref:s,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:o.jsx(Hje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));ju.displayName=oQ.displayName;function Kje(){const{toast:e}=pn(),[r,t]=E.useState(null),[s,n]=E.useState("local"),[i,a]=E.useState(!1),[l,u]=E.useState(""),[c,d]=E.useState(!1),[p,f]=E.useState({status:"all"}),{data:h}=xt({queryKey:ve.backupsStatus,refetchInterval:5e3}),g=h?{lastRunAt:h.lastRunAt,lastSuccessAt:h.lastSuccessAt,lastFailureAt:h.lastFailureAt,lastError:h.lastError,totalSuccess:h.totalSuccess,totalFailure:h.totalFailure,isRunning:h.isRunning,schedulerEnabled:h.schedulerEnabled,cronSchedule:h.cronSchedule}:void 0,y=h?.storage,{data:m}=xt({queryKey:ve.backupsDatabases}),v=E.useMemo(()=>Array.isArray(m)&&m.length>0?m:[{id:"local",name:"LOCAL"}],[m]),{data:x,isLoading:k,refetch:T}=xt({queryKey:ve.backupsLogs,refetchInterval:1e4}),A=E.useMemo(()=>Array.isArray(x)?x:[],[x]),L=Pt({mutationFn:async()=>await qe("/api/backups/run","POST"),onMutate:()=>{e({title:"   ",description:"      ..."})},onSuccess:O=>{Qs.invalidateQueries({queryKey:ve.backupsLogs}),Qs.invalidateQueries({queryKey:ve.backupsStatus}),O.success?e({title:"   ",description:`${O.tablesCount}  | ${O.totalRows}  | ${O.sizeMB} MB |  ${O.compressionRatio}`}):e({title:"  ",description:O.message,variant:"destructive"})},onError:O=>{e({title:"  ",description:O.message,variant:"destructive"})}}),q=Pt({mutationFn:async({target:O,fileName:B})=>await qe("/api/backups/restore","POST",{fileName:B,target:O}),onMutate:()=>{e({title:" ",description:"     ..."})},onSuccess:O=>{O.success?(d(!0),e({title:"  ",description:O.message}),setTimeout(()=>window.location.reload(),3e3)):e({title:" ",description:O.message,variant:"destructive"})},onError:O=>{e({title:" ",description:O.message,variant:"destructive"})},onSettled:()=>{c||a(!1)}}),D=O=>{t(O),a(!0),d(!1)},$=()=>{r&&q.mutate({target:s,fileName:r.filename})},z=async O=>{try{const B=localStorage.getItem("accessToken"),G={};B&&(G.Authorization=`Bearer ${B}`);const Q=await fetch(`/api/backups/download/${O}`,{headers:G});if(!Q.ok)throw new Error(" ");const re=await Q.blob(),{downloadFile:F}=await on(async()=>{const{downloadFile:Y}=await Promise.resolve().then(()=>Gke);return{downloadFile:Y}},void 0);await F(re,O,re.type||"application/octet-stream")}catch(B){e({title:" ",description:B.message||"    ",variant:"destructive"})}},[K,W]=E.useState([]),P=Pt({mutationFn:async O=>await qe("/api/backups/analyze","POST",{target:O}),onSuccess:O=>{W(O.report||[]),e({title:" ",description:"   "})}}),R=Pt({mutationFn:async O=>await qe("/api/backups/test-connection","POST",{target:O}),onSuccess:O=>{e({title:O.success?" ":" ",description:O.message,variant:O.success?"default":"destructive"})}}),C=Pt({mutationFn:async O=>await qe(`/api/backups/${O}`,"DELETE"),onSuccess:O=>{e({title:"  ",description:O.message}),Qs.invalidateQueries({queryKey:ve.backupsLogs}),Qs.invalidateQueries({queryKey:ve.backupsStatus})},onError:O=>{e({title:" ",description:O.message,variant:"destructive"})}}),_=E.useMemo(()=>A.filter(O=>{const B=!l||O.filename.toLowerCase().includes(l.toLowerCase()),G=p.status==="all"||O.status===p.status;return B&&G}),[A,l,p.status]),S=O=>O?O<1e3?`${O}ms`:`${(O/1e3).toFixed(1)}s`:"-",j=O=>{if(!O)return"  ";const B=Date.now()-new Date(O).getTime(),G=Math.floor(B/6e4);if(G<1)return"";if(G<60)return` ${G} `;const Q=Math.floor(G/60);return Q<24?` ${Q} `:` ${Math.floor(Q/24)} `},N=[{items:[{key:"scheduler",label:" ",value:g?.schedulerEnabled?"":"",icon:Un,color:g?.schedulerEnabled?"green":"orange",subLabel:g?.cronSchedule||"-"},{key:"last_backup",label:"  ",value:j(g?.lastSuccessAt||null),icon:wn,color:g?.lastSuccessAt?"green":"gray",subLabel:`: ${g?.totalSuccess||0} | : ${g?.totalFailure||0}`},{key:"storage",label:"",value:y?`${y.totalSizeMB} MB`:"-",icon:Em,color:"purple",subLabel:`${y?.fileCount||A.length}  | : ${y?.maxRetention||20}`},{key:"status",label:"",value:g?.isRunning?" ":"",icon:Fs,color:g?.isRunning?"orange":"green",subLabel:g?.lastError?`: ${g.lastError.substring(0,30)}`:" "}]}],M=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return o.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[o.jsx(bo,{statsRows:N,filters:M,searchValue:l,filterValues:p,onSearchChange:u,onFilterChange:(O,B)=>f(G=>({...G,[O]:B})),onReset:()=>{u(""),f({status:"all"})},onRefresh:T,isRefreshing:k||L.isPending,searchPlaceholder:"   ...",actions:[{key:"run-backup",label:L.isPending||g?.isRunning?" ...":"  ",icon:L.isPending||g?.isRunning?an:Sse,onClick:()=>L.mutate(),disabled:L.isPending||g?.isRunning,variant:"default"}]}),(L.isPending||g?.isRunning)&&o.jsx("div",{className:"px-4 mt-4","data-testid":"backup-progress",children:o.jsxs("div",{className:"bg-card border rounded-md p-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-4 w-4 animate-spin text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"   ..."})]})}),o.jsx(ju,{value:L.isPending?50:0,className:"h-2"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"      gzip"})]})}),o.jsx("div",{className:"mt-6 px-4",children:k&&A.length===0?o.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>o.jsx("div",{className:"h-40 rounded-md border bg-muted/20 animate-pulse"},O))}):_.length===0?o.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-md bg-muted/5",children:[o.jsx(Em,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-muted-foreground","data-testid":"text-no-backups",children:"   "}),o.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'  "  "   '})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:_.map(O=>o.jsxs("div",{className:"group relative bg-card border rounded-md p-3 hover-elevate transition-all duration-300","data-testid":`card-backup-${O.filename}`,children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("div",{className:`p-2 rounded-md shrink-0 ${O.compressed?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:O.compressed?o.jsx(vk,{className:"h-4 w-4"}):o.jsx(fi,{className:"h-4 w-4"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h3",{className:"text-sm font-bold truncate",title:O.filename,children:O.filename}),o.jsx("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-muted-foreground flex-wrap",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ks,{className:"h-3 w-3"}),Ao(O.createdAt)]})})]})]}),o.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",style:{visibility:"visible"},children:[o.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-download-${O.filename}`,onClick:()=>z(O.filename),children:o.jsx(pm,{className:"h-4 w-4"})}),o.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-restore-${O.filename}`,disabled:q.isPending,onClick:()=>D(O),children:o.jsx(Xl,{className:"h-4 w-4"})}),o.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-delete-${O.filename}`,disabled:C.isPending,onClick:()=>{const{dismiss:B}=e({title:" ",description:`   ${O.filename} `,action:o.jsx(Ie,{variant:"destructive",size:"sm",onClick:()=>{B(),C.mutate(O.filename)},children:""})})},children:o.jsx(Yn,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center",children:[o.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("p",{className:"text-sm font-bold",children:[O.size," MB"]})]}),o.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"text-sm font-bold",children:O.tablesCount??"-"})]}),o.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"text-sm font-bold",children:O.totalRows?O.totalRows.toLocaleString():"-"})]})]}),o.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[O.compressed?o.jsx(vk,{className:"h-3 w-3"}):o.jsx(fi,{className:"h-3 w-3"}),O.format==="json.gz"?"":O.format]}),o.jsx("span",{children:S(O.durationMs)})]}),O.status!=="success"&&o.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-1.5 rounded-md border border-destructive/20 truncate",children:"  "})]},O.filename))})}),o.jsx(Ys,{open:i,onOpenChange:a,children:o.jsxs($s,{className:"sm:max-w-md",dir:"rtl",children:[o.jsxs(Js,{children:[o.jsxs(hi,{className:"text-xl font-bold flex items-center gap-2",children:[o.jsx(Xl,{className:"h-5 w-5 text-orange-600"}),"  "]}),o.jsxs(ec,{className:"text-right",children:["  : ",o.jsx("br",{}),o.jsx("span",{className:"font-mono text-xs text-primary font-bold",children:r?.filename}),r?.tablesCount&&o.jsxs("span",{className:"block mt-1 text-xs",children:[r.tablesCount,"  | ",r.totalRows?.toLocaleString(),"  | ",r.size," MB"]})]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"text-sm font-bold block text-right flex items-center gap-2",children:[o.jsx(pa,{className:"h-4 w-4 text-primary"}),"  :"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(es,{value:s,onValueChange:O=>n(O),children:[o.jsx(Wn,{className:"w-full","data-testid":"select-restore-target",children:o.jsx(ts,{placeholder:" "})}),o.jsx(qn,{children:v.map(O=>o.jsx(zt,{value:O.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[O.id==="central"?o.jsx(uS,{className:"h-4 w-4"}):o.jsx(Jse,{className:"h-4 w-4"}),o.jsx("span",{className:"font-bold",children:O.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.id,")"]})]})},O.id))})]}),o.jsx(Ie,{variant:"outline",size:"icon","data-testid":"button-test-connection",onClick:()=>R.mutate(s),disabled:R.isPending,children:o.jsx(Ls,{className:`h-4 w-4 ${R.isPending?"animate-spin":""}`})})]}),o.jsxs(Ie,{variant:"secondary",className:"w-full text-xs","data-testid":"button-analyze-tables",onClick:()=>P.mutate(s),disabled:P.isPending,children:[P.isPending?o.jsx(an,{className:"h-4 w-4 animate-spin ml-2"}):o.jsx(Ql,{className:"h-4 w-4 ml-2"}),"    "]}),K.length>0&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"max-h-48 overflow-y-auto p-3 bg-muted/30 rounded-md border text-xs space-y-1",children:[o.jsxs("p",{className:"font-bold mb-2 flex items-center gap-2",children:[o.jsx(pa,{className:"h-4 w-4"}),"   (",K.length," ):"]}),K.map((O,B)=>o.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[o.jsx("span",{className:"font-mono",children:O.table}),o.jsxs("div",{className:"flex items-center gap-2",children:[O.rows!==void 0&&o.jsxs("span",{className:"text-muted-foreground",children:[O.rows," "]}),O.status==="exists"?o.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""}):o.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""})]})]},B))]})})]}),q.isPending&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-primary",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-3 w-3 animate-spin"})," ..."]})}),o.jsx(ju,{value:50,className:"h-2"}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"   ..."})]}),c&&o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-md border border-green-200 dark:border-green-800 flex items-center gap-3",children:[o.jsx(wn,{className:"h-8 w-8 text-green-600 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200",children:"  "}),o.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:"     "})]})]}),!q.isPending&&!c&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:o.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium leading-relaxed",children:":        .    ."})})]}),o.jsxs(rv,{className:"gap-3 sm:justify-start",children:[o.jsx(Ie,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-restore",disabled:q.isPending||c,children:""}),o.jsx(Ie,{variant:"default","data-testid":"button-confirm-restore",onClick:$,disabled:q.isPending||c,children:q.isPending?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Xl,{className:"ml-2 h-4 w-4"})," "]})})]})]})})]})}const t9={system:{icon:Oo,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:Oo,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:Aa,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:jn,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:sc,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:Vn,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:zo,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:fS,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:Oo,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:ti,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},r9={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},Zje=e=>typeof e=="number"?e:{critical:1,high:2,medium:3,low:4,info:5}[e]||3,Gje=e=>{const r={};return e.forEach(t=>{if(!t.createdAt){r.older||(r.older=[]),r.older.push(t);return}const s=m4(t.createdAt);let n;qxe(s)?n="today":Hxe(s)?n="yesterday":Wxe(s)?n="thisWeek":Vxe(s)?n="thisMonth":n="older",r[n]||(r[n]=[]),r[n].push(t)}),r},Xje={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},Qje=["today","yesterday","thisWeek","thisMonth","older"];function Yje(){const{toast:e}=pn(),{user:r}=gc(),[t,s]=E.useState(new Set),[n,i]=E.useState(new Set(["today","yesterday","thisWeek"])),a=r?.id||"",l=[{key:"status",label:"",type:"select",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",options:[{value:"all",label:""},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",options:[{value:"all",label:""},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:"",type:"date-range"}],[u,c]=E.useState(""),[d,p]=E.useState({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:f,isLoading:h,refetch:g}=xt({queryKey:ve.notificationsByUser(a),queryFn:async()=>{const R=await qe("/api/notifications?limit=100&unreadOnly=false");return R.success&&R.data?{notifications:R.data,unreadCount:R.unreadCount||0,total:R.total||R.data.length}:Array.isArray(R)?{notifications:R,unreadCount:R.filter(C=>!C.isRead).length,total:R.length}:R.notifications?R:{notifications:[],unreadCount:0,total:0}},refetchInterval:3e4,enabled:!!a}),y=E.useMemo(()=>{let R=f?.notifications||[];if(R=R.map(C=>({...C,priority:Zje(C.priority),status:C.status||(C.isRead?"read":"unread")})),u){const C=u.toLowerCase();R=R.filter(_=>_.title.toLowerCase().includes(C)||(_.body||_.message||"").toLowerCase().includes(C))}if(d.status!=="all"&&(R=R.filter(C=>C.status===d.status)),d.type!=="all"&&(R=R.filter(C=>C.type===d.type)),d.priority!=="all"&&(R=R.filter(C=>C.priority===parseInt(d.priority))),d.dateRange?.from){const C=d.dateRange.from,_=d.dateRange.to||new Date;R=R.filter(S=>{if(!S.createdAt)return!1;const j=m4(S.createdAt);return j>=C&&j<=_})}return R},[f,u,d]),m=E.useMemo(()=>Gje(y),[y]),v=E.useMemo(()=>({total:y.length,unread:y.filter(R=>R.status==="unread").length,critical:y.filter(R=>R.priority===1).length,high:y.filter(R=>R.priority===2).length}),[y]),x=Pt({mutationFn:async R=>qe(`/api/notifications/${R}/read`,"POST"),onSettled:()=>Qs.refetchQueries({queryKey:ve.notificationsByUser(a)})}),k=Pt({mutationFn:async()=>qe("/api/notifications/mark-all-read","POST"),onSettled:()=>{Qs.refetchQueries({queryKey:ve.notificationsByUser(a)}),e({title:" ",description:"    "}),s(new Set)}}),T=Pt({mutationFn:async R=>Promise.all(R.map(C=>qe(`/api/notifications/${C}/read`,"POST"))),onSettled:()=>{Qs.refetchQueries({queryKey:ve.notificationsByUser(a)}),e({title:" ",description:`  ${t.size}  `}),s(new Set)}}),A=Pt({mutationFn:async R=>Promise.all(R.map(C=>qe(`/api/notifications/${C}`,"DELETE"))),onSuccess:R=>{Qs.refetchQueries({queryKey:ve.notificationsByUser(a)}),e({title:" ",description:`  ${R.length}  `}),s(new Set)}}),L=E.useCallback(R=>s(C=>{const _=new Set(C);return _.has(R)?_.delete(R):_.add(R),_}),[]),q=E.useCallback(()=>{t.size===y.length?s(new Set):s(new Set(y.map(R=>R.id)))},[y,t.size]),D=E.useCallback(R=>i(C=>{const _=new Set(C);return _.has(R)?_.delete(R):_.add(R),_}),[]),$=E.useCallback((R,C)=>p(_=>({..._,[R]:C})),[]),z=E.useCallback(()=>{c(""),p({status:"all",type:"all",priority:"all",dateRange:void 0})},[]),K=E.useMemo(()=>[{title:"",value:v.total,icon:Ta,color:"blue"},{title:" ",value:v.unread,icon:pu,color:"orange",status:v.unread>0?"warning":"normal"},{title:"",value:v.critical,icon:tie,color:"red",status:v.critical>0?"critical":"normal"},{title:"",value:v.high,icon:Fs,color:"amber",status:v.high>0?"warning":"normal"}],[v]),W=({notification:R})=>{const C=t9[R.type]||t9.system,_=r9[R.priority]||r9[3],S=R.status==="unread",j=t.has(R.id),[N,M]=E.useState(!1),O=C.icon,B=R.body||R.message||"",G=B.length>60;return o.jsxs("div",{className:Ae("group relative flex items-start gap-3 p-2 px-3 rounded-xl border transition-all duration-300",S?"bg-blue-50/40 dark:bg-blue-900/10 border-blue-200 dark:border-blue-900":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",j&&"ring-2 ring-blue-500 ring-offset-0 bg-blue-50/50 dark:bg-blue-900/20","hover:shadow-sm active:scale-[0.995]"),children:[o.jsxs("div",{className:"flex items-center gap-2 shrink-0 mt-1",children:[o.jsx(t0,{checked:j,onCheckedChange:()=>L(R.id),className:"w-4 h-4 rounded border-2 data-[state=checked]:bg-blue-600 shadow-sm"}),o.jsxs("div",{className:Ae("w-8 h-8 rounded-lg flex items-center justify-center shadow-sm relative group-hover:scale-105 transition-transform",C.bgColor),children:[o.jsx(O,{className:Ae("h-4 w-4",C.color)}),S&&o.jsxs("span",{className:"absolute -top-0.5 -right-0.5 flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-600 border border-white shadow-sm"})]})]})]}),o.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsxs("h3",{className:Ae("text-sm font-black leading-tight truncate",S?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-400"),children:[R.title,!N&&o.jsxs("span",{className:Ae("mx-2 text-[12px] font-medium hidden sm:inline",S?"text-slate-700 dark:text-slate-300":"text-slate-500"),children:["- ",B]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx(At,{variant:"secondary",className:Ae("text-[8px] uppercase font-black px-1.5 py-0 rounded-full",_.bgColor,_.color),children:_.label}),o.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-bold text-slate-400",children:[o.jsx(Un,{className:"h-2.5 w-2.5 text-blue-400"}),o.jsx("span",{children:R.createdAt&&Or(m4(R.createdAt),"HH:mm",{locale:da})})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[G&&o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px] font-bold text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md",onClick:()=>M(!N),children:N?"":" "}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[S&&o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-full",onClick:()=>x.mutate(R.id),children:o.jsx($o,{className:"h-3.5 w-3.5"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full",onClick:()=>confirm("  ")&&A.mutate([R.id]),children:o.jsx(Yn,{className:"h-3.5 w-3.5"})})]})]})]}),N&&o.jsx("div",{className:"mt-2 text-[13px] leading-relaxed text-slate-600 dark:text-slate-300 animate-in fade-in slide-in-from-top-1 duration-200 pb-2",children:B})]})]})},P=({groupKey:R,notifications:C})=>{const _=n.has(R);return o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>D(R),className:"w-full flex items-center justify-between p-3 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-blue-500 transition-all shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:Ae("w-8 h-8 rounded-xl flex items-center justify-center transition-transform",_?"bg-blue-600 rotate-0":"bg-slate-100 dark:bg-slate-800 rotate-90"),children:_?o.jsx(Bn,{className:"h-4 w-4 text-white"}):o.jsx(Ad,{className:"h-4 w-4 text-slate-500"})}),o.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white",children:Xje[R]}),o.jsx(At,{variant:"secondary",className:"h-5 px-2 text-[10px] font-black rounded-full",children:C.length})]})}),_&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-in zoom-in-95 duration-300",children:C.map(S=>o.jsx(W,{notification:S},S.id))})]})};return o.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-950 pb-32",children:[o.jsxs("div",{className:"flex-1 p-4 md:p-8 space-y-8 max-w-8xl mx-auto w-full",children:[o.jsx(ku,{stats:K,columns:3}),o.jsx(bo,{searchValue:u,onSearchChange:c,filterValues:d,onFilterChange:$,filters:l,onReset:z,onRefresh:()=>g(),isRefreshing:h,searchPlaceholder:"  ...",title:"",actions:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ie,{variant:"outline",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:()=>k.mutate(),disabled:v.unread===0,children:"  "}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-10 rounded-xl font-bold px-4",onClick:q,children:t.size===y.length?" ":" "})]})}),o.jsx(Zo,{className:"flex-1 -mx-4 px-4",children:o.jsx("div",{className:"space-y-8 pb-10 pt-2",children:h?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(R=>o.jsx(bn,{className:"h-40 rounded-3xl"},R))}):y.length>0?Qje.map(R=>m[R]?.length?o.jsx(P,{groupKey:R,notifications:m[R]},R):null):o.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-200 dark:border-slate-800 shadow-inner",children:[o.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center mb-6 ring-8 ring-slate-50/50",children:o.jsx(Ta,{className:"h-10 w-10 text-slate-300 animate-bounce"})}),o.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white mb-2",children:"  "}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mb-8 font-medium",children:"   !       ."})]})})})]}),t.size>0&&o.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 animate-in fade-in slide-in-from-bottom-10 duration-500 w-[94%] max-w-3xl",children:o.jsxs("div",{className:"flex items-center gap-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-3xl px-3 py-2.5 rounded-[2.5rem] shadow-[0_30px_70px_rgba(0,0,0,0.5)] border border-white/20 dark:border-slate-700/50 ring-1 ring-black/5 dark:ring-white/5",children:[o.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gradient-to-br from-blue-600 to-indigo-700 dark:from-blue-500 dark:to-indigo-600 rounded-[2rem] text-white shadow-lg shrink-0",children:[o.jsx("span",{className:"flex items-center justify-center w-7 h-7 bg-white/25 rounded-full text-xs font-black ring-2 ring-white/10",children:t.size}),o.jsx("span",{className:"font-black text-xs tracking-tight whitespace-nowrap hidden xs:inline",children:""})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-1 px-1",children:[t.size>2&&o.jsxs(o.Fragment,{children:[o.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-orange-600 dark:text-orange-400 gap-1.5 transition-all active:scale-95 group",onClick:()=>s(new Set),children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:o.jsx(Rs,{className:"h-4 w-4 text-orange-600"})}),o.jsx("span",{className:"hidden sm:inline",children:" "}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"})]}),o.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300 gap-1.5 transition-all active:scale-95 group",onClick:q,children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30 transition-colors",children:o.jsx(Dse,{className:"h-4 w-4 text-slate-600 dark:text-slate-400 group-hover:text-blue-600"})}),o.jsx("span",{className:"hidden sm:inline",children:t.size===y.length?" ":" "}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),o.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-300 gap-1.5 transition-all active:scale-95 group",onClick:()=>T.mutate(Array.from(t)),disabled:T.isPending,children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx($o,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-800 mx-1 opacity-50"}),o.jsxs(Ie,{variant:"ghost",size:"sm",className:"flex-1 h-12 rounded-2xl font-black text-[11px] hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600 gap-1.5 transition-all active:scale-95 group",onClick:()=>confirm(`     ${t.size} `)&&A.mutate(Array.from(t)),disabled:A.isPending,children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/50 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Yn,{className:"h-4 w-4 text-red-600"})}),o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]})]}),o.jsx(Ie,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-red-500 dark:text-slate-500 transition-all shrink-0",onClick:()=>s(new Set),children:o.jsx(Rs,{className:"h-5 w-5"})})]})})]})}function Jje({totalIncome:e,totalExpenses:r,remainingBalance:t,materialExpensesCredit:s,details:n}){const i=typeof e=="number"?e:parseFloat(String(e||"0"))||0,a=typeof r=="number"?r:parseFloat(String(r||"0"))||0,l=typeof t=="number"?t:parseFloat(String(t||"0"))||0,u=typeof s=="number"?s:parseFloat(String(s||"0"))||0;n?.workerWages,n?.materialCosts,n?.transportation,n?.miscExpenses,n?.workerTransfers,n?.outgoingProjectTransfers;const c=i,d=100,p=c>0?a/c*100:0,f=l>0?"text-green-400":l<0?"text-red-400":"text-yellow-400",h=l>0?"":l<0?"":"";return o.jsx("div",{className:"mt-4 space-y-3",children:o.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[o.jsx(Tr,{className:"h-5 w-5 text-primary"})," "]}),o.jsx("div",{className:`text-2xl font-bold ${f}`,children:h})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx($n,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),o.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:Je(i)}),c>0&&o.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Ei,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),o.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),o.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:Je(a)}),c>0&&o.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[p.toFixed(1),"%  "]})]})]}),n&&o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(Vn,{className:"h-3 w-3"}),""]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.workerWages||0)})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(jn,{className:"h-3 w-3"}),""]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.materialCosts||0)})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(Ni,{className:"h-3 w-3"}),""]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.transportation||0)})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(Tr,{className:"h-3 w-3"})," "]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.workerTransfers||0)})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(ib,{className:"h-3 w-3"})," "]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.outgoingProjectTransfers||0)})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[o.jsx(ti,{className:"h-3 w-3"}),""]}),o.jsx("div",{className:"text-xs font-bold",children:Je(n.miscExpenses||0)})]})]}),c>0&&o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[o.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),o.jsx("div",{className:"bg-red-500",style:{width:`${p}%`}})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vse,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),o.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:Je(l)})]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:l>0?"  ":l<0?"  ":"  "})]}),u>0&&o.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Un,{className:"h-5 w-5 text-orange-500"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),o.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:Je(u)})]})})]})})}function e3e({projectId:e,selectedDate:r}){const[t,s]=E.useState(""),[n,i]=E.useState(""),[a,l]=E.useState(null),[u,c]=E.useState({}),[d,p]=E.useState(!1),{toast:f}=pn(),h=Ss(),{setFloatingAction:g}=Go(),y=async(D,$)=>{if(!(!$||$.trim().length<2))try{await qe("/api/autocomplete","POST",{category:D,value:$.trim(),usageCount:1}),console.log(`     : ${D} = ${$.trim()}`)}catch(z){console.warn(`Failed to save autocomplete value for ${D}:`,z)}},{data:m=[]}=xt({queryKey:ve.workerMiscExpensesFiltered(e,r),queryFn:async()=>{try{const D=await qe(`/api/worker-misc-expenses?projectId=${e}&date=${r}`,"GET");return D&&D.data&&Array.isArray(D.data)?D.data:Array.isArray(D)?D:[]}catch(D){return console.error("Error fetching worker misc expenses:",D),[]}},enabled:!!e});E.useEffect(()=>{p(m.length>0)},[m]);const v=Pt({mutationFn:D=>qe("/api/worker-misc-expenses","POST",D),onSuccess:async()=>{t&&t.trim().length>=2&&await y("workerMiscDescriptions",t.trim()),await h.invalidateQueries({queryKey:ve.autocompleteCategory("workerMiscDescriptions")}),await h.invalidateQueries({queryKey:ve.workerMiscExpenses}),await h.invalidateQueries({queryKey:ve.autocomplete}),s(""),i(""),f({title:"  ",description:"    "})},onError:D=>{const $=D?.response?.data?.message||D?.message||"    ";console.error("Error creating misc expense:",D),f({title:"   ",description:$,variant:"destructive"})}}),x=Pt({mutationFn:({id:D,data:$})=>qe(`/api/worker-misc-expenses/${D}`,"PATCH",$),onSuccess:async()=>{t&&t.trim().length>=2&&await y("workerMiscDescriptions",t.trim()),await h.invalidateQueries({queryKey:["/api/autocomplete"]}),await h.invalidateQueries({queryKey:ve.workerMiscExpenses}),await h.invalidateQueries({queryKey:ve.autocomplete}),A(),f({title:"  ",description:"   "})},onError:D=>{const $=D?.response?.data?.message||D?.message||"    ";console.error("Error updating misc expense:",D),f({title:"   ",description:$,variant:"destructive"})}}),k=Pt({mutationFn:D=>qe(`/api/worker-misc-expenses/${D}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:ve.workerMiscExpenses}),f({title:"  ",description:"   "})},onError:D=>{const $=D?.response?.data?.message||D?.message||"    ";console.error("Error deleting misc expense:",D),f({title:"   ",description:$,variant:"destructive"})}}),T=async()=>{if(!e||e==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!t.trim()||!n){f({title:" ",description:"   ",variant:"destructive"});return}t&&t.trim().length>=2&&await y("workerMiscDescriptions",t.trim()),await h.invalidateQueries({queryKey:ve.autocompleteCategory("workerMiscDescriptions")}),await h.invalidateQueries({queryKey:ve.autocomplete}),a?x.mutate({id:a,data:{description:t,amount:n}}):v.mutate({description:t,amount:n,projectId:e,date:r})},A=()=>{s(""),i(""),l(null)},L=D=>{s(D.description),i(D.amount),l(D.id)},q=Array.isArray(m)?m.reduce((D,$)=>D+parseFloat($.amount||"0"),0):0;return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(Ms,{value:t,onChange:s,category:"workerMiscDescriptions",placeholder:""}),o.jsx(vt,{type:"number",inputMode:"decimal",value:n,onChange:D=>i(D.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{onClick:T,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||x.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||x.isPending?o.jsx(an,{className:"h-4 w-4 animate-spin"}):a?o.jsx(Qc,{className:"h-4 w-4"}):o.jsx(vs,{className:"h-4 w-4"})}),a&&o.jsx(Ie,{onClick:A,size:"sm",variant:"outline",disabled:v.isPending||x.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((D,$)=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[o.jsx("span",{className:"text-sm flex-1",children:D.description}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium arabic-numbers",children:Je(D.amount)}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>L(D),children:o.jsx(Ul,{className:"h-3 w-3"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>k.mutate(D.id),disabled:k.isPending,children:o.jsx(Yn,{className:"h-3 w-3"})})]})]})]},D.id||$)),Array.isArray(m)&&m.length>0&&o.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:Je(q.toString())})]})]})}class w4 extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(r){return console.error(" [ErrorBoundary]   :",r),{hasError:!0,error:r}}componentDidCatch(r,t){console.error(" [ErrorBoundary]  :",r,t),console.error(" [ErrorBoundary] Stack trace:",r.stack)}render(){return this.state.hasError?this.props.fallback||o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),o.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function t3e(){const{toast:e}=pn(),[,r]=zs(),{selectedProjectId:t,isAllProjects:s}=Ko(),[n,i]=E.useState(null),[a,l]=E.useState("0"),[u,c]=E.useState(!0),[d,p]=E.useState(""),[f,h]=E.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=E.useCallback((ue,ze)=>{if(ue==="date")if(ze instanceof Date){const _t=ze.getFullYear(),sr=String(ze.getMonth()+1).padStart(2,"0"),Br=String(ze.getDate()).padStart(2,"0");i(`${_t}-${sr}-${Br}`)}else i(null);else ue==="dateRange"?(h(_t=>({..._t,[ue]:ze})),ze?.from&&i(null)):h(_t=>({..._t,[ue]:ze}))},[]),y=E.useCallback(()=>{p(""),h({dateRange:void 0,type:"all"}),i(di()),e({title:"  ",description:"      "})},[e]),[m,v]=E.useState(!1),[x,k]=E.useState(!1),[T,A]=E.useState(),[L,q]=E.useState(!1),[D,$]=E.useState(!1),[z,K]=E.useState(!1),[W,P]=E.useState(!1),[R,C]=E.useState(!1),[_,S]=E.useState(!1),[j,N]=E.useState(!1),[M,O]=E.useState(!0),[B,G]=E.useState(!1),{data:Q=[],isLoading:re}=xt({queryKey:ve.workerMiscExpensesFiltered(t,n),queryFn:async()=>{if(!t&&!s||!n)return[];const ze=await qe(`/api/worker-misc-expenses?projectId=${s?"all":t}&date=${n}`,"GET");return Array.isArray(ze)?ze:ze?.data||[]},enabled:(!!t||s)&&!!n});E.useEffect(()=>{!re&&Q.length>0?G(!0):G(!1)},[Q.length,re,n]);const[F,Y]=E.useState(""),[V,U]=E.useState(""),[Z,ie]=E.useState(""),[me,ce]=E.useState(""),[ye,ee]=E.useState(null),[oe,ne]=E.useState(),[fe,le]=E.useState(""),[ae,te]=E.useState(""),[se,de]=E.useState(""),[ge,ke]=E.useState(null),[Ee,Oe]=E.useState("worker_transport"),[Le,Ge]=E.useState(""),[Qe,yt]=E.useState(""),[it,et]=E.useState(""),[xe,be]=E.useState(""),[Ve,Xe]=E.useState(null),[Mt,Xt]=E.useState(""),[wt,Jt]=E.useState(""),[bt,It]=E.useState(""),St=Ss(),{setFloatingAction:Sr}=Go(),Ft=()=>{if(!n)return;const ue=new Date(n);ue.setDate(ue.getDate()+1);const ze=ue.getFullYear(),_t=String(ue.getMonth()+1).padStart(2,"0"),sr=String(ue.getDate()).padStart(2,"0");i(`${ze}-${_t}-${sr}`)},jr=()=>{if(!n)return;const ue=new Date(n);ue.setDate(ue.getDate()-1);const ze=ue.getFullYear(),_t=String(ue.getMonth()+1).padStart(2,"0"),sr=String(ue.getDate()).padStart(2,"0");i(`${ze}-${_t}-${sr}`)},or=async(ue,ze)=>{if(!(!ze||ze.trim().length<2))try{await qe("/api/autocomplete","POST",{category:ue,value:ze.trim(),usageCount:1}),console.log(`     : ${ue} = ${ze.trim()}`)}catch(_t){console.warn(`Failed to save autocomplete value for ${ue}:`,_t)}};E.useEffect(()=>{i(di())},[]),E.useEffect(()=>(Sr(null),()=>Sr(null)),[Sr]);const Ht=async()=>{const ue=[];V&&V.trim().length>=2&&ue.push(or("senderNames",V)),Z&&Z.trim().length>=1&&ue.push(or("transferNumbers",Z)),me&&me.trim().length>=2&&ue.push(or("transferTypes",me)),ue.length>0&&await Promise.all(ue)},Nr={staleTime:1e3*60*60,gcTime:1e3*60*180,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:ue=>ue},{data:gr=[],error:rr}=xt({queryKey:ve.workers,queryFn:async()=>{try{const ue=await qe("/api/workers","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...Nr}),{data:Ce=[],refetch:Me}=xt({queryKey:ve.workerAttendance(t,n),queryFn:async()=>{if(!t||!n)return[];const ue=await qe(`/api/worker-attendance?projectId=${t}&date=${n}`,"GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]},enabled:!!t&&!!n}),We=E.useMemo(()=>gr.filter(ue=>!Ce.some(ze=>ze.workerId===ue.id)),[gr,Ce]),{data:st=[],error:$t}=xt({queryKey:ve.projects,queryFn:async()=>{try{const ue=await qe("/api/projects","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...Nr}),ut=Pt({mutationFn:ue=>qe("/api/worker-attendance","POST",ue),onSuccess:()=>{Ut(),yt(""),et(""),be(""),Ge(""),e({title:"  ",description:"    "})},onError:async ue=>{try{const ze={workerId:Le,days:Qe?parseFloat(Qe):0,amount:it?parseFloat(it):0,notes:xe,selectedDate:n,projectId:t};await Qf("create","/api/worker-attendance",ze),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"",description:ue?.message||"    ",variant:"destructive"})}}}),Ot=Pt({mutationFn:ue=>qe(`/api/worker-attendance/${ue.id}`,"PATCH",ue),onSuccess:()=>{Ut(),Xe(null),Xt(""),Jt(""),It(""),e({title:" ",description:"    "})},onError:ue=>{e({title:"",description:ue?.message||"    ",variant:"destructive"})}}),Kt=()=>{if(!t||t==="all"||s){e({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Le||!Qe&&!it){e({title:" ",description:"        ",variant:"destructive"});return}const ue=gr.find(tn=>tn.id===Le);if(!ue){e({title:"",description:"     ",variant:"destructive"});return}const ze=parseFloat(String(ue.dailyWage||"0")),_t=parseFloat(Qe||"0"),sr=parseFloat(it||"0"),Br=ze*_t,dt={workerId:Le,projectId:t,attendanceDate:n||di(),workDays:_t,dailyWage:ze.toString(),actualWage:Br.toString(),totalPay:Br.toString(),paidAmount:it||"0",remainingAmount:(Br-sr).toString(),workDescription:xe||(_t>0?" ":"  "),notes:xe,wellId:T||null,paymentType:sr>0?sr>=Br&&Br>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",dt),ut.mutate(dt)},{data:Tt=[]}=xt({queryKey:ve.materials,queryFn:async()=>{try{const ue=await qe("/api/materials","GET");return ue&&ue.data&&Array.isArray(ue.data)?ue.data:[]}catch(ue){return console.warn("     :",ue),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:nr=[],refetch:Qt}=xt({queryKey:ve.dailyProjectTransfers(s?"all":t,n),queryFn:async()=>{try{const ze=await qe(`/api/daily-project-transfers?projectId=${s?"all":t}&date=${n||""}`,"GET");console.log(" [ProjectTransfers]  API  :",ze);let _t=[];return ze&&ze.data&&Array.isArray(ze.data)?_t=ze.data:Array.isArray(ze)&&(_t=ze),Array.isArray(_t)?(console.log(` [ProjectTransfers]   ${_t.length}   ${n}   `),_t):[]}catch(ue){return console.error("Error fetching daily project transfers:",ue),[]}},enabled:!!t&&!!n&&u,staleTime:1e3*60*60,gcTime:1e3*60*180,refetchOnMount:!1,refetchOnWindowFocus:!1}),ar=Array.isArray(nr)?nr:[],{summary:mr,allProjects:en,totals:Ir,isLoading:Se,refetch:lt}=cp({projectId:t==="all"?"all":t,date:n&&n!=="null"?n:void 0,dateFrom:f.dateRange?.from?Ao(f.dateRange.from):void 0,dateTo:f.dateRange?.to?Ao(f.dateRange.to):void 0,enabled:s||!!t}),he=E.useMemo(()=>s?Ir:{totalIncome:mr?.income?.totalIncome||0,totalCashExpenses:mr?.expenses?.totalCashExpenses||0,totalAllExpenses:mr?.expenses?.totalAllExpenses||0,totalExpenses:mr?.expenses?.totalAllExpenses||0,cashBalance:mr?.cashBalance||0,totalBalance:mr?.totalBalance||0,currentBalance:mr?.totalBalance||0,totalWorkers:mr?.workers?.totalWorkers||0,activeWorkers:mr?.workers?.activeWorkers||0,materialExpensesCredit:mr?.expenses?.materialExpensesCredit||0,carriedForwardBalance:mr?.income?.carriedForwardBalance||0,totalWorkerWages:mr?.expenses?.workerWages||0,totalTransportation:mr?.expenses?.transportExpenses||0,totalMaterialCosts:mr?.expenses?.materialExpenses||0,totalWorkerTransfers:mr?.expenses?.workerTransfers||0,totalMiscExpenses:mr?.expenses?.miscExpenses||0,totalFundTransfers:mr?.income?.fundTransfers||0,incomingProjectTransfers:mr?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:mr?.expenses?.outgoingProjectTransfers||0,remainingBalance:mr?.totalBalance||0},[s,Ir,mr]);E.useMemo(()=>he.totalIncome,[he]);const je=E.useMemo(()=>he.totalIncome+parseFloat(String(he.carriedForwardBalance||0)),[he]);E.useMemo(()=>he.totalCashExpenses,[he]);const Be=E.useMemo(()=>je-he.totalCashExpenses,[je,he.totalCashExpenses]),{data:Ze,isLoading:jt,error:ct,refetch:ht}=xt({queryKey:ve.dailyExpensesComplex(s?"all-projects":t,n?"daily-expenses":"all-expenses",n),queryFn:async()=>{try{if(s){const ze=n&&n!=="null"?`/api/projects/all-projects-total?date=${n}`:"/api/projects/all-projects-total",_t=await qe(ze,"GET"),sr=n&&n!=="null"?`/api/projects/all-projects-expenses?date=${n}`:"/api/projects/all-projects-expenses",Br=await qe(sr,"GET");return Br&&Br.success&&Br.data?_t&&_t.success&&_t.data?{...Br.data,carriedForwardBalance:_t.data.carriedForwardBalance}:Br.data:null}if(!t)return null;if(!n||n==="null"){const ze=await qe(`/api/projects/${t}/all-expenses`,"GET");return ze&&ze.success&&ze.data?ze.data:null}const ue=await qe(`/api/projects/${t}/daily-expenses/${n}`,"GET");return ue&&ue.success&&ue.data?ue.data:null}catch(ue){throw console.error("   :",ue),ue}},enabled:s||!!t,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:ue=>ue}),lr=E.useMemo(()=>Ze?.carriedForwardBalance!==void 0?Ze.carriedForwardBalance:he.carriedForwardBalance||0,[he.carriedForwardBalance,Ze]),fr=E.useMemo(()=>{const ue=Ze?.carriedForwardBalance!==void 0?Ze.carriedForwardBalance:he.carriedForwardBalance||0;return he.totalIncome+ue-he.totalCashExpenses},[he.totalIncome,he.totalCashExpenses,he.carriedForwardBalance,Ze]);E.useMemo(()=>({totalIncome:he.totalIncome,totalExpenses:he.totalCashExpenses,remainingBalance:fr,materialExpensesCredit:he.materialExpensesCredit,carriedForward:lr,details:{workerWages:he.totalWorkerWages,materialCosts:he.totalMaterialCosts,transportation:he.totalTransportation,miscExpenses:he.totalMiscExpenses,workerTransfers:he.totalWorkerTransfers,outgoingProjectTransfers:he.outgoingProjectTransfers}}),[he,fr,lr]);const Ut=E.useCallback(()=>{St.invalidateQueries({queryKey:ve.projects}),ht(),Qt(),lt(),Me()},[St,ht,Qt,lt,Me]),{todayFundTransfers:Vt,todayWorkerAttendance:wr,todayTransportation:Hr,todayMaterialPurchases:Vr,todayWorkerTransfers:dn,todayMiscExpenses:yn}=E.useMemo(()=>{if(!Ze)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const ue=Ze.data||Ze;return{todayFundTransfers:Array.isArray(ue.fundTransfers)?ue.fundTransfers:[],todayWorkerAttendance:Array.isArray(ue.workerAttendance)?ue.workerAttendance:[],todayTransportation:Array.isArray(ue.transportationExpenses)?ue.transportationExpenses:[],todayMaterialPurchases:Array.isArray(ue.materialPurchases)?ue.materialPurchases:[],todayWorkerTransfers:Array.isArray(ue.workerTransfers)?ue.workerTransfers:[],todayMiscExpenses:Array.isArray(ue.miscExpenses)?ue.miscExpenses:[]}},[Ze]),fn=Array.isArray(wr)?wr:[],Sn=Array.isArray(Hr)?Hr:[],rs=Array.isArray(Vr)?Vr:[],Bs=Array.isArray(dn)?dn:[],Qi=Array.isArray(yn)?yn:[],ms=Array.isArray(Vt)?Vt:[];E.useEffect(()=>{A(void 0),ne(void 0)},[t]),E.useEffect(()=>{$(ms.length>0),K(Sn.length>0),P(fn.length>0),C(rs.length>0),S(Bs.length>0),N(ar.length>0),G(Qi.length>0)},[ms.length,Sn.length,fn.length,rs.length,Bs.length,ar.length,Qi.length]);const Kr=E.useMemo(()=>{if(!d.trim())return ms;const ue=d.toLowerCase().trim();return ms.filter(ze=>ze.senderName?.toLowerCase().includes(ue)||ze.transferType?.toLowerCase().includes(ue)||ze.transferNumber?.toLowerCase().includes(ue)||ze.amount?.toString().includes(ue))},[ms,d]),Dr=E.useMemo(()=>{if(!d.trim())return fn;const ue=d.toLowerCase().trim();return fn.filter(ze=>gr.find(sr=>sr.id===ze.workerId)?.name?.toLowerCase().includes(ue)||ze.workDescription?.toLowerCase().includes(ue)||ze.notes?.toLowerCase().includes(ue))},[fn,gr,d]),Us=E.useMemo(()=>{if(!d.trim())return Sn;const ue=d.toLowerCase().trim();return Sn.filter(ze=>ze.description?.toLowerCase().includes(ue)||ze.notes?.toLowerCase().includes(ue)||ze.amount?.toString().includes(ue))},[Sn,d]),ga=E.useMemo(()=>{if(!d.trim())return rs;const ue=d.toLowerCase().trim();return rs.filter(ze=>Tt.find(sr=>sr.id===ze.materialId)?.name?.toLowerCase().includes(ue)||ze.supplier?.toLowerCase().includes(ue)||ze.notes?.toLowerCase().includes(ue)||ze.totalAmount?.toString().includes(ue))},[rs,Tt,d]),Oa=E.useMemo(()=>{if(!d.trim())return Bs;const ue=d.toLowerCase().trim();return Bs.filter(ze=>gr.find(sr=>sr.id===ze.workerId)?.name?.toLowerCase().includes(ue)||ze.notes?.toLowerCase().includes(ue)||ze.amount?.toString().includes(ue))},[Bs,gr,d]),_r=E.useMemo(()=>{if(!d.trim())return Qi;const ue=d.toLowerCase().trim();return Qi.filter(ze=>ze.description?.toLowerCase().includes(ue)||ze.notes?.toLowerCase().includes(ue)||ze.amount?.toString().includes(ue))},[Qi,d]),{data:Ns}=xt({queryKey:ve.previousBalance(t,n),queryFn:async()=>{try{const ue=await qe(`/api/projects/${t}/previous-balance/${n}`,"GET");return ue&&ue.data&&ue.data.balance!==void 0?ue.data.balance||"0":ue?.balance||"0"}catch(ue){return console.error("Error fetching previous balance:",ue),"0"}},enabled:!!t&&!!n&&!s,staleTime:1e3*60*2,gcTime:1e3*60*5,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:void 0});E.useEffect(()=>{Ns!=null&&(console.log("  carriedForward:",{previousBalance:Ns,type:typeof Ns}),l(Ns))},[Ns]),E.useEffect(()=>{(t||s)&&St.invalidateQueries({queryKey:ve.projects,refetchType:"none"})},[t,n,s,St]),E.useEffect(()=>{(async()=>{const ze=[" "," "," "," ","",""];for(const _t of ze)try{await or("transferTypes",_t)}catch(sr){console.log(`Type ${_t} initialization skipped:`,sr)}})()},[]);const Di=Pt({mutationFn:async ue=>{await Ht();const ze={...ue,wellId:oe||null};return qe("/api/fund-transfers","POST",ze)},onSuccess:async ue=>{Ut(),St.invalidateQueries({queryKey:ve.autocomplete}),e({title:"  ",description:"    "}),Y(""),U(""),ie(""),ce("")},onError:async ue=>{await Ht(),St.invalidateQueries({queryKey:ve.autocomplete}),console.error("   :",ue);let ze="    ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.message?ze=ue.message:typeof ue=="string"&&(ze=ue);try{const _t={fundAmount:F?parseFloat(F):0,senderName:V,transferNumber:Z,transferType:me,selectedDate:n,projectId:t,wellId:oe||null};await Qf("create","/api/fund-transfers",_t),e({title:"  ",description:`${ze} -    `,variant:"default"})}catch{e({title:"   ",description:ze,variant:"destructive"})}}}),ya=Pt({mutationFn:async ue=>{fe&&fe.trim().length>=2&&await or("transportDescriptions",fe),se&&se.trim().length>=2&&await or("notes",se);const ze={...ue,wellId:T||null};return qe("/api/transportation-expenses","POST",ze)},onSuccess:async ue=>{Ut(),St.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),St.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),St.invalidateQueries({queryKey:ve.autocomplete}),e({title:"  ",description:"    "}),le(""),te(""),de("")},onError:async ue=>{fe&&fe.trim().length>=2&&or("transportDescriptions",fe).catch(()=>{}),St.invalidateQueries({queryKey:ve.autocomplete});try{const ze={description:fe,amount:ae?parseFloat(ae):0,notes:se,selectedDate:n,projectId:t,wellId:T||null};await Qf("create","/api/transportation-expenses",ze),e({title:"  ",description:"   -    ",variant:"default"})}catch{e({title:"   ",description:ue?.message||"     ",variant:"destructive"})}}}),vo=Pt({mutationFn:ue=>qe("/api/daily-expense-summaries","POST",ue),onSuccess:()=>{Ut(),e({title:" ",description:"     "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),ba=Pt({mutationFn:ue=>qe(`/api/fund-transfers/${ue}`,"DELETE"),onSuccess:(ue,ze)=>{St.setQueryData(ve.dailyExpenses(t,n),_t=>_t&&{..._t,fundTransfers:_t.fundTransfers?.filter(sr=>sr.id!==ze)||[]}),Ut(),e({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let ze="    ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.message&&(ze=ue.message),e({title:"   ",description:ze,variant:"destructive"})}}),Mi=Pt({mutationFn:ue=>qe(`/api/transportation-expenses/${ue}`,"DELETE"),onSuccess:(ue,ze)=>{St.setQueryData(ve.dailyExpenses(t,n),_t=>_t&&{..._t,transportationExpenses:_t.transportationExpenses?.filter(sr=>sr.id!==ze)||[]}),Ut(),e({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let ze="     ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.response?.data?.error?ze=ue.response.data.error:ue?.message?ze=ue.message:typeof ue=="string"&&(ze=ue),e({title:"    ",description:ze,variant:"destructive"})}}),Xo=Pt({mutationFn:ue=>qe(`/api/material-purchases/${ue}`,"DELETE"),onMutate:()=>({projectId:t,date:n}),onSuccess:(ue,ze,_t)=>{const{projectId:sr,date:Br}=_t||{projectId:t,date:n};St.setQueryData(ve.dailyExpenses(sr,Br),dt=>dt&&{...dt,materialPurchases:dt.materialPurchases?.filter(tn=>tn.id!==ze)||[]}),St.invalidateQueries({queryKey:ve.dailyExpenses(sr,Br)}),St.invalidateQueries({queryKey:ve.materialPurchases(sr)}),St.invalidateQueries({queryKey:ve.previousBalance(sr)}),e({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let ze="     ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.response?.data?.error?ze=ue.response.data.error:ue?.message?ze=ue.message:typeof ue=="string"&&(ze=ue),e({title:"    ",description:ze,variant:"destructive"})}}),Fa=Pt({mutationFn:ue=>qe(`/api/project-fund-transfers/${ue}`,"DELETE"),onSuccess:()=>{Ut(),Qt(),e({title:" ",description:"    "})},onError:ue=>{e({title:"",description:ue?.message||"    ",variant:"destructive"})}}),[va,Yi]=E.useState(null),Ri=ue=>{r(`/project-transfers?edit=${ue.id}`)},La=Pt({mutationFn:ue=>qe(`/api/worker-attendance/${ue}`,"DELETE"),onMutate:()=>({projectId:t,date:n}),onSuccess:(ue,ze,_t)=>{const{projectId:sr,date:Br}=_t||{projectId:t,date:n};St.setQueryData(ve.dailyExpenses(sr,Br),dt=>dt&&{...dt,workerAttendance:dt.workerAttendance?.filter(tn=>tn.id!==ze)||[]}),St.invalidateQueries({queryKey:ve.dailyExpenses(sr,Br)}),St.invalidateQueries({queryKey:ve.projectAttendance(sr)}),St.invalidateQueries({queryKey:ve.previousBalance(sr)}),e({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let ze="     ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.response?.data?.error?ze=ue.response.data.error:ue?.message?ze=ue.message:typeof ue=="string"&&(ze=ue),e({title:"    ",description:ze,variant:"destructive"})}}),xa=Pt({mutationFn:ue=>qe(`/api/worker-transfers/${ue}`,"DELETE"),onMutate:()=>({projectId:t,date:n}),onSuccess:(ue,ze,_t)=>{const{projectId:sr,date:Br}=_t||{projectId:t,date:n};St.setQueryData(ve.dailyExpenses(sr,Br),dt=>dt&&{...dt,workerTransfers:dt.workerTransfers?.filter(tn=>tn.id!==ze)||[]}),St.invalidateQueries({queryKey:ve.dailyExpenses(sr,Br)}),St.invalidateQueries({queryKey:ve.previousBalance(sr)}),e({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let ze="     ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.response?.data?.error?ze=ue.response.data.error:ue?.message?ze=ue.message:typeof ue=="string"&&(ze=ue),e({title:"    ",description:ze,variant:"destructive"})}}),si=Pt({mutationFn:({id:ue,data:ze})=>qe(`/api/fund-transfers/${ue}`,"PATCH",ze),onSuccess:async(ue,{id:ze})=>{St.invalidateQueries({queryKey:ve.dailyExpenses(t,n)}),St.invalidateQueries({queryKey:ve.previousBalance(t)}),V&&await or("senderNames",V),Z&&await or("transferNumbers",Z),St.invalidateQueries({queryKey:ve.autocomplete}),N0(),e({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let ze="    ";ue?.response?.data?.message?ze=ue.response.data.message:ue?.message&&(ze=ue.message),e({title:"   ",description:ze,variant:"destructive"})}}),N0=()=>{Y(""),U(""),ie(""),ce(""),ee(null)},C0=ue=>{Y(ue.amount),U(ue.senderName||""),ie(ue.transferNumber||""),ce(ue.transferType),ee(ue.id)},Ru=()=>{if(!t||s){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!F||F.trim()===""||parseFloat(F)<=0){e({title:"",description:"   ",variant:"destructive"});return}if(!me||me.trim()===""){e({title:"",description:"   ",variant:"destructive"});return}const ue={projectId:t,amount:F.toString(),senderName:V.trim()||" ",transferNumber:Z.trim()||null,transferType:me,transferDate:n,notes:"",wellId:oe||null};ye?si.mutate({id:ye,data:ue}):Di.mutate(ue)},mp=Pt({mutationFn:({id:ue,data:ze})=>qe(`/api/transportation-expenses/${ue}`,"PATCH",ze),onSuccess:async(ue,{id:ze})=>{St.invalidateQueries({queryKey:ve.dailyExpenses(t,n)}),St.invalidateQueries({queryKey:ve.previousBalance(t)}),fe&&fe.trim().length>=2&&await or("transportDescriptions",fe),se&&se.trim().length>=2&&await or("notes",se),St.invalidateQueries({queryKey:["/api/autocomplete","transportDescriptions"]}),St.invalidateQueries({queryKey:["/api/autocomplete","notes"]}),St.invalidateQueries({queryKey:ve.autocomplete}),gp(),e({title:" ",description:"    "})},onError:()=>{e({title:"",description:"    ",variant:"destructive"})}}),gp=()=>{le(""),te(""),de(""),Oe("worker_transport"),ke(null)},cf=ue=>{le(ue.description),te(ue.amount),de(ue.notes||""),Oe(ue.category||"worker_transport"),ke(ue.id)},T0=()=>{if(!t||s){e({title:"  ",description:"       .        ",variant:"destructive"});return}if(!fe||!ae){e({title:"",description:"    ",variant:"destructive"});return}const ue={projectId:t,description:fe,amount:ae,date:n||new Date().toISOString().split("T")[0],category:Ee,notes:se,wellId:T||null};ge?mp.mutate({id:ge,data:ue}):ya.mutate(ue)},j1=()=>{if(!t){e({title:"",description:"   ",variant:"destructive"});return}vo.mutate({projectId:t,date:n||new Date().toISOString().split("T")[0],carriedForwardAmount:a,totalFundTransfers:(he.totalFundTransfers||0).toString(),totalWorkerWages:(he.totalWorkerWages||0).toString(),totalMaterialCosts:(he.totalMaterialCosts||0).toString(),totalTransportationCosts:(he.totalTransportation||0).toString(),totalIncome:(he.totalIncome||0).toString(),totalExpenses:(he.totalCashExpenses||he.totalExpenses||0).toString(),remainingBalance:(he.remainingBalance||he.totalBalance||0).toString()})},$u=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:Je(he.totalWorkerWages),icon:Vn,color:"blue"},{key:"fundTransfers",label:" ",value:Je(he.totalFundTransfers),icon:Tse,color:"green"},{key:"materials",label:"",value:Je(he.totalMaterialCosts),icon:jn,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:Je(he.totalTransportation),icon:Ni,color:"orange"},{key:"miscExpenses",label:"",value:Je(he.totalMiscExpenses),icon:y2,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:he.incomingProjectTransfers,outgoing:he.outgoingProjectTransfers},value:Je(he.incomingProjectTransfers-he.outgoingProjectTransfers),icon:hs,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:Je(he.totalWorkerTransfers),icon:ib,color:"indigo"},{key:"totalExpenses",label:"",value:Je(he.totalExpenses),icon:Ei,color:"red"},{key:"remainingBalance",label:"",value:Je(he.totalBalance),icon:hl,color:he.totalBalance>=0?"emerald":"rose"}]}],[he]),Ou=["","",""," ",""],vc=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Ou.map(ue=>({value:ue,label:ue}))]}],[]),uf=async()=>{k(!0);try{await St.invalidateQueries({queryKey:ve.dailyExpenses(t,n)})}finally{k(!1)}},E0=E.useCallback(async()=>{v(!0);try{const ue=[];console.log(" [Excel Export]  :",{fundTransfers:Kr.length,attendance:Dr.length,transportation:Us.length,materials:ga.length,workerTransfers:Oa.length,miscExpenses:_r.length});const ze=As(a);ze!==0&&ue.push({id:"previous-balance",date:n||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(ze),description:ze>0?"  ()":"  ()",projectName:st.find(dt=>dt.id===t)?.name||" "}),Kr.forEach(dt=>{ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:"income",category:"",amount:As(dt.amount),description:`  ${dt.senderName||" "}`,projectId:dt.projectId,projectName:st.find(tn=>tn.id===dt.projectId)?.name||" ",transferMethod:dt.transferType,recipientName:dt.senderName})}),ar.forEach(dt=>{const tn=dt.toProjectId===t,os=st.find(za=>za.id===dt.fromProjectId),Cs=st.find(za=>za.id===dt.toProjectId);ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:tn?"transfer_from_project":"expense",category:tn?" ":" ",amount:As(dt.amount),description:tn?`  ${os?.name||" "}`:`  ${Cs?.name||" "}`,projectId:tn?dt.fromProjectId:dt.toProjectId,projectName:tn?os?.name:Cs?.name})}),Dr.forEach(dt=>{const tn=gr.find(ii=>ii.id===dt.workerId),os=As(dt.paidAmount),Cs=As(dt.payableAmount),za=os===0&&Cs>0;ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:za?"deferred":"expense",category:" ",amount:os,description:dt.workDescription||" ",projectId:dt.projectId,projectName:st.find(ii=>ii.id===dt.projectId)?.name||" ",workerName:tn?.name||" ",workDays:As(dt.workDays)||void 0,dailyWage:As(dt.dailyWage)||void 0,payableAmount:Cs||void 0})}),Us.forEach(dt=>{ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:As(dt.amount),description:dt.description||" ",projectId:dt.projectId,projectName:st.find(tn=>tn.id===dt.projectId)?.name||" "})}),ga.forEach(dt=>{const tn=Tt.find(Cs=>Cs.id===dt.materialId),os=dt.purchaseType==="";ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:os?"expense":"deferred",category:" ",amount:os?As(dt.totalAmount):0,description:` ${tn?.name||""}`,projectId:dt.projectId,projectName:st.find(Cs=>Cs.id===dt.projectId)?.name||" ",materialName:tn?.name||dt.materialName,quantity:As(dt.quantity)||void 0,unitPrice:As(dt.unitPrice)||void 0,paymentType:dt.purchaseType,supplierName:dt.supplier||dt.supplierName})}),Oa.forEach(dt=>{const tn=gr.find(os=>os.id===dt.workerId);ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:As(dt.amount),description:dt.notes||" ",projectId:dt.projectId,projectName:st.find(os=>os.id===dt.projectId)?.name||" ",workerName:tn?.name||" ",recipientName:tn?.name})}),_r.forEach(dt=>{ue.push({id:dt.id,date:dt.date||n||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:As(dt.amount),description:dt.description||" ",projectId:dt.projectId,projectName:st.find(tn=>tn.id===dt.projectId)?.name||" "})});const _t={totalIncome:he.totalIncome||0,totalExpenses:he.totalCashExpenses||he.totalExpenses||0,balance:he.remainingBalance||he.totalBalance||0},sr=s?" ":st.find(dt=>dt.id===t)?.name||"",Br=await _X(ue,_t,Je,`${sr}${n?` - ${n}`:""}`);e(Br?{title:"  ",description:`  ${ue.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ue){console.error("  :",ue),e({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[Kr,Dr,Us,ga,Oa,_r,ar,gr,Tt,st,t,n,s,e]),N1=E.useMemo(()=>[{key:"export",icon:_g,label:" Excel",onClick:E0,variant:"outline",loading:m,tooltip:"     Excel"}],[m,E0]),df={fundTransfers:Array.isArray(Vt)&&Vt.length>0,attendance:Array.isArray(wr)&&wr.length>0,transportation:Array.isArray(Hr)&&Hr.length>0,materials:Array.isArray(Vr)&&Vr.length>0,workerTransfers:Array.isArray(dn)&&dn.length>0,miscExpenses:Array.isArray(yn)&&yn.length>0};return Object.keys(df).length,Object.values(df).filter(Boolean).length,o.jsxs("div",{className:"p-4 slide-in space-y-4",children:[o.jsx(bo,{hideHeader:!0,title:"",statsRows:$u,searchValue:d,onSearchChange:p,searchPlaceholder:"  ...",showSearch:!0,filters:vc,filterValues:{date:n?(()=>{const[ue,ze,_t]=n.split("-").map(Number);return new Date(ue,ze-1,_t,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:uf,isRefreshing:x,actions:N1}),!s&&!f.dateRange?.from&&n&&o.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:jr,title:" ",children:o.jsx(Ad,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),o.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[o.jsx(ks,{className:"h-3.5 w-3.5 text-primary"}),Or(new Date(n),"EEEE, d MMMM yyyy",{locale:da})]})]}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Ft,title:" ",children:o.jsx(Eb,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),Ze?.groupedByProjectDate&&Ze.groupedByProjectDate.length>0?o.jsx("div",{className:"space-y-4",children:Ze.groupedByProjectDate.map((ue,ze)=>o.jsx(vn,{title:ue.projectName,subtitle:`  ${Ao(ue.date)}`,titleIcon:yk,headerColor:"#3b82f6",badges:[{label:Ao(ue.date),variant:"default"},{label:ue.remainingBalance>=0?" ":"",variant:ue.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(ue.totalIncome||0),icon:$n,color:"success",emphasis:!0},{label:" ",value:Je(ue.totalExpenses||0),icon:Ei,color:"danger",emphasis:!0},{label:" ",value:Je(ue.totalWorkerWages||0),icon:Vn,color:"info"},{label:"",value:Je(ue.totalTransportation||0),icon:Ni,color:"warning"},{label:"",value:Je(ue.totalMaterialCosts||0),icon:jn,color:"info"},{label:"",value:Je(ue.totalMiscExpenses||0),icon:y2,color:"muted"},{label:" ",value:Je(ue.totalWorkerTransfers||0),icon:ib,color:"warning"},{label:"",value:Je(ue.remainingBalance||0),icon:hl,color:(ue.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${ue.projectId}-${ue.date}-${ze}`))}):t&&n&&o.jsx(vn,{title:st?.find(ue=>ue.id===t)?.name||"",subtitle:`  ${Ao(n)}`,titleIcon:yk,headerColor:"#3b82f6",badges:[{label:Ao(n),variant:"default"},{label:Ir.remainingBalance>=0?" ":"",variant:Ir.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(Ir.totalIncome),icon:$n,color:"success",emphasis:!0},{label:" ",value:Je(Ir.totalExpenses),icon:Ei,color:"danger",emphasis:!0},{label:" ",value:Je(Ir.totalWorkerWages),icon:Vn,color:"info"},{label:"",value:Je(Ir.totalTransportation),icon:Ni,color:"warning"},{label:"",value:Je(Ir.totalMaterialCosts),icon:jn,color:"info"},{label:"",value:Je(Ir.totalMiscExpenses),icon:y2,color:"muted"},{label:" ",value:Je(Ir.totalWorkerTransfers),icon:ib,color:"warning"},{label:"",value:Je(Ir.remainingBalance),icon:hl,color:Ir.remainingBalance>=0?"success":"danger",emphasis:!0}]}),o.jsx(Ga,{open:L,onOpenChange:q,children:o.jsxs(ir,{className:"mb-4",children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vs,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:L?" ":" "}),L?o.jsx(Lo,{className:"h-5 w-5 text-muted-foreground"}):o.jsx(Bn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),o.jsx(Qa,{children:o.jsxs(br,{className:"p-4 pt-0",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsx("div",{children:o.jsx(bl,{label:"",value:n||"",onChange:ue=>i(ue?Or(ue,"yyyy-MM-dd"):null)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:"  "}),o.jsx(vt,{type:"number",inputMode:"decimal",value:a,onChange:ue=>l(ue.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",autoWidth:!0,maxWidth:200})]})]}),o.jsx("div",{className:"border-t pt-3",children:o.jsxs(Ga,{open:D,onOpenChange:$,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsx("h4",{className:"font-medium text-foreground",children:"  "}),o.jsxs("div",{className:"flex items-center gap-1",children:[ms.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:ms.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[ct&&o.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",ct.message]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),o.jsx(vt,{type:"number",inputMode:"decimal",value:F,onChange:ue=>Y(ue.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),o.jsx(Ms,{value:V,onChange:U,category:"senderNames",placeholder:" "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),o.jsx(Ms,{type:"number",inputMode:"numeric",value:Z,onChange:ie,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),o.jsx(Ms,{value:me,onChange:ce,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{onClick:Ru,size:"sm",className:"flex-1 bg-primary",disabled:Di.isPending||si.isPending,"data-testid":"button-add-fund-transfer",children:Di.isPending||si.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ye?o.jsxs(o.Fragment,{children:[o.jsx(Qc,{className:"h-4 w-4 ml-2"}),"  "]}):o.jsxs(o.Fragment,{children:[o.jsx(vs,{className:"h-4 w-4 ml-2"}),"  "]})}),ye&&o.jsx(Ie,{onClick:N0,size:"sm",variant:"outline",children:""})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t",children:[o.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),jt?o.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):ms.length>0?o.jsxs("div",{className:"space-y-2",children:[ms.map((ue,ze)=>o.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex justify-between items-start gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.senderName||" "}),o.jsx(At,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:ue.transferType})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[ue.transferNumber&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"opacity-70",children:" :"}),o.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),s&&ue.projectName&&o.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"font-medium",children:ue.projectName})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:Je(ue.amount)}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>C0(ue),"data-testid":"button-edit-fund-transfer",children:o.jsx(Ul,{className:"h-3.5 w-3.5"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>ba.mutate(ue.id),disabled:ba.isPending,"data-testid":"button-delete-fund-transfer",children:ba.isPending?o.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):o.jsx(Yn,{className:"h-3.5 w-3.5"})})]})]})]})},ue.id||ze)),o.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je(Ir.totalFundTransfers)})]})]}):o.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[o.jsx(Tr,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["     ",n]})]})]})]})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:z,onOpenChange:K,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(Pse,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[Sn.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:Sn.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),o.jsx(Ms,{value:fe,onChange:le,category:"transportDescriptions",placeholder:""})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),o.jsxs(es,{value:Ee,onValueChange:Oe,children:[o.jsx(Wn,{className:"arabic-numbers",children:o.jsx(ts,{placeholder:" "})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"worker_transport",children:" "}),o.jsx(zt,{value:"material_delivery",children:" "}),o.jsx(zt,{value:"concrete_transport",children:" "}),o.jsx(zt,{value:"iron_platforms",children:"  "}),o.jsx(zt,{value:"fuel_shas",children:" "}),o.jsx(zt,{value:"fuel_hilux",children:" "}),o.jsx(zt,{value:"loading_unloading",children:" "}),o.jsx(zt,{value:"maintenance",children:" "}),o.jsx(zt,{value:"water_supply",children:" "}),o.jsx(zt,{value:"other",children:""})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),o.jsx(vt,{type:"number",inputMode:"decimal",value:ae,onChange:ue=>te(ue.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:""}),o.jsx(Ms,{value:se,onChange:de,category:"notes",placeholder:"",className:"flex-1"})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:t&&!s&&o.jsx("div",{className:"flex flex-col",children:o.jsx(Gm,{projectId:t,value:T,onChange:A,optional:!0})})}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(Ie,{onClick:T0,size:"sm",className:"w-full bg-secondary",disabled:ya.isPending||mp.isPending,"data-testid":"button-add-transportation",children:ya.isPending||mp.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):ge?o.jsxs(o.Fragment,{children:[o.jsx(Qc,{className:"h-4 w-4 ml-2"}),"  "]}):o.jsxs(o.Fragment,{children:[o.jsx(vs,{className:"h-4 w-4 ml-2"}),"  "]})}),ge&&o.jsx(Ie,{onClick:gp,size:"sm",variant:"outline",children:""})]})]}),Sn.length>0&&o.jsxs("div",{className:"mt-3 space-y-2",children:[Sn.map((ue,ze)=>o.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.description}),o.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-base",children:Je(ue.amount)})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(At,{variant:"outline",className:"text-[10px] bg-orange-100/50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(_t=>_t.value===ue.category)?.label||""}),ue.notes&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.notes]})]}),ue.wellName&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.wellName]}),s&&ue.projectName&&o.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>cf(ue),"data-testid":"button-edit-transportation",children:o.jsx(Ul,{className:"h-4 w-4"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Mi.mutate(ue.id),disabled:Mi.isPending,"data-testid":"button-delete-transportation",children:Mi.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):o.jsx(Yn,{className:"h-4 w-4"})})]})]})},ze)),o.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-100 dark:bg-orange-900/40 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:[o.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:" : "}),o.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-lg",children:Je(Ir.totalTransportation)})]})]})]})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:W,onOpenChange:P,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(Vn,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[fn.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:fn.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[o.jsxs("div",{className:"col-span-6",children:[o.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),o.jsxs(es,{value:Le||"none",onValueChange:ue=>Ge(ue==="none"?"":ue),children:[o.jsx(Wn,{className:"h-9 text-xs","data-testid":"select-worker",children:o.jsx(ts,{placeholder:" "})}),o.jsxs(qn,{className:"p-0 overflow-hidden",children:[o.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:o.jsx(vt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:ue=>p(ue.target.value),value:d,onClick:ue=>{ue.preventDefault(),ue.stopPropagation()},onKeyDown:ue=>{ue.key===" "&&ue.stopPropagation()}})}),o.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[o.jsx(zt,{value:"none",className:"text-xs",children:" "}),We&&We.length>0?We.filter(ue=>!d||ue.name&&ue.name.toLowerCase().includes(d.toLowerCase())).map(ue=>o.jsx(zt,{value:ue.id?.toString()||"none",className:"text-xs",children:ue.name},`worker-select-${ue.id}`)):o.jsx(zt,{value:"none",disabled:!0,className:"text-xs",children:"    ( )"})]})]})]})]}),o.jsxs("div",{className:"col-span-3",children:[o.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),o.jsx(vt,{type:"number",value:Qe,onChange:ue=>yt(ue.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),o.jsxs("div",{className:"col-span-3",children:[o.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),o.jsx(vt,{type:"number",value:it,onChange:ue=>et(ue.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),o.jsx(vt,{type:"text",value:xe,onChange:ue=>be(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),t&&!s&&o.jsx("div",{className:"mb-3",children:o.jsx(Gm,{projectId:t,value:T,onChange:A,optional:!0})}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Ie,{onClick:Kt,className:"bg-primary h-9 flex-1",disabled:ut.isPending,"data-testid":"button-add-worker-attendance",children:ut.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):o.jsxs(o.Fragment,{children:[o.jsx(vs,{className:"h-4 w-4 ml-1"}),"  "]})})}),Ve&&o.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[o.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),o.jsx(vt,{type:"number",value:Mt,onChange:ue=>Xt(ue.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),o.jsxs("div",{children:[o.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),o.jsx(vt,{type:"number",value:wt,onChange:ue=>Jt(ue.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),o.jsx(vt,{type:"text",value:bt,onChange:ue=>It(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ie,{onClick:()=>{Ot.mutate({id:Ve,workDays:Mt,paidAmount:wt,notes:bt})},className:"bg-primary h-9 flex-1",disabled:Ot.isPending,"data-testid":"button-save-edit-worker-attendance",children:Ot.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):o.jsxs(o.Fragment,{children:[o.jsx(Qc,{className:"h-4 w-4 ml-1"})," "]})}),o.jsx(Ie,{onClick:()=>{Xe(null),Xt(""),Jt(""),It("")},variant:"outline",className:"h-9",children:""})]})]}),fn.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),o.jsxs("div",{className:"space-y-2",children:[fn.map((ue,ze)=>{const _t=gr.find(tn=>tn.id===ue.workerId),sr=As(ue.payableAmount),Br=As(ue.paidAmount),dt=sr-Br;return o.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.workerName||_t?.name||` ${ze+1}`}),_t?.type&&o.jsx(At,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${_t.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":_t.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":_t.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":_t.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":_t.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":_t.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":_t.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":_t.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:_t.type})]}),o.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je(Br)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:": "}),o.jsx("span",{className:"font-medium text-foreground",children:As(ue.workDays)||0})]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:" : "}),o.jsx("span",{className:"font-medium text-foreground",children:Je(As(ue.dailyWage||_t?.dailyWage))})]})]}),dt>0&&o.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",Je(dt)]}),ue.workDescription&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.workDescription]}),o.jsx("div",{className:"flex flex-col gap-1",children:ue.notes&&o.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[o.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),ue.notes]})}),s&&ue.projectName&&o.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{Xe(ue.id),Xt(As(ue.workDays).toString()),Jt(As(ue.paidAmount).toString()),It(ue.notes||"")},children:o.jsx(Ul,{className:"h-4 w-4"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>La.mutate(ue.id),disabled:La.isPending,"data-testid":"button-delete-worker-attendance",children:La.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):o.jsx(Yn,{className:"h-4 w-4"})})]})]})},ze)}),o.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),o.jsx("span",{className:"font-bold text-primary arabic-numbers",children:Je(Ir.totalWorkerWages)})]})]})]})]})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:R,onOpenChange:C,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(jn,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[rs.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:rs.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[o.jsxs(Ie,{variant:"outline",onClick:()=>r("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[o.jsx(vs,{className:"ml-2 h-4 w-4"}),"   "]}),rs.length>0&&o.jsxs("div",{className:"space-y-2",children:[rs.map((ue,ze)=>{const _t=ue.materialName||ue.material?.name||"  ",sr=ue.materialUnit||ue.unit||ue.material?.unit||"",Br=ue.purchaseType||"",dt=Br==="",tn=Br===""||Br===""||Br==="";let os="border-orange-200 dark:border-orange-900/30",Cs="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",za="text-orange-600";return dt?(os="border-green-200 dark:border-green-900/30",Cs="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",za="text-green-600"):tn&&(os="border-blue-200 dark:border-blue-900/30",Cs="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",za="text-blue-600"),o.jsx("div",{className:`p-3 border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${Cs.split(" ")[0]} bg-opacity-5 ${os}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-foreground text-sm",children:_t}),o.jsx("span",{className:`font-bold arabic-numbers text-base ${za}`,children:Je(ue.totalAmount)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:": "}),o.jsxs("span",{className:"font-medium text-foreground",children:[ue.quantity," ",sr]})]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:": "}),o.jsx("span",{className:"font-medium text-foreground",children:Je(ue.unitPrice)})]})]}),ue.supplierName&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.supplierName]}),o.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Cs}`,children:Br}),s&&ue.projectName&&o.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>r(`/material-purchase?edit=${ue.id}`),children:o.jsx(Ul,{className:"h-4 w-4"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Xo.mutate(ue.id),disabled:Xo.isPending,children:Xo.isPending?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):o.jsx(Yn,{className:"h-4 w-4"})})]})]})},ze)}),o.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-bold text-success arabic-numbers",children:Je(Ir.totalMaterialCosts)})]}),(()=>{const ue=Array.isArray(Vr)?Vr.filter(ze=>ze.purchaseType==="").reduce((ze,_t)=>ze+parseFloat(_t.totalAmount||"0"),0):0;return ue>0?o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:Je(ue)})]}):null})()]})]})]})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:_,onOpenChange:S,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(Tr,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[Bs.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:Bs.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[o.jsxs(Ie,{variant:"outline",onClick:()=>r("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[o.jsx(vs,{className:"ml-2 h-4 w-4"}),"   "]}),Bs.length>0&&o.jsxs("div",{className:"space-y-2",children:[Bs.map((ue,ze)=>{const _t=gr.find(Br=>Br.id===ue.workerId),sr=ue.transferMethod==="hawaleh"?"":ue.transferMethod==="bank"?" ":"";return o.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-semibold text-foreground text-sm",children:_t?.name||"  "}),o.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:Je(ue.amount)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:": "}),o.jsx("span",{className:"font-medium text-foreground",children:ue.recipientName})]}),o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("span",{children:": "}),o.jsx("span",{className:"font-medium text-foreground",children:sr})]})]}),ue.transferNumber&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx("span",{className:"opacity-70",children:" : "}),o.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),s&&ue.projectName&&o.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>r(`/worker-accounts?edit=${ue.id}&worker=${ue.workerId}`),children:o.jsx(Ul,{className:"h-4 w-4"})}),o.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&xa.mutate(ue.id)},disabled:xa.isPending,children:o.jsx(Yn,{className:"h-4 w-4"})})]})]})},ze)}),o.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-bold text-warning arabic-numbers",children:Je(he.totalWorkerTransfers)})]})]})]})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:j,onOpenChange:N,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(tu,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[ar.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:ar.length}),o.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),o.jsxs(Qa,{className:"pt-2",children:[o.jsxs(Ie,{variant:"outline",onClick:()=>r("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[o.jsx(vs,{className:"ml-2 h-4 w-4"}),"  "]}),ar.length>0&&o.jsx("div",{className:"space-y-3",children:ar.map(ue=>o.jsx("div",{className:`p-3 rounded border-r-4 ${ue.toProjectId===t?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:ue.toProjectId===t?o.jsxs("span",{className:"text-green-700",children:["  : ",ue.fromProjectName]}):o.jsxs("span",{className:"text-red-700",children:["  : ",ue.toProjectName]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`font-bold arabic-numbers ${ue.toProjectId===t?"text-green-600":"text-red-600"}`,children:[ue.toProjectId===t?"+":"-",Je(ue.amount)]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Ie,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Ri(ue),children:o.jsx(Ul,{className:"h-3.5 w-3.5"})}),o.jsx(Ie,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&Fa.mutate(ue.id)},disabled:Fa.isPending,children:o.jsx(Yn,{className:"h-3.5 w-3.5"})})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsxs("div",{children:[": ",ue.transferReason||" "]}),ue.description&&o.jsxs("div",{className:"mt-1",children:[": ",ue.description]}),o.jsxs("div",{className:"mt-1",children:[": ",Ao(ue.transferDate)]})]})]})})},ue.id))})]})]})}),t&&o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:B,onOpenChange:G,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(jn,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),o.jsxs("div",{className:"flex items-center gap-1",children:[Q.length>0&&o.jsx(At,{variant:"outline",className:"h-5 text-[10px]",children:Q.length}),o.jsx(Bn,{className:`h-4 w-4 text-muted-foreground transition-transform ${B?"rotate-180":""}`})]})]})}),o.jsx(Qa,{className:"pt-2",children:o.jsx(e3e,{projectId:t,selectedDate:n||new Date().toISOString().split("T")[0]})})]})}),o.jsx("div",{className:"border-t pt-3 mt-3",children:o.jsxs(Ga,{open:M,onOpenChange:O,children:[o.jsx(Xa,{asChild:!0,children:o.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[o.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[o.jsx(ll,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),o.jsx(Bn,{className:`h-4 w-4 text-muted-foreground transition-transform ${M?"rotate-180":""}`})]})}),o.jsx(Qa,{className:"pt-2",children:o.jsx(Jje,{totalIncome:he.totalIncome,totalExpenses:he.totalCashExpenses,remainingBalance:Be,details:{workerWages:he.totalWorkerWages,materialCosts:he.totalMaterialCosts,transportation:he.totalTransportation,miscExpenses:he.totalMiscExpenses,workerTransfers:he.totalWorkerTransfers,outgoingProjectTransfers:he.outgoingProjectTransfers}})})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs(Ie,{onClick:j1,disabled:vo.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[o.jsx(Qc,{className:"ml-2 h-4 w-4"}),vo.isPending?" ...":" "]})})]})})]})})]})}function r3e(){return o.jsx(w4,{children:o.jsx(t3e,{})})}const n3e=[" "," ","","","","",""," "],n9={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function s3e(){const{selectedProjectId:e}=Ko(),{toast:r}=pn(),t=Ss(),{setFloatingAction:s}=Go(),[n,i]=E.useState(n3e),{searchValue:a,filterValues:l,onSearchChange:u,onFilterChange:c,onReset:d}=y1({region:"all",status:"all"}),[p,f]=E.useState(!1),[h,g]=E.useState({}),[y,m]=E.useState(!1),[v,x]=E.useState(null),[k,T]=E.useState(!1),[A,L]=E.useState(""),[q,D]=E.useState(!1),[$,z]=E.useState(""),{data:K=[]}=xt({queryKey:ve.autocompleteOwnerNames(e),queryFn:async()=>{const F=await qe("/api/autocomplete?category=ownerNames");return Array.isArray(F.data)?F.data:[]},enabled:!!e}),{data:W=[]}=xt({queryKey:ve.autocompleteFanTypes(e),queryFn:async()=>{const F=await qe("/api/autocomplete?category=fanTypes");return Array.isArray(F.data)?F.data:[]},enabled:!!e}),{data:P=[]}=xt({queryKey:ve.autocompletePumpPowers(e),queryFn:async()=>{const F=await qe("/api/autocomplete?category=pumpPowers");return Array.isArray(F.data)?F.data:[]},enabled:!!e});E.useEffect(()=>(s(()=>{f(!0)},"+  "),()=>{s(null)}),[s]);const{data:R=[],isLoading:C,isFetching:_}=xt({queryKey:ve.wellsByProject(e),queryFn:async()=>e?(await qe(`/api/wells?projectId=${e}`)).data||[]:[],enabled:!!e,staleTime:300*1e3,retry:1}),S=Pt({mutationFn:async F=>qe("/api/autocomplete","POST",{category:"fanTypes",value:F}),onSuccess:()=>{r({title:"",description:"    "}),t.invalidateQueries({queryKey:ve.autocompleteFanTypesPrefix}),T(!1),L("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),j=Pt({mutationFn:async F=>qe("/api/autocomplete","POST",{category:"pumpPowers",value:F}),onSuccess:()=>{r({title:"",description:"    "}),t.invalidateQueries({queryKey:ve.autocompletePumpPowersPrefix}),D(!1),z("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),N=Pt({mutationFn:async F=>qe("/api/autocomplete","POST",{category:"ownerNames",value:F}),onSuccess:()=>{t.invalidateQueries({queryKey:ve.autocompleteOwnerNamesPrefix})},onError:F=>{console.error("    :",F)}}),M=F=>{g({...h,ownerName:F}),F.trim()&&!K.includes(F)&&N.mutate(F)},O=Pt({mutationFn:async F=>{if(!e||e==="all")throw new Error("    ");return qe("/api/wells","POST",{...F,projectId:e})},onSuccess:()=>{r({title:"",description:"   "}),t.invalidateQueries({queryKey:ve.wells}),f(!1),g({})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),B=Pt({mutationFn:async F=>{if(!v?.id)throw new Error("   ");return qe(`/api/wells/${v.id}`,"PUT",{...F,projectId:e})},onSuccess:()=>{r({title:"",description:"   "}),t.invalidateQueries({queryKey:ve.wells}),m(!1),x(null)},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),G=Pt({mutationFn:async F=>qe(`/api/wells/${F}`,"DELETE"),onSuccess:()=>{r({title:"",description:"   "}),t.invalidateQueries({queryKey:ve.wells})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),Q=E.useMemo(()=>R.filter(F=>{const Y=F.ownerName.toLowerCase().includes(a.toLowerCase())||F.wellNumber.toString().includes(a),V=l.region==="all"||F.region===l.region,U=l.status==="all"||F.status===l.status;return Y&&V&&U}),[R,a,l]),re=E.useMemo(()=>({total:R.length,completed:R.filter(F=>F.status==="completed").length,inProgress:R.filter(F=>F.status==="in_progress").length,pending:R.filter(F=>F.status==="pending").length,avgCompletion:R.length>0?Math.round(R.reduce((F,Y)=>F+(Y.completionPercentage||0),0)/R.length):0}),[R]);return!e||e==="all"?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("p",{className:"text-gray-500",children:"      "})}):C?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(eT,{className:"w-8 h-8 animate-spin text-blue-500"})}):o.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[o.jsx(ku,{title:" ",hideHeader:!1,stats:[{title:" ",value:re.total,icon:ll,color:"blue",status:re.total===0?"normal":void 0},{title:"",value:re.completed,icon:cl,color:"green",status:re.completed>re.inProgress?"normal":"warning"},{title:" ",value:re.inProgress,icon:eT,color:"amber",status:re.inProgress>0?"normal":void 0},{title:"  ",value:re.pending,icon:cl,color:"gray",status:re.pending>re.completed?"warning":void 0},{title:" ",value:`${re.avgCompletion}%`,icon:ll,color:"indigo"}],columns:3,showStatus:!0}),o.jsx(f5,{searchValue:a,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...n.map(F=>({value:F,label:F}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:l,onFilterChange:c,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),o.jsx(Ys,{open:p,onOpenChange:f,children:o.jsxs($s,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[o.jsx(Js,{className:"pb-2",children:o.jsx(hi,{children:"  "})}),o.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:h.wellNumber||"",onChange:F=>g({...h,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base",autoWidth:!0,maxWidth:200})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(us,{value:h.ownerName||"",onValueChange:M,options:K.map(F=>({value:F,label:F})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:F=>N.mutate(F)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:" *"}),o.jsx(us,{value:h.region||"",onValueChange:F=>g({...h,region:F}),options:n.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  () *"}),o.jsx(vt,{type:"number",value:h.wellDepth||"",onChange:F=>g({...h,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:h.numberOfPanels||"",onChange:F=>g({...h,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:h.numberOfBases||"",onChange:F=>g({...h,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:h.numberOfPipes||"",onChange:F=>g({...h,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  ()"}),o.jsx(vt,{type:"number",value:h.waterLevel||"",onChange:F=>g({...h,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Ye,{className:"text-sm font-semibold flex-1",children:" "}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>T(!0),children:"+ "})]}),o.jsx(us,{value:h.fanType||"",onValueChange:F=>g({...h,fanType:F}),options:W.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Ye,{className:"text-sm font-semibold flex-1",children:" "}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>D(!0),children:"+ "})]}),o.jsx(us,{value:h.pumpPower?String(h.pumpPower):"",onValueChange:F=>g({...h,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1 md:col-span-2",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:""}),o.jsx(us,{value:h.status||"",onValueChange:F=>g({...h,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1 md:col-span-2",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:""}),o.jsx(vt,{value:h.notes||"",onChange:F=>g({...h,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),o.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[o.jsx(Ie,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),o.jsx(Ie,{onClick:()=>{if(!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}O.mutate(h)},size:"sm",disabled:O.isPending||!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases,children:O.isPending?"...":""})]})]})}),o.jsx(Ys,{open:k,onOpenChange:T,children:o.jsxs($s,{children:[o.jsx(Js,{children:o.jsx(hi,{children:"   "})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Ye,{children:"  "}),o.jsx(vt,{placeholder:":  ",value:A,onChange:F=>L(F.target.value),onKeyDown:F=>F.key==="Enter"&&S.mutate(A)})]})}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(Ie,{variant:"outline",onClick:()=>T(!1),size:"sm",children:""}),o.jsx(Ie,{onClick:()=>S.mutate(A),size:"sm",children:S.isPending?"...":""})]})]})}),o.jsx(Ys,{open:q,onOpenChange:D,children:o.jsxs($s,{children:[o.jsx(Js,{children:o.jsx(hi,{children:"   "})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Ye,{children:" "}),o.jsx(vt,{placeholder:": 1.5  2.0",value:$,onChange:F=>z(F.target.value),onKeyDown:F=>F.key==="Enter"&&j.mutate($)})]})}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(Ie,{variant:"outline",onClick:()=>D(!1),size:"sm",children:""}),o.jsx(Ie,{onClick:()=>j.mutate($),size:"sm",children:j.isPending?"...":""})]})]})}),o.jsx(Ys,{open:y,onOpenChange:m,children:o.jsxs($s,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[o.jsx(Js,{className:"pb-2",children:o.jsx(hi,{children:"  "})}),o.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:v?.wellNumber||"",onChange:F=>x({...v,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(us,{value:v?.ownerName||"",onValueChange:F=>x({...v,ownerName:F}),options:K.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:" *"}),o.jsx(us,{value:v?.region||"",onValueChange:F=>x({...v,region:F}),options:n.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  () *"}),o.jsx(vt,{type:"number",value:v?.wellDepth||"",onChange:F=>x({...v,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:v?.numberOfPanels||"",onChange:F=>x({...v,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:v?.numberOfBases||"",onChange:F=>x({...v,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),o.jsx(vt,{type:"number",value:v?.numberOfPipes||"",onChange:F=>x({...v,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  ()"}),o.jsx(vt,{type:"number",value:v?.waterLevel||"",onChange:F=>x({...v,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:" "}),o.jsx(us,{value:v?.fanType||"",onValueChange:F=>x({...v,fanType:F}),options:W.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:" "}),o.jsx(us,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:F=>x({...v,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:""}),o.jsx(us,{value:v?.status||"",onValueChange:F=>x({...v,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:"  (%)"}),o.jsx(vt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:F=>x({...v,completionPercentage:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),o.jsxs("div",{className:"space-y-1 md:col-span-2",children:[o.jsx(Ye,{className:"text-sm font-semibold",children:""}),o.jsx(vt,{value:v?.notes||"",onChange:F=>x({...v,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),o.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[o.jsx(Ie,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),o.jsx(Ie,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}B.mutate(v||{})},size:"sm",disabled:B.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:B.isPending?"...":""})]})]})}),o.jsx(ei,{columns:2,children:Q.map(F=>o.jsx(vn,{title:` #${F.wellNumber} - ${F.ownerName}`,subtitle:F.region,titleIcon:cl,badges:[{label:n9[F.status]?.label,variant:n9[F.status]?.badgeVariant}],fields:[{label:"",value:F.region,icon:cl,color:"info"},{label:"",value:F.numberOfPanels,icon:ll,color:"success"},{label:"",value:F.numberOfPipes,icon:Aa,color:"success"},{label:"",value:`${F.wellDepth}`,icon:$n,color:"warning"},{label:"",value:F.numberOfBases,icon:ll,color:"info"},{label:" ",value:F.waterLevel?`${F.waterLevel}`:"-",icon:$n,color:"info"},{label:"",value:`${F.completionPercentage}%`,emphasis:!0,color:"info",icon:$n},...F.fanType?[{label:" ",value:F.fanType,icon:Aa,color:"info"}]:[],...F.pumpPower?[{label:" ",value:`${F.pumpPower}`,icon:Aa,color:"warning"}]:[],...F.notes?[{label:"",value:F.notes,color:"muted"}]:[]],actions:[{icon:mu,label:"",onClick:()=>{x(F),m(!0)},color:"blue"},{icon:Yn,label:"",onClick:()=>{confirm("      ")&&G.mutate(F.id)},color:"red"}]},F.id))}),Q.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"  "})})]})}function i3e(){zs(),pn();const[e,r]=E.useState(null),{selectedProjectId:t}=Ko(),{data:s=[]}=xt({queryKey:ve.wellsByProject(t),queryFn:async()=>t?(await qe(`/wells?projectId=${t}`)).data||[]:[],enabled:!!t}),{data:n}=xt({queryKey:ve.projectCosts(t),queryFn:async()=>t?(await qe(`/well-expenses/project-costs/${t}`)).data:null,enabled:!!t}),{data:i}=xt({queryKey:ve.wellCostReport(e),queryFn:async()=>e?(await qe(`/well-expenses/cost-report/${e}`)).data:null,enabled:!!e}),a=(l,u)=>u>0?(l/u*100).toFixed(1):"0";return o.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[n&&o.jsxs(ei,{columns:2,children:[o.jsx(vn,{title:" ",subtitle:" ",titleIcon:Tr,fields:[{label:"",value:Je(n.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),o.jsx(vn,{title:" ",subtitle:" ",titleIcon:$n,fields:[{label:"",value:Je(n.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),o.jsx(vn,{title:"",subtitle:" ",titleIcon:Tr,fields:[{label:"",value:Je(n.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),o.jsx(vn,{title:"",subtitle:" ",titleIcon:Tr,fields:[{label:"",value:Je(n.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),o.jsx(ei,{columns:3,children:s.map(l=>o.jsx(vn,{title:` #${l.wellNumber}`,subtitle:l.ownerName,titleIcon:X8,fields:[{label:"",value:l.region},{label:"",value:`${l.completionPercentage}%`,emphasis:!0}],onClick:()=>r(l.id),className:e===l.id?"ring-2 ring-primary":"",badges:[{label:l.status==="completed"?"":l.status==="in_progress"?" ":" ",variant:l.status==="completed"?"success":l.status==="in_progress"?"warning":"outline"}],compact:!0},l.id))})]}),e&&i&&o.jsx(ei,{columns:1,children:o.jsx(vn,{title:`  -  #${s.find(l=>l.id===e)?.wellNumber}`,titleIcon:$n,badges:[{label:Je(i.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:Je(i.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${a(i.laborCost||0,i.totalCost||1)}%`,color:"info"},{label:"",value:Je(i.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${a(i.materialCost||0,i.totalCost||1)}%`,color:"warning"},{label:"",value:Je(i.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${a(i.transportCost||0,i.totalCost||1)}%`,color:"danger"}]})}),!e&&s.length>0&&o.jsx(vn,{title:" ",subtitle:"    ",titleIcon:X8,fields:[{label:"",value:"  "}]}),s.length===0&&o.jsx(vn,{title:"  ",subtitle:"    ",titleIcon:Tr,fields:[{label:"",value:"   "}]})]})}function a3e(){const[e,r]=E.useState([]);E.useEffect(()=>(r(_m.getEvents()),_m.subscribe(n=>{r(i=>[n,...i].slice(0,50))})),[]);const t=n=>{switch(n){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},s=n=>{switch(n){case"error":return o.jsx(ti,{className:"w-4 h-4"});case"sync":return o.jsx(pi,{className:"w-4 h-4"});case"performance":return o.jsx(Pm,{className:"w-4 h-4"});default:return o.jsx(Pm,{className:"w-4 h-4"})}};return o.jsxs(ir,{className:"h-full flex flex-col",children:[o.jsxs(fs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs(xs,{className:"text-sm font-bold flex items-center gap-2",children:[o.jsx(pi,{className:"w-4 h-4 text-primary"}),"  "]}),o.jsx(At,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),o.jsx(br,{className:"flex-1 overflow-hidden p-0",children:o.jsx(Zo,{className:"h-[400px] px-4",children:o.jsx("div",{className:"space-y-3 py-4",children:e.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):e.map(n=>o.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${t(n.severity)}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[s(n.type),n.message]}),o.jsx("span",{className:"text-[10px] opacity-70",children:new Date(n.timestamp).toLocaleTimeString("ar-SA")})]}),n.actionTaken&&o.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[o.jsx(wn,{className:"w-3 h-3"}),": ",n.actionTaken]})]},n.id))})})})]})}const o3e=[" "," ","","","","",""," "],l3e=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function c3e(){zs();const{toast:e}=pn(),r=Ss(),{selectedProjectId:t}=Ko(),[s,n]=E.useState(null),[i,a]=E.useState(!1),[l,u]=E.useState({description:"",amount:"",status:"pending"}),[c]=E.useState(o3e),{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=y1({status:"all",region:"all"}),{data:y=[]}=xt({queryKey:ve.wellsByProject(t),queryFn:async()=>{if(!t)return[];try{const z=await H_("wells");if(z&&z.length>0)return z.filter(K=>K.projectId===t)}catch(z){console.warn("Local wells fetch failed",z)}return(await qe(`/wells?projectId=${t}`)).data||[]},enabled:!!t}),{data:m=[]}=xt({queryKey:ve.autocompleteTaskDescriptions(t),queryFn:async()=>{const $=await qe("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray($.data)?$.data:[]},enabled:!!t,staleTime:300*1e3}),{data:v=[]}=xt({queryKey:ve.wellTasks(s),queryFn:async()=>{if(!s)return[];try{const z=await H_("wellTasks");if(z&&z.length>0)return z.filter(K=>K.wellId===s)}catch(z){console.warn("Local tasks fetch failed",z)}return(await qe(`/api/wells/${s}/tasks`)).data||[]},enabled:!!s}),x=Pt({mutationFn:async $=>{if(!s)throw new Error("  ");return Yy("wellTasks","create",{...$,wellId:s,projectId:t,paidAmount:0,expectedAmount:parseFloat($.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${s}/tasks`)},onSuccess:()=>{e({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),a(!1),r.invalidateQueries({queryKey:ve.wellTasks(s)})},onError:$=>{e({title:"",description:$.message,variant:"destructive"})}}),k=Pt({mutationFn:async({taskId:$,status:z})=>Yy("wellTasks","update",{id:$,status:z},`/api/wells/tasks/${$}/status`),onSuccess:()=>{e({title:"",description:"    ()"}),r.invalidateQueries({queryKey:ve.wellTasks(s)})},onError:$=>{e({title:"",description:$.message,variant:"destructive"})}});Pt({mutationFn:async({taskId:$,amount:z})=>Yy("wellTaskAccounts","create",{taskId:$,amount:parseFloat(z)||0,projectId:t,createdAt:new Date().toISOString()},`/wells/tasks/${$}/account`),onSuccess:()=>{e({title:"",description:"   ()"}),r.invalidateQueries({queryKey:ve.wellTasks(s)})},onError:$=>{e({title:"",description:$.message,variant:"destructive"})}});const{summary:T,isLoading:A}=cp(),L=E.useMemo(()=>v.filter($=>$.status==="pending"),[v]),q=E.useMemo(()=>v.filter($=>$.status==="completed"),[v]),D=E.useMemo(()=>y.filter($=>{const z=$.ownerName.toLowerCase().includes(d.toLowerCase())||$.wellNumber.toString().includes(d),K=p.status==="all"||$.status===p.status,W=p.region==="all"||$.region===p.region;return z&&K&&W}),[y,d,p]);return o.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[o.jsx("div",{children:o.jsx(f5,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...c.map($=>({value:$,label:$}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:l3e,defaultValue:"all"}],filterValues:p,onFilterChange:h,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",D.length,")"]}),o.jsx(ei,{columns:s?2:4,children:D.map($=>o.jsx(vn,{title:` #${$.wellNumber}`,subtitle:$.ownerName,titleIcon:cl,badges:[{label:$.status==="pending"?" ":$.status==="in_progress"?" ":"",variant:$.status==="completed"?"success":$.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:$.region,icon:cl,color:"info"},{label:"",value:$.numberOfPanels,icon:Aa,color:"success"},{label:"",value:$.numberOfPipes,icon:Aa,color:"success"},{label:"",value:`${$.wellDepth}`,icon:$n,color:"warning"},{label:"",value:`${$.completionPercentage}%`,emphasis:!0,color:"info",icon:$n}],onClick:()=>n($.id),className:s===$.id?"ring-2 ring-primary":"",compact:!0},$.id))})]}),s&&o.jsxs(o.Fragment,{children:[o.jsx(ku,{title:" ",hideHeader:!1,stats:[{title:" ",value:Je(T?.totalBalance||0),icon:Tr,color:"blue"},{title:" ",value:v.length,icon:Un,color:"blue"},{title:" ",value:L.length,icon:Un,color:"amber",status:L.length>0?"warning":void 0},{title:" ",value:q.length,icon:wn,color:"green"}],columns:3,showStatus:!0}),o.jsxs(ei,{columns:4,children:[o.jsx(vn,{title:" ",titleIcon:Un,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),o.jsx(vn,{title:" ",titleIcon:Un,fields:[{label:"",value:L.length,emphasis:!0,color:"warning"}],compact:!0}),o.jsx(vn,{title:" ",titleIcon:wn,fields:[{label:"",value:q.length,emphasis:!0,color:"success"}],compact:!0}),o.jsxs(Ys,{open:i,onOpenChange:a,children:[o.jsx(Dh,{asChild:!0,children:o.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:o.jsxs(Ie,{className:"w-full h-20",variant:"outline",children:[o.jsx(vs,{className:"h-5 w-5 ml-2"})," "]})})}),o.jsxs($s,{className:"max-w-md",children:[o.jsx(Js,{children:o.jsx(hi,{children:"  "})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ye,{children:" "}),o.jsx(vt,{value:l.description,onChange:$=>u({...l,description:$.target.value}),placeholder:":  ",autoWidth:!0,maxWidth:400,className:"min-h-11"})]}),o.jsxs("div",{children:[o.jsx(Ye,{children:" "}),o.jsx(vt,{type:"number",value:l.amount,onChange:$=>u({...l,amount:$.target.value}),placeholder:"0",autoWidth:!0,maxWidth:150,className:"min-h-11"})]}),o.jsx(Ie,{onClick:()=>x.mutate(l),disabled:x.isPending,className:"w-full",children:x.isPending?"...":" "})]})]})]})]}),L.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(Un,{className:"h-5 w-5 text-yellow-600"}),"  (",L.length,")"]}),o.jsx(ei,{columns:1,children:L.map($=>o.jsx(vn,{title:$.description,subtitle:`: ${Je($.expectedAmount||0)}`,titleIcon:Un,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:Un,color:"warning"},{label:" ",value:Je($.expectedAmount||0),emphasis:!0,icon:Tr,color:"info"},{label:" ",value:Je($.paidAmount||0),icon:Tr,color:"success"}],actions:[{icon:wn,label:"",onClick:()=>k.mutate({taskId:$.id,status:"completed"}),color:"green"}],compact:!0},$.id))})]}),q.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(wn,{className:"h-5 w-5 text-green-600"}),"  (",q.length,")"]}),o.jsx(ei,{columns:1,children:q.map($=>o.jsx(vn,{title:$.description,subtitle:`: ${Je($.expectedAmount||0)}`,titleIcon:wn,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:wn,color:"success"},{label:" ",value:Je($.expectedAmount||0),emphasis:!0,icon:Tr,color:"info"},{label:" ",value:Je($.paidAmount||0),icon:Tr,color:"success"}],compact:!0},$.id))})]}),v.length===0&&o.jsx(vn,{title:"  ",subtitle:"  ",titleIcon:ti,fields:[{label:"",value:"   "}]})]})]}),o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsx(a3e,{})})]})})}function u3e(){const[e,r]=E.useState(eg()),[t,s]=E.useState(null),{data:n,isLoading:i,refetch:a}=xt({queryKey:ve.adminDataHealth});if(E.useEffect(()=>{const c=document.querySelector(".layout-header h1, .layout-header .text-lg");c&&(c.textContent="    ");const d=setInterval(()=>{r(eg())},2e3);return YX().then(s),()=>clearInterval(d)},[]),i)return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[o.jsx($se,{className:"h-12 w-12 text-primary animate-pulse"}),o.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const l=n?.data,u=t?.differences?.slice(0,5).map(c=>({name:c.table,central:100,local:Math.round(c.clientCount/(c.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return o.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(Fs,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),o.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.isOnline?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),o.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"relative flex h-2 w-2",children:o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),o.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),o.jsx("span",{className:"text-sm font-black font-mono",children:e.pendingCount})]}),o.jsxs(Ie,{onClick:()=>a(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[o.jsx(Ls,{className:`h-4 w-4 ${e.isSyncing?"animate-spin":""}`})," "]})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:l?.databases.map((c,d)=>o.jsxs(ir,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[o.jsx("div",{className:`h-1 w-full ${c.status==="online"||c.status==="active"?"bg-green-500":"bg-red-500"}`}),o.jsxs(fs,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-md ${c.status==="online"||c.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:c.name.includes("Central")?o.jsx(Pd,{className:"h-4 w-4"}):c.name.includes("Supabase")?o.jsx(uS,{className:"h-4 w-4"}):o.jsx(Em,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx(xs,{className:"text-sm font-bold",children:c.name}),o.jsx(ru,{className:"text-[10px] uppercase",children:c.status==="online"||c.status==="active"?"Active":c.status==="standby"?"Standby":"Disconnected"})]})]}),o.jsx(At,{variant:c.status==="online"||c.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:c.status==="online"||c.status==="active"?"":""})]}),o.jsx(br,{children:o.jsxs("div",{className:"space-y-3 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:c.latency}),o.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),o.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),o.jsx("span",{className:"font-bold",children:c.tablesCount})]}),o.jsxs("div",{className:"flex flex-col text-left",children:[o.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),o.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs(ir,{className:"border-none shadow-lg",children:[o.jsxs(fs,{children:[o.jsxs(xs,{className:"text-lg flex items-center gap-2 text-primary",children:[o.jsx(Tm,{className:"h-5 w-5"}),"  "]}),o.jsx(ru,{children:"      "})]}),o.jsxs(br,{children:[o.jsx("div",{className:"space-y-6",children:u.map((c,d)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:c.name}),o.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[o.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",c.central,"%"]}),o.jsxs("span",{className:"text-green-600",children:["LOCAL: ",c.local,"%"]})]})]}),o.jsx(ju,{value:c.local,className:"h-1.5"})]},d))}),o.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:o.jsx(Ql,{className:"h-5 w-5 text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),o.jsxs(ir,{className:"border-none shadow-lg",children:[o.jsxs(fs,{children:[o.jsxs(xs,{className:"text-lg flex items-center gap-2 text-primary",children:[o.jsx(pi,{className:"h-5 w-5"}),"  "]}),o.jsx(ru,{children:"    "})]}),o.jsxs(br,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),o.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[e.latency||0,"ms"]})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),o.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),o.jsx("div",{className:"text-xl font-black font-mono",children:l?.integrity.totalRecords.toLocaleString()})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),o.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:e.isOnline?"Cloud":"Edge"})]})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[o.jsx("span",{children:"   "}),o.jsx("span",{className:"text-green-500",children:"100%"})]}),o.jsx(ju,{value:100,className:"h-2 bg-green-500/20"}),o.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const m5=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:t,className:Ae("w-full caption-bottom text-sm",e),...r})}));m5.displayName="Table";const g5=E.forwardRef(({className:e,...r},t)=>o.jsx("thead",{ref:t,className:Ae("[&_tr]:border-b",e),...r}));g5.displayName="TableHeader";const y5=E.forwardRef(({className:e,...r},t)=>o.jsx("tbody",{ref:t,className:Ae("[&_tr:last-child]:border-0",e),...r}));y5.displayName="TableBody";const d3e=E.forwardRef(({className:e,...r},t)=>o.jsx("tfoot",{ref:t,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));d3e.displayName="TableFooter";const Bd=E.forwardRef(({className:e,...r},t)=>o.jsx("tr",{ref:t,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));Bd.displayName="TableRow";const la=E.forwardRef(({className:e,...r},t)=>o.jsx("th",{ref:t,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));la.displayName="TableHead";const Si=E.forwardRef(({className:e,...r},t)=>o.jsx("td",{ref:t,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));Si.displayName="TableCell";const f3e=E.forwardRef(({className:e,...r},t)=>o.jsx("caption",{ref:t,className:Ae("mt-4 text-sm text-muted-foreground",e),...r}));f3e.displayName="TableCaption";var b1="Tabs",[h3e]=mi(b1,[ap]),lQ=ap(),[p3e,b5]=h3e(b1),cQ=E.forwardRef((e,r)=>{const{__scopeTabs:t,value:s,onValueChange:n,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:u="automatic",...c}=e,d=sp(l),[p,f]=fo({prop:s,onChange:n,defaultProp:i??"",caller:b1});return o.jsx(p3e,{scope:t,baseId:Pa(),value:p,onValueChange:f,orientation:a,dir:d,activationMode:u,children:o.jsx(qt.div,{dir:d,"data-orientation":a,...c,ref:r})})});cQ.displayName=b1;var uQ="TabsList",dQ=E.forwardRef((e,r)=>{const{__scopeTabs:t,loop:s=!0,...n}=e,i=b5(uQ,t),a=lQ(t);return o.jsx(H6,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:o.jsx(qt.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});dQ.displayName=uQ;var fQ="TabsTrigger",hQ=E.forwardRef((e,r)=>{const{__scopeTabs:t,value:s,disabled:n=!1,...i}=e,a=b5(fQ,t),l=lQ(t),u=gQ(a.baseId,s),c=yQ(a.baseId,s),d=s===a.value;return o.jsx(K6,{asChild:!0,...l,focusable:!n,active:d,children:o.jsx(qt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...i,ref:r,onMouseDown:mt(e.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?a.onValueChange(s):p.preventDefault()}),onKeyDown:mt(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(s)}),onFocus:mt(e.onFocus,()=>{const p=a.activationMode!=="manual";!d&&!n&&p&&a.onValueChange(s)})})})});hQ.displayName=fQ;var pQ="TabsContent",mQ=E.forwardRef((e,r)=>{const{__scopeTabs:t,value:s,forceMount:n,children:i,...a}=e,l=b5(pQ,t),u=gQ(l.baseId,s),c=yQ(l.baseId,s),d=s===l.value,p=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(js,{present:n||d,children:({present:f})=>o.jsx(qt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:c,tabIndex:0,...a,ref:r,style:{...e.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});mQ.displayName=pQ;function gQ(e,r){return`${e}-trigger-${r}`}function yQ(e,r){return`${e}-content-${r}`}var m3e=cQ,bQ=dQ,vQ=hQ,xQ=mQ;const wQ=m3e,v5=E.forwardRef(({className:e,...r},t)=>o.jsx(bQ,{ref:t,className:Ae("inline-flex h-12 items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-50 p-1.5 text-muted-foreground shadow-inner backdrop-blur-sm border border-gray-200/50","dark:from-gray-800 dark:to-gray-900 dark:border-gray-700/50","transition-all duration-300 ease-in-out",e),...r}));v5.displayName=bQ.displayName;const no=E.forwardRef(({className:e,children:r,...t},s)=>o.jsx(vQ,{ref:s,className:Ae("relative inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2.5 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","hover:bg-white/80 hover:text-foreground hover:shadow-sm hover:scale-105","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/20","data-[state=active]:border data-[state=active]:border-blue-200/50","dark:hover:bg-gray-700/80 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:border-gray-600/50","before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-blue-500/0 before:to-purple-500/0","data-[state=active]:before:from-blue-500/10 data-[state=active]:before:to-purple-500/10","transform-gpu backface-visibility-hidden",e),...t,children:o.jsx(xn.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.2},className:"relative z-10 flex items-center gap-2",children:r})}));no.displayName=vQ.displayName;const so=E.forwardRef(({className:e,children:r,animationKey:t,...s},n)=>o.jsx(xQ,{ref:n,className:Ae("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","min-h-[200px]",e),...s,children:o.jsx(Um,{mode:"wait",children:o.jsx(xn.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.3,ease:[.4,0,.2,1]},className:"transform-gpu",children:r},t||s.value)})}));so.displayName=xQ.displayName;function g3e(){const{toast:e}=pn(),[r,t]=E.useState("overview"),[s,n]=E.useState(null),[i,a]=E.useState("size"),[l,u]=E.useState(""),[c,d]=E.useState("active"),p=async ge=>{let Ee=(localStorage.getItem("accessToken")||localStorage.getItem("token"))?.trim()||"";Ee.startsWith('"')&&Ee.endsWith('"')&&(Ee=Ee.slice(1,-1));const Oe=await fetch(ge,{headers:{Authorization:`Bearer ${Ee}`,"x-auth-token":Ee,"x-access-token":Ee}});if(!Oe.ok){const Le=await Oe.json().catch(()=>({}));throw new Error(Le.message||"   ")}return Oe.json()},{data:f,isLoading:h}=xt({queryKey:ve.dbConnections,queryFn:()=>p("/api/db/connections")}),g=c!=="active"?`/api/db/overview?source=${c}`:"/api/db/overview",{data:y,isLoading:m,refetch:v,error:x}=xt({queryKey:[g],queryFn:()=>p(g),retry:!1}),k=c!=="active"?`/api/db/tables?source=${c}`:"/api/db/tables",{data:T,isLoading:A,refetch:L,error:q}=xt({queryKey:[k],queryFn:()=>p(k),retry:!1}),D=c!=="active"?`/api/db/performance?source=${c}`:"/api/db/performance",{data:$,isLoading:z,refetch:K}=xt({queryKey:[D],queryFn:()=>p(D),retry:!1}),W=c!=="active"?`/api/db/integrity?source=${c}`:"/api/db/integrity",{data:P,isLoading:R,refetch:C}=xt({queryKey:[W],queryFn:()=>p(W),retry:!1}),_=x||q,[S,j]=E.useState("local"),[N,M]=E.useState("supabase"),O=`/api/db/compare?source1=${S}&source2=${N}`,{data:B,isLoading:G,refetch:Q}=xt({queryKey:[O],queryFn:()=>p(O),enabled:r==="compare"&&!!S&&!!N}),{data:re}=xt({queryKey:ve.dbStats,queryFn:()=>p("/api/stats")}),F=Pt({mutationFn:async({action:ge,tableName:ke})=>(await qe("POST","/api/db/maintenance",{action:ge,tableName:ke})).json(),onSuccess:ge=>{const ke=ge?.data;e({title:ke?.success?"  ":" ",description:ke?.message||" ",variant:ke?.success?"default":"destructive"}),Y()},onError:ge=>{e({title:"",description:ge.message,variant:"destructive"})}}),Y=()=>{v(),L(),K(),C()},V=Array.isArray(f)?f:f?.data||[],U=y&&typeof y=="object"&&!Array.isArray(y)?y:null,Z=Array.isArray(T)?T:T?.data||[],ie=$&&typeof $=="object"&&!Array.isArray($)?$:null,me=P&&typeof P=="object"&&!Array.isArray(P)?P:null,ce=re&&typeof re=="object"?re:null,ye=B&&typeof B=="object"&&!Array.isArray(B)?B:null,ee=Z.filter(ge=>ge.name.toLowerCase().includes(l.toLowerCase())).sort((ge,ke)=>i==="size"?ke.totalSizeBytes-ge.totalSizeBytes:i==="rows"?ke.rowCount-ge.rowCount:ge.name.localeCompare(ke.name)),oe=Z.reduce((ge,ke)=>ge+ke.rowCount,0),ne=Z.reduce((ge,ke)=>ge+ke.totalSizeBytes,0),fe=me?.score??0,le=ye?.alerts?.length||0,ae=ye?.alerts?.filter(ge=>ge.severity==="critical")?.length||0,te=E.useMemo(()=>[{items:[{key:"connections",label:"",value:V.filter(ge=>ge.connected).length+"/"+V.length,icon:Sd,color:V.filter(ge=>ge.connected).length===V.length?"emerald":"amber"},{key:"tables",label:"",value:m?0:U?.totalTables||0,icon:xk,color:"blue"},{key:"records",label:"",value:m?0:U?.totalRows||oe,icon:pa,color:"green"},{key:"size",label:"",value:m?"0 B":U?.size||"0 B",icon:Em,color:"purple"},{key:"integrity",label:"",value:R?"...":`${fe}%`,icon:Ql,color:fe>=90?"emerald":fe>=75?"amber":"red"}],columns:5,gap:"md"}],[U,m,fe,R,oe,V]),se=[{key:"db-refresh",icon:Ls,label:"",onClick:Y,variant:"outline",loading:m}],de=[{key:"sort",label:"",type:"select",options:[{value:"size",label:""},{value:"rows",label:""},{value:"name",label:""}],defaultValue:"size"}];return o.jsxs("div",{className:"space-y-4",dir:"rtl",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs(es,{value:c,onValueChange:d,"data-testid":"select-db-source",children:[o.jsx(Wn,{className:"w-[220px]","data-testid":"trigger-db-source",children:o.jsxs("div",{className:"flex items-center gap-2",children:[c==="active"&&o.jsx(LR,{className:"h-3.5 w-3.5 text-blue-500"}),c==="local"&&o.jsx(tT,{className:"h-3.5 w-3.5 text-emerald-500"}),c==="supabase"&&o.jsx(Q8,{className:"h-3.5 w-3.5 text-violet-500"}),o.jsx(ts,{placeholder:"  "})]})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"active",children:" ()"}),V.map(ge=>o.jsx(zt,{value:ge.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[ge.connected?o.jsx(Sd,{className:"h-3 w-3 text-emerald-500"}):o.jsx(qf,{className:"h-3 w-3 text-red-500"}),ge.label]})},ge.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[V.map(ge=>o.jsxs(At,{variant:ge.connected?"default":"destructive",className:"text-[11px]","data-testid":`badge-conn-${ge.id}`,children:[ge.connected?o.jsx(Sd,{className:"h-3 w-3 ml-1"}):o.jsx(qf,{className:"h-3 w-3 ml-1"}),ge.id==="local"?"":"",ge.connected&&ge.tables>0&&` (${ge.tables})`]},ge.id)),le>0&&o.jsxs(At,{variant:"destructive",className:"text-[11px] cursor-pointer",onClick:()=>t("compare"),"data-testid":"badge-alerts-count",children:[o.jsx(Ta,{className:"h-3 w-3 ml-1"}),ae>0?`${ae}  `:`${le} `]})]})]}),o.jsx(bo,{hideHeader:!0,statsRows:te,searchValue:l,onSearchChange:u,searchPlaceholder:"  ...",showSearch:r==="tables",actions:se,onRefresh:Y,isRefreshing:m,filters:r==="tables"?de:[],filterValues:{sort:i},onFilterChange:(ge,ke)=>{ge==="sort"&&a(ke)},onReset:()=>{u(""),a("size")},resultsSummary:r==="tables"&&Z.length>0?{totalCount:Z.length,filteredCount:ee.length,totalLabel:"",filteredLabel:"",totalValue:i9(ne),totalValueLabel:" ",unit:"",categoryBreakdown:[{label:"",value:oe,unit:""},{label:"",value:0,unit:i9(ne)}],showBreakdown:!0}:void 0}),_&&c!=="active"&&o.jsx(ir,{children:o.jsx(br,{className:"py-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-amber-600 dark:text-amber-400",children:[o.jsx(qf,{className:"h-5 w-5 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:"   "}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   .        ."})]}),o.jsx(Ie,{variant:"outline",size:"sm",className:"mr-auto shrink-0",onClick:()=>d("active"),"data-testid":"button-reset-source",children:" "})]})})}),o.jsxs(wQ,{value:r,onValueChange:t,className:"w-full",children:[o.jsxs(v5,{className:"w-full grid grid-cols-6 h-10","data-testid":"tabs-db-manager",children:[o.jsxs(no,{value:"overview",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-overview",children:[o.jsx(ll,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{className:"hidden sm:inline",children:" "}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs(no,{value:"tables",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-tables",children:[o.jsx(xk,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{children:""})]}),o.jsxs(no,{value:"compare",className:"gap-1 text-xs sm:text-sm relative","data-testid":"tab-compare",children:[o.jsx(Ib,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""}),le>0&&o.jsx("span",{className:"absolute -top-1 -left-1 h-4 w-4 rounded-full bg-red-500 text-white text-[9px] flex items-center justify-center",children:le>9?"9+":le})]}),o.jsxs(no,{value:"integrity",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-integrity",children:[o.jsx(Ql,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs(no,{value:"performance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-performance",children:[o.jsx(Fs,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{children:""})]}),o.jsxs(no,{value:"maintenance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-maintenance",children:[o.jsx(Aa,{className:"h-3.5 w-3.5 shrink-0"})," ",o.jsx("span",{children:""})]})]}),o.jsxs(so,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[V.map(ge=>o.jsxs(ir,{"data-testid":`card-connection-${ge.id}`,children:[o.jsx(fs,{className:"pb-3",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[ge.id==="local"?o.jsx(tT,{className:"h-4 w-4"}):o.jsx(Q8,{className:"h-4 w-4"}),ge.label,ge.connected?o.jsx(At,{variant:"default",className:"mr-auto text-[10px]",children:""}):o.jsx(At,{variant:"destructive",className:"mr-auto text-[10px]",children:" "})]})}),o.jsx(br,{children:ge.connected?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fi,{label:" ",value:ge.dbName}),o.jsx(Fi,{label:"",value:ge.version}),o.jsx(Fi,{label:"",value:ge.size}),o.jsx(Fi,{label:"",value:ge.tables}),o.jsx(Fi,{label:"",value:ge.rows?.toLocaleString()}),ge.latency&&o.jsx(Fi,{label:" ",value:ge.latency})]}):o.jsxs("div",{className:"flex flex-col items-center py-6 text-muted-foreground",children:[o.jsx(qf,{className:"h-8 w-8 mb-2 opacity-40"}),o.jsx("p",{className:"text-sm",children:" "})]})})]},ge.id)),o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-3",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Pd,{className:"h-4 w-4"})," "]})}),o.jsx(br,{className:"space-y-2",children:m?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(an,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):U?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fi,{label:" ",value:U.name}),o.jsx(Fi,{label:"",value:U.version}),o.jsx(Fi,{label:"",value:U.size}),o.jsx(Fi,{label:"",value:U.totalTables}),o.jsx(Fi,{label:"",value:(U.totalRows||0).toLocaleString()}),o.jsx(Fi,{label:"",value:U.totalIndexes}),o.jsx(Fi,{label:" ",value:typeof U.uptime=="object"?`${U.uptime.days||0}  ${U.uptime.hours||0} `:U.uptime}),o.jsx(Fi,{label:"",value:`${U.activeConnections} / ${U.maxConnections}`})]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"  "})})]})]}),o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-3",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Fs,{className:"h-4 w-4"})," "]})}),o.jsx(br,{className:"space-y-4",children:ce?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"font-medium",children:[ce.cpuUsage,"%"]})]}),o.jsx(ju,{value:ce.cpuUsage,className:"h-2"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"font-medium",children:[ce.memoryUsage,"%"]})]}),o.jsx(ju,{value:ce.memoryUsage,className:"h-2"})]}),ce.memoryDetails&&o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Heap"}),o.jsxs("p",{className:"font-medium",children:[ce.memoryDetails.heapUsed," MB"]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"RSS"}),o.jsxs("p",{className:"font-medium",children:[ce.memoryDetails.rss," MB"]})]})]}),o.jsx(Fi,{label:" ",value:w3e(ce.uptime)})]}):o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(an,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}),ie&&o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-3",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(pi,{className:"h-4 w-4"})," "]})}),o.jsx(br,{children:o.jsx(s9,{perf:ie})})]})]})]}),o.jsx(so,{value:"tables",className:"space-y-4 mt-4",children:o.jsx(ir,{children:o.jsx(br,{className:"p-0",children:A?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(an,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):o.jsxs(m5,{children:[o.jsx(g5,{children:o.jsxs(Bd,{children:[o.jsx(la,{className:"text-right",children:""}),o.jsx(la,{className:"text-center",children:""}),o.jsx(la,{className:"text-center",children:""}),o.jsx(la,{className:"text-center",children:""}),o.jsx(la,{className:"text-center",children:""}),o.jsx(la,{className:"text-center",children:""})]})}),o.jsx(y5,{children:ee.length>0?ee.map(ge=>o.jsx(x3e,{table:ge,source:c,expanded:s===ge.name,onToggle:()=>n(s===ge.name?null:ge.name),onMaintenance:ke=>F.mutate({action:ke,tableName:ge.name}),isMaintenanceLoading:F.isPending,fetchWithAuth:p},ge.name)):o.jsx(Bd,{children:o.jsxs(Si,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[o.jsx(Bo,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),l?"  ":"  "]})})})]})})})}),o.jsx(so,{value:"compare",className:"space-y-4 mt-4",children:o.jsx(y3e,{data:ye,loading:G,onRefresh:()=>Q(),connections:V,source1:S,source2:N,onSource1Change:j,onSource2Change:M})}),o.jsx(so,{value:"integrity",className:"space-y-4 mt-4",children:o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Ql,{className:"h-4 w-4"}),"  "]}),o.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>C(),"data-testid":"button-recheck-integrity",children:[o.jsx(Ls,{className:`h-4 w-4 ml-1 ${R?"animate-spin":""}`})," "]})]})}),o.jsx(br,{children:R?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(an,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):me?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:`text-5xl font-bold ${fe>=90?"text-emerald-600 dark:text-emerald-400":fe>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[me.score,"%"]}),o.jsxs("div",{children:[o.jsx(At,{variant:me.status==="excellent"?"default":me.status==="good"?"secondary":"destructive",children:me.status==="excellent"?"":me.status==="good"?"":me.status==="warning"?"":""}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" : ",new Date(me.timestamp).toLocaleString("ar-SA")]})]})]}),o.jsx("div",{className:"space-y-3",children:me.checks?.map((ge,ke)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[ge.status==="pass"?o.jsx(wn,{className:"h-5 w-5 text-emerald-500 mt-0.5 shrink-0"}):ge.status==="warn"?o.jsx(sc,{className:"h-5 w-5 text-yellow-500 mt-0.5 shrink-0"}):o.jsx(sc,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:ge.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:ge.message})]})]},ke))})]}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),o.jsx(so,{value:"performance",className:"space-y-4 mt-4",children:o.jsxs(ir,{children:[o.jsxs(fs,{className:"pb-3",children:[o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Fs,{className:"h-4 w-4"})," "]}),o.jsx(ru,{children:"    PostgreSQL"})]}),o.jsx(br,{children:z?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(an,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):ie?o.jsxs("div",{className:"space-y-4",children:[o.jsx(s9,{perf:ie,extended:!0}),o.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[o.jsx("p",{className:"text-xs font-medium mb-2",children:" "}),o.jsxs("div",{className:"flex gap-4 flex-wrap text-xs",children:[o.jsxs("span",{children:["  : ",o.jsx("strong",{children:ie.blocksRead?.toLocaleString()})]}),o.jsxs("span",{children:["  : ",o.jsx("strong",{children:ie.blocksHit?.toLocaleString()})]})]})]})]}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),o.jsx(so,{value:"maintenance",className:"space-y-4 mt-4",children:o.jsxs(ir,{children:[o.jsxs(fs,{className:"pb-3",children:[o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Aa,{className:"h-4 w-4"}),"  "]}),o.jsx(ru,{children:"  "})]}),o.jsx(br,{className:"space-y-4",children:o.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[o.jsx(s_,{title:" ",description:"    ",action:"vacuum",icon:o.jsx(Ls,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"vacuum"}),isLoading:F.isPending}),o.jsx(s_,{title:" ",description:"  ",action:"analyze",icon:o.jsx(ll,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"analyze"}),isLoading:F.isPending}),o.jsx(s_,{title:"  ",description:"    ",action:"reindex",icon:o.jsx(Wh,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"reindex"}),isLoading:F.isPending})]})})]})})]})]})}function y3e({data:e,loading:r,onRefresh:t,connections:s,source1:n,source2:i,onSource1Change:a,onSource2Change:l}){const u=s.filter(d=>d.connected),c=!n||!i;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-3",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Ib,{className:"h-4 w-4"}),"  "]})}),o.jsxs(br,{children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"flex-1 min-w-[150px]",children:[o.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),o.jsxs(es,{value:n,onValueChange:a,"data-testid":"select-compare-source1",children:[o.jsx(Wn,{"data-testid":"select-trigger-source1",children:o.jsx(ts,{placeholder:"  "})}),o.jsx(qn,{children:u.map(d=>o.jsxs(zt,{value:d.id,disabled:d.id===i,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),o.jsx(tu,{className:"h-5 w-5 text-muted-foreground mt-4 shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-[150px]",children:[o.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),o.jsxs(es,{value:i,onValueChange:l,"data-testid":"select-compare-source2",children:[o.jsx(Wn,{"data-testid":"select-trigger-source2",children:o.jsx(ts,{placeholder:"  "})}),o.jsx(qn,{children:u.map(d=>o.jsxs(zt,{value:d.id,disabled:d.id===n,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),o.jsxs(Ie,{variant:"default",size:"default",onClick:t,disabled:c||r,className:"mt-4","data-testid":"button-run-compare",children:[r?o.jsx(an,{className:"h-4 w-4 animate-spin ml-1"}):o.jsx(Ib,{className:"h-4 w-4 ml-1"}),""]})]}),u.length<2&&o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:"        "})]})]}),r&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-3"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]})}),!r&&c&&o.jsx(ir,{children:o.jsxs(br,{className:"py-12 text-center",children:[o.jsx(tu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"         "})]})}),!r&&!c&&!e&&o.jsx(ir,{children:o.jsxs(br,{className:"py-12 text-center",children:[o.jsx(tu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"       "}),o.jsxs(Ie,{variant:"outline",onClick:t,"data-testid":"button-retry-compare",children:[o.jsx(Ls,{className:"h-4 w-4 ml-1"})," "]})]})}),!r&&e&&o.jsx(b3e,{data:e,onRefresh:t})]})}function b3e({data:e,onRefresh:r}){const t=e.source1Name||" ",s=e.source2Name||" ",n=(e.tablesWithDiffRows||0)+(e.tablesWithDiffStructure||0)+(e.onlySource1Tables||0)+(e.onlySource2Tables||0);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ib,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:[t," ",o.jsx(tu,{className:"h-3 w-3 inline mx-1"})," ",s]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" : ",new Date(e.timestamp).toLocaleString("ar-SA")]}),o.jsxs(Ie,{variant:"outline",size:"sm",onClick:r,"data-testid":"button-refresh-compare",children:[o.jsx(Ls,{className:"h-3.5 w-3.5 ml-1"}),""]})]})]}),o.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-5",children:[o.jsx(Jp,{label:"",value:e.matchingTables,color:"emerald"}),o.jsx(Jp,{label:" ",value:e.tablesWithDiffRows,color:e.tablesWithDiffRows>0?"amber":"emerald"}),o.jsx(Jp,{label:" ",value:e.tablesWithDiffStructure,color:e.tablesWithDiffStructure>0?"red":"emerald"}),o.jsx(Jp,{label:`${t} `,value:e.onlySource1Tables||0,color:(e.onlySource1Tables||0)>0?"amber":"emerald"}),o.jsx(Jp,{label:`${s} `,value:e.onlySource2Tables||0,color:(e.onlySource2Tables||0)>0?"amber":"emerald"})]}),e.alerts?.length>0&&o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-2",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(Ta,{className:"h-4 w-4"})," (",e.alerts.length,")"]})}),o.jsx(br,{className:"space-y-2",children:e.alerts.map((i,a)=>o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i.severity==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50":i.severity==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50"}`,"data-testid":`alert-${i.type}-${a}`,children:[i.severity==="critical"?o.jsx(sc,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}):i.severity==="warning"?o.jsx(sc,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}):o.jsx(LR,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(At,{variant:i.severity==="critical"?"destructive":i.severity==="warning"?"secondary":"outline",className:"text-[10px]",children:i.severity==="critical"?"":i.severity==="warning"?"":""}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:i.table})]}),o.jsx("p",{className:"text-sm mt-1",children:i.message})]})]},a))})]}),o.jsxs(ir,{children:[o.jsx(fs,{className:"pb-2",children:o.jsxs(xs,{className:"text-base flex items-center gap-2",children:[o.jsx(xk,{className:"h-4 w-4"}),"  (",e.tables?.length||0,")"]})}),o.jsx(br,{className:"p-0",children:o.jsxs(m5,{children:[o.jsx(g5,{children:o.jsxs(Bd,{children:[o.jsx(la,{className:"text-right",children:""}),o.jsx(la,{className:"text-center",children:""}),o.jsxs(la,{className:"text-center",children:[t," ()"]}),o.jsxs(la,{className:"text-center",children:[s," ()"]}),o.jsx(la,{className:"text-center",children:""}),o.jsxs(la,{className:"text-center",children:[t," ()"]}),o.jsxs(la,{className:"text-center",children:[s," ()"]})]})}),o.jsx(y5,{children:e.tables?.map(i=>o.jsxs(Bd,{className:i.status==="diff_structure"?"bg-red-50/50 dark:bg-red-900/10":i.status==="only_source1"||i.status==="only_source2"?"bg-amber-50/50 dark:bg-amber-900/10":i.status==="diff_rows"?"bg-yellow-50/50 dark:bg-yellow-900/10":"","data-testid":`compare-row-${i.name}`,children:[o.jsx(Si,{className:"font-mono text-xs",children:i.name}),o.jsx(Si,{className:"text-center",children:o.jsx(v3e,{status:i.status,s1Name:t,s2Name:s})}),o.jsx(Si,{className:"text-center font-mono text-xs",children:i.source1Rows!==null&&i.source1Rows!==void 0?i.source1Rows.toLocaleString():o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(Si,{className:"text-center font-mono text-xs",children:i.source2Rows!==null&&i.source2Rows!==void 0?i.source2Rows.toLocaleString():o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(Si,{className:"text-center",children:i.rowDiff>0?o.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["+",i.rowDiff.toLocaleString()]}):o.jsx(wn,{className:"h-4 w-4 text-emerald-500 mx-auto"})}),o.jsx(Si,{className:"text-center text-xs",children:i.source1Size||"-"}),o.jsx(Si,{className:"text-center text-xs",children:i.source2Size||"-"})]},i.name))})]})})]}),n===0&&e.tables?.length>0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(wn,{className:"h-12 w-12 text-emerald-500 mx-auto mb-3"}),o.jsx("p",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400",children:"   "}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"     "})]})]})}function Jp({label:e,value:r,color:t}){const s=_Q(t);return o.jsxs("div",{className:`rounded-xl border p-3 ${s.bg} ${s.border}`,children:[o.jsx("p",{className:"text-[11px] text-muted-foreground",children:e}),o.jsx("p",{className:`text-2xl font-bold ${s.text}`,children:r})]})}function v3e({status:e}){switch(e){case"match":return o.jsx(At,{variant:"default",className:"text-[10px] bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",children:""});case"diff_rows":return o.jsx(At,{variant:"secondary",className:"text-[10px] bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",children:" "});case"diff_structure":return o.jsx(At,{variant:"destructive",className:"text-[10px]",children:" "});case"only_source1":return o.jsx(At,{variant:"outline",className:"text-[10px] border-blue-200 text-blue-600 uppercase",children:"  "});case"only_source2":return o.jsx(At,{variant:"outline",className:"text-[10px] border-violet-200 text-violet-600 uppercase",children:"  "});default:return o.jsx(At,{variant:"outline",className:"text-[10px]",children:e})}}function Fi({label:e,value:r}){return o.jsxs("div",{className:"flex justify-between items-center gap-2 py-1.5 border-b border-muted/50 last:border-0",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:e}),o.jsx("span",{className:"text-sm font-medium",children:r})]})}function s9({perf:e,extended:r}){const t=E.useMemo(()=>{const s=[{key:"cache",label:"  ",value:`${e.cacheHitRatio}%`,icon:pi,color:e.cacheHitRatio>95?"emerald":e.cacheHitRatio>80?"amber":"red"},{key:"committed",label:" ",value:e.transactionsCommitted?.toLocaleString()||"0",icon:wn,color:"green"},{key:"rolledback",label:"",value:e.transactionsRolledBack?.toLocaleString()||"0",icon:sc,color:e.transactionsRolledBack>10?"red":"emerald"},{key:"dead",label:" ",value:e.deadTuples?.toLocaleString()||"0",icon:pa,color:e.deadTuples>1e3?"red":"emerald"}];return r&&(s.splice(1,0,{key:"avgquery",label:"  ",value:e.avgQueryTime>0?`${e.avgQueryTime} ms`:" ",icon:Fs,color:"blue"}),s.push({key:"live",label:" ",value:e.liveTuples?.toLocaleString()||"0",icon:pa,color:"blue"})),[{items:s,columns:r?6:4,gap:"md"}]},[e,r]);return o.jsx("div",{children:t.map((s,n)=>o.jsx("div",{className:`grid gap-3 ${r?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-2 md:grid-cols-4"}`,children:s.items.map(i=>{const a=_Q(i.color);return o.jsxs("div",{className:`rounded-xl border p-3 ${a.bg} ${a.border}`,children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[o.jsx(i.icon,{className:`h-3.5 w-3.5 ${a.icon}`}),o.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:i.label})]}),o.jsx("p",{className:`text-lg font-bold ${a.text}`,children:i.value})]},i.key)})},n))})}function _Q(e){const r={emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500"},blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-amber-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500"}};return r[e]||r.blue}function x3e({table:e,source:r,expanded:t,onToggle:s,onMaintenance:n,isMaintenanceLoading:i}){const[a,l]=E.useState(null),[u,c]=E.useState(!1),d=async()=>{if(a){s();return}c(!0);try{const p=r!=="active"?`?source=${r}`:"",f=await fetchWithAuth(`/api/db/tables/${e.name}${p}`);l(f?.data)}catch(p){console.error("Error loading table details:",p)}c(!1),s()};return o.jsxs(o.Fragment,{children:[o.jsxs(Bd,{className:"hover-elevate cursor-pointer",onClick:d,"data-testid":`row-table-${e.name}`,children:[o.jsx(Si,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fi,{className:"h-4 w-4 text-muted-foreground shrink-0"}),o.jsx("span",{className:"font-mono text-xs",children:e.name})]})}),o.jsx(Si,{className:"text-center font-mono",children:e.rowCount.toLocaleString()}),o.jsx(Si,{className:"text-center text-xs",children:e.totalSize}),o.jsx(Si,{className:"text-center",children:e.columns}),o.jsx(Si,{className:"text-center",children:e.indexes}),o.jsx(Si,{className:"text-center",children:u?o.jsx(an,{className:"h-4 w-4 animate-spin mx-auto"}):t?o.jsx(Lo,{className:"h-4 w-4 mx-auto"}):o.jsx(Bn,{className:"h-4 w-4 mx-auto"})})]}),t&&a&&o.jsx(Bd,{children:o.jsx(Si,{colSpan:6,className:"bg-muted/20 p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.columns?.length||0,")"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:a.columns?.map((p,f)=>o.jsxs("div",{className:"flex items-center gap-1.5 text-xs p-1 rounded bg-background",children:[o.jsx(Rse,{className:"h-3 w-3 text-muted-foreground shrink-0"}),o.jsx("span",{className:"font-mono",children:p.column_name}),o.jsx(At,{variant:"secondary",className:"text-[10px] px-1 py-0",children:p.data_type}),p.is_nullable==="NO"&&o.jsx(At,{variant:"outline",className:"text-[10px] px-1 py-0",children:""})]},f))})]}),a.indexes?.length>0&&o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",a.indexes.length,")"]}),o.jsx("div",{className:"space-y-1",children:a.indexes.map((p,f)=>o.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-background p-1 rounded",children:p.indexname},f))})]}),o.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[o.jsx(Ie,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),n("vacuum")},disabled:i,"data-testid":`button-vacuum-${e.name}`,children:""}),o.jsx(Ie,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),n("analyze")},disabled:i,"data-testid":`button-analyze-${e.name}`,children:""})]})]})})})]})}function s_({title:e,description:r,action:t,icon:s,onRun:n,isLoading:i}){return o.jsx(ir,{children:o.jsxs(br,{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-muted-foreground",children:s}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),o.jsxs(Ie,{variant:"outline",size:"sm",className:"w-full",onClick:n,disabled:i,"data-testid":`button-maintenance-${t}`,children:[i?o.jsx(an,{className:"h-4 w-4 animate-spin ml-1"}):null,""]})]})})}function i9(e){if(e===0)return"0 B";const r=1024,t=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,s)).toFixed(2))+" "+t[s]}function w3e(e){const r=Math.floor(e/86400),t=Math.floor(e%86400/3600),s=Math.floor(e%3600/60);return r>0?`${r}  ${t} `:t>0?`${t}  ${s} `:`${s} `}function kQ(e){const{title:r,message:t,variant:s="default",duration:n=5e3,action:i}=e,l=(c=>{switch(c){case"success":return"";case"destructive":return"";case"warning":return"";default:return""}})(s),u=r?`${l} ${r}`:`${l} `;return sS({title:u,description:t,variant:s,duration:n,action:i?{altText:i.label,onClick:i.onClick,children:i.label}:void 0})}function i_(e,r){return kQ({title:"",message:e,variant:"success"})}function Oc(e,r){return kQ({title:"",message:e,variant:"destructive"})}const _3e={safety:sc,task:zo,payroll:Yse,announcement:Pm,system:Ta},a9={safety:"text-red-600 bg-gradient-to-r from-red-50 to-red-100",task:"text-blue-600 bg-gradient-to-r from-blue-50 to-blue-100",payroll:"text-green-600 bg-gradient-to-r from-green-50 to-green-100",announcement:"text-purple-600 bg-gradient-to-r from-purple-50 to-purple-100",system:"text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100"},o9={1:{label:"",color:"bg-gradient-to-r from-red-500 to-red-600"},2:{label:"",color:"bg-gradient-to-r from-orange-500 to-orange-600"},3:{label:"",color:"bg-gradient-to-r from-yellow-500 to-yellow-600"},4:{label:"",color:"bg-gradient-to-r from-blue-500 to-blue-600"},5:{label:"",color:"bg-gradient-to-r from-gray-500 to-gray-600"}};function k3e({className:e}){const[r,t]=E.useState([]),[s,n]=E.useState(0),[i,a]=E.useState(!1),[l,u]=E.useState(!1),[,c]=zs(),d=async()=>{u(!0);try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -   "),u(!1);return}const m=await fetch("/api/notifications?limit=50",{headers:{Authorization:`Bearer ${y}`}});if(m.ok){const v=await m.json();if(console.log(" [NotificationCenter]  API:",v),v.success&&Array.isArray(v.data)){const x=v.data.map(k=>({id:k.id,type:k.type||"system",title:k.title,message:k.message,priority:k.priority==="critical"?1:k.priority==="high"?2:k.priority==="medium"?3:k.priority==="low"?4:5,createdAt:k.createdAt,isRead:k.status==="read",actionRequired:k.actionRequired||!1}));t(x),n(v.unreadCount||0),console.log(" [NotificationCenter]    :",x.length)}else Array.isArray(v)&&(t(v.map(x=>({...x,isRead:x.status==="read"}))),n(v.filter(x=>x.status!=="read").length))}else console.error("   "),t([{id:"system-welcome",type:"system",title:" ",message:"    AXION SYSTEM",priority:3,createdAt:new Date().toISOString(),isRead:!1}]),n(1)}catch(y){console.error("   :",y)}finally{u(!1)}},p=async y=>{try{const m=localStorage.getItem("accessToken");if(!m){console.warn("    -     "),Oc("       .");return}(await fetch(`/api/notifications/${y}/read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}})).ok?(t(x=>x.map(k=>k.id===y?{...k,isRead:!0}:k)),n(x=>Math.max(0,x-1)),i_("   .")):Oc("    .")}catch(m){console.error("    :",m),Oc("     .")}},f=async()=>{try{const y=localStorage.getItem("accessToken");if(!y)return;(await fetch("/api/notifications/bulk-delete-suspicious",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),i_("     .")):Oc("    .")}catch(y){console.error("   :",y),Oc("   .")}},h=async()=>{try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -     "),Oc("        .");return}(await fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(await d(),i_("    .")):Oc("     .")}catch(y){console.error("     :",y),Oc("      .")}};E.useEffect(()=>{d();const y=setInterval(d,3e4);return()=>clearInterval(y)},[]);const g=y=>{const m=new Date(y),x=(new Date().getTime()-m.getTime())/(1e3*60*60);return x<1?` ${Math.floor(x*60)} `:x<24?` ${Math.floor(x)} `:` ${Math.floor(x/24)} `};return o.jsxs(r1,{open:i,onOpenChange:a,children:[o.jsx(n1,{asChild:!0,children:o.jsxs(Ie,{variant:"outline",size:"icon",className:Ae("relative h-9 w-9 rounded-xl transition-all duration-300 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800",e),"data-testid":"notification-bell",children:[o.jsx(Ta,{className:Ae("h-4 w-4 transition-all duration-300",s>0?"text-primary":"text-slate-600 dark:text-slate-400")}),s>0&&o.jsx(At,{className:"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center font-bold bg-red-500 text-white border-white dark:border-slate-900 border-2 shadow-sm z-10","data-testid":"notification-badge",children:s>99?"99+":s})]})}),o.jsxs(l0,{className:"w-80 sm:w-96 p-0 border-0 shadow-2xl rounded-2xl bg-white dark:bg-slate-900",align:"end","data-testid":"notification-popover",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(Ta,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-base",children:""}),o.jsx("p",{className:"text-xs text-blue-100",children:s>0?`${s}  `:"  "})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs(Ie,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:()=>c("/settings?tab=notifications"),title:" ",children:[o.jsx(Wh,{className:"h-3 w-3 mr-1"}),""]}),o.jsxs(Ie,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:async()=>{confirm("      ")&&await f()},title:"  /",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),""]}),s>0&&o.jsxs(Ie,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:h,"data-testid":"mark-all-read-button",children:[o.jsx(zo,{className:"h-3 w-3 mr-1"})," "]}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-white/20 rounded-lg",onClick:()=>a(!1),"data-testid":"close-notification-button",children:o.jsx(Rs,{className:"h-4 w-4"})})]})]})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("div",{className:"text-sm text-gray-500",children:" ..."})]}):r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:o.jsx(Ta,{className:"h-8 w-8 text-gray-400"})}),o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"  "}),o.jsx("div",{className:"text-xs text-gray-400",children:"   "})]}):o.jsx("div",{className:"p-2",children:r.map((y,m)=>{const v=_3e[y.type]||Ta,x=a9[y.type]||a9.system,k=o9[y.priority]||o9[3];return o.jsx("div",{className:Ae("group p-3 last:mb-0 rounded-xl cursor-pointer transition-all duration-300 border",y.isRead?"bg-white border-gray-100 hover:bg-gray-50 hover:border-gray-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:from-blue-100 hover:to-indigo-100 shadow-sm hover:shadow-md"),onClick:()=>!y.isRead&&p(y.id),"data-testid":`notification-item-${m}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:Ae("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm transition-all duration-300 group-hover:scale-105",x),children:o.jsx(v,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h4",{className:Ae("text-sm leading-tight",y.isRead?"font-medium text-gray-700":"font-bold text-gray-900"),children:y.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!y.isRead&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),o.jsx(At,{className:Ae("text-xs px-2 py-0.5 text-white font-medium",k.color),children:k.label})]})]}),o.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:y.message}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[o.jsx(Un,{className:"h-3 w-3"}),o.jsx("span",{children:g(y.createdAt)})]}),y.actionRequired&&o.jsxs(At,{variant:"outline",className:"text-xs bg-orange-50 text-orange-600 border-orange-200",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"})," "]})]})]})]})},y.id)})})}),r.length>0&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"border-t border-gray-100 p-3",children:o.jsxs(Ie,{variant:"ghost",className:"w-full text-sm font-medium bg-gradient-to-r from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-200 transition-all duration-300 rounded-xl h-10",onClick:()=>{a(!1),c("/notifications")},"data-testid":"view-all-notifications-button",children:[o.jsx(Qd,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}const S3e=()=>{};var l9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=function(e){const r=[];let t=0;for(let s=0;s<e.length;s++){let n=e.charCodeAt(s);n<128?r[t++]=n:n<2048?(r[t++]=n>>6|192,r[t++]=n&63|128):(n&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++s)&1023),r[t++]=n>>18|240,r[t++]=n>>12&63|128,r[t++]=n>>6&63|128,r[t++]=n&63|128):(r[t++]=n>>12|224,r[t++]=n>>6&63|128,r[t++]=n&63|128)}return r},j3e=function(e){const r=[];let t=0,s=0;for(;t<e.length;){const n=e[t++];if(n<128)r[s++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[t++];r[s++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[t++],a=e[t++],l=e[t++],u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;r[s++]=String.fromCharCode(55296+(u>>10)),r[s++]=String.fromCharCode(56320+(u&1023))}else{const i=e[t++],a=e[t++];r[s++]=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63)}}return r.join("")},jQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let n=0;n<e.length;n+=3){const i=e[n],a=n+1<e.length,l=a?e[n+1]:0,u=n+2<e.length,c=u?e[n+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let f=(l&15)<<2|c>>6,h=c&63;u||(h=64,a||(f=64)),s.push(t[d],t[p],t[f],t[h])}return s.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(SQ(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):j3e(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const t=r?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let n=0;n<e.length;){const i=t[e.charAt(n++)],l=n<e.length?t[e.charAt(n)]:0;++n;const c=n<e.length?t[e.charAt(n)]:64;++n;const p=n<e.length?t[e.charAt(n)]:64;if(++n,i==null||l==null||c==null||p==null)throw new N3e;const f=i<<2|l>>4;if(s.push(f),c!==64){const h=l<<4&240|c>>2;if(s.push(h),p!==64){const g=c<<6&192|p;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class N3e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C3e=function(e){const r=SQ(e);return jQ.encodeByteArray(r,!0)},NQ=function(e){return C3e(e).replace(/\./g,"")},T3e=function(e){try{return jQ.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3e=()=>E3e().__FIREBASE_DEFAULTS__,P3e=()=>{if(typeof process>"u"||typeof l9>"u")return;const e=l9.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},I3e=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&T3e(e[1]);return r&&JSON.parse(r)},D3e=()=>{try{return S3e()||A3e()||P3e()||I3e()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},CQ=()=>D3e()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,t)=>{this.resolve=r,this.reject=t})}wrapCallback(r){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(t):r(t,s))}}}function TQ(){try{return typeof indexedDB=="object"}catch{return!1}}function EQ(){return new Promise((e,r)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),t||self.indexedDB.deleteDatabase(s),e(!0)},n.onupgradeneeded=()=>{t=!1},n.onerror=()=>{r(n.error?.message||"")}}catch(t){r(t)}})}function R3e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3e="FirebaseError";class dp extends Error{constructor(r,t,s){super(t),this.code=r,this.customData=s,this.name=$3e,Object.setPrototypeOf(this,dp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v1.prototype.create)}}class v1{constructor(r,t,s){this.service=r,this.serviceName=t,this.errors=s}create(r,...t){const s=t[0]||{},n=`${this.service}/${r}`,i=this.errors[r],a=i?O3e(i,s):"Error",l=`${this.serviceName}: ${a} (${n}).`;return new dp(n,l,s)}}function O3e(e,r){return e.replace(F3e,(t,s)=>{const n=r[s];return n!=null?String(n):`<${s}?>`})}const F3e=/\{\$([^}]+)}/g;function _4(e,r){if(e===r)return!0;const t=Object.keys(e),s=Object.keys(r);for(const n of t){if(!s.includes(n))return!1;const i=e[n],a=r[n];if(c9(i)&&c9(a)){if(!_4(i,a))return!1}else if(i!==a)return!1}for(const n of s)if(!t.includes(n))return!1;return!0}function c9(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(e){return e&&e._delegate?e._delegate:e}class Nu{constructor(r,t,s){this.name=r,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3e{constructor(r,t){this.name=r,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const t=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(t)){const s=new M3e;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&s.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(r){const t=this.normalizeInstanceIdentifier(r?.identifier),s=r?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(n){if(s)return null;throw n}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(B3e(r))try{this.getOrInitializeService({instanceIdentifier:rd})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:n});s.resolve(i)}catch{}}}}clearInstance(r=rd){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...r.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=rd){return this.instances.has(r)}getOptions(r=rd){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:t={}}=r,s=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(n)}return n}onInit(r,t){const s=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(s)??new Set;n.add(r),this.onInitCallbacks.set(s,n);const i=this.instances.get(s);return i&&r(i,s),()=>{n.delete(r)}}invokeOnInitCallbacks(r,t){const s=this.onInitCallbacks.get(t);if(s)for(const n of s)try{n(r,t)}catch{}}getOrInitializeService({instanceIdentifier:r,options:t={}}){let s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z3e(r),options:t}),this.instances.set(r,s),this.instancesOptions.set(r,t),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch{}return s||null}normalizeInstanceIdentifier(r=rd){return this.component?this.component.multipleInstances?r:rd:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z3e(e){return e===rd?void 0:e}function B3e(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3e{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const t=this.getProvider(r.name);if(t.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);t.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const t=new L3e(r,this);return this.providers.set(r,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Mn||(Mn={}));const V3e={debug:Mn.DEBUG,verbose:Mn.VERBOSE,info:Mn.INFO,warn:Mn.WARN,error:Mn.ERROR,silent:Mn.SILENT},W3e=Mn.INFO,q3e={[Mn.DEBUG]:"log",[Mn.VERBOSE]:"log",[Mn.INFO]:"info",[Mn.WARN]:"warn",[Mn.ERROR]:"error"},H3e=(e,r,...t)=>{if(r<e.logLevel)return;const s=new Date().toISOString(),n=q3e[r];if(n)console[n](`[${s}]  ${e.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class K3e{constructor(r){this.name=r,this._logLevel=W3e,this._logHandler=H3e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Mn))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?V3e[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Mn.DEBUG,...r),this._logHandler(this,Mn.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Mn.VERBOSE,...r),this._logHandler(this,Mn.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Mn.INFO,...r),this._logHandler(this,Mn.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Mn.WARN,...r),this._logHandler(this,Mn.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Mn.ERROR,...r),this._logHandler(this,Mn.ERROR,...r)}}const Z3e=(e,r)=>r.some(t=>e instanceof t);let u9,d9;function G3e(){return u9||(u9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3e(){return d9||(d9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AQ=new WeakMap,k4=new WeakMap,PQ=new WeakMap,a_=new WeakMap,w5=new WeakMap;function Q3e(e){const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(au(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)});return r.then(t=>{t instanceof IDBCursor&&AQ.set(t,e)}).catch(()=>{}),w5.set(r,e),r}function Y3e(e){if(k4.has(e))return;const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});k4.set(e,r)}let S4={get(e,r,t){if(e instanceof IDBTransaction){if(r==="done")return k4.get(e);if(r==="objectStoreNames")return e.objectStoreNames||PQ.get(e);if(r==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return au(e[r])},set(e,r,t){return e[r]=t,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function J3e(e){S4=e(S4)}function e6e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...t){const s=e.call(o_(this),r,...t);return PQ.set(s,r.sort?r.sort():[r]),au(s)}:X3e().includes(e)?function(...r){return e.apply(o_(this),r),au(AQ.get(this))}:function(...r){return au(e.apply(o_(this),r))}}function t6e(e){return typeof e=="function"?e6e(e):(e instanceof IDBTransaction&&Y3e(e),Z3e(e,G3e())?new Proxy(e,S4):e)}function au(e){if(e instanceof IDBRequest)return Q3e(e);if(a_.has(e))return a_.get(e);const r=t6e(e);return r!==e&&(a_.set(e,r),w5.set(r,e)),r}const o_=e=>w5.get(e);function r6e(e,r,{blocked:t,upgrade:s,blocking:n,terminated:i}={}){const a=indexedDB.open(e,r),l=au(a);return s&&a.addEventListener("upgradeneeded",u=>{s(au(a.result),u.oldVersion,u.newVersion,au(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),n&&u.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const n6e=["get","getKey","getAll","getAllKeys","count"],s6e=["put","add","delete","clear"],l_=new Map;function f9(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(l_.get(r))return l_.get(r);const t=r.replace(/FromIndex$/,""),s=r!==t,n=s6e.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(n||n6e.includes(t)))return;const i=async function(a,...l){const u=this.transaction(a,n?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[t](...l),n&&u.done]))[0]};return l_.set(r,i),i}J3e(e=>({...e,get:(r,t,s)=>f9(r,t)||e.get(r,t,s),has:(r,t)=>!!f9(r,t)||e.has(r,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6e{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a6e(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function a6e(e){return e.getComponent()?.type==="VERSION"}const j4="@firebase/app",h9="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new K3e("@firebase/app"),o6e="@firebase/app-compat",l6e="@firebase/analytics-compat",c6e="@firebase/analytics",u6e="@firebase/app-check-compat",d6e="@firebase/app-check",f6e="@firebase/auth",h6e="@firebase/auth-compat",p6e="@firebase/database",m6e="@firebase/data-connect",g6e="@firebase/database-compat",y6e="@firebase/functions",b6e="@firebase/functions-compat",v6e="@firebase/installations",x6e="@firebase/installations-compat",w6e="@firebase/messaging",_6e="@firebase/messaging-compat",k6e="@firebase/performance",S6e="@firebase/performance-compat",j6e="@firebase/remote-config",N6e="@firebase/remote-config-compat",C6e="@firebase/storage",T6e="@firebase/storage-compat",E6e="@firebase/firestore",A6e="@firebase/ai",P6e="@firebase/firestore-compat",I6e="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="[DEFAULT]",D6e={[j4]:"fire-core",[o6e]:"fire-core-compat",[c6e]:"fire-analytics",[l6e]:"fire-analytics-compat",[d6e]:"fire-app-check",[u6e]:"fire-app-check-compat",[f6e]:"fire-auth",[h6e]:"fire-auth-compat",[p6e]:"fire-rtdb",[m6e]:"fire-data-connect",[g6e]:"fire-rtdb-compat",[y6e]:"fire-fn",[b6e]:"fire-fn-compat",[v6e]:"fire-iid",[x6e]:"fire-iid-compat",[w6e]:"fire-fcm",[_6e]:"fire-fcm-compat",[k6e]:"fire-perf",[S6e]:"fire-perf-compat",[j6e]:"fire-rc",[N6e]:"fire-rc-compat",[C6e]:"fire-gcs",[T6e]:"fire-gcs-compat",[E6e]:"fire-fst",[P6e]:"fire-fst-compat",[A6e]:"fire-vertex","fire-js":"fire-js",[I6e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map,M6e=new Map,C4=new Map;function p9(e,r){try{e.container.addComponent(r)}catch(t){fc.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,t)}}function Ud(e){const r=e.name;if(C4.has(r))return fc.debug(`There were multiple attempts to register component ${r}.`),!1;C4.set(r,e);for(const t of mv.values())p9(t,e);for(const t of M6e.values())p9(t,e);return!0}function _5(e,r){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ou=new v1("app","Firebase",R6e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6e{constructor(r,t,s){this._isDeleted=!1,this._options={...r},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw ou.create("app-deleted",{appName:this._name})}}function IQ(e,r={}){let t=e;typeof r!="object"&&(r={name:r});const s={name:N4,automaticDataCollectionEnabled:!0,...r},n=s.name;if(typeof n!="string"||!n)throw ou.create("bad-app-name",{appName:String(n)});if(t||(t=CQ()),!t)throw ou.create("no-options");const i=mv.get(n);if(i){if(_4(t,i.options)&&_4(s,i.config))return i;throw ou.create("duplicate-app",{appName:n})}const a=new U3e(n);for(const u of C4.values())a.addComponent(u);const l=new $6e(t,s,a);return mv.set(n,l),l}function O6e(e=N4){const r=mv.get(e);if(!r&&e===N4&&CQ())return IQ();if(!r)throw ou.create("no-app",{appName:e});return r}function lu(e,r,t){let s=D6e[e]??e;t&&(s+=`-${t}`);const n=s.match(/\s|\//),i=r.match(/\s|\//);if(n||i){const a=[`Unable to register library "${s}" with version "${r}":`];n&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),n&&i&&a.push("and"),i&&a.push(`version name "${r}" contains illegal characters (whitespace or "/")`),fc.warn(a.join(" "));return}Ud(new Nu(`${s}-version`,()=>({library:s,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6e="firebase-heartbeat-database",L6e=1,tg="firebase-heartbeat-store";let c_=null;function DQ(){return c_||(c_=r6e(F6e,L6e,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(tg)}catch(t){console.warn(t)}}}}).catch(e=>{throw ou.create("idb-open",{originalErrorMessage:e.message})})),c_}async function z6e(e){try{const t=(await DQ()).transaction(tg),s=await t.objectStore(tg).get(MQ(e));return await t.done,s}catch(r){if(r instanceof dp)fc.warn(r.message);else{const t=ou.create("idb-get",{originalErrorMessage:r?.message});fc.warn(t.message)}}}async function m9(e,r){try{const s=(await DQ()).transaction(tg,"readwrite");await s.objectStore(tg).put(r,MQ(e)),await s.done}catch(t){if(t instanceof dp)fc.warn(t.message);else{const s=ou.create("idb-set",{originalErrorMessage:t?.message});fc.warn(s.message)}}}function MQ(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6e=1024,U6e=30;class V6e{constructor(r){this.container=r,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new q6e(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g9();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(n=>n.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>U6e){const n=H6e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(n,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fc.warn(r)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=g9(),{heartbeatsToSend:t,unsentEntries:s}=W6e(this._heartbeatsCache.heartbeats),n=NQ(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(r){return fc.warn(r),""}}}function g9(){return new Date().toISOString().substring(0,10)}function W6e(e,r=B6e){const t=[];let s=e.slice();for(const n of e){const i=t.find(a=>a.agent===n.agent);if(i){if(i.dates.push(n.date),y9(t)>r){i.dates.pop();break}}else if(t.push({agent:n.agent,dates:[n.date]}),y9(t)>r){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class q6e{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TQ()?EQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z6e(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return m9(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return m9(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...r.heartbeats]})}else return}}function y9(e){return NQ(JSON.stringify({version:2,heartbeats:e})).length}function H6e(e){if(e.length===0)return-1;let r=0,t=e[0].date;for(let s=1;s<e.length;s++)e[s].date<t&&(t=e[s].date,r=s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6e(e){Ud(new Nu("platform-logger",r=>new i6e(r),"PRIVATE")),Ud(new Nu("heartbeat",r=>new V6e(r),"PRIVATE")),lu(j4,h9,e),lu(j4,h9,"esm2020"),lu("fire-js","")}K6e("");var Z6e="firebase",G6e="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lu(Z6e,G6e,"app");const X6e=(e,r)=>r.some(t=>e instanceof t);let b9,v9;function Q6e(){return b9||(b9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y6e(){return v9||(v9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RQ=new WeakMap,T4=new WeakMap,$Q=new WeakMap,u_=new WeakMap,k5=new WeakMap;function J6e(e){const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(cu(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)});return r.then(t=>{t instanceof IDBCursor&&RQ.set(t,e)}).catch(()=>{}),k5.set(r,e),r}function e5e(e){if(T4.has(e))return;const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});T4.set(e,r)}let E4={get(e,r,t){if(e instanceof IDBTransaction){if(r==="done")return T4.get(e);if(r==="objectStoreNames")return e.objectStoreNames||$Q.get(e);if(r==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cu(e[r])},set(e,r,t){return e[r]=t,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function t5e(e){E4=e(E4)}function r5e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...t){const s=e.call(d_(this),r,...t);return $Q.set(s,r.sort?r.sort():[r]),cu(s)}:Y6e().includes(e)?function(...r){return e.apply(d_(this),r),cu(RQ.get(this))}:function(...r){return cu(e.apply(d_(this),r))}}function n5e(e){return typeof e=="function"?r5e(e):(e instanceof IDBTransaction&&e5e(e),X6e(e,Q6e())?new Proxy(e,E4):e)}function cu(e){if(e instanceof IDBRequest)return J6e(e);if(u_.has(e))return u_.get(e);const r=n5e(e);return r!==e&&(u_.set(e,r),k5.set(r,e)),r}const d_=e=>k5.get(e);function s5e(e,r,{blocked:t,upgrade:s,blocking:n,terminated:i}={}){const a=indexedDB.open(e,r),l=cu(a);return s&&a.addEventListener("upgradeneeded",u=>{s(cu(a.result),u.oldVersion,u.newVersion,cu(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),n&&u.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const i5e=["get","getKey","getAll","getAllKeys","count"],a5e=["put","add","delete","clear"],f_=new Map;function x9(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(f_.get(r))return f_.get(r);const t=r.replace(/FromIndex$/,""),s=r!==t,n=a5e.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(n||i5e.includes(t)))return;const i=async function(a,...l){const u=this.transaction(a,n?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[t](...l),n&&u.done]))[0]};return f_.set(r,i),i}t5e(e=>({...e,get:(r,t,s)=>x9(r,t)||e.get(r,t,s),has:(r,t)=>!!x9(r,t)||e.has(r,t)}));const OQ="@firebase/installations",S5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=1e4,LQ=`w:${S5}`,zQ="FIS_v2",o5e="https://firebaseinstallations.googleapis.com/v1",l5e=3600*1e3,c5e="installations",u5e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vd=new v1(c5e,u5e,d5e);function BQ(e){return e instanceof dp&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ({projectId:e}){return`${o5e}/projects/${e}/installations`}function VQ(e){return{token:e.token,requestStatus:2,expiresIn:h5e(e.expiresIn),creationTime:Date.now()}}async function WQ(e,r){const s=(await r.json()).error;return Vd.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function qQ({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function f5e(e,{refreshToken:r}){const t=qQ(e);return t.append("Authorization",p5e(r)),t}async function HQ(e){const r=await e();return r.status>=500&&r.status<600?e():r}function h5e(e){return Number(e.replace("s","000"))}function p5e(e){return`${zQ} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5e({appConfig:e,heartbeatServiceProvider:r},{fid:t}){const s=UQ(e),n=qQ(e),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const a={fid:t,authVersion:zQ,appId:e.appId,sdkVersion:LQ},l={method:"POST",headers:n,body:JSON.stringify(a)},u=await HQ(()=>fetch(s,l));if(u.ok){const c=await u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:VQ(c.authToken)}}else throw await WQ("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(e){return new Promise(r=>{setTimeout(r,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5e(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5e=/^[cdef][\w-]{21}$/,A4="";function b5e(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=v5e(e);return y5e.test(t)?t:A4}catch{return A4}}function v5e(e){return g5e(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new Map;function GQ(e,r){const t=x1(e);XQ(t,r),x5e(t,r)}function XQ(e,r){const t=ZQ.get(e);if(t)for(const s of t)s(r)}function x5e(e,r){const t=w5e();t&&t.postMessage({key:e,fid:r}),_5e()}let cd=null;function w5e(){return!cd&&"BroadcastChannel"in self&&(cd=new BroadcastChannel("[Firebase] FID Change"),cd.onmessage=e=>{XQ(e.data.key,e.data.fid)}),cd}function _5e(){ZQ.size===0&&cd&&(cd.close(),cd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5e="firebase-installations-database",S5e=1,Wd="firebase-installations-store";let h_=null;function j5(){return h_||(h_=s5e(k5e,S5e,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(Wd)}}})),h_}async function gv(e,r){const t=x1(e),n=(await j5()).transaction(Wd,"readwrite"),i=n.objectStore(Wd),a=await i.get(t);return await i.put(r,t),await n.done,(!a||a.fid!==r.fid)&&GQ(e,r.fid),r}async function QQ(e){const r=x1(e),s=(await j5()).transaction(Wd,"readwrite");await s.objectStore(Wd).delete(r),await s.done}async function w1(e,r){const t=x1(e),n=(await j5()).transaction(Wd,"readwrite"),i=n.objectStore(Wd),a=await i.get(t),l=r(a);return l===void 0?await i.delete(t):await i.put(l,t),await n.done,l&&(!a||a.fid!==l.fid)&&GQ(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(e){let r;const t=await w1(e.appConfig,s=>{const n=j5e(s),i=N5e(e,n);return r=i.registrationPromise,i.installationEntry});return t.fid===A4?{installationEntry:await r}:{installationEntry:t,registrationPromise:r}}function j5e(e){const r=e||{fid:b5e(),registrationStatus:0};return YQ(r)}function N5e(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(Vd.create("app-offline"));return{installationEntry:r,registrationPromise:n}}const t={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},s=C5e(e,t);return{installationEntry:t,registrationPromise:s}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:T5e(e)}:{installationEntry:r}}async function C5e(e,r){try{const t=await m5e(e,r);return gv(e.appConfig,t)}catch(t){throw BQ(t)&&t.customData.serverCode===409?await QQ(e.appConfig):await gv(e.appConfig,{fid:r.fid,registrationStatus:0}),t}}async function T5e(e){let r=await w9(e.appConfig);for(;r.registrationStatus===1;)await KQ(100),r=await w9(e.appConfig);if(r.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await N5(e);return s||t}return r}function w9(e){return w1(e,r=>{if(!r)throw Vd.create("installation-not-found");return YQ(r)})}function YQ(e){return E5e(e)?{fid:e.fid,registrationStatus:0}:e}function E5e(e){return e.registrationStatus===1&&e.registrationTime+FQ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5e({appConfig:e,heartbeatServiceProvider:r},t){const s=P5e(e,t),n=f5e(e,t),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const a={installation:{sdkVersion:LQ,appId:e.appId}},l={method:"POST",headers:n,body:JSON.stringify(a)},u=await HQ(()=>fetch(s,l));if(u.ok){const c=await u.json();return VQ(c)}else throw await WQ("Generate Auth Token",u)}function P5e(e,{fid:r}){return`${UQ(e)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(e,r=!1){let t;const s=await w1(e.appConfig,i=>{if(!JQ(i))throw Vd.create("not-registered");const a=i.authToken;if(!r&&M5e(a))return i;if(a.requestStatus===1)return t=I5e(e,r),i;{if(!navigator.onLine)throw Vd.create("app-offline");const l=$5e(i);return t=D5e(e,l),l}});return t?await t:s.authToken}async function I5e(e,r){let t=await _9(e.appConfig);for(;t.authToken.requestStatus===1;)await KQ(100),t=await _9(e.appConfig);const s=t.authToken;return s.requestStatus===0?C5(e,r):s}function _9(e){return w1(e,r=>{if(!JQ(r))throw Vd.create("not-registered");const t=r.authToken;return O5e(t)?{...r,authToken:{requestStatus:0}}:r})}async function D5e(e,r){try{const t=await A5e(e,r),s={...r,authToken:t};return await gv(e.appConfig,s),t}catch(t){if(BQ(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await QQ(e.appConfig);else{const s={...r,authToken:{requestStatus:0}};await gv(e.appConfig,s)}throw t}}function JQ(e){return e!==void 0&&e.registrationStatus===2}function M5e(e){return e.requestStatus===2&&!R5e(e)}function R5e(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+l5e}function $5e(e){const r={requestStatus:1,requestTime:Date.now()};return{...e,authToken:r}}function O5e(e){return e.requestStatus===1&&e.requestTime+FQ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5e(e){const r=e,{installationEntry:t,registrationPromise:s}=await N5(r);return s?s.catch(console.error):C5(r).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5e(e,r=!1){const t=e;return await z5e(t),(await C5(t,r)).token}async function z5e(e){const{registrationPromise:r}=await N5(e);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5e(e){if(!e||!e.options)throw p_("App Configuration");if(!e.name)throw p_("App Name");const r=["projectId","apiKey","appId"];for(const t of r)if(!e.options[t])throw p_(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function p_(e){return Vd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY="installations",U5e="installations-internal",V5e=e=>{const r=e.getProvider("app").getImmediate(),t=B5e(r),s=_5(r,"heartbeat");return{app:r,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},W5e=e=>{const r=e.getProvider("app").getImmediate(),t=_5(r,eY).getImmediate();return{getId:()=>F5e(t),getToken:n=>L5e(t,n)}};function q5e(){Ud(new Nu(eY,V5e,"PUBLIC")),Ud(new Nu(U5e,W5e,"PRIVATE"))}q5e();lu(OQ,S5);lu(OQ,S5,"esm2020");const H5e=(e,r)=>r.some(t=>e instanceof t);let k9,S9;function K5e(){return k9||(k9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z5e(){return S9||(S9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tY=new WeakMap,P4=new WeakMap,rY=new WeakMap,m_=new WeakMap,T5=new WeakMap;function G5e(e){const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(rc(e.result)),n()},a=()=>{s(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)});return r.then(t=>{t instanceof IDBCursor&&tY.set(t,e)}).catch(()=>{}),T5.set(r,e),r}function X5e(e){if(P4.has(e))return;const r=new Promise((t,s)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});P4.set(e,r)}let I4={get(e,r,t){if(e instanceof IDBTransaction){if(r==="done")return P4.get(e);if(r==="objectStoreNames")return e.objectStoreNames||rY.get(e);if(r==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rc(e[r])},set(e,r,t){return e[r]=t,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function Q5e(e){I4=e(I4)}function Y5e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...t){const s=e.call(g_(this),r,...t);return rY.set(s,r.sort?r.sort():[r]),rc(s)}:Z5e().includes(e)?function(...r){return e.apply(g_(this),r),rc(tY.get(this))}:function(...r){return rc(e.apply(g_(this),r))}}function J5e(e){return typeof e=="function"?Y5e(e):(e instanceof IDBTransaction&&X5e(e),H5e(e,K5e())?new Proxy(e,I4):e)}function rc(e){if(e instanceof IDBRequest)return G5e(e);if(m_.has(e))return m_.get(e);const r=J5e(e);return r!==e&&(m_.set(e,r),T5.set(r,e)),r}const g_=e=>T5.get(e);function nY(e,r,{blocked:t,upgrade:s,blocking:n,terminated:i}={}){const a=indexedDB.open(e,r),l=rc(a);return s&&a.addEventListener("upgradeneeded",u=>{s(rc(a.result),u.oldVersion,u.newVersion,rc(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),n&&u.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}function y_(e,{blocked:r}={}){const t=indexedDB.deleteDatabase(e);return r&&t.addEventListener("blocked",s=>r(s.oldVersion,s)),rc(t).then(()=>{})}const eNe=["get","getKey","getAll","getAllKeys","count"],tNe=["put","add","delete","clear"],b_=new Map;function j9(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(b_.get(r))return b_.get(r);const t=r.replace(/FromIndex$/,""),s=r!==t,n=tNe.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(n||eNe.includes(t)))return;const i=async function(a,...l){const u=this.transaction(a,n?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[t](...l),n&&u.done]))[0]};return b_.set(r,i),i}Q5e(e=>({...e,get:(r,t,s)=>j9(r,t)||e.get(r,t,s),has:(r,t)=>!!j9(r,t)||e.has(r,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rNe="/firebase-messaging-sw.js",nNe="/firebase-cloud-messaging-push-scope",sY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sNe="https://fcmregistrations.googleapis.com/v1",iY="google.c.a.c_id",iNe="google.c.a.c_l",aNe="google.c.a.ts",oNe="google.c.a.e",N9=1e4;var C9;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(C9||(C9={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rg;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(rg||(rg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){const r=new Uint8Array(e);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lNe(e){const r="=".repeat((4-e.length%4)%4),t=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(t),n=new Uint8Array(s.length);for(let i=0;i<s.length;++i)n[i]=s.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="fcm_token_details_db",cNe=5,T9="fcm_token_object_Store";async function uNe(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(v_))return null;let r=null;return(await nY(v_,cNe,{upgrade:async(s,n,i,a)=>{if(n<2||!s.objectStoreNames.contains(T9))return;const l=a.objectStore(T9),u=await l.index("fcmSenderId").get(e);if(await l.clear(),!!u){if(n===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;r={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Bl(c.vapidKey)}}}else if(n===3){const c=u;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Bl(c.auth),p256dh:Bl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Bl(c.vapidKey)}}}else if(n===4){const c=u;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Bl(c.auth),p256dh:Bl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Bl(c.vapidKey)}}}}}})).close(),await y_(v_),await y_("fcm_vapid_details_db"),await y_("undefined"),dNe(r)?r:null}function dNe(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:r}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fNe="firebase-messaging-database",hNe=1,ng="firebase-messaging-store";let x_=null;function aY(){return x_||(x_=nY(fNe,hNe,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(ng)}}})),x_}async function pNe(e){const r=oY(e),s=await(await aY()).transaction(ng).objectStore(ng).get(r);if(s)return s;{const n=await uNe(e.appConfig.senderId);if(n)return await E5(e,n),n}}async function E5(e,r){const t=oY(e),n=(await aY()).transaction(ng,"readwrite");return await n.objectStore(ng).put(r,t),await n.done,r}function oY({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mNe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ai=new v1("messaging","Messaging",mNe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gNe(e,r){const t=await P5(e),s=lY(r),n={method:"POST",headers:t,body:JSON.stringify(s)};let i;try{i=await(await fetch(A5(e.appConfig),n)).json()}catch(a){throw Ai.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw Ai.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw Ai.create("token-subscribe-no-token");return i.token}async function yNe(e,r){const t=await P5(e),s=lY(r.subscriptionOptions),n={method:"PATCH",headers:t,body:JSON.stringify(s)};let i;try{i=await(await fetch(`${A5(e.appConfig)}/${r.token}`,n)).json()}catch(a){throw Ai.create("token-update-failed",{errorInfo:a?.toString()})}if(i.error){const a=i.error.message;throw Ai.create("token-update-failed",{errorInfo:a})}if(!i.token)throw Ai.create("token-update-no-token");return i.token}async function bNe(e,r){const s={method:"DELETE",headers:await P5(e)};try{const i=await(await fetch(`${A5(e.appConfig)}/${r}`,s)).json();if(i.error){const a=i.error.message;throw Ai.create("token-unsubscribe-failed",{errorInfo:a})}}catch(n){throw Ai.create("token-unsubscribe-failed",{errorInfo:n?.toString()})}}function A5({projectId:e}){return`${sNe}/projects/${e}/registrations`}async function P5({appConfig:e,installations:r}){const t=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function lY({p256dh:e,auth:r,endpoint:t,vapidKey:s}){const n={web:{endpoint:t,auth:r,p256dh:e}};return s!==sY&&(n.web.applicationPubKey=s),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vNe=10080*60*1e3;async function xNe(e){const r=await _Ne(e.swRegistration,e.vapidKey),t={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:r.endpoint,auth:Bl(r.getKey("auth")),p256dh:Bl(r.getKey("p256dh"))},s=await pNe(e.firebaseDependencies);if(s){if(kNe(s.subscriptionOptions,t))return Date.now()>=s.createTime+vNe?wNe(e,{token:s.token,createTime:Date.now(),subscriptionOptions:t}):s.token;try{await bNe(e.firebaseDependencies,s.token)}catch(n){console.warn(n)}return E9(e.firebaseDependencies,t)}else return E9(e.firebaseDependencies,t)}async function wNe(e,r){try{const t=await yNe(e.firebaseDependencies,r),s={...r,token:t,createTime:Date.now()};return await E5(e.firebaseDependencies,s),t}catch(t){throw t}}async function E9(e,r){const s={token:await gNe(e,r),createTime:Date.now(),subscriptionOptions:r};return await E5(e,s),s.token}async function _Ne(e,r){const t=await e.pushManager.getSubscription();return t||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lNe(r)})}function kNe(e,r){const t=r.vapidKey===e.vapidKey,s=r.endpoint===e.endpoint,n=r.auth===e.auth,i=r.p256dh===e.p256dh;return t&&s&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(e){const r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return SNe(r,e),jNe(r,e),NNe(r,e),r}function SNe(e,r){if(!r.notification)return;e.notification={};const t=r.notification.title;t&&(e.notification.title=t);const s=r.notification.body;s&&(e.notification.body=s);const n=r.notification.image;n&&(e.notification.image=n);const i=r.notification.icon;i&&(e.notification.icon=i)}function jNe(e,r){r.data&&(e.data=r.data)}function NNe(e,r){if(!r.fcmOptions&&!r.notification?.click_action)return;e.fcmOptions={};const t=r.fcmOptions?.link??r.notification?.click_action;t&&(e.fcmOptions.link=t);const s=r.fcmOptions?.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CNe(e){return typeof e=="object"&&!!e&&iY in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TNe(e){if(!e||!e.options)throw w_("App Configuration Object");if(!e.name)throw w_("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:t}=e;for(const s of r)if(!t[s])throw w_(s);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function w_(e){return Ai.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ENe{constructor(r,t,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=TNe(r);this.firebaseDependencies={app:r,appConfig:n,installations:t,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ANe(e){try{e.swRegistration=await navigator.serviceWorker.register(rNe,{scope:nNe}),e.swRegistration.update().catch(()=>{}),await PNe(e.swRegistration)}catch(r){throw Ai.create("failed-service-worker-registration",{browserErrorMessage:r?.message})}}async function PNe(e){return new Promise((r,t)=>{const s=setTimeout(()=>t(new Error(`Service worker not registered after ${N9} ms`)),N9),n=e.installing||e.waiting;e.active?(clearTimeout(s),r()):n?n.onstatechange=i=>{i.target?.state==="activated"&&(n.onstatechange=null,clearTimeout(s),r())}:(clearTimeout(s),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function INe(e,r){if(!r&&!e.swRegistration&&await ANe(e),!(!r&&e.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw Ai.create("invalid-sw-registration");e.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DNe(e,r){r?e.vapidKey=r:e.vapidKey||(e.vapidKey=sY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(e,r){if(!navigator)throw Ai.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ai.create("permission-blocked");return await DNe(e,r?.vapidKey),await INe(e,r?.serviceWorkerRegistration),xNe(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MNe(e,r,t){const s=RNe(r);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:t[iY],message_name:t[iNe],message_time:t[aNe],message_device_time:Math.floor(Date.now()/1e3)})}function RNe(e){switch(e){case rg.NOTIFICATION_CLICKED:return"notification_open";case rg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Ne(e,r){const t=r.data;if(!t.isFirebaseMessaging)return;e.onMessageHandler&&t.messageType===rg.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(A9(t)):e.onMessageHandler.next(A9(t)));const s=t.data;CNe(s)&&s[oNe]==="1"&&await MNe(e,t.messageType,s)}const P9="@firebase/messaging",I9="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ONe=e=>{const r=new ENe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>$Ne(r,t)),r},FNe=e=>{const r=e.getProvider("messaging").getImmediate();return{getToken:s=>cY(r,s)}};function LNe(){Ud(new Nu("messaging",ONe,"PUBLIC")),Ud(new Nu("messaging-internal",FNe,"PRIVATE")),lu(P9,I9),lu(P9,I9,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zNe(){try{await EQ()}catch{return!1}return typeof window<"u"&&TQ()&&R3e()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BNe(e,r){if(!navigator)throw Ai.create("only-available-in-window");return e.onMessageHandler=r,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UNe(e=O6e()){return zNe().then(r=>{if(!r)throw Ai.create("unsupported-browser")},r=>{throw Ai.create("indexed-db-unsupported")}),_5(x5(e),"messaging").getImmediate()}async function VNe(e,r){return e=x5(e),cY(e,r)}function WNe(e,r){return e=x5(e),BNe(e,r)}LNe();const uY={apiKey:"AIzaSyBhVNHGcHWZqbbInv9WUZeyBoPEx3yvN8U",authDomain:"app2-eb4df.firebaseapp.com",projectId:"app2-eb4df",storageBucket:"app2-eb4df.firebasestorage.app",messagingSenderId:"364100399820",appId:"1:364100399820:android:05fb7a9df8da1b771cc869"},qNe=()=>Object.values(uY).every(e=>e&&typeof e=="string");let __=null,yv=null;const dY=()=>{try{if(!qNe()){console.warn("[Firebase] Invalid or missing Firebase configuration in environment variables");return}__||(__=IQ(uY)),yv||(yv=UNe(__))}catch(e){console.error("[Firebase] Failed to initialize Firebase:",e)}},fY=()=>(yv||dY(),yv),hY=async(e=0)=>{const t=1e3*(e+1);try{const s=fY();if(!s)return console.warn("[Firebase] Firebase Messaging not initialized - skipping token request"),null;const n="YGwRxS-k2lYQ-HdK5KkTYdceZgM3xcaTYxQoitDTwZk";try{const i=await VNe(s,{vapidKey:n});return i?(console.log("[Firebase] Successfully obtained FCM token"),i):null}catch(i){return i?.code==="messaging/failed-service-worker-registration"&&e<3?(console.warn(`[Firebase] Service Worker registration failed, retrying in ${t}ms (attempt ${e+1}/3)`),await new Promise(a=>setTimeout(a,t)),hY(e+1)):(i?.code==="messaging/unsupported-browser"?console.warn("[Firebase] Push notifications not supported in this browser"):i?.code==="messaging/permission-blocked"?console.warn("[Firebase] Push notification permission has been blocked"):i?.code==="messaging/service-worker-registration-failed"?console.warn("[Firebase] Service Worker registration failed"):console.error("[Firebase] Failed to get FCM token:",i?.message||i),null)}}catch(s){return console.error("[Firebase] Unexpected error in getFirebaseToken:",s),null}},HNe=e=>{try{const r=fY();if(!r)throw new Error("Firebase Messaging not initialized");return WNe(r,s=>{e(s)})}catch(r){return console.error("[Firebase] Failed to set up message listener:",r),null}},KNe=()=>{const{toast:e}=pn(),[r]=E.useState(()=>{if(typeof window>"u")return!1;try{return"serviceWorker"in navigator&&"PushManager"in window&&typeof Notification<"u"}catch{return!1}}),[t,s]=E.useState(()=>{if(typeof window>"u")return!1;try{return typeof Notification<"u"&&Notification.permission==="granted"}catch{return!1}}),[n,i]=E.useState(!1),[a,l]=E.useState(null),u=E.useRef(null);E.useEffect(()=>((async()=>{if(!r){l("Push notifications are not supported in this browser");return}try{i(!0),dY();const p=HNe(f=>{const h=f.notification;h&&e({title:h.title||"New Notification",description:h.body})});p&&(u.current=p)}catch(p){const f=p instanceof Error?p.message:"Failed to initialize push notifications";l(f),console.error("[usePush] Initialization error:",p)}finally{i(!1)}})(),()=>{u.current&&u.current()}),[r,e]);const c=E.useCallback(async()=>{if(!r){const d="    ";return l(d),console.warn("[usePush]",d),!1}try{if(i(!0),l(null),typeof Notification>"u")return l("   "),!1;const d=await Notification.requestPermission();if(d==="granted"){s(!0);const p=await hY();if(p)try{const f=await fetch("/api/push/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({token:p})});if(!f.ok)throw new Error(`Failed to register token: ${f.statusText}`);e({title:"Success",description:"Push notifications enabled successfully"}),localStorage.setItem("fcm_token",p)}catch(f){const h=f instanceof Error?f.message:"Failed to register push token";return console.error("[usePush] Token registration error:",f),l(h),!1}else return l("Failed to generate FCM token"),!1;return!0}else return d==="denied"?(l("Push notification permission denied by user"),!1):(l("Push notification permission dismissed"),!1)}catch(d){const p=d instanceof Error?d.message:"Failed to request push permission";return l(p),console.error("[usePush] Permission request error:",d),!1}finally{i(!1)}},[r,e]);return{isPushSupported:r,isPermissionGranted:t,isInitializing:n,error:a,requestPushPermission:c,unsubscribe:u.current}},ZNe={"/":{title:" ",icon:Am},"/projects":{title:" ",icon:hs},"/workers":{title:" ",icon:Vn},"/suppliers-pro":{title:" ",icon:Ni},"/worker-attendance":{title:" ",icon:kg},"/worker-accounts":{title:" ",icon:Tr},"/material-purchase":{title:" ",icon:jn},"/project-transfers":{title:"  ",icon:tu},"/project-transactions":{title:" ",icon:fi},"/well-accounting":{title:" ",icon:hl},"/well-cost-report":{title:"  ",icon:fi},"/wells":{title:" ",icon:UR},"/transport-management":{title:" ",icon:Ni},"/daily-expenses":{title:" ",icon:Tr},"/deployment":{title:"   ",icon:Fs},"/settings":{title:" ",icon:Wh},"/project-fund-custody":{title:"  ",icon:Id},"/notifications":{title:"",icon:Ta},"/admin-notifications":{title:" ",icon:Oo},"/ai-chat":{title:" ",icon:fS},"/security-policies":{title:" ",icon:Xse},"/equipment":{title:" ",icon:Aa},"/reports":{title:"",icon:Lse},"/local-db":{title:"   ",icon:pa},"/admin/sync":{title:" ",icon:Ls}};function GNe(){const[e]=zs(),{toast:r}=pn(),{selectedProjectId:t,selectedProjectName:s,selectProject:n}=Ko(),[i,a]=E.useState({isOnline:!0,pendingCount:0});KNe();const[l,u]=E.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");E.useEffect(()=>{const v=window.document.documentElement;l==="dark"?v.classList.add("dark"):v.classList.remove("dark"),localStorage.setItem("theme",l)},[l]);const c=()=>{u(v=>v==="light"?"dark":"light")};E.useEffect(()=>{const v=g1(x=>{a({isOnline:x.isOnline,pendingCount:x.pendingCount||0})});return()=>v()},[]);const{isOnline:d,pendingCount:p}=i,{data:f=[],isLoading:h}=xt({queryKey:ve.projects,queryFn:async()=>{try{const v=await qe("/api/projects","GET");return v?.data||v||[]}catch{return[]}}}),g=ZNe[e]||{title:"AXION SYSTEM",icon:Hse},y=g.icon,m=(v,x)=>{n(v,x),r({title:"  ",description:x})};return o.jsxs("div",{className:"flex items-center justify-between h-full w-full px-4",dir:"rtl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:o.jsx(y,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex flex-col justify-center text-right",children:[o.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:g.title}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"AXION SYSTEM"})]})]}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(k3e,{}),o.jsx(Ie,{variant:"outline",size:"icon",onClick:c,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:l==="light"?" ":" ","data-testid":"button-theme-toggle",children:l==="light"?o.jsx(eie,{className:"h-4 w-4 text-slate-700"}):o.jsx(lie,{className:"h-4 w-4 text-amber-400"})}),o.jsxs(eZ,{children:[o.jsx(tZ,{asChild:!0,children:o.jsx(Ie,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:t?t===Ps?rl:s:" ","data-testid":"button-project-selector",children:o.jsx(Bse,{className:"h-4 w-4 text-primary"})})}),o.jsxs(t5,{align:"start",className:"w-64 max-h-80",dir:"rtl",children:[o.jsx(rZ,{className:"text-right",children:" "}),o.jsx(nZ,{}),h?o.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):o.jsxs(o.Fragment,{children:[o.jsxs(uv,{onClick:()=>m(Ps,rl),className:"flex justify-between items-center text-right",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(UR,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{children:rl})]}),t===Ps&&o.jsx(wn,{className:"h-4 w-4 text-green-500"})]}),f.map(v=>o.jsxs(uv,{onClick:()=>m(v.id.toString(),v.name),className:"flex justify-between items-center text-right",children:[o.jsx("span",{children:v.name}),t===v.id.toString()&&o.jsx(wn,{className:"h-4 w-4 text-green-500"})]},v.id))]})]})]})]})]})}const XNe=[{path:"/",icon:Am,label:"",key:"dashboard"},{path:"/projects",icon:hs,label:"",key:"projects"},{path:"/workers",icon:Vn,label:"",key:"workers"},{path:"/worker-attendance",icon:kg,label:"",key:"attendance"},{path:"/daily-expenses",icon:hl,label:"",key:"expenses"}],QNe=[{category:" ",pages:[{path:"/",icon:Am,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:hs,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:Vn,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:Ni,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:cl,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:hl,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:bk,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:kg,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:hl,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:jn,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:Ni,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:Tr,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:Wh,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:Tr,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:tu,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:fi,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:BR,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/reports",icon:bk,label:"",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:Vn,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:Ta,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:Oo,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:pa,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:Aa,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:Ta,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:qR,label:"  ",description:"     ",requireAdmin:!0}]},{category:"  ",pages:[{path:"/local-db",icon:pa,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:Oo,label:" ",description:"   ",requireAdmin:!0},{path:"/admin/sync",icon:Ls,label:" ",description:"     ",requireAdmin:!0}]}];function YNe(){const[e,r]=zs(),[t,s]=E.useState(!1),[n,i]=E.useState(""),{user:a}=gc(),l=a?.role==="admin",u=QNe.map(f=>({...f,pages:f.pages.filter(h=>!h.requireAdmin||l)})).filter(f=>f.pages.length>0),c=E.useMemo(()=>{if(!n.trim())return u;const f=n.toLowerCase();return u.map(h=>({...h,pages:h.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(h=>h.pages.length>0)},[n,u]),d=f=>{r(f),s(!1),i("")},p=u.reduce((f,h)=>f+h.pages.length,0);return o.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:o.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[XNe.map(f=>{const h=f.icon,g=e===f.path;return o.jsxs(Ie,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>r(f.path),children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx(Um,{children:g&&o.jsx(xn.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),o.jsx(h,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),o.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&o.jsx(xn.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),o.jsxs(a1,{open:t,onOpenChange:s,modal:!0,children:[o.jsx(P6,{asChild:!0,children:o.jsxs(Ie,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${t?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[t&&o.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),o.jsx(Fse,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${t?"scale-110":"group-hover:scale-105"}`})]}),o.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${t?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),o.jsxs(c0,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>s(!1),onInteractOutside:()=>s(!1),children:[o.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),o.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[o.jsx(I6,{children:o.jsx(u0,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[o.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[c.reduce((f,h)=>f+h.pages.length,0),"  ",p]}),o.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),o.jsxs("div",{className:"relative group",children:[o.jsx(Bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),o.jsx(vt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:n,onChange:f=>i(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),n&&o.jsx(Ie,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(""),children:o.jsx(Rs,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),o.jsx(Zo,{className:"h-[calc(90vh-180px)]",children:o.jsx("div",{className:"px-4 pb-24",children:c.length>0?o.jsx("div",{className:"space-y-6",children:o.jsx(Um,{mode:"wait",children:c.map((f,h)=>o.jsxs(xn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:h*.05},className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[o.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),o.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),o.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=e===g.path;return o.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsxs(Ie,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&o.jsx(xn.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),o.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[o.jsx(xn.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:o.jsx(m,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[o.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),o.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},h))})}):o.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(Bo,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function JNe(){const e=Go(),{floatingAction:r,floatingLabel:t,refreshAction:s,showAddButton:n}=e;return!r&&!s&&!n?null:o.jsxs("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] flex flex-col gap-3 pointer-events-auto items-center",children:[s&&o.jsx(Ie,{onClick:()=>s(),className:"h-10 w-10 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",size:"icon",title:"","data-testid":"button-floating-refresh",children:o.jsx(Ls,{className:"h-4 w-4"})}),(r||n)&&o.jsx(Ie,{onClick:()=>{console.log("FAB Clicked, action exists:",!!r),r&&r()},className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:t,"data-testid":"button-floating-add",children:o.jsx(vs,{className:"h-5 w-5"})})]})}const k_=768;function eCe(){const[e,r]=E.useState(void 0);return E.useEffect(()=>{const t=window.matchMedia(`(max-width: ${k_-1}px)`),s=()=>{r(window.innerWidth<k_)};return t.addEventListener("change",s),r(window.innerWidth<k_),()=>t.removeEventListener("change",s)},[]),!!e}var tCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rCe=tCe.reduce((e,r)=>{const t=Xg(`Primitive.${r}`),s=E.forwardRef((n,i)=>{const{asChild:a,...l}=n,u=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),nCe="Separator",D9="horizontal",sCe=["horizontal","vertical"],pY=E.forwardRef((e,r)=>{const{decorative:t,orientation:s=D9,...n}=e,i=iCe(s)?s:D9,l=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(rCe.div,{"data-orientation":i,...l,...n,ref:r})});pY.displayName=nCe;function iCe(e){return sCe.includes(e)}var mY=pY;const gY=E.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...s},n)=>o.jsx(mY,{ref:n,decorative:t,orientation:r,className:Ae("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));gY.displayName=mY.displayName;const aCe="sidebar_state",oCe=3600*24*7,lCe="16rem",cCe="16rem",uCe="3rem",dCe="b",yY=E.createContext(null);function x0(){const e=E.useContext(yY);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const bY=E.forwardRef(({defaultOpen:e=!0,open:r,onOpenChange:t,className:s,style:n,children:i,...a},l)=>{const u=eCe(),[c,d]=E.useState(!1),[p,f]=E.useState(e),h=r??p,g=E.useCallback(x=>{const k=typeof x=="function"?x(h):x;t?t(k):f(k),document.cookie=`${aCe}=${k}; path=/; max-age=${oCe}`},[t,h]),y=E.useCallback(()=>u?d(x=>!x):g(x=>!x),[u,g,d]);E.useEffect(()=>{const x=k=>{k.key===dCe&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const m=h?"expanded":"collapsed",v=E.useMemo(()=>({state:m,open:h,setOpen:g,isMobile:u,openMobile:c,setOpenMobile:d,toggleSidebar:y}),[m,h,g,u,c,d,y]);return o.jsx(yY.Provider,{value:v,children:o.jsx(zv,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":lCe,"--sidebar-width-icon":uCe,...n},className:Ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:l,...a,children:i})})})});bY.displayName="SidebarProvider";const vY=E.forwardRef(({side:e="left",variant:r="sidebar",collapsible:t="offcanvas",className:s,children:n,...i},a)=>{const{isMobile:l,state:u,openMobile:c,setOpenMobile:d}=x0();return t==="none"?o.jsx("div",{className:Ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:a,...i,children:n}):l?o.jsx(a1,{open:c,onOpenChange:d,...i,children:o.jsxs(c0,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":cCe},side:e,children:[o.jsxs(I6,{className:"sr-only",children:[o.jsx(u0,{children:"Sidebar"}),o.jsx(IH,{children:"Displays the mobile sidebar."})]}),o.jsx("div",{className:"flex h-full w-full flex-col",children:n})]})}):o.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":r,"data-side":e,children:[o.jsx("div",{className:Ae("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:Ae("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});vY.displayName="Sidebar";const xY=E.forwardRef(({className:e,onClick:r,...t},s)=>{const{toggleSidebar:n}=x0();return o.jsxs(Ie,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ae("h-7 w-7",e),onClick:i=>{r?.(i),n()},...t,children:[o.jsx(nie,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});xY.displayName="SidebarTrigger";const fCe=E.forwardRef(({className:e,...r},t)=>{const{toggleSidebar:s}=x0();return o.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})});fCe.displayName="SidebarRail";const wY=E.forwardRef(({className:e,...r},t)=>o.jsx("main",{ref:t,className:Ae("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...r}));wY.displayName="SidebarInset";const hCe=E.forwardRef(({className:e,...r},t)=>o.jsx(vt,{ref:t,"data-sidebar":"input",className:Ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...r}));hCe.displayName="SidebarInput";const _Y=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"header",className:Ae("flex flex-col gap-2 p-2",e),...r}));_Y.displayName="SidebarHeader";const kY=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"footer",className:Ae("flex flex-col gap-2 p-2",e),...r}));kY.displayName="SidebarFooter";const pCe=E.forwardRef(({className:e,...r},t)=>o.jsx(gY,{ref:t,"data-sidebar":"separator",className:Ae("mx-2 w-auto bg-sidebar-border",e),...r}));pCe.displayName="SidebarSeparator";const SY=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"content",className:Ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r}));SY.displayName="SidebarContent";const jY=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"group",className:Ae("relative flex w-full min-w-0 flex-col p-2",e),...r}));jY.displayName="SidebarGroup";const NY=E.forwardRef(({className:e,asChild:r=!1,...t},s)=>{const n=r?ef:"div";return o.jsx(n,{ref:s,"data-sidebar":"group-label",className:Ae("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t})});NY.displayName="SidebarGroupLabel";const mCe=E.forwardRef(({className:e,asChild:r=!1,...t},s)=>{const n=r?ef:"button";return o.jsx(n,{ref:s,"data-sidebar":"group-action",className:Ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...t})});mCe.displayName="SidebarGroupAction";const CY=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"group-content",className:Ae("w-full text-sm",e),...r}));CY.displayName="SidebarGroupContent";const D4=E.forwardRef(({className:e,...r},t)=>o.jsx("ul",{ref:t,"data-sidebar":"menu",className:Ae("flex w-full min-w-0 flex-col gap-1",e),...r}));D4.displayName="SidebarMenu";const kb=E.forwardRef(({className:e,...r},t)=>o.jsx("li",{ref:t,"data-sidebar":"menu-item",className:Ae("group/menu-item relative",e),...r}));kb.displayName="SidebarMenuItem";const gCe=Xd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Sb=E.forwardRef(({asChild:e=!1,isActive:r=!1,variant:t="default",size:s="default",tooltip:n,className:i,...a},l)=>{const u=e?ef:"button",{isMobile:c,state:d}=x0(),p=o.jsx(u,{ref:l,"data-sidebar":"menu-button","data-size":s,"data-active":r,className:Ae(gCe({variant:t,size:s}),i),...a});return n?(typeof n=="string"&&(n={children:n}),o.jsxs(jS,{children:[o.jsx(NS,{asChild:!0,children:p}),o.jsx(Bv,{side:"right",align:"center",hidden:d!=="collapsed"||c,...n})]})):p});Sb.displayName="SidebarMenuButton";const yCe=E.forwardRef(({className:e,asChild:r=!1,showOnHover:t=!1,...s},n)=>{const i=r?ef:"button";return o.jsx(i,{ref:n,"data-sidebar":"menu-action",className:Ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});yCe.displayName="SidebarMenuAction";const bCe=E.forwardRef(({className:e,...r},t)=>o.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:Ae("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...r}));bCe.displayName="SidebarMenuBadge";const vCe=E.forwardRef(({className:e,showIcon:r=!1,...t},s)=>{const n=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Ae("flex h-8 items-center gap-2 rounded-md px-2",e),...t,children:[r&&o.jsx(bn,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(bn,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});vCe.displayName="SidebarMenuSkeleton";const xCe=E.forwardRef(({className:e,...r},t)=>o.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:Ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...r}));xCe.displayName="SidebarMenuSub";const wCe=E.forwardRef(({...e},r)=>o.jsx("li",{ref:r,...e}));wCe.displayName="SidebarMenuSubItem";const _Ce=E.forwardRef(({asChild:e=!1,size:r="md",isActive:t,className:s,...n},i)=>{const a=e?ef:"a";return o.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":t,className:Ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...n})});_Ce.displayName="SidebarMenuSubButton";const kCe=[{title:"",icon:Am,items:[{title:" ",url:"/",icon:Am},{title:" ",url:"/projects",icon:hs}]},{title:" ",icon:Vn,items:[{title:" ",url:"/project-transactions",icon:fi},{title:" ",url:"/workers",icon:Vn},{title:" ",url:"/worker-attendance",icon:kg},{title:" ",url:"/worker-accounts",icon:Id}]},{title:" ",icon:jn,items:[{title:" ",url:"/material-purchase",icon:jn},{title:" ",url:"/material-purchases",icon:jn},{title:"",url:"/suppliers-pro",icon:Ni},{title:" ",url:"/transport-management",icon:Ni},{title:"",url:"/customers",icon:Vn},{title:" ",icon:Aa,url:"/equipment"}]},{title:" ",icon:hl,items:[{title:" ",url:"/daily-expenses",icon:hl},{title:" ",url:"/well-accounting",icon:hl},{title:" ",url:"/well-cost-report",icon:ll},{title:"",url:"/reports",icon:ll}]},{title:" ",icon:Ql,items:[{title:" ",icon:fS,url:"/ai-chat"},{title:" ",icon:Ql,url:"/security-policies"},{title:" ",icon:Fs,url:"/admin/data-health"},{title:" ",icon:Ql,url:"/admin/backups"},{title:" ",icon:Ls,url:"/admin/sync"},{title:" ",icon:pa,url:"/local-db"}]}];function SCe(){const[e,r]=zs(),{logout:t,user:s}=gc(),{setOpenMobile:n,isMobile:i}=x0(),a=l=>{r(l),i&&n(!1)};return o.jsxs(vY,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[o.jsx(_Y,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:o.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[o.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),o.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),o.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),o.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[o.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[o.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),o.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),o.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),o.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),o.jsxs(SY,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[kCe.map(l=>o.jsx(Ga,{defaultOpen:!0,className:"group/collapsible",children:o.jsxs(jY,{children:[o.jsx(NY,{asChild:!0,children:o.jsxs(Xa,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[o.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:l.title}),o.jsx(Bn,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),o.jsx(Qa,{children:o.jsx(CY,{children:o.jsx(D4,{children:l.items.map(u=>o.jsx(kb,{children:o.jsx(Sb,{asChild:!0,isActive:e===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:o.jsxs("a",{href:u.url,onClick:c=>{c.preventDefault(),a(u.url)},children:[o.jsx(u.icon,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},l.title)),o.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),o.jsxs(kY,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[o.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[o.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:s?.name?.charAt(0)||"U"}),o.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[o.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:s?.name||""}),o.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:s?.email})]})]}),o.jsxs(D4,{children:[o.jsx(kb,{children:o.jsxs(Sb,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>a("/settings"),children:[o.jsx(Wh,{className:"h-5 w-5 opacity-60"}),o.jsx("span",{className:"text-sm font-medium",children:""})]})}),o.jsx(kb,{children:o.jsxs(Sb,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{t(),i&&n(!1)},children:[o.jsx(Qse,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),o.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:o.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function jCe(){const[e,r]=E.useState("online"),[t,s]=E.useState(0),[n,i]=E.useState(0),[a,l]=E.useState(!1),[u,c]=E.useState(!1),d=E.useCallback(async()=>{try{const f=await hu();s(f.length)}catch{s(0)}},[]);E.useEffect(()=>{const f=()=>{navigator.onLine?e==="offline"&&(r("syncing"),l(!1),p()):(r("offline"),l(!1),d())};window.addEventListener("online",f),window.addEventListener("offline",f);const h=()=>{d(),l(!1)};return window.addEventListener("offline-mutation-queued",h),navigator.onLine||r("offline"),d(),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f),window.removeEventListener("offline-mutation-queued",h)}},[e,d]);const p=E.useCallback(async()=>{r("syncing"),i(10);try{const f=await hu();if(f.length===0){r("completed"),i(100),c(!0),setTimeout(()=>{c(!1),r("online"),i(0)},2500);return}const h=f.length;let g=0;const y=setInterval(()=>{g=Math.min(g+1,h),i(Math.round(g/h*100))},500);await tb(),clearInterval(y),i(100),r("completed"),c(!0),s(0),setTimeout(()=>{c(!1),r("online"),i(0)},2500)}catch(f){console.error("[SyncTracker]  :",f),r("online"),i(0),d()}},[d]);return e==="online"&&!u&&t===0||a&&e==="offline"&&t===0?null:o.jsx("div",{className:Ae("fixed bottom-20 left-4 right-4 z-[100] transition-all duration-300 max-w-sm mx-auto","pointer-events-auto"),dir:"rtl","data-testid":"sync-progress-tracker",children:o.jsxs("div",{className:Ae("rounded-xl px-3 py-2 shadow-lg border flex items-center gap-2",e==="offline"&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800",e==="syncing"&&"bg-blue-50 dark:bg-blue-950/80 border-blue-200 dark:border-blue-800",(e==="completed"||u)&&"bg-green-50 dark:bg-green-950/80 border-green-200 dark:border-green-800",e==="online"&&t>0&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800"),children:[o.jsxs("div",{className:Ae("shrink-0 p-1.5 rounded-lg",e==="offline"&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400",e==="syncing"&&"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",(e==="completed"||u)&&"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400",e==="online"&&t>0&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400"),children:[e==="offline"&&o.jsx(Mse,{className:"w-4 h-4"}),e==="syncing"&&o.jsx(Ls,{className:"w-4 h-4 animate-spin"}),(e==="completed"||u)&&o.jsx(wn,{className:"w-4 h-4"}),e==="online"&&t>0&&o.jsx(Sd,{className:"w-4 h-4"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:Ae("text-xs font-medium leading-tight",e==="offline"&&"text-amber-800 dark:text-amber-300",e==="syncing"&&"text-blue-800 dark:text-blue-300",(e==="completed"||u)&&"text-green-800 dark:text-green-300",e==="online"&&t>0&&"text-amber-800 dark:text-amber-300"),children:[e==="offline"&&(t>0?`   ${t}  `:"     "),e==="syncing"&&` ... ${n}%`,(e==="completed"||u)&&" ",e==="online"&&t>0&&`${t}   `]}),e==="syncing"&&o.jsx(ju,{value:n,className:"h-1 mt-1 bg-blue-100 dark:bg-blue-900"})]}),e==="offline"&&o.jsx("button",{onClick:()=>l(!0),className:"shrink-0 p-1 rounded-md text-amber-500 dark:text-amber-400 hover-elevate","data-testid":"button-dismiss-offline",children:o.jsx(Lo,{className:"w-3.5 h-3.5"})}),e==="online"&&t>0&&o.jsx("button",{onClick:p,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 hover-elevate","data-testid":"button-sync-now",children:""}),e==="syncing"&&o.jsx("button",{disabled:!0,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 opacity-60 cursor-not-allowed","data-testid":"button-sync-disabled",children:"..."})]})})}function NCe({onRefresh:e,enabled:r=!0,threshold:t=70,maxPull:s=130,minSpinnerTime:n=600,scrollRef:i}){const[a,l]=E.useState(0),[u,c]=E.useState(!1),[d,p]=E.useState(!1),f=E.useRef(!1),h=E.useRef(0),g=E.useRef(0),y=E.useRef(!1),m=E.useRef(null),v=Math.min(a/t,1),x=E.useCallback(async()=>{if(f.current)return;f.current=!0,c(!0);const k=Date.now();try{await e()}catch{}finally{const T=Date.now()-k,A=Math.max(0,n-T);setTimeout(()=>{c(!1),f.current=!1,l(0)},A)}},[e,n]);return E.useEffect(()=>{const k=i.current;if(!k||!r)return;k.style.overscrollBehaviorY="none";const T=()=>k.scrollTop<=0,A=$=>"touches"in $&&$.touches.length>0?$.touches[0].clientY:$.clientY,L=$=>{if(f.current||!T()||"pointerType"in $&&$.pointerType==="mouse")return;const z=A($);h.current=z,g.current=z,y.current=!1},q=$=>{if(f.current||"pointerType"in $&&$.pointerType==="mouse")return;const z=A($);if(z-h.current>10&&T()&&(y.current||(y.current=!0,p(!0),h.current=z)),y.current){$.cancelable&&$.preventDefault(),g.current=z;const W=g.current-h.current,P=Math.min(s,W*.5);m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{l(Math.max(0,P))})}},D=()=>{m.current&&cancelAnimationFrame(m.current),y.current&&(y.current=!1,p(!1),(g.current-h.current)*.5>=t?(l(t),x()):l(0))};return k.addEventListener("touchstart",L,{passive:!0}),k.addEventListener("touchmove",q,{passive:!1}),k.addEventListener("touchend",D,{passive:!0}),k.addEventListener("touchcancel",D,{passive:!0}),()=>{k.removeEventListener("touchstart",L),k.removeEventListener("touchmove",q),k.removeEventListener("touchend",D),k.removeEventListener("touchcancel",D),k.style.overscrollBehaviorY="",m.current&&cancelAnimationFrame(m.current)}},[r,t,s,x,i]),{pullDistance:a,isRefreshing:u,isPulling:d,progress:v}}function CCe({pullDistance:e,isRefreshing:r,progress:t,threshold:s=70}){const n=e>5||r,i=r?s*.6:e,a=t>=1;return n?o.jsxs("div",{className:"pull-to-refresh-indicator flex items-center justify-center overflow-hidden pointer-events-none select-none",style:{height:`${i}px`,transition:r?"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",willChange:"height",WebkitUserSelect:"none",userSelect:"none"},"data-testid":"pull-to-refresh-indicator",children:[o.jsx("div",{className:`
          flex items-center justify-center rounded-full
          w-10 h-10
          bg-background border border-border shadow-md
          transition-transform duration-200 ease-out
        `,style:{opacity:Math.min(1,t*1.5),transform:`scale(${.5+t*.5}) rotate(${r?0:t*180}deg)`,willChange:"transform, opacity"},children:o.jsx(Ls,{className:`h-5 w-5 text-primary ${r?"animate-spin":""}`,style:{color:a&&!r?"hsl(var(--primary))":void 0}})}),a&&!r&&o.jsx("span",{className:"text-xs text-muted-foreground ms-2 animate-pulse",children:" "})]}):null}const TCe={"/":{queryKeys:[ve.projectsWithStats,ve.notifications,ve.recentActivities,ve.financialSummary,ve.healthStats]},"/projects":{queryKeys:[ve.projects,ve.projectsWithStats,ve.projectTypes]},"/workers":{queryKeys:[ve.workers,ve.workerTypes]},"/worker-accounts":{queryKeys:[ve.workers,ve.workerTypes]},"/suppliers-pro":{queryKeys:[ve.suppliers,ve.supplierStatistics]},"/supplier-accounts":{queryKeys:[ve.suppliers,ve.supplierStatistics]},"/customers":{queryKeys:[ve.suppliers]},"/equipment":{queryKeys:[ve.equipment,ve.equipmentMovements]},"/notifications":{queryKeys:[ve.notifications]},"/admin-notifications":{queryKeys:[ve.notifications]},"/wells":{queryKeys:[ve.wells]},"/well-cost-report":{queryKeys:[ve.wells]},"/well-accounting":{queryKeys:[ve.wells]},"/tasks":{queryKeys:[ve.tasks]},"/reports":{queryKeys:[ve.projectsWithStats,ve.workers,ve.suppliers]},"/users-management":{queryKeys:[ve.users,ve.usersList,ve.usersWithRoles]},"/ai-chat":{queryKeys:[ve.aiSessions]},"/admin/backups":{queryKeys:[ve.backupsStatus,ve.backupsLogs,ve.backupsDatabases]},"/admin/monitoring":{queryKeys:[ve.metrics,ve.diagnostics,ve.healthFull]},"/smart-errors":{queryKeys:[ve.errorLogs]},"/daily-expenses":{queryKeys:[ve.dailyExpenseSummaries,ve.materials]},"/worker-attendance":{queryKeys:[ve.workers,ve.workerTypes]},"/material-purchase":{queryKeys:[ve.materials,ve.suppliers]},"/transport-management":{queryKeys:[ve.transportationExpenses]},"/project-transfers":{queryKeys:[ve.projectFundTransfers,ve.allFundTransfers]},"/project-transactions":{queryKeys:[ve.projects]},"/project-fund-custody":{queryKeys:[ve.projectFundTransfers]},"/autocomplete-admin":{queryKeys:[ve.autocomplete]},"/admin/data-health":{queryKeys:[ve.adminDataHealth]},"/admin/sync":{queryKeys:[ve.projects]},"/security-policies":{queryKeys:[ve.securityPolicies,ve.securityViolations,ve.securitySuggestions]}};function ECe({children:e,showHeader:r=!0,showNav:t=!0,showFloatingButton:s=!0}){const[n]=zs(),i=Ss(),{toast:a}=pn(),l=E.useRef(null),c=["/ai-chat","/admin/data-health"].some(k=>n===k),p=[].some(k=>n===k),f=TCe[n],h=!!f,g=E.useCallback(async()=>{if(f)try{const k=f.queryKeys.map(T=>i.refetchQueries({queryKey:T,type:"active"}));await Promise.all(k)}catch{throw a({title:" ",description:"  .    .",variant:"destructive",duration:3e3}),new Error("refresh failed")}},[f,i,a]),{pullDistance:y,isRefreshing:m,progress:v}=NCe({onRefresh:g,enabled:h,threshold:70,maxPull:130,minSpinnerTime:600,scrollRef:l}),x={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return o.jsxs(bY,{style:x,children:[o.jsx(jCe,{}),o.jsxs("div",{className:"flex h-[100dvh] w-full bg-background overflow-hidden",dir:"rtl",children:[o.jsx(SCe,{}),o.jsx(wY,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:o.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[r&&!c&&o.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:o.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[o.jsx(xY,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),o.jsx("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:o.jsx(GNe,{})})]})}),o.jsxs("main",{ref:l,className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch pb-[calc(72px+env(safe-area-inset-bottom,0px)+16px)] md:pb-0",children:[h&&o.jsx(CCe,{pullDistance:y,isRefreshing:m,progress:v}),o.jsx("div",{className:c?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:e})]}),t&&!p&&o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom,0px)] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center pointer-events-auto",children:o.jsx("div",{className:"w-full h-[72px] flex items-center justify-center",children:o.jsx(YNe,{})})}),s&&!c&&o.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:o.jsx(JNe,{})})]})})]})]})}function ACe({children:e}){const{isAuthenticated:r,isLoading:t,user:s}=gc();return console.log(" [ProtectedRoute]  :",{isLoading:t,isAuthenticated:r,hasUser:!!s,userEmail:s?.email||" ",timestamp:new Date().toISOString()}),t?(console.log(" [ProtectedRoute]  ..."),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[o.jsx(an,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),o.jsx(Ie,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!r||!s?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),o.jsx(o.Fragment,{children:e})):(console.log(" [ProtectedRoute]     /login"),o.jsx(Nb,{to:"/login"})):(console.log(" [ProtectedRoute]     :",s.email),o.jsx(o.Fragment,{children:e}))}const M9=({variant:e,size:r})=>{const t=r==="sm"?"h-4 w-4":r==="md"?"h-6 w-6":"h-8 w-8",s={default:o.jsx(an,{className:Ae(t,"animate-spin text-blue-500")}),database:o.jsx(pa,{className:Ae(t,"animate-pulse text-green-500")}),processing:o.jsx(pi,{className:Ae(t,"animate-bounce text-orange-500")})};return s[e]||s.default},PCe=({step:e,index:r})=>{const t=()=>{switch(e.status){case"completed":return o.jsx(zo,{className:"h-4 w-4 text-green-500"});case"loading":return o.jsx(an,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return o.jsx(ti,{className:"h-4 w-4 text-red-500"});default:return o.jsx(Un,{className:"h-4 w-4 text-gray-400"})}},s=()=>e.startTime&&e.status==="loading"?`${Math.floor((Date.now()-e.startTime)/1e3)}`:null;return o.jsxs(xn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:Ae("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",e.status==="loading"&&"bg-blue-50 border border-blue-200",e.status==="completed"&&"bg-green-50 border border-green-200",e.status==="error"&&"bg-red-50 border border-red-200",e.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[o.jsx("div",{className:"flex-shrink-0",children:t()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:Ae("text-sm font-medium truncate",e.status==="loading"&&"text-blue-700",e.status==="completed"&&"text-green-700",e.status==="error"&&"text-red-700",e.status==="pending"&&"text-gray-600"),children:e.label}),s()&&o.jsx("span",{className:"text-xs text-blue-600 font-mono",children:s()})]}),e.progress!==void 0&&e.status==="loading"&&o.jsx(xn.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:o.jsx(xn.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.5}})})]})]})},ICe=({progress:e,size:r})=>{const t=2*Math.PI*(r/2-8),s=t,n=t-e/100*t;return o.jsxs("div",{className:"relative",children:[o.jsxs("svg",{className:"transform -rotate-90",width:r,height:r,children:[o.jsx("circle",{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),o.jsx(xn.circle,{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:s,strokeDashoffset:n,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:t},animate:{strokeDashoffset:n},transition:{duration:.5,ease:"easeInOut"}})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(e),"%"]})})]})},TY=({isLoading:e,steps:r=[],message:t=" ...",progress:s,showSteps:n=!1,size:i="md",variant:a="default",onComplete:l,estimatedTime:u,className:c})=>{const[d,p]=Zt.useState(0),f=Zt.useRef(Date.now());if(Zt.useEffect(()=>{if(!e)return;f.current=Date.now();const y=setInterval(()=>{p(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[e]),Zt.useEffect(()=>{!e&&d>0&&(l?.(),p(0))},[e,d,l]),!e)return null;const h=()=>o.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Ae("flex items-center gap-3",c),children:[o.jsx(M9,{variant:a,size:i}),o.jsx("span",{className:"text-sm text-gray-600",children:t})]}),g=()=>o.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:Ae("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",c),children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:s!==void 0?o.jsx(ICe,{progress:s,size:80}):o.jsx(M9,{variant:a,size:"lg"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[o.jsxs("span",{children:[" : ",d,""]}),u&&o.jsxs("span",{children:[": ",u,""]})]})]}),n&&r.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),r.map((y,m)=>o.jsx(PCe,{step:y,index:m},y.id))]}),s!==void 0&&!n&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:""}),o.jsxs("span",{children:[Math.round(s),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx(xn.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5}})})]})]});return a==="minimal"?h():o.jsx(Um,{children:e&&o.jsx(xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function Hs({children:e,requiredRole:r="admin"}){const{user:t,isAuthenticated:s,isLoading:n}=gc();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(TY,{})}):s?!t||t.role!==r?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:o.jsxs("div",{className:"max-w-lg w-full",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:o.jsx(iie,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),o.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),o.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:t?.role==="user"?" ":t?.role||" "})]})]}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[o.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),o.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(Nb,{to:"/login"})}function DCe({children:e}){const{user:r,isLoading:t}=gc();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsx(TY,{isLoading:!0,message:"    ..."})}):r?r.emailVerified!==!0?(console.log(" [EmailVerificationGuard]        ",{emailVerified:r.emailVerified}),o.jsx(Nb,{to:`/verify-email?userId=${r.id}&email=${encodeURIComponent(r.email)}`})):o.jsx(o.Fragment,{children:e}):o.jsx(Nb,{to:"/login"})}function MCe(e){return new Blob([JSON.stringify(e)]).size}async function RCe(e){try{const t=(await Gi(e)).reduce((n,i)=>n+MCe(i),0),s=Math.round(t*.75);return{originalSize:t,compressedSize:s,ratio:t>0?s/t*100:0,savedBytes:t-s}}catch{return{originalSize:0,compressedSize:0,ratio:0,savedBytes:0}}}async function $Ce(){try{const e=["projects","workers","materials","suppliers","workerAttendance","materialPurchases","transportationExpenses","fundTransfers","workerTransfers","workerMiscExpenses","wells","projectTypes"];let r=0;for(const n of e){const i=await RCe(n);r+=i.originalSize}const t=50*1024*1024,s=r/t*100;return{used:r,percentage:Math.round(s)}}catch{return{used:0,percentage:0}}}async function OCe(){return(await hu()).length}async function FCe(){const e=await hu(),r=e.filter(i=>i.action==="create").length,t=e.filter(i=>i.action==="update").length,s=e.filter(i=>i.action==="delete").length,n=e.filter(i=>i.retries>0).length;return{totalPending:e.length,creates:r,updates:t,deletes:s,failedOperations:n,oldestOperation:e.length>0?new Date(e[0].timestamp):null}}async function LCe(){const e=eg(),r=await $Ce(),t=await OCe(),s=await FCe();return{timestamp:Date.now(),syncStatus:{isSyncing:e.isSyncing,lastSync:e.lastSync,pendingCount:e.pendingCount,isOnline:e.isOnline},storage:{used:r.used,usagePercentage:r.percentage},operations:{pending:t,creates:s.creates,updates:s.updates,deletes:s.deletes,failedOps:s.failedOperations},timing:{lastSyncDuration:void 0}}}let R9=null;function zCe(e=6e4){if(R9){console.warn(" [PerformanceMonitor]   ");return}R9=setInterval(async()=>{const r=await LCe();r.storage.usagePercentage>80&&console.warn(` [PerformanceMonitor]   : ${r.storage.usagePercentage}%`),r.operations.failedOps>5&&console.warn(` [PerformanceMonitor]  : ${r.operations.failedOps}`)},e),console.log(" [PerformanceMonitor]   ")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const BCe=4,$9=0,O9=1,UCe=2;function fp(e){let r=e.length;for(;--r>=0;)e[r]=0}const VCe=0,EY=1,WCe=2,qCe=3,HCe=258,I5=29,w0=256,sg=w0+1+I5,sh=30,D5=19,AY=2*sg+1,ud=15,S_=16,KCe=7,M5=256,PY=16,IY=17,DY=18,M4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ZCe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),MY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GCe=512,Vl=new Array((sg+2)*2);fp(Vl);const km=new Array(sh*2);fp(km);const ig=new Array(GCe);fp(ig);const ag=new Array(HCe-qCe+1);fp(ag);const R5=new Array(I5);fp(R5);const bv=new Array(sh);fp(bv);function j_(e,r,t,s,n){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=s,this.max_length=n,this.has_stree=e&&e.length}let RY,$Y,OY;function N_(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}const FY=e=>e<256?ig[e]:ig[256+(e>>>7)],og=(e,r)=>{e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255},fa=(e,r,t)=>{e.bi_valid>S_-t?(e.bi_buf|=r<<e.bi_valid&65535,og(e,e.bi_buf),e.bi_buf=r>>S_-e.bi_valid,e.bi_valid+=t-S_):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)},ol=(e,r,t)=>{fa(e,t[r*2],t[r*2+1])},LY=(e,r)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1},XCe=e=>{e.bi_valid===16?(og(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},QCe=(e,r)=>{const t=r.dyn_tree,s=r.max_code,n=r.stat_desc.static_tree,i=r.stat_desc.has_stree,a=r.stat_desc.extra_bits,l=r.stat_desc.extra_base,u=r.stat_desc.max_length;let c,d,p,f,h,g,y=0;for(f=0;f<=ud;f++)e.bl_count[f]=0;for(t[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<AY;c++)d=e.heap[c],f=t[t[d*2+1]*2+1]+1,f>u&&(f=u,y++),t[d*2+1]=f,!(d>s)&&(e.bl_count[f]++,h=0,d>=l&&(h=a[d-l]),g=t[d*2],e.opt_len+=g*(f+h),i&&(e.static_len+=g*(n[d*2+1]+h)));if(y!==0){do{for(f=u-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=e.bl_count[f];d!==0;)p=e.heap[--c],!(p>s)&&(t[p*2+1]!==f&&(e.opt_len+=(f-t[p*2+1])*t[p*2],t[p*2+1]=f),d--)}},zY=(e,r,t)=>{const s=new Array(ud+1);let n=0,i,a;for(i=1;i<=ud;i++)n=n+t[i-1]<<1,s[i]=n;for(a=0;a<=r;a++){let l=e[a*2+1];l!==0&&(e[a*2]=LY(s[l]++,l))}},YCe=()=>{let e,r,t,s,n;const i=new Array(ud+1);for(t=0,s=0;s<I5-1;s++)for(R5[s]=t,e=0;e<1<<M4[s];e++)ag[t++]=s;for(ag[t-1]=s,n=0,s=0;s<16;s++)for(bv[s]=n,e=0;e<1<<jb[s];e++)ig[n++]=s;for(n>>=7;s<sh;s++)for(bv[s]=n<<7,e=0;e<1<<jb[s]-7;e++)ig[256+n++]=s;for(r=0;r<=ud;r++)i[r]=0;for(e=0;e<=143;)Vl[e*2+1]=8,e++,i[8]++;for(;e<=255;)Vl[e*2+1]=9,e++,i[9]++;for(;e<=279;)Vl[e*2+1]=7,e++,i[7]++;for(;e<=287;)Vl[e*2+1]=8,e++,i[8]++;for(zY(Vl,sg+1,i),e=0;e<sh;e++)km[e*2+1]=5,km[e*2]=LY(e,5);RY=new j_(Vl,M4,w0+1,sg,ud),$Y=new j_(km,jb,0,sh,ud),OY=new j_(new Array(0),ZCe,0,D5,KCe)},BY=e=>{let r;for(r=0;r<sg;r++)e.dyn_ltree[r*2]=0;for(r=0;r<sh;r++)e.dyn_dtree[r*2]=0;for(r=0;r<D5;r++)e.bl_tree[r*2]=0;e.dyn_ltree[M5*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},UY=e=>{e.bi_valid>8?og(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},F9=(e,r,t,s)=>{const n=r*2,i=t*2;return e[n]<e[i]||e[n]===e[i]&&s[r]<=s[t]},C_=(e,r,t)=>{const s=e.heap[t];let n=t<<1;for(;n<=e.heap_len&&(n<e.heap_len&&F9(r,e.heap[n+1],e.heap[n],e.depth)&&n++,!F9(r,s,e.heap[n],e.depth));)e.heap[t]=e.heap[n],t=n,n<<=1;e.heap[t]=s},L9=(e,r,t)=>{let s,n,i=0,a,l;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+i++]&255,s+=(e.pending_buf[e.sym_buf+i++]&255)<<8,n=e.pending_buf[e.sym_buf+i++],s===0?ol(e,n,r):(a=ag[n],ol(e,a+w0+1,r),l=M4[a],l!==0&&(n-=R5[a],fa(e,n,l)),s--,a=FY(s),ol(e,a,t),l=jb[a],l!==0&&(s-=bv[a],fa(e,s,l)));while(i<e.sym_next);ol(e,M5,r)},R4=(e,r)=>{const t=r.dyn_tree,s=r.stat_desc.static_tree,n=r.stat_desc.has_stree,i=r.stat_desc.elems;let a,l,u=-1,c;for(e.heap_len=0,e.heap_max=AY,a=0;a<i;a++)t[a*2]!==0?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):t[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,t[c*2]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=s[c*2+1]);for(r.max_code=u,a=e.heap_len>>1;a>=1;a--)C_(e,t,a);c=i;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C_(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=l,t[c*2]=t[a*2]+t[l*2],e.depth[c]=(e.depth[a]>=e.depth[l]?e.depth[a]:e.depth[l])+1,t[a*2+1]=t[l*2+1]=c,e.heap[1]=c++,C_(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],QCe(e,r),zY(t,u,e.bl_count)},z9=(e,r,t)=>{let s,n=-1,i,a=r[1],l=0,u=7,c=4;for(a===0&&(u=138,c=3),r[(t+1)*2+1]=65535,s=0;s<=t;s++)i=a,a=r[(s+1)*2+1],!(++l<u&&i===a)&&(l<c?e.bl_tree[i*2]+=l:i!==0?(i!==n&&e.bl_tree[i*2]++,e.bl_tree[PY*2]++):l<=10?e.bl_tree[IY*2]++:e.bl_tree[DY*2]++,l=0,n=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},B9=(e,r,t)=>{let s,n=-1,i,a=r[1],l=0,u=7,c=4;for(a===0&&(u=138,c=3),s=0;s<=t;s++)if(i=a,a=r[(s+1)*2+1],!(++l<u&&i===a)){if(l<c)do ol(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==n&&(ol(e,i,e.bl_tree),l--),ol(e,PY,e.bl_tree),fa(e,l-3,2)):l<=10?(ol(e,IY,e.bl_tree),fa(e,l-3,3)):(ol(e,DY,e.bl_tree),fa(e,l-11,7));l=0,n=i,a===0?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}},JCe=e=>{let r;for(z9(e,e.dyn_ltree,e.l_desc.max_code),z9(e,e.dyn_dtree,e.d_desc.max_code),R4(e,e.bl_desc),r=D5-1;r>=3&&e.bl_tree[MY[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r},e8e=(e,r,t,s)=>{let n;for(fa(e,r-257,5),fa(e,t-1,5),fa(e,s-4,4),n=0;n<s;n++)fa(e,e.bl_tree[MY[n]*2+1],3);B9(e,e.dyn_ltree,r-1),B9(e,e.dyn_dtree,t-1)},t8e=e=>{let r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return $9;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return O9;for(t=32;t<w0;t++)if(e.dyn_ltree[t*2]!==0)return O9;return $9};let U9=!1;const r8e=e=>{U9||(YCe(),U9=!0),e.l_desc=new N_(e.dyn_ltree,RY),e.d_desc=new N_(e.dyn_dtree,$Y),e.bl_desc=new N_(e.bl_tree,OY),e.bi_buf=0,e.bi_valid=0,BY(e)},VY=(e,r,t,s)=>{fa(e,(VCe<<1)+(s?1:0),3),UY(e),og(e,t),og(e,~t),t&&e.pending_buf.set(e.window.subarray(r,r+t),e.pending),e.pending+=t},n8e=e=>{fa(e,EY<<1,3),ol(e,M5,Vl),XCe(e)},s8e=(e,r,t,s)=>{let n,i,a=0;e.level>0?(e.strm.data_type===UCe&&(e.strm.data_type=t8e(e)),R4(e,e.l_desc),R4(e,e.d_desc),a=JCe(e),n=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=n&&(n=i)):n=i=t+5,t+4<=n&&r!==-1?VY(e,r,t,s):e.strategy===BCe||i===n?(fa(e,(EY<<1)+(s?1:0),3),L9(e,Vl,km)):(fa(e,(WCe<<1)+(s?1:0),3),e8e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),L9(e,e.dyn_ltree,e.dyn_dtree)),BY(e),s&&UY(e)},i8e=(e,r,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=r,e.pending_buf[e.sym_buf+e.sym_next++]=r>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(ag[t]+w0+1)*2]++,e.dyn_dtree[FY(r)*2]++),e.sym_next===e.sym_end);var a8e=r8e,o8e=VY,l8e=s8e,c8e=i8e,u8e=n8e,d8e={_tr_init:a8e,_tr_stored_block:o8e,_tr_flush_block:l8e,_tr_tally:c8e,_tr_align:u8e};const f8e=(e,r,t,s)=>{let n=e&65535|0,i=e>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do n=n+r[s++]|0,i=i+n|0;while(--a);n%=65521,i%=65521}return n|i<<16|0};var lg=f8e;const h8e=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},p8e=new Uint32Array(h8e()),m8e=(e,r,t,s)=>{const n=p8e,i=s+t;e^=-1;for(let a=s;a<i;a++)e=e>>>8^n[(e^r[a])&255];return e^-1};var Xs=m8e,qd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:g8e,_tr_stored_block:$4,_tr_flush_block:y8e,_tr_tally:uu,_tr_align:b8e}=d8e,{Z_NO_FLUSH:du,Z_PARTIAL_FLUSH:v8e,Z_FULL_FLUSH:x8e,Z_FINISH:io,Z_BLOCK:V9,Z_OK:ci,Z_STREAM_END:W9,Z_STREAM_ERROR:vl,Z_DATA_ERROR:w8e,Z_BUF_ERROR:T_,Z_DEFAULT_COMPRESSION:_8e,Z_FILTERED:k8e,Z_HUFFMAN_ONLY:Hy,Z_RLE:S8e,Z_FIXED:j8e,Z_DEFAULT_STRATEGY:N8e,Z_UNKNOWN:C8e,Z_DEFLATED:_1}=_0,T8e=9,E8e=15,A8e=8,P8e=29,I8e=256,O4=I8e+1+P8e,D8e=30,M8e=19,R8e=2*O4+1,$8e=15,Yr=3,Yc=258,xl=Yc+Yr+1,O8e=32,Lh=42,$5=57,F4=69,L4=73,z4=91,B4=103,dd=113,cm=666,Ki=1,hp=2,Hd=3,pp=4,F8e=3,fd=(e,r)=>(e.msg=qd[r],r),q9=e=>e*2-(e>4?9:0),Bc=e=>{let r=e.length;for(;--r>=0;)e[r]=0},L8e=e=>{let r,t,s,n=e.w_size;r=e.hash_size,s=r;do t=e.head[--s],e.head[s]=t>=n?t-n:0;while(--r);r=n,s=r;do t=e.prev[--s],e.prev[s]=t>=n?t-n:0;while(--r)};let z8e=(e,r,t)=>(r<<e.hash_shift^t)&e.hash_mask,fu=z8e;const Sa=e=>{const r=e.state;let t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+t),e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))},Ea=(e,r)=>{y8e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,Sa(e.strm)},un=(e,r)=>{e.pending_buf[e.pending++]=r},em=(e,r)=>{e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255},U4=(e,r,t,s)=>{let n=e.avail_in;return n>s&&(n=s),n===0?0:(e.avail_in-=n,r.set(e.input.subarray(e.next_in,e.next_in+n),t),e.state.wrap===1?e.adler=lg(e.adler,r,n,t):e.state.wrap===2&&(e.adler=Xs(e.adler,r,n,t)),e.next_in+=n,e.total_in+=n,n)},WY=(e,r)=>{let t=e.max_chain_length,s=e.strstart,n,i,a=e.prev_length,l=e.nice_match;const u=e.strstart>e.w_size-xl?e.strstart-(e.w_size-xl):0,c=e.window,d=e.w_mask,p=e.prev,f=e.strstart+Yc;let h=c[s+a-1],g=c[s+a];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(n=r,!(c[n+a]!==g||c[n+a-1]!==h||c[n]!==c[s]||c[++n]!==c[s+1])){s+=2,n++;do;while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<f);if(i=Yc-(f-s),s=f-Yc,i>a){if(e.match_start=r,a=i,i>=l)break;h=c[s+a-1],g=c[s+a]}}while((r=p[r&d])>u&&--t!==0);return a<=e.lookahead?a:e.lookahead},zh=e=>{const r=e.w_size;let t,s,n;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-xl)&&(e.window.set(e.window.subarray(r,r+r-s),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),L8e(e),s+=r),e.strm.avail_in===0)break;if(t=U4(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=t,e.lookahead+e.insert>=Yr)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=fu(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=fu(e,e.ins_h,e.window[n+Yr-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<Yr)););}while(e.lookahead<xl&&e.strm.avail_in!==0)},qY=(e,r)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,n,i,a=0,l=e.strm.avail_in;do{if(s=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,n=e.strstart-e.block_start,s>n+e.strm.avail_in&&(s=n+e.strm.avail_in),s>i&&(s=i),s<t&&(s===0&&r!==io||r===du||s!==n+e.strm.avail_in)))break;a=r===io&&s===n+e.strm.avail_in?1:0,$4(e,0,0,a),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,Sa(e.strm),n&&(n>s&&(n=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,s-=n),s&&(U4(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(a===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?pp:r!==du&&r!==io&&e.strm.avail_in===0&&e.strstart===e.block_start?hp:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(U4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,t=i>e.w_size?e.w_size:i,n=e.strstart-e.block_start,(n>=t||(n||r===io)&&r!==du&&e.strm.avail_in===0&&n<=i)&&(s=n>i?i:n,a=r===io&&e.strm.avail_in===0&&s===n?1:0,$4(e,e.block_start,s,a),e.block_start+=s,Sa(e.strm)),a?Hd:Ki)},E_=(e,r)=>{let t,s;for(;;){if(e.lookahead<xl){if(zh(e),e.lookahead<xl&&r===du)return Ki;if(e.lookahead===0)break}if(t=0,e.lookahead>=Yr&&(e.ins_h=fu(e,e.ins_h,e.window[e.strstart+Yr-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-xl&&(e.match_length=WY(e,t)),e.match_length>=Yr)if(s=uu(e,e.strstart-e.match_start,e.match_length-Yr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Yr){e.match_length--;do e.strstart++,e.ins_h=fu(e,e.ins_h,e.window[e.strstart+Yr-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=fu(e,e.ins_h,e.window[e.strstart+1]);else s=uu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Ea(e,!1),e.strm.avail_out===0))return Ki}return e.insert=e.strstart<Yr-1?e.strstart:Yr-1,r===io?(Ea(e,!0),e.strm.avail_out===0?Hd:pp):e.sym_next&&(Ea(e,!1),e.strm.avail_out===0)?Ki:hp},Lf=(e,r)=>{let t,s,n;for(;;){if(e.lookahead<xl){if(zh(e),e.lookahead<xl&&r===du)return Ki;if(e.lookahead===0)break}if(t=0,e.lookahead>=Yr&&(e.ins_h=fu(e,e.ins_h,e.window[e.strstart+Yr-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Yr-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-xl&&(e.match_length=WY(e,t),e.match_length<=5&&(e.strategy===k8e||e.match_length===Yr&&e.strstart-e.match_start>4096)&&(e.match_length=Yr-1)),e.prev_length>=Yr&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-Yr,s=uu(e,e.strstart-1-e.prev_match,e.prev_length-Yr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=fu(e,e.ins_h,e.window[e.strstart+Yr-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Yr-1,e.strstart++,s&&(Ea(e,!1),e.strm.avail_out===0))return Ki}else if(e.match_available){if(s=uu(e,0,e.window[e.strstart-1]),s&&Ea(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ki}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=uu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Yr-1?e.strstart:Yr-1,r===io?(Ea(e,!0),e.strm.avail_out===0?Hd:pp):e.sym_next&&(Ea(e,!1),e.strm.avail_out===0)?Ki:hp},B8e=(e,r)=>{let t,s,n,i;const a=e.window;for(;;){if(e.lookahead<=Yc){if(zh(e),e.lookahead<=Yc&&r===du)return Ki;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Yr&&e.strstart>0&&(n=e.strstart-1,s=a[n],s===a[++n]&&s===a[++n]&&s===a[++n])){i=e.strstart+Yc;do;while(s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&s===a[++n]&&n<i);e.match_length=Yc-(i-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Yr?(t=uu(e,1,e.match_length-Yr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=uu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Ea(e,!1),e.strm.avail_out===0))return Ki}return e.insert=0,r===io?(Ea(e,!0),e.strm.avail_out===0?Hd:pp):e.sym_next&&(Ea(e,!1),e.strm.avail_out===0)?Ki:hp},U8e=(e,r)=>{let t;for(;;){if(e.lookahead===0&&(zh(e),e.lookahead===0)){if(r===du)return Ki;break}if(e.match_length=0,t=uu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Ea(e,!1),e.strm.avail_out===0))return Ki}return e.insert=0,r===io?(Ea(e,!0),e.strm.avail_out===0?Hd:pp):e.sym_next&&(Ea(e,!1),e.strm.avail_out===0)?Ki:hp};function tl(e,r,t,s,n){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=s,this.func=n}const um=[new tl(0,0,0,0,qY),new tl(4,4,8,4,E_),new tl(4,5,16,8,E_),new tl(4,6,32,32,E_),new tl(4,4,16,16,Lf),new tl(8,16,32,32,Lf),new tl(8,16,128,128,Lf),new tl(8,32,128,256,Lf),new tl(32,128,258,1024,Lf),new tl(32,258,258,4096,Lf)],V8e=e=>{e.window_size=2*e.w_size,Bc(e.head),e.max_lazy_match=um[e.level].max_lazy,e.good_match=um[e.level].good_length,e.nice_match=um[e.level].nice_length,e.max_chain_length=um[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Yr-1,e.match_available=0,e.ins_h=0};function W8e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(R8e*2),this.dyn_dtree=new Uint16Array((2*D8e+1)*2),this.bl_tree=new Uint16Array((2*M8e+1)*2),Bc(this.dyn_ltree),Bc(this.dyn_dtree),Bc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($8e+1),this.heap=new Uint16Array(2*O4+1),Bc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*O4+1),Bc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const k0=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.status!==Lh&&r.status!==$5&&r.status!==F4&&r.status!==L4&&r.status!==z4&&r.status!==B4&&r.status!==dd&&r.status!==cm?1:0},HY=e=>{if(k0(e))return fd(e,vl);e.total_in=e.total_out=0,e.data_type=C8e;const r=e.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?$5:r.wrap?Lh:dd,e.adler=r.wrap===2?0:1,r.last_flush=-2,g8e(r),ci},KY=e=>{const r=HY(e);return r===ci&&V8e(e.state),r},q8e=(e,r)=>k0(e)||e.state.wrap!==2?vl:(e.state.gzhead=r,ci),ZY=(e,r,t,s,n,i)=>{if(!e)return vl;let a=1;if(r===_8e&&(r=6),s<0?(a=0,s=-s):s>15&&(a=2,s-=16),n<1||n>T8e||t!==_1||s<8||s>15||r<0||r>9||i<0||i>j8e||s===8&&a!==1)return fd(e,vl);s===8&&(s=9);const l=new W8e;return e.state=l,l.strm=e,l.status=Lh,l.wrap=a,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Yr-1)/Yr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=r,l.strategy=i,l.method=t,KY(e)},H8e=(e,r)=>ZY(e,r,_1,E8e,A8e,N8e),K8e=(e,r)=>{if(k0(e)||r>V9||r<0)return e?fd(e,vl):vl;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===cm&&r!==io)return fd(e,e.avail_out===0?T_:vl);const s=t.last_flush;if(t.last_flush=r,t.pending!==0){if(Sa(e),e.avail_out===0)return t.last_flush=-1,ci}else if(e.avail_in===0&&q9(r)<=q9(s)&&r!==io)return fd(e,T_);if(t.status===cm&&e.avail_in!==0)return fd(e,T_);if(t.status===Lh&&t.wrap===0&&(t.status=dd),t.status===Lh){let n=_1+(t.w_bits-8<<4)<<8,i=-1;if(t.strategy>=Hy||t.level<2?i=0:t.level<6?i=1:t.level===6?i=2:i=3,n|=i<<6,t.strstart!==0&&(n|=O8e),n+=31-n%31,em(t,n),t.strstart!==0&&(em(t,e.adler>>>16),em(t,e.adler&65535)),e.adler=1,t.status=dd,Sa(e),t.pending!==0)return t.last_flush=-1,ci}if(t.status===$5){if(e.adler=0,un(t,31),un(t,139),un(t,8),t.gzhead)un(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),un(t,t.gzhead.time&255),un(t,t.gzhead.time>>8&255),un(t,t.gzhead.time>>16&255),un(t,t.gzhead.time>>24&255),un(t,t.level===9?2:t.strategy>=Hy||t.level<2?4:0),un(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(un(t,t.gzhead.extra.length&255),un(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=Xs(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=F4;else if(un(t,0),un(t,0),un(t,0),un(t,0),un(t,0),un(t,t.level===9?2:t.strategy>=Hy||t.level<2?4:0),un(t,F8e),t.status=dd,Sa(e),t.pending!==0)return t.last_flush=-1,ci}if(t.status===F4){if(t.gzhead.extra){let n=t.pending,i=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+i>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n)),t.gzindex+=l,Sa(e),t.pending!==0)return t.last_flush=-1,ci;n=0,i-=l}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+i),t.pending),t.pending+=i,t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n)),t.gzindex=0}t.status=L4}if(t.status===L4){if(t.gzhead.name){let n=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n)),Sa(e),t.pending!==0)return t.last_flush=-1,ci;n=0}t.gzindex<t.gzhead.name.length?i=t.gzhead.name.charCodeAt(t.gzindex++)&255:i=0,un(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n)),t.gzindex=0}t.status=z4}if(t.status===z4){if(t.gzhead.comment){let n=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n)),Sa(e),t.pending!==0)return t.last_flush=-1,ci;n=0}t.gzindex<t.gzhead.comment.length?i=t.gzhead.comment.charCodeAt(t.gzindex++)&255:i=0,un(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>n&&(e.adler=Xs(e.adler,t.pending_buf,t.pending-n,n))}t.status=B4}if(t.status===B4){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Sa(e),t.pending!==0))return t.last_flush=-1,ci;un(t,e.adler&255),un(t,e.adler>>8&255),e.adler=0}if(t.status=dd,Sa(e),t.pending!==0)return t.last_flush=-1,ci}if(e.avail_in!==0||t.lookahead!==0||r!==du&&t.status!==cm){let n=t.level===0?qY(t,r):t.strategy===Hy?U8e(t,r):t.strategy===S8e?B8e(t,r):um[t.level].func(t,r);if((n===Hd||n===pp)&&(t.status=cm),n===Ki||n===Hd)return e.avail_out===0&&(t.last_flush=-1),ci;if(n===hp&&(r===v8e?b8e(t):r!==V9&&($4(t,0,0,!1),r===x8e&&(Bc(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Sa(e),e.avail_out===0))return t.last_flush=-1,ci}return r!==io?ci:t.wrap<=0?W9:(t.wrap===2?(un(t,e.adler&255),un(t,e.adler>>8&255),un(t,e.adler>>16&255),un(t,e.adler>>24&255),un(t,e.total_in&255),un(t,e.total_in>>8&255),un(t,e.total_in>>16&255),un(t,e.total_in>>24&255)):(em(t,e.adler>>>16),em(t,e.adler&65535)),Sa(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?ci:W9)},Z8e=e=>{if(k0(e))return vl;const r=e.state.status;return e.state=null,r===dd?fd(e,w8e):ci},G8e=(e,r)=>{let t=r.length;if(k0(e))return vl;const s=e.state,n=s.wrap;if(n===2||n===1&&s.status!==Lh||s.lookahead)return vl;if(n===1&&(e.adler=lg(e.adler,r,t,0)),s.wrap=0,t>=s.w_size){n===0&&(Bc(s.head),s.strstart=0,s.block_start=0,s.insert=0);let u=new Uint8Array(s.w_size);u.set(r.subarray(t-s.w_size,t),0),r=u,t=s.w_size}const i=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=r,zh(s);s.lookahead>=Yr;){let u=s.strstart,c=s.lookahead-(Yr-1);do s.ins_h=fu(s,s.ins_h,s.window[u+Yr-1]),s.prev[u&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=u,u++;while(--c);s.strstart=u,s.lookahead=Yr-1,zh(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Yr-1,s.match_available=0,e.next_in=a,e.input=l,e.avail_in=i,s.wrap=n,ci};var X8e=H8e,Q8e=ZY,Y8e=KY,J8e=HY,eTe=q8e,tTe=K8e,rTe=Z8e,nTe=G8e,sTe="pako deflate (from Nodeca project)",Sm={deflateInit:X8e,deflateInit2:Q8e,deflateReset:Y8e,deflateResetKeep:J8e,deflateSetHeader:eTe,deflate:tTe,deflateEnd:rTe,deflateSetDictionary:nTe,deflateInfo:sTe};const iTe=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var aTe=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)iTe(t,s)&&(e[s]=t[s])}}return e},oTe=e=>{let r=0;for(let s=0,n=e.length;s<n;s++)r+=e[s].length;const t=new Uint8Array(r);for(let s=0,n=0,i=e.length;s<i;s++){let a=e[s];t.set(a,n),n+=a.length}return t},k1={assign:aTe,flattenChunks:oTe};let GY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{GY=!1}const cg=new Uint8Array(256);for(let e=0;e<256;e++)cg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;cg[254]=cg[254]=1;var lTe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,s,n,i,a=e.length,l=0;for(n=0;n<a;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<a&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),n++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),i=0,n=0;i<l;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<a&&(s=e.charCodeAt(n+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),n++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r};const cTe=(e,r)=>{if(r<65534&&e.subarray&&GY)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let s=0;s<r;s++)t+=String.fromCharCode(e[s]);return t};var uTe=(e,r)=>{const t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let s,n;const i=new Array(t*2);for(n=0,s=0;s<t;){let a=e[s++];if(a<128){i[n++]=a;continue}let l=cg[a];if(l>4){i[n++]=65533,s+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&s<t;)a=a<<6|e[s++]&63,l--;if(l>1){i[n++]=65533;continue}a<65536?i[n++]=a:(a-=65536,i[n++]=55296|a>>10&1023,i[n++]=56320|a&1023)}return cTe(i,n)},dTe=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+cg[e[t]]>r?t:r},ug={string2buf:lTe,buf2string:uTe,utf8border:dTe};function fTe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XY=fTe;const QY=Object.prototype.toString,{Z_NO_FLUSH:hTe,Z_SYNC_FLUSH:pTe,Z_FULL_FLUSH:mTe,Z_FINISH:gTe,Z_OK:vv,Z_STREAM_END:yTe,Z_DEFAULT_COMPRESSION:bTe,Z_DEFAULT_STRATEGY:vTe,Z_DEFLATED:xTe}=_0;function S0(e){this.options=k1.assign({level:bTe,method:xTe,chunkSize:16384,windowBits:15,memLevel:8,strategy:vTe},e||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XY,this.strm.avail_out=0;let t=Sm.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(t!==vv)throw new Error(qd[t]);if(r.header&&Sm.deflateSetHeader(this.strm,r.header),r.dictionary){let s;if(typeof r.dictionary=="string"?s=ug.string2buf(r.dictionary):QY.call(r.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(r.dictionary):s=r.dictionary,t=Sm.deflateSetDictionary(this.strm,s),t!==vv)throw new Error(qd[t]);this._dict_set=!0}}S0.prototype.push=function(e,r){const t=this.strm,s=this.options.chunkSize;let n,i;if(this.ended)return!1;for(r===~~r?i=r:i=r===!0?gTe:hTe,typeof e=="string"?t.input=ug.string2buf(e):QY.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),(i===pTe||i===mTe)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(n=Sm.deflate(t,i),n===yTe)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),n=Sm.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===vv;if(t.avail_out===0){this.onData(t.output);continue}if(i>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};S0.prototype.onData=function(e){this.chunks.push(e)};S0.prototype.onEnd=function(e){e===vv&&(this.result=k1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function O5(e,r){const t=new S0(r);if(t.push(e,!0),t.err)throw t.msg||qd[t.err];return t.result}function wTe(e,r){return r=r||{},r.raw=!0,O5(e,r)}function _Te(e,r){return r=r||{},r.gzip=!0,O5(e,r)}var kTe=S0,STe=O5,jTe=wTe,NTe=_Te,CTe={Deflate:kTe,deflate:STe,deflateRaw:jTe,gzip:NTe};const Ky=16209,TTe=16191;var ETe=function(r,t){let s,n,i,a,l,u,c,d,p,f,h,g,y,m,v,x,k,T,A,L,q,D,$,z;const K=r.state;s=r.next_in,$=r.input,n=s+(r.avail_in-5),i=r.next_out,z=r.output,a=i-(t-r.avail_out),l=i+(r.avail_out-257),u=K.dmax,c=K.wsize,d=K.whave,p=K.wnext,f=K.window,h=K.hold,g=K.bits,y=K.lencode,m=K.distcode,v=(1<<K.lenbits)-1,x=(1<<K.distbits)-1;e:do{g<15&&(h+=$[s++]<<g,g+=8,h+=$[s++]<<g,g+=8),k=y[h&v];t:for(;;){if(T=k>>>24,h>>>=T,g-=T,T=k>>>16&255,T===0)z[i++]=k&65535;else if(T&16){A=k&65535,T&=15,T&&(g<T&&(h+=$[s++]<<g,g+=8),A+=h&(1<<T)-1,h>>>=T,g-=T),g<15&&(h+=$[s++]<<g,g+=8,h+=$[s++]<<g,g+=8),k=m[h&x];r:for(;;){if(T=k>>>24,h>>>=T,g-=T,T=k>>>16&255,T&16){if(L=k&65535,T&=15,g<T&&(h+=$[s++]<<g,g+=8,g<T&&(h+=$[s++]<<g,g+=8)),L+=h&(1<<T)-1,L>u){r.msg="invalid distance too far back",K.mode=Ky;break e}if(h>>>=T,g-=T,T=i-a,L>T){if(T=L-T,T>d&&K.sane){r.msg="invalid distance too far back",K.mode=Ky;break e}if(q=0,D=f,p===0){if(q+=c-T,T<A){A-=T;do z[i++]=f[q++];while(--T);q=i-L,D=z}}else if(p<T){if(q+=c+p-T,T-=p,T<A){A-=T;do z[i++]=f[q++];while(--T);if(q=0,p<A){T=p,A-=T;do z[i++]=f[q++];while(--T);q=i-L,D=z}}}else if(q+=p-T,T<A){A-=T;do z[i++]=f[q++];while(--T);q=i-L,D=z}for(;A>2;)z[i++]=D[q++],z[i++]=D[q++],z[i++]=D[q++],A-=3;A&&(z[i++]=D[q++],A>1&&(z[i++]=D[q++]))}else{q=i-L;do z[i++]=z[q++],z[i++]=z[q++],z[i++]=z[q++],A-=3;while(A>2);A&&(z[i++]=z[q++],A>1&&(z[i++]=z[q++]))}}else if((T&64)===0){k=m[(k&65535)+(h&(1<<T)-1)];continue r}else{r.msg="invalid distance code",K.mode=Ky;break e}break}}else if((T&64)===0){k=y[(k&65535)+(h&(1<<T)-1)];continue t}else if(T&32){K.mode=TTe;break e}else{r.msg="invalid literal/length code",K.mode=Ky;break e}break}}while(s<n&&i<l);A=g>>3,s-=A,g-=A<<3,h&=(1<<g)-1,r.next_in=s,r.next_out=i,r.avail_in=s<n?5+(n-s):5-(s-n),r.avail_out=i<l?257+(l-i):257-(i-l),K.hold=h,K.bits=g};const zf=15,H9=852,K9=592,Z9=0,A_=1,G9=2,ATe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),PTe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ITe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DTe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MTe=(e,r,t,s,n,i,a,l)=>{const u=l.bits;let c=0,d=0,p=0,f=0,h=0,g=0,y=0,m=0,v=0,x=0,k,T,A,L,q,D=null,$;const z=new Uint16Array(zf+1),K=new Uint16Array(zf+1);let W=null,P,R,C;for(c=0;c<=zf;c++)z[c]=0;for(d=0;d<s;d++)z[r[t+d]]++;for(h=u,f=zf;f>=1&&z[f]===0;f--);if(h>f&&(h=f),f===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<f&&z[p]===0;p++);for(h<p&&(h=p),m=1,c=1;c<=zf;c++)if(m<<=1,m-=z[c],m<0)return-1;if(m>0&&(e===Z9||f!==1))return-1;for(K[1]=0,c=1;c<zf;c++)K[c+1]=K[c]+z[c];for(d=0;d<s;d++)r[t+d]!==0&&(a[K[r[t+d]]++]=d);if(e===Z9?(D=W=a,$=20):e===A_?(D=ATe,W=PTe,$=257):(D=ITe,W=DTe,$=0),x=0,d=0,c=p,q=i,g=h,y=0,A=-1,v=1<<h,L=v-1,e===A_&&v>H9||e===G9&&v>K9)return 1;for(;;){P=c-y,a[d]+1<$?(R=0,C=a[d]):a[d]>=$?(R=W[a[d]-$],C=D[a[d]-$]):(R=96,C=0),k=1<<c-y,T=1<<g,p=T;do T-=k,n[q+(x>>y)+T]=P<<24|R<<16|C|0;while(T!==0);for(k=1<<c-1;x&k;)k>>=1;if(k!==0?(x&=k-1,x+=k):x=0,d++,--z[c]===0){if(c===f)break;c=r[t+a[d]]}if(c>h&&(x&L)!==A){for(y===0&&(y=h),q+=p,g=c-y,m=1<<g;g+y<f&&(m-=z[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,e===A_&&v>H9||e===G9&&v>K9)return 1;A=x&L,n[A]=h<<24|g<<16|q-i|0}}return x!==0&&(n[q+x]=c-y<<24|64<<16|0),l.bits=h,0};var jm=MTe;const RTe=0,YY=1,JY=2,{Z_FINISH:X9,Z_BLOCK:$Te,Z_TREES:Zy,Z_OK:Kd,Z_STREAM_END:OTe,Z_NEED_DICT:FTe,Z_STREAM_ERROR:mo,Z_DATA_ERROR:eJ,Z_MEM_ERROR:tJ,Z_BUF_ERROR:LTe,Z_DEFLATED:Q9}=_0,S1=16180,Y9=16181,J9=16182,eP=16183,tP=16184,rP=16185,nP=16186,sP=16187,iP=16188,aP=16189,xv=16190,Ll=16191,P_=16192,oP=16193,I_=16194,lP=16195,cP=16196,uP=16197,dP=16198,Gy=16199,Xy=16200,fP=16201,hP=16202,pP=16203,mP=16204,gP=16205,D_=16206,yP=16207,bP=16208,Ln=16209,rJ=16210,nJ=16211,zTe=852,BTe=592,UTe=15,VTe=UTe,vP=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function WTe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lf=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<S1||r.mode>nJ?1:0},sJ=e=>{if(lf(e))return mo;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=S1,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(zTe),r.distcode=r.distdyn=new Int32Array(BTe),r.sane=1,r.back=-1,Kd},iJ=e=>{if(lf(e))return mo;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,sJ(e)},aJ=(e,r)=>{let t;if(lf(e))return mo;const s=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?mo:(s.window!==null&&s.wbits!==r&&(s.window=null),s.wrap=t,s.wbits=r,iJ(e))},oJ=(e,r)=>{if(!e)return mo;const t=new WTe;e.state=t,t.strm=e,t.window=null,t.mode=S1;const s=aJ(e,r);return s!==Kd&&(e.state=null),s},qTe=e=>oJ(e,VTe);let xP=!0,M_,R_;const HTe=e=>{if(xP){M_=new Int32Array(512),R_=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(jm(YY,e.lens,0,288,M_,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;jm(JY,e.lens,0,32,R_,0,e.work,{bits:5}),xP=!1}e.lencode=M_,e.lenbits=9,e.distcode=R_,e.distbits=5},lJ=(e,r,t,s)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>s&&(n=s),i.window.set(r.subarray(t-s,t-s+n),i.wnext),s-=n,s?(i.window.set(r.subarray(t-s,t),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},KTe=(e,r)=>{let t,s,n,i,a,l,u,c,d,p,f,h,g,y,m=0,v,x,k,T,A,L,q,D;const $=new Uint8Array(4);let z,K;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lf(e)||!e.output||!e.input&&e.avail_in!==0)return mo;t=e.state,t.mode===Ll&&(t.mode=P_),a=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,c=t.hold,d=t.bits,p=l,f=u,D=Kd;e:for(;;)switch(t.mode){case S1:if(t.wrap===0){t.mode=P_;break}for(;d<16;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,$[0]=c&255,$[1]=c>>>8&255,t.check=Xs(t.check,$,2,0),c=0,d=0,t.mode=Y9;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",t.mode=Ln;break}if((c&15)!==Q9){e.msg="unknown compression method",t.mode=Ln;break}if(c>>>=4,d-=4,q=(c&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){e.msg="invalid window size",t.mode=Ln;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=c&512?aP:Ll,c=0,d=0;break;case Y9:for(;d<16;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(t.flags=c,(t.flags&255)!==Q9){e.msg="unknown compression method",t.mode=Ln;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=Ln;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,t.check=Xs(t.check,$,2,0)),c=0,d=0,t.mode=J9;case J9:for(;d<32;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,$[2]=c>>>16&255,$[3]=c>>>24&255,t.check=Xs(t.check,$,4,0)),c=0,d=0,t.mode=eP;case eP:for(;d<16;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,t.check=Xs(t.check,$,2,0)),c=0,d=0,t.mode=tP;case tP:if(t.flags&1024){for(;d<16;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,t.check=Xs(t.check,$,2,0)),c=0,d=0}else t.head&&(t.head.extra=null);t.mode=rP;case rP:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(i,i+h),q)),t.flags&512&&t.wrap&4&&(t.check=Xs(t.check,s,h,i)),l-=h,i+=h,t.length-=h),t.length))break e;t.length=0,t.mode=nP;case nP:if(t.flags&2048){if(l===0)break e;h=0;do q=s[i+h++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Xs(t.check,s,h,i)),l-=h,i+=h,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=sP;case sP:if(t.flags&4096){if(l===0)break e;h=0;do q=s[i+h++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=Xs(t.check,s,h,i)),l-=h,i+=h,q)break e}else t.head&&(t.head.comment=null);t.mode=iP;case iP:if(t.flags&512){for(;d<16;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(t.wrap&4&&c!==(t.check&65535)){e.msg="header crc mismatch",t.mode=Ln;break}c=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ll;break;case aP:for(;d<32;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}e.adler=t.check=vP(c),c=0,d=0,t.mode=xv;case xv:if(t.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=d,FTe;e.adler=t.check=1,t.mode=Ll;case Ll:if(r===$Te||r===Zy)break e;case P_:if(t.last){c>>>=d&7,d-=d&7,t.mode=D_;break}for(;d<3;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}switch(t.last=c&1,c>>>=1,d-=1,c&3){case 0:t.mode=oP;break;case 1:if(HTe(t),t.mode=Gy,r===Zy){c>>>=2,d-=2;break e}break;case 2:t.mode=cP;break;case 3:e.msg="invalid block type",t.mode=Ln}c>>>=2,d-=2;break;case oP:for(c>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Ln;break}if(t.length=c&65535,c=0,d=0,t.mode=I_,r===Zy)break e;case I_:t.mode=lP;case lP:if(h=t.length,h){if(h>l&&(h=l),h>u&&(h=u),h===0)break e;n.set(s.subarray(i,i+h),a),l-=h,i+=h,u-=h,a+=h,t.length-=h;break}t.mode=Ll;break;case cP:for(;d<14;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(t.nlen=(c&31)+257,c>>>=5,d-=5,t.ndist=(c&31)+1,c>>>=5,d-=5,t.ncode=(c&15)+4,c>>>=4,d-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Ln;break}t.have=0,t.mode=uP;case uP:for(;t.have<t.ncode;){for(;d<3;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.lens[W[t.have++]]=c&7,c>>>=3,d-=3}for(;t.have<19;)t.lens[W[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},D=jm(RTe,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,D){e.msg="invalid code lengths set",t.mode=Ln;break}t.have=0,t.mode=dP;case dP:for(;t.have<t.nlen+t.ndist;){for(;m=t.lencode[c&(1<<t.lenbits)-1],v=m>>>24,x=m>>>16&255,k=m&65535,!(v<=d);){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(k<16)c>>>=v,d-=v,t.lens[t.have++]=k;else{if(k===16){for(K=v+2;d<K;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(c>>>=v,d-=v,t.have===0){e.msg="invalid bit length repeat",t.mode=Ln;break}q=t.lens[t.have-1],h=3+(c&3),c>>>=2,d-=2}else if(k===17){for(K=v+3;d<K;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}c>>>=v,d-=v,q=0,h=3+(c&7),c>>>=3,d-=3}else{for(K=v+7;d<K;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}c>>>=v,d-=v,q=0,h=11+(c&127),c>>>=7,d-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Ln;break}for(;h--;)t.lens[t.have++]=q}}if(t.mode===Ln)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=Ln;break}if(t.lenbits=9,z={bits:t.lenbits},D=jm(YY,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,D){e.msg="invalid literal/lengths set",t.mode=Ln;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},D=jm(JY,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,D){e.msg="invalid distances set",t.mode=Ln;break}if(t.mode=Gy,r===Zy)break e;case Gy:t.mode=Xy;case Xy:if(l>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=d,ETe(e,f),a=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,c=t.hold,d=t.bits,t.mode===Ll&&(t.back=-1);break}for(t.back=0;m=t.lencode[c&(1<<t.lenbits)-1],v=m>>>24,x=m>>>16&255,k=m&65535,!(v<=d);){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(x&&(x&240)===0){for(T=v,A=x,L=k;m=t.lencode[L+((c&(1<<T+A)-1)>>T)],v=m>>>24,x=m>>>16&255,k=m&65535,!(T+v<=d);){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}c>>>=T,d-=T,t.back+=T}if(c>>>=v,d-=v,t.back+=v,t.length=k,x===0){t.mode=gP;break}if(x&32){t.back=-1,t.mode=Ll;break}if(x&64){e.msg="invalid literal/length code",t.mode=Ln;break}t.extra=x&15,t.mode=fP;case fP:if(t.extra){for(K=t.extra;d<K;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=hP;case hP:for(;m=t.distcode[c&(1<<t.distbits)-1],v=m>>>24,x=m>>>16&255,k=m&65535,!(v<=d);){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if((x&240)===0){for(T=v,A=x,L=k;m=t.distcode[L+((c&(1<<T+A)-1)>>T)],v=m>>>24,x=m>>>16&255,k=m&65535,!(T+v<=d);){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}c>>>=T,d-=T,t.back+=T}if(c>>>=v,d-=v,t.back+=v,x&64){e.msg="invalid distance code",t.mode=Ln;break}t.offset=k,t.extra=x&15,t.mode=pP;case pP:if(t.extra){for(K=t.extra;d<K;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Ln;break}t.mode=mP;case mP:if(u===0)break e;if(h=f-u,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Ln;break}h>t.wnext?(h-=t.wnext,g=t.wsize-h):g=t.wnext-h,h>t.length&&(h=t.length),y=t.window}else y=n,g=a-t.offset,h=t.length;h>u&&(h=u),u-=h,t.length-=h;do n[a++]=y[g++];while(--h);t.length===0&&(t.mode=Xy);break;case gP:if(u===0)break e;n[a++]=t.length,u--,t.mode=Xy;break;case D_:if(t.wrap){for(;d<32;){if(l===0)break e;l--,c|=s[i++]<<d,d+=8}if(f-=u,e.total_out+=f,t.total+=f,t.wrap&4&&f&&(e.adler=t.check=t.flags?Xs(t.check,n,f,a-f):lg(t.check,n,f,a-f)),f=u,t.wrap&4&&(t.flags?c:vP(c))!==t.check){e.msg="incorrect data check",t.mode=Ln;break}c=0,d=0}t.mode=yP;case yP:if(t.wrap&&t.flags){for(;d<32;){if(l===0)break e;l--,c+=s[i++]<<d,d+=8}if(t.wrap&4&&c!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=Ln;break}c=0,d=0}t.mode=bP;case bP:D=OTe;break e;case Ln:D=eJ;break e;case rJ:return tJ;case nJ:default:return mo}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,t.hold=c,t.bits=d,(t.wsize||f!==e.avail_out&&t.mode<Ln&&(t.mode<D_||r!==X9))&&lJ(e,e.output,e.next_out,f-e.avail_out),p-=e.avail_in,f-=e.avail_out,e.total_in+=p,e.total_out+=f,t.total+=f,t.wrap&4&&f&&(e.adler=t.check=t.flags?Xs(t.check,n,f,e.next_out-f):lg(t.check,n,f,e.next_out-f)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ll?128:0)+(t.mode===Gy||t.mode===I_?256:0),(p===0&&f===0||r===X9)&&D===Kd&&(D=LTe),D},ZTe=e=>{if(lf(e))return mo;let r=e.state;return r.window&&(r.window=null),e.state=null,Kd},GTe=(e,r)=>{if(lf(e))return mo;const t=e.state;return(t.wrap&2)===0?mo:(t.head=r,r.done=!1,Kd)},XTe=(e,r)=>{const t=r.length;let s,n,i;return lf(e)||(s=e.state,s.wrap!==0&&s.mode!==xv)?mo:s.mode===xv&&(n=1,n=lg(n,r,t,0),n!==s.check)?eJ:(i=lJ(e,r,t,t),i?(s.mode=rJ,tJ):(s.havedict=1,Kd))};var QTe=iJ,YTe=aJ,JTe=sJ,eEe=qTe,tEe=oJ,rEe=KTe,nEe=ZTe,sEe=GTe,iEe=XTe,aEe="pako inflate (from Nodeca project)",Wl={inflateReset:QTe,inflateReset2:YTe,inflateResetKeep:JTe,inflateInit:eEe,inflateInit2:tEe,inflate:rEe,inflateEnd:nEe,inflateGetHeader:sEe,inflateSetDictionary:iEe,inflateInfo:aEe};function oEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lEe=oEe;const cJ=Object.prototype.toString,{Z_NO_FLUSH:cEe,Z_FINISH:uEe,Z_OK:dg,Z_STREAM_END:$_,Z_NEED_DICT:O_,Z_STREAM_ERROR:dEe,Z_DATA_ERROR:wP,Z_MEM_ERROR:fEe}=_0;function j0(e){this.options=k1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XY,this.strm.avail_out=0;let t=Wl.inflateInit2(this.strm,r.windowBits);if(t!==dg)throw new Error(qd[t]);if(this.header=new lEe,Wl.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=ug.string2buf(r.dictionary):cJ.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Wl.inflateSetDictionary(this.strm,r.dictionary),t!==dg)))throw new Error(qd[t])}j0.prototype.push=function(e,r){const t=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?uEe:cEe,cJ.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),i=Wl.inflate(t,a),i===O_&&n&&(i=Wl.inflateSetDictionary(t,n),i===dg?i=Wl.inflate(t,a):i===wP&&(i=O_));t.avail_in>0&&i===$_&&t.state.wrap>0&&e[t.next_in]!==0;)Wl.inflateReset(t),i=Wl.inflate(t,a);switch(i){case dEe:case wP:case O_:case fEe:return this.onEnd(i),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||i===$_))if(this.options.to==="string"){let u=ug.utf8border(t.output,t.next_out),c=t.next_out-u,d=ug.buf2string(t.output,u);t.next_out=c,t.avail_out=s-c,c&&t.output.set(t.output.subarray(u,u+c),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===dg&&l===0)){if(i===$_)return i=Wl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};j0.prototype.onData=function(e){this.chunks.push(e)};j0.prototype.onEnd=function(e){e===dg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=k1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function F5(e,r){const t=new j0(r);if(t.push(e),t.err)throw t.msg||qd[t.err];return t.result}function hEe(e,r){return r=r||{},r.raw=!0,F5(e,r)}var pEe=j0,mEe=F5,gEe=hEe,yEe=F5,bEe={Inflate:pEe,inflate:mEe,inflateRaw:gEe,ungzip:yEe};const{Deflate:vEe,deflate:xEe,deflateRaw:wEe,gzip:_Ee}=CTe,{Inflate:kEe,inflate:SEe,inflateRaw:jEe,ungzip:NEe}=bEe;var CEe=vEe,TEe=xEe,EEe=wEe,AEe=_Ee,PEe=kEe,IEe=SEe,DEe=jEe,MEe=NEe,REe=_0,$Ee={Deflate:CEe,deflate:TEe,deflateRaw:EEe,gzip:AEe,Inflate:PEe,inflate:IEe,inflateRaw:DEe,ungzip:MEe,constants:REe};const OEe=()=>"web",FEe=e=>{switch(e){case"android":return" ";case"ios":return" iOS";default:return" "}};function F_(){const[,e]=zs(),r=OEe(),[t,s]=E.useState(navigator.onLine),[n,i]=E.useState("permissions"),[a,l]=E.useState(!1),[u,c]=E.useState(null),[d,p]=E.useState(""),[f,h]=E.useState(null),[g,y]=E.useState(!1),m=E.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[x,k]=E.useState(v.filter(ee=>ee.platforms.includes(r))),T=E.useCallback((ee,oe)=>{k(ne=>ne.map(fe=>fe.id===ee?{...fe,...oe}:fe))},[]);E.useEffect(()=>{const ee=()=>s(!0),oe=()=>s(!1);return window.addEventListener("online",ee),window.addEventListener("offline",oe),()=>{window.removeEventListener("online",ee),window.removeEventListener("offline",oe)}},[]);const A=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const ee="__storage_test__";return localStorage.setItem(ee,ee),localStorage.removeItem(ee),"indexedDB"in window?new Promise(oe=>{const ne=indexedDB.open("__test_db__",1);ne.onerror=()=>oe("denied"),ne.onsuccess=()=>{ne.result.close(),indexedDB.deleteDatabase("__test_db__"),oe("granted")}}):"granted"}catch{return"denied"}},L=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},q=async()=>{if(!navigator.onLine)return"denied";try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),5e3),ne=await fetch("/api/health",{method:"GET",signal:ee.signal,cache:"no-store"});return clearTimeout(oe),ne.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},D=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const ee=await navigator.permissions.query({name:"geolocation"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},$=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const ee=await navigator.permissions.query({name:"camera"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},z=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},K=async()=>{try{if("getBattery"in navigator){const ee=await navigator.getBattery();return T("battery",{details:`${Math.round(ee.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},W=async()=>{try{const ee=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return ee?(T("networkInfo",{details:ee.effectiveType||ee.type}),"granted"):"unavailable"}catch{return"unavailable"}},P=async()=>{try{await jv();const ee=["projects","workers","financialTransfers","wells","wellExpenses"];let oe=0;const ne={};for(const fe of ee)try{const le=await kd(fe);oe+=le,ne[fe]=le}catch{ne[fe]=0}{const fe={totalRecords:oe,tables:ne,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:oe===0};T("database",{details:oe>0?`${oe} `:"",expandedDetails:fe})}return"granted"}catch(ee){return console.error("[DB Check] :",ee),"denied"}},R=async()=>{try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),8e3),ne=performance.now(),fe=await fetch("/api/health",{signal:ee.signal,cache:"no-store"}),le=Math.round(performance.now()-ne);if(clearTimeout(oe),fe.ok){const ae=await fe.json().catch(()=>({})),te=ae.database==="connected"?"":"",se=localStorage.getItem("emergency_mode")==="true",de={dbStatus:te,responseTime:`${le}ms`,status:fe.status,emergencyMode:se?"":"",timestamp:new Date().toLocaleString("ar-SA")};return T("server",{details:te,expandedDetails:de}),ae.database==="connected"?"granted":"warning"}return T("server",{details:"  ",expandedDetails:{status:fe.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(ee){return T("server",{details:" ",expandedDetails:{error:ee.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},C=async()=>{try{const ee="latest_backup_timestamp",oe=localStorage.getItem(ee);let ne=!1,fe="";if(navigator.onLine)try{const ae=new AbortController,te=setTimeout(()=>ae.abort(),1e4),se=await fetch("/api/sync/latest-backup",{signal:ae.signal,cache:"no-store"});if(clearTimeout(te),se.ok){const de=await se.json();if(de.timestamp)return ne=!0,fe=new Date(de.timestamp).toLocaleString("ar-SA"),localStorage.setItem(ee,de.timestamp),T("backup",{details:" ",expandedDetails:{source:"",timestamp:fe,status:""}}),"granted"}}catch{}if(oe){const ae=new Date(oe),se=(new Date().getTime()-ae.getTime())/(1e3*60*60),de=ae.toLocaleString("ar-SA");if(se<24){const ge={source:"",timestamp:de,ageHours:Math.round(se),status:""};return T("backup",{details:" ",expandedDetails:ge}),"granted"}else if(se<168){const ge={source:"",timestamp:de,ageHours:Math.round(se),status:""};return T("backup",{details:" ",expandedDetails:ge}),"warning"}}return T("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},_=async()=>{try{const ee=localStorage.getItem("emergency_mode")==="true",oe=localStorage.getItem("offline_queue");let ne=0;if(oe)try{const te=JSON.parse(oe);ne=Array.isArray(te)?te.length:0}catch{}let fe=!1,le=0;try{le=await kd("projects"),fe=le>0}catch{le=0}const ae={mode:ee?"":"",queueCount:ne,hasLocalData:fe,projectsCount:le,timestamp:new Date().toLocaleString("ar-SA")};return ee?(T("emergency",{details:` (${ne} )`,expandedDetails:ae}),"warning"):fe?(T("emergency",{details:" ",expandedDetails:ae}),"granted"):(T("emergency",{details:" ",expandedDetails:ae}),"pending")}catch{return"denied"}},S=async()=>{try{const ee=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],oe={},ne=[];let fe=!0;for(const se of ee)try{const de=await kd(se);oe[se]=de,ne.push({name:se,count:de,status:"ok"})}catch{oe[se]=-1,ne.push({name:se,count:0,status:"error"}),fe=!1}const le=Object.values(oe).filter(se=>se>=0).reduce((se,de)=>se+de,0),ae=Object.values(oe).filter(se=>se>=0).length,te={tables:ne,totalRecords:le,validTables:ae,totalTables:ee.length,timestamp:new Date().toLocaleString("ar-SA")};return T("tables",{details:`${ae}/${ee.length}  (${le} )`,expandedDetails:te}),fe?"granted":"warning"}catch(ee){return console.error("[Tables Check] Error:",ee),"denied"}},j=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await Cd(),"granted"}catch{return"denied"}},N=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},M=async()=>{try{return"geolocation"in navigator?new Promise(ee=>{navigator.geolocation.getCurrentPosition(()=>ee("granted"),oe=>ee(oe.code===oe.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},O=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(oe=>oe.stop()),"granted"}catch(ee){return ee.name==="NotAllowedError"?"denied":ee.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},B=async()=>{try{return await QX(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},G=async ee=>new Promise((oe,ne)=>{const fe=new FileReader;fe.onload=async le=>{try{const ae=le.target?.result;if(ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")){const te=new Uint8Array(ae),se=$Ee.ungzip(te,{to:"string"});if(ee.name.includes(".sql"))oe({type:"sql",content:se});else try{const de=JSON.parse(se);oe({type:"json",content:de})}catch{oe({type:"sql",content:se})}}else if(ee.name.endsWith(".sql"))oe({type:"sql",content:ae});else if(ee.name.endsWith(".json")){const te=JSON.parse(ae);oe({type:"json",content:te})}else try{const te=JSON.parse(ae);oe({type:"json",content:te})}catch{oe({type:"sql",content:ae})}}catch(ae){ne(ae)}},fe.onerror=()=>ne(new Error("   ")),ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")?fe.readAsArrayBuffer(ee):fe.readAsText(ee)}),Q=async ee=>{if(ee.type==="json"){const oe=ee.content,ne=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const fe of ne)if(oe[fe]&&Array.isArray(oe[fe]))for(const le of oe[fe])try{await Pi(fe,le)}catch(ae){console.warn(`[Import]    ${fe}:`,ae)}}else if(ee.type==="sql"){const oe=ee.content,ne=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let fe;for(;(fe=ne.exec(oe))!==null;){const le=fe[1].toLowerCase(),ae=fe[2].split(",").map(ge=>ge.trim().replace(/"/g,"")),se=fe[3].split(",").map(ge=>(ge=ge.trim(),ge==="NULL"||ge==="null"?null:ge.startsWith("'")&&ge.endsWith("'")?ge.slice(1,-1):isNaN(Number(ge))?ge:Number(ge))),de={};ae.forEach((ge,ke)=>{de[ge]=se[ke]});try{await db.put(le,de)}catch(ge){console.warn("[SQL Import] :",ge)}}}},re=async ee=>{const oe=ee.target.files?.[0];if(oe){p("  ...");try{const ne=await G(oe);p("  ..."),await Q(ne),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",oe.name),T("backup",{status:"granted",details:" "}),T("database",{status:"granted",details:" "}),p("  !"),setTimeout(()=>p(""),3e3)}catch(ne){console.error("[Import] :",ne),p(`: ${ne.message}`),setTimeout(()=>p(""),5e3)}m.current&&(m.current.value="")}},F=ee=>{switch(ee){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};E.useEffect(()=>{const ee=localStorage.getItem("permissions_granted")==="true",oe=localStorage.getItem("setup_complete")==="true";if(ee&&oe){e("/login");return}(async()=>{const fe=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const le of fe){if(!x.find(te=>te.id===le))continue;c(le);let ae="pending";le==="storage"?ae=await A():le==="notifications"?ae=await L():le==="network"?ae=await q():le==="geolocation"?ae=await D():le==="camera"?ae=await $():le==="vibration"?ae=await z():le==="battery"?ae=await K():le==="networkInfo"&&(ae=await W()),T(le,{status:ae,details:x.find(te=>te.id===le)?.details||F(ae)})}c(null)})()},[e,T,r,x]);const Y=async()=>{l(!0);const ee=[{id:"storage",fn:j},{id:"notifications",fn:N},{id:"geolocation",fn:M},{id:"camera",fn:O}];for(const le of ee){if(!x.find(te=>te.id===le.id))continue;c(le.id),T(le.id,{status:"checking"});const ae=await le.fn();T(le.id,{status:ae,details:F(ae)})}i("system");const oe=[{id:"database",fn:P},{id:"server",fn:R},{id:"backup",fn:C},{id:"emergency",fn:_},{id:"tables",fn:S}];let ne="denied";for(const le of oe){if(!x.find(te=>te.id===le.id))continue;c(le.id),T(le.id,{status:"checking"});const ae=await le.fn();le.id==="database"&&(ne=ae),le.id==="server"&&ae==="denied"&&localStorage.setItem("emergency_mode","true"),T(le.id,{status:ae,details:x.find(te=>te.id===le.id)?.details||F(ae)})}const fe=x.find(le=>le.id==="backup");if(fe&&(fe.status==="granted"||fe.status==="warning")){c("backup"),T("backup",{status:"checking",details:" ..."});const le=await B();T("backup",{status:le,details:le==="granted"?" ":" "})}c(null),l(!1),(ne==="granted"||ne==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),i("complete"),setTimeout(()=>e("/login"),1500))},V=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),e("/login")},U=async()=>{y(!0),h(null);const ee=[{id:"database",fn:P},{id:"server",fn:R},{id:"backup",fn:C},{id:"emergency",fn:_},{id:"tables",fn:S}];for(const oe of ee)if(x.find(fe=>fe.id===oe.id)){c(oe.id),T(oe.id,{status:"checking"});try{const fe=await oe.fn();T(oe.id,{status:fe})}catch(fe){console.error(`[Refresh] Error checking ${oe.id}:`,fe),T(oe.id,{status:"warning"})}}c(null),y(!1)},Z=ee=>({storage:pa,notifications:Ta,network:Sd,geolocation:cl,camera:OR,database:Em,server:Pd,backup:Ls,vibration:die,battery:Ese,networkInfo:aie,emergency:Oo,tables:pa})[ee]||Oo,ie=Math.round(x.filter(ee=>["granted","warning","unavailable","denied"].includes(ee.status)).length/x.length*100),me=x.filter(ee=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(ee.id)),ce=x.filter(ee=>["database","server","backup","emergency","tables"].includes(ee.id)),ye=n==="permissions"?me:n==="system"?ce:x;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${ie}%`}})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:n==="complete"?o.jsx(wn,{className:"w-8 h-8 text-green-500"}):o.jsx(pi,{className:"w-8 h-8 text-primary"})}),o.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:n==="permissions"?" ":n==="system"?" ":" "}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[t?o.jsxs(o.Fragment,{children:[o.jsx(Sd,{className:"w-3.5 h-3.5 text-green-500"})," "]}):o.jsxs(o.Fragment,{children:[o.jsx(qf,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),o.jsx("span",{className:"text-muted-foreground/50",children:""}),o.jsxs(o.Fragment,{children:[o.jsx(uS,{className:"w-3.5 h-3.5"})," "]})]})]}),o.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ye.map(ee=>{const oe=Z(ee.id),ne=u===ee.id,fe=f===ee.id,le=ee.expandedDetails&&Object.keys(ee.expandedDetails).length>0;return o.jsxs("div",{"data-testid":`check-${ee.id}`,className:Ae("rounded-xl border transition-all duration-200",ee.status==="checking"&&"border-primary/40 bg-primary/5",ee.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",ee.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",ee.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",ee.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",ee.status==="pending"&&"border-border/50 bg-muted/30"),children:[o.jsxs("div",{className:"flex items-center gap-3 p-3",children:[o.jsx("div",{className:Ae("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",ee.status==="checking"&&"bg-primary/15 text-primary",ee.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",ee.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",ee.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",ee.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",ee.status==="pending"&&"bg-muted text-muted-foreground"),children:ee.status==="checking"||ne?o.jsx(an,{className:"w-4 h-4 animate-spin"}):ee.status==="granted"?o.jsx(wn,{className:"w-4 h-4"}):["denied","warning"].includes(ee.status)?o.jsx(ti,{className:"w-4 h-4"}):o.jsx(oe,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:Ae("text-sm font-medium truncate",ee.status==="pending"?"text-muted-foreground":"text-foreground"),children:ee.label}),ee.required&&ee.status!=="granted"&&o.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ee.details&&o.jsx("span",{className:Ae("text-xs shrink-0",ee.status==="granted"&&"text-green-600 dark:text-green-400",ee.status==="warning"&&"text-amber-600 dark:text-amber-400",ee.status==="denied"&&"text-red-600 dark:text-red-400",ee.status==="unavailable"&&"text-slate-400"),children:ee.details}),le&&o.jsx("button",{onClick:()=>h(fe?null:ee.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${ee.id}`,children:fe?o.jsx(Lo,{className:"w-4 h-4"}):o.jsx(Bn,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:ee.description})]})]}),fe&&le&&o.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:o.jsx("div",{className:"mt-3 space-y-2 text-xs",children:ee.id==="tables"&&ee.expandedDetails?.tables?o.jsx(o.Fragment,{children:ee.expandedDetails.tables.map(ae=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[o.jsx("span",{className:"font-medium",children:ae.name}),o.jsxs("span",{className:ae.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ae.count," "]})]},ae.name))}):Object.entries(ee.expandedDetails||{}).map(([ae,te])=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[o.jsx("span",{className:"text-muted-foreground",children:ae}),o.jsx("span",{className:"font-medium",children:String(te)})]},ae))})})]},ee.id)})}),n!=="complete"&&o.jsxs("div",{className:"space-y-2",children:[n==="system"&&o.jsx(Ie,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:U,disabled:a||g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"w-4 h-4 ml-2"})," "]})}),o.jsx(Ie,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:Y,disabled:a||g,children:a?o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"w-4 h-4 ml-2"}),"   "]})}),o.jsx(Input,{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:re,className:"hidden","data-testid":"input-backup-file"}),o.jsxs(Ie,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:a,children:[o.jsx(vk,{className:"w-4 h-4 ml-2"}),"  "]}),d&&o.jsx("div",{className:Ae("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),o.jsx(Ie,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:V,disabled:a,children:" ( )"})]}),n==="complete"&&o.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[o.jsx(wn,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),o.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),o.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",FEe(r),"   "]})]})})]})}function LEe(){const[e,r]=E.useState(()=>eg()),[t,s]=E.useState(navigator.onLine),[n,i]=E.useState([]),[a,l]=E.useState([]),[u,c]=E.useState([]),[d,p]=E.useState([]),[f,h]=E.useState([]),[g,y]=E.useState(null),m=E.useCallback(async()=>{try{const[L,q,D,$,z,K]=await Promise.all([hu(),Ore(),JM(),zre(),YM(100),Vre()]);i(L),l(q),c(D),p($),h(z),y(K)}catch(L){console.warn(" [useSyncData]   :",L)}},[]);E.useEffect(()=>{const L=g1(z=>{r(z),m()}),q=()=>{s(!0),iu().catch(console.error)},D=()=>s(!1);window.addEventListener("online",q),window.addEventListener("offline",D),m();const $=setInterval(m,1e4);return()=>{L(),window.removeEventListener("online",q),window.removeEventListener("offline",D),clearInterval($)}},[m]);const v=async()=>{t&&(await iu(),await m())},x=async L=>{await Fre(L),await m()},k=async()=>{await Lre(),await m()},T=async L=>{await Bre(L),await m()},A=async()=>{await Ure(),await m()};return{isSyncing:e.isSyncing,offlineCount:e.pendingCount,lastSync:e.lastSync,lastError:e.lastError,lastErrorType:e.lastErrorType,lastErrorDetails:e.lastErrorDetails,isOnline:t,latency:e.latency,progress:e.progress,pendingItems:n,allQueueItems:a,failedItems:u,duplicateItems:d,syncHistory:f,offlineStats:g,manualSync:v,cancelOperation:x,cancelAllOperations:k,retryOperation:T,retryAllOperations:A,refreshData:m}}const L_={syncAuditLogs:"/api/sync-audit/logs",syncAuditStats:"/api/sync-audit/stats",syncAuditModules:"/api/sync-audit/modules"};function uJ(e){if(!e)return" ";const r=Date.now()-e,t=Math.floor(r/1e3);if(t<60)return` ${t} `;const s=Math.floor(t/60);if(s<60)return` ${s} `;const n=Math.floor(s/60);return n<24?` ${n} `:` ${Math.floor(n/24)} `}function dJ(e){if(!e)return"-";const r=new Date(e);return r.toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})+" "+r.toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit"})}function fJ(e){switch(e){case"create":return"";case"update":return"";case"delete":return"";default:return e}}function hJ(e){switch(e){case"pending":return o.jsx(At,{variant:"secondary","data-testid":"badge-status-pending",children:" "});case"in-flight":return o.jsx(At,{variant:"default","data-testid":"badge-status-inflight",children:" "});case"failed":return o.jsx(At,{variant:"destructive","data-testid":"badge-status-failed",children:""});case"conflict":return o.jsx(At,{variant:"warning","data-testid":"badge-status-conflict",children:""});case"duplicate-resolved":return o.jsx(At,{variant:"outline","data-testid":"badge-status-duplicate",children:" -  "});case"success":return o.jsx(At,{variant:"success","data-testid":"badge-status-success",children:""});case"duplicate":return o.jsx(At,{variant:"outline","data-testid":"badge-status-dup-log",children:""});case"skipped":return o.jsx(At,{variant:"secondary","data-testid":"badge-status-skipped",children:" "});default:return o.jsx(At,{variant:"secondary",children:e||" "})}}function pJ(e){const t=e.split("/")[2]||e;return{"fund-transfers":" ","project-fund-transfers":" ",workers:"","worker-attendance":" ",suppliers:"",materials:"","material-purchases":" ","supplier-payments":" ","transportation-expenses":" ",projects:""}[t]||t}function zEe(){const{isSyncing:e,isOnline:r,pendingItems:t,failedItems:s,duplicateItems:n,syncHistory:i,offlineStats:a,lastSync:l,latency:u,cancelOperation:c,retryOperation:d,retryAllOperations:p}=LEe(),{toast:f}=pn(),[h,g]=E.useState("pending"),[y,m]=E.useState(new Set),{searchValue:v,filterValues:x,onSearchChange:k,onFilterChange:T,onReset:A}=y1({action:"all",status:"all"},""),{data:L=[]}=xt({queryKey:ve.projects,queryFn:async()=>{const _=await qe("/api/projects","GET");return _?.data||_||[]}}),q=_=>_.filter(S=>{const j=!v||(S.endpoint||"").toLowerCase().includes(v.toLowerCase())||(S.id||"").toLowerCase().includes(v.toLowerCase())||(S.lastError||"").toLowerCase().includes(v.toLowerCase()),N=x.action==="all"||S.action===x.action;return j&&N}),D=E.useMemo(()=>q(t),[t,v,x]),$=E.useMemo(()=>q(s),[s,v,x]),z=E.useMemo(()=>i.filter(_=>{const S=!v||(_.endpoint||"").toLowerCase().includes(v.toLowerCase())||(_.errorMessage||"").toLowerCase().includes(v.toLowerCase()),j=x.status==="all"||_.status===x.status;return S&&j}),[i,v,x]),K=_=>{m(S=>{const j=new Set(S);return j.has(_)?j.delete(_):j.add(_),j})},W=async _=>{await c(_),f({title:" ",description:"     "})},P=async _=>{await d(_),f({title:" ",description:"     "})},R=async()=>{await p(),f({title:" ",description:"    "})},C=i.filter(_=>_.status==="success").length;return i.filter(_=>_.status==="failed").length,i.filter(_=>_.status==="duplicate").length,o.jsxs("div",{className:"space-y-4 pb-20","data-testid":"page-sync-management",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(At,{variant:r?"success":"destructive","data-testid":"badge-connection-status",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Sd,{className:"h-3 w-3 ml-1"})," "]}):o.jsxs(o.Fragment,{children:[o.jsx(qf,{className:"h-3 w-3 ml-1"}),"  "]})}),l>0&&o.jsxs(At,{variant:"outline","data-testid":"badge-last-sync",children:[o.jsx(Un,{className:"h-3 w-3 ml-1"})," : ",uJ(l)]}),u&&u>0&&o.jsxs(At,{variant:"outline","data-testid":"badge-latency",children:[o.jsx(pi,{className:"h-3 w-3 ml-1"}),u,"ms"]}),e&&o.jsxs(At,{variant:"default","data-testid":"badge-syncing",children:[o.jsx(Ls,{className:"h-3 w-3 ml-1 animate-spin"})," "]})]}),o.jsx(ku,{stats:[{title:" ",value:a?.pendingSync??t.length,icon:Un,color:t.length>0?"orange":"blue",status:t.length>10?"warning":"normal"},{title:"",value:a?.failedSync??s.length,icon:Ab,color:s.length>0?"red":"gray",status:s.length>0?"critical":"normal"},{title:" ( 100)",value:a?.totalSuccessful??C,icon:wn,color:"green"},{title:"  ",value:a?.duplicateResolved??n.length,icon:Vf,color:"purple"}],columns:4,hideHeader:!0}),o.jsx(ir,{className:"border-none shadow-sm",children:o.jsx(br,{className:"p-3",children:o.jsx(f5,{searchValue:v,onSearchChange:k,placeholder:"      ...",filters:[{key:"action",label:" ",options:[{label:"",value:"all"},{label:"",value:"create"},{label:"",value:"update"},{label:"",value:"delete"}]},...h==="history"?[{key:"status",label:"",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"failed"},{label:"",value:"duplicate"},{label:" ",value:"skipped"}]}]:[]],filterValues:x,onFilterChange:T,onReset:A})})}),o.jsxs(wQ,{value:h,onValueChange:g,className:"w-full",dir:"rtl",children:[o.jsxs(v5,{className:"grid w-full grid-cols-5 mb-4","data-testid":"tabs-sync",children:[o.jsxs(no,{value:"pending",className:"gap-1","data-testid":"tab-pending",children:[o.jsx(Un,{className:"h-3.5 w-3.5"}),"",t.length>0&&o.jsx(At,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:t.length})]}),o.jsxs(no,{value:"failed",className:"gap-1","data-testid":"tab-failed",children:[o.jsx(sc,{className:"h-3.5 w-3.5"}),"",s.length>0&&o.jsx(At,{variant:"destructive",className:"mr-1 text-[10px] px-1.5",children:s.length})]}),o.jsxs(no,{value:"duplicates",className:"gap-1","data-testid":"tab-duplicates",children:[o.jsx(Vf,{className:"h-3.5 w-3.5"}),"",n.length>0&&o.jsx(At,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:n.length})]}),o.jsxs(no,{value:"history",className:"gap-1","data-testid":"tab-history",children:[o.jsx(J8,{className:"h-3.5 w-3.5"}),""]}),o.jsxs(no,{value:"server-audit",className:"gap-1","data-testid":"tab-server-audit",children:[o.jsx(Pd,{className:"h-3.5 w-3.5"})," "]})]}),o.jsx(so,{value:"pending",children:o.jsx(z_,{items:D,emptyMessage:"   ",emptyIcon:wn,expandedItems:y,onToggleExpand:K,actions:_=>o.jsx("div",{className:"flex items-center gap-1",children:o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>W(_.id),"data-testid":`button-cancel-${_.id.substring(0,8)}`,children:o.jsx(Yn,{className:"h-4 w-4 text-destructive"})})}),projects:L})}),o.jsxs(so,{value:"failed",children:[s.length>0&&o.jsx("div",{className:"flex justify-end mb-3 gap-2",children:o.jsxs(Ie,{variant:"outline",size:"sm",onClick:R,"data-testid":"button-retry-all",children:[o.jsx(Xl,{className:"h-3.5 w-3.5 ml-1"}),"   (",s.length,")"]})}),o.jsx(z_,{items:$,emptyMessage:"   ",emptyIcon:wn,showError:!0,expandedItems:y,onToggleExpand:K,actions:_=>o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>P(_.id),"data-testid":`button-retry-${_.id.substring(0,8)}`,children:o.jsx(Xl,{className:"h-4 w-4 text-blue-500"})}),o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>W(_.id),"data-testid":`button-delete-${_.id.substring(0,8)}`,children:o.jsx(Yn,{className:"h-4 w-4 text-destructive"})})]}),projects:L})]}),o.jsx(so,{value:"duplicates",children:o.jsx(z_,{items:n,emptyMessage:"   ",emptyIcon:Vf,showError:!0,expandedItems:y,onToggleExpand:K,actions:_=>o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>W(_.id),"data-testid":`button-clear-dup-${_.id.substring(0,8)}`,children:o.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"})}),projects:L})}),o.jsx(so,{value:"history",children:o.jsx(Zo,{className:"h-[500px]",children:z.length===0?o.jsx(L5,{icon:J8,message:"    "}):o.jsx("div",{className:"space-y-2",children:z.map(_=>o.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card","data-testid":`log-entry-${_.id.substring(0,8)}`,children:o.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${_.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":_.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":_.status==="duplicate"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:_.status==="success"?o.jsx(wn,{className:"h-4 w-4"}):_.status==="failed"?o.jsx(Ab,{className:"h-4 w-4"}):_.status==="duplicate"?o.jsx(Vf,{className:"h-4 w-4"}):o.jsx(ti,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[hJ(_.status),o.jsx(At,{variant:"outline",className:"text-[10px]",children:fJ(_.action)}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:pJ(_.endpoint)})]}),_.errorMessage&&o.jsx("p",{className:"text-xs text-destructive truncate",children:_.errorMessage}),_.payloadSummary&&o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:_.payloadSummary}),o.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ks,{className:"h-3 w-3"}),dJ(_.timestamp)]}),_.duration&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(pi,{className:"h-3 w-3"}),_.duration,"ms"]}),_.retryCount!==void 0&&_.retryCount>0&&o.jsxs("span",{children:[" #",_.retryCount]})]})]})]})},_.id))})})}),o.jsx(so,{value:"server-audit",children:o.jsx(BEe,{})})]})]})}function BEe(){const[e,r]=E.useState(1),[t,s]=E.useState("all"),[n,i]=E.useState("all"),[a,l]=E.useState("all"),[u,c]=E.useState(""),[d,p]=E.useState(new Set),f=E.useMemo(()=>({page:e,limit:30,module:t!=="all"?t:void 0,status:n!=="all"?n:void 0,action:a!=="all"?a:void 0,search:u||void 0}),[e,t,n,a,u]),h=E.useMemo(()=>{const z=new URLSearchParams;return Object.entries(f).forEach(([K,W])=>{W!==void 0&&z.set(K,String(W))}),z.toString()},[f]),{data:g,isLoading:y}=xt({queryKey:ve.syncAuditLogsFiltered(f),queryFn:async()=>await qe(`${L_.syncAuditLogs}?${h}`,"GET"),refetchInterval:3e4}),{data:m}=xt({queryKey:ve.syncAuditStats,queryFn:async()=>{const z=await qe(L_.syncAuditStats,"GET");return z?.data||z||{}},refetchInterval:6e4}),{data:v}=xt({queryKey:ve.syncAuditModules,queryFn:async()=>{const z=await qe(L_.syncAuditModules,"GET");return z?.data||z?.modules||[]}}),x=g?.logs||[],k=g?.pagination||{},T={total:k.total||0,pages:k.totalPages||k.pages||1},A=m||{},L=Array.isArray(v)?v:[],q=z=>{p(K=>{const W=new Set(K);return W.has(z)?W.delete(z):W.add(z),W})};function D(z){switch(z){case"success":return o.jsx(At,{variant:"success",children:""});case"failed":return o.jsx(At,{variant:"destructive",children:""});case"duplicate":return o.jsx(At,{variant:"outline",children:""});case"skipped":return o.jsx(At,{variant:"secondary",children:""});case"conflict":return o.jsx(At,{variant:"destructive",children:""});default:return o.jsx(At,{variant:"secondary",children:z})}}function $(z){const W={create:{label:"",variant:"success"},update:{label:"",variant:"default"},delete:{label:"",variant:"destructive"},sync_push:{label:"",variant:"default"},sync_pull:{label:"",variant:"default"},full_backup:{label:" ",variant:"outline"},delta_sync:{label:" ",variant:"outline"},instant_sync:{label:" ",variant:"outline"}}[z]||{label:z,variant:"secondary"};return o.jsx(At,{variant:W.variant,className:"text-[10px]",children:W.label})}return o.jsxs("div",{className:"space-y-4","data-testid":"server-audit-section",children:[o.jsx(ku,{stats:[{title:" ",value:A.total||0,icon:pa,color:"blue"},{title:"",value:A.success||0,icon:wn,color:"green"},{title:"",value:A.failed||0,icon:Ab,color:(A.failed||0)>0?"red":"gray"},{title:"",value:A.todayCount||0,icon:ks,color:"purple"}],columns:4,hideHeader:!0}),o.jsx(ir,{className:"border-none shadow-sm",children:o.jsx(br,{className:"p-3",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[o.jsx(Bo,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(vt,{placeholder:"   ...",value:u,onChange:z=>{c(z.target.value),r(1)},className:"pr-9","data-testid":"input-audit-search"})]}),o.jsxs(es,{value:t,onValueChange:z=>{s(z),r(1)},children:[o.jsx(Wn,{className:"w-[140px]","data-testid":"select-audit-module",children:o.jsx(ts,{placeholder:""})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"all",children:" "}),L.map(z=>o.jsx(zt,{value:z.value||z,children:z.label||z},z.value||z))]})]}),o.jsxs(es,{value:n,onValueChange:z=>{i(z),r(1)},children:[o.jsx(Wn,{className:"w-[120px]","data-testid":"select-audit-status",children:o.jsx(ts,{placeholder:""})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"all",children:" "}),o.jsx(zt,{value:"success",children:""}),o.jsx(zt,{value:"failed",children:""}),o.jsx(zt,{value:"duplicate",children:""}),o.jsx(zt,{value:"skipped",children:""}),o.jsx(zt,{value:"conflict",children:""})]})]}),o.jsxs(es,{value:a,onValueChange:z=>{l(z),r(1)},children:[o.jsx(Wn,{className:"w-[140px]","data-testid":"select-audit-action",children:o.jsx(ts,{placeholder:" "})}),o.jsxs(qn,{children:[o.jsx(zt,{value:"all",children:" "}),o.jsx(zt,{value:"create",children:""}),o.jsx(zt,{value:"update",children:""}),o.jsx(zt,{value:"delete",children:""}),o.jsx(zt,{value:"full_backup",children:" "}),o.jsx(zt,{value:"delta_sync",children:" "}),o.jsx(zt,{value:"instant_sync",children:" "})]})]})]})})}),y?o.jsxs("div",{className:"flex items-center justify-center py-16 text-muted-foreground",children:[o.jsx(Ls,{className:"h-6 w-6 animate-spin ml-2"}),o.jsx("span",{children:" ..."})]}):x.length===0?o.jsx(L5,{icon:Oo,message:"    "}):o.jsx(Zo,{className:"h-[500px]",children:o.jsx("div",{className:"space-y-2",children:x.map(z=>{const K=d.has(z.id);return o.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`audit-log-${z.id}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${z.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":z.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:z.status==="success"?o.jsx(wn,{className:"h-4 w-4"}):z.status==="failed"?o.jsx(Ab,{className:"h-4 w-4"}):o.jsx(ti,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[D(z.status),$(z.action),o.jsx(At,{variant:"outline",className:"text-[10px]",children:z.module})]}),o.jsx("p",{className:"text-sm truncate",children:z.description}),z.errorMessage&&o.jsx("p",{className:"text-xs text-destructive truncate",children:z.errorMessage}),o.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ks,{className:"h-3 w-3"}),new Date(z.createdAt).toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})," ",new Date(z.createdAt).toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),z.userName&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Qd,{className:"h-3 w-3"}),z.userName]}),z.durationMs&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(pi,{className:"h-3 w-3"}),z.durationMs,"ms"]}),z.projectName&&o.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[o.jsx(hs,{className:"h-3 w-3"}),z.projectName]})]})]})]}),o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>q(z.id),"data-testid":`button-expand-audit-${z.id}`,children:K?o.jsx(Lo,{className:"h-4 w-4"}):o.jsx(Bn,{className:"h-4 w-4"})})]}),K&&o.jsx("div",{className:"border-t p-3 bg-muted/30",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:": "}),o.jsx("span",{children:z.tableName})]}),z.recordId&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-mono text-[11px]",children:z.recordId})]}),z.syncType&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{children:z.syncType})]}),z.ipAddress&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" IP: "}),o.jsx("span",{className:"font-mono text-[11px]",dir:"ltr",children:z.ipAddress})]}),z.amount&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:": "}),o.jsx("span",{children:Number(z.amount).toLocaleString("ar-SA")})]}),z.oldValues&&o.jsx("div",{className:"col-span-full",children:o.jsxs("details",{children:[o.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),o.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify(z.oldValues,null,2)})]})}),z.newValues&&o.jsx("div",{className:"col-span-full",children:o.jsxs("details",{children:[o.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),o.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify(z.newValues,null,2)})]})})]})})]},z.id)})})}),T.pages>1&&o.jsxs("div",{className:"flex items-center justify-between px-2",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",e,"  ",T.pages," (",T.total," )"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ie,{variant:"outline",size:"icon",disabled:e<=1,onClick:()=>r(z=>Math.max(1,z-1)),"data-testid":"button-audit-prev",children:o.jsx(Ad,{className:"h-4 w-4"})}),o.jsx(Ie,{variant:"outline",size:"icon",disabled:e>=T.pages,onClick:()=>r(z=>z+1),"data-testid":"button-audit-next",children:o.jsx(Eb,{className:"h-4 w-4"})})]})]})]})}function L5({icon:e,message:r}){return o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground space-y-3",children:[o.jsx(e,{className:"h-12 w-12 opacity-15"}),o.jsx("p",{className:"text-sm",children:r})]})}function z_({items:e,emptyMessage:r,emptyIcon:t,showError:s,expandedItems:n,onToggleExpand:i,actions:a,projects:l}){return e.length===0?o.jsx(L5,{icon:t,message:r}):o.jsx(Zo,{className:"h-[500px]",children:o.jsx("div",{className:"space-y-2",children:e.map(u=>{const c=n.has(u.id),d=u.payload||{},p=l.find(f=>f.id===d.projectId)?.name;return o.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`sync-item-${u.id.substring(0,8)}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${u.action==="create"?"bg-green-100 text-green-600 dark:bg-green-900/30":u.action==="update"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:o.jsx(Fs,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[hJ(u.status),o.jsx(At,{variant:u.action==="create"?"success":u.action==="update"?"default":"destructive",className:"text-[10px]",children:fJ(u.action)}),o.jsx("span",{className:"text-xs text-muted-foreground",children:pJ(u.endpoint)}),o.jsx("span",{className:"font-mono text-[9px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:u.id.substring(0,8)})]}),s&&u.lastError&&o.jsxs("p",{className:"text-xs text-destructive flex items-start gap-1",children:[o.jsx(ti,{className:"h-3 w-3 mt-0.5 shrink-0"}),o.jsx("span",{className:"truncate",children:u.lastError})]}),o.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ks,{className:"h-3 w-3"}),dJ(u.timestamp)]}),u.retries>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Xl,{className:"h-3 w-3"}),u.retries," "]}),p&&o.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[o.jsx(hs,{className:"h-3 w-3"}),p]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>i(u.id),"data-testid":`button-expand-${u.id.substring(0,8)}`,children:c?o.jsx(Lo,{className:"h-4 w-4"}):o.jsx(Bn,{className:"h-4 w-4"})}),a(u)]})]}),c&&o.jsx("div",{className:"border-t p-3 bg-muted/30",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:": "}),o.jsx("span",{className:"font-mono text-[11px]",children:u.endpoint})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-mono text-[11px]",children:u.id})]}),u.idempotencyKey&&o.jsxs("div",{className:"col-span-full",children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{className:"font-mono text-[11px]",children:u.idempotencyKey})]}),u.errorType&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx(At,{variant:"outline",className:"text-[10px]",children:u.errorType})]}),u.lastAttemptAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{children:uJ(u.lastAttemptAt)})]}),u.lastError&&o.jsxs("div",{className:"col-span-full",children:[o.jsx("span",{className:"text-muted-foreground",children:" : "}),o.jsx("span",{className:"text-destructive",children:u.lastError})]}),o.jsx("div",{className:"col-span-full",children:o.jsxs("details",{children:[o.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:"   (JSON)"}),o.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-40 font-mono",dir:"ltr",children:JSON.stringify(d,null,2)})]})})]})})]},u.id)})})})}if(typeof window<"u"){const e=window.ResizeObserver;window.ResizeObserver=class extends e{constructor(t){super((s,n)=>{window.requestAnimationFrame(()=>{!Array.isArray(s)||!s.length||t(s,n)})})}}}const UEe=E.lazy(()=>on(()=>import("./worker-accounts-MeI0e7_r.js"),__vite__mapDeps([0,1]))),VEe=E.lazy(()=>on(()=>import("./suppliers-professional-CktHptRV.js"),__vite__mapDeps([2,3]))),WEe=E.lazy(()=>on(()=>import("./customers-DfCJEDQz.js"),[])),qEe=E.lazy(()=>on(()=>import("./supplier-accounts-B_qwjDNZ.js"),[])),HEe=E.lazy(()=>on(()=>import("./autocomplete-admin-CkdHvKO5.js"),[])),KEe=E.lazy(()=>on(()=>import("./equipment-management-BsC25xST.js"),__vite__mapDeps([4,5])).then(e=>({default:e.EquipmentManagement}))),ZEe=E.lazy(()=>on(()=>import("./admin-notifications-CY0PhAqf.js"),__vite__mapDeps([6,7]))),GEe=E.lazy(()=>on(()=>import("./SmartErrorsPage-CCc3NIWQ.js"),__vite__mapDeps([8,3]))),XEe=E.lazy(()=>on(()=>import("./SecurityPoliciesPage-Bfu4xfKY.js"),__vite__mapDeps([9,10,11])).then(e=>({default:e.SecurityPoliciesPage}))),QEe=E.lazy(()=>on(()=>import("./axion-reports-DiaSrUpD.js"),__vite__mapDeps([12,11]))),YEe=E.lazy(()=>on(()=>import("./settings-Bi4Xztlk.js"),__vite__mapDeps([13,3,5]))),JEe=E.lazy(()=>on(()=>import("./users-management-DqqD3PqR.js"),[])),eAe=E.lazy(()=>on(()=>import("./ai-chat-L558-_TC.js"),__vite__mapDeps([14,7]))),tAe=E.lazy(()=>on(()=>import("./sync-comparison-DABnrueD.js"),[]));function xi(){return o.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(an,{className:"h-12 w-12 animate-spin text-blue-600"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),o.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}jv().catch(console.error);zCe(3e4);const rAe=E.lazy(()=>on(()=>import("./index-D8M9w2D8.js"),__vite__mapDeps([15,11]))),nAe=E.lazy(()=>on(()=>import("./AdminDashboard-VFL3idxS.js"),__vite__mapDeps([16,10])));function sAe(){return rbe(),E.useEffect(()=>{(async()=>{try{await Cd(),console.log("     "),XX(),Hre(3e4),Zre().catch(t=>console.warn("[AuditLog] Init failed:",t)),console.log("        ");const r=g1(t=>{!t.isSyncing&&t.lastSync>0&&t.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(n=>Qs.invalidateQueries({queryKey:n,refetchType:"active",exact:!1}))}catch(s){console.error("    :",s)}}))});return()=>r()}catch(r){console.error("     :",r)}})()},[]),o.jsxs(LM,{children:[o.jsx(Cr,{path:"/",component:Tje}),o.jsx(Cr,{path:"/deployment",component:Pke}),o.jsx(Cr,{path:"/projects",component:yje}),o.jsx(Cr,{path:"/workers",component:$je}),o.jsx(Cr,{path:"/worker-accounts",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(UEe,{})})})}),o.jsx(Cr,{path:"/suppliers-pro",children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(VEe,{})})}),o.jsx(Cr,{path:"/customers",children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(WEe,{})})}),o.jsx(Cr,{path:"/supplier-accounts",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(qEe,{})})})}),o.jsx(Cr,{path:"/worker-attendance",component:Tke}),o.jsx(Cr,{path:"/material-purchase",component:Qke}),o.jsx(Cr,{path:"/transport-management",component:t4e}),o.jsx(Cr,{path:"/project-transfers",children:o.jsx(Hs,{children:o.jsx(RSe,{})})}),o.jsx(Cr,{path:"/project-transactions",children:o.jsx(Hs,{children:o.jsx(OSe,{})})}),o.jsx(Cr,{path:"/project-fund-custody",children:o.jsx(Hs,{children:o.jsx(FSe,{})})}),o.jsx(Cr,{path:"/autocomplete-admin",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(HEe,{})})})}),o.jsx(Cr,{path:"/equipment",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(KEe,{})})})}),o.jsx(Cr,{path:"/notifications",component:Yje}),o.jsx(Cr,{path:"/admin-notifications",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(ZEe,{})})})}),o.jsx(Cr,{path:"/smart-errors",children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(GEe,{})})}),o.jsx(Cr,{path:"/security-policies",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(XEe,{})})})}),o.jsx(Cr,{path:"/daily-expenses",component:r3e}),o.jsx(Cr,{path:"/wells",component:s3e}),o.jsx(Cr,{path:"/admin/backups",children:o.jsx(Hs,{children:o.jsx(Kje,{})})}),o.jsx(Cr,{path:"/settings",children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(YEe,{})})}),o.jsx(Cr,{path:"/well-cost-report",component:i3e}),o.jsx(Cr,{path:"/well-accounting",component:c3e}),o.jsx(Cr,{path:"/reports",children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(QEe,{})})}),o.jsx(Cr,{path:"/users-management",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(JEe,{})})})}),o.jsx(Cr,{path:"/ai-chat",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(eAe,{})})})}),o.jsx(Cr,{path:"/admin/monitoring",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(rAe,{})})})}),o.jsx(Cr,{path:"/admin/dashboard",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(nAe,{})})})}),o.jsx(Cr,{path:"/sync-comparison",children:o.jsx(Hs,{children:o.jsx(E.Suspense,{fallback:o.jsx(xi,{}),children:o.jsx(tAe,{})})})}),o.jsx(Cr,{path:"/admin/data-health",children:o.jsx(Hs,{children:o.jsx(u3e,{})})}),o.jsx(Cr,{path:"/local-db",children:o.jsx(Hs,{children:o.jsx(g3e,{})})}),o.jsx(Cr,{path:"/admin/sync",children:o.jsx(Hs,{children:o.jsx(zEe,{})})}),o.jsx(Cr,{component:Loe})]})}function iAe(){return o.jsx(w4,{children:o.jsx(yre,{client:Qs,children:o.jsx(Rde,{children:o.jsx(zv,{children:o.jsx(Eve,{children:o.jsxs("div",{dir:"rtl",children:[o.jsx(w4,{children:o.jsxs(LM,{children:[o.jsx(Cr,{path:"/check",component:F_}),o.jsx(Cr,{path:"/setup",component:F_}),o.jsx(Cr,{path:"/permissions",component:F_}),o.jsx(Cr,{path:"/login",component:Nge}),o.jsx(Cr,{path:"/register",component:tye}),o.jsx(Cr,{path:"/verify-email",component:cye}),o.jsx(Cr,{path:"/forgot-password",component:iye}),o.jsx(Cr,{path:"/reset-password",component:nye}),o.jsx(Cr,{path:"*",component:()=>o.jsx(ACe,{children:o.jsx(DCe,{children:o.jsx(Kbe,{children:o.jsx(ECe,{children:o.jsx(sAe,{})})})})})})]})}),o.jsx(Kie,{})]})})})})})})}const aAe=async()=>{const e=document.getElementById("root");if(e)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(t=>{for(let s of t)s.update(),s.addEventListener("updatefound",()=>{const n=s.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(t=>{t.forEach(s=>{s.includes("binarjoin-v")&&!s.includes("binarjoin-v3")&&(caches.delete(s),console.log("    :",s))})})),Cd().catch(console.error),Qee.createRoot(e).render(o.jsx(iAe,{}))}catch(r){console.error("Fatal startup error:",r),e.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};aAe();export{ti as $,ec as A,Ie as B,BR as C,Tr as D,fAe as E,hAe as F,bl as G,Or as H,vt as I,Ms as J,es as K,Ye as L,Wn as M,ts as N,qn as O,vs as P,ve as Q,zt as R,ib as S,$n as T,Vn as U,op as V,Id as W,qe as X,YA as Y,yk as Z,on as _,pn as a,Ql as a$,cl as a0,uie as a1,fs as a2,Bo as a3,jn as a4,nT as a5,Ei as a6,y2 as a7,fi as a8,hs as a9,Rs as aA,Oh as aB,lc as aC,Au as aD,Ur as aE,Ede as aF,J8 as aG,Aa as aH,wn as aI,Ni as aJ,_g as aK,mu as aL,Je as aM,Ao as aN,Mo as aO,yAe as aP,Mr as aQ,gc as aR,pi as aS,hS as aT,Ta as aU,kg as aV,pAe as aW,Yh as aX,jx as aY,y1 as aZ,pu as a_,xs as aa,pa as ab,ll as ac,Un as ad,Oo as ae,Fs as af,wQ as ag,v5 as ah,no as ai,Wh as aj,so as ak,At as al,ju as am,Ls as an,gY as ao,Ke as ap,oc as aq,uc as ar,rn as as,Jr as at,Xn as au,sn as av,Rn as aw,Yke as ax,us as ay,OR as az,Ss as b,ku as b0,dS as b1,fS as b2,Ae as b3,da as b4,tq as b5,rq as b6,ru as b7,X8 as b8,Pm as b9,mi as bA,an as bB,m5 as bC,g5 as bD,Bd as bE,la as bF,y5 as bG,Si as bH,$R as bI,Qs as bJ,Zo as bK,Cse as bL,eT as bM,zo as bN,Vf as bO,Bn as bP,Ad as bQ,Em as bR,a3e as bS,Zr as bT,TM as bU,q4 as bV,PEe as bW,IEe as bX,vte as bY,sc as ba,f5 as bb,Um as bc,xn as bd,Xse as be,Ab as bf,MR as bg,Zt as bh,W4 as bi,Zbe as bj,qH as bk,Ps as bl,Gi as bm,a5 as bn,eS as bo,eu as bp,LEe as bq,eie as br,lie as bs,Vre as bt,Er as bu,fo as bv,qt as bw,mt as bx,o6 as by,wS as bz,Go as c,Ko as d,vZ as e,xt as f,Pt as g,cp as h,bo as i,o as j,pm as k,ir as l,br as m,ei as n,vn as o,Ul as p,Yn as q,E as r,ks as s,Qd as t,zs as u,VR as v,Ys as w,$s as x,Js as y,hi as z};
