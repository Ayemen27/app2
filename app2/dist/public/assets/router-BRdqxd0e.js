import{r as e,R as t}from"./ui-BAf93p4m.js";import{r as n}from"./vendor-BXA9EqPX.js";var r,s,o={exports:{}},a={},c=(s||(s=1,o.exports=function(){if(r)return a;r=1;var e=n(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=e.useState,o=e.useEffect,c=e.useLayoutEffect,i=e.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(s){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,l=r[1];return c(function(){a.value=n,a.getSnapshot=t,u(a)&&l({inst:a})},[e,n,t]),o(function(){return u(a)&&l({inst:a}),e(function(){u(a)&&l({inst:a})})},[e]),i(n),n};return a.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:l,a}()),o.exports);const i=t.useInsertionEffect,u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect,l=i||u,f=t=>{const n=e.useRef([t,(...e)=>n[0](...e)]).current;return l(()=>{n[0]=t}),n[1]},h="pushState",d="replaceState",p=["popstate",h,d,"hashchange"],m=e=>{for(const t of p)addEventListener(t,e);return()=>{for(const t of p)removeEventListener(t,e)}},v=(e,t)=>c.useSyncExternalStore(m,e,t),y=()=>location.search,E=()=>location.pathname,w=({ssrPath:e}={})=>v(E,e?()=>e:E),x=(e,{replace:t=!1,state:n=null}={})=>history[t?d:h](n,"",e),b=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[b]){for(const e of[h,d]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,b,{value:!0})}const S=(e="")=>"/"===e?"":e,g=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(k(S(e)),k(t)),k=e=>{try{return decodeURI(e)}catch(t){return e}},C={hook:(e={})=>[w(e),x],searchHook:({ssrSearch:e=""}={})=>v(y,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,a=[],c="",i=e.split("/");for(i[0]||i.shift();s=i.shift();)"*"===(n=s[0])?(a.push(n),c+="?"===s[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=s.indexOf("?",1),o=s.indexOf(".",1),a.push(s.substring(1,~r?r:~o?o:s.length)),c+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(c+=(~r?"?":"")+"\\"+s.substring(o))):c+="/"+s;return{keys:a,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},O=e.createContext(C),j=()=>e.useContext(O),R={},P=e.createContext(R),L=e=>{const[t,n]=e.hook(e);return[g(e.base,t),f((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):S(t)+e)(t,e.base),r))]},K=()=>L(j()),V=(e,t,n,r)=>{const{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[c,...i]=a;return void 0!==c?[!0,(()=>{const e=!1!==o?Object.fromEntries(o.map((e,t)=>[e,i[t]])):a.groups;let t={...i};return e&&Object.assign(t,e),t})(),...r?[c]:[]]:[!1,null]},A=({children:t,...n})=>{const r=j(),s=n.hook?C:r;let o=s;const[a,c]=n.ssrPath?.split("?")??[];c&&(n.ssrSearch=c,n.ssrPath=a),n.hrefs=n.hrefs??n.hook?.hrefs;let i=e.useRef({}),u=i.current,l=u;for(let e in s){const t="base"===e?s[e]+(n[e]||""):n[e]||s[e];u===l&&t!==l[e]&&(i.current=l={...l}),l[e]=t,t===s[e]&&t===o[e]||(o=l)}return e.createElement(O.Provider,{value:o,children:t})},D=({children:t,component:n},r)=>n?e.createElement(n,{params:r}):"function"==typeof t?t(r):t,I=({path:t,nest:n,match:r,...s})=>{const o=j(),[a]=L(o),[c,i,u]=r??V(o.parser,t,a,n),l=(t=>{let n=e.useRef(R);const r=n.current;return n.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([e,t])=>t!==r[e])?t:r})({...e.useContext(P),...i});if(!c)return null;const f=u?e.createElement(A,{base:u},D(s,l)):D(s,l);return e.createElement(P.Provider,{value:l,children:f})},N=e.forwardRef((t,n)=>{const r=j(),[s,o]=L(r),{to:a="",href:c=a,onClick:i,asChild:u,children:l,className:h,replace:d,state:p,...m}=t,v=f(e=>{e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button||(i?.(e),e.defaultPrevented||(e.preventDefault(),o(c,t)))}),y=r.hrefs("~"===c[0]?c.slice(1):r.base+c,r);return u&&e.isValidElement(l)?e.cloneElement(l,{onClick:v,href:y}):e.createElement("a",{...m,onClick:v,href:y,className:h?.call?h(s===c):h,children:l,ref:n})}),$=t=>Array.isArray(t)?t.flatMap(t=>$(t&&t.type===e.Fragment?t.props.children:t)):[t],F=({children:t,location:n})=>{const r=j(),[s]=L(r);for(const o of $(t)){let t=0;if(e.isValidElement(o)&&(t=V(r.parser,o.props.path,n||s,o.props.nest))[0])return e.cloneElement(o,{match:t})}return null},H=e=>{const{to:t,href:n=t}=e,r=j(),[,s]=L(r),o=f(()=>s(t||n,e)),{ssrContext:a}=r;return u(()=>{o()},[]),a&&(a.redirectTo=t),null};export{N as L,H as R,F as S,I as a,K as u};
