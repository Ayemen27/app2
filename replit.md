# مشروع نظام إدارة المشاريع والمقاولات

## نظرة عامة
هذا المشروع عبارة عن نظام متكامل لإدارة المشاريع، العمال، التكاليف المالية، والموردين. مصمم ليعمل بكفاءة في بيئة Replit مع دعم كامل لمزامنة البيانات وإدارة الجلسات المؤمنة.

## الهيكلية التقنية
- **Frontend**: React (Vite) + Tailwind CSS + Shadcn UI.
- **Backend**: Express.js (Node.js).
- **Database**: PostgreSQL مع Drizzle ORM.
- **Validation**: Zod (للمخططات والتحقق من البيانات).
- **Authentication**: JWT مع دعم Refresh Tokens و Session Management.

## الميزات الرئيسية
1. **إدارة المشاريع والآبار**: تتبع حالة المشاريع وتفاصيل الآبار (العمق، المنسوب، المعدات).
2. **شؤون العمال**: تسجيل الحضور، الأجور اليومية، والحوالات المالية للأهالي.
3. **المحاسبة المالية**: إدارة الميزانيات، مصروفات النقل، ومشتريات المواد.
4. **إدارة الموردين**: تتبع المديونيات، الفواتير، والمدفوعات.
5. **نظام الإكمال التلقائي**: تحسين تجربة المستخدم عبر حفظ واقتراح القيم المتكررة.

## إعدادات التطوير
- المنفذ الأمامي: 5000 (عبر Vite).
- الاتصال بقاعدة البيانات: يتم عبر `DATABASE_URL`.
- إعدادات المزامنة: توجد حقول `isLocal` و `synced` لدعم العمل دون اتصال بالإنترنت في المستقبل.

## القرارات التقنية الأخيرة (2026-01-29)
- تم تفعيل `allowedHosts: true` في إعدادات Vite لضمان عمل المعاينة بشكل صحيح.
- تم تنظيم المسارات في `server/routes.ts` لتعتمد على وحدات (modules) منفصلة لزيادة قابلية الصيانة.
- تم اعتماد نظام `Audit Logs` لتتبع جميع الحركات الحساسة في النظام.
