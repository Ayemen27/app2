import{r as i,R as F}from"./ui-De53Fnn7.js";import{r as H}from"./vendor-Dazix4UH.js";function M(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,c,a=[],h="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(a.push(n),h+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),c=s.indexOf(".",1),a.push(s.substring(1,~r?r:~c?c:s.length)),h+=~r&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(h+=(~r?"?":"")+"\\"+s.substring(c))):h+="/"+s;return{keys:a,pattern:new RegExp("^"+h+(t?"(?=$|/)":"/?$"),"i")}}var x={exports:{}},g={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P;function N(){if(P)return g;P=1;var e=H();function t(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,c=e.useLayoutEffect,a=e.useDebugValue;function h(o,d){var y=d(),E=r({inst:{value:y,getSnapshot:d}}),p=E[0].inst,m=E[1];return c(function(){p.value=y,p.getSnapshot=d,l(p)&&m({inst:p})},[o,y,d]),s(function(){return l(p)&&m({inst:p}),o(function(){l(p)&&m({inst:p})})},[o]),a(y),y}function l(o){var d=o.getSnapshot;o=o.value;try{var y=d();return!n(o,y)}catch{return!0}}function f(o,d){return d()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:h;return g.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,g}var k;function T(){return k||(k=1,x.exports=N()),x.exports}var G=T();const z=F.useInsertionEffect,J=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=J?i.useLayoutEffect:i.useEffect,Q=z||I,w=e=>{const t=i.useRef([e,(...n)=>t[0](...n)]).current;return Q(()=>{t[0]=e}),t[1]},W="popstate",R="pushState",b="replaceState",X="hashchange",C=[W,R,b,X],Y=e=>{for(const t of C)addEventListener(t,e);return()=>{for(const t of C)removeEventListener(t,e)}},U=(e,t)=>G.useSyncExternalStore(Y,e,t),Z=()=>location.search,ee=({ssrSearch:e=""}={})=>U(Z,()=>e),L=()=>location.pathname,te=({ssrPath:e}={})=>U(L,e?()=>e:L),ne=(e,{replace:t=!1,state:n=null}={})=>history[t?b:R](n,"",e),re=(e={})=>[te(e),ne],O=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[O]>"u"){for(const e of[R,b]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,O,{value:!0})}const se=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",q=(e="")=>e==="/"?"":e,oe=(e,t)=>e[0]==="~"?e.slice(1):q(t)+e,ce=(e="",t)=>se(j(q(e)),j(t)),j=e=>{try{return decodeURI(e)}catch{return e}},D={hook:re,searchHook:ee,parser:M,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},K=i.createContext(D),S=()=>i.useContext(K),$={},V=i.createContext($),ae=()=>i.useContext(V),v=e=>{const[t,n]=e.hook(e);return[ce(e.base,t),w((r,s)=>n(oe(r,e.base),s))]},he=()=>v(S()),A=(e,t,n,r)=>{const{pattern:s,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[h,...l]=a;return h!==void 0?[!0,(()=>{const f=c!==!1?Object.fromEntries(c.map((o,d)=>[o,l[d]])):a.groups;let u={...l};return f&&Object.assign(u,f),u})(),...r?[h]:[]]:[!1,null]},ue=({children:e,...t})=>{const n=S(),r=t.hook?D:n;let s=r;const[c,a]=t.ssrPath?.split("?")??[];a&&(t.ssrSearch=a,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let h=i.useRef({}),l=h.current,f=l;for(let u in r){const o=u==="base"?r[u]+(t[u]||""):t[u]||r[u];l===f&&o!==f[u]&&(h.current=f={...f}),f[u]=o,(o!==r[u]||o!==s[u])&&(s=f)}return i.createElement(K.Provider,{value:s,children:e})},_=({children:e,component:t},n)=>t?i.createElement(t,{params:n}):typeof e=="function"?e(n):e,ie=e=>{let t=i.useRef($);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},de=({path:e,nest:t,match:n,...r})=>{const s=S(),[c]=v(s),[a,h,l]=n??A(s.parser,e,c,t),f=ie({...ae(),...h});if(!a)return null;const u=l?i.createElement(ue,{base:l},_(r,f)):_(r,f);return i.createElement(V.Provider,{value:f,children:u})},me=i.forwardRef((e,t)=>{const n=S(),[r,s]=v(n),{to:c="",href:a=c,onClick:h,asChild:l,children:f,className:u,replace:o,state:d,...y}=e,E=w(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(h?.(m),m.defaultPrevented||(m.preventDefault(),s(a,e)))}),p=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&i.isValidElement(f)?i.cloneElement(f,{onClick:E,href:p}):i.createElement("a",{...y,onClick:E,href:p,className:u?.call?u(r===a):u,children:f,ref:t})}),B=e=>Array.isArray(e)?e.flatMap(t=>B(t&&t.type===i.Fragment?t.props.children:t)):[e],pe=({children:e,location:t})=>{const n=S(),[r]=v(n);for(const s of B(e)){let c=0;if(i.isValidElement(s)&&(c=A(n.parser,s.props.path,t||r,s.props.nest))[0])return i.cloneElement(s,{match:c})}return null},ye=e=>{const{to:t,href:n=t}=e,r=S(),[,s]=v(r),c=w(()=>s(t||n,e)),{ssrContext:a}=r;return I(()=>{c()},[]),a&&(a.redirectTo=t),null};export{me as L,ye as R,pe as S,de as a,he as u};
