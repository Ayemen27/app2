# خطة عمل نظام المراقبة المتكامل (Android Monitoring System)
## وضع الفاست مود (Fast Mode Execution Plan)

نظرًا لأن الوكلاء يعملون بوضع **الفاست مود** فقط، تم تقسيم الخطة إلى مهام ذرية (Atomic Tasks) مركزة ومباشرة لضمان الإنجاز السريع والدقيق.

### المرحلة 1: التأسيس والبنية التحتية (Infrastructure Setup) [تم اختيار SigNoz]
*   **المهمة 1.1:** إعداد SigNoz باستخدام Docker Compose.
    *   *الإجراء:* إنشاء ملف `docker-compose.signoz.yaml` وتهيئة ملفات الإعداد لـ OTEL Collector.
*   **المهمة 1.2:** إعداد قواعد البيانات والمراقبة المركزية.
    *   *الإجراء:* تثبيت Prometheus و Grafana لمراقبة المقاييس (Metrics).

### المرحلة 2: دمج المكتبات داخل التطبيق (SDK Integration)
*   **المهمة 2.1:** ربط Sentry SDK للتعامل مع الانهيارات (Crashes).
    *   *الإجراء:* إضافة التبعيات في `build.gradle` وتهيئة DSN.
*   **المهمة 2.2:** تفعيل تتبع الأداء (OpenTelemetry SDK).
    *   *الإجراء:* إعداد `SdkTracerProvider` وربطه بالجامع المحلي.

### المرحلة 3: لوحة التحكم الإدارية (Admin Dashboard)
*   **المهمة 3.1:** بناء الهيكل الأساسي للوحة (Next.js + Tailwind).
    *   *الإجراء:* إنشاء صفحات الملخص (KPIs) وجدول الحوادث (Incidents).
*   **المهمة 3.2:** ربط البيانات (Data Fetching).
    *   *الإجراء:* استدعاء البيانات من Prometheus و Sentry APIs لعرضها في اللوحة.

### المرحلة 4: التنبيهات والأمان (Alerts & Security)
*   **المهمة 4.1:** إعداد قواعد التنبيه (Alert Rules).
    *   *الإجراء:* تكوين Alertmanager لإرسال التنبيهات إلى Slack/Email.
*   **المهمة 4.2:** تفعيل صلاحيات الوصول (RBAC).
    *   *الإجراء:* حماية لوحة الإدارة بنظام تسجيل دخول وصلاحيات.

---

## جدول توزيع المهام (Agent Task Distribution)
| الوكيل | المهمة المسندة | الحالة المتوقعة |
| :--- | :--- | :--- |
| الوكيل 1 | إعداد Infra (Docker/K8s) | نظام جاهز لاستقبال البيانات |
| الوكيل 2 | دمج SDK في أندرويد | التطبيق يرسل Telemetry |
| الوكيل 3 | تطوير واجهة الإدارة | لوحة تحكم تفاعلية |
| الوكيل 4 | ضبط التنبيهات والربط | وصول الإشعارات للفريق |
