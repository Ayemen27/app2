const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-3GS2rj2F.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional-BR53x1bH.js","assets/switch-BjyngxPY.js","assets/equipment-management-BbWXHbZP.js","assets/upload-CT03BDdS.js","assets/admin-notifications-BYV02Jzf.js","assets/sparkles-C1aUgnjZ.js","assets/SmartErrorsPage-Dgccwf-1.js","assets/SecurityPoliciesPage-BUJWJLm9.js","assets/AreaChart-BB-vPype.js","assets/axion-reports-BKumbB1F.js","assets/settings-feAHjWKN.js","assets/ai-chat-Drr_3QJV.js","assets/index-DpWx-IDv.js"])))=>i.map(i=>d[i]);
var xq=Object.defineProperty;var DS=t=>{throw TypeError(t)};var vq=(t,r,e)=>r in t?xq(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var De=(t,r,e)=>vq(t,typeof r!="symbol"?r+"":r,e),k1=(t,r,e)=>r.has(t)||DS("Cannot "+e);var Se=(t,r,e)=>(k1(t,r,"read from private field"),e?e.call(t):r.get(t)),nr=(t,r,e)=>r.has(t)?DS("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),St=(t,r,e,n)=>(k1(t,r,"write to private field"),n?n.call(t,e):r.set(t,e),e),Fr=(t,r,e)=>(k1(t,r,"access private method"),e);var Wg=(t,r,e,n)=>({set _(s){St(t,r,s,e)},get _(){return Se(t,r,n)}});function B7(t,r){for(var e=0;e<r.length;e++){const n=r[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j1={exports:{}},Cp={},S1={exports:{}},Vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function wq(){if(IS)return Vr;IS=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function f(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(O,z,Q){this.props=O,this.context=z,this.refs=y,this.updater=Q||h}m.prototype.isReactComponent={},m.prototype.setState=function(O,z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,z,"setState")},m.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function v(){}v.prototype=m.prototype;function x(O,z,Q){this.props=O,this.context=z,this.refs=y,this.updater=Q||h}var S=x.prototype=new v;S.constructor=x,g(S,m.prototype),S.isPureReactComponent=!0;var C=Array.isArray,A=Object.prototype.hasOwnProperty,B={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function R(O,z,Q){var Y,re={},F=null,Z=null;if(z!=null)for(Y in z.ref!==void 0&&(Z=z.ref),z.key!==void 0&&(F=""+z.key),z)A.call(z,Y)&&!q.hasOwnProperty(Y)&&(re[Y]=z[Y]);var W=arguments.length-2;if(W===1)re.children=Q;else if(1<W){for(var V=Array(W),G=0;G<W;G++)V[G]=arguments[G+2];re.children=V}if(O&&O.defaultProps)for(Y in W=O.defaultProps,W)re[Y]===void 0&&(re[Y]=W[Y]);return{$$typeof:t,type:O,key:F,ref:Z,props:re,_owner:B.current}}function I(O,z){return{$$typeof:t,type:O.type,key:z,ref:O.ref,props:O.props,_owner:O._owner}}function $(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function K(O){var z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return z[Q]})}var U=/\/+/g;function P(O,z){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):z.toString(36)}function L(O,z,Q,Y,re){var F=typeof O;(F==="undefined"||F==="boolean")&&(O=null);var Z=!1;if(O===null)Z=!0;else switch(F){case"string":case"number":Z=!0;break;case"object":switch(O.$$typeof){case t:case r:Z=!0}}if(Z)return Z=O,re=re(Z),O=Y===""?"."+P(Z,0):Y,C(re)?(Q="",O!=null&&(Q=O.replace(U,"$&/")+"/"),L(re,z,Q,"",function(G){return G})):re!=null&&($(re)&&(re=I(re,Q+(!re.key||Z&&Z.key===re.key?"":(""+re.key).replace(U,"$&/")+"/")+O)),z.push(re)),1;if(Z=0,Y=Y===""?".":Y+":",C(O))for(var W=0;W<O.length;W++){F=O[W];var V=Y+P(F,W);Z+=L(F,z,Q,V,re)}else if(V=f(O),typeof V=="function")for(O=V.call(O),W=0;!(F=O.next()).done;)F=F.value,V=Y+P(F,W++),Z+=L(F,z,Q,V,re);else if(F==="object")throw z=String(O),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Z}function T(O,z,Q){if(O==null)return O;var Y=[],re=0;return L(O,Y,"","",function(F){return z.call(Q,F,re++)}),Y}function _(O){if(O._status===-1){var z=O._result;z=z(),z.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=z)}if(O._status===1)return O._result.default;throw O._result}var k={current:null},j={transition:null},N={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:j,ReactCurrentOwner:B};function D(){throw Error("act(...) is not supported in production builds of React.")}return Vr.Children={map:T,forEach:function(O,z,Q){T(O,function(){z.apply(this,arguments)},Q)},count:function(O){var z=0;return T(O,function(){z++}),z},toArray:function(O){return T(O,function(z){return z})||[]},only:function(O){if(!$(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Vr.Component=m,Vr.Fragment=e,Vr.Profiler=s,Vr.PureComponent=x,Vr.StrictMode=n,Vr.Suspense=u,Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Vr.act=D,Vr.cloneElement=function(O,z,Q){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Y=g({},O.props),re=O.key,F=O.ref,Z=O._owner;if(z!=null){if(z.ref!==void 0&&(F=z.ref,Z=B.current),z.key!==void 0&&(re=""+z.key),O.type&&O.type.defaultProps)var W=O.type.defaultProps;for(V in z)A.call(z,V)&&!q.hasOwnProperty(V)&&(Y[V]=z[V]===void 0&&W!==void 0?W[V]:z[V])}var V=arguments.length-2;if(V===1)Y.children=Q;else if(1<V){W=Array(V);for(var G=0;G<V;G++)W[G]=arguments[G+2];Y.children=W}return{$$typeof:t,type:O.type,key:re,ref:F,props:Y,_owner:Z}},Vr.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Vr.createElement=R,Vr.createFactory=function(O){var z=R.bind(null,O);return z.type=O,z},Vr.createRef=function(){return{current:null}},Vr.forwardRef=function(O){return{$$typeof:c,render:O}},Vr.isValidElement=$,Vr.lazy=function(O){return{$$typeof:d,_payload:{_status:-1,_result:O},_init:_}},Vr.memo=function(O,z){return{$$typeof:l,type:O,compare:z===void 0?null:z}},Vr.startTransition=function(O){var z=j.transition;j.transition={};try{O()}finally{j.transition=z}},Vr.unstable_act=D,Vr.useCallback=function(O,z){return k.current.useCallback(O,z)},Vr.useContext=function(O){return k.current.useContext(O)},Vr.useDebugValue=function(){},Vr.useDeferredValue=function(O){return k.current.useDeferredValue(O)},Vr.useEffect=function(O,z){return k.current.useEffect(O,z)},Vr.useId=function(){return k.current.useId()},Vr.useImperativeHandle=function(O,z,Q){return k.current.useImperativeHandle(O,z,Q)},Vr.useInsertionEffect=function(O,z){return k.current.useInsertionEffect(O,z)},Vr.useLayoutEffect=function(O,z){return k.current.useLayoutEffect(O,z)},Vr.useMemo=function(O,z){return k.current.useMemo(O,z)},Vr.useReducer=function(O,z,Q){return k.current.useReducer(O,z,Q)},Vr.useRef=function(O){return k.current.useRef(O)},Vr.useState=function(O){return k.current.useState(O)},Vr.useSyncExternalStore=function(O,z,Q){return k.current.useSyncExternalStore(O,z,Q)},Vr.useTransition=function(){return k.current.useTransition()},Vr.version="18.3.1",Vr}var OS;function Bb(){return OS||(OS=1,S1.exports=wq()),S1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function _q(){if(FS)return Cp;FS=1;var t=Bb(),r=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,l){var d,p={},f=null,h=null;l!==void 0&&(f=""+l),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)n.call(u,d)&&!a.hasOwnProperty(d)&&(p[d]=u[d]);if(c&&c.defaultProps)for(d in u=c.defaultProps,u)p[d]===void 0&&(p[d]=u[d]);return{$$typeof:r,type:c,key:f,ref:h,props:p,_owner:s.current}}return Cp.Fragment=e,Cp.jsx=o,Cp.jsxs=o,Cp}var LS;function kq(){return LS||(LS=1,j1.exports=_q()),j1.exports}var i=kq(),Ug={},N1={exports:{}},ei={},C1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function jq(){return BS||(BS=1,(function(t){function r(j,N){var D=j.length;j.push(N);e:for(;0<D;){var O=D-1>>>1,z=j[O];if(0<s(z,N))j[O]=N,j[D]=z,D=O;else break e}}function e(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var N=j[0],D=j.pop();if(D!==N){j[0]=D;e:for(var O=0,z=j.length,Q=z>>>1;O<Q;){var Y=2*(O+1)-1,re=j[Y],F=Y+1,Z=j[F];if(0>s(re,D))F<z&&0>s(Z,re)?(j[O]=Z,j[F]=D,O=F):(j[O]=re,j[Y]=D,O=Y);else if(F<z&&0>s(Z,D))j[O]=Z,j[F]=D,O=F;else break e}}return N}function s(j,N){var D=j.sortIndex-N.sortIndex;return D!==0?D:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],d=1,p=null,f=3,h=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var N=e(l);N!==null;){if(N.callback===null)n(l);else if(N.startTime<=j)n(l),N.sortIndex=N.expirationTime,r(u,N);else break;N=e(l)}}function C(j){if(y=!1,S(j),!g)if(e(u)!==null)g=!0,_(A);else{var N=e(l);N!==null&&k(C,N.startTime-j)}}function A(j,N){g=!1,y&&(y=!1,v(R),R=-1),h=!0;var D=f;try{for(S(N),p=e(u);p!==null&&(!(p.expirationTime>N)||j&&!K());){var O=p.callback;if(typeof O=="function"){p.callback=null,f=p.priorityLevel;var z=O(p.expirationTime<=N);N=t.unstable_now(),typeof z=="function"?p.callback=z:p===e(u)&&n(u),S(N)}else n(u);p=e(u)}if(p!==null)var Q=!0;else{var Y=e(l);Y!==null&&k(C,Y.startTime-N),Q=!1}return Q}finally{p=null,f=D,h=!1}}var B=!1,q=null,R=-1,I=5,$=-1;function K(){return!(t.unstable_now()-$<I)}function U(){if(q!==null){var j=t.unstable_now();$=j;var N=!0;try{N=q(!0,j)}finally{N?P():(B=!1,q=null)}}else B=!1}var P;if(typeof x=="function")P=function(){x(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,T=L.port2;L.port1.onmessage=U,P=function(){T.postMessage(null)}}else P=function(){m(U,0)};function _(j){q=j,B||(B=!0,P())}function k(j,N){R=m(function(){j(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,_(A))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return e(u)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var D=f;f=N;try{return j()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=f;f=j;try{return N()}finally{f=D}},t.unstable_scheduleCallback=function(j,N,D){var O=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?O+D:O):D=O,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,j={id:d++,callback:N,priorityLevel:j,startTime:D,expirationTime:z,sortIndex:-1},D>O?(j.sortIndex=D,r(l,j),e(u)===null&&j===e(l)&&(y?(v(R),R=-1):y=!0,k(C,D-O))):(j.sortIndex=z,r(u,j),g||h||(g=!0,_(A))),j},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(j){var N=f;return function(){var D=f;f=N;try{return j.apply(this,arguments)}finally{f=D}}}})(T1)),T1}var $S;function Sq(){return $S||($S=1,C1.exports=jq()),C1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function Nq(){if(zS)return ei;zS=1;var t=Bb(),r=Sq();function e(b){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+b,M=1;M<arguments.length;M++)w+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(b,w){o(b,w),o(b+"Capture",w)}function o(b,w){for(s[b]=w,b=0;b<w.length;b++)n.add(w[b])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(b){return u.call(p,b)?!0:u.call(d,b)?!1:l.test(b)?p[b]=!0:(d[b]=!0,!1)}function h(b,w,M,H){if(M!==null&&M.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return H?!1:M!==null?!M.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function g(b,w,M,H){if(w===null||typeof w>"u"||h(b,w,M,H))return!0;if(H)return!1;if(M!==null)switch(M.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(b,w,M,H,X,J,he){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=H,this.attributeNamespace=X,this.mustUseProperty=M,this.propertyName=b,this.type=w,this.sanitizeURL=J,this.removeEmptyString=he}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){m[b]=new y(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var w=b[0];m[w]=new y(w,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){m[b]=new y(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){m[b]=new y(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){m[b]=new y(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){m[b]=new y(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){m[b]=new y(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){m[b]=new y(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){m[b]=new y(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!0,!0)});function S(b,w,M,H){var X=m.hasOwnProperty(w)?m[w]:null;(X!==null?X.type!==0:H||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,M,X,H)&&(M=null),H||X===null?f(w)&&(M===null?b.removeAttribute(w):b.setAttribute(w,""+M)):X.mustUseProperty?b[X.propertyName]=M===null?X.type===3?!1:"":M:(w=X.attributeName,H=X.attributeNamespace,M===null?b.removeAttribute(w):(X=X.type,M=X===3||X===4&&M===!0?"":""+M,H?b.setAttributeNS(H,w,M):b.setAttribute(w,M))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),K=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),j=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var D=Object.assign,O;function z(b){if(O===void 0)try{throw Error()}catch(M){var w=M.stack.trim().match(/\n( *(at )?)/);O=w&&w[1]||""}return`
`+O+b}var Q=!1;function Y(b,w){if(!b||Q)return"";Q=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(ze){var H=ze}Reflect.construct(b,[],w)}else{try{w.call()}catch(ze){H=ze}b.call(w.prototype)}else{try{throw Error()}catch(ze){H=ze}b()}}catch(ze){if(ze&&H&&typeof ze.stack=="string"){for(var X=ze.stack.split(`
`),J=H.stack.split(`
`),he=X.length-1,_e=J.length-1;1<=he&&0<=_e&&X[he]!==J[_e];)_e--;for(;1<=he&&0<=_e;he--,_e--)if(X[he]!==J[_e]){if(he!==1||_e!==1)do if(he--,_e--,0>_e||X[he]!==J[_e]){var Te=`
`+X[he].replace(" at new "," at ");return b.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",b.displayName)),Te}while(1<=he&&0<=_e);break}}}finally{Q=!1,Error.prepareStackTrace=M}return(b=b?b.displayName||b.name:"")?z(b):""}function re(b){switch(b.tag){case 5:return z(b.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return b=Y(b.type,!1),b;case 11:return b=Y(b.type.render,!1),b;case 1:return b=Y(b.type,!0),b;default:return""}}function F(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case q:return"Fragment";case B:return"Portal";case I:return"Profiler";case R:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case K:return(b.displayName||"Context")+".Consumer";case $:return(b._context.displayName||"Context")+".Provider";case U:var w=b.render;return b=b.displayName,b||(b=w.displayName||w.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case T:return w=b.displayName||null,w!==null?w:F(b.type)||"Memo";case _:w=b._payload,b=b._init;try{return F(b(w))}catch{}}return null}function Z(b){var w=b.type;switch(b.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=w.render,b=b.displayName||b.name||"",w.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(w);case 8:return w===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function W(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function V(b){var w=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function G(b){var w=V(b)?"checked":"value",M=Object.getOwnPropertyDescriptor(b.constructor.prototype,w),H=""+b[w];if(!b.hasOwnProperty(w)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var X=M.get,J=M.set;return Object.defineProperty(b,w,{configurable:!0,get:function(){return X.call(this)},set:function(he){H=""+he,J.call(this,he)}}),Object.defineProperty(b,w,{enumerable:M.enumerable}),{getValue:function(){return H},setValue:function(he){H=""+he},stopTracking:function(){b._valueTracker=null,delete b[w]}}}}function ae(b){b._valueTracker||(b._valueTracker=G(b))}function pe(b){if(!b)return!1;var w=b._valueTracker;if(!w)return!0;var M=w.getValue(),H="";return b&&(H=V(b)?b.checked?"true":"false":b.value),b=H,b!==M?(w.setValue(b),!0):!1}function ce(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ge(b,w){var M=w.checked;return D({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:M??b._wrapperState.initialChecked})}function ee(b,w){var M=w.defaultValue==null?"":w.defaultValue,H=w.checked!=null?w.checked:w.defaultChecked;M=W(w.value!=null?w.value:M),b._wrapperState={initialChecked:H,initialValue:M,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function oe(b,w){w=w.checked,w!=null&&S(b,"checked",w,!1)}function ne(b,w){oe(b,w);var M=W(w.value),H=w.type;if(M!=null)H==="number"?(M===0&&b.value===""||b.value!=M)&&(b.value=""+M):b.value!==""+M&&(b.value=""+M);else if(H==="submit"||H==="reset"){b.removeAttribute("value");return}w.hasOwnProperty("value")?le(b,w.type,M):w.hasOwnProperty("defaultValue")&&le(b,w.type,W(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(b.defaultChecked=!!w.defaultChecked)}function fe(b,w,M){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var H=w.type;if(!(H!=="submit"&&H!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+b._wrapperState.initialValue,M||w===b.value||(b.value=w),b.defaultValue=w}M=b.name,M!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,M!==""&&(b.name=M)}function le(b,w,M){(w!=="number"||ce(b.ownerDocument)!==b)&&(M==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+M&&(b.defaultValue=""+M))}var ie=Array.isArray;function te(b,w,M,H){if(b=b.options,w){w={};for(var X=0;X<M.length;X++)w["$"+M[X]]=!0;for(M=0;M<b.length;M++)X=w.hasOwnProperty("$"+b[M].value),b[M].selected!==X&&(b[M].selected=X),X&&H&&(b[M].defaultSelected=!0)}else{for(M=""+W(M),w=null,X=0;X<b.length;X++){if(b[X].value===M){b[X].selected=!0,H&&(b[X].defaultSelected=!0);return}w!==null||b[X].disabled||(w=b[X])}w!==null&&(w.selected=!0)}}function se(b,w){if(w.dangerouslySetInnerHTML!=null)throw Error(e(91));return D({},w,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function de(b,w){var M=w.value;if(M==null){if(M=w.children,w=w.defaultValue,M!=null){if(w!=null)throw Error(e(92));if(ie(M)){if(1<M.length)throw Error(e(93));M=M[0]}w=M}w==null&&(w=""),M=w}b._wrapperState={initialValue:W(M)}}function me(b,w){var M=W(w.value),H=W(w.defaultValue);M!=null&&(M=""+M,M!==b.value&&(b.value=M),w.defaultValue==null&&b.defaultValue!==M&&(b.defaultValue=M)),H!=null&&(b.defaultValue=""+H)}function ke(b){var w=b.textContent;w===b._wrapperState.initialValue&&w!==""&&w!==null&&(b.value=w)}function Ce(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(b,w){return b==null||b==="http://www.w3.org/1999/xhtml"?Ce(w):b==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Ie,Ue=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,M,H,X){MSApp.execUnsafeLocalFunction(function(){return b(w,M,H,X)})}:b})(function(b,w){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=w;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=Ie.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;w.firstChild;)b.appendChild(w.firstChild)}});function tt(b,w){if(w){var M=b.firstChild;if(M&&M===b.lastChild&&M.nodeType===3){M.nodeValue=w;return}}b.textContent=w}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(b){Ze.forEach(function(w){w=w+b.charAt(0).toUpperCase()+b.substring(1),gt[w]=gt[b]})});function it(b,w,M){return w==null||typeof w=="boolean"||w===""?"":M||typeof w!="number"||w===0||gt.hasOwnProperty(b)&&gt[b]?(""+w).trim():w+"px"}function ve(b,w){b=b.style;for(var M in w)if(w.hasOwnProperty(M)){var H=M.indexOf("--")===0,X=it(M,w[M],H);M==="float"&&(M="cssFloat"),H?b.setProperty(M,X):b[M]=X}}var be=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(b,w){if(w){if(be[b]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(e(137,b));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(e(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(e(61))}if(w.style!=null&&typeof w.style!="object")throw Error(e(62))}}function Xe(b,w){if(b.indexOf("-")===-1)return typeof w.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=null;function Xt(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var vt=null,Yt=null,rr=null;function At(b){if(b=fp(b)){if(typeof vt!="function")throw Error(e(280));var w=b.stateNode;w&&(w=sg(w),vt(b.stateNode,b.type,w))}}function Pt(b){Yt?rr?rr.push(b):rr=[b]:Yt=b}function jr(){if(Yt){var b=Yt,w=rr;if(rr=Yt=null,At(b),w)for(b=0;b<w.length;b++)At(w[b])}}function Ot(b,w){return b(w)}function Cr(){}var fr=!1;function Zt(b,w,M){if(fr)return b(w,M);fr=!0;try{return Ot(b,w,M)}finally{fr=!1,(Yt!==null||rr!==null)&&(Cr(),jr())}}function Tr(b,w){var M=b.stateNode;if(M===null)return null;var H=sg(M);if(H===null)return null;M=H[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(b=b.type,H=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!H;break e;default:b=!1}if(b)return null;if(M&&typeof M!="function")throw Error(e(231,w,typeof M));return M}var Bt=!1;if(c)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Bt=!1}function Ne(b,w,M,H,X,J,he,_e,Te){var ze=Array.prototype.slice.call(arguments,3);try{w.apply(M,ze)}catch(at){this.onError(at)}}var Me=!1,We=null,rt=!1,zt=null,ht={onError:function(b){Me=!0,We=b}};function Jt(b,w,M,H,X,J,he,_e,Te){Me=!1,We=null,Ne.apply(ht,arguments)}function Kt(b,w,M,H,X,J,he,_e,Te){if(Jt.apply(this,arguments),Me){if(Me){var ze=We;Me=!1,We=null}else throw Error(e(198));rt||(rt=!0,zt=ze)}}function Ct(b){var w=b,M=b;if(b.alternate)for(;w.return;)w=w.return;else{b=w;do w=b,(w.flags&4098)!==0&&(M=w.return),b=w.return;while(b)}return w.tag===3?M:null}function ir(b){if(b.tag===13){var w=b.memoizedState;if(w===null&&(b=b.alternate,b!==null&&(w=b.memoizedState)),w!==null)return w.dehydrated}return null}function er(b){if(Ct(b)!==b)throw Error(e(188))}function we(b){var w=b.alternate;if(!w){if(w=Ct(b),w===null)throw Error(e(188));return w!==b?null:b}for(var M=b,H=w;;){var X=M.return;if(X===null)break;var J=X.alternate;if(J===null){if(H=X.return,H!==null){M=H;continue}break}if(X.child===J.child){for(J=X.child;J;){if(J===M)return er(X),b;if(J===H)return er(X),w;J=J.sibling}throw Error(e(188))}if(M.return!==H.return)M=X,H=J;else{for(var he=!1,_e=X.child;_e;){if(_e===M){he=!0,M=X,H=J;break}if(_e===H){he=!0,H=X,M=J;break}_e=_e.sibling}if(!he){for(_e=J.child;_e;){if(_e===M){he=!0,M=J,H=X;break}if(_e===H){he=!0,H=J,M=X;break}_e=_e.sibling}if(!he)throw Error(e(189))}}if(M.alternate!==H)throw Error(e(190))}if(M.tag!==3)throw Error(e(188));return M.stateNode.current===M?b:w}function Ke(b){return b=we(b),b!==null?bt(b):null}function bt(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var w=bt(b);if(w!==null)return w;b=b.sibling}return null}var kt=r.unstable_scheduleCallback,Ft=r.unstable_cancelCallback,Sn=r.unstable_shouldYield,ye=r.unstable_requestPaint,Pe=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Ge=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,ut=r.unstable_NormalPriority,mt=r.unstable_LowPriority,Pr=r.unstable_IdlePriority,hr=null,Vt=null;function Wt(b){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(hr,b,void 0,(b.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:dn,Wr=Math.log,zr=Math.LN2;function dn(b){return b>>>=0,b===0?32:31-(Wr(b)/zr|0)|0}var bn=64,fn=4194304;function kn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Jn(b,w){var M=b.pendingLanes;if(M===0)return 0;var H=0,X=b.suspendedLanes,J=b.pingedLanes,he=M&268435455;if(he!==0){var _e=he&~X;_e!==0?H=kn(_e):(J&=he,J!==0&&(H=kn(J)))}else he=M&~X,he!==0?H=kn(he):J!==0&&(H=kn(J));if(H===0)return 0;if(w!==0&&w!==H&&(w&X)===0&&(X=H&-H,J=w&-w,X>=J||X===16&&(J&4194240)!==0))return w;if((H&4)!==0&&(H|=M&16),w=b.entangledLanes,w!==0)for(b=b.entanglements,w&=H;0<w;)M=31-vr(w),X=1<<M,H|=b[M],w&=~X;return H}function Fs(b,w){switch(b){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(b,w){for(var M=b.suspendedLanes,H=b.pingedLanes,X=b.expirationTimes,J=b.pendingLanes;0<J;){var he=31-vr(J),_e=1<<he,Te=X[he];Te===-1?((_e&M)===0||(_e&H)!==0)&&(X[he]=Fs(_e,w)):Te<=w&&(b.expiredLanes|=_e),J&=~_e}}function fs(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Ur(){var b=bn;return bn<<=1,(bn&4194240)===0&&(bn=64),b}function Mr(b){for(var w=[],M=0;31>M;M++)w.push(b);return w}function Ls(b,w,M){b.pendingLanes|=w,w!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,w=31-vr(w),b[w]=M}function ui(b,w){var M=b.pendingLanes&~w;b.pendingLanes=w,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=w,b.mutableReadLanes&=w,b.entangledLanes&=w,w=b.entanglements;var H=b.eventTimes;for(b=b.expirationTimes;0<M;){var X=31-vr(M),J=1<<X;w[X]=0,H[X]=-1,b[X]=-1,M&=~J}}function Pi(b,w){var M=b.entangledLanes|=w;for(b=b.entanglements;M;){var H=31-vr(M),X=1<<H;X&w|b[H]&w&&(b[H]|=w),M&=~X}}var wr=0;function js(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var Ca,di,oo,fi,Ta,Bo=!1,Mi=[],hi=null,Ga=null,Ea=null,Ri=new Map,pi=new Map,Ys=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K0(b,w){switch(b){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ri.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(w.pointerId)}}function Nu(b,w,M,H,X,J){return b===null||b.nativeEvent!==J?(b={blockedOn:w,domEventName:M,eventSystemFlags:H,nativeEvent:J,targetContainers:[X]},w!==null&&(w=fp(w),w!==null&&di(w)),b):(b.eventSystemFlags|=H,w=b.targetContainers,X!==null&&w.indexOf(X)===-1&&w.push(X),b)}function Jh(b,w,M,H,X){switch(w){case"focusin":return hi=Nu(hi,b,w,M,H,X),!0;case"dragenter":return Ga=Nu(Ga,b,w,M,H,X),!0;case"mouseover":return Ea=Nu(Ea,b,w,M,H,X),!0;case"pointerover":var J=X.pointerId;return Ri.set(J,Nu(Ri.get(J)||null,b,w,M,H,X)),!0;case"gotpointercapture":return J=X.pointerId,pi.set(J,Nu(pi.get(J)||null,b,w,M,H,X)),!0}return!1}function ep(b){var w=Eu(b.target);if(w!==null){var M=Ct(w);if(M!==null){if(w=M.tag,w===13){if(w=ir(M),w!==null){b.blockedOn=w,Ta(b.priority,function(){oo(M)});return}}else if(w===3&&M.stateNode.current.memoizedState.isDehydrated){b.blockedOn=M.tag===3?M.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Jd(b){if(b.blockedOn!==null)return!1;for(var w=b.targetContainers;0<w.length;){var M=Be(b.domEventName,b.eventSystemFlags,w[0],b.nativeEvent);if(M===null){M=b.nativeEvent;var H=new M.constructor(M.type,M);ot=H,M.target.dispatchEvent(H),ot=null}else return w=fp(M),w!==null&&di(w),b.blockedOn=M,!1;w.shift()}return!0}function G0(b,w,M){Jd(b)&&M.delete(w)}function Xx(){Bo=!1,hi!==null&&Jd(hi)&&(hi=null),Ga!==null&&Jd(Ga)&&(Ga=null),Ea!==null&&Jd(Ea)&&(Ea=null),Ri.forEach(G0),pi.forEach(G0)}function Cu(b,w){b.blockedOn===w&&(b.blockedOn=null,Bo||(Bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xx)))}function Tu(b){function w(X){return Cu(X,b)}if(0<Mi.length){Cu(Mi[0],b);for(var M=1;M<Mi.length;M++){var H=Mi[M];H.blockedOn===b&&(H.blockedOn=null)}}for(hi!==null&&Cu(hi,b),Ga!==null&&Cu(Ga,b),Ea!==null&&Cu(Ea,b),Ri.forEach(w),pi.forEach(w),M=0;M<Ys.length;M++)H=Ys[M],H.blockedOn===b&&(H.blockedOn=null);for(;0<Ys.length&&(M=Ys[0],M.blockedOn===null);)ep(M),M.blockedOn===null&&Ys.shift()}var hc=C.ReactCurrentBatchConfig,ef=!0;function Q0(b,w,M,H){var X=wr,J=hc.transition;hc.transition=null;try{wr=1,tf(b,w,M,H)}finally{wr=X,hc.transition=J}}function Yx(b,w,M,H){var X=wr,J=hc.transition;hc.transition=null;try{wr=4,tf(b,w,M,H)}finally{wr=X,hc.transition=J}}function tf(b,w,M,H){if(ef){var X=Be(b,w,M,H);if(X===null)hv(b,w,H,ue,M),K0(b,H);else if(Jh(X,b,w,M,H))H.stopPropagation();else if(K0(b,H),w&4&&-1<H0.indexOf(b)){for(;X!==null;){var J=fp(X);if(J!==null&&Ca(J),J=Be(b,w,M,H),J===null&&hv(b,w,H,ue,M),J===X)break;X=J}X!==null&&H.stopPropagation()}else hv(b,w,H,null,M)}}var ue=null;function Be(b,w,M,H){if(ue=null,b=Xt(H),b=Eu(b),b!==null)if(w=Ct(b),w===null)b=null;else if(M=w.tag,M===13){if(b=ir(w),b!==null)return b;b=null}else if(M===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;b=null}else w!==b&&(b=null);return ue=b,null}function wt(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ge:return 1;case Mt:return 4;case ut:case mt:return 16;case Pr:return 536870912;default:return 16}default:return 16}}var or=null,$r=null,lt=null;function Yr(){if(lt)return lt;var b,w=$r,M=w.length,H,X="value"in or?or.value:or.textContent,J=X.length;for(b=0;b<M&&w[b]===X[b];b++);var he=M-b;for(H=1;H<=he&&w[M-H]===X[J-H];H++);return lt=X.slice(b,1<H?1-H:void 0)}function ss(b){var w=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&w===13&&(b=13)):b=w,b===10&&(b=13),32<=b||b===13?b:0}function Ss(){return!0}function Di(){return!1}function Zs(b){function w(M,H,X,J,he){this._reactName=M,this._targetInst=X,this.type=H,this.nativeEvent=J,this.target=he,this.currentTarget=null;for(var _e in b)b.hasOwnProperty(_e)&&(M=b[_e],this[_e]=M?M(J):J[_e]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Ss:Di,this.isPropagationStopped=Di,this}return D(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),w}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zx=Zs(rf),tp=D({},rf,{view:0,detail:0}),HW=Zs(tp),Jx,ev,rp,X0=D({},tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==rp&&(rp&&b.type==="mousemove"?(Jx=b.screenX-rp.screenX,ev=b.screenY-rp.screenY):ev=Jx=0,rp=b),Jx)},movementY:function(b){return"movementY"in b?b.movementY:ev}}),kj=Zs(X0),KW=D({},X0,{dataTransfer:0}),GW=Zs(KW),QW=D({},tp,{relatedTarget:0}),tv=Zs(QW),XW=D({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),YW=Zs(XW),ZW=D({},rf,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),JW=Zs(ZW),eU=D({},rf,{data:0}),jj=Zs(eU),tU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sU(b){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(b):(b=nU[b])?!!w[b]:!1}function rv(){return sU}var aU=D({},tp,{key:function(b){if(b.key){var w=tU[b.key]||b.key;if(w!=="Unidentified")return w}return b.type==="keypress"?(b=ss(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?rU[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(b){return b.type==="keypress"?ss(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?ss(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),iU=Zs(aU),oU=D({},X0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sj=Zs(oU),lU=D({},tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),cU=Zs(lU),uU=D({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),dU=Zs(uU),fU=D({},X0,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),hU=Zs(fU),pU=[9,13,27,32],nv=c&&"CompositionEvent"in window,np=null;c&&"documentMode"in document&&(np=document.documentMode);var mU=c&&"TextEvent"in window&&!np,Nj=c&&(!nv||np&&8<np&&11>=np),Cj=" ",Tj=!1;function Ej(b,w){switch(b){case"keyup":return pU.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aj(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var nf=!1;function gU(b,w){switch(b){case"compositionend":return Aj(w);case"keypress":return w.which!==32?null:(Tj=!0,Cj);case"textInput":return b=w.data,b===Cj&&Tj?null:b;default:return null}}function yU(b,w){if(nf)return b==="compositionend"||!nv&&Ej(b,w)?(b=Yr(),lt=$r=or=null,nf=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return Nj&&w.locale!=="ko"?null:w.data;default:return null}}var bU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pj(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w==="input"?!!bU[b.type]:w==="textarea"}function Mj(b,w,M,H){Pt(H),w=tg(w,"onChange"),0<w.length&&(M=new Zx("onChange","change",null,M,H),b.push({event:M,listeners:w}))}var sp=null,ap=null;function xU(b){Xj(b,0)}function Y0(b){var w=cf(b);if(pe(w))return b}function vU(b,w){if(b==="change")return w}var Rj=!1;if(c){var sv;if(c){var av="oninput"in document;if(!av){var Dj=document.createElement("div");Dj.setAttribute("oninput","return;"),av=typeof Dj.oninput=="function"}sv=av}else sv=!1;Rj=sv&&(!document.documentMode||9<document.documentMode)}function Ij(){sp&&(sp.detachEvent("onpropertychange",Oj),ap=sp=null)}function Oj(b){if(b.propertyName==="value"&&Y0(ap)){var w=[];Mj(w,ap,b,Xt(b)),Zt(xU,w)}}function wU(b,w,M){b==="focusin"?(Ij(),sp=w,ap=M,sp.attachEvent("onpropertychange",Oj)):b==="focusout"&&Ij()}function _U(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return Y0(ap)}function kU(b,w){if(b==="click")return Y0(w)}function jU(b,w){if(b==="input"||b==="change")return Y0(w)}function SU(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var lo=typeof Object.is=="function"?Object.is:SU;function ip(b,w){if(lo(b,w))return!0;if(typeof b!="object"||b===null||typeof w!="object"||w===null)return!1;var M=Object.keys(b),H=Object.keys(w);if(M.length!==H.length)return!1;for(H=0;H<M.length;H++){var X=M[H];if(!u.call(w,X)||!lo(b[X],w[X]))return!1}return!0}function Fj(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Lj(b,w){var M=Fj(b);b=0;for(var H;M;){if(M.nodeType===3){if(H=b+M.textContent.length,b<=w&&H>=w)return{node:M,offset:w-b};b=H}e:{for(;M;){if(M.nextSibling){M=M.nextSibling;break e}M=M.parentNode}M=void 0}M=Fj(M)}}function Bj(b,w){return b&&w?b===w?!0:b&&b.nodeType===3?!1:w&&w.nodeType===3?Bj(b,w.parentNode):"contains"in b?b.contains(w):b.compareDocumentPosition?!!(b.compareDocumentPosition(w)&16):!1:!1}function $j(){for(var b=window,w=ce();w instanceof b.HTMLIFrameElement;){try{var M=typeof w.contentWindow.location.href=="string"}catch{M=!1}if(M)b=w.contentWindow;else break;w=ce(b.document)}return w}function iv(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w&&(w==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||w==="textarea"||b.contentEditable==="true")}function NU(b){var w=$j(),M=b.focusedElem,H=b.selectionRange;if(w!==M&&M&&M.ownerDocument&&Bj(M.ownerDocument.documentElement,M)){if(H!==null&&iv(M)){if(w=H.start,b=H.end,b===void 0&&(b=w),"selectionStart"in M)M.selectionStart=w,M.selectionEnd=Math.min(b,M.value.length);else if(b=(w=M.ownerDocument||document)&&w.defaultView||window,b.getSelection){b=b.getSelection();var X=M.textContent.length,J=Math.min(H.start,X);H=H.end===void 0?J:Math.min(H.end,X),!b.extend&&J>H&&(X=H,H=J,J=X),X=Lj(M,J);var he=Lj(M,H);X&&he&&(b.rangeCount!==1||b.anchorNode!==X.node||b.anchorOffset!==X.offset||b.focusNode!==he.node||b.focusOffset!==he.offset)&&(w=w.createRange(),w.setStart(X.node,X.offset),b.removeAllRanges(),J>H?(b.addRange(w),b.extend(he.node,he.offset)):(w.setEnd(he.node,he.offset),b.addRange(w)))}}for(w=[],b=M;b=b.parentNode;)b.nodeType===1&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<w.length;M++)b=w[M],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var CU=c&&"documentMode"in document&&11>=document.documentMode,sf=null,ov=null,op=null,lv=!1;function zj(b,w,M){var H=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;lv||sf==null||sf!==ce(H)||(H=sf,"selectionStart"in H&&iv(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),op&&ip(op,H)||(op=H,H=tg(ov,"onSelect"),0<H.length&&(w=new Zx("onSelect","select",null,w,M),b.push({event:w,listeners:H}),w.target=sf)))}function Z0(b,w){var M={};return M[b.toLowerCase()]=w.toLowerCase(),M["Webkit"+b]="webkit"+w,M["Moz"+b]="moz"+w,M}var af={animationend:Z0("Animation","AnimationEnd"),animationiteration:Z0("Animation","AnimationIteration"),animationstart:Z0("Animation","AnimationStart"),transitionend:Z0("Transition","TransitionEnd")},cv={},Vj={};c&&(Vj=document.createElement("div").style,"AnimationEvent"in window||(delete af.animationend.animation,delete af.animationiteration.animation,delete af.animationstart.animation),"TransitionEvent"in window||delete af.transitionend.transition);function J0(b){if(cv[b])return cv[b];if(!af[b])return b;var w=af[b],M;for(M in w)if(w.hasOwnProperty(M)&&M in Vj)return cv[b]=w[M];return b}var Wj=J0("animationend"),Uj=J0("animationiteration"),qj=J0("animationstart"),Hj=J0("transitionend"),Kj=new Map,Gj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(b,w){Kj.set(b,w),a(w,[b])}for(var uv=0;uv<Gj.length;uv++){var dv=Gj[uv],TU=dv.toLowerCase(),EU=dv[0].toUpperCase()+dv.slice(1);pc(TU,"on"+EU)}pc(Wj,"onAnimationEnd"),pc(Uj,"onAnimationIteration"),pc(qj,"onAnimationStart"),pc("dblclick","onDoubleClick"),pc("focusin","onFocus"),pc("focusout","onBlur"),pc(Hj,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AU=new Set("cancel close invalid load scroll toggle".split(" ").concat(lp));function Qj(b,w,M){var H=b.type||"unknown-event";b.currentTarget=M,Kt(H,w,void 0,b),b.currentTarget=null}function Xj(b,w){w=(w&4)!==0;for(var M=0;M<b.length;M++){var H=b[M],X=H.event;H=H.listeners;e:{var J=void 0;if(w)for(var he=H.length-1;0<=he;he--){var _e=H[he],Te=_e.instance,ze=_e.currentTarget;if(_e=_e.listener,Te!==J&&X.isPropagationStopped())break e;Qj(X,_e,ze),J=Te}else for(he=0;he<H.length;he++){if(_e=H[he],Te=_e.instance,ze=_e.currentTarget,_e=_e.listener,Te!==J&&X.isPropagationStopped())break e;Qj(X,_e,ze),J=Te}}}if(rt)throw b=zt,rt=!1,zt=null,b}function En(b,w){var M=w[xv];M===void 0&&(M=w[xv]=new Set);var H=b+"__bubble";M.has(H)||(Yj(w,b,2,!1),M.add(H))}function fv(b,w,M){var H=0;w&&(H|=4),Yj(M,b,H,w)}var eg="_reactListening"+Math.random().toString(36).slice(2);function cp(b){if(!b[eg]){b[eg]=!0,n.forEach(function(M){M!=="selectionchange"&&(AU.has(M)||fv(M,!1,b),fv(M,!0,b))});var w=b.nodeType===9?b:b.ownerDocument;w===null||w[eg]||(w[eg]=!0,fv("selectionchange",!1,w))}}function Yj(b,w,M,H){switch(wt(w)){case 1:var X=Q0;break;case 4:X=Yx;break;default:X=tf}M=X.bind(null,w,M,b),X=void 0,!Bt||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(X=!0),H?X!==void 0?b.addEventListener(w,M,{capture:!0,passive:X}):b.addEventListener(w,M,!0):X!==void 0?b.addEventListener(w,M,{passive:X}):b.addEventListener(w,M,!1)}function hv(b,w,M,H,X){var J=H;if((w&1)===0&&(w&2)===0&&H!==null)e:for(;;){if(H===null)return;var he=H.tag;if(he===3||he===4){var _e=H.stateNode.containerInfo;if(_e===X||_e.nodeType===8&&_e.parentNode===X)break;if(he===4)for(he=H.return;he!==null;){var Te=he.tag;if((Te===3||Te===4)&&(Te=he.stateNode.containerInfo,Te===X||Te.nodeType===8&&Te.parentNode===X))return;he=he.return}for(;_e!==null;){if(he=Eu(_e),he===null)return;if(Te=he.tag,Te===5||Te===6){H=J=he;continue e}_e=_e.parentNode}}H=H.return}Zt(function(){var ze=J,at=Xt(M),ct=[];e:{var nt=Kj.get(b);if(nt!==void 0){var Tt=Zx,It=b;switch(b){case"keypress":if(ss(M)===0)break e;case"keydown":case"keyup":Tt=iU;break;case"focusin":It="focus",Tt=tv;break;case"focusout":It="blur",Tt=tv;break;case"beforeblur":case"afterblur":Tt=tv;break;case"click":if(M.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=GW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=cU;break;case Wj:case Uj:case qj:Tt=YW;break;case Hj:Tt=dU;break;case"scroll":Tt=HW;break;case"wheel":Tt=hU;break;case"copy":case"cut":case"paste":Tt=JW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Sj}var Lt=(w&4)!==0,as=!Lt&&b==="scroll",Le=Lt?nt!==null?nt+"Capture":null:nt;Lt=[];for(var Ae=ze,$e;Ae!==null;){$e=Ae;var pt=$e.stateNode;if($e.tag===5&&pt!==null&&($e=pt,Le!==null&&(pt=Tr(Ae,Le),pt!=null&&Lt.push(up(Ae,pt,$e)))),as)break;Ae=Ae.return}0<Lt.length&&(nt=new Tt(nt,It,null,M,at),ct.push({event:nt,listeners:Lt}))}}if((w&7)===0){e:{if(nt=b==="mouseover"||b==="pointerover",Tt=b==="mouseout"||b==="pointerout",nt&&M!==ot&&(It=M.relatedTarget||M.fromElement)&&(Eu(It)||It[wl]))break e;if((Tt||nt)&&(nt=at.window===at?at:(nt=at.ownerDocument)?nt.defaultView||nt.parentWindow:window,Tt?(It=M.relatedTarget||M.toElement,Tt=ze,It=It?Eu(It):null,It!==null&&(as=Ct(It),It!==as||It.tag!==5&&It.tag!==6)&&(It=null)):(Tt=null,It=ze),Tt!==It)){if(Lt=kj,pt="onMouseLeave",Le="onMouseEnter",Ae="mouse",(b==="pointerout"||b==="pointerover")&&(Lt=Sj,pt="onPointerLeave",Le="onPointerEnter",Ae="pointer"),as=Tt==null?nt:cf(Tt),$e=It==null?nt:cf(It),nt=new Lt(pt,Ae+"leave",Tt,M,at),nt.target=as,nt.relatedTarget=$e,pt=null,Eu(at)===ze&&(Lt=new Lt(Le,Ae+"enter",It,M,at),Lt.target=$e,Lt.relatedTarget=as,pt=Lt),as=pt,Tt&&It)t:{for(Lt=Tt,Le=It,Ae=0,$e=Lt;$e;$e=of($e))Ae++;for($e=0,pt=Le;pt;pt=of(pt))$e++;for(;0<Ae-$e;)Lt=of(Lt),Ae--;for(;0<$e-Ae;)Le=of(Le),$e--;for(;Ae--;){if(Lt===Le||Le!==null&&Lt===Le.alternate)break t;Lt=of(Lt),Le=of(Le)}Lt=null}else Lt=null;Tt!==null&&Zj(ct,nt,Tt,Lt,!1),It!==null&&as!==null&&Zj(ct,as,It,Lt,!0)}}e:{if(nt=ze?cf(ze):window,Tt=nt.nodeName&&nt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&nt.type==="file")var Ut=vU;else if(Pj(nt))if(Rj)Ut=jU;else{Ut=_U;var ur=wU}else(Tt=nt.nodeName)&&Tt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(Ut=kU);if(Ut&&(Ut=Ut(b,ze))){Mj(ct,Ut,M,at);break e}ur&&ur(b,nt,ze),b==="focusout"&&(ur=nt._wrapperState)&&ur.controlled&&nt.type==="number"&&le(nt,"number",nt.value)}switch(ur=ze?cf(ze):window,b){case"focusin":(Pj(ur)||ur.contentEditable==="true")&&(sf=ur,ov=ze,op=null);break;case"focusout":op=ov=sf=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,zj(ct,M,at);break;case"selectionchange":if(CU)break;case"keydown":case"keyup":zj(ct,M,at)}var dr;if(nv)e:{switch(b){case"compositionstart":var _r="onCompositionStart";break e;case"compositionend":_r="onCompositionEnd";break e;case"compositionupdate":_r="onCompositionUpdate";break e}_r=void 0}else nf?Ej(b,M)&&(_r="onCompositionEnd"):b==="keydown"&&M.keyCode===229&&(_r="onCompositionStart");_r&&(Nj&&M.locale!=="ko"&&(nf||_r!=="onCompositionStart"?_r==="onCompositionEnd"&&nf&&(dr=Yr()):(or=at,$r="value"in or?or.value:or.textContent,nf=!0)),ur=tg(ze,_r),0<ur.length&&(_r=new jj(_r,b,null,M,at),ct.push({event:_r,listeners:ur}),dr?_r.data=dr:(dr=Aj(M),dr!==null&&(_r.data=dr)))),(dr=mU?gU(b,M):yU(b,M))&&(ze=tg(ze,"onBeforeInput"),0<ze.length&&(at=new jj("onBeforeInput","beforeinput",null,M,at),ct.push({event:at,listeners:ze}),at.data=dr))}Xj(ct,w)})}function up(b,w,M){return{instance:b,listener:w,currentTarget:M}}function tg(b,w){for(var M=w+"Capture",H=[];b!==null;){var X=b,J=X.stateNode;X.tag===5&&J!==null&&(X=J,J=Tr(b,M),J!=null&&H.unshift(up(b,J,X)),J=Tr(b,w),J!=null&&H.push(up(b,J,X))),b=b.return}return H}function of(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function Zj(b,w,M,H,X){for(var J=w._reactName,he=[];M!==null&&M!==H;){var _e=M,Te=_e.alternate,ze=_e.stateNode;if(Te!==null&&Te===H)break;_e.tag===5&&ze!==null&&(_e=ze,X?(Te=Tr(M,J),Te!=null&&he.unshift(up(M,Te,_e))):X||(Te=Tr(M,J),Te!=null&&he.push(up(M,Te,_e)))),M=M.return}he.length!==0&&b.push({event:w,listeners:he})}var PU=/\r\n?/g,MU=/\u0000|\uFFFD/g;function Jj(b){return(typeof b=="string"?b:""+b).replace(PU,`
`).replace(MU,"")}function rg(b,w,M){if(w=Jj(w),Jj(b)!==w&&M)throw Error(e(425))}function ng(){}var pv=null,mv=null;function gv(b,w){return b==="textarea"||b==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,RU=typeof clearTimeout=="function"?clearTimeout:void 0,e5=typeof Promise=="function"?Promise:void 0,DU=typeof queueMicrotask=="function"?queueMicrotask:typeof e5<"u"?function(b){return e5.resolve(null).then(b).catch(IU)}:yv;function IU(b){setTimeout(function(){throw b})}function bv(b,w){var M=w,H=0;do{var X=M.nextSibling;if(b.removeChild(M),X&&X.nodeType===8)if(M=X.data,M==="/$"){if(H===0){b.removeChild(X),Tu(w);return}H--}else M!=="$"&&M!=="$?"&&M!=="$!"||H++;M=X}while(M);Tu(w)}function mc(b){for(;b!=null;b=b.nextSibling){var w=b.nodeType;if(w===1||w===3)break;if(w===8){if(w=b.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return b}function t5(b){b=b.previousSibling;for(var w=0;b;){if(b.nodeType===8){var M=b.data;if(M==="$"||M==="$!"||M==="$?"){if(w===0)return b;w--}else M==="/$"&&w++}b=b.previousSibling}return null}var lf=Math.random().toString(36).slice(2),$o="__reactFiber$"+lf,dp="__reactProps$"+lf,wl="__reactContainer$"+lf,xv="__reactEvents$"+lf,OU="__reactListeners$"+lf,FU="__reactHandles$"+lf;function Eu(b){var w=b[$o];if(w)return w;for(var M=b.parentNode;M;){if(w=M[wl]||M[$o]){if(M=w.alternate,w.child!==null||M!==null&&M.child!==null)for(b=t5(b);b!==null;){if(M=b[$o])return M;b=t5(b)}return w}b=M,M=b.parentNode}return null}function fp(b){return b=b[$o]||b[wl],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function cf(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(e(33))}function sg(b){return b[dp]||null}var vv=[],uf=-1;function gc(b){return{current:b}}function An(b){0>uf||(b.current=vv[uf],vv[uf]=null,uf--)}function Nn(b,w){uf++,vv[uf]=b.current,b.current=w}var yc={},fa=gc(yc),Qa=gc(!1),Au=yc;function df(b,w){var M=b.type.contextTypes;if(!M)return yc;var H=b.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===w)return H.__reactInternalMemoizedMaskedChildContext;var X={},J;for(J in M)X[J]=w[J];return H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=w,b.__reactInternalMemoizedMaskedChildContext=X),X}function Xa(b){return b=b.childContextTypes,b!=null}function ag(){An(Qa),An(fa)}function r5(b,w,M){if(fa.current!==yc)throw Error(e(168));Nn(fa,w),Nn(Qa,M)}function n5(b,w,M){var H=b.stateNode;if(w=w.childContextTypes,typeof H.getChildContext!="function")return M;H=H.getChildContext();for(var X in H)if(!(X in w))throw Error(e(108,Z(b)||"Unknown",X));return D({},M,H)}function ig(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||yc,Au=fa.current,Nn(fa,b),Nn(Qa,Qa.current),!0}function s5(b,w,M){var H=b.stateNode;if(!H)throw Error(e(169));M?(b=n5(b,w,Au),H.__reactInternalMemoizedMergedChildContext=b,An(Qa),An(fa),Nn(fa,b)):An(Qa),Nn(Qa,M)}var _l=null,og=!1,wv=!1;function a5(b){_l===null?_l=[b]:_l.push(b)}function LU(b){og=!0,a5(b)}function bc(){if(!wv&&_l!==null){wv=!0;var b=0,w=wr;try{var M=_l;for(wr=1;b<M.length;b++){var H=M[b];do H=H(!0);while(H!==null)}_l=null,og=!1}catch(X){throw _l!==null&&(_l=_l.slice(b+1)),kt(Ge,bc),X}finally{wr=w,wv=!1}}return null}var ff=[],hf=0,lg=null,cg=0,Ii=[],Oi=0,Pu=null,kl=1,jl="";function Mu(b,w){ff[hf++]=cg,ff[hf++]=lg,lg=b,cg=w}function i5(b,w,M){Ii[Oi++]=kl,Ii[Oi++]=jl,Ii[Oi++]=Pu,Pu=b;var H=kl;b=jl;var X=32-vr(H)-1;H&=~(1<<X),M+=1;var J=32-vr(w)+X;if(30<J){var he=X-X%5;J=(H&(1<<he)-1).toString(32),H>>=he,X-=he,kl=1<<32-vr(w)+X|M<<X|H,jl=J+b}else kl=1<<J|M<<X|H,jl=b}function _v(b){b.return!==null&&(Mu(b,1),i5(b,1,0))}function kv(b){for(;b===lg;)lg=ff[--hf],ff[hf]=null,cg=ff[--hf],ff[hf]=null;for(;b===Pu;)Pu=Ii[--Oi],Ii[Oi]=null,jl=Ii[--Oi],Ii[Oi]=null,kl=Ii[--Oi],Ii[Oi]=null}var mi=null,gi=null,On=!1,co=null;function o5(b,w){var M=$i(5,null,null,0);M.elementType="DELETED",M.stateNode=w,M.return=b,w=b.deletions,w===null?(b.deletions=[M],b.flags|=16):w.push(M)}function l5(b,w){switch(b.tag){case 5:var M=b.type;return w=w.nodeType!==1||M.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(b.stateNode=w,mi=b,gi=mc(w.firstChild),!0):!1;case 6:return w=b.pendingProps===""||w.nodeType!==3?null:w,w!==null?(b.stateNode=w,mi=b,gi=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(M=Pu!==null?{id:kl,overflow:jl}:null,b.memoizedState={dehydrated:w,treeContext:M,retryLane:1073741824},M=$i(18,null,null,0),M.stateNode=w,M.return=b,b.child=M,mi=b,gi=null,!0):!1;default:return!1}}function jv(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Sv(b){if(On){var w=gi;if(w){var M=w;if(!l5(b,w)){if(jv(b))throw Error(e(418));w=mc(M.nextSibling);var H=mi;w&&l5(b,w)?o5(H,M):(b.flags=b.flags&-4097|2,On=!1,mi=b)}}else{if(jv(b))throw Error(e(418));b.flags=b.flags&-4097|2,On=!1,mi=b}}}function c5(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;mi=b}function ug(b){if(b!==mi)return!1;if(!On)return c5(b),On=!0,!1;var w;if((w=b.tag!==3)&&!(w=b.tag!==5)&&(w=b.type,w=w!=="head"&&w!=="body"&&!gv(b.type,b.memoizedProps)),w&&(w=gi)){if(jv(b))throw u5(),Error(e(418));for(;w;)o5(b,w),w=mc(w.nextSibling)}if(c5(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(e(317));e:{for(b=b.nextSibling,w=0;b;){if(b.nodeType===8){var M=b.data;if(M==="/$"){if(w===0){gi=mc(b.nextSibling);break e}w--}else M!=="$"&&M!=="$!"&&M!=="$?"||w++}b=b.nextSibling}gi=null}}else gi=mi?mc(b.stateNode.nextSibling):null;return!0}function u5(){for(var b=gi;b;)b=mc(b.nextSibling)}function pf(){gi=mi=null,On=!1}function Nv(b){co===null?co=[b]:co.push(b)}var BU=C.ReactCurrentBatchConfig;function hp(b,w,M){if(b=M.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(e(309));var H=M.stateNode}if(!H)throw Error(e(147,b));var X=H,J=""+b;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===J?w.ref:(w=function(he){var _e=X.refs;he===null?delete _e[J]:_e[J]=he},w._stringRef=J,w)}if(typeof b!="string")throw Error(e(284));if(!M._owner)throw Error(e(290,b))}return b}function dg(b,w){throw b=Object.prototype.toString.call(w),Error(e(31,b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b))}function d5(b){var w=b._init;return w(b._payload)}function f5(b){function w(Le,Ae){if(b){var $e=Le.deletions;$e===null?(Le.deletions=[Ae],Le.flags|=16):$e.push(Ae)}}function M(Le,Ae){if(!b)return null;for(;Ae!==null;)w(Le,Ae),Ae=Ae.sibling;return null}function H(Le,Ae){for(Le=new Map;Ae!==null;)Ae.key!==null?Le.set(Ae.key,Ae):Le.set(Ae.index,Ae),Ae=Ae.sibling;return Le}function X(Le,Ae){return Le=Nc(Le,Ae),Le.index=0,Le.sibling=null,Le}function J(Le,Ae,$e){return Le.index=$e,b?($e=Le.alternate,$e!==null?($e=$e.index,$e<Ae?(Le.flags|=2,Ae):$e):(Le.flags|=2,Ae)):(Le.flags|=1048576,Ae)}function he(Le){return b&&Le.alternate===null&&(Le.flags|=2),Le}function _e(Le,Ae,$e,pt){return Ae===null||Ae.tag!==6?(Ae=y1($e,Le.mode,pt),Ae.return=Le,Ae):(Ae=X(Ae,$e),Ae.return=Le,Ae)}function Te(Le,Ae,$e,pt){var Ut=$e.type;return Ut===q?at(Le,Ae,$e.props.children,pt,$e.key):Ae!==null&&(Ae.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===_&&d5(Ut)===Ae.type)?(pt=X(Ae,$e.props),pt.ref=hp(Le,Ae,$e),pt.return=Le,pt):(pt=Ig($e.type,$e.key,$e.props,null,Le.mode,pt),pt.ref=hp(Le,Ae,$e),pt.return=Le,pt)}function ze(Le,Ae,$e,pt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==$e.containerInfo||Ae.stateNode.implementation!==$e.implementation?(Ae=b1($e,Le.mode,pt),Ae.return=Le,Ae):(Ae=X(Ae,$e.children||[]),Ae.return=Le,Ae)}function at(Le,Ae,$e,pt,Ut){return Ae===null||Ae.tag!==7?(Ae=$u($e,Le.mode,pt,Ut),Ae.return=Le,Ae):(Ae=X(Ae,$e),Ae.return=Le,Ae)}function ct(Le,Ae,$e){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=y1(""+Ae,Le.mode,$e),Ae.return=Le,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case A:return $e=Ig(Ae.type,Ae.key,Ae.props,null,Le.mode,$e),$e.ref=hp(Le,null,Ae),$e.return=Le,$e;case B:return Ae=b1(Ae,Le.mode,$e),Ae.return=Le,Ae;case _:var pt=Ae._init;return ct(Le,pt(Ae._payload),$e)}if(ie(Ae)||N(Ae))return Ae=$u(Ae,Le.mode,$e,null),Ae.return=Le,Ae;dg(Le,Ae)}return null}function nt(Le,Ae,$e,pt){var Ut=Ae!==null?Ae.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ut!==null?null:_e(Le,Ae,""+$e,pt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:return $e.key===Ut?Te(Le,Ae,$e,pt):null;case B:return $e.key===Ut?ze(Le,Ae,$e,pt):null;case _:return Ut=$e._init,nt(Le,Ae,Ut($e._payload),pt)}if(ie($e)||N($e))return Ut!==null?null:at(Le,Ae,$e,pt,null);dg(Le,$e)}return null}function Tt(Le,Ae,$e,pt,Ut){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Le=Le.get($e)||null,_e(Ae,Le,""+pt,Ut);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case A:return Le=Le.get(pt.key===null?$e:pt.key)||null,Te(Ae,Le,pt,Ut);case B:return Le=Le.get(pt.key===null?$e:pt.key)||null,ze(Ae,Le,pt,Ut);case _:var ur=pt._init;return Tt(Le,Ae,$e,ur(pt._payload),Ut)}if(ie(pt)||N(pt))return Le=Le.get($e)||null,at(Ae,Le,pt,Ut,null);dg(Ae,pt)}return null}function It(Le,Ae,$e,pt){for(var Ut=null,ur=null,dr=Ae,_r=Ae=0,zs=null;dr!==null&&_r<$e.length;_r++){dr.index>_r?(zs=dr,dr=null):zs=dr.sibling;var on=nt(Le,dr,$e[_r],pt);if(on===null){dr===null&&(dr=zs);break}b&&dr&&on.alternate===null&&w(Le,dr),Ae=J(on,Ae,_r),ur===null?Ut=on:ur.sibling=on,ur=on,dr=zs}if(_r===$e.length)return M(Le,dr),On&&Mu(Le,_r),Ut;if(dr===null){for(;_r<$e.length;_r++)dr=ct(Le,$e[_r],pt),dr!==null&&(Ae=J(dr,Ae,_r),ur===null?Ut=dr:ur.sibling=dr,ur=dr);return On&&Mu(Le,_r),Ut}for(dr=H(Le,dr);_r<$e.length;_r++)zs=Tt(dr,Le,_r,$e[_r],pt),zs!==null&&(b&&zs.alternate!==null&&dr.delete(zs.key===null?_r:zs.key),Ae=J(zs,Ae,_r),ur===null?Ut=zs:ur.sibling=zs,ur=zs);return b&&dr.forEach(function(Cc){return w(Le,Cc)}),On&&Mu(Le,_r),Ut}function Lt(Le,Ae,$e,pt){var Ut=N($e);if(typeof Ut!="function")throw Error(e(150));if($e=Ut.call($e),$e==null)throw Error(e(151));for(var ur=Ut=null,dr=Ae,_r=Ae=0,zs=null,on=$e.next();dr!==null&&!on.done;_r++,on=$e.next()){dr.index>_r?(zs=dr,dr=null):zs=dr.sibling;var Cc=nt(Le,dr,on.value,pt);if(Cc===null){dr===null&&(dr=zs);break}b&&dr&&Cc.alternate===null&&w(Le,dr),Ae=J(Cc,Ae,_r),ur===null?Ut=Cc:ur.sibling=Cc,ur=Cc,dr=zs}if(on.done)return M(Le,dr),On&&Mu(Le,_r),Ut;if(dr===null){for(;!on.done;_r++,on=$e.next())on=ct(Le,on.value,pt),on!==null&&(Ae=J(on,Ae,_r),ur===null?Ut=on:ur.sibling=on,ur=on);return On&&Mu(Le,_r),Ut}for(dr=H(Le,dr);!on.done;_r++,on=$e.next())on=Tt(dr,Le,_r,on.value,pt),on!==null&&(b&&on.alternate!==null&&dr.delete(on.key===null?_r:on.key),Ae=J(on,Ae,_r),ur===null?Ut=on:ur.sibling=on,ur=on);return b&&dr.forEach(function(bq){return w(Le,bq)}),On&&Mu(Le,_r),Ut}function as(Le,Ae,$e,pt){if(typeof $e=="object"&&$e!==null&&$e.type===q&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:e:{for(var Ut=$e.key,ur=Ae;ur!==null;){if(ur.key===Ut){if(Ut=$e.type,Ut===q){if(ur.tag===7){M(Le,ur.sibling),Ae=X(ur,$e.props.children),Ae.return=Le,Le=Ae;break e}}else if(ur.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===_&&d5(Ut)===ur.type){M(Le,ur.sibling),Ae=X(ur,$e.props),Ae.ref=hp(Le,ur,$e),Ae.return=Le,Le=Ae;break e}M(Le,ur);break}else w(Le,ur);ur=ur.sibling}$e.type===q?(Ae=$u($e.props.children,Le.mode,pt,$e.key),Ae.return=Le,Le=Ae):(pt=Ig($e.type,$e.key,$e.props,null,Le.mode,pt),pt.ref=hp(Le,Ae,$e),pt.return=Le,Le=pt)}return he(Le);case B:e:{for(ur=$e.key;Ae!==null;){if(Ae.key===ur)if(Ae.tag===4&&Ae.stateNode.containerInfo===$e.containerInfo&&Ae.stateNode.implementation===$e.implementation){M(Le,Ae.sibling),Ae=X(Ae,$e.children||[]),Ae.return=Le,Le=Ae;break e}else{M(Le,Ae);break}else w(Le,Ae);Ae=Ae.sibling}Ae=b1($e,Le.mode,pt),Ae.return=Le,Le=Ae}return he(Le);case _:return ur=$e._init,as(Le,Ae,ur($e._payload),pt)}if(ie($e))return It(Le,Ae,$e,pt);if(N($e))return Lt(Le,Ae,$e,pt);dg(Le,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ae!==null&&Ae.tag===6?(M(Le,Ae.sibling),Ae=X(Ae,$e),Ae.return=Le,Le=Ae):(M(Le,Ae),Ae=y1($e,Le.mode,pt),Ae.return=Le,Le=Ae),he(Le)):M(Le,Ae)}return as}var mf=f5(!0),h5=f5(!1),fg=gc(null),hg=null,gf=null,Cv=null;function Tv(){Cv=gf=hg=null}function Ev(b){var w=fg.current;An(fg),b._currentValue=w}function Av(b,w,M){for(;b!==null;){var H=b.alternate;if((b.childLanes&w)!==w?(b.childLanes|=w,H!==null&&(H.childLanes|=w)):H!==null&&(H.childLanes&w)!==w&&(H.childLanes|=w),b===M)break;b=b.return}}function yf(b,w){hg=b,Cv=gf=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&w)!==0&&(Ya=!0),b.firstContext=null)}function Fi(b){var w=b._currentValue;if(Cv!==b)if(b={context:b,memoizedValue:w,next:null},gf===null){if(hg===null)throw Error(e(308));gf=b,hg.dependencies={lanes:0,firstContext:b}}else gf=gf.next=b;return w}var Ru=null;function Pv(b){Ru===null?Ru=[b]:Ru.push(b)}function p5(b,w,M,H){var X=w.interleaved;return X===null?(M.next=M,Pv(w)):(M.next=X.next,X.next=M),w.interleaved=M,Sl(b,H)}function Sl(b,w){b.lanes|=w;var M=b.alternate;for(M!==null&&(M.lanes|=w),M=b,b=b.return;b!==null;)b.childLanes|=w,M=b.alternate,M!==null&&(M.childLanes|=w),M=b,b=b.return;return M.tag===3?M.stateNode:null}var xc=!1;function Mv(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m5(b,w){b=b.updateQueue,w.updateQueue===b&&(w.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Nl(b,w){return{eventTime:b,lane:w,tag:0,payload:null,callback:null,next:null}}function vc(b,w,M){var H=b.updateQueue;if(H===null)return null;if(H=H.shared,(rn&2)!==0){var X=H.pending;return X===null?w.next=w:(w.next=X.next,X.next=w),H.pending=w,Sl(b,M)}return X=H.interleaved,X===null?(w.next=w,Pv(H)):(w.next=X.next,X.next=w),H.interleaved=w,Sl(b,M)}function pg(b,w,M){if(w=w.updateQueue,w!==null&&(w=w.shared,(M&4194240)!==0)){var H=w.lanes;H&=b.pendingLanes,M|=H,w.lanes=M,Pi(b,M)}}function g5(b,w){var M=b.updateQueue,H=b.alternate;if(H!==null&&(H=H.updateQueue,M===H)){var X=null,J=null;if(M=M.firstBaseUpdate,M!==null){do{var he={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};J===null?X=J=he:J=J.next=he,M=M.next}while(M!==null);J===null?X=J=w:J=J.next=w}else X=J=w;M={baseState:H.baseState,firstBaseUpdate:X,lastBaseUpdate:J,shared:H.shared,effects:H.effects},b.updateQueue=M;return}b=M.lastBaseUpdate,b===null?M.firstBaseUpdate=w:b.next=w,M.lastBaseUpdate=w}function mg(b,w,M,H){var X=b.updateQueue;xc=!1;var J=X.firstBaseUpdate,he=X.lastBaseUpdate,_e=X.shared.pending;if(_e!==null){X.shared.pending=null;var Te=_e,ze=Te.next;Te.next=null,he===null?J=ze:he.next=ze,he=Te;var at=b.alternate;at!==null&&(at=at.updateQueue,_e=at.lastBaseUpdate,_e!==he&&(_e===null?at.firstBaseUpdate=ze:_e.next=ze,at.lastBaseUpdate=Te))}if(J!==null){var ct=X.baseState;he=0,at=ze=Te=null,_e=J;do{var nt=_e.lane,Tt=_e.eventTime;if((H&nt)===nt){at!==null&&(at=at.next={eventTime:Tt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var It=b,Lt=_e;switch(nt=w,Tt=M,Lt.tag){case 1:if(It=Lt.payload,typeof It=="function"){ct=It.call(Tt,ct,nt);break e}ct=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Lt.payload,nt=typeof It=="function"?It.call(Tt,ct,nt):It,nt==null)break e;ct=D({},ct,nt);break e;case 2:xc=!0}}_e.callback!==null&&_e.lane!==0&&(b.flags|=64,nt=X.effects,nt===null?X.effects=[_e]:nt.push(_e))}else Tt={eventTime:Tt,lane:nt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},at===null?(ze=at=Tt,Te=ct):at=at.next=Tt,he|=nt;if(_e=_e.next,_e===null){if(_e=X.shared.pending,_e===null)break;nt=_e,_e=nt.next,nt.next=null,X.lastBaseUpdate=nt,X.shared.pending=null}}while(!0);if(at===null&&(Te=ct),X.baseState=Te,X.firstBaseUpdate=ze,X.lastBaseUpdate=at,w=X.shared.interleaved,w!==null){X=w;do he|=X.lane,X=X.next;while(X!==w)}else J===null&&(X.shared.lanes=0);Ou|=he,b.lanes=he,b.memoizedState=ct}}function y5(b,w,M){if(b=w.effects,w.effects=null,b!==null)for(w=0;w<b.length;w++){var H=b[w],X=H.callback;if(X!==null){if(H.callback=null,H=M,typeof X!="function")throw Error(e(191,X));X.call(H)}}}var pp={},zo=gc(pp),mp=gc(pp),gp=gc(pp);function Du(b){if(b===pp)throw Error(e(174));return b}function Rv(b,w){switch(Nn(gp,w),Nn(mp,b),Nn(zo,pp),b=w.nodeType,b){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:Fe(null,"");break;default:b=b===8?w.parentNode:w,w=b.namespaceURI||null,b=b.tagName,w=Fe(w,b)}An(zo),Nn(zo,w)}function bf(){An(zo),An(mp),An(gp)}function b5(b){Du(gp.current);var w=Du(zo.current),M=Fe(w,b.type);w!==M&&(Nn(mp,b),Nn(zo,M))}function Dv(b){mp.current===b&&(An(zo),An(mp))}var Un=gc(0);function gg(b){for(var w=b;w!==null;){if(w.tag===13){var M=w.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||M.data==="$?"||M.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var Iv=[];function Ov(){for(var b=0;b<Iv.length;b++)Iv[b]._workInProgressVersionPrimary=null;Iv.length=0}var yg=C.ReactCurrentDispatcher,Fv=C.ReactCurrentBatchConfig,Iu=0,qn=null,Ns=null,Bs=null,bg=!1,yp=!1,bp=0,$U=0;function ha(){throw Error(e(321))}function Lv(b,w){if(w===null)return!1;for(var M=0;M<w.length&&M<b.length;M++)if(!lo(b[M],w[M]))return!1;return!0}function Bv(b,w,M,H,X,J){if(Iu=J,qn=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,yg.current=b===null||b.memoizedState===null?UU:qU,b=M(H,X),yp){J=0;do{if(yp=!1,bp=0,25<=J)throw Error(e(301));J+=1,Bs=Ns=null,w.updateQueue=null,yg.current=HU,b=M(H,X)}while(yp)}if(yg.current=wg,w=Ns!==null&&Ns.next!==null,Iu=0,Bs=Ns=qn=null,bg=!1,w)throw Error(e(300));return b}function $v(){var b=bp!==0;return bp=0,b}function Vo(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?qn.memoizedState=Bs=b:Bs=Bs.next=b,Bs}function Li(){if(Ns===null){var b=qn.alternate;b=b!==null?b.memoizedState:null}else b=Ns.next;var w=Bs===null?qn.memoizedState:Bs.next;if(w!==null)Bs=w,Ns=b;else{if(b===null)throw Error(e(310));Ns=b,b={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Bs===null?qn.memoizedState=Bs=b:Bs=Bs.next=b}return Bs}function xp(b,w){return typeof w=="function"?w(b):w}function zv(b){var w=Li(),M=w.queue;if(M===null)throw Error(e(311));M.lastRenderedReducer=b;var H=Ns,X=H.baseQueue,J=M.pending;if(J!==null){if(X!==null){var he=X.next;X.next=J.next,J.next=he}H.baseQueue=X=J,M.pending=null}if(X!==null){J=X.next,H=H.baseState;var _e=he=null,Te=null,ze=J;do{var at=ze.lane;if((Iu&at)===at)Te!==null&&(Te=Te.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),H=ze.hasEagerState?ze.eagerState:b(H,ze.action);else{var ct={lane:at,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Te===null?(_e=Te=ct,he=H):Te=Te.next=ct,qn.lanes|=at,Ou|=at}ze=ze.next}while(ze!==null&&ze!==J);Te===null?he=H:Te.next=_e,lo(H,w.memoizedState)||(Ya=!0),w.memoizedState=H,w.baseState=he,w.baseQueue=Te,M.lastRenderedState=H}if(b=M.interleaved,b!==null){X=b;do J=X.lane,qn.lanes|=J,Ou|=J,X=X.next;while(X!==b)}else X===null&&(M.lanes=0);return[w.memoizedState,M.dispatch]}function Vv(b){var w=Li(),M=w.queue;if(M===null)throw Error(e(311));M.lastRenderedReducer=b;var H=M.dispatch,X=M.pending,J=w.memoizedState;if(X!==null){M.pending=null;var he=X=X.next;do J=b(J,he.action),he=he.next;while(he!==X);lo(J,w.memoizedState)||(Ya=!0),w.memoizedState=J,w.baseQueue===null&&(w.baseState=J),M.lastRenderedState=J}return[J,H]}function x5(){}function v5(b,w){var M=qn,H=Li(),X=w(),J=!lo(H.memoizedState,X);if(J&&(H.memoizedState=X,Ya=!0),H=H.queue,Wv(k5.bind(null,M,H,b),[b]),H.getSnapshot!==w||J||Bs!==null&&Bs.memoizedState.tag&1){if(M.flags|=2048,vp(9,_5.bind(null,M,H,X,w),void 0,null),$s===null)throw Error(e(349));(Iu&30)!==0||w5(M,w,X)}return X}function w5(b,w,M){b.flags|=16384,b={getSnapshot:w,value:M},w=qn.updateQueue,w===null?(w={lastEffect:null,stores:null},qn.updateQueue=w,w.stores=[b]):(M=w.stores,M===null?w.stores=[b]:M.push(b))}function _5(b,w,M,H){w.value=M,w.getSnapshot=H,j5(w)&&S5(b)}function k5(b,w,M){return M(function(){j5(w)&&S5(b)})}function j5(b){var w=b.getSnapshot;b=b.value;try{var M=w();return!lo(b,M)}catch{return!0}}function S5(b){var w=Sl(b,1);w!==null&&po(w,b,1,-1)}function N5(b){var w=Vo();return typeof b=="function"&&(b=b()),w.memoizedState=w.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:b},w.queue=b,b=b.dispatch=WU.bind(null,qn,b),[w.memoizedState,b]}function vp(b,w,M,H){return b={tag:b,create:w,destroy:M,deps:H,next:null},w=qn.updateQueue,w===null?(w={lastEffect:null,stores:null},qn.updateQueue=w,w.lastEffect=b.next=b):(M=w.lastEffect,M===null?w.lastEffect=b.next=b:(H=M.next,M.next=b,b.next=H,w.lastEffect=b)),b}function C5(){return Li().memoizedState}function xg(b,w,M,H){var X=Vo();qn.flags|=b,X.memoizedState=vp(1|w,M,void 0,H===void 0?null:H)}function vg(b,w,M,H){var X=Li();H=H===void 0?null:H;var J=void 0;if(Ns!==null){var he=Ns.memoizedState;if(J=he.destroy,H!==null&&Lv(H,he.deps)){X.memoizedState=vp(w,M,J,H);return}}qn.flags|=b,X.memoizedState=vp(1|w,M,J,H)}function T5(b,w){return xg(8390656,8,b,w)}function Wv(b,w){return vg(2048,8,b,w)}function E5(b,w){return vg(4,2,b,w)}function A5(b,w){return vg(4,4,b,w)}function P5(b,w){if(typeof w=="function")return b=b(),w(b),function(){w(null)};if(w!=null)return b=b(),w.current=b,function(){w.current=null}}function M5(b,w,M){return M=M!=null?M.concat([b]):null,vg(4,4,P5.bind(null,w,b),M)}function Uv(){}function R5(b,w){var M=Li();w=w===void 0?null:w;var H=M.memoizedState;return H!==null&&w!==null&&Lv(w,H[1])?H[0]:(M.memoizedState=[b,w],b)}function D5(b,w){var M=Li();w=w===void 0?null:w;var H=M.memoizedState;return H!==null&&w!==null&&Lv(w,H[1])?H[0]:(b=b(),M.memoizedState=[b,w],b)}function I5(b,w,M){return(Iu&21)===0?(b.baseState&&(b.baseState=!1,Ya=!0),b.memoizedState=M):(lo(M,w)||(M=Ur(),qn.lanes|=M,Ou|=M,b.baseState=!0),w)}function zU(b,w){var M=wr;wr=M!==0&&4>M?M:4,b(!0);var H=Fv.transition;Fv.transition={};try{b(!1),w()}finally{wr=M,Fv.transition=H}}function O5(){return Li().memoizedState}function VU(b,w,M){var H=jc(b);if(M={lane:H,action:M,hasEagerState:!1,eagerState:null,next:null},F5(b))L5(w,M);else if(M=p5(b,w,M,H),M!==null){var X=Pa();po(M,b,H,X),B5(M,w,H)}}function WU(b,w,M){var H=jc(b),X={lane:H,action:M,hasEagerState:!1,eagerState:null,next:null};if(F5(b))L5(w,X);else{var J=b.alternate;if(b.lanes===0&&(J===null||J.lanes===0)&&(J=w.lastRenderedReducer,J!==null))try{var he=w.lastRenderedState,_e=J(he,M);if(X.hasEagerState=!0,X.eagerState=_e,lo(_e,he)){var Te=w.interleaved;Te===null?(X.next=X,Pv(w)):(X.next=Te.next,Te.next=X),w.interleaved=X;return}}catch{}finally{}M=p5(b,w,X,H),M!==null&&(X=Pa(),po(M,b,H,X),B5(M,w,H))}}function F5(b){var w=b.alternate;return b===qn||w!==null&&w===qn}function L5(b,w){yp=bg=!0;var M=b.pending;M===null?w.next=w:(w.next=M.next,M.next=w),b.pending=w}function B5(b,w,M){if((M&4194240)!==0){var H=w.lanes;H&=b.pendingLanes,M|=H,w.lanes=M,Pi(b,M)}}var wg={readContext:Fi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},UU={readContext:Fi,useCallback:function(b,w){return Vo().memoizedState=[b,w===void 0?null:w],b},useContext:Fi,useEffect:T5,useImperativeHandle:function(b,w,M){return M=M!=null?M.concat([b]):null,xg(4194308,4,P5.bind(null,w,b),M)},useLayoutEffect:function(b,w){return xg(4194308,4,b,w)},useInsertionEffect:function(b,w){return xg(4,2,b,w)},useMemo:function(b,w){var M=Vo();return w=w===void 0?null:w,b=b(),M.memoizedState=[b,w],b},useReducer:function(b,w,M){var H=Vo();return w=M!==void 0?M(w):w,H.memoizedState=H.baseState=w,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:w},H.queue=b,b=b.dispatch=VU.bind(null,qn,b),[H.memoizedState,b]},useRef:function(b){var w=Vo();return b={current:b},w.memoizedState=b},useState:N5,useDebugValue:Uv,useDeferredValue:function(b){return Vo().memoizedState=b},useTransition:function(){var b=N5(!1),w=b[0];return b=zU.bind(null,b[1]),Vo().memoizedState=b,[w,b]},useMutableSource:function(){},useSyncExternalStore:function(b,w,M){var H=qn,X=Vo();if(On){if(M===void 0)throw Error(e(407));M=M()}else{if(M=w(),$s===null)throw Error(e(349));(Iu&30)!==0||w5(H,w,M)}X.memoizedState=M;var J={value:M,getSnapshot:w};return X.queue=J,T5(k5.bind(null,H,J,b),[b]),H.flags|=2048,vp(9,_5.bind(null,H,J,M,w),void 0,null),M},useId:function(){var b=Vo(),w=$s.identifierPrefix;if(On){var M=jl,H=kl;M=(H&~(1<<32-vr(H)-1)).toString(32)+M,w=":"+w+"R"+M,M=bp++,0<M&&(w+="H"+M.toString(32)),w+=":"}else M=$U++,w=":"+w+"r"+M.toString(32)+":";return b.memoizedState=w},unstable_isNewReconciler:!1},qU={readContext:Fi,useCallback:R5,useContext:Fi,useEffect:Wv,useImperativeHandle:M5,useInsertionEffect:E5,useLayoutEffect:A5,useMemo:D5,useReducer:zv,useRef:C5,useState:function(){return zv(xp)},useDebugValue:Uv,useDeferredValue:function(b){var w=Li();return I5(w,Ns.memoizedState,b)},useTransition:function(){var b=zv(xp)[0],w=Li().memoizedState;return[b,w]},useMutableSource:x5,useSyncExternalStore:v5,useId:O5,unstable_isNewReconciler:!1},HU={readContext:Fi,useCallback:R5,useContext:Fi,useEffect:Wv,useImperativeHandle:M5,useInsertionEffect:E5,useLayoutEffect:A5,useMemo:D5,useReducer:Vv,useRef:C5,useState:function(){return Vv(xp)},useDebugValue:Uv,useDeferredValue:function(b){var w=Li();return Ns===null?w.memoizedState=b:I5(w,Ns.memoizedState,b)},useTransition:function(){var b=Vv(xp)[0],w=Li().memoizedState;return[b,w]},useMutableSource:x5,useSyncExternalStore:v5,useId:O5,unstable_isNewReconciler:!1};function uo(b,w){if(b&&b.defaultProps){w=D({},w),b=b.defaultProps;for(var M in b)w[M]===void 0&&(w[M]=b[M]);return w}return w}function qv(b,w,M,H){w=b.memoizedState,M=M(H,w),M=M==null?w:D({},w,M),b.memoizedState=M,b.lanes===0&&(b.updateQueue.baseState=M)}var _g={isMounted:function(b){return(b=b._reactInternals)?Ct(b)===b:!1},enqueueSetState:function(b,w,M){b=b._reactInternals;var H=Pa(),X=jc(b),J=Nl(H,X);J.payload=w,M!=null&&(J.callback=M),w=vc(b,J,X),w!==null&&(po(w,b,X,H),pg(w,b,X))},enqueueReplaceState:function(b,w,M){b=b._reactInternals;var H=Pa(),X=jc(b),J=Nl(H,X);J.tag=1,J.payload=w,M!=null&&(J.callback=M),w=vc(b,J,X),w!==null&&(po(w,b,X,H),pg(w,b,X))},enqueueForceUpdate:function(b,w){b=b._reactInternals;var M=Pa(),H=jc(b),X=Nl(M,H);X.tag=2,w!=null&&(X.callback=w),w=vc(b,X,H),w!==null&&(po(w,b,H,M),pg(w,b,H))}};function $5(b,w,M,H,X,J,he){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(H,J,he):w.prototype&&w.prototype.isPureReactComponent?!ip(M,H)||!ip(X,J):!0}function z5(b,w,M){var H=!1,X=yc,J=w.contextType;return typeof J=="object"&&J!==null?J=Fi(J):(X=Xa(w)?Au:fa.current,H=w.contextTypes,J=(H=H!=null)?df(b,X):yc),w=new w(M,J),b.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=_g,b.stateNode=w,w._reactInternals=b,H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=X,b.__reactInternalMemoizedMaskedChildContext=J),w}function V5(b,w,M,H){b=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(M,H),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(M,H),w.state!==b&&_g.enqueueReplaceState(w,w.state,null)}function Hv(b,w,M,H){var X=b.stateNode;X.props=M,X.state=b.memoizedState,X.refs={},Mv(b);var J=w.contextType;typeof J=="object"&&J!==null?X.context=Fi(J):(J=Xa(w)?Au:fa.current,X.context=df(b,J)),X.state=b.memoizedState,J=w.getDerivedStateFromProps,typeof J=="function"&&(qv(b,w,J,M),X.state=b.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(w=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),w!==X.state&&_g.enqueueReplaceState(X,X.state,null),mg(b,M,X,H),X.state=b.memoizedState),typeof X.componentDidMount=="function"&&(b.flags|=4194308)}function xf(b,w){try{var M="",H=w;do M+=re(H),H=H.return;while(H);var X=M}catch(J){X=`
Error generating stack: `+J.message+`
`+J.stack}return{value:b,source:w,stack:X,digest:null}}function Kv(b,w,M){return{value:b,source:null,stack:M??null,digest:w??null}}function Gv(b,w){try{console.error(w.value)}catch(M){setTimeout(function(){throw M})}}var KU=typeof WeakMap=="function"?WeakMap:Map;function W5(b,w,M){M=Nl(-1,M),M.tag=3,M.payload={element:null};var H=w.value;return M.callback=function(){Eg||(Eg=!0,c1=H),Gv(b,w)},M}function U5(b,w,M){M=Nl(-1,M),M.tag=3;var H=b.type.getDerivedStateFromError;if(typeof H=="function"){var X=w.value;M.payload=function(){return H(X)},M.callback=function(){Gv(b,w)}}var J=b.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(M.callback=function(){Gv(b,w),typeof H!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var he=w.stack;this.componentDidCatch(w.value,{componentStack:he!==null?he:""})}),M}function q5(b,w,M){var H=b.pingCache;if(H===null){H=b.pingCache=new KU;var X=new Set;H.set(w,X)}else X=H.get(w),X===void 0&&(X=new Set,H.set(w,X));X.has(M)||(X.add(M),b=oq.bind(null,b,w,M),w.then(b,b))}function H5(b){do{var w;if((w=b.tag===13)&&(w=b.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return b;b=b.return}while(b!==null);return null}function K5(b,w,M,H,X){return(b.mode&1)===0?(b===w?b.flags|=65536:(b.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(w=Nl(-1,1),w.tag=2,vc(M,w,1))),M.lanes|=1),b):(b.flags|=65536,b.lanes=X,b)}var GU=C.ReactCurrentOwner,Ya=!1;function Aa(b,w,M,H){w.child=b===null?h5(w,null,M,H):mf(w,b.child,M,H)}function G5(b,w,M,H,X){M=M.render;var J=w.ref;return yf(w,X),H=Bv(b,w,M,H,J,X),M=$v(),b!==null&&!Ya?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,Cl(b,w,X)):(On&&M&&_v(w),w.flags|=1,Aa(b,w,H,X),w.child)}function Q5(b,w,M,H,X){if(b===null){var J=M.type;return typeof J=="function"&&!g1(J)&&J.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(w.tag=15,w.type=J,X5(b,w,J,H,X)):(b=Ig(M.type,null,H,w,w.mode,X),b.ref=w.ref,b.return=w,w.child=b)}if(J=b.child,(b.lanes&X)===0){var he=J.memoizedProps;if(M=M.compare,M=M!==null?M:ip,M(he,H)&&b.ref===w.ref)return Cl(b,w,X)}return w.flags|=1,b=Nc(J,H),b.ref=w.ref,b.return=w,w.child=b}function X5(b,w,M,H,X){if(b!==null){var J=b.memoizedProps;if(ip(J,H)&&b.ref===w.ref)if(Ya=!1,w.pendingProps=H=J,(b.lanes&X)!==0)(b.flags&131072)!==0&&(Ya=!0);else return w.lanes=b.lanes,Cl(b,w,X)}return Qv(b,w,M,H,X)}function Y5(b,w,M){var H=w.pendingProps,X=H.children,J=b!==null?b.memoizedState:null;if(H.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(wf,yi),yi|=M;else{if((M&1073741824)===0)return b=J!==null?J.baseLanes|M:M,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:b,cachePool:null,transitions:null},w.updateQueue=null,Nn(wf,yi),yi|=b,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=J!==null?J.baseLanes:M,Nn(wf,yi),yi|=H}else J!==null?(H=J.baseLanes|M,w.memoizedState=null):H=M,Nn(wf,yi),yi|=H;return Aa(b,w,X,M),w.child}function Z5(b,w){var M=w.ref;(b===null&&M!==null||b!==null&&b.ref!==M)&&(w.flags|=512,w.flags|=2097152)}function Qv(b,w,M,H,X){var J=Xa(M)?Au:fa.current;return J=df(w,J),yf(w,X),M=Bv(b,w,M,H,J,X),H=$v(),b!==null&&!Ya?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~X,Cl(b,w,X)):(On&&H&&_v(w),w.flags|=1,Aa(b,w,M,X),w.child)}function J5(b,w,M,H,X){if(Xa(M)){var J=!0;ig(w)}else J=!1;if(yf(w,X),w.stateNode===null)jg(b,w),z5(w,M,H),Hv(w,M,H,X),H=!0;else if(b===null){var he=w.stateNode,_e=w.memoizedProps;he.props=_e;var Te=he.context,ze=M.contextType;typeof ze=="object"&&ze!==null?ze=Fi(ze):(ze=Xa(M)?Au:fa.current,ze=df(w,ze));var at=M.getDerivedStateFromProps,ct=typeof at=="function"||typeof he.getSnapshotBeforeUpdate=="function";ct||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(_e!==H||Te!==ze)&&V5(w,he,H,ze),xc=!1;var nt=w.memoizedState;he.state=nt,mg(w,H,he,X),Te=w.memoizedState,_e!==H||nt!==Te||Qa.current||xc?(typeof at=="function"&&(qv(w,M,at,H),Te=w.memoizedState),(_e=xc||$5(w,M,_e,H,nt,Te,ze))?(ct||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(w.flags|=4194308)):(typeof he.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=H,w.memoizedState=Te),he.props=H,he.state=Te,he.context=ze,H=_e):(typeof he.componentDidMount=="function"&&(w.flags|=4194308),H=!1)}else{he=w.stateNode,m5(b,w),_e=w.memoizedProps,ze=w.type===w.elementType?_e:uo(w.type,_e),he.props=ze,ct=w.pendingProps,nt=he.context,Te=M.contextType,typeof Te=="object"&&Te!==null?Te=Fi(Te):(Te=Xa(M)?Au:fa.current,Te=df(w,Te));var Tt=M.getDerivedStateFromProps;(at=typeof Tt=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(_e!==ct||nt!==Te)&&V5(w,he,H,Te),xc=!1,nt=w.memoizedState,he.state=nt,mg(w,H,he,X);var It=w.memoizedState;_e!==ct||nt!==It||Qa.current||xc?(typeof Tt=="function"&&(qv(w,M,Tt,H),It=w.memoizedState),(ze=xc||$5(w,M,ze,H,nt,It,Te)||!1)?(at||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(H,It,Te),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(H,It,Te)),typeof he.componentDidUpdate=="function"&&(w.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof he.componentDidUpdate!="function"||_e===b.memoizedProps&&nt===b.memoizedState||(w.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||_e===b.memoizedProps&&nt===b.memoizedState||(w.flags|=1024),w.memoizedProps=H,w.memoizedState=It),he.props=H,he.state=It,he.context=Te,H=ze):(typeof he.componentDidUpdate!="function"||_e===b.memoizedProps&&nt===b.memoizedState||(w.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||_e===b.memoizedProps&&nt===b.memoizedState||(w.flags|=1024),H=!1)}return Xv(b,w,M,H,J,X)}function Xv(b,w,M,H,X,J){Z5(b,w);var he=(w.flags&128)!==0;if(!H&&!he)return X&&s5(w,M,!1),Cl(b,w,J);H=w.stateNode,GU.current=w;var _e=he&&typeof M.getDerivedStateFromError!="function"?null:H.render();return w.flags|=1,b!==null&&he?(w.child=mf(w,b.child,null,J),w.child=mf(w,null,_e,J)):Aa(b,w,_e,J),w.memoizedState=H.state,X&&s5(w,M,!0),w.child}function eS(b){var w=b.stateNode;w.pendingContext?r5(b,w.pendingContext,w.pendingContext!==w.context):w.context&&r5(b,w.context,!1),Rv(b,w.containerInfo)}function tS(b,w,M,H,X){return pf(),Nv(X),w.flags|=256,Aa(b,w,M,H),w.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Zv(b){return{baseLanes:b,cachePool:null,transitions:null}}function rS(b,w,M){var H=w.pendingProps,X=Un.current,J=!1,he=(w.flags&128)!==0,_e;if((_e=he)||(_e=b!==null&&b.memoizedState===null?!1:(X&2)!==0),_e?(J=!0,w.flags&=-129):(b===null||b.memoizedState!==null)&&(X|=1),Nn(Un,X&1),b===null)return Sv(w),b=w.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((w.mode&1)===0?w.lanes=1:b.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(he=H.children,b=H.fallback,J?(H=w.mode,J=w.child,he={mode:"hidden",children:he},(H&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=he):J=Og(he,H,0,null),b=$u(b,H,M,null),J.return=w,b.return=w,J.sibling=b,w.child=J,w.child.memoizedState=Zv(M),w.memoizedState=Yv,b):Jv(w,he));if(X=b.memoizedState,X!==null&&(_e=X.dehydrated,_e!==null))return QU(b,w,he,H,_e,X,M);if(J){J=H.fallback,he=w.mode,X=b.child,_e=X.sibling;var Te={mode:"hidden",children:H.children};return(he&1)===0&&w.child!==X?(H=w.child,H.childLanes=0,H.pendingProps=Te,w.deletions=null):(H=Nc(X,Te),H.subtreeFlags=X.subtreeFlags&14680064),_e!==null?J=Nc(_e,J):(J=$u(J,he,M,null),J.flags|=2),J.return=w,H.return=w,H.sibling=J,w.child=H,H=J,J=w.child,he=b.child.memoizedState,he=he===null?Zv(M):{baseLanes:he.baseLanes|M,cachePool:null,transitions:he.transitions},J.memoizedState=he,J.childLanes=b.childLanes&~M,w.memoizedState=Yv,H}return J=b.child,b=J.sibling,H=Nc(J,{mode:"visible",children:H.children}),(w.mode&1)===0&&(H.lanes=M),H.return=w,H.sibling=null,b!==null&&(M=w.deletions,M===null?(w.deletions=[b],w.flags|=16):M.push(b)),w.child=H,w.memoizedState=null,H}function Jv(b,w){return w=Og({mode:"visible",children:w},b.mode,0,null),w.return=b,b.child=w}function kg(b,w,M,H){return H!==null&&Nv(H),mf(w,b.child,null,M),b=Jv(w,w.pendingProps.children),b.flags|=2,w.memoizedState=null,b}function QU(b,w,M,H,X,J,he){if(M)return w.flags&256?(w.flags&=-257,H=Kv(Error(e(422))),kg(b,w,he,H)):w.memoizedState!==null?(w.child=b.child,w.flags|=128,null):(J=H.fallback,X=w.mode,H=Og({mode:"visible",children:H.children},X,0,null),J=$u(J,X,he,null),J.flags|=2,H.return=w,J.return=w,H.sibling=J,w.child=H,(w.mode&1)!==0&&mf(w,b.child,null,he),w.child.memoizedState=Zv(he),w.memoizedState=Yv,J);if((w.mode&1)===0)return kg(b,w,he,null);if(X.data==="$!"){if(H=X.nextSibling&&X.nextSibling.dataset,H)var _e=H.dgst;return H=_e,J=Error(e(419)),H=Kv(J,H,void 0),kg(b,w,he,H)}if(_e=(he&b.childLanes)!==0,Ya||_e){if(H=$s,H!==null){switch(he&-he){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=(X&(H.suspendedLanes|he))!==0?0:X,X!==0&&X!==J.retryLane&&(J.retryLane=X,Sl(b,X),po(H,b,X,-1))}return m1(),H=Kv(Error(e(421))),kg(b,w,he,H)}return X.data==="$?"?(w.flags|=128,w.child=b.child,w=lq.bind(null,b),X._reactRetry=w,null):(b=J.treeContext,gi=mc(X.nextSibling),mi=w,On=!0,co=null,b!==null&&(Ii[Oi++]=kl,Ii[Oi++]=jl,Ii[Oi++]=Pu,kl=b.id,jl=b.overflow,Pu=w),w=Jv(w,H.children),w.flags|=4096,w)}function nS(b,w,M){b.lanes|=w;var H=b.alternate;H!==null&&(H.lanes|=w),Av(b.return,w,M)}function e1(b,w,M,H,X){var J=b.memoizedState;J===null?b.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:H,tail:M,tailMode:X}:(J.isBackwards=w,J.rendering=null,J.renderingStartTime=0,J.last=H,J.tail=M,J.tailMode=X)}function sS(b,w,M){var H=w.pendingProps,X=H.revealOrder,J=H.tail;if(Aa(b,w,H.children,M),H=Un.current,(H&2)!==0)H=H&1|2,w.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=w.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&nS(b,M,w);else if(b.tag===19)nS(b,M,w);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===w)break e;for(;b.sibling===null;){if(b.return===null||b.return===w)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}H&=1}if(Nn(Un,H),(w.mode&1)===0)w.memoizedState=null;else switch(X){case"forwards":for(M=w.child,X=null;M!==null;)b=M.alternate,b!==null&&gg(b)===null&&(X=M),M=M.sibling;M=X,M===null?(X=w.child,w.child=null):(X=M.sibling,M.sibling=null),e1(w,!1,X,M,J);break;case"backwards":for(M=null,X=w.child,w.child=null;X!==null;){if(b=X.alternate,b!==null&&gg(b)===null){w.child=X;break}b=X.sibling,X.sibling=M,M=X,X=b}e1(w,!0,M,null,J);break;case"together":e1(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function jg(b,w){(w.mode&1)===0&&b!==null&&(b.alternate=null,w.alternate=null,w.flags|=2)}function Cl(b,w,M){if(b!==null&&(w.dependencies=b.dependencies),Ou|=w.lanes,(M&w.childLanes)===0)return null;if(b!==null&&w.child!==b.child)throw Error(e(153));if(w.child!==null){for(b=w.child,M=Nc(b,b.pendingProps),w.child=M,M.return=w;b.sibling!==null;)b=b.sibling,M=M.sibling=Nc(b,b.pendingProps),M.return=w;M.sibling=null}return w.child}function XU(b,w,M){switch(w.tag){case 3:eS(w),pf();break;case 5:b5(w);break;case 1:Xa(w.type)&&ig(w);break;case 4:Rv(w,w.stateNode.containerInfo);break;case 10:var H=w.type._context,X=w.memoizedProps.value;Nn(fg,H._currentValue),H._currentValue=X;break;case 13:if(H=w.memoizedState,H!==null)return H.dehydrated!==null?(Nn(Un,Un.current&1),w.flags|=128,null):(M&w.child.childLanes)!==0?rS(b,w,M):(Nn(Un,Un.current&1),b=Cl(b,w,M),b!==null?b.sibling:null);Nn(Un,Un.current&1);break;case 19:if(H=(M&w.childLanes)!==0,(b.flags&128)!==0){if(H)return sS(b,w,M);w.flags|=128}if(X=w.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),Nn(Un,Un.current),H)break;return null;case 22:case 23:return w.lanes=0,Y5(b,w,M)}return Cl(b,w,M)}var aS,t1,iS,oS;aS=function(b,w){for(var M=w.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===w)break;for(;M.sibling===null;){if(M.return===null||M.return===w)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},t1=function(){},iS=function(b,w,M,H){var X=b.memoizedProps;if(X!==H){b=w.stateNode,Du(zo.current);var J=null;switch(M){case"input":X=ge(b,X),H=ge(b,H),J=[];break;case"select":X=D({},X,{value:void 0}),H=D({},H,{value:void 0}),J=[];break;case"textarea":X=se(b,X),H=se(b,H),J=[];break;default:typeof X.onClick!="function"&&typeof H.onClick=="function"&&(b.onclick=ng)}He(M,H);var he;M=null;for(ze in X)if(!H.hasOwnProperty(ze)&&X.hasOwnProperty(ze)&&X[ze]!=null)if(ze==="style"){var _e=X[ze];for(he in _e)_e.hasOwnProperty(he)&&(M||(M={}),M[he]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(s.hasOwnProperty(ze)?J||(J=[]):(J=J||[]).push(ze,null));for(ze in H){var Te=H[ze];if(_e=X?.[ze],H.hasOwnProperty(ze)&&Te!==_e&&(Te!=null||_e!=null))if(ze==="style")if(_e){for(he in _e)!_e.hasOwnProperty(he)||Te&&Te.hasOwnProperty(he)||(M||(M={}),M[he]="");for(he in Te)Te.hasOwnProperty(he)&&_e[he]!==Te[he]&&(M||(M={}),M[he]=Te[he])}else M||(J||(J=[]),J.push(ze,M)),M=Te;else ze==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,_e=_e?_e.__html:void 0,Te!=null&&_e!==Te&&(J=J||[]).push(ze,Te)):ze==="children"?typeof Te!="string"&&typeof Te!="number"||(J=J||[]).push(ze,""+Te):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(s.hasOwnProperty(ze)?(Te!=null&&ze==="onScroll"&&En("scroll",b),J||_e===Te||(J=[])):(J=J||[]).push(ze,Te))}M&&(J=J||[]).push("style",M);var ze=J;(w.updateQueue=ze)&&(w.flags|=4)}},oS=function(b,w,M,H){M!==H&&(w.flags|=4)};function wp(b,w){if(!On)switch(b.tailMode){case"hidden":w=b.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?b.tail=null:M.sibling=null;break;case"collapsed":M=b.tail;for(var H=null;M!==null;)M.alternate!==null&&(H=M),M=M.sibling;H===null?w||b.tail===null?b.tail=null:b.tail.sibling=null:H.sibling=null}}function pa(b){var w=b.alternate!==null&&b.alternate.child===b.child,M=0,H=0;if(w)for(var X=b.child;X!==null;)M|=X.lanes|X.childLanes,H|=X.subtreeFlags&14680064,H|=X.flags&14680064,X.return=b,X=X.sibling;else for(X=b.child;X!==null;)M|=X.lanes|X.childLanes,H|=X.subtreeFlags,H|=X.flags,X.return=b,X=X.sibling;return b.subtreeFlags|=H,b.childLanes=M,w}function YU(b,w,M){var H=w.pendingProps;switch(kv(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(w),null;case 1:return Xa(w.type)&&ag(),pa(w),null;case 3:return H=w.stateNode,bf(),An(Qa),An(fa),Ov(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(b===null||b.child===null)&&(ug(w)?w.flags|=4:b===null||b.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,co!==null&&(f1(co),co=null))),t1(b,w),pa(w),null;case 5:Dv(w);var X=Du(gp.current);if(M=w.type,b!==null&&w.stateNode!=null)iS(b,w,M,H,X),b.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!H){if(w.stateNode===null)throw Error(e(166));return pa(w),null}if(b=Du(zo.current),ug(w)){H=w.stateNode,M=w.type;var J=w.memoizedProps;switch(H[$o]=w,H[dp]=J,b=(w.mode&1)!==0,M){case"dialog":En("cancel",H),En("close",H);break;case"iframe":case"object":case"embed":En("load",H);break;case"video":case"audio":for(X=0;X<lp.length;X++)En(lp[X],H);break;case"source":En("error",H);break;case"img":case"image":case"link":En("error",H),En("load",H);break;case"details":En("toggle",H);break;case"input":ee(H,J),En("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!J.multiple},En("invalid",H);break;case"textarea":de(H,J),En("invalid",H)}He(M,J),X=null;for(var he in J)if(J.hasOwnProperty(he)){var _e=J[he];he==="children"?typeof _e=="string"?H.textContent!==_e&&(J.suppressHydrationWarning!==!0&&rg(H.textContent,_e,b),X=["children",_e]):typeof _e=="number"&&H.textContent!==""+_e&&(J.suppressHydrationWarning!==!0&&rg(H.textContent,_e,b),X=["children",""+_e]):s.hasOwnProperty(he)&&_e!=null&&he==="onScroll"&&En("scroll",H)}switch(M){case"input":ae(H),fe(H,J,!0);break;case"textarea":ae(H),ke(H);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(H.onclick=ng)}H=X,w.updateQueue=H,H!==null&&(w.flags|=4)}else{he=X.nodeType===9?X:X.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Ce(M)),b==="http://www.w3.org/1999/xhtml"?M==="script"?(b=he.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof H.is=="string"?b=he.createElement(M,{is:H.is}):(b=he.createElement(M),M==="select"&&(he=b,H.multiple?he.multiple=!0:H.size&&(he.size=H.size))):b=he.createElementNS(b,M),b[$o]=w,b[dp]=H,aS(b,w,!1,!1),w.stateNode=b;e:{switch(he=Xe(M,H),M){case"dialog":En("cancel",b),En("close",b),X=H;break;case"iframe":case"object":case"embed":En("load",b),X=H;break;case"video":case"audio":for(X=0;X<lp.length;X++)En(lp[X],b);X=H;break;case"source":En("error",b),X=H;break;case"img":case"image":case"link":En("error",b),En("load",b),X=H;break;case"details":En("toggle",b),X=H;break;case"input":ee(b,H),X=ge(b,H),En("invalid",b);break;case"option":X=H;break;case"select":b._wrapperState={wasMultiple:!!H.multiple},X=D({},H,{value:void 0}),En("invalid",b);break;case"textarea":de(b,H),X=se(b,H),En("invalid",b);break;default:X=H}He(M,X),_e=X;for(J in _e)if(_e.hasOwnProperty(J)){var Te=_e[J];J==="style"?ve(b,Te):J==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&Ue(b,Te)):J==="children"?typeof Te=="string"?(M!=="textarea"||Te!=="")&&tt(b,Te):typeof Te=="number"&&tt(b,""+Te):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?Te!=null&&J==="onScroll"&&En("scroll",b):Te!=null&&S(b,J,Te,he))}switch(M){case"input":ae(b),fe(b,H,!1);break;case"textarea":ae(b),ke(b);break;case"option":H.value!=null&&b.setAttribute("value",""+W(H.value));break;case"select":b.multiple=!!H.multiple,J=H.value,J!=null?te(b,!!H.multiple,J,!1):H.defaultValue!=null&&te(b,!!H.multiple,H.defaultValue,!0);break;default:typeof X.onClick=="function"&&(b.onclick=ng)}switch(M){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break e;case"img":H=!0;break e;default:H=!1}}H&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return pa(w),null;case 6:if(b&&w.stateNode!=null)oS(b,w,b.memoizedProps,H);else{if(typeof H!="string"&&w.stateNode===null)throw Error(e(166));if(M=Du(gp.current),Du(zo.current),ug(w)){if(H=w.stateNode,M=w.memoizedProps,H[$o]=w,(J=H.nodeValue!==M)&&(b=mi,b!==null))switch(b.tag){case 3:rg(H.nodeValue,M,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&rg(H.nodeValue,M,(b.mode&1)!==0)}J&&(w.flags|=4)}else H=(M.nodeType===9?M:M.ownerDocument).createTextNode(H),H[$o]=w,w.stateNode=H}return pa(w),null;case 13:if(An(Un),H=w.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(On&&gi!==null&&(w.mode&1)!==0&&(w.flags&128)===0)u5(),pf(),w.flags|=98560,J=!1;else if(J=ug(w),H!==null&&H.dehydrated!==null){if(b===null){if(!J)throw Error(e(318));if(J=w.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(e(317));J[$o]=w}else pf(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;pa(w),J=!1}else co!==null&&(f1(co),co=null),J=!0;if(!J)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=M,w):(H=H!==null,H!==(b!==null&&b.memoizedState!==null)&&H&&(w.child.flags|=8192,(w.mode&1)!==0&&(b===null||(Un.current&1)!==0?Cs===0&&(Cs=3):m1())),w.updateQueue!==null&&(w.flags|=4),pa(w),null);case 4:return bf(),t1(b,w),b===null&&cp(w.stateNode.containerInfo),pa(w),null;case 10:return Ev(w.type._context),pa(w),null;case 17:return Xa(w.type)&&ag(),pa(w),null;case 19:if(An(Un),J=w.memoizedState,J===null)return pa(w),null;if(H=(w.flags&128)!==0,he=J.rendering,he===null)if(H)wp(J,!1);else{if(Cs!==0||b!==null&&(b.flags&128)!==0)for(b=w.child;b!==null;){if(he=gg(b),he!==null){for(w.flags|=128,wp(J,!1),H=he.updateQueue,H!==null&&(w.updateQueue=H,w.flags|=4),w.subtreeFlags=0,H=M,M=w.child;M!==null;)J=M,b=H,J.flags&=14680066,he=J.alternate,he===null?(J.childLanes=0,J.lanes=b,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=he.childLanes,J.lanes=he.lanes,J.child=he.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=he.memoizedProps,J.memoizedState=he.memoizedState,J.updateQueue=he.updateQueue,J.type=he.type,b=he.dependencies,J.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),M=M.sibling;return Nn(Un,Un.current&1|2),w.child}b=b.sibling}J.tail!==null&&Pe()>_f&&(w.flags|=128,H=!0,wp(J,!1),w.lanes=4194304)}else{if(!H)if(b=gg(he),b!==null){if(w.flags|=128,H=!0,M=b.updateQueue,M!==null&&(w.updateQueue=M,w.flags|=4),wp(J,!0),J.tail===null&&J.tailMode==="hidden"&&!he.alternate&&!On)return pa(w),null}else 2*Pe()-J.renderingStartTime>_f&&M!==1073741824&&(w.flags|=128,H=!0,wp(J,!1),w.lanes=4194304);J.isBackwards?(he.sibling=w.child,w.child=he):(M=J.last,M!==null?M.sibling=he:w.child=he,J.last=he)}return J.tail!==null?(w=J.tail,J.rendering=w,J.tail=w.sibling,J.renderingStartTime=Pe(),w.sibling=null,M=Un.current,Nn(Un,H?M&1|2:M&1),w):(pa(w),null);case 22:case 23:return p1(),H=w.memoizedState!==null,b!==null&&b.memoizedState!==null!==H&&(w.flags|=8192),H&&(w.mode&1)!==0?(yi&1073741824)!==0&&(pa(w),w.subtreeFlags&6&&(w.flags|=8192)):pa(w),null;case 24:return null;case 25:return null}throw Error(e(156,w.tag))}function ZU(b,w){switch(kv(w),w.tag){case 1:return Xa(w.type)&&ag(),b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 3:return bf(),An(Qa),An(fa),Ov(),b=w.flags,(b&65536)!==0&&(b&128)===0?(w.flags=b&-65537|128,w):null;case 5:return Dv(w),null;case 13:if(An(Un),b=w.memoizedState,b!==null&&b.dehydrated!==null){if(w.alternate===null)throw Error(e(340));pf()}return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 19:return An(Un),null;case 4:return bf(),null;case 10:return Ev(w.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var Sg=!1,ma=!1,JU=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function vf(b,w){var M=b.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(H){es(b,w,H)}else M.current=null}function r1(b,w,M){try{M()}catch(H){es(b,w,H)}}var lS=!1;function eq(b,w){if(pv=ef,b=$j(),iv(b)){if("selectionStart"in b)var M={start:b.selectionStart,end:b.selectionEnd};else e:{M=(M=b.ownerDocument)&&M.defaultView||window;var H=M.getSelection&&M.getSelection();if(H&&H.rangeCount!==0){M=H.anchorNode;var X=H.anchorOffset,J=H.focusNode;H=H.focusOffset;try{M.nodeType,J.nodeType}catch{M=null;break e}var he=0,_e=-1,Te=-1,ze=0,at=0,ct=b,nt=null;t:for(;;){for(var Tt;ct!==M||X!==0&&ct.nodeType!==3||(_e=he+X),ct!==J||H!==0&&ct.nodeType!==3||(Te=he+H),ct.nodeType===3&&(he+=ct.nodeValue.length),(Tt=ct.firstChild)!==null;)nt=ct,ct=Tt;for(;;){if(ct===b)break t;if(nt===M&&++ze===X&&(_e=he),nt===J&&++at===H&&(Te=he),(Tt=ct.nextSibling)!==null)break;ct=nt,nt=ct.parentNode}ct=Tt}M=_e===-1||Te===-1?null:{start:_e,end:Te}}else M=null}M=M||{start:0,end:0}}else M=null;for(mv={focusedElem:b,selectionRange:M},ef=!1,Rt=w;Rt!==null;)if(w=Rt,b=w.child,(w.subtreeFlags&1028)!==0&&b!==null)b.return=w,Rt=b;else for(;Rt!==null;){w=Rt;try{var It=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Lt=It.memoizedProps,as=It.memoizedState,Le=w.stateNode,Ae=Le.getSnapshotBeforeUpdate(w.elementType===w.type?Lt:uo(w.type,Lt),as);Le.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var $e=w.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(pt){es(w,w.return,pt)}if(b=w.sibling,b!==null){b.return=w.return,Rt=b;break}Rt=w.return}return It=lS,lS=!1,It}function _p(b,w,M){var H=w.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var X=H=H.next;do{if((X.tag&b)===b){var J=X.destroy;X.destroy=void 0,J!==void 0&&r1(w,M,J)}X=X.next}while(X!==H)}}function Ng(b,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var M=w=w.next;do{if((M.tag&b)===b){var H=M.create;M.destroy=H()}M=M.next}while(M!==w)}}function n1(b){var w=b.ref;if(w!==null){var M=b.stateNode;switch(b.tag){case 5:b=M;break;default:b=M}typeof w=="function"?w(b):w.current=b}}function cS(b){var w=b.alternate;w!==null&&(b.alternate=null,cS(w)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(w=b.stateNode,w!==null&&(delete w[$o],delete w[dp],delete w[xv],delete w[OU],delete w[FU])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function uS(b){return b.tag===5||b.tag===3||b.tag===4}function dS(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||uS(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function s1(b,w,M){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?M.nodeType===8?M.parentNode.insertBefore(b,w):M.insertBefore(b,w):(M.nodeType===8?(w=M.parentNode,w.insertBefore(b,M)):(w=M,w.appendChild(b)),M=M._reactRootContainer,M!=null||w.onclick!==null||(w.onclick=ng));else if(H!==4&&(b=b.child,b!==null))for(s1(b,w,M),b=b.sibling;b!==null;)s1(b,w,M),b=b.sibling}function a1(b,w,M){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?M.insertBefore(b,w):M.appendChild(b);else if(H!==4&&(b=b.child,b!==null))for(a1(b,w,M),b=b.sibling;b!==null;)a1(b,w,M),b=b.sibling}var Js=null,fo=!1;function wc(b,w,M){for(M=M.child;M!==null;)fS(b,w,M),M=M.sibling}function fS(b,w,M){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(hr,M)}catch{}switch(M.tag){case 5:ma||vf(M,w);case 6:var H=Js,X=fo;Js=null,wc(b,w,M),Js=H,fo=X,Js!==null&&(fo?(b=Js,M=M.stateNode,b.nodeType===8?b.parentNode.removeChild(M):b.removeChild(M)):Js.removeChild(M.stateNode));break;case 18:Js!==null&&(fo?(b=Js,M=M.stateNode,b.nodeType===8?bv(b.parentNode,M):b.nodeType===1&&bv(b,M),Tu(b)):bv(Js,M.stateNode));break;case 4:H=Js,X=fo,Js=M.stateNode.containerInfo,fo=!0,wc(b,w,M),Js=H,fo=X;break;case 0:case 11:case 14:case 15:if(!ma&&(H=M.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){X=H=H.next;do{var J=X,he=J.destroy;J=J.tag,he!==void 0&&((J&2)!==0||(J&4)!==0)&&r1(M,w,he),X=X.next}while(X!==H)}wc(b,w,M);break;case 1:if(!ma&&(vf(M,w),H=M.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=M.memoizedProps,H.state=M.memoizedState,H.componentWillUnmount()}catch(_e){es(M,w,_e)}wc(b,w,M);break;case 21:wc(b,w,M);break;case 22:M.mode&1?(ma=(H=ma)||M.memoizedState!==null,wc(b,w,M),ma=H):wc(b,w,M);break;default:wc(b,w,M)}}function hS(b){var w=b.updateQueue;if(w!==null){b.updateQueue=null;var M=b.stateNode;M===null&&(M=b.stateNode=new JU),w.forEach(function(H){var X=cq.bind(null,b,H);M.has(H)||(M.add(H),H.then(X,X))})}}function ho(b,w){var M=w.deletions;if(M!==null)for(var H=0;H<M.length;H++){var X=M[H];try{var J=b,he=w,_e=he;e:for(;_e!==null;){switch(_e.tag){case 5:Js=_e.stateNode,fo=!1;break e;case 3:Js=_e.stateNode.containerInfo,fo=!0;break e;case 4:Js=_e.stateNode.containerInfo,fo=!0;break e}_e=_e.return}if(Js===null)throw Error(e(160));fS(J,he,X),Js=null,fo=!1;var Te=X.alternate;Te!==null&&(Te.return=null),X.return=null}catch(ze){es(X,w,ze)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)pS(w,b),w=w.sibling}function pS(b,w){var M=b.alternate,H=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(ho(w,b),Wo(b),H&4){try{_p(3,b,b.return),Ng(3,b)}catch(Lt){es(b,b.return,Lt)}try{_p(5,b,b.return)}catch(Lt){es(b,b.return,Lt)}}break;case 1:ho(w,b),Wo(b),H&512&&M!==null&&vf(M,M.return);break;case 5:if(ho(w,b),Wo(b),H&512&&M!==null&&vf(M,M.return),b.flags&32){var X=b.stateNode;try{tt(X,"")}catch(Lt){es(b,b.return,Lt)}}if(H&4&&(X=b.stateNode,X!=null)){var J=b.memoizedProps,he=M!==null?M.memoizedProps:J,_e=b.type,Te=b.updateQueue;if(b.updateQueue=null,Te!==null)try{_e==="input"&&J.type==="radio"&&J.name!=null&&oe(X,J),Xe(_e,he);var ze=Xe(_e,J);for(he=0;he<Te.length;he+=2){var at=Te[he],ct=Te[he+1];at==="style"?ve(X,ct):at==="dangerouslySetInnerHTML"?Ue(X,ct):at==="children"?tt(X,ct):S(X,at,ct,ze)}switch(_e){case"input":ne(X,J);break;case"textarea":me(X,J);break;case"select":var nt=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!J.multiple;var Tt=J.value;Tt!=null?te(X,!!J.multiple,Tt,!1):nt!==!!J.multiple&&(J.defaultValue!=null?te(X,!!J.multiple,J.defaultValue,!0):te(X,!!J.multiple,J.multiple?[]:"",!1))}X[dp]=J}catch(Lt){es(b,b.return,Lt)}}break;case 6:if(ho(w,b),Wo(b),H&4){if(b.stateNode===null)throw Error(e(162));X=b.stateNode,J=b.memoizedProps;try{X.nodeValue=J}catch(Lt){es(b,b.return,Lt)}}break;case 3:if(ho(w,b),Wo(b),H&4&&M!==null&&M.memoizedState.isDehydrated)try{Tu(w.containerInfo)}catch(Lt){es(b,b.return,Lt)}break;case 4:ho(w,b),Wo(b);break;case 13:ho(w,b),Wo(b),X=b.child,X.flags&8192&&(J=X.memoizedState!==null,X.stateNode.isHidden=J,!J||X.alternate!==null&&X.alternate.memoizedState!==null||(l1=Pe())),H&4&&hS(b);break;case 22:if(at=M!==null&&M.memoizedState!==null,b.mode&1?(ma=(ze=ma)||at,ho(w,b),ma=ze):ho(w,b),Wo(b),H&8192){if(ze=b.memoizedState!==null,(b.stateNode.isHidden=ze)&&!at&&(b.mode&1)!==0)for(Rt=b,at=b.child;at!==null;){for(ct=Rt=at;Rt!==null;){switch(nt=Rt,Tt=nt.child,nt.tag){case 0:case 11:case 14:case 15:_p(4,nt,nt.return);break;case 1:vf(nt,nt.return);var It=nt.stateNode;if(typeof It.componentWillUnmount=="function"){H=nt,M=nt.return;try{w=H,It.props=w.memoizedProps,It.state=w.memoizedState,It.componentWillUnmount()}catch(Lt){es(H,M,Lt)}}break;case 5:vf(nt,nt.return);break;case 22:if(nt.memoizedState!==null){yS(ct);continue}}Tt!==null?(Tt.return=nt,Rt=Tt):yS(ct)}at=at.sibling}e:for(at=null,ct=b;;){if(ct.tag===5){if(at===null){at=ct;try{X=ct.stateNode,ze?(J=X.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(_e=ct.stateNode,Te=ct.memoizedProps.style,he=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,_e.style.display=it("display",he))}catch(Lt){es(b,b.return,Lt)}}}else if(ct.tag===6){if(at===null)try{ct.stateNode.nodeValue=ze?"":ct.memoizedProps}catch(Lt){es(b,b.return,Lt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===b)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===b)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===b)break e;at===ct&&(at=null),ct=ct.return}at===ct&&(at=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ho(w,b),Wo(b),H&4&&hS(b);break;case 21:break;default:ho(w,b),Wo(b)}}function Wo(b){var w=b.flags;if(w&2){try{e:{for(var M=b.return;M!==null;){if(uS(M)){var H=M;break e}M=M.return}throw Error(e(160))}switch(H.tag){case 5:var X=H.stateNode;H.flags&32&&(tt(X,""),H.flags&=-33);var J=dS(b);a1(b,J,X);break;case 3:case 4:var he=H.stateNode.containerInfo,_e=dS(b);s1(b,_e,he);break;default:throw Error(e(161))}}catch(Te){es(b,b.return,Te)}b.flags&=-3}w&4096&&(b.flags&=-4097)}function tq(b,w,M){Rt=b,mS(b)}function mS(b,w,M){for(var H=(b.mode&1)!==0;Rt!==null;){var X=Rt,J=X.child;if(X.tag===22&&H){var he=X.memoizedState!==null||Sg;if(!he){var _e=X.alternate,Te=_e!==null&&_e.memoizedState!==null||ma;_e=Sg;var ze=ma;if(Sg=he,(ma=Te)&&!ze)for(Rt=X;Rt!==null;)he=Rt,Te=he.child,he.tag===22&&he.memoizedState!==null?bS(X):Te!==null?(Te.return=he,Rt=Te):bS(X);for(;J!==null;)Rt=J,mS(J),J=J.sibling;Rt=X,Sg=_e,ma=ze}gS(b)}else(X.subtreeFlags&8772)!==0&&J!==null?(J.return=X,Rt=J):gS(b)}}function gS(b){for(;Rt!==null;){var w=Rt;if((w.flags&8772)!==0){var M=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:ma||Ng(5,w);break;case 1:var H=w.stateNode;if(w.flags&4&&!ma)if(M===null)H.componentDidMount();else{var X=w.elementType===w.type?M.memoizedProps:uo(w.type,M.memoizedProps);H.componentDidUpdate(X,M.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var J=w.updateQueue;J!==null&&y5(w,J,H);break;case 3:var he=w.updateQueue;if(he!==null){if(M=null,w.child!==null)switch(w.child.tag){case 5:M=w.child.stateNode;break;case 1:M=w.child.stateNode}y5(w,he,M)}break;case 5:var _e=w.stateNode;if(M===null&&w.flags&4){M=_e;var Te=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&M.focus();break;case"img":Te.src&&(M.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var ze=w.alternate;if(ze!==null){var at=ze.memoizedState;if(at!==null){var ct=at.dehydrated;ct!==null&&Tu(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ma||w.flags&512&&n1(w)}catch(nt){es(w,w.return,nt)}}if(w===b){Rt=null;break}if(M=w.sibling,M!==null){M.return=w.return,Rt=M;break}Rt=w.return}}function yS(b){for(;Rt!==null;){var w=Rt;if(w===b){Rt=null;break}var M=w.sibling;if(M!==null){M.return=w.return,Rt=M;break}Rt=w.return}}function bS(b){for(;Rt!==null;){var w=Rt;try{switch(w.tag){case 0:case 11:case 15:var M=w.return;try{Ng(4,w)}catch(Te){es(w,M,Te)}break;case 1:var H=w.stateNode;if(typeof H.componentDidMount=="function"){var X=w.return;try{H.componentDidMount()}catch(Te){es(w,X,Te)}}var J=w.return;try{n1(w)}catch(Te){es(w,J,Te)}break;case 5:var he=w.return;try{n1(w)}catch(Te){es(w,he,Te)}}}catch(Te){es(w,w.return,Te)}if(w===b){Rt=null;break}var _e=w.sibling;if(_e!==null){_e.return=w.return,Rt=_e;break}Rt=w.return}}var rq=Math.ceil,Cg=C.ReactCurrentDispatcher,i1=C.ReactCurrentOwner,Bi=C.ReactCurrentBatchConfig,rn=0,$s=null,hs=null,ea=0,yi=0,wf=gc(0),Cs=0,kp=null,Ou=0,Tg=0,o1=0,jp=null,Za=null,l1=0,_f=1/0,Tl=null,Eg=!1,c1=null,_c=null,Ag=!1,kc=null,Pg=0,Sp=0,u1=null,Mg=-1,Rg=0;function Pa(){return(rn&6)!==0?Pe():Mg!==-1?Mg:Mg=Pe()}function jc(b){return(b.mode&1)===0?1:(rn&2)!==0&&ea!==0?ea&-ea:BU.transition!==null?(Rg===0&&(Rg=Ur()),Rg):(b=wr,b!==0||(b=window.event,b=b===void 0?16:wt(b.type)),b)}function po(b,w,M,H){if(50<Sp)throw Sp=0,u1=null,Error(e(185));Ls(b,M,H),((rn&2)===0||b!==$s)&&(b===$s&&((rn&2)===0&&(Tg|=M),Cs===4&&Sc(b,ea)),Ja(b,H),M===1&&rn===0&&(w.mode&1)===0&&(_f=Pe()+500,og&&bc()))}function Ja(b,w){var M=b.callbackNode;Ka(b,w);var H=Jn(b,b===$s?ea:0);if(H===0)M!==null&&Ft(M),b.callbackNode=null,b.callbackPriority=0;else if(w=H&-H,b.callbackPriority!==w){if(M!=null&&Ft(M),w===1)b.tag===0?LU(vS.bind(null,b)):a5(vS.bind(null,b)),DU(function(){(rn&6)===0&&bc()}),M=null;else{switch(js(H)){case 1:M=Ge;break;case 4:M=Mt;break;case 16:M=ut;break;case 536870912:M=Pr;break;default:M=ut}M=TS(M,xS.bind(null,b))}b.callbackPriority=w,b.callbackNode=M}}function xS(b,w){if(Mg=-1,Rg=0,(rn&6)!==0)throw Error(e(327));var M=b.callbackNode;if(kf()&&b.callbackNode!==M)return null;var H=Jn(b,b===$s?ea:0);if(H===0)return null;if((H&30)!==0||(H&b.expiredLanes)!==0||w)w=Dg(b,H);else{w=H;var X=rn;rn|=2;var J=_S();($s!==b||ea!==w)&&(Tl=null,_f=Pe()+500,Lu(b,w));do try{aq();break}catch(_e){wS(b,_e)}while(!0);Tv(),Cg.current=J,rn=X,hs!==null?w=0:($s=null,ea=0,w=Cs)}if(w!==0){if(w===2&&(X=fs(b),X!==0&&(H=X,w=d1(b,X))),w===1)throw M=kp,Lu(b,0),Sc(b,H),Ja(b,Pe()),M;if(w===6)Sc(b,H);else{if(X=b.current.alternate,(H&30)===0&&!nq(X)&&(w=Dg(b,H),w===2&&(J=fs(b),J!==0&&(H=J,w=d1(b,J))),w===1))throw M=kp,Lu(b,0),Sc(b,H),Ja(b,Pe()),M;switch(b.finishedWork=X,b.finishedLanes=H,w){case 0:case 1:throw Error(e(345));case 2:Bu(b,Za,Tl);break;case 3:if(Sc(b,H),(H&130023424)===H&&(w=l1+500-Pe(),10<w)){if(Jn(b,0)!==0)break;if(X=b.suspendedLanes,(X&H)!==H){Pa(),b.pingedLanes|=b.suspendedLanes&X;break}b.timeoutHandle=yv(Bu.bind(null,b,Za,Tl),w);break}Bu(b,Za,Tl);break;case 4:if(Sc(b,H),(H&4194240)===H)break;for(w=b.eventTimes,X=-1;0<H;){var he=31-vr(H);J=1<<he,he=w[he],he>X&&(X=he),H&=~J}if(H=X,H=Pe()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*rq(H/1960))-H,10<H){b.timeoutHandle=yv(Bu.bind(null,b,Za,Tl),H);break}Bu(b,Za,Tl);break;case 5:Bu(b,Za,Tl);break;default:throw Error(e(329))}}}return Ja(b,Pe()),b.callbackNode===M?xS.bind(null,b):null}function d1(b,w){var M=jp;return b.current.memoizedState.isDehydrated&&(Lu(b,w).flags|=256),b=Dg(b,w),b!==2&&(w=Za,Za=M,w!==null&&f1(w)),b}function f1(b){Za===null?Za=b:Za.push.apply(Za,b)}function nq(b){for(var w=b;;){if(w.flags&16384){var M=w.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var H=0;H<M.length;H++){var X=M[H],J=X.getSnapshot;X=X.value;try{if(!lo(J(),X))return!1}catch{return!1}}}if(M=w.child,w.subtreeFlags&16384&&M!==null)M.return=w,w=M;else{if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Sc(b,w){for(w&=~o1,w&=~Tg,b.suspendedLanes|=w,b.pingedLanes&=~w,b=b.expirationTimes;0<w;){var M=31-vr(w),H=1<<M;b[M]=-1,w&=~H}}function vS(b){if((rn&6)!==0)throw Error(e(327));kf();var w=Jn(b,0);if((w&1)===0)return Ja(b,Pe()),null;var M=Dg(b,w);if(b.tag!==0&&M===2){var H=fs(b);H!==0&&(w=H,M=d1(b,H))}if(M===1)throw M=kp,Lu(b,0),Sc(b,w),Ja(b,Pe()),M;if(M===6)throw Error(e(345));return b.finishedWork=b.current.alternate,b.finishedLanes=w,Bu(b,Za,Tl),Ja(b,Pe()),null}function h1(b,w){var M=rn;rn|=1;try{return b(w)}finally{rn=M,rn===0&&(_f=Pe()+500,og&&bc())}}function Fu(b){kc!==null&&kc.tag===0&&(rn&6)===0&&kf();var w=rn;rn|=1;var M=Bi.transition,H=wr;try{if(Bi.transition=null,wr=1,b)return b()}finally{wr=H,Bi.transition=M,rn=w,(rn&6)===0&&bc()}}function p1(){yi=wf.current,An(wf)}function Lu(b,w){b.finishedWork=null,b.finishedLanes=0;var M=b.timeoutHandle;if(M!==-1&&(b.timeoutHandle=-1,RU(M)),hs!==null)for(M=hs.return;M!==null;){var H=M;switch(kv(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&ag();break;case 3:bf(),An(Qa),An(fa),Ov();break;case 5:Dv(H);break;case 4:bf();break;case 13:An(Un);break;case 19:An(Un);break;case 10:Ev(H.type._context);break;case 22:case 23:p1()}M=M.return}if($s=b,hs=b=Nc(b.current,null),ea=yi=w,Cs=0,kp=null,o1=Tg=Ou=0,Za=jp=null,Ru!==null){for(w=0;w<Ru.length;w++)if(M=Ru[w],H=M.interleaved,H!==null){M.interleaved=null;var X=H.next,J=M.pending;if(J!==null){var he=J.next;J.next=X,H.next=he}M.pending=H}Ru=null}return b}function wS(b,w){do{var M=hs;try{if(Tv(),yg.current=wg,bg){for(var H=qn.memoizedState;H!==null;){var X=H.queue;X!==null&&(X.pending=null),H=H.next}bg=!1}if(Iu=0,Bs=Ns=qn=null,yp=!1,bp=0,i1.current=null,M===null||M.return===null){Cs=1,kp=w,hs=null;break}e:{var J=b,he=M.return,_e=M,Te=w;if(w=ea,_e.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ze=Te,at=_e,ct=at.tag;if((at.mode&1)===0&&(ct===0||ct===11||ct===15)){var nt=at.alternate;nt?(at.updateQueue=nt.updateQueue,at.memoizedState=nt.memoizedState,at.lanes=nt.lanes):(at.updateQueue=null,at.memoizedState=null)}var Tt=H5(he);if(Tt!==null){Tt.flags&=-257,K5(Tt,he,_e,J,w),Tt.mode&1&&q5(J,ze,w),w=Tt,Te=ze;var It=w.updateQueue;if(It===null){var Lt=new Set;Lt.add(Te),w.updateQueue=Lt}else It.add(Te);break e}else{if((w&1)===0){q5(J,ze,w),m1();break e}Te=Error(e(426))}}else if(On&&_e.mode&1){var as=H5(he);if(as!==null){(as.flags&65536)===0&&(as.flags|=256),K5(as,he,_e,J,w),Nv(xf(Te,_e));break e}}J=Te=xf(Te,_e),Cs!==4&&(Cs=2),jp===null?jp=[J]:jp.push(J),J=he;do{switch(J.tag){case 3:J.flags|=65536,w&=-w,J.lanes|=w;var Le=W5(J,Te,w);g5(J,Le);break e;case 1:_e=Te;var Ae=J.type,$e=J.stateNode;if((J.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(_c===null||!_c.has($e)))){J.flags|=65536,w&=-w,J.lanes|=w;var pt=U5(J,_e,w);g5(J,pt);break e}}J=J.return}while(J!==null)}jS(M)}catch(Ut){w=Ut,hs===M&&M!==null&&(hs=M=M.return);continue}break}while(!0)}function _S(){var b=Cg.current;return Cg.current=wg,b===null?wg:b}function m1(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),$s===null||(Ou&268435455)===0&&(Tg&268435455)===0||Sc($s,ea)}function Dg(b,w){var M=rn;rn|=2;var H=_S();($s!==b||ea!==w)&&(Tl=null,Lu(b,w));do try{sq();break}catch(X){wS(b,X)}while(!0);if(Tv(),rn=M,Cg.current=H,hs!==null)throw Error(e(261));return $s=null,ea=0,Cs}function sq(){for(;hs!==null;)kS(hs)}function aq(){for(;hs!==null&&!Sn();)kS(hs)}function kS(b){var w=CS(b.alternate,b,yi);b.memoizedProps=b.pendingProps,w===null?jS(b):hs=w,i1.current=null}function jS(b){var w=b;do{var M=w.alternate;if(b=w.return,(w.flags&32768)===0){if(M=YU(M,w,yi),M!==null){hs=M;return}}else{if(M=ZU(M,w),M!==null){M.flags&=32767,hs=M;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Cs=6,hs=null;return}}if(w=w.sibling,w!==null){hs=w;return}hs=w=b}while(w!==null);Cs===0&&(Cs=5)}function Bu(b,w,M){var H=wr,X=Bi.transition;try{Bi.transition=null,wr=1,iq(b,w,M,H)}finally{Bi.transition=X,wr=H}return null}function iq(b,w,M,H){do kf();while(kc!==null);if((rn&6)!==0)throw Error(e(327));M=b.finishedWork;var X=b.finishedLanes;if(M===null)return null;if(b.finishedWork=null,b.finishedLanes=0,M===b.current)throw Error(e(177));b.callbackNode=null,b.callbackPriority=0;var J=M.lanes|M.childLanes;if(ui(b,J),b===$s&&(hs=$s=null,ea=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||Ag||(Ag=!0,TS(ut,function(){return kf(),null})),J=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||J){J=Bi.transition,Bi.transition=null;var he=wr;wr=1;var _e=rn;rn|=4,i1.current=null,eq(b,M),pS(M,b),NU(mv),ef=!!pv,mv=pv=null,b.current=M,tq(M),ye(),rn=_e,wr=he,Bi.transition=J}else b.current=M;if(Ag&&(Ag=!1,kc=b,Pg=X),J=b.pendingLanes,J===0&&(_c=null),Wt(M.stateNode),Ja(b,Pe()),w!==null)for(H=b.onRecoverableError,M=0;M<w.length;M++)X=w[M],H(X.value,{componentStack:X.stack,digest:X.digest});if(Eg)throw Eg=!1,b=c1,c1=null,b;return(Pg&1)!==0&&b.tag!==0&&kf(),J=b.pendingLanes,(J&1)!==0?b===u1?Sp++:(Sp=0,u1=b):Sp=0,bc(),null}function kf(){if(kc!==null){var b=js(Pg),w=Bi.transition,M=wr;try{if(Bi.transition=null,wr=16>b?16:b,kc===null)var H=!1;else{if(b=kc,kc=null,Pg=0,(rn&6)!==0)throw Error(e(331));var X=rn;for(rn|=4,Rt=b.current;Rt!==null;){var J=Rt,he=J.child;if((Rt.flags&16)!==0){var _e=J.deletions;if(_e!==null){for(var Te=0;Te<_e.length;Te++){var ze=_e[Te];for(Rt=ze;Rt!==null;){var at=Rt;switch(at.tag){case 0:case 11:case 15:_p(8,at,J)}var ct=at.child;if(ct!==null)ct.return=at,Rt=ct;else for(;Rt!==null;){at=Rt;var nt=at.sibling,Tt=at.return;if(cS(at),at===ze){Rt=null;break}if(nt!==null){nt.return=Tt,Rt=nt;break}Rt=Tt}}}var It=J.alternate;if(It!==null){var Lt=It.child;if(Lt!==null){It.child=null;do{var as=Lt.sibling;Lt.sibling=null,Lt=as}while(Lt!==null)}}Rt=J}}if((J.subtreeFlags&2064)!==0&&he!==null)he.return=J,Rt=he;else e:for(;Rt!==null;){if(J=Rt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:_p(9,J,J.return)}var Le=J.sibling;if(Le!==null){Le.return=J.return,Rt=Le;break e}Rt=J.return}}var Ae=b.current;for(Rt=Ae;Rt!==null;){he=Rt;var $e=he.child;if((he.subtreeFlags&2064)!==0&&$e!==null)$e.return=he,Rt=$e;else e:for(he=Ae;Rt!==null;){if(_e=Rt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:Ng(9,_e)}}catch(Ut){es(_e,_e.return,Ut)}if(_e===he){Rt=null;break e}var pt=_e.sibling;if(pt!==null){pt.return=_e.return,Rt=pt;break e}Rt=_e.return}}if(rn=X,bc(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(hr,b)}catch{}H=!0}return H}finally{wr=M,Bi.transition=w}}return!1}function SS(b,w,M){w=xf(M,w),w=W5(b,w,1),b=vc(b,w,1),w=Pa(),b!==null&&(Ls(b,1,w),Ja(b,w))}function es(b,w,M){if(b.tag===3)SS(b,b,M);else for(;w!==null;){if(w.tag===3){SS(w,b,M);break}else if(w.tag===1){var H=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(_c===null||!_c.has(H))){b=xf(M,b),b=U5(w,b,1),w=vc(w,b,1),b=Pa(),w!==null&&(Ls(w,1,b),Ja(w,b));break}}w=w.return}}function oq(b,w,M){var H=b.pingCache;H!==null&&H.delete(w),w=Pa(),b.pingedLanes|=b.suspendedLanes&M,$s===b&&(ea&M)===M&&(Cs===4||Cs===3&&(ea&130023424)===ea&&500>Pe()-l1?Lu(b,0):o1|=M),Ja(b,w)}function NS(b,w){w===0&&((b.mode&1)===0?w=1:(w=fn,fn<<=1,(fn&130023424)===0&&(fn=4194304)));var M=Pa();b=Sl(b,w),b!==null&&(Ls(b,w,M),Ja(b,M))}function lq(b){var w=b.memoizedState,M=0;w!==null&&(M=w.retryLane),NS(b,M)}function cq(b,w){var M=0;switch(b.tag){case 13:var H=b.stateNode,X=b.memoizedState;X!==null&&(M=X.retryLane);break;case 19:H=b.stateNode;break;default:throw Error(e(314))}H!==null&&H.delete(w),NS(b,M)}var CS;CS=function(b,w,M){if(b!==null)if(b.memoizedProps!==w.pendingProps||Qa.current)Ya=!0;else{if((b.lanes&M)===0&&(w.flags&128)===0)return Ya=!1,XU(b,w,M);Ya=(b.flags&131072)!==0}else Ya=!1,On&&(w.flags&1048576)!==0&&i5(w,cg,w.index);switch(w.lanes=0,w.tag){case 2:var H=w.type;jg(b,w),b=w.pendingProps;var X=df(w,fa.current);yf(w,M),X=Bv(null,w,H,b,X,M);var J=$v();return w.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,Xa(H)?(J=!0,ig(w)):J=!1,w.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,Mv(w),X.updater=_g,w.stateNode=X,X._reactInternals=w,Hv(w,H,b,M),w=Xv(null,w,H,!0,J,M)):(w.tag=0,On&&J&&_v(w),Aa(null,w,X,M),w=w.child),w;case 16:H=w.elementType;e:{switch(jg(b,w),b=w.pendingProps,X=H._init,H=X(H._payload),w.type=H,X=w.tag=dq(H),b=uo(H,b),X){case 0:w=Qv(null,w,H,b,M);break e;case 1:w=J5(null,w,H,b,M);break e;case 11:w=G5(null,w,H,b,M);break e;case 14:w=Q5(null,w,H,uo(H.type,b),M);break e}throw Error(e(306,H,""))}return w;case 0:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:uo(H,X),Qv(b,w,H,X,M);case 1:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:uo(H,X),J5(b,w,H,X,M);case 3:e:{if(eS(w),b===null)throw Error(e(387));H=w.pendingProps,J=w.memoizedState,X=J.element,m5(b,w),mg(w,H,null,M);var he=w.memoizedState;if(H=he.element,J.isDehydrated)if(J={element:H,isDehydrated:!1,cache:he.cache,pendingSuspenseBoundaries:he.pendingSuspenseBoundaries,transitions:he.transitions},w.updateQueue.baseState=J,w.memoizedState=J,w.flags&256){X=xf(Error(e(423)),w),w=tS(b,w,H,M,X);break e}else if(H!==X){X=xf(Error(e(424)),w),w=tS(b,w,H,M,X);break e}else for(gi=mc(w.stateNode.containerInfo.firstChild),mi=w,On=!0,co=null,M=h5(w,null,H,M),w.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(pf(),H===X){w=Cl(b,w,M);break e}Aa(b,w,H,M)}w=w.child}return w;case 5:return b5(w),b===null&&Sv(w),H=w.type,X=w.pendingProps,J=b!==null?b.memoizedProps:null,he=X.children,gv(H,X)?he=null:J!==null&&gv(H,J)&&(w.flags|=32),Z5(b,w),Aa(b,w,he,M),w.child;case 6:return b===null&&Sv(w),null;case 13:return rS(b,w,M);case 4:return Rv(w,w.stateNode.containerInfo),H=w.pendingProps,b===null?w.child=mf(w,null,H,M):Aa(b,w,H,M),w.child;case 11:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:uo(H,X),G5(b,w,H,X,M);case 7:return Aa(b,w,w.pendingProps,M),w.child;case 8:return Aa(b,w,w.pendingProps.children,M),w.child;case 12:return Aa(b,w,w.pendingProps.children,M),w.child;case 10:e:{if(H=w.type._context,X=w.pendingProps,J=w.memoizedProps,he=X.value,Nn(fg,H._currentValue),H._currentValue=he,J!==null)if(lo(J.value,he)){if(J.children===X.children&&!Qa.current){w=Cl(b,w,M);break e}}else for(J=w.child,J!==null&&(J.return=w);J!==null;){var _e=J.dependencies;if(_e!==null){he=J.child;for(var Te=_e.firstContext;Te!==null;){if(Te.context===H){if(J.tag===1){Te=Nl(-1,M&-M),Te.tag=2;var ze=J.updateQueue;if(ze!==null){ze=ze.shared;var at=ze.pending;at===null?Te.next=Te:(Te.next=at.next,at.next=Te),ze.pending=Te}}J.lanes|=M,Te=J.alternate,Te!==null&&(Te.lanes|=M),Av(J.return,M,w),_e.lanes|=M;break}Te=Te.next}}else if(J.tag===10)he=J.type===w.type?null:J.child;else if(J.tag===18){if(he=J.return,he===null)throw Error(e(341));he.lanes|=M,_e=he.alternate,_e!==null&&(_e.lanes|=M),Av(he,M,w),he=J.sibling}else he=J.child;if(he!==null)he.return=J;else for(he=J;he!==null;){if(he===w){he=null;break}if(J=he.sibling,J!==null){J.return=he.return,he=J;break}he=he.return}J=he}Aa(b,w,X.children,M),w=w.child}return w;case 9:return X=w.type,H=w.pendingProps.children,yf(w,M),X=Fi(X),H=H(X),w.flags|=1,Aa(b,w,H,M),w.child;case 14:return H=w.type,X=uo(H,w.pendingProps),X=uo(H.type,X),Q5(b,w,H,X,M);case 15:return X5(b,w,w.type,w.pendingProps,M);case 17:return H=w.type,X=w.pendingProps,X=w.elementType===H?X:uo(H,X),jg(b,w),w.tag=1,Xa(H)?(b=!0,ig(w)):b=!1,yf(w,M),z5(w,H,X),Hv(w,H,X,M),Xv(null,w,H,!0,b,M);case 19:return sS(b,w,M);case 22:return Y5(b,w,M)}throw Error(e(156,w.tag))};function TS(b,w){return kt(b,w)}function uq(b,w,M,H){this.tag=b,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(b,w,M,H){return new uq(b,w,M,H)}function g1(b){return b=b.prototype,!(!b||!b.isReactComponent)}function dq(b){if(typeof b=="function")return g1(b)?1:0;if(b!=null){if(b=b.$$typeof,b===U)return 11;if(b===T)return 14}return 2}function Nc(b,w){var M=b.alternate;return M===null?(M=$i(b.tag,w,b.key,b.mode),M.elementType=b.elementType,M.type=b.type,M.stateNode=b.stateNode,M.alternate=b,b.alternate=M):(M.pendingProps=w,M.type=b.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=b.flags&14680064,M.childLanes=b.childLanes,M.lanes=b.lanes,M.child=b.child,M.memoizedProps=b.memoizedProps,M.memoizedState=b.memoizedState,M.updateQueue=b.updateQueue,w=b.dependencies,M.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},M.sibling=b.sibling,M.index=b.index,M.ref=b.ref,M}function Ig(b,w,M,H,X,J){var he=2;if(H=b,typeof b=="function")g1(b)&&(he=1);else if(typeof b=="string")he=5;else e:switch(b){case q:return $u(M.children,X,J,w);case R:he=8,X|=8;break;case I:return b=$i(12,M,w,X|2),b.elementType=I,b.lanes=J,b;case P:return b=$i(13,M,w,X),b.elementType=P,b.lanes=J,b;case L:return b=$i(19,M,w,X),b.elementType=L,b.lanes=J,b;case k:return Og(M,X,J,w);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case $:he=10;break e;case K:he=9;break e;case U:he=11;break e;case T:he=14;break e;case _:he=16,H=null;break e}throw Error(e(130,b==null?b:typeof b,""))}return w=$i(he,M,w,X),w.elementType=b,w.type=H,w.lanes=J,w}function $u(b,w,M,H){return b=$i(7,b,H,w),b.lanes=M,b}function Og(b,w,M,H){return b=$i(22,b,H,w),b.elementType=k,b.lanes=M,b.stateNode={isHidden:!1},b}function y1(b,w,M){return b=$i(6,b,null,w),b.lanes=M,b}function b1(b,w,M){return w=$i(4,b.children!==null?b.children:[],b.key,w),w.lanes=M,w.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},w}function fq(b,w,M,H,X){this.tag=w,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mr(0),this.expirationTimes=Mr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.identifierPrefix=H,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function x1(b,w,M,H,X,J,he,_e,Te){return b=new fq(b,w,M,_e,Te),w===1?(w=1,J===!0&&(w|=8)):w=0,J=$i(3,null,null,w),b.current=J,J.stateNode=b,J.memoizedState={element:H,isDehydrated:M,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mv(J),b}function hq(b,w,M){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:H==null?null:""+H,children:b,containerInfo:w,implementation:M}}function ES(b){if(!b)return yc;b=b._reactInternals;e:{if(Ct(b)!==b||b.tag!==1)throw Error(e(170));var w=b;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(Xa(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(e(171))}if(b.tag===1){var M=b.type;if(Xa(M))return n5(b,M,w)}return w}function AS(b,w,M,H,X,J,he,_e,Te){return b=x1(M,H,!0,b,X,J,he,_e,Te),b.context=ES(null),M=b.current,H=Pa(),X=jc(M),J=Nl(H,X),J.callback=w??null,vc(M,J,X),b.current.lanes=X,Ls(b,X,H),Ja(b,H),b}function Fg(b,w,M,H){var X=w.current,J=Pa(),he=jc(X);return M=ES(M),w.context===null?w.context=M:w.pendingContext=M,w=Nl(J,he),w.payload={element:b},H=H===void 0?null:H,H!==null&&(w.callback=H),b=vc(X,w,he),b!==null&&(po(b,X,he,J),pg(b,X,he)),he}function Lg(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function PS(b,w){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var M=b.retryLane;b.retryLane=M!==0&&M<w?M:w}}function v1(b,w){PS(b,w),(b=b.alternate)&&PS(b,w)}function pq(){return null}var MS=typeof reportError=="function"?reportError:function(b){console.error(b)};function w1(b){this._internalRoot=b}Bg.prototype.render=w1.prototype.render=function(b){var w=this._internalRoot;if(w===null)throw Error(e(409));Fg(b,w,null,null)},Bg.prototype.unmount=w1.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var w=b.containerInfo;Fu(function(){Fg(null,b,null,null)}),w[wl]=null}};function Bg(b){this._internalRoot=b}Bg.prototype.unstable_scheduleHydration=function(b){if(b){var w=fi();b={blockedOn:null,target:b,priority:w};for(var M=0;M<Ys.length&&w!==0&&w<Ys[M].priority;M++);Ys.splice(M,0,b),M===0&&ep(b)}};function _1(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function $g(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function RS(){}function mq(b,w,M,H,X){if(X){if(typeof H=="function"){var J=H;H=function(){var ze=Lg(he);J.call(ze)}}var he=AS(w,H,b,0,null,!1,!1,"",RS);return b._reactRootContainer=he,b[wl]=he.current,cp(b.nodeType===8?b.parentNode:b),Fu(),he}for(;X=b.lastChild;)b.removeChild(X);if(typeof H=="function"){var _e=H;H=function(){var ze=Lg(Te);_e.call(ze)}}var Te=x1(b,0,!1,null,null,!1,!1,"",RS);return b._reactRootContainer=Te,b[wl]=Te.current,cp(b.nodeType===8?b.parentNode:b),Fu(function(){Fg(w,Te,M,H)}),Te}function zg(b,w,M,H,X){var J=M._reactRootContainer;if(J){var he=J;if(typeof X=="function"){var _e=X;X=function(){var Te=Lg(he);_e.call(Te)}}Fg(w,he,b,X)}else he=mq(M,w,b,X,H);return Lg(he)}Ca=function(b){switch(b.tag){case 3:var w=b.stateNode;if(w.current.memoizedState.isDehydrated){var M=kn(w.pendingLanes);M!==0&&(Pi(w,M|1),Ja(w,Pe()),(rn&6)===0&&(_f=Pe()+500,bc()))}break;case 13:Fu(function(){var H=Sl(b,1);if(H!==null){var X=Pa();po(H,b,1,X)}}),v1(b,1)}},di=function(b){if(b.tag===13){var w=Sl(b,134217728);if(w!==null){var M=Pa();po(w,b,134217728,M)}v1(b,134217728)}},oo=function(b){if(b.tag===13){var w=jc(b),M=Sl(b,w);if(M!==null){var H=Pa();po(M,b,w,H)}v1(b,w)}},fi=function(){return wr},Ta=function(b,w){var M=wr;try{return wr=b,w()}finally{wr=M}},vt=function(b,w,M){switch(w){case"input":if(ne(b,M),w=M.name,M.type==="radio"&&w!=null){for(M=b;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<M.length;w++){var H=M[w];if(H!==b&&H.form===b.form){var X=sg(H);if(!X)throw Error(e(90));pe(H),ne(H,X)}}}break;case"textarea":me(b,M);break;case"select":w=M.value,w!=null&&te(b,!!M.multiple,w,!1)}},Ot=h1,Cr=Fu;var gq={usingClientEntryPoint:!1,Events:[fp,cf,sg,Pt,jr,h1]},Np={findFiberByHostInstance:Eu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yq={bundleType:Np.bundleType,version:Np.version,rendererPackageName:Np.rendererPackageName,rendererConfig:Np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Ke(b),b===null?null:b.stateNode},findFiberByHostInstance:Np.findFiberByHostInstance||pq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{hr=Vg.inject(yq),Vt=Vg}catch{}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gq,ei.createPortal=function(b,w){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_1(w))throw Error(e(200));return hq(b,w,null,M)},ei.createRoot=function(b,w){if(!_1(b))throw Error(e(299));var M=!1,H="",X=MS;return w!=null&&(w.unstable_strictMode===!0&&(M=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(X=w.onRecoverableError)),w=x1(b,1,!1,null,null,M,!1,H,X),b[wl]=w.current,cp(b.nodeType===8?b.parentNode:b),new w1(w)},ei.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var w=b._reactInternals;if(w===void 0)throw typeof b.render=="function"?Error(e(188)):(b=Object.keys(b).join(","),Error(e(268,b)));return b=Ke(w),b=b===null?null:b.stateNode,b},ei.flushSync=function(b){return Fu(b)},ei.hydrate=function(b,w,M){if(!$g(w))throw Error(e(200));return zg(null,b,w,!0,M)},ei.hydrateRoot=function(b,w,M){if(!_1(b))throw Error(e(405));var H=M!=null&&M.hydratedSources||null,X=!1,J="",he=MS;if(M!=null&&(M.unstable_strictMode===!0&&(X=!0),M.identifierPrefix!==void 0&&(J=M.identifierPrefix),M.onRecoverableError!==void 0&&(he=M.onRecoverableError)),w=AS(w,null,b,1,M??null,X,!1,J,he),b[wl]=w.current,cp(b),H)for(b=0;b<H.length;b++)M=H[b],X=M._getVersion,X=X(M._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[M,X]:w.mutableSourceEagerHydrationData.push(M,X);return new Bg(w)},ei.render=function(b,w,M){if(!$g(w))throw Error(e(200));return zg(null,b,w,!1,M)},ei.unmountComponentAtNode=function(b){if(!$g(b))throw Error(e(40));return b._reactRootContainer?(Fu(function(){zg(null,null,b,!1,function(){b._reactRootContainer=null,b[wl]=null})}),!0):!1},ei.unstable_batchedUpdates=h1,ei.unstable_renderSubtreeIntoContainer=function(b,w,M,H){if(!$g(M))throw Error(e(200));if(b==null||b._reactInternals===void 0)throw Error(e(38));return zg(b,w,M,!1,H)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var VS;function $7(){if(VS)return N1.exports;VS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),N1.exports=Nq(),N1.exports}var WS;function Cq(){if(WS)return Ug;WS=1;var t=$7();return Ug.createRoot=t.createRoot,Ug.hydrateRoot=t.hydrateRoot,Ug}var Tq=Cq();const Eq="modulepreload",Aq=function(t){return"/"+t},US={},ln=function(r,e,n){let s=Promise.resolve();if(e&&e.length>0){let o=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=o(e.map(l=>{if(l=Aq(l),l in US)return;US[l]=!0;const d=l.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Eq,d||(f.as="script"),f.crossOrigin="",f.href=l,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return r().catch(a)})},f2=(t,r)=>r.some(e=>t instanceof e);let qS,HS;function Pq(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mq(){return HS||(HS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h2=new WeakMap,E1=new WeakMap,$b=new WeakMap;function Rq(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(fd(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return $b.set(r,t),r}function Dq(t){if(h2.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});h2.set(t,r)}let p2={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return h2.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fd(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function z7(t){p2=t(p2)}function Iq(t){return Mq().includes(t)?function(...r){return t.apply(m2(this),r),fd(this.request)}:function(...r){return fd(t.apply(m2(this),r))}}function Oq(t){return typeof t=="function"?Iq(t):(t instanceof IDBTransaction&&Dq(t),f2(t,Pq())?new Proxy(t,p2):t)}function fd(t){if(t instanceof IDBRequest)return Rq(t);if(E1.has(t))return E1.get(t);const r=Oq(t);return r!==t&&(E1.set(t,r),$b.set(r,t)),r}const m2=t=>$b.get(t);function Fq(t,r,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,r),c=fd(o);return n&&o.addEventListener("upgradeneeded",u=>{n(fd(o.result),u.oldVersion,u.newVersion,fd(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}const Lq=["get","getKey","getAll","getAllKeys","count"],Bq=["put","add","delete","clear"],A1=new Map;function KS(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(A1.get(r))return A1.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=Bq.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Lq.includes(e)))return;const a=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),s&&u.done]))[0]};return A1.set(r,a),a}z7(t=>({...t,get:(r,e,n)=>KS(r,e)||t.get(r,e,n),has:(r,e)=>!!KS(r,e)||t.has(r,e)}));const $q=["continue","continuePrimaryKey","advance"],GS={},g2=new WeakMap,V7=new WeakMap,zq={get(t,r){if(!$q.includes(r))return t[r];let e=GS[r];return e||(e=GS[r]=function(...n){g2.set(this,V7.get(this)[r](...n))}),e}};async function*Vq(...t){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...t)),!r)return;r=r;const e=new Proxy(r,zq);for(V7.set(e,r),$b.set(e,m2(r));r;)yield e,r=await(g2.get(e)||r.continue()),g2.delete(e)}function QS(t,r){return r===Symbol.asyncIterator&&f2(t,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&f2(t,[IDBIndex,IDBObjectStore])}z7(t=>({...t,get(r,e,n){return QS(r,e)?Vq:t.get(r,e,n)},has(r,e){return QS(r,e)||t.has(r,e)}}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var dh;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(dh||(dh={}));class P1 extends Error{constructor(r,e,n){super(r),this.message=r,this.code=e,this.data=n}}const Wq=t=>{var r,e;return t?.androidBridge?"android":!((e=(r=t?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||e===void 0)&&e.bridge?"ios":"web"},Uq=t=>{const r=t.CapacitorCustomPlatform||null,e=t.Capacitor||{},n=e.Plugins=e.Plugins||{},s=()=>r!==null?r.name:Wq(t),a=()=>s()!=="web",o=p=>{const f=l.get(p);return!!(f?.platforms.has(s())||c(p))},c=p=>{var f;return(f=e.PluginHeaders)===null||f===void 0?void 0:f.find(h=>h.name===p)},u=p=>t.console.error(p),l=new Map,d=(p,f={})=>{const h=l.get(p);if(h)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),h.proxy;const g=s(),y=c(p);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:r!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),x=(R,I)=>{var $,K;if(y){const U=y?.methods.find(P=>I===P.name);if(U)return U.rtype==="promise"?P=>e.nativePromise(p,I.toString(),P):(P,L)=>e.nativeCallback(p,I.toString(),P,L);if(R)return($=R[I])===null||$===void 0?void 0:$.bind(R)}else{if(R)return(K=R[I])===null||K===void 0?void 0:K.bind(R);throw new P1(`"${p}" plugin is not implemented on ${g}`,dh.Unimplemented)}},S=R=>{let I;const $=(...K)=>{const U=v().then(P=>{const L=x(P,R);if(L){const T=L(...K);return I=T?.remove,T}else throw new P1(`"${p}.${R}()" is not implemented on ${g}`,dh.Unimplemented)});return R==="addListener"&&(U.remove=async()=>I()),U};return $.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:R,writable:!1,configurable:!1}),$},C=S("addListener"),A=S("removeListener"),B=(R,I)=>{const $=C({eventName:R},I),K=async()=>{const P=await $;A({eventName:R,callbackId:P},I)},U=new Promise(P=>$.then(()=>P({remove:K})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},U},q=new Proxy({},{get(R,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?B:C;case"removeListener":return A;default:return S(I)}}});return n[p]=q,l.set(p,{name:p,proxy:q,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),q};return e.convertFileSrc||(e.convertFileSrc=p=>p),e.getPlatform=s,e.handleError=u,e.isNativePlatform=a,e.isPluginAvailable=o,e.registerPlugin=d,e.Exception=P1,e.DEBUG=!!e.DEBUG,e.isLoggingEnabled=!!e.isLoggingEnabled,e},qq=t=>t.Capacitor=Uq(t),fl=qq(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),pk=fl.registerPlugin;class W7{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,e){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(e);const a=this.windowListeners[r];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(r);const o=async()=>this.removeListener(r,e);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,e,n){const s=this.listeners[r];if(!s){if(n){let a=this.retainedEventArguments[r];a||(a=[]),a.push(e),this.retainedEventArguments[r]=a}return}s.forEach(a=>a(e))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,e){this.windowListeners[e]={registered:!1,windowEventName:r,pluginEventName:e,handler:n=>{this.notifyListeners(e,n)}}}unimplemented(r="not implemented"){return new fl.Exception(r,dh.Unimplemented)}unavailable(r="not available"){return new fl.Exception(r,dh.Unavailable)}async removeListener(r,e){const n=this.listeners[r];if(!n)return;const s=n.indexOf(e);this.listeners[r].splice(s,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const e=this.retainedEventArguments[r];e&&(delete this.retainedEventArguments[r],e.forEach(n=>{this.notifyListeners(r,n)}))}}const XS=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),YS=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Hq extends W7{async getCookies(){const r=document.cookie,e={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[s,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=YS(s).trim(),a=YS(a).trim(),e[s]=a}),e}async setCookie(r){try{const e=XS(r.key),n=XS(r.value),s=`; expires=${(r.expires||"").replace("expires=","")}`,a=(r.path||"/").replace("path=",""),o=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${e}=${n||""}${s}; path=${a}; ${o};`}catch(e){return Promise.reject(e)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const e of r)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}pk("CapacitorCookies",{web:()=>new Hq});const Kq=async t=>new Promise((r,e)=>{const n=new FileReader;n.onload=()=>{const s=n.result;r(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>e(s),n.readAsDataURL(t)}),Gq=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=t[r[o]],s),{})},Qq=(t,r=!0)=>t?Object.entries(t).reduce((n,s)=>{const[a,o]=s;let c,u;return Array.isArray(o)?(u="",o.forEach(l=>{c=r?encodeURIComponent(l):l,u+=`${a}=${c}&`}),u.slice(0,-1)):(c=r?encodeURIComponent(o):o,u=`${a}=${c}`),`${n}&${u}`},"").substr(1):null,Xq=(t,r={})=>{const e=Object.assign({method:t.method||"GET",headers:t.headers},r),s=Gq(t.headers)["content-type"]||"";if(typeof t.data=="string")e.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,c]of Object.entries(t.data||{}))a.set(o,c);e.body=a.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((c,u)=>{a.append(u,c)});else for(const c of Object.keys(t.data))a.append(c,t.data[c]);e.body=a;const o=new Headers(e.headers);o.delete("content-type"),e.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(e.body=JSON.stringify(t.data));return e};class Yq extends W7{async request(r){const e=Xq(r,r.webFetchExtra),n=Qq(r.params,r.shouldEncodeUrlParams),s=n?`${r.url}?${n}`:r.url,a=await fetch(s,e),o=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?r:{};o.includes("application/json")&&(c="json");let u,l;switch(c){case"arraybuffer":case"blob":l=await a.blob(),u=await Kq(l);break;case"json":u=await a.json();break;case"document":case"text":default:u=await a.text()}const d={};return a.headers.forEach((p,f)=>{d[f]=p}),{data:u,headers:d,status:a.status,url:a.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}pk("CapacitorHttp",{web:()=>new Yq});class Zq{constructor(r){this.sqlite=r,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToStore(r){try{return await this.sqlite.saveToStore({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToLocalDisk(r){try{return await this.sqlite.saveToLocalDisk({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getFromLocalDiskToStore(r){const e=r??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(r){try{const e=await this.sqlite.echo({value:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isSecretStored(){try{const r=await this.sqlite.isSecretStored();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async setEncryptionSecret(r){try{return await this.sqlite.setEncryptionSecret({passphrase:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async changeEncryptionSecret(r,e){try{return await this.sqlite.changeEncryptionSecret({passphrase:r,oldpassphrase:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(r){return Promise.reject(r)}}async checkEncryptionSecret(r){try{const e=await this.sqlite.checkEncryptionSecret({passphrase:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async addUpgradeStatement(r,e){try{return r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:r,upgrade:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async createConnection(r,e,n,s,a){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.createConnection({database:r,encrypted:e,mode:n,version:s,readonly:a});const o=new ZS(r,a,this.sqlite),c=a?`RO_${r}`:`RW_${r}`;return this._connectionDict.set(c,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(r,e){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.closeConnection({database:r,readonly:e});const n=e?`RO_${r}`:`RW_${r}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(r,e){const n={};r.endsWith(".db")&&(r=r.slice(0,-3));const s=e?`RO_${r}`:`RW_${r}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(r,e){r.endsWith(".db")&&(r=r.slice(0,-3));const n=e?`RO_${r}`:`RW_${r}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async getNCDatabasePath(r,e){try{const n=await this.sqlite.getNCDatabasePath({path:r,database:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(r,e){try{await this.sqlite.createNCConnection({databasePath:r,version:e});const n=new ZS(r,!0,this.sqlite),s=`RO_${r})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(r){try{await this.sqlite.closeNCConnection({databasePath:r});const e=`RO_${r})`;return this._connectionDict.delete(e),Promise.resolve()}catch(e){return Promise.reject(e)}}async isNCConnection(r){const e={},n=`RO_${r})`;return e.result=this._connectionDict.has(n),Promise.resolve(e)}async retrieveNCConnection(r){if(this._connectionDict.has(r)){const e=`RO_${r})`,n=this._connectionDict.get(e);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async isNCDatabase(r){try{const e=await this.sqlite.isNCDatabase({databasePath:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const r=new Map;try{for(const e of this._connectionDict.keys()){const n=e.substring(3),s=e.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),r.set(e,null)}for(const e of r.keys())this._connectionDict.delete(e);return Promise.resolve()}catch(e){return Promise.reject(e)}}async checkConnectionsConsistency(){try{const r=[...this._connectionDict.keys()],e=[],n=[];for(const a of r)e.push(a.substring(0,2)),n.push(a.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:e});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(r){return this._connectionDict=new Map,Promise.reject(r)}}async importFromJson(r){try{const e=await this.sqlite.importFromJson({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isJsonValid(r){try{const e=await this.sqlite.isJsonValid({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async copyFromAssets(r){const e=r??!0;try{return await this.sqlite.copyFromAssets({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(r,e){const n=e??!0;try{return await this.sqlite.getFromHTTPRequest({url:r,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabaseEncrypted({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigEncryption(){try{const r=await this.sqlite.isInConfigEncryption();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigBiometricAuth(){try{const r=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDatabase(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabase({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getDatabaseList(){try{const e=(await this.sqlite.getDatabaseList()).values;e.sort();const n={values:e};return Promise.resolve(n)}catch(r){return Promise.reject(r)}}async getMigratableDbList(r){const e=r||"default";try{const n=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addSQLiteSuffix(r,e){const n=r||"default",s=e||[];try{const a=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async deleteOldDatabases(r,e){const n=r||"default",s=e||[];try{const a=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async moveDatabasesAndAddSuffix(r,e){const n=r||"default",s=e||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class ZS{constructor(r,e,n){this.dbName=r,this.readonly=e,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async beginTransaction(){try{const r=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async commitTransaction(){try{const r=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async rollbackTransaction(){try{const r=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTransactionActive(){try{const r=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async loadExtension(r){try{return await this.sqlite.loadExtension({database:this.dbName,path:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async enableLoadExtension(r){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getUrl(){try{const r=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getVersion(){try{const r=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getTableList(){try{const r=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async execute(r,e=!0,n=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const s=await this.sqlite.execute({database:this.dbName,statements:r,transaction:e,readonly:!1,isSQL92:n});return Promise.resolve(s)}}catch(s){return Promise.reject(s)}}async query(r,e,n=!0){let s;try{return e&&e.length>0?s=await this.sqlite.query({database:this.dbName,statement:r,values:e,readonly:this.readonly,isSQL92:!0}):s=await this.sqlite.query({database:this.dbName,statement:r,values:[],readonly:this.readonly,isSQL92:n}),s=await this.reorderRows(s),Promise.resolve(s)}catch(a){return Promise.reject(a)}}async run(r,e,n=!0,s="no",a=!0){let o;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(e&&e.length>0?o=await this.sqlite.run({database:this.dbName,statement:r,values:e,transaction:n,readonly:!1,returnMode:s,isSQL92:!0}):o=await this.sqlite.run({database:this.dbName,statement:r,values:[],transaction:n,readonly:!1,returnMode:s,isSQL92:a}),o.changes=await this.reorderRows(o.changes),Promise.resolve(o))}catch(c){return Promise.reject(c)}}async executeSet(r,e=!0,n="no",s=!0){let a;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(a=await this.sqlite.executeSet({database:this.dbName,set:r,transaction:e,readonly:!1,returnMode:n,isSQL92:s}),a.changes=await this.reorderRows(a.changes),Promise.resolve(a))}catch(o){return Promise.reject(o)}}async isExists(){try{const r=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTable(r){try{const e=await this.sqlite.isTableExists({database:this.dbName,table:r,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDBOpen(){try{const r=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async setSyncDate(r){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:r,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async getSyncDate(){try{const r=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let e="";return r.syncDate>0&&(e=new Date(r.syncDate*1e3).toISOString()),Promise.resolve(e)}catch(r){return Promise.reject(r)}}async exportToJson(r,e=!1){try{const n=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:r,readonly:this.readonly,encrypted:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async executeTransaction(r,e=!0){let n=0,s=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),s=await this.sqlite.isTransactionActive({database:this.dbName}),!s)return Promise.reject("After Begin Transaction, no transaction active");try{for(const c of r){if(typeof c!="object"||!("statement"in c))throw new Error("Error a task.statement must be provided");if("values"in c&&c.values&&c.values.length>0){const u=c.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:c.statement,values:c.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:e});if(l.changes.changes<0)throw new Error("Error in transaction method run ");n+=l.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:c.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");n+=u.changes.changes}}const a=await this.sqlite.commitTransaction({database:this.dbName});n+=a.changes.changes;const o={changes:{changes:n}};return Promise.resolve(o)}catch(a){const o=a.message?a.message:a;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(o)}}async reorderRows(r){const e=r;if(r?.values&&typeof r.values[0]=="object"&&Object.keys(r.values[0]).includes("ios_columns")){const n=r.values[0].ios_columns,s=[];for(let a=1;a<r.values.length;a++){const o=r.values[a],c={};for(const u of n)c[u]=o[u];s.push(c)}e.values=s}return Promise.resolve(e)}}const Jq=pk("CapacitorSQLite",{web:()=>ln(()=>import("./web-6FERm_R2.js"),[]).then(t=>new t.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class eH{constructor(){this.db=null,this.dbName="binarjoin_native.db",this._initialized=!1,this._initPromise=null,this.sqlite=new Zq(Jq),this._initPromise=this.initialize().catch(r=>console.error("[SQLite] Auto-Init Failed:",r))}async initialize(){if(!(this._initialized&&this.db||fl.getPlatform()==="web"))try{let e=!1;try{e=(await this.sqlite.isConnection(this.dbName,!1)).result??!1}catch{e=!1}if(e)this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else try{this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1)}catch(n){if(n?.message?.includes("already exists"))this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else throw n}await this.db.open(),await this.createTables(),this._initialized=!0}catch(e){throw console.error("[SQLite] Critical Init Error:",e),this.db=null,e}}async waitForReady(){this._initPromise&&await this._initPromise}get isReady(){return this._initialized&&this.db!==null}async createTables(){if(!this.db)return;const r=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","equipment","equipmentMovements"];for(const e of r)await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${e} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}async get(r,e){if(!this.db)return null;try{await this.ensureTable(r);const n=await this.db.query(`SELECT data FROM ${r} WHERE id = ?`,[e]);return n.values&&n.values.length>0?JSON.parse(n.values[0].data):null}catch(n){return console.warn(`[SQLite] get ${r}/${e}:`,n),null}}async set(r,e,n){if(this.db)try{await this.ensureTable(r),await this.db.run(`INSERT OR REPLACE INTO ${r} (id, data) VALUES (?, ?)`,[e.toString(),JSON.stringify(n)])}catch(s){console.warn(`[SQLite] set ${r}/${e}:`,s)}}async getAll(r){if(!this.db)return[];try{await this.ensureTable(r);const e=await this.db.query(`SELECT data FROM ${r}`);return e.values?e.values.map(n=>JSON.parse(n.data)):[]}catch(e){return console.warn(`[SQLite] getAll ${r}:`,e),[]}}async delete(r,e){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r} WHERE id = ?`,[e])}catch(n){console.warn(`[SQLite] delete ${r}/${e}:`,n)}}async clearTable(r){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r}`,[])}catch(e){console.warn(`[SQLite] clearTable ${r}:`,e)}}async count(r){if(!this.db)return 0;try{await this.ensureTable(r);const e=await this.db.query(`SELECT COUNT(*) as cnt FROM ${r}`);return e.values&&e.values.length>0&&e.values[0].cnt||0}catch(e){return console.warn(`[SQLite] count ${r}:`,e),0}}async query(r,e){return(await this.getAll(r)).filter(e)}async ensureTable(r){if(this.db)try{await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${r} (
          id TEXT PRIMARY KEY,
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}catch{}}}const So=new eH;async function U7(){const t=fl.getPlatform();if(t==="android"||t==="ios")try{console.log(" [DB]    SQLite ...");const r=So.waitForReady(),e=new Promise((n,s)=>setTimeout(()=>s(new Error("SQLite Initialization Timeout")),5e3));return await Promise.race([r,e]),console.log(" [DB]    SQLite "),So}catch(r){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",r),Qi||(Qi=await yd()),Qi}return Qi||(Qi=await yd()),Qi}let Qi=null;const tH=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","backupLogs","backupSettings","emergencyUsers","syncQueue","syncMetadata","userData","syncHistory","deadLetterQueue","localAuditLog"];async function yd(){if(Qi)return Qi;try{Qi=await Fq("binarjoin-db",14,{upgrade(t,r,e){console.log(`[DB] Upgrading from ${r} to ${e}`);for(const n of tH)if(!t.objectStoreNames.contains(n))if(n==="syncQueue"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("action","action"),s.createIndex("status","status")}else if(n==="syncHistory"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("status","status")}else if(n==="userData")t.createObjectStore(n,{keyPath:"id"}).createIndex("type","type");else if(n==="syncMetadata")t.createObjectStore(n,{keyPath:"key"});else if(n==="deadLetterQueue"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("movedAt","movedAt"),s.createIndex("errorType","errorType")}else if(n==="localAuditLog"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("sequence","sequence"),s.createIndex("entityType","entityType")}else{const s=t.createObjectStore(n,{keyPath:"id"});try{s.createIndex("synced","synced"),s.createIndex("_pendingSync","_pendingSync")}catch{}}}})}catch(t){throw console.error("[DB] Critical initialization error:",t),t}return Qi}async function rH(){const t=fl.getPlatform();if(t==="android"||t==="ios"){const r=await U7();if(r)return r}return Qi||await yd()}async function py(t,r,e,n){const{smartPut:s,smartDelete:a,smartAdd:o}=await ln(async()=>{const{smartPut:d,smartDelete:p,smartAdd:f}=await Promise.resolve().then(()=>cm);return{smartPut:d,smartDelete:p,smartAdd:f}},void 0),c=e.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),u={...e,id:c,_isLocal:!0,_pendingSync:!0};r==="delete"?await a(t,c):await s(t,u);const l=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await o("syncQueue",{id:l,action:r,endpoint:n,payload:u,timestamp:Date.now(),retries:0}),u}async function y2(t){const{smartGetAll:r}=await ln(async()=>{const{smartGetAll:n}=await Promise.resolve().then(()=>cm);return{smartGetAll:n}},void 0);return(await r(t)).sort((n,s)=>{const a=new Date(n.createdAt||0).getTime();return new Date(s.createdAt||0).getTime()-a})}const nH=Object.freeze(Object.defineProperty({__proto__:null,getDB:rH,getListLocal:y2,getSmartStorage:U7,initializeDB:yd,performLocalOperation:py},Symbol.toStringTag,{value:"Module"}));function sH(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,n,s,a,o=[],c="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)e=s[0],e==="*"?(o.push(e),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):e===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),c+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~n?"?":"")+"\\"+s.substring(a))):c+="/"+s;return{keys:o,pattern:new RegExp("^"+c+(r?"(?=$|/)":"/?$"),"i")}}var E=Bb();const Gt=hk(E),zb=B7({__proto__:null,default:Gt},[E]);var M1={exports:{}},R1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function aH(){if(JS)return R1;JS=1;var t=Bb();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var e=typeof Object.is=="function"?Object.is:r,n=t.useState,s=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(p,f){var h=f(),g=n({inst:{value:h,getSnapshot:f}}),y=g[0].inst,m=g[1];return a(function(){y.value=h,y.getSnapshot=f,u(y)&&m({inst:y})},[p,h,f]),s(function(){return u(y)&&m({inst:y}),p(function(){u(y)&&m({inst:y})})},[p]),o(h),h}function u(p){var f=p.getSnapshot;p=p.value;try{var h=f();return!e(p,h)}catch{return!0}}function l(p,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return R1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,R1}var eN;function iH(){return eN||(eN=1,M1.exports=aH()),M1.exports}var oH=iH();const lH=zb.useInsertionEffect,cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q7=cH?E.useLayoutEffect:E.useEffect,uH=lH||q7,mk=t=>{const r=E.useRef([t,(...e)=>r[0](...e)]).current;return uH(()=>{r[0]=t}),r[1]},dH="popstate",gk="pushState",yk="replaceState",fH="hashchange",tN=[dH,gk,yk,fH],hH=t=>{for(const r of tN)addEventListener(r,t);return()=>{for(const r of tN)removeEventListener(r,t)}},H7=(t,r)=>oH.useSyncExternalStore(hH,t,r),rN=()=>location.search,pH=({ssrSearch:t}={})=>H7(rN,t!=null?()=>t:rN),nN=()=>location.pathname,mH=({ssrPath:t}={})=>H7(nN,t!=null?()=>t:nN),gH=(t,{replace:r=!1,state:e=null}={})=>history[r?yk:gk](e,"",t),yH=(t={})=>[mH(t),gH],sN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[sN]>"u"){for(const t of[gk,yk]){const r=history[t];history[t]=function(){const e=r.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),e}}Object.defineProperty(window,sN,{value:!0})}const bH=(t,r)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",K7=(t="")=>t==="/"?"":t,xH=(t,r)=>t[0]==="~"?t.slice(1):K7(r)+t,vH=(t="",r)=>bH(aN(K7(t)),aN(r)),aN=t=>{try{return decodeURI(t)}catch{return t}},G7={hook:yH,searchHook:pH,parser:sH,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,r,e)=>t(r,e)},Q7=E.createContext(G7),Ph=()=>E.useContext(Q7),X7={},Y7=E.createContext(X7),wH=()=>E.useContext(Y7),s0=t=>{const[r,e]=t.hook(t);return[vH(t.base,r),mk((n,s)=>t.aroundNav(e,xH(n,t.base),s))]},Os=()=>s0(Ph()),Z7=(t,r,e,n)=>{const{pattern:s,keys:a}=r instanceof RegExp?{keys:!1,pattern:r}:t(r||"*",n),o=s.exec(e)||[],[c,...u]=o;return c!==void 0?[!0,(()=>{const l=a!==!1?Object.fromEntries(a.map((p,f)=>[p,u[f]])):o.groups;let d={...u};return l&&Object.assign(d,l),d})(),...n?[c]:[]]:[!1,null]},_H=({children:t,...r})=>{const e=Ph(),n=r.hook?G7:e;let s=n;const[a,o=r.ssrSearch??""]=r.ssrPath?.split("?")??[];a&&(r.ssrSearch=o,r.ssrPath=a),r.hrefs=r.hrefs??r.hook?.hrefs,r.searchHook=r.searchHook??r.hook?.searchHook;let c=E.useRef({}),u=c.current,l=u;for(let d in n){const p=d==="base"?n[d]+(r[d]??""):r[d]??n[d];u===l&&p!==l[d]&&(c.current=l={...l}),l[d]=p,(p!==n[d]||p!==s[d])&&(s=l)}return E.createElement(Q7.Provider,{value:s,children:t})},iN=({children:t,component:r},e)=>r?E.createElement(r,{params:e}):typeof t=="function"?t(e):t,kH=t=>{let r=E.useRef(X7);const e=r.current;return r.current=Object.keys(t).length!==Object.keys(e).length||Object.entries(t).some(([n,s])=>s!==e[n])?t:e},Er=({path:t,nest:r,match:e,...n})=>{const s=Ph(),[a]=s0(s),[o,c,u]=e??Z7(s.parser,t,a,r),l=kH({...wH(),...c});if(!o)return null;const d=u?E.createElement(_H,{base:u},iN(n,l)):iN(n,l);return E.createElement(Y7.Provider,{value:l,children:d})};E.forwardRef((t,r)=>{const e=Ph(),[n,s]=s0(e),{to:a="",href:o=a,onClick:c,asChild:u,children:l,className:d,replace:p,state:f,transition:h,...g}=t,y=mk(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(c?.(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),m=e.hrefs(o[0]==="~"?o.slice(1):e.base+o,e);return u&&E.isValidElement(l)?E.cloneElement(l,{onClick:y,href:m}):E.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(n===o):d,children:l,ref:r})});const J7=t=>Array.isArray(t)?t.flatMap(r=>J7(r&&r.type===E.Fragment?r.props.children:r)):[t],eP=({children:t,location:r})=>{const e=Ph(),[n]=s0(e);for(const s of J7(t)){let a=0;if(E.isValidElement(s)&&(a=Z7(e.parser,s.props.path,r||n,s.props.nest))[0])return E.cloneElement(s,{match:a})}return null},zy=t=>{const{to:r,href:e=r}=t,n=Ph(),[,s]=s0(n),a=mk(()=>s(r||e,t)),{ssrContext:o}=n;return q7(()=>{a()},[]),o&&(o.redirectTo=r),null};var Mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jH={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},Ic,fk,HT,SH=(HT=class{constructor(){nr(this,Ic,jH);nr(this,fk,!1)}setTimeoutProvider(t){St(this,Ic,t)}setTimeout(t,r){return Se(this,Ic).setTimeout(t,r)}clearTimeout(t){Se(this,Ic).clearTimeout(t)}setInterval(t,r){return Se(this,Ic).setInterval(t,r)}clearInterval(t){Se(this,Ic).clearInterval(t)}},Ic=new WeakMap,fk=new WeakMap,HT),Qu=new SH;function NH(t){setTimeout(t,0)}var bd=typeof window>"u"||"Deno"in globalThis;function Oa(){}function CH(t,r){return typeof t=="function"?t(r):t}function b2(t){return typeof t=="number"&&t>=0&&t!==1/0}function tP(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Hc(t,r){return typeof t=="function"?t(r):t}function Gi(t,r){return typeof t=="function"?t(r):t}function oN(t,r){const{type:e="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:c}=t;if(o){if(n){if(r.queryHash!==bk(o,r.options))return!1}else if(!lm(r.queryKey,o))return!1}if(e!=="all"){const u=r.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||a&&!a(r))}function lN(t,r){const{exact:e,status:n,predicate:s,mutationKey:a}=t;if(a){if(!r.options.mutationKey)return!1;if(e){if(xd(r.options.mutationKey)!==xd(a))return!1}else if(!lm(r.options.mutationKey,a))return!1}return!(n&&r.state.status!==n||s&&!s(r))}function bk(t,r){return(r?.queryKeyHashFn||xd)(t)}function xd(t){return JSON.stringify(t,(r,e)=>x2(e)?Object.keys(e).sort().reduce((n,s)=>(n[s]=e[s],n),{}):e)}function lm(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(e=>lm(t[e],r[e])):!1}var TH=Object.prototype.hasOwnProperty;function rP(t,r,e=0){if(t===r)return t;if(e>500)return r;const n=cN(t)&&cN(r);if(!n&&!(x2(t)&&x2(r)))return r;const a=(n?t:Object.keys(t)).length,o=n?r:Object.keys(r),c=o.length,u=n?new Array(c):{};let l=0;for(let d=0;d<c;d++){const p=n?d:o[d],f=t[p],h=r[p];if(f===h){u[p]=f,(n?d<a:TH.call(t,p))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){u[p]=h;continue}const g=rP(f,h,e+1);u[p]=g,g===f&&l++}return a===c&&l===a?t:u}function Vy(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const e in t)if(t[e]!==r[e])return!1;return!0}function cN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function x2(t){if(!uN(t))return!1;const r=t.constructor;if(r===void 0)return!0;const e=r.prototype;return!(!uN(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uN(t){return Object.prototype.toString.call(t)==="[object Object]"}function EH(t){return new Promise(r=>{Qu.setTimeout(r,t)})}function v2(t,r,e){return typeof e.structuralSharing=="function"?e.structuralSharing(t,r):e.structuralSharing!==!1?rP(t,r):r}function AH(t,r,e=0){const n=[...t,r];return e&&n.length>e?n.slice(1):n}function PH(t,r,e=0){const n=[r,...t];return e&&n.length>e?n.slice(0,-1):n}var xk=Symbol();function nP(t,r){return!t.queryFn&&r?.initialPromise?()=>r.initialPromise:!t.queryFn||t.queryFn===xk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function vk(t,r){return typeof t=="function"?t(...r):!!t}function MH(t,r,e){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=r()),n||(n=!0,s.aborted?e():s.addEventListener("abort",e,{once:!0})),s)}),t}var nd,Oc,Jf,KT,RH=(KT=class extends Mh{constructor(){super();nr(this,nd);nr(this,Oc);nr(this,Jf);St(this,Jf,r=>{if(!bd&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Se(this,Oc)||this.setEventListener(Se(this,Jf))}onUnsubscribe(){var r;this.hasListeners()||((r=Se(this,Oc))==null||r.call(this),St(this,Oc,void 0))}setEventListener(r){var e;St(this,Jf,r),(e=Se(this,Oc))==null||e.call(this),St(this,Oc,r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(r){Se(this,nd)!==r&&(St(this,nd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof Se(this,nd)=="boolean"?Se(this,nd):globalThis.document?.visibilityState!=="hidden"}},nd=new WeakMap,Oc=new WeakMap,Jf=new WeakMap,KT),wk=new RH;function w2(){let t,r;const e=new Promise((s,a)=>{t=s,r=a});e.status="pending",e.catch(()=>{});function n(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},e.reject=s=>{n({status:"rejected",reason:s}),r(s)},e}var DH=NH;function IH(){let t=[],r=0,e=c=>{c()},n=c=>{c()},s=DH;const a=c=>{r?t.push(c):s(()=>{e(c)})},o=()=>{const c=t;t=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||o()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var Ps=IH(),eh,Fc,th,GT,OH=(GT=class extends Mh{constructor(){super();nr(this,eh,!0);nr(this,Fc);nr(this,th);St(this,th,r=>{if(!bd&&window.addEventListener){const e=()=>r(!0),n=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){Se(this,Fc)||this.setEventListener(Se(this,th))}onUnsubscribe(){var r;this.hasListeners()||((r=Se(this,Fc))==null||r.call(this),St(this,Fc,void 0))}setEventListener(r){var e;St(this,th,r),(e=Se(this,Fc))==null||e.call(this),St(this,Fc,r(this.setOnline.bind(this)))}setOnline(r){Se(this,eh)!==r&&(St(this,eh,r),this.listeners.forEach(n=>{n(r)}))}isOnline(){return Se(this,eh)}},eh=new WeakMap,Fc=new WeakMap,th=new WeakMap,GT),Wy=new OH;function FH(t){return Math.min(1e3*2**t,3e4)}function sP(t){return(t??"online")==="online"?Wy.isOnline():!0}var _2=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function aP(t){let r=!1,e=0,n;const s=w2(),a=()=>s.status!=="pending",o=y=>{if(!a()){const m=new _2(y);f(m),t.onCancel?.(m)}},c=()=>{r=!0},u=()=>{r=!1},l=()=>wk.isFocused()&&(t.networkMode==="always"||Wy.isOnline())&&t.canRun(),d=()=>sP(t.networkMode)&&t.canRun(),p=y=>{a()||(n?.(),s.resolve(y))},f=y=>{a()||(n?.(),s.reject(y))},h=()=>new Promise(y=>{n=m=>{(a()||l())&&y(m)},t.onPause?.()}).then(()=>{n=void 0,a()||t.onContinue?.()}),g=()=>{if(a())return;let y;const m=e===0?t.initialPromise:void 0;try{y=m??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(p).catch(v=>{if(a())return;const x=t.retry??(bd?0:3),S=t.retryDelay??FH,C=typeof S=="function"?S(e,v):S,A=x===!0||typeof x=="number"&&e<x||typeof x=="function"&&x(e,v);if(r||!A){f(v);return}e++,t.onFail?.(e,v),EH(C).then(()=>l()?void 0:h()).then(()=>{r?f(v):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:c,continueRetry:u,canStart:d,start:()=>(d()?g():h().then(g),s)}}var sd,QT,iP=(QT=class{constructor(){nr(this,sd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b2(this.gcTime)&&St(this,sd,Qu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bd?1/0:300*1e3))}clearGcTimeout(){Se(this,sd)&&(Qu.clearTimeout(Se(this,sd)),St(this,sd,void 0))}},sd=new WeakMap,QT),ad,rh,Hi,id,Vs,Jm,od,yo,Rl,XT,LH=(XT=class extends iP{constructor(r){super();nr(this,yo);nr(this,ad);nr(this,rh);nr(this,Hi);nr(this,id);nr(this,Vs);nr(this,Jm);nr(this,od);St(this,od,!1),St(this,Jm,r.defaultOptions),this.setOptions(r.options),this.observers=[],St(this,id,r.client),St(this,Hi,Se(this,id).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,St(this,ad,fN(this.options)),this.state=r.state??Se(this,ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Se(this,Vs)?.promise}setOptions(r){if(this.options={...Se(this,Jm),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=fN(this.options);e.data!==void 0&&(this.setState(dN(e.data,e.dataUpdatedAt)),St(this,ad,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,Hi).remove(this)}setData(r,e){const n=v2(this.state.data,r,this.options);return Fr(this,yo,Rl).call(this,{data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(r,e){Fr(this,yo,Rl).call(this,{type:"setState",state:r,setStateOptions:e})}cancel(r){const e=Se(this,Vs)?.promise;return Se(this,Vs)?.cancel(r),e?e.then(Oa).catch(Oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,ad))}isActive(){return this.observers.some(r=>Gi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Hc(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!tP(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Se(this,Vs)?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Se(this,Vs)?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Se(this,Hi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(e=>e!==r),this.observers.length||(Se(this,Vs)&&(Se(this,od)?Se(this,Vs).cancel({revert:!0}):Se(this,Vs).cancelRetry()),this.scheduleGc()),Se(this,Hi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fr(this,yo,Rl).call(this,{type:"invalidate"})}async fetch(r,e){if(this.state.fetchStatus!=="idle"&&Se(this,Vs)?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(Se(this,Vs))return Se(this,Vs).continueRetry(),Se(this,Vs).promise}if(r&&this.setOptions(r),!this.options.queryFn){const u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(St(this,od,!0),n.signal)})},a=()=>{const u=nP(this.options,e),d=(()=>{const p={client:Se(this,id),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return St(this,od,!1),this.options.persister?this.options.persister(u,d,this):u(d)},c=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Se(this,id),state:this.state,fetchFn:a};return s(u),u})();this.options.behavior?.onFetch(c,this),St(this,rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&Fr(this,yo,Rl).call(this,{type:"fetch",meta:c.fetchOptions?.meta}),St(this,Vs,aP({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof _2&&u.revert&&this.setState({...Se(this,rh),fetchStatus:"idle"}),n.abort()},onFail:(u,l)=>{Fr(this,yo,Rl).call(this,{type:"failed",failureCount:u,error:l})},onPause:()=>{Fr(this,yo,Rl).call(this,{type:"pause"})},onContinue:()=>{Fr(this,yo,Rl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const u=await Se(this,Vs).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),Se(this,Hi).config.onSuccess?.(u,this),Se(this,Hi).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof _2){if(u.silent)return Se(this,Vs).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw Fr(this,yo,Rl).call(this,{type:"error",error:u}),Se(this,Hi).config.onError?.(u,this),Se(this,Hi).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},ad=new WeakMap,rh=new WeakMap,Hi=new WeakMap,id=new WeakMap,Vs=new WeakMap,Jm=new WeakMap,od=new WeakMap,yo=new WeakSet,Rl=function(r){const e=n=>{switch(r.type){case"failed":return{...n,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oP(n.data,this.options),fetchMeta:r.meta??null};case"success":const s={...n,...dN(r.data,r.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return St(this,rh,r.manual?s:void 0),s;case"error":const a=r.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...r.state}}};this.state=e(this.state),Ps.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Se(this,Hi).notify({query:this,type:"updated",action:r})})},XT);function oP(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sP(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dN(t,r){return{data:t,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fN(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,e=r!==void 0,n=e?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var ti,Kr,e0,Da,ld,nh,$l,Lc,t0,sh,ah,cd,ud,Bc,ih,hn,Lp,k2,j2,S2,N2,C2,T2,E2,lP,YT,BH=(YT=class extends Mh{constructor(r,e){super();nr(this,hn);nr(this,ti);nr(this,Kr);nr(this,e0);nr(this,Da);nr(this,ld);nr(this,nh);nr(this,$l);nr(this,Lc);nr(this,t0);nr(this,sh);nr(this,ah);nr(this,cd);nr(this,ud);nr(this,Bc);nr(this,ih,new Set);this.options=e,St(this,ti,r),St(this,Lc,null),St(this,$l,w2()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Se(this,Kr).addObserver(this),hN(Se(this,Kr),this.options)?Fr(this,hn,Lp).call(this):this.updateResult(),Fr(this,hn,N2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return A2(Se(this,Kr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return A2(Se(this,Kr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fr(this,hn,C2).call(this),Fr(this,hn,T2).call(this),Se(this,Kr).removeObserver(this)}setOptions(r){const e=this.options,n=Se(this,Kr);if(this.options=Se(this,ti).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gi(this.options.enabled,Se(this,Kr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fr(this,hn,E2).call(this),Se(this,Kr).setOptions(this.options),e._defaulted&&!Vy(this.options,e)&&Se(this,ti).getQueryCache().notify({type:"observerOptionsUpdated",query:Se(this,Kr),observer:this});const s=this.hasListeners();s&&pN(Se(this,Kr),n,this.options,e)&&Fr(this,hn,Lp).call(this),this.updateResult(),s&&(Se(this,Kr)!==n||Gi(this.options.enabled,Se(this,Kr))!==Gi(e.enabled,Se(this,Kr))||Hc(this.options.staleTime,Se(this,Kr))!==Hc(e.staleTime,Se(this,Kr)))&&Fr(this,hn,k2).call(this);const a=Fr(this,hn,j2).call(this);s&&(Se(this,Kr)!==n||Gi(this.options.enabled,Se(this,Kr))!==Gi(e.enabled,Se(this,Kr))||a!==Se(this,Bc))&&Fr(this,hn,S2).call(this,a)}getOptimisticResult(r){const e=Se(this,ti).getQueryCache().build(Se(this,ti),r),n=this.createResult(e,r);return zH(this,n)&&(St(this,Da,n),St(this,nh,this.options),St(this,ld,Se(this,Kr).state)),n}getCurrentResult(){return Se(this,Da)}trackResult(r,e){return new Proxy(r,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Se(this,$l).status==="pending"&&Se(this,$l).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(r){Se(this,ih).add(r)}getCurrentQuery(){return Se(this,Kr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const e=Se(this,ti).defaultQueryOptions(r),n=Se(this,ti).getQueryCache().build(Se(this,ti),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(r){return Fr(this,hn,Lp).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),Se(this,Da)))}createResult(r,e){const n=Se(this,Kr),s=this.options,a=Se(this,Da),o=Se(this,ld),c=Se(this,nh),l=r!==n?r.state:Se(this,e0),{state:d}=r;let p={...d},f=!1,h;if(e._optimisticResults){const I=this.hasListeners(),$=!I&&hN(r,e),K=I&&pN(r,n,e,s);($||K)&&(p={...p,...oP(d.data,r.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=p;h=p.data;let v=!1;if(e.placeholderData!==void 0&&h===void 0&&m==="pending"){let I;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(I=a.data,v=!0):I=typeof e.placeholderData=="function"?e.placeholderData(Se(this,ah)?.state.data,Se(this,ah)):e.placeholderData,I!==void 0&&(m="success",h=v2(a?.data,I,e),f=!0)}if(e.select&&h!==void 0&&!v)if(a&&h===o?.data&&e.select===Se(this,t0))h=Se(this,sh);else try{St(this,t0,e.select),h=e.select(h),h=v2(a?.data,h,e),St(this,sh,h),St(this,Lc,null)}catch(I){St(this,Lc,I)}Se(this,Lc)&&(g=Se(this,Lc),h=Se(this,sh),y=Date.now(),m="error");const x=p.fetchStatus==="fetching",S=m==="pending",C=m==="error",A=S&&x,B=h!==void 0,R={status:m,fetchStatus:p.fetchStatus,isPending:S,isSuccess:m==="success",isError:C,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>l.dataUpdateCount||p.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!S,isLoadingError:C&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&B,isStale:_k(r,e),refetch:this.refetch,promise:Se(this,$l),isEnabled:Gi(e.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,$=R.status==="error"&&!I,K=L=>{$?L.reject(R.error):I&&L.resolve(R.data)},U=()=>{const L=St(this,$l,R.promise=w2());K(L)},P=Se(this,$l);switch(P.status){case"pending":r.queryHash===n.queryHash&&K(P);break;case"fulfilled":($||R.data!==P.value)&&U();break;case"rejected":(!$||R.error!==P.reason)&&U();break}}return R}updateResult(){const r=Se(this,Da),e=this.createResult(Se(this,Kr),this.options);if(St(this,ld,Se(this,Kr).state),St(this,nh,this.options),Se(this,ld).data!==void 0&&St(this,ah,Se(this,Kr)),Vy(e,r))return;St(this,Da,e);const n=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!Se(this,ih).size)return!0;const o=new Set(a??Se(this,ih));return this.options.throwOnError&&o.add("error"),Object.keys(Se(this,Da)).some(c=>{const u=c;return Se(this,Da)[u]!==r[u]&&o.has(u)})};Fr(this,hn,lP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fr(this,hn,N2).call(this)}},ti=new WeakMap,Kr=new WeakMap,e0=new WeakMap,Da=new WeakMap,ld=new WeakMap,nh=new WeakMap,$l=new WeakMap,Lc=new WeakMap,t0=new WeakMap,sh=new WeakMap,ah=new WeakMap,cd=new WeakMap,ud=new WeakMap,Bc=new WeakMap,ih=new WeakMap,hn=new WeakSet,Lp=function(r){Fr(this,hn,E2).call(this);let e=Se(this,Kr).fetch(this.options,r);return r?.throwOnError||(e=e.catch(Oa)),e},k2=function(){Fr(this,hn,C2).call(this);const r=Hc(this.options.staleTime,Se(this,Kr));if(bd||Se(this,Da).isStale||!b2(r))return;const n=tP(Se(this,Da).dataUpdatedAt,r)+1;St(this,cd,Qu.setTimeout(()=>{Se(this,Da).isStale||this.updateResult()},n))},j2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Se(this,Kr)):this.options.refetchInterval)??!1},S2=function(r){Fr(this,hn,T2).call(this),St(this,Bc,r),!(bd||Gi(this.options.enabled,Se(this,Kr))===!1||!b2(Se(this,Bc))||Se(this,Bc)===0)&&St(this,ud,Qu.setInterval(()=>{(this.options.refetchIntervalInBackground||wk.isFocused())&&Fr(this,hn,Lp).call(this)},Se(this,Bc)))},N2=function(){Fr(this,hn,k2).call(this),Fr(this,hn,S2).call(this,Fr(this,hn,j2).call(this))},C2=function(){Se(this,cd)&&(Qu.clearTimeout(Se(this,cd)),St(this,cd,void 0))},T2=function(){Se(this,ud)&&(Qu.clearInterval(Se(this,ud)),St(this,ud,void 0))},E2=function(){const r=Se(this,ti).getQueryCache().build(Se(this,ti),this.options);if(r===Se(this,Kr))return;const e=Se(this,Kr);St(this,Kr,r),St(this,e0,r.state),this.hasListeners()&&(e?.removeObserver(this),r.addObserver(this))},lP=function(r){Ps.batch(()=>{r.listeners&&this.listeners.forEach(e=>{e(Se(this,Da))}),Se(this,ti).getQueryCache().notify({query:Se(this,Kr),type:"observerResultsUpdated"})})},YT);function $H(t,r){return Gi(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function hN(t,r){return $H(t,r)||t.state.data!==void 0&&A2(t,r,r.refetchOnMount)}function A2(t,r,e){if(Gi(r.enabled,t)!==!1&&Hc(r.staleTime,t)!=="static"){const n=typeof e=="function"?e(t):e;return n==="always"||n!==!1&&_k(t,r)}return!1}function pN(t,r,e,n){return(t!==r||Gi(n.enabled,t)===!1)&&(!e.suspense||t.state.status!=="error")&&_k(t,e)}function _k(t,r){return Gi(r.enabled,t)!==!1&&t.isStaleByTime(Hc(r.staleTime,t))}function zH(t,r){return!Vy(t.getCurrentResult(),r)}function mN(t){return{onFetch:(r,e)=>{const n=r.options,s=r.fetchOptions?.meta?.fetchMore?.direction,a=r.state.data?.pages||[],o=r.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const l=async()=>{let d=!1;const p=g=>{MH(g,()=>r.signal,()=>d=!0)},f=nP(r.options,r.fetchOptions),h=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const B={client:r.client,queryKey:r.queryKey,pageParam:y,direction:m?"backward":"forward",meta:r.options.meta};return p(B),B})(),S=await f(x),{maxPages:C}=r.options,A=m?PH:AH;return{pages:A(g.pages,S,C),pageParams:A(g.pageParams,y,C)}};if(s&&a.length){const g=s==="backward",y=g?VH:gN,m={pages:a,pageParams:o},v=y(n,m);c=await h(m,v,g)}else{const g=t??a.length;do{const y=u===0?o[0]??n.initialPageParam:gN(n,c);if(u>0&&y==null)break;c=await h(c,y),u++}while(u<g)}return c};r.options.persister?r.fetchFn=()=>r.options.persister?.(l,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},e):r.fetchFn=l}}}function gN(t,{pages:r,pageParams:e}){const n=r.length-1;return r.length>0?t.getNextPageParam(r[n],r,e[n],e):void 0}function VH(t,{pages:r,pageParams:e}){return r.length>0?t.getPreviousPageParam?.(r[0],r,e[0],e):void 0}var r0,Ko,ga,dd,Go,Pc,ZT,WH=(ZT=class extends iP{constructor(r){super();nr(this,Go);nr(this,r0);nr(this,Ko);nr(this,ga);nr(this,dd);St(this,r0,r.client),this.mutationId=r.mutationId,St(this,ga,r.mutationCache),St(this,Ko,[]),this.state=r.state||cP(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Se(this,Ko).includes(r)||(Se(this,Ko).push(r),this.clearGcTimeout(),Se(this,ga).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){St(this,Ko,Se(this,Ko).filter(e=>e!==r)),this.scheduleGc(),Se(this,ga).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Se(this,Ko).length||(this.state.status==="pending"?this.scheduleGc():Se(this,ga).remove(this))}continue(){return Se(this,dd)?.continue()??this.execute(this.state.variables)}async execute(r){const e=()=>{Fr(this,Go,Pc).call(this,{type:"continue"})},n={client:Se(this,r0),meta:this.options.meta,mutationKey:this.options.mutationKey};St(this,dd,aP({fn:()=>this.options.mutationFn?this.options.mutationFn(r,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{Fr(this,Go,Pc).call(this,{type:"failed",failureCount:o,error:c})},onPause:()=>{Fr(this,Go,Pc).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,ga).canRun(this)}));const s=this.state.status==="pending",a=!Se(this,dd).canStart();try{if(s)e();else{Fr(this,Go,Pc).call(this,{type:"pending",variables:r,isPaused:a}),Se(this,ga).config.onMutate&&await Se(this,ga).config.onMutate(r,this,n);const c=await this.options.onMutate?.(r,n);c!==this.state.context&&Fr(this,Go,Pc).call(this,{type:"pending",context:c,variables:r,isPaused:a})}const o=await Se(this,dd).start();return await Se(this,ga).config.onSuccess?.(o,r,this.state.context,this,n),await this.options.onSuccess?.(o,r,this.state.context,n),await Se(this,ga).config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,r,this.state.context,n),Fr(this,Go,Pc).call(this,{type:"success",data:o}),o}catch(o){try{await Se(this,ga).config.onError?.(o,r,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onError?.(o,r,this.state.context,n)}catch(c){Promise.reject(c)}try{await Se(this,ga).config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,o,r,this.state.context,n)}catch(c){Promise.reject(c)}throw Fr(this,Go,Pc).call(this,{type:"error",error:o}),o}finally{Se(this,ga).runNext(this)}}},r0=new WeakMap,Ko=new WeakMap,ga=new WeakMap,dd=new WeakMap,Go=new WeakSet,Pc=function(r){const e=n=>{switch(r.type){case"failed":return{...n,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...n,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:r.error,failureCount:n.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ps.batch(()=>{Se(this,Ko).forEach(n=>{n.onMutationUpdate(r)}),Se(this,ga).notify({mutation:this,type:"updated",action:r})})},ZT);function cP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zl,bo,n0,JT,UH=(JT=class extends Mh{constructor(r={}){super();nr(this,zl);nr(this,bo);nr(this,n0);this.config=r,St(this,zl,new Set),St(this,bo,new Map),St(this,n0,0)}build(r,e,n){const s=new WH({client:r,mutationCache:this,mutationId:++Wg(this,n0)._,options:r.defaultMutationOptions(e),state:n});return this.add(s),s}add(r){Se(this,zl).add(r);const e=qg(r);if(typeof e=="string"){const n=Se(this,bo).get(e);n?n.push(r):Se(this,bo).set(e,[r])}this.notify({type:"added",mutation:r})}remove(r){if(Se(this,zl).delete(r)){const e=qg(r);if(typeof e=="string"){const n=Se(this,bo).get(e);if(n)if(n.length>1){const s=n.indexOf(r);s!==-1&&n.splice(s,1)}else n[0]===r&&Se(this,bo).delete(e)}}this.notify({type:"removed",mutation:r})}canRun(r){const e=qg(r);if(typeof e=="string"){const s=Se(this,bo).get(e)?.find(a=>a.state.status==="pending");return!s||s===r}else return!0}runNext(r){const e=qg(r);return typeof e=="string"?Se(this,bo).get(e)?.find(s=>s!==r&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ps.batch(()=>{Se(this,zl).forEach(r=>{this.notify({type:"removed",mutation:r})}),Se(this,zl).clear(),Se(this,bo).clear()})}getAll(){return Array.from(Se(this,zl))}find(r){const e={exact:!0,...r};return this.getAll().find(n=>lN(e,n))}findAll(r={}){return this.getAll().filter(e=>lN(r,e))}notify(r){Ps.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return Ps.batch(()=>Promise.all(r.map(e=>e.continue().catch(Oa))))}},zl=new WeakMap,bo=new WeakMap,n0=new WeakMap,JT);function qg(t){return t.options.scope?.id}var Vl,$c,ri,Wl,Jl,my,P2,eE,qH=(eE=class extends Mh{constructor(e,n){super();nr(this,Jl);nr(this,Vl);nr(this,$c);nr(this,ri);nr(this,Wl);St(this,Vl,e),this.setOptions(n),this.bindMethods(),Fr(this,Jl,my).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=Se(this,Vl).defaultMutationOptions(e),Vy(this.options,n)||Se(this,Vl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Se(this,ri),observer:this}),n?.mutationKey&&this.options.mutationKey&&xd(n.mutationKey)!==xd(this.options.mutationKey)?this.reset():Se(this,ri)?.state.status==="pending"&&Se(this,ri).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Se(this,ri)?.removeObserver(this)}onMutationUpdate(e){Fr(this,Jl,my).call(this),Fr(this,Jl,P2).call(this,e)}getCurrentResult(){return Se(this,$c)}reset(){Se(this,ri)?.removeObserver(this),St(this,ri,void 0),Fr(this,Jl,my).call(this),Fr(this,Jl,P2).call(this)}mutate(e,n){return St(this,Wl,n),Se(this,ri)?.removeObserver(this),St(this,ri,Se(this,Vl).getMutationCache().build(Se(this,Vl),this.options)),Se(this,ri).addObserver(this),Se(this,ri).execute(e)}},Vl=new WeakMap,$c=new WeakMap,ri=new WeakMap,Wl=new WeakMap,Jl=new WeakSet,my=function(){const e=Se(this,ri)?.state??cP();St(this,$c,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},P2=function(e){Ps.batch(()=>{if(Se(this,Wl)&&this.hasListeners()){const n=Se(this,$c).variables,s=Se(this,$c).context,a={client:Se(this,Vl),meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{Se(this,Wl).onSuccess?.(e.data,n,s,a)}catch(o){Promise.reject(o)}try{Se(this,Wl).onSettled?.(e.data,null,n,s,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{Se(this,Wl).onError?.(e.error,n,s,a)}catch(o){Promise.reject(o)}try{Se(this,Wl).onSettled?.(void 0,e.error,n,s,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(Se(this,$c))})})},eE),Qo,tE,HH=(tE=class extends Mh{constructor(r={}){super();nr(this,Qo);this.config=r,St(this,Qo,new Map)}build(r,e,n){const s=e.queryKey,a=e.queryHash??bk(s,e);let o=this.get(a);return o||(o=new LH({client:r,queryKey:s,queryHash:a,options:r.defaultQueryOptions(e),state:n,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){Se(this,Qo).has(r.queryHash)||(Se(this,Qo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=Se(this,Qo).get(r.queryHash);e&&(r.destroy(),e===r&&Se(this,Qo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Ps.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return Se(this,Qo).get(r)}getAll(){return[...Se(this,Qo).values()]}find(r){const e={exact:!0,...r};return this.getAll().find(n=>oN(e,n))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(n=>oN(r,n)):e}notify(r){Ps.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){Ps.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Ps.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Qo=new WeakMap,tE),rs,zc,Vc,oh,lh,Wc,ch,uh,rE,KH=(rE=class{constructor(t={}){nr(this,rs);nr(this,zc);nr(this,Vc);nr(this,oh);nr(this,lh);nr(this,Wc);nr(this,ch);nr(this,uh);St(this,rs,t.queryCache||new HH),St(this,zc,t.mutationCache||new UH),St(this,Vc,t.defaultOptions||{}),St(this,oh,new Map),St(this,lh,new Map),St(this,Wc,0)}mount(){Wg(this,Wc)._++,Se(this,Wc)===1&&(St(this,ch,wk.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,rs).onFocus())})),St(this,uh,Wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,rs).onOnline())})))}unmount(){var t,r;Wg(this,Wc)._--,Se(this,Wc)===0&&((t=Se(this,ch))==null||t.call(this),St(this,ch,void 0),(r=Se(this,uh))==null||r.call(this),St(this,uh,void 0))}isFetching(t){return Se(this,rs).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Se(this,zc).findAll({...t,status:"pending"}).length}getQueryData(t){const r=this.defaultQueryOptions({queryKey:t});return Se(this,rs).get(r.queryHash)?.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),e=Se(this,rs).build(this,r),n=e.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&e.isStaleByTime(Hc(r.staleTime,e))&&this.prefetchQuery(r),Promise.resolve(n))}getQueriesData(t){return Se(this,rs).findAll(t).map(({queryKey:r,state:e})=>{const n=e.data;return[r,n]})}setQueryData(t,r,e){const n=this.defaultQueryOptions({queryKey:t}),a=Se(this,rs).get(n.queryHash)?.state.data,o=CH(r,a);if(o!==void 0)return Se(this,rs).build(this,n).setData(o,{...e,manual:!0})}setQueriesData(t,r,e){return Ps.batch(()=>Se(this,rs).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,r,e)]))}getQueryState(t){const r=this.defaultQueryOptions({queryKey:t});return Se(this,rs).get(r.queryHash)?.state}removeQueries(t){const r=Se(this,rs);Ps.batch(()=>{r.findAll(t).forEach(e=>{r.remove(e)})})}resetQueries(t,r){const e=Se(this,rs);return Ps.batch(()=>(e.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const e={revert:!0,...r},n=Ps.batch(()=>Se(this,rs).findAll(t).map(s=>s.cancel(e)));return Promise.all(n).then(Oa).catch(Oa)}invalidateQueries(t,r={}){return Ps.batch(()=>(Se(this,rs).findAll(t).forEach(e=>{e.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},r)))}refetchQueries(t,r={}){const e={...r,cancelRefetch:r.cancelRefetch??!0},n=Ps.batch(()=>Se(this,rs).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,e);return e.throwOnError||(a=a.catch(Oa)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Oa)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const e=Se(this,rs).build(this,r);return e.isStaleByTime(Hc(r.staleTime,e))?e.fetch(r):Promise.resolve(e.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oa).catch(Oa)}fetchInfiniteQuery(t){return t.behavior=mN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oa).catch(Oa)}ensureInfiniteQueryData(t){return t.behavior=mN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wy.isOnline()?Se(this,zc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,rs)}getMutationCache(){return Se(this,zc)}getDefaultOptions(){return Se(this,Vc)}setDefaultOptions(t){St(this,Vc,t)}setQueryDefaults(t,r){Se(this,oh).set(xd(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...Se(this,oh).values()],e={};return r.forEach(n=>{lm(t,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(t,r){Se(this,lh).set(xd(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...Se(this,lh).values()],e={};return r.forEach(n=>{lm(t,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(t){if(t._defaulted)return t;const r={...Se(this,Vc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=bk(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===xk&&(r.enabled=!1),r}defaultMutationOptions(t){return t?._defaulted?t:{...Se(this,Vc).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Se(this,rs).clear(),Se(this,zc).clear()}},rs=new WeakMap,zc=new WeakMap,Vc=new WeakMap,oh=new WeakMap,lh=new WeakMap,Wc=new WeakMap,ch=new WeakMap,uh=new WeakMap,rE),uP=E.createContext(void 0),_s=t=>{const r=E.useContext(uP);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},GH=({client:t,children:r})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(uP.Provider,{value:t,children:r})),dP=E.createContext(!1),QH=()=>E.useContext(dP);dP.Provider;function XH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var YH=E.createContext(XH()),ZH=()=>E.useContext(YH),JH=(t,r,e)=>{const n=e?.state.error&&typeof t.throwOnError=="function"?vk(t.throwOnError,[e.state.error,e]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(r.isReset()||(t.retryOnMount=!1))},eK=t=>{E.useEffect(()=>{t.clearReset()},[t])},tK=({result:t,errorResetBoundary:r,throwOnError:e,query:n,suspense:s})=>t.isError&&!r.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||vk(e,[t.error,n])),rK=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},nK=(t,r)=>t.isLoading&&t.isFetching&&!r,sK=(t,r)=>t?.suspense&&r.isPending,yN=(t,r,e)=>r.fetchOptimistic(t).catch(()=>{e.clearReset()});function aK(t,r,e){const n=QH(),s=ZH(),a=_s(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const c=a.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",rK(o),JH(o,s,c),eK(s);const u=!a.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new r(a,o)),d=l.getOptimisticResult(o),p=!n&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(f=>{const h=p?l.subscribe(Ps.batchCalls(f)):Oa;return l.updateResult(),h},[l,p]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o)},[o,l]),sK(o,d))throw yN(o,l,s);if(tK({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:c,suspense:o.suspense}))throw d.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!bd&&nK(d,n)&&(u?yN(o,l,s):c?.promise)?.catch(Oa).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?d:l.trackResult(d)}function xt(t,r){return aK(t,BH)}function Dt(t,r){const e=_s(),[n]=E.useState(()=>new qH(e,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const s=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(Ps.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=E.useCallback((o,c)=>{n.mutate(o,c).catch(Oa)},[n]);if(s.error&&vk(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function lc(){try{const t=fl.getPlatform();return t==="android"||t==="ios"}catch{return!1}}let Kp=null;async function cc(){const{getDB:t}=await ln(async()=>{const{getDB:r}=await Promise.resolve().then(()=>nH);return{getDB:r}},void 0);return await t()}async function Vb(){Kp||(Kp=lc()?So.waitForReady():cc().then(()=>{})),await Kp}async function vu(){Kp?await Kp:await Vb()}async function ro(t,r){if(await vu(),lc())return await So.get(t,r);const e=await cc();try{return await e.get(t,r)}catch{return null}}async function qa(t){if(await vu(),lc())return await So.getAll(t);const r=await cc();try{return await r.getAll(t)}catch{return[]}}async function Sa(t,r){await vu();const e=(r.id||r.key||"").toString();e&&(lc()?await So.set(t,e,r):await(await cc()).put(t,r))}async function a0(t,r){await vu();const e=(r.id||r.key||"").toString();e&&(lc()?await So.set(t,e,r):await(await cc()).add(t,r))}async function i0(t,r){await vu(),lc()?await So.delete(t,r):await(await cc()).delete(t,r)}async function kk(t){if(await vu(),lc())await So.clearTable(t);else{const r=await cc();try{await r.clear(t)}catch(e){console.warn(`[smartClear] Failed to clear ${t}:`,e)}}}async function hd(t){if(await vu(),lc())return await So.count(t);const r=await cc();try{return await r.count(t)}catch{return 0}}async function Kc(t,r){if(!r||r.length===0)return 0;if(await vu(),lc()){let e=0;for(const n of r)if(n&&(n.id||n.key)){const s=(n.id||n.key).toString();await So.set(t,s,n),e++}return e}else{const e=await cc();let n=0;try{const s=e.transaction(t,"readwrite"),a=s.objectStore(t);for(const o of r)if(o&&(o.id||o.key))try{a.put(o),n++}catch(c){console.warn(`[smartSave] Failed to put record in ${t}:`,c)}await s.done}catch(s){console.warn(`[smartSave] Transaction failed for ${t}, falling back to individual puts:`,s);for(const a of r)if(a&&(a.id||a.key))try{await e.put(t,a),n++}catch(o){console.warn(`[smartSave] Fallback put failed in ${t}:`,o)}}return n}}const cm=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:Vb,smartAdd:a0,smartClear:kk,smartCount:hd,smartDelete:i0,smartGet:ro,smartGetAll:qa,smartPut:Sa,smartSave:Kc},Symbol.toStringTag,{value:"Module"}));function bN(){return typeof navigator<"u"?navigator.onLine:!0}var iK={};const D1="https://app2.binarjoinanelytic.info";function I1(){if(typeof window>"u")return!1;const t=window.Capacitor;if(t?.isNativePlatform?.()||t?.isNative===!0||t?.getPlatform?.()==="android"||t?.getPlatform?.()==="ios")return!0;const r=window.location.protocol;return r==="capacitor:"||r==="ionic:"}const fh={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info"||I1():!0,isAndroid:typeof window<"u"&&I1(),getApiBaseUrl:()=>{if(typeof window>"u")return iK.VITE_API_BASE_URL||"";if(I1())return D1;const t=window.location.hostname;return t==="binarjoinanelytic.info"||t==="www.binarjoinanelytic.info"||t==="app2.binarjoinanelytic.info"?D1:""},getExternalServerUrl:()=>D1},ra=[];for(let t=0;t<256;++t)ra.push((t+256).toString(16).slice(1));function oK(t,r=0){return(ra[t[r+0]]+ra[t[r+1]]+ra[t[r+2]]+ra[t[r+3]]+"-"+ra[t[r+4]]+ra[t[r+5]]+"-"+ra[t[r+6]]+ra[t[r+7]]+"-"+ra[t[r+8]]+ra[t[r+9]]+"-"+ra[t[r+10]]+ra[t[r+11]]+ra[t[r+12]]+ra[t[r+13]]+ra[t[r+14]]+ra[t[r+15]]).toLowerCase()}let O1;const lK=new Uint8Array(16);function cK(){if(!O1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");O1=crypto.getRandomValues.bind(crypto)}return O1(lK)}const uK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xN={randomUUID:uK};function dK(t,r,e){t=t||{};const n=t.random??t.rng?.()??cK();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,oK(n)}function o0(t,r,e){return xN.randomUUID&&!t?xN.randomUUID():dK(t)}function fK(t,r,e){const n=e.id||e.transferNumber||"";return`${t}:${r}:${n}`}function hK(t){const r=["transferDate","selectedDate","date","paymentDate","attendanceDate","expenseDate"],e={...t};for(const n of r)if(e[n]){const s=e[n];typeof s=="string"&&s.includes("T")?e[n]=s.split("T")[0]:s instanceof Date?e[n]=s.toISOString().split("T")[0]:typeof s=="number"&&(e[n]=new Date(s).toISOString().split("T")[0])}return e.selectedDate&&!e.transferDate&&(e.transferDate=e.selectedDate),e}function Wb(t){const r=[];return t.transferNumber&&r.push(`: ${t.transferNumber}`),t.amount&&r.push(`: ${t.amount}`),t.name&&r.push(`: ${t.name}`),t.projectId&&r.push(`: ${t.projectId}`),t.id&&r.push(`ID: ${String(t.id).substring(0,8)}`),r.join(" | ")||" "}async function Uf(t,r,e){e=hK(e);const n=fK(t,r,e),a=(await qa("syncQueue")).find(u=>u.idempotencyKey===n&&u.status!=="failed"&&u.status!=="duplicate-resolved");if(a)return console.log(` [Queue]    : ${n}`),t==="update"&&(a.payload={...a.payload,...e},a.timestamp=Date.now(),await Sa("syncQueue",a),console.log(` [Queue]   payload  : ${a.id}`)),a.id;const o=o0(),c={id:o,action:t,endpoint:r,payload:e,timestamp:Date.now(),retries:0,status:"pending",idempotencyKey:n};return await a0("syncQueue",c),o}async function iu(){return(await qa("syncQueue")).filter(r=>r.status==="pending"||r.status==="failed"||!r.status).sort((r,e)=>r.timestamp-e.timestamp)}async function pK(){return(await qa("syncQueue")).sort((r,e)=>e.timestamp-r.timestamp)}async function Ub(t){await i0("syncQueue",t)}async function jk(t){const r=await ro("syncQueue",t);r&&(r.status="in-flight",r.lastAttemptAt=Date.now(),await Sa("syncQueue",r))}async function Ul(t,r,e){const n=await ro("syncQueue",t);n&&(n.status="failed",n.retries=(n.retries||0)+1,n.lastError=r,n.errorType=e||"unknown",n.lastAttemptAt=Date.now(),await Sa("syncQueue",n))}async function fP(t,r){const e=await ro("syncQueue",t);e&&(e.status="duplicate-resolved",e.lastError=r,e.lastAttemptAt=Date.now(),await Sa("syncQueue",e),await eo({queueItemId:t,action:e.action,endpoint:e.endpoint,status:"duplicate",errorMessage:r,payloadSummary:Wb(e.payload),retryCount:e.retries}))}async function mK(t){const r=await ro("syncQueue",t);r&&await eo({queueItemId:t,action:r.action,endpoint:r.endpoint,status:"skipped",errorMessage:"    ",payloadSummary:Wb(r.payload),retryCount:r.retries}),await i0("syncQueue",t)}async function gK(){const t=await iu(),r=t.length;for(const e of t)await eo({queueItemId:e.id,action:e.action,endpoint:e.endpoint,status:"skipped",errorMessage:"   ( )",payloadSummary:Wb(e.payload),retryCount:e.retries});return await kk("syncQueue"),r}async function eo(t){const r={id:o0(),timestamp:Date.now(),...t};try{await a0("syncHistory",r);const e=await qa("syncHistory");if(e.length>500){const s=e.sort((a,o)=>o.timestamp-a.timestamp).slice(500);for(const a of s)await i0("syncHistory",a.id)}}catch(e){console.warn(" [SyncLog]   :",e)}}async function hP(t=50){try{return(await qa("syncHistory")).sort((e,n)=>n.timestamp-e.timestamp).slice(0,t)}catch{return[]}}async function pP(){return(await qa("syncQueue")).filter(r=>r.status==="failed"||r.status==="conflict").sort((r,e)=>e.lastAttemptAt-r.lastAttemptAt)}async function yK(){return(await qa("syncQueue")).filter(r=>r.status==="duplicate-resolved").sort((r,e)=>e.lastAttemptAt-r.lastAttemptAt)}async function bK(t){const r=await ro("syncQueue",t);r&&(r.status==="failed"||r.status==="conflict")&&(r.status="pending",r.lastError=void 0,await Sa("syncQueue",r))}async function xK(){const t=await pP();let r=0;for(const e of t)e.status="pending",e.lastError=void 0,await Sa("syncQueue",e),r++;return r}async function vK(){const t=await hd("syncQueue"),r=await hd("userData"),e=await qa("syncQueue"),n=e.filter(l=>l.status==="failed"||l.status==="conflict").length,s=e.filter(l=>l.status==="duplicate-resolved").length;let a=[];try{a=await hP(100)}catch{}const o=a.filter(l=>l.status==="success").length,c=a.filter(l=>l.status==="failed").length,u=await hd("deadLetterQueue");return{pendingSync:t-n-s,failedSync:n,duplicateResolved:s,deadLetterCount:u,localUserData:r,totalSuccessful:o,totalRecentFailures:c,lastUpdate:Date.now()}}async function M2(t){const r={id:o0(),originalId:t.id,action:t.action,endpoint:t.endpoint,payload:t.payload,timestamp:t.timestamp,movedAt:Date.now(),totalRetries:t.retries,lastError:t.lastError||"   ",errorType:t.errorType||"max_retries",idempotencyKey:t.idempotencyKey};await a0("deadLetterQueue",r),await Ub(t.id),await eo({queueItemId:t.id,action:t.action,endpoint:t.endpoint,status:"failed",errorMessage:`       ${t.retries} `,payloadSummary:Wb(t.payload),retryCount:t.retries})}let F1=!1;const Gp={maxRetries:8,baseDelayMs:500,maxDelayMs:6e4,jitterFactor:.3,nonRetryableStatuses:[400,401,403,404,422]};function gy(t){const r=Gp.baseDelayMs*Math.pow(2,t),e=Math.min(r,Gp.maxDelayMs),n=e*Gp.jitterFactor*(Math.random()*2-1);return Math.max(0,Math.round(e+n))}function mP(t){return t===409?!1:!Gp.nonRetryableStatuses.includes(t)}async function yy(){if(!F1){F1=!0;try{await _K()}finally{F1=!1}}}function gP(t){if(t?.status)return t.status;if(t?.statusCode)return t.statusCode;const r=t?.message||String(t),e=r.match(/status:\s*(\d{3})/i);return e?parseInt(e[1],10):r.includes(" ")||r.includes("duplicate")||r.includes("already exists")?409:r.includes(" ")||r.includes("validation")||r.includes("")?400:0}function Df(t){const r=[];return t.transferNumber&&r.push(`: ${t.transferNumber}`),t.amount&&r.push(`: ${t.amount}`),t.id&&r.push(`ID: ${String(t.id).substring(0,8)}`),r.join(" | ")||" "}async function wK(t,r){const e=Date.now();console.log(`[Silent-Sync]   ${t} (${r.length} )...`);for(const n of r)await jk(n.id);try{const n=r.map(o=>({action:o.action==="create"?"POST":o.action==="update"?"PATCH":"DELETE",endpoint:o.endpoint,payload:o.payload})),s=`batch:${t}:${r[0]?.retries||0}`,a=await Ve("/api/sync/batch","POST",{operations:n},0,{"x-idempotency-key":s});if(a&&a.success){for(const o of r)await Ub(o.id),await R2(o,!0),await eo({queueItemId:o.id,action:o.action,endpoint:o.endpoint,status:"success",duration:Date.now()-e,payloadSummary:Df(o.payload),retryCount:o.retries});console.log(`[Silent-Sync]  ${t}  (${Date.now()-e}ms)`)}else{const o=a?.message||a?.error||" ";throw new Error(o)}}catch(n){const s=gP(n),a=n?.message||String(n);console.error(`[Silent-Sync]   ${t}:`,a);for(const o of r){if(!mP(s)&&s>0)await M2({...o,retries:o.retries+1,lastError:a,errorType:"validation"});else{const c=Date.now()+gy(o.retries+1);await Ul(o.id,a,"batch");const u=await ro("syncQueue",o.id);u&&(u.nextRetryAt=c,await Sa("syncQueue",u))}await eo({queueItemId:o.id,action:o.action,endpoint:o.endpoint,status:"failed",duration:Date.now()-e,errorMessage:a,errorCode:String(s),payloadSummary:Df(o.payload),retryCount:o.retries+1})}}}async function _K(){const t=await iu();if(t.length===0)return;const r=Date.now(),e=t.filter(a=>!(a.nextRetryAt&&a.nextRetryAt>r));if(e.length===0)return;const n=new Map,s=[];for(const a of e)a.batchId?(n.has(a.batchId)||n.set(a.batchId,[]),n.get(a.batchId).push(a)):s.push(a);console.log(`[Silent-Sync]   ${e.length}  (${n.size}  ${s.length} )   ${t.length}...`);for(const[a,o]of n)await wK(a,o);for(const a of s)try{if(a.retries>=Gp.maxRetries){console.warn(`[Silent-Sync]  ${a.id}  DLQ  ${a.retries} `),await M2(a);continue}if(await jk(a.id),a.retries>0){const d=gy(a.retries);await new Promise(p=>setTimeout(p,d))}else await new Promise(d=>setTimeout(d,100));const o=a.action==="create"?"POST":a.action==="update"?"PATCH":"DELETE",c=Date.now();let u;try{const d=a.idempotencyKey||`sync:${a.id}:${a.retries}`;u=await Ve(a.endpoint,o,a.payload,0,{"x-idempotency-key":d})}catch(d){const p=gP(d),f=d?.message||d?.error||String(d);if(p===409){console.log(`[Silent-Sync]   (409): ${a.id}`),await fP(a.id,f),await R2(a,!0);continue}if(!mP(p)){console.error(`[Silent-Sync]     (${p}): ${a.id}`),await M2({...a,retries:a.retries+1,lastError:f,errorType:"validation"}),await eo({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:Date.now()-c,errorMessage:`  DLQ: ${f}`,errorCode:String(p),payloadSummary:Df(a.payload),retryCount:a.retries+1});continue}const h=Date.now()+gy(a.retries+1);await Ul(a.id,f,"network");const g=await ro("syncQueue",a.id);g&&(g.nextRetryAt=h,await Sa("syncQueue",g)),await eo({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:Date.now()-c,errorMessage:f,errorCode:String(p),payloadSummary:Df(a.payload),retryCount:a.retries+1});continue}const l=Date.now()-c;if(u&&u.success!==!1)await Ub(a.id),await R2(a,!0),await eo({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"success",duration:l,payloadSummary:Df(a.payload),retryCount:a.retries}),console.log(`[Silent-Sync] : ${a.id} (${l}ms)`);else{const d=u?.message||u?.error||"  ",p=Date.now()+gy(a.retries+1);await Ul(a.id,d,"server");const f=await ro("syncQueue",a.id);f&&(f.nextRetryAt=p,await Sa("syncQueue",f)),await eo({queueItemId:a.id,action:a.action,endpoint:a.endpoint,status:"failed",duration:l,errorMessage:d,payloadSummary:Df(a.payload),retryCount:a.retries+1})}}catch(o){console.error(`[Silent-Sync]    ${a.id}:`,o),await Ul(a.id,o.message||String(o),"unknown")}}async function R2(t,r){try{const e=t.endpoint.split("/")[2],n=t.payload?.id;if(!e||!n)return;const s=await ro(e,n);s&&(s._pendingSync=!r,s._isLocal=!r,await Sa(e,s))}catch{}}let vN=null,wN=null;function kK(t=3e4){vN===null&&(yy(),vN=setInterval(()=>{navigator.onLine&&yy()},t),wN=()=>{yy()},window.addEventListener("online",wN))}let by=0,D2="0";async function jK(t){const r=new TextEncoder,e=await crypto.subtle.digest("SHA-256",r.encode(t));return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}async function SK(){const t=await qa("localAuditLog");if(t.length>0){const r=t.sort((e,n)=>n.sequence-e.sequence);by=r[0].sequence,D2=r[0].hash}}async function Sk(t,r,e,n){by++;const s=D2,a=Date.now(),o=`${by}:${t}:${r}:${e}:${s}:${a}`,c=await jK(o),u={id:o0(),action:t,entityType:r,entityId:e,payload:{...n},timestamp:a,sequence:by,hash:c,previousHash:s};await a0("localAuditLog",u),D2=c}const yP={"/api/fund-transfers":"fundTransfers","/api/worker-attendance":"workerAttendance","/api/transportation-expenses":"transportationExpenses","/api/material-purchases":"materialPurchases","/api/worker-transfers":"workerTransfers","/api/worker-misc-expenses":"workerMiscExpenses","/api/workers":"workers","/api/projects":"projects","/api/suppliers":"suppliers","/api/materials":"materials","/api/wells":"wells","/api/project-types":"projectTypes","/api/autocomplete":"autocompleteData","/api/supplier-payments":"supplierPayments"};function bP(t){const r=t.split("?")[0];for(const[e,n]of Object.entries(yP))if(r===e||r.startsWith(e+"/"))return n;return r.startsWith("/api/projects/")&&r.includes("/fund-transfers")?"fundTransfers":r.startsWith("/api/projects/")&&r.includes("/worker-attendance")?"workerAttendance":r.startsWith("/api/projects/")&&r.includes("/material-purchases")?"materialPurchases":r.startsWith("/api/projects/")&&r.includes("/transportation")?"transportationExpenses":(r.startsWith("/api/projects/")&&r.includes("/daily-expenses"),null)}function Nk(t){const r=t.split("?")[0];r.split("/");for(const[e]of Object.entries(yP))if(r.startsWith(e+"/")){const s=r.substring(e.length+1).split("/")[0];if(s&&s.length>0)return s}return null}async function _N(t,r,e){const n=bP(t);if(!n)throw new Error(`[Offline]    ${t}  `);if(r==="POST")return NK(t,n,e);if(r==="PATCH"||r==="PUT")return CK(t,n,e);if(r==="DELETE")return TK(t,n);if(r==="GET")return EK(t,n);throw new Error(`[Offline]  ${r}    `)}async function NK(t,r,e){const n=e?.id||o0(),s={...e,id:n,_isLocal:!0,_pendingSync:!0,_offlineCreatedAt:Date.now(),createdAt:e?.createdAt||new Date().toISOString()};return await Sa(r,s),await Uf("create",t,s),Sk("create",r,n,s).catch(a=>console.warn("[Audit]  :",a)),{success:!0,data:{success:!0,data:s,message:"  "},isOffline:!0,pendingSync:!0}}async function CK(t,r,e){const n=Nk(t)||e?.id;if(!n)throw new Error("[Offline]     ");const a={...await ro(r,n)||{},...e,id:n,_pendingSync:!0,_offlineUpdatedAt:Date.now(),updatedAt:new Date().toISOString()};return await Sa(r,a),await Uf("update",t,a),Sk("update",r,n,a).catch(o=>console.warn("[Audit]  :",o)),{success:!0,data:{success:!0,data:a,message:"  "},isOffline:!0,pendingSync:!0}}async function TK(t,r){const e=Nk(t);if(!e)throw new Error("[Offline]     ");return await i0(r,e),await Uf("delete",t,{id:e}),Sk("delete",r,e,{id:e}).catch(n=>console.warn("[Audit]  :",n)),{success:!0,data:{success:!0,message:"  "},isOffline:!0,pendingSync:!0}}async function EK(t,r){const e=Nk(t);if(e){const s=await ro(r,e);return{success:!!s,data:s?{success:!0,data:s}:{success:!1,data:null},isOffline:!0,pendingSync:!1}}const n=await qa(r);return{success:!0,data:{success:!0,data:n,count:n.length},isOffline:!0,pendingSync:!1}}function kN(t){return bP(t)!==null}const xe={projects:["/api/projects"],projectsWithStats:["/api/projects/with-stats"],projectTypes:["/api/project-types"],materials:["/api/materials"],suppliers:["/api/suppliers"],workers:["/api/workers"],workerTypes:["/api/worker-types"],notifications:["/api/notifications"],autocomplete:["/api/autocomplete"],tasks:["/api/tasks"],transportationExpenses:["/api/transportation-expenses"],workerMiscExpenses:["/api/worker-misc-expenses"],financialSummary:["/api/financial-summary"],healthStats:["/api/health/stats"],users:["/api/users"],usersList:["/api/users/list"],aiSessions:["/api/ai/sessions"],backupsStatus:["/api/backups/status"],backupsLogs:["/api/backups/logs"],backupsDatabases:["/api/backups/databases"],equipment:["equipment"],equipmentMovements:["equipment-movements"],wells:["wells"],recentActivities:["/api/recent-activities"],recentActivitiesByProject:t=>["/api/recent-activities",t],healthFull:["/api/health/full"],incidents:["/api/incidents"],metricsSummary:["/api/metrics/summary"],aiAccess:["/api/ai/access"],dbConnections:["/api/db/connections"],dbStats:["/api/stats"],adminDataHealth:["/api/admin/data-health"],autocompleteTransportCategories:["/api/autocomplete/transport-categories"],autocompleteTransactionCategories:["/api/autocomplete/transaction-categories"],syncProjects:["/api/projects"],syncAuditLogs:["/api/sync-audit/logs"],syncAuditStats:["/api/sync-audit/stats"],syncAuditModules:["/api/sync-audit/modules"],syncAuditLogsFiltered:t=>["/api/sync-audit/logs",t],projectTransportation:(t,r,e)=>["/api/projects",t,"transportation",r,e].filter(Boolean),projectFundTransfersFiltered:(t,r)=>["/api/projects",t,"fund-transfers",r].filter(e=>e!==void 0),projectFundTransfersIncoming:(t,r)=>["/api/projects",t,"fund-transfers","incoming",r].filter(e=>e!==void 0),projectFundTransfersOutgoing:(t,r)=>["/api/projects",t,"fund-transfers","outgoing",r].filter(e=>e!==void 0),projectWorkerAttendanceFiltered:(t,r)=>["/api/projects",t,"worker-attendance",r].filter(e=>e!==void 0),projectMaterialPurchasesFiltered:(t,r)=>["/api/projects",t,"material-purchases",r].filter(e=>e!==void 0),transportationExpensesFiltered:(t,r)=>["/api/transportation-expenses",t,r].filter(e=>e!==void 0),workerMiscExpensesFiltered:(t,r)=>["/api/worker-misc-expenses",t,r].filter(Boolean),workerTransfersFiltered:(t,r)=>["/api/worker-transfers",t,r].filter(e=>e!==void 0),workerStats:(t,r)=>["/api/workers",t,"stats",r].filter(Boolean),projectAttendance:t=>["/api/projects",t,"attendance"],dailyExpensesComplex:(t,r,e)=>["/api/projects",t,r,e].filter(Boolean),materialPurchases:(t,r)=>["/api/projects",t,"material-purchases",r].filter(Boolean),workerAttendance:(t,r)=>["/api/projects",t,"worker-attendance",r].filter(Boolean),workerAttendanceAll:t=>["/api/projects",t,"worker-attendance"],dailyExpenses:(t,r)=>["/api/projects",t,"daily-expenses",r].filter(Boolean),previousBalance:(t,r)=>["/api/projects",t,"previous-balance",r].filter(Boolean),dailySummary:(t,r)=>["/api/projects",t,"daily-summary",r].filter(Boolean),projectStats:t=>["/api/projects",t,"stats"],workerTransfers:t=>["/api/worker-transfers",t],projectFundTransfers:["/api/project-fund-transfers"],allFundTransfers:["/api/projects/all/fund-transfers"],supplierStatistics:["/api/suppliers/statistics"],supplierStatisticsFiltered:(...t)=>["/api/suppliers/statistics",...t],materialPurchasesDateRange:["/api/material-purchases/date-range"],materialPurchasesFiltered:(...t)=>["/api/material-purchases",...t],dailyProjectTransfers:(t,r)=>["/api/daily-project-transfers",t,r].filter(Boolean),dailyExpenseSummaries:["/api/daily-expense-summaries"],wellTasks:t=>["well-tasks",t],wellExpenses:t=>["well-expenses",t],wellCostReport:t=>["well-cost-report",t],wellById:t=>["well",t],wellsByProject:t=>["wells",t],autocompleteCategory:t=>["autocomplete",t],autocompleteOwnerNames:t=>["autocomplete/ownerNames",t],autocompleteFanTypes:t=>["autocomplete/fanTypes",t],autocompletePumpPowers:t=>["autocomplete/pumpPowers",t],autocompleteTaskDescriptions:t=>["autocomplete/taskDescriptions",t],notificationsByUser:t=>["/api/notifications",t],adminNotifications:(...t)=>["admin-notifications",...t],userActivity:["user-activity"],metrics:["/api/metrics/current"],diagnostics:["/api/diagnostics/checks"],workerAttendanceEdit:t=>["/api/worker-attendance",t],materialPurchaseEdit:t=>["/api/material-purchases",t],reportsWorkerStatement:(...t)=>["/api/reports/worker-statement",...t],reportsDashboardKpis:(...t)=>["/api/reports/dashboard-kpis",...t],securityPolicies:["/api/security/policies"],securityViolations:["/api/security/violations"],securitySuggestions:["/api/security/suggestions"],projectCosts:t=>["project-costs",t],errorLogs:["/api/error-logs"],usersWithRoles:["/api/users","with-roles"],workerStatsSimple:t=>["/api/workers",t,"stats"],equipmentFiltered:(...t)=>["equipment",...t],equipmentMovementsById:t=>["equipment-movements",t],autocompleteAdmin:(...t)=>["autocomplete-admin",...t],autocompleteFanTypesPrefix:["autocomplete/fanTypes"],autocompletePumpPowersPrefix:["autocomplete/pumpPowers"],autocompleteOwnerNamesPrefix:["autocomplete/ownerNames"]};let I2=null;function jN(t){I2=t}function AK(){return I2?I2.getAccessToken():localStorage.getItem("accessToken")}async function Ve(t,r="GET",e,n=0,s){const a=fh.getApiBaseUrl();let o=t;if(!t.startsWith("http")){const d=t.startsWith("/")?t:`/${t}`;o=`${a}${d}`}const c=typeof window<"u"?localStorage.getItem("accessToken"):null;c||(console.warn(` [apiRequest]    : ${r} ${t}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&t.includes("/auth/login"));const u={"Content-Type":"application/json",...s||{}};c&&(u.Authorization=`Bearer ${c}`);const l={method:r,headers:u,credentials:"include"};e&&r!=="GET"&&(l.body=JSON.stringify(e));try{if(!navigator.onLine&&r!=="GET"&&kN(t)){console.log(` [apiRequest]   -   : ${r} ${t}`);const h=await _N(t,r,e);if(h.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:t,method:r,pendingSync:!0}})),{...h.data,isOffline:!0,pendingSync:!0}}console.log(` API Request: ${r} ${t}`,e||"");const d=await fetch(o,l),p=d.headers.get("content-type");if(d.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const h=localStorage.getItem("refreshToken");if(h&&n===0)try{const y=`${fh.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const m=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:h})});if(m.ok){const v=await m.json(),x=v.data?.accessToken||v.accessToken,S=v.data?.refreshToken||v.refreshToken;if(x){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",x),S&&localStorage.setItem("refreshToken",S);const C={...u,Authorization:`Bearer ${x}`},A={...l,headers:C},B=await fetch(o,A);if(!B.ok)throw new Error("    ");return await B.json()}}else console.error(" [apiRequest] Refresh response not OK:",m.status)}catch(g){console.error(" [apiRequest] Refresh failed:",g)}if(!window.location.pathname.includes("/login"))return console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),null;throw new Error(" ")}if(!d.ok){let h=`HTTP error! status: ${d.status}`;try{if(p&&p.includes("application/json"))h=(await d.json()).message||h;else{const g=await d.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:d.status,contentType:p,responsePreview:g.substring(0,200)})}}catch{}throw new Error(h)}if(!p||!p.includes("application/json")){const h=await d.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:d.status,contentType:p,responsePreview:h.substring(0,200)}),new Error(`   :  JSON    ${p}`)}const f=await d.json();return console.log(` API Response: ${r} ${t}`,f),f}catch(d){if(d instanceof TypeError&&(d.message.includes("Failed to fetch")||d.message.includes("NetworkError")||d.message.includes("Network request failed"))&&r!=="GET"&&kN(t)){console.log(` [apiRequest]   -   : ${r} ${t}`);try{const p=await _N(t,r,e);if(p.success)return window.dispatchEvent(new CustomEvent("offline-mutation-queued",{detail:{endpoint:t,method:r,pendingSync:!0}})),{...p.data,isOffline:!0,pendingSync:!0}}catch(p){console.error(" [apiRequest]    :",p)}}throw console.error(` API Error: ${r} ${t}`,d),d}}const PK=({on401:t,useLocalFallback:r=!0})=>async({queryKey:e})=>{const n=fh.getApiBaseUrl(),s=e.join("/");let a=s;if(!s.startsWith("http"))if(n){const c=s.startsWith("/")?s:`/${s}`;a=`${n}${c}`}else s.startsWith("/")||(a=`/${s}`);async function o(c=0){const u=new AbortController,l=setTimeout(()=>u.abort(),3e4);try{const d=bN();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&r){console.log(` [QueryClient]   -     : ${e.join("/")}`);try{const y=e[0].startsWith("/api/")?e[0].substring(5):e[0],m=await qa(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const p={},f=AK();f&&(p.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${a}`,{hasToken:!!f,online:bN()});const h=await fetch(a,{headers:p,credentials:"include",signal:u.signal});if(clearTimeout(l),!h.ok){if(h.status===401&&c===0){console.log(" [QueryClient] 401 -   ...");const m=localStorage.getItem("refreshToken");if(m)try{const x=`${fh.getApiBaseUrl()}/api/auth/refresh`,S=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:m})});if(S.ok){const C=await S.json(),A=C.data?.accessToken||C.accessToken,B=C.data?.refreshToken||C.refreshToken;if(A)return console.log(" [QueryClient]      ..."),localStorage.setItem("accessToken",A),B&&localStorage.setItem("refreshToken",B),o(c+1)}}catch(v){console.error(" [QueryClient]   :",v)}throw console.error(" [QueryClient] Unauthorized (401) -  "),new Error("Authentication Error (401)")}if(h.status===401)throw new Error("Authentication Error (401)");const y=await h.json().catch(()=>({message:`Error ${h.status}`}));throw new Error(y?.message||`Error ${h.status}`)}const g=await h.json();if(console.log(` [QueryClient]    ${e.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${e.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof e[0]=="string"&&e[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${e.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${e.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${e.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${e.join("/")}:`,g),g}catch(d){throw clearTimeout(l),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${e.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${e.join("/")}`,d),d)}}return o()},zu={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},yn=new KH({defaultOptions:{queries:{queryFn:PK({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:!1,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:t=>t},mutations:{retry:1}}}),Vu=xe;async function MK(){console.log(" [Prefetch]     ...");const t=Date.now(),r=[yn.prefetchQuery({queryKey:Vu.projects,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.projectsWithStats,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.workers,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.materials,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.suppliers,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.autocomplete,staleTime:zu.REFERENCE_DATA}),yn.prefetchQuery({queryKey:Vu.notifications,staleTime:zu.ACTIVE_DATA})];try{await Promise.all(r);const e=Date.now()-t;console.log(` [Prefetch]       ${e}ms`)}catch(e){console.warn(" [Prefetch]    :",e)}}function RK(){console.log(" [Cache]    ..."),yn.clear()}const DK=3,IK=5e3;let L1=0;function OK(){return L1=(L1+1)%Number.MAX_SAFE_INTEGER,L1.toString()}const B1=new Map,SN=t=>{if(B1.has(t))return;const r=setTimeout(()=>{B1.delete(t),Qp({type:"REMOVE_TOAST",toastId:t})},IK);B1.set(t,r)},FK=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,DK)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=r;return e?SN(e):t.toasts.forEach(n=>{SN(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(e=>e.id!==r.toastId)}}},xy=[];let vy={toasts:[]};function Qp(t){vy=FK(vy,t),xy.forEach(r=>{r(vy)})}function Ck({...t}){const r=OK(),e=s=>Qp({type:"UPDATE_TOAST",toast:{...s,id:r}}),n=()=>Qp({type:"DISMISS_TOAST",toastId:r});return Qp({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:s=>{s||n()}}}),{id:r,dismiss:n,update:e}}function pn(){const[t,r]=E.useState(vy);return E.useEffect(()=>(xy.push(r),()=>{const e=xy.indexOf(r);e>-1&&xy.splice(e,1)}),[t]),{...t,toast:Ck,dismiss:e=>Qp({type:"DISMISS_TOAST",toastId:e})}}var $d=$7();const LK=hk($d);function ft(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function NN(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function bl(...t){return r=>{let e=!1;const n=t.map(s=>{const a=NN(s,r);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():NN(t[s],null)}}}}function Ar(...t){return E.useCallback(bl(...t),t)}function BK(t,r){const e=E.createContext(r),n=a=>{const{children:o,...c}=a,u=E.useMemo(()=>c,Object.values(c));return i.jsx(e.Provider,{value:u,children:o})};n.displayName=t+"Provider";function s(a){const o=E.useContext(e);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function da(t,r=[]){let e=[];function n(a,o){const c=E.createContext(o),u=e.length;e=[...e,o];const l=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=E.useMemo(()=>g,Object.values(g));return i.jsx(y.Provider,{value:m,children:h})};l.displayName=a+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=E.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[l,d]}const s=()=>{const a=e.map(o=>E.createContext(o));return function(c){const u=c?.[t]||a;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,$K(s,...r)]}function $K(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((c,{useScope:u,scopeName:l})=>{const p=u(a)[`__scope${l}`];return{...c,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return e.scopeName=r.scopeName,e}function CN(t){const r=zK(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(WK);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function zK(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=qK(s),c=UK(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var VK=Symbol("radix.slottable");function WK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VK}function UK(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function qK(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function qb(t){const r=t+"CollectionProvider",[e,n]=da(r),[s,a]=e(r,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:m,children:v}=y,x=Gt.useRef(null),S=Gt.useRef(new Map).current;return i.jsx(s,{scope:m,itemMap:S,collectionRef:x,children:v})};o.displayName=r;const c=t+"CollectionSlot",u=CN(c),l=Gt.forwardRef((y,m)=>{const{scope:v,children:x}=y,S=a(c,v),C=Ar(m,S.collectionRef);return i.jsx(u,{ref:C,children:x})});l.displayName=c;const d=t+"CollectionItemSlot",p="data-radix-collection-item",f=CN(d),h=Gt.forwardRef((y,m)=>{const{scope:v,children:x,...S}=y,C=Gt.useRef(null),A=Ar(m,C),B=a(d,v);return Gt.useEffect(()=>(B.itemMap.set(C,{ref:C,...S}),()=>void B.itemMap.delete(C))),i.jsx(f,{[p]:"",ref:A,children:x})});h.displayName=d;function g(y){const m=a(t+"CollectionConsumer",y);return Gt.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((B,q)=>S.indexOf(B.ref.current)-S.indexOf(q.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,n]}function $1(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function HK(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function xP(...t){return r=>t.forEach(e=>HK(e,r))}function vP(...t){return E.useCallback(xP(...t),t)}var wP=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),a=s.find(GK);if(a){const o=a.props.children,c=s.map(u=>u===a?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return i.jsx(O2,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return i.jsx(O2,{...n,ref:r,children:e})});wP.displayName="Slot";var O2=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=XK(e);return E.cloneElement(e,{...QK(n,e.props),ref:r?xP(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});O2.displayName="SlotClone";var KK=({children:t})=>i.jsx(i.Fragment,{children:t});function GK(t){return E.isValidElement(t)&&t.type===KK}function QK(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function XK(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var YK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_P=YK.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:a,...o}=n,c=a?wP:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function ZK(t,r){t&&$d.flushSync(()=>t.dispatchEvent(r))}function kP(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}function JK(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}function eG(t,r=globalThis?.document){const e=JK(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[e,r])}var tG="DismissableLayer",F2="dismissableLayer.update",rG="dismissableLayer.pointerDownOutside",nG="dismissableLayer.focusOutside",TN,jP=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zd=E.forwardRef((t,r)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...u}=t,l=E.useContext(jP),[d,p]=E.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=E.useState({}),g=vP(r,q=>p(q)),y=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),x=d?y.indexOf(d):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,C=x>=v,A=aG(q=>{const R=q.target,I=[...l.branches].some($=>$.contains(R));!C||I||(s?.(q),o?.(q),q.defaultPrevented||c?.())},f),B=iG(q=>{const R=q.target;[...l.branches].some($=>$.contains(R))||(a?.(q),o?.(q),q.defaultPrevented||c?.())},f);return eG(q=>{x===l.layers.size-1&&(n?.(q),!q.defaultPrevented&&c&&(q.preventDefault(),c()))},f),E.useEffect(()=>{if(d)return e&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(TN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),EN(),()=>{e&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=TN)}},[d,f,e,l]),E.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),EN())},[d,l]),E.useEffect(()=>{const q=()=>h({});return document.addEventListener(F2,q),()=>document.removeEventListener(F2,q)},[]),i.jsx(_P.div,{...u,ref:g,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:$1(t.onFocusCapture,B.onFocusCapture),onBlurCapture:$1(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:$1(t.onPointerDownCapture,A.onPointerDownCapture)})});zd.displayName=tG;var sG="DismissableLayerBranch",SP=E.forwardRef((t,r)=>{const e=E.useContext(jP),n=E.useRef(null),s=vP(r,n);return E.useEffect(()=>{const a=n.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),i.jsx(_P.div,{...t,ref:s})});SP.displayName=sG;function aG(t,r=globalThis?.document){const e=kP(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let u=function(){NP(rG,e,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.current)}},[r,e]),{onPointerDownCapture:()=>n.current=!0}}function iG(t,r=globalThis?.document){const e=kP(t),n=E.useRef(!1);return E.useEffect(()=>{const s=a=>{a.target&&!n.current&&NP(nG,e,{originalEvent:a},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function EN(){const t=new CustomEvent(F2);document.dispatchEvent(t)}function NP(t,r,e,{discrete:n}){const s=e.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?ZK(s,a):s.dispatchEvent(a)}var oG=zd,lG=SP;function cG(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function uG(...t){return r=>t.forEach(e=>cG(e,r))}var CP=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),a=s.find(fG);if(a){const o=a.props.children,c=s.map(u=>u===a?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return i.jsx(L2,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return i.jsx(L2,{...n,ref:r,children:e})});CP.displayName="Slot";var L2=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=pG(e);return E.cloneElement(e,{...hG(n,e.props),ref:r?uG(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});L2.displayName="SlotClone";var dG=({children:t})=>i.jsx(i.Fragment,{children:t});function fG(t){return E.isValidElement(t)&&t.type===dG}function hG(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function pG(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var mG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gG=mG.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:a,...o}=n,c=a?CP:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{}),yG=globalThis?.document?E.useLayoutEffect:()=>{},bG="Portal",Rh=E.forwardRef((t,r)=>{const{container:e,...n}=t,[s,a]=E.useState(!1);yG(()=>a(!0),[]);const o=e||s&&globalThis?.document?.body;return o?LK.createPortal(i.jsx(gG.div,{...n,ref:r}),o):null});Rh.displayName=bG;var Gs=globalThis?.document?E.useLayoutEffect:()=>{};function xG(t,r){return E.useReducer((e,n)=>r[e][n]??e,t)}var ks=t=>{const{present:r,children:e}=t,n=vG(r),s=typeof e=="function"?e({present:n.isPresent}):E.Children.only(e),a=Ar(n.ref,wG(s));return typeof e=="function"||n.isPresent?E.cloneElement(s,{ref:a}):null};ks.displayName="Presence";function vG(t){const[r,e]=E.useState(),n=E.useRef(null),s=E.useRef(t),a=E.useRef("none"),o=t?"mounted":"unmounted",[c,u]=xG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=Hg(n.current);a.current=c==="mounted"?l:"none"},[c]),Gs(()=>{const l=n.current,d=s.current;if(d!==t){const f=a.current,h=Hg(l);t?u("MOUNT"):h==="none"||l?.display==="none"?u("UNMOUNT"):u(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Gs(()=>{if(r){let l;const d=r.ownerDocument.defaultView??window,p=h=>{const y=Hg(n.current).includes(CSS.escape(h.animationName));if(h.target===r&&y&&(u("ANIMATION_END"),!s.current)){const m=r.style.animationFillMode;r.style.animationFillMode="forwards",l=d.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=m)})}},f=h=>{h.target===r&&(a.current=Hg(n.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{d.clearTimeout(l),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(l=>{n.current=l?getComputedStyle(l):null,e(l)},[])}}function Hg(t){return t?.animationName||"none"}function wG(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function _G(t){const r=kG(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(SG);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function kG(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=CG(s),c=NG(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var jG=Symbol("radix.slottable");function SG(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jG}function NG(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function CG(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var TG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=TG.reduce((t,r)=>{const e=_G(`Primitive.${r}`),n=E.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{});function TP(t,r){t&&$d.flushSync(()=>t.dispatchEvent(r))}function xa(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}var EG=zb[" useInsertionEffect ".trim().toString()]||Gs;function no({prop:t,defaultProp:r,onChange:e=()=>{},caller:n}){const[s,a,o]=AG({defaultProp:r,onChange:e}),c=t!==void 0,u=c?t:s;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const p=d.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const l=E.useCallback(d=>{if(c){const p=PG(d)?d(t):d;p!==t&&o.current?.(p)}else a(d)},[c,t,a,o]);return[u,l]}function AG({defaultProp:t,onChange:r}){const[e,n]=E.useState(t),s=E.useRef(e),a=E.useRef(r);return EG(()=>{a.current=r},[r]),E.useEffect(()=>{s.current!==e&&(a.current?.(e),s.current=e)},[e,s]),[e,n,a]}function PG(t){return typeof t=="function"}var MG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RG="VisuallyHidden",Tk=E.forwardRef((t,r)=>i.jsx(Ht.span,{...t,ref:r,style:{...MG,...t.style}}));Tk.displayName=RG;var Ek="ToastProvider",[Ak,DG,IG]=qb("Toast"),[EP]=da("Toast",[IG]),[OG,Hb]=EP(Ek),AP=t=>{const{__scopeToast:r,label:e="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[c,u]=E.useState(null),[l,d]=E.useState(0),p=E.useRef(!1),f=E.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ek}\`. Expected non-empty \`string\`.`),i.jsx(Ak.Provider,{scope:r,children:i.jsx(OG,{scope:r,label:e,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:l,viewport:c,onViewportChange:u,onToastAdd:E.useCallback(()=>d(h=>h+1),[]),onToastRemove:E.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};AP.displayName=Ek;var PP="ToastViewport",FG=["F8"],B2="toast.viewportPause",$2="toast.viewportResume",MP=E.forwardRef((t,r)=>{const{__scopeToast:e,hotkey:n=FG,label:s="Notifications ({hotkey})",...a}=t,o=Hb(PP,e),c=DG(e),u=E.useRef(null),l=E.useRef(null),d=E.useRef(null),p=E.useRef(null),f=Ar(r,p,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;E.useEffect(()=>{const m=v=>{n.length!==0&&n.every(S=>v[S]||v.code===S)&&p.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),E.useEffect(()=>{const m=u.current,v=p.current;if(g&&m&&v){const x=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(B2);v.dispatchEvent(B),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent($2);v.dispatchEvent(B),o.isClosePausedRef.current=!1}},C=B=>{!m.contains(B.relatedTarget)&&S()},A=()=>{m.contains(document.activeElement)||S()};return m.addEventListener("focusin",x),m.addEventListener("focusout",C),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",A),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",C),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",A),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[g,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:m})=>{const x=c().map(S=>{const C=S.ref.current,A=[C,...XG(C)];return m==="forwards"?A:A.reverse()});return(m==="forwards"?x.reverse():x).flat()},[c]);return E.useEffect(()=>{const m=p.current;if(m){const v=x=>{const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const A=document.activeElement,B=x.shiftKey;if(x.target===m&&B){l.current?.focus();return}const I=y({tabbingDirection:B?"backwards":"forwards"}),$=I.findIndex(K=>K===A);z1(I.slice($+1))?x.preventDefault():B?l.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[c,y]),i.jsxs(lG,{ref:u,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(z2,{ref:l,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});z1(m)}}),i.jsx(Ak.Slot,{scope:e,children:i.jsx(Ht.ol,{tabIndex:-1,...a,ref:f})}),g&&i.jsx(z2,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});z1(m)}})]})});MP.displayName=PP;var RP="ToastFocusProxy",z2=E.forwardRef((t,r)=>{const{__scopeToast:e,onFocusFromOutsideViewport:n,...s}=t,a=Hb(RP,e);return i.jsx(Tk,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{const c=o.relatedTarget;!a.viewport?.contains(c)&&n()}})});z2.displayName=RP;var l0="Toast",LG="toast.swipeStart",BG="toast.swipeMove",$G="toast.swipeCancel",zG="toast.swipeEnd",DP=E.forwardRef((t,r)=>{const{forceMount:e,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[c,u]=no({prop:n,defaultProp:s??!0,onChange:a,caller:l0});return i.jsx(ks,{present:e||c,children:i.jsx(UG,{open:c,...o,ref:r,onClose:()=>u(!1),onPause:xa(t.onPause),onResume:xa(t.onResume),onSwipeStart:ft(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(t.onSwipeMove,l=>{const{x:d,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ft(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(t.onSwipeEnd,l=>{const{x:d,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});DP.displayName=l0;var[VG,WG]=EP(l0,{onClose(){}}),UG=E.forwardRef((t,r)=>{const{__scopeToast:e,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:l,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...g}=t,y=Hb(l0,e),[m,v]=E.useState(null),x=Ar(r,L=>v(L)),S=E.useRef(null),C=E.useRef(null),A=s||y.duration,B=E.useRef(0),q=E.useRef(A),R=E.useRef(0),{onToastAdd:I,onToastRemove:$}=y,K=xa(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),o()}),U=E.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),B.current=new Date().getTime(),R.current=window.setTimeout(K,L))},[K]);E.useEffect(()=>{const L=y.viewport;if(L){const T=()=>{U(q.current),l?.()},_=()=>{const k=new Date().getTime()-B.current;q.current=q.current-k,window.clearTimeout(R.current),u?.()};return L.addEventListener(B2,_),L.addEventListener($2,T),()=>{L.removeEventListener(B2,_),L.removeEventListener($2,T)}}},[y.viewport,A,u,l,U]),E.useEffect(()=>{a&&!y.isClosePausedRef.current&&U(A)},[a,A,y.isClosePausedRef,U]),E.useEffect(()=>(I(),()=>$()),[I,$]);const P=E.useMemo(()=>m?zP(m):null,[m]);return y.viewport?i.jsxs(i.Fragment,{children:[P&&i.jsx(qG,{__scopeToast:e,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:P}),i.jsx(VG,{scope:e,onClose:K,children:$d.createPortal(i.jsx(Ak.ItemSlot,{scope:e,children:i.jsx(oG,{asChild:!0,onEscapeKeyDown:ft(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||K(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ht.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ft(t.onKeyDown,L=>{L.key==="Escape"&&(c?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:ft(t.onPointerDown,L=>{L.button===0&&(S.current={x:L.clientX,y:L.clientY})}),onPointerMove:ft(t.onPointerMove,L=>{if(!S.current)return;const T=L.clientX-S.current.x,_=L.clientY-S.current.y,k=!!C.current,j=["left","right"].includes(y.swipeDirection),N=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,D=j?N(0,T):0,O=j?0:N(0,_),z=L.pointerType==="touch"?10:2,Q={x:D,y:O},Y={originalEvent:L,delta:Q};k?(C.current=Q,Kg(BG,p,Y,{discrete:!1})):AN(Q,y.swipeDirection,z)?(C.current=Q,Kg(LG,d,Y,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(T)>z||Math.abs(_)>z)&&(S.current=null)}),onPointerUp:ft(t.onPointerUp,L=>{const T=C.current,_=L.target;if(_.hasPointerCapture(L.pointerId)&&_.releasePointerCapture(L.pointerId),C.current=null,S.current=null,T){const k=L.currentTarget,j={originalEvent:L,delta:T};AN(T,y.swipeDirection,y.swipeThreshold)?Kg(zG,h,j,{discrete:!0}):Kg($G,f,j,{discrete:!0}),k.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),qG=t=>{const{__scopeToast:r,children:e,...n}=t,s=Hb(l0,r),[a,o]=E.useState(!1),[c,u]=E.useState(!1);return GG(()=>o(!0)),E.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),c?null:i.jsx(Rh,{asChild:!0,children:i.jsx(Tk,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",e]})})})},HG="ToastTitle",IP=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return i.jsx(Ht.div,{...n,ref:r})});IP.displayName=HG;var KG="ToastDescription",OP=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return i.jsx(Ht.div,{...n,ref:r})});OP.displayName=KG;var FP="ToastAction",LP=E.forwardRef((t,r)=>{const{altText:e,...n}=t;return e.trim()?i.jsx($P,{altText:e,asChild:!0,children:i.jsx(Pk,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${FP}\`. Expected non-empty \`string\`.`),null)});LP.displayName=FP;var BP="ToastClose",Pk=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t,s=WG(BP,e);return i.jsx($P,{asChild:!0,children:i.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ft(t.onClick,s.onClose)})})});Pk.displayName=BP;var $P=E.forwardRef((t,r)=>{const{__scopeToast:e,altText:n,...s}=t;return i.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})});function zP(t){const r=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&r.push(n.textContent),QG(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...zP(n))}}),r}function Kg(t,r,e,{discrete:n}){const s=e.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?TP(s,a):s.dispatchEvent(a)}var AN=(t,r,e=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return r==="left"||r==="right"?a&&n>e:!a&&s>e};function GG(t=()=>{}){const r=xa(t);Gs(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[r])}function QG(t){return t.nodeType===t.ELEMENT_NODE}function XG(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function z1(t){const r=document.activeElement;return t.some(e=>e===r?!0:(e.focus(),document.activeElement!==r))}var YG=AP,VP=MP,WP=DP,UP=IP,qP=OP,HP=LP,KP=Pk;function GP(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(e=GP(t[r]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function QP(){for(var t,r,e=0,n="",s=arguments.length;e<s;e++)(t=arguments[e])&&(r=GP(t))&&(n&&(n+=" "),n+=r);return n}const PN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,MN=QP,Vd=(t,r)=>e=>{var n;if(r?.variants==null)return MN(t,e?.class,e?.className);const{variants:s,defaultVariants:a}=r,o=Object.keys(s).map(l=>{const d=e?.[l],p=a?.[l];if(d===null)return null;const f=PN(d)||PN(p);return s[l][f]}),c=e&&Object.entries(e).reduce((l,d)=>{let[p,f]=d;return f===void 0||(l[p]=f),l},{}),u=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((l,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...a,...c}[y]):{...a,...c}[y]===m})?[...l,p,f]:l},[]);return MN(t,o,u,e?.class,e?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XP=(...t)=>t.filter((r,e,n)=>!!r&&n.indexOf(r)===e).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=E.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...c},u)=>E.createElement("svg",{ref:u,...JG,width:r,height:r,stroke:t,strokeWidth:n?Number(e)*24/Number(r):e,className:XP("lucide",s),...c},[...o.map(([l,d])=>E.createElement(l,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,r)=>{const e=E.forwardRef(({className:n,...s},a)=>E.createElement(eQ,{ref:a,iconNode:r,className:XP(`lucide-${ZG(t)}`,n),...s}));return e.displayName=`${t}`,e};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=qe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=qe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=qe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=qe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=qe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=qe("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=qe("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=qe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=qe("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=qe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=qe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=qe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=qe("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=qe("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=qe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=qe("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=qe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=qe("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=qe("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=qe("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=qe("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=qe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=qe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=qe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=qe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=qe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=qe("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=qe("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=qe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=qe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=qe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=qe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=qe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=qe("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=qe("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=qe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=qe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=qe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=qe("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=qe("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=qe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=qe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=qe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=qe("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=qe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=qe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Fk="-",zQ=t=>{const r=WQ(t),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const c=o.split(Fk);return c[0]===""&&c.length!==1&&c.shift(),lM(c,r)||VQ(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},lM=(t,r)=>{if(t.length===0)return r.classGroupId;const e=t[0],n=r.nextPart.get(e),s=n?lM(t.slice(1),n):void 0;if(s)return s;if(r.validators.length===0)return;const a=t.join(Fk);return r.validators.find(({validator:o})=>o(a))?.classGroupId},WN=/^\[(.+)\]$/,VQ=t=>{if(WN.test(t)){const r=WN.exec(t)[1],e=r?.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},WQ=t=>{const{theme:r,prefix:e}=t,n={nextPart:new Map,validators:[]};return qQ(Object.entries(t.classGroups),e).forEach(([a,o])=>{H2(o,n,a,r)}),n},H2=(t,r,e,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?r:UN(r,s);a.classGroupId=e;return}if(typeof s=="function"){if(UQ(s)){H2(s(n),r,e,n);return}r.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([a,o])=>{H2(o,UN(r,a),e,n)})})},UN=(t,r)=>{let e=t;return r.split(Fk).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},UQ=t=>t.isThemeGetter,qQ=(t,r)=>r?t.map(([e,n])=>{const s=n.map(a=>typeof a=="string"?r+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[r+o,c])):a);return[e,s]}):t,HQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,n=new Map;const s=(a,o)=>{e.set(a,o),r++,r>t&&(r=0,n=e,e=new Map)};return{get(a){let o=e.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){e.has(a)?e.set(a,o):s(a,o)}}},cM="!",KQ=t=>{const{separator:r,experimentalParseClassName:e}=t,n=r.length===1,s=r[0],a=r.length,o=c=>{const u=[];let l=0,d=0,p;for(let m=0;m<c.length;m++){let v=c[m];if(l===0){if(v===s&&(n||c.slice(m,m+a)===r)){u.push(c.slice(d,m)),d=m+a;continue}if(v==="/"){p=m;continue}}v==="["?l++:v==="]"&&l--}const f=u.length===0?c:c.substring(d),h=f.startsWith(cM),g=h?f.substring(1):f,y=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return e?c=>e({className:c,parseClassName:o}):o},GQ=t=>{if(t.length<=1)return t;const r=[];let e=[];return t.forEach(n=>{n[0]==="["?(r.push(...e.sort(),n),e=[]):e.push(n)}),r.push(...e.sort()),r},QQ=t=>({cache:HQ(t.cacheSize),parseClassName:KQ(t),...zQ(t)}),XQ=/\s+/,YQ=(t,r)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s}=r,a=[],o=t.trim().split(XQ);let c="";for(let u=o.length-1;u>=0;u-=1){const l=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=e(l);let g=!!h,y=n(g?f.substring(0,h):f);if(!y){if(!g){c=l+(c.length>0?" "+c:c);continue}if(y=n(f),!y){c=l+(c.length>0?" "+c:c);continue}g=!1}const m=GQ(d).join(":"),v=p?m+cM:m,x=v+y;if(a.includes(x))continue;a.push(x);const S=s(y,g);for(let C=0;C<S.length;++C){const A=S[C];a.push(v+A)}c=l+(c.length>0?" "+c:c)}return c};function ZQ(){let t=0,r,e,n="";for(;t<arguments.length;)(r=arguments[t++])&&(e=uM(r))&&(n&&(n+=" "),n+=e);return n}const uM=t=>{if(typeof t=="string")return t;let r,e="";for(let n=0;n<t.length;n++)t[n]&&(r=uM(t[n]))&&(e&&(e+=" "),e+=r);return e};function JQ(t,...r){let e,n,s,a=o;function o(u){const l=r.reduce((d,p)=>p(d),t());return e=QQ(l),n=e.cache.get,s=e.cache.set,a=c,c(u)}function c(u){const l=n(u);if(l)return l;const d=YQ(u,e);return s(u,d),d}return function(){return a(ZQ.apply(null,arguments))}}const Pn=t=>{const r=e=>e[t]||[];return r.isThemeGetter=!0,r},dM=/^\[(?:([a-z-]+):)?(.+)\]$/i,eX=/^\d+\/\d+$/,tX=new Set(["px","full","screen"]),rX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=t=>qf(t)||tX.has(t)||eX.test(t),Tc=t=>Dh(t,"length",pX),qf=t=>!!t&&!Number.isNaN(Number(t)),W1=t=>Dh(t,"number",qf),Tp=t=>!!t&&Number.isInteger(Number(t)),oX=t=>t.endsWith("%")&&qf(t.slice(0,-1)),Or=t=>dM.test(t),Ec=t=>rX.test(t),lX=new Set(["length","size","percentage"]),cX=t=>Dh(t,lX,fM),uX=t=>Dh(t,"position",fM),dX=new Set(["image","url"]),fX=t=>Dh(t,dX,gX),hX=t=>Dh(t,"",mX),Ep=()=>!0,Dh=(t,r,e)=>{const n=dM.exec(t);return n?n[1]?typeof r=="string"?n[1]===r:r.has(n[1]):e(n[2]):!1},pX=t=>nX.test(t)&&!sX.test(t),fM=()=>!1,mX=t=>aX.test(t),gX=t=>iX.test(t),yX=()=>{const t=Pn("colors"),r=Pn("spacing"),e=Pn("blur"),n=Pn("brightness"),s=Pn("borderColor"),a=Pn("borderRadius"),o=Pn("borderSpacing"),c=Pn("borderWidth"),u=Pn("contrast"),l=Pn("grayscale"),d=Pn("hueRotate"),p=Pn("invert"),f=Pn("gap"),h=Pn("gradientColorStops"),g=Pn("gradientColorStopPositions"),y=Pn("inset"),m=Pn("margin"),v=Pn("opacity"),x=Pn("padding"),S=Pn("saturate"),C=Pn("scale"),A=Pn("sepia"),B=Pn("skew"),q=Pn("space"),R=Pn("translate"),I=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Or,r],U=()=>[Or,r],P=()=>["",El,Tc],L=()=>["auto",qf,Or],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Or],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[qf,Or];return{cacheSize:500,separator:":",theme:{colors:[Ep],spacing:[El,Tc],blur:["none","",Ec,Or],brightness:O(),borderColor:[t],borderRadius:["none","","full",Ec,Or],borderSpacing:U(),borderWidth:P(),contrast:O(),grayscale:N(),hueRotate:O(),invert:N(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[oX,Tc],inset:K(),margin:K(),opacity:O(),padding:U(),saturate:O(),scale:O(),sepia:N(),skew:O(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Or]}],container:["container"],columns:[{columns:[Ec]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Or]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tp,Or]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Or]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Tp,Or]}],"grid-cols":[{"grid-cols":[Ep]}],"col-start-end":[{col:["auto",{span:["full",Tp,Or]},Or]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ep]}],"row-start-end":[{row:["auto",{span:[Tp,Or]},Or]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Or]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Or,r]}],"min-w":[{"min-w":[Or,r,"min","max","fit"]}],"max-w":[{"max-w":[Or,r,"none","full","min","max","fit","prose",{screen:[Ec]},Ec]}],h:[{h:[Or,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Or,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Or,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Or,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Ec,Tc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",W1]}],"font-family":[{font:[Ep]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Or]}],"line-clamp":[{"line-clamp":["none",qf,W1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",El,Or]}],"list-image":[{"list-image":["none",Or]}],"list-style-type":[{list:["none","disc","decimal",Or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",El,Tc]}],"underline-offset":[{"underline-offset":["auto",El,Or]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),uX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[El,Or]}],"outline-w":[{outline:[El,Tc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[El,Tc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ec,hX]}],"shadow-color":[{shadow:[Ep]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ec,Or]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Or]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Or]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Tp,Or]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Or]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Or]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Or]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[El,Tc,W1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bX=JQ(yX);function Ee(...t){return bX(QP(t))}const Je=t=>{if(t==null)return"0 .";let r;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/))return"0 .";const e=t.replace(/[^\d.-]/g,"");r=parseFloat(e)}else r=t;return isNaN(r)||!isFinite(r)?"0 .":Math.abs(r)>1e11?(console.warn("    :",r),"0 ."):`${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},Ts=t=>{if(t==null)return 0;if(typeof t=="number")return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?0:t;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/)||t.match(/^(\d)\1{5,}$/))return 0;const r=t.replace(/[^\d.-]/g,""),e=parseFloat(r);return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e}return 0},qo=t=>{const r=typeof t=="string"?new Date(t):t;return isNaN(r.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(r).replace(/[-]/g,n=>"0123456789"["".indexOf(n)])},qN=t=>{const r=typeof t=="string"?new Date(t):t;if(isNaN(r.getTime()))return"";const e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${s}`};function ia(){return new Date().toISOString().split("T")[0]}const xX=YG,hM=E.forwardRef(({className:t,...r},e)=>i.jsx(VP,{ref:e,className:Ee("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",t),...r}));hM.displayName=VP.displayName;const vX=Vd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),pM=E.forwardRef(({className:t,variant:r,...e},n)=>i.jsx(WP,{ref:n,className:Ee(vX({variant:r}),t),...e}));pM.displayName=WP.displayName;const wX=E.forwardRef(({className:t,...r},e)=>i.jsx(HP,{ref:e,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",t),...r}));wX.displayName=HP.displayName;const mM=E.forwardRef(({className:t,...r},e)=>i.jsx(KP,{ref:e,className:Ee("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:i.jsx(Rs,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));mM.displayName=KP.displayName;const gM=E.forwardRef(({className:t,...r},e)=>i.jsx(UP,{ref:e,className:Ee("text-sm font-bold tracking-wide",t),...r}));gM.displayName=UP.displayName;const yM=E.forwardRef(({className:t,...r},e)=>i.jsx(qP,{ref:e,className:Ee("text-sm opacity-90 leading-relaxed",t),...r}));yM.displayName=qP.displayName;function _X(){const{toasts:t}=pn();return i.jsxs(xX,{children:[t.map(function({id:r,title:e,description:n,action:s,...a}){return i.jsxs(pM,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[e&&i.jsx(gM,{children:e}),n&&i.jsx(yM,{children:n})]}),s,i.jsx(mM,{})]},r)}),i.jsx(hM,{})]})}var kX=zb[" useId ".trim().toString()]||(()=>{}),jX=0;function Ni(t){const[r,e]=E.useState(kX());return Gs(()=>{e(n=>n??String(jX++))},[t]),r?`radix-${r}`:""}const SX=["top","right","bottom","left"],cu=Math.min,vi=Math.max,Gy=Math.round,Gg=Math.floor,sl=t=>({x:t,y:t}),NX={left:"right",right:"left",bottom:"top",top:"bottom"},CX={start:"end",end:"start"};function K2(t,r,e){return vi(t,cu(r,e))}function ec(t,r){return typeof t=="function"?t(r):t}function tc(t){return t.split("-")[0]}function Ih(t){return t.split("-")[1]}function Lk(t){return t==="x"?"y":"x"}function Bk(t){return t==="y"?"height":"width"}const TX=new Set(["top","bottom"]);function el(t){return TX.has(tc(t))?"y":"x"}function $k(t){return Lk(el(t))}function EX(t,r,e){e===void 0&&(e=!1);const n=Ih(t),s=$k(t),a=Bk(s);let o=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[a]>r.floating[a]&&(o=Qy(o)),[o,Qy(o)]}function AX(t){const r=Qy(t);return[G2(t),r,G2(r)]}function G2(t){return t.replace(/start|end/g,r=>CX[r])}const HN=["left","right"],KN=["right","left"],PX=["top","bottom"],MX=["bottom","top"];function RX(t,r,e){switch(t){case"top":case"bottom":return e?r?KN:HN:r?HN:KN;case"left":case"right":return r?PX:MX;default:return[]}}function DX(t,r,e,n){const s=Ih(t);let a=RX(tc(t),e==="start",n);return s&&(a=a.map(o=>o+"-"+s),r&&(a=a.concat(a.map(G2)))),a}function Qy(t){return t.replace(/left|right|bottom|top/g,r=>NX[r])}function IX(t){return{top:0,right:0,bottom:0,left:0,...t}}function bM(t){return typeof t!="number"?IX(t):{top:t,right:t,bottom:t,left:t}}function Xy(t){const{x:r,y:e,width:n,height:s}=t;return{width:n,height:s,top:e,left:r,right:r+n,bottom:e+s,x:r,y:e}}function GN(t,r,e){let{reference:n,floating:s}=t;const a=el(r),o=$k(r),c=Bk(o),u=tc(r),l=a==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,f=n[c]/2-s[c]/2;let h;switch(u){case"top":h={x:d,y:n.y-s.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:p};break;case"left":h={x:n.x-s.width,y:p};break;default:h={x:n.x,y:n.y}}switch(Ih(r)){case"start":h[o]-=f*(e&&l?-1:1);break;case"end":h[o]+=f*(e&&l?-1:1);break}return h}const OX=async(t,r,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=e,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let l=await o.getElementRects({reference:t,floating:r,strategy:s}),{x:d,y:p}=GN(l,n,u),f=n,h={},g=0;for(let y=0;y<c.length;y++){const{name:m,fn:v}=c[y],{x,y:S,data:C,reset:A}=await v({x:d,y:p,initialPlacement:n,placement:f,strategy:s,middlewareData:h,rects:l,platform:o,elements:{reference:t,floating:r}});d=x??d,p=S??p,h={...h,[m]:{...h[m],...C}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(l=A.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:s}):A.rects),{x:d,y:p}=GN(l,f,u)),y=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:h}};async function hm(t,r){var e;r===void 0&&(r={});const{x:n,y:s,platform:a,rects:o,elements:c,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=ec(r,t),g=bM(h),m=c[f?p==="floating"?"reference":"floating":p],v=Xy(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(m)))==null||e?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:l,rootBoundary:d,strategy:u})),x=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),C=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Xy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:S,strategy:u}):x);return{top:(v.top-A.top+g.top)/C.y,bottom:(A.bottom-v.bottom+g.bottom)/C.y,left:(v.left-A.left+g.left)/C.x,right:(A.right-v.right+g.right)/C.x}}const FX=t=>({name:"arrow",options:t,async fn(r){const{x:e,y:n,placement:s,rects:a,platform:o,elements:c,middlewareData:u}=r,{element:l,padding:d=0}=ec(t,r)||{};if(l==null)return{};const p=bM(d),f={x:e,y:n},h=$k(s),g=Bk(h),y=await o.getDimensions(l),m=h==="y",v=m?"top":"left",x=m?"bottom":"right",S=m?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[h]-f[h]-a.floating[g],A=f[h]-a.reference[h],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let q=B?B[S]:0;(!q||!await(o.isElement==null?void 0:o.isElement(B)))&&(q=c.floating[S]||a.floating[g]);const R=C/2-A/2,I=q/2-y[g]/2-1,$=cu(p[v],I),K=cu(p[x],I),U=$,P=q-y[g]-K,L=q/2-y[g]/2+R,T=K2(U,L,P),_=!u.arrow&&Ih(s)!=null&&L!==T&&a.reference[g]/2-(L<U?$:K)-y[g]/2<0,k=_?L<U?L-U:L-P:0;return{[h]:f[h]+k,data:{[h]:T,centerOffset:L-T-k,..._&&{alignmentOffset:k}},reset:_}}}),LX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var e,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:l}=r,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=ec(t,r);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const v=tc(s),x=el(c),S=tc(c)===c,C=await(u.isRTL==null?void 0:u.isRTL(l.floating)),A=f||(S||!y?[Qy(c)]:AX(c)),B=g!=="none";!f&&B&&A.push(...DX(c,y,g,C));const q=[c,...A],R=await hm(r,m),I=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(R[v]),p){const L=EX(s,o,C);I.push(R[L[0]],R[L[1]])}if($=[...$,{placement:s,overflows:I}],!I.every(L=>L<=0)){var K,U;const L=(((K=a.flip)==null?void 0:K.index)||0)+1,T=q[L];if(T&&(!(p==="alignment"?x!==el(T):!1)||$.every(j=>el(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:L,overflows:$},reset:{placement:T}};let _=(U=$.filter(k=>k.overflows[0]<=0).sort((k,j)=>k.overflows[1]-j.overflows[1])[0])==null?void 0:U.placement;if(!_)switch(h){case"bestFit":{var P;const k=(P=$.filter(j=>{if(B){const N=el(j.placement);return N===x||N==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(N=>N>0).reduce((N,D)=>N+D,0)]).sort((j,N)=>j[1]-N[1])[0])==null?void 0:P[0];k&&(_=k);break}case"initialPlacement":_=c;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function QN(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function XN(t){return SX.some(r=>t[r]>=0)}const BX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:e}=r,{strategy:n="referenceHidden",...s}=ec(t,r);switch(n){case"referenceHidden":{const a=await hm(r,{...s,elementContext:"reference"}),o=QN(a,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XN(o)}}}case"escaped":{const a=await hm(r,{...s,altBoundary:!0}),o=QN(a,e.floating);return{data:{escapedOffsets:o,escaped:XN(o)}}}default:return{}}}}},xM=new Set(["left","top"]);async function $X(t,r){const{placement:e,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=tc(e),c=Ih(e),u=el(e)==="y",l=xM.has(o)?-1:1,d=a&&u?-1:1,p=ec(r,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof g=="number"&&(h=c==="end"?g*-1:g),u?{x:h*d,y:f*l}:{x:f*l,y:h*d}}const zX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var e,n;const{x:s,y:a,placement:o,middlewareData:c}=r,u=await $X(r,t);return o===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:{...u,placement:o}}}}},VX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:e,y:n,placement:s}=r,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:m=>{let{x:v,y:x}=m;return{x:v,y:x}}},...u}=ec(t,r),l={x:e,y:n},d=await hm(r,u),p=el(tc(s)),f=Lk(p);let h=l[f],g=l[p];if(a){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=h+d[m],S=h-d[v];h=K2(x,h,S)}if(o){const m=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=g+d[m],S=g-d[v];g=K2(x,g,S)}const y=c.fn({...r,[f]:h,[p]:g});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[f]:a,[p]:o}}}}}},WX=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:e,y:n,placement:s,rects:a,middlewareData:o}=r,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=ec(t,r),d={x:e,y:n},p=el(s),f=Lk(p);let h=d[f],g=d[p];const y=ec(c,r),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const S=f==="y"?"height":"width",C=a.reference[f]-a.floating[S]+m.mainAxis,A=a.reference[f]+a.reference[S]-m.mainAxis;h<C?h=C:h>A&&(h=A)}if(l){var v,x;const S=f==="y"?"width":"height",C=xM.has(tc(s)),A=a.reference[p]-a.floating[S]+(C&&((v=o.offset)==null?void 0:v[p])||0)+(C?0:m.crossAxis),B=a.reference[p]+a.reference[S]+(C?0:((x=o.offset)==null?void 0:x[p])||0)-(C?m.crossAxis:0);g<A?g=A:g>B&&(g=B)}return{[f]:h,[p]:g}}}},UX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var e,n;const{placement:s,rects:a,platform:o,elements:c}=r,{apply:u=()=>{},...l}=ec(t,r),d=await hm(r,l),p=tc(s),f=Ih(s),h=el(s)==="y",{width:g,height:y}=a.floating;let m,v;p==="top"||p==="bottom"?(m=p,v=f===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,S=g-d.left-d.right,C=cu(y-d[m],x),A=cu(g-d[v],S),B=!r.middlewareData.shift;let q=C,R=A;if((e=r.middlewareData.shift)!=null&&e.enabled.x&&(R=S),(n=r.middlewareData.shift)!=null&&n.enabled.y&&(q=x),B&&!f){const $=vi(d.left,0),K=vi(d.right,0),U=vi(d.top,0),P=vi(d.bottom,0);h?R=g-2*($!==0||K!==0?$+K:vi(d.left,d.right)):q=y-2*(U!==0||P!==0?U+P:vi(d.top,d.bottom))}await u({...r,availableWidth:R,availableHeight:q});const I=await o.getDimensions(c.floating);return g!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Kb(){return typeof window<"u"}function Oh(t){return vM(t)?(t.nodeName||"").toLowerCase():"#document"}function Ci(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function xl(t){var r;return(r=(vM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function vM(t){return Kb()?t instanceof Node||t instanceof Ci(t).Node:!1}function Eo(t){return Kb()?t instanceof Element||t instanceof Ci(t).Element:!1}function pl(t){return Kb()?t instanceof HTMLElement||t instanceof Ci(t).HTMLElement:!1}function YN(t){return!Kb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ci(t).ShadowRoot}const qX=new Set(["inline","contents"]);function f0(t){const{overflow:r,overflowX:e,overflowY:n,display:s}=Ao(t);return/auto|scroll|overlay|hidden|clip/.test(r+n+e)&&!qX.has(s)}const HX=new Set(["table","td","th"]);function KX(t){return HX.has(Oh(t))}const GX=[":popover-open",":modal"];function Gb(t){return GX.some(r=>{try{return t.matches(r)}catch{return!1}})}const QX=["transform","translate","scale","rotate","perspective"],XX=["transform","translate","scale","rotate","perspective","filter"],YX=["paint","layout","strict","content"];function zk(t){const r=Vk(),e=Eo(t)?Ao(t):t;return QX.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!r&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!r&&(e.filter?e.filter!=="none":!1)||XX.some(n=>(e.willChange||"").includes(n))||YX.some(n=>(e.contain||"").includes(n))}function ZX(t){let r=uu(t);for(;pl(r)&&!ph(r);){if(zk(r))return r;if(Gb(r))return null;r=uu(r)}return null}function Vk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JX=new Set(["html","body","#document"]);function ph(t){return JX.has(Oh(t))}function Ao(t){return Ci(t).getComputedStyle(t)}function Qb(t){return Eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uu(t){if(Oh(t)==="html")return t;const r=t.assignedSlot||t.parentNode||YN(t)&&t.host||xl(t);return YN(r)?r.host:r}function wM(t){const r=uu(t);return ph(r)?t.ownerDocument?t.ownerDocument.body:t.body:pl(r)&&f0(r)?r:wM(r)}function pm(t,r,e){var n;r===void 0&&(r=[]),e===void 0&&(e=!0);const s=wM(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ci(s);if(a){const c=Q2(o);return r.concat(o,o.visualViewport||[],f0(s)?s:[],c&&e?pm(c):[])}return r.concat(s,pm(s,[],e))}function Q2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _M(t){const r=Ao(t);let e=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const s=pl(t),a=s?t.offsetWidth:e,o=s?t.offsetHeight:n,c=Gy(e)!==a||Gy(n)!==o;return c&&(e=a,n=o),{width:e,height:n,$:c}}function Wk(t){return Eo(t)?t:t.contextElement}function Hf(t){const r=Wk(t);if(!pl(r))return sl(1);const e=r.getBoundingClientRect(),{width:n,height:s,$:a}=_M(r);let o=(a?Gy(e.width):e.width)/n,c=(a?Gy(e.height):e.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const eY=sl(0);function kM(t){const r=Ci(t);return!Vk()||!r.visualViewport?eY:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function tY(t,r,e){return r===void 0&&(r=!1),!e||r&&e!==Ci(t)?!1:r}function jd(t,r,e,n){r===void 0&&(r=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect(),a=Wk(t);let o=sl(1);r&&(n?Eo(n)&&(o=Hf(n)):o=Hf(t));const c=tY(a,e,n)?kM(a):sl(0);let u=(s.left+c.x)/o.x,l=(s.top+c.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(a){const f=Ci(a),h=n&&Eo(n)?Ci(n):n;let g=f,y=Q2(g);for(;y&&n&&h!==g;){const m=Hf(y),v=y.getBoundingClientRect(),x=Ao(y),S=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,C=v.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;u*=m.x,l*=m.y,d*=m.x,p*=m.y,u+=S,l+=C,g=Ci(y),y=Q2(g)}}return Xy({width:d,height:p,x:u,y:l})}function Xb(t,r){const e=Qb(t).scrollLeft;return r?r.left+e:jd(xl(t)).left+e}function jM(t,r){const e=t.getBoundingClientRect(),n=e.left+r.scrollLeft-Xb(t,e),s=e.top+r.scrollTop;return{x:n,y:s}}function rY(t){let{elements:r,rect:e,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=xl(n),c=r?Gb(r.floating):!1;if(n===o||c&&a)return e;let u={scrollLeft:0,scrollTop:0},l=sl(1);const d=sl(0),p=pl(n);if((p||!p&&!a)&&((Oh(n)!=="body"||f0(o))&&(u=Qb(n)),pl(n))){const h=jd(n);l=Hf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const f=o&&!p&&!a?jM(o,u):sl(0);return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-u.scrollLeft*l.x+d.x+f.x,y:e.y*l.y-u.scrollTop*l.y+d.y+f.y}}function nY(t){return Array.from(t.getClientRects())}function sY(t){const r=xl(t),e=Qb(t),n=t.ownerDocument.body,s=vi(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),a=vi(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+Xb(t);const c=-e.scrollTop;return Ao(n).direction==="rtl"&&(o+=vi(r.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:c}}const ZN=25;function aY(t,r){const e=Ci(t),n=xl(t),s=e.visualViewport;let a=n.clientWidth,o=n.clientHeight,c=0,u=0;if(s){a=s.width,o=s.height;const d=Vk();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const l=Xb(n);if(l<=0){const d=n.ownerDocument,p=d.body,f=getComputedStyle(p),h=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-p.clientWidth-h);g<=ZN&&(a-=g)}else l<=ZN&&(a+=l);return{width:a,height:o,x:c,y:u}}const iY=new Set(["absolute","fixed"]);function oY(t,r){const e=jd(t,!0,r==="fixed"),n=e.top+t.clientTop,s=e.left+t.clientLeft,a=pl(t)?Hf(t):sl(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,u=s*a.x,l=n*a.y;return{width:o,height:c,x:u,y:l}}function JN(t,r,e){let n;if(r==="viewport")n=aY(t,e);else if(r==="document")n=sY(xl(t));else if(Eo(r))n=oY(r,e);else{const s=kM(t);n={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Xy(n)}function SM(t,r){const e=uu(t);return e===r||!Eo(e)||ph(e)?!1:Ao(e).position==="fixed"||SM(e,r)}function lY(t,r){const e=r.get(t);if(e)return e;let n=pm(t,[],!1).filter(c=>Eo(c)&&Oh(c)!=="body"),s=null;const a=Ao(t).position==="fixed";let o=a?uu(t):t;for(;Eo(o)&&!ph(o);){const c=Ao(o),u=zk(o);!u&&c.position==="fixed"&&(s=null),(a?!u&&!s:!u&&c.position==="static"&&!!s&&iY.has(s.position)||f0(o)&&!u&&SM(t,o))?n=n.filter(d=>d!==o):s=c,o=uu(o)}return r.set(t,n),n}function cY(t){let{element:r,boundary:e,rootBoundary:n,strategy:s}=t;const o=[...e==="clippingAncestors"?Gb(r)?[]:lY(r,this._c):[].concat(e),n],c=o[0],u=o.reduce((l,d)=>{const p=JN(r,d,s);return l.top=vi(p.top,l.top),l.right=cu(p.right,l.right),l.bottom=cu(p.bottom,l.bottom),l.left=vi(p.left,l.left),l},JN(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function uY(t){const{width:r,height:e}=_M(t);return{width:r,height:e}}function dY(t,r,e){const n=pl(r),s=xl(r),a=e==="fixed",o=jd(t,!0,a,r);let c={scrollLeft:0,scrollTop:0};const u=sl(0);function l(){u.x=Xb(s)}if(n||!n&&!a)if((Oh(r)!=="body"||f0(s))&&(c=Qb(r)),n){const h=jd(r,!0,a,r);u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}else s&&l();a&&!n&&s&&l();const d=s&&!n&&!a?jM(s,c):sl(0),p=o.left+c.scrollLeft-u.x-d.x,f=o.top+c.scrollTop-u.y-d.y;return{x:p,y:f,width:o.width,height:o.height}}function U1(t){return Ao(t).position==="static"}function e6(t,r){if(!pl(t)||Ao(t).position==="fixed")return null;if(r)return r(t);let e=t.offsetParent;return xl(t)===e&&(e=e.ownerDocument.body),e}function NM(t,r){const e=Ci(t);if(Gb(t))return e;if(!pl(t)){let s=uu(t);for(;s&&!ph(s);){if(Eo(s)&&!U1(s))return s;s=uu(s)}return e}let n=e6(t,r);for(;n&&KX(n)&&U1(n);)n=e6(n,r);return n&&ph(n)&&U1(n)&&!zk(n)?e:n||ZX(t)||e}const fY=async function(t){const r=this.getOffsetParent||NM,e=this.getDimensions,n=await e(t.floating);return{reference:dY(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hY(t){return Ao(t).direction==="rtl"}const pY={convertOffsetParentRelativeRectToViewportRelativeRect:rY,getDocumentElement:xl,getClippingRect:cY,getOffsetParent:NM,getElementRects:fY,getClientRects:nY,getDimensions:uY,getScale:Hf,isElement:Eo,isRTL:hY};function CM(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function mY(t,r){let e=null,n;const s=xl(t);function a(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const l=t.getBoundingClientRect(),{left:d,top:p,width:f,height:h}=l;if(c||r(),!f||!h)return;const g=Gg(p),y=Gg(s.clientWidth-(d+f)),m=Gg(s.clientHeight-(p+h)),v=Gg(d),S={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:vi(0,cu(1,u))||1};let C=!0;function A(B){const q=B[0].intersectionRatio;if(q!==u){if(!C)return o();q?o(!1,q):n=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!CM(l,t.getBoundingClientRect())&&o(),C=!1}try{e=new IntersectionObserver(A,{...S,root:s.ownerDocument})}catch{e=new IntersectionObserver(A,S)}e.observe(t)}return o(!0),a}function gY(t,r,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=Wk(t),d=s||a?[...l?pm(l):[],...pm(r)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),a&&v.addEventListener("resize",e)});const p=l&&c?mY(l,e):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===l&&h&&(h.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(r)})),e()}),l&&!u&&h.observe(l),h.observe(r));let g,y=u?jd(t):null;u&&m();function m(){const v=jd(t);y&&!CM(y,v)&&e(),y=v,g=requestAnimationFrame(m)}return e(),()=>{var v;d.forEach(x=>{s&&x.removeEventListener("scroll",e),a&&x.removeEventListener("resize",e)}),p?.(),(v=h)==null||v.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const yY=zX,bY=VX,xY=LX,vY=UX,wY=BX,t6=FX,_Y=WX,kY=(t,r,e)=>{const n=new Map,s={platform:pY,...e},a={...s.platform,_c:n};return OX(t,r,{...s,platform:a})};var jY=typeof document<"u",SY=function(){},_y=jY?E.useLayoutEffect:SY;function Yy(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let e,n,s;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!Yy(t[n],r[n]))return!1;return!0}if(s=Object.keys(t),e=s.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(r,s[n]))return!1;for(n=e;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Yy(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}function TM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function r6(t,r){const e=TM(t);return Math.round(r*e)/e}function q1(t){const r=E.useRef(t);return _y(()=>{r.current=t}),r}function NY(t){t===void 0&&(t={});const{placement:r="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:l}=t,[d,p]=E.useState({x:0,y:0,strategy:e,placement:r,middlewareData:{},isPositioned:!1}),[f,h]=E.useState(n);Yy(f,n)||h(n);const[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useCallback(j=>{j!==B.current&&(B.current=j,y(j))},[]),S=E.useCallback(j=>{j!==q.current&&(q.current=j,v(j))},[]),C=a||g,A=o||m,B=E.useRef(null),q=E.useRef(null),R=E.useRef(d),I=u!=null,$=q1(u),K=q1(s),U=q1(l),P=E.useCallback(()=>{if(!B.current||!q.current)return;const j={placement:r,strategy:e,middleware:f};K.current&&(j.platform=K.current),kY(B.current,q.current,j).then(N=>{const D={...N,isPositioned:U.current!==!1};L.current&&!Yy(R.current,D)&&(R.current=D,$d.flushSync(()=>{p(D)}))})},[f,r,e,K,U]);_y(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[l]);const L=E.useRef(!1);_y(()=>(L.current=!0,()=>{L.current=!1}),[]),_y(()=>{if(C&&(B.current=C),A&&(q.current=A),C&&A){if($.current)return $.current(C,A,P);P()}},[C,A,P,$,I]);const T=E.useMemo(()=>({reference:B,floating:q,setReference:x,setFloating:S}),[x,S]),_=E.useMemo(()=>({reference:C,floating:A}),[C,A]),k=E.useMemo(()=>{const j={position:e,left:0,top:0};if(!_.floating)return j;const N=r6(_.floating,d.x),D=r6(_.floating,d.y);return c?{...j,transform:"translate("+N+"px, "+D+"px)",...TM(_.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:N,top:D}},[e,c,_.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:P,refs:T,elements:_,floatingStyles:k}),[d,P,T,_,k])}const CY=t=>{function r(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:s}=typeof t=="function"?t(e):t;return n&&r(n)?n.current!=null?t6({element:n.current,padding:s}).fn(e):{}:n?t6({element:n,padding:s}).fn(e):{}}}},TY=(t,r)=>({...yY(t),options:[t,r]}),EY=(t,r)=>({...bY(t),options:[t,r]}),AY=(t,r)=>({..._Y(t),options:[t,r]}),PY=(t,r)=>({...xY(t),options:[t,r]}),MY=(t,r)=>({...vY(t),options:[t,r]}),RY=(t,r)=>({...wY(t),options:[t,r]}),DY=(t,r)=>({...CY(t),options:[t,r]});var IY="Arrow",EM=E.forwardRef((t,r)=>{const{children:e,width:n=10,height:s=5,...a}=t;return i.jsx(Ht.svg,{...a,ref:r,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?e:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});EM.displayName=IY;var OY=EM;function Uk(t){const[r,e]=E.useState(void 0);return Gs(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,c;if("borderBoxSize"in a){const u=a.borderBoxSize,l=Array.isArray(u)?u[0]:u;o=l.inlineSize,c=l.blockSize}else o=t.offsetWidth,c=t.offsetHeight;e({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else e(void 0)},[t]),r}var qk="Popper",[AM,wu]=da(qk),[FY,PM]=AM(qk),MM=t=>{const{__scopePopper:r,children:e}=t,[n,s]=E.useState(null);return i.jsx(FY,{scope:r,anchor:n,onAnchorChange:s,children:e})};MM.displayName=qk;var RM="PopperAnchor",DM=E.forwardRef((t,r)=>{const{__scopePopper:e,virtualRef:n,...s}=t,a=PM(RM,e),o=E.useRef(null),c=Ar(r,o),u=E.useRef(null);return E.useEffect(()=>{const l=u.current;u.current=n?.current||o.current,l!==u.current&&a.onAnchorChange(u.current)}),n?null:i.jsx(Ht.div,{...s,ref:c})});DM.displayName=RM;var Hk="PopperContent",[LY,BY]=AM(Hk),IM=E.forwardRef((t,r)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=t,m=PM(Hk,e),[v,x]=E.useState(null),S=Ar(r,Z=>x(Z)),[C,A]=E.useState(null),B=Uk(C),q=B?.width??0,R=B?.height??0,I=n+(a!=="center"?"-"+a:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(l)?l:[l],U=K.length>0,P={padding:$,boundary:K.filter(zY),altBoundary:U},{refs:L,floatingStyles:T,placement:_,isPositioned:k,middlewareData:j}=NY({strategy:"fixed",placement:I,whileElementsMounted:(...Z)=>gY(...Z,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[TY({mainAxis:s+R,alignmentAxis:o}),u&&EY({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?AY():void 0,...P}),u&&PY({...P}),MY({...P,apply:({elements:Z,rects:W,availableWidth:V,availableHeight:G})=>{const{width:ae,height:pe}=W.reference,ce=Z.floating.style;ce.setProperty("--radix-popper-available-width",`${V}px`),ce.setProperty("--radix-popper-available-height",`${G}px`),ce.setProperty("--radix-popper-anchor-width",`${ae}px`),ce.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),C&&DY({element:C,padding:c}),VY({arrowWidth:q,arrowHeight:R}),f&&RY({strategy:"referenceHidden",...P})]}),[N,D]=LM(_),O=xa(g);Gs(()=>{k&&O?.()},[k,O]);const z=j.arrow?.x,Q=j.arrow?.y,Y=j.arrow?.centerOffset!==0,[re,F]=E.useState();return Gs(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:k?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(LY,{scope:e,placedSide:N,onArrowChange:A,arrowX:z,arrowY:Q,shouldHideArrow:Y,children:i.jsx(Ht.div,{"data-side":N,"data-align":D,...y,ref:S,style:{...y.style,animation:k?void 0:"none"}})})})});IM.displayName=Hk;var OM="PopperArrow",$Y={top:"bottom",right:"left",bottom:"top",left:"right"},FM=E.forwardRef(function(r,e){const{__scopePopper:n,...s}=r,a=BY(OM,n),o=$Y[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(OY,{...s,ref:e,style:{...s.style,display:"block"}})})});FM.displayName=OM;function zY(t){return t!==null}var VY=t=>({name:"transformOrigin",options:t,fn(r){const{placement:e,rects:n,middlewareData:s}=r,o=s.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[l,d]=LM(e),p={start:"0%",center:"50%",end:"100%"}[d],f=(s.arrow?.x??0)+c/2,h=(s.arrow?.y??0)+u/2;let g="",y="";return l==="bottom"?(g=o?p:`${f}px`,y=`${-u}px`):l==="top"?(g=o?p:`${f}px`,y=`${n.floating.height+u}px`):l==="right"?(g=`${-u}px`,y=o?p:`${h}px`):l==="left"&&(g=`${n.floating.width+u}px`,y=o?p:`${h}px`),{data:{x:g,y}}}});function LM(t){const[r,e="center"]=t.split("-");return[r,e]}var Yb=MM,h0=DM,Zb=IM,Jb=FM,WY=Symbol("radix.slottable");function UY(t){const r=({children:e})=>i.jsx(i.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=WY,r}var qY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HY="VisuallyHidden",BM=E.forwardRef((t,r)=>i.jsx(Ht.span,{...t,ref:r,style:{...qY,...t.style}}));BM.displayName=HY;var KY=BM,[ex]=da("Tooltip",[wu]),tx=wu(),$M="TooltipProvider",GY=700,X2="tooltip.open",[QY,Kk]=ex($M),zM=t=>{const{__scopeTooltip:r,delayDuration:e=GY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=E.useRef(!0),c=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),i.jsx(QY,{scope:r,isOpenDelayedRef:o,delayDuration:e,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(l=>{c.current=l},[]),disableHoverableContent:s,children:a})};zM.displayName=$M;var mm="Tooltip",[XY,rx]=ex(mm),VM=t=>{const{__scopeTooltip:r,children:e,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=t,u=Kk(mm,t.__scopeTooltip),l=tx(r),[d,p]=E.useState(null),f=Ni(),h=E.useRef(0),g=o??u.disableHoverableContent,y=c??u.delayDuration,m=E.useRef(!1),[v,x]=no({prop:n,defaultProp:s??!1,onChange:q=>{q?(u.onOpen(),document.dispatchEvent(new CustomEvent(X2))):u.onClose(),a?.(q)},caller:mm}),S=E.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),C=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,x(!0)},[x]),A=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),B=E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,x(!0),h.current=0},y)},[y,x]);return E.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),i.jsx(Yb,{...l,children:i.jsx(XY,{scope:r,contentId:f,open:v,stateAttribute:S,trigger:d,onTriggerChange:p,onTriggerEnter:E.useCallback(()=>{u.isOpenDelayedRef.current?B():C()},[u.isOpenDelayedRef,B,C]),onTriggerLeave:E.useCallback(()=>{g?A():(window.clearTimeout(h.current),h.current=0)},[A,g]),onOpen:C,onClose:A,disableHoverableContent:g,children:e})})};VM.displayName=mm;var Y2="TooltipTrigger",WM=E.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=rx(Y2,e),a=Kk(Y2,e),o=tx(e),c=E.useRef(null),u=Ar(r,c,s.onTriggerChange),l=E.useRef(!1),d=E.useRef(!1),p=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),i.jsx(h0,{asChild:!0,...o,children:i.jsx(Ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:ft(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ft(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:ft(t.onBlur,s.onClose),onClick:ft(t.onClick,s.onClose)})})});WM.displayName=Y2;var YY="TooltipPortal",[oke,ZY]=ex(YY,{forceMount:void 0}),mh="TooltipContent",UM=E.forwardRef((t,r)=>{const e=ZY(mh,t.__scopeTooltip),{forceMount:n=e.forceMount,side:s="top",...a}=t,o=rx(mh,t.__scopeTooltip);return i.jsx(ks,{present:n||o.open,children:o.disableHoverableContent?i.jsx(qM,{side:s,...a,ref:r}):i.jsx(JY,{side:s,...a,ref:r})})}),JY=E.forwardRef((t,r)=>{const e=rx(mh,t.__scopeTooltip),n=Kk(mh,t.__scopeTooltip),s=E.useRef(null),a=Ar(r,s),[o,c]=E.useState(null),{trigger:u,onClose:l}=e,d=s.current,{onPointerInTransitChange:p}=n,f=E.useCallback(()=>{c(null),p(!1)},[p]),h=E.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},x=sZ(v,m.getBoundingClientRect()),S=aZ(v,x),C=iZ(y.getBoundingClientRect()),A=lZ([...S,...C]);c(A),p(!0)},[p]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(u&&d){const g=m=>h(m,d),y=m=>h(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,h,f]),E.useEffect(()=>{if(o){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},x=u?.contains(m)||d?.contains(m),S=!oZ(v,o);x?f():S&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,o,l,f]),i.jsx(qM,{...t,ref:a})}),[eZ,tZ]=ex(mm,{isInside:!1}),rZ=UY("TooltipContent"),qM=E.forwardRef((t,r)=>{const{__scopeTooltip:e,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=t,u=rx(mh,e),l=tx(e),{onClose:d}=u;return E.useEffect(()=>(document.addEventListener(X2,d),()=>document.removeEventListener(X2,d)),[d]),E.useEffect(()=>{if(u.trigger){const p=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),i.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:i.jsxs(Zb,{"data-state":u.stateAttribute,...l,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(rZ,{children:n}),i.jsx(eZ,{scope:e,isInside:!0,children:i.jsx(KY,{id:u.contentId,role:"tooltip",children:s||n})})]})})});UM.displayName=mh;var HM="TooltipArrow",nZ=E.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=tx(e);return tZ(HM,e).isInside?null:i.jsx(Jb,{...s,...n,ref:r})});nZ.displayName=HM;function sZ(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),s=Math.abs(r.right-t.x),a=Math.abs(r.left-t.x);switch(Math.min(e,n,s,a)){case a:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aZ(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function iZ(t){const{top:r,right:e,bottom:n,left:s}=t;return[{x:s,y:r},{x:e,y:r},{x:e,y:n},{x:s,y:n}]}function oZ(t,r){const{x:e,y:n}=t;let s=!1;for(let a=0,o=r.length-1;a<r.length;o=a++){const c=r[a],u=r[o],l=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function lZ(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),cZ(r)}function cZ(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var uZ=zM,dZ=VM,fZ=WM,KM=UM;const nx=uZ,Gk=dZ,Qk=fZ,sx=E.forwardRef(({className:t,sideOffset:r=4,...e},n)=>i.jsx(KM,{ref:n,sideOffset:r,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...e}));sx.displayName=KM.displayName;const lr=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));lr.displayName="Card";const cs=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("flex flex-col space-y-1.5 p-6",t),...r}));cs.displayName="CardHeader";const ys=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...r}));ys.displayName="CardTitle";const Qc=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("text-sm text-muted-foreground",t),...r}));Qc.displayName="CardDescription";const br=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("p-6 pt-0",t),...r}));br.displayName="CardContent";const hZ=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("flex items-center p-6 pt-0",t),...r}));hZ.displayName="CardFooter";function pZ(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(lr,{className:"w-full max-w-md mx-4",children:i.jsxs(br,{className:"pt-6",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ua,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var p0=t=>t.type==="checkbox",Xu=t=>t instanceof Date,ni=t=>t==null;const GM=t=>typeof t=="object";var vs=t=>!ni(t)&&!Array.isArray(t)&&GM(t)&&!Xu(t),QM=t=>vs(t)&&t.target?p0(t.target)?t.target.checked:t.target.value:t,mZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XM=(t,r)=>t.has(mZ(r)),gZ=t=>{const r=t.constructor&&t.constructor.prototype;return vs(r)&&r.hasOwnProperty("isPrototypeOf")},Xk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ps(t){if(t instanceof Date)return new Date(t);const r=typeof FileList<"u"&&t instanceof FileList;if(Xk&&(t instanceof Blob||r))return t;const e=Array.isArray(t);if(!e&&!(vs(t)&&gZ(t)))return t;const n=e?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=ps(t[s]));return n}var ax=t=>/^\w*$/.test(t),Ln=t=>t===void 0,Yk=t=>Array.isArray(t)?t.filter(Boolean):[],Zk=t=>Yk(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(t,r,e)=>{if(!r||!vs(t))return e;const n=(ax(r)?[r]:Zk(r)).reduce((s,a)=>ni(s)?s:s[a],t);return Ln(n)||n===t?Ln(t[r])?e:t[r]:n},xi=t=>typeof t=="boolean",La=t=>typeof t=="function",mn=(t,r,e)=>{let n=-1;const s=ax(r)?[r]:Zk(r),a=s.length,o=a-1;for(;++n<a;){const c=s[n];let u=e;if(n!==o){const l=t[c];u=vs(l)||Array.isArray(l)?l:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Zy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Al={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Jk=Gt.createContext(null);Jk.displayName="HookFormControlContext";const e4=()=>Gt.useContext(Jk);var YM=(t,r,e,n=!0)=>{const s={defaultValues:r._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return r._proxyFormState[o]!==vo.all&&(r._proxyFormState[o]=!n||vo.all),e&&(e[o]=!0),t[o]}});return s};const t4=typeof window<"u"?Gt.useLayoutEffect:Gt.useEffect;function yZ(t){const r=e4(),{control:e=r,disabled:n,name:s,exact:a}=t||{},[o,c]=Gt.useState(e._formState),u=Gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return t4(()=>e._subscribe({name:s,formState:u.current,exact:a,callback:l=>{!n&&c({...e._formState,...l})}}),[s,n,a]),Gt.useEffect(()=>{u.current.isValid&&e._setValid(!0)},[e]),Gt.useMemo(()=>YM(o,e,u.current,!1),[o,e])}var _i=t=>typeof t=="string",Z2=(t,r,e,n,s)=>_i(t)?(n&&r.watch.add(t),_t(e,t,s)):Array.isArray(t)?t.map(a=>(n&&r.watch.add(a),_t(e,a))):(n&&(r.watchAll=!0),e),J2=t=>ni(t)||!GM(t);function wo(t,r,e=new WeakSet){if(J2(t)||J2(r))return Object.is(t,r);if(Xu(t)&&Xu(r))return Object.is(t.getTime(),r.getTime());const n=Object.keys(t),s=Object.keys(r);if(n.length!==s.length)return!1;if(e.has(t)||e.has(r))return!0;e.add(t),e.add(r);for(const a of n){const o=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=r[a];if(Xu(o)&&Xu(c)||vs(o)&&vs(c)||Array.isArray(o)&&Array.isArray(c)?!wo(o,c,e):!Object.is(o,c))return!1}}return!0}function bZ(t){const r=e4(),{control:e=r,name:n,defaultValue:s,disabled:a,exact:o,compute:c}=t||{},u=Gt.useRef(s),l=Gt.useRef(c),d=Gt.useRef(void 0),p=Gt.useRef(e),f=Gt.useRef(n);l.current=c;const[h,g]=Gt.useState(()=>{const C=e._getWatch(n,u.current);return l.current?l.current(C):C}),y=Gt.useCallback(C=>{const A=Z2(n,e._names,C||e._formValues,!1,u.current);return l.current?l.current(A):A},[e._formValues,e._names,n]),m=Gt.useCallback(C=>{if(!a){const A=Z2(n,e._names,C||e._formValues,!1,u.current);if(l.current){const B=l.current(A);wo(B,d.current)||(g(B),d.current=B)}else g(A)}},[e._formValues,e._names,a,n]);t4(()=>((p.current!==e||!wo(f.current,n))&&(p.current=e,f.current=n,m()),e._subscribe({name:n,formState:{values:!0},exact:o,callback:C=>{m(C.values)}})),[e,o,n,m]),Gt.useEffect(()=>e._removeUnmounted());const v=p.current!==e,x=f.current,S=Gt.useMemo(()=>{if(a)return null;const C=!v&&!wo(x,n);return v||C?y():null},[a,v,n,x,y]);return S!==null?S:h}function xZ(t){const r=e4(),{name:e,disabled:n,control:s=r,shouldUnregister:a,defaultValue:o,exact:c=!0}=t,u=XM(s._names.array,e),l=Gt.useMemo(()=>_t(s._formValues,e,_t(s._defaultValues,e,o)),[s,e,o]),d=bZ({control:s,name:e,defaultValue:l,exact:c}),p=yZ({control:s,name:e,exact:c}),f=Gt.useRef(t),h=Gt.useRef(void 0),g=Gt.useRef(s.register(e,{...t.rules,value:d,...xi(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Gt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_t(p.errors,e)},isDirty:{enumerable:!0,get:()=>!!_t(p.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!_t(p.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!_t(p.validatingFields,e)},error:{enumerable:!0,get:()=>_t(p.errors,e)}}),[p,e]),m=Gt.useCallback(C=>g.current.onChange({target:{value:QM(C),name:e},type:Zy.CHANGE}),[e]),v=Gt.useCallback(()=>g.current.onBlur({target:{value:_t(s._formValues,e),name:e},type:Zy.BLUR}),[e,s._formValues]),x=Gt.useCallback(C=>{const A=_t(s._fields,e);A&&A._f&&C&&(A._f.ref={focus:()=>La(C.focus)&&C.focus(),select:()=>La(C.select)&&C.select(),setCustomValidity:B=>La(C.setCustomValidity)&&C.setCustomValidity(B),reportValidity:()=>La(C.reportValidity)&&C.reportValidity()})},[s._fields,e]),S=Gt.useMemo(()=>({name:e,value:d,...xi(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:m,onBlur:v,ref:x}),[e,n,p.disabled,m,v,x,d]);return Gt.useEffect(()=>{const C=s._options.shouldUnregister||a,A=h.current;A&&A!==e&&!u&&s.unregister(A),s.register(e,{...f.current.rules,...xi(f.current.disabled)?{disabled:f.current.disabled}:{}});const B=(q,R)=>{const I=_t(s._fields,q);I&&I._f&&(I._f.mount=R)};if(B(e,!0),C){const q=ps(_t(s._options.defaultValues,e,f.current.defaultValue));mn(s._defaultValues,e,q),Ln(_t(s._formValues,e))&&mn(s._formValues,e,q)}return!u&&s.register(e),h.current=e,()=>{(u?C&&!s._state.action:C)?s.unregister(e):B(e,!1)}},[e,s,u,a]),Gt.useEffect(()=>{s._setDisabledField({disabled:n,name:e})},[n,e,s]),Gt.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const ZM=t=>t.render(xZ(t)),r4=Gt.createContext(null);r4.displayName="HookFormContext";const vZ=()=>Gt.useContext(r4),wZ=t=>{const{children:r,watch:e,getValues:n,getFieldState:s,setError:a,clearErrors:o,setValue:c,trigger:u,formState:l,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}=t;return Gt.createElement(r4.Provider,{value:Gt.useMemo(()=>({watch:e,getValues:n,getFieldState:s,setError:a,clearErrors:o,setValue:c,trigger:u,formState:l,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}),[o,g,l,s,n,f,y,p,d,a,m,c,v,u,h,e])},Gt.createElement(Jk.Provider,{value:g},r))};var JM=(t,r,e,n,s)=>r?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[n]:s||!0}}:{},Yp=t=>Array.isArray(t)?t:[t],n6=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function eR(t,r){const e={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=r[n];if(s&&vs(s)&&a){const o=eR(s,a);vs(o)&&(e[n]=o)}else t[n]&&(e[n]=a)}return e}var Ia=t=>vs(t)&&!Object.keys(t).length,n4=t=>t.type==="file",Jy=t=>{if(!Xk)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},tR=t=>t.type==="select-multiple",s4=t=>t.type==="radio",_Z=t=>s4(t)||p0(t),H1=t=>Jy(t)&&t.isConnected;function kZ(t,r){const e=r.slice(0,-1).length;let n=0;for(;n<e;)t=Ln(t)?n++:t[r[n++]];return t}function jZ(t){for(const r in t)if(t.hasOwnProperty(r)&&!Ln(t[r]))return!1;return!0}function ms(t,r){const e=Array.isArray(r)?r:ax(r)?[r]:Zk(r),n=e.length===1?t:kZ(t,e),s=e.length-1,a=e[s];return n&&delete n[a],s!==0&&(vs(n)&&Ia(n)||Array.isArray(n)&&jZ(n))&&ms(t,e.slice(0,-1)),t}var SZ=t=>{for(const r in t)if(La(t[r]))return!0;return!1};function rR(t){return Array.isArray(t)||vs(t)&&!SZ(t)}function e_(t,r={}){for(const e in t){const n=t[e];rR(n)?(r[e]=Array.isArray(n)?[]:{},e_(n,r[e])):Ln(n)||(r[e]=!0)}return r}function Mf(t,r,e){e||(e=e_(r));for(const n in t){const s=t[n];if(rR(s))Ln(r)||J2(e[n])?e[n]=e_(s,Array.isArray(s)?[]:{}):Mf(s,ni(r)?{}:r[n],e[n]);else{const a=r[n];e[n]=!wo(s,a)}}return e}const s6={value:!1,isValid:!1},a6={value:!0,isValid:!0};var nR=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ln(t[0].attributes.value)?Ln(t[0].value)||t[0].value===""?a6:{value:t[0].value,isValid:!0}:a6:s6}return s6},sR=(t,{valueAsNumber:r,valueAsDate:e,setValueAs:n})=>Ln(t)?t:r?t===""?NaN:t&&+t:e&&_i(t)?new Date(t):n?n(t):t;const i6={isValid:!1,value:null};var aR=t=>Array.isArray(t)?t.reduce((r,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:r,i6):i6;function o6(t){const r=t.ref;return n4(r)?r.files:s4(r)?aR(t.refs).value:tR(r)?[...r.selectedOptions].map(({value:e})=>e):p0(r)?nR(t.refs).value:sR(Ln(r.value)?t.ref.value:r.value,t)}var NZ=(t,r,e,n)=>{const s={};for(const a of t){const o=_t(r,a);o&&mn(s,a,o._f)}return{criteriaMode:e,names:[...t],fields:s,shouldUseNativeValidation:n}},eb=t=>t instanceof RegExp,Ap=t=>Ln(t)?t:eb(t)?t.source:vs(t)?eb(t.value)?t.value.source:t.value:t,l6=t=>({isOnSubmit:!t||t===vo.onSubmit,isOnBlur:t===vo.onBlur,isOnChange:t===vo.onChange,isOnAll:t===vo.all,isOnTouch:t===vo.onTouched});const c6="AsyncFunction";var CZ=t=>!!t&&!!t.validate&&!!(La(t.validate)&&t.validate.constructor.name===c6||vs(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===c6)),TZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),u6=(t,r,e)=>!e&&(r.watchAll||r.watch.has(t)||[...r.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Zp=(t,r,e,n)=>{for(const s of e||Object.keys(t)){const a=_t(t,s);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!n)return!0;if(o.ref&&r(o.ref,o.name)&&!n)return!0;if(Zp(c,r))break}else if(vs(c)&&Zp(c,r))break}}};function d6(t,r,e){const n=_t(t,e);if(n||ax(e))return{error:n,name:e};const s=e.split(".");for(;s.length;){const a=s.join("."),o=_t(r,a),c=_t(t,a);if(o&&!Array.isArray(o)&&e!==a)return{name:e};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};s.pop()}return{name:e}}var EZ=(t,r,e,n)=>{e(t);const{name:s,...a}=t;return Ia(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(o=>r[o]===(!n||vo.all))},AZ=(t,r,e)=>!t||!r||t===r||Yp(t).some(n=>n&&(e?n===r:n.startsWith(r)||r.startsWith(n))),PZ=(t,r,e,n,s)=>s.isOnAll?!1:!e&&s.isOnTouch?!(r||t):(e?n.isOnBlur:s.isOnBlur)?!t:(e?n.isOnChange:s.isOnChange)?t:!0,MZ=(t,r)=>!Yk(_t(t,r)).length&&ms(t,r),RZ=(t,r,e)=>{const n=Yp(_t(t,e));return mn(n,"root",r[e]),mn(t,e,n),t};function f6(t,r,e="validate"){if(_i(t)||Array.isArray(t)&&t.every(_i)||xi(t)&&!t)return{type:e,message:_i(t)?t:"",ref:r}}var jf=t=>vs(t)&&!eb(t)?t:{value:t,message:""},h6=async(t,r,e,n,s,a)=>{const{ref:o,refs:c,required:u,maxLength:l,minLength:d,min:p,max:f,pattern:h,validate:g,name:y,valueAsNumber:m,mount:v}=t._f,x=_t(e,y);if(!v||r.has(y))return{};const S=c?c[0]:o,C=U=>{s&&S.reportValidity&&(S.setCustomValidity(xi(U)?"":U||""),S.reportValidity())},A={},B=s4(o),q=p0(o),R=B||q,I=(m||n4(o))&&Ln(o.value)&&Ln(x)||Jy(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,$=JM.bind(null,y,n,A),K=(U,P,L,T=Al.maxLength,_=Al.minLength)=>{const k=U?P:L;A[y]={type:U?T:_,message:k,ref:o,...$(U?T:_,k)}};if(a?!Array.isArray(x)||!x.length:u&&(!R&&(I||ni(x))||xi(x)&&!x||q&&!nR(c).isValid||B&&!aR(c).isValid)){const{value:U,message:P}=_i(u)?{value:!!u,message:u}:jf(u);if(U&&(A[y]={type:Al.required,message:P,ref:S,...$(Al.required,P)},!n))return C(P),A}if(!I&&(!ni(p)||!ni(f))){let U,P;const L=jf(f),T=jf(p);if(!ni(x)&&!isNaN(x)){const _=o.valueAsNumber||x&&+x;ni(L.value)||(U=_>L.value),ni(T.value)||(P=_<T.value)}else{const _=o.valueAsDate||new Date(x),k=D=>new Date(new Date().toDateString()+" "+D),j=o.type=="time",N=o.type=="week";_i(L.value)&&x&&(U=j?k(x)>k(L.value):N?x>L.value:_>new Date(L.value)),_i(T.value)&&x&&(P=j?k(x)<k(T.value):N?x<T.value:_<new Date(T.value))}if((U||P)&&(K(!!U,L.message,T.message,Al.max,Al.min),!n))return C(A[y].message),A}if((l||d)&&!I&&(_i(x)||a&&Array.isArray(x))){const U=jf(l),P=jf(d),L=!ni(U.value)&&x.length>+U.value,T=!ni(P.value)&&x.length<+P.value;if((L||T)&&(K(L,U.message,P.message),!n))return C(A[y].message),A}if(h&&!I&&_i(x)){const{value:U,message:P}=jf(h);if(eb(U)&&!x.match(U)&&(A[y]={type:Al.pattern,message:P,ref:o,...$(Al.pattern,P)},!n))return C(P),A}if(g){if(La(g)){const U=await g(x,e),P=f6(U,S);if(P&&(A[y]={...P,...$(Al.validate,P.message)},!n))return C(P.message),A}else if(vs(g)){let U={};for(const P in g){if(!Ia(U)&&!n)break;const L=f6(await g[P](x,e),S,P);L&&(U={...L,...$(P,L.message)},C(L.message),n&&(A[y]=U))}if(!Ia(U)&&(A[y]={ref:S,...U},!n))return A}}return C(!0),A};const DZ={mode:vo.onSubmit,reValidateMode:vo.onChange,shouldFocusError:!0};function IZ(t={}){let r={...DZ,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:La(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=vs(r.defaultValues)||vs(r.values)?ps(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:ps(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={...d};let f={...p};const h={array:n6(),state:n6()},g=r.criteriaMode===vo.all,y=te=>se=>{clearTimeout(l),l=setTimeout(te,se)},m=async te=>{if(!o.keepIsValid&&!r.disabled&&(p.isValid||f.isValid||te)){let se;r.resolver?(se=Ia((await R()).errors),v()):se=await $(n,!0),se!==e.isValid&&h.state.next({isValid:se})}},v=(te,se)=>{!r.disabled&&(p.isValidating||p.validatingFields||f.isValidating||f.validatingFields)&&((te||Array.from(c.mount)).forEach(de=>{de&&(se?mn(e.validatingFields,de,se):ms(e.validatingFields,de))}),h.state.next({validatingFields:e.validatingFields,isValidating:!Ia(e.validatingFields)}))},x=(te,se=[],de,me,ke=!0,Ce=!0)=>{if(me&&de&&!r.disabled){if(o.action=!0,Ce&&Array.isArray(_t(n,te))){const Fe=de(_t(n,te),me.argA,me.argB);ke&&mn(n,te,Fe)}if(Ce&&Array.isArray(_t(e.errors,te))){const Fe=de(_t(e.errors,te),me.argA,me.argB);ke&&mn(e.errors,te,Fe),MZ(e.errors,te)}if((p.touchedFields||f.touchedFields)&&Ce&&Array.isArray(_t(e.touchedFields,te))){const Fe=de(_t(e.touchedFields,te),me.argA,me.argB);ke&&mn(e.touchedFields,te,Fe)}(p.dirtyFields||f.dirtyFields)&&(e.dirtyFields=Mf(s,a)),h.state.next({name:te,isDirty:U(te,se),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else mn(a,te,se)},S=(te,se)=>{mn(e.errors,te,se),h.state.next({errors:e.errors})},C=te=>{e.errors=te,h.state.next({errors:e.errors,isValid:!1})},A=(te,se,de,me)=>{const ke=_t(n,te);if(ke){const Ce=_t(a,te,Ln(de)?_t(s,te):de);Ln(Ce)||me&&me.defaultChecked||se?mn(a,te,se?Ce:o6(ke._f)):T(te,Ce),o.mount&&!o.action&&m()}},B=(te,se,de,me,ke)=>{let Ce=!1,Fe=!1;const Ie={name:te};if(!r.disabled){if(!de||me){(p.isDirty||f.isDirty)&&(Fe=e.isDirty,e.isDirty=Ie.isDirty=U(),Ce=Fe!==Ie.isDirty);const Ue=wo(_t(s,te),se);Fe=!!_t(e.dirtyFields,te),Ue?ms(e.dirtyFields,te):mn(e.dirtyFields,te,!0),Ie.dirtyFields=e.dirtyFields,Ce=Ce||(p.dirtyFields||f.dirtyFields)&&Fe!==!Ue}if(de){const Ue=_t(e.touchedFields,te);Ue||(mn(e.touchedFields,te,de),Ie.touchedFields=e.touchedFields,Ce=Ce||(p.touchedFields||f.touchedFields)&&Ue!==de)}Ce&&ke&&h.state.next(Ie)}return Ce?Ie:{}},q=(te,se,de,me)=>{const ke=_t(e.errors,te),Ce=(p.isValid||f.isValid)&&xi(se)&&e.isValid!==se;if(r.delayError&&de?(u=y(()=>S(te,de)),u(r.delayError)):(clearTimeout(l),u=null,de?mn(e.errors,te,de):ms(e.errors,te)),(de?!wo(ke,de):ke)||!Ia(me)||Ce){const Fe={...me,...Ce&&xi(se)?{isValid:se}:{},errors:e.errors,name:te};e={...e,...Fe},h.state.next(Fe)}},R=async te=>(v(te,!0),await r.resolver(a,r.context,NZ(te||c.mount,n,r.criteriaMode,r.shouldUseNativeValidation))),I=async te=>{const{errors:se}=await R(te);if(v(te),te)for(const de of te){const me=_t(se,de);me?mn(e.errors,de,me):ms(e.errors,de)}else e.errors=se;return se},$=async(te,se,de={valid:!0})=>{for(const me in te){const ke=te[me];if(ke){const{_f:Ce,...Fe}=ke;if(Ce){const Ie=c.array.has(Ce.name),Ue=ke._f&&CZ(ke._f);Ue&&p.validatingFields&&v([Ce.name],!0);const tt=await h6(ke,c.disabled,a,g,r.shouldUseNativeValidation&&!se,Ie);if(Ue&&p.validatingFields&&v([Ce.name]),tt[Ce.name]&&(de.valid=!1,se||t.shouldUseNativeValidation))break;!se&&(_t(tt,Ce.name)?Ie?RZ(e.errors,tt,Ce.name):mn(e.errors,Ce.name,tt[Ce.name]):ms(e.errors,Ce.name))}!Ia(Fe)&&await $(Fe,se,de)}}return de.valid},K=()=>{for(const te of c.unMount){const se=_t(n,te);se&&(se._f.refs?se._f.refs.every(de=>!H1(de)):!H1(se._f.ref))&&W(te)}c.unMount=new Set},U=(te,se)=>!r.disabled&&(te&&se&&mn(a,te,se),!wo(O(),s)),P=(te,se,de)=>Z2(te,c,{...o.mount?a:Ln(se)?s:_i(te)?{[te]:se}:se},de,se),L=te=>Yk(_t(o.mount?a:s,te,r.shouldUnregister?_t(s,te,[]):[])),T=(te,se,de={})=>{const me=_t(n,te);let ke=se;if(me){const Ce=me._f;Ce&&(!Ce.disabled&&mn(a,te,sR(se,Ce)),ke=Jy(Ce.ref)&&ni(se)?"":se,tR(Ce.ref)?[...Ce.ref.options].forEach(Fe=>Fe.selected=ke.includes(Fe.value)):Ce.refs?p0(Ce.ref)?Ce.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(ke)?Fe.checked=!!ke.find(Ie=>Ie===Fe.value):Fe.checked=ke===Fe.value||!!ke)}):Ce.refs.forEach(Fe=>Fe.checked=Fe.value===ke):n4(Ce.ref)?Ce.ref.value="":(Ce.ref.value=ke,Ce.ref.type||h.state.next({name:te,values:ps(a)})))}(de.shouldDirty||de.shouldTouch)&&B(te,ke,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&D(te)},_=(te,se,de)=>{for(const me in se){if(!se.hasOwnProperty(me))return;const ke=se[me],Ce=te+"."+me,Fe=_t(n,Ce);(c.array.has(te)||vs(ke)||Fe&&!Fe._f)&&!Xu(ke)?_(Ce,ke,de):T(Ce,ke,de)}},k=(te,se,de={})=>{const me=_t(n,te),ke=c.array.has(te),Ce=ps(se);mn(a,te,Ce),ke?(h.array.next({name:te,values:ps(a)}),(p.isDirty||p.dirtyFields||f.isDirty||f.dirtyFields)&&de.shouldDirty&&h.state.next({name:te,dirtyFields:Mf(s,a),isDirty:U(te,Ce)})):me&&!me._f&&!ni(Ce)?_(te,Ce,de):T(te,Ce,de),u6(te,c)?h.state.next({...e,name:te,values:ps(a)}):h.state.next({name:o.mount?te:void 0,values:ps(a)})},j=async te=>{o.mount=!0;const se=te.target;let de=se.name,me=!0;const ke=_t(n,de),Ce=Ue=>{me=Number.isNaN(Ue)||Xu(Ue)&&isNaN(Ue.getTime())||wo(Ue,_t(a,de,Ue))},Fe=l6(r.mode),Ie=l6(r.reValidateMode);if(ke){let Ue,tt;const gt=se.type?o6(ke._f):QM(te),Ze=te.type===Zy.BLUR||te.type===Zy.FOCUS_OUT,it=!TZ(ke._f)&&!r.resolver&&!_t(e.errors,de)&&!ke._f.deps||PZ(Ze,_t(e.touchedFields,de),e.isSubmitted,Ie,Fe),ve=u6(de,c,Ze);mn(a,de,gt),Ze?(!se||!se.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(te),u&&u(0)):ke._f.onChange&&ke._f.onChange(te);const be=B(de,gt,Ze),He=!Ia(be)||ve;if(!Ze&&h.state.next({name:de,type:te.type,values:ps(a)}),it)return(p.isValid||f.isValid)&&(r.mode==="onBlur"?Ze&&m():Ze||m()),He&&h.state.next({name:de,...ve?{}:be});if(!Ze&&ve&&h.state.next({...e}),r.resolver){const{errors:Xe}=await R([de]);if(v([de]),Ce(gt),me){const ot=d6(e.errors,n,de),Xt=d6(Xe,n,ot.name||de);Ue=Xt.error,de=Xt.name,tt=Ia(Xe)}}else v([de],!0),Ue=(await h6(ke,c.disabled,a,g,r.shouldUseNativeValidation))[de],v([de]),Ce(gt),me&&(Ue?tt=!1:(p.isValid||f.isValid)&&(tt=await $(n,!0)));me&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&D(ke._f.deps),q(de,tt,Ue,be))}},N=(te,se)=>{if(_t(e.errors,se)&&te.focus)return te.focus(),1},D=async(te,se={})=>{let de,me;const ke=Yp(te);if(r.resolver){const Ce=await I(Ln(te)?te:ke);de=Ia(Ce),me=te?!ke.some(Fe=>_t(Ce,Fe)):de}else te?(me=(await Promise.all(ke.map(async Ce=>{const Fe=_t(n,Ce);return await $(Fe&&Fe._f?{[Ce]:Fe}:Fe)}))).every(Boolean),!(!me&&!e.isValid)&&m()):me=de=await $(n);return h.state.next({...!_i(te)||(p.isValid||f.isValid)&&de!==e.isValid?{}:{name:te},...r.resolver||!te?{isValid:de}:{},errors:e.errors}),se.shouldFocus&&!me&&Zp(n,N,te?ke:c.mount),me},O=(te,se)=>{let de={...o.mount?a:s};return se&&(de=eR(se.dirtyFields?e.dirtyFields:e.touchedFields,de)),Ln(te)?de:_i(te)?_t(de,te):te.map(me=>_t(de,me))},z=(te,se)=>({invalid:!!_t((se||e).errors,te),isDirty:!!_t((se||e).dirtyFields,te),error:_t((se||e).errors,te),isValidating:!!_t(e.validatingFields,te),isTouched:!!_t((se||e).touchedFields,te)}),Q=te=>{te&&Yp(te).forEach(se=>ms(e.errors,se)),h.state.next({errors:te?e.errors:{}})},Y=(te,se,de)=>{const me=(_t(n,te,{_f:{}})._f||{}).ref,ke=_t(e.errors,te)||{},{ref:Ce,message:Fe,type:Ie,...Ue}=ke;mn(e.errors,te,{...Ue,...se,ref:me}),h.state.next({name:te,errors:e.errors,isValid:!1}),de&&de.shouldFocus&&me&&me.focus&&me.focus()},re=(te,se)=>La(te)?h.state.subscribe({next:de=>"values"in de&&te(P(void 0,se),de)}):P(te,se,!0),F=te=>h.state.subscribe({next:se=>{AZ(te.name,se.name,te.exact)&&EZ(se,te.formState||p,fe,te.reRenderRoot)&&te.callback({values:{...a},...e,...se,defaultValues:s})}}).unsubscribe,Z=te=>(o.mount=!0,f={...f,...te.formState},F({...te,formState:{...d,...te.formState}})),W=(te,se={})=>{for(const de of te?Yp(te):c.mount)c.mount.delete(de),c.array.delete(de),se.keepValue||(ms(n,de),ms(a,de)),!se.keepError&&ms(e.errors,de),!se.keepDirty&&ms(e.dirtyFields,de),!se.keepTouched&&ms(e.touchedFields,de),!se.keepIsValidating&&ms(e.validatingFields,de),!r.shouldUnregister&&!se.keepDefaultValue&&ms(s,de);h.state.next({values:ps(a)}),h.state.next({...e,...se.keepDirty?{isDirty:U()}:{}}),!se.keepIsValid&&m()},V=({disabled:te,name:se})=>{if(xi(te)&&o.mount||te||c.disabled.has(se)){const ke=c.disabled.has(se)!==!!te;te?c.disabled.add(se):c.disabled.delete(se),ke&&o.mount&&!o.action&&m()}},G=(te,se={})=>{let de=_t(n,te);const me=xi(se.disabled)||xi(r.disabled);return mn(n,te,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:te}},name:te,mount:!0,...se}}),c.mount.add(te),de?V({disabled:xi(se.disabled)?se.disabled:r.disabled,name:te}):A(te,!0,se.value),{...me?{disabled:se.disabled||r.disabled}:{},...r.progressive?{required:!!se.required,min:Ap(se.min),max:Ap(se.max),minLength:Ap(se.minLength),maxLength:Ap(se.maxLength),pattern:Ap(se.pattern)}:{},name:te,onChange:j,onBlur:j,ref:ke=>{if(ke){G(te,se),de=_t(n,te);const Ce=Ln(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Fe=_Z(Ce),Ie=de._f.refs||[];if(Fe?Ie.find(Ue=>Ue===Ce):Ce===de._f.ref)return;mn(n,te,{_f:{...de._f,...Fe?{refs:[...Ie.filter(H1),Ce,...Array.isArray(_t(s,te))?[{}]:[]],ref:{type:Ce.type,name:te}}:{ref:Ce}}}),A(te,!1,void 0,Ce)}else de=_t(n,te,{}),de._f&&(de._f.mount=!1),(r.shouldUnregister||se.shouldUnregister)&&!(XM(c.array,te)&&o.action)&&c.unMount.add(te)}}},ae=()=>r.shouldFocusError&&Zp(n,N,c.mount),pe=te=>{xi(te)&&(h.state.next({disabled:te}),Zp(n,(se,de)=>{const me=_t(n,de);me&&(se.disabled=me._f.disabled||te,Array.isArray(me._f.refs)&&me._f.refs.forEach(ke=>{ke.disabled=me._f.disabled||te}))},0,!1))},ce=(te,se)=>async de=>{let me;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let ke=ps(a);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Ce,values:Fe}=await R();v(),e.errors=Ce,ke=ps(Fe)}else await $(n);if(c.disabled.size)for(const Ce of c.disabled)ms(ke,Ce);if(ms(e.errors,"root"),Ia(e.errors)){h.state.next({errors:{}});try{await te(ke,de)}catch(Ce){me=Ce}}else se&&await se({...e.errors},de),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ia(e.errors)&&!me,submitCount:e.submitCount+1,errors:e.errors}),me)throw me},ge=(te,se={})=>{_t(n,te)&&(Ln(se.defaultValue)?k(te,ps(_t(s,te))):(k(te,se.defaultValue),mn(s,te,ps(se.defaultValue))),se.keepTouched||ms(e.touchedFields,te),se.keepDirty||(ms(e.dirtyFields,te),e.isDirty=se.defaultValue?U(te,ps(_t(s,te))):U()),se.keepError||(ms(e.errors,te),p.isValid&&m()),h.state.next({...e}))},ee=(te,se={})=>{const de=te?ps(te):s,me=ps(de),ke=Ia(te),Ce=ke?s:me;if(se.keepDefaultValues||(s=de),!se.keepValues){if(se.keepDirtyValues){const Fe=new Set([...c.mount,...Object.keys(Mf(s,a))]);for(const Ie of Array.from(Fe)){const Ue=_t(e.dirtyFields,Ie),tt=_t(a,Ie),gt=_t(Ce,Ie);Ue&&!Ln(tt)?mn(Ce,Ie,tt):!Ue&&!Ln(gt)&&k(Ie,gt)}}else{if(Xk&&Ln(te))for(const Fe of c.mount){const Ie=_t(n,Fe);if(Ie&&Ie._f){const Ue=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Jy(Ue)){const tt=Ue.closest("form");if(tt){tt.reset();break}}}}if(se.keepFieldsRef)for(const Fe of c.mount)k(Fe,_t(Ce,Fe));else n={}}a=r.shouldUnregister?se.keepDefaultValues?ps(s):{}:ps(Ce),h.array.next({values:{...Ce}}),h.state.next({values:{...Ce}})}c={mount:se.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!r.shouldUnregister&&!Ia(Ce),o.watch=!!r.shouldUnregister,o.keepIsValid=!!se.keepIsValid,o.action=!1,se.keepErrors||(e.errors={}),h.state.next({submitCount:se.keepSubmitCount?e.submitCount:0,isDirty:ke?!1:se.keepDirty?e.isDirty:!!(se.keepDefaultValues&&!wo(te,s)),isSubmitted:se.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:ke?{}:se.keepDirtyValues?se.keepDefaultValues&&a?Mf(s,a):e.dirtyFields:se.keepDefaultValues&&te?Mf(s,te):se.keepDirty?e.dirtyFields:{},touchedFields:se.keepTouched?e.touchedFields:{},errors:se.keepErrors?e.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},oe=(te,se)=>ee(La(te)?te(a):te,{...r.resetOptions,...se}),ne=(te,se={})=>{const de=_t(n,te),me=de&&de._f;if(me){const ke=me.refs?me.refs[0]:me.ref;ke.focus&&setTimeout(()=>{ke.focus(),se.shouldSelect&&La(ke.select)&&ke.select()})}},fe=te=>{e={...e,...te}},ie={control:{register:G,unregister:W,getFieldState:z,handleSubmit:ce,setError:Y,_subscribe:F,_runSchema:R,_updateIsValidating:v,_focusError:ae,_getWatch:P,_getDirty:U,_setValid:m,_setFieldArray:x,_setDisabledField:V,_setErrors:C,_getFieldArray:L,_reset:ee,_resetDefaultValues:()=>La(r.defaultValues)&&r.defaultValues().then(te=>{oe(te,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:pe,_subjects:h,_proxyFormState:p,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(te){o=te},get _defaultValues(){return s},get _names(){return c},set _names(te){c=te},get _formState(){return e},get _options(){return r},set _options(te){r={...r,...te}}},subscribe:Z,trigger:D,register:G,handleSubmit:ce,watch:re,setValue:k,getValues:O,reset:oe,resetField:ge,clearErrors:Q,unregister:W,setError:Y,setFocus:ne,getFieldState:z};return{...ie,formControl:ie}}function rc(t={}){const r=Gt.useRef(void 0),e=Gt.useRef(void 0),[n,s]=Gt.useState({isDirty:!1,isValidating:!1,isLoading:La(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:La(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:n},t.defaultValues&&!La(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=IZ(t);r.current={...c,formState:n}}const a=r.current.control;return a._options=t,t4(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),Gt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Gt.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Gt.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Gt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Gt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Gt.useEffect(()=>{var o;t.values&&!wo(t.values,e.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),e.current=t.values,s(c=>({...c}))):a._resetDefaultValues()},[a,t.values]),Gt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),r.current.formState=Gt.useMemo(()=>YM(n,a),[a,n]),r.current}const p6=(t,r,e)=>{if(t&&"reportValidity"in t){const n=_t(e,r);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},iR=(t,r)=>{for(const e in r.fields){const n=r.fields[e];n&&n.ref&&"reportValidity"in n.ref?p6(n.ref,e,t):n.refs&&n.refs.forEach(s=>p6(s,e,t))}},OZ=(t,r)=>{r.shouldUseNativeValidation&&iR(t,r);const e={};for(const n in t){const s=_t(r.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(FZ(r.names||Object.keys(t),n)){const o=Object.assign({},_t(e,n));mn(o,"root",a),mn(e,n,o)}else mn(e,n,a)}return e},FZ=(t,r)=>t.some(e=>e.startsWith(r+"."));var LZ=function(t,r){for(var e={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!e[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];e[o]={message:c.message,type:c.code}}else e[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(p){return t.push(p)})}),r){var u=e[o].types,l=u&&u[n.code];e[o]=JM(o,r,e,s,l?[].concat(l,n.message):n.message)}t.shift()}return e},nc=function(t,r,e){return e===void 0&&(e={}),function(n,s,a){try{return Promise.resolve((function(o,c){try{var u=Promise.resolve(t[e.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(l){return a.shouldUseNativeValidation&&iR({},a),{errors:{},values:e.raw?n:l}})}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u})(0,function(o){if((function(c){return Array.isArray(c?.errors)})(o))return{values:{},errors:OZ(LZ(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Jr;(function(t){t.assertEqual=s=>{};function r(s){}t.assertIs=r;function e(s){throw new Error}t.assertNever=e,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of a)o[c]=s[c];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Jr||(Jr={}));var t_;(function(t){t.mergeShapes=(r,e)=>({...r,...e})})(t_||(t_={}));const Et=Jr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fl=t=>{switch(typeof t){case"undefined":return Et.undefined;case"string":return Et.string;case"number":return Number.isNaN(t)?Et.nan:Et.number;case"boolean":return Et.boolean;case"function":return Et.function;case"bigint":return Et.bigint;case"symbol":return Et.symbol;case"object":return Array.isArray(t)?Et.array:t===null?Et.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Et.promise:typeof Map<"u"&&t instanceof Map?Et.map:typeof Set<"u"&&t instanceof Set?Et.set:typeof Date<"u"&&t instanceof Date?Et.date:Et.object;default:return Et.unknown}},dt=Jr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),BZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ti extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){const e=r||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(e(o));else{let c=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(e(o))):c[l]=c[l]||{_errors:[]},c=c[l],u++}}};return s(this),n}static assert(r){if(!(r instanceof Ti))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){const e={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];e[a]=e[a]||[],e[a].push(r(s))}else n.push(r(s));return{formErrors:n,fieldErrors:e}}get formErrors(){return this.flatten()}}Ti.create=t=>new Ti(t);const gh=(t,r)=>{let e;switch(t.code){case dt.invalid_type:t.received===Et.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case dt.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,Jr.jsonStringifyReplacer)}`;break;case dt.unrecognized_keys:e=`Unrecognized key(s) in object: ${Jr.joinValues(t.keys,", ")}`;break;case dt.invalid_union:e="Invalid input";break;case dt.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Jr.joinValues(t.options)}`;break;case dt.invalid_enum_value:e=`Invalid enum value. Expected ${Jr.joinValues(t.options)}, received '${t.received}'`;break;case dt.invalid_arguments:e="Invalid function arguments";break;case dt.invalid_return_type:e="Invalid function return type";break;case dt.invalid_date:e="Invalid date";break;case dt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:Jr.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case dt.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case dt.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case dt.custom:e="Invalid input";break;case dt.invalid_intersection_types:e="Intersection results could not be merged";break;case dt.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case dt.not_finite:e="Number must be finite";break;default:e=r.defaultError,Jr.assertNever(t)}return{message:e}};let oR=gh;function $Z(t){oR=t}function tb(){return oR}const rb=t=>{const{data:r,path:e,errorMaps:n,issueData:s}=t,a=[...e,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let c="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)c=l(o,{data:r,defaultError:c}).message;return{...s,path:a,message:c}},zZ=[];function jt(t,r){const e=tb(),n=rb({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===gh?void 0:gh].filter(s=>!!s)});t.common.issues.push(n)}class Na{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){const n=[];for(const s of e){if(s.status==="aborted")return mr;s.status==="dirty"&&r.dirty(),n.push(s.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,e){const n=[];for(const s of e){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Na.mergeObjectSync(r,n)}static mergeObjectSync(r,e){const n={};for(const s of e){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return mr;a.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:r.value,value:n}}}const mr=Object.freeze({status:"aborted"}),Lf=t=>({status:"dirty",value:t}),Wa=t=>({status:"valid",value:t}),r_=t=>t.status==="aborted",n_=t=>t.status==="dirty",Sd=t=>t.status==="valid",gm=t=>typeof Promise<"u"&&t instanceof Promise;var qt;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message})(qt||(qt={}));class ml{constructor(r,e,n,s){this._cachedPath=[],this.parent=r,this.data=e,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const m6=(t,r)=>{if(Sd(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new Ti(t.common.issues);return this._error=e,this._error}}};function Dr(t){if(!t)return{};const{errorMap:r,invalid_type_error:e,required_error:n,description:s}=t;if(r&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??e??c.defaultError}},description:s}}class Br{get description(){return this._def.description}_getType(r){return Fl(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:Fl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Na,ctx:{common:r.parent.common,data:r.data,parsedType:Fl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const e=this._parse(r);if(gm(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){const e=this._parse(r);return Promise.resolve(e)}parse(r,e){const n=this.safeParse(r,e);if(n.success)return n.data;throw n.error}safeParse(r,e){const n={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Fl(r)},s=this._parseSync({data:r,path:n.path,parent:n});return m6(n,s)}"~validate"(r){const e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Fl(r)};if(!this["~standard"].async)try{const n=this._parseSync({data:r,path:[],parent:e});return Sd(n)?{value:n.value}:{issues:e.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(n=>Sd(n)?{value:n.value}:{issues:e.common.issues})}async parseAsync(r,e){const n=await this.safeParseAsync(r,e);if(n.success)return n.data;throw n.error}async safeParseAsync(r,e){const n={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Fl(r)},s=this._parse({data:r,path:n.path,parent:n}),a=await(gm(s)?s:Promise.resolve(s));return m6(n,a)}refine(r,e){const n=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const o=r(s),c=()=>a.addIssue({code:dt.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(r,e){return this._refinement((n,s)=>r(n)?!0:(s.addIssue(typeof e=="function"?e(n,s):e),!1))}_refinement(r){return new Po({schema:this,typeName:gr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return al.create(this,this._def)}nullable(){return pu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jo.create(this)}promise(){return bh.create(this,this._def)}or(r){return vm.create([this,r],this._def)}and(r){return wm.create(this,r,this._def)}transform(r){return new Po({...Dr(this._def),schema:this,typeName:gr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const e=typeof r=="function"?r:()=>r;return new Nm({...Dr(this._def),innerType:this,defaultValue:e,typeName:gr.ZodDefault})}brand(){return new a4({typeName:gr.ZodBranded,type:this,...Dr(this._def)})}catch(r){const e=typeof r=="function"?r:()=>r;return new Cm({...Dr(this._def),innerType:this,catchValue:e,typeName:gr.ZodCatch})}describe(r){const e=this.constructor;return new e({...this._def,description:r})}pipe(r){return m0.create(this,r)}readonly(){return Tm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VZ=/^c[^\s-]{8,}$/i,WZ=/^[0-9a-z]+$/,UZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HZ=/^[a-z0-9_-]{21}$/i,KZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,QZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let K1;const YZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nJ=new RegExp(`^${lR}$`);function cR(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);const e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function sJ(t){return new RegExp(`^${cR(t)}$`)}function uR(t){let r=`${lR}T${cR(t)}`;const e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function aJ(t,r){return!!((r==="v4"||!r)&&YZ.test(t)||(r==="v6"||!r)&&JZ.test(t))}function iJ(t,r){if(!KZ.test(t))return!1;try{const[e]=t.split(".");if(!e)return!1;const n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function oJ(t,r){return!!((r==="v4"||!r)&&ZZ.test(t)||(r==="v6"||!r)&&eJ.test(t))}class ko extends Br{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Et.string){const a=this._getOrReturnCtx(r);return jt(a,{code:dt.invalid_type,expected:Et.string,received:a.parsedType}),mr}const n=new Na;let s;for(const a of this._def.checks)if(a.kind==="min")r.data.length<a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")r.data.length>a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=r.data.length>a.value,c=r.data.length<a.value;(o||c)&&(s=this._getOrReturnCtx(r,s),o?jt(s,{code:dt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&jt(s,{code:dt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")QZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"email",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")K1||(K1=new RegExp(XZ,"u")),K1.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"emoji",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")qZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"uuid",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")HZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"nanoid",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")VZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cuid",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")WZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cuid2",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")UZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"ulid",code:dt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),jt(s,{validation:"url",code:dt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"regex",code:dt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?r.data=r.data.trim():a.kind==="includes"?r.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?r.data=r.data.toLowerCase():a.kind==="toUpperCase"?r.data=r.data.toUpperCase():a.kind==="startsWith"?r.data.startsWith(a.value)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?r.data.endsWith(a.value)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?uR(a).test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?nJ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?sJ(a).test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?GZ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"duration",code:dt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?aJ(r.data,a.version)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"ip",code:dt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?iJ(r.data,a.alg)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"jwt",code:dt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?oJ(r.data,a.version)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"cidr",code:dt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?tJ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"base64",code:dt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?rJ.test(r.data)||(s=this._getOrReturnCtx(r,s),jt(s,{validation:"base64url",code:dt.invalid_string,message:a.message}),n.dirty()):Jr.assertNever(a);return{status:n.value,value:r.data}}_regex(r,e,n){return this.refinement(s=>r.test(s),{validation:e,code:dt.invalid_string,...qt.errToObj(n)})}_addCheck(r){return new ko({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...qt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...qt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...qt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...qt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...qt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...qt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...qt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...qt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...qt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...qt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...qt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...qt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...qt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...qt.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...qt.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...qt.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,...qt.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e?.position,...qt.errToObj(e?.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,...qt.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,...qt.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,...qt.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,...qt.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,...qt.errToObj(e)})}nonempty(r){return this.min(1,qt.errToObj(r))}trim(){return new ko({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ko({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ko({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}ko.create=t=>new ko({checks:[],typeName:gr.ZodString,coerce:t?.coerce??!1,...Dr(t)});function lJ(t,r){const e=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,s=e>n?e:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return a%o/10**s}class du extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Et.number){const a=this._getOrReturnCtx(r);return jt(a,{code:dt.invalid_type,expected:Et.number,received:a.parsedType}),mr}let n;const s=new Na;for(const a of this._def.checks)a.kind==="int"?Jr.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?lJ(r.data,a.value)!==0&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.not_finite,message:a.message}),s.dirty()):Jr.assertNever(a);return{status:s.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,qt.toString(e))}setLimit(r,e,n,s){return new du({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:qt.toString(s)}]})}_addCheck(r){return new du({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:qt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:qt.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:qt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qt.toString(r)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Jr.isInteger(r.value))}get isFinite(){let r=null,e=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(e===null||n.value>e)&&(e=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(e)&&Number.isFinite(r)}}du.create=t=>new du({checks:[],typeName:gr.ZodNumber,coerce:t?.coerce||!1,...Dr(t)});class fu extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Et.bigint)return this._getInvalidInput(r);let n;const s=new Na;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?r.data<a.value:r.data<=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?r.data>a.value:r.data>=a.value)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?r.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),jt(n,{code:dt.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Jr.assertNever(a);return{status:s.value,value:r.data}}_getInvalidInput(r){const e=this._getOrReturnCtx(r);return jt(e,{code:dt.invalid_type,expected:Et.bigint,received:e.parsedType}),mr}gte(r,e){return this.setLimit("min",r,!0,qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,qt.toString(e))}setLimit(r,e,n,s){return new fu({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:qt.toString(s)}]})}_addCheck(r){return new fu({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:qt.toString(e)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}fu.create=t=>new fu({checks:[],typeName:gr.ZodBigInt,coerce:t?.coerce??!1,...Dr(t)});class ym extends Br{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Et.boolean){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.boolean,received:n.parsedType}),mr}return Wa(r.data)}}ym.create=t=>new ym({typeName:gr.ZodBoolean,coerce:t?.coerce||!1,...Dr(t)});class Nd extends Br{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Et.date){const a=this._getOrReturnCtx(r);return jt(a,{code:dt.invalid_type,expected:Et.date,received:a.parsedType}),mr}if(Number.isNaN(r.data.getTime())){const a=this._getOrReturnCtx(r);return jt(a,{code:dt.invalid_date}),mr}const n=new Na;let s;for(const a of this._def.checks)a.kind==="min"?r.data.getTime()<a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?r.data.getTime()>a.value&&(s=this._getOrReturnCtx(r,s),jt(s,{code:dt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Jr.assertNever(a);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Nd({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:qt.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:qt.toString(e)})}get minDate(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}Nd.create=t=>new Nd({checks:[],coerce:t?.coerce||!1,typeName:gr.ZodDate,...Dr(t)});class nb extends Br{_parse(r){if(this._getType(r)!==Et.symbol){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.symbol,received:n.parsedType}),mr}return Wa(r.data)}}nb.create=t=>new nb({typeName:gr.ZodSymbol,...Dr(t)});class bm extends Br{_parse(r){if(this._getType(r)!==Et.undefined){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.undefined,received:n.parsedType}),mr}return Wa(r.data)}}bm.create=t=>new bm({typeName:gr.ZodUndefined,...Dr(t)});class xm extends Br{_parse(r){if(this._getType(r)!==Et.null){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.null,received:n.parsedType}),mr}return Wa(r.data)}}xm.create=t=>new xm({typeName:gr.ZodNull,...Dr(t)});class yh extends Br{constructor(){super(...arguments),this._any=!0}_parse(r){return Wa(r.data)}}yh.create=t=>new yh({typeName:gr.ZodAny,...Dr(t)});class md extends Br{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Wa(r.data)}}md.create=t=>new md({typeName:gr.ZodUnknown,...Dr(t)});class sc extends Br{_parse(r){const e=this._getOrReturnCtx(r);return jt(e,{code:dt.invalid_type,expected:Et.never,received:e.parsedType}),mr}}sc.create=t=>new sc({typeName:gr.ZodNever,...Dr(t)});class sb extends Br{_parse(r){if(this._getType(r)!==Et.undefined){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.void,received:n.parsedType}),mr}return Wa(r.data)}}sb.create=t=>new sb({typeName:gr.ZodVoid,...Dr(t)});class jo extends Br{_parse(r){const{ctx:e,status:n}=this._processInputParams(r),s=this._def;if(e.parsedType!==Et.array)return jt(e,{code:dt.invalid_type,expected:Et.array,received:e.parsedType}),mr;if(s.exactLength!==null){const o=e.data.length>s.exactLength.value,c=e.data.length<s.exactLength.value;(o||c)&&(jt(e,{code:o?dt.too_big:dt.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&e.data.length<s.minLength.value&&(jt(e,{code:dt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&e.data.length>s.maxLength.value&&(jt(e,{code:dt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),e.common.async)return Promise.all([...e.data].map((o,c)=>s.type._parseAsync(new ml(e,o,e.path,c)))).then(o=>Na.mergeArray(n,o));const a=[...e.data].map((o,c)=>s.type._parseSync(new ml(e,o,e.path,c)));return Na.mergeArray(n,a)}get element(){return this._def.type}min(r,e){return new jo({...this._def,minLength:{value:r,message:qt.toString(e)}})}max(r,e){return new jo({...this._def,maxLength:{value:r,message:qt.toString(e)}})}length(r,e){return new jo({...this._def,exactLength:{value:r,message:qt.toString(e)}})}nonempty(r){return this.min(1,r)}}jo.create=(t,r)=>new jo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:gr.ZodArray,...Dr(r)});function Rf(t){if(t instanceof Kn){const r={};for(const e in t.shape){const n=t.shape[e];r[e]=al.create(Rf(n))}return new Kn({...t._def,shape:()=>r})}else return t instanceof jo?new jo({...t._def,type:Rf(t.element)}):t instanceof al?al.create(Rf(t.unwrap())):t instanceof pu?pu.create(Rf(t.unwrap())):t instanceof gl?gl.create(t.items.map(r=>Rf(r))):t}class Kn extends Br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),e=Jr.objectKeys(r);return this._cached={shape:r,keys:e},this._cached}_parse(r){if(this._getType(r)!==Et.object){const l=this._getOrReturnCtx(r);return jt(l,{code:dt.invalid_type,expected:Et.object,received:l.parsedType}),mr}const{status:n,ctx:s}=this._processInputParams(r),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof sc&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||c.push(l);const u=[];for(const l of o){const d=a[l],p=s.data[l];u.push({key:{status:"valid",value:l},value:d._parse(new ml(s,p,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof sc){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of c)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(l==="strict")c.length>0&&(jt(s,{code:dt.unrecognized_keys,keys:c}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of c){const p=s.data[d];u.push({key:{status:"valid",value:d},value:l._parse(new ml(s,p,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of u){const p=await d.key,f=await d.value;l.push({key:p,value:f,alwaysSet:d.alwaysSet})}return l}).then(l=>Na.mergeObjectSync(n,l)):Na.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(r){return qt.errToObj,new Kn({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,n)=>{const s=this._def.errorMap?.(e,n).message??n.defaultError;return e.code==="unrecognized_keys"?{message:qt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new Kn({...this._def,unknownKeys:"strip"})}passthrough(){return new Kn({...this._def,unknownKeys:"passthrough"})}extend(r){return new Kn({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Kn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:gr.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new Kn({...this._def,catchall:r})}pick(r){const e={};for(const n of Jr.objectKeys(r))r[n]&&this.shape[n]&&(e[n]=this.shape[n]);return new Kn({...this._def,shape:()=>e})}omit(r){const e={};for(const n of Jr.objectKeys(this.shape))r[n]||(e[n]=this.shape[n]);return new Kn({...this._def,shape:()=>e})}deepPartial(){return Rf(this)}partial(r){const e={};for(const n of Jr.objectKeys(this.shape)){const s=this.shape[n];r&&!r[n]?e[n]=s:e[n]=s.optional()}return new Kn({...this._def,shape:()=>e})}required(r){const e={};for(const n of Jr.objectKeys(this.shape))if(r&&!r[n])e[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof al;)a=a._def.innerType;e[n]=a}return new Kn({...this._def,shape:()=>e})}keyof(){return dR(Jr.objectKeys(this.shape))}}Kn.create=(t,r)=>new Kn({shape:()=>t,unknownKeys:"strip",catchall:sc.create(),typeName:gr.ZodObject,...Dr(r)});Kn.strictCreate=(t,r)=>new Kn({shape:()=>t,unknownKeys:"strict",catchall:sc.create(),typeName:gr.ZodObject,...Dr(r)});Kn.lazycreate=(t,r)=>new Kn({shape:t,unknownKeys:"strip",catchall:sc.create(),typeName:gr.ZodObject,...Dr(r)});class vm extends Br{_parse(r){const{ctx:e}=this._processInputParams(r),n=this._def.options;function s(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return e.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new Ti(c.ctx.common.issues));return jt(e,{code:dt.invalid_union,unionErrors:o}),mr}if(e.common.async)return Promise.all(n.map(async a=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const u of n){const l={...e,common:{...e.common,issues:[]},parent:null},d=u._parseSync({data:e.data,path:e.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(u=>new Ti(u));return jt(e,{code:dt.invalid_union,unionErrors:c}),mr}}get options(){return this._def.options}}vm.create=(t,r)=>new vm({options:t,typeName:gr.ZodUnion,...Dr(r)});const Dl=t=>t instanceof km?Dl(t.schema):t instanceof Po?Dl(t.innerType()):t instanceof jm?[t.value]:t instanceof hu?t.options:t instanceof Sm?Jr.objectValues(t.enum):t instanceof Nm?Dl(t._def.innerType):t instanceof bm?[void 0]:t instanceof xm?[null]:t instanceof al?[void 0,...Dl(t.unwrap())]:t instanceof pu?[null,...Dl(t.unwrap())]:t instanceof a4||t instanceof Tm?Dl(t.unwrap()):t instanceof Cm?Dl(t._def.innerType):[];class ix extends Br{_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==Et.object)return jt(e,{code:dt.invalid_type,expected:Et.object,received:e.parsedType}),mr;const n=this.discriminator,s=e.data[n],a=this.optionsMap.get(s);return a?e.common.async?a._parseAsync({data:e.data,path:e.path,parent:e}):a._parseSync({data:e.data,path:e.path,parent:e}):(jt(e,{code:dt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),mr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,n){const s=new Map;for(const a of e){const o=Dl(a.shape[r]);if(!o.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(c)}`);s.set(c,a)}}return new ix({typeName:gr.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:s,...Dr(n)})}}function s_(t,r){const e=Fl(t),n=Fl(r);if(t===r)return{valid:!0,data:t};if(e===Et.object&&n===Et.object){const s=Jr.objectKeys(r),a=Jr.objectKeys(t).filter(c=>s.indexOf(c)!==-1),o={...t,...r};for(const c of a){const u=s_(t[c],r[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(e===Et.array&&n===Et.array){if(t.length!==r.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],c=r[a],u=s_(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return e===Et.date&&n===Et.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class wm extends Br{_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=(a,o)=>{if(r_(a)||r_(o))return mr;const c=s_(a.value,o.value);return c.valid?((n_(a)||n_(o))&&e.dirty(),{status:e.value,value:c.data}):(jt(n,{code:dt.invalid_intersection_types}),mr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wm.create=(t,r,e)=>new wm({left:t,right:r,typeName:gr.ZodIntersection,...Dr(e)});class gl extends Br{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==Et.array)return jt(n,{code:dt.invalid_type,expected:Et.array,received:n.parsedType}),mr;if(n.data.length<this._def.items.length)return jt(n,{code:dt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mr;!this._def.rest&&n.data.length>this._def.items.length&&(jt(n,{code:dt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const a=[...n.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new ml(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Na.mergeArray(e,o)):Na.mergeArray(e,a)}get items(){return this._def.items}rest(r){return new gl({...this._def,rest:r})}}gl.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gl({items:t,typeName:gr.ZodTuple,rest:null,...Dr(r)})};class _m extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==Et.object)return jt(n,{code:dt.invalid_type,expected:Et.object,received:n.parsedType}),mr;const s=[],a=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:a._parse(new ml(n,c,n.path,c)),value:o._parse(new ml(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Na.mergeObjectAsync(e,s):Na.mergeObjectSync(e,s)}get element(){return this._def.valueType}static create(r,e,n){return e instanceof Br?new _m({keyType:r,valueType:e,typeName:gr.ZodRecord,...Dr(n)}):new _m({keyType:ko.create(),valueType:r,typeName:gr.ZodRecord,...Dr(e)})}}class ab extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==Et.map)return jt(n,{code:dt.invalid_type,expected:Et.map,received:n.parsedType}),mr;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([c,u],l)=>({key:s._parse(new ml(n,c,n.path,[l,"key"])),value:a._parse(new ml(n,u,n.path,[l,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,d=await u.value;if(l.status==="aborted"||d.status==="aborted")return mr;(l.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(l.value,d.value)}return{status:e.value,value:c}})}else{const c=new Map;for(const u of o){const l=u.key,d=u.value;if(l.status==="aborted"||d.status==="aborted")return mr;(l.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(l.value,d.value)}return{status:e.value,value:c}}}}ab.create=(t,r,e)=>new ab({valueType:r,keyType:t,typeName:gr.ZodMap,...Dr(e)});class Cd extends Br{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==Et.set)return jt(n,{code:dt.invalid_type,expected:Et.set,received:n.parsedType}),mr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(jt(n,{code:dt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),e.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(jt(n,{code:dt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),e.dirty());const a=this._def.valueType;function o(u){const l=new Set;for(const d of u){if(d.status==="aborted")return mr;d.status==="dirty"&&e.dirty(),l.add(d.value)}return{status:e.value,value:l}}const c=[...n.data.values()].map((u,l)=>a._parse(new ml(n,u,n.path,l)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(r,e){return new Cd({...this._def,minSize:{value:r,message:qt.toString(e)}})}max(r,e){return new Cd({...this._def,maxSize:{value:r,message:qt.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}Cd.create=(t,r)=>new Cd({valueType:t,minSize:null,maxSize:null,typeName:gr.ZodSet,...Dr(r)});class Kf extends Br{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==Et.function)return jt(e,{code:dt.invalid_type,expected:Et.function,received:e.parsedType}),mr;function n(c,u){return rb({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,tb(),gh].filter(l=>!!l),issueData:{code:dt.invalid_arguments,argumentsError:u}})}function s(c,u){return rb({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,tb(),gh].filter(l=>!!l),issueData:{code:dt.invalid_return_type,returnTypeError:u}})}const a={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof bh){const c=this;return Wa(async function(...u){const l=new Ti([]),d=await c._def.args.parseAsync(u,a).catch(h=>{throw l.addIssue(n(u,h)),l}),p=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(p,a).catch(h=>{throw l.addIssue(s(p,h)),l})})}else{const c=this;return Wa(function(...u){const l=c._def.args.safeParse(u,a);if(!l.success)throw new Ti([n(u,l.error)]);const d=Reflect.apply(o,this,l.data),p=c._def.returns.safeParse(d,a);if(!p.success)throw new Ti([s(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Kf({...this._def,args:gl.create(r).rest(md.create())})}returns(r){return new Kf({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,n){return new Kf({args:r||gl.create([]).rest(md.create()),returns:e||md.create(),typeName:gr.ZodFunction,...Dr(n)})}}class km extends Br{get schema(){return this._def.getter()}_parse(r){const{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}km.create=(t,r)=>new km({getter:t,typeName:gr.ZodLazy,...Dr(r)});class jm extends Br{_parse(r){if(r.data!==this._def.value){const e=this._getOrReturnCtx(r);return jt(e,{received:e.data,code:dt.invalid_literal,expected:this._def.value}),mr}return{status:"valid",value:r.data}}get value(){return this._def.value}}jm.create=(t,r)=>new jm({value:t,typeName:gr.ZodLiteral,...Dr(r)});function dR(t,r){return new hu({values:t,typeName:gr.ZodEnum,...Dr(r)})}class hu extends Br{_parse(r){if(typeof r.data!="string"){const e=this._getOrReturnCtx(r),n=this._def.values;return jt(e,{expected:Jr.joinValues(n),received:e.parsedType,code:dt.invalid_type}),mr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const e=this._getOrReturnCtx(r),n=this._def.values;return jt(e,{received:e.data,code:dt.invalid_enum_value,options:n}),mr}return Wa(r.data)}get options(){return this._def.values}get enum(){const r={};for(const e of this._def.values)r[e]=e;return r}get Values(){const r={};for(const e of this._def.values)r[e]=e;return r}get Enum(){const r={};for(const e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return hu.create(r,{...this._def,...e})}exclude(r,e=this._def){return hu.create(this.options.filter(n=>!r.includes(n)),{...this._def,...e})}}hu.create=dR;class Sm extends Br{_parse(r){const e=Jr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==Et.string&&n.parsedType!==Et.number){const s=Jr.objectValues(e);return jt(n,{expected:Jr.joinValues(s),received:n.parsedType,code:dt.invalid_type}),mr}if(this._cache||(this._cache=new Set(Jr.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=Jr.objectValues(e);return jt(n,{received:n.data,code:dt.invalid_enum_value,options:s}),mr}return Wa(r.data)}get enum(){return this._def.values}}Sm.create=(t,r)=>new Sm({values:t,typeName:gr.ZodNativeEnum,...Dr(r)});class bh extends Br{unwrap(){return this._def.type}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==Et.promise&&e.common.async===!1)return jt(e,{code:dt.invalid_type,expected:Et.promise,received:e.parsedType}),mr;const n=e.parsedType===Et.promise?e.data:Promise.resolve(e.data);return Wa(n.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}}bh.create=(t,r)=>new bh({type:t,typeName:gr.ZodPromise,...Dr(r)});class Po extends Br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===gr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=this._def.effect||null,a={addIssue:o=>{jt(n,o),o.fatal?e.abort():e.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async c=>{if(e.value==="aborted")return mr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?mr:u.status==="dirty"||e.value==="dirty"?Lf(u.value):u});{if(e.value==="aborted")return mr;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?mr:c.status==="dirty"||e.value==="dirty"?Lf(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?mr:(c.status==="dirty"&&e.dirty(),o(c.value),{status:e.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?mr:(c.status==="dirty"&&e.dirty(),o(c.value).then(()=>({status:e.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Sd(o))return mr;const c=s.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Sd(o)?Promise.resolve(s.transform(o.value,a)).then(c=>({status:e.value,value:c})):mr);Jr.assertNever(s)}}Po.create=(t,r,e)=>new Po({schema:t,typeName:gr.ZodEffects,effect:r,...Dr(e)});Po.createWithPreprocess=(t,r,e)=>new Po({schema:r,effect:{type:"preprocess",transform:t},typeName:gr.ZodEffects,...Dr(e)});class al extends Br{_parse(r){return this._getType(r)===Et.undefined?Wa(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}al.create=(t,r)=>new al({innerType:t,typeName:gr.ZodOptional,...Dr(r)});class pu extends Br{_parse(r){return this._getType(r)===Et.null?Wa(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}pu.create=(t,r)=>new pu({innerType:t,typeName:gr.ZodNullable,...Dr(r)});class Nm extends Br{_parse(r){const{ctx:e}=this._processInputParams(r);let n=e.data;return e.parsedType===Et.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}Nm.create=(t,r)=>new Nm({innerType:t,typeName:gr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Dr(r)});class Cm extends Br{_parse(r){const{ctx:e}=this._processInputParams(r),n={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ti(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ti(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Cm.create=(t,r)=>new Cm({innerType:t,typeName:gr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Dr(r)});class ib extends Br{_parse(r){if(this._getType(r)!==Et.nan){const n=this._getOrReturnCtx(r);return jt(n,{code:dt.invalid_type,expected:Et.nan,received:n.parsedType}),mr}return{status:"valid",value:r.data}}}ib.create=t=>new ib({typeName:gr.ZodNaN,...Dr(t)});const cJ=Symbol("zod_brand");class a4 extends Br{_parse(r){const{ctx:e}=this._processInputParams(r),n=e.data;return this._def.type._parse({data:n,path:e.path,parent:e})}unwrap(){return this._def.type}}class m0 extends Br{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?mr:a.status==="dirty"?(e.dirty(),Lf(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?mr:s.status==="dirty"?(e.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(r,e){return new m0({in:r,out:e,typeName:gr.ZodPipeline})}}class Tm extends Br{_parse(r){const e=this._def.innerType._parse(r),n=s=>(Sd(s)&&(s.value=Object.freeze(s.value)),s);return gm(e)?e.then(s=>n(s)):n(e)}unwrap(){return this._def.innerType}}Tm.create=(t,r)=>new Tm({innerType:t,typeName:gr.ZodReadonly,...Dr(r)});function g6(t,r){const e=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof e=="string"?{message:e}:e}function i4(t,r={},e){return t?yh.create().superRefine((n,s)=>{const a=t(n);if(a instanceof Promise)return a.then(o=>{if(!o){const c=g6(r,n),u=c.fatal??e??!0;s.addIssue({code:"custom",...c,fatal:u})}});if(!a){const o=g6(r,n),c=o.fatal??e??!0;s.addIssue({code:"custom",...o,fatal:c})}}):yh.create()}const uJ={object:Kn.lazycreate};var gr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(gr||(gr={}));const dJ=(t,r={message:`Input not instance of ${t.name}`})=>i4(e=>e instanceof t,r),Hr=ko.create,o4=du.create,fJ=ib.create,hJ=fu.create,ox=ym.create,pJ=Nd.create,mJ=nb.create,gJ=bm.create,fR=xm.create,ob=yh.create,yJ=md.create,bJ=sc.create,xJ=sb.create,hR=jo.create,Ud=Kn.create,vJ=Kn.strictCreate,l4=vm.create,wJ=ix.create,_J=wm.create,kJ=gl.create,pR=_m.create,jJ=ab.create,SJ=Cd.create,NJ=Kf.create,CJ=km.create,lb=jm.create,c4=hu.create,TJ=Sm.create,EJ=bh.create,y6=Po.create,AJ=al.create,PJ=pu.create,u4=Po.createWithPreprocess,MJ=m0.create,RJ=()=>Hr().optional(),DJ=()=>o4().optional(),IJ=()=>ox().optional(),As={string:(t=>ko.create({...t,coerce:!0})),number:(t=>du.create({...t,coerce:!0})),boolean:(t=>ym.create({...t,coerce:!0})),bigint:(t=>fu.create({...t,coerce:!0})),date:(t=>Nd.create({...t,coerce:!0}))},OJ=mr,FJ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:cJ,DIRTY:Lf,EMPTY_PATH:zZ,INVALID:mr,NEVER:OJ,OK:Wa,ParseStatus:Na,Schema:Br,ZodAny:yh,ZodArray:jo,ZodBigInt:fu,ZodBoolean:ym,ZodBranded:a4,ZodCatch:Cm,ZodDate:Nd,ZodDefault:Nm,ZodDiscriminatedUnion:ix,ZodEffects:Po,ZodEnum:hu,ZodError:Ti,get ZodFirstPartyTypeKind(){return gr},ZodFunction:Kf,ZodIntersection:wm,ZodIssueCode:dt,ZodLazy:km,ZodLiteral:jm,ZodMap:ab,ZodNaN:ib,ZodNativeEnum:Sm,ZodNever:sc,ZodNull:xm,ZodNullable:pu,ZodNumber:du,ZodObject:Kn,ZodOptional:al,ZodParsedType:Et,ZodPipeline:m0,ZodPromise:bh,ZodReadonly:Tm,ZodRecord:_m,ZodSchema:Br,ZodSet:Cd,ZodString:ko,ZodSymbol:nb,ZodTransformer:Po,ZodTuple:gl,ZodType:Br,ZodUndefined:bm,ZodUnion:vm,ZodUnknown:md,ZodVoid:sb,addIssueToContext:jt,any:ob,array:hR,bigint:hJ,boolean:ox,coerce:As,custom:i4,date:pJ,datetimeRegex:uR,defaultErrorMap:gh,discriminatedUnion:wJ,effect:y6,enum:c4,function:NJ,getErrorMap:tb,getParsedType:Fl,instanceof:dJ,intersection:_J,isAborted:r_,isAsync:gm,isDirty:n_,isValid:Sd,late:uJ,lazy:CJ,literal:lb,makeIssue:rb,map:jJ,nan:fJ,nativeEnum:TJ,never:bJ,null:fR,nullable:PJ,number:o4,object:Ud,get objectUtil(){return t_},oboolean:IJ,onumber:DJ,optional:AJ,ostring:RJ,pipeline:MJ,preprocess:u4,promise:EJ,quotelessJson:BZ,record:pR,set:SJ,setErrorMap:$Z,strictObject:vJ,string:Hr,symbol:mJ,transformer:y6,tuple:kJ,undefined:gJ,union:l4,unknown:yJ,get util(){return Jr},void:xJ},Symbol.toStringTag,{value:"Module"})),mR=E.createContext(void 0);function uc(){const t=E.useContext(mR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function LJ({children:t}){const[r,e]=E.useState(null),[n,s]=E.useState(!0),a=_s(),o=r!==null,c=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[l,d]=E.useState(0),[p,f]=E.useState(null);E.useEffect(()=>{jN({getAccessToken:c,refreshToken:q,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const $=window.location.origin;if($.includes("binarjoinanelytic.info"))return`${$}/api`;if($.includes("replit.dev"))return`${$}/api`;if($.startsWith("http://localhost")||$.startsWith("file://")||$==="null")return"https://app2.binarjoinanelytic.info/api"}const I="https://app2.binarjoinanelytic.info/api";return I.endsWith("/api")?I:`${I}/api`})();E.useEffect(()=>{(async()=>{try{const{smartGetAll:$,smartSave:K}=await ln(async()=>{const{smartGetAll:P,smartSave:L}=await Promise.resolve().then(()=>cm);return{smartGetAll:P,smartSave:L}},void 0);(await $("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await K("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),E.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const $=localStorage.getItem("accessToken"),K=localStorage.getItem("user");if(!$||!K){console.log(" [AuthProvider]     "),s(!1);return}try{const U=JSON.parse(K);e(U),s(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${$}`}}).then(async P=>{if(P.ok){const L=await P.json();L.user&&(e(L.user),localStorage.setItem("user",JSON.stringify(L.user)))}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(U){console.error(" [AuthProvider]     :",U),await m()}}catch($){console.error(" [AuthProvider]  :",$)}finally{s(!1)}})()},[]),E.useEffect(()=>{const I=$=>{$.key==="accessToken"&&!$.newValue&&(console.log(" [AuthProvider]       "),e(null))};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[]);const y=async(I,$)=>{console.log(" [AuthProvider.login]   :",I,new Date().toISOString());let K=null,U=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),U=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:I,password:$})}),U.ok?K=await U.json():U.status===503||U.status===500?console.warn(` [AuthProvider]       (${U.status})    ...`):console.warn(` [AuthProvider]    ${U.status}    ...`)}catch(N){console.warn(" [AuthProvider]       ...",N)}if(!K||U&&!U.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:N}=await ln(async()=>{const{smartGetAll:z}=await Promise.resolve().then(()=>cm);return{smartGetAll:z}},void 0),D=await N("emergencyUsers");console.log(` [AuthProvider]  ${D.length}  `);const O=D.find(z=>z.email.toLowerCase()===I.toLowerCase()&&z.password===$);if(O)console.log(" [AuthProvider]     "),K={success:!0,data:{user:{...O,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const z=await N("users");console.log(` [AuthProvider]  ${z.length}  `);const Q=z.find(Y=>Y.email.toLowerCase()===I.toLowerCase());Q&&(console.log(" [AuthProvider]      ()"),K={success:!0,data:{user:Q,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(N){console.error(" [AuthProvider]    :",N)}}if(U&&!U.ok&&!K){const N=await U.json().catch(()=>({}));if(U.status===403&&N.requireEmailVerification){const D=new Error(N.message||"     ");throw D.requireEmailVerification=!0,D.userId=N.data?.userId,D.email=N.data?.email,D.status=403,D.data=N.data,D}throw new Error(N.message||"  ")}const P=K?.data||K,L=P?.user||K?.user;let T=P?.tokens?.accessToken||K?.tokens?.accessToken||P?.accessToken||K?.accessToken||K?.data?.accessToken||P?.token||K?.token,_=P?.tokens?.refreshToken||K?.tokens?.refreshToken||P?.refreshToken||K?.refreshToken||K?.data?.refreshToken;if(!T&&K&&typeof K=="object"){const N=["accessToken","token","jwt","auth_token"];for(const D of N)if(K[D]){T=K[D];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!L,hasToken:!!T,tokenType:typeof T}),!T)throw console.error(" [AuthProvider.login]    :",K),new Error("       .    .");const k={id:L?.id||"unknown",email:L?.email||I,name:L?.name||L?.fullName||`${L?.firstName||""} ${L?.lastName||""}`.trim()||I,role:L?.role||"admin",mfaEnabled:!!L?.mfaEnabled,emailVerified:L?.emailVerified===!0||!0};return console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(k)),localStorage.setItem("accessToken",T),_&&localStorage.setItem("refreshToken",_),e(k),(async()=>{try{console.log(" [AuthProvider]   ...");const N=await ln(()=>Promise.resolve().then(()=>Az),void 0),D=N.startSync||N.default?.startSync;typeof D=="function"&&await D()}catch(N){console.warn(" [AuthProvider]     :",N)}})().then(()=>{console.log(" [AuthProvider]   "),[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(D=>a.invalidateQueries({queryKey:D,refetchType:"active",exact:!1}))}).catch(()=>{}),await new Promise(N=>setTimeout(N,50)),MK().catch(console.warn),console.log(" [AuthProvider.login]    "),K},m=async()=>{try{const I=localStorage.getItem("accessToken");if(I)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${I}`}})}catch{}}catch{}finally{e(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),RK()}},[v,x]=E.useState(0),[S,C]=E.useState(!1),A=I=>new Promise($=>setTimeout($,I)),B=I=>Math.min(100*Math.pow(2,I),5e3),q=async(I=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),S&&!I){for(console.log(" [AuthProvider.refreshToken]    ...");S;)await A(100);return localStorage.getItem("accessToken")!==null}C(!0);const $=Date.now();try{const K=localStorage.getItem("refreshToken");if(!K)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const U=3;for(let L=0;L<U;L++){const T=Date.now();console.log(` [AuthProvider.refreshToken]  ${L+1}/${U}...`);try{const _=new AbortController,k=setTimeout(()=>{_.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${L+1}`)},1e4),j=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:K}),signal:_.signal}),N=j.headers.get("content-type");if(!N||!N.includes("application/json")){console.error(" [AuthProvider.refreshToken]      ( JSON):",N),await A(2e3);continue}clearTimeout(k);const D=Date.now()-T;console.log(` [AuthProvider.refreshToken]  ${L+1}  ${D}ms`);const O=await j.json();if(j.ok&&O.success&&O.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:O.success,hasTokens:!!O.tokens}),localStorage.setItem("accessToken",O.tokens.accessToken),localStorage.setItem("refreshToken",O.tokens.refreshToken),x(0);const z=Date.now()-$;return console.log(` [AuthProvider.refreshToken]    ${z}ms  ${L+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${j.status}:`,O.message||responseText);if(j.status===401||j.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(_){const k=Date.now()-T;_ instanceof Error?_.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${L+1}  ${k}ms`):console.log(` [AuthProvider.refreshToken]     ${L+1}:`,_.message):console.log(` [AuthProvider.refreshToken]      ${L+1}:`,_)}if(L<U-1){const _=B(L);console.log(` [AuthProvider.refreshToken]  ${_}ms   ...`),await A(_)}}x(L=>L+1);const P=Date.now()-$;return console.log(` [AuthProvider.refreshToken]     ${P}ms ${U} `),localStorage.getItem("user")?(console.warn(" [AuthProvider]           Offline"),!1):(await m(),window.location.href="/login",!1)}catch(K){const U=Date.now()-$;return console.error(` [AuthProvider.refreshToken]    ${U}ms:`,K),x(P=>P+1),!1}finally{C(!1)}},R={user:r,isAuthenticated:o,isLoading:n,login:y,logout:m,refreshToken:q,getAccessToken:c,getRefreshToken:u};return E.useEffect(()=>{jN({getAccessToken:c,refreshToken:q,logout:m})},[]),i.jsx(mR.Provider,{value:R,children:t})}var BJ=Symbol.for("react.lazy"),cb=zb[" use ".trim().toString()];function $J(t){return typeof t=="object"&&t!==null&&"then"in t}function gR(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===BJ&&"_payload"in t&&$J(t._payload)}function g0(t){const r=zJ(t),e=E.forwardRef((n,s)=>{let{children:a,...o}=n;gR(a)&&typeof cb=="function"&&(a=cb(a._payload));const c=E.Children.toArray(a),u=c.find(WJ);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}var qd=g0("Slot");function zJ(t){const r=E.forwardRef((e,n)=>{let{children:s,...a}=e;if(gR(s)&&typeof cb=="function"&&(s=cb(s._payload)),E.isValidElement(s)){const o=qJ(s),c=UJ(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var VJ=Symbol("radix.slottable");function WJ(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VJ}function UJ(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function qJ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var HJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KJ=HJ.reduce((t,r)=>{const e=g0(`Primitive.${r}`),n=E.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),GJ="Label",yR=E.forwardRef((t,r)=>i.jsx(KJ.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));yR.displayName=GJ;var bR=yR;const QJ=Vd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=E.forwardRef(({className:t,...r},e)=>i.jsx(bR,{ref:e,className:Ee(QJ(),t),...r}));Ye.displayName=bR.displayName;const ac=wZ,xR=E.createContext({}),Zr=({...t})=>i.jsx(xR.Provider,{value:{name:t.name},children:i.jsx(ZM,{...t})}),lx=()=>{const t=E.useContext(xR),r=E.useContext(vR),{getFieldState:e,formState:n}=vZ(),s=e(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},vR=E.createContext({}),Xr=E.forwardRef(({className:t,...r},e)=>{const n=E.useId();return i.jsx(vR.Provider,{value:{id:n},children:i.jsx("div",{ref:e,className:Ee("space-y-2",t),...r})})});Xr.displayName="FormItem";const Gn=E.forwardRef(({className:t,...r},e)=>{const{error:n,formItemId:s}=lx();return i.jsx(Ye,{ref:e,className:Ee(n&&"text-destructive",t),htmlFor:s,...r})});Gn.displayName="FormLabel";const nn=E.forwardRef(({...t},r)=>{const{error:e,formItemId:n,formDescriptionId:s,formMessageId:a}=lx();return i.jsx(qd,{ref:r,id:n,"aria-describedby":e?`${s} ${a}`:`${s}`,"aria-invalid":!!e,...t})});nn.displayName="FormControl";const XJ=E.forwardRef(({className:t,...r},e)=>{const{formDescriptionId:n}=lx();return i.jsx("p",{ref:e,id:n,className:Ee("text-sm text-muted-foreground",t),...r})});XJ.displayName="FormDescription";const Rn=E.forwardRef(({className:t,children:r,...e},n)=>{const{error:s,formMessageId:a}=lx(),o=s?String(s?.message??""):r;return o?i.jsx("p",{ref:n,id:a,className:Ee("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",t),...e,children:o}):null});Rn.displayName="FormMessage";const d4=E.createContext({});function f4(t){const r=E.useRef(null);return r.current===null&&(r.current=t()),r.current}const cx=E.createContext(null),h4=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YJ extends E.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZJ({children:t,isPresent:r}){const e=E.useId(),n=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=E.useContext(h4);return E.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:l}=s.current;if(r||!n.current||!o||!c)return;n.current.dataset.motionPopId=e;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[r]),i.jsx(YJ,{isPresent:r,childRef:n,sizeRef:s,children:E.cloneElement(t,{ref:n})})}const JJ=({children:t,initial:r,isPresent:e,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const c=f4(eee),u=E.useId(),l=E.useCallback(p=>{c.set(p,!0);for(const f of c.values())if(!f)return;n&&n()},[c,n]),d=E.useMemo(()=>({id:u,initial:r,isPresent:e,custom:s,onExitComplete:l,register:p=>(c.set(p,!1),()=>c.delete(p))}),a?[Math.random(),l]:[e,l]);return E.useMemo(()=>{c.forEach((p,f)=>c.set(f,!1))},[e]),E.useEffect(()=>{!e&&!c.size&&n&&n()},[e]),o==="popLayout"&&(t=i.jsx(ZJ,{isPresent:e,children:t})),i.jsx(cx.Provider,{value:d,children:t})};function eee(){return new Map}function wR(t=!0){const r=E.useContext(cx);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=r,a=E.useId();E.useEffect(()=>{t&&s(a)},[t]);const o=E.useCallback(()=>t&&n&&n(a),[a,n,t]);return!e&&n?[!1,o]:[!0]}const Qg=t=>t.key||"";function b6(t){const r=[];return E.Children.forEach(t,e=>{E.isValidElement(e)&&r.push(e)}),r}const p4=typeof window<"u",_R=p4?E.useLayoutEffect:E.useEffect,Em=({children:t,custom:r,initial:e=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[c,u]=wR(o),l=E.useMemo(()=>b6(t),[t]),d=o&&!c?[]:l.map(Qg),p=E.useRef(!0),f=E.useRef(l),h=f4(()=>new Map),[g,y]=E.useState(l),[m,v]=E.useState(l);_R(()=>{p.current=!1,f.current=l;for(let C=0;C<m.length;C++){const A=Qg(m[C]);d.includes(A)?h.delete(A):h.get(A)!==!0&&h.set(A,!1)}},[m,d.length,d.join("-")]);const x=[];if(l!==g){let C=[...l];for(let A=0;A<m.length;A++){const B=m[A],q=Qg(B);d.includes(q)||(C.splice(A,0,B),x.push(B))}a==="wait"&&x.length&&(C=x),v(b6(C)),y(l);return}const{forceRender:S}=E.useContext(d4);return i.jsx(i.Fragment,{children:m.map(C=>{const A=Qg(C),B=o&&!c?!1:l===m||d.includes(A),q=()=>{if(h.has(A))h.set(A,!0);else return;let R=!0;h.forEach(I=>{I||(R=!1)}),R&&(S?.(),v(f.current),o&&u?.(),n&&n())};return i.jsx(JJ,{isPresent:B,initial:!p.current||e?void 0:!1,custom:B?void 0:r,presenceAffectsLayout:s,mode:a,onExitComplete:B?void 0:q,children:C},A)})})},Ei=t=>t;let kR=Ei;function m4(t){let r;return()=>(r===void 0&&(r=t()),r)}const xh=(t,r,e)=>{const n=r-t;return n===0?1:(e-t)/n},Gl=t=>t*1e3,Ql=t=>t/1e3,tee={useManualTiming:!1};function ree(t){let r=new Set,e=new Set,n=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(l){a.has(l)&&(u.schedule(l),t()),l(o)}const u={schedule:(l,d=!1,p=!1)=>{const h=p&&n?r:e;return d&&a.add(l),h.has(l)||h.add(l),l},cancel:l=>{e.delete(l),a.delete(l)},process:l=>{if(o=l,n){s=!0;return}n=!0,[r,e]=[e,r],r.forEach(c),r.clear(),n=!1,s&&(s=!1,u.process(l))}};return u}const Xg=["read","resolveKeyframes","update","preRender","render","postRender"],nee=40;function jR(t,r){let e=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,o=Xg.reduce((v,x)=>(v[x]=ree(a),v),{}),{read:c,resolveKeyframes:u,update:l,preRender:d,render:p,postRender:f}=o,h=()=>{const v=performance.now();e=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,nee),1),s.timestamp=v,s.isProcessing=!0,c.process(s),u.process(s),l.process(s),d.process(s),p.process(s),f.process(s),s.isProcessing=!1,e&&r&&(n=!1,t(h))},g=()=>{e=!0,n=!0,s.isProcessing||t(h)};return{schedule:Xg.reduce((v,x)=>{const S=o[x];return v[x]=(C,A=!1,B=!1)=>(e||g(),S.schedule(C,A,B)),v},{}),cancel:v=>{for(let x=0;x<Xg.length;x++)o[Xg[x]].cancel(v)},state:s,steps:o}}const{schedule:In,cancel:mu,state:aa,steps:G1}=jR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ei,!0),SR=E.createContext({strict:!1}),x6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vh={};for(const t in x6)vh[t]={isEnabled:r=>x6[t].some(e=>!!r[e])};function see(t){for(const r in t)vh[r]={...vh[r],...t[r]}}const aee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ub(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aee.has(t)}let NR=t=>!ub(t);function iee(t){t&&(NR=r=>r.startsWith("on")?!ub(r):t(r))}try{iee(require("@emotion/is-prop-valid").default)}catch{}function oee(t,r,e){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(NR(s)||e===!0&&ub(s)||!r&&!ub(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function lee(t){if(typeof Proxy>"u")return t;const r=new Map,e=(...n)=>t(...n);return new Proxy(e,{get:(n,s)=>s==="create"?t:(r.has(s)||r.set(s,t(s)),r.get(s))})}const ux=E.createContext({});function Am(t){return typeof t=="string"||Array.isArray(t)}function dx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const g4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y4=["initial",...g4];function fx(t){return dx(t.animate)||y4.some(r=>Am(t[r]))}function CR(t){return!!(fx(t)||t.variants)}function cee(t,r){if(fx(t)){const{initial:e,animate:n}=t;return{initial:e===!1||Am(e)?e:void 0,animate:Am(n)?n:void 0}}return t.inherit!==!1?r:{}}function uee(t){const{initial:r,animate:e}=cee(t,E.useContext(ux));return E.useMemo(()=>({initial:r,animate:e}),[v6(r),v6(e)])}function v6(t){return Array.isArray(t)?t.join(" "):t}const dee=Symbol.for("motionComponentSymbol");function Bf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fee(t,r,e){return E.useCallback(n=>{n&&t.onMount&&t.onMount(n),r&&(n?r.mount(n):r.unmount()),e&&(typeof e=="function"?e(n):Bf(e)&&(e.current=n))},[r])}const b4=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hee="framerAppearId",TR="data-"+b4(hee),{schedule:x4}=jR(queueMicrotask,!1),ER=E.createContext({});function pee(t,r,e,n,s){var a,o;const{visualElement:c}=E.useContext(ux),u=E.useContext(SR),l=E.useContext(cx),d=E.useContext(h4).reducedMotion,p=E.useRef(null);n=n||u.renderer,!p.current&&n&&(p.current=n(t,{visualState:r,parent:c,props:e,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=p.current,h=E.useContext(ER);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&mee(p.current,e,s,h);const g=E.useRef(!1);E.useInsertionEffect(()=>{f&&g.current&&f.update(e,l)});const y=e[TR],m=E.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return _R(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),x4.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function mee(t,r,e,n){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:l}=r;t.projection=new e(t.latestValues,r["data-framer-portal-id"]?void 0:AR(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&Bf(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:l})}function AR(t){if(t)return t.options.allowProjection!==!1?t.projection:AR(t.parent)}function gee({preloadedFeatures:t,createVisualElement:r,useRender:e,useVisualState:n,Component:s}){var a,o;t&&see(t);function c(l,d){let p;const f={...E.useContext(h4),...l,layoutId:yee(l)},{isStatic:h}=f,g=uee(l),y=n(l,h);if(!h&&p4){bee();const m=xee(f);p=m.MeasureLayout,g.visualElement=pee(s,y,f,r,m.ProjectionNode)}return i.jsxs(ux.Provider,{value:g,children:[p&&g.visualElement?i.jsx(p,{visualElement:g.visualElement,...f}):null,e(s,l,fee(y,g.visualElement,d),y,h,g.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const u=E.forwardRef(c);return u[dee]=s,u}function yee({layoutId:t}){const r=E.useContext(d4).id;return r&&t!==void 0?r+"-"+t:t}function bee(t,r){E.useContext(SR).strict}function xee(t){const{drag:r,layout:e}=vh;if(!r&&!e)return{};const n={...r,...e};return{MeasureLayout:r?.isEnabled(t)||e?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const vee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v4(t){return typeof t!="string"||t.includes("-")?!1:!!(vee.indexOf(t)>-1||/[A-Z]/u.test(t))}function w6(t){const r=[{},{}];return t?.values.forEach((e,n)=>{r[0][n]=e.get(),r[1][n]=e.getVelocity()}),r}function w4(t,r,e,n){if(typeof r=="function"){const[s,a]=w6(n);r=r(e!==void 0?e:t.custom,s,a)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[s,a]=w6(n);r=r(e!==void 0?e:t.custom,s,a)}return r}const a_=t=>Array.isArray(t),wee=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_ee=t=>a_(t)?t[t.length-1]||0:t,va=t=>!!(t&&t.getVelocity);function ky(t){const r=va(t)?t.get():t;return wee(r)?r.toValue():r}function kee({scrapeMotionValuesFromProps:t,createRenderState:r,onUpdate:e},n,s,a){const o={latestValues:jee(n,s,a,t),renderState:r()};return e&&(o.onMount=c=>e({props:n,current:c,...o}),o.onUpdate=c=>e(c)),o}const PR=t=>(r,e)=>{const n=E.useContext(ux),s=E.useContext(cx),a=()=>kee(t,r,n,s);return e?a():f4(a)};function jee(t,r,e,n){const s={},a=n(t,{});for(const f in a)s[f]=ky(a[f]);let{initial:o,animate:c}=t;const u=fx(t),l=CR(t);r&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=r.initial),c===void 0&&(c=r.animate));let d=e?e.initial===!1:!1;d=d||o===!1;const p=d?c:o;if(p&&typeof p!="boolean"&&!dx(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const g=w4(t,f[h]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const x in v){let S=v[x];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(s[x]=S)}for(const x in y)s[x]=y[x]}}}return s}const Fh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hd=new Set(Fh),MR=t=>r=>typeof r=="string"&&r.startsWith(t),RR=MR("--"),See=MR("var(--"),_4=t=>See(t)?Nee.test(t.split("/*")[0].trim()):!1,Nee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DR=(t,r)=>r&&typeof t=="number"?r.transform(t):t,ic=(t,r,e)=>e>r?r:e<t?t:e,Lh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pm={...Lh,transform:t=>ic(0,1,t)},Yg={...Lh,default:1},y0=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),Mc=y0("deg"),il=y0("%"),pr=y0("px"),Cee=y0("vh"),Tee=y0("vw"),_6={...il,parse:t=>il.parse(t)/100,transform:t=>il.transform(t*100)},Eee={borderWidth:pr,borderTopWidth:pr,borderRightWidth:pr,borderBottomWidth:pr,borderLeftWidth:pr,borderRadius:pr,radius:pr,borderTopLeftRadius:pr,borderTopRightRadius:pr,borderBottomRightRadius:pr,borderBottomLeftRadius:pr,width:pr,maxWidth:pr,height:pr,maxHeight:pr,top:pr,right:pr,bottom:pr,left:pr,padding:pr,paddingTop:pr,paddingRight:pr,paddingBottom:pr,paddingLeft:pr,margin:pr,marginTop:pr,marginRight:pr,marginBottom:pr,marginLeft:pr,backgroundPositionX:pr,backgroundPositionY:pr},Aee={rotate:Mc,rotateX:Mc,rotateY:Mc,rotateZ:Mc,scale:Yg,scaleX:Yg,scaleY:Yg,scaleZ:Yg,skew:Mc,skewX:Mc,skewY:Mc,distance:pr,translateX:pr,translateY:pr,translateZ:pr,x:pr,y:pr,z:pr,perspective:pr,transformPerspective:pr,opacity:Pm,originX:_6,originY:_6,originZ:pr},k6={...Lh,transform:Math.round},k4={...Eee,...Aee,zIndex:k6,size:pr,fillOpacity:Pm,strokeOpacity:Pm,numOctaves:k6},Pee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mee=Fh.length;function Ree(t,r,e){let n="",s=!0;for(let a=0;a<Mee;a++){const o=Fh[a],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||e){const l=DR(c,k4[o]);if(!u){s=!1;const d=Pee[o]||o;n+=`${d}(${l}) `}e&&(r[o]=l)}}return n=n.trim(),e?n=e(r,s?"":n):s&&(n="none"),n}function j4(t,r,e){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,c=!1;for(const u in r){const l=r[u];if(Hd.has(u)){o=!0;continue}else if(RR(u)){s[u]=l;continue}else{const d=DR(l,k4[u]);u.startsWith("origin")?(c=!0,a[u]=d):n[u]=d}}if(r.transform||(o||e?n.transform=Ree(r,t.transform,e):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:l="50%",originZ:d=0}=a;n.transformOrigin=`${u} ${l} ${d}`}}const Dee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iee={offset:"strokeDashoffset",array:"strokeDasharray"};function Oee(t,r,e=1,n=0,s=!0){t.pathLength=1;const a=s?Dee:Iee;t[a.offset]=pr.transform(-n);const o=pr.transform(r),c=pr.transform(e);t[a.array]=`${o} ${c}`}function j6(t,r,e){return typeof t=="string"?t:pr.transform(r+e*t)}function Fee(t,r,e){const n=j6(r,t.x,t.width),s=j6(e,t.y,t.height);return`${n} ${s}`}function S4(t,{attrX:r,attrY:e,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...l},d,p){if(j4(t,l,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:g}=t;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(s!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=Fee(g,s!==void 0?s:.5,a!==void 0?a:.5)),r!==void 0&&(f.x=r),e!==void 0&&(f.y=e),n!==void 0&&(f.scale=n),o!==void 0&&Oee(f,o,c,u,!1)}const N4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IR=()=>({...N4(),attrs:{}}),C4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OR(t,{style:r,vars:e},n,s){Object.assign(t.style,r,s&&s.getProjectionStyles(n));for(const a in e)t.style.setProperty(a,e[a])}const FR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LR(t,r,e,n){OR(t,r,void 0,n);for(const s in r.attrs)t.setAttribute(FR.has(s)?s:b4(s),r.attrs[s])}const fb={};function Lee(t){Object.assign(fb,t)}function BR(t,{layout:r,layoutId:e}){return Hd.has(t)||t.startsWith("origin")||(r||e!==void 0)&&(!!fb[t]||t==="opacity")}function T4(t,r,e){var n;const{style:s}=t,a={};for(const o in s)(va(s[o])||r.style&&va(r.style[o])||BR(o,t)||((n=e?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function $R(t,r,e){const n=T4(t,r,e);for(const s in t)if(va(t[s])||va(r[s])){const a=Fh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}function Bee(t,r){try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}const S6=["x","y","width","height","cx","cy","r"],$ee={useVisualState:PR({scrapeMotionValuesFromProps:$R,createRenderState:IR,onUpdate:({props:t,prevProps:r,current:e,renderState:n,latestValues:s})=>{if(!e)return;let a=!!t.drag;if(!a){for(const c in s)if(Hd.has(c)){a=!0;break}}if(!a)return;let o=!r;if(r)for(let c=0;c<S6.length;c++){const u=S6[c];t[u]!==r[u]&&(o=!0)}o&&In.read(()=>{Bee(e,n),In.render(()=>{S4(n,s,C4(e.tagName),t.transformTemplate),LR(e,n)})})}})},zee={useVisualState:PR({scrapeMotionValuesFromProps:T4,createRenderState:N4})};function zR(t,r,e){for(const n in r)!va(r[n])&&!BR(n,e)&&(t[n]=r[n])}function Vee({transformTemplate:t},r){return E.useMemo(()=>{const e=N4();return j4(e,r,t),Object.assign({},e.vars,e.style)},[r])}function Wee(t,r){const e=t.style||{},n={};return zR(n,e,t),Object.assign(n,Vee(t,r)),n}function Uee(t,r){const e={},n=Wee(t,r);return t.drag&&t.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=n,e}function qee(t,r,e,n){const s=E.useMemo(()=>{const a=IR();return S4(a,r,C4(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[r]);if(t.style){const a={};zR(a,t.style,t),s.style={...a,...s.style}}return s}function Hee(t=!1){return(e,n,s,{latestValues:a},o)=>{const u=(v4(e)?qee:Uee)(n,a,o,e),l=oee(n,typeof e=="string",t),d=e!==E.Fragment?{...l,...u,ref:s}:{},{children:p}=n,f=E.useMemo(()=>va(p)?p.get():p,[p]);return E.createElement(e,{...d,children:f})}}function Kee(t,r){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...v4(n)?$ee:zee,preloadedFeatures:t,useRender:Hee(s),createVisualElement:r,Component:n};return gee(o)}}function VR(t,r){if(!Array.isArray(r))return!1;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function hx(t,r,e){const n=t.getProps();return w4(n,r,e!==void 0?e:n.custom,t)}const Gee=m4(()=>window.ScrollTimeline!==void 0);class Qee{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}get finished(){return Promise.all(this.animations.map(r=>"finished"in r?r.finished:r))}getAll(r){return this.animations[0][r]}setAll(r,e){for(let n=0;n<this.animations.length;n++)this.animations[n][r]=e}attachTimeline(r,e){const n=this.animations.map(s=>{if(Gee()&&s.attachTimeline)return s.attachTimeline(r);if(typeof e=="function")return e(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let e=0;e<this.animations.length;e++)r=Math.max(r,this.animations[e].duration);return r}runAll(r){this.animations.forEach(e=>e[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Xee extends Qee{then(r,e){return Promise.all(this.animations).then(r).catch(e)}}function E4(t,r){return t?t[r]||t.default||t:void 0}const i_=2e4;function WR(t){let r=0;const e=50;let n=t.next(r);for(;!n.done&&r<i_;)r+=e,n=t.next(r);return r>=i_?1/0:r}function A4(t){return typeof t=="function"}function N6(t,r){t.timeline=r,t.onfinish=null}const P4=t=>Array.isArray(t)&&typeof t[0]=="number",Yee={linearEasing:void 0};function Zee(t,r){const e=m4(t);return()=>{var n;return(n=Yee[r])!==null&&n!==void 0?n:e()}}const hb=Zee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),UR=(t,r,e=10)=>{let n="";const s=Math.max(Math.round(r/e),2);for(let a=0;a<s;a++)n+=t(xh(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function qR(t){return!!(typeof t=="function"&&hb()||!t||typeof t=="string"&&(t in o_||hb())||P4(t)||Array.isArray(t)&&t.every(qR))}const Bp=([t,r,e,n])=>`cubic-bezier(${t}, ${r}, ${e}, ${n})`,o_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bp([0,.65,.55,1]),circOut:Bp([.55,0,1,.45]),backIn:Bp([.31,.01,.66,-.59]),backOut:Bp([.33,1.53,.69,.99])};function HR(t,r){if(t)return typeof t=="function"&&hb()?UR(t,r):P4(t)?Bp(t):Array.isArray(t)?t.map(e=>HR(e,r)||o_.easeOut):o_[t]}const mo={x:!1,y:!1};function KR(){return mo.x||mo.y}function Jee(t,r,e){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function GR(t,r){const e=Jee(t),n=new AbortController,s={passive:!0,...r,signal:n.signal};return[e,s,()=>n.abort()]}function C6(t){return r=>{r.pointerType==="touch"||KR()||t(r)}}function ete(t,r,e={}){const[n,s,a]=GR(t,e),o=C6(c=>{const{target:u}=c,l=r(c);if(typeof l!="function"||!u)return;const d=C6(p=>{l(p),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}const QR=(t,r)=>r?t===r?!0:QR(t,r.parentElement):!1,M4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rte(t){return tte.has(t.tagName)||t.tabIndex!==-1}const $p=new WeakSet;function T6(t){return r=>{r.key==="Enter"&&t(r)}}function Q1(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const nte=(t,r)=>{const e=t.currentTarget;if(!e)return;const n=T6(()=>{if($p.has(e))return;Q1(e,"down");const s=T6(()=>{Q1(e,"up")}),a=()=>Q1(e,"cancel");e.addEventListener("keyup",s,r),e.addEventListener("blur",a,r)});e.addEventListener("keydown",n,r),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),r)};function E6(t){return M4(t)&&!KR()}function ste(t,r,e={}){const[n,s,a]=GR(t,e),o=c=>{const u=c.currentTarget;if(!E6(c)||$p.has(u))return;$p.add(u);const l=r(c),d=(h,g)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),!(!E6(h)||!$p.has(u))&&($p.delete(u),typeof l=="function"&&l(h,{success:g}))},p=h=>{d(h,e.useGlobalTarget||QR(u,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return n.forEach(c=>{!rte(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(e.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c.addEventListener("focus",l=>nte(l,s),s)}),a}function ate(t){return t==="x"||t==="y"?mo[t]?null:(mo[t]=!0,()=>{mo[t]=!1}):mo.x||mo.y?null:(mo.x=mo.y=!0,()=>{mo.x=mo.y=!1})}const XR=new Set(["width","height","top","left","right","bottom",...Fh]);let jy;function ite(){jy=void 0}const ol={now:()=>(jy===void 0&&ol.set(aa.isProcessing||tee.useManualTiming?aa.timestamp:performance.now()),jy),set:t=>{jy=t,queueMicrotask(ite)}};function R4(t,r){t.indexOf(r)===-1&&t.push(r)}function D4(t,r){const e=t.indexOf(r);e>-1&&t.splice(e,1)}class I4{constructor(){this.subscriptions=[]}add(r){return R4(this.subscriptions,r),()=>D4(this.subscriptions,r)}notify(r,e,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](r,e,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(r,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YR(t,r){return r?t*(1e3/r):0}const A6=30,ote=t=>!isNaN(parseFloat(t));class lte{constructor(r,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=ol.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=e.owner}setCurrent(r){this.current=r,this.updatedAt=ol.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=ote(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,e){this.events[r]||(this.events[r]=new I4);const n=this.events[r].add(e);return r==="change"?()=>{n(),In.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,e){this.passiveEffect=r,this.stopPassiveEffect=e}set(r,e=!0){!e||!this.passiveEffect?this.updateAndNotify(r,e):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-n}jump(r,e=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>A6)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,A6);return YR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(r){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=r(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mm(t,r){return new lte(t,r)}function cte(t,r,e){t.hasValue(r)?t.getValue(r).set(e):t.addValue(r,Mm(e))}function ute(t,r){const e=hx(t,r);let{transitionEnd:n={},transition:s={},...a}=e||{};a={...a,...n};for(const o in a){const c=_ee(a[o]);cte(t,o,c)}}function dte(t){return!!(va(t)&&t.add)}function l_(t,r){const e=t.getValue("willChange");if(dte(e))return e.add(r)}function ZR(t){return t.props[TR]}const JR=(t,r,e)=>(((1-3*e+3*r)*t+(3*e-6*r))*t+3*r)*t,fte=1e-7,hte=12;function pte(t,r,e,n,s){let a,o,c=0;do o=r+(e-r)/2,a=JR(o,n,s)-t,a>0?e=o:r=o;while(Math.abs(a)>fte&&++c<hte);return o}function b0(t,r,e,n){if(t===r&&e===n)return Ei;const s=a=>pte(a,0,1,t,e);return a=>a===0||a===1?a:JR(s(a),r,n)}const eD=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,tD=t=>r=>1-t(1-r),rD=b0(.33,1.53,.69,.99),O4=tD(rD),nD=eD(O4),sD=t=>(t*=2)<1?.5*O4(t):.5*(2-Math.pow(2,-10*(t-1))),F4=t=>1-Math.sin(Math.acos(t)),aD=tD(F4),iD=eD(F4),oD=t=>/^0[^.\s]+$/u.test(t);function mte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oD(t):!0}const Jp=t=>Math.round(t*1e5)/1e5,L4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gte(t){return t==null}const yte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B4=(t,r)=>e=>!!(typeof e=="string"&&yte.test(e)&&e.startsWith(t)||r&&!gte(e)&&Object.prototype.hasOwnProperty.call(e,r)),lD=(t,r,e)=>n=>{if(typeof n!="string")return n;const[s,a,o,c]=n.match(L4);return{[t]:parseFloat(s),[r]:parseFloat(a),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},bte=t=>ic(0,255,t),X1={...Lh,transform:t=>Math.round(bte(t))},Yu={test:B4("rgb","red"),parse:lD("red","green","blue"),transform:({red:t,green:r,blue:e,alpha:n=1})=>"rgba("+X1.transform(t)+", "+X1.transform(r)+", "+X1.transform(e)+", "+Jp(Pm.transform(n))+")"};function xte(t){let r="",e="",n="",s="";return t.length>5?(r=t.substring(1,3),e=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(r=t.substring(1,2),e=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),r+=r,e+=e,n+=n,s+=s),{red:parseInt(r,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const c_={test:B4("#"),parse:xte,transform:Yu.transform},$f={test:B4("hsl","hue"),parse:lD("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:e,alpha:n=1})=>"hsla("+Math.round(t)+", "+il.transform(Jp(r))+", "+il.transform(Jp(e))+", "+Jp(Pm.transform(n))+")"},ya={test:t=>Yu.test(t)||c_.test(t)||$f.test(t),parse:t=>Yu.test(t)?Yu.parse(t):$f.test(t)?$f.parse(t):c_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yu.transform(t):$f.transform(t)},vte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wte(t){var r,e;return isNaN(t)&&typeof t=="string"&&(((r=t.match(L4))===null||r===void 0?void 0:r.length)||0)+(((e=t.match(vte))===null||e===void 0?void 0:e.length)||0)>0}const cD="number",uD="color",_te="var",kte="var(",P6="${}",jte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rm(t){const r=t.toString(),e=[],n={color:[],number:[],var:[]},s=[];let a=0;const c=r.replace(jte,u=>(ya.test(u)?(n.color.push(a),s.push(uD),e.push(ya.parse(u))):u.startsWith(kte)?(n.var.push(a),s.push(_te),e.push(u)):(n.number.push(a),s.push(cD),e.push(parseFloat(u))),++a,P6)).split(P6);return{values:e,split:c,indexes:n,types:s}}function dD(t){return Rm(t).values}function fD(t){const{split:r,types:e}=Rm(t),n=r.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=r[o],s[o]!==void 0){const c=e[o];c===cD?a+=Jp(s[o]):c===uD?a+=ya.transform(s[o]):a+=s[o]}return a}}const Ste=t=>typeof t=="number"?0:t;function Nte(t){const r=dD(t);return fD(t)(r.map(Ste))}const gu={test:wte,parse:dD,createTransformer:fD,getAnimatableNone:Nte},Cte=new Set(["brightness","contrast","saturate","opacity"]);function Tte(t){const[r,e]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[n]=e.match(L4)||[];if(!n)return t;const s=e.replace(n,"");let a=Cte.has(r)?1:0;return n!==e&&(a*=100),r+"("+a+s+")"}const Ete=/\b([a-z-]*)\(.*?\)/gu,u_={...gu,getAnimatableNone:t=>{const r=t.match(Ete);return r?r.map(Tte).join(" "):t}},Ate={...k4,color:ya,backgroundColor:ya,outlineColor:ya,fill:ya,stroke:ya,borderColor:ya,borderTopColor:ya,borderRightColor:ya,borderBottomColor:ya,borderLeftColor:ya,filter:u_,WebkitFilter:u_},$4=t=>Ate[t];function hD(t,r){let e=$4(t);return e!==u_&&(e=gu),e.getAnimatableNone?e.getAnimatableNone(r):void 0}const Pte=new Set(["auto","none","0"]);function Mte(t,r,e){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!Pte.has(a)&&Rm(a).values.length&&(s=t[n]),n++}if(s&&e)for(const a of r)t[a]=hD(e,s)}const M6=t=>t===Lh||t===pr,R6=(t,r)=>parseFloat(t.split(", ")[r]),D6=(t,r)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return R6(s[1],r);{const a=n.match(/^matrix\((.+)\)$/u);return a?R6(a[1],t):0}},Rte=new Set(["x","y","z"]),Dte=Fh.filter(t=>!Rte.has(t));function Ite(t){const r=[];return Dte.forEach(e=>{const n=t.getValue(e);n!==void 0&&(r.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),r}const wh={width:({x:t},{paddingLeft:r="0",paddingRight:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),height:({y:t},{paddingTop:r="0",paddingBottom:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:D6(4,13),y:D6(5,14)};wh.translateX=wh.x;wh.translateY=wh.y;const gd=new Set;let d_=!1,f_=!1;function pD(){if(f_){const t=Array.from(gd).filter(n=>n.needsMeasurement),r=new Set(t.map(n=>n.element)),e=new Map;r.forEach(n=>{const s=Ite(n);s.length&&(e.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),r.forEach(n=>{n.render();const s=e.get(n);s&&s.forEach(([a,o])=>{var c;(c=n.getValue(a))===null||c===void 0||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}f_=!1,d_=!1,gd.forEach(t=>t.complete()),gd.clear()}function mD(){gd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f_=!0)})}function Ote(){mD(),pD()}class z4{constructor(r,e,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=e,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gd.add(this),d_||(d_=!0,In.read(mD),In.resolveKeyframes(pD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:e,element:n,motionValue:s}=this;for(let a=0;a<r.length;a++)if(r[a]===null)if(a===0){const o=s?.get(),c=r[r.length-1];if(o!==void 0)r[0]=o;else if(n&&e){const u=n.readValue(e,c);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=c),s&&o===void 0&&s.set(r[0])}else r[a]=r[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Fte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lte(t){const r=Fte.exec(t);if(!r)return[,];const[,e,n,s]=r;return[`--${e??n}`,s]}function yD(t,r,e=1){const[n,s]=Lte(t);if(!n)return;const a=window.getComputedStyle(r).getPropertyValue(n);if(a){const o=a.trim();return gD(o)?parseFloat(o):o}return _4(s)?yD(s,r,e+1):s}const bD=t=>r=>r.test(t),Bte={test:t=>t==="auto",parse:t=>t},xD=[Lh,pr,il,Mc,Tee,Cee,Bte],I6=t=>xD.find(bD(t));class vD extends z4{constructor(r,e,n,s,a){super(r,e,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let l=r[u];if(typeof l=="string"&&(l=l.trim(),_4(l))){const d=yD(l,e.current);d!==void 0&&(r[u]=d),u===r.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!XR.has(n)||r.length!==2)return;const[s,a]=r,o=I6(s),c=I6(a);if(o!==c)if(M6(o)&&M6(c))for(let u=0;u<r.length;u++){const l=r[u];typeof l=="string"&&(r[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:e}=this,n=[];for(let s=0;s<r.length;s++)mte(r[s])&&n.push(s);n.length&&Mte(r,n,e)}measureInitialState(){const{element:r,unresolvedKeyframes:e,name:n}=this;if(!r||!r.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&r.getValue(n,s).jump(s,!1)}measureEndState(){var r;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=wh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([u,l])=>{e.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const O6=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gu.test(t)||t==="0")&&!t.startsWith("url("));function $te(t){const r=t[0];if(t.length===1)return!0;for(let e=0;e<t.length;e++)if(t[e]!==r)return!0}function zte(t,r,e,n){const s=t[0];if(s===null)return!1;if(r==="display"||r==="visibility")return!0;const a=t[t.length-1],o=O6(s,r),c=O6(a,r);return!o||!c?!1:$te(t)||(e==="spring"||A4(e))&&n}const Vte=t=>t!==null;function px(t,{repeat:r,repeatType:e="loop"},n){const s=t.filter(Vte),a=r&&e!=="loop"&&r%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const Wte=40;class wD{constructor({autoplay:r=!0,delay:e=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ol.now(),this.options={autoplay:r,delay:e,type:n,repeat:s,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Wte?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ote(),this._resolved}onKeyframesResolved(r,e){this.resolvedAt=ol.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:c,onUpdate:u,isGenerator:l}=this.options;if(!l&&!zte(r,n,s,a))if(o)this.options.duration=0;else{u&&u(px(r,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const d=this.initPlayback(r,e);d!==!1&&(this._resolved={keyframes:r,finalKeyframe:e,...d},this.onPostResolved())}onPostResolved(){}then(r,e){return this.currentFinishedPromise.then(r,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const Xn=(t,r,e)=>t+(r-t)*e;function Y1(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(r-t)*6*e:e<1/2?r:e<2/3?t+(r-t)*(2/3-e)*6:t}function Ute({hue:t,saturation:r,lightness:e,alpha:n}){t/=360,r/=100,e/=100;let s=0,a=0,o=0;if(!r)s=a=o=e;else{const c=e<.5?e*(1+r):e+r-e*r,u=2*e-c;s=Y1(u,c,t+1/3),a=Y1(u,c,t),o=Y1(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function pb(t,r){return e=>e>0?r:t}const Z1=(t,r,e)=>{const n=t*t,s=e*(r*r-n)+n;return s<0?0:Math.sqrt(s)},qte=[c_,Yu,$f],Hte=t=>qte.find(r=>r.test(t));function F6(t){const r=Hte(t);if(!r)return!1;let e=r.parse(t);return r===$f&&(e=Ute(e)),e}const L6=(t,r)=>{const e=F6(t),n=F6(r);if(!e||!n)return pb(t,r);const s={...e};return a=>(s.red=Z1(e.red,n.red,a),s.green=Z1(e.green,n.green,a),s.blue=Z1(e.blue,n.blue,a),s.alpha=Xn(e.alpha,n.alpha,a),Yu.transform(s))},Kte=(t,r)=>e=>r(t(e)),x0=(...t)=>t.reduce(Kte),h_=new Set(["none","hidden"]);function Gte(t,r){return h_.has(t)?e=>e<=0?t:r:e=>e>=1?r:t}function Qte(t,r){return e=>Xn(t,r,e)}function V4(t){return typeof t=="number"?Qte:typeof t=="string"?_4(t)?pb:ya.test(t)?L6:Zte:Array.isArray(t)?_D:typeof t=="object"?ya.test(t)?L6:Xte:pb}function _D(t,r){const e=[...t],n=e.length,s=t.map((a,o)=>V4(a)(a,r[o]));return a=>{for(let o=0;o<n;o++)e[o]=s[o](a);return e}}function Xte(t,r){const e={...t,...r},n={};for(const s in e)t[s]!==void 0&&r[s]!==void 0&&(n[s]=V4(t[s])(t[s],r[s]));return s=>{for(const a in n)e[a]=n[a](s);return e}}function Yte(t,r){var e;const n=[],s={color:0,var:0,number:0};for(let a=0;a<r.values.length;a++){const o=r.types[a],c=t.indexes[o][s[o]],u=(e=t.values[c])!==null&&e!==void 0?e:0;n[a]=u,s[o]++}return n}const Zte=(t,r)=>{const e=gu.createTransformer(r),n=Rm(t),s=Rm(r);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?h_.has(t)&&!s.values.length||h_.has(r)&&!n.values.length?Gte(t,r):x0(_D(Yte(n,s),s.values),e):pb(t,r)};function kD(t,r,e){return typeof t=="number"&&typeof r=="number"&&typeof e=="number"?Xn(t,r,e):V4(t)(t,r)}const Jte=5;function jD(t,r,e){const n=Math.max(r-Jte,0);return YR(e-t(n),r-n)}const ns={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J1=.001;function ere({duration:t=ns.duration,bounce:r=ns.bounce,velocity:e=ns.velocity,mass:n=ns.mass}){let s,a,o=1-r;o=ic(ns.minDamping,ns.maxDamping,o),t=ic(ns.minDuration,ns.maxDuration,Ql(t)),o<1?(s=l=>{const d=l*o,p=d*t,f=d-e,h=p_(l,o),g=Math.exp(-p);return J1-f/h*g},a=l=>{const p=l*o*t,f=p*e+e,h=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-p),y=p_(Math.pow(l,2),o);return(-s(l)+J1>0?-1:1)*((f-h)*g)/y}):(s=l=>{const d=Math.exp(-l*t),p=(l-e)*t+1;return-J1+d*p},a=l=>{const d=Math.exp(-l*t),p=(e-l)*(t*t);return d*p});const c=5/t,u=rre(s,a,c);if(t=Gl(t),isNaN(u))return{stiffness:ns.stiffness,damping:ns.damping,duration:t};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const tre=12;function rre(t,r,e){let n=e;for(let s=1;s<tre;s++)n=n-t(n)/r(n);return n}function p_(t,r){return t*Math.sqrt(1-r*r)}const nre=["duration","bounce"],sre=["stiffness","damping","mass"];function B6(t,r){return r.some(e=>t[e]!==void 0)}function are(t){let r={velocity:ns.velocity,stiffness:ns.stiffness,damping:ns.damping,mass:ns.mass,isResolvedFromDuration:!1,...t};if(!B6(t,sre)&&B6(t,nre))if(t.visualDuration){const e=t.visualDuration,n=2*Math.PI/(e*1.2),s=n*n,a=2*ic(.05,1,1-(t.bounce||0))*Math.sqrt(s);r={...r,mass:ns.mass,stiffness:s,damping:a}}else{const e=ere(t);r={...r,...e,mass:ns.mass},r.isResolvedFromDuration=!0}return r}function SD(t=ns.visualDuration,r=ns.bounce){const e=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:n,restDelta:s}=e;const a=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:l,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=are({...e,velocity:-Ql(e.velocity||0)}),g=f||0,y=l/(2*Math.sqrt(u*d)),m=o-a,v=Ql(Math.sqrt(u/d)),x=Math.abs(m)<5;n||(n=x?ns.restSpeed.granular:ns.restSpeed.default),s||(s=x?ns.restDelta.granular:ns.restDelta.default);let S;if(y<1){const A=p_(v,y);S=B=>{const q=Math.exp(-y*v*B);return o-q*((g+y*v*m)/A*Math.sin(A*B)+m*Math.cos(A*B))}}else if(y===1)S=A=>o-Math.exp(-v*A)*(m+(g+v*m)*A);else{const A=v*Math.sqrt(y*y-1);S=B=>{const q=Math.exp(-y*v*B),R=Math.min(A*B,300);return o-q*((g+y*v*m)*Math.sinh(R)+A*m*Math.cosh(R))/A}}const C={calculatedDuration:h&&p||null,next:A=>{const B=S(A);if(h)c.done=A>=p;else{let q=0;y<1&&(q=A===0?Gl(g):jD(S,A,B));const R=Math.abs(q)<=n,I=Math.abs(o-B)<=s;c.done=R&&I}return c.value=c.done?o:B,c},toString:()=>{const A=Math.min(WR(C),i_),B=UR(q=>C.next(A*q).value,A,30);return A+"ms "+B}};return C}function $6({keyframes:t,velocity:r=0,power:e=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:l=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=R=>c!==void 0&&R<c||u!==void 0&&R>u,g=R=>c===void 0?u:u===void 0||Math.abs(c-R)<Math.abs(u-R)?c:u;let y=e*r;const m=p+y,v=o===void 0?m:o(m);v!==m&&(y=v-p);const x=R=>-y*Math.exp(-R/n),S=R=>v+x(R),C=R=>{const I=x(R),$=S(R);f.done=Math.abs(I)<=l,f.value=f.done?v:$};let A,B;const q=R=>{h(f.value)&&(A=R,B=SD({keyframes:[f.value,g(f.value)],velocity:jD(S,R,f.value),damping:s,stiffness:a,restDelta:l,restSpeed:d}))};return q(0),{calculatedDuration:null,next:R=>{let I=!1;return!B&&A===void 0&&(I=!0,C(R),q(R)),A!==void 0&&R>=A?B.next(R-A):(!I&&C(R),f)}}}const ire=b0(.42,0,1,1),ore=b0(0,0,.58,1),ND=b0(.42,0,.58,1),lre=t=>Array.isArray(t)&&typeof t[0]!="number",cre={linear:Ei,easeIn:ire,easeInOut:ND,easeOut:ore,circIn:F4,circInOut:iD,circOut:aD,backIn:O4,backInOut:nD,backOut:rD,anticipate:sD},z6=t=>{if(P4(t)){kR(t.length===4);const[r,e,n,s]=t;return b0(r,e,n,s)}else if(typeof t=="string")return cre[t];return t};function ure(t,r,e){const n=[],s=e||kD,a=t.length-1;for(let o=0;o<a;o++){let c=s(t[o],t[o+1]);if(r){const u=Array.isArray(r)?r[o]||Ei:r;c=x0(u,c)}n.push(c)}return n}function dre(t,r,{clamp:e=!0,ease:n,mixer:s}={}){const a=t.length;if(kR(a===r.length),a===1)return()=>r[0];if(a===2&&r[0]===r[1])return()=>r[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=ure(r,n,s),u=c.length,l=d=>{if(o&&d<t[0])return r[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=xh(t[p],t[p+1],d);return c[p](f)};return e?d=>l(ic(t[0],t[a-1],d)):l}function fre(t,r){const e=t[t.length-1];for(let n=1;n<=r;n++){const s=xh(0,r,n);t.push(Xn(e,1,s))}}function hre(t){const r=[0];return fre(r,t.length-1),r}function pre(t,r){return t.map(e=>e*r)}function mre(t,r){return t.map(()=>r||ND).splice(0,t.length-1)}function mb({duration:t=300,keyframes:r,times:e,ease:n="easeInOut"}){const s=lre(n)?n.map(z6):z6(n),a={done:!1,value:r[0]},o=pre(e&&e.length===r.length?e:hre(r),t),c=dre(o,r,{ease:Array.isArray(s)?s:mre(r,s)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const gre=t=>{const r=({timestamp:e})=>t(e);return{start:()=>In.update(r,!0),stop:()=>mu(r),now:()=>aa.isProcessing?aa.timestamp:ol.now()}},yre={decay:$6,inertia:$6,tween:mb,keyframes:mb,spring:SD},bre=t=>t/100;class W4 extends wD{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:n,element:s,keyframes:a}=this.options,o=s?.KeyframeResolver||z4,c=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new o(a,c,e,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:e="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,c=A4(e)?e:yre[e]||mb;let u,l;c!==mb&&typeof r[0]!="number"&&(u=x0(bre,kD(r[0],r[1])),r=[0,100]);const d=c({...this.options,keyframes:r});a==="mirror"&&(l=c({...this.options,keyframes:[...r].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WR(d));const{calculatedDuration:p}=d,f=p+s,h=f*(n+1)-s;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,e=!1){const{resolved:n}=this;if(!n){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:l,totalDuration:d,resolvedDuration:p}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-d/this.speed,this.startTime)),e?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=a;if(h){const R=Math.min(this.currentTime,d)/p;let I=Math.floor(R),$=R%1;!$&&R>=1&&($=1),$===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(g==="reverse"?($=1-$,y&&($-=y/p)):g==="mirror"&&(C=o)),S=ic(0,1,$)*p}const A=x?{done:!1,value:u[0]}:C.next(S);c&&(A.value=c(A.value));let{done:B}=A;!x&&l!==null&&(B=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return q&&s!==void 0&&(A.value=px(u,this.options,s)),m&&m(A.value),q&&this.finish(),A}get duration(){const{resolved:r}=this;return r?Ql(r.calculatedDuration):0}get time(){return Ql(this.currentTime)}set time(r){r=Gl(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const e=this.playbackSpeed!==r;this.playbackSpeed=r,e&&(this.time=Ql(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=gre,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}const xre=new Set(["opacity","clipPath","filter","transform"]);function vre(t,r,e,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:u}={}){const l={[r]:e};u&&(l.offset=u);const d=HR(c,s);return Array.isArray(d)&&(l.easing=d),t.animate(l,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const wre=m4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gb=10,_re=2e4;function kre(t){return A4(t.type)||t.type==="spring"||!qR(t.ease)}function jre(t,r){const e=new W4({...r,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let a=0;for(;!n.done&&a<_re;)n=e.sample(a),s.push(n.value),a+=gb;return{times:void 0,keyframes:s,duration:a-gb,ease:"linear"}}const CD={anticipate:sD,backInOut:nD,circInOut:iD};function Sre(t){return t in CD}class V6 extends wD{constructor(r){super(r);const{name:e,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new vD(a,(o,c)=>this.onKeyframesResolved(o,c),e,n,s),this.resolver.scheduleResolve()}initPlayback(r,e){let{duration:n=300,times:s,ease:a,type:o,motionValue:c,name:u,startTime:l}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&hb()&&Sre(a)&&(a=CD[a]),kre(this.options)){const{onComplete:p,onUpdate:f,motionValue:h,element:g,...y}=this.options,m=jre(r,y);r=m.keyframes,r.length===1&&(r[1]=r[0]),n=m.duration,s=m.times,a=m.ease,o="keyframes"}const d=vre(c.owner.current,u,r,{...this.options,duration:n,times:s,ease:a});return d.startTime=l??this.calcStartTime(),this.pendingTimeline?(N6(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;c.set(px(r,this.options,e)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:a,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:e}=r;return Ql(e)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:e}=r;return Ql(e.currentTime||0)}set time(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Gl(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:e}=r;return e.playbackRate}set speed(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:e}=r;return e.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:e}=r;return e.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:e}=this;if(!e)return Ei;const{animation:n}=e;N6(n,r)}return Ei}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:e,keyframes:n,duration:s,type:a,ease:o,times:c}=r;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:p,element:f,...h}=this.options,g=new W4({...h,keyframes:n,duration:s,type:a,ease:o,times:c,isGenerator:!0}),y=Gl(this.time);l.setWithVelocity(g.sample(y-gb).value,g.sample(y).value,gb)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:o,type:c}=r;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=e.owner.getProps();return wre()&&n&&xre.has(n)&&!u&&!l&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}}const Nre={type:"spring",stiffness:500,damping:25,restSpeed:10},Cre=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tre={type:"keyframes",duration:.8},Ere={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Are=(t,{keyframes:r})=>r.length>2?Tre:Hd.has(t)?t.startsWith("scale")?Cre(r[1]):Nre:Ere;function Pre({when:t,delay:r,delayChildren:e,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const U4=(t,r,e,n={},s,a)=>o=>{const c=E4(n,t)||{},u=c.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Gl(u);let d={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-l,onUpdate:f=>{r.set(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:a?void 0:s};Pre(c)||(d={...d,...Are(t,d)}),d.duration&&(d.duration=Gl(d.duration)),d.repeatDelay&&(d.repeatDelay=Gl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!a&&r.get()!==void 0){const f=px(d.keyframes,c);if(f!==void 0)return In.update(()=>{d.onUpdate(f),d.onComplete()}),new Xee([])}return!a&&V6.supports(d)?new V6(d):new W4(d)};function Mre({protectedKeys:t,needsAnimating:r},e){const n=t.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,n}function TD(t,r,{delay:e=0,transitionOverride:n,type:s}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=r;n&&(o=n);const l=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const f=t.getValue(p,(a=t.latestValues[p])!==null&&a!==void 0?a:null),h=u[p];if(h===void 0||d&&Mre(d,p))continue;const g={delay:e,...E4(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const v=ZR(t);if(v){const x=window.MotionHandoffAnimation(v,p,In);x!==null&&(g.startTime=x,y=!0)}}l_(t,p),f.start(U4(p,f,h,t.shouldReduceMotion&&XR.has(p)?{type:!1}:g,t,y));const m=f.animation;m&&l.push(m)}return c&&Promise.all(l).then(()=>{In.update(()=>{c&&ute(t,c)})}),l}function m_(t,r,e={}){var n;const s=hx(t,r,e.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const o=s?()=>Promise.all(TD(t,s,e)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=a;return Rre(t,r,d+l,p,f,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[l,d]=u==="beforeChildren"?[o,c]:[c,o];return l().then(()=>d())}else return Promise.all([o(),c(e.delay)])}function Rre(t,r,e=0,n=0,s=1,a){const o=[],c=(t.variantChildren.size-1)*n,u=s===1?(l=0)=>l*n:(l=0)=>c-l*n;return Array.from(t.variantChildren).sort(Dre).forEach((l,d)=>{l.notify("AnimationStart",r),o.push(m_(l,r,{...a,delay:e+u(d)}).then(()=>l.notify("AnimationComplete",r)))}),Promise.all(o)}function Dre(t,r){return t.sortNodePosition(r)}function Ire(t,r,e={}){t.notify("AnimationStart",r);let n;if(Array.isArray(r)){const s=r.map(a=>m_(t,a,e));n=Promise.all(s)}else if(typeof r=="string")n=m_(t,r,e);else{const s=typeof r=="function"?hx(t,r,e.custom):r;n=Promise.all(TD(t,s,e))}return n.then(()=>{t.notify("AnimationComplete",r)})}const Ore=y4.length;function ED(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent?ED(t.parent)||{}:{};return t.props.initial!==void 0&&(e.initial=t.props.initial),e}const r={};for(let e=0;e<Ore;e++){const n=y4[e],s=t.props[n];(Am(s)||s===!1)&&(r[n]=s)}return r}const Fre=[...g4].reverse(),Lre=g4.length;function Bre(t){return r=>Promise.all(r.map(({animation:e,options:n})=>Ire(t,e,n)))}function $re(t){let r=Bre(t),e=W6(),n=!0;const s=u=>(l,d)=>{var p;const f=hx(t,d,u==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(f){const{transition:h,transitionEnd:g,...y}=f;l={...l,...y,...g}}return l};function a(u){r=u(t)}function o(u){const{props:l}=t,d=ED(t.parent)||{},p=[],f=new Set;let h={},g=1/0;for(let m=0;m<Lre;m++){const v=Fre[m],x=e[v],S=l[v]!==void 0?l[v]:d[v],C=Am(S),A=v===u?x.isActive:null;A===!1&&(g=m);let B=S===d[v]&&S!==l[v]&&C;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...h},!x.isActive&&A===null||!S&&!x.prevProp||dx(S)||typeof S=="boolean")continue;const q=zre(x.prevProp,S);let R=q||v===u&&x.isActive&&!B&&C||m>g&&C,I=!1;const $=Array.isArray(S)?S:[S];let K=$.reduce(s(v),{});A===!1&&(K={});const{prevResolvedValues:U={}}=x,P={...U,...K},L=k=>{R=!0,f.has(k)&&(I=!0,f.delete(k)),x.needsAnimating[k]=!0;const j=t.getValue(k);j&&(j.liveStyle=!1)};for(const k in P){const j=K[k],N=U[k];if(h.hasOwnProperty(k))continue;let D=!1;a_(j)&&a_(N)?D=!VR(j,N):D=j!==N,D?j!=null?L(k):f.add(k):j!==void 0&&f.has(k)?L(k):x.protectedKeys[k]=!0}x.prevProp=S,x.prevResolvedValues=K,x.isActive&&(h={...h,...K}),n&&t.blockInitialAnimation&&(R=!1),R&&(!(B&&q)||I)&&p.push(...$.map(k=>({animation:k,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const x=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),m[v]=x??null}),p.push({animation:m})}let y=!!p.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?r(p):Promise.resolve()}function c(u,l){var d;if(e[u].isActive===l)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(u,l)}),e[u].isActive=l;const p=o(u);for(const f in e)e[f].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=W6(),n=!0}}}function zre(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!VR(r,t):!1}function Wu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W6(){return{animate:Wu(!0),whileInView:Wu(),whileHover:Wu(),whileTap:Wu(),whileDrag:Wu(),whileFocus:Wu(),exit:Wu()}}class _u{constructor(r){this.isMounted=!1,this.node=r}update(){}}class Vre extends _u{constructor(r){super(r),r.animationState||(r.animationState=$re(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();dx(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:e}=this.node.prevProps||{};r!==e&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let Wre=0;class Ure extends _u{constructor(){super(...arguments),this.id=Wre++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const s=this.node.animationState.setActive("exit",!r);e&&!r&&s.then(()=>e(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const qre={animation:{Feature:Vre},exit:{Feature:Ure}};function Dm(t,r,e,n={passive:!0}){return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e)}function v0(t){return{point:{x:t.pageX,y:t.pageY}}}const Hre=t=>r=>M4(r)&&t(r,v0(r));function em(t,r,e,n){return Dm(t,r,Hre(e),n)}const U6=(t,r)=>Math.abs(t-r);function Kre(t,r){const e=U6(t.x,r.x),n=U6(t.y,r.y);return Math.sqrt(e**2+n**2)}class AD{constructor(r,e,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=tw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Kre(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=p,{timestamp:y}=aa;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ew(f,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=tw(p.type==="pointercancel"?this.lastMoveEventInfo:ew(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,m),g&&g(p,m)},!M4(r))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=n,this.contextWindow=s||window;const o=v0(r),c=ew(o,this.transformPagePoint),{point:u}=c,{timestamp:l}=aa;this.history=[{...u,timestamp:l}];const{onSessionStart:d}=e;d&&d(r,tw(c,this.history)),this.removeListeners=x0(em(this.contextWindow,"pointermove",this.handlePointerMove),em(this.contextWindow,"pointerup",this.handlePointerUp),em(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),mu(this.updatePoint)}}function ew(t,r){return r?{point:r(t.point)}:t}function q6(t,r){return{x:t.x-r.x,y:t.y-r.y}}function tw({point:t},r){return{point:t,delta:q6(t,PD(r)),offset:q6(t,Gre(r)),velocity:Qre(r,.1)}}function Gre(t){return t[0]}function PD(t){return t[t.length-1]}function Qre(t,r){if(t.length<2)return{x:0,y:0};let e=t.length-1,n=null;const s=PD(t);for(;e>=0&&(n=t[e],!(s.timestamp-n.timestamp>Gl(r)));)e--;if(!n)return{x:0,y:0};const a=Ql(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const MD=1e-4,Xre=1-MD,Yre=1+MD,RD=.01,Zre=0-RD,Jre=0+RD;function Ai(t){return t.max-t.min}function ene(t,r,e){return Math.abs(t-r)<=e}function H6(t,r,e,n=.5){t.origin=n,t.originPoint=Xn(r.min,r.max,t.origin),t.scale=Ai(e)/Ai(r),t.translate=Xn(e.min,e.max,t.origin)-t.originPoint,(t.scale>=Xre&&t.scale<=Yre||isNaN(t.scale))&&(t.scale=1),(t.translate>=Zre&&t.translate<=Jre||isNaN(t.translate))&&(t.translate=0)}function tm(t,r,e,n){H6(t.x,r.x,e.x,n?n.originX:void 0),H6(t.y,r.y,e.y,n?n.originY:void 0)}function K6(t,r,e){t.min=e.min+r.min,t.max=t.min+Ai(r)}function tne(t,r,e){K6(t.x,r.x,e.x),K6(t.y,r.y,e.y)}function G6(t,r,e){t.min=r.min-e.min,t.max=t.min+Ai(r)}function rm(t,r,e){G6(t.x,r.x,e.x),G6(t.y,r.y,e.y)}function rne(t,{min:r,max:e},n){return r!==void 0&&t<r?t=n?Xn(r,t,n.min):Math.max(t,r):e!==void 0&&t>e&&(t=n?Xn(e,t,n.max):Math.min(t,e)),t}function Q6(t,r,e){return{min:r!==void 0?t.min+r:void 0,max:e!==void 0?t.max+e-(t.max-t.min):void 0}}function nne(t,{top:r,left:e,bottom:n,right:s}){return{x:Q6(t.x,e,s),y:Q6(t.y,r,n)}}function X6(t,r){let e=r.min-t.min,n=r.max-t.max;return r.max-r.min<t.max-t.min&&([e,n]=[n,e]),{min:e,max:n}}function sne(t,r){return{x:X6(t.x,r.x),y:X6(t.y,r.y)}}function ane(t,r){let e=.5;const n=Ai(t),s=Ai(r);return s>n?e=xh(r.min,r.max-n,t.min):n>s&&(e=xh(t.min,t.max-s,r.min)),ic(0,1,e)}function ine(t,r){const e={};return r.min!==void 0&&(e.min=r.min-t.min),r.max!==void 0&&(e.max=r.max-t.min),e}const g_=.35;function one(t=g_){return t===!1?t=0:t===!0&&(t=g_),{x:Y6(t,"left","right"),y:Y6(t,"top","bottom")}}function Y6(t,r,e){return{min:Z6(t,r),max:Z6(t,e)}}function Z6(t,r){return typeof t=="number"?t:t[r]||0}const J6=()=>({translate:0,scale:1,origin:0,originPoint:0}),zf=()=>({x:J6(),y:J6()}),eC=()=>({min:0,max:0}),is=()=>({x:eC(),y:eC()});function Vi(t){return[t("x"),t("y")]}function DD({top:t,left:r,right:e,bottom:n}){return{x:{min:r,max:e},y:{min:t,max:n}}}function lne({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function cne(t,r){if(!r)return t;const e=r({x:t.left,y:t.top}),n=r({x:t.right,y:t.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function rw(t){return t===void 0||t===1}function y_({scale:t,scaleX:r,scaleY:e}){return!rw(t)||!rw(r)||!rw(e)}function Uu(t){return y_(t)||ID(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ID(t){return tC(t.x)||tC(t.y)}function tC(t){return t&&t!=="0%"}function yb(t,r,e){const n=t-e,s=r*n;return e+s}function rC(t,r,e,n,s){return s!==void 0&&(t=yb(t,s,n)),yb(t,e,n)+r}function b_(t,r=0,e=1,n,s){t.min=rC(t.min,r,e,n,s),t.max=rC(t.max,r,e,n,s)}function OD(t,{x:r,y:e}){b_(t.x,r.translate,r.scale,r.originPoint),b_(t.y,e.translate,e.scale,e.originPoint)}const nC=.999999999999,sC=1.0000000000001;function une(t,r,e,n=!1){const s=e.length;if(!s)return;r.x=r.y=1;let a,o;for(let c=0;c<s;c++){a=e[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wf(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(r.x*=o.x.scale,r.y*=o.y.scale,OD(t,o)),n&&Uu(a.latestValues)&&Wf(t,a.latestValues))}r.x<sC&&r.x>nC&&(r.x=1),r.y<sC&&r.y>nC&&(r.y=1)}function Vf(t,r){t.min=t.min+r,t.max=t.max+r}function aC(t,r,e,n,s=.5){const a=Xn(t.min,t.max,s);b_(t,r,e,a,n)}function Wf(t,r){aC(t.x,r.x,r.scaleX,r.scale,r.originX),aC(t.y,r.y,r.scaleY,r.scale,r.originY)}function FD(t,r){return DD(cne(t.getBoundingClientRect(),r))}function dne(t,r,e){const n=FD(t,e),{scroll:s}=r;return s&&(Vf(n.x,s.offset.x),Vf(n.y,s.offset.y)),n}const LD=({current:t})=>t?t.ownerDocument.defaultView:null,fne=new WeakMap;class hne{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=is(),this.visualElement=r}start(r,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(v0(d).point)},a=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ate(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(m=>{let v=this.getAxisMotionValue(m).get()||0;if(il.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[m];S&&(v=Ai(S)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&In.postRender(()=>g(d,p)),l_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=p;if(h&&this.currentDirection===null){this.currentDirection=pne(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,m),this.updateAxis("y",p.point,m),this.visualElement.render(),y&&y(d,p)},c=(d,p)=>this.stop(d,p),u=()=>Vi(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new AD(r,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:LD(this.visualElement)})}stop(r,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&In.postRender(()=>a(r,e))}cancel(){this.isDragging=!1;const{projection:r,animationState:e}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(r,e,n){const{drag:s}=this.getProps();if(!n||!Zg(r,s,this.currentDirection))return;const a=this.getAxisMotionValue(r);let o=this.originPoint[r]+n[r];this.constraints&&this.constraints[r]&&(o=rne(o,this.constraints[r],this.elastic[r])),a.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,a=this.constraints;e&&Bf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=nne(s.layoutBox,e):this.constraints=!1,this.elastic=one(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ine(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:e}=this.getProps();if(!r||!Bf(r))return!1;const n=r.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=dne(n,s.root,this.visualElement.getTransformPagePoint());let o=sne(s.layout.layoutBox,a);if(e){const c=e(lne(o));this.hasMutatedConstraints=!!c,c&&(o=DD(c))}return o}startAnimation(r){const{drag:e,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},l=Vi(d=>{if(!Zg(d,e,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:n?r[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(d,g)});return Promise.all(l).then(c)}startAxisValueAnimation(r,e){const n=this.getAxisMotionValue(r);return l_(this.visualElement,r),n.start(U4(r,n,0,e,this.visualElement,!1))}stopAnimation(){Vi(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Vi(r=>{var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(r){var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(r){const e=`_drag${r.toUpperCase()}`,n=this.visualElement.getProps(),s=n[e];return s||this.visualElement.getValue(r,(n.initial?n.initial[r]:void 0)||0)}snapToCursor(r){Vi(e=>{const{drag:n}=this.getProps();if(!Zg(e,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];a.set(r[e]-Xn(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Bf(e)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vi(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=ane({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Vi(o=>{if(!Zg(o,r,null))return;const c=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];c.set(Xn(u,l,s[o]))})}addListeners(){if(!this.visualElement.current)return;fne.set(this.visualElement,this);const r=this.visualElement.current,e=em(r,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Bf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),In.read(n);const o=Dm(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Vi(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{o(),e(),a(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=g_,dragMomentum:c=!0}=r;return{...r,drag:e,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Zg(t,r,e){return(r===!0||r===t)&&(e===null||e===t)}function pne(t,r=10){let e=null;return Math.abs(t.y)>r?e="y":Math.abs(t.x)>r&&(e="x"),e}class mne extends _u{constructor(r){super(r),this.removeGroupControls=Ei,this.removeListeners=Ei,this.controls=new hne(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const iC=t=>(r,e)=>{t&&In.postRender(()=>t(r,e))};class gne extends _u{constructor(){super(...arguments),this.removePointerDownListener=Ei}onPointerDown(r){this.session=new AD(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LD(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:e,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:iC(r),onStart:iC(e),onMove:n,onEnd:(a,o)=>{delete this.session,s&&In.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=em(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oC(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Pp={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(pr.test(t))t=parseFloat(t);else return t;const e=oC(t,r.target.x),n=oC(t,r.target.y);return`${e}% ${n}%`}},yne={correct:(t,{treeScale:r,projectionDelta:e})=>{const n=t,s=gu.parse(t);if(s.length>5)return n;const a=gu.createTransformer(t),o=typeof s[0]!="number"?1:0,c=e.x.scale*r.x,u=e.y.scale*r.y;s[0+o]/=c,s[1+o]/=u;const l=Xn(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),a(s)}};class bne extends E.Component{componentDidMount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=r;Lee(xne),a&&(e.group&&e.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sy.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:e,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||r.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),r.isPresent!==a&&(a?o.promote():o.relegate()||In.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),x4.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:s}=r;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function BD(t){const[r,e]=wR(),n=E.useContext(d4);return i.jsx(bne,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(ER),isPresent:r,safeToRemove:e})}const xne={borderRadius:{...Pp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pp,borderTopRightRadius:Pp,borderBottomLeftRadius:Pp,borderBottomRightRadius:Pp,boxShadow:yne};function vne(t,r,e){const n=va(t)?t:Mm(t);return n.start(U4("",n,r,e)),n.animation}function wne(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _ne=(t,r)=>t.depth-r.depth;class kne{constructor(){this.children=[],this.isDirty=!1}add(r){R4(this.children,r),this.isDirty=!0}remove(r){D4(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(_ne),this.isDirty=!1,this.children.forEach(r)}}function jne(t,r){const e=ol.now(),n=({timestamp:s})=>{const a=s-e;a>=r&&(mu(n),t(a-r))};return In.read(n,!0),()=>mu(n)}const $D=["TopLeft","TopRight","BottomLeft","BottomRight"],Sne=$D.length,lC=t=>typeof t=="string"?parseFloat(t):t,cC=t=>typeof t=="number"||pr.test(t);function Nne(t,r,e,n,s,a){s?(t.opacity=Xn(0,e.opacity!==void 0?e.opacity:1,Cne(n)),t.opacityExit=Xn(r.opacity!==void 0?r.opacity:1,0,Tne(n))):a&&(t.opacity=Xn(r.opacity!==void 0?r.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let o=0;o<Sne;o++){const c=`border${$D[o]}Radius`;let u=uC(r,c),l=uC(e,c);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||cC(u)===cC(l)?(t[c]=Math.max(Xn(lC(u),lC(l),n),0),(il.test(l)||il.test(u))&&(t[c]+="%")):t[c]=l}(r.rotate||e.rotate)&&(t.rotate=Xn(r.rotate||0,e.rotate||0,n))}function uC(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const Cne=zD(0,.5,aD),Tne=zD(.5,.95,Ei);function zD(t,r,e){return n=>n<t?0:n>r?1:e(xh(t,r,n))}function dC(t,r){t.min=r.min,t.max=r.max}function zi(t,r){dC(t.x,r.x),dC(t.y,r.y)}function fC(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function hC(t,r,e,n,s){return t-=r,t=yb(t,1/e,n),s!==void 0&&(t=yb(t,1/s,n)),t}function Ene(t,r=0,e=1,n=.5,s,a=t,o=t){if(il.test(r)&&(r=parseFloat(r),r=Xn(o.min,o.max,r/100)-o.min),typeof r!="number")return;let c=Xn(a.min,a.max,n);t===a&&(c-=r),t.min=hC(t.min,r,e,c,s),t.max=hC(t.max,r,e,c,s)}function pC(t,r,[e,n,s],a,o){Ene(t,r[e],r[n],r[s],r.scale,a,o)}const Ane=["x","scaleX","originX"],Pne=["y","scaleY","originY"];function mC(t,r,e,n){pC(t.x,r,Ane,e?e.x:void 0,n?n.x:void 0),pC(t.y,r,Pne,e?e.y:void 0,n?n.y:void 0)}function gC(t){return t.translate===0&&t.scale===1}function VD(t){return gC(t.x)&&gC(t.y)}function yC(t,r){return t.min===r.min&&t.max===r.max}function Mne(t,r){return yC(t.x,r.x)&&yC(t.y,r.y)}function bC(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function WD(t,r){return bC(t.x,r.x)&&bC(t.y,r.y)}function xC(t){return Ai(t.x)/Ai(t.y)}function vC(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class Rne{constructor(){this.members=[]}add(r){R4(this.members,r),r.scheduleRender()}remove(r){if(D4(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(r){const e=this.members.findIndex(s=>r===s);if(e===0)return!1;let n;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(r,e){const n=this.lead;if(r!==n&&(this.prevLead=n,this.lead=r,r.show(),n)){n.instance&&n.scheduleRender(),r.scheduleRender(),r.resumeFrom=n,e&&(r.resumeFrom.preserveOpacity=!0),n.snapshot&&(r.snapshot=n.snapshot,r.snapshot.latestValues=n.animationValues||n.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:s}=r.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:e,resumingFrom:n}=r;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dne(t,r,e){let n="";const s=t.x.translate/r.x,a=t.y.translate/r.y,o=e?.z||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(r.x!==1||r.y!==1)&&(n+=`scale(${1/r.x}, ${1/r.y}) `),e){const{transformPerspective:l,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:g}=e;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),f&&(n+=`rotateY(${f}deg) `),h&&(n+=`skewX(${h}deg) `),g&&(n+=`skewY(${g}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const qu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zp=typeof window<"u"&&window.MotionDebug!==void 0,nw=["","X","Y","Z"],Ine={visibility:"hidden"},wC=1e3;let One=0;function sw(t,r,e,n){const{latestValues:s}=r;s[t]&&(e[t]=s[t],r.setStaticValue(t,0),n&&(n[t]=0))}function UD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const e=ZR(r);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(e,"transform",In,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&UD(n)}function qD({attachResizeListener:t,defaultParent:r,measureScroll:e,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=r?.()){this.id=One++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zp&&(qu.totalNodes=qu.resolvedTargetDeltas=qu.recalculatedProjection=0),this.nodes.forEach(Bne),this.nodes.forEach(Une),this.nodes.forEach(qne),this.nodes.forEach($ne),zp&&window.MotionDebug.record(qu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kne)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new I4),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wne(o),this.instance=o;const{layoutId:u,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(l||u)&&(this.isLayoutDirty=!0),t){let p;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=jne(f,250),Sy.hasAnimatedSinceResize&&(Sy.hasAnimatedSinceResize=!1,this.nodes.forEach(kC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||l)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Xne,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!WD(this.targetLayout,g)||h,S=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,S);const C={...E4(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||kC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_C);return}this.isUpdating||this.nodes.forEach(Vne),this.isUpdating=!1,this.nodes.forEach(Wne),this.nodes.forEach(Fne),this.nodes.forEach(Lne),this.clearAllSnapshots();const c=ol.now();aa.delta=ic(0,1e3/60,c-aa.timestamp),aa.timestamp=c,aa.isProcessing=!0,G1.update.process(aa),G1.preRender.process(aa),G1.render.process(aa),aa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zne),this.sharedNodes.forEach(Kne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!VD(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&(c||Uu(this.latestValues)||d)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),Yne(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return is();const u=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Zne))){const{scroll:d}=this.root;d&&(Vf(u.x,d.offset.x),Vf(u.y,d.offset.y))}return u}removeElementScroll(o){var c;const u=is();if(zi(u,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&zi(u,o),Vf(u.x,p.offset.x),Vf(u.y,p.offset.y))}return u}applyTransform(o,c=!1){const u=is();zi(u,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Uu(d.latestValues)&&Wf(u,d.latestValues)}return Uu(this.latestValues)&&Wf(u,this.latestValues),u}removeTransform(o){const c=is();zi(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Uu(l.latestValues))continue;y_(l.latestValues)&&l.updateSnapshot();const d=is(),p=l.measurePageBox();zi(d,p),mC(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return Uu(this.latestValues)&&mC(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==aa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!(!this.layout||!(p||f))){if(this.resolvedRelativeTargetAt=aa.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),rm(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=is(),this.targetWithTransforms=is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zi(this.target,this.layout.layoutBox),OD(this.target,this.targetDelta)):zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=is(),this.relativeTargetOrigin=is(),rm(this.relativeTargetOrigin,this.target,h.target),zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zp&&qu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y_(this.parent.latestValues)||ID(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===aa.timestamp&&(l=!1),l)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;zi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;une(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=is());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fC(this.prevProjectionDelta.x,this.projectionDelta.x),fC(this.prevProjectionDelta.y,this.projectionDelta.y)),tm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!vC(this.projectionDelta.x,this.prevProjectionDelta.x)||!vC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),zp&&qu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zf(),this.projectionDelta=zf(),this.projectionDeltaWithTransform=zf()}setAnimationOrigin(o,c=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},p=zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const f=is(),h=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,m=this.getStack(),v=!m||m.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Qne));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const A=C/1e3;jC(p.x,o.x,A),jC(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gne(this.relativeTarget,this.relativeTargetOrigin,f,A),S&&Mne(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=is()),zi(S,this.relativeTarget)),y&&(this.animationValues=d,Nne(d,l,this.latestValues,A,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{Sy.hasAnimatedSinceResize=!0,this.currentAnimation=vne(0,wC,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:l,latestValues:d}=o;if(!(!c||!u||!l)){if(this!==o&&this.layout&&l&&HD(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||is();const p=Ai(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const f=Ai(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+f}zi(c,u),Wf(c,d),tm(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rne),this.sharedNodes.get(o).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const l={};u.z&&sw("z",o,l,this.animationValues);for(let d=0;d<nw.length;d++)sw(`rotate${nw[d]}`,o,l,this.animationValues),sw(`skew${nw[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}getProjectionStyles(o){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ine;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ky(o?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ky(o?.pointerEvents)||""),this.hasProjected&&!Uu(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),l.transform=Dne(this.projectionDeltaWithTransform,this.treeScale,f),d&&(l.transform=d(f,l.transform));const{x:h,y:g}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,p.animationValues?l.opacity=p===this?(u=(c=f.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in fb){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=fb[y],x=l.transform==="none"?f[y]:m(f[y],p);if(v){const S=v.length;for(let C=0;C<S;C++)l[v[C]]=x}else l[y]=x}return this.options.layoutId&&(l.pointerEvents=p===this?ky(o?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(_C),this.root.sharedNodes.clear()}}}function Fne(t){t.updateLayout()}function Lne(t){var r;const e=((r=t.resumeFrom)===null||r===void 0?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Vi(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],h=Ai(f);f.min=n[p].min,f.max=f.min+h}):HD(a,e.layoutBox,n)&&Vi(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],h=Ai(n[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const c=zf();tm(c,n,e.layoutBox);const u=zf();o?tm(u,t.applyTransform(s,!0),e.measuredBox):tm(u,n,e.layoutBox);const l=!VD(c);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const g=is();rm(g,e.layoutBox,f.layoutBox);const y=is();rm(y,n,h.layoutBox),WD(g,y)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Bne(t){zp&&qu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $ne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zne(t){t.clearSnapshot()}function _C(t){t.clearMeasurements()}function Vne(t){t.isLayoutDirty=!1}function Wne(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function kC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Une(t){t.resolveTargetDelta()}function qne(t){t.calcProjection()}function Hne(t){t.resetSkewAndRotation()}function Kne(t){t.removeLeadSnapshot()}function jC(t,r,e){t.translate=Xn(r.translate,0,e),t.scale=Xn(r.scale,1,e),t.origin=r.origin,t.originPoint=r.originPoint}function SC(t,r,e,n){t.min=Xn(r.min,e.min,n),t.max=Xn(r.max,e.max,n)}function Gne(t,r,e,n){SC(t.x,r.x,e.x,n),SC(t.y,r.y,e.y,n)}function Qne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xne={duration:.45,ease:[.4,0,.1,1]},NC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),CC=NC("applewebkit/")&&!NC("chrome/")?Math.round:Ei;function TC(t){t.min=CC(t.min),t.max=CC(t.max)}function Yne(t){TC(t.x),TC(t.y)}function HD(t,r,e){return t==="position"||t==="preserve-aspect"&&!ene(xC(r),xC(e),.2)}function Zne(t){var r;return t!==t.root&&((r=t.scroll)===null||r===void 0?void 0:r.wasRoot)}const Jne=qD({attachResizeListener:(t,r)=>Dm(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aw={current:void 0},KD=qD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aw.current){const t=new Jne({});t.mount(window),t.setOptions({layoutScroll:!0}),aw.current=t}return aw.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ese={pan:{Feature:gne},drag:{Feature:mne,ProjectionNode:KD,MeasureLayout:BD}};function EC(t,r,e){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=n[s];a&&In.postRender(()=>a(r,v0(r)))}class tse extends _u{mount(){const{current:r}=this.node;r&&(this.unmount=ete(r,e=>(EC(this.node,e,"Start"),n=>EC(this.node,n,"End"))))}unmount(){}}class rse extends _u{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=x0(Dm(this.node.current,"focus",()=>this.onFocus()),Dm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AC(t,r,e){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=n[s];a&&In.postRender(()=>a(r,v0(r)))}class nse extends _u{mount(){const{current:r}=this.node;r&&(this.unmount=ste(r,e=>(AC(this.node,e,"Start"),(n,{success:s})=>AC(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x_=new WeakMap,iw=new WeakMap,sse=t=>{const r=x_.get(t.target);r&&r(t)},ase=t=>{t.forEach(sse)};function ise({root:t,...r}){const e=t||document;iw.has(e)||iw.set(e,{});const n=iw.get(e),s=JSON.stringify(r);return n[s]||(n[s]=new IntersectionObserver(ase,{root:t,...r})),n[s]}function ose(t,r,e){const n=ise(r);return x_.set(t,e),n.observe(t),()=>{x_.delete(t),n.unobserve(t)}}const lse={some:0,all:1};class cse extends _u{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:e,margin:n,amount:s="some",once:a}=r,o={root:e?e.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:lse[s]},c=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,a&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=l?d:p;f&&f(u)};return ose(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:e}=this.node;["amount","margin","root"].some(use(r,e))&&this.startObserver()}unmount(){}}function use({viewport:t={}},{viewport:r={}}={}){return e=>t[e]!==r[e]}const dse={inView:{Feature:cse},tap:{Feature:nse},focus:{Feature:rse},hover:{Feature:tse}},fse={layout:{ProjectionNode:KD,MeasureLayout:BD}},v_={current:null},GD={current:!1};function hse(){if(GD.current=!0,!!p4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>v_.current=t.matches;t.addListener(r),r()}else v_.current=!1}const pse=[...xD,ya,gu],mse=t=>pse.find(bD(t)),PC=new WeakMap;function gse(t,r,e){for(const n in r){const s=r[n],a=e[n];if(va(s))t.addValue(n,s);else if(va(a))t.addValue(n,Mm(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Mm(o!==void 0?o:s,{owner:t}))}}for(const n in e)r[n]===void 0&&t.removeValue(n);return r}const MC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yse{scrapeMotionValuesFromProps(r,e,n){return{}}constructor({parent:r,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ol.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,In.render(this.render,!1,!0))};const{latestValues:u,renderState:l,onUpdate:d}=o;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=l,this.parent=r,this.props=e,this.presenceContext=n,this.depth=r?r.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=fx(e),this.isVariantNode=CR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const h in f){const g=f[h];u[h]!==void 0&&va(g)&&g.set(u[h],!1)}}mount(r){this.current=r,PC.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),GD.current||hse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PC.delete(this.current),this.projection&&this.projection.unmount(),mu(this.notifyUpdate),mu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const e=this.features[r];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(r,e){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const n=Hd.has(r),s=e.on("change",c=>{this.latestValues[r]=c,this.props.onUpdate&&In.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,e)),this.valueSubscriptions.set(r,()=>{s(),a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in vh){const e=vh[r];if(!e)continue;const{isEnabled:n,Feature:s}=e;if(!this.features[r]&&s&&n(this.props)&&(this.features[r]=new s(this)),this.features[r]){const a=this.features[r];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):is()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,e){this.latestValues[r]=e}update(r,e){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<MC.length;n++){const s=MC[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=r[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=gse(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(r),()=>e.variantChildren.delete(r)}addValue(r,e){const n=this.values.get(r);e!==n&&(n&&this.removeValue(r),this.bindToMotionValue(r,e),this.values.set(r,e),this.latestValues[r]=e.get())}removeValue(r){this.values.delete(r);const e=this.valueSubscriptions.get(r);e&&(e(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,e){if(this.props.values&&this.props.values[r])return this.props.values[r];let n=this.values.get(r);return n===void 0&&e!==void 0&&(n=Mm(e===null?void 0:e,{owner:this}),this.addValue(r,n)),n}readValue(r,e){var n;let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(n=this.getBaseTargetFromProps(this.props,r))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(gD(s)||oD(s))?s=parseFloat(s):!mse(s)&&gu.test(e)&&(s=hD(r,e)),this.setBaseTarget(r,va(s)?s.get():s)),va(s)?s.get():s}setBaseTarget(r,e){this.baseTarget[r]=e}getBaseTarget(r){var e;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=w4(this.props,n,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[r])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,r);return a!==void 0&&!va(a)?a:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,e){return this.events[r]||(this.events[r]=new I4),this.events[r].add(e)}notify(r,...e){this.events[r]&&this.events[r].notify(...e)}}class QD extends yse{constructor(){super(...arguments),this.KeyframeResolver=vD}sortInstanceNodePosition(r,e){return r.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(r,e){return r.style?r.style[e]:void 0}removeValueFromRenderState(r,{vars:e,style:n}){delete e[r],delete n[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;va(r)&&(this.childSubscription=r.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function bse(t){return window.getComputedStyle(t)}class xse extends QD{constructor(){super(...arguments),this.type="html",this.renderInstance=OR}readValueFromInstance(r,e){if(Hd.has(e)){const n=$4(e);return n&&n.default||0}else{const n=bse(r),s=(RR(e)?n.getPropertyValue(e):n[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(r,{transformPagePoint:e}){return FD(r,e)}build(r,e,n){j4(r,e,n.transformTemplate)}scrapeMotionValuesFromProps(r,e,n){return T4(r,e,n)}}class vse extends QD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=is}getBaseTargetFromProps(r,e){return r[e]}readValueFromInstance(r,e){if(Hd.has(e)){const n=$4(e);return n&&n.default||0}return e=FR.has(e)?e:b4(e),r.getAttribute(e)}scrapeMotionValuesFromProps(r,e,n){return $R(r,e,n)}build(r,e,n){S4(r,e,this.isSVGTag,n.transformTemplate)}renderInstance(r,e,n,s){LR(r,e,n,s)}mount(r){this.isSVGTag=C4(r.tagName),super.mount(r)}}const wse=(t,r)=>v4(t)?new vse(r):new xse(r,{allowProjection:t!==E.Fragment}),_se=Kee({...qre,...dse,...ese,...fse},wse),vn=lee(_se),kse=(t,r="")=>{const[e,n]=E.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${t}`)||r),s=E.useCallback(o=>{n(o),typeof window<"u"&&(o?localStorage.setItem(`form-memory-${t}`,o):localStorage.removeItem(`form-memory-${t}`))},[t]),a=E.useCallback(()=>{n(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${t}`)},[t]);return{value:e,updateValue:s,clearMemory:a}},jse=(t,r,e,n)=>{const[s,a]=E.useState({isValid:!0});return E.useEffect(()=>{if(!t){a({isValid:!0});return}if(e){a(c=>({...c,isValidating:!0}));const o=setTimeout(()=>{const c=e(t);a({...c,isValidating:!1})},300);return()=>clearTimeout(o)}if(r&&(r==="email"||r==="password")){if(r==="email"&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){a({isValid:!1,message:"    ",isValidating:!1});return}a(c=>({...c,isValidating:!0}));const o=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:r,value:t,context:n||"register"})})).json();u.success?a({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):a({isValid:!1,message:"   ",isValidating:!1})}catch(c){console.error("  :",c),a({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(o)}},[t,e,r,n]),s},yt=E.forwardRef(({className:t,type:r="text",enableMemory:e=!1,memoryKey:n,validator:s,showValidation:a=!0,leftIcon:o,rightIcon:c,loading:u=!1,strengthIndicator:l=!1,fieldType:d,validationContext:p,hidePasswordToggle:f=!1,autoWidth:h=!1,maxWidth:g=420,onChange:y,value:m,...v},x)=>{const[S,C]=E.useState(!1),[A,B]=E.useState(!1),q=E.useRef(null),[R,I]=E.useState("100%"),{value:$,updateValue:K}=kse(n||`input-${v.name||"default"}`,typeof m=="string"?m:""),U=m!==void 0?String(m):$,P=jse(U,d,s,p);E.useEffect(()=>{if(h&&q.current){q.current.textContent=U||v.placeholder||"";const O=q.current.offsetWidth+32;I(Math.max(60,Math.min(O,g)))}else h||I("100%")},[U,h,v.placeholder,g]);const L=E.useCallback(O=>{const z=O.target.value;e&&m===void 0&&K(z),y?.(O)},[e,m,K,y]),T=E.useCallback(()=>{C(O=>!O)},[]),_=r==="password"?S?"text":"password":r,k=o||u,j=c||r==="password"||a&&P.message,N=()=>P.isValidating?"border-blue-300 ring-blue-100":P.isValid?P.isValid&&U?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200",D=E.useMemo(()=>{const O={position:"relative"};return h?(O.width=typeof R=="number"?`${R}px`:R,O.minWidth="60px"):O.width="100%",O},[h,R]);return i.jsxs("div",{className:Ee("relative",h?"inline-block align-bottom":"w-full"),children:[h&&i.jsx("span",{ref:q,className:"absolute invisible whitespace-pre font-inherit px-4 text-sm pointer-events-none",style:{font:"inherit",letterSpacing:"inherit"},"aria-hidden":"true"}),i.jsxs(vn.div,{animate:{scale:A?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:D,children:[i.jsx("input",{type:_,className:Ee("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",k&&"pr-11",j&&"pl-11",N(),t),ref:x,value:U,onChange:L,onFocus:()=>B(!0),onBlur:()=>B(!1),...v}),k&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?i.jsx(sn,{className:"h-4 w-4 animate-spin"}):o}),j&&i.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[r==="password"&&!f&&i.jsx(vn.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:T,children:S?i.jsx(wd,{className:"h-4 w-4"}):i.jsx(ou,{className:"h-4 w-4"})}),a&&U&&!P.isValidating&&i.jsx(vn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:P.isValid?i.jsx(Co,{className:"h-4 w-4 text-green-500"}):i.jsx(ua,{className:"h-4 w-4 text-red-500"})}),P.isValidating&&i.jsx(sn,{className:"h-4 w-4 animate-spin text-blue-500"}),c]})]}),l&&r==="password"&&U&&typeof P.strength=="number"&&i.jsxs(vn.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map(O=>i.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:P.strength>=O?O<=2?"#ef4444":O===3?"#eab308":"#22c55e":"#e5e7eb"}},O))}),i.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",P.strength<=2?"":P.strength===3?"":""]})]}),i.jsx(Em,{children:a&&P.message&&i.jsxs(vn.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:P.isValid?"#15803d":"#dc2626",backgroundColor:P.isValid?"#f0fdf4":"#fef2f2",borderColor:P.isValid?"#bbf7d0":"#fecaca"},children:[P.isValid?i.jsx(Co,{className:"h-3 w-3 text-green-500"}):i.jsx(ua,{className:"h-3 w-3 text-red-500"}),P.message]})})]})});yt.displayName="Input";const Sse=(t=1e3)=>{const[r,e]=E.useState(!1),n=E.useRef(0),s=E.useCallback(()=>{const a=Date.now();return a-n.current<t?(e(!0),!1):(n.current=a,e(!1),!0)},[t]);return{isLimited:r,checkRateLimit:s}},Im=Vd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Re=E.forwardRef(({className:t,variant:r,size:e,asChild:n=!1,loading:s=!1,loadingText:a=" ...",enableRateLimit:o=!1,rateLimitDelay:c=1e3,ripple:u=!0,onClick:l,children:d,disabled:p,...f},h)=>{const g=n?qd:"button",{isLimited:y,checkRateLimit:m}=Sse(c),[v,x]=E.useState({}),[S,C]=E.useState(!1),A=E.useCallback(R=>{if(!(s||p)){if(o&&!m()){R.preventDefault();return}if(u){const $=R.currentTarget.getBoundingClientRect(),K=R.clientX-$.left,U=R.clientY-$.top;x({left:K-10,top:U-10,width:20,height:20}),C(!0),setTimeout(()=>C(!1),600)}l?.(R)}},[s,p,o,m,u,l]),B=p||s||o&&y,q=i.jsxs(i.Fragment,{children:[S&&u&&i.jsx(vn.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),s?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"h-4 w-4 animate-spin"}),a]}):d,o&&y&&i.jsx(vn.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return i.jsx(vn.div,{whileHover:{scale:B?1:1.02},whileTap:{scale:B?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:i.jsx(g,{className:Ee(Im({variant:r,size:e,className:t})),ref:h,onClick:A,disabled:B,...f,children:q})})});Re.displayName="Button";const XD="/assets/logo_header_light.png",Nse="/assets/logo_header_dark.png",YD="/assets/app_icon_light.png",Cse="/assets/app_icon_dark.png",Tse=Ud({email:Hr().email("   "),password:Hr().min(1,"  ")});function Ese(){const[,t]=Os(),{toast:r}=pn(),{login:e}=uc(),[n,s]=E.useState("online"),[a,o]=E.useState(!1),[c,u]=E.useState(!1),l=rc({resolver:nc(Tse),defaultValues:{email:"",password:""}}),d=Dt({mutationFn:async p=>await e(p.email,p.password),onSuccess:()=>{r({title:"  ",description:"    "}),t("/")},onError:p=>{if(p.requireEmailVerification||p.status===403){r({title:"    ",description:"       ",variant:"default"});const f=p.userId||p.data?.userId,h=p.email||p.data?.email||l.getValues("email");t(`/verify-email?userId=${f}&email=${encodeURIComponent(h)}`);return}r({title:"  ",description:p.message||"    ",variant:"destructive"})}});return i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[i.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[i.jsxs("div",{className:"text-right flex flex-col items-end",children:[i.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),i.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),i.jsx(Re,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[i.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[i.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),i.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[i.jsx("img",{src:YD,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),i.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),i.jsxs("div",{className:"text-center relative",children:[i.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:i.jsx("img",{src:XD,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[i.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),i.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),i.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[i.jsxs("button",{type:"button",onClick:()=>s("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[i.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[i.jsx("span",{className:`text-[8px] font-bold ${n==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),i.jsx("span",{className:"text-[11px] font-black",children:" "})]}),i.jsx("div",{className:`p-1.5 rounded-lg ${n==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:i.jsx($N,{className:"w-4 h-4"})})]}),i.jsxs("button",{type:"button",onClick:()=>s("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[i.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[i.jsx("span",{className:`text-[8px] font-bold ${n==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),i.jsx("span",{className:"text-[11px] font-black",children:" "})]}),i.jsx("div",{className:`p-1.5 rounded-lg ${n==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:i.jsx(Ok,{className:"w-4 h-4"})})]})]}),i.jsx(ac,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(p=>d.mutate(p)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[i.jsx(Zr,{control:l.control,name:"email",render:({field:p})=>i.jsx(Xr,{children:i.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),i.jsx(nn,{children:i.jsx(yt,{...p,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),i.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:i.jsx(zn,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),i.jsx(Zr,{control:l.control,name:"password",render:({field:p})=>i.jsx(Xr,{children:i.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),i.jsx(nn,{children:i.jsx(yt,{...p,type:a?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),i.jsx("button",{type:"button",onClick:()=>o(!a),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:a?i.jsx(ou,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):i.jsx(wd,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),i.jsxs("div",{className:"flex justify-between px-1",children:[i.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),i.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsx(Re,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?i.jsx(sn,{className:"animate-spin h-5 w-5"}):" "}),i.jsx(Re,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>t("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),i.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[i.jsxs("div",{className:"flex items-center gap-4 w-full",children:[i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),i.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),i.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:gQ,label:"Biometric",testId:"button-fingerprint"},{Icon:$N,label:"QR Scan",testId:"button-scan-qr"},{Icon:kQ,label:"Support",testId:"button-support"}].map(({Icon:p,label:f,testId:h},g)=>i.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":h,children:i.jsx(p,{className:"w-5 h-5",strokeWidth:1.5})},g))}),i.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),i.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),c&&i.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:i.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[i.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),i.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:i.jsx(Rs,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}function q4(t){const r=E.useRef({value:t,previous:t});return E.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var mx="Checkbox",[Ase]=da(mx),[Pse,H4]=Ase(mx);function Mse(t){const{__scopeCheckbox:r,checked:e,children:n,defaultChecked:s,disabled:a,form:o,name:c,onCheckedChange:u,required:l,value:d="on",internal_do_not_use_render:p}=t,[f,h]=no({prop:e,defaultProp:s??!1,onChange:u,caller:mx}),[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useRef(!1),S=g?!!o||!!g.closest("form"):!0,C={checked:f,disabled:a,setChecked:h,control:g,setControl:y,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:l,defaultChecked:Xc(s)?!1:s,isFormControl:S,bubbleInput:m,setBubbleInput:v};return i.jsx(Pse,{scope:r,...C,children:Rse(p)?p(C):n})}var ZD="CheckboxTrigger",JD=E.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:e,...n},s)=>{const{control:a,value:o,disabled:c,checked:u,required:l,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=H4(ZD,t),y=Ar(s,d),m=E.useRef(u);return E.useEffect(()=>{const v=a?.form;if(v){const x=()=>p(m.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[a,p]),i.jsx(Ht.button,{type:"button",role:"checkbox","aria-checked":Xc(u)?"mixed":u,"aria-required":l,"data-state":sI(u),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:y,onKeyDown:ft(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ft(e,v=>{p(x=>Xc(x)?!0:!x),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});JD.displayName=ZD;var K4=E.forwardRef((t,r)=>{const{__scopeCheckbox:e,name:n,checked:s,defaultChecked:a,required:o,disabled:c,value:u,onCheckedChange:l,form:d,...p}=t;return i.jsx(Mse,{__scopeCheckbox:e,checked:s,defaultChecked:a,disabled:c,required:o,onCheckedChange:l,name:n,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(JD,{...p,ref:r,__scopeCheckbox:e}),f&&i.jsx(nI,{__scopeCheckbox:e})]})})});K4.displayName=mx;var eI="CheckboxIndicator",tI=E.forwardRef((t,r)=>{const{__scopeCheckbox:e,forceMount:n,...s}=t,a=H4(eI,e);return i.jsx(ks,{present:n||Xc(a.checked)||a.checked===!0,children:i.jsx(Ht.span,{"data-state":sI(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...t.style}})})});tI.displayName=eI;var rI="CheckboxBubbleInput",nI=E.forwardRef(({__scopeCheckbox:t,...r},e)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:c,disabled:u,name:l,value:d,form:p,bubbleInput:f,setBubbleInput:h}=H4(rI,t),g=Ar(e,h),y=q4(a),m=Uk(n);E.useEffect(()=>{const x=f;if(!x)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,B=!s.current;if(y!==a&&A){const q=new Event("click",{bubbles:B});x.indeterminate=Xc(a),A.call(x,Xc(a)?!1:a),x.dispatchEvent(q)}},[f,y,a,s]);const v=E.useRef(Xc(a)?!1:a);return i.jsx(Ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:c,disabled:u,name:l,value:d,form:p,...r,tabIndex:-1,ref:g,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nI.displayName=rI;function Rse(t){return typeof t=="function"}function Xc(t){return t==="indeterminate"}function sI(t){return Xc(t)?"indeterminate":t?"checked":"unchecked"}const _h=E.forwardRef(({className:t,...r},e)=>i.jsx(K4,{ref:e,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:i.jsx(tI,{className:Ee("flex items-center justify-center text-current"),children:i.jsx(ql,{className:"h-4 w-4"})})}));_h.displayName=K4.displayName;function Dse(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function aI(...t){return r=>t.forEach(e=>Dse(e,r))}function Ise(...t){return E.useCallback(aI(...t),t)}var iI=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),a=s.find(Fse);if(a){const o=a.props.children,c=s.map(u=>u===a?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return i.jsx(w_,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return i.jsx(w_,{...n,ref:r,children:e})});iI.displayName="Slot";var w_=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=Bse(e);return E.cloneElement(e,{...Lse(n,e.props),ref:r?aI(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});w_.displayName="SlotClone";var Ose=({children:t})=>i.jsx(i.Fragment,{children:t});function Fse(t){return E.isValidElement(t)&&t.type===Ose}function Lse(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{a(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function Bse(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var $se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zse=$se.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:a,...o}=n,c=a?iI:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function RC(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}var ow="focusScope.autoFocusOnMount",lw="focusScope.autoFocusOnUnmount",DC={bubbles:!1,cancelable:!0},Vse="FocusScope",w0=E.forwardRef((t,r)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[c,u]=E.useState(null),l=RC(s),d=RC(a),p=E.useRef(null),f=Ise(r,y=>u(y)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let y=function(S){if(h.paused||!c)return;const C=S.target;c.contains(C)?p.current=C:Rc(p.current,{select:!0})},m=function(S){if(h.paused||!c)return;const C=S.relatedTarget;C!==null&&(c.contains(C)||Rc(p.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Rc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(v);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[n,c,h.paused]),E.useEffect(()=>{if(c){OC.add(h);const y=document.activeElement;if(!c.contains(y)){const v=new CustomEvent(ow,DC);c.addEventListener(ow,l),c.dispatchEvent(v),v.defaultPrevented||(Wse(Gse(oI(c)),{select:!0}),document.activeElement===y&&Rc(c))}return()=>{c.removeEventListener(ow,l),setTimeout(()=>{const v=new CustomEvent(lw,DC);c.addEventListener(lw,d),c.dispatchEvent(v),v.defaultPrevented||Rc(y??document.body,{select:!0}),c.removeEventListener(lw,d),OC.remove(h)},0)}}},[c,l,d,h]);const g=E.useCallback(y=>{if(!e&&!n||h.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const x=y.currentTarget,[S,C]=Use(x);S&&C?!y.shiftKey&&v===C?(y.preventDefault(),e&&Rc(S,{select:!0})):y.shiftKey&&v===S&&(y.preventDefault(),e&&Rc(C,{select:!0})):v===x&&y.preventDefault()}},[e,n,h.paused]);return i.jsx(zse.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});w0.displayName=Vse;function Wse(t,{select:r=!1}={}){const e=document.activeElement;for(const n of t)if(Rc(n,{select:r}),document.activeElement!==e)return}function Use(t){const r=oI(t),e=IC(r,t),n=IC(r.reverse(),t);return[e,n]}function oI(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function IC(t,r){for(const e of t)if(!qse(e,{upTo:r}))return e}function qse(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hse(t){return t instanceof HTMLInputElement&&"select"in t}function Rc(t,{select:r=!1}={}){if(t&&t.focus){const e=document.activeElement;t.focus({preventScroll:!0}),t!==e&&Hse(t)&&r&&t.select()}}var OC=Kse();function Kse(){let t=[];return{add(r){const e=t[0];r!==e&&e?.pause(),t=FC(t,r),t.unshift(r)},remove(r){t=FC(t,r),t[0]?.resume()}}}function FC(t,r){const e=[...t],n=e.indexOf(r);return n!==-1&&e.splice(n,1),e}function Gse(t){return t.filter(r=>r.tagName!=="A")}var cw=0;function gx(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LC()),document.body.insertAdjacentElement("beforeend",t[1]??LC()),cw++,()=>{cw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),cw--}},[])}function LC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xo=function(){return Xo=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Xo.apply(this,arguments)};function lI(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function Qse(t,r,e){if(e||arguments.length===2)for(var n=0,s=r.length,a;n<s;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}var Ny="right-scroll-bar-position",Cy="width-before-scroll-bar",Xse="with-scroll-bars-hidden",Yse="--removed-body-scroll-bar-size";function uw(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function Zse(t,r){var e=E.useState(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=r,e.facade}var Jse=typeof window<"u"?E.useLayoutEffect:E.useEffect,BC=new WeakMap;function eae(t,r){var e=Zse(null,function(n){return t.forEach(function(s){return uw(s,n)})});return Jse(function(){var n=BC.get(e);if(n){var s=new Set(n),a=new Set(t),o=e.current;s.forEach(function(c){a.has(c)||uw(c,null)}),a.forEach(function(c){s.has(c)||uw(c,o)})}BC.set(e,t)},[t]),e}function tae(t){return t}function rae(t,r){r===void 0&&(r=tae);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(a){var o=r(a,n);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(n=!0;e.length;){var o=e;e=[],o.forEach(a)}e={push:function(c){return a(c)},filter:function(){return e}}},assignMedium:function(a){n=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(a),o=e}var u=function(){var d=o;o=[],d.forEach(a)},l=function(){return Promise.resolve().then(u)};l(),e={push:function(d){o.push(d),l()},filter:function(d){return o=o.filter(d),e}}}};return s}function nae(t){t===void 0&&(t={});var r=rae(null);return r.options=Xo({async:!0,ssr:!1},t),r}var cI=function(t){var r=t.sideCar,e=lI(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Xo({},e))};cI.isSideCarExport=!0;function sae(t,r){return t.useMedium(r),cI}var uI=nae(),dw=function(){},yx=E.forwardRef(function(t,r){var e=E.useRef(null),n=E.useState({onScrollCapture:dw,onWheelCapture:dw,onTouchMoveCapture:dw}),s=n[0],a=n[1],o=t.forwardProps,c=t.children,u=t.className,l=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,h=t.noRelative,g=t.noIsolation,y=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,S=t.gapMode,C=lI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,B=eae([e,r]),q=Xo(Xo({},C),s);return E.createElement(E.Fragment,null,d&&E.createElement(A,{sideCar:uI,removeScrollBar:l,shards:p,noRelative:h,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:e,gapMode:S}),o?E.cloneElement(E.Children.only(c),Xo(Xo({},q),{ref:B})):E.createElement(x,Xo({},q,{className:u,ref:B}),c))});yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yx.classNames={fullWidth:Cy,zeroRight:Ny};var aae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=aae();return r&&t.setAttribute("nonce",r),t}function oae(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function lae(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var cae=function(){var t=0,r=null;return{add:function(e){t==0&&(r=iae())&&(oae(r,e),lae(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},uae=function(){var t=cae();return function(r,e){E.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}},dI=function(){var t=uae(),r=function(e){var n=e.styles,s=e.dynamic;return t(n,s),null};return r},dae={left:0,top:0,right:0,gap:0},fw=function(t){return parseInt(t||"",10)||0},fae=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],s=r[t==="padding"?"paddingRight":"marginRight"];return[fw(e),fw(n),fw(s)]},hae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dae;var r=fae(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-e+r[2]-r[0])}},pae=dI(),Gf="data-scroll-locked",mae=function(t,r,e,n){var s=t.left,a=t.top,o=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(Xse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Gf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ny,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Cy,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ny," .").concat(Ny,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gf,`] {
    `).concat(Yse,": ").concat(c,`px;
  }
`)},$C=function(){var t=parseInt(document.body.getAttribute(Gf)||"0",10);return isFinite(t)?t:0},gae=function(){E.useEffect(function(){return document.body.setAttribute(Gf,($C()+1).toString()),function(){var t=$C()-1;t<=0?document.body.removeAttribute(Gf):document.body.setAttribute(Gf,t.toString())}},[])},yae=function(t){var r=t.noRelative,e=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;gae();var a=E.useMemo(function(){return hae(s)},[s]);return E.createElement(pae,{styles:mae(a,!r,s,e?"":"!important")})},__=!1;if(typeof window<"u")try{var Jg=Object.defineProperty({},"passive",{get:function(){return __=!0,!0}});window.addEventListener("test",Jg,Jg),window.removeEventListener("test",Jg,Jg)}catch{__=!1}var Sf=__?{passive:!1}:!1,bae=function(t){return t.tagName==="TEXTAREA"},fI=function(t,r){if(!(t instanceof Element))return!1;var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!bae(t)&&e[r]==="visible")},xae=function(t){return fI(t,"overflowY")},vae=function(t){return fI(t,"overflowX")},zC=function(t,r){var e=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=hI(t,n);if(s){var a=pI(t,n),o=a[1],c=a[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},wae=function(t){var r=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[r,e,n]},_ae=function(t){var r=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[r,e,n]},hI=function(t,r){return t==="v"?xae(r):vae(r)},pI=function(t,r){return t==="v"?wae(r):_ae(r)},kae=function(t,r){return t==="h"&&r==="rtl"?-1:1},jae=function(t,r,e,n,s){var a=kae(t,window.getComputedStyle(r).direction),o=a*n,c=e.target,u=r.contains(c),l=!1,d=o>0,p=0,f=0;do{if(!c)break;var h=pI(t,c),g=h[0],y=h[1],m=h[2],v=y-m-a*g;(g||v)&&hI(t,c)&&(p+=v,f+=g);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(l=!0),l},ey=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VC=function(t){return[t.deltaX,t.deltaY]},WC=function(t){return t&&"current"in t?t.current:t},Sae=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Nae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Cae=0,Nf=[];function Tae(t){var r=E.useRef([]),e=E.useRef([0,0]),n=E.useRef(),s=E.useState(Cae++)[0],a=E.useState(dI)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Qse([t.lockRef.current],(t.shards||[]).map(WC),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=E.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=ey(y),x=e.current,S="deltaX"in y?y.deltaX:x[0]-v[0],C="deltaY"in y?y.deltaY:x[1]-v[1],A,B=y.target,q=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in y&&q==="h"&&B.type==="range")return!1;var R=window.getSelection(),I=R&&R.anchorNode,$=I?I===B||I.contains(B):!1;if($)return!1;var K=zC(q,B);if(!K)return!0;if(K?A=q:(A=q==="v"?"h":"v",K=zC(q,B)),!K)return!1;if(!n.current&&"changedTouches"in y&&(S||C)&&(n.current=A),!A)return!0;var U=n.current||A;return jae(U,m,y,U==="h"?S:C)},[]),u=E.useCallback(function(y){var m=y;if(!(!Nf.length||Nf[Nf.length-1]!==a)){var v="deltaY"in m?VC(m):ey(m),x=r.current.filter(function(A){return A.name===m.type&&(A.target===m.target||m.target===A.shadowParent)&&Sae(A.delta,v)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(WC).filter(Boolean).filter(function(A){return A.contains(m.target)}),C=S.length>0?c(m,S[0]):!o.current.noIsolation;C&&m.cancelable&&m.preventDefault()}}},[]),l=E.useCallback(function(y,m,v,x){var S={name:y,delta:m,target:v,should:x,shadowParent:Eae(v)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(C){return C!==S})},1)},[]),d=E.useCallback(function(y){e.current=ey(y),n.current=void 0},[]),p=E.useCallback(function(y){l(y.type,VC(y),y.target,c(y,t.lockRef.current))},[]),f=E.useCallback(function(y){l(y.type,ey(y),y.target,c(y,t.lockRef.current))},[]);E.useEffect(function(){return Nf.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Sf),document.addEventListener("touchmove",u,Sf),document.addEventListener("touchstart",d,Sf),function(){Nf=Nf.filter(function(y){return y!==a}),document.removeEventListener("wheel",u,Sf),document.removeEventListener("touchmove",u,Sf),document.removeEventListener("touchstart",d,Sf)}},[]);var h=t.removeScrollBar,g=t.inert;return E.createElement(E.Fragment,null,g?E.createElement(a,{styles:Nae(s)}):null,h?E.createElement(yae,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Eae(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const Aae=sae(uI,Tae);var _0=E.forwardRef(function(t,r){return E.createElement(yx,Xo({},t,{ref:r,sideCar:Aae}))});_0.classNames=yx.classNames;var Pae=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Cf=new WeakMap,ty=new WeakMap,ry={},hw=0,mI=function(t){return t&&(t.host||mI(t.parentNode))},Mae=function(t,r){return r.map(function(e){if(t.contains(e))return e;var n=mI(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},Rae=function(t,r,e,n){var s=Mae(r,Array.isArray(t)?t:[t]);ry[e]||(ry[e]=new WeakMap);var a=ry[e],o=[],c=new Set,u=new Set(s),l=function(p){!p||c.has(p)||(c.add(p),l(p.parentNode))};s.forEach(l);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(f){if(c.has(f))d(f);else try{var h=f.getAttribute(n),g=h!==null&&h!=="false",y=(Cf.get(f)||0)+1,m=(a.get(f)||0)+1;Cf.set(f,y),a.set(f,m),o.push(f),y===1&&g&&ty.set(f,!0),m===1&&f.setAttribute(e,"true"),g||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(r),c.clear(),hw++,function(){o.forEach(function(p){var f=Cf.get(p)-1,h=a.get(p)-1;Cf.set(p,f),a.set(p,h),f||(ty.has(p)||p.removeAttribute(n),ty.delete(p)),h||p.removeAttribute(e)}),hw--,hw||(Cf=new WeakMap,Cf=new WeakMap,ty=new WeakMap,ry={})}},bx=function(t,r,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Pae(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Rae(n,s,e,"aria-hidden")):function(){return null}};function Dae(t){const r=Iae(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(Fae);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function Iae(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=Bae(s),c=Lae(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Oae=Symbol("radix.slottable");function Fae(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oae}function Lae(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function Bae(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var xx="Dialog",[gI,yI]=da(xx),[$ae,Do]=gI(xx),bI=t=>{const{__scopeDialog:r,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,c=E.useRef(null),u=E.useRef(null),[l,d]=no({prop:n,defaultProp:s??!1,onChange:a,caller:xx});return i.jsx($ae,{scope:r,triggerRef:c,contentRef:u,contentId:Ni(),titleId:Ni(),descriptionId:Ni(),open:l,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(p=>!p),[d]),modal:o,children:e})};bI.displayName=xx;var xI="DialogTrigger",vI=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=Do(xI,e),a=Ar(r,s.triggerRef);return i.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":X4(s.open),...n,ref:a,onClick:ft(t.onClick,s.onOpenToggle)})});vI.displayName=xI;var G4="DialogPortal",[zae,wI]=gI(G4,{forceMount:void 0}),_I=t=>{const{__scopeDialog:r,forceMount:e,children:n,container:s}=t,a=Do(G4,r);return i.jsx(zae,{scope:r,forceMount:e,children:E.Children.map(n,o=>i.jsx(ks,{present:e||a.open,children:i.jsx(Rh,{asChild:!0,container:s,children:o})}))})};_I.displayName=G4;var bb="DialogOverlay",kI=E.forwardRef((t,r)=>{const e=wI(bb,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,a=Do(bb,t.__scopeDialog);return a.modal?i.jsx(ks,{present:n||a.open,children:i.jsx(Wae,{...s,ref:r})}):null});kI.displayName=bb;var Vae=Dae("DialogOverlay.RemoveScroll"),Wae=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=Do(bb,e);return i.jsx(_0,{as:Vae,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ht.div,{"data-state":X4(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),Td="DialogContent",jI=E.forwardRef((t,r)=>{const e=wI(Td,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,a=Do(Td,t.__scopeDialog);return i.jsx(ks,{present:n||a.open,children:a.modal?i.jsx(Uae,{...s,ref:r}):i.jsx(qae,{...s,ref:r})})});jI.displayName=Td;var Uae=E.forwardRef((t,r)=>{const e=Do(Td,t.__scopeDialog),n=E.useRef(null),s=Ar(r,e.contentRef,n);return E.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),i.jsx(SI,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,a=>a.preventDefault())})}),qae=E.forwardRef((t,r)=>{const e=Do(Td,t.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return i.jsx(SI,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;e.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),SI=E.forwardRef((t,r)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,c=Do(Td,e),u=E.useRef(null),l=Ar(r,u);return gx(),i.jsxs(i.Fragment,{children:[i.jsx(w0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(zd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":X4(c.open),...o,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Kae,{titleId:c.titleId}),i.jsx(Qae,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Q4="DialogTitle",NI=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=Do(Q4,e);return i.jsx(Ht.h2,{id:s.titleId,...n,ref:r})});NI.displayName=Q4;var CI="DialogDescription",TI=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=Do(CI,e);return i.jsx(Ht.p,{id:s.descriptionId,...n,ref:r})});TI.displayName=CI;var EI="DialogClose",AI=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=Do(EI,e);return i.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ft(t.onClick,()=>s.onOpenChange(!1))})});AI.displayName=EI;function X4(t){return t?"open":"closed"}var PI="DialogTitleWarning",[Hae,MI]=BK(PI,{contentName:Td,titleName:Q4,docsSlug:"dialog"}),Kae=({titleId:t})=>{const r=MI(PI),e=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(e))},[e,t]),null},Gae="DialogDescriptionWarning",Qae=({contentRef:t,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MI(Gae).contentName}}.`;return E.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},Y4=bI,Z4=vI,J4=_I,k0=kI,j0=jI,Bh=NI,$h=TI,S0=AI,Xae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yae=Xae.reduce((t,r)=>{const e=g0(`Primitive.${r}`),n=E.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),Zae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jae="VisuallyHidden",RI=E.forwardRef((t,r)=>i.jsx(Yae.span,{...t,ref:r,style:{...Zae,...t.style}}));RI.displayName=Jae;var eie=RI;const Us=Y4,kh=Z4,tie=J4,DI=E.forwardRef(({className:t,...r},e)=>i.jsx(k0,{ref:e,className:Ee("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));DI.displayName=k0.displayName;const Ds=E.forwardRef(({className:t,children:r,...e},n)=>i.jsxs(tie,{children:[i.jsx(DI,{}),i.jsxs(j0,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",t),style:{pointerEvents:"auto"},...e,children:[i.jsxs(eie,{children:[i.jsx(Bh,{children:"Dialog Content"}),i.jsx($h,{children:"Accessibility description for the dialog content."})]}),r,i.jsxs(S0,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Rs,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ds.displayName=j0.displayName;const qs=({className:t,...r})=>i.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-right",t),...r});qs.displayName="DialogHeader";const xb=({className:t,...r})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});xb.displayName="DialogFooter";const ca=E.forwardRef(({className:t,...r},e)=>i.jsx(Bh,{ref:e,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...r}));ca.displayName=Bh.displayName;const Xl=E.forwardRef(({className:t,...r},e)=>i.jsx($h,{ref:e,className:Ee("text-sm text-muted-foreground",t),...r}));Xl.displayName=$h.displayName;const Lr=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],rie=Ud({fullName:Hr().min(1,"  "),email:Hr().email("   "),phone:Hr().min(9,"   "),password:Hr().min(6,"       6 "),confirmPassword:Hr().min(1,"   "),birthDate:Hr().min(1,"  "),birthPlace:Hr().min(1,"  "),gender:Hr().min(1," "),terms:ox().refine(t=>t===!0,"   ")}).refine(t=>t.password===t.confirmPassword,{message:"   ",path:["confirmPassword"]}),nie=()=>i.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[i.jsx("div",{className:"relative mb-3 group cursor-pointer",children:i.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[i.jsx("img",{src:YD,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),i.jsx("img",{src:Cse,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),i.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),i.jsxs("div",{className:"text-center relative",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[i.jsx("img",{src:XD,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),i.jsx("img",{src:Nse,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),i.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),i.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function sie(){const[,t]=Os(),{toast:r}=pn(),[e,n]=E.useState(Lr[0]),[s,a]=E.useState(""),[o,c]=E.useState(!1),[u,l]=E.useState(!1),[d,p]=E.useState(!1),[f,h]=E.useState(!1),[g,y]=E.useState(2e3),[m,v]=E.useState(1),[x,S]=E.useState(1);E.useEffect(()=>{(()=>{try{const R=Intl.DateTimeFormat().resolvedOptions().timeZone;R.includes("Aden")||R.includes("Sanaa")?n(Lr.find(I=>I.code==="+967")||Lr[0]):R.includes("Riyadh")?n(Lr.find(I=>I.code==="+966")||Lr[0]):R.includes("Dubai")||R.includes("Abu_Dhabi")?n(Lr.find(I=>I.code==="+971")||Lr[0]):R.includes("Cairo")?n(Lr.find(I=>I.code==="+20")||Lr[0]):R.includes("Muscat")?n(Lr.find(I=>I.code==="+968")||Lr[0]):R.includes("Kuwait")?n(Lr.find(I=>I.code==="+965")||Lr[0]):R.includes("Qatar")?n(Lr.find(I=>I.code==="+974")||Lr[0]):R.includes("Bahrain")?n(Lr.find(I=>I.code==="+973")||Lr[0]):R.includes("Amman")?n(Lr.find(I=>I.code==="+962")||Lr[0]):R.includes("Baghdad")?n(Lr.find(I=>I.code==="+964")||Lr[0]):R.includes("Damascus")?n(Lr.find(I=>I.code==="+963")||Lr[0]):R.includes("Beirut")?n(Lr.find(I=>I.code==="+961")||Lr[0]):R.includes("Gaza")||R.includes("Hebron")?n(Lr.find(I=>I.code==="+970")||Lr[0]):R.includes("Casablanca")?n(Lr.find(I=>I.code==="+212")||Lr[0]):R.includes("Algiers")?n(Lr.find(I=>I.code==="+213")||Lr[0]):R.includes("Tunis")?n(Lr.find(I=>I.code==="+216")||Lr[0]):R.includes("Tripoli")?n(Lr.find(I=>I.code==="+218")||Lr[0]):R.includes("Khartoum")?n(Lr.find(I=>I.code==="+249")||Lr[0]):R.includes("Istanbul")&&n(Lr.find(I=>I.code==="+90")||Lr[0])}catch(R){console.error("Failed to detect country:",R)}})()},[]);const C=Lr.filter(q=>q.name.includes(s)||q.code.includes(s)),A=rc({resolver:nc(rie),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),B=Dt({mutationFn:async q=>{const R=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!R.ok){const I=await R.json();throw new Error(I.message||"  ")}return R.json()},onSuccess:q=>{r({title:"   ",description:"      "});const R=q?.data?.user?.id,I=q?.data?.user?.email||A.getValues("email");t(`/verify-email?userId=${R}&email=${encodeURIComponent(I)}`)},onError:q=>{r({title:"  ",description:q.message,variant:"destructive"})}});return i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:i.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[i.jsxs("div",{className:"text-right flex flex-col items-end",children:[i.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),i.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),i.jsx(Re,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),i.jsx(nie,{}),i.jsx(ac,{...A,children:i.jsxs("form",{onSubmit:A.handleSubmit(q=>B.mutate(q)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[i.jsx(Zr,{control:A.control,name:"fullName",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),i.jsx(nn,{children:i.jsx(yt,{...q,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),i.jsx(Zr,{control:A.control,name:"email",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),i.jsx(nn,{children:i.jsx(yt,{...q,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),i.jsx(Dk,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),i.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[i.jsxs(Us,{open:o,onOpenChange:c,children:[i.jsx(kh,{asChild:!0,children:i.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[i.jsx(Bn,{className:"w-3 h-3 text-blue-600/30"}),i.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:e.code}),i.jsx("img",{src:e.flag,alt:e.name,className:"w-4 h-auto rounded-sm"})]})}),i.jsx(Ds,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(yt,{placeholder:"",value:s,onChange:q=>a(q.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),i.jsx(To,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),i.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:C.map(q=>i.jsxs("button",{onClick:()=>{n(q),c(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[i.jsx("img",{src:q.flag,alt:q.name,className:"w-6 h-auto rounded-sm shadow-sm"}),i.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:q.code}),i.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:q.name})]},q.name+q.code))})]})})]}),i.jsx(Zr,{control:A.control,name:"phone",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),i.jsx(nn,{children:i.jsx(yt,{...q,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),i.jsx(Ok,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Zr,{control:A.control,name:"password",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),i.jsx(nn,{children:i.jsx(yt,{...q,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),i.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?i.jsx(ou,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):i.jsx(wd,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),i.jsx(Zr,{control:A.control,name:"confirmPassword",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),i.jsx(nn,{children:i.jsx(yt,{...q,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),i.jsx("button",{type:"button",onClick:()=>h(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?i.jsx(ou,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):i.jsx(wd,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Zr,{control:A.control,name:"birthPlace",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),i.jsx(nn,{children:i.jsx(yt,{...q,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),i.jsx(Jo,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),i.jsx(Zr,{control:A.control,name:"birthDate",render:({field:q})=>i.jsx(Xr,{className:"space-y-0",children:i.jsxs(Us,{open:u,onOpenChange:l,children:[i.jsx(kh,{asChild:!0,children:i.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[i.jsx(ws,{className:"w-4 h-4 text-blue-600/30"}),i.jsx("span",{className:`text-xs font-bold ${q.value?"text-foreground":"text-muted-foreground/30"}`,children:q.value||" "})]})}),i.jsx(Ds,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:i.jsxs("div",{className:"p-4",children:[i.jsx(qs,{className:"pb-4 border-b border-border dark:border-slate-800",children:i.jsx(ca,{className:"text-center text-lg font-black text-foreground",children:" "})}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),i.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(R,I)=>2025-I).map(R=>i.jsx("button",{type:"button",onClick:()=>y(R),className:`w-full py-2 text-center font-bold transition-colors ${g===R?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:R},R))})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),i.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((R,I)=>i.jsx("button",{type:"button",onClick:()=>v(I+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===I+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:R},R))})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),i.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(R,I)=>I+1).map(R=>i.jsx("button",{type:"button",onClick:()=>S(R),className:`w-full py-2 text-center font-bold transition-colors ${x===R?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:R},R))})]})]}),i.jsx(Re,{onClick:()=>{const R=`${g}-${String(m).padStart(2,"0")}-${String(x).padStart(2,"0")}`;A.setValue("birthDate",R),l(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),i.jsx(Zr,{control:A.control,name:"terms",render:({field:q})=>i.jsxs(Xr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[i.jsx(nn,{children:i.jsx(_h,{checked:q.value,onCheckedChange:q.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),i.jsx("div",{className:"leading-none text-right px-2",children:i.jsxs(Gn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),i.jsx(Re,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:B.isPending,"data-testid":"button-submit",children:B.isPending?i.jsx(sn,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"  "}),i.jsx(Kl,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),i.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:i.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",i.jsx("button",{onClick:()=>t("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const aie=Ud({newPassword:Hr().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:Hr().min(1,"   ")}).refine(t=>t.newPassword===t.confirmPassword,{message:"   ",path:["confirmPassword"]});function iie(){const[,t]=Os(),{toast:r}=pn(),[e,n]=E.useState(!1),[s,a]=E.useState(null),[o,c]=E.useState(null),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=rc({resolver:nc(aie),defaultValues:{newPassword:"",confirmPassword:""}});E.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(a(m),c(!0)):c(!1)},[]);const h=Dt({mutationFn:async y=>{if(!s)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(n(!0),r({title:"    ",description:"      "})):r({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{r({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{h.mutate(y)};return o===!1?i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:i.jsx(hl,{className:"w-12 h-12 text-red-500"})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),i.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),i.jsxs("div",{className:"w-full space-y-2",children:[i.jsx(Re,{onClick:()=>t("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),i.jsx(Re,{variant:"ghost",onClick:()=>t("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):e?i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:i.jsx(Co,{className:"w-12 h-12 text-blue-600"})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),i.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),i.jsx(Re,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[i.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[i.jsxs("div",{className:"text-right flex flex-col items-end",children:[i.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),i.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),i.jsx(Re,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),children:i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[i.jsx("div",{className:"relative mb-4 group cursor-pointer",children:i.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[i.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),i.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),i.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),i.jsx("div",{className:"text-center relative",children:i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[i.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),i.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),i.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),i.jsx(ac,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[i.jsx(Zr,{control:f.control,name:"newPassword",render:({field:y})=>i.jsxs(Xr,{children:[i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),i.jsx(nn,{children:i.jsx(yt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),i.jsx("button",{type:"button",onClick:()=>l(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?i.jsx(ou,{className:"w-5 h-5 text-blue-600"}):i.jsx(wd,{className:"w-5 h-5 text-blue-600/30"})})]}),i.jsx(Rn,{})]})}),i.jsx(Zr,{control:f.control,name:"confirmPassword",render:({field:y})=>i.jsxs(Xr,{children:[i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),i.jsx(nn,{children:i.jsx(yt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),i.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?i.jsx(ou,{className:"w-5 h-5 text-blue-600"}):i.jsx(wd,{className:"w-5 h-5 text-blue-600/30"})})]}),i.jsx(Rn,{})]})}),i.jsx(Re,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:h.isPending,children:h.isPending?i.jsx(sn,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[i.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),i.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),i.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const oie=Ud({email:Hr().email("   ")});function lie(){const[,t]=Os(),{toast:r}=pn(),[e,n]=E.useState(!1),s=rc({resolver:nc(oie),defaultValues:{email:""}}),a=Dt({mutationFn:async o=>{const c=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){const u=await c.json();throw new Error(u.message||"   ")}return c.json()},onSuccess:()=>{n(!0),r({title:"  ",description:"        "})},onError:o=>{r({title:"  ",description:o.message,variant:"destructive"})}});return e?i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:i.jsx(Co,{className:"w-12 h-12 text-blue-600"})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),i.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),i.jsx(Re,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):i.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),i.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[i.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[i.jsxs("div",{className:"text-right flex flex-col items-end",children:[i.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),i.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),i.jsx(Re,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[i.jsx("div",{className:"relative mb-4 group cursor-pointer",children:i.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[i.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),i.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),i.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),i.jsx("div",{className:"text-center relative",children:i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[i.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),i.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),i.jsx(ac,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(o=>a.mutate(o)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[i.jsx(Zr,{control:s.control,name:"email",render:({field:o})=>i.jsxs(Xr,{children:[i.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),i.jsx(nn,{children:i.jsx(yt,{...o,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),i.jsx(Dk,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),i.jsx(Rn,{})]})}),i.jsx(Re,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:a.isPending,"data-testid":"button-submit",children:a.isPending?i.jsx(sn,{className:"animate-spin h-5 w-5"}):"  "}),i.jsx("div",{className:"text-center pt-2",children:i.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",i.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[i.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),i.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),i.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),i.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const cie=Vd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),II=E.forwardRef(({className:t,variant:r,...e},n)=>i.jsx("div",{ref:n,role:"alert",className:Ee(cie({variant:r}),t),...e}));II.displayName="Alert";const uie=E.forwardRef(({className:t,...r},e)=>i.jsx("h5",{ref:e,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...r}));uie.displayName="AlertTitle";const OI=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,className:Ee("text-sm [&_p]:leading-relaxed",t),...r}));OI.displayName="AlertDescription";const die=Ud({code:Hr().length(6,"     6 ").regex(/^\d+$/,"       ")}),UC=()=>i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),i.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function fie(){const[,t]=Os(),{toast:r}=pn(),[e,n]=E.useState("input"),[s,a]=E.useState({}),[o,c]=E.useState(0),[u,l]=E.useState(!1);E.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),x=m.get("email"),S=m.get("token");v&&x&&a({id:v,email:x}),S&&v&&(console.log(" [EmailVerification]    :",{token:S,userId:v}),p.mutate({code:S,userId:v}))},[]),E.useEffect(()=>{let m;return o>0&&(m=setTimeout(()=>c(o-1),1e3)),()=>clearTimeout(m)},[o]);const d=rc({resolver:nc(die),defaultValues:{code:""}}),p=Dt({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||s.id});const v=m.userId||s.id;if(!v)throw new Error("  ");const x=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),S=await x.json();if(!x.ok)throw new Error(S.message||"   ");return S},onSuccess:m=>{console.log(" [EmailVerification]   :",m),m.success?(n("verified"),r({title:" ! ",description:m.message}),setTimeout(()=>{t("/login")},3e3)):(n("error"),r({title:" ",description:m.message,variant:"destructive"}))},onError:m=>{console.error(" [EmailVerification]   :",m),n("error"),r({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=Dt({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!s.id||!s.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,email:s.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),r({title:"  ",description:m.message}),c(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),r({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),h=m=>{p.mutate(m)},g=()=>{o===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),l(!0),r({title:" !",description:"     "}),setTimeout(()=>l(!1),2e3)}catch{r({title:" ",description:"    ",variant:"destructive"})}else r({title:"   ",description:"    ",variant:"destructive"})};return e==="verified"?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[i.jsx(UC,{}),i.jsxs(lr,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[i.jsxs(cs,{className:"text-center space-y-1",children:[i.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:i.jsx(Co,{className:"w-10 h-10 text-white dark:text-blue-600"})}),i.jsx(ys,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),i.jsx(Qc,{className:"text-lg",children:"    "})]}),i.jsx(br,{className:"space-y-1",children:i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-gray-600",children:"       ..."}),i.jsx(Re,{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):i.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[i.jsx(UC,{}),i.jsxs(lr,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[i.jsxs(cs,{className:"text-center space-y-1",children:[i.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:i.jsx(Dk,{className:"w-10 h-10 text-white dark:text-blue-600"})}),i.jsx(ys,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),i.jsx(Qc,{className:"text-lg",children:"      "}),s.email&&i.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",s.email]})]}),i.jsxs(br,{className:"space-y-1",children:[e==="error"&&i.jsx(II,{className:"border-red-200 bg-red-50",children:i.jsx(OI,{className:"text-red-700",children:"    .        ."})}),i.jsx(ac,{...d,children:i.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-1",children:[i.jsx(Zr,{control:d.control,name:"code",render:({field:m})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-gray-700 font-medium",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(nn,{children:i.jsx(yt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:p.isPending,"data-testid":"input-verification-code",onChange:v=>{const x=v.target.value.replace(/\D/g,"");m.onChange(x)}})}),i.jsx(Re,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?i.jsx(ql,{className:"h-4 w-4 text-green-600"}):i.jsx(If,{className:"h-4 w-4 text-gray-500"})})]}),i.jsx(Rn,{})]})}),i.jsx(Re,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:p.isPending,"data-testid":"button-verify-email",children:p.isPending?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nl,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Re,{variant:"outline",onClick:g,disabled:o>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):o>0?i.jsxs(i.Fragment,{children:[i.jsx($n,{className:"w-4 h-4 mr-2"})," ",o," "]}):i.jsxs(i.Fragment,{children:[i.jsx(xs,{className:"w-4 h-4 mr-2"}),"  "]})}),i.jsxs(Re,{variant:"ghost",onClick:()=>t("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[i.jsx(nQ,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"       "}),i.jsx("li",{children:"    24  "}),i.jsx("li",{children:"    6 "})]})]})]})]})]})}const yl=Object.create(null);yl.open="0";yl.close="1";yl.ping="2";yl.pong="3";yl.message="4";yl.upgrade="5";yl.noop="6";const Ty=Object.create(null);Object.keys(yl).forEach(t=>{Ty[yl[t]]=t});const k_={type:"error",data:"parser error"},FI=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",LI=typeof ArrayBuffer=="function",BI=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,e3=({type:t,data:r},e,n)=>FI&&r instanceof Blob?e?n(r):qC(r,n):LI&&(r instanceof ArrayBuffer||BI(r))?e?n(r):qC(new Blob([r]),n):n(yl[t]+(r||"")),qC=(t,r)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(t)};function HC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let pw;function hie(t,r){if(FI&&t.data instanceof Blob)return t.data.arrayBuffer().then(HC).then(r);if(LI&&(t.data instanceof ArrayBuffer||BI(t.data)))return r(HC(t.data));e3(t,!1,e=>{pw||(pw=new TextEncoder),r(pw.encode(e))})}const KC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<KC.length;t++)Vp[KC.charCodeAt(t)]=t;const pie=t=>{let r=t.length*.75,e=t.length,n,s=0,a,o,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const l=new ArrayBuffer(r),d=new Uint8Array(l);for(n=0;n<e;n+=4)a=Vp[t.charCodeAt(n)],o=Vp[t.charCodeAt(n+1)],c=Vp[t.charCodeAt(n+2)],u=Vp[t.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|c>>2,d[s++]=(c&3)<<6|u&63;return l},mie=typeof ArrayBuffer=="function",t3=(t,r)=>{if(typeof t!="string")return{type:"message",data:$I(t,r)};const e=t.charAt(0);return e==="b"?{type:"message",data:gie(t.substring(1),r)}:Ty[e]?t.length>1?{type:Ty[e],data:t.substring(1)}:{type:Ty[e]}:k_},gie=(t,r)=>{if(mie){const e=pie(t);return $I(e,r)}else return{base64:!0,data:t}},$I=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},zI="",yie=(t,r)=>{const e=t.length,n=new Array(e);let s=0;t.forEach((a,o)=>{e3(a,!1,c=>{n[o]=c,++s===e&&r(n.join(zI))})})},bie=(t,r)=>{const e=t.split(zI),n=[];for(let s=0;s<e.length;s++){const a=t3(e[s],r);if(n.push(a),a.type==="error")break}return n};function xie(){return new TransformStream({transform(t,r){hie(t,e=>{const n=e.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(e)})}})}let mw;function ny(t){return t.reduce((r,e)=>r+e.length,0)}function sy(t,r){if(t[0].length===r)return t.shift();const e=new Uint8Array(r);let n=0;for(let s=0;s<r;s++)e[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function vie(t,r){mw||(mw=new TextDecoder);const e=[];let n=0,s=-1,a=!1;return new TransformStream({transform(o,c){for(e.push(o);;){if(n===0){if(ny(e)<1)break;const u=sy(e,1);a=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ny(e)<2)break;const u=sy(e,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(ny(e)<8)break;const u=sy(e,8),l=new DataView(u.buffer,u.byteOffset,u.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(k_);break}s=d*Math.pow(2,32)+l.getUint32(4),n=3}else{if(ny(e)<s)break;const u=sy(e,s);c.enqueue(t3(a?u:mw.decode(u),r)),n=0}if(s===0||s>t){c.enqueue(k_);break}}}})}const VI=4;function bs(t){if(t)return wie(t)}function wie(t){for(var r in bs.prototype)t[r]=bs.prototype[r];return t}bs.prototype.on=bs.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};bs.prototype.once=function(t,r){function e(){this.off(t,e),r.apply(this,arguments)}return e.fn=r,this.on(t,e),this};bs.prototype.off=bs.prototype.removeListener=bs.prototype.removeAllListeners=bs.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<e.length;s++)if(n=e[s],n===r||n.fn===r){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+t],this};bs.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,s=e.length;n<s;++n)e[n].apply(this,r)}return this};bs.prototype.emitReserved=bs.prototype.emit;bs.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};bs.prototype.hasListeners=function(t){return!!this.listeners(t).length};const vx=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),Xi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_ie="arraybuffer";function WI(t,...r){return r.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}const kie=Xi.setTimeout,jie=Xi.clearTimeout;function wx(t,r){r.useNativeTimers?(t.setTimeoutFn=kie.bind(Xi),t.clearTimeoutFn=jie.bind(Xi)):(t.setTimeoutFn=Xi.setTimeout.bind(Xi),t.clearTimeoutFn=Xi.clearTimeout.bind(Xi))}const Sie=1.33;function Nie(t){return typeof t=="string"?Cie(t):Math.ceil((t.byteLength||t.size)*Sie)}function Cie(t){let r=0,e=0;for(let n=0,s=t.length;n<s;n++)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function UI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Tie(t){let r="";for(let e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r}function Eie(t){let r={},e=t.split("&");for(let n=0,s=e.length;n<s;n++){let a=e[n].split("=");r[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return r}class Aie extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}}class r3 extends bs{constructor(r){super(),this.writable=!1,wx(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Aie(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const e=t3(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const e=Tie(r);return e.length?"?"+e:""}}class Pie extends r3{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};bie(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,yie(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=UI()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}}let qI=!1;try{qI=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Mie=qI;function Rie(){}class Die extends Pie{constructor(r){if(super(r),typeof location<"u"){const e=location.protocol==="https:";let n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){const n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}}class ll extends bs{constructor(r,e,n){super(),this.createRequest=r,wx(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const e=WI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ll.requestsCount++,ll.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rie,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ll.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ll.requestsCount=0;ll.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",GC);else if(typeof addEventListener=="function"){const t="onpagehide"in Xi?"pagehide":"unload";addEventListener(t,GC,!1)}}function GC(){for(let t in ll.requests)ll.requests.hasOwnProperty(t)&&ll.requests[t].abort()}const Iie=(function(){const t=HI({xdomain:!1});return t&&t.responseType!==null})();class Oie extends Die{constructor(r){super(r);const e=r&&r.forceBase64;this.supportsBinary=Iie&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new ll(HI,this.uri(),r)}}function HI(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Mie))return new XMLHttpRequest}catch{}if(!r)try{return new Xi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const KI=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Fie extends r3{get name(){return"websocket"}doOpen(){const r=this.uri(),e=this.opts.protocols,n=KI?{}:WI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;e3(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&vx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=UI()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}}const gw=Xi.WebSocket||Xi.MozWebSocket;class Lie extends Fie{createSocket(r,e,n){return KI?new gw(r,e,n):e?new gw(r,e):new gw(r)}doWrite(r,e){this.ws.send(e)}}class Bie extends r3{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const e=vie(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),s=xie();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:c,value:u})=>{c||(this.onPacket(u),a())}).catch(c=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;this._writer.write(n).then(()=>{s&&vx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const $ie={websocket:Lie,webtransport:Bie,polling:Oie},zie=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vie=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function j_(t){if(t.length>8e3)throw"URI too long";const r=t,e=t.indexOf("["),n=t.indexOf("]");e!=-1&&n!=-1&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let s=zie.exec(t||""),a={},o=14;for(;o--;)a[Vie[o]]=s[o]||"";return e!=-1&&n!=-1&&(a.source=r,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Wie(a,a.path),a.queryKey=Uie(a,a.query),a}function Wie(t,r){const e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Uie(t,r){const e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(e[s]=a)}),e}const S_=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ey=[];S_&&addEventListener("offline",()=>{Ey.forEach(t=>t())},!1);class Yc extends bs{constructor(r,e){if(super(),this.binaryType=_ie,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(e=r,r=null),r){const n=j_(r);e.hostname=n.host,e.secure=n.protocol==="https"||n.protocol==="wss",e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=j_(e.host).host);wx(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Eie(this.opts.query)),S_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ey.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const e=Object.assign({},this.opts.query);e.EIO=VI,e.transport=r,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Yc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(r);e.open(),this.setTransport(e)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Yc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=r.data,this._onError(e);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+=Nie(s)),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,vx(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,e,n){return this._sendPacket("message",r,e,n),this}send(r,e,n){return this._sendPacket("message",r,e,n),this}_sendPacket(r,e,n,s){if(typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:r,data:e,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),r()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if(Yc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),S_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ey.indexOf(this._offlineEventListener);n!==-1&&Ey.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,e),this.writeBuffer=[],this._prevBufferLen=0}}}Yc.protocol=VI;class qie extends Yc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;Yc.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Yc.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=e.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,d(),e.close(),e=null)}const o=p=>{const f=new Error("probe error: "+p);f.transport=e.name,a(),this.emitReserved("upgradeError",f)};function c(){o("transport closed")}function u(){o("socket closed")}function l(p){e&&p.name!==e.name&&a()}const d=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",c),this.off("close",u),this.off("upgrading",l)};e.once("open",s),e.once("error",o),e.once("close",c),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}}let Hie=class extends qie{constructor(r,e={}){const n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>$ie[s]).filter(s=>!!s)),super(r,n)}};function Kie(t,r="",e){let n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),n=j_(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+r,n.href=n.protocol+"://"+a+(e&&e.port===n.port?"":":"+n.port),n}const Gie=typeof ArrayBuffer=="function",Qie=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,GI=Object.prototype.toString,Xie=typeof Blob=="function"||typeof Blob<"u"&&GI.call(Blob)==="[object BlobConstructor]",Yie=typeof File=="function"||typeof File<"u"&&GI.call(File)==="[object FileConstructor]";function n3(t){return Gie&&(t instanceof ArrayBuffer||Qie(t))||Xie&&t instanceof Blob||Yie&&t instanceof File}function Ay(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(Ay(t[e]))return!0;return!1}if(n3(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ay(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Ay(t[e]))return!0;return!1}function Zie(t){const r=[],e=t.data,n=t;return n.data=N_(e,r),n.attachments=r.length,{packet:n,buffers:r}}function N_(t,r){if(!t)return t;if(n3(t)){const e={_placeholder:!0,num:r.length};return r.push(t),e}else if(Array.isArray(t)){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=N_(t[n],r);return e}else if(typeof t=="object"&&!(t instanceof Date)){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=N_(t[n],r));return e}return t}function Jie(t,r){return t.data=C_(t.data,r),delete t.attachments,t}function C_(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=C_(t[e],r);else if(typeof t=="object")for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=C_(t[e],r));return t}const eoe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Gr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Gr||(Gr={}));class toe{constructor(r){this.replacer=r}encode(r){return(r.type===Gr.EVENT||r.type===Gr.ACK)&&Ay(r)?this.encodeAsBinary({type:r.type===Gr.EVENT?Gr.BINARY_EVENT:Gr.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===Gr.BINARY_EVENT||r.type===Gr.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){const e=Zie(r),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}class s3 extends bs{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);const n=e.type===Gr.BINARY_EVENT;n||e.type===Gr.BINARY_ACK?(e.type=n?Gr.EVENT:Gr.ACK,this.reconstructor=new roe(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(n3(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0;const n={type:Number(r.charAt(0))};if(Gr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Gr.BINARY_EVENT||n.type===Gr.BINARY_ACK){const a=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);const o=r.substring(a,e);if(o!=Number(o)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(r.charAt(e+1)==="/"){const a=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(a,e)}else n.nsp="/";const s=r.charAt(e+1);if(s!==""&&Number(s)==s){const a=e+1;for(;++e;){const o=r.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===r.length)break}n.id=Number(r.substring(a,e+1))}if(r.charAt(++e)){const a=this.tryParse(r.substr(e));if(s3.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Gr.CONNECT:return QC(e);case Gr.DISCONNECT:return e===void 0;case Gr.CONNECT_ERROR:return typeof e=="string"||QC(e);case Gr.EVENT:case Gr.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&eoe.indexOf(e[0])===-1);case Gr.ACK:case Gr.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class roe{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const e=Jie(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function QC(t){return Object.prototype.toString.call(t)==="[object Object]"}const noe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:s3,Encoder:toe,get PacketType(){return Gr}},Symbol.toStringTag,{value:"Module"}));function xo(t,r,e){return t.on(r,e),function(){t.off(r,e)}}const soe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class QI extends bs{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[xo(r,"open",this.onopen.bind(this)),xo(r,"packet",this.onpacket.bind(this)),xo(r,"error",this.onerror.bind(this)),xo(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,s,a;if(soe.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:Gr.EVENT,data:e};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const d=this.ids++,p=e.pop();this._registerAckCallback(d,p),o.id=d}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(r,e){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[r]=e;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);e.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(a),e.apply(this,c)};o.withError=!0,this.acks[r]=o}emitWithAck(r,...e){return new Promise((n,s)=>{const a=(o,c)=>o?s(o):n(c);a.withError=!0,e.push(a),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...a)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(s)):(this._queue.shift(),e&&e(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Gr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Gr.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Gr.EVENT:case Gr.BINARY_EVENT:this.onevent(r);break;case Gr.ACK:case Gr.BINARY_ACK:this.onack(r);break;case Gr.DISCONNECT:this.ondisconnect();break;case Gr.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:Gr.ACK,id:r,data:s}))}}onack(r){const e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Gr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,r.data)}}}function zh(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}zh.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-e:t+e}return Math.min(t,this.max)|0};zh.prototype.reset=function(){this.attempts=0};zh.prototype.setMin=function(t){this.ms=t};zh.prototype.setMax=function(t){this.max=t};zh.prototype.setJitter=function(t){this.jitter=t};class T_ extends bs{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,wx(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new zh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;const s=e.parser||noe;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Hie(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=xo(e,"open",function(){n.onopen(),r&&r()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},o=xo(e,"error",a);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),e.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(xo(r,"ping",this.onping.bind(this)),xo(r,"data",this.ondata.bind(this)),xo(r,"error",this.onerror.bind(this)),xo(r,"close",this.onclose.bind(this)),xo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){vx(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new QI(this,r,e),this.nsps[r]=n),n}_destroy(r){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(r){const e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Mp={};function Py(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const e=Kie(t,r.path||"/socket.io"),n=e.source,s=e.id,a=e.path,o=Mp[s]&&a in Mp[s].nsps,c=r.forceNew||r["force new connection"]||r.multiplex===!1||o;let u;return c?u=new T_(n,r):(Mp[s]||(Mp[s]=new T_(n,r)),u=Mp[s]),e.query&&!r.query&&(r.query=e.queryKey),u.socket(e.path,r)}Object.assign(Py,{Manager:T_,Socket:QI,io:Py,connect:Py});function aoe(){const t=_s(),{toast:r}=pn(),e=E.useRef(null);E.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const s=Py({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});e.current=s,s.on("connect",()=>{console.log(" [Socket.IO]   !",s.id)}),s.on("disconnect",a=>{console.log(" [Socket.IO]   :",a)}),s.on("error",a=>{console.error(" [Socket.IO] :",a)}),s.on("message",a=>{try{if(console.log(" [Socket.IO]  :",a),a.type==="INVALIDATE"){const o=[a.entity,a.id].filter(Boolean);console.log(" [Socket.IO]   cache:",o),t.invalidateQueries({queryKey:o})}else a.type==="UPDATE_ALL"&&t.invalidateQueries({queryKey:[a.entity],exact:!1})}catch(o){console.error(" [Socket.IO]    :",o)}})}catch(s){console.error(" [Socket.IO]   :",s)}})(),()=>{e.current&&e.current.disconnect()}),[t,r])}var _x="Collapsible",[ioe]=da(_x),[ooe,a3]=ioe(_x),XI=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...c}=t,[u,l]=no({prop:n,defaultProp:s??!1,onChange:o,caller:_x});return i.jsx(ooe,{scope:e,disabled:a,contentId:Ni(),open:u,onOpenToggle:E.useCallback(()=>l(d=>!d),[l]),children:i.jsx(Ht.div,{"data-state":o3(u),"data-disabled":a?"":void 0,...c,ref:r})})});XI.displayName=_x;var YI="CollapsibleTrigger",ZI=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,...n}=t,s=a3(YI,e);return i.jsx(Ht.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":o3(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:r,onClick:ft(t.onClick,s.onOpenToggle)})});ZI.displayName=YI;var i3="CollapsibleContent",JI=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=a3(i3,t.__scopeCollapsible);return i.jsx(ks,{present:e||s.open,children:({present:a})=>i.jsx(loe,{...n,ref:r,present:a})})});JI.displayName=i3;var loe=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,present:n,children:s,...a}=t,o=a3(i3,e),[c,u]=E.useState(n),l=E.useRef(null),d=Ar(r,l),p=E.useRef(0),f=p.current,h=E.useRef(0),g=h.current,y=o.open||c,m=E.useRef(y),v=E.useRef(void 0);return E.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),Gs(()=>{const x=l.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const S=x.getBoundingClientRect();p.current=S.height,h.current=S.width,m.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),u(n)}},[o.open,n]),i.jsx(Ht.div,{"data-state":o3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...a,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:y&&s})});function o3(t){return t?"open":"closed"}var coe=XI;const Wi=coe,Ui=ZI,qi=JI;function E_(t,[r,e]){return Math.min(e,Math.max(r,t))}var uoe=E.createContext(void 0);function Vh(t){const r=E.useContext(uoe);return t||r||"ltr"}function doe(t){const r=foe(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(poe);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function foe(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=goe(s),c=moe(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var hoe=Symbol("radix.slottable");function poe(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hoe}function moe(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function goe(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var eO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yoe="VisuallyHidden",boe=E.forwardRef((t,r)=>i.jsx(Ht.span,{...t,ref:r,style:{...eO,...t.style}}));boe.displayName=yoe;var xoe=[" ","Enter","ArrowUp","ArrowDown"],voe=[" ","Enter"],Ed="Select",[kx,jx,woe]=qb(Ed),[Wh]=da(Ed,[woe,wu]),Sx=wu(),[_oe,ku]=Wh(Ed),[koe,joe]=Wh(Ed),tO=t=>{const{__scopeSelect:r,children:e,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:c,onValueChange:u,dir:l,name:d,autoComplete:p,disabled:f,required:h,form:g}=t,y=Sx(r),[m,v]=E.useState(null),[x,S]=E.useState(null),[C,A]=E.useState(!1),B=Vh(l),[q,R]=no({prop:n,defaultProp:s??!1,onChange:a,caller:Ed}),[I,$]=no({prop:o,defaultProp:c,onChange:u,caller:Ed}),K=E.useRef(null),U=m?g||!!m.closest("form"):!0,[P,L]=E.useState(new Set),T=Array.from(P).map(_=>_.props.value).join(";");return i.jsx(Yb,{...y,children:i.jsxs(_oe,{required:h,scope:r,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:A,contentId:Ni(),value:I,onValueChange:$,open:q,onOpenChange:R,dir:B,triggerPointerDownPosRef:K,disabled:f,children:[i.jsx(kx.Provider,{scope:r,children:i.jsx(koe,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(_=>{L(k=>new Set(k).add(_))},[]),onNativeOptionRemove:E.useCallback(_=>{L(k=>{const j=new Set(k);return j.delete(_),j})},[]),children:e})}),U?i.jsxs(SO,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:I,onChange:_=>$(_.target.value),disabled:f,form:g,children:[I===void 0?i.jsx("option",{value:""}):null,Array.from(P)]},T):null]})})};tO.displayName=Ed;var rO="SelectTrigger",nO=E.forwardRef((t,r)=>{const{__scopeSelect:e,disabled:n=!1,...s}=t,a=Sx(e),o=ku(rO,e),c=o.disabled||n,u=Ar(r,o.onTriggerChange),l=jx(e),d=E.useRef("touch"),[p,f,h]=CO(y=>{const m=l().filter(S=>!S.disabled),v=m.find(S=>S.value===o.value),x=TO(m,y,v);x!==void 0&&o.onValueChange(x.value)}),g=y=>{c||(o.onOpenChange(!0),h()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return i.jsx(h0,{asChild:!0,...a,children:i.jsx(Ht.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":NO(o.value)?"":void 0,...s,ref:u,onClick:ft(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:ft(s.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ft(s.onKeyDown,y=>{const m=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&xoe.includes(y.key)&&(g(),y.preventDefault())})})})});nO.displayName=rO;var sO="SelectValue",aO=E.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,children:a,placeholder:o="",...c}=t,u=ku(sO,e),{onValueNodeHasChildrenChange:l}=u,d=a!==void 0,p=Ar(r,u.onValueNodeChange);return Gs(()=>{l(d)},[l,d]),i.jsx(Ht.span,{...c,ref:p,style:{pointerEvents:"none"},children:NO(u.value)?i.jsx(i.Fragment,{children:o}):a})});aO.displayName=sO;var Soe="SelectIcon",iO=E.forwardRef((t,r)=>{const{__scopeSelect:e,children:n,...s}=t;return i.jsx(Ht.span,{"aria-hidden":!0,...s,ref:r,children:n||""})});iO.displayName=Soe;var Noe="SelectPortal",oO=t=>i.jsx(Rh,{asChild:!0,...t});oO.displayName=Noe;var Ad="SelectContent",lO=E.forwardRef((t,r)=>{const e=ku(Ad,t.__scopeSelect),[n,s]=E.useState();if(Gs(()=>{s(new DocumentFragment)},[]),!e.open){const a=n;return a?$d.createPortal(i.jsx(cO,{scope:t.__scopeSelect,children:i.jsx(kx.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(uO,{...t,ref:r})});lO.displayName=Ad;var go=10,[cO,ju]=Wh(Ad),Coe="SelectContentImpl",Toe=doe("SelectContent.RemoveScroll"),uO=E.forwardRef((t,r)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=t,x=ku(Ad,e),[S,C]=E.useState(null),[A,B]=E.useState(null),q=Ar(r,Z=>C(Z)),[R,I]=E.useState(null),[$,K]=E.useState(null),U=jx(e),[P,L]=E.useState(!1),T=E.useRef(!1);E.useEffect(()=>{if(S)return bx(S)},[S]),gx();const _=E.useCallback(Z=>{const[W,...V]=U().map(pe=>pe.ref.current),[G]=V.slice(-1),ae=document.activeElement;for(const pe of Z)if(pe===ae||(pe?.scrollIntoView({block:"nearest"}),pe===W&&A&&(A.scrollTop=0),pe===G&&A&&(A.scrollTop=A.scrollHeight),pe?.focus(),document.activeElement!==ae))return},[U,A]),k=E.useCallback(()=>_([R,S]),[_,R,S]);E.useEffect(()=>{P&&k()},[P,k]);const{onOpenChange:j,triggerPointerDownPosRef:N}=x;E.useEffect(()=>{if(S){let Z={x:0,y:0};const W=G=>{Z={x:Math.abs(Math.round(G.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(G.pageY)-(N.current?.y??0))}},V=G=>{Z.x<=10&&Z.y<=10?G.preventDefault():S.contains(G.target)||j(!1),document.removeEventListener("pointermove",W),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",V,{capture:!0})}}},[S,j,N]),E.useEffect(()=>{const Z=()=>j(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[j]);const[D,O]=CO(Z=>{const W=U().filter(ae=>!ae.disabled),V=W.find(ae=>ae.ref.current===document.activeElement),G=TO(W,Z,V);G&&setTimeout(()=>G.ref.current.focus())}),z=E.useCallback((Z,W,V)=>{const G=!T.current&&!V;(x.value!==void 0&&x.value===W||G)&&(I(Z),G&&(T.current=!0))},[x.value]),Q=E.useCallback(()=>S?.focus(),[S]),Y=E.useCallback((Z,W,V)=>{const G=!T.current&&!V;(x.value!==void 0&&x.value===W||G)&&K(Z)},[x.value]),re=n==="popper"?A_:dO,F=re===A_?{side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return i.jsx(cO,{scope:e,content:S,viewport:A,onViewportChange:B,itemRefCallback:z,selectedItem:R,onItemLeave:Q,itemTextRefCallback:Y,focusSelectedItem:k,selectedItemText:$,position:n,isPositioned:P,searchRef:D,children:i.jsx(_0,{as:Toe,allowPinchZoom:!0,children:i.jsx(w0,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ft(s,Z=>{x.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:i.jsx(zd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...v,...F,onPlaced:()=>L(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ft(v.onKeyDown,Z=>{const W=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!W&&Z.key.length===1&&O(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let G=U().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ae=Z.target,pe=G.indexOf(ae);G=G.slice(pe+1)}setTimeout(()=>_(G)),Z.preventDefault()}})})})})})})});uO.displayName=Coe;var Eoe="SelectItemAlignedPosition",dO=E.forwardRef((t,r)=>{const{__scopeSelect:e,onPlaced:n,...s}=t,a=ku(Ad,e),o=ju(Ad,e),[c,u]=E.useState(null),[l,d]=E.useState(null),p=Ar(r,q=>d(q)),f=jx(e),h=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:x}=o,S=E.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&l&&y&&m&&v){const q=a.trigger.getBoundingClientRect(),R=l.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(a.dir!=="rtl"){const ae=$.left-R.left,pe=I.left-ae,ce=q.left-pe,ge=q.width+ce,ee=Math.max(ge,R.width),oe=window.innerWidth-go,ne=E_(pe,[go,Math.max(go,oe-ee)]);c.style.minWidth=ge+"px",c.style.left=ne+"px"}else{const ae=R.right-$.right,pe=window.innerWidth-I.right-ae,ce=window.innerWidth-q.right-pe,ge=q.width+ce,ee=Math.max(ge,R.width),oe=window.innerWidth-go,ne=E_(pe,[go,Math.max(go,oe-ee)]);c.style.minWidth=ge+"px",c.style.right=ne+"px"}const K=f(),U=window.innerHeight-go*2,P=y.scrollHeight,L=window.getComputedStyle(l),T=parseInt(L.borderTopWidth,10),_=parseInt(L.paddingTop,10),k=parseInt(L.borderBottomWidth,10),j=parseInt(L.paddingBottom,10),N=T+_+P+j+k,D=Math.min(m.offsetHeight*5,N),O=window.getComputedStyle(y),z=parseInt(O.paddingTop,10),Q=parseInt(O.paddingBottom,10),Y=q.top+q.height/2-go,re=U-Y,F=m.offsetHeight/2,Z=m.offsetTop+F,W=T+_+Z,V=N-W;if(W<=Y){const ae=K.length>0&&m===K[K.length-1].ref.current;c.style.bottom="0px";const pe=l.clientHeight-y.offsetTop-y.offsetHeight,ce=Math.max(re,F+(ae?Q:0)+pe+k),ge=W+ce;c.style.height=ge+"px"}else{const ae=K.length>0&&m===K[0].ref.current;c.style.top="0px";const ce=Math.max(Y,T+y.offsetTop+(ae?z:0)+F)+V;c.style.height=ce+"px",y.scrollTop=W-Y+y.offsetTop}c.style.margin=`${go}px 0`,c.style.minHeight=D+"px",c.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[f,a.trigger,a.valueNode,c,l,y,m,v,a.dir,n]);Gs(()=>S(),[S]);const[C,A]=E.useState();Gs(()=>{l&&A(window.getComputedStyle(l).zIndex)},[l]);const B=E.useCallback(q=>{q&&g.current===!0&&(S(),x?.(),g.current=!1)},[S,x]);return i.jsx(Poe,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:B,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:i.jsx(Ht.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dO.displayName=Eoe;var Aoe="SelectPopperPosition",A_=E.forwardRef((t,r)=>{const{__scopeSelect:e,align:n="start",collisionPadding:s=go,...a}=t,o=Sx(e);return i.jsx(Zb,{...o,...a,ref:r,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});A_.displayName=Aoe;var[Poe,l3]=Wh(Ad,{}),P_="SelectViewport",fO=E.forwardRef((t,r)=>{const{__scopeSelect:e,nonce:n,...s}=t,a=ju(P_,e),o=l3(P_,e),c=Ar(r,a.onViewportChange),u=E.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(kx.Slot,{scope:e,children:i.jsx(Ht.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ft(s.onScroll,l=>{const d=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f?.current&&p){const h=Math.abs(u.current-d.scrollTop);if(h>0){const g=window.innerHeight-go*2,y=parseFloat(p.style.minHeight),m=parseFloat(p.style.height),v=Math.max(y,m);if(v<g){const x=v+h,S=Math.min(g,x),C=x-S;p.style.height=S+"px",p.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});fO.displayName=P_;var hO="SelectGroup",[Moe,Roe]=Wh(hO),Doe=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=Ni();return i.jsx(Moe,{scope:e,id:s,children:i.jsx(Ht.div,{role:"group","aria-labelledby":s,...n,ref:r})})});Doe.displayName=hO;var pO="SelectLabel",mO=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=Roe(pO,e);return i.jsx(Ht.div,{id:s.id,...n,ref:r})});mO.displayName=pO;var vb="SelectItem",[Ioe,gO]=Wh(vb),yO=E.forwardRef((t,r)=>{const{__scopeSelect:e,value:n,disabled:s=!1,textValue:a,...o}=t,c=ku(vb,e),u=ju(vb,e),l=c.value===n,[d,p]=E.useState(a??""),[f,h]=E.useState(!1),g=Ar(r,x=>u.itemRefCallback?.(x,n,s)),y=Ni(),m=E.useRef("touch"),v=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ioe,{scope:e,value:n,disabled:s,textId:y,isSelected:l,onItemTextChange:E.useCallback(x=>{p(S=>S||(x?.textContent??"").trim())},[]),children:i.jsx(kx.ItemSlot,{scope:e,value:n,disabled:s,textValue:d,children:i.jsx(Ht.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ft(o.onFocus,()=>h(!0)),onBlur:ft(o.onBlur,()=>h(!1)),onClick:ft(o.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:ft(o.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:ft(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:ft(o.onPointerMove,x=>{m.current=x.pointerType,s?u.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,x=>{x.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ft(o.onKeyDown,x=>{u.searchRef?.current!==""&&x.key===" "||(voe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});yO.displayName=vb;var Wp="SelectItemText",bO=E.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,...a}=t,o=ku(Wp,e),c=ju(Wp,e),u=gO(Wp,e),l=joe(Wp,e),[d,p]=E.useState(null),f=Ar(r,v=>p(v),u.onItemTextChange,v=>c.itemTextRefCallback?.(v,u.value,u.disabled)),h=d?.textContent,g=E.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:h},u.value),[u.disabled,u.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=l;return Gs(()=>(y(g),()=>m(g)),[y,m,g]),i.jsxs(i.Fragment,{children:[i.jsx(Ht.span,{id:u.textId,...a,ref:f}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$d.createPortal(a.children,o.valueNode):null]})});bO.displayName=Wp;var xO="SelectItemIndicator",vO=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return gO(xO,e).isSelected?i.jsx(Ht.span,{"aria-hidden":!0,...n,ref:r}):null});vO.displayName=xO;var M_="SelectScrollUpButton",wO=E.forwardRef((t,r)=>{const e=ju(M_,t.__scopeSelect),n=l3(M_,t.__scopeSelect),[s,a]=E.useState(!1),o=Ar(r,n.onScrollButtonChange);return Gs(()=>{if(e.viewport&&e.isPositioned){let c=function(){const l=u.scrollTop>0;a(l)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?i.jsx(kO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});wO.displayName=M_;var R_="SelectScrollDownButton",_O=E.forwardRef((t,r)=>{const e=ju(R_,t.__scopeSelect),n=l3(R_,t.__scopeSelect),[s,a]=E.useState(!1),o=Ar(r,n.onScrollButtonChange);return Gs(()=>{if(e.viewport&&e.isPositioned){let c=function(){const l=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<l;a(d)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?i.jsx(kO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});_O.displayName=R_;var kO=E.forwardRef((t,r)=>{const{__scopeSelect:e,onAutoScroll:n,...s}=t,a=ju("SelectScrollButton",e),o=E.useRef(null),c=jx(e),u=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),Gs(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(Ht.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:ft(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ft(s.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ft(s.onPointerLeave,()=>{u()})})}),Ooe="SelectSeparator",jO=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return i.jsx(Ht.div,{"aria-hidden":!0,...n,ref:r})});jO.displayName=Ooe;var D_="SelectArrow",Foe=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=Sx(e),a=ku(D_,e),o=ju(D_,e);return a.open&&o.position==="popper"?i.jsx(Jb,{...s,...n,ref:r}):null});Foe.displayName=D_;var Loe="SelectBubbleInput",SO=E.forwardRef(({__scopeSelect:t,value:r,...e},n)=>{const s=E.useRef(null),a=Ar(n,s),o=q4(r);return E.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&d){const p=new Event("change",{bubbles:!0});d.call(c,r),c.dispatchEvent(p)}},[o,r]),i.jsx(Ht.select,{...e,style:{...eO,...e.style},ref:a,defaultValue:r})});SO.displayName=Loe;function NO(t){return t===""||t===void 0}function CO(t){const r=xa(t),e=E.useRef(""),n=E.useRef(0),s=E.useCallback(o=>{const c=e.current+o;r(c),(function u(l){e.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[r]),a=E.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,s,a]}function TO(t,r,e){const s=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,a=e?t.indexOf(e):-1;let o=Boe(t,Math.max(a,0));s.length===1&&(o=o.filter(l=>l!==e));const u=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function Boe(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var $oe=tO,EO=nO,zoe=aO,Voe=iO,Woe=oO,AO=lO,Uoe=fO,PO=mO,MO=yO,qoe=bO,Hoe=vO,RO=wO,DO=_O,IO=jO;const Yn=t=>i.jsx($oe,{modal:!1,...t}),Zn=zoe,Vn=E.forwardRef(({className:t,children:r,...e},n)=>i.jsxs(EO,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...e,children:[r,i.jsx(Voe,{asChild:!0,children:i.jsx(Bn,{className:"h-4 w-4 opacity-50"})})]}));Vn.displayName=EO.displayName;const OO=E.forwardRef(({className:t,...r},e)=>i.jsx(RO,{ref:e,className:Ee("flex cursor-default items-center justify-center py-1",t),...r,children:i.jsx(No,{className:"h-4 w-4"})}));OO.displayName=RO.displayName;const FO=E.forwardRef(({className:t,...r},e)=>i.jsx(DO,{ref:e,className:Ee("flex cursor-default items-center justify-center py-1",t),...r,children:i.jsx(Bn,{className:"h-4 w-4"})}));FO.displayName=DO.displayName;const Wn=E.forwardRef(({className:t,children:r,position:e="popper",...n},s)=>i.jsx(Woe,{children:i.jsxs(AO,{ref:s,className:Ee("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,style:{pointerEvents:"auto"},...n,children:[i.jsx(OO,{}),i.jsx(Uoe,{className:Ee("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),i.jsx(FO,{})]})}));Wn.displayName=AO.displayName;const Koe=E.forwardRef(({className:t,...r},e)=>i.jsx(PO,{ref:e,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));Koe.displayName=PO.displayName;const $t=E.forwardRef(({className:t,children:r,...e},n)=>i.jsxs(MO,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Hoe,{children:i.jsx(ql,{className:"h-4 w-4"})})}),i.jsx(qoe,{children:r})]}));$t.displayName=MO.displayName;const Goe=E.forwardRef(({className:t,...r},e)=>i.jsx(IO,{ref:e,className:Ee("-mx-1 my-1 h-px bg-muted",t),...r}));Goe.displayName=IO.displayName;function Ms({value:t,onChange:r,placeholder:e,category:n,disabled:s=!1,className:a="",type:o="text",inputMode:c="text",autoWidth:u=!1,maxWidth:l=420}){const[d,p]=E.useState(!1),[f,h]=E.useState(""),g=E.useRef(null),y=E.useRef(null),m=_s(),{data:v=[],isLoading:x}=xt({queryKey:xe.autocompleteCategory(n),queryFn:async()=>{const U=await Ve(`/api/autocomplete/${n}`,"GET");return U&&typeof U=="object"?U.data||U:[]},enabled:!!n,staleTime:1e3*60*5}),S=Dt({mutationFn:U=>Ve("/api/autocomplete","POST",U),onSuccess:async()=>{await m.invalidateQueries({queryKey:xe.autocompleteCategory(n)})},onError:U=>{console.error("Error saving autocomplete data:",U)}}),C=Dt({mutationFn:({category:U,value:P})=>Ve(`/api/autocomplete/${U}/${encodeURIComponent(P)}`,"DELETE"),onSuccess:async()=>{await m.invalidateQueries({queryKey:xe.autocompleteCategory(n)})}}),A=Array.isArray(v)?v.filter(U=>U?.value&&typeof U.value=="string"?U.value.toLowerCase().includes(f.toLowerCase()):!1):[],B=E.useCallback(U=>{r(U),p(!1),h(""),U&&typeof U=="string"&&U.trim()&&S.mutate({category:n,value:U.trim()})},[r,n,S]),q=E.useCallback(U=>{setTimeout(()=>{y.current&&!y.current.contains(U.relatedTarget)&&(p(!1),h(""),t&&typeof t=="string"&&t.trim()&&t.trim().length>=2&&S.mutate({category:n,value:t.trim()}))},150)},[t,n,S]),R=E.useCallback((U,P)=>{P.stopPropagation(),C.mutate({category:n,value:U})},[n,C]);E.useEffect(()=>{const U=P=>{y.current&&!y.current.contains(P.target)&&g.current&&!g.current.contains(P.target)&&(p(!1),h(""))};if(d)return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]);const I=U=>{const P=U.target.value;r(P),h(P),!d&&P&&P.length>=1&&p(!0)},$=E.useCallback(U=>{U.key==="Enter"&&t.trim()&&t.trim().length>=2&&(U.preventDefault(),p(!1),h(""),S.mutate({category:n,value:t.trim()}))},[t,n,S]),K=()=>{p(!0),m.refetchQueries({queryKey:xe.autocompleteCategory(n)})};return i.jsxs("div",{className:Ee("relative",u?"inline-block align-bottom":"w-full"),children:[i.jsx(yt,{ref:g,value:t,onChange:I,onFocus:K,onBlur:q,onKeyDown:$,placeholder:e,disabled:s,className:`arabic-numbers ${a}`,type:o,inputMode:c,autoWidth:u,maxWidth:l}),d&&!s&&i.jsx("div",{ref:y,className:"absolute z-50 w-full mt-1",children:i.jsx(lr,{className:"max-h-64 overflow-y-auto shadow-lg border",children:x?i.jsxs("div",{className:"p-3 text-center text-gray-500",children:[i.jsx(To,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(A)&&A.length>0?i.jsx("div",{className:"py-1",children:A.slice(0,10).map(U=>i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>B(U.value),children:[i.jsx("span",{className:"flex-1 text-right",children:U.value}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("span",{className:"text-xs text-gray-400",children:U.usageCount}),i.jsx(Re,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:P=>R(U.value,P),children:i.jsx(us,{className:"w-3 h-3"})})]})]},U.id))}):f?i.jsxs("div",{className:"p-3 text-center text-gray-500",children:[i.jsx(To,{className:"w-4 h-4 mx-auto"}),'    "',f,'"']}):i.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}const Rp="construction-app-selected-project",Dp="construction-app-selected-project-name",Es="all",Ho=" ",Qoe=[xe.projects,xe.projectsWithStats,xe.workers,xe.workerTypes,xe.materials,xe.projectFundTransfers,xe.transportationExpenses,xe.workerMiscExpenses,xe.suppliers,xe.dailyExpenseSummaries,xe.notifications],LO=E.createContext(null);function Xoe({children:t}){const[r,e]=E.useState(Es),[n,s]=E.useState(Ho),[a,o]=E.useState(!1),c=_s(),{data:u,isLoading:l,error:d}=xt({queryKey:xe.projects,queryFn:async()=>{const B=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!B.ok)throw new Error("   ");const q=await B.json();return Array.isArray(q?.data)?q.data:Array.isArray(q)?q:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),p=E.useMemo(()=>Array.isArray(u)?u:[],[u]);E.useEffect(()=>{try{const B=localStorage.getItem(Rp),q=localStorage.getItem(Dp);B&&B!=="undefined"&&B!=="null"?(e(B),q&&s(q)):(e(Es),s(Ho))}catch{localStorage.removeItem(Rp),localStorage.removeItem(Dp),e(Es),s(Ho)}finally{o(!0)}},[]);const f=!a||l,h=E.useCallback(async B=>{console.log(" [SelectedProjectContext]    ...",B);const q=Date.now();await c.cancelQueries();const R=Qoe.map($=>c.invalidateQueries({queryKey:$,refetchType:"all",exact:!1}));B&&B!==Es&&R.push(c.invalidateQueries({predicate:$=>{const K=$.queryKey;return Array.isArray(K)&&K.some(U=>String(U)===B)},refetchType:"all"})),await Promise.all(R),await c.refetchQueries({type:"active",exact:!1});const I=Date.now()-q;console.log(` [SelectedProjectContext]      ${I}ms`)},[c]),g=E.useCallback(async(B,q)=>{console.log(" [SelectedProjectContext]   :",{projectId:B,projectName:q}),e(B),q?s(q):B===Es&&s(Ho);try{B&&B!=="undefined"&&B!=="null"?(localStorage.setItem(Rp,B),q?localStorage.setItem(Dp,q):B===Es&&localStorage.setItem(Dp,Ho)):(localStorage.removeItem(Rp),localStorage.removeItem(Dp),s(""))}catch(R){console.error(" [SelectedProjectContext]    :",R)}await h(B)},[h]),y=E.useCallback(()=>{g(Es,Ho)},[g]),m=E.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(Es,Ho)},[g]),v=E.useCallback(()=>{try{const B=localStorage.getItem(Rp);return!!(B&&B!=="undefined"&&B!=="null"&&B!==Es)}catch{return!1}},[]),x=E.useCallback(()=>{if(!(r===Es||!r))return r},[r]),S=r===Es,C=E.useCallback(async()=>{await h(r)},[h,r]),A=E.useMemo(()=>({selectedProjectId:r,selectedProjectName:n,isLoading:f,isAllProjects:S,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:x,projects:p,projectsError:d,isProjectsLoading:l,refreshAllData:C}),[r,n,f,S,g,m,y,v,x,p,d,l,C]);return i.jsx(LO.Provider,{value:A,children:t})}function Yoe(){const t=E.useContext(LO);if(!t)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return t}function Io(){const t=Yoe();return{...t,refreshAllData:t.refreshAllData}}const Zoe=Vd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:t,variant:r,...e}){return i.jsx("div",{className:Ee(Zoe({variant:r}),t),...e})}function Joe({worker:t,attendance:r,onAttendanceChange:e,selectedDate:n=ia()}){const[s,a]=E.useState(r),[o,c]=E.useState(!1),[u,l]=E.useState(r.recordType||"work"),{data:d}=xt({queryKey:xe.workerStatsSimple(t.id),queryFn:async()=>{try{const A=await Ve(`/api/workers/${t.id}/stats`,"GET");return A&&A.data?A.data:A||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(A){return console.error("Error fetching worker stats:",A),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),p=s.isPresent&&n===ia();E.useEffect(()=>{a(r)},[r]);const f=A=>{const B={...s,...A};B.isPresent&&(A.workDays!==void 0||A.paidAmount!==void 0||A.overtime!==void 0||A.overtimeRate!==void 0)&&(B.actualWage=y(),B.totalPay=v(),B.remainingAmount=x(),B.hoursWorked=g()),a(B),e(B)},h=A=>{const B=A===!0;B||c(!1),f(B&&u==="work"?{isPresent:B,startTime:s.startTime||"07:00",endTime:s.endTime||"15:00",workDescription:s.workDescription,workDays:s.workDays===void 0?0:s.workDays,paidAmount:s.paidAmount,paymentType:s.paymentType||"partial"}:B&&u==="advance"?{isPresent:B,workDays:0,paidAmount:s.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:B})},g=()=>{if(!s.startTime||!s.endTime)return 0;const A=new Date(`2000-01-01T${s.startTime}:00`);let q=new Date(`2000-01-01T${s.endTime}:00`).getTime()-A.getTime();q<0&&(q+=1440*60*1e3);const R=q/(1e3*60*60);return Math.max(0,R)},y=()=>{if(!s.isPresent||u==="advance")return 0;const A=s.workDays||0,B=parseFloat(String(t.dailyWage||"0"));return Math.max(0,B*A)},m=()=>{const A=s.overtime||0,B=s.overtimeRate||0;return A*B},v=()=>{const A=y(),B=m();return Math.max(0,A+B)},x=()=>{if(u==="advance")return-parseFloat(s.paidAmount||"0");const A=v(),B=parseFloat(s.paidAmount||"0");return A-B},S=A=>{switch(A){case"":return i.jsx(zn,{className:"h-5 w-5"});case"":return i.jsx(wQ,{className:"h-5 w-5"});case"":return i.jsx(vQ,{className:"h-5 w-5"});case"":return i.jsx(PQ,{className:"h-5 w-5"});case"":return i.jsx(Si,{className:"h-5 w-5"});default:return i.jsx(Wd,{className:"h-5 w-5"})}},C=A=>{const B=A.toLowerCase();return B.includes("")||B.includes("master")?"bg-gradient-to-br from-primary to-primary/80":B.includes("")||B.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":B.includes("")||B.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":B.includes("")||B.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":B.includes("")||B.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":B.includes("")||B.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":B.includes("")||B.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":B.includes("")||B.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return i.jsx(lr,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${p?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${t.id}`,children:i.jsxs(br,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${C(t.type)}`,children:S(t.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[i.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${t.id}`,children:t.name}),t.isActive?i.jsx(Co,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${t.id}`}):i.jsx(ua,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${t.id}`})]}),i.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[i.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:i.jsx(Nt,{variant:"secondary",className:`${C(t.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:t.type})}),i.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[i.jsx(Sr,{className:"h-3 w-3"}),i.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${t.id}`,children:Je(t.dailyWage)})]}),i.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[i.jsx(Ks,{className:"h-3 w-3"}),i.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[s.isPresent&&i.jsxs(i.Fragment,{children:[i.jsx(Re,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>l("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${t.id}`,children:""}),i.jsx(Re,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>l("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${t.id}`,children:""}),i.jsxs(Re,{variant:o?"default":"ghost",size:"sm",onClick:()=>c(!o),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${t.id}`,children:[o?i.jsx(No,{className:"h-4 w-4"}):i.jsx(Bn,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs",children:o?"":""})]})]}),i.jsx(Ye,{htmlFor:`present-${t.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),i.jsx(_h,{id:`present-${t.id}`,checked:s.isPresent,onCheckedChange:h,className:"w-5 h-5","data-testid":`attendance-checkbox-${t.id}`})]})]}),s.isPresent&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"space-y-1.5 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:""}),i.jsx("span",{className:"font-bold text-foreground",children:t.name})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),i.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(t.dailyWage||"0")})]}),i.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:""}),i.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:Je(y())})]})]})}),i.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:i.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:s.workDays||"",onChange:A=>{const B=A.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${t.id}`})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:""}),i.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(parseFloat(s.paidAmount||"0"))})]}),i.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:""}),i.jsx("span",{className:`font-bold arabic-numbers ${x()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:Je(Math.abs(x()))})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:s.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),i.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[i.jsx("span",{className:"text-muted-foreground font-medium",children:""}),i.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:Je(Math.abs(x()))})]})]})})})]}),s.isPresent&&o&&i.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:i.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[i.jsx($n,{className:"h-4 w-4 text-slate-600"}),i.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx(yt,{type:"time",value:s.startTime||"07:00",onChange:A=>f({startTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx(yt,{type:"time",value:s.endTime||"15:00",onChange:A=>f({endTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx(yt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:s.workDays||"",onChange:A=>{const B=A.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx(yt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:i.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:s.overtime===void 0?"":s.overtime,onChange:A=>{const B=A.target.value;f({overtime:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.overtimeRate===void 0?"":s.overtimeRate,onChange:A=>{const B=A.target.value;f({overtimeRate:B===""?0:parseFloat(B)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),i.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),i.jsx(Ms,{value:s.workDescription||"",onChange:A=>f({workDescription:A}),placeholder:"   ...",category:"workDescriptions",autoWidth:!0,maxWidth:500,className:"w-full text-sm"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),i.jsx(yt,{type:"text",value:s.notes||"",onChange:A=>f({notes:A.target.value}),placeholder:" ...",autoWidth:!0,maxWidth:500,className:"text-sm h-8"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),i.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:i.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:Je(v())})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),i.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:i.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:Je(m())})})]})]})]})})]})})}function ele(t){const r=tle(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(nle);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function tle(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=ale(s),c=sle(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var rle=Symbol("radix.slottable");function nle(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rle}function sle(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function ale(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var Nx="Popover",[BO]=da(Nx,[wu]),N0=wu(),[ile,Su]=BO(Nx),$O=t=>{const{__scopePopover:r,children:e,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,c=N0(r),u=E.useRef(null),[l,d]=E.useState(!1),[p,f]=no({prop:n,defaultProp:s??!1,onChange:a,caller:Nx});return i.jsx(Yb,{...c,children:i.jsx(ile,{scope:r,contentId:Ni(),triggerRef:u,open:p,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:l,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:o,children:e})})};$O.displayName=Nx;var zO="PopoverAnchor",ole=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=Su(zO,e),a=N0(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return E.useEffect(()=>(o(),()=>c()),[o,c]),i.jsx(h0,{...a,...n,ref:r})});ole.displayName=zO;var VO="PopoverTrigger",WO=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=Su(VO,e),a=N0(e),o=Ar(r,s.triggerRef),c=i.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GO(s.open),...n,ref:o,onClick:ft(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:i.jsx(h0,{asChild:!0,...a,children:c})});WO.displayName=VO;var c3="PopoverPortal",[lle,cle]=BO(c3,{forceMount:void 0}),UO=t=>{const{__scopePopover:r,forceMount:e,children:n,container:s}=t,a=Su(c3,r);return i.jsx(lle,{scope:r,forceMount:e,children:i.jsx(ks,{present:e||a.open,children:i.jsx(Rh,{asChild:!0,container:s,children:n})})})};UO.displayName=c3;var jh="PopoverContent",qO=E.forwardRef((t,r)=>{const e=cle(jh,t.__scopePopover),{forceMount:n=e.forceMount,...s}=t,a=Su(jh,t.__scopePopover);return i.jsx(ks,{present:n||a.open,children:a.modal?i.jsx(dle,{...s,ref:r}):i.jsx(fle,{...s,ref:r})})});qO.displayName=jh;var ule=ele("PopoverContent.RemoveScroll"),dle=E.forwardRef((t,r)=>{const e=Su(jh,t.__scopePopover),n=E.useRef(null),s=Ar(r,n),a=E.useRef(!1);return E.useEffect(()=>{const o=n.current;if(o)return bx(o)},[]),i.jsx(_0,{as:ule,allowPinchZoom:!0,children:i.jsx(HO,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||e.triggerRef.current?.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,l=c.button===2||u;a.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),fle=E.forwardRef((t,r)=>{const e=Su(jh,t.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return i.jsx(HO,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||e.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;e.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),HO=E.forwardRef((t,r)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:d,...p}=t,f=Su(jh,e),h=N0(e);return gx(),i.jsx(w0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(zd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(Zb,{"data-state":GO(f.open),role:"dialog",id:f.contentId,...h,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),KO="PopoverClose",hle=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=Su(KO,e);return i.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ft(t.onClick,()=>s.onOpenChange(!1))})});hle.displayName=KO;var ple="PopoverArrow",mle=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=N0(e);return i.jsx(Jb,{...s,...n,ref:r})});mle.displayName=ple;function GO(t){return t?"open":"closed"}var gle=$O,yle=WO,ble=UO,QO=qO;const Cx=t=>i.jsx(gle,{modal:!1,...t}),Tx=yle,C0=E.forwardRef(({className:t,align:r="center",sideOffset:e=4,...n},s)=>i.jsx(ble,{children:i.jsx(QO,{ref:s,align:r,sideOffset:e,className:Ee("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...n})}));C0.displayName=QO.displayName;function xle(t,r){return E.useReducer((e,n)=>r[e][n]??e,t)}var u3="ScrollArea",[XO]=da(u3),[vle,io]=XO(u3),YO=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[c,u]=E.useState(null),[l,d]=E.useState(null),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState(null),[v,x]=E.useState(0),[S,C]=E.useState(0),[A,B]=E.useState(!1),[q,R]=E.useState(!1),I=Ar(r,K=>u(K)),$=Vh(s);return i.jsx(vle,{scope:e,type:n,dir:$,scrollHideDelay:a,scrollArea:c,viewport:l,onViewportChange:d,content:p,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:A,onScrollbarXEnabledChange:B,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:q,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:C,children:i.jsx(Ht.div,{dir:$,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});YO.displayName=u3;var ZO="ScrollAreaViewport",JO=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,children:n,nonce:s,...a}=t,o=io(ZO,e),c=E.useRef(null),u=Ar(r,c,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});JO.displayName=ZO;var vl="ScrollAreaScrollbar",d3=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=io(vl,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,c=t.orientation==="horizontal";return E.useEffect(()=>(c?a(!0):o(!0),()=>{c?a(!1):o(!1)}),[c,a,o]),s.type==="hover"?i.jsx(wle,{...n,ref:r,forceMount:e}):s.type==="scroll"?i.jsx(_le,{...n,ref:r,forceMount:e}):s.type==="auto"?i.jsx(eF,{...n,ref:r,forceMount:e}):s.type==="always"?i.jsx(f3,{...n,ref:r}):null});d3.displayName=vl;var wle=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=io(vl,t.__scopeScrollArea),[a,o]=E.useState(!1);return E.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const l=()=>{window.clearTimeout(u),o(!0)},d=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",l),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",l),c.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(ks,{present:e||a,children:i.jsx(eF,{"data-state":a?"visible":"hidden",...n,ref:r})})}),_le=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=io(vl,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Ax(()=>u("SCROLL_END"),100),[c,u]=xle("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(c==="idle"){const l=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[c,s.scrollHideDelay,u]),E.useEffect(()=>{const l=s.viewport,d=a?"scrollLeft":"scrollTop";if(l){let p=l[d];const f=()=>{const h=l[d];p!==h&&(u("SCROLL"),o()),p=h};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,a,u,o]),i.jsx(ks,{present:e||c!=="hidden",children:i.jsx(f3,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:ft(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ft(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),eF=E.forwardRef((t,r)=>{const e=io(vl,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=E.useState(!1),c=t.orientation==="horizontal",u=Ax(()=>{if(e.viewport){const l=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;o(c?l:d)}},10);return Sh(e.viewport,u),Sh(e.content,u),i.jsx(ks,{present:n||a,children:i.jsx(f3,{"data-state":a?"visible":"hidden",...s,ref:r})})}),f3=E.forwardRef((t,r)=>{const{orientation:e="vertical",...n}=t,s=io(vl,t.__scopeScrollArea),a=E.useRef(null),o=E.useRef(0),[c,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=aF(c.viewport,c.content),d={...n,sizes:c,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function p(f,h){return Tle(f,o.current,c,h)}return e==="horizontal"?i.jsx(kle,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,h=XC(f,c,s.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):e==="vertical"?i.jsx(jle,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,h=XC(f,c);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),kle=E.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,a=io(vl,t.__scopeScrollArea),[o,c]=E.useState(),u=E.useRef(null),l=Ar(r,u,a.onScrollbarXChange);return E.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),i.jsx(rF,{"data-orientation":"horizontal",...s,ref:l,sizes:e,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ex(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),oF(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:_b(o.paddingLeft),paddingEnd:_b(o.paddingRight)}})}})}),jle=E.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,a=io(vl,t.__scopeScrollArea),[o,c]=E.useState(),u=E.useRef(null),l=Ar(r,u,a.onScrollbarYChange);return E.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),i.jsx(rF,{"data-orientation":"vertical",...s,ref:l,sizes:e,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ex(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),oF(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:_b(o.paddingTop),paddingEnd:_b(o.paddingBottom)}})}})}),[Sle,tF]=XO(vl),rF=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:d,onResize:p,...f}=t,h=io(vl,e),[g,y]=E.useState(null),m=Ar(r,I=>y(I)),v=E.useRef(null),x=E.useRef(""),S=h.viewport,C=n.content-n.viewport,A=xa(d),B=xa(u),q=Ax(p,10);function R(I){if(v.current){const $=I.clientX-v.current.left,K=I.clientY-v.current.top;l({x:$,y:K})}}return E.useEffect(()=>{const I=$=>{const K=$.target;g?.contains(K)&&A($,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,g,C,A]),E.useEffect(B,[n,B]),Sh(g,q),Sh(h.content,q),i.jsx(Sle,{scope:e,scrollbar:g,hasThumb:s,onThumbChange:xa(a),onThumbPointerUp:xa(o),onThumbPositionChange:B,onThumbPointerDown:xa(c),children:i.jsx(Ht.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:ft(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(I))}),onPointerMove:ft(t.onPointerMove,R),onPointerUp:ft(t.onPointerUp,I=>{const $=I.target;$.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),wb="ScrollAreaThumb",nF=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=tF(wb,t.__scopeScrollArea);return i.jsx(ks,{present:e||s.hasThumb,children:i.jsx(Nle,{ref:r,...n})})}),Nle=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,style:n,...s}=t,a=io(wb,e),o=tF(wb,e),{onThumbPositionChange:c}=o,u=Ar(r,p=>o.onThumbChange(p)),l=E.useRef(void 0),d=Ax(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const p=a.viewport;if(p){const f=()=>{if(d(),!l.current){const h=Ele(p,c);l.current=h,c()}};return c(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,d,c]),i.jsx(Ht.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ft(t.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),g=p.clientX-h.left,y=p.clientY-h.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:ft(t.onPointerUp,o.onThumbPointerUp)})});nF.displayName=wb;var h3="ScrollAreaCorner",sF=E.forwardRef((t,r)=>{const e=io(h3,t.__scopeScrollArea),n=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&n?i.jsx(Cle,{...t,ref:r}):null});sF.displayName=h3;var Cle=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,...n}=t,s=io(h3,e),[a,o]=E.useState(0),[c,u]=E.useState(0),l=!!(a&&c);return Sh(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),u(d)}),Sh(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),o(d)}),l?i.jsx(Ht.div,{...n,ref:r,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function _b(t){return t?parseInt(t,10):0}function aF(t,r){const e=t/r;return isNaN(e)?0:e}function Ex(t){const r=aF(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-e)*r;return Math.max(n,18)}function Tle(t,r,e,n="ltr"){const s=Ex(e),a=s/2,o=r||a,c=s-o,u=e.scrollbar.paddingStart+o,l=e.scrollbar.size-e.scrollbar.paddingEnd-c,d=e.content-e.viewport,p=n==="ltr"?[0,d]:[d*-1,0];return iF([u,l],p)(t)}function XC(t,r,e="ltr"){const n=Ex(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,o=r.content-r.viewport,c=a-n,u=e==="ltr"?[0,o]:[o*-1,0],l=E_(t,u);return iF([0,o],[0,c])(l)}function iF(t,r){return e=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(t[1]-t[0]);return r[0]+n*(e-t[0])}}function oF(t,r){return t>0&&t<r}var Ele=(t,r=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},n=0;return(function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=e.left!==a.left,c=e.top!==a.top;(o||c)&&r(),e=a,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function Ax(t,r){const e=xa(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(e,r)},[e,r])}function Sh(t,r){const e=xa(r);Gs(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(e)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,e])}var lF=YO,Ale=JO,Ple=sF;const Oo=E.forwardRef(({className:t,children:r,...e},n)=>i.jsxs(lF,{ref:n,className:Ee("relative overflow-hidden",t),...e,children:[i.jsx(Ale,{className:"h-full w-full rounded-[inherit]",children:r}),i.jsx(p3,{}),i.jsx(Ple,{})]}));Oo.displayName=lF.displayName;const p3=E.forwardRef(({className:t,orientation:r="vertical",...e},n)=>i.jsx(d3,{ref:n,orientation:r,className:Ee("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...e,children:i.jsx(nF,{className:"relative flex-1 rounded-full bg-border"})}));p3.displayName=d3.displayName;function os({value:t,onValueChange:r,options:e,placeholder:n="...",searchPlaceholder:s="...",emptyText:a="  ",disabled:o=!1,className:c="",triggerClassName:u="",contentClassName:l="",showSearch:d=!0,maxHeight:p=300,allowCustom:f=!1,onCustomAdd:h}){const[g,y]=E.useState(!1),[m,v]=E.useState(""),x=E.useRef(null),S=E.useMemo(()=>{if(!m.trim())return e;const R=m.toLowerCase().trim();return e.filter(I=>I.label.toLowerCase().includes(R)||I.value.toLowerCase().includes(R)||I.description?.toLowerCase().includes(R))},[e,m]),C=E.useMemo(()=>e.find(R=>R.value===t),[e,t]),A=E.useCallback(R=>{r(R),y(!1),v("")},[r]),B=E.useCallback(R=>{R.stopPropagation(),r("")},[r]);E.useEffect(()=>{if(g&&d&&x.current){x.current.focus();const R=setTimeout(()=>{x.current?.focus()},50);return()=>clearTimeout(R)}g||v("")},[g,d]);const q=E.useCallback(R=>{R.key==="Escape"&&y(!1)},[]);return i.jsx("div",{className:Ee("w-full",c),children:i.jsxs(Cx,{open:g,onOpenChange:y,children:[i.jsx(Tx,{asChild:!0,children:i.jsxs(Re,{variant:"outline",role:"combobox","aria-expanded":g,disabled:o,className:Ee("w-full justify-between h-10 font-normal",!t&&"text-muted-foreground",u),children:[i.jsx("span",{className:"truncate text-right flex-1",children:C?.label||n}),i.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[t&&!o&&i.jsx(Rs,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:B}),i.jsx(Bn,{className:"h-4 w-4 opacity-50"})]})]})}),i.jsxs(C0,{className:Ee("w-[var(--radix-popover-trigger-width)] p-0",l),align:"start",onKeyDown:q,children:[d&&i.jsx("div",{className:"border-b p-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(To,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),i.jsx(yt,{ref:x,placeholder:s,value:m,onChange:R=>v(R.target.value),className:"pr-8 h-9"})]})}),i.jsx(Oo,{className:"w-full",style:{maxHeight:`${p}px`},children:i.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:S.length===0?i.jsx("div",{children:f&&m.trim()?i.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ee("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[i.jsx(gs,{className:"h-4 w-4 shrink-0"}),i.jsx("div",{className:"flex-1 text-right",children:i.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):i.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:a})}):i.jsxs(i.Fragment,{children:[S.map(R=>i.jsxs("button",{onClick:()=>!R.disabled&&A(R.value),disabled:R.disabled,className:Ee("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",t===R.value&&"bg-accent/50",R.disabled&&"opacity-50 cursor-not-allowed"),children:[i.jsx(ql,{className:Ee("h-4 w-4 shrink-0",t===R.value?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("div",{children:R.label}),R.description&&i.jsx("div",{className:"text-xs text-muted-foreground",children:R.description})]})]},R.value)),f&&m.trim()&&!S.some(R=>R.value===m.trim())&&i.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ee("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[i.jsx(gs,{className:"h-4 w-4 shrink-0"}),i.jsx("div",{className:"flex-1 text-right",children:i.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function uke({value:t,onValueChange:r,workers:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",showInactiveWorkers:o=!0,disabled:c=!1,className:u=""}){const l=E.useMemo(()=>{const p=(o?e:e.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return s?[{value:"all",label:a},...p]:p},[e,s,a,o]);return i.jsx(os,{value:t,onValueChange:r,options:l,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:c,className:u})}function dke({value:t,onValueChange:r,projects:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return s?[{value:"all",label:a},...l]:l},[e,s,a]);return i.jsx(os,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:c})}function fke({value:t,onValueChange:r,users:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:a=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id,label:d.fullName||d.username||d.email||d.id,description:d.email||void 0}));return s?[{value:"all",label:a},...l]:l},[e,s,a]);return i.jsx(os,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:c})}function I_({value:t,onValueChange:r,projectTypes:e,placeholder:n="  ",showNoneOption:s=!0,noneOptionLabel:a=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return s?[{value:"",label:a},...l]:l},[e,s,a]);return i.jsx(os,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"   ...",emptyText:"    ",disabled:o,className:c})}function Om({projectId:t,value:r,onChange:e,showLabel:n=!0,disabled:s=!1,optional:a=!0}){const{data:o=[],isLoading:c}=xt({queryKey:xe.wellsByProject(t),queryFn:async()=>{if(!t)return[];try{const l=await Ve(`/api/wells?projectId=${t}`);return l&&l.success&&Array.isArray(l.data)?l.data:Array.isArray(l)?l:l.data||[]}catch(l){return console.error("Error fetching wells:",l),[]}},enabled:!!t,staleTime:3e5}),u=E.useMemo(()=>{const l=o.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return a?[{value:"none",label:" "},...l]:l},[o,a]);return!t||o.length===0?null:i.jsxs("div",{className:"space-y-1",children:[n&&i.jsxs(Ye,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!a&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(os,{options:u,value:r?String(r):"none",onValueChange:l=>e(l==="none"?void 0:parseInt(l)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:s||c})]})}const cF=E.createContext(void 0);function Mle({children:t}){const[r,e]=E.useState(null),[n,s]=E.useState(null),[a,o]=E.useState(" "),c=E.useCallback((l,d=" ")=>{e(p=>p===l?p:l),o(p=>p===d?p:d)},[]),u=E.useCallback(l=>{s(d=>d===l?d:l)},[]);return i.jsx(cF.Provider,{value:{setFloatingAction:c,setRefreshAction:u,floatingAction:r,floatingLabel:a,refreshAction:n},children:t})}function Fo(){const t=E.useContext(cF);if(t===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return t}const YC={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function ZC(t){return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?"0":t.toLocaleString("en-US")}function Rle({item:t}){const r=t.splitValue;return r?i.jsxs("div",{className:Ee("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[65px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 py-1 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(t.icon,{className:"h-3 w-3 text-slate-600 dark:text-slate-400"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:t.label})]}),i.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0.5 bg-teal-50/50 dark:bg-teal-900/20",children:[i.jsx("span",{className:"text-[9px] font-medium text-teal-600 dark:text-teal-400",children:""}),i.jsx("span",{className:"text-xs font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers leading-none",children:ZC(r.incoming)})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0.5 bg-rose-50/50 dark:bg-rose-900/20",children:[i.jsx("span",{className:"text-[9px] font-medium text-rose-600 dark:text-rose-400",children:""}),i.jsx("span",{className:"text-xs font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers leading-none",children:ZC(r.outgoing)})]})]})]}):null}function Dle({item:t}){if(t.isSplitCard)return i.jsx(Rle,{item:t});const r=YC[t.color]||YC.blue,e=t.icon,s=(o=>typeof o=="number"?isNaN(o)||!isFinite(o)||Math.abs(o)>1e11?"0":t.formatter?t.formatter(o):o.toLocaleString("en-US"):String(o))(t.value),a=o=>{const c=o.length;return c<=4?"1.1rem":c<=7?"1rem":c<=10?"0.85rem":c<=13?"0.75rem":"0.65rem"};return i.jsxs("div",{className:Ee("relative flex flex-col p-1.5 rounded-xl border transition-all h-[65px]",r.bg,r.border,"hover:shadow-sm",t.onClick&&"cursor-pointer"),onClick:t.onClick,children:[i.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[i.jsx("span",{className:"text-[10px] font-bold text-muted-foreground truncate flex-1 leading-tight",children:t.label}),i.jsx("div",{className:Ee("p-0.5 rounded-md flex-shrink-0",r.bg),children:i.jsx(e,{className:Ee("h-3 w-3",r.icon)})})]}),t.showDot&&i.jsx("div",{className:Ee("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",t.dotColor||"bg-green-500")}),i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx("span",{className:Ee("font-bold arabic-numbers leading-none whitespace-nowrap",r.text),style:{fontSize:a(s)},children:s}),t.unit&&i.jsx("span",{className:"text-[9px] text-muted-foreground leading-none",children:t.unit}),t.subLabel&&i.jsx("span",{className:"text-[9px] text-muted-foreground/70 truncate w-full mt-0.5",children:t.subLabel}),t.trend&&i.jsxs("span",{className:Ee("text-[9px] flex items-center gap-0.5 mt-0.5",t.trend.isPositive?"text-green-500":"text-red-500"),children:[t.trend.isPositive?i.jsx(Dn,{className:"h-2 w-2"}):i.jsx(ka,{className:"h-2 w-2"}),t.trend.value,"%"]})]})]})}function Ile({rows:t,className:r}){if(!t||t.length===0)return null;const e=(s=3)=>{switch(s){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},n=(s="sm")=>{switch(s){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return i.jsx("div",{className:Ee("space-y-2",r),children:t.map((s,a)=>i.jsx("div",{className:Ee("grid",e(s.columns),n(s.gap)),children:s.items.map(o=>i.jsx(Dle,{item:o},o.key))},a))})}const Px=Y4,m3=Z4,uF=S0,Ole=J4,dF=E.forwardRef(({className:t,...r},e)=>i.jsx(k0,{className:Ee("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));dF.displayName=k0.displayName;const Fle=Vd("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),T0=E.forwardRef(({side:t="right",className:r,children:e,...n},s)=>i.jsxs(Ole,{children:[i.jsx(dF,{}),i.jsxs(j0,{ref:s,className:Ee(Fle({side:t}),r),style:{pointerEvents:"auto"},...n,children:[e,i.jsxs(S0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Rs,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));T0.displayName=j0.displayName;const g3=({className:t,...r})=>i.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...r});g3.displayName="SheetHeader";const E0=E.forwardRef(({className:t,...r},e)=>i.jsx(Bh,{ref:e,className:Ee("text-lg font-semibold text-foreground",t),...r}));E0.displayName=Bh.displayName;const fF=E.forwardRef(({className:t,...r},e)=>i.jsx($h,{ref:e,className:Ee("text-sm text-muted-foreground",t),...r}));fF.displayName=$h.displayName;function an(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function ci(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Fa(t,r){const e=an(t);return isNaN(r)?ci(t,NaN):(r&&e.setDate(e.getDate()+r),e)}function Mo(t,r){const e=an(t);if(isNaN(r))return ci(t,NaN);if(!r)return e;const n=e.getDate(),s=ci(t,e.getTime());s.setMonth(e.getMonth()+r+1,0);const a=s.getDate();return n>=a?s:(e.setFullYear(s.getFullYear(),s.getMonth(),n),e)}const y3=6048e5,Lle=864e5,hF=6e4,pF=36e5;let Ble={};function A0(){return Ble}function so(t,r){const e=A0(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=an(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pd(t){return so(t,{weekStartsOn:1})}function mF(t){const r=an(t),e=r.getFullYear(),n=ci(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);const s=Pd(n),a=ci(t,0);a.setFullYear(e,0,4),a.setHours(0,0,0,0);const o=Pd(a);return r.getTime()>=s.getTime()?e+1:r.getTime()>=o.getTime()?e:e-1}function Nh(t){const r=an(t);return r.setHours(0,0,0,0),r}function kb(t){const r=an(t),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+t-+e}function tl(t,r){const e=Nh(t),n=Nh(r),s=+e-kb(e),a=+n-kb(n);return Math.round((s-a)/Lle)}function $le(t){const r=mF(t),e=ci(t,0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),Pd(e)}function O_(t,r){const e=r*7;return Fa(t,e)}function zle(t,r){return Mo(t,r*12)}function Vle(t){let r;return t.forEach(function(e){const n=an(e);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function Wle(t){let r;return t.forEach(e=>{const n=an(e);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function Mx(t){return ci(t,Date.now())}function wa(t,r){const e=Nh(t),n=Nh(r);return+e==+n}function b3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ule(t){if(!b3(t)&&typeof t!="number")return!1;const r=an(t);return!isNaN(Number(r))}function Fm(t,r){const e=an(t),n=an(r),s=e.getFullYear()-n.getFullYear(),a=e.getMonth()-n.getMonth();return s*12+a}function qle(t,r,e){const n=so(t,e),s=so(r,e),a=+n-kb(n),o=+s-kb(s);return Math.round((a-o)/y3)}function x3(t){const r=an(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(23,59,59,999),r}function oi(t){const r=an(t);return r.setDate(1),r.setHours(0,0,0,0),r}function gF(t){const r=an(t),e=ci(t,0);return e.setFullYear(r.getFullYear(),0,1),e.setHours(0,0,0,0),e}function v3(t,r){const e=A0(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=an(t),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function yF(t){return v3(t,{weekStartsOn:1})}const Hle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kle=(t,r,e)=>{let n;const s=Hle[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Yl(t){return(r={})=>{const e=r.width?String(r.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const Gle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yle={date:Yl({formats:Gle,defaultWidth:"full"}),time:Yl({formats:Qle,defaultWidth:"full"}),dateTime:Yl({formats:Xle,defaultWidth:"full"})},Zle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jle=(t,r,e,n)=>Zle[t];function Ba(t){return(r,e)=>{const n=e?.context?String(e.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=e?.width?String(e.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=e?.width?String(e.width):t.defaultWidth;s=t.values[c]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(r):r;return s[a]}}const ece={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ace={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ice=(t,r)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},oce={ordinalNumber:ice,era:Ba({values:ece,defaultWidth:"wide"}),quarter:Ba({values:tce,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ba({values:rce,defaultWidth:"wide"}),day:Ba({values:nce,defaultWidth:"wide"}),dayPeriod:Ba({values:sce,defaultWidth:"wide",formattingValues:ace,defaultFormattingWidth:"wide"})};function $a(t){return(r,e={})=>{const n=e.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=r.match(s);if(!a)return null;const o=a[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?cce(c,p=>p.test(o)):lce(c,p=>p.test(o));let l;l=t.valueCallback?t.valueCallback(u):u,l=e.valueCallback?e.valueCallback(l):l;const d=r.slice(o.length);return{value:l,rest:d}}}function lce(t,r){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&r(t[e]))return e}function cce(t,r){for(let e=0;e<t.length;e++)if(r(t[e]))return e}function w3(t){return(r,e={})=>{const n=r.match(t.matchPattern);if(!n)return null;const s=n[0],a=r.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=e.valueCallback?e.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const uce=/^(\d+)(th|st|nd|rd)?/i,dce=/\d+/i,fce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hce={any:[/^b/i,/^(a|c)/i]},pce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mce={any:[/1/i,/2/i,/3/i,/4/i]},gce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_ce={ordinalNumber:w3({matchPattern:uce,parsePattern:dce,valueCallback:t=>parseInt(t,10)}),era:$a({matchPatterns:fce,defaultMatchWidth:"wide",parsePatterns:hce,defaultParseWidth:"any"}),quarter:$a({matchPatterns:pce,defaultMatchWidth:"wide",parsePatterns:mce,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$a({matchPatterns:gce,defaultMatchWidth:"wide",parsePatterns:yce,defaultParseWidth:"any"}),day:$a({matchPatterns:bce,defaultMatchWidth:"wide",parsePatterns:xce,defaultParseWidth:"any"}),dayPeriod:$a({matchPatterns:vce,defaultMatchWidth:"any",parsePatterns:wce,defaultParseWidth:"any"})},bF={code:"en-US",formatDistance:Kle,formatLong:Yle,formatRelative:Jle,localize:oce,match:_ce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kce(t){const r=an(t);return tl(r,gF(r))+1}function xF(t){const r=an(t),e=+Pd(r)-+$le(r);return Math.round(e/y3)+1}function vF(t,r){const e=an(t),n=e.getFullYear(),s=A0(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=ci(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const c=so(o,r),u=ci(t,0);u.setFullYear(n,0,a),u.setHours(0,0,0,0);const l=so(u,r);return e.getTime()>=c.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function jce(t,r){const e=A0(),n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=vF(t,r),a=ci(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),so(a,r)}function wF(t,r){const e=an(t),n=+so(e,r)-+jce(e,r);return Math.round(n/y3)+1}function gn(t,r){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(r,"0");return e+n}const Ac={y(t,r){const e=t.getFullYear(),n=e>0?e:1-e;return gn(r==="yy"?n%100:n,r.length)},M(t,r){const e=t.getMonth();return r==="M"?String(e+1):gn(e+1,2)},d(t,r){return gn(t.getDate(),r.length)},a(t,r){const e=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,r){return gn(t.getHours()%12||12,r.length)},H(t,r){return gn(t.getHours(),r.length)},m(t,r){return gn(t.getMinutes(),r.length)},s(t,r){return gn(t.getSeconds(),r.length)},S(t,r){const e=r.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,e-3));return gn(s,r.length)}},Tf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JC={G:function(t,r,e){const n=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,r,e){if(r==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return Ac.y(t,r)},Y:function(t,r,e,n){const s=vF(t,n),a=s>0?s:1-s;if(r==="YY"){const o=a%100;return gn(o,2)}return r==="Yo"?e.ordinalNumber(a,{unit:"year"}):gn(a,r.length)},R:function(t,r){const e=mF(t);return gn(e,r.length)},u:function(t,r){const e=t.getFullYear();return gn(e,r.length)},Q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return gn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return gn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,e){const n=t.getMonth();switch(r){case"M":case"MM":return Ac.M(t,r);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,e){const n=t.getMonth();switch(r){case"L":return String(n+1);case"LL":return gn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,e,n){const s=wF(t,n);return r==="wo"?e.ordinalNumber(s,{unit:"week"}):gn(s,r.length)},I:function(t,r,e){const n=xF(t);return r==="Io"?e.ordinalNumber(n,{unit:"week"}):gn(n,r.length)},d:function(t,r,e){return r==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):Ac.d(t,r)},D:function(t,r,e){const n=kce(t);return r==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):gn(n,r.length)},E:function(t,r,e){const n=t.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,e,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return gn(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,e,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return gn(a,r.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,e){const n=t.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return gn(s,r.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,e){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,e){const n=t.getHours();let s;switch(n===12?s=Tf.noon:n===0?s=Tf.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,e){const n=t.getHours();let s;switch(n>=17?s=Tf.evening:n>=12?s=Tf.afternoon:n>=4?s=Tf.morning:s=Tf.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,e){if(r==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return Ac.h(t,r)},H:function(t,r,e){return r==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):Ac.H(t,r)},K:function(t,r,e){const n=t.getHours()%12;return r==="Ko"?e.ordinalNumber(n,{unit:"hour"}):gn(n,r.length)},k:function(t,r,e){let n=t.getHours();return n===0&&(n=24),r==="ko"?e.ordinalNumber(n,{unit:"hour"}):gn(n,r.length)},m:function(t,r,e){return r==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ac.m(t,r)},s:function(t,r,e){return r==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):Ac.s(t,r)},S:function(t,r){return Ac.S(t,r)},X:function(t,r,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return t8(n);case"XXXX":case"XX":return Hu(n);case"XXXXX":case"XXX":default:return Hu(n,":")}},x:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"x":return t8(n);case"xxxx":case"xx":return Hu(n);case"xxxxx":case"xxx":default:return Hu(n,":")}},O:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+e8(n,":");case"OOOO":default:return"GMT"+Hu(n,":")}},z:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+e8(n,":");case"zzzz":default:return"GMT"+Hu(n,":")}},t:function(t,r,e){const n=Math.trunc(t.getTime()/1e3);return gn(n,r.length)},T:function(t,r,e){const n=t.getTime();return gn(n,r.length)}};function e8(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?e+String(s):e+String(s)+r+gn(a,2)}function t8(t,r){return t%60===0?(t>0?"-":"+")+gn(Math.abs(t)/60,2):Hu(t,r)}function Hu(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=gn(Math.trunc(n/60),2),a=gn(n%60,2);return e+s+r+a}const r8=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},_F=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Sce=(t,r)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return r8(t,r);let a;switch(n){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",r8(n,r)).replace("{{time}}",_F(s,r))},Nce={p:_F,P:Sce},Cce=/^D+$/,Tce=/^Y+$/,Ece=["D","DD","YY","YYYY"];function Ace(t){return Cce.test(t)}function Pce(t){return Tce.test(t)}function Mce(t,r,e){const n=Rce(t,r,e);if(console.warn(n),Ece.includes(t))throw new RangeError(n)}function Rce(t,r,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ice=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oce=/^'([^]*?)'?$/,Fce=/''/g,Lce=/[a-zA-Z]/;function Nr(t,r,e){const n=A0(),s=e?.locale??n.locale??bF,a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=an(t);if(!Ule(c))throw new RangeError("Invalid time value");let u=r.match(Ice).map(d=>{const p=d[0];if(p==="p"||p==="P"){const f=Nce[p];return f(d,s.formatLong)}return d}).join("").match(Dce).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const p=d[0];if(p==="'")return{isToken:!1,value:Bce(d)};if(JC[p])return{isToken:!0,value:d};if(p.match(Lce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const l={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return u.map(d=>{if(!d.isToken)return d.value;const p=d.value;(!e?.useAdditionalWeekYearTokens&&Pce(p)||!e?.useAdditionalDayOfYearTokens&&Ace(p))&&Mce(p,r,String(t));const f=JC[p[0]];return f(c,p,s.localize,l)}).join("")}function Bce(t){const r=t.match(Oce);return r?r[1].replace(Fce,"'"):t}function $ce(t){const r=an(t),e=r.getFullYear(),n=r.getMonth(),s=ci(t,0);return s.setFullYear(e,n+1,0),s.setHours(0,0,0,0),s.getDate()}function zce(t){return Math.trunc(+an(t)/1e3)}function Vce(t){const r=an(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(0,0,0,0),r}function Wce(t,r){return qle(Vce(t),oi(t),r)+1}function F_(t,r){const e=an(t),n=an(r);return e.getTime()>n.getTime()}function kF(t,r){const e=an(t),n=an(r);return+e<+n}function Uce(t,r,e){const n=so(t,e),s=so(r,e);return+n==+s}function Rx(t,r){const e=an(t),n=an(r);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function qce(t,r){const e=an(t),n=an(r);return e.getFullYear()===n.getFullYear()}function Hce(t){return Rx(t,Mx(t))}function Kce(t,r){return Uce(t,Mx(t),r)}function jF(t){return wa(t,Mx(t))}function My(t,r){return Fa(t,-r)}function Gce(t){return wa(t,My(Mx(t),1))}function L_(t,r){const n=Zce(t);let s;if(n.date){const u=Jce(n.date,2);s=eue(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let o=0,c;if(n.time&&(o=tue(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=rue(n.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(a+o),l=new Date(0);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return new Date(a+o+c)}const ay={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zce(t){const r={},e=t.split(ay.dateTimeDelimiter);let n;if(e.length>2)return r;if(/:/.test(e[0])?n=e[0]:(r.date=e[0],n=e[1],ay.timeZoneDelimiter.test(r.date)&&(r.date=t.split(ay.timeZoneDelimiter)[0],n=t.substr(r.date.length,t.length))),n){const s=ay.timezone.exec(n);s?(r.time=n.replace(s[1],""),r.timezone=s[1]):r.time=n}return r}function Jce(t,r){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function eue(t,r){if(r===null)return new Date(NaN);const e=t.match(Qce);if(!e)return new Date(NaN);const n=!!e[4],s=Ip(e[1]),a=Ip(e[2])-1,o=Ip(e[3]),c=Ip(e[4]),u=Ip(e[5])-1;if(n)return oue(r,c,u)?nue(r,c,u):new Date(NaN);{const l=new Date(0);return!aue(r,a,o)||!iue(r,s)?new Date(NaN):(l.setUTCFullYear(r,a,Math.max(s,o)),l)}}function Ip(t){return t?parseInt(t):1}function tue(t){const r=t.match(Xce);if(!r)return NaN;const e=yw(r[1]),n=yw(r[2]),s=yw(r[3]);return lue(e,n,s)?e*pF+n*hF+s*1e3:NaN}function yw(t){return t&&parseFloat(t.replace(",","."))||0}function rue(t){if(t==="Z")return 0;const r=t.match(Yce);if(!r)return 0;const e=r[1]==="+"?-1:1,n=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return cue(n,s)?e*(n*pF+s*hF):NaN}function nue(t,r,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,a=(r-1)*7+e+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const sue=[31,null,31,30,31,30,31,31,30,31,30,31];function SF(t){return t%400===0||t%4===0&&t%100!==0}function aue(t,r,e){return r>=0&&r<=11&&e>=1&&e<=(sue[r]||(SF(t)?29:28))}function iue(t,r){return r>=1&&r<=(SF(t)?366:365)}function oue(t,r,e){return r>=1&&r<=53&&e>=0&&e<=6}function lue(t,r,e){return t===24?r===0&&e===0:e>=0&&e<60&&r>=0&&r<60&&t>=0&&t<25}function cue(t,r){return r>=0&&r<=59}function bw(t,r){const e=an(t),n=e.getFullYear(),s=e.getDate(),a=ci(t,0);a.setFullYear(n,r,15),a.setHours(0,0,0,0);const o=$ce(a);return e.setMonth(r,Math.min(s,o)),e}function n8(t,r){const e=an(t);return isNaN(+e)?ci(t,NaN):(e.setFullYear(r),e)}const uue={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},due=(t,r,e)=>{const n=uue[t];let s;return typeof n=="string"?s=n:r===1?s=n.one:r===2?s=n.two:r<=10?s=n.threeToTen.replace("{{count}}",String(r)):s=n.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?" "+s:" "+s:s},fue={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},hue={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},pue={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mue={date:Yl({formats:fue,defaultWidth:"full"}),time:Yl({formats:hue,defaultWidth:"full"}),dateTime:Yl({formats:pue,defaultWidth:"full"})},gue={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},yue=t=>gue[t],bue={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},xue={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},vue={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},wue={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},_ue={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},kue={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},jue=t=>String(t),Sue={ordinalNumber:jue,era:Ba({values:bue,defaultWidth:"wide"}),quarter:Ba({values:xue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ba({values:vue,defaultWidth:"wide"}),day:Ba({values:wue,defaultWidth:"wide"}),dayPeriod:Ba({values:_ue,defaultWidth:"wide",formattingValues:kue,defaultFormattingWidth:"wide"})},Nue=/^(\d+)(th|st|nd|rd)?/i,Cue=/\d+/i,Tue={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Eue={any:[//,//]},Aue={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Pue={any:[/1/i,/2/i,/3/i,/4/i]},Mue={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Rue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Due={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Iue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Oue={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Fue={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},Lue={ordinalNumber:w3({matchPattern:Nue,parsePattern:Cue,valueCallback:t=>parseInt(t,10)}),era:$a({matchPatterns:Tue,defaultMatchWidth:"wide",parsePatterns:Eue,defaultParseWidth:"any"}),quarter:$a({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$a({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Rue,defaultParseWidth:"any"}),day:$a({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any"}),dayPeriod:$a({matchPatterns:Oue,defaultMatchWidth:"any",parsePatterns:Fue,defaultParseWidth:"any"})},_a={code:"ar",formatDistance:due,formatLong:mue,formatRelative:yue,localize:Sue,match:Lue,options:{weekStartsOn:6,firstWeekContainsDate:1}},Bue={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},$ue=(t,r,e)=>{let n;const s=Bue[t];return typeof s=="string"?n=s:r===1?n=s.one:r===2?n=s.two:r<=10?n=s.threeToTen.replace("{{count}}",String(r)):n=s.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?"  "+n:" "+n:n},zue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wue={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uue={date:Yl({formats:zue,defaultWidth:"full"}),time:Yl({formats:Vue,defaultWidth:"full"}),dateTime:Yl({formats:Wue,defaultWidth:"full"})},que={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},Hue=(t,r,e,n)=>que[t],Kue={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Gue={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Que={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Xue={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Yue={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},Zue={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},Jue=t=>String(t),ede={ordinalNumber:Jue,era:Ba({values:Kue,defaultWidth:"wide"}),quarter:Ba({values:Gue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ba({values:Que,defaultWidth:"wide"}),day:Ba({values:Xue,defaultWidth:"wide"}),dayPeriod:Ba({values:Yue,defaultWidth:"wide",formattingValues:Zue,defaultFormattingWidth:"wide"})},tde=/^(\d+)(th|st|nd|rd)?/i,rde=/\d+/i,nde={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},sde={any:[/^/i,/^/i]},ade={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},ide={any:[/1/i,/2/i,/3/i,/4/i]},ode={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},lde={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},cde={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},ude={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},dde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hde={ordinalNumber:w3({matchPattern:tde,parsePattern:rde,valueCallback:t=>parseInt(t,10)}),era:$a({matchPatterns:nde,defaultMatchWidth:"wide",parsePatterns:sde,defaultParseWidth:"any"}),quarter:$a({matchPatterns:ade,defaultMatchWidth:"wide",parsePatterns:ide,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$a({matchPatterns:ode,defaultMatchWidth:"wide",parsePatterns:lde,defaultParseWidth:"any"}),day:$a({matchPatterns:cde,defaultMatchWidth:"wide",parsePatterns:ude,defaultParseWidth:"any"}),dayPeriod:$a({matchPatterns:dde,defaultMatchWidth:"any",parsePatterns:fde,defaultParseWidth:"any"})},NF={code:"ar-SA",formatDistance:$ue,formatLong:Uue,formatRelative:Hue,localize:ede,match:hde,options:{weekStartsOn:0,firstWeekContainsDate:1}};var yr=function(){return yr=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},yr.apply(this,arguments)};function pde(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function CF(t,r,e){for(var n=0,s=r.length,a;n<s;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}function P0(t){return t.mode==="multiple"}function M0(t){return t.mode==="range"}function Dx(t){return t.mode==="single"}var mde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function gde(t,r){return Nr(t,"LLLL y",r)}function yde(t,r){return Nr(t,"d",r)}function bde(t,r){return Nr(t,"LLLL",r)}function xde(t){return"".concat(t)}function vde(t,r){return Nr(t,"cccccc",r)}function wde(t,r){return Nr(t,"yyyy",r)}var _de=Object.freeze({__proto__:null,formatCaption:gde,formatDay:yde,formatMonthCaption:bde,formatWeekNumber:xde,formatWeekdayName:vde,formatYearCaption:wde}),kde=function(t,r,e){return Nr(t,"do MMMM (EEEE)",e)},jde=function(){return"Month: "},Sde=function(){return"Go to next month"},Nde=function(){return"Go to previous month"},Cde=function(t,r){return Nr(t,"cccc",r)},Tde=function(t){return"Week n. ".concat(t)},Ede=function(){return"Year: "},Ade=Object.freeze({__proto__:null,labelDay:kde,labelMonthDropdown:jde,labelNext:Sde,labelPrevious:Nde,labelWeekNumber:Tde,labelWeekday:Cde,labelYearDropdown:Ede});function Pde(){var t="buttons",r=mde,e=bF,n={},s={},a=1,o={},c=new Date;return{captionLayout:t,classNames:r,formatters:_de,labels:Ade,locale:e,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:c,mode:"default"}}function Mde(t){var r=t.fromYear,e=t.toYear,n=t.fromMonth,s=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=oi(n):r&&(a=new Date(r,0,1)),s?o=x3(s):e&&(o=new Date(e,11,31)),{fromDate:a?Nh(a):void 0,toDate:o?Nh(o):void 0}}var TF=E.createContext(void 0);function Rde(t){var r,e=t.initialProps,n=Pde(),s=Mde(e),a=s.fromDate,o=s.toDate,c=(r=e.captionLayout)!==null&&r!==void 0?r:n.captionLayout;c!=="buttons"&&(!a||!o)&&(c="buttons");var u;(Dx(e)||P0(e)||M0(e))&&(u=e.onSelect);var l=yr(yr(yr({},n),e),{captionLayout:c,classNames:yr(yr({},n.classNames),e.classNames),components:yr({},e.components),formatters:yr(yr({},n.formatters),e.formatters),fromDate:a,labels:yr(yr({},n.labels),e.labels),mode:e.mode||n.mode,modifiers:yr(yr({},n.modifiers),e.modifiers),modifiersClassNames:yr(yr({},n.modifiersClassNames),e.modifiersClassNames),onSelect:u,styles:yr(yr({},n.styles),e.styles),toDate:o});return i.jsx(TF.Provider,{value:l,children:t.children})}function Tn(){var t=E.useContext(TF);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function EF(t){var r=Tn(),e=r.locale,n=r.classNames,s=r.styles,a=r.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:e})})}function Dde(t){return i.jsx("svg",yr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AF(t){var r,e,n=t.onChange,s=t.value,a=t.children,o=t.caption,c=t.className,u=t.style,l=Tn(),d=(e=(r=l.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&e!==void 0?e:Dde;return i.jsxs("div",{className:c,style:u,children:[i.jsx("span",{className:l.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function Ide(t){var r,e=Tn(),n=e.fromDate,s=e.toDate,a=e.styles,o=e.locale,c=e.formatters.formatMonthCaption,u=e.classNames,l=e.components,d=e.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var p=[];if(qce(n,s))for(var f=oi(n),h=n.getMonth();h<=s.getMonth();h++)p.push(bw(f,h));else for(var f=oi(new Date),h=0;h<=11;h++)p.push(bw(f,h));var g=function(m){var v=Number(m.target.value),x=bw(oi(t.displayMonth),v);t.onChange(x)},y=(r=l?.Dropdown)!==null&&r!==void 0?r:AF;return i.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:a.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:o}),children:p.map(function(m){return i.jsx("option",{value:m.getMonth(),children:c(m,{locale:o})},m.getMonth())})})}function Ode(t){var r,e=t.displayMonth,n=Tn(),s=n.fromDate,a=n.toDate,o=n.locale,c=n.styles,u=n.classNames,l=n.components,d=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,f=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var h=s.getFullYear(),g=a.getFullYear(),y=h;y<=g;y++)f.push(n8(gF(new Date),y));var m=function(x){var S=n8(oi(e),Number(x.target.value));t.onChange(S)},v=(r=l?.Dropdown)!==null&&r!==void 0?r:AF;return i.jsx(v,{name:"years","aria-label":p(),className:u.dropdown_year,style:c.dropdown_year,onChange:m,value:e.getFullYear(),caption:d(e,{locale:o}),children:f.map(function(x){return i.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function Fde(t,r){var e=E.useState(t),n=e[0],s=e[1],a=r===void 0?n:r;return[a,s]}function Lde(t){var r=t.month,e=t.defaultMonth,n=t.today,s=r||e||n||new Date,a=t.toDate,o=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(a&&Fm(a,s)<0){var l=-1*(u-1);s=Mo(a,l)}return o&&Fm(s,o)<0&&(s=o),oi(s)}function Bde(){var t=Tn(),r=Lde(t),e=Fde(r,t.month),n=e[0],s=e[1],a=function(o){var c;if(!t.disableNavigation){var u=oi(o);s(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[n,a]}function $de(t,r){for(var e=r.reverseMonths,n=r.numberOfMonths,s=oi(t),a=oi(Mo(s,n)),o=Fm(a,s),c=[],u=0;u<o;u++){var l=Mo(s,u);c.push(l)}return e&&(c=c.reverse()),c}function zde(t,r){if(!r.disableNavigation){var e=r.toDate,n=r.pagedNavigation,s=r.numberOfMonths,a=s===void 0?1:s,o=n?a:1,c=oi(t);if(!e)return Mo(c,o);var u=Fm(e,t);if(!(u<a))return Mo(c,o)}}function Vde(t,r){if(!r.disableNavigation){var e=r.fromDate,n=r.pagedNavigation,s=r.numberOfMonths,a=s===void 0?1:s,o=n?a:1,c=oi(t);if(!e)return Mo(c,-o);var u=Fm(c,e);if(!(u<=0))return Mo(c,-o)}}var PF=E.createContext(void 0);function Wde(t){var r=Tn(),e=Bde(),n=e[0],s=e[1],a=$de(n,r),o=zde(n,r),c=Vde(n,r),u=function(p){return a.some(function(f){return Rx(p,f)})},l=function(p,f){u(p)||(f&&kF(p,f)?s(Mo(p,1+r.numberOfMonths*-1)):s(p))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:l,previousMonth:c,nextMonth:o,isDateDisplayed:u};return i.jsx(PF.Provider,{value:d,children:t.children})}function R0(){var t=E.useContext(PF);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function s8(t){var r,e=Tn(),n=e.classNames,s=e.styles,a=e.components,o=R0().goToMonth,c=function(d){o(Mo(d,t.displayIndex?-t.displayIndex:0))},u=(r=a?.CaptionLabel)!==null&&r!==void 0?r:EF,l=i.jsx(u,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:l}),i.jsx(Ide,{onChange:c,displayMonth:t.displayMonth}),i.jsx(Ode,{onChange:c,displayMonth:t.displayMonth})]})}function Ude(t){return i.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qde(t){return i.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jb=E.forwardRef(function(t,r){var e=Tn(),n=e.classNames,s=e.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),c=yr(yr({},s.button_reset),s.button);return t.style&&Object.assign(c,t.style),i.jsx("button",yr({},t,{ref:r,type:"button",className:o,style:c}))});function Hde(t){var r,e,n=Tn(),s=n.dir,a=n.locale,o=n.classNames,c=n.styles,u=n.labels,l=u.labelPrevious,d=u.labelNext,p=n.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var f=l(t.previousMonth,{locale:a}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:a}),y=[o.nav_button,o.nav_button_next].join(" "),m=(r=p?.IconRight)!==null&&r!==void 0?r:qde,v=(e=p?.IconLeft)!==null&&e!==void 0?e:Ude;return i.jsxs("div",{className:o.nav,style:c.nav,children:[!t.hidePrevious&&i.jsx(jb,{name:"previous-month","aria-label":f,className:h,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?i.jsx(m,{className:o.nav_icon,style:c.nav_icon}):i.jsx(v,{className:o.nav_icon,style:c.nav_icon})}),!t.hideNext&&i.jsx(jb,{name:"next-month","aria-label":g,className:y,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?i.jsx(v,{className:o.nav_icon,style:c.nav_icon}):i.jsx(m,{className:o.nav_icon,style:c.nav_icon})})]})}function a8(t){var r=Tn().numberOfMonths,e=R0(),n=e.previousMonth,s=e.nextMonth,a=e.goToMonth,o=e.displayMonths,c=o.findIndex(function(g){return Rx(t.displayMonth,g)}),u=c===0,l=c===o.length-1,d=r>1&&(u||!l),p=r>1&&(l||!u),f=function(){n&&a(n)},h=function(){s&&a(s)};return i.jsx(Hde,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:p,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:h})}function Kde(t){var r,e=Tn(),n=e.classNames,s=e.disableNavigation,a=e.styles,o=e.captionLayout,c=e.components,u=(r=c?.CaptionLabel)!==null&&r!==void 0?r:EF,l;return s?l=i.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?l=i.jsx(s8,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?l=i.jsxs(i.Fragment,{children:[i.jsx(s8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(a8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):l=i.jsxs(i.Fragment,{children:[i.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(a8,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:l})}function Gde(t){var r=Tn(),e=r.footer,n=r.styles,s=r.classNames.tfoot;return e?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:e})})}):i.jsx(i.Fragment,{})}function Qde(t,r,e){for(var n=e?Pd(new Date):so(new Date,{locale:t,weekStartsOn:r}),s=[],a=0;a<7;a++){var o=Fa(n,a);s.push(o)}return s}function Xde(){var t=Tn(),r=t.classNames,e=t.styles,n=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,o=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,l=Qde(s,a,o);return i.jsxs("tr",{style:e.head_row,className:r.head_row,children:[n&&i.jsx("td",{style:e.head_cell,className:r.head_cell}),l.map(function(d,p){return i.jsx("th",{scope:"col",className:r.head_cell,style:e.head_cell,"aria-label":u(d,{locale:s}),children:c(d,{locale:s})},p)})]})}function Yde(){var t,r=Tn(),e=r.classNames,n=r.styles,s=r.components,a=(t=s?.HeadRow)!==null&&t!==void 0?t:Xde;return i.jsx("thead",{style:n.head,className:e.head,children:i.jsx(a,{})})}function Zde(t){var r=Tn(),e=r.locale,n=r.formatters.formatDay;return i.jsx(i.Fragment,{children:n(t.date,{locale:e})})}var _3=E.createContext(void 0);function Jde(t){if(!P0(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return i.jsx(_3.Provider,{value:r,children:t.children})}return i.jsx(efe,{initialProps:t.initialProps,children:t.children})}function efe(t){var r=t.initialProps,e=t.children,n=r.selected,s=r.min,a=r.max,o=function(l,d,p){var f,h;(f=r.onDayClick)===null||f===void 0||f.call(r,l,d,p);var g=!!(d.selected&&s&&n?.length===s);if(!g){var y=!!(!d.selected&&a&&n?.length===a);if(!y){var m=n?CF([],n):[];if(d.selected){var v=m.findIndex(function(x){return wa(l,x)});m.splice(v,1)}else m.push(l);(h=r.onSelect)===null||h===void 0||h.call(r,m,l,d,p)}}},c={disabled:[]};n&&c.disabled.push(function(l){var d=a&&n.length>a-1,p=n.some(function(f){return wa(f,l)});return!!(d&&!p)});var u={selected:n,onDayClick:o,modifiers:c};return i.jsx(_3.Provider,{value:u,children:e})}function k3(){var t=E.useContext(_3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function tfe(t,r){var e=r||{},n=e.from,s=e.to;return n&&s?wa(s,t)&&wa(n,t)?void 0:wa(s,t)?{from:s,to:void 0}:wa(n,t)?void 0:F_(n,t)?{from:t,to:s}:{from:n,to:t}:s?F_(t,s)?{from:s,to:t}:{from:t,to:s}:n?kF(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var j3=E.createContext(void 0);function rfe(t){if(!M0(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(j3.Provider,{value:r,children:t.children})}return i.jsx(nfe,{initialProps:t.initialProps,children:t.children})}function nfe(t){var r=t.initialProps,e=t.children,n=r.selected,s=n||{},a=s.from,o=s.to,c=r.min,u=r.max,l=function(h,g,y){var m,v;(m=r.onDayClick)===null||m===void 0||m.call(r,h,g,y);var x=tfe(h,n);(v=r.onSelect)===null||v===void 0||v.call(r,x,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],wa(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),c&&(a&&!o&&d.disabled.push({after:My(a,c-1),before:Fa(a,c-1)}),a&&o&&d.disabled.push({after:a,before:Fa(a,c-1)}),!a&&o&&d.disabled.push({after:My(o,c-1),before:Fa(o,c-1)})),u){if(a&&!o&&(d.disabled.push({before:Fa(a,-u+1)}),d.disabled.push({after:Fa(a,u-1)})),a&&o){var p=tl(o,a)+1,f=u-p;d.disabled.push({before:My(a,f)}),d.disabled.push({after:Fa(o,f)})}!a&&o&&(d.disabled.push({before:Fa(o,-u+1)}),d.disabled.push({after:Fa(o,u-1)}))}return i.jsx(j3.Provider,{value:{selected:n,onDayClick:l,modifiers:d},children:e})}function S3(){var t=E.useContext(j3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Ry(t){return Array.isArray(t)?CF([],t):t!==void 0?[t]:[]}function sfe(t){var r={};return Object.entries(t).forEach(function(e){var n=e[0],s=e[1];r[n]=Ry(s)}),r}var Ro;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ro||(Ro={}));var afe=Ro.Selected,Pl=Ro.Disabled,ife=Ro.Hidden,ofe=Ro.Today,xw=Ro.RangeEnd,vw=Ro.RangeMiddle,ww=Ro.RangeStart,lfe=Ro.Outside;function cfe(t,r,e){var n,s=(n={},n[afe]=Ry(t.selected),n[Pl]=Ry(t.disabled),n[ife]=Ry(t.hidden),n[ofe]=[t.today],n[xw]=[],n[vw]=[],n[ww]=[],n[lfe]=[],n);return t.fromDate&&s[Pl].push({before:t.fromDate}),t.toDate&&s[Pl].push({after:t.toDate}),P0(t)?s[Pl]=s[Pl].concat(r.modifiers[Pl]):M0(t)&&(s[Pl]=s[Pl].concat(e.modifiers[Pl]),s[ww]=e.modifiers[ww],s[vw]=e.modifiers[vw],s[xw]=e.modifiers[xw]),s}var MF=E.createContext(void 0);function ufe(t){var r=Tn(),e=k3(),n=S3(),s=cfe(r,e,n),a=sfe(r.modifiers),o=yr(yr({},s),a);return i.jsx(MF.Provider,{value:o,children:t.children})}function RF(){var t=E.useContext(MF);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function dfe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ffe(t){return!!(t&&typeof t=="object"&&"from"in t)}function hfe(t){return!!(t&&typeof t=="object"&&"after"in t)}function pfe(t){return!!(t&&typeof t=="object"&&"before"in t)}function mfe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function gfe(t,r){var e,n=r.from,s=r.to;if(n&&s){var a=tl(s,n)<0;a&&(e=[s,n],n=e[0],s=e[1]);var o=tl(t,n)>=0&&tl(s,t)>=0;return o}return s?wa(s,t):n?wa(n,t):!1}function yfe(t){return b3(t)}function bfe(t){return Array.isArray(t)&&t.every(b3)}function xfe(t,r){return r.some(function(e){if(typeof e=="boolean")return e;if(yfe(e))return wa(t,e);if(bfe(e))return e.includes(t);if(ffe(e))return gfe(t,e);if(mfe(e))return e.dayOfWeek.includes(t.getDay());if(dfe(e)){var n=tl(e.before,t),s=tl(e.after,t),a=n>0,o=s<0,c=F_(e.before,e.after);return c?o&&a:a||o}return hfe(e)?tl(t,e.after)>0:pfe(e)?tl(e.before,t)>0:typeof e=="function"?e(t):!1})}function N3(t,r,e){var n=Object.keys(r).reduce(function(a,o){var c=r[o];return xfe(t,c)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),e&&!Rx(t,e)&&(s.outside=!0),s}function vfe(t,r){for(var e=oi(t[0]),n=x3(t[t.length-1]),s,a,o=e;o<=n;){var c=N3(o,r),u=!c.disabled&&!c.hidden;if(!u){o=Fa(o,1);continue}if(c.selected)return o;c.today&&!a&&(a=o),s||(s=o),o=Fa(o,1)}return a||s}var wfe=365;function DF(t,r){var e=r.moveBy,n=r.direction,s=r.context,a=r.modifiers,o=r.retry,c=o===void 0?{count:0,lastFocused:t}:o,u=s.weekStartsOn,l=s.fromDate,d=s.toDate,p=s.locale,f={day:Fa,week:O_,month:Mo,year:zle,startOfWeek:function(m){return s.ISOWeek?Pd(m):so(m,{locale:p,weekStartsOn:u})},endOfWeek:function(m){return s.ISOWeek?yF(m):v3(m,{locale:p,weekStartsOn:u})}},h=f[e](t,n==="after"?1:-1);n==="before"&&l?h=Vle([l,h]):n==="after"&&d&&(h=Wle([d,h]));var g=!0;if(a){var y=N3(h,a);g=!y.disabled&&!y.hidden}return g?h:c.count>wfe?c.lastFocused:DF(h,{moveBy:e,direction:n,context:s,modifiers:a,retry:yr(yr({},c),{count:c.count+1})})}var IF=E.createContext(void 0);function _fe(t){var r=R0(),e=RF(),n=E.useState(),s=n[0],a=n[1],o=E.useState(),c=o[0],u=o[1],l=vfe(r.displayMonths,e),d=s??(c&&r.isDateDisplayed(c))?c:l,p=function(){u(s),a(void 0)},f=function(m){a(m)},h=Tn(),g=function(m,v){if(s){var x=DF(s,{moveBy:m,direction:v,context:h,modifiers:e});wa(s,x)||(r.goToDate(x,s),f(x))}},y={focusedDay:s,focusTarget:d,blur:p,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx(IF.Provider,{value:y,children:t.children})}function C3(){var t=E.useContext(IF);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function kfe(t,r){var e=RF(),n=N3(t,e,r);return n}var T3=E.createContext(void 0);function jfe(t){if(!Dx(t.initialProps)){var r={selected:void 0};return i.jsx(T3.Provider,{value:r,children:t.children})}return i.jsx(Sfe,{initialProps:t.initialProps,children:t.children})}function Sfe(t){var r=t.initialProps,e=t.children,n=function(a,o,c){var u,l,d;if((u=r.onDayClick)===null||u===void 0||u.call(r,a,o,c),o.selected&&!r.required){(l=r.onSelect)===null||l===void 0||l.call(r,void 0,a,o,c);return}(d=r.onSelect)===null||d===void 0||d.call(r,a,a,o,c)},s={selected:r.selected,onDayClick:n};return i.jsx(T3.Provider,{value:s,children:e})}function OF(){var t=E.useContext(T3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Nfe(t,r){var e=Tn(),n=OF(),s=k3(),a=S3(),o=C3(),c=o.focusDayAfter,u=o.focusDayBefore,l=o.focusWeekAfter,d=o.focusWeekBefore,p=o.blur,f=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,y=o.focusYearBefore,m=o.focusYearAfter,v=o.focusStartOfWeek,x=o.focusEndOfWeek,S=function(k){var j,N,D,O;Dx(e)?(j=n.onDayClick)===null||j===void 0||j.call(n,t,r,k):P0(e)?(N=s.onDayClick)===null||N===void 0||N.call(s,t,r,k):M0(e)?(D=a.onDayClick)===null||D===void 0||D.call(a,t,r,k):(O=e.onDayClick)===null||O===void 0||O.call(e,t,r,k)},C=function(k){var j;f(t),(j=e.onDayFocus)===null||j===void 0||j.call(e,t,r,k)},A=function(k){var j;p(),(j=e.onDayBlur)===null||j===void 0||j.call(e,t,r,k)},B=function(k){var j;(j=e.onDayMouseEnter)===null||j===void 0||j.call(e,t,r,k)},q=function(k){var j;(j=e.onDayMouseLeave)===null||j===void 0||j.call(e,t,r,k)},R=function(k){var j;(j=e.onDayPointerEnter)===null||j===void 0||j.call(e,t,r,k)},I=function(k){var j;(j=e.onDayPointerLeave)===null||j===void 0||j.call(e,t,r,k)},$=function(k){var j;(j=e.onDayTouchCancel)===null||j===void 0||j.call(e,t,r,k)},K=function(k){var j;(j=e.onDayTouchEnd)===null||j===void 0||j.call(e,t,r,k)},U=function(k){var j;(j=e.onDayTouchMove)===null||j===void 0||j.call(e,t,r,k)},P=function(k){var j;(j=e.onDayTouchStart)===null||j===void 0||j.call(e,t,r,k)},L=function(k){var j;(j=e.onDayKeyUp)===null||j===void 0||j.call(e,t,r,k)},T=function(k){var j;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),e.dir==="rtl"?c():u();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),e.dir==="rtl"?u():c();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),l();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),d();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?y():h();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?m():g();break;case"Home":k.preventDefault(),k.stopPropagation(),v();break;case"End":k.preventDefault(),k.stopPropagation(),x();break}(j=e.onDayKeyDown)===null||j===void 0||j.call(e,t,r,k)},_={onClick:S,onFocus:C,onBlur:A,onKeyDown:T,onKeyUp:L,onMouseEnter:B,onMouseLeave:q,onPointerEnter:R,onPointerLeave:I,onTouchCancel:$,onTouchEnd:K,onTouchMove:U,onTouchStart:P};return _}function Cfe(){var t=Tn(),r=OF(),e=k3(),n=S3(),s=Dx(t)?r.selected:P0(t)?e.selected:M0(t)?n.selected:void 0;return s}function Tfe(t){return Object.values(Ro).includes(t)}function Efe(t,r){var e=[t.classNames.day];return Object.keys(r).forEach(function(n){var s=t.modifiersClassNames[n];if(s)e.push(s);else if(Tfe(n)){var a=t.classNames["day_".concat(n)];a&&e.push(a)}}),e}function Afe(t,r){var e=yr({},t.styles.day);return Object.keys(r).forEach(function(n){var s;e=yr(yr({},e),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),e}function Pfe(t,r,e){var n,s,a,o=Tn(),c=C3(),u=kfe(t,r),l=Nfe(t,u),d=Cfe(),p=!!(o.onDayClick||o.mode!=="default");E.useEffect(function(){var B;u.outside||c.focusedDay&&p&&wa(c.focusedDay,t)&&((B=e.current)===null||B===void 0||B.focus())},[c.focusedDay,t,e,p,u.outside]);var f=Efe(o,u).join(" "),h=Afe(o,u),g=!!(u.outside&&!o.showOutsideDays||u.hidden),y=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:Zde,m=i.jsx(y,{date:t,displayMonth:r,activeModifiers:u}),v={style:h,className:f,children:m,role:"gridcell"},x=c.focusTarget&&wa(c.focusTarget,t)&&!u.outside,S=c.focusedDay&&wa(c.focusedDay,t),C=yr(yr(yr({},v),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=S||x?0:-1,n)),l),A={isButton:p,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:C,divProps:v};return A}function Mfe(t){var r=E.useRef(null),e=Pfe(t.date,t.displayMonth,r);return e.isHidden?i.jsx("div",{role:"gridcell"}):e.isButton?i.jsx(jb,yr({name:"day",ref:r},e.buttonProps)):i.jsx("div",yr({},e.divProps))}function Rfe(t){var r=t.number,e=t.dates,n=Tn(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,c=n.locale,u=n.labels.labelWeekNumber,l=n.formatters.formatWeekNumber,d=l(Number(r),{locale:c});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var p=u(Number(r),{locale:c}),f=function(h){s(r,e,h)};return i.jsx(jb,{name:"week-number","aria-label":p,className:o.weeknumber,style:a.weeknumber,onClick:f,children:d})}function Dfe(t){var r,e,n=Tn(),s=n.styles,a=n.classNames,o=n.showWeekNumber,c=n.components,u=(r=c?.Day)!==null&&r!==void 0?r:Mfe,l=(e=c?.WeekNumber)!==null&&e!==void 0?e:Rfe,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(l,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,t.dates.map(function(p){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(u,{displayMonth:t.displayMonth,date:p})},zce(p))})]})}function i8(t,r,e){for(var n=e?.ISOWeek?yF(r):v3(r,e),s=e?.ISOWeek?Pd(t):so(t,e),a=tl(n,s),o=[],c=0;c<=a;c++)o.push(Fa(s,c));var u=o.reduce(function(l,d){var p=e?.ISOWeek?xF(d):wF(d,e),f=l.find(function(h){return h.weekNumber===p});return f?(f.dates.push(d),l):(l.push({weekNumber:p,dates:[d]}),l)},[]);return u}function Ife(t,r){var e=i8(oi(t),x3(t),r);if(r?.useFixedWeeks){var n=Wce(t,r);if(n<6){var s=e[e.length-1],a=s.dates[s.dates.length-1],o=O_(a,6-n),c=i8(O_(a,1),o,r);e.push.apply(e,c)}}return e}function Ofe(t){var r,e,n,s=Tn(),a=s.locale,o=s.classNames,c=s.styles,u=s.hideHead,l=s.fixedWeeks,d=s.components,p=s.weekStartsOn,f=s.firstWeekContainsDate,h=s.ISOWeek,g=Ife(t.displayMonth,{useFixedWeeks:!!l,ISOWeek:h,locale:a,weekStartsOn:p,firstWeekContainsDate:f}),y=(r=d?.Head)!==null&&r!==void 0?r:Yde,m=(e=d?.Row)!==null&&e!==void 0?e:Dfe,v=(n=d?.Footer)!==null&&n!==void 0?n:Gde;return i.jsxs("table",{id:t.id,className:o.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&i.jsx(y,{}),i.jsx("tbody",{className:o.tbody,style:c.tbody,children:g.map(function(x){return i.jsx(m,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),i.jsx(v,{displayMonth:t.displayMonth})]})}function Ffe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Lfe=Ffe()?E.useLayoutEffect:E.useEffect,_w=!1,Bfe=0;function o8(){return"react-day-picker-".concat(++Bfe)}function $fe(t){var r,e=t??(_w?o8():null),n=E.useState(e),s=n[0],a=n[1];return Lfe(function(){s===null&&a(o8())},[]),E.useEffect(function(){_w===!1&&(_w=!0)},[]),(r=t??s)!==null&&r!==void 0?r:void 0}function zfe(t){var r,e,n=Tn(),s=n.dir,a=n.classNames,o=n.styles,c=n.components,u=R0().displayMonths,l=$fe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,p=[a.month],f=o.month,h=t.displayIndex===0,g=t.displayIndex===u.length-1,y=!h&&!g;s==="rtl"&&(r=[h,g],g=r[0],h=r[1]),h&&(p.push(a.caption_start),f=yr(yr({},f),o.caption_start)),g&&(p.push(a.caption_end),f=yr(yr({},f),o.caption_end)),y&&(p.push(a.caption_between),f=yr(yr({},f),o.caption_between));var m=(e=c?.Caption)!==null&&e!==void 0?e:Kde;return i.jsxs("div",{className:p.join(" "),style:f,children:[i.jsx(m,{id:l,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(Ofe,{id:d,"aria-labelledby":l,displayMonth:t.displayMonth})]},t.displayIndex)}function Vfe(t){var r=Tn(),e=r.classNames,n=r.styles;return i.jsx("div",{className:e.months,style:n.months,children:t.children})}function Wfe(t){var r,e,n=t.initialProps,s=Tn(),a=C3(),o=R0(),c=E.useState(!1),u=c[0],l=c[1];E.useEffect(function(){s.initialFocus&&a.focusTarget&&(u||(a.focus(a.focusTarget),l(!0)))},[s.initialFocus,u,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var p=yr(yr({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return yr(yr({},g),(m={},m[y]=n[y],m))},{}),h=(e=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&e!==void 0?e:Vfe;return i.jsx("div",yr({className:d.join(" "),style:p,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:i.jsx(h,{children:o.displayMonths.map(function(g,y){return i.jsx(zfe,{displayIndex:y,displayMonth:g},y)})})}))}function Ufe(t){var r=t.children,e=pde(t,["children"]);return i.jsx(Rde,{initialProps:e,children:i.jsx(Wde,{children:i.jsx(jfe,{initialProps:e,children:i.jsx(Jde,{initialProps:e,children:i.jsx(rfe,{initialProps:e,children:i.jsx(ufe,{children:i.jsx(_fe,{children:r})})})})})})})}function qfe(t){return i.jsx(Ufe,yr({},t,{children:i.jsx(Wfe,{initialProps:t})}))}function E3({className:t,classNames:r,showOutsideDays:e=!0,locale:n,...s}){const a=n??_a,o=a===_a||s.dir==="rtl";return i.jsx("div",{dir:o?"rtl":"ltr",lang:o?"ar":"en",children:i.jsx(qfe,{showOutsideDays:e,locale:a,weekStartsOn:6,className:Ee("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:Ee(Im({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:o?"absolute right-1":"absolute left-1",nav_button_next:o?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ee(Im({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{Dropdown:({value:c,onChange:u,children:l,...d})=>{const p=E.Children.toArray(l),f=p.find(g=>g.props.value===c),h=g=>{u?.({target:{value:g}})};return i.jsxs(Yn,{value:c?.toString(),onValueChange:g=>h(g),children:[i.jsx(Vn,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:i.jsx(Zn,{children:f?.props?.children})}),i.jsx(Wn,{position:"popper",children:i.jsx(Oo,{className:"h-80",children:p.map((g,y)=>i.jsx($t,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:c,...u})=>o?i.jsx(vd,{className:Ee("h-4 w-4",c),...u}):i.jsx(Uy,{className:Ee("h-4 w-4",c),...u}),IconRight:({className:c,...u})=>o?i.jsx(Uy,{className:Ee("h-4 w-4",c),...u}):i.jsx(vd,{className:Ee("h-4 w-4",c),...u})},...s})})}E3.displayName="Calendar";function cl({label:t,value:r,onChange:e,placeholder:n=" ",disabled:s=!1,className:a,required:o=!1,error:c,id:u}){const[l,d]=E.useState(!1),[p,f]=E.useState(void 0),h=E.useMemo(()=>{if(r){if(r instanceof Date)return r;if(typeof r=="string"){const v=new Date(r);return isNaN(v.getTime())?void 0:v}}},[r]);E.useEffect(()=>{l&&f(h||new Date)},[l,h]);const g=()=>{e?.(p),d(!1)},y=()=>{e?.(void 0),d(!1)},m=h?Nr(h,"dd MMMM yyyy",{locale:_a}):null;return i.jsxs("div",{className:Ee("flex flex-col gap-1.5",a),children:[t&&i.jsxs(Ye,{htmlFor:u,className:"text-right font-medium",children:[t,o&&i.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),i.jsxs(Us,{open:l,onOpenChange:d,children:[i.jsx(kh,{asChild:!0,children:i.jsxs(Re,{id:u,variant:"ghost",disabled:s,className:Ee("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!h&&"text-muted-foreground",c&&"text-destructive"),children:[i.jsx(ws,{className:"ml-2 h-4 w-4 opacity-50"}),i.jsx("span",{className:"truncate",children:m||n})]})}),i.jsxs(Ds,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[i.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:i.jsx(Rs,{className:"h-5 w-5"})}),i.jsxs(qs,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[i.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:Nr(p||new Date,"yyyy")}),i.jsx("div",{className:"text-2xl font-bold",children:p?Nr(p,"eeee d MMMM",{locale:_a}):"  "})]}),i.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:i.jsx(E3,{mode:"single",selected:p,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),i.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[i.jsx(Re,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),i.jsx(Re,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),i.jsx(Re,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),c&&i.jsx("p",{className:"text-sm text-destructive text-right",children:c})]})}function Hfe({name:t,control:r,label:e,placeholder:n=" ",disabled:s=!1,className:a,required:o=!1,rules:c}){return i.jsx(ZM,{name:t,control:r,rules:c,render:({field:u,fieldState:l})=>i.jsx(cl,{label:e,value:u.value,onChange:d=>{u.onChange(d?Nr(d,"yyyy-MM-dd"):"")},placeholder:n,disabled:s,className:a,required:o,error:l.error?.message,id:t})})}function Kfe({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,actions:s=[],onReset:a,onRefresh:o,isRefreshing:c=!1,hasActiveFilters:u=!1,viewMode:l="grid",onViewModeChange:d,showViewToggle:p=!1,className:f,filters:h=[],filterValues:g={},onFilterChange:y}){const[m,v]=E.useState(!1),x=E.useCallback(()=>{r?.("")},[r]),C=h.filter(I=>{const $=g[I.key];return I.type==="date"?$ instanceof Date:I.type==="date-range"?$?.from||$?.to:$&&$!=="all"&&$!==I.defaultValue}).length,A=h.length>0&&y,B=I=>{const $=g[I.key];switch(I.type){case"date":return i.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),i.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:i.jsx(cl,{value:$?new Date($):void 0,onChange:P=>{y?.(I.key,P),P&&y?.("dateRange",void 0)},placeholder:I.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const K=$?.from?$.from instanceof Date?$.from:new Date($.from):void 0,U=$?.to?$.to instanceof Date?$.to:new Date($.to):void 0;return i.jsxs("div",{onClick:P=>P.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[i.jsxs("div",{className:"relative group",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),i.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:i.jsx(cl,{value:K,onChange:P=>{const L=typeof $=="object"&&$!==null?{...$}:{};L.from=P,P&&y?.("specificDate",void 0),y?.(I.key,L)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),i.jsxs("div",{className:"relative group",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),i.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:i.jsx(cl,{value:U,onChange:P=>{const L=typeof $=="object"&&$!==null?{...$}:{};L.to=P,y?.(I.key,L)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return i.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:I.label}),i.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:i.jsxs(Yn,{value:String($||I.defaultValue||"all"),onValueChange:P=>y?.(I.key,P),children:[i.jsx(Vn,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:i.jsx(Zn,{placeholder:I.placeholder||I.label})}),i.jsx(Wn,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:I.options?.map(P=>i.jsx($t,{value:String(P.value),className:"rounded-xl my-1 py-3 text-right",children:P.label},P.value))})]})})]})}},q=[];p&&d&&(q.push({key:"viewList",icon:SQ,tooltip:" ",onClick:()=>d("list"),variant:l==="list"?"default":"ghost"}),q.push({key:"viewGrid",icon:jQ,tooltip:" ",onClick:()=>d("grid"),variant:l==="grid"?"default":"ghost"})),o&&q.push({key:"refresh",icon:xs,tooltip:"",onClick:o,loading:c}),a&&u&&q.push({key:"reset",icon:Hl,tooltip:" ",onClick:a});const R=[...q,...s];return i.jsxs("div",{className:Ee("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[n&&i.jsxs("div",{className:"relative flex-1",children:[i.jsx(yt,{type:"text",placeholder:e,value:t,onChange:I=>r?.(I.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),t?i.jsx(Re,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:x,type:"button",children:i.jsx(Rs,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):i.jsx(To,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),A&&i.jsxs(Px,{open:m,onOpenChange:v,children:[i.jsx(m3,{asChild:!0,children:i.jsxs(Re,{variant:"ghost",size:"icon",className:Ee("h-8 w-8 rounded-lg relative",C>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[i.jsx(Hy,{className:"h-4 w-4"}),C>0&&i.jsx(Nt,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:C})]})}),i.jsx(T0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:I=>{const $=I.target;($.closest(".rdp")||$.closest('[role="listbox"]')||$.closest(".relative"))&&I.preventDefault()},onInteractOutside:I=>{const $=I.target;($.closest(".rdp")||$.closest('[role="listbox"]'))&&I.preventDefault()},children:i.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(uF,{asChild:!0,children:i.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:i.jsx(Rs,{className:"h-5 w-5"})})}),i.jsx(E0,{className:"text-xl font-bold tracking-tight",children:" "})]}),i.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),i.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[i.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:h.map(I=>i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:B(I)},I.key))}),h.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[i.jsx(Hy,{className:"w-12 h-12 mb-4 opacity-20"}),i.jsx("p",{children:"    "})]})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:i.jsx("div",{className:"max-w-xl mx-auto",children:i.jsx(Re,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),R.length>0&&i.jsx(nx,{delayDuration:300,children:i.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:R.map(I=>{const $=I.icon;return i.jsxs(Gk,{children:[i.jsx(Qk,{asChild:!0,children:i.jsx(Re,{variant:I.variant||"ghost",size:"icon",className:Ee("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",I.loading&&"bg-primary/10 text-primary",I.variant==="default"&&"bg-primary/10 text-primary"),onClick:I.onClick,disabled:I.disabled||I.loading,children:i.jsx($,{className:Ee("h-4 w-4 transition-transform duration-200",I.loading&&"animate-spin")})})}),I.tooltip&&i.jsx(sx,{side:"bottom",className:"text-xs",children:i.jsx("p",{children:I.loading?" ...":I.tooltip})})]},I.key)})})})]})}function Gfe({filters:t,filterValues:r,onFilterChange:e,onReset:n,showAllFiltersButton:s=!0,className:a}){const[o,c]=E.useState(!1),l=t.filter(f=>{const h=r[f.key];return f.type==="date"?h instanceof Date:f.type==="date-range"?h?.from||h?.to:h&&h!=="all"&&h!==f.defaultValue}),d=f=>{const h=r[f.key];if(f.type==="date"&&h instanceof Date)return Nr(h,"dd MMMM yyyy",{locale:_a});if(f.type==="date-range"){if(h?.from&&h?.to)return`${Nr(h.from,"dd MMM",{locale:_a})} - ${Nr(h.to,"dd MMM",{locale:_a})}`;if(h?.from)return` ${Nr(h.from,"dd MMM",{locale:_a})}`}return f.options?.find(y=>y.value===h)?.label||h},p=f=>{f.type==="date"||f.type==="date-range"?e(f.key,void 0):e(f.key,f.defaultValue||"all")};return i.jsx("div",{className:Ee("space-y-1",a),children:l.length>0&&i.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:l.map(f=>i.jsxs(Nt,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[i.jsx("span",{className:"font-medium",children:d(f)}),i.jsx("button",{onClick:h=>{h.stopPropagation(),p(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:i.jsx(Rs,{className:"h-3.5 w-3.5"})})]},f.key))})})}function Qfe({config:t,className:r}){const{totalCount:e,filteredCount:n,totalLabel:s="",filteredLabel:a="",totalValue:o,totalValueLabel:c="",unit:u=".",categoryBreakdown:l,showBreakdown:d=!1}=t,p=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return i.jsxs("div",{className:Ee("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",r),children:[i.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),i.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:n}),i.jsx("span",{className:"text-xs text-gray-500",children:a}),i.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:e})]}),o!==void 0&&!d&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[c,":"]}),i.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:p(o)}),u&&i.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&l&&l.length>0&&i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[l.map((f,h)=>i.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),i.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[p(f.value)," ",f.unit||u]})]},h)),o!==void 0&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[i.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[c,":"]}),i.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[p(o)," ",u]})]})]})]})}function Lo({statsRows:t,searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s=!0,filters:a=[],filterValues:o={},onFilterChange:c,onReset:u,onRefresh:l,isRefreshing:d,actions:p,resultsSummary:f,showAllFiltersButton:h=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:x,title:S,subtitle:C,hideHeader:A=!1}){const B=a.some(q=>{const R=o[q.key];return q.type==="date"?R instanceof Date:q.type==="date-range"?R?.from||R?.to:R&&R!=="all"&&R!==q.defaultValue})||!!(r&&r.length>0);return i.jsxs("div",{className:Ee("space-y-2",y),children:[!A&&(S||C)&&i.jsxs("div",{className:"mb-4",children:[S&&i.jsx("h2",{className:"text-2xl font-bold",children:S}),C&&i.jsx("p",{className:"text-muted-foreground",children:C})]}),t&&t.length>0&&i.jsx(Ile,{rows:t}),i.jsx(Kfe,{searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s,actions:p,onReset:u,onRefresh:l,isRefreshing:d,hasActiveFilters:B,viewMode:v,onViewModeChange:x,showViewToggle:!!x,filters:a,filterValues:o,onFilterChange:c}),a.length>0&&c&&i.jsx(Gfe,{filters:a,filterValues:o,onFilterChange:c,onReset:u,showAllFiltersButton:!1}),f&&i.jsx(Qfe,{config:f})]})}function un({className:t,...r}){return i.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",t),...r})}var kw="rovingFocusGroup.onEntryFocus",Xfe={bubbles:!1,cancelable:!0},D0="RovingFocusGroup",[B_,FF,Yfe]=qb(D0),[Zfe,Uh]=da(D0,[Yfe]),[Jfe,ehe]=Zfe(D0),LF=E.forwardRef((t,r)=>i.jsx(B_.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(B_.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(the,{...t,ref:r})})}));LF.displayName=D0;var the=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...p}=t,f=E.useRef(null),h=Ar(r,f),g=Vh(a),[y,m]=no({prop:o,defaultProp:c??null,onChange:u,caller:D0}),[v,x]=E.useState(!1),S=xa(l),C=FF(e),A=E.useRef(!1),[B,q]=E.useState(0);return E.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(kw,S),()=>R.removeEventListener(kw,S)},[S]),i.jsx(Jfe,{scope:e,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:E.useCallback(R=>m(R),[m]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>q(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>q(R=>R-1),[]),children:i.jsx(Ht.div,{tabIndex:v||B===0?-1:0,"data-orientation":n,...p,ref:h,style:{outline:"none",...t.style},onMouseDown:ft(t.onMouseDown,()=>{A.current=!0}),onFocus:ft(t.onFocus,R=>{const I=!A.current;if(R.target===R.currentTarget&&I&&!v){const $=new CustomEvent(kw,Xfe);if(R.currentTarget.dispatchEvent($),!$.defaultPrevented){const K=C().filter(_=>_.focusable),U=K.find(_=>_.active),P=K.find(_=>_.id===y),T=[U,P,...K].filter(Boolean).map(_=>_.ref.current);zF(T,d)}}A.current=!1}),onBlur:ft(t.onBlur,()=>x(!1))})})}),BF="RovingFocusGroupItem",$F=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...c}=t,u=Ni(),l=a||u,d=ehe(BF,e),p=d.currentTabStopId===l,f=FF(e),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return E.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),i.jsx(B_.ItemSlot,{scope:e,id:l,focusable:n,active:s,children:i.jsx(Ht.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...c,ref:r,onMouseDown:ft(t.onMouseDown,m=>{n?d.onItemFocus(l):m.preventDefault()}),onFocus:ft(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:ft(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=she(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let S=f().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const C=S.indexOf(m.currentTarget);S=d.loop?ahe(S,C+1):S.slice(C+1)}setTimeout(()=>zF(S))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});$F.displayName=BF;var rhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nhe(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function she(t,r,e){const n=nhe(t.key,e);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return rhe[n]}function zF(t,r=!1){const e=document.activeElement;for(const n of t)if(n===e||(n.focus({preventScroll:r}),document.activeElement!==e))return}function ahe(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var A3=LF,P3=$F;function ihe(t){const r=ohe(t),e=E.forwardRef((n,s)=>{const{children:a,...o}=n,c=E.Children.toArray(a),u=c.find(che);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return i.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return i.jsx(r,{...o,ref:s,children:a})});return e.displayName=`${t}.Slot`,e}function ohe(t){const r=E.forwardRef((e,n)=>{const{children:s,...a}=e;if(E.isValidElement(s)){const o=dhe(s),c=uhe(a,s.props);return s.type!==E.Fragment&&(c.ref=n?bl(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var lhe=Symbol("radix.slottable");function che(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lhe}function uhe(t,r){const e={...r};for(const n in r){const s=t[n],a=r[n];/^on[A-Z]/.test(n)?s&&a?e[n]=(...c)=>{const u=a(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...a}:n==="className"&&(e[n]=[s,a].filter(Boolean).join(" "))}return{...t,...e}}function dhe(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var $_=["Enter"," "],fhe=["ArrowDown","PageUp","Home"],VF=["ArrowUp","PageDown","End"],hhe=[...fhe,...VF],phe={ltr:[...$_,"ArrowRight"],rtl:[...$_,"ArrowLeft"]},mhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},I0="Menu",[Lm,ghe,yhe]=qb(I0),[Kd,WF]=da(I0,[yhe,wu,Uh]),Ix=wu(),UF=Uh(),[bhe,Gd]=Kd(I0),[xhe,O0]=Kd(I0),qF=t=>{const{__scopeMenu:r,open:e=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,c=Ix(r),[u,l]=E.useState(null),d=E.useRef(!1),p=xa(a),f=Vh(s);return E.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(Yb,{...c,children:i.jsx(bhe,{scope:r,open:e,onOpenChange:p,content:u,onContentChange:l,children:i.jsx(xhe,{scope:r,onClose:E.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};qF.displayName=I0;var vhe="MenuAnchor",M3=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=Ix(e);return i.jsx(h0,{...s,...n,ref:r})});M3.displayName=vhe;var R3="MenuPortal",[whe,HF]=Kd(R3,{forceMount:void 0}),KF=t=>{const{__scopeMenu:r,forceMount:e,children:n,container:s}=t,a=Gd(R3,r);return i.jsx(whe,{scope:r,forceMount:e,children:i.jsx(ks,{present:e||a.open,children:i.jsx(Rh,{asChild:!0,container:s,children:n})})})};KF.displayName=R3;var to="MenuContent",[_he,D3]=Kd(to),GF=E.forwardRef((t,r)=>{const e=HF(to,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,a=Gd(to,t.__scopeMenu),o=O0(to,t.__scopeMenu);return i.jsx(Lm.Provider,{scope:t.__scopeMenu,children:i.jsx(ks,{present:n||a.open,children:i.jsx(Lm.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(khe,{...s,ref:r}):i.jsx(jhe,{...s,ref:r})})})})}),khe=E.forwardRef((t,r)=>{const e=Gd(to,t.__scopeMenu),n=E.useRef(null),s=Ar(r,n);return E.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),i.jsx(I3,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:ft(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),jhe=E.forwardRef((t,r)=>{const e=Gd(to,t.__scopeMenu);return i.jsx(I3,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),She=ihe("MenuContent.ScrollLock"),I3=E.forwardRef((t,r)=>{const{__scopeMenu:e,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:g,...y}=t,m=Gd(to,e),v=O0(to,e),x=Ix(e),S=UF(e),C=ghe(e),[A,B]=E.useState(null),q=E.useRef(null),R=Ar(r,q,m.onContentChange),I=E.useRef(0),$=E.useRef(""),K=E.useRef(0),U=E.useRef(null),P=E.useRef("right"),L=E.useRef(0),T=g?_0:E.Fragment,_=g?{as:She,allowPinchZoom:!0}:void 0,k=N=>{const D=$.current+N,O=C().filter(Z=>!Z.disabled),z=document.activeElement,Q=O.find(Z=>Z.ref.current===z)?.textValue,Y=O.map(Z=>Z.textValue),re=Fhe(Y,D,Q),F=O.find(Z=>Z.textValue===re)?.ref.current;(function Z(W){$.current=W,window.clearTimeout(I.current),W!==""&&(I.current=window.setTimeout(()=>Z(""),1e3))})(D),F&&setTimeout(()=>F.focus())};E.useEffect(()=>()=>window.clearTimeout(I.current),[]),gx();const j=E.useCallback(N=>P.current===U.current?.side&&Bhe(N,U.current?.area),[]);return i.jsx(_he,{scope:e,searchRef:$,onItemEnter:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),onItemLeave:E.useCallback(N=>{j(N)||(q.current?.focus(),B(null))},[j]),onTriggerLeave:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),pointerGraceTimerRef:K,onPointerGraceIntentChange:E.useCallback(N=>{U.current=N},[]),children:i.jsx(T,{..._,children:i.jsx(w0,{asChild:!0,trapped:s,onMountAutoFocus:ft(a,N=>{N.preventDefault(),q.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(zd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:i.jsx(A3,{asChild:!0,...S,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:B,onEntryFocus:ft(u,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Zb,{role:"menu","aria-orientation":"vertical","data-state":uL(m.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:R,style:{outline:"none",...y.style},onKeyDown:ft(y.onKeyDown,N=>{const O=N.target.closest("[data-radix-menu-content]")===N.currentTarget,z=N.ctrlKey||N.altKey||N.metaKey,Q=N.key.length===1;O&&(N.key==="Tab"&&N.preventDefault(),!z&&Q&&k(N.key));const Y=q.current;if(N.target!==Y||!hhe.includes(N.key))return;N.preventDefault();const F=C().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);VF.includes(N.key)&&F.reverse(),Ihe(F)}),onBlur:ft(t.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(I.current),$.current="")}),onPointerMove:ft(t.onPointerMove,Bm(N=>{const D=N.target,O=L.current!==N.clientX;if(N.currentTarget.contains(D)&&O){const z=N.clientX>L.current?"right":"left";P.current=z,L.current=N.clientX}}))})})})})})})});GF.displayName=to;var Nhe="MenuGroup",O3=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return i.jsx(Ht.div,{role:"group",...n,ref:r})});O3.displayName=Nhe;var Che="MenuLabel",QF=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return i.jsx(Ht.div,{...n,ref:r})});QF.displayName=Che;var Sb="MenuItem",l8="menu.itemSelect",Ox=E.forwardRef((t,r)=>{const{disabled:e=!1,onSelect:n,...s}=t,a=E.useRef(null),o=O0(Sb,t.__scopeMenu),c=D3(Sb,t.__scopeMenu),u=Ar(r,a),l=E.useRef(!1),d=()=>{const p=a.current;if(!e&&p){const f=new CustomEvent(l8,{bubbles:!0,cancelable:!0});p.addEventListener(l8,h=>n?.(h),{once:!0}),TP(p,f),f.defaultPrevented?l.current=!1:o.onClose()}};return i.jsx(XF,{...s,ref:u,disabled:e,onClick:ft(t.onClick,d),onPointerDown:p=>{t.onPointerDown?.(p),l.current=!0},onPointerUp:ft(t.onPointerUp,p=>{l.current||p.currentTarget?.click()}),onKeyDown:ft(t.onKeyDown,p=>{const f=c.searchRef.current!=="";e||f&&p.key===" "||$_.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Ox.displayName=Sb;var XF=E.forwardRef((t,r)=>{const{__scopeMenu:e,disabled:n=!1,textValue:s,...a}=t,o=D3(Sb,e),c=UF(e),u=E.useRef(null),l=Ar(r,u),[d,p]=E.useState(!1),[f,h]=E.useState("");return E.useEffect(()=>{const g=u.current;g&&h((g.textContent??"").trim())},[a.children]),i.jsx(Lm.ItemSlot,{scope:e,disabled:n,textValue:s??f,children:i.jsx(P3,{asChild:!0,...c,focusable:!n,children:i.jsx(Ht.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:l,onPointerMove:ft(t.onPointerMove,Bm(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(t.onPointerLeave,Bm(g=>o.onItemLeave(g))),onFocus:ft(t.onFocus,()=>p(!0)),onBlur:ft(t.onBlur,()=>p(!1))})})})}),The="MenuCheckboxItem",YF=E.forwardRef((t,r)=>{const{checked:e=!1,onCheckedChange:n,...s}=t;return i.jsx(rL,{scope:t.__scopeMenu,checked:e,children:i.jsx(Ox,{role:"menuitemcheckbox","aria-checked":Nb(e)?"mixed":e,...s,ref:r,"data-state":L3(e),onSelect:ft(s.onSelect,()=>n?.(Nb(e)?!0:!e),{checkForDefaultPrevented:!1})})})});YF.displayName=The;var ZF="MenuRadioGroup",[Ehe,Ahe]=Kd(ZF,{value:void 0,onValueChange:()=>{}}),JF=E.forwardRef((t,r)=>{const{value:e,onValueChange:n,...s}=t,a=xa(n);return i.jsx(Ehe,{scope:t.__scopeMenu,value:e,onValueChange:a,children:i.jsx(O3,{...s,ref:r})})});JF.displayName=ZF;var eL="MenuRadioItem",tL=E.forwardRef((t,r)=>{const{value:e,...n}=t,s=Ahe(eL,t.__scopeMenu),a=e===s.value;return i.jsx(rL,{scope:t.__scopeMenu,checked:a,children:i.jsx(Ox,{role:"menuitemradio","aria-checked":a,...n,ref:r,"data-state":L3(a),onSelect:ft(n.onSelect,()=>s.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});tL.displayName=eL;var F3="MenuItemIndicator",[rL,Phe]=Kd(F3,{checked:!1}),nL=E.forwardRef((t,r)=>{const{__scopeMenu:e,forceMount:n,...s}=t,a=Phe(F3,e);return i.jsx(ks,{present:n||Nb(a.checked)||a.checked===!0,children:i.jsx(Ht.span,{...s,ref:r,"data-state":L3(a.checked)})})});nL.displayName=F3;var Mhe="MenuSeparator",sL=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return i.jsx(Ht.div,{role:"separator","aria-orientation":"horizontal",...n,ref:r})});sL.displayName=Mhe;var Rhe="MenuArrow",aL=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=Ix(e);return i.jsx(Jb,{...s,...n,ref:r})});aL.displayName=Rhe;var Dhe="MenuSub",[hke,iL]=Kd(Dhe),Up="MenuSubTrigger",oL=E.forwardRef((t,r)=>{const e=Gd(Up,t.__scopeMenu),n=O0(Up,t.__scopeMenu),s=iL(Up,t.__scopeMenu),a=D3(Up,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,l={__scopeMenu:t.__scopeMenu},d=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),i.jsx(M3,{asChild:!0,...l,children:i.jsx(XF,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":uL(e.open),...t,ref:bl(r,s.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:ft(t.onPointerMove,Bm(p=>{a.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!e.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),d()},100))})),onPointerLeave:ft(t.onPointerLeave,Bm(p=>{d();const f=e.content?.getBoundingClientRect();if(f){const h=e.content?.dataset.side,g=h==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:h}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ft(t.onKeyDown,p=>{const f=a.searchRef.current!=="";t.disabled||f&&p.key===" "||phe[n.dir].includes(p.key)&&(e.onOpenChange(!0),e.content?.focus(),p.preventDefault())})})})});oL.displayName=Up;var lL="MenuSubContent",cL=E.forwardRef((t,r)=>{const e=HF(to,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,a=Gd(to,t.__scopeMenu),o=O0(to,t.__scopeMenu),c=iL(lL,t.__scopeMenu),u=E.useRef(null),l=Ar(r,u);return i.jsx(Lm.Provider,{scope:t.__scopeMenu,children:i.jsx(ks,{present:n||a.open,children:i.jsx(Lm.Slot,{scope:t.__scopeMenu,children:i.jsx(I3,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ft(t.onFocusOutside,d=>{d.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ft(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ft(t.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),f=mhe[o.dir].includes(d.key);p&&f&&(a.onOpenChange(!1),c.trigger?.focus(),d.preventDefault())})})})})})});cL.displayName=lL;function uL(t){return t?"open":"closed"}function Nb(t){return t==="indeterminate"}function L3(t){return Nb(t)?"indeterminate":t?"checked":"unchecked"}function Ihe(t){const r=document.activeElement;for(const e of t)if(e===r||(e.focus(),document.activeElement!==r))return}function Ohe(t,r){return t.map((e,n)=>t[(r+n)%t.length])}function Fhe(t,r,e){const s=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,a=e?t.indexOf(e):-1;let o=Ohe(t,Math.max(a,0));s.length===1&&(o=o.filter(l=>l!==e));const u=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function Lhe(t,r){const{x:e,y:n}=t;let s=!1;for(let a=0,o=r.length-1;a<r.length;o=a++){const c=r[a],u=r[o],l=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function Bhe(t,r){if(!r)return!1;const e={x:t.clientX,y:t.clientY};return Lhe(e,r)}function Bm(t){return r=>r.pointerType==="mouse"?t(r):void 0}var $he=qF,zhe=M3,Vhe=KF,Whe=GF,Uhe=O3,qhe=QF,Hhe=Ox,Khe=YF,Ghe=JF,Qhe=tL,Xhe=nL,Yhe=sL,Zhe=aL,Jhe=oL,epe=cL,Fx="DropdownMenu",[tpe]=da(Fx,[WF]),Ha=WF(),[rpe,dL]=tpe(Fx),fL=t=>{const{__scopeDropdownMenu:r,children:e,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,u=Ha(r),l=E.useRef(null),[d,p]=no({prop:s,defaultProp:a??!1,onChange:o,caller:Fx});return i.jsx(rpe,{scope:r,triggerId:Ni(),triggerRef:l,contentId:Ni(),open:d,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(f=>!f),[p]),modal:c,children:i.jsx($he,{...u,open:d,onOpenChange:p,dir:n,modal:c,children:e})})};fL.displayName=Fx;var hL="DropdownMenuTrigger",pL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,disabled:n=!1,...s}=t,a=dL(hL,e),o=Ha(e);return i.jsx(zhe,{asChild:!0,...o,children:i.jsx(Ht.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:bl(r,a.triggerRef),onPointerDown:ft(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:ft(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});pL.displayName=hL;var npe="DropdownMenuPortal",mL=t=>{const{__scopeDropdownMenu:r,...e}=t,n=Ha(r);return i.jsx(Vhe,{...n,...e})};mL.displayName=npe;var gL="DropdownMenuContent",yL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=dL(gL,e),a=Ha(e),o=E.useRef(!1);return i.jsx(Whe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:r,onCloseAutoFocus:ft(t.onCloseAutoFocus,c=>{o.current||s.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:ft(t.onInteractOutside,c=>{const u=c.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,d=u.button===2||l;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yL.displayName=gL;var spe="DropdownMenuGroup",ape=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Uhe,{...s,...n,ref:r})});ape.displayName=spe;var ipe="DropdownMenuLabel",bL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(qhe,{...s,...n,ref:r})});bL.displayName=ipe;var ope="DropdownMenuItem",xL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Hhe,{...s,...n,ref:r})});xL.displayName=ope;var lpe="DropdownMenuCheckboxItem",vL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Khe,{...s,...n,ref:r})});vL.displayName=lpe;var cpe="DropdownMenuRadioGroup",upe=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Ghe,{...s,...n,ref:r})});upe.displayName=cpe;var dpe="DropdownMenuRadioItem",wL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Qhe,{...s,...n,ref:r})});wL.displayName=dpe;var fpe="DropdownMenuItemIndicator",_L=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Xhe,{...s,...n,ref:r})});_L.displayName=fpe;var hpe="DropdownMenuSeparator",kL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Yhe,{...s,...n,ref:r})});kL.displayName=hpe;var ppe="DropdownMenuArrow",mpe=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Zhe,{...s,...n,ref:r})});mpe.displayName=ppe;var gpe="DropdownMenuSubTrigger",jL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(Jhe,{...s,...n,ref:r})});jL.displayName=gpe;var ype="DropdownMenuSubContent",SL=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ha(e);return i.jsx(epe,{...s,...n,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SL.displayName=ype;var bpe=fL,xpe=pL,vpe=mL,NL=yL,CL=bL,TL=xL,EL=vL,AL=wL,PL=_L,ML=kL,RL=jL,DL=SL;const IL=t=>i.jsx(bpe,{modal:!1,...t}),OL=xpe,wpe=E.forwardRef(({className:t,inset:r,children:e,...n},s)=>i.jsxs(RL,{ref:s,className:Ee("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n,children:[e,i.jsx(vd,{className:"ml-auto"})]}));wpe.displayName=RL.displayName;const _pe=E.forwardRef(({className:t,...r},e)=>i.jsx(DL,{ref:e,className:Ee("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),style:{pointerEvents:"auto"},...r}));_pe.displayName=DL.displayName;const B3=E.forwardRef(({className:t,sideOffset:r=4,...e},n)=>i.jsx(vpe,{children:i.jsx(NL,{ref:n,sideOffset:r,className:Ee("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...e})}));B3.displayName=NL.displayName;const Cb=E.forwardRef(({className:t,inset:r,...e},n)=>i.jsx(TL,{ref:n,className:Ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...e}));Cb.displayName=TL.displayName;const kpe=E.forwardRef(({className:t,children:r,checked:e,...n},s)=>i.jsxs(EL,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:e,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(PL,{children:i.jsx(ql,{className:"h-4 w-4"})})}),r]}));kpe.displayName=EL.displayName;const jpe=E.forwardRef(({className:t,children:r,...e},n)=>i.jsxs(AL,{ref:n,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(PL,{children:i.jsx(rM,{className:"h-2 w-2 fill-current"})})}),r]}));jpe.displayName=AL.displayName;const FL=E.forwardRef(({className:t,inset:r,...e},n)=>i.jsx(CL,{ref:n,className:Ee("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...e}));FL.displayName=CL.displayName;const LL=E.forwardRef(({className:t,...r},e)=>i.jsx(ML,{ref:e,className:Ee("-mx-1 my-1 h-px bg-muted",t),...r}));LL.displayName=ML.displayName;const Spe={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},Npe={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},Cpe={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},c8={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function Tpe(t){const e=String(t||"").length;return e<=4?"text-sm font-bold":e<=7?"text-xs font-bold":e<=12?"text-[11px] font-semibold":e<=18?"text-[10px] font-semibold":e<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function Epe({compact:t}){return i.jsxs("div",{className:Ee("relative rounded-xl border bg-card shadow-sm overflow-hidden",t?"p-3":"p-4"),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(un,{className:"h-5 w-32 mb-2"}),i.jsx(un,{className:"h-3 w-24"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(un,{className:"h-7 w-7 rounded"}),i.jsx(un,{className:"h-7 w-7 rounded"})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(r=>i.jsxs("div",{className:"space-y-1",children:[i.jsx(un,{className:"h-3 w-16"}),i.jsx(un,{className:"h-4 w-24"})]},r))})]})}function xn({title:t,subtitle:r,titleIcon:e,badges:n=[],fields:s,actions:a=[],footer:o,className:c,onClick:u,isLoading:l,compact:d=!1,headerColor:p}){if(l)return i.jsx(Epe,{compact:d});const f=(s||[]).filter(g=>!g.hidden),h=(a||[]).filter(g=>!g.hidden);return i.jsxs("div",{className:Ee("group relative rounded-2xl border-2 bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-300","hover:shadow-xl hover:border-primary/30 hover:-translate-y-1",u&&"cursor-pointer",d?"p-4":"p-6",c),onClick:u,children:[p&&i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:p}}),i.jsx("div",{className:"flex items-start gap-3",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e&&i.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(e,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:Ee("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:t}),r&&i.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:r})]}),n.length>0&&i.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:n.map((g,y)=>i.jsx(Nt,{variant:"outline",className:Ee("text-[10px] px-1.5 py-0 h-5 font-medium",Cpe[g.variant||"default"],g.className),children:g.label},y))})]})})}),i.jsxs("div",{className:Ee("flex items-start",d?"mt-2":"mt-3"),children:[i.jsx("div",{className:Ee("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return i.jsxs("div",{className:Ee("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&i.jsx(m,{className:Ee("h-3 w-3 shrink-0",g.iconClassName||Npe[g.color||"default"])}),i.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[i.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),i.jsx("span",{className:Ee("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":Tpe(g.value),Spe[g.color||"default"]),children:g.value||"-"})]})]},y)})}),h.length>0&&i.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:h.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?i.jsxs(IL,{children:[i.jsx(OL,{asChild:!0,children:i.jsx(Re,{size:"icon",variant:"ghost",className:Ee("h-6 w-6 rounded-md",c8[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:i.jsx(m,{className:"h-3.5 w-3.5"})})}),i.jsx(B3,{align:"end",className:"w-48",children:g.dropdown.map((v,x)=>i.jsx(Cb,{onClick:S=>{S.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:i.jsx("span",{children:v.label})},x))})]},y):i.jsx(Re,{size:"icon",variant:"ghost",className:Ee("h-6 w-6 rounded-md",c8[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:i.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),o&&i.jsx("div",{className:Ee("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:o})]})}function Hs({children:t,columns:r=2,className:e}){const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return i.jsx("div",{className:Ee("grid gap-3",n[r],e),children:t})}function Ape(){Os();const{selectedProjectId:t,isAllProjects:r,projects:e}=Io(),[n,s]=E.useState(""),[a,o]=E.useState({dateRange:void 0,type:"all"}),[c,u]=E.useState(!1),[l,d]=E.useState(),p=new URLSearchParams(window.location.search),f=p.get("edit"),h=p.get("worker"),g=p.get("date"),[y,m]=E.useState(g||null),[v,x]=E.useState({}),[S,C]=E.useState(!1),[A,B]=E.useState(!1),[q,R]=E.useState(!0),[I,$]=E.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:K}=pn(),U=_s(),{setFloatingAction:P}=Fo();E.useCallback((ee,oe)=>{o(ne=>({...ne,[ee]:oe}))},[]);const L=E.useCallback(()=>{s(""),o({dateRange:void 0,type:"all"}),q&&m(ia()),K({title:"  ",description:"      "})},[K,q]),T=E.useCallback(async()=>{u(!0);try{await U.invalidateQueries({queryKey:xe.workerAttendanceAll(t)}),K({title:" ",description:"   "})}catch{K({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[U,t,K]);E.useEffect(()=>{!y&&q&&m(ia())},[]),E.useEffect(()=>(P(null),()=>P(null)),[P]);const _=async(ee,oe)=>{if(!(!oe||typeof oe!="string"||!oe.trim()))try{await Ve("/api/autocomplete","POST",{category:ee,value:oe.trim()})}catch(ne){console.log(`Failed to save autocomplete value for ${ee}:`,ne)}},{data:k=[]}=xt({queryKey:xe.workerAttendance(t,y),queryFn:async()=>{try{if(r){const ne=[];for(const fe of e){const le=y?`/api/projects/${fe.id}/worker-attendance?date=${y}`:`/api/projects/${fe.id}/worker-attendance`;try{const ie=await Ve(le,"GET"),te=ie?.data||ie||[];Array.isArray(te)&&ne.push(...te.map(se=>({...se,projectId:fe.id,projectName:fe.name})))}catch(ie){console.error(`Error fetching attendance for project ${fe.id}:`,ie)}}return ne}const ee=y?`/api/projects/${t}/worker-attendance?date=${y}`:`/api/projects/${t}/worker-attendance`,oe=await Ve(ee,"GET");return oe&&oe.data&&Array.isArray(oe.data)?oe.data:Array.isArray(oe)?oe:[]}catch(ee){return console.error("Error fetching attendance records:",ee),[]}},enabled:!!t&&(r?e.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:j=[]}=xt({queryKey:xe.workerAttendanceAll(t),queryFn:async()=>{try{const ee=await Ve(`/api/projects/${t}/worker-attendance`,"GET");return ee&&ee.data&&Array.isArray(ee.data)?ee.data:Array.isArray(ee)?ee:[]}catch(ee){return console.error("Error fetching all attendance records:",ee),[]}},enabled:!!t,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:N}=xt({queryKey:xe.workerAttendanceEdit(f),queryFn:async()=>{try{const ee=await Ve(`/api/worker-attendance/${f}`,"GET");return ee&&ee.data?ee.data:ee||null}catch(ee){return console.error("Error fetching attendance record for editing:",ee),null}},enabled:!!f});E.useEffect(()=>{x({}),d(void 0)},[y,t]),E.useEffect(()=>{if(N&&h){const ee={...v};ee[h]={isPresent:!0,startTime:N.startTime,endTime:N.endTime,workDescription:N.workDescription||"",workDays:parseFloat(N.workDays?.toString()||"0"),paidAmount:N.paidAmount?.toString()||"",paymentType:N.paymentType||"partial"},x(ee)}},[N,h]);const D=Dt({mutationFn:ee=>Ve(`/api/worker-attendance/${ee}`,"DELETE"),onMutate:async ee=>{const oe=t,ne=y,fe=xe.workerAttendanceAll(oe),le=xe.workerAttendance(oe,ne);await U.cancelQueries({queryKey:fe}),await U.cancelQueries({queryKey:le});const ie=U.getQueryData(fe),te=U.getQueryData(le);return Array.isArray(ie)&&U.setQueryData(fe,ie.filter(se=>se.id!==ee)),Array.isArray(te)&&U.setQueryData(le,te.filter(se=>se.id!==ee)),{previousAllData:ie,previousDateData:te,allKey:fe,dateKey:le}},onSuccess:()=>{K({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(ee,oe,ne)=>{ne?.previousAllData&&ne?.allKey&&U.setQueryData(ne.allKey,ne.previousAllData),ne?.previousDateData&&ne?.dateKey&&U.setQueryData(ne.dateKey,ne.previousDateData),console.error(" [DeleteAttendance]   :",ee);const fe=ee.message||"     ";K({title:"",description:fe,variant:"destructive"})},onSettled:(ee,oe,ne,fe)=>{fe?.allKey&&U.invalidateQueries({queryKey:fe.allKey}),fe?.dateKey&&U.invalidateQueries({queryKey:fe.dateKey})}}),O=ee=>{if(Array.isArray(z)?z.find(ne=>ne.id===ee.workerId):null){const ne={...v};ne[ee.workerId]={isPresent:!0,startTime:ee.startTime,endTime:ee.endTime,workDescription:ee.workDescription||"",workDays:parseFloat(ee.workDays?.toString()||"0"),paidAmount:ee.paidAmount,paymentType:ee.paymentType||"partial",recordId:ee.id,recordType:ee.recordType||"work"},x(ne)}},{data:z=[],isLoading:Q}=xt({queryKey:xe.workers}),Y=Dt({onMutate:async ee=>{console.log("      (Optimistic):",ee.length);for(const oe of ee){const ne=parseFloat(oe.workDays?.toString()||"0"),fe=parseFloat(oe.paidAmount?.toString()||"0");if(ne<=0&&fe<=0){const ie=`         ${z.find(te=>te.id===oe.workerId)?.name||""}`;throw K({title:" ",description:ie,variant:"destructive"}),new Error(ie)}}},mutationFn:async ee=>{console.log("     :",ee.length);const oe=ee.flatMap(le=>[_("workDescriptions",le.workDescription),_("paymentTypes",le.paymentType)]).filter(Boolean);oe.length>0&&await Promise.all(oe);const ne=[],fe=[];for(const le of ee)try{!le.attendanceDate&&le.date&&(le.attendanceDate=le.date),le.attendanceDate||(le.attendanceDate=y||ia()),console.log(`    : ${le.workerId}  : ${le.attendanceDate}`);const ie=parseFloat(le.workDays?.toString()||"0"),te=parseFloat(le.paidAmount?.toString()||"0");if(ie<=0&&te<=0){const se=z.find(de=>de.id===le.workerId);throw new Error(`         ${se?.name||""}`)}if(le.recordType==="advance"?(le.workDays="0",console.log("   -  workDays = 0")):le.workDays!==void 0&&(le.workDays=le.workDays.toString()),le.recordId){console.log(`    : ${le.workerId} : ${le.recordId}`);const se={...le};delete se.recordId;const de=await Ve(`/api/worker-attendance/${le.recordId}`,"PATCH",se);ne.push(de)}else try{const se=await Ve(`/api/projects/${le.projectId}/attendance?date=${le.date}&workerId=${le.workerId}`,"GET"),de=se?.data||se||[],me=Array.isArray(de)?de.find(ke=>ke.workerId===le.workerId):null;if(me){console.log(`    : ${le.workerId}    -    `);const ke=await Ve(`/api/worker-attendance/${me.id}`,"PATCH",le);ne.push(ke)}else{console.log(`    : ${le.workerId}`);const ke=await Ve("/api/worker-attendance","POST",le);ne.push(ke)}}catch(se){console.log("       -  :",se);try{const de=await Ve("/api/worker-attendance","POST",le);ne.push(de)}catch(de){throw de.message&&de.message.includes("unique")||de.message.includes("UNIQUE")?(console.log(`      ${le.workerId}   `),new Error("      .      .")):de}}}catch(ie){console.error(`      ${le.workerId}:`,ie);const se=z.find(me=>me.id===le.workerId)?.name||"  ";let de="  ";ie?.response?.data?.message?de=ie.response.data.message:ie?.response?.data?.error?de=ie.response.data.error:ie?.message&&(de=ie.message),fe.push({workerId:le.workerId,workerName:se,error:de})}return console.log(`   ${ne.length}   `),fe.length>0&&console.warn(`    ${fe.length}  :`,fe),{successful:ne,failed:fe,totalProcessed:ee.length}},onSuccess:async ee=>{U.refetchQueries({queryKey:xe.autocomplete}),U.refetchQueries({queryKey:xe.workerAttendanceAll(t)});const{successful:oe,failed:ne,totalProcessed:fe}=ee;if(ne.length===0)K({title:"   ",description:`   ${oe.length}  `});else if(oe.length>0){const le=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"   ",description:`: ${oe.length} 
: ${ne.length} 

${le}`,variant:"default"}),console.error(" :",ne)}else{const le=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"  ",description:`     :

${le}`,variant:"destructive"})}oe.length>0&&x(le=>{const ie={...le};return oe.forEach(te=>{const se=te?.data||te;se?.workerId&&delete ie[se.workerId]}),ie})},onError:async(ee,oe)=>{const ne=oe.flatMap(le=>[_("workDescriptions",le.workDescription),_("paymentTypes",le.paymentType)]).filter(Boolean);ne.length>0&&(await Promise.all(ne),U.refetchQueries({queryKey:xe.autocomplete})),console.error("Error saving attendance:",ee);let fe="    ";if(ee?.response?.data?.error||ee?.message){const le=ee?.response?.data?.error||ee?.message;le.includes("     ")?fe="        ":fe=le}K({title:"",description:fe,variant:"destructive"})}}),re=(ee,oe)=>{const ne=z.find(fe=>fe.id===ee);if(ne&&oe.isPresent&&oe.workDays===void 0){oe.workDays=1;const fe=parseFloat(ne.dailyWage||"0");oe.actualWage=fe*(oe.workDays||0),oe.totalPay=oe.actualWage,oe.remainingAmount=oe.totalPay-parseFloat(oe.paidAmount||"0")}x(fe=>({...fe,[ee]:oe}))},F=()=>{const ee={...v};Object.keys(ee).forEach(oe=>{ee[oe].isPresent&&(ee[oe]={...ee[oe],startTime:I.startTime,endTime:I.endTime,workDays:I.workDays,paymentType:I.paymentType,paidAmount:I.paidAmount,workDescription:I.workDescription})}),x(ee),K({title:" ",description:"      "})},Z=ee=>{const oe={};z.forEach(ne=>{ee?oe[ne.id]={isPresent:!0,startTime:I.startTime,endTime:I.endTime,workDays:I.workDays,paymentType:I.paymentType,paidAmount:I.paidAmount,workDescription:I.workDescription}:oe[ne.id]={isPresent:!1}}),x(oe)},W=()=>{if(!t||t===Es){K({title:"   ",description:"         ",variant:"destructive"});return}if(!y){K({title:"   ",description:"      ",variant:"destructive"});return}const ee=Object.entries(v).filter(([fe,le])=>{if(!le.isPresent)return!1;const ie=le.recordType||"work";return ie==="work"&&(!le.workDays||le.workDays<=0)||ie==="advance"&&(!le.paidAmount||parseFloat(le.paidAmount)<=0)});if(ee.length>0){const fe=ee.some(([se,de])=>(de.recordType||"work")==="work"),le=ee.some(([se,de])=>(de.recordType||"work")==="advance");let ie="";const te=[];fe&&(ie+=`          
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="work"){const ke=z.find(Ce=>Ce.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),le&&(ie+=`         
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="advance"){const ke=z.find(Ce=>Ce.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),K({title:"   ",description:ie+(te.length>0?`
`+te.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([fe,le])=>le.isPresent).length===0){K({title:" ",description:"     .     .",variant:"destructive"});return}const ne=Object.entries(v).filter(([fe,le])=>le.isPresent?(le.recordType||"work")==="work"?le.workDays&&le.workDays>0:le.paidAmount&&parseFloat(le.paidAmount)>0:!1).map(([fe,le])=>{const ie=z.find(it=>it.id===fe),te=parseFloat(ie?.dailyWage||"0"),se=le.recordType||"work",de=se==="advance"?0:le.workDays||0,me=te*de,ke=parseFloat(String(le.overtime||0)),Ce=parseFloat(String(le.overtimeRate||0)),Fe=ke*Ce,Ie=se==="advance"?0:Math.max(0,me+Fe),Ue=parseFloat(le.paidAmount||"0"),tt=se==="advance"?-Ue:le.paymentType==="credit"?Ie:Ie-Ue,gt=()=>{if(!le.startTime||!le.endTime)return 0;const it=new Date(`2000-01-01T${le.startTime}:00`);let be=new Date(`2000-01-01T${le.endTime}:00`).getTime()-it.getTime();return be<0&&(be+=1440*60*1e3),Math.max(0,be/(1e3*60*60))},Ze={projectId:t,workerId:fe,date:y,attendanceDate:y,startTime:le.startTime||"07:00",endTime:le.endTime||"15:00",workDescription:le.workDescription||"",isPresent:!0,workDays:de,dailyWage:ie?.dailyWage||"0",hoursWorked:gt().toString(),overtime:ke.toString(),overtimeRate:Ce.toString(),actualWage:me.toString(),totalPay:Ie.toString(),paidAmount:Ue.toString(),remainingAmount:tt.toString(),paymentType:le.paymentType||"partial",notes:le.notes||"",wellId:l||null};return le.recordId&&(Ze.recordId=le.recordId),Ze});if(ne.length===0){K({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}Y.mutate(ne)},V=Array.isArray(k)?k:[],G=E.useMemo(()=>{if(!n.trim())return z;const ee=n.toLowerCase().trim();return z.filter(oe=>oe.name?.toLowerCase().includes(ee)||oe.phone?.toLowerCase().includes(ee)||oe.type?.toLowerCase().includes(ee))},[z,n]),ae=E.useMemo(()=>{let ee=V;if(n.trim()){const oe=n.toLowerCase().trim();ee=ee.filter(ne=>z.find(le=>le.id===ne.workerId)?.name?.toLowerCase().includes(oe)||ne.workDescription?.toLowerCase().includes(oe)||ne.notes?.toLowerCase().includes(oe))}return(a.dateRange?.from||a.dateRange?.to)&&(ee=ee.filter(oe=>{const ne=new Date(oe.attendanceDate||oe.date);if(a.dateRange.from){const fe=new Date(a.dateRange.from);if(fe.setHours(0,0,0,0),ne<fe)return!1}if(a.dateRange.to){const fe=new Date(a.dateRange.to);if(fe.setHours(23,59,59,999),ne>fe)return!1}return!0})),a.type&&a.type!=="all"&&(ee=ee.filter(oe=>z.find(fe=>fe.id===oe.workerId)?.type===a.type)),ee},[V,z,n,a.dateRange,a.type]),pe=E.useMemo(()=>{const ee=ae.length,oe=ae.reduce((te,se)=>te+parseFloat(se.workDays||"0"),0);let ne=0,fe=0,le=0;ae.forEach(te=>{const se=z.find(Fe=>Fe.id===te.workerId),de=parseFloat(se?.dailyWage||te.dailyWage||"0"),me=parseFloat(te.workDays||"0"),ke=de*me,Ce=parseFloat(te.paidAmount||"0");ne+=ke,fe+=Ce,te.transfers&&(le+=parseFloat(te.transfers))});const ie=ne-fe-le;return{totalWorkers:G.length,presentWorkers:ee,totalWorkDays:oe,totalEarned:ne,totalPaid:fe,totalRemaining:ie,allWorkersCount:z.length,allRecordsCount:V.length}},[ae,G,z,V]),ce=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:pe.totalWorkers,icon:zn,color:"blue"},{key:"present",label:" ",value:pe.presentWorkers,icon:wn,color:"green"},{key:"days",label:" ",value:pe.totalWorkDays.toFixed(2),icon:$n,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:Je(pe.totalEarned),icon:Sr,color:"blue"},{key:"paid",label:"",value:Je(pe.totalPaid),icon:wn,color:"green"},{key:"remaining",label:"",value:Je(pe.totalRemaining),icon:Sr,color:pe.totalRemaining>=0?"purple":"red"}]}],[pe]),ge=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set(z.map(ee=>ee.type))).filter(Boolean).map(ee=>({value:ee,label:ee}))]}],[z]);return i.jsxs("div",{className:"p-4 space-y-4",children:[t&&i.jsx(Lo,{hideHeader:!0,title:"",statsRows:ce,searchValue:n,onSearchChange:s,searchPlaceholder:"  ...",showSearch:!0,filters:ge,filterValues:{date:y?(()=>{const[ee,oe,ne]=y.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:(ee,oe)=>{if(ee==="date")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),le=String(oe.getDate()).padStart(2,"0");m(`${ne}-${fe}-${le}`)}else m(null)},onReset:L,onRefresh:T,isRefreshing:c,resultsSummary:n?{totalCount:pe.allRecordsCount,filteredCount:pe.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:pe.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),z.length>0&&i.jsx(Wi,{open:A,onOpenChange:B,children:i.jsxs(lr,{className:"mb-4",children:[(!t||t===Es||!y)&&i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),i.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!t||t===Es)&&i.jsx("p",{children:"      "}),!y&&i.jsx("p",{children:"      "})]})]})]})}),i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:A?" ":" "}),A?i.jsx(No,{className:"h-5 w-5 text-muted-foreground"}):i.jsx(Bn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),i.jsx(qi,{children:i.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[i.jsx(Om,{projectId:t,value:l,onChange:d,optional:!0}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:i.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>C(!S),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:S?i.jsx(No,{className:"h-4 w-4"}):i.jsx(Bn,{className:"h-4 w-4"})})}),S&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{size:"sm",variant:"outline",onClick:()=>Z(!0),className:"text-xs",children:" "}),i.jsx(Re,{size:"sm",variant:"outline",onClick:()=>Z(!1),className:"text-xs",children:" "}),i.jsx(Re,{size:"sm",onClick:F,className:"text-xs",children:"  "})]})]}),S&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsx(yt,{type:"time",value:I.startTime,onChange:ee=>$(oe=>({...oe,startTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsx(yt,{type:"time",value:I.endTime,onChange:ee=>$(oe=>({...oe,endTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(yt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:I.workDays||"",onChange:ee=>{const oe=ee.target.value;$(ne=>({...ne,workDays:oe===""?0:parseFloat(oe)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),I.workDays!==0&&i.jsx("button",{onClick:()=>$(ee=>({...ee,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsxs(Yn,{value:I.paymentType,onValueChange:ee=>$(oe=>({...oe,paymentType:ee})),children:[i.jsx(Vn,{className:"mt-1",children:i.jsx(Zn,{})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"full",children:" "}),i.jsx($t,{value:"partial",children:" "}),i.jsx($t,{value:"credit",children:" "})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[I.paymentType!=="credit"&&i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",placeholder:"0",value:I.paidAmount,onChange:ee=>$(oe=>({...oe,paidAmount:ee.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs text-muted-foreground",children:" "}),i.jsx(Ms,{value:I.workDescription,onChange:ee=>$(oe=>({...oe,workDescription:ee})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),Q?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):z.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"   "})}):i.jsx("div",{className:"space-y-3",children:G.length===0&&n?i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-muted-foreground",children:['    "',n,'"']})}):G.map(ee=>i.jsx(Joe,{worker:ee,attendance:v[ee.id]||{isPresent:!1},onAttendanceChange:oe=>re(ee.id,oe),selectedDate:y??void 0},ee.id))}),i.jsx("div",{className:"mt-6",children:i.jsxs(Re,{onClick:W,disabled:Y.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[i.jsx(Uc,{className:"ml-2 h-4 w-4"}),Y.isPending?" ...":" "]})})]})})]})}),t&&i.jsx("div",{className:"mt-6",children:ae.length>0?i.jsx(Hs,{columns:2,children:ae.map(ee=>{const oe=z.find(de=>de.id===ee.workerId),ne=parseFloat(oe?.dailyWage||ee.dailyWage||"0"),fe=parseFloat(ee.workDays||"0"),le=ne*fe,ie=parseFloat(ee.paidAmount||"0"),te=le-ie,se=ee.projectName||e.find(de=>de.id===ee.projectId)?.name;return i.jsx(xn,{title:oe?.name||ee.workerId,subtitle:r&&se?`${se} - ${ee.date||ee.attendanceDate}`:ee.date||ee.attendanceDate,titleIcon:Wd,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...r&&se?[{label:se,variant:"outline"}]:[]],fields:[{label:"",value:`${ee.startTime||" "} - ${ee.endTime||" "}`,icon:$n,color:"info"},{label:" ",value:fe.toString(),icon:ws,color:"warning"},{label:" ",value:Je(ne),icon:Sr,color:"default"},{label:"",value:Je(le),icon:Sr,color:"info",emphasis:!0},{label:"",value:Je(ie),icon:wn,color:"success"},{label:"",value:Je(te),icon:Sr,color:te>0?"danger":"success",emphasis:!0}],actions:[{icon:Ol,label:"",onClick:()=>O(ee),color:"blue"},{icon:us,label:"",onClick:()=>D.mutate(ee.id),color:"red",disabled:D.isPending}],footer:ee.workDescription?i.jsx("p",{className:"text-sm text-muted-foreground",children:ee.workDescription}):void 0,compact:!0},ee.id)})}):null})]})}const Ppe=t=>t==="web"?[{id:1,name:" ",status:"pending",icon:Of},{id:2,name:"   GitHub",status:"pending",icon:Of},{id:3,name:"  ",status:"pending",icon:_d},{id:4,name:"   ",status:"pending",icon:Xp},{id:5,name:"   ",status:"pending",icon:_n},{id:6,name:"   ",status:"pending",icon:Va},{id:7,name:"  ",status:"pending",icon:Ks}]:[{id:1,name:" ",status:"pending",icon:Of},{id:2,name:"   GitHub",status:"pending",icon:Of},{id:3,name:"  ",status:"pending",icon:_d},{id:4,name:"   ",status:"pending",icon:Xp},{id:5,name:"   ",status:"pending",icon:_n},{id:6,name:" APK  Android",status:"pending",icon:Ok},{id:7,name:" APK  ",status:"pending",icon:Xp}],Mpe=[{id:1,name:" ",status:"pending",icon:Of},{id:2,name:"   GitHub",status:"pending",icon:Of},{id:3,name:"   ",status:"pending",icon:_d},{id:4,name:" ",status:"pending",icon:_n},{id:5,name:" ",status:"pending",icon:Va},{id:6,name:" ",status:"pending",icon:Va},{id:7,name:" ",status:"pending",icon:Ks}];function Rpe(){const{toast:t}=pn(),[r,e]=E.useState(!1),[n,s]=E.useState(0),[a,o]=E.useState(Mpe),[c,u]=E.useState([]),[l,d]=E.useState(!0),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState("web"),[v,x]=E.useState({show:!1,message:"",action:""}),S=E.useRef(null);E.useEffect(()=>{l&&S.current&&S.current.scrollIntoView({behavior:"smooth",block:"end"})},[c,l]);const C=(K,U="info")=>{u(P=>[...P,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:K,type:U}])},A=(K,U,P)=>{o(L=>L.map(T=>T.id===K?{...T,status:U,duration:P}:T))},B=async()=>{if(!y){t({description:"   ",variant:"destructive"});return}e(!0),s(0),u([]);const K=Ppe(y);o(K.map(P=>({...P,status:"pending",duration:void 0}))),f(Date.now()),g(null);const U=y==="web"?" ":" Android";C(`       ${U}...`,"info"),A(1,"running");try{C("      ...","info");const P=await Ve("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:P}),P&&P.logs&&Array.isArray(P.logs)){let L=1;P.logs.forEach((T,_)=>{if(T&&T.message&&T.type){C(T.message,T.type);const j=Math.floor(_/2)+1;j<K.length&&L!==j&&(L<=K.length&&A(L,"success"),L=j,A(L,"running"))}}),o(T=>T.map((_,k)=>({..._,status:"success",duration:k<3?2:3}))),s(100),C(`      ${U}  100%!`,"success"),t({description:"   ",variant:"default"})}else C(`     - : ${JSON.stringify(P)}`,"warning"),s(100),o(L=>L.map(T=>({...T,status:"success",duration:3})))}catch(P){console.error(" [startDeployment] :",P);const L=P?.message||"   ";C(`   : ${L}`,"error"),o(T=>T.map((_,k)=>k===0?{..._,status:"success"}:k===1?{..._,status:"failed"}:_)),t({description:` : ${L}`,variant:"destructive"})}finally{e(!1),g(Date.now())}},q=()=>{if(!p)return"00:00";const K=h||Date.now(),U=Math.floor((K-p)/1e3),P=Math.floor(U/60),L=U%60;return`${P.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},R=()=>{const K=c.map(U=>`[${U.timestamp}] ${U.message}`).join(`
`);navigator.clipboard.writeText(K),t({description:"    "})},I=async()=>{x({show:!1,message:"",action:""}),C("      ...","info");try{await Ve("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),C("      ","success")}catch(K){C(`   : ${K.message}`,"error")}},$=()=>{x({show:!1,message:"",action:""}),C("     ","warning")};return i.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsx("div",{className:"w-full md:w-auto",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),i.jsxs(Yn,{value:y,onValueChange:K=>m(K),disabled:r,children:[i.jsx(Vn,{className:"w-full md:w-56","data-testid":"select-app-type",children:i.jsx(Zn,{placeholder:" "})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"web","data-testid":"option-web-app",children:" "}),i.jsx($t,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),i.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[i.jsxs(Re,{variant:"outline",size:"sm",onClick:R,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[i.jsx(If,{className:"w-4 h-4 ml-2"})," "]}),r?i.jsxs(Re,{variant:"destructive",onClick:()=>e(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[i.jsx(OQ,{className:"w-4 h-4 ml-2"})," "]}):i.jsxs(Re,{onClick:B,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[i.jsx(RQ,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(lr,{className:"border-border/50 shadow-sm overflow-hidden",children:[i.jsx(cs,{className:"bg-muted/30 pb-4",children:i.jsxs(ys,{className:"text-sm font-medium flex items-center justify-between",children:[i.jsx("span",{children:"  "}),i.jsx(Nt,{variant:r?"secondary":"outline",className:r?"animate-pulse":"",children:r?" ":""})]})}),i.jsx(br,{className:"pt-6 space-y-1",children:a.map((K,U)=>i.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[U!==a.length-1&&i.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${K.status==="success"?"bg-primary":"bg-border"}`}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${K.status==="success"?"bg-primary text-primary-foreground":K.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":K.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:K.status==="success"?i.jsx(ql,{className:"w-3 h-3"}):K.status==="failed"?i.jsx(ua,{className:"w-3 h-3"}):(()=>{const P=K.icon;return i.jsx(P,{className:"w-3 h-3"})})()}),i.jsxs("div",{className:"flex-1 pr-8",children:[i.jsx("p",{className:`text-sm font-semibold ${K.status==="running"?"text-primary":"text-foreground"}`,children:K.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[K.status==="running"&&i.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),K.duration&&i.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[K.duration," "]})]})]})]})]},K.id))})]}),i.jsx(lr,{className:"bg-primary/5 border-primary/20",children:i.jsx(br,{className:"pt-6 space-y-4",children:i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),i.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:q()})]}),i.jsx($n,{className:"w-10 h-10 text-primary/20"})]})})})]}),i.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[i.jsxs(lr,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[i.jsxs(cs,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[i.jsx(oM,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),r&&i.jsx(Nt,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[i.jsx(Input,{type:"checkbox",checked:l,onChange:K=>d(K.target.checked),className:"rounded border-border w-4 h-4"})," "]}),i.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:i.jsx(Xp,{className:"w-4 h-4"})})]})]}),i.jsx(br,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:i.jsx(Oo,{className:"h-full",children:i.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[c.length===0?i.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[i.jsx(vd,{className:"w-4 h-4"}),"  ..."]}):c.map((K,U)=>i.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[i.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:U+1}),i.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:K.timestamp}),i.jsx("span",{className:`flex-1 break-all ${K.type==="success"?"text-emerald-400 font-medium":K.type==="error"?"text-rose-400 font-bold":K.type==="warning"?"text-amber-400":"text-slate-300"}`,children:K.message})]},K.id)),i.jsx("div",{ref:S,className:"h-2"})]})})})]}),n===100&&!r&&i.jsx(lr,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:i.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[i.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:i.jsx(ql,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:" !"}),i.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),i.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[i.jsx(Re,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:i.jsx("a",{href:"/",target:"_blank",children:"  "})}),i.jsx(Re,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),a.some(K=>K.status==="failed")&&!r&&i.jsx(lr,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:i.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[i.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:i.jsx(ua,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:"  "}),i.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),i.jsxs(Re,{onClick:B,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[i.jsx(Hl,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&i.jsx(lr,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:i.jsxs(br,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[i.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:i.jsx(li,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold",children:" "}),i.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),i.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[i.jsxs(Re,{onClick:I,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[i.jsx(ql,{className:"w-4 h-4"}),i.jsx("span",{className:"ml-2",children:""})]}),i.jsxs(Re,{onClick:$,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[i.jsx(ua,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const Ch=E.forwardRef(({className:t,autoHeight:r=!0,maxRows:e=10,minRows:n=3,onChange:s,...a},o)=>{const c=E.useRef(null),u=E.useCallback(()=>{const d=c.current;if(r&&d){d.style.height="auto";const f=n*20,h=d.scrollHeight,g=Math.max(f,h);d.style.height=`${g}px`,d.style.overflowY="hidden"}},[r,e,n]),l=d=>{u(),s?.(d)};return E.useEffect(()=>{u();const d=c.current;if(!d)return;const p=new ResizeObserver(()=>u());return p.observe(d),()=>p.disconnect()},[u,a.value]),i.jsx("textarea",{className:Ee("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none transition-[height] duration-100 ease-out",t),ref:d=>{c.current=d,typeof o=="function"?o(d):o&&(o.current=d)},onChange:l,...a})});Ch.displayName="Textarea";var $3="Radio",[Dpe,BL]=da($3),[Ipe,Ope]=Dpe($3),$L=E.forwardRef((t,r)=>{const{__scopeRadio:e,name:n,checked:s=!1,required:a,disabled:o,value:c="on",onCheck:u,form:l,...d}=t,[p,f]=E.useState(null),h=Ar(r,m=>f(m)),g=E.useRef(!1),y=p?l||!!p.closest("form"):!0;return i.jsxs(Ipe,{scope:e,checked:s,disabled:o,children:[i.jsx(Ht.button,{type:"button",role:"radio","aria-checked":s,"data-state":UL(s),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:h,onClick:ft(t.onClick,m=>{s||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&i.jsx(WL,{control:p,bubbles:!g.current,name:n,value:c,checked:s,required:a,disabled:o,form:l,style:{transform:"translateX(-100%)"}})]})});$L.displayName=$3;var zL="RadioIndicator",VL=E.forwardRef((t,r)=>{const{__scopeRadio:e,forceMount:n,...s}=t,a=Ope(zL,e);return i.jsx(ks,{present:n||a.checked,children:i.jsx(Ht.span,{"data-state":UL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})})});VL.displayName=zL;var Fpe="RadioBubbleInput",WL=E.forwardRef(({__scopeRadio:t,control:r,checked:e,bubbles:n=!0,...s},a)=>{const o=E.useRef(null),c=Ar(o,a),u=q4(e),l=Uk(r);return E.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==e&&h){const g=new Event("click",{bubbles:n});h.call(d,e),d.dispatchEvent(g)}},[u,e,n]),i.jsx(Ht.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:c,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WL.displayName=Fpe;function UL(t){return t?"checked":"unchecked"}var Lpe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lx="RadioGroup",[Bpe]=da(Lx,[Uh,BL]),qL=Uh(),HL=BL(),[$pe,zpe]=Bpe(Lx),KL=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,name:n,defaultValue:s,value:a,required:o=!1,disabled:c=!1,orientation:u,dir:l,loop:d=!0,onValueChange:p,...f}=t,h=qL(e),g=Vh(l),[y,m]=no({prop:a,defaultProp:s??null,onChange:p,caller:Lx});return i.jsx($pe,{scope:e,name:n,required:o,disabled:c,value:y,onValueChange:m,children:i.jsx(A3,{asChild:!0,...h,orientation:u,dir:g,loop:d,children:i.jsx(Ht.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":c?"":void 0,dir:g,...f,ref:r})})})});KL.displayName=Lx;var GL="RadioGroupItem",QL=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,disabled:n,...s}=t,a=zpe(GL,e),o=a.disabled||n,c=qL(e),u=HL(e),l=E.useRef(null),d=Ar(r,l),p=a.value===s.value,f=E.useRef(!1);return E.useEffect(()=>{const h=y=>{Lpe.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),i.jsx(P3,{asChild:!0,...c,focusable:!o,active:p,children:i.jsx($L,{disabled:o,required:a.required,checked:p,...u,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:ft(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ft(s.onFocus,()=>{f.current&&l.current?.click()})})})});QL.displayName=GL;var Vpe="RadioGroupIndicator",XL=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,...n}=t,s=HL(e);return i.jsx(VL,{...s,...n,ref:r})});XL.displayName=Vpe;var YL=KL,ZL=QL,Wpe=XL;const JL=E.forwardRef(({className:t,...r},e)=>i.jsx(YL,{className:Ee("grid gap-2",t),...r,ref:e}));JL.displayName=YL.displayName;const Dy=E.forwardRef(({className:t,...r},e)=>i.jsx(ZL,{ref:e,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:i.jsx(Wpe,{className:"flex items-center justify-center",children:i.jsx(rM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Dy.displayName=ZL.displayName;function iy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jw={exports:{}};/*! ExcelJS 19-10-2023 */var u8;function Upe(){return u8||(u8=1,(function(t,r){(function(e){t.exports=e()})((function(){return(function e(n,s,a){function o(l,d){if(!s[l]){if(!n[l]){var p=typeof iy=="function"&&iy;if(!d&&p)return p(l,!0);if(c)return c(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[l]={exports:{}};n[l][0].call(h.exports,(function(g){return o(n[l][1][g]||g)}),h,h.exports,e,n,s,a)}return s[l].exports}for(var c=typeof iy=="function"&&iy,u=0;u<a.length;u++)o(a[u]);return o})({1:[function(e,n,s){const a=e("fs"),o=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),u=e("dayjs/plugin/utc"),l=e("dayjs").extend(c).extend(u),d=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await p(h))throw new Error("File not found: "+h);const y=a.createReadStream(h),m=await this.read(y,g);return y.close(),m}read(h,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),x=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],S=g.map||function(A){if(A==="")return null;const B=Number(A);if(!Number.isNaN(B)&&B!==1/0)return B;const q=x.reduce((I,$)=>{if(I)return I;const K=l(A,$,!0);return K.isValid()?K:null},null);if(q)return new Date(q.valueOf());const R=f[A];return R!==void 0?R:A},C=o.parse(g.parserOptions).on("data",A=>{v.addRow(A.map(S))}).on("end",()=>{C.emit("worksheet",v)});C.on("worksheet",y).on("error",m),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),x=o.format(g.formatterOptions);h.on("finish",()=>{y()}),x.on("error",m),x.pipe(h);const{dateFormat:S,dateUTC:C}=g,A=g.map||(R=>{if(R){if(R.text||R.hyperlink)return R.hyperlink||R.text||"";if(R.formula||R.result)return R.result||"";if(R instanceof Date)return S?C?l.utc(R).format(S):l(R).format(S):C?l.utc(R).format():l(R).format();if(R.error)return R.error;if(typeof R=="object")return JSON.stringify(R)}return R}),B=g.includeEmptyRows===void 0||g.includeEmptyRows;let q=1;v&&v.eachRow((R,I)=>{if(B)for(;q++<I-1;)x.write([]);const{values:$}=R;$.shift(),x.write($.map(A)),q=I}),x.end()})}writeFile(h,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=a.createWriteStream(h,y);return this.write(m,g)}async writeBuffer(h){const g=new d;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const a=e("../utils/col-cache");class o{constructor(u,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,l)if(typeof l=="string"){const p=a.decodeAddress(l);this.nativeCol=p.col+d,this.nativeColOff=0,this.nativeRow=p.row+d,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+d,this.row=l.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof o||u==null?u:new o(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(e,n,s){const a=e("../utils/col-cache"),o=e("../utils/under-dash"),c=e("./enums"),{slideFormula:u}=e("../utils/shared-formula"),l=e("./note");class d{constructor(h,g,y){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,a.validateAddress(y),this._address=y,this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,y){const m=h&&h.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=h&&h.font||g&&g.font;v&&(y.font=v);const x=h&&h.alignment||g&&g.alignment;x&&(y.alignment=x);const S=h&&h.border||g&&g.border;S&&(y.border=S);const C=h&&h.fill||g&&g.fill;C&&(y.fill=C);const A=h&&h.protection||g&&g.protection;return A&&(y.protection=A),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(h,g){this._value.release(),this._value=p.create(d.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===d.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==d.Types.Merge?(this._value.release(),this._value=p.create(p.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new l(h)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===d.Types.String&&(this._value=p.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=p.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=l.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}d.Types=c.ValueType;const p={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=y=>{const m=f[y];m&&(h[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(p.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?c.ValueType.Null:f instanceof String||typeof f=="string"?c.ValueType.String:typeof f=="number"?c.ValueType.Number:f instanceof Date?c.ValueType.Date:f.text&&f.hyperlink?c.ValueType.Hyperlink:f.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&u(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(h,g)}};n.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const a=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache");class u{constructor(d,p,f){this._worksheet=d,this._number=p,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((p,f)=>{this._worksheet.getCell(f+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,p){const f=this.number;p||(p=d,d=null),this._worksheet.eachRow(d,(h,g)=>{p(h.getCell(f),g)})}get values(){const d=[];return this.eachCell((p,f)=>{p&&p.type!==o.ValueType.Null&&(d[f]=p.value)}),d}set values(d){if(!d)return;const p=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((h,g)=>{this._worksheet.getCell(g+f,p).value=h})}_applyStyle(d,p){return this.style[d]=p,this.eachCell(f=>{f[d]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const p=[];let f=null;return d&&d.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},p.push(f))}),p.length?p:void 0}static fromModel(d,p){const f=[];let h=1,g=0;for(p=(p=p||[]).sort((function(y,m){return y.min-m.min}));g<p.length;){const y=p[g++];for(;h<y.min;)f.push(new u(d,h++));for(;h<=y.max;)f.push(new u(d,h++,y))}return f.length?f:null}}n.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(a){this.model=a||{}}add(a,o){return this.model[a]=o}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(e,n,s){const a=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("../utils/cell-matrix"),u=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new c)}add(d,p){const f=o.decodeEx(d);this.addEx(f,p)}addEx(d,p){const f=this.getMatrix(p);if(d.top)for(let h=d.left;h<=d.right;h++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:o.n2l(h)+g,row:g,col:h};f.addCellEx(y)}else f.addCellEx(d)}remove(d,p){const f=o.decodeEx(d);this.removeEx(f,p)}removeEx(d,p){this.getMatrix(p).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,p=>{p.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(p,f)=>{p.forEach(h=>{d(f,h)})})}getNames(d){return this.getNamesEx(o.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(p,f)=>p.findCellEx(d)&&f).filter(Boolean)}_explore(d,p){p.mark=!1;const{sheetName:f}=p,h=new u(p.row,p.col,p.row,p.col,f);let g,y;function m(x,S){const C=d.findCellAt(f,x,p.col);return!(!C||!C.mark)&&(h[S]=x,C.mark=!1,!0)}for(y=p.row-1;m(y,"top");y--);for(y=p.row+1;m(y,"bottom");y++);function v(x,S){const C=[];for(y=h.top;y<=h.bottom;y++){const A=d.findCellAt(f,y,x);if(!A||!A.mark)return!1;C.push(A)}h[S]=x;for(let A=0;A<C.length;A++)C[A].mark=!1;return!0}for(g=p.col-1;v(g,"left");g--);for(g=p.col+1;v(g,"right");g++);return h}getRanges(d,p){return(p=p||this.matrixMap[d])?(p.forEach(f=>{f.mark=!0}),{name:d,ranges:p.map(f=>f.mark&&this._explore(p,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,p){d.forEachInSheet(p,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=o.n2l(g)+h))})}spliceRows(d,p,f,h){a.each(this.matrixMap,g=>{g.spliceRows(d,p,f,h),this.normaliseMatrix(g,d)})}spliceColumns(d,p,f,h){a.each(this.matrixMap,g=>{g.spliceColumns(d,p,f,h),this.normaliseMatrix(g,d)})}get model(){return a.map(this.matrixMap,(d,p)=>this.getRanges(p,d)).filter(d=>d.ranges.length)}set model(d){const p=this.matrixMap={};d.forEach(f=>{const h=p[f.name]=new c;f.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const a=e("../utils/col-cache"),o=e("./anchor");n.exports=class{constructor(c,u){this.worksheet=c,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:u,imageId:l,range:d,hyperlinks:p}=c;if(this.type=u,this.imageId=l,u==="image")if(typeof d=="string"){const f=a.decode(d);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,d.tl,0),br:d.br&&new o(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:p||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const a=e("../utils/under-dash");class o{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return a.deepMerge({},o.DEFAULT_CONFIGS,u)}set model(u){const{note:l}=u,{texts:d}=l;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=l}static fromModel(u){const l=new o;return l.model=u,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(e,n,s){const a=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(u,l,d,p,f){if(arguments.length<4){const h=a.decodeAddress(u),g=a.decodeAddress(l);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:d},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(l,p),bottom:Math.max(u,d),right:Math.max(l,p),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const l=u[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const d=a.decodeEx(l);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,l,d,p){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(u){if(u){const{dimensions:l,number:d}=u;l&&this.expand(d,l.min,d,l.max)}}expandToAddress(u){const l=a.decodeEx(u);this.expand(l.row,l.col,l.row,l.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const l=a.decodeEx(u);return this.containsEx(l)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let l=this.left;l<=this.right;l++)for(let d=this.top;d<=this.bottom;d++)u(a.encodeAddress(d,l),d,l)}}n.exports=o},{"../utils/col-cache":19}],11:[function(e,n,s){const a=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache"),u=e("./cell");n.exports=class{constructor(l,d){this._worksheet=l,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let d=this._cells[l.col-1];if(!d){const p=this._worksheet.getColumn(l.col);d=new u(this,p,l.address),this._cells[l.col-1]=d}return d}getCell(l){if(typeof l=="string"){const d=this._worksheet.getColumnKey(l);l=d?d.number:c.l2n(l)}return this._cells[l-1]||this.getCellEx({address:c.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,d){const p=l+d;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const y=h.length-d,m=this._cells.length;let v,x,S;if(y<0)for(v=l+h.length;v<=m;v++)S=this._cells[v-1],x=this._cells[v-y-1],x?(S=this.getCell(v),S.value=x.value,S.style=x.style,S._comment=x._comment):S&&(S.value=null,S.style={},S._comment=void 0);else if(y>0)for(v=m;v>=p;v--)x=this._cells[v-1],x?(S=this.getCell(v+y),S.value=x.value,S.style=x.style,S._comment=x._comment):this._cells[v+y-1]=void 0;for(v=0;v<h.length;v++)S=this.getCell(l+v),S.value=h[v],S.style={},S._comment=void 0}eachCell(l,d){if(d||(d=l,l=null),l&&l.includeEmpty){const p=this._cells.length;for(let f=1;f<=p;f++)d(this.getCell(f),f)}else this._cells.forEach((p,f)=>{p&&p.type!==o.ValueType.Null&&d(p,f+1)})}addPageBreak(l,d){const p=this._worksheet,f=Math.max(0,l-1)||0,h=Math.max(0,d-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),p.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&(l[d.col]=d.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((p,f)=>{p!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=p)})}else this._worksheet.eachColumnKey((d,p)=>{l[p]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=l[p])})}get hasValues(){return a.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,d=0;return this._cells.forEach(p=>{p&&p.type!==o.ValueType.Null&&((!l||l>p.col)&&(l=p.col),d<p.col&&(d=p.col))}),l>0?{min:l,max:d}:null}_applyStyle(l,d){return this.style[l]=d,this._cells.forEach(p=>{p&&(p[l]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let d=0,p=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!d||d>f.col)&&(d=f.col),p<f.col&&(p=f.col),l.push(h))}}),this.height||l.length?{cells:l,number:this.number,min:d,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],l.cells.forEach(p=>{switch(p.type){case u.Types.Merge:break;default:{let f;if(p.address)f=c.decodeAddress(p.address);else if(d){const{row:h}=d,g=d.col+1;f={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}d=f,this.getCellEx(f).model=p;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const a=e("../utils/col-cache");class o{constructor(u,l,d){this.table=u,this.column=l,this.index=d}_set(u,l){this.table.cacheState(),this.column[u]=l}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}n.exports=class{constructor(c,u){this.worksheet=c,u&&(this.table=u,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(c,"headerRow",!0),u(c,"totalsRow",!1),u(c,"style",{}),u(c.style,"theme","TableStyleMedium2"),u(c.style,"showFirstColumn",!1),u(c.style,"showLastColumn",!1),u(c.style,"showRowStripes",!1),u(c.style,"showColumnStripes",!1);const l=(y,m)=>{if(!y)throw new Error(m)};l(c.ref,"Table must have ref"),l(c.columns,"Table must have column definitions"),l(c.rows,"Table must have row definitions"),c.tl=a.decodeAddress(c.ref);const{row:d,col:p}=c.tl;l(d>0,"Table must be on valid row"),l(p>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=a.encode(d,p,d+h-1,p+f-1),c.tableRef=a.encode(d,p,d+g-1,p+f-1),c.columns.forEach((y,m)=>{l(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(y=>{h[y]=g[y]})},{worksheet:u,table:l}=this,{row:d,col:p}=l.tl;let f=0;if(l.headerRow){const h=u.getRow(d+f++);l.columns.forEach((g,y)=>{const{style:m,name:v}=g,x=h.getCell(p+y);x.value=v,c(x,m)})}if(l.rows.forEach(h=>{const g=u.getRow(d+f++);h.forEach((y,m)=>{const v=g.getCell(p+m);v.value=y,c(v,l.columns[m].style)})}),l.totalsRow){const h=u.getRow(d+f++);l.columns.forEach((g,y)=>{const m=h.getCell(p+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:u}=this,{row:l,col:d}=u.tl;let p=0;if(u.headerRow){const f=c.getRow(l+p++);u.columns.forEach((h,g)=>{f.getCell(d+g).value=h.name})}if(u.rows.forEach(f=>{const h=c.getRow(l+p++);f.forEach((g,y)=>{h.getCell(d+y).value=g})}),u.totalsRow){const f=c.getRow(l+p++);u.columns.forEach((h,g)=>{const y=f.getCell(d+g);g===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=this.width;d<this._cache.width;d++)l.getCell(c.col+d).value=null}}this.store()}addRow(c,u){this.cacheState(),u===void 0?this.table.rows.push(c):this.table.rows.splice(u,0,c)}removeRows(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,u)}getColumn(c){const u=this.table.columns[c];return new o(this,u,c)}addColumn(c,u,l){this.cacheState(),l===void 0?(this.table.columns.push(c),this.table.rows.forEach((d,p)=>{d.push(u[p])})):(this.table.columns.splice(l,0,c),this.table.rows.forEach((d,p)=>{d.splice(l,0,u[p])}))}removeColumns(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,u),this.table.rows.forEach(l=>{l.splice(c,u)})}_assign(c,u,l){this.cacheState(),c[u]=l}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,s){const a=e("./worksheet"),o=e("./defined-names"),c=e("../xlsx/xlsx"),u=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,d){const p=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),h=Object.assign({},d,{id:p,name:l,orderNo:f+1,workbook:this}),g=new a(h);return this._worksheets[p]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const d=this.getWorksheet(l);d&&d.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(d=>d&&d.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,d)=>l.orderNo-d.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(d=>{l(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const d=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),d}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(d=>{const{id:p,name:f,state:h}=d,g=l.sheets&&l.sheets.findIndex(y=>y.id===p);(this._worksheets[p]=new a({id:p,name:f,orderNo:g,state:h,workbook:this})).model=d}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const a=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("./range"),u=e("./row"),l=e("./column"),d=e("./enums"),p=e("./image"),f=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(v=>{if(v){const x=v.dimensions;x&&m.expand(v.number,x.min,v.number,x.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((S,C)=>{const A=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(S,A)},0);let v=1;const x=this._columns=[];m.forEach(S=>{const C=new l(this,v++,!1);x.push(C),C.defn=S})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new l(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const x=this._rows.length;for(var S=arguments.length,C=new Array(S>2?S-2:0),A=2;A<S;A++)C[A-2]=arguments[A];if(C.length>0)for(let I=0;I<x;I++){const $=[m,v];C.forEach(U=>{$.push(U[I]||null)});const K=this.getRow(I+1);K.splice.apply(K,$)}else this._rows.forEach(I=>{I&&I.splice(m,v)});const B=C.length-v,q=m+v,R=this._columns.length;if(B<0)for(let I=m+C.length;I<=R;I++)this.getColumn(I).defn=this.getColumn(I-B).defn;else if(B>0)for(let I=R;I>=q;I--)this.getColumn(I+B).defn=this.getColumn(I).defn;for(let I=m;I<m+C.length;I++)this.getColumn(I).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(x=>{x.eachCell(S=>{let{col:C}=S;m[C]||(m[C]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const x=[];for(let S=m;S<m+v;S++)x.push(this.getRow(S));return x}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,S=this.getRow(x);return S.values=m,this._setStyleOption(x,v[0]==="i"?v:"n"),S}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return m.forEach(S=>{x.push(this.addRow(S,v))}),x}insertRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,x),this.getRow(m)}insertRows(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),x!=="n")for(let S=0;S<v.length;S++)x[0]==="o"&&this.findRow(v.length+m+S)!==void 0?this._copyStyle(v.length+m+S,m+S,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+S,x[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this.getRow(m),C=this.getRow(v);C.style=y(S.style),S.eachCell({includeEmpty:x},(A,B)=>{C.getCell(B).style=y(A.style)}),C.height=S.height}duplicateRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this._rows[m-1],C=new Array(v).fill(S.values);this.spliceRows(m+1,x?0:v,...C);for(let A=0;A<v;A++){const B=this._rows[m+A];B.style=S.style,B.height=S.height,S.eachCell({includeEmpty:!0},(q,R)=>{B.getCell(R).style=q.style})}}spliceRows(m,v){const x=m+v;for(var S=arguments.length,C=new Array(S>2?S-2:0),A=2;A<S;A++)C[A-2]=arguments[A];const B=C.length,q=B-v,R=this._rows.length;let I,$;if(q<0)for(m===R&&(this._rows[R-1]=void 0),I=x;I<=R;I++)if($=this._rows[I-1],$){const K=this.getRow(I+q);K.values=$.values,K.style=$.style,K.height=$.height,$.eachCell({includeEmpty:!0},(U,P)=>{K.getCell(P).style=U.style}),this._rows[I-1]=void 0}else this._rows[I+q-1]=void 0;else if(q>0)for(I=R;I>=x;I--)if($=this._rows[I-1],$){const K=this.getRow(I+q);K.values=$.values,K.style=$.style,K.height=$.height,$.eachCell({includeEmpty:!0},(U,P)=>{if(K.getCell(P).style=U.style,U._value.constructor.name==="MergeValue"){const L=this.getRow(U._row._number+B).getCell(P),T=U._value._master,_=this.getRow(T._row._number+B).getCell(T._column._number);L.merge(_)}})}else this._rows[I+q-1]=void 0;for(I=0;I<B;I++){const K=this.getRow(m+I);K.style={},K.values=C[I]}this.workbook.definedNames.spliceRows(this.name,m,v,B)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const x=this._rows.length;for(let S=1;S<=x;S++)v(this.getRow(S),S)}else this._rows.forEach(x=>{x&&x.hasValues&&v(x,x.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const x=o.getAddress(m,v),S=this._rows[x.row-1];return S?S.findCell(x.col):void 0}getCell(m,v){const x=o.getAddress(m,v);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);this._mergeCellsInternal(S)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);this._mergeCellsInternal(S,!0)}_mergeCellsInternal(m,v){a.each(this._merges,S=>{if(S.intersects(m))throw new Error("Cannot merge already merged cells")});const x=this.getCell(m.top,m.left);for(let S=m.top;S<=m.bottom;S++)for(let C=m.left;C<=m.right;C++)(S>m.top||C>m.left)&&this.getCell(S,C).merge(x,v);this._merges[x.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let x=v.top;x<=v.bottom;x++)for(let S=v.left;S<=v.right;S++)this.getCell(x,S).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);for(let C=S.top;C<=S.bottom;C++)for(let A=S.left;A<=S.right;A++){const B=this.findCell(C,A);B&&(B.type===d.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(m,v,x){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=o.decode(m),{top:A,left:B,bottom:q,right:R}=C,I=R-B+1,$=o.encodeAddress(A,B),K=S==="shared";let U;U=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(L,T)=>x[L-A][T-B]:(L,T)=>x[(L-A)*I+(T-B)]:()=>{};let P=!0;for(let L=A;L<=q;L++)for(let T=B;T<=R;T++)P?(this.getCell(L,T).value={shareType:S,formula:v,ref:m,result:U(L,T)},P=!1):this.getCell(L,T).value=K?{sharedFormula:$,result:U(L,T)}:U(L,T)}addImage(m,v){const x={type:"image",imageId:m,range:v};this._media.push(new p(this,x))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new p(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(x=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(S=>S.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(S=>S.model),conditionalFormattings:this.conditionalFormattings};m.cols=l.toModel(this.columns);const v=m.rows=[],x=m.dimensions=new c;return this._rows.forEach(S=>{const C=S&&S.model;C&&(x.expand(C.number,C.min,C.number,C.max),v.push(C))}),m.merges=[],a.each(this._merges,S=>{m.merges.push(S.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const x=new u(this,v.number);this._rows[x.number-1]=x,x.model=v})}_parseMergeCells(m){a.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=l.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new p(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,x)=>{const S=new f;return S.model=x,v[x.name]=S,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const a={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(c=>{a[c]=o[c]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:a?a.decode(o):o.toString()}},{}],17:[function(e,n,s){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");s.stringToBuffer=function(c){return typeof c!="string"?c:a?o.from(a.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(e,n,s){const a=e("./under-dash"),o=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,u,l){const d=this.sheets[c],p=d&&d[u];return p&&p[l]}addCellEx(c){if(c.top)for(let u=c.top;u<=c.bottom;u++)for(let l=c.left;l<=c.right;l++)this.getCellAt(c.sheetName,u,l);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,u){const l=this.findSheet(c,u),d=this.findSheetRow(l,c,u);return this.findRowCell(d,c,u)}getCellAt(c,u,l){const d=this.sheets[c]||(this.sheets[c]=[]),p=d[u]||(d[u]=[]);return p[l]||(p[l]={sheetName:c,address:o.n2l(l)+u,row:u,col:l})}removeCellEx(c){const u=this.findSheet(c);if(!u)return;const l=this.findSheetRow(u,c);l&&delete l[c.col]}forEachInSheet(c,u){const l=this.sheets[c];l&&l.forEach((d,p)=>{d&&d.forEach((f,h)=>{f&&u(f,p,h)})})}forEach(c){a.each(this.sheets,(u,l)=>{this.forEachInSheet(l,c)})}map(c){const u=[];return this.forEach(l=>{u.push(c(l))}),u}findSheet(c,u){const l=c.sheetName;return this.sheets[l]?this.sheets[l]:u?this.sheets[l]=[]:void 0}findSheetRow(c,u,l){const{row:d}=u;return c&&c[d]?c[d]:l?c[d]=[]:void 0}findRowCell(c,u,l){const{col:d}=u;return c&&c[d]?c[d]:l?c[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(c,u,l,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push([]);p.splice(u,l,...f)}}spliceColumns(c,u,l,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push(null);a.each(p,h=>{h.splice(u,l,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const a=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let u,l,d,p,f,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)u=this._dictionary[h-1],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)l=h-27,d=l%26,p=Math.floor(l/26),u=this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)l=h-703,d=l%26,p=Math.floor(l/26)%26,f=Math.floor(l/676),u=this._dictionary[f]+this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!a.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const u=c.length<5&&this._hash[c];if(u)return u;let l=!1,d="",p=0,f=!1,h="",g=0;for(let m,v=0;v<c.length;v++)if(m=c.charCodeAt(v),!f&&m>=65&&m<=90)l=!0,d+=c[v],p=26*p+m-64;else if(m>=48&&m<=57)f=!0,h+=c[v],g=10*g+m-48;else if(f&&l&&m!==36)break;if(l){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else p=void 0;f||(g=void 0);const y={address:c=d+h,col:p,row:g,$col$row:`$${d}$${h}`};return p<=100&&g<=100&&(this._hash[c]=y,this._hash[y.$col$row]=y),y},getAddress(c,u){if(u){const l=this.n2l(u)+c;return this.decodeAddress(l)}return this.decodeAddress(c)},decode(c){const u=c.split(":");if(u.length===2){const l=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),p={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(c)},decodeEx(c){const u=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=u[1]||u[2],d=u[3],p=d.split(":");if(p.length>1){let h=this.decodeAddress(p[0]),g=this.decodeAddress(p[1]);const y=Math.min(h.row,g.row),m=Math.min(h.col,g.col),v=Math.max(h.row,g.row),x=Math.max(h.col,g.col);return h=this.n2l(m)+y,g=this.n2l(x)+v,{top:y,left:m,bottom:v,right:x,sheetName:l,tl:{address:h,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},br:{address:g,col:x,row:v,$col$row:`$${this.n2l(x)}$${v}`,sheetName:l},dimensions:`${h}:${g}`}}if(d.startsWith("#"))return l?{sheetName:l,error:d}:{error:d};const f=this.decodeAddress(d);return l?{sheetName:l,...f}:f},encodeAddress:(c,u)=>o.n2l(u)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,u){const[l,d,,p,f]=c,[h,g]=u;return h>=l&&h<=p&&g>=d&&g<=f}};n.exports=o},{}],20:[function(e,n,s){const a=(c,u)=>({...c,...u.reduce((l,d)=>(c[d]&&(l[d]={...c[d]}),l),{})}),o=function(c,u,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[l]&&(u[l]=a(c[l],d))};s.copyStyle=c=>{if(!c)return c;if(u=c,Object.keys(u).length===0)return{};var u;const l={...c};return o(c,l,"font",["color"]),o(c,l,"alignment"),o(c,l,"protection"),c.border&&(o(c,l,"border"),o(c.border,l.border,"top",["color"]),o(c.border,l.border,"left",["color"]),o(c.border,l.border,"bottom",["color"]),o(c.border,l.border,"right",["color"]),o(c.border,l.border,"diagonal",["color"])),c.fill&&(o(c,l,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(l.fill.stops=c.fill.stops.map(d=>a(d,["color"])))),l}},{}],21:[function(e,n,s){(function(a){(function(){const o=e("crypto"),c={hash(u){const l=o.createHash(u);for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return l.update(a.concat(p)),l.digest()},convertPasswordToHash(u,l,d,p){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const f=a.from(u,"utf16le");let h=this.hash(l,a.from(d,"base64"),f);for(let g=0;g<p;g++){const y=a.alloc(4);y.writeUInt32LE(g,0),h=this.hash(l,h,y)}return h.toString("base64")},randomBytes:u=>o.randomBytes(u)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:a}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new o));const l=new a;let d;l.on("error",f=>{d=f});let p=[];l.on("opentag",f=>p.push({eventType:"opentag",value:f})),l.on("text",f=>p.push({eventType:"text",value:f})),l.on("closetag",f=>p.push({eventType:"closetag",value:f}));for await(const f of u){if(l.write(c(f)),d)throw d;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const a=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(u,l,d){const p=a.decode(l),f=a.decode(d);return u.replace(o,(h,g,y,m,v)=>{if(v)return h;const x=c.exec(m);if(x){const S=x[1],C=x[2].toUpperCase(),A=x[3],B=x[4];if(C.length>3||C.length===3&&C>"XFD")return h;let q=a.l2n(C),R=parseInt(B,10);return S||(q+=f.col-p.col),A||(R+=f.row-p.row),(g||"")+(S||"")+a.n2l(q)+(A||"")+R}return h})}}},{"./col-cache":19}],24:[function(e,n,s){(function(a,o){(function(){const c=e("readable-stream"),u=e("./utils"),l=e("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,x,S){return this.toBuffer().copy(m,v,x,S)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class p{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,S){return this._data._buf.copy(m,v,x,S)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,S){this._data.copy(m,v,x,S)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=o.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,x){const S=Math.min(x,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+S),this.iWrite+=S,S}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let x;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof l)x=new p(y);else if(y instanceof o)x=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),a.nextTick(v)):(await this._pipe(x),v());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const x=S=>{S?v(S):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,m,x):x()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],x=v.read(y);y-=x.length,m.push(x),v.eod&&v.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(a){(function(){n.exports=class{constructor(o){this._buf=a.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const u=a.alloc(c);this._buf.copy(u,0),this._buf=u}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:a}=Object.prototype,o=/["&<>]/,c={each:function(u,l){u&&(Array.isArray(u)?u.forEach(l):Object.keys(u).forEach(d=>{l(u[d],d)}))},some:function(u,l){return!!u&&(Array.isArray(u)?u.some(l):Object.keys(u).some(d=>l(u[d],d)))},every:function(u,l){return!u||(Array.isArray(u)?u.every(l):Object.keys(u).every(d=>l(u[d],d)))},map:function(u,l){return u?Array.isArray(u)?u.map(l):Object.keys(u).map(d=>l(u[d],d)):[]},keyBy:(u,l)=>u.reduce((d,p)=>(d[p[l]]=p,d),{}),isEqual:function(u,l){const d=typeof u,p=typeof l,f=Array.isArray(u),h=Array.isArray(l);let g;if(d!==p)return!1;switch(typeof u){case"object":if(f||h)return!(!f||!h)&&u.length===l.length&&u.every((y,m)=>{const v=l[m];return c.isEqual(y,v)});if(u===null||l===null)return u===l;if(g=Object.keys(u),Object.keys(l).length!==g.length)return!1;for(const y of g)if(!l.hasOwnProperty(y))return!1;return c.every(u,(y,m)=>{const v=l[m];return c.isEqual(y,v)});default:return u===l}},escapeHtml(u){const l=o.exec(u);if(!l)return u;let d="",p="",f=0,h=l.index;for(;h<u.length;h++){switch(u.charAt(h)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}f!==h&&(d+=u.substring(f,h)),f=h+1,d+=p}return f!==h?d+u.substring(f,h):d},strcmp:(u,l)=>u<l?-1:u>l?1:0,isUndefined:u=>a.call(u)==="[object Undefined]",isObject:u=>a.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:l}=arguments;let d,p,f;function h(g,y){d=u[y],f=Array.isArray(g),c.isObject(g)||f?(f?(f=!1,p=d&&Array.isArray(d)?d:[]):p=d&&c.isObject(d)?d:{},u[y]=c.deepMerge(p,g)):c.isUndefined(g)||(u[y]=g)}for(let g=0;g<l;g++)c.each(arguments[g],h);return u}};n.exports=c},{}],27:[function(e,n,s){(function(a,o){(function(){const c=e("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:d=>new Promise(p=>{a.setImmediate?o(()=>{p(d)}):setTimeout(()=>{p(d)},1)}),inherits:function(d,p,f,h){d.super_=p,h||(h=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(h,y)}),d.prototype=Object.create(p.prototype,g)},dateToExcel:(d,p)=>25569+d.getTime()/864e5-(p?1462:0),excelToDate(d,p){const f=Math.round(24*(d-25569+(p?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const p=d.lastIndexOf("/");return{path:d.substring(0,p),name:d.substring(p+1)}},getRelsPath(d){const p=l.parsePath(d);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(d){const p=u.exec(d);if(!p)return d;let f="",h="",g=0,y=p.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,h&&(f+=h)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(d){const p=parseInt(d,10);return Number.isNaN(p)?0:p},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(p=>{c.access(d,c.constants.F_OK,f=>{p(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};n.exports=l}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const a=e("./under-dash"),o=e("./utils");function c(d,p,f){d.push(` ${p}="${o.xmlEncode(f.toString())}"`)}function u(d,p){if(p){const f=[];a.each(p,(h,g)=>{h!==void 0&&c(f,g,h)}),d.push(f.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const f=this._xml;f.push("<?xml"),u(f,p),f.push(`?>
`)}openNode(p,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(p),g.push("<"),g.push(p),u(g,f),this.leaf=!0,this.open=!0}addAttribute(p,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&c(this._xml,p,f)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,p)}writeText(p){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(p),f.push(">")),this.open=!1,this.leaf=!1}leafNode(p,f,h){this.openNode(p,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(a){(function(){const o=e("events"),c=e("jszip"),u=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class d extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new c,this.stream=new u}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(a.browser&&typeof f=="string"&&(f=l(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:d}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const a=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof c?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const d of l)for(const{eventType:p,value:f}of d)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(l){return this.parse(a(l))}get xml(){return this.toXml(this.model)}toXml(l){const d=new o;return this.render(d,l),d.xml}static toAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l.toString()}static toStringAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toStringValue(l,d){return l===void 0?d:l}static toBoolAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l?"1":"0"}static toBoolValue(l,d){return l===void 0?d:l==="1"}static toIntAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toIntValue(l,d){return l===void 0?d:parseInt(l,10)}static toFloatAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toFloatValue(l,d){return l===void 0?d:parseFloat(l)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const a=e("../base-xform"),o=e("../../../utils/col-cache");function c(l){try{return o.decodeEx(l),!0}catch{return!1}}function u(l){const d=[];let p=!1,f="";return l.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(p?f+=h+",":c(h)&&d.push(h));const y=g%2==0;!p&&y&&c(h)?d.push(h):p&&!y?(p=!1,c(f+h)&&d.push(f+h),f=""):(p=!0,f+=h+",")}),d}n.exports=class extends a{render(l,d){l.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),l.writeText(d.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const a=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{render(c,u){c.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:a.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){const u={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(u.visibility=c.visibility),o.leafNode("workbookView",u)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},u=function(d,p,f){const h=p!==void 0?c[d]=p:f;h!==void 0&&(c[d]=h)},l=function(d,p,f){const h=p!==void 0?c[d]=parseInt(p,10):f;h!==void 0&&(c[d]=h)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),u("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../base-xform"),l=e("../static-xform"),d=e("../list-xform"),p=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new h}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new p}),calcPr:new y}}prepare(x){x.sheets=x.worksheets;const S=[];let C=0;x.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(B=>{const q=B.split(":"),R={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${q[0]}:$${q[1]}`],localSheetId:C};S.push(R)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const B=[];if(A.pageSetup.printTitlesColumn){const R=A.pageSetup.printTitlesColumn.split(":");B.push(`'${A.name}'!$${R[0]}:$${R[1]}`)}if(A.pageSetup.printTitlesRow){const R=A.pageSetup.printTitlesRow.split(":");B.push(`'${A.name}'!$${R[0]}:$${R[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:B,localSheetId:C};S.push(q)}C++}),S.length&&(x.definedNames=x.definedNames.concat(S)),(x.media||[]).forEach((A,B)=>{A.name=A.type+(B+1)})}render(x,S){x.openXml(c.StdDocAttributes),x.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,S.properties),this.map.bookViews.render(x,S.views),this.map.sheets.render(x,S.sheets),this.map.definedNames.render(x,S.definedNames),this.map.calcPr.render(x,S.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const S=(x.workbookRels||[]).reduce((R,I)=>(R[I.Id]=I,R),{}),C=[];let A,B=0;(x.sheets||[]).forEach(R=>{const I=S[R.rId];I&&(A=x.worksheetHash["xl/"+I.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=R.name,A.id=R.id,A.state=R.state,C[B++]=A))});const q=[];a.each(x.definedNames,R=>{if(R.name==="_xlnm.Print_Area"){if(A=C[R.localSheetId],A){A.pageSetup||(A.pageSetup={});const I=o.decodeEx(R.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${I.dimensions}`:I.dimensions}}else if(R.name==="_xlnm.Print_Titles"){if(A=C[R.localSheetId],A){A.pageSetup||(A.pageSetup={});const I=R.ranges.join(","),$=/\$/g,K=/\$\d+:\$\d+/,U=I.match(K);if(U&&U.length){const T=U[0];A.pageSetup.printTitlesRow=T.replace($,"")}const P=/\$[A-Z]+:\$[A-Z]+/,L=I.match(P);if(L&&L.length){const T=L[0];A.pageSetup.printTitlesColumn=T.replace($,"")}}}else q.push(R)}),x.definedNames=q,x.media.forEach((R,I)=>{R.index=I})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const a=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),c=e("../base-xform"),u=n.exports=function(l){this.model=l};o.inherits(u,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(l,d){d=d||this.model,l.openNode("comment",{ref:d.ref,authorId:0}),l.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(p=>{this.richTextXform.render(l,p)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),c=e("../base-xform"),u=e("./comment-xform"),l=n.exports=function(){this.map={comment:new u}};o.inherits(l,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,p){p=p||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",l.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),p.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,u){(c===u[2]||this.tag==="x:SizeWithCells"&&c===u[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),u=Math.floor(68*(o.left-c)),l=Math.floor(o.top),d=Math.floor(18*(o.top-l)),p=Math.floor(o.right),f=Math.floor(68*(o.right-p)),h=Math.floor(o.bottom);return[c,u,l,d,p,f,h,Math.floor(18*(o.bottom-h))]}getDefaultRect(o){const c=o.col,u=Math.max(o.row-2,0);return[c,6,u,14,c+2,2,u+4,16]}render(o,c){const u=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,u.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const a=e("../base-xform"),o=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),u=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,p){const{protection:f,editAs:h}=p.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,h,l),this.map["x:SizeWithCells"].render(d,h,l),this.map["x:Anchor"].render(d,p),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,p.refAddress.row-1),d.leafNode("x:Column",null,p.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(d).length;this.model.editAs=l[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./vml-shape-xform");class u extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(d,p){d.openXml(a.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),p.comments.forEach((f,h)=>{this.map["v:shape"].render(d,f,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const a=e("../base-xform"),o=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class u extends a{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(d,p,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(p,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,p),this.map["x:ClientData"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(l,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(o,c,u){return`${parseFloat(o)*c.toFixed(2)}${u}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const u={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:l}=c.note&&c.note.margins;Array.isArray(l)&&(l=l.map(d=>this.conversionUnit(d,10,"mm")).join(",")),l&&(u.inset=l)}o.openNode("v:textbox",u),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const a=e("./base-xform");n.exports=class extends a{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(u=>{o.leafNode("vt:lpstr",void 0,u.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/string-xform"),u=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class d extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new l}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform");class c extends o{render(l,d){l.openXml(a.StdDocAttributes),l.openNode("Types",c.PROPERTY_ATTRIBUTES);const p={};(d.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;p[h]||(p[h]=!0,l.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;l.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{l.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{l.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:h}=f;l.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/date-xform"),u=e("../simple/string-xform"),l=e("../simple/integer-xform");class d extends o{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./relationship-xform");class u extends o{constructor(){super(),this.map={Relationship:new c}}render(d,p){p=p||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),p.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const u=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const l=u[1],d=c.mediaIndex[l];return c.media[d]}}}}},{"../base-xform":32}],57:[function(e,n,s){const a=e("../base-xform"),o=e("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,u){c.openNode(this.tag),this.map["a:blip"].render(c,u),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const a=e("../base-xform"),o=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(u,l){u.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(u,l),this.map["a:extLst"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const a=e("../base-xform"),o=e("../simple/integer-xform");n.exports=class extends a{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,u){c.openNode(this.tag),this.map["xdr:col"].render(c,u.nativeCol),this.map["xdr:colOff"].render(c,u.nativeColOff),this.map["xdr:row"].render(c,u.nativeRow),this.map["xdr:rowOff"].render(c,u.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const a=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class d extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new l}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=(function(y){return(typeof y.range=="string"?a.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(o.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const u=Math.floor(9525*c.width),l=Math.floor(9525*c.height);o.addAttribute("cx",u),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const a=e("../base-xform"),o=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(u,l){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,l),this.map["xdr:cNvPicPr"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const a=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./ext-xform"),l=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,p){this.map["xdr:pic"].prepare(d.picture,p)}render(d,p){d.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,p.range.tl),this.map["xdr:ext"].render(d,p.range.ext),this.map["xdr:pic"].render(d,p.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,p){d.medium=this.reconcilePicture(d.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const a=e("../base-xform"),o=e("../static-xform"),c=e("./blip-fill-xform"),u=e("./nv-pic-pr-xform"),l=e("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new c,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(d,p){d.index=p.index+1}render(d,p){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,p),this.map["xdr:blipFill"].render(d,p),this.map["xdr:spPr"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const a=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:to"].render(l,d.range.br),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const a=e("./base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:u}=this;o&&o.forEach((l,d)=>{c.index=d,u.prepare(l,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:u}=this;(c||[]).forEach((l,d)=>{u.render(o,l,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:u}=this;o.forEach(l=>{u.reconcile(l,c)})}}}},{"./base-xform":32}],72:[function(e,n,s){const a=e("../../../utils/col-cache"),o=e("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(c,u){if(u)if(typeof u=="string")c.leafNode("autoFilter",{ref:u});else{const l=function(f){return typeof f=="string"?f:a.getAddress(f.row,f.column).address},d=l(u.from),p=l(u.to);d&&p&&c.leafNode("autoFilter",{ref:`${d}:${p}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const a=e("../../../utils/utils"),o=e("../base-xform"),c=e("../../../doc/range"),u=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function d(p){if(p==null)return u.ValueType.Null;if(p instanceof String||typeof p=="string")return u.ValueType.String;if(typeof p=="number")return u.ValueType.Number;if(typeof p=="boolean")return u.ValueType.Boolean;if(p instanceof Date)return u.ValueType.Date;if(p.text&&p.hyperlink)return u.ValueType.Hyperlink;if(p.formula)return u.ValueType.Formula;if(p.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(p,f){const h=f.styles.addStyleModel(p.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(p));switch(h&&(p.styleId=h),p.comment&&f.comments.push({...p.comment,ref:p.address}),p.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(p.ssId=f.sharedStrings.add(p.value));break;case u.ValueType.Date:f.date1904&&(p.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=f.sharedStrings.add(p.text)),f.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case u.ValueType.Merge:f.merges.add(p);break;case u.ValueType.Formula:if(f.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=f.siFormulae++),p.formula)f.formulae[p.address]=p;else if(p.sharedFormula){const g=f.formulae[p.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new c(g.address,p.address)):g.range&&g.range.expandToAddress(p.address),p.si=g.si}}}renderFormula(p,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:p.leafNode("f",h,f.formula);break;case u.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Number:p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result.error);break;case u.ValueType.Date:p.leafNode("f",h,f.formula),p.leafNode("v",null,a.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,f){if(f.type!==u.ValueType.Null||f.styleId){switch(p.openNode("c"),p.addAttribute("r",f.address),f.styleId&&p.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:p.leafNode("v",null,f.value);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(p,h)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,f.value));break;case u.ValueType.Date:p.leafNode("v",null,a.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(p,f);break;case u.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=a.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=a.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,f){const h=p.styleId&&f.styles&&f.styles.getStyleModel(p.styleId);switch(h&&(p.style=h),p.styleId!==void 0&&(p.styleId=void 0),p.type){case u.ValueType.String:typeof p.value=="number"&&f.sharedStrings&&(p.value=f.sharedStrings.getString(p.value)),p.value.richText&&(p.type=u.ValueType.RichText);break;case u.ValueType.Number:h&&a.isDateFmt(h.numFmt)&&(p.type=u.ValueType.Date,p.value=a.excelToDate(p.value,f.date1904));break;case u.ValueType.Formula:p.result!==void 0&&h&&a.isDateFmt(h.numFmt)&&(p.result=a.excelToDate(p.result,f.date1904)),p.shareType==="shared"&&(p.ref?f.formulae[p.si]=p.address:(p.sharedFormula=f.formulae[p.si],delete p.shareType),delete p.si)}const g=f.hyperlinkMap[p.address];g&&(p.type===u.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=u.ValueType.Hyperlink,p.hyperlink=g);const y=f.commentsMap&&f.commentsMap[p.address];y&&(p.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:a.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:a}=e("uuid"),o=e("../../base-xform"),c=e("../../composite-xform"),u=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?u.isExt(h):!(h.type!=="iconSet"||!h.custom&&!d[h.iconSet])}prepare(h){p.isExt(h)&&(h.x14Id=`{${a()}}`.toUpperCase())}render(h,g){if(p.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${a()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const a=e("../../composite-xform"),o=e("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,u){c.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(c,u.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,u){switch(c){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const a=e("../../composite-xform"),o=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(u,l){u.rules.forEach(d=>{this.cfRule.prepare(d,l)})}render(u,l){l.rules.some(c.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(c.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,l.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,l){switch(u){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const a=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(l=>l.rules.some(o.isExt))),u.hasExtContent}prepare(u,l){u.forEach(d=>{this.cfXform.prepare(d,l)})}render(u,l){this.hasContent(l)&&(u.openNode(this.tag),l.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../style/color-xform"),u=e("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,d){l.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),this.borderColorXform.render(l,d.borderColor),this.negativeBorderColorXform.render(l,d.negativeBorderColor),this.negativeFillColorXform.render(l,d.negativeFillColor),this.axisColorXform.render(l,d.axisColor),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-ext-xform"),u=e("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(l,d){l.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),d.icons&&d.icons.forEach((p,f)=>{p.iconId=f,this.cfIconXform.render(l,p)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../../../doc/range"),u=e("./databar-xform"),l=e("./ext-lst-ref-xform"),d=e("./formula-xform"),p=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:x}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:x}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,x){switch(x.type){case"expression":this.renderExpression(v,x);break;case"cellIs":this.renderCellIs(v,x);break;case"top10":this.renderTop10(v,x);break;case"aboveAverage":this.renderAboveAverage(v,x);break;case"dataBar":this.renderDataBar(v,x);break;case"colorScale":this.renderColorScale(v,x);break;case"iconSet":this.renderIconSet(v,x);break;case"containsText":this.renderText(v,x);break;case"timePeriod":this.renderTimePeriod(v,x)}}renderExpression(v,x){v.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(v,x.formulae[0]),v.closeNode()}renderCellIs(v,x){v.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(S=>{this.formulaXform.render(v,S)}),v.closeNode()}renderTop10(v,x){v.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:a.toBoolAttribute(x.percent,!1),bottom:a.toBoolAttribute(x.bottom,!1),rank:a.toIntValue(x.rank,10,!0)})}renderAboveAverage(v,x){v.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:a.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(v,x){v.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(v,x),this.extLstRefXform.render(v,x),v.closeNode()}renderColorScale(v,x){v.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(v,x),v.closeNode()}renderIconSet(v,x){y.isPrimitive(x)&&(v.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(v,x),v.closeNode())}renderText(v,x){v.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:a.toStringAttribute(x.operator,"containsText")});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const A=new c(C.ref),{tl:B}=A;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}})(x);S&&this.formulaXform.render(v,S),v.closeNode()}renderTimePeriod(v,x){v.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const A=new c(C.ref),{tl:B}=A;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);S&&this.formulaXform.render(v,S),v.closeNode()}createNewModel(v){let{attributes:x}=v;return{...g(x),dxfId:a.toIntValue(x.dxfId),priority:a.toIntValue(x.priority),timePeriod:x.timePeriod,percent:a.toBoolValue(x.percent),bottom:a.toBoolValue(x.bottom),rank:a.toIntValue(x.rank),aboveAverage:a.toBoolValue(x.aboveAverage)}}onParserClose(v,x){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:a.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const a=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),l.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const a=e("../../composite-xform"),o=e("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,u){u.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=u.ref,this.map.cfRule.render(c,l))}),c.closeNode())}createNewModel(c){let{attributes:u}=c;return{ref:u.sqref,rules:[]}}onParserClose(c,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const a=e("../../base-xform"),o=e("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,u){let l=c.reduce((d,p)=>Math.max(d,...p.rules.map(f=>f.priority||0)),1);c.forEach(d=>{d.rules.forEach(p=>{p.priority||(p.priority=l++),p.style&&(p.dxfId=u.styles.addDxfStyle(p.style))})})}render(c,u){u.forEach(l=>{this.cfXform.render(c,l)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,u){c.forEach(l=>{l.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const a=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,l.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,l){switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const a=e("../../base-xform"),o=e("../../composite-xform");class c extends a{get tag(){return"x14:id"}render(d,p){d.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(d,p){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,p.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,p){this.model.x14Id=p.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(l,d){l.openNode(this.tag),this.map.ext.render(l,d),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(u,l){u.openNode(this.tag,{iconSet:a.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(l.reverse,!1),showValue:a.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:l}=u;return{iconSet:a.toStringValue(l.iconSet,"3TrafficLights"),reverse:a.toBoolValue(l.reverse),showValue:a.toBoolValue(l.showValue),cfvo:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const a=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(c,u){const l=u.styles.addStyleModel(c.style||{});l&&(c.styleId=l)}render(c,u){c.openNode("col"),c.addAttribute("min",u.min),c.addAttribute("max",u.max),u.width&&c.addAttribute("width",u.width),u.styleId&&c.addAttribute("style",u.styleId),u.hidden&&c.addAttribute("hidden","1"),u.bestFit&&c.addAttribute("bestFit","1"),u.outlineLevel&&c.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const u=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(u.styleId=parseInt(c.attributes.style,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,u){c.styleId&&(c.style=u.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../../../utils/utils"),c=e("../../../utils/col-cache"),u=e("../base-xform"),l=e("../../../doc/range");function d(f,h,g,y){const m=h[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function p(f,h,g,y){const m=h[g];m!==void 0&&(f[g]=o.parseBoolean(m))}n.exports=class extends u{get tag(){return"dataValidations"}render(f,h){const g=(function(y){const m=a.map(y,(S,C)=>({address:C,dataValidation:S,marked:!1})).sort((S,C)=>a.strcmp(S.address,C.address)),v=a.keyBy(m,"address"),x=(S,C,A)=>{for(let B=0;B<C;B++){const q=c.encodeAddress(S.row+B,A);if(!y[q]||!a.isEqual(y[S.address],y[q]))return!1}return!0};return m.map(S=>{if(!S.marked){const C=c.decodeEx(S.address);if(C.dimensions)return v[C.dimensions].marked=!0,{...S.dataValidation,sqref:S.address};let A=1,B=c.encodeAddress(C.row+A,C.col);for(;y[B]&&a.isEqual(S.dataValidation,y[B]);)A++,B=c.encodeAddress(C.row+A,C.col);let q=1;for(;x(C,A,C.col+q);)q++;for(let R=0;R<A;R++)for(let I=0;I<q;I++)B=c.encodeAddress(C.row+R,C.col+I),v[B].marked=!0;if(A>1||q>1){const R=C.row+(A-1),I=C.col+(q-1);return{...S.dataValidation,sqref:`${S.address}:${c.encodeAddress(R,I)}`}}return{...S.dataValidation,sqref:S.address}}return null}).filter(Boolean)})(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(o.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&p(h,f.attributes,"allowBlank"),p(h,f.attributes,"showInputMessage"),p(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:d(h,f.attributes,"operator","between")}return d(h,f.attributes,"promptTitle"),d(h,f.attributes,"prompt"),d(h,f.attributes,"errorStyle"),d(h,f.attributes,"errorTitle"),d(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new l(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=o.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const a=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class c extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,d){this.conditionalFormattings.prepare(l.conditionalFormattings,d)}render(l,d){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,d.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model[l]=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(u,l){this.ext.prepare(u,l)}hasContent(u){return this.ext.hasContent(u)}render(u,l){this.hasContent(l)&&(u.openNode("extLst"),this.ext.render(u,l),u.closeNode())}createNewModel(){return{}}onParserClose(u,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let u=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),u=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),u=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),u=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),u=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),u=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),u=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),u=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),u=!0),u?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../../../doc/range"),c=e("../../../utils/col-cache"),u=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const d=`${l.master}:${l.address}`;this.merges[l.master]=new o(d)}}get mergeCells(){return a.map(this.merges,l=>l.range)}reconcile(l,d){a.each(l,p=>{const f=c.decode(p);for(let h=f.top;h<=f.bottom;h++){const g=d[h-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:c.encodeAddress(h,y)}}}})}getMasterAddress(l){const d=this.hash[l];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const a=e("../base-xform"),o=c=>c!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(c,u){return!(!u||!o(u.summaryBelow)&&!o(u.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:o(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(c,u){if(u){const l={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};a.some(l,d=>d!==void 0)&&c.leafNode(this.tag,l)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(p){return p?"1":void 0}function u(p){switch(p){case"overThenDown":return p;default:return}}function l(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function d(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(p,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:c(f.blackAndWhite),draft:c(f.draft),cellComments:l(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:c(f.firstPageNumber),usePrinterDefaults:c(f.usePrinterDefaults),copies:f.copies};a.some(h,g=>g!==void 0)&&p.leafNode(this.tag,h)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(f=p.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(u){return u?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(u,l){if(l){const d={headings:c(l.showRowColHeaders),gridLines:c(l.showGridLines),horizontalCentered:c(l.horizontalCentered),verticalCentered:c(l.verticalCentered)};a.some(d,p=>p!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const a=e("./page-breaks-xform"),o=e("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(c,u){if(u&&u.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,u.length),c.addAttribute("manualBreakCount",u.length));const{childXform:l}=this;u.forEach(d=>{l.render(c,d)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const a=e("../base-xform"),o=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends a{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(u,l){const d=l.styles.addStyleModel(u.style);d&&(u.styleId=d);const p=this.map.c;u.cells.forEach(f=>{p.prepare(f,l)})}render(u,l,d){u.openNode("row"),u.addAttribute("r",l.number),l.height&&(u.addAttribute("ht",l.height),u.addAttribute("customHeight","1")),l.hidden&&u.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&u.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(u.addAttribute("s",l.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1");const p=this.map.c;l.cells.forEach(f=>{p.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const l=u.attributes.spans?u.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:l[0],max:l[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),o.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,l){u.style=u.styleId?l.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(p=>{d.reconcile(p,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,u){if(u){const l={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(l.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(l.customHeight="1"),a.some(l,d=>d!==void 0)&&c.leafNode("sheetFormatPr",l)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const a=e("../base-xform"),o=e("../style/color-xform"),c=e("./page-setup-properties-xform"),u=e("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new u}}get tag(){return"sheetPr"}render(l,d){if(d){l.addRollback(),l.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(l,d.tabColor)||p,p=this.map.pageSetUpPr.render(l,d.pageSetup)||p,p=this.map.outlinePr.render(l,d.outlineProperties)||p,p?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(l,d){return l?d:void 0}function u(l,d){return l===d||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(l,d){if(d){const p={sheet:c(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:c(d.formatCells,"0"),formatColumns:c(d.formatColumns,"0"),formatRows:c(d.formatRows,"0"),insertColumns:c(d.insertColumns,"0"),insertRows:c(d.insertRows,"0"),insertHyperlinks:c(d.insertHyperlinks,"0"),deleteColumns:c(d.deleteColumns,"0"),deleteRows:c(d.deleteRows,"0"),sort:c(d.sort,"0"),autoFilter:c(d.autoFilter,"0"),pivotTables:c(d.pivotTables,"0")};d.sheet&&(p.algorithmName=d.algorithmName,p.hashValue=d.hashValue,p.saltValue=d.saltValue,p.spinCount=d.spinCount,p.objects=c(d.objects===!1,"1"),p.scenarios=c(d.scenarios===!1,"1")),a.some(p,f=>f!==void 0)&&l.leafNode(this.tag,p)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:u(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(l.attributes.formatCells,"0"),formatColumns:u(l.attributes.formatColumns,"0"),formatRows:u(l.attributes.formatRows,"0"),insertColumns:u(l.attributes.insertColumns,"0"),insertRows:u(l.attributes.insertRows,"0"),insertHyperlinks:u(l.attributes.insertHyperlinks,"0"),deleteColumns:u(l.attributes.deleteColumns,"0"),deleteRows:u(l.attributes.deleteRows,"0"),sort:u(l.attributes.sort,"0"),autoFilter:u(l.attributes.autoFilter,"0"),pivotTables:u(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const a=e("../../../utils/col-cache"),o=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,l){u.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let p,f,h,g;switch(d("rightToLeft","1",l.rightToLeft===!0),d("tabSelected","1",l.tabSelected),d("showRuler","0",l.showRuler===!1),d("showRowColHeaders","0",l.showRowColHeaders===!1),d("showGridLines","0",l.showGridLines===!1),d("zoomScale",l.zoomScale,l.zoomScale),d("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),d("view",l.style,l.style),l.state){case"frozen":f=l.xSplit||0,h=l.ySplit||0,p=l.topLeftCell||a.getAddress(h+1,f+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:p,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),u.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&u.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const l=u.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let l,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../../rel-type"),l=e("./merges"),d=e("../base-xform"),p=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),y=e("./hyperlink-xform"),m=e("./merge-cell-xform"),v=e("./data-validations-xform"),x=e("./sheet-properties-xform"),S=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),A=e("./sheet-protection-xform"),B=e("./page-margins-xform"),q=e("./page-setup-xform"),R=e("./print-options-xform"),I=e("./auto-filter-xform"),$=e("./picture-xform"),K=e("./drawing-xform"),U=e("./table-part-xform"),P=e("./row-breaks-xform"),L=e("./header-footer-xform"),T=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),k=(N,D)=>{if(!D||!D.length)return N;if(!N||!N.length)return D;const O={},z={};return N.forEach(Q=>{O[Q.ref]=Q,Q.rules.forEach(Y=>{const{x14Id:re}=Y;re&&(z[re]=Y)})}),D.forEach(Q=>{Q.rules.forEach(Y=>{const re=z[Y.x14Id];re?((F,Z)=>{Object.keys(Z).forEach(W=>{const V=F[W],G=Z[W];V===void 0&&G!==void 0&&(F[W]=G)})})(re,Y):O[Q.ref]?O[Q.ref].rules.push(Y):N.push({ref:Q.ref,rules:[Y]})})}),N};class j extends d{constructor(D){super();const{maxRows:O,maxCols:z,ignoreNodes:Q}=D||{};this.ignoreNodes=Q||[],this.map={sheetPr:new x,dimension:new g,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new S,cols:new p({tag:"cols",count:!1,childXform:new h}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:z}),maxItems:O}),autoFilter:new I,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new P,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new B,dataValidations:new v,pageSetup:new q,headerFooter:new L,printOptions:new R,picture:new $,drawing:new K,sheetProtection:new A,tableParts:new p({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new T,extLst:new _}}prepare(D,O){O.merges=new l,D.hyperlinks=O.hyperlinks=[],D.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(D.cols,O),this.map.sheetData.prepare(D.rows,O),this.map.conditionalFormatting.prepare(D.conditionalFormattings,O),D.mergeCells=O.merges.mergeCells;const z=D.rels=[];function Q(F){return"rId"+(F.length+1)}if(D.hyperlinks.forEach(F=>{const Z=Q(z);F.rId=Z,z.push({Id:Z,Type:u.Hyperlink,Target:F.target,TargetMode:"External"})}),D.comments.length>0){const F={Id:Q(z),Type:u.Comments,Target:`../comments${D.id}.xml`};z.push(F);const Z={Id:Q(z),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};z.push(Z),D.comments.forEach(W=>{W.refAddress=o.decodeAddress(W.ref)}),O.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const Y=[];let re;D.media.forEach(F=>{if(F.type==="background"){const Z=Q(z);re=O.media[F.imageId],z.push({Id:Z,Type:u.Image,Target:`../media/${re.name}.${re.extension}`}),D.background={rId:Z},D.image=O.media[F.imageId]}else if(F.type==="image"){let{drawing:Z}=D;re=O.media[F.imageId],Z||(Z=D.drawing={rId:Q(z),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(Z),z.push({Id:Z.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Z.name}.xml`}));let W=this.preImageId===F.imageId?Y[F.imageId]:Y[Z.rels.length];W||(W=Q(Z.rels),Y[Z.rels.length]=W,Z.rels.push({Id:W,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const V={picture:{rId:W},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const G=Q(Z.rels);Y[Z.rels.length]=G,V.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:G},Z.rels.push({Id:G,Type:u.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Z.anchors.push(V)}}),D.tables.forEach(F=>{const Z=Q(z);F.rId=Z,z.push({Id:Z,Type:u.Table,Target:"../tables/"+F.target}),F.columns.forEach(W=>{const{style:V}=W;V&&(W.dxfId=O.styles.addDxfStyle(V))})}),this.map.extLst.prepare(D,O)}render(D,O){D.openXml(c.StdDocAttributes),D.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const z=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(z.defaultColWidth=O.properties.defaultColWidth);const Q={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},Y=O.pageSetup&&O.pageSetup.margins,re={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},F=O.sheetProtection;this.map.sheetPr.render(D,Q),this.map.dimension.render(D,O.dimensions),this.map.sheetViews.render(D,O.views),this.map.sheetFormatPr.render(D,z),this.map.cols.render(D,O.cols),this.map.sheetData.render(D,O.rows),this.map.sheetProtection.render(D,F),this.map.autoFilter.render(D,O.autoFilter),this.map.mergeCells.render(D,O.mergeCells),this.map.conditionalFormatting.render(D,O.conditionalFormattings),this.map.dataValidations.render(D,O.dataValidations),this.map.hyperlinks.render(D,O.hyperlinks),this.map.printOptions.render(D,re),this.map.pageMargins.render(D,Y),this.map.pageSetup.render(D,O.pageSetup),this.map.headerFooter.render(D,O.headerFooter),this.map.rowBreaks.render(D,O.rowBreaks),this.map.drawing.render(D,O.drawing),this.map.picture.render(D,O.background),this.map.tableParts.render(D,O.tables),this.map.extLst.render(D,O),O.rels&&O.rels.forEach(Z=>{Z.Type===u.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":Z.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(a.each(this.map,O=>{O.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Q=Object.assign(z,this.map.pageSetup.model,this.map.printOptions.model),Y=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:Q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,O){const z=(D.relationships||[]).reduce((Y,re)=>{if(Y[re.Id]=re,re.Type===u.Comments&&(D.comments=O.comments[re.Target].comments),re.Type===u.VmlDrawing&&D.comments&&D.comments.length){const F=O.vmlDrawings[re.Target].comments;D.comments.forEach((Z,W)=>{Z.note=Object.assign({},Z.note,F[W])})}return Y},{});if(O.commentsMap=(D.comments||[]).reduce((Y,re)=>(re.ref&&(Y[re.ref]=re),Y),{}),O.hyperlinkMap=(D.hyperlinks||[]).reduce((Y,re)=>(re.rId&&(Y[re.address]=z[re.rId].Target),Y),{}),O.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,O),this.map.sheetData.reconcile(D.rows,O),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,O),D.media=[],D.drawing){const Y=z[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const re=Y[1];O.drawings[re].anchors.forEach(F=>{if(F.medium){const Z={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};D.media.push(Z)}})}}const Q=D.background&&z[D.background.rId];if(Q){const Y=Q.Target.split("/media/")[1],re=O.mediaIndex&&O.mediaIndex[Y];re!==void 0&&D.media.push({type:"background",imageId:re})}D.tables=(D.tables||[]).map(Y=>{const re=z[Y.rId];return O.tables[re.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const a=e("./base-xform"),o=e("../../utils/xml-stream");n.exports=class extends a{constructor(c){super(),this._model=c}render(c){if(!this._xml){const u=new o;(function l(d,p){d.openNode(p.tag,p.$),p.c&&p.c.forEach(f=>{l(d,f)}),p.t&&d.writeText(p.t),d.closeNode()})(u,this._model),this._xml=u.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const a=e("./text-xform"),o=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new o,t:new a}}get tag(){return"rPh"}render(u,l){if(u.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:d}=this.map;l.richText.forEach(p=>{d.render(u,p)})}else l&&this.map.t.render(u,l.text);u.closeNode()}parseOpen(u){const{name:l}=u;return this.parser?(this.parser.parseOpen(u),!0):l===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const a=e("./text-xform"),o=e("../style/font-xform"),c=e("../base-xform");class u extends c{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new o(u.FONT_OPTIONS))}render(d,p){p=p||this.model,d.openNode("r"),p.font&&this.fontXform.render(d,p.font),this.textXform.render(d,p.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const a=e("./text-xform"),o=e("./rich-text-xform"),c=e("./phonetic-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(l){super(),this.model=l,this.map={r:new o,t:new a,rPh:new c}}get tag(){return"si"}render(l,d){l.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(p=>{this.map.r.render(l,p)}):this.map.t.render(l,""):d!=null&&this.map.t.render(l,d),l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends o{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let l=this.hash[u];return l===void 0&&(l=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,l}addRichText(u){const l=this.sharedStringXform.toXml(u);let d=this.rich[l];return d===void 0&&(d=this.rich[l]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,l){l=l||this._values,u.openXml(a.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const d=this.sharedStringXform;l.values.forEach(p=>{d.render(u,p)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const a=e("../../../doc/enums"),o=e("../../../utils/utils"),c=e("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=o.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=o.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},l={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const p=Math.round(d);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(d){const p=o.validInt(d);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends c{get tag(){return"alignment"}render(d,p){d.addRollback(),d.openNode("alignment");let f=!1;function h(g,y){y&&(d.addAttribute(g,y),f=!0)}h("horizontal",u.horizontal(p.horizontal)),h("vertical",u.vertical(p.vertical)),h("wrapText",!!u.wrapText(p.wrapText)&&"1"),h("shrinkToFit",!!u.shrinkToFit(p.shrinkToFit)&&"1"),h("indent",u.indent(p.indent)),h("textRotation",l.toXml(p.textRotation)),h("readingOrder",u.readingOrder(p.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const p={};let f=!1;function h(g,y,m){g&&(p[y]=m,f=!0)}h(d.attributes.horizontal,"horizontal",d.attributes.horizontal),h(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),h(d.attributes.wrapText,"wrapText",o.parseBoolean(d.attributes.wrapText)),h(d.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(d.attributes.shrinkToFit)),h(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),h(d.attributes.textRotation,"textRotation",l.toModel(d.attributes.textRotation)),h(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const a=e("../base-xform"),o=e("../../../utils/utils"),c=e("./color-xform");class u extends a{constructor(d){super(),this.name=d,this.map={color:new c}}get tag(){return this.name}render(d,p,f){const h=p&&p.color||f||this.defaultColor;d.openNode(this.name),p&&p.style&&(d.addAttribute("style",p.style),h&&this.map.color.render(d,h)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:p}=d.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,d)=>(l[d]=!0,l),{}),n.exports=class extends a{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(l,d){const{color:p}=d;function f(h,g){h&&!h.color&&d.color&&(h={...h,color:d.color}),g.render(l,h,p)}l.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&l.addAttribute("diagonalUp","1"),d.diagonal.down&&l.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const d=this.model={},p=function(f,h,g){h&&(g&&Object.assign(h,g),d[f]=h)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const a=e("../base-xform"),o=e("./alignment-xform"),c=e("./border-xform"),u=e("./fill-xform"),l=e("./font-xform"),d=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new o,border:new c,fill:new u,font:new l,numFmt:new d,protection:new p}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const a=e("../base-xform"),o=e("./color-xform");class c extends a{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new u,gradientFill:new l}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,f)=>(p[f]=!0,p),{}),d.StopXform=c,d.PatternFillXform=u,d.GradientFillXform=l,n.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const a=e("./color-xform"),o=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),u=e("../simple/string-xform"),l=e("./underline-xform"),d=e("../../../utils/under-dash"),p=e("../base-xform");class f extends p{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,x)=>{m[x].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const a=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),c=e("../base-xform"),u=(function(){const d={};return a.each(o,(p,f)=>{p.f&&(d[p.f]=parseInt(f,10))}),d})();class l extends c{constructor(p,f){super(),this.id=p,this.formatCode=f}get tag(){return"numFmt"}render(p,f){p.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(d){return u[d]},l.getDefaultFmtCode=function(d){return o[d]&&o[d].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const a=e("../base-xform"),o={boolean:(c,u)=>c===void 0?u:c};n.exports=class extends a{get tag(){return"protection"}render(c,u){c.addRollback(),c.openNode("protection");let l=!1;function d(p,f){f!==void 0&&(c.addAttribute(p,f),l=!0)}d("locked",o.boolean(u.locked,!0)?void 0:"0"),d("hidden",o.boolean(u.hidden,!1)?"1":void 0),c.closeNode(),l?c.commit():c.rollback()}parseOpen(c){const u={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},l=!u.locked||u.hidden;this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const a=e("../base-xform"),o=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends a{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(u,l){u.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&u.addAttribute("xfId",l.xfId||0),l.numFmtId&&u.addAttribute("applyNumberFormat","1"),l.fontId&&u.addAttribute("applyFont","1"),l.fillId&&u.addAttribute("applyFill","1"),l.borderId&&u.addAttribute("applyBorder","1"),l.alignment&&u.addAttribute("applyAlignment","1"),l.protection&&u.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(u,l.alignment),l.protection&&this.map.protection.render(u,l.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const a=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("../static-xform"),l=e("../list-xform"),d=e("./font-xform"),p=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),y=e("./dxf-xform");class m extends c{constructor(x){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new h}),fonts:new l({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new p}),borders:new l({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new d,fill:new p,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,S){S=S||this.model,x.openXml(o.StdDocAttributes),x.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(x.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(C=>{x.writeXml(C)}),x.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("fills",{count:S.fills.length}),S.fills.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("borders",{count:S.borders.length}),S.borders.forEach(C=>{x.writeXml(C)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(C=>{x.writeXml(C)}),x.closeNode()):(this.map.numFmts.render(x,S.numFmts),this.map.fonts.render(x,S.fonts),this.map.fills.render(x,S.fills),this.map.borders.render(x,S.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,S.styles)),m.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,S.dxfs),m.STATIC_XFORMS.tableStyles.render(x),m.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const S=(C,A)=>{A.model&&A.model.length&&(this.model[C]=A.model)};if(S("numFmts",this.map.numFmts),S("fonts",this.map.fonts),S("fills",this.map.fills),S("borders",this.map.borders),S("styles",this.map.cellXfs),S("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(A=>{C[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(x,S){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const C={};if(S=S||a.ValueType.Number,x.numFmt)C.numFmtId=this._addNumFmtStr(x.numFmt);else switch(S){case a.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(C.fontId=this._addFont(x.font)),x.border&&(C.borderId=this._addBorder(x.border)),x.fill&&(C.fillId=this._addFill(x.fill)),x.alignment&&(C.alignment=x.alignment),x.protection&&(C.protection=x.protection);const A=this._addStyle(C);return this.weakMap&&this.weakMap.set(x,A),A}getStyleModel(x){const S=this.model.styles[x];if(!S)return null;let C=this.index.model[x];if(C)return C;if(C=this.index.model[x]={},S.numFmtId){const B=this.index.numFmt[S.numFmtId]||h.getDefaultFmtCode(S.numFmtId);B&&(C.numFmt=B)}function A(B,q,R){if(R||R===0){const I=q[R];I&&(C[B]=I)}}return A("font",this.model.fonts,S.fontId),A("border",this.model.borders,S.borderId),A("fill",this.model.fills,S.fillId),S.alignment&&(C.alignment=S.alignment),S.protection&&(C.protection=S.protection),C}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const S=this.map.style.toXml(x);let C=this.index.style[S];return C===void 0&&(C=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),C}_addNumFmtStr(x){let S=h.getDefaultFmtId(x);if(S!==void 0||(S=this.index.numFmt[x],S!==void 0))return S;S=this.index.numFmt[x]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:S,formatCode:x});return this.model.numFmts.push(C),S}_addFont(x){const S=this.map.font.toXml(x);let C=this.index.font[S];return C===void 0&&(C=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),C}_addBorder(x){const S=this.map.border.toXml(x);let C=this.index.border[S];return C===void 0&&(C=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),C}_addFill(x){const S=this.map.fill.toXml(x);let C=this.index.fill[S];return C===void 0&&(C=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),C}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,x){switch(x){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const a=e("../base-xform");class o extends a{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,l){if((l=l||this.model)===!0)u.leafNode("u");else{const d=o.Attributes[l];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(e,n,s){const a=e("../base-xform"),o=e("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((u,l)=>{this.map.filterColumn.prepare(u,{index:l})})}render(c,u){return c.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(l=>{this.map.filterColumn.render(c,l)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const a=e("../base-xform"),o=e("../list-xform"),c=e("./custom-filter-xform"),u=e("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(l,d){l.colId=d.index.toString()}render(l,d){return d.customFilters?(l.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(l,d.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:d}=l;switch(l.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../list-xform"),u=e("./auto-filter-xform"),l=e("./table-column-xform"),d=e("./table-style-info-xform");class p extends o{constructor(){super(),this.map={autoFilter:new u,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new d}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(a.StdDocAttributes),h.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:y}=h;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(a,o){(function(){const c=e("fs"),u=e("jszip"),{PassThrough:l}=e("readable-stream"),d=e("../utils/zip-stream"),p=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),x=e("./xform/core/relationships-xform"),S=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),A=e("./xform/book/workbook-xform"),B=e("./xform/sheet/worksheet-xform"),q=e("./xform/drawing/drawing-xform"),R=e("./xform/table/table-xform"),I=e("./xform/comment/comments-xform"),$=e("./xform/comment/vml-notes-xform"),K=e("./xml/theme1");class U{constructor(L){this.workbook=L}async readFile(L,T){if(!await f.fs.exists(L))throw new Error("File not found: "+L);const _=c.createReadStream(L);try{const k=await this.read(_,T);return _.close(),k}catch(k){throw _.close(),k}}parseRels(L){return new x().parseStream(L)}parseWorkbook(L){return new A().parseStream(L)}parseSharedStrings(L){return new v().parseStream(L)}reconcile(L,T){const _=new A,k=new B(T),j=new q,N=new R;_.reconcile(L);const D={media:L.media,mediaIndex:L.mediaIndex};Object.keys(L.drawings).forEach(Q=>{const Y=L.drawings[Q],re=L.drawingRels[Q];re&&(D.rels=re.reduce((F,Z)=>(F[Z.Id]=Z,F),{}),(Y.anchors||[]).forEach(F=>{const Z=F.picture&&F.picture.hyperlinks;Z&&D.rels[Z.rId]&&(Z.hyperlink=D.rels[Z.rId].Target,delete Z.rId)}),j.reconcile(Y,D))});const O={styles:L.styles};Object.values(L.tables).forEach(Q=>{N.reconcile(Q,O)});const z={styles:L.styles,sharedStrings:L.sharedStrings,media:L.media,mediaIndex:L.mediaIndex,date1904:L.properties&&L.properties.date1904,drawings:L.drawings,comments:L.comments,tables:L.tables,vmlDrawings:L.vmlDrawings};L.worksheets.forEach(Q=>{Q.relationships=L.worksheetRels[Q.sheetNo],k.reconcile(Q,z)}),delete L.worksheetHash,delete L.worksheetRels,delete L.globalRels,delete L.sharedStrings,delete L.workbookRels,delete L.sheetDefs,delete L.styles,delete L.mediaIndex,delete L.drawings,delete L.drawingRels,delete L.vmlDrawings}async _processWorksheetEntry(L,T,_,k,j){const N=new B(k),D=await N.parseStream(L);D.sheetNo=_,T.worksheetHash[j]=D,T.worksheets.push(D)}async _processCommentEntry(L,T,_){const k=new I,j=await k.parseStream(L);T.comments[`../${_}.xml`]=j}async _processTableEntry(L,T,_){const k=new R,j=await k.parseStream(L);T.tables[`../tables/${_}.xml`]=j}async _processWorksheetRelsEntry(L,T,_){const k=new x,j=await k.parseStream(L);T.worksheetRels[_]=j}async _processMediaEntry(L,T,_){const k=_.lastIndexOf(".");if(k>=1){const j=_.substr(k+1),N=_.substr(0,k);await new Promise((D,O)=>{const z=new p;z.on("finish",()=>{T.mediaIndex[_]=T.media.length,T.mediaIndex[N]=T.media.length;const Q={type:"image",name:N,extension:j,buffer:z.toBuffer()};T.media.push(Q),D()}),L.on("error",Q=>{O(Q)}),L.pipe(z)})}}async _processDrawingEntry(L,T,_){const k=new q,j=await k.parseStream(L);T.drawings[_]=j}async _processDrawingRelsEntry(L,T,_){const k=new x,j=await k.parseStream(L);T.drawingRels[_]=j}async _processVmlDrawingEntry(L,T,_){const k=new $,j=await k.parseStream(L);T.vmlDrawings[`../drawings/${_}.vml`]=j}async _processThemeEntry(L,T,_){await new Promise((k,j)=>{const N=new p;L.on("error",j),N.on("error",j),N.on("finish",()=>{T.themes[_]=N.read().toString(),k()}),L.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(L,T){!L[Symbol.asyncIterator]&&L.pipe&&(L=L.pipe(new l));const _=[];for await(const k of L)_.push(k);return this.load(o.concat(_),T)}async load(L,T){let _;_=T&&T.base64?o.from(L.toString(),"base64"):L;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await u.loadAsync(_);for(const N of Object.values(j.files))if(!N.dir){let D,O=N.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new l,D.write(await N.async("nodebuffer"));else{let z;D=new l({writableObjectMode:!0,readableObjectMode:!0}),z=a.browser?g(await N.async("nodebuffer")):await N.async("string");const Q=16384;for(let Y=0;Y<z.length;Y+=Q)D.write(z.substring(Y,Y+Q))}switch(D.end(),O){case"_rels/.rels":k.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const z=await this.parseWorkbook(D);k.sheets=z.sheets,k.definedNames=z.definedNames,k.views=z.views,k.properties=z.properties,k.calcProperties=z.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":k.sharedStrings=new v,await k.sharedStrings.parseStream(D);break;case"xl/styles.xml":k.styles=new y,await k.styles.parseStream(D);break;case"docProps/app.xml":{const z=new C,Q=await z.parseStream(D);k.company=Q.company,k.manager=Q.manager;break}case"docProps/core.xml":{const z=new m,Q=await z.parseStream(D);Object.assign(k,Q);break}default:{let z=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(z){await this._processWorksheetEntry(D,k,z[1],T,O);break}if(z=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),z){await this._processWorksheetRelsEntry(D,k,z[1]);break}if(z=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),z){await this._processThemeEntry(D,k,z[1]);break}if(z=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),z){await this._processMediaEntry(D,k,z[1]);break}if(z=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),z){await this._processDrawingEntry(D,k,z[1]);break}if(z=O.match(/xl\/(comments\d+)[.]xml/),z){await this._processCommentEntry(D,k,z[1]);break}if(z=O.match(/xl\/tables\/(table\d+)[.]xml/),z){await this._processTableEntry(D,k,z[1]);break}if(z=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),z){await this._processDrawingRelsEntry(D,k,z[1]);break}if(z=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),z){await this._processVmlDrawingEntry(D,k,z[1]);break}}}}return this.reconcile(k,T),this.workbook.model=k,this.workbook}async addMedia(L,T){await Promise.all(T.media.map(async _=>{if(_.type==="image"){const k=`xl/media/${_.name}.${_.extension}`;if(_.filename){const j=await(function(N,D){return new Promise((O,z)=>{c.readFile(N,D,(Q,Y)=>{Q?z(Q):O(Y)})})})(_.filename);return L.append(j,{name:k})}if(_.buffer)return L.append(_.buffer,{name:k});if(_.base64){const j=_.base64,N=j.substring(j.indexOf(",")+1);return L.append(N,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(L,T){const _=new q,k=new x;T.worksheets.forEach(j=>{const{drawing:N}=j;if(N){_.prepare(N,{});let D=_.toXml(N);L.append(D,{name:`xl/drawings/${N.name}.xml`}),D=k.toXml(N.rels),L.append(D,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(L,T){const _=new R;T.worksheets.forEach(k=>{const{tables:j}=k;j.forEach(N=>{_.prepare(N,{});const D=_.toXml(N);L.append(D,{name:"xl/tables/"+N.target})})})}async addContentTypes(L,T){const _=new S().toXml(T);L.append(_,{name:"[Content_Types].xml"})}async addApp(L,T){const _=new C().toXml(T);L.append(_,{name:"docProps/app.xml"})}async addCore(L,T){const _=new m;L.append(_.toXml(T),{name:"docProps/core.xml"})}async addThemes(L,T){const _=T.themes||{theme1:K};Object.keys(_).forEach(k=>{const j=_[k],N=`xl/theme/${k}.xml`;L.append(j,{name:N})})}async addOfficeRels(L){const T=new x().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);L.append(T,{name:"_rels/.rels"})}async addWorkbookRels(L,T){let _=1;const k=[{Id:"rId"+_++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];T.sharedStrings.count&&k.push({Id:"rId"+_++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),T.worksheets.forEach(N=>{N.rId="rId"+_++,k.push({Id:N.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const j=new x().toXml(k);L.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(L,T){T.sharedStrings&&T.sharedStrings.count&&L.append(T.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(L,T){const{xml:_}=T.styles;_&&L.append(_,{name:"xl/styles.xml"})}async addWorkbook(L,T){const _=new A;L.append(_.toXml(T),{name:"xl/workbook.xml"})}async addWorksheets(L,T){const _=new B,k=new x,j=new I,N=new $;T.worksheets.forEach(D=>{let O=new h;_.render(O,D),L.append(O.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(O=new h,k.render(O,D.rels),L.append(O.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(O=new h,j.render(O,D),L.append(O.xml,{name:`xl/comments${D.id}.xml`}),O=new h,N.render(O,D),L.append(O.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(L){return new Promise((T,_)=>{L.on("finish",()=>{T(this)}),L.on("error",_),L.finalize()})}prepareModel(L,T){L.creator=L.creator||"ExcelJS",L.lastModifiedBy=L.lastModifiedBy||"ExcelJS",L.created=L.created||new Date,L.modified=L.modified||new Date,L.useSharedStrings=T.useSharedStrings===void 0||T.useSharedStrings,L.useStyles=T.useStyles===void 0||T.useStyles,L.sharedStrings=new v,L.styles=L.useStyles?new y(!0):new y.Mock;const _=new A,k=new B;_.prepare(L);const j={sharedStrings:L.sharedStrings,styles:L.styles,date1904:L.properties.date1904,drawingsCount:0,media:L.media};j.drawings=L.drawings=[],j.commentRefs=L.commentRefs=[];let N=0;L.tables=[],L.worksheets.forEach(D=>{D.tables.forEach(O=>{N++,O.target=`table${N}.xml`,O.id=N,L.tables.push(O)}),k.prepare(D,j)})}async write(L,T){T=T||{};const{model:_}=this.workbook,k=new d.ZipWriter(T.zip);return k.pipe(L),this.prepareModel(_,T),await this.addContentTypes(k,_),await this.addOfficeRels(k,_),await this.addWorkbookRels(k,_),await this.addWorksheets(k,_),await this.addSharedStrings(k,_),await this.addDrawings(k,_),await this.addTables(k,_),await Promise.all([this.addThemes(k,_),this.addStyles(k,_)]),await this.addMedia(k,_),await Promise.all([this.addApp(k,_),this.addCore(k,_)]),await this.addWorkbook(k,_),this._finalize(k)}writeFile(L,T){const _=c.createWriteStream(L);return new Promise((k,j)=>{_.on("finish",()=>{k()}),_.on("error",N=>{j(N)}),this.write(_,T).then(()=>{_.end()}).catch(N=>{j(N)})})}async writeBuffer(L){const T=new p;return await this.write(T,L),T.read()}}U.RelType=e("./rel-type"),n.exports=U}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(a){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=e("stream"),c=e("./formatter");class u extends o.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new c.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,p,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(h=!0,f(g)):(y&&y.forEach(m=>{this.push(a.from(m,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(d){this.rowFormatter.finish((p,f)=>p?d(p):(f&&f.forEach(h=>{this.push(a.from(h,"utf8"))}),d()))}}s.CsvFormatterStream=u}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),a?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),a?.quote===!0?this.quote='"':a?.quote===!1&&(this.quote=""),typeof a?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=a.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=a(e("lodash.isboolean")),c=a(e("lodash.isnil")),u=a(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const d=`[${l.delimiter}${u.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(l){this._headers=l}shouldQuote(l,d){const p=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(p)?p:Array.isArray(p)?p[l]:this._headers!==null&&p[this._headers[l]]}format(l,d,p){const f=(""+(c.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,p)?this.quoteField(f):f}quoteField(l){const{quote:d}=this.formatterOptions;return`${d}${l}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var a=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=a(e("lodash.isfunction")),c=a(e("lodash.isequal")),u=e("./FieldFormatter"),l=e("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return l.isSyncTransform(f)?(h,g)=>{let y=null;try{y=f(h)}catch(m){return g(m)}return g(null,y)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,h){this.callTransformer(f,(g,y)=>{if(g)return h(g);if(!f)return h(null);const m=[];if(y){const{shouldFormatColumns:v,headers:x}=this.checkHeaders(y);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),v){const S=this.gatherColumns(y);m.push(this.formatColumns(S,!1))}}return h(null,m)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=d.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((h,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var a=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(a){(function(){var o=Object.create?function(v,x,S,C){C===void 0&&(C=S),Object.defineProperty(v,C,{enumerable:!0,get:function(){return x[S]}})}:function(v,x,S,C){C===void 0&&(C=S),v[C]=x[S]},c=Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x},u=function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var S in v)S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)&&o(x,v,S);return c(x,v),x},l=function(v,x){for(var S in v)S==="default"||Object.prototype.hasOwnProperty.call(x,S)||o(x,v,S)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const d=e("util"),p=e("stream"),f=u(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),s);var y=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new g.CsvFormatterStream(new h.FormatterOptions(v)),s.write=(v,x)=>{const S=s.format(x),C=d.promisify((A,B)=>{S.write(A,void 0,B)});return v.reduce((A,B)=>A.then(()=>C(B)),Promise.resolve()).then(()=>S.end()).catch(A=>{S.emit("error",A)}),S},s.writeToStream=(v,x,S)=>s.write(x,S).pipe(v),s.writeToBuffer=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=[],C=new p.Writable({write(A,B,q){S.push(A),q()}});return new Promise((A,B)=>{C.on("error",B).on("finish",()=>A(a.concat(S))),s.write(v,x).pipe(C)})},s.writeToString=(v,x)=>s.writeToBuffer(v,x).then(S=>S.toString()),s.writeToPath=(v,x,S)=>{const C=f.createWriteStream(v,{encoding:"utf8"});return s.write(x,S).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=a=>a.length===1},{}],153:[function(e,n,s){(function(a){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=e("string_decoder"),c=e("stream"),u=e("./transforms"),l=e("./parser");class d extends c.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new l.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),x=this.parse(v,!0);return this.processRows(x,y)}catch(m){return y(m)}}_flush(f){const h=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,h);return this.lines=g,y}processRows(f,h){const g=f.length,y=m=>{const v=C=>C?h(C):m%100!=0?y(m+1):void a(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const x=f[m];this.rowCount+=1,this.parsedRowCount+=1;const S=this.rowCount;return this.transformRow(x,(C,A)=>{if(C)return this.rowCount-=1,v(C);if(!A)return v(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,v)}else this.emit("data-invalid",A.row,S,A.reason);return v()})};y(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,y)=>g?h(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}s.CsvParserStream=d}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=a(e("lodash.escaperegexp")),c=a(e("lodash.isnil"));s.ParserOptions=class{constructor(u){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var a=Object.create?function(y,m,v,x){x===void 0&&(x=v),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,x){x===void 0&&(x=v),y[x]=m[v]},o=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},c=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&a(m,y,v);return o(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||a(m,y,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=c(e("fs")),d=e("stream"),p=e("./ParserOptions"),f=e("./CsvParserStream");u(e("./types"),s);var h=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new p.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new p.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(y).pipe(new f.CsvParserStream(new p.ParserOptions(m)))},s.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new p.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const a=e("./Scanner"),o=e("./RowParser"),c=e("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,p){const f=new a.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const p=[];let f=!0;for(;f;)f=this.parseRow(d,p);return{line:d.line,rows:p}}parseWithComments(d){const{parserOptions:p}=this,f=[];for(let h=d.nextCharacterToken;h!==null;h=d.nextCharacterToken)if(c.Token.isTokenComment(h,p)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,p){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||p.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const a=e("./column"),o=e("./Token");s.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new a.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:u}=this,{hasMoreData:l}=c,d=c,p=[];let f=this.getStartToken(d,p);for(;f;){if(o.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,u)&&l?null:(d.truncateToCursor(),p);if(!this.shouldSkipColumnParse(d,f,p)){const h=this.columnParser.parse(d);if(h===null)return null;p.push(h)}f=d.nextNonSpaceToken}return l?null:(d.truncateToCursor(),p)}getStartToken(c,u){const l=c.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(u.push(""),c.nextNonSpaceToken):l}shouldSkipColumnParse(c,u,l){const{parserOptions:d}=this;if(o.Token.isTokenDelimiter(u,d)){c.advancePastToken(u);const p=c.nextCharacterToken;if(!c.hasMoreCharacters||p!==null&&o.Token.isTokenRowDelimiter(p)||p!==null&&o.Token.isTokenDelimiter(p,d))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const a=e("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(u)===-1)return null;const l=u.exec(c);if(l==null)return null;const d=l[1],p=this.cursor+(l.index||0);return new a.Token({token:d,startCursor:p,endCursor:p+d.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:u}=this;return u<=c?null:new a.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const o=a.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(a,o){return a.token===o.carriageReturn}static isTokenComment(a,o){return o.supportsComments&&!!a&&a.token===o.comment}static isTokenEscapeCharacter(a,o){return a.token===o.escapeChar}static isTokenQuote(a,o){return a.token===o.quote}static isTokenDelimiter(a,o){return a.token===o.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(a){a.trim?this.format=o=>o.trim():a.ltrim?this.format=o=>o.trimLeft():a.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const a=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),c=e("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new o.QuotedColumnParser(u),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:l}=u;return l!==null&&c.Token.isTokenQuote(l,this.parserOptions)?(u.advanceToToken(l),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const a=e("./ColumnFormatter"),o=e("../Token");s.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:u}=this,l=[];let d=c.nextCharacterToken;for(;d&&!o.Token.isTokenDelimiter(d,u)&&!o.Token.isTokenRowDelimiter(d);d=c.nextCharacterToken)l.push(d.token),c.advancePastToken(d);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const a=e("./ColumnFormatter"),o=e("../Token");s.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const u=c.cursor,{foundClosingQuote:l,col:d}=this.gatherDataBetweenQuotes(c);if(!l){if(c.advanceTo(u),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),d}gatherDataBetweenQuotes(c){const{parserOptions:u}=this;let l=!1,d=!1;const p=[];let f=c.nextCharacterToken;for(;!d&&f!==null;f=c.nextCharacterToken){const h=o.Token.isTokenQuote(f,u);if(!l&&h)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(f,u)){c.advancePastToken(f);const g=c.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,u)||o.Token.isTokenEscapeCharacter(g,u))?(p.push(g.token),f=g):h?d=!0:p.push(f.token)}else h?d=!0:p.push(f.token);c.advancePastToken(f)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:d}}checkForMalformedColumn(c){const{parserOptions:u}=this,{nextNonSpaceToken:l}=c;if(l){const d=o.Token.isTokenDelimiter(l,u),p=o.Token.isTokenRowDelimiter(l);if(!d&&!p){const f=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${l.token}'. at '${f}`)}c.advanceToToken(l)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var a=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var u=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var a=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var u=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var l=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=a(e("lodash.isundefined")),c=a(e("lodash.isfunction")),u=a(e("lodash.uniq")),l=a(e("lodash.groupby"));s.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):c.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,p){return this.shouldMapRow(d)?p(null,this.processRow(d)):p(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&d.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return p.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const p={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const y=f[g];if(!o.default(y)){const m=d[g];o.default(m)?p[y]="":p[y]=m}}return p}setHeaders(d){var p;const f=d.filter(h=>!!h);if(u.default(f).length!==f.length){const h=l.default(f),g=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=a(e("lodash.isfunction")),c=e("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return c.isSyncTransform(d)?(p,f)=>{let h=null;try{h=d(p)}catch(g){return f(g)}return f(null,h)}:d}static createValidator(d){return c.isSyncValidate(d)?(p,f)=>{f(null,{row:p,isValid:d(p)})}:(p,f)=>{d(p,(h,g,y)=>h?f(h):f(null,g?{row:p,isValid:g,reason:y}:{row:p,isValid:!1,reason:y}))}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!o.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,p){return this.callTransformer(d,(f,h)=>f?p(f):h?this.callValidator(h,(g,y)=>g?p(g):y&&!y.isValid?p(null,{row:h,isValid:!1,reason:y.reason}):p(null,{row:h,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}callValidator(d,p){return this._rowValidator?this._rowValidator(d,p):p(null,{row:d,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var a=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=a=>a.length===1,s.isSyncValidate=a=>a.length===1},{}],170:[function(e,n,s){const a=s;a.bignum=e("bn.js"),a.define=e("./asn1/api").define,a.base=e("./asn1/base"),a.constants=e("./asn1/constants"),a.decoders=e("./asn1/decoders"),a.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const a=e("./encoders"),o=e("./decoders"),c=e("inherits");function u(l,d){this.name=l,this.body=d,this.decoders={},this.encoders={}}s.define=function(l,d){return new u(l,d)},u.prototype._createNamed=function(l){const d=this.name;function p(f){this._initNamed(f,d)}return c(p,l),p.prototype._initNamed=function(f,h){l.call(this,f,h)},new p(this)},u.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},u.prototype.decode=function(l,d,p){return this._getDecoder(d).decode(l,p)},u.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(a[l])),this.encoders[l]},u.prototype.encode=function(l,d,p){return this._getEncoder(d).encode(l,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const a=e("inherits"),o=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function u(d,p){o.call(this,p),c.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function l(d,p){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return l.isEncoderBuffer(f)||(f=new l(f,p)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return p.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=c.byteLength(d);else{if(!c.isBuffer(d))return p.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(u,o),s.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&c.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(d){const p=new u(this.base);return p.offset=d.offset,p.length=this.offset,this.offset=d.offset,o.prototype.restore.call(this,d.reporter),p},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,p){if(!(this.offset+d<=this.length))return this.error(p||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},l.prototype.join=function(d,p){return d||(d=c.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,p),p+=f.length})):(typeof this.value=="number"?d[p]=this.value:typeof this.value=="string"?d.write(this.value,p):c.isBuffer(this.value)&&this.value.copy(d,p),p+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const a=s;a.Reporter=e("./reporter").Reporter,a.DecoderBuffer=e("./buffer").DecoderBuffer,a.EncoderBuffer=e("./buffer").EncoderBuffer,a.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const a=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,u=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function p(h,g,y){const m={};this._baseState=m,m.name=y,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=p;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const h=this._baseState,g={};f.forEach((function(m){g[m]=h[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},p.prototype._wrap=function(){const h=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return h.children.push(y),y[g].apply(y,arguments)}}),this)},p.prototype._init=function(h){const g=this._baseState;u(g.parent===null),h.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(h){const g=this._baseState,y=h.filter((function(m){return m instanceof this.constructor}),this);h=h.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),h.length!==0&&(u(g.args===null),g.args=h,g.reverseArgs=h.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(x){x==(0|x)&&(x|=0);const S=m[x];v[S]=x})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){p.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}})),l.forEach((function(h){p.prototype[h]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=h,this._useArgs(y),this}})),p.prototype.use=function(h){u(h);const g=this._baseState;return u(g.use===null),g.use=h,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(h){const g=this._baseState;return u(g.default===null),g.default=h,g.optional=!0,this},p.prototype.explicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=h,this},p.prototype.implicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=h,this},p.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},p.prototype.key=function(h){const g=this._baseState;return u(g.key===null),g.key=h,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(h){const g=this._baseState;return u(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map((function(y){return h[y]}))),this},p.prototype.contains=function(h){const g=this._baseState;return u(g.use===null),g.contains=h,this},p.prototype._decode=function(h,g){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,g));let m,v=y.default,x=!0,S=null;if(y.key!==null&&(S=h.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(x=this._peekTag(h,C,y.any),h.isError(x))return x}else{const A=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g),x=!0}catch{x=!1}h.restore(A)}}if(y.obj&&x&&(m=h.enterObject()),x){if(y.explicit!==null){const A=this._decodeTag(h,y.explicit);if(h.isError(A))return A;h=A}const C=h.offset;if(y.use===null&&y.choice===null){let A;y.any&&(A=h.save());const B=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(B))return B;y.any?v=h.raw(A):h=B}if(g&&g.track&&y.tag!==null&&g.track(h.path(),C,h.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g)),h.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(A){A._decode(h,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const A=new c(v);v=this._getUse(y.contains,h._reporterState.obj)._decode(A,g)}}return y.obj&&x&&(v=h.leaveObject(m)),y.key===null||v===null&&x!==!0?S!==null&&h.exitKey(S):h.leaveKey(S,y.key,v),v},p.prototype._decodeGeneric=function(h,g,y){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],y):/str$/.test(h)?this._decodeStr(g,h,y):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):h==="objid"?this._decodeObjid(g,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(g,h,y):h==="null_"?this._decodeNull(g,y):h==="bool"?this._decodeBool(g,y):h==="objDesc"?this._decodeStr(g,h,y):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+h)},p.prototype._getUse=function(h,g){const y=this._baseState;return y.useDecoder=this._use(h,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},p.prototype._decodeChoice=function(h,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(x){const S=h.save(),C=y.choice[x];try{const A=C._decode(h,g);if(h.isError(A))return!1;m={type:x,value:A},v=!0}catch{return h.restore(S),!1}return!0}),this),v?m:h.error("Choice not matched")},p.prototype._createEncoderBuffer=function(h){return new o(h,this.reporter)},p.prototype._encode=function(h,g,y){const m=this._baseState;if(m.default!==null&&m.default===h)return;const v=this._encodeValue(h,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},p.prototype._encodeValue=function(h,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new a);let v=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let x=null,S=!1;if(m.any)v=this._createEncoderBuffer(h);else if(m.choice)v=this._encodeChoice(h,g);else if(m.contains)x=this._getUse(m.contains,y)._encode(h,g),S=!0;else if(m.children)x=m.children.map((function(C){if(C._baseState.tag==="null_")return C._encode(null,g,h);if(C._baseState.key===null)return g.error("Child should have a key");const A=g.enterKey(C._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const B=C._encode(h[C._baseState.key],g,h);return g.leaveKey(A),B}),this).filter((function(C){return C})),x=this._createEncoderBuffer(x);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,x=this._createEncoderBuffer(h.map((function(A){const B=this._baseState;return this._getUse(B.args[0],h)._encode(A,g)}),C))}else m.use!==null?v=this._getUse(m.use,y)._encode(h,g):(x=this._encodePrimitive(m.tag,h),S=!0);if(!m.any&&m.choice===null){const C=m.implicit!==null?m.implicit:m.tag,A=m.implicit===null?"universal":"context";C===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(C,S,A,x))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(h,g){const y=this._baseState,m=y.choice[h.type];return m||u(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(h.value,g)},p.prototype._encodePrimitive=function(h,g){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},p.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},p.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const a=e("inherits");function o(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function c(u,l){this.path=u,this.rethrow(l)}s.Reporter=o,o.prototype.isError=function(u){return u instanceof c},o.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},o.prototype.restore=function(u){const l=this._reporterState;l.obj=u.obj,l.path=l.path.slice(0,u.pathLen)},o.prototype.enterKey=function(u){return this._reporterState.path.push(u)},o.prototype.exitKey=function(u){const l=this._reporterState;l.path=l.path.slice(0,u-1)},o.prototype.leaveKey=function(u,l,d){const p=this._reporterState;this.exitKey(u),p.obj!==null&&(p.obj[l]=d)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const u=this._reporterState,l=u.obj;return u.obj={},l},o.prototype.leaveObject=function(u){const l=this._reporterState,d=l.obj;return l.obj=u,d},o.prototype.error=function(u){let l;const d=this._reporterState,p=u instanceof c;if(l=p?u:new c(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw l;return p||d.errors.push(l),l},o.prototype.wrapResult=function(u){const l=this._reporterState;return l.options.partial?{result:this.isError(u)?null:u,errors:l.errors}:u},a(c,Error),c.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,n,s){function a(o){const c={};return Object.keys(o).forEach((function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u})),c}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=a(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=a(s.tag)},{}],177:[function(e,n,s){const a=s;a._reverse=function(o){const c={};return Object.keys(o).forEach((function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u})),c},a.der=e("./der")},{"./der":176}],178:[function(e,n,s){const a=e("inherits"),o=e("bn.js"),c=e("../base/buffer").DecoderBuffer,u=e("../base/node"),l=e("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new p,this.tree._init(g.body)}function p(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=l.tagClass[m>>6],x=(32&m)==0;if((31&m)==31){let S=m;for(m=0;(128&S)==128;){if(S=g.readUInt8(y),g.isError(S))return S;m<<=7,m|=127&S}}else m&=31;return{cls:v,primitive:x,tag:m,tagStr:l.tag[m]}}function h(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const x=127&v;if(x>4)return g.error("length octect is too long");v=0;for(let S=0;S<x;S++){v<<=8;const C=g.readUInt8(m);if(g.isError(C))return C;v|=C}return v}n.exports=d,d.prototype.decode=function(g,y){return c.isDecoderBuffer(g)||(g=new c(g,y)),this.tree._decode(g,y)},a(p,u),p.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),x=f(g,'Failed to peek tag: "'+y+'"');return g.isError(x)?x:(g.restore(v),x.tag===y||x.tagStr===y||x.tagStr+"of"===y||m)},p.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let x=h(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(x))return x;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||x!==null)return g.skip(x,'Failed to match body of: "'+y+'"');const S=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(x=g.offset-S.offset,g.restore(S),g.skip(x,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=h(g,m.primitive,y);if(g.isError(v))return v;let x;if(x=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(x))return x;if(m.tagStr==="end")break}},p.prototype._decodeList=function(g,y,m,v){const x=[];for(;!g.isEmpty();){const S=this._peekTag(g,"end");if(g.isError(S))return S;const C=m.decode(g,"der",v);if(g.isError(C)&&S)break;x.push(C)}return x},p.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let x=0;x<m.length/2;x++)v+=String.fromCharCode(m.readUInt16BE(2*x));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},p.prototype._decodeObjid=function(g,y,m){let v;const x=[];let S=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),S<<=7,S|=127&C,(128&C)==0&&(x.push(S),S=0);128&C&&x.push(S);const A=x[0]/40|0,B=x[0]%40;if(v=m?x:[A,B].concat(x.slice(1)),y){let q=y[v.join(" ")];q===void 0&&(q=y[v.join(".")]),q!==void 0&&(v=q)}return v},p.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,x,S,C,A,B;if(y==="gentime")v=0|m.slice(0,4),x=0|m.slice(4,6),S=0|m.slice(6,8),C=0|m.slice(8,10),A=0|m.slice(10,12),B=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),x=0|m.slice(2,4),S=0|m.slice(4,6),C=0|m.slice(6,8),A=0|m.slice(8,10),B=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,x-1,S,C,A,B,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},p.prototype._decodeInt=function(g,y){const m=g.raw();let v=new o(m);return y&&(v=y[v.toString(10)]||v),v},p.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const a=s;a.der=e("./der"),a.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const a=e("inherits"),o=e("safer-buffer").Buffer,c=e("./der");function u(l){c.call(this,l),this.enc="pem"}a(u,c),n.exports=u,u.prototype.decode=function(l,d){const p=l.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let x=0;x<p.length;x++){const S=p[x].match(h);if(S!==null&&S[2]===f){if(g!==-1){if(S[1]!=="END")break;y=x;break}if(S[1]!=="BEGIN")break;g=x}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=p.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=o.from(m,"base64");return c.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const a=e("inherits"),o=e("safer-buffer").Buffer,c=e("../base/node"),u=e("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){c.call(this,"der",f)}function p(f){return f<10?"0"+f:f}n.exports=l,l.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},a(d,c),d.prototype._encodeComposite=function(f,h,g,y){const m=(function(S,C,A,B){let q;if(S==="seqof"?S="seq":S==="setof"&&(S="set"),u.tagByName.hasOwnProperty(S))q=u.tagByName[S];else{if(typeof S!="number"||(0|S)!==S)return B.error("Unknown tag: "+S);q=S}return q>=31?B.error("Multi-octet tag encoding unsupported"):(C||(q|=32),q|=u.tagClassByName[A||"universal"]<<6,q)})(f,h,g,this.reporter);if(y.length<128){const S=o.alloc(2);return S[0]=m,S[1]=y.length,this._createEncoderBuffer([S,y])}let v=1;for(let S=y.length;S>=256;S>>=8)v++;const x=o.alloc(2+v);x[0]=m,x[1]=128|v;for(let S=1+v,C=y.length;C>0;S--,C>>=8)x[S]=255&C;return this._createEncoderBuffer([x,y])},d.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=o.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},d.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let x=0;x<f.length;x++)f[x]|=0}else if(Array.isArray(f)){f=f.slice();for(let x=0;x<f.length;x++)f[x]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let x=0;x<f.length;x++){let S=f[x];for(y++;S>=128;S>>=7)y++}const m=o.alloc(y);let v=m.length-1;for(let x=f.length-1;x>=0;x--){let S=f[x];for(m[v--]=127&S;(S>>=7)>0;)m[v--]=128|127&S}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,h){let g;const y=new Date(f);return h==="gentime"?g=[p(y.getUTCFullYear()),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[p(y.getUTCFullYear()%100),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!o.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=o.from(m)}if(o.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=o.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,h,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const a=s;a.der=e("./der"),a.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const a=e("inherits"),o=e("./der");function c(u){o.call(this,u),this.enc="pem"}a(c,o),n.exports=c,c.prototype.encode=function(u,l){const d=o.prototype.encode.call(this,u).toString("base64"),p=["-----BEGIN "+l.label+"-----"];for(let f=0;f<d.length;f+=64)p.push(d.slice(f,f+64));return p.push("-----END "+l.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(a,o){function c(P,L){if(!P)throw new Error(L||"Assertion failed")}function u(P,L){P.super_=L;var T=function(){};T.prototype=L.prototype,P.prototype=new T,P.prototype.constructor=P}function l(P,L,T){if(l.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&(L!=="le"&&L!=="be"||(T=L,L=10),this._init(P||0,L||10,T||"be"))}var d;typeof a=="object"?a.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(P,L){var T=P.charCodeAt(L);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function f(P,L,T){var _=p(P,T);return T-1>=L&&(_|=p(P,T-1)<<4),_}function h(P,L,T,_){for(var k=0,j=Math.min(P.length,T),N=L;N<j;N++){var D=P.charCodeAt(N)-48;k*=_,k+=D>=49?D-49+10:D>=17?D-17+10:D}return k}l.isBN=function(P){return P instanceof l||P!==null&&typeof P=="object"&&P.constructor.wordSize===l.wordSize&&Array.isArray(P.words)},l.max=function(P,L){return P.cmp(L)>0?P:L},l.min=function(P,L){return P.cmp(L)<0?P:L},l.prototype._init=function(P,L,T){if(typeof P=="number")return this._initNumber(P,L,T);if(typeof P=="object")return this._initArray(P,L,T);L==="hex"&&(L=16),c(L===(0|L)&&L>=2&&L<=36);var _=0;(P=P.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<P.length&&(L===16?this._parseHex(P,_,T):(this._parseBase(P,L,_),T==="le"&&this._initArray(this.toArray(),L,T)))},l.prototype._initNumber=function(P,L,T){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(c(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),L,T)},l.prototype._initArray=function(P,L,T){if(c(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,j,N=0;if(T==="be")for(_=P.length-1,k=0;_>=0;_-=3)j=P[_]|P[_-1]<<8|P[_-2]<<16,this.words[k]|=j<<N&67108863,this.words[k+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);else if(T==="le")for(_=0,k=0;_<P.length;_+=3)j=P[_]|P[_+1]<<8|P[_+2]<<16,this.words[k]|=j<<N&67108863,this.words[k+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);return this.strip()},l.prototype._parseHex=function(P,L,T){this.length=Math.ceil((P.length-L)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,j=0,N=0;if(T==="be")for(_=P.length-1;_>=L;_-=2)k=f(P,L,_)<<j,this.words[N]|=67108863&k,j>=18?(j-=18,N+=1,this.words[N]|=k>>>26):j+=8;else for(_=(P.length-L)%2==0?L+1:L;_<P.length;_+=2)k=f(P,L,_)<<j,this.words[N]|=67108863&k,j>=18?(j-=18,N+=1,this.words[N]|=k>>>26):j+=8;this.strip()},l.prototype._parseBase=function(P,L,T){this.words=[0],this.length=1;for(var _=0,k=1;k<=67108863;k*=L)_++;_--,k=k/L|0;for(var j=P.length-T,N=j%_,D=Math.min(j,j-N)+T,O=0,z=T;z<D;z+=_)O=h(P,z,z+_,L),this.imuln(k),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(N!==0){var Q=1;for(O=h(P,z,P.length,L),z=0;z<N;z++)Q*=L;this.imuln(Q),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},l.prototype.copy=function(P){P.words=new Array(this.length);for(var L=0;L<this.length;L++)P.words[L]=this.words[L];P.length=this.length,P.negative=this.negative,P.red=this.red},l.prototype.clone=function(){var P=new l(null);return this.copy(P),P},l.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(P,L,T){T.negative=L.negative^P.negative;var _=P.length+L.length|0;T.length=_,_=_-1|0;var k=0|P.words[0],j=0|L.words[0],N=k*j,D=67108863&N,O=N/67108864|0;T.words[0]=D;for(var z=1;z<_;z++){for(var Q=O>>>26,Y=67108863&O,re=Math.min(z,L.length-1),F=Math.max(0,z-P.length+1);F<=re;F++){var Z=z-F|0;Q+=(N=(k=0|P.words[Z])*(j=0|L.words[F])+Y)/67108864|0,Y=67108863&N}T.words[z]=0|Y,O=0|Q}return O!==0?T.words[z]=0|O:T.length--,T.strip()}l.prototype.toString=function(P,L){var T;if(L=0|L||1,(P=P||10)===16||P==="hex"){T="";for(var _=0,k=0,j=0;j<this.length;j++){var N=this.words[j],D=(16777215&(N<<_|k)).toString(16);T=(k=N>>>24-_&16777215)!==0||j!==this.length-1?g[6-D.length]+D+T:D+T,(_+=2)>=26&&(_-=26,j--)}for(k!==0&&(T=k.toString(16)+T);T.length%L!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(P===(0|P)&&P>=2&&P<=36){var O=y[P],z=m[P];T="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var Y=Q.modn(z).toString(P);T=(Q=Q.idivn(z)).isZero()?Y+T:g[O-Y.length]+Y+T}for(this.isZero()&&(T="0"+T);T.length%L!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=67108864*this.words[1]:this.length===3&&this.words[2]===1?P+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(P,L){return c(d!==void 0),this.toArrayLike(d,P,L)},l.prototype.toArray=function(P,L){return this.toArrayLike(Array,P,L)},l.prototype.toArrayLike=function(P,L,T){var _=this.byteLength(),k=T||Math.max(1,_);c(_<=k,"byte array longer than desired length"),c(k>0,"Requested array length <= 0"),this.strip();var j,N,D=L==="le",O=new P(k),z=this.clone();if(D){for(N=0;!z.isZero();N++)j=z.andln(255),z.iushrn(8),O[N]=j;for(;N<k;N++)O[N]=0}else{for(N=0;N<k-_;N++)O[N]=0;for(N=0;!z.isZero();N++)j=z.andln(255),z.iushrn(8),O[k-N-1]=j}return O},Math.clz32?l.prototype._countBits=function(P){return 32-Math.clz32(P)}:l.prototype._countBits=function(P){var L=P,T=0;return L>=4096&&(T+=13,L>>>=13),L>=64&&(T+=7,L>>>=7),L>=8&&(T+=4,L>>>=4),L>=2&&(T+=2,L>>>=2),T+L},l.prototype._zeroBits=function(P){if(P===0)return 26;var L=P,T=0;return(8191&L)==0&&(T+=13,L>>>=13),(127&L)==0&&(T+=7,L>>>=7),(15&L)==0&&(T+=4,L>>>=4),(3&L)==0&&(T+=2,L>>>=2),(1&L)==0&&T++,T},l.prototype.bitLength=function(){var P=this.words[this.length-1],L=this._countBits(P);return 26*(this.length-1)+L},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,L=0;L<this.length;L++){var T=this._zeroBits(this.words[L]);if(P+=T,T!==26)break}return P},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},l.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var L=0;L<P.length;L++)this.words[L]=this.words[L]|P.words[L];return this.strip()},l.prototype.ior=function(P){return c((this.negative|P.negative)==0),this.iuor(P)},l.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},l.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},l.prototype.iuand=function(P){var L;L=this.length>P.length?P:this;for(var T=0;T<L.length;T++)this.words[T]=this.words[T]&P.words[T];return this.length=L.length,this.strip()},l.prototype.iand=function(P){return c((this.negative|P.negative)==0),this.iuand(P)},l.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},l.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},l.prototype.iuxor=function(P){var L,T;this.length>P.length?(L=this,T=P):(L=P,T=this);for(var _=0;_<T.length;_++)this.words[_]=L.words[_]^T.words[_];if(this!==L)for(;_<L.length;_++)this.words[_]=L.words[_];return this.length=L.length,this.strip()},l.prototype.ixor=function(P){return c((this.negative|P.negative)==0),this.iuxor(P)},l.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},l.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},l.prototype.inotn=function(P){c(typeof P=="number"&&P>=0);var L=0|Math.ceil(P/26),T=P%26;this._expand(L),T>0&&L--;for(var _=0;_<L;_++)this.words[_]=67108863&~this.words[_];return T>0&&(this.words[_]=~this.words[_]&67108863>>26-T),this.strip()},l.prototype.notn=function(P){return this.clone().inotn(P)},l.prototype.setn=function(P,L){c(typeof P=="number"&&P>=0);var T=P/26|0,_=P%26;return this._expand(T+1),this.words[T]=L?this.words[T]|1<<_:this.words[T]&~(1<<_),this.strip()},l.prototype.iadd=function(P){var L,T,_;if(this.negative!==0&&P.negative===0)return this.negative=0,L=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,L=this.isub(P),P.negative=1,L._normSign();this.length>P.length?(T=this,_=P):(T=P,_=this);for(var k=0,j=0;j<_.length;j++)L=(0|T.words[j])+(0|_.words[j])+k,this.words[j]=67108863&L,k=L>>>26;for(;k!==0&&j<T.length;j++)L=(0|T.words[j])+k,this.words[j]=67108863&L,k=L>>>26;if(this.length=T.length,k!==0)this.words[this.length]=k,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},l.prototype.add=function(P){var L;return P.negative!==0&&this.negative===0?(P.negative=0,L=this.sub(P),P.negative^=1,L):P.negative===0&&this.negative!==0?(this.negative=0,L=P.sub(this),this.negative=1,L):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},l.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var L=this.iadd(P);return P.negative=1,L._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var T,_,k=this.cmp(P);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(T=this,_=P):(T=P,_=this);for(var j=0,N=0;N<_.length;N++)j=(L=(0|T.words[N])-(0|_.words[N])+j)>>26,this.words[N]=67108863&L;for(;j!==0&&N<T.length;N++)j=(L=(0|T.words[N])+j)>>26,this.words[N]=67108863&L;if(j===0&&N<T.length&&T!==this)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=Math.max(this.length,N),T!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(P){return this.clone().isub(P)};var x=function(P,L,T){var _,k,j,N=P.words,D=L.words,O=T.words,z=0,Q=0|N[0],Y=8191&Q,re=Q>>>13,F=0|N[1],Z=8191&F,W=F>>>13,V=0|N[2],G=8191&V,ae=V>>>13,pe=0|N[3],ce=8191&pe,ge=pe>>>13,ee=0|N[4],oe=8191&ee,ne=ee>>>13,fe=0|N[5],le=8191&fe,ie=fe>>>13,te=0|N[6],se=8191&te,de=te>>>13,me=0|N[7],ke=8191&me,Ce=me>>>13,Fe=0|N[8],Ie=8191&Fe,Ue=Fe>>>13,tt=0|N[9],gt=8191&tt,Ze=tt>>>13,it=0|D[0],ve=8191&it,be=it>>>13,He=0|D[1],Xe=8191&He,ot=He>>>13,Xt=0|D[2],vt=8191&Xt,Yt=Xt>>>13,rr=0|D[3],At=8191&rr,Pt=rr>>>13,jr=0|D[4],Ot=8191&jr,Cr=jr>>>13,fr=0|D[5],Zt=8191&fr,Tr=fr>>>13,Bt=0|D[6],ar=8191&Bt,Ne=Bt>>>13,Me=0|D[7],We=8191&Me,rt=Me>>>13,zt=0|D[8],ht=8191&zt,Jt=zt>>>13,Kt=0|D[9],Ct=8191&Kt,ir=Kt>>>13;T.negative=P.negative^L.negative,T.length=19;var er=(z+(_=Math.imul(Y,ve))|0)+((8191&(k=(k=Math.imul(Y,be))+Math.imul(re,ve)|0))<<13)|0;z=((j=Math.imul(re,be))+(k>>>13)|0)+(er>>>26)|0,er&=67108863,_=Math.imul(Z,ve),k=(k=Math.imul(Z,be))+Math.imul(W,ve)|0,j=Math.imul(W,be);var we=(z+(_=_+Math.imul(Y,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(Y,ot)|0)+Math.imul(re,Xe)|0))<<13)|0;z=((j=j+Math.imul(re,ot)|0)+(k>>>13)|0)+(we>>>26)|0,we&=67108863,_=Math.imul(G,ve),k=(k=Math.imul(G,be))+Math.imul(ae,ve)|0,j=Math.imul(ae,be),_=_+Math.imul(Z,Xe)|0,k=(k=k+Math.imul(Z,ot)|0)+Math.imul(W,Xe)|0,j=j+Math.imul(W,ot)|0;var Ke=(z+(_=_+Math.imul(Y,vt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Yt)|0)+Math.imul(re,vt)|0))<<13)|0;z=((j=j+Math.imul(re,Yt)|0)+(k>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,_=Math.imul(ce,ve),k=(k=Math.imul(ce,be))+Math.imul(ge,ve)|0,j=Math.imul(ge,be),_=_+Math.imul(G,Xe)|0,k=(k=k+Math.imul(G,ot)|0)+Math.imul(ae,Xe)|0,j=j+Math.imul(ae,ot)|0,_=_+Math.imul(Z,vt)|0,k=(k=k+Math.imul(Z,Yt)|0)+Math.imul(W,vt)|0,j=j+Math.imul(W,Yt)|0;var bt=(z+(_=_+Math.imul(Y,At)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Pt)|0)+Math.imul(re,At)|0))<<13)|0;z=((j=j+Math.imul(re,Pt)|0)+(k>>>13)|0)+(bt>>>26)|0,bt&=67108863,_=Math.imul(oe,ve),k=(k=Math.imul(oe,be))+Math.imul(ne,ve)|0,j=Math.imul(ne,be),_=_+Math.imul(ce,Xe)|0,k=(k=k+Math.imul(ce,ot)|0)+Math.imul(ge,Xe)|0,j=j+Math.imul(ge,ot)|0,_=_+Math.imul(G,vt)|0,k=(k=k+Math.imul(G,Yt)|0)+Math.imul(ae,vt)|0,j=j+Math.imul(ae,Yt)|0,_=_+Math.imul(Z,At)|0,k=(k=k+Math.imul(Z,Pt)|0)+Math.imul(W,At)|0,j=j+Math.imul(W,Pt)|0;var kt=(z+(_=_+Math.imul(Y,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Cr)|0)+Math.imul(re,Ot)|0))<<13)|0;z=((j=j+Math.imul(re,Cr)|0)+(k>>>13)|0)+(kt>>>26)|0,kt&=67108863,_=Math.imul(le,ve),k=(k=Math.imul(le,be))+Math.imul(ie,ve)|0,j=Math.imul(ie,be),_=_+Math.imul(oe,Xe)|0,k=(k=k+Math.imul(oe,ot)|0)+Math.imul(ne,Xe)|0,j=j+Math.imul(ne,ot)|0,_=_+Math.imul(ce,vt)|0,k=(k=k+Math.imul(ce,Yt)|0)+Math.imul(ge,vt)|0,j=j+Math.imul(ge,Yt)|0,_=_+Math.imul(G,At)|0,k=(k=k+Math.imul(G,Pt)|0)+Math.imul(ae,At)|0,j=j+Math.imul(ae,Pt)|0,_=_+Math.imul(Z,Ot)|0,k=(k=k+Math.imul(Z,Cr)|0)+Math.imul(W,Ot)|0,j=j+Math.imul(W,Cr)|0;var Ft=(z+(_=_+Math.imul(Y,Zt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Tr)|0)+Math.imul(re,Zt)|0))<<13)|0;z=((j=j+Math.imul(re,Tr)|0)+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(se,ve),k=(k=Math.imul(se,be))+Math.imul(de,ve)|0,j=Math.imul(de,be),_=_+Math.imul(le,Xe)|0,k=(k=k+Math.imul(le,ot)|0)+Math.imul(ie,Xe)|0,j=j+Math.imul(ie,ot)|0,_=_+Math.imul(oe,vt)|0,k=(k=k+Math.imul(oe,Yt)|0)+Math.imul(ne,vt)|0,j=j+Math.imul(ne,Yt)|0,_=_+Math.imul(ce,At)|0,k=(k=k+Math.imul(ce,Pt)|0)+Math.imul(ge,At)|0,j=j+Math.imul(ge,Pt)|0,_=_+Math.imul(G,Ot)|0,k=(k=k+Math.imul(G,Cr)|0)+Math.imul(ae,Ot)|0,j=j+Math.imul(ae,Cr)|0,_=_+Math.imul(Z,Zt)|0,k=(k=k+Math.imul(Z,Tr)|0)+Math.imul(W,Zt)|0,j=j+Math.imul(W,Tr)|0;var Sn=(z+(_=_+Math.imul(Y,ar)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Ne)|0)+Math.imul(re,ar)|0))<<13)|0;z=((j=j+Math.imul(re,Ne)|0)+(k>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,_=Math.imul(ke,ve),k=(k=Math.imul(ke,be))+Math.imul(Ce,ve)|0,j=Math.imul(Ce,be),_=_+Math.imul(se,Xe)|0,k=(k=k+Math.imul(se,ot)|0)+Math.imul(de,Xe)|0,j=j+Math.imul(de,ot)|0,_=_+Math.imul(le,vt)|0,k=(k=k+Math.imul(le,Yt)|0)+Math.imul(ie,vt)|0,j=j+Math.imul(ie,Yt)|0,_=_+Math.imul(oe,At)|0,k=(k=k+Math.imul(oe,Pt)|0)+Math.imul(ne,At)|0,j=j+Math.imul(ne,Pt)|0,_=_+Math.imul(ce,Ot)|0,k=(k=k+Math.imul(ce,Cr)|0)+Math.imul(ge,Ot)|0,j=j+Math.imul(ge,Cr)|0,_=_+Math.imul(G,Zt)|0,k=(k=k+Math.imul(G,Tr)|0)+Math.imul(ae,Zt)|0,j=j+Math.imul(ae,Tr)|0,_=_+Math.imul(Z,ar)|0,k=(k=k+Math.imul(Z,Ne)|0)+Math.imul(W,ar)|0,j=j+Math.imul(W,Ne)|0;var ye=(z+(_=_+Math.imul(Y,We)|0)|0)+((8191&(k=(k=k+Math.imul(Y,rt)|0)+Math.imul(re,We)|0))<<13)|0;z=((j=j+Math.imul(re,rt)|0)+(k>>>13)|0)+(ye>>>26)|0,ye&=67108863,_=Math.imul(Ie,ve),k=(k=Math.imul(Ie,be))+Math.imul(Ue,ve)|0,j=Math.imul(Ue,be),_=_+Math.imul(ke,Xe)|0,k=(k=k+Math.imul(ke,ot)|0)+Math.imul(Ce,Xe)|0,j=j+Math.imul(Ce,ot)|0,_=_+Math.imul(se,vt)|0,k=(k=k+Math.imul(se,Yt)|0)+Math.imul(de,vt)|0,j=j+Math.imul(de,Yt)|0,_=_+Math.imul(le,At)|0,k=(k=k+Math.imul(le,Pt)|0)+Math.imul(ie,At)|0,j=j+Math.imul(ie,Pt)|0,_=_+Math.imul(oe,Ot)|0,k=(k=k+Math.imul(oe,Cr)|0)+Math.imul(ne,Ot)|0,j=j+Math.imul(ne,Cr)|0,_=_+Math.imul(ce,Zt)|0,k=(k=k+Math.imul(ce,Tr)|0)+Math.imul(ge,Zt)|0,j=j+Math.imul(ge,Tr)|0,_=_+Math.imul(G,ar)|0,k=(k=k+Math.imul(G,Ne)|0)+Math.imul(ae,ar)|0,j=j+Math.imul(ae,Ne)|0,_=_+Math.imul(Z,We)|0,k=(k=k+Math.imul(Z,rt)|0)+Math.imul(W,We)|0,j=j+Math.imul(W,rt)|0;var Pe=(z+(_=_+Math.imul(Y,ht)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Jt)|0)+Math.imul(re,ht)|0))<<13)|0;z=((j=j+Math.imul(re,Jt)|0)+(k>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,_=Math.imul(gt,ve),k=(k=Math.imul(gt,be))+Math.imul(Ze,ve)|0,j=Math.imul(Ze,be),_=_+Math.imul(Ie,Xe)|0,k=(k=k+Math.imul(Ie,ot)|0)+Math.imul(Ue,Xe)|0,j=j+Math.imul(Ue,ot)|0,_=_+Math.imul(ke,vt)|0,k=(k=k+Math.imul(ke,Yt)|0)+Math.imul(Ce,vt)|0,j=j+Math.imul(Ce,Yt)|0,_=_+Math.imul(se,At)|0,k=(k=k+Math.imul(se,Pt)|0)+Math.imul(de,At)|0,j=j+Math.imul(de,Pt)|0,_=_+Math.imul(le,Ot)|0,k=(k=k+Math.imul(le,Cr)|0)+Math.imul(ie,Ot)|0,j=j+Math.imul(ie,Cr)|0,_=_+Math.imul(oe,Zt)|0,k=(k=k+Math.imul(oe,Tr)|0)+Math.imul(ne,Zt)|0,j=j+Math.imul(ne,Tr)|0,_=_+Math.imul(ce,ar)|0,k=(k=k+Math.imul(ce,Ne)|0)+Math.imul(ge,ar)|0,j=j+Math.imul(ge,Ne)|0,_=_+Math.imul(G,We)|0,k=(k=k+Math.imul(G,rt)|0)+Math.imul(ae,We)|0,j=j+Math.imul(ae,rt)|0,_=_+Math.imul(Z,ht)|0,k=(k=k+Math.imul(Z,Jt)|0)+Math.imul(W,ht)|0,j=j+Math.imul(W,Jt)|0;var Qe=(z+(_=_+Math.imul(Y,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(Y,ir)|0)+Math.imul(re,Ct)|0))<<13)|0;z=((j=j+Math.imul(re,ir)|0)+(k>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(gt,Xe),k=(k=Math.imul(gt,ot))+Math.imul(Ze,Xe)|0,j=Math.imul(Ze,ot),_=_+Math.imul(Ie,vt)|0,k=(k=k+Math.imul(Ie,Yt)|0)+Math.imul(Ue,vt)|0,j=j+Math.imul(Ue,Yt)|0,_=_+Math.imul(ke,At)|0,k=(k=k+Math.imul(ke,Pt)|0)+Math.imul(Ce,At)|0,j=j+Math.imul(Ce,Pt)|0,_=_+Math.imul(se,Ot)|0,k=(k=k+Math.imul(se,Cr)|0)+Math.imul(de,Ot)|0,j=j+Math.imul(de,Cr)|0,_=_+Math.imul(le,Zt)|0,k=(k=k+Math.imul(le,Tr)|0)+Math.imul(ie,Zt)|0,j=j+Math.imul(ie,Tr)|0,_=_+Math.imul(oe,ar)|0,k=(k=k+Math.imul(oe,Ne)|0)+Math.imul(ne,ar)|0,j=j+Math.imul(ne,Ne)|0,_=_+Math.imul(ce,We)|0,k=(k=k+Math.imul(ce,rt)|0)+Math.imul(ge,We)|0,j=j+Math.imul(ge,rt)|0,_=_+Math.imul(G,ht)|0,k=(k=k+Math.imul(G,Jt)|0)+Math.imul(ae,ht)|0,j=j+Math.imul(ae,Jt)|0;var Ge=(z+(_=_+Math.imul(Z,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(Z,ir)|0)+Math.imul(W,Ct)|0))<<13)|0;z=((j=j+Math.imul(W,ir)|0)+(k>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(gt,vt),k=(k=Math.imul(gt,Yt))+Math.imul(Ze,vt)|0,j=Math.imul(Ze,Yt),_=_+Math.imul(Ie,At)|0,k=(k=k+Math.imul(Ie,Pt)|0)+Math.imul(Ue,At)|0,j=j+Math.imul(Ue,Pt)|0,_=_+Math.imul(ke,Ot)|0,k=(k=k+Math.imul(ke,Cr)|0)+Math.imul(Ce,Ot)|0,j=j+Math.imul(Ce,Cr)|0,_=_+Math.imul(se,Zt)|0,k=(k=k+Math.imul(se,Tr)|0)+Math.imul(de,Zt)|0,j=j+Math.imul(de,Tr)|0,_=_+Math.imul(le,ar)|0,k=(k=k+Math.imul(le,Ne)|0)+Math.imul(ie,ar)|0,j=j+Math.imul(ie,Ne)|0,_=_+Math.imul(oe,We)|0,k=(k=k+Math.imul(oe,rt)|0)+Math.imul(ne,We)|0,j=j+Math.imul(ne,rt)|0,_=_+Math.imul(ce,ht)|0,k=(k=k+Math.imul(ce,Jt)|0)+Math.imul(ge,ht)|0,j=j+Math.imul(ge,Jt)|0;var Mt=(z+(_=_+Math.imul(G,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(G,ir)|0)+Math.imul(ae,Ct)|0))<<13)|0;z=((j=j+Math.imul(ae,ir)|0)+(k>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(gt,At),k=(k=Math.imul(gt,Pt))+Math.imul(Ze,At)|0,j=Math.imul(Ze,Pt),_=_+Math.imul(Ie,Ot)|0,k=(k=k+Math.imul(Ie,Cr)|0)+Math.imul(Ue,Ot)|0,j=j+Math.imul(Ue,Cr)|0,_=_+Math.imul(ke,Zt)|0,k=(k=k+Math.imul(ke,Tr)|0)+Math.imul(Ce,Zt)|0,j=j+Math.imul(Ce,Tr)|0,_=_+Math.imul(se,ar)|0,k=(k=k+Math.imul(se,Ne)|0)+Math.imul(de,ar)|0,j=j+Math.imul(de,Ne)|0,_=_+Math.imul(le,We)|0,k=(k=k+Math.imul(le,rt)|0)+Math.imul(ie,We)|0,j=j+Math.imul(ie,rt)|0,_=_+Math.imul(oe,ht)|0,k=(k=k+Math.imul(oe,Jt)|0)+Math.imul(ne,ht)|0,j=j+Math.imul(ne,Jt)|0;var ut=(z+(_=_+Math.imul(ce,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(ce,ir)|0)+Math.imul(ge,Ct)|0))<<13)|0;z=((j=j+Math.imul(ge,ir)|0)+(k>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(gt,Ot),k=(k=Math.imul(gt,Cr))+Math.imul(Ze,Ot)|0,j=Math.imul(Ze,Cr),_=_+Math.imul(Ie,Zt)|0,k=(k=k+Math.imul(Ie,Tr)|0)+Math.imul(Ue,Zt)|0,j=j+Math.imul(Ue,Tr)|0,_=_+Math.imul(ke,ar)|0,k=(k=k+Math.imul(ke,Ne)|0)+Math.imul(Ce,ar)|0,j=j+Math.imul(Ce,Ne)|0,_=_+Math.imul(se,We)|0,k=(k=k+Math.imul(se,rt)|0)+Math.imul(de,We)|0,j=j+Math.imul(de,rt)|0,_=_+Math.imul(le,ht)|0,k=(k=k+Math.imul(le,Jt)|0)+Math.imul(ie,ht)|0,j=j+Math.imul(ie,Jt)|0;var mt=(z+(_=_+Math.imul(oe,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(oe,ir)|0)+Math.imul(ne,Ct)|0))<<13)|0;z=((j=j+Math.imul(ne,ir)|0)+(k>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(gt,Zt),k=(k=Math.imul(gt,Tr))+Math.imul(Ze,Zt)|0,j=Math.imul(Ze,Tr),_=_+Math.imul(Ie,ar)|0,k=(k=k+Math.imul(Ie,Ne)|0)+Math.imul(Ue,ar)|0,j=j+Math.imul(Ue,Ne)|0,_=_+Math.imul(ke,We)|0,k=(k=k+Math.imul(ke,rt)|0)+Math.imul(Ce,We)|0,j=j+Math.imul(Ce,rt)|0,_=_+Math.imul(se,ht)|0,k=(k=k+Math.imul(se,Jt)|0)+Math.imul(de,ht)|0,j=j+Math.imul(de,Jt)|0;var Pr=(z+(_=_+Math.imul(le,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(le,ir)|0)+Math.imul(ie,Ct)|0))<<13)|0;z=((j=j+Math.imul(ie,ir)|0)+(k>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(gt,ar),k=(k=Math.imul(gt,Ne))+Math.imul(Ze,ar)|0,j=Math.imul(Ze,Ne),_=_+Math.imul(Ie,We)|0,k=(k=k+Math.imul(Ie,rt)|0)+Math.imul(Ue,We)|0,j=j+Math.imul(Ue,rt)|0,_=_+Math.imul(ke,ht)|0,k=(k=k+Math.imul(ke,Jt)|0)+Math.imul(Ce,ht)|0,j=j+Math.imul(Ce,Jt)|0;var hr=(z+(_=_+Math.imul(se,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(se,ir)|0)+Math.imul(de,Ct)|0))<<13)|0;z=((j=j+Math.imul(de,ir)|0)+(k>>>13)|0)+(hr>>>26)|0,hr&=67108863,_=Math.imul(gt,We),k=(k=Math.imul(gt,rt))+Math.imul(Ze,We)|0,j=Math.imul(Ze,rt),_=_+Math.imul(Ie,ht)|0,k=(k=k+Math.imul(Ie,Jt)|0)+Math.imul(Ue,ht)|0,j=j+Math.imul(Ue,Jt)|0;var Vt=(z+(_=_+Math.imul(ke,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(ke,ir)|0)+Math.imul(Ce,Ct)|0))<<13)|0;z=((j=j+Math.imul(Ce,ir)|0)+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(gt,ht),k=(k=Math.imul(gt,Jt))+Math.imul(Ze,ht)|0,j=Math.imul(Ze,Jt);var Wt=(z+(_=_+Math.imul(Ie,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(Ie,ir)|0)+Math.imul(Ue,Ct)|0))<<13)|0;z=((j=j+Math.imul(Ue,ir)|0)+(k>>>13)|0)+(Wt>>>26)|0,Wt&=67108863;var vr=(z+(_=Math.imul(gt,Ct))|0)+((8191&(k=(k=Math.imul(gt,ir))+Math.imul(Ze,Ct)|0))<<13)|0;return z=((j=Math.imul(Ze,ir))+(k>>>13)|0)+(vr>>>26)|0,vr&=67108863,O[0]=er,O[1]=we,O[2]=Ke,O[3]=bt,O[4]=kt,O[5]=Ft,O[6]=Sn,O[7]=ye,O[8]=Pe,O[9]=Qe,O[10]=Ge,O[11]=Mt,O[12]=ut,O[13]=mt,O[14]=Pr,O[15]=hr,O[16]=Vt,O[17]=Wt,O[18]=vr,z!==0&&(O[19]=z,T.length++),T};function S(P,L,T){return new C().mulp(P,L,T)}function C(P,L){this.x=P,this.y=L}Math.imul||(x=v),l.prototype.mulTo=function(P,L){var T=this.length+P.length;return this.length===10&&P.length===10?x(this,P,L):T<63?v(this,P,L):T<1024?(function(_,k,j){j.negative=k.negative^_.negative,j.length=_.length+k.length;for(var N=0,D=0,O=0;O<j.length-1;O++){var z=D;D=0;for(var Q=67108863&N,Y=Math.min(O,k.length-1),re=Math.max(0,O-_.length+1);re<=Y;re++){var F=O-re,Z=(0|_.words[F])*(0|k.words[re]),W=67108863&Z;Q=67108863&(W=W+Q|0),D+=(z=(z=z+(Z/67108864|0)|0)+(W>>>26)|0)>>>26,z&=67108863}j.words[O]=Q,N=z,z=D}return N!==0?j.words[O]=N:j.length--,j.strip()})(this,P,L):S(this,P,L)},C.prototype.makeRBT=function(P){for(var L=new Array(P),T=l.prototype._countBits(P)-1,_=0;_<P;_++)L[_]=this.revBin(_,T,P);return L},C.prototype.revBin=function(P,L,T){if(P===0||P===T-1)return P;for(var _=0,k=0;k<L;k++)_|=(1&P)<<L-k-1,P>>=1;return _},C.prototype.permute=function(P,L,T,_,k,j){for(var N=0;N<j;N++)_[N]=L[P[N]],k[N]=T[P[N]]},C.prototype.transform=function(P,L,T,_,k,j){this.permute(j,P,L,T,_,k);for(var N=1;N<k;N<<=1)for(var D=N<<1,O=Math.cos(2*Math.PI/D),z=Math.sin(2*Math.PI/D),Q=0;Q<k;Q+=D)for(var Y=O,re=z,F=0;F<N;F++){var Z=T[Q+F],W=_[Q+F],V=T[Q+F+N],G=_[Q+F+N],ae=Y*V-re*G;G=Y*G+re*V,V=ae,T[Q+F]=Z+V,_[Q+F]=W+G,T[Q+F+N]=Z-V,_[Q+F+N]=W-G,F!==D&&(ae=O*Y-z*re,re=O*re+z*Y,Y=ae)}},C.prototype.guessLen13b=function(P,L){var T=1|Math.max(L,P),_=1&T,k=0;for(T=T/2|0;T;T>>>=1)k++;return 1<<k+1+_},C.prototype.conjugate=function(P,L,T){if(!(T<=1))for(var _=0;_<T/2;_++){var k=P[_];P[_]=P[T-_-1],P[T-_-1]=k,k=L[_],L[_]=-L[T-_-1],L[T-_-1]=-k}},C.prototype.normalize13b=function(P,L){for(var T=0,_=0;_<L/2;_++){var k=8192*Math.round(P[2*_+1]/L)+Math.round(P[2*_]/L)+T;P[_]=67108863&k,T=k<67108864?0:k/67108864|0}return P},C.prototype.convert13b=function(P,L,T,_){for(var k=0,j=0;j<L;j++)k+=0|P[j],T[2*j]=8191&k,k>>>=13,T[2*j+1]=8191&k,k>>>=13;for(j=2*L;j<_;++j)T[j]=0;c(k===0),c((-8192&k)==0)},C.prototype.stub=function(P){for(var L=new Array(P),T=0;T<P;T++)L[T]=0;return L},C.prototype.mulp=function(P,L,T){var _=2*this.guessLen13b(P.length,L.length),k=this.makeRBT(_),j=this.stub(_),N=new Array(_),D=new Array(_),O=new Array(_),z=new Array(_),Q=new Array(_),Y=new Array(_),re=T.words;re.length=_,this.convert13b(P.words,P.length,N,_),this.convert13b(L.words,L.length,z,_),this.transform(N,j,D,O,_,k),this.transform(z,j,Q,Y,_,k);for(var F=0;F<_;F++){var Z=D[F]*Q[F]-O[F]*Y[F];O[F]=D[F]*Y[F]+O[F]*Q[F],D[F]=Z}return this.conjugate(D,O,_),this.transform(D,O,re,j,_,k),this.conjugate(re,j,_),this.normalize13b(re,_),T.negative=P.negative^L.negative,T.length=P.length+L.length,T.strip()},l.prototype.mul=function(P){var L=new l(null);return L.words=new Array(this.length+P.length),this.mulTo(P,L)},l.prototype.mulf=function(P){var L=new l(null);return L.words=new Array(this.length+P.length),S(this,P,L)},l.prototype.imul=function(P){return this.clone().mulTo(P,this)},l.prototype.imuln=function(P){c(typeof P=="number"),c(P<67108864);for(var L=0,T=0;T<this.length;T++){var _=(0|this.words[T])*P,k=(67108863&_)+(67108863&L);L>>=26,L+=_/67108864|0,L+=k>>>26,this.words[T]=67108863&k}return L!==0&&(this.words[T]=L,this.length++),this},l.prototype.muln=function(P){return this.clone().imuln(P)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(P){var L=(function(j){for(var N=new Array(j.bitLength()),D=0;D<N.length;D++){var O=D/26|0,z=D%26;N[D]=(j.words[O]&1<<z)>>>z}return N})(P);if(L.length===0)return new l(1);for(var T=this,_=0;_<L.length&&L[_]===0;_++,T=T.sqr());if(++_<L.length)for(var k=T.sqr();_<L.length;_++,k=k.sqr())L[_]!==0&&(T=T.mul(k));return T},l.prototype.iushln=function(P){c(typeof P=="number"&&P>=0);var L,T=P%26,_=(P-T)/26,k=67108863>>>26-T<<26-T;if(T!==0){var j=0;for(L=0;L<this.length;L++){var N=this.words[L]&k,D=(0|this.words[L])-N<<T;this.words[L]=D|j,j=N>>>26-T}j&&(this.words[L]=j,this.length++)}if(_!==0){for(L=this.length-1;L>=0;L--)this.words[L+_]=this.words[L];for(L=0;L<_;L++)this.words[L]=0;this.length+=_}return this.strip()},l.prototype.ishln=function(P){return c(this.negative===0),this.iushln(P)},l.prototype.iushrn=function(P,L,T){var _;c(typeof P=="number"&&P>=0),_=L?(L-L%26)/26:0;var k=P%26,j=Math.min((P-k)/26,this.length),N=67108863^67108863>>>k<<k,D=T;if(_-=j,_=Math.max(0,_),D){for(var O=0;O<j;O++)D.words[O]=this.words[O];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,O=0;O<this.length;O++)this.words[O]=this.words[O+j];else this.words[0]=0,this.length=1;var z=0;for(O=this.length-1;O>=0&&(z!==0||O>=_);O--){var Q=0|this.words[O];this.words[O]=z<<26-k|Q>>>k,z=Q&N}return D&&z!==0&&(D.words[D.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(P,L,T){return c(this.negative===0),this.iushrn(P,L,T)},l.prototype.shln=function(P){return this.clone().ishln(P)},l.prototype.ushln=function(P){return this.clone().iushln(P)},l.prototype.shrn=function(P){return this.clone().ishrn(P)},l.prototype.ushrn=function(P){return this.clone().iushrn(P)},l.prototype.testn=function(P){c(typeof P=="number"&&P>=0);var L=P%26,T=(P-L)/26,_=1<<L;return!(this.length<=T)&&!!(this.words[T]&_)},l.prototype.imaskn=function(P){c(typeof P=="number"&&P>=0);var L=P%26,T=(P-L)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(L!==0&&T++,this.length=Math.min(T,this.length),L!==0){var _=67108863^67108863>>>L<<L;this.words[this.length-1]&=_}return this.strip()},l.prototype.maskn=function(P){return this.clone().imaskn(P)},l.prototype.iaddn=function(P){return c(typeof P=="number"),c(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},l.prototype._iaddn=function(P){this.words[0]+=P;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},l.prototype.isubn=function(P){if(c(typeof P=="number"),c(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},l.prototype.addn=function(P){return this.clone().iaddn(P)},l.prototype.subn=function(P){return this.clone().isubn(P)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(P,L,T){var _,k,j=P.length+T;this._expand(j);var N=0;for(_=0;_<P.length;_++){k=(0|this.words[_+T])+N;var D=(0|P.words[_])*L;N=((k-=67108863&D)>>26)-(D/67108864|0),this.words[_+T]=67108863&k}for(;_<this.length-T;_++)N=(k=(0|this.words[_+T])+N)>>26,this.words[_+T]=67108863&k;if(N===0)return this.strip();for(c(N===-1),N=0,_=0;_<this.length;_++)N=(k=-(0|this.words[_])+N)>>26,this.words[_]=67108863&k;return this.negative=1,this.strip()},l.prototype._wordDiv=function(P,L){var T=(this.length,P.length),_=this.clone(),k=P,j=0|k.words[k.length-1];(T=26-this._countBits(j))!==0&&(k=k.ushln(T),_.iushln(T),j=0|k.words[k.length-1]);var N,D=_.length-k.length;if(L!=="mod"){(N=new l(null)).length=D+1,N.words=new Array(N.length);for(var O=0;O<N.length;O++)N.words[O]=0}var z=_.clone()._ishlnsubmul(k,1,D);z.negative===0&&(_=z,N&&(N.words[D]=1));for(var Q=D-1;Q>=0;Q--){var Y=67108864*(0|_.words[k.length+Q])+(0|_.words[k.length+Q-1]);for(Y=Math.min(Y/j|0,67108863),_._ishlnsubmul(k,Y,Q);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(k,1,Q),_.isZero()||(_.negative^=1);N&&(N.words[Q]=Y)}return N&&N.strip(),_.strip(),L!=="div"&&T!==0&&_.iushrn(T),{div:N||null,mod:_}},l.prototype.divmod=function(P,L,T){return c(!P.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&P.negative===0?(j=this.neg().divmod(P,L),L!=="mod"&&(_=j.div.neg()),L!=="div"&&(k=j.mod.neg(),T&&k.negative!==0&&k.iadd(P)),{div:_,mod:k}):this.negative===0&&P.negative!==0?(j=this.divmod(P.neg(),L),L!=="mod"&&(_=j.div.neg()),{div:_,mod:j.mod}):(this.negative&P.negative)!=0?(j=this.neg().divmod(P.neg(),L),L!=="div"&&(k=j.mod.neg(),T&&k.negative!==0&&k.isub(P)),{div:j.div,mod:k}):P.length>this.length||this.cmp(P)<0?{div:new l(0),mod:this}:P.length===1?L==="div"?{div:this.divn(P.words[0]),mod:null}:L==="mod"?{div:null,mod:new l(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new l(this.modn(P.words[0]))}:this._wordDiv(P,L);var _,k,j},l.prototype.div=function(P){return this.divmod(P,"div",!1).div},l.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},l.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},l.prototype.divRound=function(P){var L=this.divmod(P);if(L.mod.isZero())return L.div;var T=L.div.negative!==0?L.mod.isub(P):L.mod,_=P.ushrn(1),k=P.andln(1),j=T.cmp(_);return j<0||k===1&&j===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},l.prototype.modn=function(P){c(P<=67108863);for(var L=(1<<26)%P,T=0,_=this.length-1;_>=0;_--)T=(L*T+(0|this.words[_]))%P;return T},l.prototype.idivn=function(P){c(P<=67108863);for(var L=0,T=this.length-1;T>=0;T--){var _=(0|this.words[T])+67108864*L;this.words[T]=_/P|0,L=_%P}return this.strip()},l.prototype.divn=function(P){return this.clone().idivn(P)},l.prototype.egcd=function(P){c(P.negative===0),c(!P.isZero());var L=this,T=P.clone();L=L.negative!==0?L.umod(P):L.clone();for(var _=new l(1),k=new l(0),j=new l(0),N=new l(1),D=0;L.isEven()&&T.isEven();)L.iushrn(1),T.iushrn(1),++D;for(var O=T.clone(),z=L.clone();!L.isZero();){for(var Q=0,Y=1;(L.words[0]&Y)==0&&Q<26;++Q,Y<<=1);if(Q>0)for(L.iushrn(Q);Q-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(O),k.isub(z)),_.iushrn(1),k.iushrn(1);for(var re=0,F=1;(T.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(T.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(O),N.isub(z)),j.iushrn(1),N.iushrn(1);L.cmp(T)>=0?(L.isub(T),_.isub(j),k.isub(N)):(T.isub(L),j.isub(_),N.isub(k))}return{a:j,b:N,gcd:T.iushln(D)}},l.prototype._invmp=function(P){c(P.negative===0),c(!P.isZero());var L=this,T=P.clone();L=L.negative!==0?L.umod(P):L.clone();for(var _,k=new l(1),j=new l(0),N=T.clone();L.cmpn(1)>0&&T.cmpn(1)>0;){for(var D=0,O=1;(L.words[0]&O)==0&&D<26;++D,O<<=1);if(D>0)for(L.iushrn(D);D-- >0;)k.isOdd()&&k.iadd(N),k.iushrn(1);for(var z=0,Q=1;(T.words[0]&Q)==0&&z<26;++z,Q<<=1);if(z>0)for(T.iushrn(z);z-- >0;)j.isOdd()&&j.iadd(N),j.iushrn(1);L.cmp(T)>=0?(L.isub(T),k.isub(j)):(T.isub(L),j.isub(k))}return(_=L.cmpn(1)===0?k:j).cmpn(0)<0&&_.iadd(P),_},l.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var L=this.clone(),T=P.clone();L.negative=0,T.negative=0;for(var _=0;L.isEven()&&T.isEven();_++)L.iushrn(1),T.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;T.isEven();)T.iushrn(1);var k=L.cmp(T);if(k<0){var j=L;L=T,T=j}else if(k===0||T.cmpn(1)===0)break;L.isub(T)}return T.iushln(_)},l.prototype.invm=function(P){return this.egcd(P).a.umod(P)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(P){return this.words[0]&P},l.prototype.bincn=function(P){c(typeof P=="number");var L=P%26,T=(P-L)/26,_=1<<L;if(this.length<=T)return this._expand(T+1),this.words[T]|=_,this;for(var k=_,j=T;k!==0&&j<this.length;j++){var N=0|this.words[j];k=(N+=k)>>>26,N&=67108863,this.words[j]=N}return k!==0&&(this.words[j]=k,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(P){var L,T=P<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this.strip(),this.length>1)L=1;else{T&&(P=-P),c(P<=67108863,"Number is too big");var _=0|this.words[0];L=_===P?0:_<P?-1:1}return this.negative!==0?0|-L:L},l.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var L=this.ucmp(P);return this.negative!==0?0|-L:L},l.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var L=0,T=this.length-1;T>=0;T--){var _=0|this.words[T],k=0|P.words[T];if(_!==k){_<k?L=-1:_>k&&(L=1);break}}return L},l.prototype.gtn=function(P){return this.cmpn(P)===1},l.prototype.gt=function(P){return this.cmp(P)===1},l.prototype.gten=function(P){return this.cmpn(P)>=0},l.prototype.gte=function(P){return this.cmp(P)>=0},l.prototype.ltn=function(P){return this.cmpn(P)===-1},l.prototype.lt=function(P){return this.cmp(P)===-1},l.prototype.lten=function(P){return this.cmpn(P)<=0},l.prototype.lte=function(P){return this.cmp(P)<=0},l.prototype.eqn=function(P){return this.cmpn(P)===0},l.prototype.eq=function(P){return this.cmp(P)===0},l.red=function(P){return new K(P)},l.prototype.toRed=function(P){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(P){return this.red=P,this},l.prototype.forceRed=function(P){return c(!this.red,"Already a number in reduction context"),this._forceRed(P)},l.prototype.redAdd=function(P){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},l.prototype.redIAdd=function(P){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},l.prototype.redSub=function(P){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},l.prototype.redISub=function(P){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},l.prototype.redShl=function(P){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},l.prototype.redMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},l.prototype.redIMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(P){return c(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var A={k256:null,p224:null,p192:null,p25519:null};function B(P,L){this.name=P,this.p=new l(L,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function K(P){if(typeof P=="string"){var L=l._prime(P);this.m=L.p,this.prime=L}else c(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function U(P){K.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var P=new l(null);return P.words=new Array(Math.ceil(this.n/13)),P},B.prototype.ireduce=function(P){var L,T=P;do this.split(T,this.tmp),L=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(L>this.n);var _=L<this.n?-1:T.ucmp(this.p);return _===0?(T.words[0]=0,T.length=1):_>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},B.prototype.split=function(P,L){P.iushrn(this.n,0,L)},B.prototype.imulK=function(P){return P.imul(this.k)},u(q,B),q.prototype.split=function(P,L){for(var T=Math.min(P.length,9),_=0;_<T;_++)L.words[_]=P.words[_];if(L.length=T,P.length<=9)return P.words[0]=0,void(P.length=1);var k=P.words[9];for(L.words[L.length++]=4194303&k,_=10;_<P.length;_++){var j=0|P.words[_];P.words[_-10]=(4194303&j)<<4|k>>>22,k=j}k>>>=22,P.words[_-10]=k,k===0&&P.length>10?P.length-=10:P.length-=9},q.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var L=0,T=0;T<P.length;T++){var _=0|P.words[T];L+=977*_,P.words[T]=67108863&L,L=64*_+(L/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P},u(R,B),u(I,B),u($,B),$.prototype.imulK=function(P){for(var L=0,T=0;T<P.length;T++){var _=19*(0|P.words[T])+L,k=67108863&_;_>>>=26,P.words[T]=k,L=_}return L!==0&&(P.words[P.length++]=L),P},l._prime=function(P){if(A[P])return A[P];var L;if(P==="k256")L=new q;else if(P==="p224")L=new R;else if(P==="p192")L=new I;else{if(P!=="p25519")throw new Error("Unknown prime "+P);L=new $}return A[P]=L,L},K.prototype._verify1=function(P){c(P.negative===0,"red works only with positives"),c(P.red,"red works only with red numbers")},K.prototype._verify2=function(P,L){c((P.negative|L.negative)==0,"red works only with positives"),c(P.red&&P.red===L.red,"red works only with red numbers")},K.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},K.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},K.prototype.add=function(P,L){this._verify2(P,L);var T=P.add(L);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},K.prototype.iadd=function(P,L){this._verify2(P,L);var T=P.iadd(L);return T.cmp(this.m)>=0&&T.isub(this.m),T},K.prototype.sub=function(P,L){this._verify2(P,L);var T=P.sub(L);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},K.prototype.isub=function(P,L){this._verify2(P,L);var T=P.isub(L);return T.cmpn(0)<0&&T.iadd(this.m),T},K.prototype.shl=function(P,L){return this._verify1(P),this.imod(P.ushln(L))},K.prototype.imul=function(P,L){return this._verify2(P,L),this.imod(P.imul(L))},K.prototype.mul=function(P,L){return this._verify2(P,L),this.imod(P.mul(L))},K.prototype.isqr=function(P){return this.imul(P,P.clone())},K.prototype.sqr=function(P){return this.mul(P,P)},K.prototype.sqrt=function(P){if(P.isZero())return P.clone();var L=this.m.andln(3);if(c(L%2==1),L===3){var T=this.m.add(new l(1)).iushrn(2);return this.pow(P,T)}for(var _=this.m.subn(1),k=0;!_.isZero()&&_.andln(1)===0;)k++,_.iushrn(1);c(!_.isZero());var j=new l(1).toRed(this),N=j.redNeg(),D=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new l(2*O*O).toRed(this);this.pow(O,D).cmp(N)!==0;)O.redIAdd(N);for(var z=this.pow(O,_),Q=this.pow(P,_.addn(1).iushrn(1)),Y=this.pow(P,_),re=k;Y.cmp(j)!==0;){for(var F=Y,Z=0;F.cmp(j)!==0;Z++)F=F.redSqr();c(Z<re);var W=this.pow(z,new l(1).iushln(re-Z-1));Q=Q.redMul(W),z=W.redSqr(),Y=Y.redMul(z),re=Z}return Q},K.prototype.invm=function(P){var L=P._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},K.prototype.pow=function(P,L){if(L.isZero())return new l(1).toRed(this);if(L.cmpn(1)===0)return P.clone();var T=new Array(16);T[0]=new l(1).toRed(this),T[1]=P;for(var _=2;_<T.length;_++)T[_]=this.mul(T[_-1],P);var k=T[0],j=0,N=0,D=L.bitLength()%26;for(D===0&&(D=26),_=L.length-1;_>=0;_--){for(var O=L.words[_],z=D-1;z>=0;z--){var Q=O>>z&1;k!==T[0]&&(k=this.sqr(k)),Q!==0||j!==0?(j<<=1,j|=Q,(++N===4||_===0&&z===0)&&(k=this.mul(k,T[j]),N=0,j=0)):N=0}D=26}return k},K.prototype.convertTo=function(P){var L=P.umod(this.m);return L===P?L.clone():L},K.prototype.convertFrom=function(P){var L=P.clone();return L.red=null,L},l.mont=function(P){return new U(P)},u(U,K),U.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},U.prototype.convertFrom=function(P){var L=this.imod(P.mul(this.rinv));return L.red=null,L},U.prototype.imul=function(P,L){if(P.isZero()||L.isZero())return P.words[0]=0,P.length=1,P;var T=P.imul(L),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=T.isub(_).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},U.prototype.mul=function(P,L){if(P.isZero()||L.isZero())return new l(0)._forceRed(this);var T=P.mul(L),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=T.isub(_).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},U.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(h){var g=p(h),y=g[0],m=g[1];return 3*(y+m)/4-m},s.toByteArray=function(h){var g,y,m=p(h),v=m[0],x=m[1],S=new c((function(B,q,R){return 3*(q+R)/4-R})(0,v,x)),C=0,A=x>0?v-4:v;for(y=0;y<A;y+=4)g=o[h.charCodeAt(y)]<<18|o[h.charCodeAt(y+1)]<<12|o[h.charCodeAt(y+2)]<<6|o[h.charCodeAt(y+3)],S[C++]=g>>16&255,S[C++]=g>>8&255,S[C++]=255&g;return x===2&&(g=o[h.charCodeAt(y)]<<2|o[h.charCodeAt(y+1)]>>4,S[C++]=255&g),x===1&&(g=o[h.charCodeAt(y)]<<10|o[h.charCodeAt(y+1)]<<4|o[h.charCodeAt(y+2)]>>2,S[C++]=g>>8&255,S[C++]=255&g),S},s.fromByteArray=function(h){for(var g,y=h.length,m=y%3,v=[],x=0,S=y-m;x<S;x+=16383)v.push(f(h,x,x+16383>S?S:x+16383));return m===1?(g=h[y-1],v.push(a[g>>2]+a[g<<4&63]+"==")):m===2&&(g=(h[y-2]<<8)+h[y-1],v.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"=")),v.join("")};for(var a=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)a[l]=u[l],o[u.charCodeAt(l)]=l;function p(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(h,g,y){for(var m,v,x=[],S=g;S<y;S+=3)m=(h[S]<<16&16711680)+(h[S+1]<<8&65280)+(255&h[S+2]),x.push(a[(v=m)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return x.join("")}o[45]=62,o[95]=63},{}],186:[function(e,n,s){(function(a,o){function c(T,_){if(!T)throw new Error(_||"Assertion failed")}function u(T,_){T.super_=_;var k=function(){};k.prototype=_.prototype,T.prototype=new k,T.prototype.constructor=T}function l(T,_,k){if(l.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(_!=="le"&&_!=="be"||(k=_,_=10),this._init(T||0,_||10,k||"be"))}var d;typeof a=="object"?a.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(T,_){var k=T.charCodeAt(_);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void c(!1,"Invalid character in "+T)}function f(T,_,k){var j=p(T,k);return k-1>=_&&(j|=p(T,k-1)<<4),j}function h(T,_,k,j){for(var N=0,D=0,O=Math.min(T.length,k),z=_;z<O;z++){var Q=T.charCodeAt(z)-48;N*=j,D=Q>=49?Q-49+10:Q>=17?Q-17+10:Q,c(Q>=0&&D<j,"Invalid character"),N+=D}return N}function g(T,_){T.words=_.words,T.length=_.length,T.negative=_.negative,T.red=_.red}if(l.isBN=function(T){return T instanceof l||T!==null&&typeof T=="object"&&T.constructor.wordSize===l.wordSize&&Array.isArray(T.words)},l.max=function(T,_){return T.cmp(_)>0?T:_},l.min=function(T,_){return T.cmp(_)<0?T:_},l.prototype._init=function(T,_,k){if(typeof T=="number")return this._initNumber(T,_,k);if(typeof T=="object")return this._initArray(T,_,k);_==="hex"&&(_=16),c(_===(0|_)&&_>=2&&_<=36);var j=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<T.length&&(_===16?this._parseHex(T,j,k):(this._parseBase(T,_,j),k==="le"&&this._initArray(this.toArray(),_,k)))},l.prototype._initNumber=function(T,_,k){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(c(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),_,k)},l.prototype._initArray=function(T,_,k){if(c(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,D,O=0;if(k==="be")for(j=T.length-1,N=0;j>=0;j-=3)D=T[j]|T[j-1]<<8|T[j-2]<<16,this.words[N]|=D<<O&67108863,this.words[N+1]=D>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);else if(k==="le")for(j=0,N=0;j<T.length;j+=3)D=T[j]|T[j+1]<<8|T[j+2]<<16,this.words[N]|=D<<O&67108863,this.words[N+1]=D>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);return this._strip()},l.prototype._parseHex=function(T,_,k){this.length=Math.ceil((T.length-_)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,D=0,O=0;if(k==="be")for(j=T.length-1;j>=_;j-=2)N=f(T,_,j)<<D,this.words[O]|=67108863&N,D>=18?(D-=18,O+=1,this.words[O]|=N>>>26):D+=8;else for(j=(T.length-_)%2==0?_+1:_;j<T.length;j+=2)N=f(T,_,j)<<D,this.words[O]|=67108863&N,D>=18?(D-=18,O+=1,this.words[O]|=N>>>26):D+=8;this._strip()},l.prototype._parseBase=function(T,_,k){this.words=[0],this.length=1;for(var j=0,N=1;N<=67108863;N*=_)j++;j--,N=N/_|0;for(var D=T.length-k,O=D%j,z=Math.min(D,D-O)+k,Q=0,Y=k;Y<z;Y+=j)Q=h(T,Y,Y+j,_),this.imuln(N),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(O!==0){var re=1;for(Q=h(T,Y,T.length,_),Y=0;Y<O;Y++)re*=_;this.imuln(re),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},l.prototype.copy=function(T){T.words=new Array(this.length);for(var _=0;_<this.length;_++)T.words[_]=this.words[_];T.length=this.length,T.negative=this.negative,T.red=this.red},l.prototype._move=function(T){g(T,this)},l.prototype.clone=function(){var T=new l(null);return this.copy(T),T},l.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(T,_){var k;if(_=0|_||1,(T=T||10)===16||T==="hex"){k="";for(var j=0,N=0,D=0;D<this.length;D++){var O=this.words[D],z=(16777215&(O<<j|N)).toString(16);N=O>>>24-j&16777215,(j+=2)>=26&&(j-=26,D--),k=N!==0||D!==this.length-1?m[6-z.length]+z+k:z+k}for(N!==0&&(k=N.toString(16)+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(T===(0|T)&&T>=2&&T<=36){var Q=v[T],Y=x[T];k="";var re=this.clone();for(re.negative=0;!re.isZero();){var F=re.modrn(Y).toString(T);k=(re=re.idivn(Y)).isZero()?F+k:m[Q-F.length]+F+k}for(this.isZero()&&(k="0"+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},l.prototype.toJSON=function(){return this.toString(16,2)},d&&(l.prototype.toBuffer=function(T,_){return this.toArrayLike(d,T,_)}),l.prototype.toArray=function(T,_){return this.toArrayLike(Array,T,_)};function S(T,_,k){k.negative=_.negative^T.negative;var j=T.length+_.length|0;k.length=j,j=j-1|0;var N=0|T.words[0],D=0|_.words[0],O=N*D,z=67108863&O,Q=O/67108864|0;k.words[0]=z;for(var Y=1;Y<j;Y++){for(var re=Q>>>26,F=67108863&Q,Z=Math.min(Y,_.length-1),W=Math.max(0,Y-T.length+1);W<=Z;W++){var V=Y-W|0;re+=(O=(N=0|T.words[V])*(D=0|_.words[W])+F)/67108864|0,F=67108863&O}k.words[Y]=0|F,Q=0|re}return Q!==0?k.words[Y]=0|Q:k.length--,k._strip()}l.prototype.toArrayLike=function(T,_,k){this._strip();var j=this.byteLength(),N=k||Math.max(1,j);c(j<=N,"byte array longer than desired length"),c(N>0,"Requested array length <= 0");var D=(function(O,z){return O.allocUnsafe?O.allocUnsafe(z):new O(z)})(T,N);return this["_toArrayLike"+(_==="le"?"LE":"BE")](D,j),D},l.prototype._toArrayLikeLE=function(T,_){for(var k=0,j=0,N=0,D=0;N<this.length;N++){var O=this.words[N]<<D|j;T[k++]=255&O,k<T.length&&(T[k++]=O>>8&255),k<T.length&&(T[k++]=O>>16&255),D===6?(k<T.length&&(T[k++]=O>>24&255),j=0,D=0):(j=O>>>24,D+=2)}if(k<T.length)for(T[k++]=j;k<T.length;)T[k++]=0},l.prototype._toArrayLikeBE=function(T,_){for(var k=T.length-1,j=0,N=0,D=0;N<this.length;N++){var O=this.words[N]<<D|j;T[k--]=255&O,k>=0&&(T[k--]=O>>8&255),k>=0&&(T[k--]=O>>16&255),D===6?(k>=0&&(T[k--]=O>>24&255),j=0,D=0):(j=O>>>24,D+=2)}if(k>=0)for(T[k--]=j;k>=0;)T[k--]=0},Math.clz32?l.prototype._countBits=function(T){return 32-Math.clz32(T)}:l.prototype._countBits=function(T){var _=T,k=0;return _>=4096&&(k+=13,_>>>=13),_>=64&&(k+=7,_>>>=7),_>=8&&(k+=4,_>>>=4),_>=2&&(k+=2,_>>>=2),k+_},l.prototype._zeroBits=function(T){if(T===0)return 26;var _=T,k=0;return(8191&_)==0&&(k+=13,_>>>=13),(127&_)==0&&(k+=7,_>>>=7),(15&_)==0&&(k+=4,_>>>=4),(3&_)==0&&(k+=2,_>>>=2),(1&_)==0&&k++,k},l.prototype.bitLength=function(){var T=this.words[this.length-1],_=this._countBits(T);return 26*(this.length-1)+_},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,_=0;_<this.length;_++){var k=this._zeroBits(this.words[_]);if(T+=k,k!==26)break}return T},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},l.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var _=0;_<T.length;_++)this.words[_]=this.words[_]|T.words[_];return this._strip()},l.prototype.ior=function(T){return c((this.negative|T.negative)==0),this.iuor(T)},l.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},l.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},l.prototype.iuand=function(T){var _;_=this.length>T.length?T:this;for(var k=0;k<_.length;k++)this.words[k]=this.words[k]&T.words[k];return this.length=_.length,this._strip()},l.prototype.iand=function(T){return c((this.negative|T.negative)==0),this.iuand(T)},l.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},l.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},l.prototype.iuxor=function(T){var _,k;this.length>T.length?(_=this,k=T):(_=T,k=this);for(var j=0;j<k.length;j++)this.words[j]=_.words[j]^k.words[j];if(this!==_)for(;j<_.length;j++)this.words[j]=_.words[j];return this.length=_.length,this._strip()},l.prototype.ixor=function(T){return c((this.negative|T.negative)==0),this.iuxor(T)},l.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},l.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},l.prototype.inotn=function(T){c(typeof T=="number"&&T>=0);var _=0|Math.ceil(T/26),k=T%26;this._expand(_),k>0&&_--;for(var j=0;j<_;j++)this.words[j]=67108863&~this.words[j];return k>0&&(this.words[j]=~this.words[j]&67108863>>26-k),this._strip()},l.prototype.notn=function(T){return this.clone().inotn(T)},l.prototype.setn=function(T,_){c(typeof T=="number"&&T>=0);var k=T/26|0,j=T%26;return this._expand(k+1),this.words[k]=_?this.words[k]|1<<j:this.words[k]&~(1<<j),this._strip()},l.prototype.iadd=function(T){var _,k,j;if(this.negative!==0&&T.negative===0)return this.negative=0,_=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,_=this.isub(T),T.negative=1,_._normSign();this.length>T.length?(k=this,j=T):(k=T,j=this);for(var N=0,D=0;D<j.length;D++)_=(0|k.words[D])+(0|j.words[D])+N,this.words[D]=67108863&_,N=_>>>26;for(;N!==0&&D<k.length;D++)_=(0|k.words[D])+N,this.words[D]=67108863&_,N=_>>>26;if(this.length=k.length,N!==0)this.words[this.length]=N,this.length++;else if(k!==this)for(;D<k.length;D++)this.words[D]=k.words[D];return this},l.prototype.add=function(T){var _;return T.negative!==0&&this.negative===0?(T.negative=0,_=this.sub(T),T.negative^=1,_):T.negative===0&&this.negative!==0?(this.negative=0,_=T.sub(this),this.negative=1,_):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},l.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var _=this.iadd(T);return T.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var k,j,N=this.cmp(T);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(k=this,j=T):(k=T,j=this);for(var D=0,O=0;O<j.length;O++)D=(_=(0|k.words[O])-(0|j.words[O])+D)>>26,this.words[O]=67108863&_;for(;D!==0&&O<k.length;O++)D=(_=(0|k.words[O])+D)>>26,this.words[O]=67108863&_;if(D===0&&O<k.length&&k!==this)for(;O<k.length;O++)this.words[O]=k.words[O];return this.length=Math.max(this.length,O),k!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(T){return this.clone().isub(T)};var C=function(T,_,k){var j,N,D,O=T.words,z=_.words,Q=k.words,Y=0,re=0|O[0],F=8191&re,Z=re>>>13,W=0|O[1],V=8191&W,G=W>>>13,ae=0|O[2],pe=8191&ae,ce=ae>>>13,ge=0|O[3],ee=8191&ge,oe=ge>>>13,ne=0|O[4],fe=8191&ne,le=ne>>>13,ie=0|O[5],te=8191&ie,se=ie>>>13,de=0|O[6],me=8191&de,ke=de>>>13,Ce=0|O[7],Fe=8191&Ce,Ie=Ce>>>13,Ue=0|O[8],tt=8191&Ue,gt=Ue>>>13,Ze=0|O[9],it=8191&Ze,ve=Ze>>>13,be=0|z[0],He=8191&be,Xe=be>>>13,ot=0|z[1],Xt=8191&ot,vt=ot>>>13,Yt=0|z[2],rr=8191&Yt,At=Yt>>>13,Pt=0|z[3],jr=8191&Pt,Ot=Pt>>>13,Cr=0|z[4],fr=8191&Cr,Zt=Cr>>>13,Tr=0|z[5],Bt=8191&Tr,ar=Tr>>>13,Ne=0|z[6],Me=8191&Ne,We=Ne>>>13,rt=0|z[7],zt=8191&rt,ht=rt>>>13,Jt=0|z[8],Kt=8191&Jt,Ct=Jt>>>13,ir=0|z[9],er=8191&ir,we=ir>>>13;k.negative=T.negative^_.negative,k.length=19;var Ke=(Y+(j=Math.imul(F,He))|0)+((8191&(N=(N=Math.imul(F,Xe))+Math.imul(Z,He)|0))<<13)|0;Y=((D=Math.imul(Z,Xe))+(N>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,j=Math.imul(V,He),N=(N=Math.imul(V,Xe))+Math.imul(G,He)|0,D=Math.imul(G,Xe);var bt=(Y+(j=j+Math.imul(F,Xt)|0)|0)+((8191&(N=(N=N+Math.imul(F,vt)|0)+Math.imul(Z,Xt)|0))<<13)|0;Y=((D=D+Math.imul(Z,vt)|0)+(N>>>13)|0)+(bt>>>26)|0,bt&=67108863,j=Math.imul(pe,He),N=(N=Math.imul(pe,Xe))+Math.imul(ce,He)|0,D=Math.imul(ce,Xe),j=j+Math.imul(V,Xt)|0,N=(N=N+Math.imul(V,vt)|0)+Math.imul(G,Xt)|0,D=D+Math.imul(G,vt)|0;var kt=(Y+(j=j+Math.imul(F,rr)|0)|0)+((8191&(N=(N=N+Math.imul(F,At)|0)+Math.imul(Z,rr)|0))<<13)|0;Y=((D=D+Math.imul(Z,At)|0)+(N>>>13)|0)+(kt>>>26)|0,kt&=67108863,j=Math.imul(ee,He),N=(N=Math.imul(ee,Xe))+Math.imul(oe,He)|0,D=Math.imul(oe,Xe),j=j+Math.imul(pe,Xt)|0,N=(N=N+Math.imul(pe,vt)|0)+Math.imul(ce,Xt)|0,D=D+Math.imul(ce,vt)|0,j=j+Math.imul(V,rr)|0,N=(N=N+Math.imul(V,At)|0)+Math.imul(G,rr)|0,D=D+Math.imul(G,At)|0;var Ft=(Y+(j=j+Math.imul(F,jr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Ot)|0)+Math.imul(Z,jr)|0))<<13)|0;Y=((D=D+Math.imul(Z,Ot)|0)+(N>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,j=Math.imul(fe,He),N=(N=Math.imul(fe,Xe))+Math.imul(le,He)|0,D=Math.imul(le,Xe),j=j+Math.imul(ee,Xt)|0,N=(N=N+Math.imul(ee,vt)|0)+Math.imul(oe,Xt)|0,D=D+Math.imul(oe,vt)|0,j=j+Math.imul(pe,rr)|0,N=(N=N+Math.imul(pe,At)|0)+Math.imul(ce,rr)|0,D=D+Math.imul(ce,At)|0,j=j+Math.imul(V,jr)|0,N=(N=N+Math.imul(V,Ot)|0)+Math.imul(G,jr)|0,D=D+Math.imul(G,Ot)|0;var Sn=(Y+(j=j+Math.imul(F,fr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Zt)|0)+Math.imul(Z,fr)|0))<<13)|0;Y=((D=D+Math.imul(Z,Zt)|0)+(N>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,j=Math.imul(te,He),N=(N=Math.imul(te,Xe))+Math.imul(se,He)|0,D=Math.imul(se,Xe),j=j+Math.imul(fe,Xt)|0,N=(N=N+Math.imul(fe,vt)|0)+Math.imul(le,Xt)|0,D=D+Math.imul(le,vt)|0,j=j+Math.imul(ee,rr)|0,N=(N=N+Math.imul(ee,At)|0)+Math.imul(oe,rr)|0,D=D+Math.imul(oe,At)|0,j=j+Math.imul(pe,jr)|0,N=(N=N+Math.imul(pe,Ot)|0)+Math.imul(ce,jr)|0,D=D+Math.imul(ce,Ot)|0,j=j+Math.imul(V,fr)|0,N=(N=N+Math.imul(V,Zt)|0)+Math.imul(G,fr)|0,D=D+Math.imul(G,Zt)|0;var ye=(Y+(j=j+Math.imul(F,Bt)|0)|0)+((8191&(N=(N=N+Math.imul(F,ar)|0)+Math.imul(Z,Bt)|0))<<13)|0;Y=((D=D+Math.imul(Z,ar)|0)+(N>>>13)|0)+(ye>>>26)|0,ye&=67108863,j=Math.imul(me,He),N=(N=Math.imul(me,Xe))+Math.imul(ke,He)|0,D=Math.imul(ke,Xe),j=j+Math.imul(te,Xt)|0,N=(N=N+Math.imul(te,vt)|0)+Math.imul(se,Xt)|0,D=D+Math.imul(se,vt)|0,j=j+Math.imul(fe,rr)|0,N=(N=N+Math.imul(fe,At)|0)+Math.imul(le,rr)|0,D=D+Math.imul(le,At)|0,j=j+Math.imul(ee,jr)|0,N=(N=N+Math.imul(ee,Ot)|0)+Math.imul(oe,jr)|0,D=D+Math.imul(oe,Ot)|0,j=j+Math.imul(pe,fr)|0,N=(N=N+Math.imul(pe,Zt)|0)+Math.imul(ce,fr)|0,D=D+Math.imul(ce,Zt)|0,j=j+Math.imul(V,Bt)|0,N=(N=N+Math.imul(V,ar)|0)+Math.imul(G,Bt)|0,D=D+Math.imul(G,ar)|0;var Pe=(Y+(j=j+Math.imul(F,Me)|0)|0)+((8191&(N=(N=N+Math.imul(F,We)|0)+Math.imul(Z,Me)|0))<<13)|0;Y=((D=D+Math.imul(Z,We)|0)+(N>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,j=Math.imul(Fe,He),N=(N=Math.imul(Fe,Xe))+Math.imul(Ie,He)|0,D=Math.imul(Ie,Xe),j=j+Math.imul(me,Xt)|0,N=(N=N+Math.imul(me,vt)|0)+Math.imul(ke,Xt)|0,D=D+Math.imul(ke,vt)|0,j=j+Math.imul(te,rr)|0,N=(N=N+Math.imul(te,At)|0)+Math.imul(se,rr)|0,D=D+Math.imul(se,At)|0,j=j+Math.imul(fe,jr)|0,N=(N=N+Math.imul(fe,Ot)|0)+Math.imul(le,jr)|0,D=D+Math.imul(le,Ot)|0,j=j+Math.imul(ee,fr)|0,N=(N=N+Math.imul(ee,Zt)|0)+Math.imul(oe,fr)|0,D=D+Math.imul(oe,Zt)|0,j=j+Math.imul(pe,Bt)|0,N=(N=N+Math.imul(pe,ar)|0)+Math.imul(ce,Bt)|0,D=D+Math.imul(ce,ar)|0,j=j+Math.imul(V,Me)|0,N=(N=N+Math.imul(V,We)|0)+Math.imul(G,Me)|0,D=D+Math.imul(G,We)|0;var Qe=(Y+(j=j+Math.imul(F,zt)|0)|0)+((8191&(N=(N=N+Math.imul(F,ht)|0)+Math.imul(Z,zt)|0))<<13)|0;Y=((D=D+Math.imul(Z,ht)|0)+(N>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,j=Math.imul(tt,He),N=(N=Math.imul(tt,Xe))+Math.imul(gt,He)|0,D=Math.imul(gt,Xe),j=j+Math.imul(Fe,Xt)|0,N=(N=N+Math.imul(Fe,vt)|0)+Math.imul(Ie,Xt)|0,D=D+Math.imul(Ie,vt)|0,j=j+Math.imul(me,rr)|0,N=(N=N+Math.imul(me,At)|0)+Math.imul(ke,rr)|0,D=D+Math.imul(ke,At)|0,j=j+Math.imul(te,jr)|0,N=(N=N+Math.imul(te,Ot)|0)+Math.imul(se,jr)|0,D=D+Math.imul(se,Ot)|0,j=j+Math.imul(fe,fr)|0,N=(N=N+Math.imul(fe,Zt)|0)+Math.imul(le,fr)|0,D=D+Math.imul(le,Zt)|0,j=j+Math.imul(ee,Bt)|0,N=(N=N+Math.imul(ee,ar)|0)+Math.imul(oe,Bt)|0,D=D+Math.imul(oe,ar)|0,j=j+Math.imul(pe,Me)|0,N=(N=N+Math.imul(pe,We)|0)+Math.imul(ce,Me)|0,D=D+Math.imul(ce,We)|0,j=j+Math.imul(V,zt)|0,N=(N=N+Math.imul(V,ht)|0)+Math.imul(G,zt)|0,D=D+Math.imul(G,ht)|0;var Ge=(Y+(j=j+Math.imul(F,Kt)|0)|0)+((8191&(N=(N=N+Math.imul(F,Ct)|0)+Math.imul(Z,Kt)|0))<<13)|0;Y=((D=D+Math.imul(Z,Ct)|0)+(N>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,j=Math.imul(it,He),N=(N=Math.imul(it,Xe))+Math.imul(ve,He)|0,D=Math.imul(ve,Xe),j=j+Math.imul(tt,Xt)|0,N=(N=N+Math.imul(tt,vt)|0)+Math.imul(gt,Xt)|0,D=D+Math.imul(gt,vt)|0,j=j+Math.imul(Fe,rr)|0,N=(N=N+Math.imul(Fe,At)|0)+Math.imul(Ie,rr)|0,D=D+Math.imul(Ie,At)|0,j=j+Math.imul(me,jr)|0,N=(N=N+Math.imul(me,Ot)|0)+Math.imul(ke,jr)|0,D=D+Math.imul(ke,Ot)|0,j=j+Math.imul(te,fr)|0,N=(N=N+Math.imul(te,Zt)|0)+Math.imul(se,fr)|0,D=D+Math.imul(se,Zt)|0,j=j+Math.imul(fe,Bt)|0,N=(N=N+Math.imul(fe,ar)|0)+Math.imul(le,Bt)|0,D=D+Math.imul(le,ar)|0,j=j+Math.imul(ee,Me)|0,N=(N=N+Math.imul(ee,We)|0)+Math.imul(oe,Me)|0,D=D+Math.imul(oe,We)|0,j=j+Math.imul(pe,zt)|0,N=(N=N+Math.imul(pe,ht)|0)+Math.imul(ce,zt)|0,D=D+Math.imul(ce,ht)|0,j=j+Math.imul(V,Kt)|0,N=(N=N+Math.imul(V,Ct)|0)+Math.imul(G,Kt)|0,D=D+Math.imul(G,Ct)|0;var Mt=(Y+(j=j+Math.imul(F,er)|0)|0)+((8191&(N=(N=N+Math.imul(F,we)|0)+Math.imul(Z,er)|0))<<13)|0;Y=((D=D+Math.imul(Z,we)|0)+(N>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,j=Math.imul(it,Xt),N=(N=Math.imul(it,vt))+Math.imul(ve,Xt)|0,D=Math.imul(ve,vt),j=j+Math.imul(tt,rr)|0,N=(N=N+Math.imul(tt,At)|0)+Math.imul(gt,rr)|0,D=D+Math.imul(gt,At)|0,j=j+Math.imul(Fe,jr)|0,N=(N=N+Math.imul(Fe,Ot)|0)+Math.imul(Ie,jr)|0,D=D+Math.imul(Ie,Ot)|0,j=j+Math.imul(me,fr)|0,N=(N=N+Math.imul(me,Zt)|0)+Math.imul(ke,fr)|0,D=D+Math.imul(ke,Zt)|0,j=j+Math.imul(te,Bt)|0,N=(N=N+Math.imul(te,ar)|0)+Math.imul(se,Bt)|0,D=D+Math.imul(se,ar)|0,j=j+Math.imul(fe,Me)|0,N=(N=N+Math.imul(fe,We)|0)+Math.imul(le,Me)|0,D=D+Math.imul(le,We)|0,j=j+Math.imul(ee,zt)|0,N=(N=N+Math.imul(ee,ht)|0)+Math.imul(oe,zt)|0,D=D+Math.imul(oe,ht)|0,j=j+Math.imul(pe,Kt)|0,N=(N=N+Math.imul(pe,Ct)|0)+Math.imul(ce,Kt)|0,D=D+Math.imul(ce,Ct)|0;var ut=(Y+(j=j+Math.imul(V,er)|0)|0)+((8191&(N=(N=N+Math.imul(V,we)|0)+Math.imul(G,er)|0))<<13)|0;Y=((D=D+Math.imul(G,we)|0)+(N>>>13)|0)+(ut>>>26)|0,ut&=67108863,j=Math.imul(it,rr),N=(N=Math.imul(it,At))+Math.imul(ve,rr)|0,D=Math.imul(ve,At),j=j+Math.imul(tt,jr)|0,N=(N=N+Math.imul(tt,Ot)|0)+Math.imul(gt,jr)|0,D=D+Math.imul(gt,Ot)|0,j=j+Math.imul(Fe,fr)|0,N=(N=N+Math.imul(Fe,Zt)|0)+Math.imul(Ie,fr)|0,D=D+Math.imul(Ie,Zt)|0,j=j+Math.imul(me,Bt)|0,N=(N=N+Math.imul(me,ar)|0)+Math.imul(ke,Bt)|0,D=D+Math.imul(ke,ar)|0,j=j+Math.imul(te,Me)|0,N=(N=N+Math.imul(te,We)|0)+Math.imul(se,Me)|0,D=D+Math.imul(se,We)|0,j=j+Math.imul(fe,zt)|0,N=(N=N+Math.imul(fe,ht)|0)+Math.imul(le,zt)|0,D=D+Math.imul(le,ht)|0,j=j+Math.imul(ee,Kt)|0,N=(N=N+Math.imul(ee,Ct)|0)+Math.imul(oe,Kt)|0,D=D+Math.imul(oe,Ct)|0;var mt=(Y+(j=j+Math.imul(pe,er)|0)|0)+((8191&(N=(N=N+Math.imul(pe,we)|0)+Math.imul(ce,er)|0))<<13)|0;Y=((D=D+Math.imul(ce,we)|0)+(N>>>13)|0)+(mt>>>26)|0,mt&=67108863,j=Math.imul(it,jr),N=(N=Math.imul(it,Ot))+Math.imul(ve,jr)|0,D=Math.imul(ve,Ot),j=j+Math.imul(tt,fr)|0,N=(N=N+Math.imul(tt,Zt)|0)+Math.imul(gt,fr)|0,D=D+Math.imul(gt,Zt)|0,j=j+Math.imul(Fe,Bt)|0,N=(N=N+Math.imul(Fe,ar)|0)+Math.imul(Ie,Bt)|0,D=D+Math.imul(Ie,ar)|0,j=j+Math.imul(me,Me)|0,N=(N=N+Math.imul(me,We)|0)+Math.imul(ke,Me)|0,D=D+Math.imul(ke,We)|0,j=j+Math.imul(te,zt)|0,N=(N=N+Math.imul(te,ht)|0)+Math.imul(se,zt)|0,D=D+Math.imul(se,ht)|0,j=j+Math.imul(fe,Kt)|0,N=(N=N+Math.imul(fe,Ct)|0)+Math.imul(le,Kt)|0,D=D+Math.imul(le,Ct)|0;var Pr=(Y+(j=j+Math.imul(ee,er)|0)|0)+((8191&(N=(N=N+Math.imul(ee,we)|0)+Math.imul(oe,er)|0))<<13)|0;Y=((D=D+Math.imul(oe,we)|0)+(N>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,j=Math.imul(it,fr),N=(N=Math.imul(it,Zt))+Math.imul(ve,fr)|0,D=Math.imul(ve,Zt),j=j+Math.imul(tt,Bt)|0,N=(N=N+Math.imul(tt,ar)|0)+Math.imul(gt,Bt)|0,D=D+Math.imul(gt,ar)|0,j=j+Math.imul(Fe,Me)|0,N=(N=N+Math.imul(Fe,We)|0)+Math.imul(Ie,Me)|0,D=D+Math.imul(Ie,We)|0,j=j+Math.imul(me,zt)|0,N=(N=N+Math.imul(me,ht)|0)+Math.imul(ke,zt)|0,D=D+Math.imul(ke,ht)|0,j=j+Math.imul(te,Kt)|0,N=(N=N+Math.imul(te,Ct)|0)+Math.imul(se,Kt)|0,D=D+Math.imul(se,Ct)|0;var hr=(Y+(j=j+Math.imul(fe,er)|0)|0)+((8191&(N=(N=N+Math.imul(fe,we)|0)+Math.imul(le,er)|0))<<13)|0;Y=((D=D+Math.imul(le,we)|0)+(N>>>13)|0)+(hr>>>26)|0,hr&=67108863,j=Math.imul(it,Bt),N=(N=Math.imul(it,ar))+Math.imul(ve,Bt)|0,D=Math.imul(ve,ar),j=j+Math.imul(tt,Me)|0,N=(N=N+Math.imul(tt,We)|0)+Math.imul(gt,Me)|0,D=D+Math.imul(gt,We)|0,j=j+Math.imul(Fe,zt)|0,N=(N=N+Math.imul(Fe,ht)|0)+Math.imul(Ie,zt)|0,D=D+Math.imul(Ie,ht)|0,j=j+Math.imul(me,Kt)|0,N=(N=N+Math.imul(me,Ct)|0)+Math.imul(ke,Kt)|0,D=D+Math.imul(ke,Ct)|0;var Vt=(Y+(j=j+Math.imul(te,er)|0)|0)+((8191&(N=(N=N+Math.imul(te,we)|0)+Math.imul(se,er)|0))<<13)|0;Y=((D=D+Math.imul(se,we)|0)+(N>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,j=Math.imul(it,Me),N=(N=Math.imul(it,We))+Math.imul(ve,Me)|0,D=Math.imul(ve,We),j=j+Math.imul(tt,zt)|0,N=(N=N+Math.imul(tt,ht)|0)+Math.imul(gt,zt)|0,D=D+Math.imul(gt,ht)|0,j=j+Math.imul(Fe,Kt)|0,N=(N=N+Math.imul(Fe,Ct)|0)+Math.imul(Ie,Kt)|0,D=D+Math.imul(Ie,Ct)|0;var Wt=(Y+(j=j+Math.imul(me,er)|0)|0)+((8191&(N=(N=N+Math.imul(me,we)|0)+Math.imul(ke,er)|0))<<13)|0;Y=((D=D+Math.imul(ke,we)|0)+(N>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,j=Math.imul(it,zt),N=(N=Math.imul(it,ht))+Math.imul(ve,zt)|0,D=Math.imul(ve,ht),j=j+Math.imul(tt,Kt)|0,N=(N=N+Math.imul(tt,Ct)|0)+Math.imul(gt,Kt)|0,D=D+Math.imul(gt,Ct)|0;var vr=(Y+(j=j+Math.imul(Fe,er)|0)|0)+((8191&(N=(N=N+Math.imul(Fe,we)|0)+Math.imul(Ie,er)|0))<<13)|0;Y=((D=D+Math.imul(Ie,we)|0)+(N>>>13)|0)+(vr>>>26)|0,vr&=67108863,j=Math.imul(it,Kt),N=(N=Math.imul(it,Ct))+Math.imul(ve,Kt)|0,D=Math.imul(ve,Ct);var Wr=(Y+(j=j+Math.imul(tt,er)|0)|0)+((8191&(N=(N=N+Math.imul(tt,we)|0)+Math.imul(gt,er)|0))<<13)|0;Y=((D=D+Math.imul(gt,we)|0)+(N>>>13)|0)+(Wr>>>26)|0,Wr&=67108863;var zr=(Y+(j=Math.imul(it,er))|0)+((8191&(N=(N=Math.imul(it,we))+Math.imul(ve,er)|0))<<13)|0;return Y=((D=Math.imul(ve,we))+(N>>>13)|0)+(zr>>>26)|0,zr&=67108863,Q[0]=Ke,Q[1]=bt,Q[2]=kt,Q[3]=Ft,Q[4]=Sn,Q[5]=ye,Q[6]=Pe,Q[7]=Qe,Q[8]=Ge,Q[9]=Mt,Q[10]=ut,Q[11]=mt,Q[12]=Pr,Q[13]=hr,Q[14]=Vt,Q[15]=Wt,Q[16]=vr,Q[17]=Wr,Q[18]=zr,Y!==0&&(Q[19]=Y,k.length++),k};function A(T,_,k){k.negative=_.negative^T.negative,k.length=T.length+_.length;for(var j=0,N=0,D=0;D<k.length-1;D++){var O=N;N=0;for(var z=67108863&j,Q=Math.min(D,_.length-1),Y=Math.max(0,D-T.length+1);Y<=Q;Y++){var re=D-Y,F=(0|T.words[re])*(0|_.words[Y]),Z=67108863&F;z=67108863&(Z=Z+z|0),N+=(O=(O=O+(F/67108864|0)|0)+(Z>>>26)|0)>>>26,O&=67108863}k.words[D]=z,j=O,O=N}return j!==0?k.words[D]=j:k.length--,k._strip()}function B(T,_,k){return A(T,_,k)}Math.imul||(C=S),l.prototype.mulTo=function(T,_){var k=this.length+T.length;return this.length===10&&T.length===10?C(this,T,_):k<63?S(this,T,_):k<1024?A(this,T,_):B(this,T,_)},l.prototype.mul=function(T){var _=new l(null);return _.words=new Array(this.length+T.length),this.mulTo(T,_)},l.prototype.mulf=function(T){var _=new l(null);return _.words=new Array(this.length+T.length),B(this,T,_)},l.prototype.imul=function(T){return this.clone().mulTo(T,this)},l.prototype.imuln=function(T){var _=T<0;_&&(T=-T),c(typeof T=="number"),c(T<67108864);for(var k=0,j=0;j<this.length;j++){var N=(0|this.words[j])*T,D=(67108863&N)+(67108863&k);k>>=26,k+=N/67108864|0,k+=D>>>26,this.words[j]=67108863&D}return k!==0&&(this.words[j]=k,this.length++),_?this.ineg():this},l.prototype.muln=function(T){return this.clone().imuln(T)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(T){var _=(function(D){for(var O=new Array(D.bitLength()),z=0;z<O.length;z++){var Q=z/26|0,Y=z%26;O[z]=D.words[Q]>>>Y&1}return O})(T);if(_.length===0)return new l(1);for(var k=this,j=0;j<_.length&&_[j]===0;j++,k=k.sqr());if(++j<_.length)for(var N=k.sqr();j<_.length;j++,N=N.sqr())_[j]!==0&&(k=k.mul(N));return k},l.prototype.iushln=function(T){c(typeof T=="number"&&T>=0);var _,k=T%26,j=(T-k)/26,N=67108863>>>26-k<<26-k;if(k!==0){var D=0;for(_=0;_<this.length;_++){var O=this.words[_]&N,z=(0|this.words[_])-O<<k;this.words[_]=z|D,D=O>>>26-k}D&&(this.words[_]=D,this.length++)}if(j!==0){for(_=this.length-1;_>=0;_--)this.words[_+j]=this.words[_];for(_=0;_<j;_++)this.words[_]=0;this.length+=j}return this._strip()},l.prototype.ishln=function(T){return c(this.negative===0),this.iushln(T)},l.prototype.iushrn=function(T,_,k){var j;c(typeof T=="number"&&T>=0),j=_?(_-_%26)/26:0;var N=T%26,D=Math.min((T-N)/26,this.length),O=67108863^67108863>>>N<<N,z=k;if(j-=D,j=Math.max(0,j),z){for(var Q=0;Q<D;Q++)z.words[Q]=this.words[Q];z.length=D}if(D!==0)if(this.length>D)for(this.length-=D,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+D];else this.words[0]=0,this.length=1;var Y=0;for(Q=this.length-1;Q>=0&&(Y!==0||Q>=j);Q--){var re=0|this.words[Q];this.words[Q]=Y<<26-N|re>>>N,Y=re&O}return z&&Y!==0&&(z.words[z.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(T,_,k){return c(this.negative===0),this.iushrn(T,_,k)},l.prototype.shln=function(T){return this.clone().ishln(T)},l.prototype.ushln=function(T){return this.clone().iushln(T)},l.prototype.shrn=function(T){return this.clone().ishrn(T)},l.prototype.ushrn=function(T){return this.clone().iushrn(T)},l.prototype.testn=function(T){c(typeof T=="number"&&T>=0);var _=T%26,k=(T-_)/26,j=1<<_;return!(this.length<=k)&&!!(this.words[k]&j)},l.prototype.imaskn=function(T){c(typeof T=="number"&&T>=0);var _=T%26,k=(T-_)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(_!==0&&k++,this.length=Math.min(k,this.length),_!==0){var j=67108863^67108863>>>_<<_;this.words[this.length-1]&=j}return this._strip()},l.prototype.maskn=function(T){return this.clone().imaskn(T)},l.prototype.iaddn=function(T){return c(typeof T=="number"),c(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<=T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},l.prototype._iaddn=function(T){this.words[0]+=T;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(T){if(c(typeof T=="number"),c(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(T){return this.clone().iaddn(T)},l.prototype.subn=function(T){return this.clone().isubn(T)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(T,_,k){var j,N,D=T.length+k;this._expand(D);var O=0;for(j=0;j<T.length;j++){N=(0|this.words[j+k])+O;var z=(0|T.words[j])*_;O=((N-=67108863&z)>>26)-(z/67108864|0),this.words[j+k]=67108863&N}for(;j<this.length-k;j++)O=(N=(0|this.words[j+k])+O)>>26,this.words[j+k]=67108863&N;if(O===0)return this._strip();for(c(O===-1),O=0,j=0;j<this.length;j++)O=(N=-(0|this.words[j])+O)>>26,this.words[j]=67108863&N;return this.negative=1,this._strip()},l.prototype._wordDiv=function(T,_){var k=(this.length,T.length),j=this.clone(),N=T,D=0|N.words[N.length-1];(k=26-this._countBits(D))!==0&&(N=N.ushln(k),j.iushln(k),D=0|N.words[N.length-1]);var O,z=j.length-N.length;if(_!=="mod"){(O=new l(null)).length=z+1,O.words=new Array(O.length);for(var Q=0;Q<O.length;Q++)O.words[Q]=0}var Y=j.clone()._ishlnsubmul(N,1,z);Y.negative===0&&(j=Y,O&&(O.words[z]=1));for(var re=z-1;re>=0;re--){var F=67108864*(0|j.words[N.length+re])+(0|j.words[N.length+re-1]);for(F=Math.min(F/D|0,67108863),j._ishlnsubmul(N,F,re);j.negative!==0;)F--,j.negative=0,j._ishlnsubmul(N,1,re),j.isZero()||(j.negative^=1);O&&(O.words[re]=F)}return O&&O._strip(),j._strip(),_!=="div"&&k!==0&&j.iushrn(k),{div:O||null,mod:j}},l.prototype.divmod=function(T,_,k){return c(!T.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&T.negative===0?(D=this.neg().divmod(T,_),_!=="mod"&&(j=D.div.neg()),_!=="div"&&(N=D.mod.neg(),k&&N.negative!==0&&N.iadd(T)),{div:j,mod:N}):this.negative===0&&T.negative!==0?(D=this.divmod(T.neg(),_),_!=="mod"&&(j=D.div.neg()),{div:j,mod:D.mod}):(this.negative&T.negative)!=0?(D=this.neg().divmod(T.neg(),_),_!=="div"&&(N=D.mod.neg(),k&&N.negative!==0&&N.isub(T)),{div:D.div,mod:N}):T.length>this.length||this.cmp(T)<0?{div:new l(0),mod:this}:T.length===1?_==="div"?{div:this.divn(T.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new l(this.modrn(T.words[0]))}:this._wordDiv(T,_);var j,N,D},l.prototype.div=function(T){return this.divmod(T,"div",!1).div},l.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},l.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},l.prototype.divRound=function(T){var _=this.divmod(T);if(_.mod.isZero())return _.div;var k=_.div.negative!==0?_.mod.isub(T):_.mod,j=T.ushrn(1),N=T.andln(1),D=k.cmp(j);return D<0||N===1&&D===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(T){var _=T<0;_&&(T=-T),c(T<=67108863);for(var k=(1<<26)%T,j=0,N=this.length-1;N>=0;N--)j=(k*j+(0|this.words[N]))%T;return _?-j:j},l.prototype.modn=function(T){return this.modrn(T)},l.prototype.idivn=function(T){var _=T<0;_&&(T=-T),c(T<=67108863);for(var k=0,j=this.length-1;j>=0;j--){var N=(0|this.words[j])+67108864*k;this.words[j]=N/T|0,k=N%T}return this._strip(),_?this.ineg():this},l.prototype.divn=function(T){return this.clone().idivn(T)},l.prototype.egcd=function(T){c(T.negative===0),c(!T.isZero());var _=this,k=T.clone();_=_.negative!==0?_.umod(T):_.clone();for(var j=new l(1),N=new l(0),D=new l(0),O=new l(1),z=0;_.isEven()&&k.isEven();)_.iushrn(1),k.iushrn(1),++z;for(var Q=k.clone(),Y=_.clone();!_.isZero();){for(var re=0,F=1;(_.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(_.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(Q),N.isub(Y)),j.iushrn(1),N.iushrn(1);for(var Z=0,W=1;(k.words[0]&W)==0&&Z<26;++Z,W<<=1);if(Z>0)for(k.iushrn(Z);Z-- >0;)(D.isOdd()||O.isOdd())&&(D.iadd(Q),O.isub(Y)),D.iushrn(1),O.iushrn(1);_.cmp(k)>=0?(_.isub(k),j.isub(D),N.isub(O)):(k.isub(_),D.isub(j),O.isub(N))}return{a:D,b:O,gcd:k.iushln(z)}},l.prototype._invmp=function(T){c(T.negative===0),c(!T.isZero());var _=this,k=T.clone();_=_.negative!==0?_.umod(T):_.clone();for(var j,N=new l(1),D=new l(0),O=k.clone();_.cmpn(1)>0&&k.cmpn(1)>0;){for(var z=0,Q=1;(_.words[0]&Q)==0&&z<26;++z,Q<<=1);if(z>0)for(_.iushrn(z);z-- >0;)N.isOdd()&&N.iadd(O),N.iushrn(1);for(var Y=0,re=1;(k.words[0]&re)==0&&Y<26;++Y,re<<=1);if(Y>0)for(k.iushrn(Y);Y-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);_.cmp(k)>=0?(_.isub(k),N.isub(D)):(k.isub(_),D.isub(N))}return(j=_.cmpn(1)===0?N:D).cmpn(0)<0&&j.iadd(T),j},l.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var _=this.clone(),k=T.clone();_.negative=0,k.negative=0;for(var j=0;_.isEven()&&k.isEven();j++)_.iushrn(1),k.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;k.isEven();)k.iushrn(1);var N=_.cmp(k);if(N<0){var D=_;_=k,k=D}else if(N===0||k.cmpn(1)===0)break;_.isub(k)}return k.iushln(j)},l.prototype.invm=function(T){return this.egcd(T).a.umod(T)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(T){return this.words[0]&T},l.prototype.bincn=function(T){c(typeof T=="number");var _=T%26,k=(T-_)/26,j=1<<_;if(this.length<=k)return this._expand(k+1),this.words[k]|=j,this;for(var N=j,D=k;N!==0&&D<this.length;D++){var O=0|this.words[D];N=(O+=N)>>>26,O&=67108863,this.words[D]=O}return N!==0&&(this.words[D]=N,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(T){var _,k=T<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)_=1;else{k&&(T=-T),c(T<=67108863,"Number is too big");var j=0|this.words[0];_=j===T?0:j<T?-1:1}return this.negative!==0?0|-_:_},l.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var _=this.ucmp(T);return this.negative!==0?0|-_:_},l.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var _=0,k=this.length-1;k>=0;k--){var j=0|this.words[k],N=0|T.words[k];if(j!==N){j<N?_=-1:j>N&&(_=1);break}}return _},l.prototype.gtn=function(T){return this.cmpn(T)===1},l.prototype.gt=function(T){return this.cmp(T)===1},l.prototype.gten=function(T){return this.cmpn(T)>=0},l.prototype.gte=function(T){return this.cmp(T)>=0},l.prototype.ltn=function(T){return this.cmpn(T)===-1},l.prototype.lt=function(T){return this.cmp(T)===-1},l.prototype.lten=function(T){return this.cmpn(T)<=0},l.prototype.lte=function(T){return this.cmp(T)<=0},l.prototype.eqn=function(T){return this.cmpn(T)===0},l.prototype.eq=function(T){return this.cmp(T)===0},l.red=function(T){return new P(T)},l.prototype.toRed=function(T){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(T){return this.red=T,this},l.prototype.forceRed=function(T){return c(!this.red,"Already a number in reduction context"),this._forceRed(T)},l.prototype.redAdd=function(T){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},l.prototype.redIAdd=function(T){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},l.prototype.redSub=function(T){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},l.prototype.redISub=function(T){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},l.prototype.redShl=function(T){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},l.prototype.redMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},l.prototype.redIMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(T){return c(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var q={k256:null,p224:null,p192:null,p25519:null};function R(T,_){this.name=T,this.p=new l(_,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function K(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(T){if(typeof T=="string"){var _=l._prime(T);this.m=_.p,this.prime=_}else c(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function L(T){P.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var T=new l(null);return T.words=new Array(Math.ceil(this.n/13)),T},R.prototype.ireduce=function(T){var _,k=T;do this.split(k,this.tmp),_=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(_>this.n);var j=_<this.n?-1:k.ucmp(this.p);return j===0?(k.words[0]=0,k.length=1):j>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},R.prototype.split=function(T,_){T.iushrn(this.n,0,_)},R.prototype.imulK=function(T){return T.imul(this.k)},u(I,R),I.prototype.split=function(T,_){for(var k=Math.min(T.length,9),j=0;j<k;j++)_.words[j]=T.words[j];if(_.length=k,T.length<=9)return T.words[0]=0,void(T.length=1);var N=T.words[9];for(_.words[_.length++]=4194303&N,j=10;j<T.length;j++){var D=0|T.words[j];T.words[j-10]=(4194303&D)<<4|N>>>22,N=D}N>>>=22,T.words[j-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},I.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var _=0,k=0;k<T.length;k++){var j=0|T.words[k];_+=977*j,T.words[k]=67108863&_,_=64*j+(_/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},u($,R),u(K,R),u(U,R),U.prototype.imulK=function(T){for(var _=0,k=0;k<T.length;k++){var j=19*(0|T.words[k])+_,N=67108863&j;j>>>=26,T.words[k]=N,_=j}return _!==0&&(T.words[T.length++]=_),T},l._prime=function(T){if(q[T])return q[T];var _;if(T==="k256")_=new I;else if(T==="p224")_=new $;else if(T==="p192")_=new K;else{if(T!=="p25519")throw new Error("Unknown prime "+T);_=new U}return q[T]=_,_},P.prototype._verify1=function(T){c(T.negative===0,"red works only with positives"),c(T.red,"red works only with red numbers")},P.prototype._verify2=function(T,_){c((T.negative|_.negative)==0,"red works only with positives"),c(T.red&&T.red===_.red,"red works only with red numbers")},P.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(g(T,T.umod(this.m)._forceRed(this)),T)},P.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},P.prototype.add=function(T,_){this._verify2(T,_);var k=T.add(_);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},P.prototype.iadd=function(T,_){this._verify2(T,_);var k=T.iadd(_);return k.cmp(this.m)>=0&&k.isub(this.m),k},P.prototype.sub=function(T,_){this._verify2(T,_);var k=T.sub(_);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},P.prototype.isub=function(T,_){this._verify2(T,_);var k=T.isub(_);return k.cmpn(0)<0&&k.iadd(this.m),k},P.prototype.shl=function(T,_){return this._verify1(T),this.imod(T.ushln(_))},P.prototype.imul=function(T,_){return this._verify2(T,_),this.imod(T.imul(_))},P.prototype.mul=function(T,_){return this._verify2(T,_),this.imod(T.mul(_))},P.prototype.isqr=function(T){return this.imul(T,T.clone())},P.prototype.sqr=function(T){return this.mul(T,T)},P.prototype.sqrt=function(T){if(T.isZero())return T.clone();var _=this.m.andln(3);if(c(_%2==1),_===3){var k=this.m.add(new l(1)).iushrn(2);return this.pow(T,k)}for(var j=this.m.subn(1),N=0;!j.isZero()&&j.andln(1)===0;)N++,j.iushrn(1);c(!j.isZero());var D=new l(1).toRed(this),O=D.redNeg(),z=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new l(2*Q*Q).toRed(this);this.pow(Q,z).cmp(O)!==0;)Q.redIAdd(O);for(var Y=this.pow(Q,j),re=this.pow(T,j.addn(1).iushrn(1)),F=this.pow(T,j),Z=N;F.cmp(D)!==0;){for(var W=F,V=0;W.cmp(D)!==0;V++)W=W.redSqr();c(V<Z);var G=this.pow(Y,new l(1).iushln(Z-V-1));re=re.redMul(G),Y=G.redSqr(),F=F.redMul(Y),Z=V}return re},P.prototype.invm=function(T){var _=T._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},P.prototype.pow=function(T,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return T.clone();var k=new Array(16);k[0]=new l(1).toRed(this),k[1]=T;for(var j=2;j<k.length;j++)k[j]=this.mul(k[j-1],T);var N=k[0],D=0,O=0,z=_.bitLength()%26;for(z===0&&(z=26),j=_.length-1;j>=0;j--){for(var Q=_.words[j],Y=z-1;Y>=0;Y--){var re=Q>>Y&1;N!==k[0]&&(N=this.sqr(N)),re!==0||D!==0?(D<<=1,D|=re,(++O===4||j===0&&Y===0)&&(N=this.mul(N,k[D]),O=0,D=0)):O=0}z=26}return N},P.prototype.convertTo=function(T){var _=T.umod(this.m);return _===T?_.clone():_},P.prototype.convertFrom=function(T){var _=T.clone();return _.red=null,_},l.mont=function(T){return new L(T)},u(L,P),L.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},L.prototype.convertFrom=function(T){var _=this.imod(T.mul(this.rinv));return _.red=null,_},L.prototype.imul=function(T,_){if(T.isZero()||_.isZero())return T.words[0]=0,T.length=1,T;var k=T.imul(_),j=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(j).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},L.prototype.mul=function(T,_){if(T.isZero()||_.isZero())return new l(0)._forceRed(this);var k=T.mul(_),j=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(j).iushrn(this.shift),D=N;return N.cmp(this.m)>=0?D=N.isub(this.m):N.cmpn(0)<0&&(D=N.iadd(this.m)),D._forceRed(this)},L.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var a;function o(u){this.rand=u}if(n.exports=function(u){return a||(a=new o(null)),a.generate(u)},n.exports.Rand=o,o.prototype.generate=function(u){return this._rand(u)},o.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var l=new Uint8Array(u),d=0;d<l.length;d++)l[d]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(u){return c.randomBytes(u)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var a=e("safe-buffer").Buffer;function o(f){a.isBuffer(f)||(f=a.from(f));for(var h=f.length/4|0,g=new Array(h),y=0;y<h;y++)g[y]=f.readUInt32BE(4*y);return g}function c(f){for(;0<f.length;f++)f[0]=0}function u(f,h,g,y,m){for(var v,x,S,C,A=g[0],B=g[1],q=g[2],R=g[3],I=f[0]^h[0],$=f[1]^h[1],K=f[2]^h[2],U=f[3]^h[3],P=4,L=1;L<m;L++)v=A[I>>>24]^B[$>>>16&255]^q[K>>>8&255]^R[255&U]^h[P++],x=A[$>>>24]^B[K>>>16&255]^q[U>>>8&255]^R[255&I]^h[P++],S=A[K>>>24]^B[U>>>16&255]^q[I>>>8&255]^R[255&$]^h[P++],C=A[U>>>24]^B[I>>>16&255]^q[$>>>8&255]^R[255&K]^h[P++],I=v,$=x,K=S,U=C;return v=(y[I>>>24]<<24|y[$>>>16&255]<<16|y[K>>>8&255]<<8|y[255&U])^h[P++],x=(y[$>>>24]<<24|y[K>>>16&255]<<16|y[U>>>8&255]<<8|y[255&I])^h[P++],S=(y[K>>>24]<<24|y[U>>>16&255]<<16|y[I>>>8&255]<<8|y[255&$])^h[P++],C=(y[U>>>24]<<24|y[I>>>16&255]<<16|y[$>>>8&255]<<8|y[255&K])^h[P++],[v>>>=0,x>>>=0,S>>>=0,C>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],x=0,S=0,C=0;C<256;++C){var A=S^S<<1^S<<2^S<<3^S<<4;A=A>>>8^255&A^99,g[x]=A,y[A]=x;var B=f[x],q=f[B],R=f[q],I=257*f[A]^16843008*A;m[0][x]=I<<24|I>>>8,m[1][x]=I<<16|I>>>16,m[2][x]=I<<8|I>>>24,m[3][x]=I,I=16843009*R^65537*q^257*B^16843008*x,v[0][A]=I<<24|I>>>8,v[1][A]=I<<16|I>>>16,v[2][A]=I<<8|I>>>24,v[3][A]=I,x===0?x=S=1:(x=B^f[f[f[R^B]]],S^=f[f[S]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function p(f){this._key=o(f),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,y=4*(g+1),m=[],v=0;v<h;v++)m[v]=f[v];for(v=h;v<y;v++){var x=m[v-1];v%h==0?(x=x<<8|x>>>24,x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x],x^=l[v/h|0]<<24):h>6&&v%h==4&&(x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x]),m[v]=m[v-h]^x}for(var S=[],C=0;C<y;C++){var A=y-C,B=m[A-(C%4?0:4)];S[C]=C<4||A<=4?B:d.INV_SUB_MIX[0][d.SBOX[B>>>24]]^d.INV_SUB_MIX[1][d.SBOX[B>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[B>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&B]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=S},p.prototype.encryptBlockRaw=function(f){return u(f=o(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},p.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=a.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},p.prototype.decryptBlock=function(f){var h=(f=o(f))[1];f[1]=f[3],f[3]=h;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=a.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},p.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var a=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=e("inherits"),l=e("./ghash"),d=e("buffer-xor"),p=e("./incr32");function f(h,g,y,m){c.call(this);var v=o.alloc(4,0);this._cipher=new a.AES(g);var x=this._cipher.encryptBlock(v);this._ghash=new l(x),y=(function(S,C,A){if(C.length===12)return S._finID=o.concat([C,o.from([0,0,0,1])]),o.concat([C,o.from([0,0,0,2])]);var B=new l(A),q=C.length,R=q%16;B.update(C),R&&(R=16-R,B.update(o.alloc(R,0))),B.update(o.alloc(8,0));var I=8*q,$=o.alloc(8);$.writeUIntBE(I,0,8),B.update($),S._finID=B.state;var K=o.from(S._finID);return p(K),K})(this,y,x),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}u(f,c),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),x=0;x<v;++x)m+=g[x]^y[x];return m})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var a=e("./encrypter"),o=e("./decrypter"),c=e("./modes/list.json");s.createCipher=s.Cipher=a.createCipher,s.createCipheriv=s.Cipheriv=a.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var a=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./modes"),u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(y,m,v){l.call(this),this._cache=new h,this._last=void 0,this._cipher=new d.AES(m),this._prev=o.from(v),this._mode=y,this._autopadding=!0}function h(){this.cache=o.allocUnsafe(0)}function g(y,m,v){var x=c[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),x.mode!=="GCM"&&v.length!==x.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==x.key/8)throw new TypeError("invalid key length "+m.length);return x.type==="stream"?new u(x.module,m,v,!0):x.type==="auth"?new a(x.module,m,v,!0):new f(x.module,m,v)}e("inherits")(f,l),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var x=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),x.push(v);return o.concat(x)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var x=-1;++x<v;)if(m[x+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=o.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var v=c[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var x=p(m,!1,v.key,v.iv);return g(y,x.key,x.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var a=e("./modes"),o=e("./authCipher"),c=e("safe-buffer").Buffer,u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(m,v,x){l.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=c.from(x),this._mode=m,this._autopadding=!0}e("inherits")(f,l),f.prototype._update=function(m){var v,x;this._cache.add(m);for(var S=[];v=this._cache.get();)x=this._mode.encrypt(this,v),S.push(x);return c.concat(S)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function y(m,v,x){var S=a[m.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=c.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);if(typeof x=="string"&&(x=c.from(x)),S.mode!=="GCM"&&x.length!==S.iv)throw new TypeError("invalid iv length "+x.length);return S.type==="stream"?new u(S.module,v,x):S.type==="auth"?new o(S.module,v,x):new f(S.module,v,x)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=c.allocUnsafe(m),x=-1;++x<m;)v.writeUInt8(m,x);return c.concat([this.cache,v])},s.createCipheriv=y,s.createCipher=function(m,v){var x=a[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var S=p(v,!1,x.key,x.iv);return y(m,S.key,S.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var a=e("safe-buffer").Buffer,o=a.alloc(16,0);function c(l){var d=a.allocUnsafe(16);return d.writeUInt32BE(l[0]>>>0,0),d.writeUInt32BE(l[1]>>>0,4),d.writeUInt32BE(l[2]>>>0,8),d.writeUInt32BE(l[3]>>>0,12),d}function u(l){this.h=l,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}u.prototype.ghash=function(l){for(var d=-1;++d<l.length;)this.state[d]^=l[d];this._multiply()},u.prototype._multiply=function(){for(var l,d,p,f=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),p=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,p&&(f[0]=f[0]^225<<24)}this.state=c(h)},u.prototype.update=function(l){var d;for(this.cache=a.concat([this.cache,l]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(l,d){return this.cache.length&&this.ghash(a.concat([this.cache,o],16)),this.ghash(c([0,l,0,d])),this.state},n.exports=u},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(a){for(var o,c=a.length;c--;){if((o=a.readUInt8(c))!==255){o++,a.writeUInt8(o,c);break}a.writeUInt8(0,c)}}},{}],196:[function(e,n,s){var a=e("buffer-xor");s.encrypt=function(o,c){var u=a(c,o._prev);return o._prev=o._cipher.encryptBlock(u),o._prev},s.decrypt=function(o,c){var u=o._prev;o._prev=c;var l=o._cipher.decryptBlock(c);return a(l,u)}},{"buffer-xor":219}],197:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("buffer-xor");function c(u,l,d){var p=l.length,f=o(l,u._cache);return u._cache=u._cache.slice(p),u._prev=a.concat([u._prev,d?l:f]),f}s.encrypt=function(u,l,d){for(var p,f=a.allocUnsafe(0);l.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=a.allocUnsafe(0)),!(u._cache.length<=l.length)){f=a.concat([f,c(u,l,d)]);break}p=u._cache.length,f=a.concat([f,c(u,l.slice(0,p),d)]),l=l.slice(p)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var a=e("safe-buffer").Buffer;function o(u,l,d){for(var p,f,h=-1,g=0;++h<8;)p=l&1<<7-h?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^p))>>h%8,u._prev=c(u._prev,d?p:f);return g}function c(u,l){var d=u.length,p=-1,f=a.allocUnsafe(u.length);for(u=a.concat([u,a.from([l])]);++p<d;)f[p]=u[p]<<1|u[p+1]>>7;return f}s.encrypt=function(u,l,d){for(var p=l.length,f=a.allocUnsafe(p),h=-1;++h<p;)f[h]=o(u,l[h],d);return f}},{"safe-buffer":494}],199:[function(e,n,s){var a=e("safe-buffer").Buffer;function o(c,u,l){var d=c._cipher.encryptBlock(c._prev)[0]^u;return c._prev=a.concat([c._prev.slice(1),a.from([l?u:d])]),d}s.encrypt=function(c,u,l){for(var d=u.length,p=a.allocUnsafe(d),f=-1;++f<d;)p[f]=o(c,u[f],l);return p}},{"safe-buffer":494}],200:[function(e,n,s){var a=e("buffer-xor"),o=e("safe-buffer").Buffer,c=e("../incr32");function u(l){var d=l._cipher.encryptBlockRaw(l._prev);return c(l._prev),d}s.encrypt=function(l,d){var p=Math.ceil(d.length/16),f=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*p)]);for(var h=0;h<p;h++){var g=u(l),y=f+16*h;l._cache.writeUInt32BE(g[0],y+0),l._cache.writeUInt32BE(g[1],y+4),l._cache.writeUInt32BE(g[2],y+8),l._cache.writeUInt32BE(g[3],y+12)}var m=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),a(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(a,o){return a._cipher.encryptBlock(o)},s.decrypt=function(a,o){return a._cipher.decryptBlock(o)}},{}],202:[function(e,n,s){var a={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var c in o)o[c].module=a[o[c].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(a){(function(){var o=e("buffer-xor");function c(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,l){for(;u._cache.length<l.length;)u._cache=a.concat([u._cache,c(u)]);var d=u._cache.slice(0,l.length);return u._cache=u._cache.slice(l.length),o(l,d)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var a=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base");function u(l,d,p,f){c.call(this),this._cipher=new a.AES(d),this._prev=o.from(p),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=l}e("inherits")(u,c),u.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},n.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var a=e("browserify-des"),o=e("browserify-aes/browser"),c=e("browserify-aes/modes"),u=e("browserify-des/modes"),l=e("evp_bytestokey");function d(f,h,g){if(f=f.toLowerCase(),c[f])return o.createCipheriv(f,h,g);if(u[f])return new a({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function p(f,h,g){if(f=f.toLowerCase(),c[f])return o.createDecipheriv(f,h,g);if(u[f])return new a({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(h,!1,g,y);return d(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=d,s.createDecipher=s.Decipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(h,!1,g,y);return p(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var a=e("cipher-base"),o=e("des.js"),c=e("inherits"),u=e("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function d(p){a.call(this);var f,h=p.mode.toLowerCase(),g=l[h];f=p.decrypt?"decrypt":"encrypt";var y=p.key;u.isBuffer(y)||(y=u.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=p.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=d,c(d,a),d.prototype._update=function(p){return u.from(this._des.update(p))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(a){(function(){var o=e("bn.js"),c=e("randombytes");function u(d){var p,f=d.modulus.byteLength();do p=new o(c(f));while(p.cmp(d.modulus)>=0||!p.umod(d.prime1)||!p.umod(d.prime2));return p}function l(d,p){var f=(function(q){var R=u(q);return{blinder:R.toRed(o.mont(q.modulus)).redPow(new o(q.publicExponent)).fromRed(),unblinder:R.invm(q.modulus)}})(p),h=p.modulus.byteLength(),g=new o(d).mul(f.blinder).umod(p.modulus),y=g.toRed(o.mont(p.prime1)),m=g.toRed(o.mont(p.prime2)),v=p.coefficient,x=p.prime1,S=p.prime2,C=y.redPow(p.exponent1).fromRed(),A=m.redPow(p.exponent2).fromRed(),B=C.isub(A).imul(v).umod(x).imul(S);return A.iadd(B).imul(f.unblinder).umod(p.modulus).toArrayLike(a,"be",h)}l.getr=u,n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("create-hash"),c=e("readable-stream"),u=e("inherits"),l=e("./sign"),d=e("./verify"),p=e("./algorithms.json");function f(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function h(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new h(m)}Object.keys(p).forEach((function(m){p[m].id=a.from(p[m].id,"hex"),p[m.toLowerCase()]=p[m]})),u(f,c.Writable),f.prototype._write=function(m,v,x){this._hash.update(m),x()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var x=this._hash.digest(),S=l(x,m,this._hashType,this._signType,this._tag);return v?S.toString(v):S},u(h,c.Writable),h.prototype._write=function(m,v,x){this._hash.update(m),x()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=a.from(m,v)),this._hash.update(m),this},h.prototype.verify=function(m,v,x){typeof v=="string"&&(v=a.from(v,x)),this.end();var S=this._hash.digest();return d(v,S,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("create-hmac"),c=e("browserify-rsa"),u=e("elliptic").ec,l=e("bn.js"),d=e("parse-asn1"),p=e("./curves.json");function f(m,v,x,S){if((m=a.from(m.toArray())).length<v.byteLength()){var C=a.alloc(v.byteLength()-m.length);m=a.concat([C,m])}var A=x.length,B=(function(I,$){I=(I=h(I,$)).mod($);var K=a.from(I.toArray());if(K.length<$.byteLength()){var U=a.alloc($.byteLength()-K.length);K=a.concat([U,K])}return K})(x,v),q=a.alloc(A);q.fill(1);var R=a.alloc(A);return R=o(S,R).update(q).update(a.from([0])).update(m).update(B).digest(),q=o(S,R).update(q).digest(),{k:R=o(S,R).update(q).update(a.from([1])).update(m).update(B).digest(),v:q=o(S,R).update(q).digest()}}function h(m,v){var x=new l(m),S=(m.length<<3)-v.bitLength();return S>0&&x.ishrn(S),x}function g(m,v,x){var S,C;do{for(S=a.alloc(0);8*S.length<m.bitLength();)v.v=o(x,v.k).update(v.v).digest(),S=a.concat([S,v.v]);C=h(S,m),v.k=o(x,v.k).update(v.v).update(a.from([0])).digest(),v.v=o(x,v.k).update(v.v).digest()}while(C.cmp(m)!==-1);return C}function y(m,v,x,S){return m.toRed(l.mont(x)).redPow(v).fromRed().mod(S)}n.exports=function(m,v,x,S,C){var A=d(v);if(A.curve){if(S!=="ecdsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(I,$){var K=p[$.curve.join(".")];if(!K)throw new Error("unknown curve "+$.curve.join("."));var U=new u(K).keyFromPrivate($.privateKey).sign(I);return a.from(U.toDER())})(m,A)}if(A.type==="dsa"){if(S!=="dsa")throw new Error("wrong private key type");return(function(I,$,K){for(var U,P=$.params.priv_key,L=$.params.p,T=$.params.q,_=$.params.g,k=new l(0),j=h(I,T).mod(T),N=!1,D=f(P,T,I,K);N===!1;)U=g(T,D,K),k=y(_,U,L,T),(N=U.invm(T).imul(j.add(P.mul(k))).mod(T)).cmpn(0)===0&&(N=!1,k=new l(0));return(function(O,z){O=O.toArray(),z=z.toArray(),128&O[0]&&(O=[0].concat(O)),128&z[0]&&(z=[0].concat(z));var Q=[48,O.length+z.length+4,2,O.length];return Q=Q.concat(O,[2,z.length],z),a.from(Q)})(k,N)})(m,A,x)}if(S!=="rsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([C,m]);for(var B=A.modulus.byteLength(),q=[0,1];m.length+q.length+1<B;)q.push(255);q.push(0);for(var R=-1;++R<m.length;)q.push(m[R]);return c(q,A)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("bn.js"),c=e("elliptic").ec,u=e("parse-asn1"),l=e("./curves.json");function d(p,f){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(p,f,h,g,y){var m=u(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(q,R,I){var $=l[I.data.algorithm.curve.join(".")];if(!$)throw new Error("unknown curve "+I.data.algorithm.curve.join("."));var K=new c($),U=I.data.subjectPrivateKey.data;return K.verify(R,q,U)})(p,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(q,R,I){var $=I.data.p,K=I.data.q,U=I.data.g,P=I.data.pub_key,L=u.signature.decode(q,"der"),T=L.s,_=L.r;d(T,K),d(_,K);var k=o.mont($),j=T.invm(K);return U.toRed(k).redPow(new o(R).mul(j).mod(K)).fromRed().mul(P.toRed(k).redPow(_.mul(j).mod(K)).fromRed()).mod($).mod(K).cmp(_)===0})(p,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=a.concat([y,f]);for(var v=m.modulus.byteLength(),x=[1],S=0;f.length+x.length+2<v;)x.push(255),S++;x.push(0);for(var C=-1;++C<f.length;)x.push(f[C]);x=a.from(x);var A=o.mont(m.modulus);p=(p=new o(p).toRed(A)).redPow(new o(m.publicExponent)),p=a.from(p.fromRed().toArray());var B=S<8?1:0;for(v=Math.min(p.length,x.length),p.length!==x.length&&(B=1),C=-1;++C<v;)B|=p[C]^x[C];return B===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var a=e("buffer"),o=a.Buffer;function c(l,d){for(var p in l)d[p]=l[p]}function u(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(c(a,s),s.Buffer=u),c(o,u),u.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},u.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}},{buffer:220}],218:[function(e,n,s){var a=e("safe-buffer").Buffer,o=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var v;switch(this.encoding=(function(x){var S=(function(C){if(!C)return"utf8";for(var A;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(A)return;C=(""+C).toLowerCase(),A=!0}})(x);if(typeof S!="string"&&(a.isEncoding===o||!o(x)))throw new Error("Unknown encoding: "+x);return S||x})(m),this.encoding){case"utf16le":this.text=d,this.end=p,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=f,this.end=h,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function l(m){var v=this.lastTotal-this.lastNeed,x=(function(S,C,A){if((192&C[0])!=128)return S.lastNeed=0,"";if(S.lastNeed>1&&C.length>1){if((192&C[1])!=128)return S.lastNeed=1,"";if(S.lastNeed>2&&C.length>2&&(192&C[2])!=128)return S.lastNeed=2,""}})(this,m);return x!==void 0?x:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var x=m.toString("utf16le",v);if(x){var S=x.charCodeAt(x.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function f(m,v){var x=(m.length-v)%3;return x===0?m.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-x))}function h(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var v,x;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?v?v+this.text(m,x):this.text(m,x):v||""},c.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},c.prototype.text=function(m,v){var x=(function(C,A,B){var q=A.length-1;if(q<B)return 0;var R=u(A[q]);return R>=0?(R>0&&(C.lastNeed=R-1),R):--q<B||R===-2?0:(R=u(A[q]))>=0?(R>0&&(C.lastNeed=R-2),R):--q<B||R===-2?0:(R=u(A[q]))>=0?(R>0&&(R===2?R=0:C.lastNeed=R-3),R):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=x;var S=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,S),m.toString("utf8",v,S)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(a){(function(){n.exports=function(o,c){for(var u=Math.min(o.length,c.length),l=new a(u),d=0;d<u;++d)l[d]=o[d]^c[d];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(a){(function(){var o=e("base64-js"),c=e("ieee754");s.Buffer=l,s.SlowBuffer=function(W){return+W!=W&&(W=0),l.alloc(+W)},s.INSPECT_MAX_BYTES=50;function u(W){if(W>2147483647)throw new RangeError('The value "'+W+'" is invalid for option "size"');var V=new Uint8Array(W);return V.__proto__=l.prototype,V}function l(W,V,G){if(typeof W=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return d(W,V,G)}function d(W,V,G){if(typeof W=="string")return(function(ce,ge){if(typeof ge=="string"&&ge!==""||(ge="utf8"),!l.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var ee=0|y(ce,ge),oe=u(ee),ne=oe.write(ce,ge);return ne!==ee&&(oe=oe.slice(0,ne)),oe})(W,V);if(ArrayBuffer.isView(W))return h(W);if(W==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(F(W,ArrayBuffer)||W&&F(W.buffer,ArrayBuffer))return(function(ce,ge,ee){if(ge<0||ce.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<ge+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ge===void 0&&ee===void 0?new Uint8Array(ce):ee===void 0?new Uint8Array(ce,ge):new Uint8Array(ce,ge,ee),oe.__proto__=l.prototype,oe})(W,V,G);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=W.valueOf&&W.valueOf();if(ae!=null&&ae!==W)return l.from(ae,V,G);var pe=(function(ce){if(l.isBuffer(ce)){var ge=0|g(ce.length),ee=u(ge);return ee.length===0||ce.copy(ee,0,0,ge),ee}if(ce.length!==void 0)return typeof ce.length!="number"||Z(ce.length)?u(0):h(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return h(ce.data)})(W);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return l.from(W[Symbol.toPrimitive]("string"),V,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}function p(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function f(W){return p(W),u(W<0?0:0|g(W))}function h(W){for(var V=W.length<0?0:0|g(W.length),G=u(V),ae=0;ae<V;ae+=1)G[ae]=255&W[ae];return G}function g(W){if(W>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|W}function y(W,V){if(l.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||F(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var G=W.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&G===0)return 0;for(var pe=!1;;)switch(V){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return Q(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Y(W).length;default:if(pe)return ae?-1:Q(W).length;V=(""+V).toLowerCase(),pe=!0}}function m(W,V,G){var ae=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(V>>>=0))return"";for(W||(W="utf8");;)switch(W){case"hex":return L(this,V,G);case"utf8":case"utf-8":return K(this,V,G);case"ascii":return U(this,V,G);case"latin1":case"binary":return P(this,V,G);case"base64":return $(this,V,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,V,G);default:if(ae)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ae=!0}}function v(W,V,G){var ae=W[V];W[V]=W[G],W[G]=ae}function x(W,V,G,ae,pe){if(W.length===0)return-1;if(typeof G=="string"?(ae=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Z(G=+G)&&(G=pe?0:W.length-1),G<0&&(G=W.length+G),G>=W.length){if(pe)return-1;G=W.length-1}else if(G<0){if(!pe)return-1;G=0}if(typeof V=="string"&&(V=l.from(V,ae)),l.isBuffer(V))return V.length===0?-1:S(W,V,G,ae,pe);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(W,V,G):Uint8Array.prototype.lastIndexOf.call(W,V,G):S(W,[V],G,ae,pe);throw new TypeError("val must be string, number or Buffer")}function S(W,V,G,ae,pe){var ce,ge=1,ee=W.length,oe=V.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(W.length<2||V.length<2)return-1;ge=2,ee/=2,oe/=2,G/=2}function ne(te,se){return ge===1?te[se]:te.readUInt16BE(se*ge)}if(pe){var fe=-1;for(ce=G;ce<ee;ce++)if(ne(W,ce)===ne(V,fe===-1?0:ce-fe)){if(fe===-1&&(fe=ce),ce-fe+1===oe)return fe*ge}else fe!==-1&&(ce-=ce-fe),fe=-1}else for(G+oe>ee&&(G=ee-oe),ce=G;ce>=0;ce--){for(var le=!0,ie=0;ie<oe;ie++)if(ne(W,ce+ie)!==ne(V,ie)){le=!1;break}if(le)return ce}return-1}function C(W,V,G,ae){G=Number(G)||0;var pe=W.length-G;ae?(ae=Number(ae))>pe&&(ae=pe):ae=pe;var ce=V.length;ae>ce/2&&(ae=ce/2);for(var ge=0;ge<ae;++ge){var ee=parseInt(V.substr(2*ge,2),16);if(Z(ee))return ge;W[G+ge]=ee}return ge}function A(W,V,G,ae){return re(Q(V,W.length-G),W,G,ae)}function B(W,V,G,ae){return re((function(pe){for(var ce=[],ge=0;ge<pe.length;++ge)ce.push(255&pe.charCodeAt(ge));return ce})(V),W,G,ae)}function q(W,V,G,ae){return B(W,V,G,ae)}function R(W,V,G,ae){return re(Y(V),W,G,ae)}function I(W,V,G,ae){return re((function(pe,ce){for(var ge,ee,oe,ne=[],fe=0;fe<pe.length&&!((ce-=2)<0);++fe)ge=pe.charCodeAt(fe),ee=ge>>8,oe=ge%256,ne.push(oe),ne.push(ee);return ne})(V,W.length-G),W,G,ae)}function $(W,V,G){return V===0&&G===W.length?o.fromByteArray(W):o.fromByteArray(W.slice(V,G))}function K(W,V,G){G=Math.min(W.length,G);for(var ae=[],pe=V;pe<G;){var ce,ge,ee,oe,ne=W[pe],fe=null,le=ne>239?4:ne>223?3:ne>191?2:1;if(pe+le<=G)switch(le){case 1:ne<128&&(fe=ne);break;case 2:(192&(ce=W[pe+1]))==128&&(oe=(31&ne)<<6|63&ce)>127&&(fe=oe);break;case 3:ce=W[pe+1],ge=W[pe+2],(192&ce)==128&&(192&ge)==128&&(oe=(15&ne)<<12|(63&ce)<<6|63&ge)>2047&&(oe<55296||oe>57343)&&(fe=oe);break;case 4:ce=W[pe+1],ge=W[pe+2],ee=W[pe+3],(192&ce)==128&&(192&ge)==128&&(192&ee)==128&&(oe=(15&ne)<<18|(63&ce)<<12|(63&ge)<<6|63&ee)>65535&&oe<1114112&&(fe=oe)}fe===null?(fe=65533,le=1):fe>65535&&(fe-=65536,ae.push(fe>>>10&1023|55296),fe=56320|1023&fe),ae.push(fe),pe+=le}return(function(ie){var te=ie.length;if(te<=4096)return String.fromCharCode.apply(String,ie);for(var se="",de=0;de<te;)se+=String.fromCharCode.apply(String,ie.slice(de,de+=4096));return se})(ae)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=(function(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},W.foo()===42}catch{return!1}})(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(W,V,G){return d(W,V,G)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(W,V,G){return(function(ae,pe,ce){return p(ae),ae<=0?u(ae):pe!==void 0?typeof ce=="string"?u(ae).fill(pe,ce):u(ae).fill(pe):u(ae)})(W,V,G)},l.allocUnsafe=function(W){return f(W)},l.allocUnsafeSlow=function(W){return f(W)},l.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==l.prototype},l.compare=function(W,V){if(F(W,Uint8Array)&&(W=l.from(W,W.offset,W.byteLength)),F(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),!l.isBuffer(W)||!l.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===V)return 0;for(var G=W.length,ae=V.length,pe=0,ce=Math.min(G,ae);pe<ce;++pe)if(W[pe]!==V[pe]){G=W[pe],ae=V[pe];break}return G<ae?-1:ae<G?1:0},l.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(W,V){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return l.alloc(0);var G;if(V===void 0)for(V=0,G=0;G<W.length;++G)V+=W[G].length;var ae=l.allocUnsafe(V),pe=0;for(G=0;G<W.length;++G){var ce=W[G];if(F(ce,Uint8Array)&&(ce=l.from(ce)),!l.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(ae,pe),pe+=ce.length}return ae},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<W;V+=2)v(this,V,V+1);return this},l.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<W;V+=4)v(this,V,V+3),v(this,V+1,V+2);return this},l.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<W;V+=8)v(this,V,V+7),v(this,V+1,V+6),v(this,V+2,V+5),v(this,V+3,V+4);return this},l.prototype.toString=function(){var W=this.length;return W===0?"":arguments.length===0?K(this,0,W):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(W){if(!l.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||l.compare(this,W)===0},l.prototype.inspect=function(){var W="",V=s.INSPECT_MAX_BYTES;return W=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(W+=" ... "),"<Buffer "+W+">"},l.prototype.compare=function(W,V,G,ae,pe){if(F(W,Uint8Array)&&(W=l.from(W,W.offset,W.byteLength)),!l.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(V===void 0&&(V=0),G===void 0&&(G=W?W.length:0),ae===void 0&&(ae=0),pe===void 0&&(pe=this.length),V<0||G>W.length||ae<0||pe>this.length)throw new RangeError("out of range index");if(ae>=pe&&V>=G)return 0;if(ae>=pe)return-1;if(V>=G)return 1;if(this===W)return 0;for(var ce=(pe>>>=0)-(ae>>>=0),ge=(G>>>=0)-(V>>>=0),ee=Math.min(ce,ge),oe=this.slice(ae,pe),ne=W.slice(V,G),fe=0;fe<ee;++fe)if(oe[fe]!==ne[fe]){ce=oe[fe],ge=ne[fe];break}return ce<ge?-1:ge<ce?1:0},l.prototype.includes=function(W,V,G){return this.indexOf(W,V,G)!==-1},l.prototype.indexOf=function(W,V,G){return x(this,W,V,G,!0)},l.prototype.lastIndexOf=function(W,V,G){return x(this,W,V,G,!1)},l.prototype.write=function(W,V,G,ae){if(V===void 0)ae="utf8",G=this.length,V=0;else if(G===void 0&&typeof V=="string")ae=V,G=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(G)?(G>>>=0,ae===void 0&&(ae="utf8")):(ae=G,G=void 0)}var pe=this.length-V;if((G===void 0||G>pe)&&(G=pe),W.length>0&&(G<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var ce=!1;;)switch(ae){case"hex":return C(this,W,V,G);case"utf8":case"utf-8":return A(this,W,V,G);case"ascii":return B(this,W,V,G);case"latin1":case"binary":return q(this,W,V,G);case"base64":return R(this,W,V,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,W,V,G);default:if(ce)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),ce=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(W,V,G){var ae="";G=Math.min(W.length,G);for(var pe=V;pe<G;++pe)ae+=String.fromCharCode(127&W[pe]);return ae}function P(W,V,G){var ae="";G=Math.min(W.length,G);for(var pe=V;pe<G;++pe)ae+=String.fromCharCode(W[pe]);return ae}function L(W,V,G){var ae=W.length;(!V||V<0)&&(V=0),(!G||G<0||G>ae)&&(G=ae);for(var pe="",ce=V;ce<G;++ce)pe+=z(W[ce]);return pe}function T(W,V,G){for(var ae=W.slice(V,G),pe="",ce=0;ce<ae.length;ce+=2)pe+=String.fromCharCode(ae[ce]+256*ae[ce+1]);return pe}function _(W,V,G){if(W%1!=0||W<0)throw new RangeError("offset is not uint");if(W+V>G)throw new RangeError("Trying to access beyond buffer length")}function k(W,V,G,ae,pe,ce){if(!l.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>pe||V<ce)throw new RangeError('"value" argument is out of bounds');if(G+ae>W.length)throw new RangeError("Index out of range")}function j(W,V,G,ae,pe,ce){if(G+ae>W.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function N(W,V,G,ae,pe){return V=+V,G>>>=0,pe||j(W,0,G,4),c.write(W,V,G,ae,23,4),G+4}function D(W,V,G,ae,pe){return V=+V,G>>>=0,pe||j(W,0,G,8),c.write(W,V,G,ae,52,8),G+8}l.prototype.slice=function(W,V){var G=this.length;(W=~~W)<0?(W+=G)<0&&(W=0):W>G&&(W=G),(V=V===void 0?G:~~V)<0?(V+=G)<0&&(V=0):V>G&&(V=G),V<W&&(V=W);var ae=this.subarray(W,V);return ae.__proto__=l.prototype,ae},l.prototype.readUIntLE=function(W,V,G){W>>>=0,V>>>=0,G||_(W,V,this.length);for(var ae=this[W],pe=1,ce=0;++ce<V&&(pe*=256);)ae+=this[W+ce]*pe;return ae},l.prototype.readUIntBE=function(W,V,G){W>>>=0,V>>>=0,G||_(W,V,this.length);for(var ae=this[W+--V],pe=1;V>0&&(pe*=256);)ae+=this[W+--V]*pe;return ae},l.prototype.readUInt8=function(W,V){return W>>>=0,V||_(W,1,this.length),this[W]},l.prototype.readUInt16LE=function(W,V){return W>>>=0,V||_(W,2,this.length),this[W]|this[W+1]<<8},l.prototype.readUInt16BE=function(W,V){return W>>>=0,V||_(W,2,this.length),this[W]<<8|this[W+1]},l.prototype.readUInt32LE=function(W,V){return W>>>=0,V||_(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},l.prototype.readUInt32BE=function(W,V){return W>>>=0,V||_(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},l.prototype.readIntLE=function(W,V,G){W>>>=0,V>>>=0,G||_(W,V,this.length);for(var ae=this[W],pe=1,ce=0;++ce<V&&(pe*=256);)ae+=this[W+ce]*pe;return ae>=(pe*=128)&&(ae-=Math.pow(2,8*V)),ae},l.prototype.readIntBE=function(W,V,G){W>>>=0,V>>>=0,G||_(W,V,this.length);for(var ae=V,pe=1,ce=this[W+--ae];ae>0&&(pe*=256);)ce+=this[W+--ae]*pe;return ce>=(pe*=128)&&(ce-=Math.pow(2,8*V)),ce},l.prototype.readInt8=function(W,V){return W>>>=0,V||_(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},l.prototype.readInt16LE=function(W,V){W>>>=0,V||_(W,2,this.length);var G=this[W]|this[W+1]<<8;return 32768&G?4294901760|G:G},l.prototype.readInt16BE=function(W,V){W>>>=0,V||_(W,2,this.length);var G=this[W+1]|this[W]<<8;return 32768&G?4294901760|G:G},l.prototype.readInt32LE=function(W,V){return W>>>=0,V||_(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},l.prototype.readInt32BE=function(W,V){return W>>>=0,V||_(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},l.prototype.readFloatLE=function(W,V){return W>>>=0,V||_(W,4,this.length),c.read(this,W,!0,23,4)},l.prototype.readFloatBE=function(W,V){return W>>>=0,V||_(W,4,this.length),c.read(this,W,!1,23,4)},l.prototype.readDoubleLE=function(W,V){return W>>>=0,V||_(W,8,this.length),c.read(this,W,!0,52,8)},l.prototype.readDoubleBE=function(W,V){return W>>>=0,V||_(W,8,this.length),c.read(this,W,!1,52,8)},l.prototype.writeUIntLE=function(W,V,G,ae){W=+W,V>>>=0,G>>>=0,ae||k(this,W,V,G,Math.pow(2,8*G)-1,0);var pe=1,ce=0;for(this[V]=255&W;++ce<G&&(pe*=256);)this[V+ce]=W/pe&255;return V+G},l.prototype.writeUIntBE=function(W,V,G,ae){W=+W,V>>>=0,G>>>=0,ae||k(this,W,V,G,Math.pow(2,8*G)-1,0);var pe=G-1,ce=1;for(this[V+pe]=255&W;--pe>=0&&(ce*=256);)this[V+pe]=W/ce&255;return V+G},l.prototype.writeUInt8=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,1,255,0),this[V]=255&W,V+1},l.prototype.writeUInt16LE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,2,65535,0),this[V]=255&W,this[V+1]=W>>>8,V+2},l.prototype.writeUInt16BE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,2,65535,0),this[V]=W>>>8,this[V+1]=255&W,V+2},l.prototype.writeUInt32LE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,4,4294967295,0),this[V+3]=W>>>24,this[V+2]=W>>>16,this[V+1]=W>>>8,this[V]=255&W,V+4},l.prototype.writeUInt32BE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,4,4294967295,0),this[V]=W>>>24,this[V+1]=W>>>16,this[V+2]=W>>>8,this[V+3]=255&W,V+4},l.prototype.writeIntLE=function(W,V,G,ae){if(W=+W,V>>>=0,!ae){var pe=Math.pow(2,8*G-1);k(this,W,V,G,pe-1,-pe)}var ce=0,ge=1,ee=0;for(this[V]=255&W;++ce<G&&(ge*=256);)W<0&&ee===0&&this[V+ce-1]!==0&&(ee=1),this[V+ce]=(W/ge>>0)-ee&255;return V+G},l.prototype.writeIntBE=function(W,V,G,ae){if(W=+W,V>>>=0,!ae){var pe=Math.pow(2,8*G-1);k(this,W,V,G,pe-1,-pe)}var ce=G-1,ge=1,ee=0;for(this[V+ce]=255&W;--ce>=0&&(ge*=256);)W<0&&ee===0&&this[V+ce+1]!==0&&(ee=1),this[V+ce]=(W/ge>>0)-ee&255;return V+G},l.prototype.writeInt8=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,1,127,-128),W<0&&(W=255+W+1),this[V]=255&W,V+1},l.prototype.writeInt16LE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,2,32767,-32768),this[V]=255&W,this[V+1]=W>>>8,V+2},l.prototype.writeInt16BE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,2,32767,-32768),this[V]=W>>>8,this[V+1]=255&W,V+2},l.prototype.writeInt32LE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,4,2147483647,-2147483648),this[V]=255&W,this[V+1]=W>>>8,this[V+2]=W>>>16,this[V+3]=W>>>24,V+4},l.prototype.writeInt32BE=function(W,V,G){return W=+W,V>>>=0,G||k(this,W,V,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[V]=W>>>24,this[V+1]=W>>>16,this[V+2]=W>>>8,this[V+3]=255&W,V+4},l.prototype.writeFloatLE=function(W,V,G){return N(this,W,V,!0,G)},l.prototype.writeFloatBE=function(W,V,G){return N(this,W,V,!1,G)},l.prototype.writeDoubleLE=function(W,V,G){return D(this,W,V,!0,G)},l.prototype.writeDoubleBE=function(W,V,G){return D(this,W,V,!1,G)},l.prototype.copy=function(W,V,G,ae){if(!l.isBuffer(W))throw new TypeError("argument should be a Buffer");if(G||(G=0),ae||ae===0||(ae=this.length),V>=W.length&&(V=W.length),V||(V=0),ae>0&&ae<G&&(ae=G),ae===G||W.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),W.length-V<ae-G&&(ae=W.length-V+G);var pe=ae-G;if(this===W&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,G,ae);else if(this===W&&G<V&&V<ae)for(var ce=pe-1;ce>=0;--ce)W[ce+V]=this[ce+G];else Uint8Array.prototype.set.call(W,this.subarray(G,ae),V);return pe},l.prototype.fill=function(W,V,G,ae){if(typeof W=="string"){if(typeof V=="string"?(ae=V,V=0,G=this.length):typeof G=="string"&&(ae=G,G=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!l.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(W.length===1){var pe=W.charCodeAt(0);(ae==="utf8"&&pe<128||ae==="latin1")&&(W=pe)}}else typeof W=="number"&&(W&=255);if(V<0||this.length<V||this.length<G)throw new RangeError("Out of range index");if(G<=V)return this;var ce;if(V>>>=0,G=G===void 0?this.length:G>>>0,W||(W=0),typeof W=="number")for(ce=V;ce<G;++ce)this[ce]=W;else{var ge=l.isBuffer(W)?W:l.from(W,ae),ee=ge.length;if(ee===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(ce=0;ce<G-V;++ce)this[ce+V]=ge[ce%ee]}return this};var O=/[^+/0-9A-Za-z-_]/g;function z(W){return W<16?"0"+W.toString(16):W.toString(16)}function Q(W,V){var G;V=V||1/0;for(var ae=W.length,pe=null,ce=[],ge=0;ge<ae;++ge){if((G=W.charCodeAt(ge))>55295&&G<57344){if(!pe){if(G>56319){(V-=3)>-1&&ce.push(239,191,189);continue}if(ge+1===ae){(V-=3)>-1&&ce.push(239,191,189);continue}pe=G;continue}if(G<56320){(V-=3)>-1&&ce.push(239,191,189),pe=G;continue}G=65536+(pe-55296<<10|G-56320)}else pe&&(V-=3)>-1&&ce.push(239,191,189);if(pe=null,G<128){if((V-=1)<0)break;ce.push(G)}else if(G<2048){if((V-=2)<0)break;ce.push(G>>6|192,63&G|128)}else if(G<65536){if((V-=3)<0)break;ce.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;ce.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return ce}function Y(W){return o.toByteArray((function(V){if((V=(V=V.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V})(W))}function re(W,V,G,ae){for(var pe=0;pe<ae&&!(pe+G>=V.length||pe>=W.length);++pe)V[pe+G]=W[pe];return pe}function F(W,V){return W instanceof V||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===V.name}function Z(W){return W!=W}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("stream").Transform,c=e("string_decoder").StringDecoder;function u(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(u,o),u.prototype.update=function(l,d,p){typeof l=="string"&&(l=a.from(l,d));var f=this._update(l);return this.hashMode?this:(p&&(f=this._toString(f,p)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(l,d,p){var f;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(h){f=h}finally{p(f)}},u.prototype._flush=function(l){var d;try{this.push(this.__final())}catch(p){d=p}l(d)},u.prototype._finalOrDigest=function(l){var d=this.__final()||a.alloc(0);return l&&(d=this._toString(d,l,!0)),d},u.prototype._toString=function(l,d,p){if(this._decoder||(this._decoder=new c(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(l);return p&&(f+=this._decoder.end()),f},n.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var a=e("../internals/is-callable"),o=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var a=e("../internals/is-constructor"),o=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var a=e("../internals/is-callable"),o=String,c=TypeError;n.exports=function(u){if(typeof u=="object"||a(u))return u;throw new c("Can't set "+o(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var a=e("../internals/well-known-symbol"),o=e("../internals/object-create"),c=e("../internals/object-define-property").f,u=a("unscopables"),l=Array.prototype;l[u]===void 0&&c(l,u,{configurable:!0,value:o(null)}),n.exports=function(d){l[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var a=e("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(c,u){if(a(u,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var a=e("../internals/is-object"),o=String,c=TypeError;n.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var a=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),u=function(l){return function(d,p,f){var h,g=a(d),y=c(g),m=o(f,y);if(l&&p!=p){for(;y>m;)if((h=g[m++])!=h)return!0}else for(;y>m;m++)if((l||m in g)&&g[m]===p)return l||m||0;return!l&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var a=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),u=e("../internals/to-object"),l=e("../internals/length-of-array-like"),d=e("../internals/array-species-create"),p=o([].push),f=function(h){var g=h===1,y=h===2,m=h===3,v=h===4,x=h===6,S=h===7,C=h===5||x;return function(A,B,q,R){for(var I,$,K=u(A),U=c(K),P=a(B,q),L=l(U),T=0,_=R||d,k=g?_(A,L):y||S?_(A,0):void 0;L>T;T++)if((C||T in U)&&($=P(I=U[T],T,K),h))if(g)k[T]=$;else if($)switch(h){case 3:return!0;case 5:return I;case 6:return T;case 2:p(k,I)}else switch(h){case 4:return!1;case 7:p(k,I)}return x?-1:m||v?v:k}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var a=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=e("../internals/create-property"),u=Array,l=Math.max;n.exports=function(d,p,f){for(var h=o(d),g=a(p,h),y=a(f===void 0?h:f,h),m=u(l(y-g,0)),v=0;g<y;g++,v++)c(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var a=e("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var a=e("../internals/is-array"),o=e("../internals/is-constructor"),c=e("../internals/is-object"),u=e("../internals/well-known-symbol")("species"),l=Array;n.exports=function(d){var p;return a(d)&&(p=d.constructor,(o(p)&&(p===l||a(p.prototype))||c(p)&&(p=p[u])===null)&&(p=void 0)),p===void 0?l:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var a=e("../internals/array-species-constructor");n.exports=function(o,c){return new(a(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var a=e("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){o=!0}};u[a]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}n.exports=function(l,d){try{if(!d&&!o)return!1}catch{return!1}var p=!1;try{var f={};f[a]=function(){return{next:function(){return{done:p=!0}}}},l(f)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=a({}.toString),c=a("".slice);n.exports=function(u){return c(o(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var a=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("toStringTag"),l=Object,d=c((function(){return arguments})())==="Arguments";n.exports=a?c:function(p){var f,h,g;return p===void 0?"Undefined":p===null?"Null":typeof(h=(function(y,m){try{return y[m]}catch{}})(f=l(p),u))=="string"?h:d?c(f):(g=c(f))==="Object"&&o(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var a=e("../internals/has-own-property"),o=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-define-property");n.exports=function(l,d,p){for(var f=o(d),h=u.f,g=c.f,y=0;y<f.length;y++){var m=f[y];a(l,m)||p&&a(p,m)||h(l,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var a=e("../internals/well-known-symbol")("match");n.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[a]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(a,o){return{value:a,done:o}}},{}],241:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=a?function(u,l,d){return o.f(u,l,c(1,d))}:function(u,l,d){return u[l]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},{}],243:[function(e,n,s){var a=e("../internals/to-property-key"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(u,l,d){var p=a(l);p in u?o.f(u,p,c(0,d)):u[p]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var a=e("../internals/make-built-in"),o=e("../internals/object-define-property");n.exports=function(c,u,l){return l.get&&a(l.get,u,{getter:!0}),l.set&&a(l.set,u,{setter:!0}),o.f(c,u,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var a=e("../internals/is-callable"),o=e("../internals/object-define-property"),c=e("../internals/make-built-in"),u=e("../internals/define-global-property");n.exports=function(l,d,p,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:d;if(a(p)&&c(p,g,f),f.global)h?l[d]=p:u(d,p);else{try{f.unsafe?l[d]&&(h=!0):delete l[d]}catch{}h?l[d]=p:o.f(l,d,{value:p,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var a=e("../internals/global"),o=Object.defineProperty;n.exports=function(c,u){try{o(a,c,{value:u,configurable:!0,writable:!0})}catch{a[c]=u}return u}},{"../internals/global":274}],247:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var a=typeof document=="object"&&document.all,o=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:o}},{}],249:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/is-object"),c=a.document,u=o(c)&&o(c.createElement);n.exports=function(l){return u?c.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var a=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");n.exports=!a&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/classof-raw");n.exports=o(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var a=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var a,o,c=e("../internals/global"),u=e("../internals/engine-user-agent"),l=c.process,d=c.Deno,p=l&&l.versions||d&&d.version,f=p&&p.v8;f&&(o=(a=f.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&u&&(!(a=u.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=u.match(/Chrome\/(\d+)/))&&(o=+a[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),u=e("../internals/define-built-in"),l=e("../internals/define-global-property"),d=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(f,h){var g,y,m,v,x,S=f.target,C=f.global,A=f.stat;if(g=C?a:A?a[S]||l(S,{}):(a[S]||{}).prototype)for(y in h){if(v=h[y],m=f.dontCallGetSet?(x=o(g,y))&&x.value:g[y],!p(C?y:S+(A?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&c(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(e,n,s){var a=e("../internals/function-bind-native"),o=Function.prototype,c=o.apply,u=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?u.bind(c):function(){return u.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var a=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),c=e("../internals/function-bind-native"),u=a(a.bind);n.exports=function(l,d){return o(l),d===void 0?l:c?u(l,d):function(){return l.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var a=e("../internals/fails");n.exports=!a((function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var a=e("../internals/function-bind-native"),o=Function.prototype.call;n.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/has-own-property"),c=Function.prototype,u=a&&Object.getOwnPropertyDescriptor,l=o(c,"name"),d=l&&function(){}.name==="something",p=l&&(!a||a&&u(c,"name").configurable);n.exports={EXISTS:l,PROPER:d,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");n.exports=function(c,u,l){try{return a(o(Object.getOwnPropertyDescriptor(c,u)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var a=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");n.exports=function(c){if(a(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var a=e("../internals/function-bind-native"),o=Function.prototype,c=o.call,u=a&&o.bind.bind(c,c);n.exports=a?u:function(l){return function(){return c.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/is-callable"),c=function(u){return o(u)?u:void 0};n.exports=function(u,l){return arguments.length<2?c(a[u]):a[u]&&a[u][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var a=e("../internals/classof"),o=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),u=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");n.exports=function(d){if(!c(d))return o(d,l)||o(d,"@@iterator")||u[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var a=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),d=TypeError;n.exports=function(p,f){var h=arguments.length<2?l(p):f;if(o(h))return c(a(h,p));throw new d(u(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),c=e("../internals/is-callable"),u=e("../internals/classof-raw"),l=e("../internals/to-string"),d=a([].push);n.exports=function(p){if(c(p))return p;if(o(p)){for(var f=p.length,h=[],g=0;g<f;g++){var y=p[g];typeof y=="string"?d(h,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(h,l(y))}var m=h.length,v=!0;return function(x,S){if(v)return v=!1,S;if(o(this))return S;for(var C=0;C<m;C++)if(h[C]===x)return S}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var a=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");n.exports=function(c,u){var l=c[u];return o(l)?void 0:a(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(a){(function(){var o=function(c){return c&&c.Math===Math&&c};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof a=="object"&&a)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),c=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(u,l){return c(o(u),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(a,o){try{arguments.length===1?console.error(a):console.error(a,o)}catch{}}},{}],278:[function(e,n,s){var a=e("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!a&&!o((function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/classof-raw"),u=Object,l=a("".split);n.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return c(d)==="String"?l(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),c=e("../internals/shared-store"),u=a(Function.toString);o(c.inspectSource)||(c.inspectSource=function(l){return u(l)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var a,o,c,u=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),d=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),y=e("../internals/hidden-keys"),m=l.TypeError,v=l.WeakMap;if(u||h.state){var x=h.state||(h.state=new v);x.get=x.get,x.has=x.has,x.set=x.set,a=function(C,A){if(x.has(C))throw new m("Object already initialized");return A.facade=C,x.set(C,A),A},o=function(C){return x.get(C)||{}},c=function(C){return x.has(C)}}else{var S=g("state");y[S]=!0,a=function(C,A){if(f(C,S))throw new m("Object already initialized");return A.facade=C,p(C,S,A),A},o=function(C){return f(C,S)?C[S]:{}},c=function(C){return f(C,S)}}n.exports={set:a,get:o,has:c,enforce:function(C){return c(C)?o(C):a(C,{})},getterFor:function(C){return function(A){var B;if(!d(A)||(B=o(A)).type!==C)throw new m("Incompatible receiver, "+C+" required");return B}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var a=e("../internals/well-known-symbol"),o=e("../internals/iterators"),c=a("iterator"),u=Array.prototype;n.exports=function(l){return l!==void 0&&(o.Array===l||u[c]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var a=e("../internals/classof-raw");n.exports=Array.isArray||function(o){return a(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var a=e("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/classof"),l=e("../internals/get-built-in"),d=e("../internals/inspect-source"),p=function(){},f=[],h=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=a(g.exec),m=!g.test(p),v=function(S){if(!c(S))return!1;try{return h(p,f,S),!0}catch{return!1}},x=function(S){if(!c(S))return!1;switch(u(S)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(S))}catch{return!0}};x.sham=!0,n.exports=!h||o((function(){var S;return v(v.call)||!v(Object)||!v((function(){S=!0}))||S}))?x:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var a=e("../internals/fails"),o=e("../internals/is-callable"),c=/#|\.prototype\./,u=function(h,g){var y=d[l(h)];return y===f||y!==p&&(o(g)?a(g):!!g)},l=u.normalize=function(h){return String(h).replace(c,".").toLowerCase()},d=u.data={},p=u.NATIVE="N",f=u.POLYFILL="P";n.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(a){return a==null}},{}],289:[function(e,n,s){var a=e("../internals/is-callable"),o=e("../internals/document-all"),c=o.all;n.exports=o.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:a(u)||u===c}:function(u){return typeof u=="object"?u!==null:a(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var a=e("../internals/is-object"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(u){var l;return a(u)&&((l=u[c])!==void 0?!!l:o(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var a=e("../internals/get-built-in"),o=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),u=e("../internals/use-symbol-as-uid"),l=Object;n.exports=u?function(d){return typeof d=="symbol"}:function(d){var p=a("Symbol");return o(p)&&c(p.prototype,l(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var a=e("../internals/function-bind-context"),o=e("../internals/function-call"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),d=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),y=TypeError,m=function(x,S){this.stopped=x,this.result=S},v=m.prototype;n.exports=function(x,S,C){var A,B,q,R,I,$,K,U=C&&C.that,P=!(!C||!C.AS_ENTRIES),L=!(!C||!C.IS_RECORD),T=!(!C||!C.IS_ITERATOR),_=!(!C||!C.INTERRUPTED),k=a(S,U),j=function(D){return A&&g(A,"normal",D),new m(!0,D)},N=function(D){return P?(c(D),_?k(D[0],D[1],j):k(D[0],D[1])):_?k(D,j):k(D)};if(L)A=x.iterator;else if(T)A=x;else{if(!(B=h(x)))throw new y(u(x)+" is not iterable");if(l(B)){for(q=0,R=d(x);R>q;q++)if((I=N(x[q]))&&p(v,I))return I;return new m(!1)}A=f(x,B)}for($=L?x.next:A.next;!(K=o($,A)).done;){try{I=N(K.value)}catch(D){g(A,"throw",D)}if(typeof I=="object"&&I&&p(v,I))return I}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var a=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(u,l,d){var p,f;o(u);try{if(!(p=c(u,"return"))){if(l==="throw")throw d;return d}p=a(p,u)}catch(h){f=!0,p=h}if(l==="throw")throw d;if(f)throw p;return o(p),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var a=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),u=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),d=function(){return this};n.exports=function(p,f,h,g){var y=f+" Iterator";return p.prototype=o(a,{next:c(+!g,h)}),u(p,y,!1,!0),l[y]=d,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/is-pure"),u=e("../internals/function-name"),l=e("../internals/is-callable"),d=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),v=e("../internals/iterators"),x=e("../internals/iterators-core"),S=u.PROPER,C=u.CONFIGURABLE,A=x.IteratorPrototype,B=x.BUGGY_SAFARI_ITERATORS,q=m("iterator"),R=function(){return this};n.exports=function(I,$,K,U,P,L,T){d(K,$,U);var _,k,j,N=function(F){if(F===P&&Y)return Y;if(!B&&F&&F in z)return z[F];switch(F){case"keys":case"values":case"entries":return function(){return new K(this,F)}}return function(){return new K(this)}},D=$+" Iterator",O=!1,z=I.prototype,Q=z[q]||z["@@iterator"]||P&&z[P],Y=!B&&Q||N(P),re=$==="Array"&&z.entries||Q;if(re&&(_=p(re.call(new I)))!==Object.prototype&&_.next&&(c||p(_)===A||(f?f(_,A):l(_[q])||y(_,q,R)),h(_,D,!0,!0),c&&(v[D]=R)),S&&P==="values"&&Q&&Q.name!=="values"&&(!c&&C?g(z,"name","values"):(O=!0,Y=function(){return o(Q,this)})),P)if(k={values:N("values"),keys:L?Y:N("keys"),entries:N("entries")},T)for(j in k)(B||O||!(j in z))&&y(z,j,k[j]);else a({target:$,proto:!0,forced:B||O},k);return c&&!T||z[q]===Y||y(z,q,Y,{name:P}),v[$]=Y,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var a,o,c,u=e("../internals/fails"),l=e("../internals/is-callable"),d=e("../internals/is-object"),p=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(o=f(f(c)))!==Object.prototype&&(a=o):v=!0),!d(a)||u((function(){var x={};return a[m].call(x)!==x}))?a={}:y&&(a=p(a)),l(a[m])||h(a,m,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var a=e("../internals/to-length");n.exports=function(o){return a(o.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/has-own-property"),l=e("../internals/descriptors"),d=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=a("".slice),x=a("".replace),S=a([].join),C=l&&!o((function(){return m((function(){}),"length",{value:8}).length!==8})),A=String(String).split("String"),B=n.exports=function(q,R,I){v(y(R),0,7)==="Symbol("&&(R="["+x(y(R),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(R="get "+R),I&&I.setter&&(R="set "+R),(!u(q,"name")||d&&q.name!==R)&&(l?m(q,"name",{value:R,configurable:!0}):q.name=R),C&&I&&u(I,"arity")&&q.length!==I.arity&&m(q,"length",{value:I.arity});try{I&&u(I,"constructor")&&I.constructor?l&&m(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var $=h(q);return u($,"source")||($.source=S(A,typeof R=="string"?R:"")),q};Function.prototype.toString=B((function(){return c(this)&&g(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var a=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(c){var u=+c;return(u>0?o:a)(u)}},{}],302:[function(e,n,s){var a,o,c,u,l,d=e("../internals/global"),p=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),y=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),x=e("../internals/engine-is-node"),S=d.MutationObserver||d.WebKitMutationObserver,C=d.document,A=d.process,B=d.Promise,q=f(d,"queueMicrotask"),R=q&&q.value;if(!R){var I=new g,$=function(){var K,U;for(x&&(K=A.domain)&&K.exit();U=I.get();)try{U()}catch(P){throw I.head&&a(),P}K&&K.enter()};y||x||v||!S||!C?!m&&B&&B.resolve?((u=B.resolve(void 0)).constructor=B,l=p(u.then,u),a=function(){l($)}):x?a=function(){A.nextTick($)}:(h=p(h,d),a=function(){h($)}):(o=!0,c=C.createTextNode(""),new S($).observe(c,{characterData:!0}),a=function(){c.data=o=!o}),R=function(K){I.head||a(),I.add(K)}}n.exports=R},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var a=e("../internals/a-callable"),o=TypeError,c=function(u){var l,d;this.promise=new u((function(p,f){if(l!==void 0||d!==void 0)throw new o("Bad Promise constructor");l=p,d=f})),this.resolve=a(l),this.reject=a(d)};n.exports.f=function(u){return new c(u)}},{"../internals/a-callable":222}],304:[function(e,n,s){var a=e("../internals/is-regexp"),o=TypeError;n.exports=function(c){if(a(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),u=e("../internals/fails"),l=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=o([].concat);n.exports=!g||u((function(){if(a&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},x={},S=Symbol("assign detection");return v[S]=7,"abcdefghijklmnopqrst".split("").forEach((function(C){x[C]=C})),g({},v)[S]!==7||l(g({},x)).join("")!=="abcdefghijklmnopqrst"}))?function(v,x){for(var S=f(v),C=arguments.length,A=1,B=d.f,q=p.f;C>A;)for(var R,I=h(arguments[A++]),$=B?m(l(I),B(I)):l(I),K=$.length,U=0;K>U;)R=$[U++],a&&!c(q,I,R)||(S[R]=I[R]);return S}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var a,o=e("../internals/an-object"),c=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),d=e("../internals/html"),p=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},y=function(x){return"<script>"+x+"<\/script>"},m=function(x){x.write(y("")),x.close();var S=x.parentWindow.Object;return x=null,S},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var x,S;v=typeof document<"u"?document.domain&&a?m(a):((S=p("iframe")).style.display="none",d.appendChild(S),S.src="javascript:",(x=S.contentWindow.document).open(),x.write(y("document.F=Object")),x.close(),x.F):m(a);for(var C=u.length;C--;)delete v.prototype[u[C]];return v()};l[h]=!0,n.exports=Object.create||function(x,S){var C;return x!==null?(g.prototype=o(x),C=new g,g.prototype=null,C[h]=x):C=v(),S===void 0?C:c.f(C,S)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),u=e("../internals/an-object"),l=e("../internals/to-indexed-object"),d=e("../internals/object-keys");s.f=a&&!o?Object.defineProperties:function(p,f){u(p);for(var h,g=l(f),y=d(f),m=y.length,v=0;m>v;)c.f(p,h=y[v++],g[h]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),u=e("../internals/an-object"),l=e("../internals/to-property-key"),d=TypeError,p=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=a?c?function(h,g,y){if(u(h),g=l(g),u(y),typeof h=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(h,g);m&&m.writable&&(h[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return p(h,g,y)}:p:function(h,g,y){if(u(h),g=l(g),u(y),o)try{return p(h,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(h[g]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),d=e("../internals/to-property-key"),p=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=a?h:function(g,y){if(g=l(g),y=d(y),f)try{return h(g,y)}catch{}if(p(g,y))return u(!o(c.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var a=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,u=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(d){return l&&a(d)==="Window"?(function(p){try{return c(p)}catch{return u(l)}})(d):c(o(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var a=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var a=e("../internals/has-own-property"),o=e("../internals/is-callable"),c=e("../internals/to-object"),u=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),d=u("IE_PROTO"),p=Object,f=p.prototype;n.exports=l?p.getPrototypeOf:function(h){var g=c(h);if(a(g,d))return g[d];var y=g.constructor;return o(y)&&g instanceof y?y.prototype:g instanceof p?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var a=e("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),u=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),d=a([].push);n.exports=function(p,f){var h,g=c(p),y=0,m=[];for(h in g)!o(l,h)&&o(g,h)&&d(m,h);for(;f.length>y;)o(g,h=f[y++])&&(~u(m,h)||d(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var a=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!a.call({1:2},1);s.f=c?function(u){var l=o(this,u);return!!l&&l.enumerable}:a},{}],318:[function(e,n,s){var a=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,l=!1,d={};try{(u=a(Object.prototype,"__proto__","set"))(d,[]),l=d instanceof Array}catch{}return function(p,f){return o(p),c(f),l?u(p,f):p.__proto__=f,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/function-uncurry-this"),u=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),d=e("../internals/to-indexed-object"),p=c(e("../internals/object-property-is-enumerable").f),f=c([].push),h=a&&o((function(){var y=Object.create(null);return y[2]=2,!p(y,2)})),g=function(y){return function(m){for(var v,x=d(m),S=l(x),C=h&&u(x)===null,A=S.length,B=0,q=[];A>B;)v=S[B++],a&&!(C?v in x:p(x,v))||f(q,y?[v,x[v]]:x[v]);return q}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var a=e("../internals/function-call"),o=e("../internals/is-callable"),c=e("../internals/is-object"),u=TypeError;n.exports=function(l,d){var p,f;if(d==="string"&&o(p=l.toString)&&!c(f=a(p,l))||o(p=l.valueOf)&&!c(f=a(p,l))||d!=="string"&&o(p=l.toString)&&!c(f=a(p,l)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var a=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),d=o([].concat);n.exports=a("Reflect","ownKeys")||function(p){var f=c.f(l(p)),h=u.f;return h?d(f,h(p)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var a=e("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),u=e("../internals/is-forced"),l=e("../internals/inspect-source"),d=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),y=o&&o.prototype,m=d("species"),v=!1,x=c(a.PromiseRejectionEvent),S=u("Promise",(function(){var C=l(o),A=C!==String(o);if(!A&&g===66||h&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(C)){var B=new o((function(R){R(1)})),q=function(R){R((function(){}),(function(){}))};if((B.constructor={})[m]=q,!(v=B.then((function(){}))instanceof q))return!0}return!A&&(p||f)&&!x}));n.exports={CONSTRUCTOR:S,REJECTION_EVENT:x,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var a=e("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(e,n,s){var a=e("../internals/an-object"),o=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(u,l){if(a(u),o(l)&&l.constructor===u)return l;var d=c.f(u);return(0,d.resolve)(l),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var a=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!o((function(u){a.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(o){var c={item:o,next:null},u=this.tail;u?u.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=a},{}],329:[function(e,n,s){var a=e("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(c){if(a(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var a=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),u=e("../internals/descriptors"),l=c("species");n.exports=function(d){var p=a(d);u&&p&&!p[l]&&o(p,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var a=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(u,l,d){u&&!d&&(u=u.prototype),u&&!o(u,c)&&a(u,c,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var a=e("../internals/shared"),o=e("../internals/uid"),c=a("keys");n.exports=function(u){return c[u]||(c[u]=o(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/define-global-property"),c=a["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var a=e("../internals/is-pure"),o=e("../internals/shared-store");(n.exports=function(c,u){return o[c]||(o[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var a=e("../internals/an-object"),o=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),u=e("../internals/well-known-symbol")("species");n.exports=function(l,d){var p,f=a(l).constructor;return f===void 0||c(p=a(f)[u])?d:o(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var a=e("../internals/engine-v8-version"),o=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var u=Symbol("symbol detection");return!c(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var a=e("../internals/function-call"),o=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),u=e("../internals/define-built-in");n.exports=function(){var l=o("Symbol"),d=l&&l.prototype,p=d&&d.valueOf,f=c("toPrimitive");d&&!d[f]&&u(d,f,(function(h){return a(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var a,o,c,u,l=e("../internals/global"),d=e("../internals/function-apply"),p=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),y=e("../internals/html"),m=e("../internals/array-slice"),v=e("../internals/document-create-element"),x=e("../internals/validate-arguments-length"),S=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),A=l.setImmediate,B=l.clearImmediate,q=l.process,R=l.Dispatch,I=l.Function,$=l.MessageChannel,K=l.String,U=0,P={};g((function(){a=l.location}));var L=function(j){if(h(P,j)){var N=P[j];delete P[j],N()}},T=function(j){return function(){L(j)}},_=function(j){L(j.data)},k=function(j){l.postMessage(K(j),a.protocol+"//"+a.host)};A&&B||(A=function(j){x(arguments.length,1);var N=f(j)?j:I(j),D=m(arguments,1);return P[++U]=function(){d(N,void 0,D)},o(U),U},B=function(j){delete P[j]},C?o=function(j){q.nextTick(T(j))}:R&&R.now?o=function(j){R.now(T(j))}:$&&!S?(u=(c=new $).port2,c.port1.onmessage=_,o=p(u.postMessage,u)):l.addEventListener&&f(l.postMessage)&&!l.importScripts&&a&&a.protocol!=="file:"&&!g(k)?(o=k,l.addEventListener("message",_,!1)):o="onreadystatechange"in v("script")?function(j){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),L(j)}}:function(j){setTimeout(T(j),0)}),n.exports={set:A,clear:B}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var a=e("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;n.exports=function(u,l){var d=a(u);return d<0?o(d+l,0):c(d,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var a=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");n.exports=function(c){return a(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var a=e("../internals/math-trunc");n.exports=function(o){var c=+o;return c!=c||c===0?0:a(c)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var a=e("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(c){return c>0?o(a(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var a=e("../internals/require-object-coercible"),o=Object;n.exports=function(c){return o(a(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var a=e("../internals/function-call"),o=e("../internals/is-object"),c=e("../internals/is-symbol"),u=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),d=e("../internals/well-known-symbol"),p=TypeError,f=d("toPrimitive");n.exports=function(h,g){if(!o(h)||c(h))return h;var y,m=u(h,f);if(m){if(g===void 0&&(g="default"),y=a(m,h,g),!o(y)||c(y))return y;throw new p("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var a=e("../internals/to-primitive"),o=e("../internals/is-symbol");n.exports=function(c){var u=a(c,"string");return o(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var a=e("../internals/classof"),o=String;n.exports=function(c){if(a(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(e,n,s){var a=String;n.exports=function(o){try{return a(o)}catch{return"Object"}}},{}],350:[function(e,n,s){var a=e("../internals/function-uncurry-this"),o=0,c=Math.random(),u=a(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+u(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var a=e("../internals/descriptors"),o=e("../internals/fails");n.exports=a&&o((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var a=TypeError;n.exports=function(o,c){if(o<c)throw new a("Not enough arguments");return o}},{}],354:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/is-callable"),c=a.WeakMap;n.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var a=e("../internals/path"),o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),u=e("../internals/object-define-property").f;n.exports=function(l){var d=a.Symbol||(a.Symbol={});o(d,l)||u(d,l,{value:c.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var a=e("../internals/well-known-symbol");s.f=a},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var a=e("../internals/global"),o=e("../internals/shared"),c=e("../internals/has-own-property"),u=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),d=e("../internals/use-symbol-as-uid"),p=a.Symbol,f=o("wks"),h=d?p.for||p:p&&p.withoutSetter||u;n.exports=function(g){return c(f,g)||(f[g]=l&&c(p,g)?p[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),a({target:"Array",proto:!0,forced:u},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),a({target:"Array",proto:!0,forced:u},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/array-includes").includes,c=e("../internals/fails"),u=e("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:c((function(){return!Array(1).includes()}))},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var a=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),u=e("../internals/internal-state"),l=e("../internals/object-define-property").f,d=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");n.exports=d(Array,"Array",(function(v,x){g(this,{type:"Array Iterator",target:a(v),index:0,kind:x})}),(function(){var v=y(this),x=v.target,S=v.kind,C=v.index++;if(!x||C>=x.length)return v.target=void 0,p(void 0,!0);switch(S){case"keys":return p(C,!1);case"values":return p(x[C],!1)}return p([C,x[C]],!1)}),"values");var m=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!f&&h&&m.name!=="values")try{l(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/function-apply"),u=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),d=e("../internals/fails"),p=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),m=String,v=o("JSON","stringify"),x=l(/./.exec),S=l("".charAt),C=l("".charCodeAt),A=l("".replace),B=l(1 .toString),q=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,$=!y||d((function(){var L=o("Symbol")("stringify detection");return v([L])!=="[null]"||v({a:L})!=="{}"||v(Object(L))!=="{}"})),K=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),U=function(L,T){var _=h(arguments),k=g(T);if(p(k)||L!==void 0&&!f(L))return _[1]=function(j,N){if(p(k)&&(N=u(k,this,m(j),N)),!f(N))return N},c(v,null,_)},P=function(L,T,_){var k=S(_,T-1),j=S(_,T+1);return x(R,L)&&!x(I,j)||x(I,L)&&!x(R,k)?"\\u"+B(C(L,0),16):L};v&&a({target:"JSON",stat:!0,arity:3,forced:$||K},{stringify:function(L,T,_){var k=h(arguments),j=c($?U:v,null,k);return K&&typeof j=="string"?A(j,q,P):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");a({target:"Object",stat:!0,forced:!o||c((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var p=u.f;return p?p(l(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/to-object"),c=e("../internals/object-keys");a({target:"Object",stat:!0,forced:e("../internals/fails")((function(){c(1)}))},{keys:function(u){return c(o(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var f=this,h=u.f(f),g=h.resolve,y=h.reject,m=l((function(){var v=c(f.resolve),x=[],S=0,C=1;d(p,(function(A){var B=S++,q=!1;C++,o(v,f,A).then((function(R){q||(q=!0,x[B]=R,--C||g(x))}),y)})),--C||g(x)}));return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/define-built-in"),f=u&&u.prototype;if(a({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&d(u)){var h=l("Promise").prototype.catch;f.catch!==h&&p(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var a,o,c,u=e("../internals/export"),l=e("../internals/is-pure"),d=e("../internals/engine-is-node"),p=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),v=e("../internals/a-callable"),x=e("../internals/is-callable"),S=e("../internals/is-object"),C=e("../internals/an-instance"),A=e("../internals/species-constructor"),B=e("../internals/task").set,q=e("../internals/microtask"),R=e("../internals/host-report-errors"),I=e("../internals/perform"),$=e("../internals/queue"),K=e("../internals/internal-state"),U=e("../internals/promise-native-constructor"),P=e("../internals/promise-constructor-detection"),L=e("../internals/new-promise-capability"),T=P.CONSTRUCTOR,_=P.REJECTION_EVENT,k=P.SUBCLASSING,j=K.getterFor("Promise"),N=K.set,D=U&&U.prototype,O=U,z=D,Q=p.TypeError,Y=p.document,re=p.process,F=L.f,Z=F,W=!!(Y&&Y.createEvent&&p.dispatchEvent),V=function(le){var ie;return!(!S(le)||!x(ie=le.then))&&ie},G=function(le,ie){var te,se,de,me=ie.value,ke=ie.state===1,Ce=ke?le.ok:le.fail,Fe=le.resolve,Ie=le.reject,Ue=le.domain;try{Ce?(ke||(ie.rejection===2&&ee(ie),ie.rejection=1),Ce===!0?te=me:(Ue&&Ue.enter(),te=Ce(me),Ue&&(Ue.exit(),de=!0)),te===le.promise?Ie(new Q("Promise-chain cycle")):(se=V(te))?f(se,te,Fe,Ie):Fe(te)):Ie(me)}catch(tt){Ue&&!de&&Ue.exit(),Ie(tt)}},ae=function(le,ie){le.notified||(le.notified=!0,q((function(){for(var te,se=le.reactions;te=se.get();)G(te,le);le.notified=!1,ie&&!le.rejection&&ce(le)})))},pe=function(le,ie,te){var se,de;W?((se=Y.createEvent("Event")).promise=ie,se.reason=te,se.initEvent(le,!1,!0),p.dispatchEvent(se)):se={promise:ie,reason:te},!_&&(de=p["on"+le])?de(se):le==="unhandledrejection"&&R("Unhandled promise rejection",te)},ce=function(le){f(B,p,(function(){var ie,te=le.facade,se=le.value;if(ge(le)&&(ie=I((function(){d?re.emit("unhandledRejection",se,te):pe("unhandledrejection",te,se)})),le.rejection=d||ge(le)?2:1,ie.error))throw ie.value}))},ge=function(le){return le.rejection!==1&&!le.parent},ee=function(le){f(B,p,(function(){var ie=le.facade;d?re.emit("rejectionHandled",ie):pe("rejectionhandled",ie,le.value)}))},oe=function(le,ie,te){return function(se){le(ie,se,te)}},ne=function(le,ie,te){le.done||(le.done=!0,te&&(le=te),le.value=ie,le.state=2,ae(le,!0))},fe=function(le,ie,te){if(!le.done){le.done=!0,te&&(le=te);try{if(le.facade===ie)throw new Q("Promise can't be resolved itself");var se=V(ie);se?q((function(){var de={done:!1};try{f(se,ie,oe(fe,de,le),oe(ne,de,le))}catch(me){ne(de,me,le)}})):(le.value=ie,le.state=1,ae(le,!1))}catch(de){ne({done:!1},de,le)}}};if(T&&(z=(O=function(le){C(this,z),v(le),f(a,this);var ie=j(this);try{le(oe(fe,ie),oe(ne,ie))}catch(te){ne(ie,te)}}).prototype,(a=function(le){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new $,rejection:!1,state:0,value:void 0})}).prototype=h(z,"then",(function(le,ie){var te=j(this),se=F(A(this,O));return te.parent=!0,se.ok=!x(le)||le,se.fail=x(ie)&&ie,se.domain=d?re.domain:void 0,te.state===0?te.reactions.add(se):q((function(){G(se,te)})),se.promise})),o=function(){var le=new a,ie=j(le);this.promise=le,this.resolve=oe(fe,ie),this.reject=oe(ne,ie)},L.f=F=function(le){return le===O||le===void 0?new o(le):Z(le)},!l&&x(U)&&D!==Object.prototype)){c=D.then,k||h(D,"then",(function(le,ie){var te=this;return new O((function(se,de){f(c,te,se,de)})).then(le,ie)}),{unsafe:!0});try{delete D.constructor}catch{}g&&g(D,z)}u({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:O}),y(O,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),u=e("../internals/fails"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!c&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=p(this,l("Promise")),x=d(m);return this.then(x?function(S){return f(v,m()).then((function(){return S}))}:m,x?function(S){return f(v,m()).then((function(){throw S}))}:m)}}),!o&&d(c)){var y=l("Promise").prototype.finally;g.finally!==y&&h(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var f=this,h=u.f(f),g=h.reject,y=l((function(){var m=c(f.resolve);d(p,(function(v){o(m,f,v).then(h.resolve,g)}))}));return y.error&&g(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var l=c.f(this);return o(l.reject,void 0,u),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,d=e("../internals/promise-resolve"),p=o("Promise"),f=c&&!l;a({target:"Promise",stat:!0,forced:c||l},{resolve:function(h){return d(f&&this===p?u:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),u=RangeError,l=String.fromCharCode,d=String.fromCodePoint,p=o([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var h,g=[],y=arguments.length,m=0;y>m;){if(h=+arguments[m++],c(h,1114111)!==h)throw new u(h+" is not a valid code point");g[m]=h<65536?l(h):l(55296+((h-=65536)>>10),h%1024+56320)}return p(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible"),l=e("../internals/to-string"),d=e("../internals/correct-is-regexp-logic"),p=o("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~p(l(u(this)),l(c(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/global"),c=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),m=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),x=e("../internals/to-string"),S=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),A=e("../internals/object-keys"),B=e("../internals/object-get-own-property-names"),q=e("../internals/object-get-own-property-names-external"),R=e("../internals/object-get-own-property-symbols"),I=e("../internals/object-get-own-property-descriptor"),$=e("../internals/object-define-property"),K=e("../internals/object-define-properties"),U=e("../internals/object-property-is-enumerable"),P=e("../internals/define-built-in"),L=e("../internals/define-built-in-accessor"),T=e("../internals/shared"),_=e("../internals/shared-key"),k=e("../internals/hidden-keys"),j=e("../internals/uid"),N=e("../internals/well-known-symbol"),D=e("../internals/well-known-symbol-wrapped"),O=e("../internals/well-known-symbol-define"),z=e("../internals/symbol-define-to-primitive"),Q=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),re=e("../internals/array-iteration").forEach,F=_("hidden"),Z=Y.set,W=Y.getterFor("Symbol"),V=Object.prototype,G=o.Symbol,ae=G&&G.prototype,pe=o.RangeError,ce=o.TypeError,ge=o.QObject,ee=I.f,oe=$.f,ne=q.f,fe=U.f,le=u([].push),ie=T("symbols"),te=T("op-symbols"),se=T("wks"),de=!ge||!ge.prototype||!ge.prototype.findChild,me=function(it,ve,be){var He=ee(V,ve);He&&delete V[ve],oe(it,ve,be),He&&it!==V&&oe(V,ve,He)},ke=d&&f((function(){return C(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7}))?me:oe,Ce=function(it,ve){var be=ie[it]=C(ae);return Z(be,{type:"Symbol",tag:it,description:ve}),d||(be.description=ve),be},Fe=function(it,ve,be){it===V&&Fe(te,ve,be),y(it);var He=v(ve);return y(be),h(ie,He)?(be.enumerable?(h(it,F)&&it[F][He]&&(it[F][He]=!1),be=C(be,{enumerable:S(0,!1)})):(h(it,F)||oe(it,F,S(1,{})),it[F][He]=!0),ke(it,He,be)):oe(it,He,be)},Ie=function(it,ve){y(it);var be=m(ve),He=A(be).concat(Ze(be));return re(He,(function(Xe){d&&!c(Ue,be,Xe)||Fe(it,Xe,be[Xe])})),it},Ue=function(it){var ve=v(it),be=c(fe,this,ve);return!(this===V&&h(ie,ve)&&!h(te,ve))&&(!(be||!h(this,ve)||!h(ie,ve)||h(this,F)&&this[F][ve])||be)},tt=function(it,ve){var be=m(it),He=v(ve);if(be!==V||!h(ie,He)||h(te,He)){var Xe=ee(be,He);return!Xe||!h(ie,He)||h(be,F)&&be[F][He]||(Xe.enumerable=!0),Xe}},gt=function(it){var ve=ne(m(it)),be=[];return re(ve,(function(He){h(ie,He)||h(k,He)||le(be,He)})),be},Ze=function(it){var ve=it===V,be=ne(ve?te:m(it)),He=[];return re(be,(function(Xe){!h(ie,Xe)||ve&&!h(V,Xe)||le(He,ie[Xe])})),He};p||(P(ae=(G=function(){if(g(ae,this))throw new ce("Symbol is not a constructor");var it=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,ve=j(it),be=function(He){this===V&&c(be,te,He),h(this,F)&&h(this[F],ve)&&(this[F][ve]=!1);var Xe=S(1,He);try{ke(this,ve,Xe)}catch(ot){if(!(ot instanceof pe))throw ot;me(this,ve,Xe)}};return d&&de&&ke(V,ve,{configurable:!0,set:be}),Ce(ve,it)}).prototype,"toString",(function(){return W(this).tag})),P(G,"withoutSetter",(function(it){return Ce(j(it),it)})),U.f=Ue,$.f=Fe,K.f=Ie,I.f=tt,B.f=q.f=gt,R.f=Ze,D.f=function(it){return Ce(N(it),it)},d&&(L(ae,"description",{configurable:!0,get:function(){return W(this).description}}),l||P(V,"propertyIsEnumerable",Ue,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:G}),re(A(se),(function(it){O(it)})),a({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),a({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(it,ve){return ve===void 0?C(it):Ie(C(it),ve)},defineProperty:Fe,defineProperties:Ie,getOwnPropertyDescriptor:tt}),a({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:gt}),z(),Q(G,"Symbol"),k[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/has-own-property"),u=e("../internals/to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("string-to-symbol-registry"),f=l("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(h){var g=u(h);if(c(p,g))return p[g];var y=o("Symbol")(g);return p[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var a=e("../internals/export"),o=e("../internals/has-own-property"),c=e("../internals/is-symbol"),u=e("../internals/try-to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!c(f))throw new TypeError(u(f)+" is not a symbol");if(o(p,f))return p[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function a(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):a(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return a(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return a(o)==="[object Date]"},s.isError=function(o){return a(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(a){(function(){var o=e("elliptic"),c=e("bn.js");n.exports=function(p){return new l(p)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(p){this.curveType=u[p],this.curveType||(this.curveType={name:p}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function d(p,f,h){Array.isArray(p)||(p=p.toArray());var g=new a(p);if(h&&g.length<h){var y=new a(h-g.length);y.fill(0),g=a.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,l.prototype.generateKeys=function(p,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,f)},l.prototype.computeSecret=function(p,f,h){return f=f||"utf8",a.isBuffer(p)||(p=new a(p,f)),d(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},l.prototype.getPublicKey=function(p,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,p)},l.prototype.getPrivateKey=function(p){return d(this.keys.getPrivate(),p)},l.prototype.setPublicKey=function(p,f){return f=f||"utf8",a.isBuffer(p)||(p=new a(p,f)),this.keys._importPublic(p),this},l.prototype.setPrivateKey=function(p,f){f=f||"utf8",a.isBuffer(p)||(p=new a(p,f));var h=new c(p);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var a=e("inherits"),o=e("md5.js"),c=e("ripemd160"),u=e("sha.js"),l=e("cipher-base");function d(p){l.call(this,"digest"),this._hash=p}a(d,l),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new o:p==="rmd160"||p==="ripemd160"?new c:new d(u(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var a=e("md5.js");n.exports=function(o){return new a().update(o).digest()}},{"md5.js":450}],388:[function(e,n,s){var a=e("inherits"),o=e("./legacy"),c=e("cipher-base"),u=e("safe-buffer").Buffer,l=e("create-hash/md5"),d=e("ripemd160"),p=e("sha.js"),f=u.alloc(128);function h(g,y){c.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:p(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),x=this._opad=u.allocUnsafe(m),S=0;S<m;S++)v[S]=54^y[S],x[S]=92^y[S];this._hash=g==="rmd160"?new d:p(g),this._hash.update(v)}a(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:p(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",y):g==="md5"?new o(l,y):new h(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var a=e("inherits"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=o.alloc(128);function l(d,p){c.call(this,"digest"),typeof p=="string"&&(p=o.from(p)),this._alg=d,this._key=p,p.length>64?p=d(p):p.length<64&&(p=o.concat([p,u],64));for(var f=this._ipad=o.allocUnsafe(64),h=this._opad=o.allocUnsafe(64),g=0;g<64;g++)f[g]=54^p[g],h[g]=92^p[g];this._hash=[f]}a(l,c),l.prototype._update=function(d){this._hash.push(d)},l.prototype._final=function(){var d=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,d]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var a=e("browserify-sign/algos"),o=Object.keys(a),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return c};var u=e("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var l=e("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var d=e("diffie-hellman");s.DiffieHellmanGroup=d.DiffieHellmanGroup,s.createDiffieHellmanGroup=d.createDiffieHellmanGroup,s.getDiffieHellman=d.getDiffieHellman,s.createDiffieHellman=d.createDiffieHellman,s.DiffieHellman=d.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var f=e("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=e("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(a,o){typeof s=="object"&&n!==void 0?n.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=o()})(void 0,(function(){var a=6e4,o=36e5,c="millisecond",u="second",l="minute",d="hour",p="day",f="week",h="month",g="quarter",y="year",m="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var k=["th","st","nd","rd"],j=_%100;return"["+_+(k[(j-20)%10]||k[j]||k[0])+"]"}},A=function(_,k,j){var N=String(_);return!N||N.length>=k?_:""+Array(k+1-N.length).join(j)+_},B={s:A,z:function(_){var k=-_.utcOffset(),j=Math.abs(k),N=Math.floor(j/60),D=j%60;return(k<=0?"+":"-")+A(N,2,"0")+":"+A(D,2,"0")},m:function _(k,j){if(k.date()<j.date())return-_(j,k);var N=12*(j.year()-k.year())+(j.month()-k.month()),D=k.clone().add(N,h),O=j-D<0,z=k.clone().add(N+(O?-1:1),h);return+(-(N+(j-D)/(O?D-z:z-D))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y,w:f,d:p,D:m,h:d,m:l,s:u,ms:c,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},q="en",R={};R[q]=C;var I="$isDayjsObject",$=function(_){return _ instanceof L||!(!_||!_[I])},K=function _(k,j,N){var D;if(!k)return q;if(typeof k=="string"){var O=k.toLowerCase();R[O]&&(D=O),j&&(R[O]=j,D=O);var z=k.split("-");if(!D&&z.length>1)return _(z[0])}else{var Q=k.name;R[Q]=k,D=Q}return!N&&D&&(q=D),D||!N&&q},U=function(_,k){if($(_))return _.clone();var j=typeof k=="object"?k:{};return j.date=_,j.args=arguments,new L(j)},P=B;P.l=K,P.i=$,P.w=function(_,k){return U(_,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var L=(function(){function _(j){this.$L=K(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[I]=!0}var k=_.prototype;return k.parse=function(j){this.$d=(function(N){var D=N.date,O=N.utc;if(D===null)return new Date(NaN);if(P.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var z=D.match(x);if(z){var Q=z[2]-1||0,Y=(z[7]||"0").substring(0,3);return O?new Date(Date.UTC(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Y)):new Date(z[1],Q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Y)}}return new Date(D)})(j),this.init()},k.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},k.$utils=function(){return P},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(j,N){var D=U(j);return this.startOf(N)<=D&&D<=this.endOf(N)},k.isAfter=function(j,N){return U(j)<this.startOf(N)},k.isBefore=function(j,N){return this.endOf(N)<U(j)},k.$g=function(j,N,D){return P.u(j)?this[N]:this.set(D,j)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(j,N){var D=this,O=!!P.u(N)||N,z=P.p(j),Q=function(ae,pe){var ce=P.w(D.$u?Date.UTC(D.$y,pe,ae):new Date(D.$y,pe,ae),D);return O?ce:ce.endOf(p)},Y=function(ae,pe){return P.w(D.toDate()[ae].apply(D.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(pe)),D)},re=this.$W,F=this.$M,Z=this.$D,W="set"+(this.$u?"UTC":"");switch(z){case y:return O?Q(1,0):Q(31,11);case h:return O?Q(1,F):Q(0,F+1);case f:var V=this.$locale().weekStart||0,G=(re<V?re+7:re)-V;return Q(O?Z-G:Z+(6-G),F);case p:case m:return Y(W+"Hours",0);case d:return Y(W+"Minutes",1);case l:return Y(W+"Seconds",2);case u:return Y(W+"Milliseconds",3);default:return this.clone()}},k.endOf=function(j){return this.startOf(j,!1)},k.$set=function(j,N){var D,O=P.p(j),z="set"+(this.$u?"UTC":""),Q=(D={},D[p]=z+"Date",D[m]=z+"Date",D[h]=z+"Month",D[y]=z+"FullYear",D[d]=z+"Hours",D[l]=z+"Minutes",D[u]=z+"Seconds",D[c]=z+"Milliseconds",D)[O],Y=O===p?this.$D+(N-this.$W):N;if(O===h||O===y){var re=this.clone().set(m,1);re.$d[Q](Y),re.init(),this.$d=re.set(m,Math.min(this.$D,re.daysInMonth())).$d}else Q&&this.$d[Q](Y);return this.init(),this},k.set=function(j,N){return this.clone().$set(j,N)},k.get=function(j){return this[P.p(j)]()},k.add=function(j,N){var D,O=this;j=Number(j);var z=P.p(N),Q=function(F){var Z=U(O);return P.w(Z.date(Z.date()+Math.round(F*j)),O)};if(z===h)return this.set(h,this.$M+j);if(z===y)return this.set(y,this.$y+j);if(z===p)return Q(1);if(z===f)return Q(7);var Y=(D={},D[l]=a,D[d]=o,D[u]=1e3,D)[z]||1,re=this.$d.getTime()+j*Y;return P.w(re,this)},k.subtract=function(j,N){return this.add(-1*j,N)},k.format=function(j){var N=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var O=j||"YYYY-MM-DDTHH:mm:ssZ",z=P.z(this),Q=this.$H,Y=this.$m,re=this.$M,F=D.weekdays,Z=D.months,W=D.meridiem,V=function(pe,ce,ge,ee){return pe&&(pe[ce]||pe(N,O))||ge[ce].slice(0,ee)},G=function(pe){return P.s(Q%12||12,pe,"0")},ae=W||function(pe,ce,ge){var ee=pe<12?"AM":"PM";return ge?ee.toLowerCase():ee};return O.replace(S,(function(pe,ce){return ce||(function(ge){switch(ge){case"YY":return String(N.$y).slice(-2);case"YYYY":return P.s(N.$y,4,"0");case"M":return re+1;case"MM":return P.s(re+1,2,"0");case"MMM":return V(D.monthsShort,re,Z,3);case"MMMM":return V(Z,re);case"D":return N.$D;case"DD":return P.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return V(D.weekdaysMin,N.$W,F,2);case"ddd":return V(D.weekdaysShort,N.$W,F,3);case"dddd":return F[N.$W];case"H":return String(Q);case"HH":return P.s(Q,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return ae(Q,Y,!0);case"A":return ae(Q,Y,!1);case"m":return String(Y);case"mm":return P.s(Y,2,"0");case"s":return String(N.$s);case"ss":return P.s(N.$s,2,"0");case"SSS":return P.s(N.$ms,3,"0");case"Z":return z}return null})(pe)||z.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(j,N,D){var O,z=this,Q=P.p(N),Y=U(j),re=(Y.utcOffset()-this.utcOffset())*a,F=this-Y,Z=function(){return P.m(z,Y)};switch(Q){case y:O=Z()/12;break;case h:O=Z();break;case g:O=Z()/3;break;case f:O=(F-re)/6048e5;break;case p:O=(F-re)/864e5;break;case d:O=F/o;break;case l:O=F/a;break;case u:O=F/1e3;break;default:O=F}return D?O:P.a(O)},k.daysInMonth=function(){return this.endOf(h).$D},k.$locale=function(){return R[this.$L]},k.locale=function(j,N){if(!j)return this.$L;var D=this.clone(),O=K(j,N,!0);return O&&(D.$L=O),D},k.clone=function(){return P.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},_})(),T=L.prototype;return U.prototype=T,[["$ms",c],["$s",u],["$m",l],["$H",d],["$W",p],["$M",h],["$y",y],["$D",m]].forEach((function(_){T[_[1]]=function(k){return this.$g(k,_[0],_[1])}})),U.extend=function(_,k){return _.$i||(_(k,L,U),_.$i=!0),U},U.locale=K,U.isDayjs=$,U.unix=function(_){return U(1e3*_)},U.en=R[q],U.Ls=R,U.p={},U}))},{}],392:[function(e,n,s){(function(a,o){typeof s=="object"&&n!==void 0?n.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=o()})(void 0,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,u=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,d={},p=function(x){return(x=+x)+(x>68?1900:2e3)},f=function(x){return function(S){this[x]=+S}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=(function(S){if(!S||S==="Z")return 0;var C=S.match(/([+-]|\d\d)/g),A=60*C[1]+(+C[2]||0);return A===0?0:C[0]==="+"?-A:A})(x)}],g=function(x){var S=d[x];return S&&(S.indexOf?S:S.s.concat(S.f))},y=function(x,S){var C,A=d.meridiem;if(A){for(var B=1;B<=24;B+=1)if(x.indexOf(A(B,0,S))>-1){C=B>12;break}}else C=x===(S?"pm":"PM");return C},m={A:[l,function(x){this.afternoon=y(x,!1)}],a:[l,function(x){this.afternoon=y(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[c,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[c,f("day")],Do:[l,function(x){var S=d.ordinal,C=x.match(/\d+/);if(this.day=C[0],S)for(var A=1;A<=31;A+=1)S(A).replace(/\[|\]/g,"")===x&&(this.day=A)}],M:[u,f("month")],MM:[c,f("month")],MMM:[l,function(x){var S=g("months"),C=(g("monthsShort")||S.map((function(A){return A.slice(0,3)}))).indexOf(x)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[l,function(x){var S=g("months").indexOf(x)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,f("year")],YY:[c,function(x){this.year=p(x)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(x){var S,C;S=x,C=d&&d.formats;for(var A=(x=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(U,P,L){var T=L&&L.toUpperCase();return P||C[L]||a[L]||C[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,k,j){return k||j.slice(1)}))}))).match(o),B=A.length,q=0;q<B;q+=1){var R=A[q],I=m[R],$=I&&I[0],K=I&&I[1];A[q]=K?{regex:$,parser:K}:R.replace(/^\[|\]$/g,"")}return function(U){for(var P={},L=0,T=0;L<B;L+=1){var _=A[L];if(typeof _=="string")T+=_.length;else{var k=_.regex,j=_.parser,N=U.slice(T),D=k.exec(N)[0];j.call(P,D),U=U.replace(D,"")}}return(function(O){var z=O.afternoon;if(z!==void 0){var Q=O.hours;z?Q<12&&(O.hours+=12):Q===12&&(O.hours=0),delete O.afternoon}})(P),P}}return function(x,S,C){C.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(p=x.parseTwoDigitYear);var A=S.prototype,B=A.parse;A.parse=function(q){var R=q.date,I=q.utc,$=q.args;this.$u=I;var K=$[1];if(typeof K=="string"){var U=$[2]===!0,P=$[3]===!0,L=U||P,T=$[2];P&&(T=$[2]),d=this.$locale(),!U&&T&&(d=C.Ls[T]),this.$d=(function(N,D,O){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*N);var z=v(D)(N),Q=z.year,Y=z.month,re=z.day,F=z.hours,Z=z.minutes,W=z.seconds,V=z.milliseconds,G=z.zone,ae=new Date,pe=re||(Q||Y?1:ae.getDate()),ce=Q||ae.getFullYear(),ge=0;Q&&!Y||(ge=Y>0?Y-1:ae.getMonth());var ee=F||0,oe=Z||0,ne=W||0,fe=V||0;return G?new Date(Date.UTC(ce,ge,pe,ee,oe,ne,fe+60*G.offset*1e3)):O?new Date(Date.UTC(ce,ge,pe,ee,oe,ne,fe)):new Date(ce,ge,pe,ee,oe,ne,fe)}catch{return new Date("")}})(R,K,I),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),L&&R!=this.format(K)&&(this.$d=new Date("")),d={}}else if(K instanceof Array)for(var _=K.length,k=1;k<=_;k+=1){$[1]=K[k-1];var j=C.apply(this,$);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}k===_&&(this.$d=new Date(""))}else B.call(this,q)}}}))},{}],393:[function(e,n,s){(function(a,o){typeof s=="object"&&n!==void 0?n.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=o()})(void 0,(function(){var a="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(u,l,d){var p=l.prototype;d.utc=function(x){var S={date:x,utc:!0,args:arguments};return new l(S)},p.utc=function(x){var S=d(this.toDate(),{locale:this.$L,utc:!0});return x?S.add(this.utcOffset(),a):S},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=p.parse;p.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),f.call(this,x)};var h=p.init;p.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else h.call(this)};var g=p.utcOffset;p.utcOffset=function(x,S){var C=this.$utils().u;if(C(x))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof x=="string"&&(x=(function(R){R===void 0&&(R="");var I=R.match(o);if(!I)return null;var $=(""+I[0]).match(c)||["-",0,0],K=$[0],U=60*+$[1]+ +$[2];return U===0?0:K==="+"?U:-U})(x))===null)return this;var A=Math.abs(x)<=16?60*x:x,B=this;if(S)return B.$offset=A,B.$u=x===0,B;if(x!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(A+q,a)).$offset=A,B.$x.$localOffset=q}else B=this.utc();return B};var y=p.format;p.format=function(x){var S=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,S)},p.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var m=p.toDate;p.toDate=function(x){return x==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=p.diff;p.diff=function(x,S,C){if(x&&this.$u===x.$u)return v.call(this,x,S,C);var A=this.local(),B=d(x).local();return v.call(A,B,S,C)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var a=e("minimalistic-assert"),o=e("inherits"),c={};function u(l){a.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=l[d]}s.instantiate=function(l){function d(g){l.call(this,g),this._cbcInit()}o(d,l);for(var p=Object.keys(c),f=0;f<p.length;f++){var h=p[f];d.prototype[h]=c[h]}return d.create=function(g){return new d(g)},d},c._cbcInit=function(){var l=new u(this.options.iv);this._cbcState=l},c._update=function(l,d,p,f){var h=this._cbcState,g=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=l[d+m];for(g._update.call(this,y,0,p,f),m=0;m<this.blockSize;m++)y[m]=p[f+m]}else{for(g._update.call(this,l,d,p,f),m=0;m<this.blockSize;m++)p[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=l[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var a=e("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,u){for(var l=Math.min(this.buffer.length-this.bufferOff,c.length-u),d=0;d<l;d++)this.buffer[this.bufferOff+d]=c[u+d];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(c,u){return this._update(this.buffer,0,c,u),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var u=0,l=0,d=(this.bufferOff+c.length)/this.blockSize|0,p=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(c,u),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(p,l)));for(var f=c.length-(c.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(c,u,p,l),l+=this.blockSize;for(;u<c.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=c[u];return p},o.prototype._updateDecrypt=function(c){for(var u=0,l=0,d=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,p=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(c,u),l+=this._flushBuffer(p,l);return u+=this._buffer(c,u),p},o.prototype.final=function(c){var u,l;return c&&(u=this.update(c)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(l):l},o.prototype._pad=function(c,u){if(u===0)return!1;for(;u<c.length;)c[u++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,s){var a=e("minimalistic-assert"),o=e("inherits"),c=e("./utils"),u=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var h=new l;this._desState=h,this.deriveKeys(h,f.key)}o(d,u),n.exports=d,d.create=function(f){return new d(f)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,h){f.keys=new Array(32),a.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),y=c.readUInt32BE(h,4);c.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=p[m>>>1];g=c.r28shl(g,v),y=c.r28shl(y,v),c.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,h,g,y){var m=this._desState,v=c.readUInt32BE(f,h),x=c.readUInt32BE(f,h+4);c.ip(v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,x,m.tmp,0):this._decrypt(m,v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],c.writeUInt32BE(g,v,y),c.writeUInt32BE(g,x,y+4)},d.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,y=h;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)a.equal(f[g],h);return f.slice(0,f.length-h)},d.prototype._encrypt=function(f,h,g,y,m){for(var v=h,x=g,S=0;S<f.keys.length;S+=2){var C=f.keys[S],A=f.keys[S+1];c.expand(x,f.tmp,0),C^=f.tmp[0],A^=f.tmp[1];var B=c.substitute(C,A),q=x;x=(v^c.permute(B))>>>0,v=q}c.rip(x,v,y,m)},d.prototype._decrypt=function(f,h,g,y,m){for(var v=g,x=h,S=f.keys.length-2;S>=0;S-=2){var C=f.keys[S],A=f.keys[S+1];c.expand(v,f.tmp,0),C^=f.tmp[0],A^=f.tmp[1];var B=c.substitute(C,A),q=v;v=(x^c.permute(B))>>>0,x=q}c.rip(v,x,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var a=e("minimalistic-assert"),o=e("inherits"),c=e("./cipher"),u=e("./des");function l(p,f){a.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=p==="encrypt"?[u.create({type:"encrypt",key:h}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:h})]}function d(p){c.call(this,p);var f=new l(this.type,this.options.key);this._edeState=f}o(d,c),n.exports=d,d.create=function(p){return new d(p)},d.prototype._update=function(p,f,h,g){var y=this._edeState;y.ciphers[0]._update(p,f,h,g),y.ciphers[1]._update(h,g,h,g),y.ciphers[2]._update(h,g,h,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(u,l){return(u[0+l]<<24|u[1+l]<<16|u[2+l]<<8|u[3+l])>>>0},s.writeUInt32BE=function(u,l,d){u[0+d]=l>>>24,u[1+d]=l>>>16&255,u[2+d]=l>>>8&255,u[3+d]=255&l},s.ip=function(u,l,d,p){for(var f=0,h=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)h<<=1,h|=l>>>y+g&1;for(y=1;y<=25;y+=8)h<<=1,h|=u>>>y+g&1}d[p+0]=f>>>0,d[p+1]=h>>>0},s.rip=function(u,l,d,p){for(var f=0,h=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=l>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)h<<=1,h|=l>>>y+g&1,h<<=1,h|=u>>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.pc1=function(u,l,d,p){for(var f=0,h=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)h<<=1,h|=l>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.r28shl=function(u,l){return u<<l&268435455|u>>>28-l};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,l,d,p){for(var f=0,h=0,g=a.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>a[y]&1;for(y=g;y<a.length;y++)h<<=1,h|=l>>>a[y]&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.expand=function(u,l,d){var p=0,f=0;p=(1&u)<<5|u>>>27;for(var h=23;h>=15;h-=4)p<<=6,p|=u>>>h&63;for(h=11;h>=3;h-=4)f|=u>>>h&63,f<<=6;f|=(31&u)<<1|u>>>31,l[d+0]=p>>>0,l[d+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,l){for(var d=0,p=0;p<4;p++)d<<=4,d|=o[64*p+(u>>>18-6*p&63)];for(p=0;p<4;p++)d<<=4,d|=o[256+64*p+(l>>>18-6*p&63)];return d>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var l=0,d=0;d<c.length;d++)l<<=1,l|=u>>>c[d]&1;return l>>>0},s.padSplit=function(u,l,d){for(var p=u.toString(2);p.length<l;)p="0"+p;for(var f=[],h=0;h<l;h+=d)f.push(p.slice(h,h+d));return f.join(" ")}},{}],400:[function(e,n,s){(function(a){(function(){var o=e("./lib/generatePrime"),c=e("./lib/primes.json"),u=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(d){var p=new a(c[d].prime,"hex"),f=new a(c[d].gen,"hex");return new u(p,f)},s.createDiffieHellman=s.DiffieHellman=function d(p,f,h,g){return a.isBuffer(f)||l[f]===void 0?d(p,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new a([2]),a.isBuffer(h)||(h=new a(h,g)),typeof p=="number"?new u(o(p,h),h,!0):(a.isBuffer(p)||(p=new a(p,f)),new u(p,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(a){(function(){var o=e("bn.js"),c=new(e("miller-rabin")),u=new o(24),l=new o(11),d=new o(10),p=new o(3),f=new o(7),h=e("./generatePrime"),g=e("randombytes");function y(C,A){return A=A||"utf8",a.isBuffer(C)||(C=new a(C,A)),this._pub=new o(C),this}function m(C,A){return A=A||"utf8",a.isBuffer(C)||(C=new a(C,A)),this._priv=new o(C),this}n.exports=x;var v={};function x(C,A,B){this.setGenerator(A),this.__prime=new o(C),this._prime=o.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function S(C,A){var B=new a(C.toArray());return A?B.toString(A):B}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(C,A){var B=A.toString("hex"),q=[B,C.toString(16)].join("_");if(q in v)return v[q];var R,I=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!c.test(C))return I+=1,I+=B==="02"||B==="05"?8:4,v[q]=I,I;switch(c.test(C.shrn(1))||(I+=2),B){case"02":C.mod(u).cmp(l)&&(I+=8);break;case"05":(R=C.mod(d)).cmp(p)&&R.cmp(f)&&(I+=8);break;default:I+=4}return v[q]=I,I})(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(C){var A=(C=(C=new o(C)).toRed(this._prime)).redPow(this._priv).fromRed(),B=new a(A.toArray()),q=this.getPrime();if(B.length<q.length){var R=new a(q.length-B.length);R.fill(0),B=a.concat([R,B])}return B},x.prototype.getPublicKey=function(C){return S(this._pub,C)},x.prototype.getPrivateKey=function(C){return S(this._priv,C)},x.prototype.getPrime=function(C){return S(this.__prime,C)},x.prototype.getGenerator=function(C){return S(this._gen,C)},x.prototype.setGenerator=function(C,A){return A=A||"utf8",a.isBuffer(C)||(C=new a(C,A)),this.__gen=C,this._gen=new o(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var a=e("randombytes");n.exports=C,C.simpleSieve=x,C.fermatTest=S;var o=e("bn.js"),c=new o(24),u=new(e("miller-rabin")),l=new o(1),d=new o(2),p=new o(5),f=(new o(16),new o(8),new o(10)),h=new o(3),g=(new o(7),new o(11)),y=new o(4),m=(new o(12),null);function v(){if(m!==null)return m;var A=[];A[0]=2;for(var B=1,q=3;q<1048576;q+=2){for(var R=Math.ceil(Math.sqrt(q)),I=0;I<B&&A[I]<=R&&q%A[I]!=0;I++);B!==I&&A[I]<=R||(A[B++]=q)}return m=A,A}function x(A){for(var B=v(),q=0;q<B.length;q++)if(A.modn(B[q])===0)return A.cmpn(B[q])===0;return!0}function S(A){var B=o.mont(A);return d.toRed(B).redPow(A.subn(1)).fromRed().cmpn(1)===0}function C(A,B){if(A<16)return new o(B===2||B===5?[140,123]:[140,39]);var q,R;for(B=new o(B);;){for(q=new o(a(Math.ceil(A/8)));q.bitLength()>A;)q.ishrn(1);if(q.isEven()&&q.iadd(l),q.testn(1)||q.iadd(d),B.cmp(d)){if(!B.cmp(p))for(;q.mod(f).cmp(h);)q.iadd(y)}else for(;q.mod(c).cmp(g);)q.iadd(y);if(x(R=q.shrn(1))&&x(q)&&S(R)&&S(q)&&u.test(R)&&u.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var a=s;a.version=e("../package.json").version,a.utils=e("./elliptic/utils"),a.rand=e("brorand"),a.curve=e("./elliptic/curve"),a.curves=e("./elliptic/curves"),a.ec=e("./elliptic/ec"),a.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var a=e("bn.js"),o=e("../utils"),c=o.getNAF,u=o.getJSF,l=o.assert;function d(f,h){this.type=f,this.p=new a(h.p,16),this.red=h.prime?a.red(h.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=h.n&&new a(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,h){l(f.precomputed);var g=f._getDoubles(),y=c(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,x,S=[];for(v=0;v<y.length;v+=g.step){x=0;for(var C=v+g.step-1;C>=v;C--)x=(x<<1)+y[C];S.push(x)}for(var A=this.jpoint(null,null,null),B=this.jpoint(null,null,null),q=m;q>0;q--){for(v=0;v<S.length;v++)(x=S[v])===q?B=B.mixedAdd(g.points[v]):x===-q&&(B=B.mixedAdd(g.points[v].neg()));A=A.add(B)}return A.toP()},d.prototype._wnafMul=function(f,h){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=c(h,g,this._bitLength),x=this.jpoint(null,null,null),S=v.length-1;S>=0;S--){for(var C=0;S>=0&&v[S]===0;S--)C++;if(S>=0&&C++,x=x.dblp(C),S<0)break;var A=v[S];l(A!==0),x=f.type==="affine"?A>0?x.mixedAdd(m[A-1>>1]):x.mixedAdd(m[-A-1>>1].neg()):A>0?x.add(m[A-1>>1]):x.add(m[-A-1>>1].neg())}return f.type==="affine"?x.toP():x},d.prototype._wnafMulAdd=function(f,h,g,y,m){var v,x,S,C=this._wnafT1,A=this._wnafT2,B=this._wnafT3,q=0;for(v=0;v<y;v++){var R=(S=h[v])._getNAFPoints(f);C[v]=R.wnd,A[v]=R.points}for(v=y-1;v>=1;v-=2){var I=v-1,$=v;if(C[I]===1&&C[$]===1){var K=[h[I],null,null,h[$]];h[I].y.cmp(h[$].y)===0?(K[1]=h[I].add(h[$]),K[2]=h[I].toJ().mixedAdd(h[$].neg())):h[I].y.cmp(h[$].y.redNeg())===0?(K[1]=h[I].toJ().mixedAdd(h[$]),K[2]=h[I].add(h[$].neg())):(K[1]=h[I].toJ().mixedAdd(h[$]),K[2]=h[I].toJ().mixedAdd(h[$].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],P=u(g[I],g[$]);for(q=Math.max(P[0].length,q),B[I]=new Array(q),B[$]=new Array(q),x=0;x<q;x++){var L=0|P[0][x],T=0|P[1][x];B[I][x]=U[3*(L+1)+(T+1)],B[$][x]=0,A[I]=K}}else B[I]=c(g[I],C[I],this._bitLength),B[$]=c(g[$],C[$],this._bitLength),q=Math.max(B[I].length,q),q=Math.max(B[$].length,q)}var _=this.jpoint(null,null,null),k=this._wnafT4;for(v=q;v>=0;v--){for(var j=0;v>=0;){var N=!0;for(x=0;x<y;x++)k[x]=0|B[x][v],k[x]!==0&&(N=!1);if(!N)break;j++,v--}if(v>=0&&j++,_=_.dblp(j),v<0)break;for(x=0;x<y;x++){var D=k[x];D!==0&&(D>0?S=A[x][D-1>>1]:D<0&&(S=A[x][-D-1>>1].neg()),_=S.type==="affine"?_.mixedAdd(S):_.add(S))}}for(v=0;v<y;v++)A[v]=null;return m?_:_.toP()},d.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,h){f=o.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?l(f[f.length-1]%2==0):f[0]===7&&l(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(f){return this.encode(f,!0)},p.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},p.prototype.encode=function(f,h){return o.encode(this._encode(h),f)},p.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},p.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},p.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<h;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},p.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(y);return{wnd:f,points:h}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var a=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=a.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function p(f,h,g,y,m){u.BasePoint.call(this,f,"projective"),h===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(h,16),this.y=new o(g,16),this.z=y?new o(y,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(d,u),n.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,h,g,y){return this.point(f,h,g,y)},d.prototype.pointFromX=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var S=x.fromRed().isOdd();return(h&&!S||!h&&S)&&(x=x.redNeg()),this.point(f,x)},d.prototype.pointFromY=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==h&&(x=x.redNeg()),this.point(x,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),y=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return y.cmp(m)===0},c(p,u.BasePoint),d.prototype.pointFromJSON=function(f){return p.fromJSON(this,f)},d.prototype.point=function(f,h,g,y){return new p(this,f,h,g,y)},p.fromJSON=function(f,h){return new p(f,h[0],h[1],h[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),v=y.redAdd(h),x=v.redSub(g),S=y.redSub(h),C=m.redMul(x),A=v.redMul(S),B=m.redMul(S),q=x.redMul(v);return this.curve.point(C,A,q,B)},p.prototype._projDbl=function(){var f,h,g,y,m,v,x=this.x.redAdd(this.y).redSqr(),S=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var A=(y=this.curve._mulA(S)).redAdd(C);this.zOne?(f=x.redSub(S).redSub(C).redMul(A.redSub(this.curve.two)),h=A.redMul(y.redSub(C)),g=A.redSqr().redSub(A).redSub(A)):(m=this.z.redSqr(),v=A.redSub(m).redISub(m),f=x.redSub(S).redISub(C).redMul(v),h=A.redMul(y.redSub(C)),g=A.redMul(v))}else y=S.redAdd(C),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(x.redISub(y)).redMul(v),h=this.curve._mulC(y).redMul(S.redISub(C)),g=y.redMul(v);return this.curve.point(f,h,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(h),x=m.redSub(y),S=m.redAdd(y),C=g.redAdd(h),A=v.redMul(x),B=S.redMul(C),q=v.redMul(C),R=x.redMul(S);return this.curve.point(A,B,R,q)},p.prototype._projAdd=function(f){var h,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),x=this.y.redMul(f.y),S=this.curve.d.redMul(v).redMul(x),C=m.redSub(S),A=m.redAdd(S),B=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(x),q=y.redMul(C).redMul(B);return this.curve.twisted?(h=y.redMul(A).redMul(x.redSub(this.curve._mulA(v))),g=C.redMul(A)):(h=y.redMul(A).redMul(x.redSub(v)),g=this.curve._mulC(C).redMul(A)),this.curve.point(q,h,g)},p.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},p.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},p.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},p.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var a=s;a.base=e("./base"),a.short=e("./short"),a.mont=e("./mont"),a.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var a=e("bn.js"),o=e("inherits"),c=e("./base"),u=e("../utils");function l(p){c.call(this,"mont",p),this.a=new a(p.a,16).toRed(this.red),this.b=new a(p.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(p,f,h){c.BasePoint.call(this,p,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(f,16),this.z=new a(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,c),n.exports=l,l.prototype.validate=function(p){var f=p.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},o(d,c.BasePoint),l.prototype.decodePoint=function(p,f){return this.point(u.toArray(p,f),1)},l.prototype.point=function(p,f){return new d(this,p,f)},l.prototype.pointFromJSON=function(p){return d.fromJSON(this,p)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(p,f){return new d(p,f[0],f[1]||p.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=p.redSub(f),g=p.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(p,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=p.x.redAdd(p.z),m=p.x.redSub(p.z).redMul(h),v=y.redMul(g),x=f.z.redMul(m.redAdd(v).redSqr()),S=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(x,S)},d.prototype.mul=function(p){for(var f=p.clone(),h=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var a=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=a.assert;function d(h){u.call(this,"short",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(h,g,y,m){u.BasePoint.call(this,h,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,y,m){u.BasePoint.call(this,h,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(y,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(d,u),n.exports=d,d.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(h.beta)g=new o(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)y=new o(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],l(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:h.basis?h.basis.map((function(x){return{a:new o(x.a,16),b:new o(x.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:o.mont(h),y=new o(2).toRed(g).redInvm(),m=y.redNeg(),v=new o(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(h){for(var g,y,m,v,x,S,C,A,B,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),R=h,I=this.n.clone(),$=new o(1),K=new o(0),U=new o(0),P=new o(1),L=0;R.cmpn(0)!==0;){var T=I.div(R);A=I.sub(T.mul(R)),B=U.sub(T.mul($));var _=P.sub(T.mul(K));if(!m&&A.cmp(q)<0)g=C.neg(),y=$,m=A.neg(),v=B;else if(m&&++L==2)break;C=A,I=R,R=A,U=$,$=B,P=K,K=_}x=A.neg(),S=B;var k=m.sqr().add(v.sqr());return x.sqr().add(S.sqr()).cmp(k)>=0&&(x=g,S=y),m.negative&&(m=m.neg(),v=v.neg()),x.negative&&(x=x.neg(),S=S.neg()),[{a:m,b:v},{a:x,b:S}]},d.prototype._endoSplit=function(h){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(h).divRound(this.n),x=y.b.neg().mul(h).divRound(this.n),S=v.mul(y.a),C=x.mul(m.a),A=v.mul(y.b),B=x.mul(m.b);return{k1:h.sub(S).sub(C),k2:A.add(B).neg()}},d.prototype.pointFromX=function(h,g){(h=new o(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(h,m)},d.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,y=h.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(h,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,x=0;x<h.length;x++){var S=this._endoSplit(g[x]),C=h[x],A=C._getBeta();S.k1.negative&&(S.k1.ineg(),C=C.neg(!0)),S.k2.negative&&(S.k2.ineg(),A=A.neg(!0)),m[2*x]=C,m[2*x+1]=A,v[2*x]=S.k1,v[2*x+1]=S.k2}for(var B=this._wnafMulAdd(1,m,v,2*x,y),q=0;q<2*x;q++)m[q]=null,v[q]=null;return B},c(p,u.BasePoint),d.prototype.point=function(h,g,y){return new p(this,h,g,y)},d.prototype.pointFromJSON=function(h,g){return p.fromJSON(this,h,g)},p.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(h,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],y);if(!g[2])return m;function v(S){return h.point(S[0],S[1],y)}var x=g[2];return m.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[m].concat(x.doubles.points.map(v))},naf:x.naf&&{wnd:x.naf.wnd,points:[m].concat(x.naf.points.map(v))}},m},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},p.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=h.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),x=v.redSqr().redISub(this.x.redAdd(this.x)),S=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,S)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(h){return h=new o(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},p.prototype.jmulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},p.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},p.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(f,u.BasePoint),d.prototype.jpoint=function(h,g,y){return new f(this,h,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=h.x.redMul(y),x=this.y.redMul(g.redMul(h.z)),S=h.y.redMul(y.redMul(this.z)),C=m.redSub(v),A=x.redSub(S);if(C.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=C.redSqr(),q=B.redMul(C),R=m.redMul(B),I=A.redSqr().redIAdd(q).redISub(R).redISub(R),$=A.redMul(R.redISub(I)).redISub(x.redMul(q)),K=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(I,$,K)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=h.x.redMul(g),v=this.y,x=h.y.redMul(g).redMul(this.z),S=y.redSub(m),C=v.redSub(x);if(S.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=S.redSqr(),B=A.redMul(S),q=y.redMul(A),R=C.redSqr().redIAdd(B).redISub(q).redISub(q),I=C.redMul(q.redISub(R)).redISub(v.redMul(B)),$=this.z.redMul(S);return this.curve.jpoint(R,I,$)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<h;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,x=this.x,S=this.y,C=this.z,A=C.redSqr().redSqr(),B=S.redAdd(S);for(g=0;g<h;g++){var q=x.redSqr(),R=B.redSqr(),I=R.redSqr(),$=q.redAdd(q).redIAdd(q).redIAdd(m.redMul(A)),K=x.redMul(R),U=$.redSqr().redISub(K.redAdd(K)),P=K.redISub(U),L=$.redMul(P);L=L.redIAdd(L).redISub(I);var T=B.redMul(C);g+1<h&&(A=A.redMul(I)),x=U,C=T,B=L}return this.curve.jpoint(x,B.redMul(v),C)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(m).redISub(x);S=S.redIAdd(S);var C=m.redAdd(m).redIAdd(m),A=C.redSqr().redISub(S).redISub(S),B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),h=A,g=C.redMul(S.redISub(A)).redISub(B),y=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),R=this.y.redSqr(),I=R.redSqr(),$=this.x.redAdd(R).redSqr().redISub(q).redISub(I);$=$.redIAdd($);var K=q.redAdd(q).redIAdd(q),U=K.redSqr(),P=I.redIAdd(I);P=(P=P.redIAdd(P)).redIAdd(P),h=U.redISub($).redISub($),g=K.redMul($.redISub(h)).redISub(P),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,g,y)},f.prototype._threeDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(m).redISub(x);S=S.redIAdd(S);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),A=C.redSqr().redISub(S).redISub(S);h=A;var B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),g=C.redMul(S.redISub(A)).redISub(B),y=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),R=this.y.redSqr(),I=this.x.redMul(R),$=this.x.redSub(q).redMul(this.x.redAdd(q));$=$.redAdd($).redIAdd($);var K=I.redIAdd(I),U=(K=K.redIAdd(K)).redAdd(K);h=$.redSqr().redISub(U),y=this.y.redAdd(this.z).redSqr().redISub(R).redISub(q);var P=R.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P),g=$.redMul(K.redISub(h)).redISub(P)}return this.curve.jpoint(h,g,y)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),x=g.redSqr(),S=y.redSqr(),C=x.redAdd(x).redIAdd(x).redIAdd(h.redMul(v)),A=g.redAdd(g),B=(A=A.redIAdd(A)).redMul(S),q=C.redSqr().redISub(B.redAdd(B)),R=B.redISub(q),I=S.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var $=C.redMul(R).redISub(I),K=y.redAdd(y).redMul(m);return this.curve.jpoint(q,$,K)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=h.redAdd(h).redIAdd(h),x=v.redSqr(),S=this.x.redAdd(g).redSqr().redISub(h).redISub(m),C=(S=(S=(S=S.redIAdd(S)).redAdd(S).redIAdd(S)).redISub(x)).redSqr(),A=m.redIAdd(m);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var B=v.redIAdd(S).redSqr().redISub(x).redISub(C).redISub(A),q=g.redMul(B);q=(q=q.redIAdd(q)).redIAdd(q);var R=this.x.redMul(C).redISub(q);R=(R=R.redIAdd(R)).redIAdd(R);var I=this.y.redMul(B.redMul(A.redISub(B)).redISub(S.redMul(C)));I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var $=this.z.redAdd(S).redSqr().redISub(y).redISub(C);return this.curve.jpoint(R,I,$)},f.prototype.mul=function(h,g){return h=new o(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=h.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var a,o=s,c=e("hash.js"),u=e("./curve"),l=e("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(f,h){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(h);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=d,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=e("./precomputed/secp256k1")}catch{a=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var a=e("bn.js"),o=e("hmac-drbg"),c=e("../utils"),u=e("../curves"),l=e("brorand"),d=c.assert,p=e("./key"),f=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new p(this,g)},h.prototype.keyFromPrivate=function(g,y){return p.fromPrivate(this,g,y)},h.prototype.keyFromPublic=function(g,y){return p.fromPublic(this,g,y)},h.prototype.genKeyPair=function(g){g||(g={});for(var y=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new a(2));;){var x=new a(y.generate(m));if(!(x.cmp(v)>0))return x.iaddn(1),this.keyFromPrivate(x)}},h.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new a(g,16));for(var x=this.n.byteLength(),S=y.getPrivate().toArray("be",x),C=g.toArray("be",x),A=new o({hash:this.hash,entropy:S,nonce:C,pers:v.pers,persEnc:v.persEnc||"utf8"}),B=this.n.sub(new a(1)),q=0;;q++){var R=v.k?v.k(q):new a(A.generate(this.n.byteLength()));if(!((R=this._truncateToN(R,!0)).cmpn(1)<=0||R.cmp(B)>=0)){var I=this.g.mul(R);if(!I.isInfinity()){var $=I.getX(),K=$.umod(this.n);if(K.cmpn(0)!==0){var U=R.invm(this.n).mul(K.mul(y.getPrivate()).iadd(g));if((U=U.umod(this.n)).cmpn(0)!==0){var P=(I.getY().isOdd()?1:0)|($.cmp(K)!==0?2:0);return v.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),P^=1),new f({r:K,s:U,recoveryParam:P})}}}}}},h.prototype.verify=function(g,y,m,v){g=this._truncateToN(new a(g,16)),m=this.keyFromPublic(m,v);var x=(y=new f(y,"hex")).r,S=y.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var C,A=S.invm(this.n),B=A.mul(g).umod(this.n),q=A.mul(x).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(B,m.getPublic(),q)).isInfinity()&&C.eqXToP(x):!(C=this.g.mulAdd(B,m.getPublic(),q)).isInfinity()&&C.getX().umod(this.n).cmp(x)===0},h.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var x=this.n,S=new a(g),C=y.r,A=y.s,B=1&m,q=m>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");C=q?this.curve.pointFromX(C.add(this.curve.n),B):this.curve.pointFromX(C,B);var R=y.r.invm(x),I=x.sub(S).mul(R).umod(x),$=A.mul(R).umod(x);return this.g.mulAdd(I,C,$)},h.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var x=0;x<4;x++){var S;try{S=this.recoverPubKey(g,y,x)}catch{continue}if(S.eq(m))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var a=e("bn.js"),o=e("../utils").assert;function c(u,l){this.ec=u,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=c,c.fromPublic=function(u,l,d){return l instanceof c?l:new c(u,{pub:l,pubEnc:d})},c.fromPrivate=function(u,l,d){return l instanceof c?l:new c(u,{priv:l,privEnc:d})},c.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(u,l){return typeof u=="string"&&(l=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,u):this.pub},c.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(u,l){this.priv=new a(u,l||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(u,l){if(u.x||u.y)return this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,l)},c.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},c.prototype.sign=function(u,l,d){return this.ec.sign(u,this,l,d)},c.prototype.verify=function(u,l){return this.ec.verify(u,l,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var a=e("bn.js"),o=e("../utils"),c=o.assert;function u(h,g){if(h instanceof u)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new a(h.r,16),this.s=new a(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function l(){this.place=0}function d(h,g){var y=h[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,x=0,S=g.place;x<m;x++,S++)v<<=8,v|=h[S],v>>>=0;return!(v<=127)&&(g.place=S,v)}function p(h){for(var g=0,y=h.length-1;!h[g]&&!(128&h[g+1])&&g<y;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(g>>>(y<<3)&255);h.push(g)}}n.exports=u,u.prototype._importDER=function(h,g){h=o.toArray(h,g);var y=new l;if(h[y.place++]!==48)return!1;var m=d(h,y);if(m===!1||m+y.place!==h.length||h[y.place++]!==2)return!1;var v=d(h,y);if(v===!1)return!1;var x=h.slice(y.place,v+y.place);if(y.place+=v,h[y.place++]!==2)return!1;var S=d(h,y);if(S===!1||h.length!==S+y.place)return!1;var C=h.slice(y.place,S+y.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new a(x),this.s=new a(C),this.recoveryParam=null,!0},u.prototype.toDER=function(h){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=p(g),y=p(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),x=[48];return f(x,v.length),x=x.concat(v),o.encode(x,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var a=e("hash.js"),o=e("../curves"),c=e("../utils"),u=c.assert,l=c.parseBytes,d=e("./key"),p=e("./signature");function f(h){if(u(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=o[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=a.sha512}n.exports=f,f.prototype.sign=function(h,g){h=l(h);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),h),v=this.g.mul(m),x=this.encodePoint(v),S=this.hashInt(x,y.pubBytes(),h).mul(y.priv()),C=m.add(S).umod(this.curve.n);return this.makeSignature({R:v,S:C,Rencoded:x})},f.prototype.verify=function(h,g,y){h=l(h),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),h),x=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(x)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return d.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return d.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof p?h:new p(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,y=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,v=c.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return c.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var a=e("../utils"),o=a.assert,c=a.parseBytes,u=a.cachedProperty;function l(d,p){this.eddsa=d,this._secret=c(p.secret),d.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=c(p.pub)}l.fromPublic=function(d,p){return p instanceof l?p:new l(d,{pub:p})},l.fromSecret=function(d,p){return p instanceof l?p:new l(d,{secret:p})},l.prototype.secret=function(){return this._secret},u(l,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(l,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(l,"privBytes",(function(){var d=this.eddsa,p=this.hash(),f=d.encodingLength-1,h=p.slice(0,d.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h})),u(l,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(l,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(l,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),l.prototype.sign=function(d){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},l.prototype.verify=function(d,p){return this.eddsa.verify(d,p,this)},l.prototype.getSecret=function(d){return o(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},l.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},n.exports=l},{"../utils":419}],417:[function(e,n,s){var a=e("bn.js"),o=e("../utils"),c=o.assert,u=o.cachedProperty,l=o.parseBytes;function d(p,f){this.eddsa=p,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,p.encodingLength),S:f.slice(p.encodingLength)}),c(f.R&&f.S,"Signature without R or S"),p.isPoint(f.R)&&(this._R=f.R),f.S instanceof a&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=d},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var a=s,o=e("bn.js"),c=e("minimalistic-assert"),u=e("minimalistic-crypto-utils");a.assert=c,a.toArray=u.toArray,a.zero2=u.zero2,a.toHex=u.toHex,a.encode=u.encode,a.getNAF=function(l,d,p){var f=new Array(Math.max(l.bitLength(),p)+1);f.fill(0);for(var h=1<<d+1,g=l.clone(),y=0;y<f.length;y++){var m,v=g.andln(h-1);g.isOdd()?(m=v>(h>>1)-1?(h>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},a.getJSF=function(l,d){var p=[[],[]];l=l.clone(),d=d.clone();for(var f,h=0,g=0;l.cmpn(-h)>0||d.cmpn(-g)>0;){var y,m,v=l.andln(3)+h&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1),y=(1&v)==0?0:(f=l.andln(7)+h&7)!==3&&f!==5||x!==2?v:-v,p[0].push(y),m=(1&x)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?x:-x,p[1].push(m),2*h===y+1&&(h=1-h),2*g===m+1&&(g=1-g),l.iushrn(1),d.iushrn(1)}return p},a.cachedProperty=function(l,d,p){var f="_"+d;l.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=p.call(this)}},a.parseBytes=function(l){return typeof l=="string"?a.toArray(l,"hex"):l},a.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var a=Object.create||function(R){var I=function(){};return I.prototype=R,new I},o=Object.keys||function(R){var I=[];for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&I.push($);return $},c=Function.prototype.bind||function(R){var I=this;return function(){return I.apply(R,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var l,d=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),l=p.x===0}catch{l=!1}function f(R){return R._maxListeners===void 0?u.defaultMaxListeners:R._maxListeners}function h(R,I,$){if(I)R.call($);else for(var K=R.length,U=q(R,K),P=0;P<K;++P)U[P].call($)}function g(R,I,$,K){if(I)R.call($,K);else for(var U=R.length,P=q(R,U),L=0;L<U;++L)P[L].call($,K)}function y(R,I,$,K,U){if(I)R.call($,K,U);else for(var P=R.length,L=q(R,P),T=0;T<P;++T)L[T].call($,K,U)}function m(R,I,$,K,U,P){if(I)R.call($,K,U,P);else for(var L=R.length,T=q(R,L),_=0;_<L;++_)T[_].call($,K,U,P)}function v(R,I,$,K){if(I)R.apply($,K);else for(var U=R.length,P=q(R,U),L=0;L<U;++L)P[L].apply($,K)}function x(R,I,$,K){var U,P,L;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if((P=R._events)?(P.newListener&&(R.emit("newListener",I,$.listener?$.listener:$),P=R._events),L=P[I]):(P=R._events=a(null),R._eventsCount=0),L){if(typeof L=="function"?L=P[I]=K?[$,L]:[L,$]:K?L.unshift($):L.push($),!L.warned&&(U=f(R))&&U>0&&L.length>U){L.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+L.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');T.name="MaxListenersExceededWarning",T.emitter=R,T.type=I,T.count=L.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",T.name,T.message)}}else L=P[I]=$,++R._eventsCount;return R}function S(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var R=new Array(arguments.length),I=0;I<R.length;++I)R[I]=arguments[I];this.listener.apply(this.target,R)}}function C(R,I,$){var K={fired:!1,wrapFn:void 0,target:R,type:I,listener:$},U=c.call(S,K);return U.listener=$,K.wrapFn=U,U}function A(R,I,$){var K=R._events;if(!K)return[];var U=K[I];return U?typeof U=="function"?$?[U.listener||U]:[U]:$?(function(P){for(var L=new Array(P.length),T=0;T<L.length;++T)L[T]=P[T].listener||P[T];return L})(U):q(U,U.length):[]}function B(R){var I=this._events;if(I){var $=I[R];if(typeof $=="function")return 1;if($)return $.length}return 0}function q(R,I){for(var $=new Array(I),K=0;K<I;++K)$[K]=R[K];return $}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(R){if(typeof R!="number"||R<0||R!=R)throw new TypeError('"defaultMaxListeners" must be a positive number');d=R}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||isNaN(R))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=R,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(R){var I,$,K,U,P,L,T=R==="error";if(L=this._events)T=T&&L.error==null;else if(!T)return!1;if(T){if(arguments.length>1&&(I=arguments[1]),I instanceof Error)throw I;var _=new Error('Unhandled "error" event. ('+I+")");throw _.context=I,_}if(!($=L[R]))return!1;var k=typeof $=="function";switch(K=arguments.length){case 1:h($,k,this);break;case 2:g($,k,this,arguments[1]);break;case 3:y($,k,this,arguments[1],arguments[2]);break;case 4:m($,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array(K-1),P=1;P<K;P++)U[P-1]=arguments[P];v($,k,this,U)}return!0},u.prototype.addListener=function(R,I){return x(this,R,I,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(R,I){return x(this,R,I,!0)},u.prototype.once=function(R,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.on(R,C(this,R,I)),this},u.prototype.prependOnceListener=function(R,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(R,C(this,R,I)),this},u.prototype.removeListener=function(R,I){var $,K,U,P,L;if(typeof I!="function")throw new TypeError('"listener" argument must be a function');if(!(K=this._events))return this;if(!($=K[R]))return this;if($===I||$.listener===I)--this._eventsCount==0?this._events=a(null):(delete K[R],K.removeListener&&this.emit("removeListener",R,$.listener||I));else if(typeof $!="function"){for(U=-1,P=$.length-1;P>=0;P--)if($[P]===I||$[P].listener===I){L=$[P].listener,U=P;break}if(U<0)return this;U===0?$.shift():(function(T,_){for(var k=_,j=k+1,N=T.length;j<N;k+=1,j+=1)T[k]=T[j];T.pop()})($,U),$.length===1&&(K[R]=$[0]),K.removeListener&&this.emit("removeListener",R,L||I)}return this},u.prototype.removeAllListeners=function(R){var I,$,K;if(!($=this._events))return this;if(!$.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):$[R]&&(--this._eventsCount==0?this._events=a(null):delete $[R]),this;if(arguments.length===0){var U,P=o($);for(K=0;K<P.length;++K)(U=P[K])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(I=$[R])=="function")this.removeListener(R,I);else if(I)for(K=I.length-1;K>=0;K--)this.removeListener(R,I[K]);return this},u.prototype.listeners=function(R){return A(this,R,!0)},u.prototype.rawListeners=function(R){return A(this,R,!1)},u.listenerCount=function(R,I){return typeof R.listenerCount=="function"?R.listenerCount(I):B.call(R,I)},u.prototype.listenerCount=B,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("md5.js");n.exports=function(c,u,l,d){if(a.isBuffer(c)||(c=a.from(c,"binary")),u&&(a.isBuffer(u)||(u=a.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=l/8,f=a.alloc(p),h=a.alloc(d||0),g=a.alloc(0);p>0||d>0;){var y=new o;y.update(g),y.update(c),u&&y.update(u),g=y.digest();var m=0;if(p>0){var v=f.length-p;m=Math.min(p,g.length),g.copy(f,v,0,m),p-=m}if(m<g.length&&d>0){var x=h.length-d,S=Math.min(d,g.length-m);g.copy(h,x,m,m+S),d-=S}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var a=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function c(u){o.call(this),this._block=a.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,o),c.prototype._transform=function(u,l,d){var p=null;try{this.update(u,l)}catch(f){p=f}d(p)},c.prototype._flush=function(u){var l=null;try{this.push(this.digest())}catch(d){l=d}u(l)},c.prototype.update=function(u,l){if((function(y,m){if(!a.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(u)||(u=a.from(u,l));for(var d=this._block,p=0;this._blockOffset+u.length-p>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[p++];this._update(),this._blockOffset=0}for(;p<u.length;)d[this._blockOffset++]=u[p++];for(var h=0,g=8*u.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();u!==void 0&&(l=l.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return l},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var a=s;a.utils=e("./hash/utils"),a.common=e("./hash/common"),a.sha=e("./hash/sha"),a.ripemd=e("./hash/ripemd"),a.hmac=e("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var a=e("./utils"),o=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=c,c.prototype.update=function(u,l){if(u=a.toArray(u,l),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=a.join32(u,0,u.length-d,this.endian);for(var p=0;p<u.length;p+=this._delta32)this._update(u,p,p+this._delta32)}return this},c.prototype.digest=function(u){return this.update(this._pad()),o(this.pending===null),this._digest(u)},c.prototype._pad=function(){var u=this.pendingTotal,l=this._delta8,d=l-(u+this.padLength)%l,p=new Array(d+this.padLength);p[0]=128;for(var f=1;f<d;f++)p[f]=0;if(u<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)p[f++]=0;p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=u>>>24&255,p[f++]=u>>>16&255,p[f++]=u>>>8&255,p[f++]=255&u}else for(p[f++]=255&u,p[f++]=u>>>8&255,p[f++]=u>>>16&255,p[f++]=u>>>24&255,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,h=8;h<this.padLength;h++)p[f++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var a=e("./utils"),o=e("minimalistic-assert");function c(u,l,d){if(!(this instanceof c))return new c(u,l,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(l,d))}n.exports=c,c.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),o(u.length<=this.blockSize);for(var l=u.length;l<this.blockSize;l++)u.push(0);for(l=0;l<u.length;l++)u[l]^=54;for(this.inner=new this.Hash().update(u),l=0;l<u.length;l++)u[l]^=106;this.outer=new this.Hash().update(u)},c.prototype.update=function(u,l){return this.inner.update(u,l),this},c.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var a=e("./utils"),o=e("./common"),c=a.rotl32,u=a.sum32,l=a.sum32_3,d=a.sum32_4,p=o.BlockHash;function f(){if(!(this instanceof f))return new f;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,A,B,q){return C<=15?A^B^q:C<=31?A&B|~A&q:C<=47?(A|~B)^q:C<=63?A&q|B&~q:A^(B|~q)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}a.inherits(f,p),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(C,A){for(var B=this.h[0],q=this.h[1],R=this.h[2],I=this.h[3],$=this.h[4],K=B,U=q,P=R,L=I,T=$,_=0;_<80;_++){var k=u(c(d(B,h(_,q,R,I),C[m[_]+A],g(_)),x[_]),$);B=$,$=I,I=c(R,10),R=q,q=k,k=u(c(d(K,h(79-_,U,P,L),C[v[_]+A],y(_)),S[_]),T),K=T,T=L,L=c(P,10),P=U,U=k}k=l(this.h[1],R,L),this.h[1]=l(this.h[2],I,T),this.h[2]=l(this.h[3],$,K),this.h[3]=l(this.h[4],B,U),this.h[4]=l(this.h[0],q,P),this.h[0]=k},f.prototype._digest=function(C){return C==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var a=e("../utils"),o=e("../common"),c=e("./common"),u=a.rotl32,l=a.sum32,d=a.sum32_5,p=c.ft_1,f=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,x=0;x<16;x++)v[x]=y[m+x];for(;x<v.length;x++)v[x]=u(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var S=this.h[0],C=this.h[1],A=this.h[2],B=this.h[3],q=this.h[4];for(x=0;x<v.length;x++){var R=~~(x/20),I=d(u(S,5),p(R,C,A,B),q,v[x],h[R]);q=B,B=A,A=u(C,30),C=S,S=I}this.h[0]=l(this.h[0],S),this.h[1]=l(this.h[1],C),this.h[2]=l(this.h[2],A),this.h[3]=l(this.h[3],B),this.h[4]=l(this.h[4],q)},g.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var a=e("../utils"),o=e("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(c,o),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var a=e("../utils"),o=e("../common"),c=e("./common"),u=e("minimalistic-assert"),l=a.sum32,d=a.sum32_4,p=a.sum32_5,f=c.ch32,h=c.maj32,g=c.s0_256,y=c.s1_256,m=c.g0_256,v=c.g1_256,x=o.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}a.inherits(C,x),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(A,B){for(var q=this.W,R=0;R<16;R++)q[R]=A[B+R];for(;R<q.length;R++)q[R]=d(v(q[R-2]),q[R-7],m(q[R-15]),q[R-16]);var I=this.h[0],$=this.h[1],K=this.h[2],U=this.h[3],P=this.h[4],L=this.h[5],T=this.h[6],_=this.h[7];for(u(this.k.length===q.length),R=0;R<q.length;R++){var k=p(_,y(P),f(P,L,T),this.k[R],q[R]),j=l(g(I),h(I,$,K));_=T,T=L,L=P,P=l(U,k),U=K,K=$,$=I,I=l(k,j)}this.h[0]=l(this.h[0],I),this.h[1]=l(this.h[1],$),this.h[2]=l(this.h[2],K),this.h[3]=l(this.h[3],U),this.h[4]=l(this.h[4],P),this.h[5]=l(this.h[5],L),this.h[6]=l(this.h[6],T),this.h[7]=l(this.h[7],_)},C.prototype._digest=function(A){return A==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var a=e("../utils"),o=e("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(c,o),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var a=e("../utils"),o=e("../common"),c=e("minimalistic-assert"),u=a.rotr64_hi,l=a.rotr64_lo,d=a.shr64_hi,p=a.shr64_lo,f=a.sum64,h=a.sum64_hi,g=a.sum64_lo,y=a.sum64_4_hi,m=a.sum64_4_lo,v=a.sum64_5_hi,x=a.sum64_5_lo,S=o.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function B(j,N,D,O,z){var Q=j&D^~j&z;return Q<0&&(Q+=4294967296),Q}function q(j,N,D,O,z,Q){var Y=N&O^~N&Q;return Y<0&&(Y+=4294967296),Y}function R(j,N,D,O,z){var Q=j&D^j&z^D&z;return Q<0&&(Q+=4294967296),Q}function I(j,N,D,O,z,Q){var Y=N&O^N&Q^O&Q;return Y<0&&(Y+=4294967296),Y}function $(j,N){var D=u(j,N,28)^u(N,j,2)^u(N,j,7);return D<0&&(D+=4294967296),D}function K(j,N){var D=l(j,N,28)^l(N,j,2)^l(N,j,7);return D<0&&(D+=4294967296),D}function U(j,N){var D=u(j,N,14)^u(j,N,18)^u(N,j,9);return D<0&&(D+=4294967296),D}function P(j,N){var D=l(j,N,14)^l(j,N,18)^l(N,j,9);return D<0&&(D+=4294967296),D}function L(j,N){var D=u(j,N,1)^u(j,N,8)^d(j,N,7);return D<0&&(D+=4294967296),D}function T(j,N){var D=l(j,N,1)^l(j,N,8)^p(j,N,7);return D<0&&(D+=4294967296),D}function _(j,N){var D=u(j,N,19)^u(N,j,29)^d(j,N,6);return D<0&&(D+=4294967296),D}function k(j,N){var D=l(j,N,19)^l(N,j,29)^p(j,N,6);return D<0&&(D+=4294967296),D}a.inherits(A,S),n.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(j,N){for(var D=this.W,O=0;O<32;O++)D[O]=j[N+O];for(;O<D.length;O+=2){var z=_(D[O-4],D[O-3]),Q=k(D[O-4],D[O-3]),Y=D[O-14],re=D[O-13],F=L(D[O-30],D[O-29]),Z=T(D[O-30],D[O-29]),W=D[O-32],V=D[O-31];D[O]=y(z,Q,Y,re,F,Z,W,V),D[O+1]=m(z,Q,Y,re,F,Z,W,V)}},A.prototype._update=function(j,N){this._prepareBlock(j,N);var D=this.W,O=this.h[0],z=this.h[1],Q=this.h[2],Y=this.h[3],re=this.h[4],F=this.h[5],Z=this.h[6],W=this.h[7],V=this.h[8],G=this.h[9],ae=this.h[10],pe=this.h[11],ce=this.h[12],ge=this.h[13],ee=this.h[14],oe=this.h[15];c(this.k.length===D.length);for(var ne=0;ne<D.length;ne+=2){var fe=ee,le=oe,ie=U(V,G),te=P(V,G),se=B(V,G,ae,pe,ce),de=q(V,G,ae,pe,ce,ge),me=this.k[ne],ke=this.k[ne+1],Ce=D[ne],Fe=D[ne+1],Ie=v(fe,le,ie,te,se,de,me,ke,Ce,Fe),Ue=x(fe,le,ie,te,se,de,me,ke,Ce,Fe);fe=$(O,z),le=K(O,z),ie=R(O,z,Q,Y,re),te=I(O,z,Q,Y,re,F);var tt=h(fe,le,ie,te),gt=g(fe,le,ie,te);ee=ce,oe=ge,ce=ae,ge=pe,ae=V,pe=G,V=h(Z,W,Ie,Ue),G=g(W,W,Ie,Ue),Z=re,W=F,re=Q,F=Y,Q=O,Y=z,O=h(Ie,Ue,tt,gt),z=g(Ie,Ue,tt,gt)}f(this.h,0,O,z),f(this.h,2,Q,Y),f(this.h,4,re,F),f(this.h,6,Z,W),f(this.h,8,V,G),f(this.h,10,ae,pe),f(this.h,12,ce,ge),f(this.h,14,ee,oe)},A.prototype._digest=function(j){return j==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var a=e("../utils").rotr32;function o(l,d,p){return l&d^~l&p}function c(l,d,p){return l&d^l&p^d&p}function u(l,d,p){return l^d^p}s.ft_1=function(l,d,p,f){return l===0?o(d,p,f):l===1||l===3?u(d,p,f):l===2?c(d,p,f):void 0},s.ch32=o,s.maj32=c,s.p32=u,s.s0_256=function(l){return a(l,2)^a(l,13)^a(l,22)},s.s1_256=function(l){return a(l,6)^a(l,11)^a(l,25)},s.g0_256=function(l){return a(l,7)^a(l,18)^l>>>3},s.g1_256=function(l){return a(l,17)^a(l,19)^l>>>10}},{"../utils":437}],437:[function(e,n,s){var a=e("minimalistic-assert"),o=e("inherits");function c(p,f){return(64512&p.charCodeAt(f))==55296&&!(f<0||f+1>=p.length)&&(64512&p.charCodeAt(f+1))==56320}function u(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function l(p){return p.length===1?"0"+p:p}function d(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=o,s.toArray=function(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var h=[];if(typeof p=="string")if(f){if(f==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),y=0;y<p.length;y+=2)h.push(parseInt(p[y]+p[y+1],16))}else for(var g=0,y=0;y<p.length;y++){var m=p.charCodeAt(y);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):c(p,y)?(m=65536+((1023&m)<<10)+(1023&p.charCodeAt(++y)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(y=0;y<p.length;y++)h[y]=0|p[y];return h},s.toHex=function(p){for(var f="",h=0;h<p.length;h++)f+=l(p[h].toString(16));return f},s.htonl=u,s.toHex32=function(p,f){for(var h="",g=0;g<p.length;g++){var y=p[g];f==="little"&&(y=u(y)),h+=d(y.toString(16))}return h},s.zero2=l,s.zero8=d,s.join32=function(p,f,h,g){var y=h-f;a(y%4==0);for(var m=new Array(y/4),v=0,x=f;v<m.length;v++,x+=4){var S;S=g==="big"?p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3]:p[x+3]<<24|p[x+2]<<16|p[x+1]<<8|p[x],m[v]=S>>>0}return m},s.split32=function(p,f){for(var h=new Array(4*p.length),g=0,y=0;g<p.length;g++,y+=4){var m=p[g];f==="big"?(h[y]=m>>>24,h[y+1]=m>>>16&255,h[y+2]=m>>>8&255,h[y+3]=255&m):(h[y+3]=m>>>24,h[y+2]=m>>>16&255,h[y+1]=m>>>8&255,h[y]=255&m)}return h},s.rotr32=function(p,f){return p>>>f|p<<32-f},s.rotl32=function(p,f){return p<<f|p>>>32-f},s.sum32=function(p,f){return p+f>>>0},s.sum32_3=function(p,f,h){return p+f+h>>>0},s.sum32_4=function(p,f,h,g){return p+f+h+g>>>0},s.sum32_5=function(p,f,h,g,y){return p+f+h+g+y>>>0},s.sum64=function(p,f,h,g){var y=p[f],m=g+p[f+1]>>>0,v=(m<g?1:0)+h+y;p[f]=v>>>0,p[f+1]=m},s.sum64_hi=function(p,f,h,g){return(f+g>>>0<f?1:0)+p+h>>>0},s.sum64_lo=function(p,f,h,g){return f+g>>>0},s.sum64_4_hi=function(p,f,h,g,y,m,v,x){var S=0,C=f;return S+=(C=C+g>>>0)<f?1:0,S+=(C=C+m>>>0)<m?1:0,p+h+y+v+(S+=(C=C+x>>>0)<x?1:0)>>>0},s.sum64_4_lo=function(p,f,h,g,y,m,v,x){return f+g+m+x>>>0},s.sum64_5_hi=function(p,f,h,g,y,m,v,x,S,C){var A=0,B=f;return A+=(B=B+g>>>0)<f?1:0,A+=(B=B+m>>>0)<m?1:0,A+=(B=B+x>>>0)<x?1:0,p+h+y+v+S+(A+=(B=B+C>>>0)<C?1:0)>>>0},s.sum64_5_lo=function(p,f,h,g,y,m,v,x,S,C){return f+g+m+x+C>>>0},s.rotr64_hi=function(p,f,h){return(f<<32-h|p>>>h)>>>0},s.rotr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0},s.shr64_hi=function(p,f,h){return p>>>h},s.shr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var a=e("hash.js"),o=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function u(l){if(!(this instanceof u))return new u(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=o.toArray(l.entropy,l.entropyEnc||"hex"),p=o.toArray(l.nonce,l.nonceEnc||"hex"),f=o.toArray(l.pers,l.persEnc||"hex");c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,p,f)}n.exports=u,u.prototype._init=function(l,d,p){var f=l.concat(d).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},u.prototype._update=function(l){var d=this._hmac().update(this.V).update([0]);l&&(d=d.update(l)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(l,d,p,f){typeof d!="string"&&(f=p,p=d,d=null),l=o.toArray(l,d),p=o.toArray(p,f),c(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(p||[])),this._reseed=1},u.prototype.generate=function(l,d,p,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=p,p=d,d=null),p&&(p=o.toArray(p,f||"hex"),this._update(p));for(var h=[];h.length<l;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,l);return this._update(p),this._reseed++,o.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(a,o,c,u,l){var d,p,f=8*l-u-1,h=(1<<f)-1,g=h>>1,y=-7,m=c?l-1:0,v=c?-1:1,x=a[o+m];for(m+=v,d=x&(1<<-y)-1,x>>=-y,y+=f;y>0;d=256*d+a[o+m],m+=v,y-=8);for(p=d&(1<<-y)-1,d>>=-y,y+=u;y>0;p=256*p+a[o+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===h)return p?NaN:1/0*(x?-1:1);p+=Math.pow(2,u),d-=g}return(x?-1:1)*p*Math.pow(2,d-u)},s.write=function(a,o,c,u,l,d){var p,f,h,g=8*d-l-1,y=(1<<g)-1,m=y>>1,v=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:d-1,S=u?1:-1,C=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,p=y):(p=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-p))<1&&(p--,h*=2),(o+=p+m>=1?v/h:v*Math.pow(2,1-m))*h>=2&&(p++,h/=2),p+m>=y?(f=0,p=y):p+m>=1?(f=(o*h-1)*Math.pow(2,l),p+=m):(f=o*Math.pow(2,m-1)*Math.pow(2,l),p=0));l>=8;a[c+x]=255&f,x+=S,f/=256,l-=8);for(p=p<<l|f,g+=l;g>0;a[c+x]=255&p,x+=S,p/=256,g-=8);a[c+x-S]|=128*C}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(a,o){o&&(a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,o){if(o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],441:[function(e,n,s){(function(a,o,c,u,l,d,p,f){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof s=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(g,y,m){function v(C,A){if(!y[C]){if(!g[C]){var B=typeof e=="function"&&e;if(!A&&B)return B(C,!0);if(x)return x(C,!0);var q=new Error("Cannot find module '"+C+"'");throw q.code="MODULE_NOT_FOUND",q}var R=y[C]={exports:{}};g[C][0].call(R.exports,(function(I){return v(g[C][1][I]||I)}),R,R.exports,h,g,y,m)}return y[C].exports}for(var x=typeof e=="function"&&e,S=0;S<m.length;S++)v(m[S]);return v})({1:[function(h,g,y){var m=h("./utils"),v=h("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(S){for(var C,A,B,q,R,I,$,K=[],U=0,P=S.length,L=P,T=m.getTypeOf(S)!=="string";U<S.length;)L=P-U,B=T?(C=S[U++],A=U<P?S[U++]:0,U<P?S[U++]:0):(C=S.charCodeAt(U++),A=U<P?S.charCodeAt(U++):0,U<P?S.charCodeAt(U++):0),q=C>>2,R=(3&C)<<4|A>>4,I=1<L?(15&A)<<2|B>>6:64,$=2<L?63&B:64,K.push(x.charAt(q)+x.charAt(R)+x.charAt(I)+x.charAt($));return K.join("")},y.decode=function(S){var C,A,B,q,R,I,$=0,K=0,U="data:";if(S.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var P,L=3*(S=S.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(S.charAt(S.length-1)===x.charAt(64)&&L--,S.charAt(S.length-2)===x.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=v.uint8array?new Uint8Array(0|L):new Array(0|L);$<S.length;)C=x.indexOf(S.charAt($++))<<2|(q=x.indexOf(S.charAt($++)))>>4,A=(15&q)<<4|(R=x.indexOf(S.charAt($++)))>>2,B=(3&R)<<6|(I=x.indexOf(S.charAt($++))),P[K++]=C,R!==64&&(P[K++]=A),I!==64&&(P[K++]=B);return P}},{"./support":30,"./utils":32}],2:[function(h,g,y){var m=h("./external"),v=h("./stream/DataWorker"),x=h("./stream/Crc32Probe"),S=h("./stream/DataLengthProbe");function C(A,B,q,R,I){this.compressedSize=A,this.uncompressedSize=B,this.crc32=q,this.compression=R,this.compressedContent=I}C.prototype={getContentWorker:function(){var A=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new S("data_length")),B=this;return A.on("end",(function(){if(this.streamInfo.data_length!==B.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),A},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(A,B,q){return A.pipe(new x).pipe(new S("uncompressedSize")).pipe(B.compressWorker(q)).pipe(new S("compressedSize")).withStreamInfo("compression",B)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,y){var m=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,y){var m=h("./utils"),v=(function(){for(var x,S=[],C=0;C<256;C++){x=C;for(var A=0;A<8;A++)x=1&x?3988292384^x>>>1:x>>>1;S[C]=x}return S})();g.exports=function(x,S){return x!==void 0&&x.length?m.getTypeOf(x)!=="string"?(function(C,A,B,q){var R=v,I=0+B;C^=-1;for(var $=0;$<I;$++)C=C>>>8^R[255&(C^A[$])];return-1^C})(0|S,x,x.length):(function(C,A,B,q){var R=v,I=0+B;C^=-1;for(var $=0;$<I;$++)C=C>>>8^R[255&(C^A.charCodeAt($))];return-1^C})(0|S,x,x.length):0}},{"./utils":32}],5:[function(h,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,g,y){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),x=h("./utils"),S=h("./stream/GenericWorker"),C=m?"uint8array":"array";function A(B,q){S.call(this,"FlateWorker/"+B),this._pako=null,this._pakoAction=B,this._pakoOptions=q,this.meta={}}y.magic="\b\0",x.inherits(A,S),A.prototype.processChunk=function(B){this.meta=B.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(C,B.data),!1)},A.prototype.flush=function(){S.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var B=this;this._pako.onData=function(q){B.push({data:q,meta:B.meta})}},y.compressWorker=function(B){return new A("Deflate",B)},y.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,y){function m(R,I){var $,K="";for($=0;$<I;$++)K+=String.fromCharCode(255&R),R>>>=8;return K}function v(R,I,$,K,U,P){var L,T,_=R.file,k=R.compression,j=P!==C.utf8encode,N=x.transformTo("string",P(_.name)),D=x.transformTo("string",C.utf8encode(_.name)),O=_.comment,z=x.transformTo("string",P(O)),Q=x.transformTo("string",C.utf8encode(O)),Y=D.length!==_.name.length,re=Q.length!==O.length,F="",Z="",W="",V=_.dir,G=_.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};I&&!$||(ae.crc32=R.crc32,ae.compressedSize=R.compressedSize,ae.uncompressedSize=R.uncompressedSize);var pe=0;I&&(pe|=8),j||!Y&&!re||(pe|=2048);var ce=0,ge=0;V&&(ce|=16),U==="UNIX"?(ge=798,ce|=(function(oe,ne){var fe=oe;return oe||(fe=ne?16893:33204),(65535&fe)<<16})(_.unixPermissions,V)):(ge=20,ce|=(function(oe){return 63&(oe||0)})(_.dosPermissions)),L=G.getUTCHours(),L<<=6,L|=G.getUTCMinutes(),L<<=5,L|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),Y&&(Z=m(1,1)+m(A(N),4)+D,F+="up"+m(Z.length,2)+Z),re&&(W=m(1,1)+m(A(z),4)+Q,F+="uc"+m(W.length,2)+W);var ee="";return ee+=`
\0`,ee+=m(pe,2),ee+=k.magic,ee+=m(L,2),ee+=m(T,2),ee+=m(ae.crc32,4),ee+=m(ae.compressedSize,4),ee+=m(ae.uncompressedSize,4),ee+=m(N.length,2),ee+=m(F.length,2),{fileRecord:B.LOCAL_FILE_HEADER+ee+N+F,dirRecord:B.CENTRAL_FILE_HEADER+m(ge,2)+ee+m(z.length,2)+"\0\0\0\0"+m(ce,4)+m(K,4)+N+F+z}}var x=h("../utils"),S=h("../stream/GenericWorker"),C=h("../utf8"),A=h("../crc32"),B=h("../signature");function q(R,I,$,K){S.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=$,this.encodeFileName=K,this.streamFiles=R,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(q,S),q.prototype.push=function(R){var I=R.meta.percent||0,$=this.entriesCount,K=this._sources.length;this.accumulate?this.contentBuffer.push(R):(this.bytesWritten+=R.data.length,S.prototype.push.call(this,{data:R.data,meta:{currentFile:this.currentFile,percent:$?(I+100*($-K-1))/$:100}}))},q.prototype.openedSource=function(R){this.currentSourceOffset=this.bytesWritten,this.currentFile=R.file.name;var I=this.streamFiles&&!R.file.dir;if(I){var $=v(R,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:$.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(R){this.accumulate=!1;var I=this.streamFiles&&!R.file.dir,$=v(R,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push($.dirRecord),I)this.push({data:(function(K){return B.DATA_DESCRIPTOR+m(K.crc32,4)+m(K.compressedSize,4)+m(K.uncompressedSize,4)})(R),meta:{percent:100}});else for(this.push({data:$.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var R=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var $=this.bytesWritten-R,K=(function(U,P,L,T,_){var k=x.transformTo("string",_(T));return B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(U,2)+m(U,2)+m(P,4)+m(L,4)+m(k.length,2)+k})(this.dirRecords.length,$,R,this.zipComment,this.encodeFileName);this.push({data:K,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(R){this._sources.push(R);var I=this;return R.on("data",(function($){I.processChunk($)})),R.on("end",(function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()})),R.on("error",(function($){I.error($)})),this},q.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(R){var I=this._sources;if(!S.prototype.error.call(this,R))return!1;for(var $=0;$<I.length;$++)try{I[$].error(R)}catch{}return!0},q.prototype.lock=function(){S.prototype.lock.call(this);for(var R=this._sources,I=0;I<R.length;I++)R[I].lock()},g.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,y){var m=h("../compressions"),v=h("./ZipFileWorker");y.generateWorker=function(x,S,C){var A=new v(S.streamFiles,C,S.platform,S.encodeFileName),B=0;try{x.forEach((function(q,R){B++;var I=(function(P,L){var T=P||L,_=m[T];if(!_)throw new Error(T+" is not a valid compression method !");return _})(R.options.compression,S.compression),$=R.options.compressionOptions||S.compressionOptions||{},K=R.dir,U=R.date;R._compressWorker(I,$).withStreamInfo("file",{name:q,dir:K,date:U,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(A)})),A.entriesCount=B}catch(q){A.error(q)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var x in this)typeof this[x]!="function"&&(v[x]=this[x]);return v}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(v,x){return new m().loadAsync(v,x)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,y){var m=h("./utils"),v=h("./external"),x=h("./utf8"),S=h("./zipEntries"),C=h("./stream/Crc32Probe"),A=h("./nodejsUtils");function B(q){return new v.Promise((function(R,I){var $=q.decompressed.getContentWorker().pipe(new C);$.on("error",(function(K){I(K)})).on("end",(function(){$.streamInfo.crc32!==q.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):R()})).resume()}))}g.exports=function(q,R){var I=this;return R=m.extend(R||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),A.isNode&&A.isStream(q)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",q,!0,R.optimizedBinaryString,R.base64).then((function($){var K=new S(R);return K.load($),K})).then((function($){var K=[v.Promise.resolve($)],U=$.files;if(R.checkCRC32)for(var P=0;P<U.length;P++)K.push(B(U[P]));return v.Promise.all(K)})).then((function($){for(var K=$.shift(),U=K.files,P=0;P<U.length;P++){var L=U[P],T=L.fileNameStr,_=m.resolve(L.fileNameStr);I.file(_,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:R.createFolders}),L.dir||(I.file(_).unsafeOriginalName=T)}return K.zipComment.length&&(I.comment=K.zipComment),I}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,y){var m=h("../utils"),v=h("../stream/GenericWorker");function x(S,C){v.call(this,"Nodejs stream input adapter for "+S),this._upstreamEnded=!1,this._bindStream(C)}m.inherits(x,v),x.prototype._bindStream=function(S){var C=this;(this._stream=S).pause(),S.on("data",(function(A){C.push({data:A,meta:{percent:0}})})).on("error",(function(A){C.isPaused?this.generatedError=A:C.error(A)})).on("end",(function(){C.isPaused?C._upstreamEnded=!0:C.end()}))},x.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,y){var m=h("readable-stream").Readable;function v(x,S,C){m.call(this,S),this._helper=x;var A=this;x.on("data",(function(B,q){A.push(B)||A._helper.pause(),C&&C(q)})).on("error",(function(B){A.emit("error",B)})).on("end",(function(){A.push(null)}))}h("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,g,y){g.exports={isNode:c!==void 0,newBufferFrom:function(m,v){if(c.from&&c.from!==Uint8Array.from)return c.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,v)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var v=new c(m);return v.fill(0),v},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,y){function m(_,k,j){var N,D=x.getTypeOf(k),O=x.extend(j||{},A);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(_=U(_)),O.createFolders&&(N=K(_))&&P.call(this,N,!0);var z=D==="string"&&O.binary===!1&&O.base64===!1;j&&j.binary!==void 0||(O.binary=!z),(k instanceof B&&k.uncompressedSize===0||O.dir||!k||k.length===0)&&(O.base64=!1,O.binary=!0,k="",O.compression="STORE",D="string");var Q;Q=k instanceof B||k instanceof S?k:I.isNode&&I.isStream(k)?new $(_,k):x.prepareContent(_,k,O.binary,O.optimizedBinaryString,O.base64);var Y=new q(_,Q,O);this.files[_]=Y}var v=h("./utf8"),x=h("./utils"),S=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),A=h("./defaults"),B=h("./compressedObject"),q=h("./zipObject"),R=h("./generate"),I=h("./nodejsUtils"),$=h("./nodejs/NodejsStreamInputAdapter"),K=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var k=_.lastIndexOf("/");return 0<k?_.substring(0,k):""},U=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},P=function(_,k){return k=k!==void 0?k:A.createFolders,_=U(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:k}),this.files[_]};function L(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var k,j,N;for(k in this.files)N=this.files[k],(j=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&_(j,N)},filter:function(_){var k=[];return this.forEach((function(j,N){_(j,N)&&k.push(N)})),k},file:function(_,k,j){if(arguments.length!==1)return _=this.root+_,m.call(this,_,k,j),this;if(L(_)){var N=_;return this.filter((function(O,z){return!z.dir&&N.test(O)}))}var D=this.files[this.root+_];return D&&!D.dir?D:null},folder:function(_){if(!_)return this;if(L(_))return this.filter((function(D,O){return O.dir&&_.test(D)}));var k=this.root+_,j=P.call(this,k),N=this.clone();return N.root=j.name,N},remove:function(_){_=this.root+_;var k=this.files[_];if(k||(_.slice(-1)!=="/"&&(_+="/"),k=this.files[_]),k&&!k.dir)delete this.files[_];else for(var j=this.filter((function(D,O){return O.name.slice(0,_.length)===_})),N=0;N<j.length;N++)delete this.files[j[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var k,j={};try{if((j=x.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");x.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var N=j.comment||this.comment||"";k=R.generateWorker(this,j,N)}catch(D){(k=new S("error")).error(D)}return new C(k,j.type||"string",j.mimeType)},generateAsync:function(_,k){return this.generateInternalStream(_).accumulate(k)},generateNodeStream:function(_,k){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(k)}};g.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,y){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x);for(var S=0;S<this.data.length;S++)x[S]=255&x[S]}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data[this.zero+x]},v.prototype.lastIndexOfSignature=function(x){for(var S=x.charCodeAt(0),C=x.charCodeAt(1),A=x.charCodeAt(2),B=x.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===S&&this.data[q+1]===C&&this.data[q+2]===A&&this.data[q+3]===B)return q-this.zero;return-1},v.prototype.readAndCheckSignature=function(x){var S=x.charCodeAt(0),C=x.charCodeAt(1),A=x.charCodeAt(2),B=x.charCodeAt(3),q=this.readData(4);return S===q[0]&&C===q[1]&&A===q[2]&&B===q[3]},v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,g,y){var m=h("../utils");function v(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var S,C=0;for(this.checkOffset(x),S=this.index+x-1;S>=this.index;S--)C=(C<<8)+this.byteAt(S);return this.index+=x,C},readString:function(x){return m.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},g.exports=v},{"../utils":32}],19:[function(h,g,y){var m=h("./Uint8ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){this.checkOffset(x);var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},v.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},v.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},v.prototype.readData=function(x){this.checkOffset(x);var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,g,y){var m=h("./ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var S=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,y){var m=h("../utils"),v=h("../support"),x=h("./ArrayReader"),S=h("./StringReader"),C=h("./NodeBufferReader"),A=h("./Uint8ArrayReader");g.exports=function(B){var q=m.getTypeOf(B);return m.checkSupport(q),q!=="string"||v.uint8array?q==="nodebuffer"?new C(B):v.uint8array?new A(m.transformTo("uint8array",B)):new x(m.transformTo("array",B)):new S(B)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,y){var m=h("./GenericWorker"),v=h("../utils");function x(S){m.call(this,"ConvertWorker to "+S),this.destType=S}v.inherits(x,m),x.prototype.processChunk=function(S){this.push({data:v.transformTo(this.destType,S.data),meta:S.meta})},g.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,y){var m=h("./GenericWorker"),v=h("../crc32");function x(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(x,m),x.prototype.processChunk=function(S){this.streamInfo.crc32=v(S.data,this.streamInfo.crc32||0),this.push(S)},g.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(S){v.call(this,"DataLengthProbe for "+S),this.propName=S,this.withStreamInfo(S,0)}m.inherits(x,v),x.prototype.processChunk=function(S){if(S){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+S.data.length}v.prototype.processChunk.call(this,S)},g.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(S){v.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,S.then((function(A){C.dataIsReady=!0,C.data=A,C.max=A&&A.length||0,C.type=m.getTypeOf(A),C.isPaused||C._tickAndRepeat()}),(function(A){C.error(A)}))}m.inherits(x,v),x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var S=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":S=this.data.substring(this.index,C);break;case"uint8array":S=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":S=this.data.slice(this.index,C)}return this.index=C,this.push({data:S,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,x){return this._listeners[v].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,x){if(this._listeners[v])for(var S=0;S<this._listeners[v].length;S++)this._listeners[v][S].call(this,x)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var x=this;return v.on("data",(function(S){x.processChunk(S)})),v.on("end",(function(){x.end()})),v.on("error",(function(S){x.error(S)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,x){return this.extraStreamInfo[v]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(h,g,y){var m=h("../utils"),v=h("./ConvertWorker"),x=h("./GenericWorker"),S=h("../base64"),C=h("../support"),A=h("../external"),B=null;if(C.nodestream)try{B=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(R,I,$){var K=I;switch(I){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=I,this._mimeType=$,m.checkSupport(K),this._worker=R.pipe(new v(K)),R.lock()}catch(U){this._worker=new x("error"),this._worker.error(U)}}q.prototype={accumulate:function(R){return(function(I,$){return new A.Promise((function(K,U){var P=[],L=I._internalType,T=I._outputType,_=I._mimeType;I.on("data",(function(k,j){P.push(k),$&&$(j)})).on("error",(function(k){P=[],U(k)})).on("end",(function(){try{var k=(function(j,N,D){switch(j){case"blob":return m.newBlob(m.transformTo("arraybuffer",N),D);case"base64":return S.encode(N);default:return m.transformTo(j,N)}})(T,(function(j,N){var D,O=0,z=null,Q=0;for(D=0;D<N.length;D++)Q+=N[D].length;switch(j){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(z=new Uint8Array(Q),D=0;D<N.length;D++)z.set(N[D],O),O+=N[D].length;return z;case"nodebuffer":return c.concat(N);default:throw new Error("concat : unsupported type '"+j+"'")}})(L,P),_);K(k)}catch(j){U(j)}P=[]})).resume()}))})(this,R)},on:function(R,I){var $=this;return R==="data"?this._worker.on(R,(function(K){I.call($,K.data,K.meta)})):this._worker.on(R,(function(){m.delay(I,arguments,$)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:this._outputType!=="nodebuffer"},R)}},g.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=c!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,y){for(var m=h("./utils"),v=h("./support"),x=h("./nodejsUtils"),S=h("./stream/GenericWorker"),C=new Array(256),A=0;A<256;A++)C[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function B(){S.call(this,"utf-8 decode"),this.leftOver=null}function q(){S.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(R){return v.nodebuffer?x.newBufferFrom(R,"utf-8"):(function(I){var $,K,U,P,L,T=I.length,_=0;for(P=0;P<T;P++)(64512&(K=I.charCodeAt(P)))==55296&&P+1<T&&(64512&(U=I.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(U-56320),P++),_+=K<128?1:K<2048?2:K<65536?3:4;for($=v.uint8array?new Uint8Array(_):new Array(_),P=L=0;L<_;P++)(64512&(K=I.charCodeAt(P)))==55296&&P+1<T&&(64512&(U=I.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(U-56320),P++),K<128?$[L++]=K:(K<2048?$[L++]=192|K>>>6:(K<65536?$[L++]=224|K>>>12:($[L++]=240|K>>>18,$[L++]=128|K>>>12&63),$[L++]=128|K>>>6&63),$[L++]=128|63&K);return $})(R)},y.utf8decode=function(R){return v.nodebuffer?m.transformTo("nodebuffer",R).toString("utf-8"):(function(I){var $,K,U,P,L=I.length,T=new Array(2*L);for($=K=0;$<L;)if((U=I[$++])<128)T[K++]=U;else if(4<(P=C[U]))T[K++]=65533,$+=P-1;else{for(U&=P===2?31:P===3?15:7;1<P&&$<L;)U=U<<6|63&I[$++],P--;1<P?T[K++]=65533:U<65536?T[K++]=U:(U-=65536,T[K++]=55296|U>>10&1023,T[K++]=56320|1023&U)}return T.length!==K&&(T.subarray?T=T.subarray(0,K):T.length=K),m.applyFromCharCode(T)})(R=m.transformTo(v.uint8array?"uint8array":"array",R))},m.inherits(B,S),B.prototype.processChunk=function(R){var I=m.transformTo(v.uint8array?"uint8array":"array",R.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var $=I;(I=new Uint8Array($.length+this.leftOver.length)).set(this.leftOver,0),I.set($,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var K=(function(P,L){var T;for((L=L||P.length)>P.length&&(L=P.length),T=L-1;0<=T&&(192&P[T])==128;)T--;return T<0||T===0?L:T+C[P[T]]>L?T:L})(I),U=I;K!==I.length&&(v.uint8array?(U=I.subarray(0,K),this.leftOver=I.subarray(K,I.length)):(U=I.slice(0,K),this.leftOver=I.slice(K,I.length))),this.push({data:y.utf8decode(U),meta:R.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=B,m.inherits(q,S),q.prototype.processChunk=function(R){this.push({data:y.utf8encode(R.data),meta:R.meta})},y.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,y){var m=h("./support"),v=h("./base64"),x=h("./nodejsUtils"),S=h("./external");function C($){return $}function A($,K){for(var U=0;U<$.length;++U)K[U]=255&$.charCodeAt(U);return K}h("setimmediate"),y.newBlob=function($,K){y.checkSupport("blob");try{return new Blob([$],{type:K})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append($),U.getBlob(K)}catch{throw new Error("Bug : can't construct the Blob.")}}};var B={stringifyByChunk:function($,K,U){var P=[],L=0,T=$.length;if(T<=U)return String.fromCharCode.apply(null,$);for(;L<T;)K==="array"||K==="nodebuffer"?P.push(String.fromCharCode.apply(null,$.slice(L,Math.min(L+U,T)))):P.push(String.fromCharCode.apply(null,$.subarray(L,Math.min(L+U,T)))),L+=U;return P.join("")},stringifyByChar:function($){for(var K="",U=0;U<$.length;U++)K+=String.fromCharCode($[U]);return K},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function q($){var K=65536,U=y.getTypeOf($),P=!0;if(U==="uint8array"?P=B.applyCanBeUsed.uint8array:U==="nodebuffer"&&(P=B.applyCanBeUsed.nodebuffer),P)for(;1<K;)try{return B.stringifyByChunk($,U,K)}catch{K=Math.floor(K/2)}return B.stringifyByChar($)}function R($,K){for(var U=0;U<$.length;U++)K[U]=$[U];return K}y.applyFromCharCode=q;var I={};I.string={string:C,array:function($){return A($,new Array($.length))},arraybuffer:function($){return I.string.uint8array($).buffer},uint8array:function($){return A($,new Uint8Array($.length))},nodebuffer:function($){return A($,x.allocBuffer($.length))}},I.array={string:q,array:C,arraybuffer:function($){return new Uint8Array($).buffer},uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return x.newBufferFrom($)}},I.arraybuffer={string:function($){return q(new Uint8Array($))},array:function($){return R(new Uint8Array($),new Array($.byteLength))},arraybuffer:C,uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return x.newBufferFrom(new Uint8Array($))}},I.uint8array={string:q,array:function($){return R($,new Array($.length))},arraybuffer:function($){return $.buffer},uint8array:C,nodebuffer:function($){return x.newBufferFrom($)}},I.nodebuffer={string:q,array:function($){return R($,new Array($.length))},arraybuffer:function($){return I.nodebuffer.uint8array($).buffer},uint8array:function($){return R($,new Uint8Array($.length))},nodebuffer:C},y.transformTo=function($,K){if(K=K||"",!$)return K;y.checkSupport($);var U=y.getTypeOf(K);return I[U][$](K)},y.resolve=function($){for(var K=$.split("/"),U=[],P=0;P<K.length;P++){var L=K[P];L==="."||L===""&&P!==0&&P!==K.length-1||(L===".."?U.pop():U.push(L))}return U.join("/")},y.getTypeOf=function($){return typeof $=="string"?"string":Object.prototype.toString.call($)==="[object Array]"?"array":m.nodebuffer&&x.isBuffer($)?"nodebuffer":m.uint8array&&$ instanceof Uint8Array?"uint8array":m.arraybuffer&&$ instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function($){if(!m[$.toLowerCase()])throw new Error($+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function($){var K,U,P="";for(U=0;U<($||"").length;U++)P+="\\x"+((K=$.charCodeAt(U))<16?"0":"")+K.toString(16).toUpperCase();return P},y.delay=function($,K,U){f((function(){$.apply(U||null,K||[])}))},y.inherits=function($,K){function U(){}U.prototype=K.prototype,$.prototype=new U},y.extend=function(){var $,K,U={};for($=0;$<arguments.length;$++)for(K in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],K)&&U[K]===void 0&&(U[K]=arguments[$][K]);return U},y.prepareContent=function($,K,U,P,L){return S.Promise.resolve(K).then((function(T){return m.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new S.Promise((function(_,k){var j=new FileReader;j.onload=function(N){_(N.target.result)},j.onerror=function(N){k(N.target.error)},j.readAsArrayBuffer(T)})):T})).then((function(T){var _=y.getTypeOf(T);return _?(_==="arraybuffer"?T=y.transformTo("uint8array",T):_==="string"&&(L?T=v.decode(T):U&&P!==!0&&(T=(function(k){return A(k,m.uint8array?new Uint8Array(k.length):new Array(k.length))})(T))),T):S.Promise.reject(new Error("Can't read the data of '"+$+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./signature"),S=h("./zipEntry"),C=h("./support");function A(B){this.files=[],this.loadOptions=B}A.prototype={checkSignature:function(B){if(!this.reader.readAndCheckSignature(B)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(q)+", expected "+v.pretty(B)+")")}},isSignature:function(B,q){var R=this.reader.index;this.reader.setIndex(B);var I=this.reader.readString(4)===q;return this.reader.setIndex(R),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var B=this.reader.readData(this.zipCommentLength),q=C.uint8array?"uint8array":"array",R=v.transformTo(q,B);this.zipComment=this.loadOptions.decodeFileName(R)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var B,q,R,I=this.zip64EndOfCentralSize-44;0<I;)B=this.reader.readInt(2),q=this.reader.readInt(4),R=this.reader.readData(q),this.zip64ExtensibleData[B]={id:B,length:q,value:R}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var B,q;for(B=0;B<this.files.length;B++)q=this.files[B],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var B;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(B=new S({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(B);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var B=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(B<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(B);var q=B;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(B=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(B),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var I=q-R;if(0<I)this.isSignature(q,x.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(B){this.reader=m(B)},load:function(B){this.prepareReader(B),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./compressedObject"),S=h("./crc32"),C=h("./utf8"),A=h("./compressions"),B=h("./support");function q(R,I){this.options=R,this.loadOptions=I}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(R){var I,$;if(R.skip(22),this.fileNameLength=R.readInt(2),$=R.readInt(2),this.fileName=R.readData(this.fileNameLength),R.skip($),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=(function(K){for(var U in A)if(Object.prototype.hasOwnProperty.call(A,U)&&A[U].magic===K)return A[U];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,I,R.readData(this.compressedSize))},readCentralPart:function(R){this.versionMadeBy=R.readInt(2),R.skip(2),this.bitFlag=R.readInt(2),this.compressionMethod=R.readString(2),this.date=R.readDate(),this.crc32=R.readInt(4),this.compressedSize=R.readInt(4),this.uncompressedSize=R.readInt(4);var I=R.readInt(2);if(this.extraFieldsLength=R.readInt(2),this.fileCommentLength=R.readInt(2),this.diskNumberStart=R.readInt(2),this.internalFileAttributes=R.readInt(2),this.externalFileAttributes=R.readInt(4),this.localHeaderOffset=R.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");R.skip(I),this.readExtraFields(R),this.parseZIP64ExtraField(R),this.fileComment=R.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var R=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),R==0&&(this.dosPermissions=63&this.externalFileAttributes),R==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var R=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=R.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=R.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=R.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=R.readInt(4))}},readExtraFields:function(R){var I,$,K,U=R.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});R.index+4<U;)I=R.readInt(2),$=R.readInt(2),K=R.readData($),this.extraFields[I]={id:I,length:$,value:K};R.setIndex(U)},handleUTF8:function(){var R=B.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var $=v.transformTo(R,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName($)}var K=this.findExtraFieldUnicodeComment();if(K!==null)this.fileCommentStr=K;else{var U=v.transformTo(R,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var R=this.extraFields[28789];if(R){var I=m(R.value);return I.readInt(1)!==1||S(this.fileName)!==I.readInt(4)?null:C.utf8decode(I.readData(R.length-5))}return null},findExtraFieldUnicodeComment:function(){var R=this.extraFields[25461];if(R){var I=m(R.value);return I.readInt(1)!==1||S(this.fileComment)!==I.readInt(4)?null:C.utf8decode(I.readData(R.length-5))}return null}},g.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,y){function m(I,$,K){this.name=I,this.dir=K.dir,this.date=K.date,this.comment=K.comment,this.unixPermissions=K.unixPermissions,this.dosPermissions=K.dosPermissions,this._data=$,this._dataBinary=K.binary,this.options={compression:K.compression,compressionOptions:K.compressionOptions}}var v=h("./stream/StreamHelper"),x=h("./stream/DataWorker"),S=h("./utf8"),C=h("./compressedObject"),A=h("./stream/GenericWorker");m.prototype={internalStream:function(I){var $=null,K="string";try{if(!I)throw new Error("No output type specified.");var U=(K=I.toLowerCase())==="string"||K==="text";K!=="binarystring"&&K!=="text"||(K="string"),$=this._decompressWorker();var P=!this._dataBinary;P&&!U&&($=$.pipe(new S.Utf8EncodeWorker)),!P&&U&&($=$.pipe(new S.Utf8DecodeWorker))}catch(L){($=new A("error")).error(L)}return new v($,K,"")},async:function(I,$){return this.internalStream(I).accumulate($)},nodeStream:function(I,$){return this.internalStream(I||"nodebuffer").toNodejsStream($)},_compressWorker:function(I,$){if(this._data instanceof C&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var K=this._decompressWorker();return this._dataBinary||(K=K.pipe(new S.Utf8EncodeWorker)),C.createWorkerFrom(K,I,$)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof A?this._data:new x(this._data)}};for(var B=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},R=0;R<B.length;R++)m.prototype[B[R]]=q;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,y){(function(m){var v,x,S=m.MutationObserver||m.WebKitMutationObserver;if(S){var C=0,A=new S(I),B=m.document.createTextNode("");A.observe(B,{characterData:!0}),v=function(){B.data=C=++C%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var $=m.document.createElement("script");$.onreadystatechange=function(){I(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},m.document.documentElement.appendChild($)}:function(){setTimeout(I,0)};else{var q=new m.MessageChannel;q.port1.onmessage=I,v=function(){q.port2.postMessage(0)}}var R=[];function I(){var $,K;x=!0;for(var U=R.length;U;){for(K=R,R=[],$=-1;++$<U;)K[$]();U=R.length}x=!1}g.exports=function($){R.push($)!==1||x||v()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,y){var m=h("immediate");function v(){}var x={},S=["REJECTED"],C=["FULFILLED"],A=["PENDING"];function B(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,U!==v&&$(this,U)}function q(U,P,L){this.promise=U,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function R(U,P,L){m((function(){var T;try{T=P(L)}catch(_){return x.reject(U,_)}T===U?x.reject(U,new TypeError("Cannot resolve promise with itself")):x.resolve(U,T)}))}function I(U){var P=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof P=="function")return function(){P.apply(U,arguments)}}function $(U,P){var L=!1;function T(j){L||(L=!0,x.reject(U,j))}function _(j){L||(L=!0,x.resolve(U,j))}var k=K((function(){P(_,T)}));k.status==="error"&&T(k.value)}function K(U,P){var L={};try{L.value=U(P),L.status="success"}catch(T){L.status="error",L.value=T}return L}(g.exports=B).prototype.finally=function(U){if(typeof U!="function")return this;var P=this.constructor;return this.then((function(L){return P.resolve(U()).then((function(){return L}))}),(function(L){return P.resolve(U()).then((function(){throw L}))}))},B.prototype.catch=function(U){return this.then(null,U)},B.prototype.then=function(U,P){if(typeof U!="function"&&this.state===C||typeof P!="function"&&this.state===S)return this;var L=new this.constructor(v);return this.state!==A?R(L,this.state===C?U:P,this.outcome):this.queue.push(new q(L,U,P)),L},q.prototype.callFulfilled=function(U){x.resolve(this.promise,U)},q.prototype.otherCallFulfilled=function(U){R(this.promise,this.onFulfilled,U)},q.prototype.callRejected=function(U){x.reject(this.promise,U)},q.prototype.otherCallRejected=function(U){R(this.promise,this.onRejected,U)},x.resolve=function(U,P){var L=K(I,P);if(L.status==="error")return x.reject(U,L.value);var T=L.value;if(T)$(U,T);else{U.state=C,U.outcome=P;for(var _=-1,k=U.queue.length;++_<k;)U.queue[_].callFulfilled(P)}return U},x.reject=function(U,P){U.state=S,U.outcome=P;for(var L=-1,T=U.queue.length;++L<T;)U.queue[L].callRejected(P);return U},B.resolve=function(U){return U instanceof this?U:x.resolve(new this(v),U)},B.reject=function(U){var P=new this(v);return x.reject(P,U)},B.all=function(U){var P=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=U.length,T=!1;if(!L)return this.resolve([]);for(var _=new Array(L),k=0,j=-1,N=new this(v);++j<L;)D(U[j],j);return N;function D(O,z){P.resolve(O).then((function(Q){_[z]=Q,++k!==L||T||(T=!0,x.resolve(N,_))}),(function(Q){T||(T=!0,x.reject(N,Q))}))}},B.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=U.length,L=!1;if(!P)return this.resolve([]);for(var T,_=-1,k=new this(v);++_<P;)T=U[_],this.resolve(T).then((function(j){L||(L=!0,x.resolve(k,j))}),(function(j){L||(L=!0,x.reject(k,j))}));return k}},{immediate:36}],38:[function(h,g,y){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,y){var m=h("./zlib/deflate"),v=h("./utils/common"),x=h("./utils/strings"),S=h("./zlib/messages"),C=h("./zlib/zstream"),A=Object.prototype.toString;function B(R){if(!(this instanceof B))return new B(R);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},R||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var $=m.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if($!==0)throw new Error(S[$]);if(I.header&&m.deflateSetHeader(this.strm,I.header),I.dictionary){var K;if(K=typeof I.dictionary=="string"?x.string2buf(I.dictionary):A.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,($=m.deflateSetDictionary(this.strm,K))!==0)throw new Error(S[$]);this._dict_set=!0}}function q(R,I){var $=new B(I);if($.push(R,!0),$.err)throw $.msg||S[$.err];return $.result}B.prototype.push=function(R,I){var $,K,U=this.strm,P=this.options.chunkSize;if(this.ended)return!1;K=I===~~I?I:I===!0?4:0,typeof R=="string"?U.input=x.string2buf(R):A.call(R)==="[object ArrayBuffer]"?U.input=new Uint8Array(R):U.input=R,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new v.Buf8(P),U.next_out=0,U.avail_out=P),($=m.deflate(U,K))!==1&&$!==0)return this.onEnd($),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(v.shrinkBuf(U.output,U.next_out))):this.onData(v.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&$!==1);return K===4?($=m.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===0):K!==2||(this.onEnd(0),!(U.avail_out=0))},B.prototype.onData=function(R){this.chunks.push(R)},B.prototype.onEnd=function(R){R===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},y.Deflate=B,y.deflate=q,y.deflateRaw=function(R,I){return(I=I||{}).raw=!0,q(R,I)},y.gzip=function(R,I){return(I=I||{}).gzip=!0,q(R,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,y){var m=h("./zlib/inflate"),v=h("./utils/common"),x=h("./utils/strings"),S=h("./zlib/constants"),C=h("./zlib/messages"),A=h("./zlib/zstream"),B=h("./zlib/gzheader"),q=Object.prototype.toString;function R($){if(!(this instanceof R))return new R($);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},$||{});var K=this.options;K.raw&&0<=K.windowBits&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),!(0<=K.windowBits&&K.windowBits<16)||$&&$.windowBits||(K.windowBits+=32),15<K.windowBits&&K.windowBits<48&&(15&K.windowBits)==0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var U=m.inflateInit2(this.strm,K.windowBits);if(U!==S.Z_OK)throw new Error(C[U]);this.header=new B,m.inflateGetHeader(this.strm,this.header)}function I($,K){var U=new R(K);if(U.push($,!0),U.err)throw U.msg||C[U.err];return U.result}R.prototype.push=function($,K){var U,P,L,T,_,k,j=this.strm,N=this.options.chunkSize,D=this.options.dictionary,O=!1;if(this.ended)return!1;P=K===~~K?K:K===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof $=="string"?j.input=x.binstring2buf($):q.call($)==="[object ArrayBuffer]"?j.input=new Uint8Array($):j.input=$,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new v.Buf8(N),j.next_out=0,j.avail_out=N),(U=m.inflate(j,S.Z_NO_FLUSH))===S.Z_NEED_DICT&&D&&(k=typeof D=="string"?x.string2buf(D):q.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,U=m.inflateSetDictionary(this.strm,k)),U===S.Z_BUF_ERROR&&O===!0&&(U=S.Z_OK,O=!1),U!==S.Z_STREAM_END&&U!==S.Z_OK)return this.onEnd(U),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&U!==S.Z_STREAM_END&&(j.avail_in!==0||P!==S.Z_FINISH&&P!==S.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=x.utf8border(j.output,j.next_out),T=j.next_out-L,_=x.buf2string(j.output,L),j.next_out=T,j.avail_out=N-T,T&&v.arraySet(j.output,j.output,L,T,0),this.onData(_)):this.onData(v.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(O=!0)}while((0<j.avail_in||j.avail_out===0)&&U!==S.Z_STREAM_END);return U===S.Z_STREAM_END&&(P=S.Z_FINISH),P===S.Z_FINISH?(U=m.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===S.Z_OK):P!==S.Z_SYNC_FLUSH||(this.onEnd(S.Z_OK),!(j.avail_out=0))},R.prototype.onData=function($){this.chunks.push($)},R.prototype.onEnd=function($){$===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},y.Inflate=R,y.inflate=I,y.inflateRaw=function($,K){return(K=K||{}).raw=!0,I($,K)},y.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(S){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var A=C.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var B in A)A.hasOwnProperty(B)&&(S[B]=A[B])}}return S},y.shrinkBuf=function(S,C){return S.length===C?S:S.subarray?S.subarray(0,C):(S.length=C,S)};var v={arraySet:function(S,C,A,B,q){if(C.subarray&&S.subarray)S.set(C.subarray(A,A+B),q);else for(var R=0;R<B;R++)S[q+R]=C[A+R]},flattenChunks:function(S){var C,A,B,q,R,I;for(C=B=0,A=S.length;C<A;C++)B+=S[C].length;for(I=new Uint8Array(B),C=q=0,A=S.length;C<A;C++)R=S[C],I.set(R,q),q+=R.length;return I}},x={arraySet:function(S,C,A,B,q){for(var R=0;R<B;R++)S[q+R]=C[A+R]},flattenChunks:function(S){return[].concat.apply([],S)}};y.setTyped=function(S){S?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,x))},y.setTyped(m)},{}],42:[function(h,g,y){var m=h("./common"),v=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var S=new m.Buf8(256),C=0;C<256;C++)S[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function A(B,q){if(q<65537&&(B.subarray&&x||!B.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(B,q));for(var R="",I=0;I<q;I++)R+=String.fromCharCode(B[I]);return R}S[254]=S[254]=1,y.string2buf=function(B){var q,R,I,$,K,U=B.length,P=0;for($=0;$<U;$++)(64512&(R=B.charCodeAt($)))==55296&&$+1<U&&(64512&(I=B.charCodeAt($+1)))==56320&&(R=65536+(R-55296<<10)+(I-56320),$++),P+=R<128?1:R<2048?2:R<65536?3:4;for(q=new m.Buf8(P),$=K=0;K<P;$++)(64512&(R=B.charCodeAt($)))==55296&&$+1<U&&(64512&(I=B.charCodeAt($+1)))==56320&&(R=65536+(R-55296<<10)+(I-56320),$++),R<128?q[K++]=R:(R<2048?q[K++]=192|R>>>6:(R<65536?q[K++]=224|R>>>12:(q[K++]=240|R>>>18,q[K++]=128|R>>>12&63),q[K++]=128|R>>>6&63),q[K++]=128|63&R);return q},y.buf2binstring=function(B){return A(B,B.length)},y.binstring2buf=function(B){for(var q=new m.Buf8(B.length),R=0,I=q.length;R<I;R++)q[R]=B.charCodeAt(R);return q},y.buf2string=function(B,q){var R,I,$,K,U=q||B.length,P=new Array(2*U);for(R=I=0;R<U;)if(($=B[R++])<128)P[I++]=$;else if(4<(K=S[$]))P[I++]=65533,R+=K-1;else{for($&=K===2?31:K===3?15:7;1<K&&R<U;)$=$<<6|63&B[R++],K--;1<K?P[I++]=65533:$<65536?P[I++]=$:($-=65536,P[I++]=55296|$>>10&1023,P[I++]=56320|1023&$)}return A(P,I)},y.utf8border=function(B,q){var R;for((q=q||B.length)>B.length&&(q=B.length),R=q-1;0<=R&&(192&B[R])==128;)R--;return R<0||R===0?q:R+S[B[R]]>q?R:q}},{"./common":41}],43:[function(h,g,y){g.exports=function(m,v,x,S){for(var C=65535&m|0,A=m>>>16&65535|0,B=0;x!==0;){for(x-=B=2e3<x?2e3:x;A=A+(C=C+v[S++]|0)|0,--B;);C%=65521,A%=65521}return C|A<<16|0}},{}],44:[function(h,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,y){var m=(function(){for(var v,x=[],S=0;S<256;S++){v=S;for(var C=0;C<8;C++)v=1&v?3988292384^v>>>1:v>>>1;x[S]=v}return x})();g.exports=function(v,x,S,C){var A=m,B=C+S;v^=-1;for(var q=C;q<B;q++)v=v>>>8^A[255&(v^x[q])];return-1^v}},{}],46:[function(h,g,y){var m,v=h("../utils/common"),x=h("./trees"),S=h("./adler32"),C=h("./crc32"),A=h("./messages"),B=-2,q=258,R=262,I=113;function $(F,Z){return F.msg=A[Z],Z}function K(F){return(F<<1)-(4<F?9:0)}function U(F){for(var Z=F.length;0<=--Z;)F[Z]=0}function P(F){var Z=F.state,W=Z.pending;W>F.avail_out&&(W=F.avail_out),W!==0&&(v.arraySet(F.output,Z.pending_buf,Z.pending_out,W,F.next_out),F.next_out+=W,Z.pending_out+=W,F.total_out+=W,F.avail_out-=W,Z.pending-=W,Z.pending===0&&(Z.pending_out=0))}function L(F,Z){x._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Z),F.block_start=F.strstart,P(F.strm)}function T(F,Z){F.pending_buf[F.pending++]=Z}function _(F,Z){F.pending_buf[F.pending++]=Z>>>8&255,F.pending_buf[F.pending++]=255&Z}function k(F,Z){var W,V,G=F.max_chain_length,ae=F.strstart,pe=F.prev_length,ce=F.nice_match,ge=F.strstart>F.w_size-R?F.strstart-(F.w_size-R):0,ee=F.window,oe=F.w_mask,ne=F.prev,fe=F.strstart+q,le=ee[ae+pe-1],ie=ee[ae+pe];F.prev_length>=F.good_match&&(G>>=2),ce>F.lookahead&&(ce=F.lookahead);do if(ee[(W=Z)+pe]===ie&&ee[W+pe-1]===le&&ee[W]===ee[ae]&&ee[++W]===ee[ae+1]){ae+=2,W++;do;while(ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ee[++ae]===ee[++W]&&ae<fe);if(V=q-(fe-ae),ae=fe-q,pe<V){if(F.match_start=Z,ce<=(pe=V))break;le=ee[ae+pe-1],ie=ee[ae+pe]}}while((Z=ne[Z&oe])>ge&&--G!=0);return pe<=F.lookahead?pe:F.lookahead}function j(F){var Z,W,V,G,ae,pe,ce,ge,ee,oe,ne=F.w_size;do{if(G=F.window_size-F.lookahead-F.strstart,F.strstart>=ne+(ne-R)){for(v.arraySet(F.window,F.window,ne,ne,0),F.match_start-=ne,F.strstart-=ne,F.block_start-=ne,Z=W=F.hash_size;V=F.head[--Z],F.head[Z]=ne<=V?V-ne:0,--W;);for(Z=W=ne;V=F.prev[--Z],F.prev[Z]=ne<=V?V-ne:0,--W;);G+=ne}if(F.strm.avail_in===0)break;if(pe=F.strm,ce=F.window,ge=F.strstart+F.lookahead,oe=void 0,(ee=G)<(oe=pe.avail_in)&&(oe=ee),W=oe===0?0:(pe.avail_in-=oe,v.arraySet(ce,pe.input,pe.next_in,oe,ge),pe.state.wrap===1?pe.adler=S(pe.adler,ce,oe,ge):pe.state.wrap===2&&(pe.adler=C(pe.adler,ce,oe,ge)),pe.next_in+=oe,pe.total_in+=oe,oe),F.lookahead+=W,F.lookahead+F.insert>=3)for(ae=F.strstart-F.insert,F.ins_h=F.window[ae],F.ins_h=(F.ins_h<<F.hash_shift^F.window[ae+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[ae+3-1])&F.hash_mask,F.prev[ae&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ae,ae++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<R&&F.strm.avail_in!==0)}function N(F,Z){for(var W,V;;){if(F.lookahead<R){if(j(F),F.lookahead<R&&Z===0)return 1;if(F.lookahead===0)break}if(W=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,W=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),W!==0&&F.strstart-W<=F.w_size-R&&(F.match_length=k(F,W)),F.match_length>=3)if(V=x._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,W=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else V=x._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(V&&(L(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(L(F,!1),F.strm.avail_out===0)?1:2}function D(F,Z){for(var W,V,G;;){if(F.lookahead<R){if(j(F),F.lookahead<R&&Z===0)return 1;if(F.lookahead===0)break}if(W=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,W=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,W!==0&&F.prev_length<F.max_lazy_match&&F.strstart-W<=F.w_size-R&&(F.match_length=k(F,W),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(G=F.strstart+F.lookahead-3,V=x._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=G&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,W=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,V&&(L(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((V=x._tr_tally(F,0,F.window[F.strstart-1]))&&L(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(V=x._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(L(F,!1),F.strm.avail_out===0)?1:2}function O(F,Z,W,V,G){this.good_length=F,this.max_lazy=Z,this.nice_length=W,this.max_chain=V,this.func=G}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(F){var Z;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Z=F.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:I,F.adler=Z.wrap===2?0:1,Z.last_flush=0,x._tr_init(Z),0):$(F,B)}function Y(F){var Z=Q(F);return Z===0&&(function(W){W.window_size=2*W.w_size,U(W.head),W.max_lazy_match=m[W.level].max_lazy,W.good_match=m[W.level].good_length,W.nice_match=m[W.level].nice_length,W.max_chain_length=m[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=2,W.match_available=0,W.ins_h=0})(F.state),Z}function re(F,Z,W,V,G,ae){if(!F)return B;var pe=1;if(Z===-1&&(Z=6),V<0?(pe=0,V=-V):15<V&&(pe=2,V-=16),G<1||9<G||W!==8||V<8||15<V||Z<0||9<Z||ae<0||4<ae)return $(F,B);V===8&&(V=9);var ce=new z;return(F.state=ce).strm=F,ce.wrap=pe,ce.gzhead=null,ce.w_bits=V,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=G+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+3-1)/3),ce.window=new v.Buf8(2*ce.w_size),ce.head=new v.Buf16(ce.hash_size),ce.prev=new v.Buf16(ce.w_size),ce.lit_bufsize=1<<G+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new v.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=Z,ce.strategy=ae,ce.method=W,Y(F)}m=[new O(0,0,0,0,(function(F,Z){var W=65535;for(W>F.pending_buf_size-5&&(W=F.pending_buf_size-5);;){if(F.lookahead<=1){if(j(F),F.lookahead===0&&Z===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var V=F.block_start+W;if((F.strstart===0||F.strstart>=V)&&(F.lookahead=F.strstart-V,F.strstart=V,L(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-R&&(L(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(L(F,!1),F.strm.avail_out),1)})),new O(4,4,8,4,N),new O(4,5,16,8,N),new O(4,6,32,32,N),new O(4,4,16,16,D),new O(8,16,32,32,D),new O(8,16,128,128,D),new O(8,32,128,256,D),new O(32,128,258,1024,D),new O(32,258,258,4096,D)],y.deflateInit=function(F,Z){return re(F,Z,8,15,8,0)},y.deflateInit2=re,y.deflateReset=Y,y.deflateResetKeep=Q,y.deflateSetHeader=function(F,Z){return F&&F.state?F.state.wrap!==2?B:(F.state.gzhead=Z,0):B},y.deflate=function(F,Z){var W,V,G,ae;if(!F||!F.state||5<Z||Z<0)return F?$(F,B):B;if(V=F.state,!F.output||!F.input&&F.avail_in!==0||V.status===666&&Z!==4)return $(F,F.avail_out===0?-5:B);if(V.strm=F,W=V.last_flush,V.last_flush=Z,V.status===42)if(V.wrap===2)F.adler=0,T(V,31),T(V,139),T(V,8),V.gzhead?(T(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),T(V,255&V.gzhead.time),T(V,V.gzhead.time>>8&255),T(V,V.gzhead.time>>16&255),T(V,V.gzhead.time>>24&255),T(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),T(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(T(V,255&V.gzhead.extra.length),T(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(F.adler=C(F.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(T(V,0),T(V,0),T(V,0),T(V,0),T(V,0),T(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),T(V,3),V.status=I);else{var pe=8+(V.w_bits-8<<4)<<8;pe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(pe|=32),pe+=31-pe%31,V.status=I,_(V,pe),V.strstart!==0&&(_(V,F.adler>>>16),_(V,65535&F.adler)),F.adler=1}if(V.status===69)if(V.gzhead.extra){for(G=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),P(F),G=V.pending,V.pending!==V.pending_buf_size));)T(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),P(F),G=V.pending,V.pending===V.pending_buf_size)){ae=1;break}ae=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,T(V,ae)}while(ae!==0);V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),ae===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),P(F),G=V.pending,V.pending===V.pending_buf_size)){ae=1;break}ae=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,T(V,ae)}while(ae!==0);V.gzhead.hcrc&&V.pending>G&&(F.adler=C(F.adler,V.pending_buf,V.pending-G,G)),ae===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&P(F),V.pending+2<=V.pending_buf_size&&(T(V,255&F.adler),T(V,F.adler>>8&255),F.adler=0,V.status=I)):V.status=I),V.pending!==0){if(P(F),F.avail_out===0)return V.last_flush=-1,0}else if(F.avail_in===0&&K(Z)<=K(W)&&Z!==4)return $(F,-5);if(V.status===666&&F.avail_in!==0)return $(F,-5);if(F.avail_in!==0||V.lookahead!==0||Z!==0&&V.status!==666){var ce=V.strategy===2?(function(ge,ee){for(var oe;;){if(ge.lookahead===0&&(j(ge),ge.lookahead===0)){if(ee===0)return 1;break}if(ge.match_length=0,oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,oe&&(L(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,ee===4?(L(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(L(ge,!1),ge.strm.avail_out===0)?1:2})(V,Z):V.strategy===3?(function(ge,ee){for(var oe,ne,fe,le,ie=ge.window;;){if(ge.lookahead<=q){if(j(ge),ge.lookahead<=q&&ee===0)return 1;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=3&&0<ge.strstart&&(ne=ie[fe=ge.strstart-1])===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]){le=ge.strstart+q;do;while(ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&fe<le);ge.match_length=q-(le-fe),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=3?(oe=x._tr_tally(ge,1,ge.match_length-3),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),oe&&(L(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,ee===4?(L(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(L(ge,!1),ge.strm.avail_out===0)?1:2})(V,Z):m[V.level].func(V,Z);if(ce!==3&&ce!==4||(V.status=666),ce===1||ce===3)return F.avail_out===0&&(V.last_flush=-1),0;if(ce===2&&(Z===1?x._tr_align(V):Z!==5&&(x._tr_stored_block(V,0,0,!1),Z===3&&(U(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),P(F),F.avail_out===0))return V.last_flush=-1,0}return Z!==4?0:V.wrap<=0?1:(V.wrap===2?(T(V,255&F.adler),T(V,F.adler>>8&255),T(V,F.adler>>16&255),T(V,F.adler>>24&255),T(V,255&F.total_in),T(V,F.total_in>>8&255),T(V,F.total_in>>16&255),T(V,F.total_in>>24&255)):(_(V,F.adler>>>16),_(V,65535&F.adler)),P(F),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?0:1)},y.deflateEnd=function(F){var Z;return F&&F.state?(Z=F.state.status)!==42&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==I&&Z!==666?$(F,B):(F.state=null,Z===I?$(F,-3):0):B},y.deflateSetDictionary=function(F,Z){var W,V,G,ae,pe,ce,ge,ee,oe=Z.length;if(!F||!F.state||(ae=(W=F.state).wrap)===2||ae===1&&W.status!==42||W.lookahead)return B;for(ae===1&&(F.adler=S(F.adler,Z,oe,0)),W.wrap=0,oe>=W.w_size&&(ae===0&&(U(W.head),W.strstart=0,W.block_start=0,W.insert=0),ee=new v.Buf8(W.w_size),v.arraySet(ee,Z,oe-W.w_size,W.w_size,0),Z=ee,oe=W.w_size),pe=F.avail_in,ce=F.next_in,ge=F.input,F.avail_in=oe,F.next_in=0,F.input=Z,j(W);W.lookahead>=3;){for(V=W.strstart,G=W.lookahead-2;W.ins_h=(W.ins_h<<W.hash_shift^W.window[V+3-1])&W.hash_mask,W.prev[V&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=V,V++,--G;);W.strstart=V,W.lookahead=2,j(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=2,W.match_available=0,F.next_in=ce,F.input=ge,F.avail_in=pe,W.wrap=ae,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,y){g.exports=function(m,v){var x,S,C,A,B,q,R,I,$,K,U,P,L,T,_,k,j,N,D,O,z,Q,Y,re,F;x=m.state,S=m.next_in,re=m.input,C=S+(m.avail_in-5),A=m.next_out,F=m.output,B=A-(v-m.avail_out),q=A+(m.avail_out-257),R=x.dmax,I=x.wsize,$=x.whave,K=x.wnext,U=x.window,P=x.hold,L=x.bits,T=x.lencode,_=x.distcode,k=(1<<x.lenbits)-1,j=(1<<x.distbits)-1;e:do{L<15&&(P+=re[S++]<<L,L+=8,P+=re[S++]<<L,L+=8),N=T[P&k];t:for(;;){if(P>>>=D=N>>>24,L-=D,(D=N>>>16&255)==0)F[A++]=65535&N;else{if(!(16&D)){if((64&D)==0){N=T[(65535&N)+(P&(1<<D)-1)];continue t}if(32&D){x.mode=12;break e}m.msg="invalid literal/length code",x.mode=30;break e}O=65535&N,(D&=15)&&(L<D&&(P+=re[S++]<<L,L+=8),O+=P&(1<<D)-1,P>>>=D,L-=D),L<15&&(P+=re[S++]<<L,L+=8,P+=re[S++]<<L,L+=8),N=_[P&j];r:for(;;){if(P>>>=D=N>>>24,L-=D,!(16&(D=N>>>16&255))){if((64&D)==0){N=_[(65535&N)+(P&(1<<D)-1)];continue r}m.msg="invalid distance code",x.mode=30;break e}if(z=65535&N,L<(D&=15)&&(P+=re[S++]<<L,(L+=8)<D&&(P+=re[S++]<<L,L+=8)),R<(z+=P&(1<<D)-1)){m.msg="invalid distance too far back",x.mode=30;break e}if(P>>>=D,L-=D,(D=A-B)<z){if($<(D=z-D)&&x.sane){m.msg="invalid distance too far back",x.mode=30;break e}if(Y=U,(Q=0)===K){if(Q+=I-D,D<O){for(O-=D;F[A++]=U[Q++],--D;);Q=A-z,Y=F}}else if(K<D){if(Q+=I+K-D,(D-=K)<O){for(O-=D;F[A++]=U[Q++],--D;);if(Q=0,K<O){for(O-=D=K;F[A++]=U[Q++],--D;);Q=A-z,Y=F}}}else if(Q+=K-D,D<O){for(O-=D;F[A++]=U[Q++],--D;);Q=A-z,Y=F}for(;2<O;)F[A++]=Y[Q++],F[A++]=Y[Q++],F[A++]=Y[Q++],O-=3;O&&(F[A++]=Y[Q++],1<O&&(F[A++]=Y[Q++]))}else{for(Q=A-z;F[A++]=F[Q++],F[A++]=F[Q++],F[A++]=F[Q++],2<(O-=3););O&&(F[A++]=F[Q++],1<O&&(F[A++]=F[Q++]))}break}}break}}while(S<C&&A<q);S-=O=L>>3,P&=(1<<(L-=O<<3))-1,m.next_in=S,m.next_out=A,m.avail_in=S<C?C-S+5:5-(S-C),m.avail_out=A<q?q-A+257:257-(A-q),x.hold=P,x.bits=L}},{}],49:[function(h,g,y){var m=h("../utils/common"),v=h("./adler32"),x=h("./crc32"),S=h("./inffast"),C=h("./inftrees"),A=-2;function B(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(k){var j;return k&&k.state?(j=k.state,k.total_in=k.total_out=j.total=0,k.msg="",j.wrap&&(k.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new m.Buf32(852),j.distcode=j.distdyn=new m.Buf32(592),j.sane=1,j.back=-1,0):A}function I(k){var j;return k&&k.state?((j=k.state).wsize=0,j.whave=0,j.wnext=0,R(k)):A}function $(k,j){var N,D;return k&&k.state?(D=k.state,j<0?(N=0,j=-j):(N=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?A:(D.window!==null&&D.wbits!==j&&(D.window=null),D.wrap=N,D.wbits=j,I(k))):A}function K(k,j){var N,D;return k?(D=new q,(k.state=D).window=null,(N=$(k,j))!==0&&(k.state=null),N):A}var U,P,L=!0;function T(k){if(L){var j;for(U=new m.Buf32(512),P=new m.Buf32(32),j=0;j<144;)k.lens[j++]=8;for(;j<256;)k.lens[j++]=9;for(;j<280;)k.lens[j++]=7;for(;j<288;)k.lens[j++]=8;for(C(1,k.lens,0,288,U,0,k.work,{bits:9}),j=0;j<32;)k.lens[j++]=5;C(2,k.lens,0,32,P,0,k.work,{bits:5}),L=!1}k.lencode=U,k.lenbits=9,k.distcode=P,k.distbits=5}function _(k,j,N,D){var O,z=k.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new m.Buf8(z.wsize)),D>=z.wsize?(m.arraySet(z.window,j,N-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(D<(O=z.wsize-z.wnext)&&(O=D),m.arraySet(z.window,j,N-D,O,z.wnext),(D-=O)?(m.arraySet(z.window,j,N-D,D,0),z.wnext=D,z.whave=z.wsize):(z.wnext+=O,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=O))),0}y.inflateReset=I,y.inflateReset2=$,y.inflateResetKeep=R,y.inflateInit=function(k){return K(k,15)},y.inflateInit2=K,y.inflate=function(k,j){var N,D,O,z,Q,Y,re,F,Z,W,V,G,ae,pe,ce,ge,ee,oe,ne,fe,le,ie,te,se,de=0,me=new m.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return A;(N=k.state).mode===12&&(N.mode=13),Q=k.next_out,O=k.output,re=k.avail_out,z=k.next_in,D=k.input,Y=k.avail_in,F=N.hold,Z=N.bits,W=Y,V=re,ie=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;Z<16;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(2&N.wrap&&F===35615){me[N.check=0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0),Z=F=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&F)<<8)+(F>>8))%31){k.msg="incorrect header check",N.mode=30;break}if((15&F)!=8){k.msg="unknown compression method",N.mode=30;break}if(Z-=4,le=8+(15&(F>>>=4)),N.wbits===0)N.wbits=le;else if(le>N.wbits){k.msg="invalid window size",N.mode=30;break}N.dmax=1<<le,k.adler=N.check=1,N.mode=512&F?10:12,Z=F=0;break;case 2:for(;Z<16;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(N.flags=F,(255&N.flags)!=8){k.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){k.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=F>>8&1),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0,N.mode=3;case 3:for(;Z<32;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.head&&(N.head.time=F),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,me[2]=F>>>16&255,me[3]=F>>>24&255,N.check=x(N.check,me,4,0)),Z=F=0,N.mode=4;case 4:for(;Z<16;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.head&&(N.head.xflags=255&F,N.head.os=F>>8),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0,N.mode=5;case 5:if(1024&N.flags){for(;Z<16;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.length=F,N.head&&(N.head.extra_len=F),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Y<(G=N.length)&&(G=Y),G&&(N.head&&(le=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),m.arraySet(N.head.extra,D,z,G,le)),512&N.flags&&(N.check=x(N.check,D,G,z)),Y-=G,z+=G,N.length-=G),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Y===0)break e;for(G=0;le=D[z+G++],N.head&&le&&N.length<65536&&(N.head.name+=String.fromCharCode(le)),le&&G<Y;);if(512&N.flags&&(N.check=x(N.check,D,G,z)),Y-=G,z+=G,le)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Y===0)break e;for(G=0;le=D[z+G++],N.head&&le&&N.length<65536&&(N.head.comment+=String.fromCharCode(le)),le&&G<Y;);if(512&N.flags&&(N.check=x(N.check,D,G,z)),Y-=G,z+=G,le)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Z<16;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(F!==(65535&N.check)){k.msg="header crc mismatch",N.mode=30;break}Z=F=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),k.adler=N.check=0,N.mode=12;break;case 10:for(;Z<32;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}k.adler=N.check=B(F),Z=F=0,N.mode=11;case 11:if(N.havedict===0)return k.next_out=Q,k.avail_out=re,k.next_in=z,k.avail_in=Y,N.hold=F,N.bits=Z,2;k.adler=N.check=1,N.mode=12;case 12:if(j===5||j===6)break e;case 13:if(N.last){F>>>=7&Z,Z-=7&Z,N.mode=27;break}for(;Z<3;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}switch(N.last=1&F,Z-=1,3&(F>>>=1)){case 0:N.mode=14;break;case 1:if(T(N),N.mode=20,j!==6)break;F>>>=2,Z-=2;break e;case 2:N.mode=17;break;case 3:k.msg="invalid block type",N.mode=30}F>>>=2,Z-=2;break;case 14:for(F>>>=7&Z,Z-=7&Z;Z<32;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if((65535&F)!=(F>>>16^65535)){k.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&F,Z=F=0,N.mode=15,j===6)break e;case 15:N.mode=16;case 16:if(G=N.length){if(Y<G&&(G=Y),re<G&&(G=re),G===0)break e;m.arraySet(O,D,z,G,Q),Y-=G,z+=G,re-=G,Q+=G,N.length-=G;break}N.mode=12;break;case 17:for(;Z<14;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(N.nlen=257+(31&F),F>>>=5,Z-=5,N.ndist=1+(31&F),F>>>=5,Z-=5,N.ncode=4+(15&F),F>>>=4,Z-=4,286<N.nlen||30<N.ndist){k.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Z<3;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.lens[ke[N.have++]]=7&F,F>>>=3,Z-=3}for(;N.have<19;)N.lens[ke[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,te={bits:N.lenbits},ie=C(0,N.lens,0,19,N.lencode,0,N.work,te),N.lenbits=te.bits,ie){k.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ge=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(ee<16)F>>>=ce,Z-=ce,N.lens[N.have++]=ee;else{if(ee===16){for(se=ce+2;Z<se;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(F>>>=ce,Z-=ce,N.have===0){k.msg="invalid bit length repeat",N.mode=30;break}le=N.lens[N.have-1],G=3+(3&F),F>>>=2,Z-=2}else if(ee===17){for(se=ce+3;Z<se;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}Z-=ce,le=0,G=3+(7&(F>>>=ce)),F>>>=3,Z-=3}else{for(se=ce+7;Z<se;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}Z-=ce,le=0,G=11+(127&(F>>>=ce)),F>>>=7,Z-=7}if(N.have+G>N.nlen+N.ndist){k.msg="invalid bit length repeat",N.mode=30;break}for(;G--;)N.lens[N.have++]=le}}if(N.mode===30)break;if(N.lens[256]===0){k.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,te={bits:N.lenbits},ie=C(1,N.lens,0,N.nlen,N.lencode,0,N.work,te),N.lenbits=te.bits,ie){k.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,te={bits:N.distbits},ie=C(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,te),N.distbits=te.bits,ie){k.msg="invalid distances set",N.mode=30;break}if(N.mode=20,j===6)break e;case 20:N.mode=21;case 21:if(6<=Y&&258<=re){k.next_out=Q,k.avail_out=re,k.next_in=z,k.avail_in=Y,N.hold=F,N.bits=Z,S(k,V),Q=k.next_out,O=k.output,re=k.avail_out,z=k.next_in,D=k.input,Y=k.avail_in,F=N.hold,Z=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ge=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(ge&&(240&ge)==0){for(oe=ce,ne=ge,fe=ee;ge=(de=N.lencode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ce=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}F>>>=oe,Z-=oe,N.back+=oe}if(F>>>=ce,Z-=ce,N.back+=ce,N.length=ee,ge===0){N.mode=26;break}if(32&ge){N.back=-1,N.mode=12;break}if(64&ge){k.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ge,N.mode=22;case 22:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.length+=F&(1<<N.extra)-1,F>>>=N.extra,Z-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ge=(de=N.distcode[F&(1<<N.distbits)-1])>>>16&255,ee=65535&de,!((ce=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if((240&ge)==0){for(oe=ce,ne=ge,fe=ee;ge=(de=N.distcode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ce=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}F>>>=oe,Z-=oe,N.back+=oe}if(F>>>=ce,Z-=ce,N.back+=ce,64&ge){k.msg="invalid distance code",N.mode=30;break}N.offset=ee,N.extra=15&ge,N.mode=24;case 24:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}N.offset+=F&(1<<N.extra)-1,F>>>=N.extra,Z-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){k.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(re===0)break e;if(G=V-re,N.offset>G){if((G=N.offset-G)>N.whave&&N.sane){k.msg="invalid distance too far back",N.mode=30;break}ae=G>N.wnext?(G-=N.wnext,N.wsize-G):N.wnext-G,G>N.length&&(G=N.length),pe=N.window}else pe=O,ae=Q-N.offset,G=N.length;for(re<G&&(G=re),re-=G,N.length-=G;O[Q++]=pe[ae++],--G;);N.length===0&&(N.mode=21);break;case 26:if(re===0)break e;O[Q++]=N.length,re--,N.mode=21;break;case 27:if(N.wrap){for(;Z<32;){if(Y===0)break e;Y--,F|=D[z++]<<Z,Z+=8}if(V-=re,k.total_out+=V,N.total+=V,V&&(k.adler=N.check=N.flags?x(N.check,O,V,Q-V):v(N.check,O,V,Q-V)),V=re,(N.flags?F:B(F))!==N.check){k.msg="incorrect data check",N.mode=30;break}Z=F=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Z<32;){if(Y===0)break e;Y--,F+=D[z++]<<Z,Z+=8}if(F!==(4294967295&N.total)){k.msg="incorrect length check",N.mode=30;break}Z=F=0}N.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return A}return k.next_out=Q,k.avail_out=re,k.next_in=z,k.avail_in=Y,N.hold=F,N.bits=Z,(N.wsize||V!==k.avail_out&&N.mode<30&&(N.mode<27||j!==4))&&_(k,k.output,k.next_out,V-k.avail_out)?(N.mode=31,-4):(W-=k.avail_in,V-=k.avail_out,k.total_in+=W,k.total_out+=V,N.total+=V,N.wrap&&V&&(k.adler=N.check=N.flags?x(N.check,O,V,k.next_out-V):v(N.check,O,V,k.next_out-V)),k.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(W==0&&V===0||j===4)&&ie===0&&(ie=-5),ie)},y.inflateEnd=function(k){if(!k||!k.state)return A;var j=k.state;return j.window&&(j.window=null),k.state=null,0},y.inflateGetHeader=function(k,j){var N;return k&&k.state?(2&(N=k.state).wrap)==0?A:((N.head=j).done=!1,0):A},y.inflateSetDictionary=function(k,j){var N,D=j.length;return k&&k.state?(N=k.state).wrap!==0&&N.mode!==11?A:N.mode===11&&v(1,j,D,0)!==N.check?-3:_(k,j,D,D)?(N.mode=31,-4):(N.havedict=1,0):A},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,y){var m=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(A,B,q,R,I,$,K,U){var P,L,T,_,k,j,N,D,O,z=U.bits,Q=0,Y=0,re=0,F=0,Z=0,W=0,V=0,G=0,ae=0,pe=0,ce=null,ge=0,ee=new m.Buf16(16),oe=new m.Buf16(16),ne=null,fe=0;for(Q=0;Q<=15;Q++)ee[Q]=0;for(Y=0;Y<R;Y++)ee[B[q+Y]]++;for(Z=z,F=15;1<=F&&ee[F]===0;F--);if(F<Z&&(Z=F),F===0)return I[$++]=20971520,I[$++]=20971520,U.bits=1,0;for(re=1;re<F&&ee[re]===0;re++);for(Z<re&&(Z=re),Q=G=1;Q<=15;Q++)if(G<<=1,(G-=ee[Q])<0)return-1;if(0<G&&(A===0||F!==1))return-1;for(oe[1]=0,Q=1;Q<15;Q++)oe[Q+1]=oe[Q]+ee[Q];for(Y=0;Y<R;Y++)B[q+Y]!==0&&(K[oe[B[q+Y]]++]=Y);if(j=A===0?(ce=ne=K,19):A===1?(ce=v,ge-=257,ne=x,fe-=257,256):(ce=S,ne=C,-1),Q=re,k=$,V=Y=pe=0,T=-1,_=(ae=1<<(W=Z))-1,A===1&&852<ae||A===2&&592<ae)return 1;for(;;){for(N=Q-V,O=K[Y]<j?(D=0,K[Y]):K[Y]>j?(D=ne[fe+K[Y]],ce[ge+K[Y]]):(D=96,0),P=1<<Q-V,re=L=1<<W;I[k+(pe>>V)+(L-=P)]=N<<24|D<<16|O|0,L!==0;);for(P=1<<Q-1;pe&P;)P>>=1;if(P!==0?(pe&=P-1,pe+=P):pe=0,Y++,--ee[Q]==0){if(Q===F)break;Q=B[q+K[Y]]}if(Z<Q&&(pe&_)!==T){for(V===0&&(V=Z),k+=re,G=1<<(W=Q-V);W+V<F&&!((G-=ee[W+V])<=0);)W++,G<<=1;if(ae+=1<<W,A===1&&852<ae||A===2&&592<ae)return 1;I[T=pe&_]=Z<<24|W<<16|k-$|0}}return pe!==0&&(I[k+pe]=Q-V<<24|64<<16|0),U.bits=Z,0}},{"../utils/common":41}],51:[function(h,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,y){var m=h("../utils/common");function v(ne){for(var fe=ne.length;0<=--fe;)ne[fe]=0}var x=256,S=286,C=30,A=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(576);v($);var K=new Array(60);v(K);var U=new Array(512);v(U);var P=new Array(256);v(P);var L=new Array(29);v(L);var T,_,k,j=new Array(C);function N(ne,fe,le,ie,te){this.static_tree=ne,this.extra_bits=fe,this.extra_base=le,this.elems=ie,this.max_length=te,this.has_stree=ne&&ne.length}function D(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function O(ne){return ne<256?U[ne]:U[256+(ne>>>7)]}function z(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function Q(ne,fe,le){ne.bi_valid>16-le?(ne.bi_buf|=fe<<ne.bi_valid&65535,z(ne,ne.bi_buf),ne.bi_buf=fe>>16-ne.bi_valid,ne.bi_valid+=le-16):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=le)}function Y(ne,fe,le){Q(ne,le[2*fe],le[2*fe+1])}function re(ne,fe){for(var le=0;le|=1&ne,ne>>>=1,le<<=1,0<--fe;);return le>>>1}function F(ne,fe,le){var ie,te,se=new Array(16),de=0;for(ie=1;ie<=A;ie++)se[ie]=de=de+le[ie-1]<<1;for(te=0;te<=fe;te++){var me=ne[2*te+1];me!==0&&(ne[2*te]=re(se[me]++,me))}}function Z(ne){var fe;for(fe=0;fe<S;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<C;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function W(ne){8<ne.bi_valid?z(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function V(ne,fe,le,ie){var te=2*fe,se=2*le;return ne[te]<ne[se]||ne[te]===ne[se]&&ie[fe]<=ie[le]}function G(ne,fe,le){for(var ie=ne.heap[le],te=le<<1;te<=ne.heap_len&&(te<ne.heap_len&&V(fe,ne.heap[te+1],ne.heap[te],ne.depth)&&te++,!V(fe,ie,ne.heap[te],ne.depth));)ne.heap[le]=ne.heap[te],le=te,te<<=1;ne.heap[le]=ie}function ae(ne,fe,le){var ie,te,se,de,me=0;if(ne.last_lit!==0)for(;ie=ne.pending_buf[ne.d_buf+2*me]<<8|ne.pending_buf[ne.d_buf+2*me+1],te=ne.pending_buf[ne.l_buf+me],me++,ie===0?Y(ne,te,fe):(Y(ne,(se=P[te])+x+1,fe),(de=B[se])!==0&&Q(ne,te-=L[se],de),Y(ne,se=O(--ie),le),(de=q[se])!==0&&Q(ne,ie-=j[se],de)),me<ne.last_lit;);Y(ne,256,fe)}function pe(ne,fe){var le,ie,te,se=fe.dyn_tree,de=fe.stat_desc.static_tree,me=fe.stat_desc.has_stree,ke=fe.stat_desc.elems,Ce=-1;for(ne.heap_len=0,ne.heap_max=573,le=0;le<ke;le++)se[2*le]!==0?(ne.heap[++ne.heap_len]=Ce=le,ne.depth[le]=0):se[2*le+1]=0;for(;ne.heap_len<2;)se[2*(te=ne.heap[++ne.heap_len]=Ce<2?++Ce:0)]=1,ne.depth[te]=0,ne.opt_len--,me&&(ne.static_len-=de[2*te+1]);for(fe.max_code=Ce,le=ne.heap_len>>1;1<=le;le--)G(ne,se,le);for(te=ke;le=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],G(ne,se,1),ie=ne.heap[1],ne.heap[--ne.heap_max]=le,ne.heap[--ne.heap_max]=ie,se[2*te]=se[2*le]+se[2*ie],ne.depth[te]=(ne.depth[le]>=ne.depth[ie]?ne.depth[le]:ne.depth[ie])+1,se[2*le+1]=se[2*ie+1]=te,ne.heap[1]=te++,G(ne,se,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(Fe,Ie){var Ue,tt,gt,Ze,it,ve,be=Ie.dyn_tree,He=Ie.max_code,Xe=Ie.stat_desc.static_tree,ot=Ie.stat_desc.has_stree,Xt=Ie.stat_desc.extra_bits,vt=Ie.stat_desc.extra_base,Yt=Ie.stat_desc.max_length,rr=0;for(Ze=0;Ze<=A;Ze++)Fe.bl_count[Ze]=0;for(be[2*Fe.heap[Fe.heap_max]+1]=0,Ue=Fe.heap_max+1;Ue<573;Ue++)Yt<(Ze=be[2*be[2*(tt=Fe.heap[Ue])+1]+1]+1)&&(Ze=Yt,rr++),be[2*tt+1]=Ze,He<tt||(Fe.bl_count[Ze]++,it=0,vt<=tt&&(it=Xt[tt-vt]),ve=be[2*tt],Fe.opt_len+=ve*(Ze+it),ot&&(Fe.static_len+=ve*(Xe[2*tt+1]+it)));if(rr!==0){do{for(Ze=Yt-1;Fe.bl_count[Ze]===0;)Ze--;Fe.bl_count[Ze]--,Fe.bl_count[Ze+1]+=2,Fe.bl_count[Yt]--,rr-=2}while(0<rr);for(Ze=Yt;Ze!==0;Ze--)for(tt=Fe.bl_count[Ze];tt!==0;)He<(gt=Fe.heap[--Ue])||(be[2*gt+1]!==Ze&&(Fe.opt_len+=(Ze-be[2*gt+1])*be[2*gt],be[2*gt+1]=Ze),tt--)}})(ne,fe),F(se,Ce,ne.bl_count)}function ce(ne,fe,le){var ie,te,se=-1,de=fe[1],me=0,ke=7,Ce=4;for(de===0&&(ke=138,Ce=3),fe[2*(le+1)+1]=65535,ie=0;ie<=le;ie++)te=de,de=fe[2*(ie+1)+1],++me<ke&&te===de||(me<Ce?ne.bl_tree[2*te]+=me:te!==0?(te!==se&&ne.bl_tree[2*te]++,ne.bl_tree[32]++):me<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,se=te,Ce=(me=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4))}function ge(ne,fe,le){var ie,te,se=-1,de=fe[1],me=0,ke=7,Ce=4;for(de===0&&(ke=138,Ce=3),ie=0;ie<=le;ie++)if(te=de,de=fe[2*(ie+1)+1],!(++me<ke&&te===de)){if(me<Ce)for(;Y(ne,te,ne.bl_tree),--me!=0;);else te!==0?(te!==se&&(Y(ne,te,ne.bl_tree),me--),Y(ne,16,ne.bl_tree),Q(ne,me-3,2)):me<=10?(Y(ne,17,ne.bl_tree),Q(ne,me-3,3)):(Y(ne,18,ne.bl_tree),Q(ne,me-11,7));se=te,Ce=(me=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4)}}v(j);var ee=!1;function oe(ne,fe,le,ie){Q(ne,0+(ie?1:0),3),(function(te,se,de,me){W(te),z(te,de),z(te,~de),m.arraySet(te.pending_buf,te.window,se,de,te.pending),te.pending+=de})(ne,fe,le)}y._tr_init=function(ne){ee||((function(){var fe,le,ie,te,se,de=new Array(16);for(te=ie=0;te<28;te++)for(L[te]=ie,fe=0;fe<1<<B[te];fe++)P[ie++]=te;for(P[ie-1]=te,te=se=0;te<16;te++)for(j[te]=se,fe=0;fe<1<<q[te];fe++)U[se++]=te;for(se>>=7;te<C;te++)for(j[te]=se<<7,fe=0;fe<1<<q[te]-7;fe++)U[256+se++]=te;for(le=0;le<=A;le++)de[le]=0;for(fe=0;fe<=143;)$[2*fe+1]=8,fe++,de[8]++;for(;fe<=255;)$[2*fe+1]=9,fe++,de[9]++;for(;fe<=279;)$[2*fe+1]=7,fe++,de[7]++;for(;fe<=287;)$[2*fe+1]=8,fe++,de[8]++;for(F($,287,de),fe=0;fe<C;fe++)K[2*fe+1]=5,K[2*fe]=re(fe,5);T=new N($,B,257,S,A),_=new N(K,q,0,C,A),k=new N(new Array(0),R,0,19,7)})(),ee=!0),ne.l_desc=new D(ne.dyn_ltree,T),ne.d_desc=new D(ne.dyn_dtree,_),ne.bl_desc=new D(ne.bl_tree,k),ne.bi_buf=0,ne.bi_valid=0,Z(ne)},y._tr_stored_block=oe,y._tr_flush_block=function(ne,fe,le,ie){var te,se,de=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(me){var ke,Ce=4093624447;for(ke=0;ke<=31;ke++,Ce>>>=1)if(1&Ce&&me.dyn_ltree[2*ke]!==0)return 0;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return 1;for(ke=32;ke<x;ke++)if(me.dyn_ltree[2*ke]!==0)return 1;return 0})(ne)),pe(ne,ne.l_desc),pe(ne,ne.d_desc),de=(function(me){var ke;for(ce(me,me.dyn_ltree,me.l_desc.max_code),ce(me,me.dyn_dtree,me.d_desc.max_code),pe(me,me.bl_desc),ke=18;3<=ke&&me.bl_tree[2*I[ke]+1]===0;ke--);return me.opt_len+=3*(ke+1)+5+5+4,ke})(ne),te=ne.opt_len+3+7>>>3,(se=ne.static_len+3+7>>>3)<=te&&(te=se)):te=se=le+5,le+4<=te&&fe!==-1?oe(ne,fe,le,ie):ne.strategy===4||se===te?(Q(ne,2+(ie?1:0),3),ae(ne,$,K)):(Q(ne,4+(ie?1:0),3),(function(me,ke,Ce,Fe){var Ie;for(Q(me,ke-257,5),Q(me,Ce-1,5),Q(me,Fe-4,4),Ie=0;Ie<Fe;Ie++)Q(me,me.bl_tree[2*I[Ie]+1],3);ge(me,me.dyn_ltree,ke-1),ge(me,me.dyn_dtree,Ce-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,de+1),ae(ne,ne.dyn_ltree,ne.dyn_dtree)),Z(ne),ie&&W(ne)},y._tr_tally=function(ne,fe,le){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&le,ne.last_lit++,fe===0?ne.dyn_ltree[2*le]++:(ne.matches++,fe--,ne.dyn_ltree[2*(P[le]+x+1)]++,ne.dyn_dtree[2*O(fe)]++),ne.last_lit===ne.lit_bufsize-1},y._tr_align=function(ne){Q(ne,2,3),Y(ne,256,$),(function(fe){fe.bi_valid===16?(z(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(h,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,y){(function(m){(function(v,x){if(!v.setImmediate){var S,C,A,B,q=1,R={},I=!1,$=v.document,K=Object.getPrototypeOf&&Object.getPrototypeOf(v);K=K&&K.setTimeout?K:v,S={}.toString.call(v.process)==="[object process]"?function(T){a.nextTick((function(){P(T)}))}:(function(){if(v.postMessage&&!v.importScripts){var T=!0,_=v.onmessage;return v.onmessage=function(){T=!1},v.postMessage("","*"),v.onmessage=_,T}})()?(B="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",L,!1):v.attachEvent("onmessage",L),function(T){v.postMessage(B+T,"*")}):v.MessageChannel?((A=new MessageChannel).port1.onmessage=function(T){P(T.data)},function(T){A.port2.postMessage(T)}):$&&"onreadystatechange"in $.createElement("script")?(C=$.documentElement,function(T){var _=$.createElement("script");_.onreadystatechange=function(){P(T),_.onreadystatechange=null,C.removeChild(_),_=null},C.appendChild(_)}):function(T){setTimeout(P,0,T)},K.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var _=new Array(arguments.length-1),k=0;k<_.length;k++)_[k]=arguments[k+1];var j={callback:T,args:_};return R[q]=j,S(q),q++},K.clearImmediate=U}function U(T){delete R[T]}function P(T){if(I)setTimeout(P,0,T);else{var _=R[T];if(_){I=!0;try{(function(k){var j=k.callback,N=k.args;switch(N.length){case 0:j();break;case 1:j(N[0]);break;case 2:j(N[0],N[1]);break;case 3:j(N[0],N[1],N[2]);break;default:j.apply(void 0,N)}})(_)}finally{U(T),I=!1}}}}function L(T){T.source===v&&typeof T.data=="string"&&T.data.indexOf(B)===0&&P(+T.data.slice(B.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(a){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),u=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),p=Object.prototype.toString,f=d.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(x){return typeof x=="symbol"||(function(S){return!!S&&typeof S=="object"})(x)&&p.call(x)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&c.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(a){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[o]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[c]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[l]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof a=="object"&&a&&a.Object===Object&&a,S=typeof self=="object"&&self&&self.Object===Object&&self,C=x||S||Function("return this")(),A=typeof s=="object"&&s&&!s.nodeType&&s,B=A&&typeof n=="object"&&n&&!n.nodeType&&n,q=B&&B.exports===A&&x.process,R=(function(){try{return q&&q.binding("util")}catch{}})(),I=R&&R.isTypedArray;function $(ye,Pe,Qe,Ge){for(var Mt=-1,ut=ye?ye.length:0;++Mt<ut;){var mt=ye[Mt];Pe(Ge,mt,Qe(mt),ye)}return Ge}function K(ye,Pe){for(var Qe=-1,Ge=ye?ye.length:0;++Qe<Ge;)if(Pe(ye[Qe],Qe,ye))return!0;return!1}function U(ye){var Pe=!1;if(ye!=null&&typeof ye.toString!="function")try{Pe=!!(ye+"")}catch{}return Pe}function P(ye){var Pe=-1,Qe=Array(ye.size);return ye.forEach((function(Ge,Mt){Qe[++Pe]=[Mt,Ge]})),Qe}function L(ye){var Pe=-1,Qe=Array(ye.size);return ye.forEach((function(Ge){Qe[++Pe]=Ge})),Qe}var T,_,k,j=Array.prototype,N=Function.prototype,D=Object.prototype,O=C["__core-js_shared__"],z=(T=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",Q=N.toString,Y=D.hasOwnProperty,re=D.toString,F=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=C.Symbol,W=C.Uint8Array,V=D.propertyIsEnumerable,G=j.splice,ae=(_=Object.keys,k=Object,function(ye){return _(k(ye))}),pe=Ot(C,"DataView"),ce=Ot(C,"Map"),ge=Ot(C,"Promise"),ee=Ot(C,"Set"),oe=Ot(C,"WeakMap"),ne=Ot(Object,"create"),fe=Me(pe),le=Me(ce),ie=Me(ge),te=Me(ee),se=Me(oe),de=Z?Z.prototype:void 0,me=de?de.valueOf:void 0,ke=de?de.toString:void 0;function Ce(ye){var Pe=-1,Qe=ye?ye.length:0;for(this.clear();++Pe<Qe;){var Ge=ye[Pe];this.set(Ge[0],Ge[1])}}function Fe(ye){var Pe=-1,Qe=ye?ye.length:0;for(this.clear();++Pe<Qe;){var Ge=ye[Pe];this.set(Ge[0],Ge[1])}}function Ie(ye){var Pe=-1,Qe=ye?ye.length:0;for(this.clear();++Pe<Qe;){var Ge=ye[Pe];this.set(Ge[0],Ge[1])}}function Ue(ye){var Pe=-1,Qe=ye?ye.length:0;for(this.__data__=new Ie;++Pe<Qe;)this.add(ye[Pe])}function tt(ye){this.__data__=new Fe(ye)}function gt(ye,Pe){var Qe=Kt(ye)||Jt(ye)?(function(mt,Pr){for(var hr=-1,Vt=Array(mt);++hr<mt;)Vt[hr]=Pr(hr);return Vt})(ye.length,String):[],Ge=Qe.length,Mt=!!Ge;for(var ut in ye)!Y.call(ye,ut)||Mt&&(ut=="length"||fr(ut,Ge))||Qe.push(ut);return Qe}function Ze(ye,Pe){for(var Qe=ye.length;Qe--;)if(ht(ye[Qe][0],Pe))return Qe;return-1}function it(ye,Pe,Qe,Ge){return be(ye,(function(Mt,ut,mt){Pe(Ge,Mt,Qe(Mt),mt)})),Ge}Ce.prototype.clear=function(){this.__data__=ne?ne(null):{}},Ce.prototype.delete=function(ye){return this.has(ye)&&delete this.__data__[ye]},Ce.prototype.get=function(ye){var Pe=this.__data__;if(ne){var Qe=Pe[ye];return Qe==="__lodash_hash_undefined__"?void 0:Qe}return Y.call(Pe,ye)?Pe[ye]:void 0},Ce.prototype.has=function(ye){var Pe=this.__data__;return ne?Pe[ye]!==void 0:Y.call(Pe,ye)},Ce.prototype.set=function(ye,Pe){return this.__data__[ye]=ne&&Pe===void 0?"__lodash_hash_undefined__":Pe,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(ye){var Pe=this.__data__,Qe=Ze(Pe,ye);return!(Qe<0)&&(Qe==Pe.length-1?Pe.pop():G.call(Pe,Qe,1),!0)},Fe.prototype.get=function(ye){var Pe=this.__data__,Qe=Ze(Pe,ye);return Qe<0?void 0:Pe[Qe][1]},Fe.prototype.has=function(ye){return Ze(this.__data__,ye)>-1},Fe.prototype.set=function(ye,Pe){var Qe=this.__data__,Ge=Ze(Qe,ye);return Ge<0?Qe.push([ye,Pe]):Qe[Ge][1]=Pe,this},Ie.prototype.clear=function(){this.__data__={hash:new Ce,map:new(ce||Fe),string:new Ce}},Ie.prototype.delete=function(ye){return jr(this,ye).delete(ye)},Ie.prototype.get=function(ye){return jr(this,ye).get(ye)},Ie.prototype.has=function(ye){return jr(this,ye).has(ye)},Ie.prototype.set=function(ye,Pe){return jr(this,ye).set(ye,Pe),this},Ue.prototype.add=Ue.prototype.push=function(ye){return this.__data__.set(ye,"__lodash_hash_undefined__"),this},Ue.prototype.has=function(ye){return this.__data__.has(ye)},tt.prototype.clear=function(){this.__data__=new Fe},tt.prototype.delete=function(ye){return this.__data__.delete(ye)},tt.prototype.get=function(ye){return this.__data__.get(ye)},tt.prototype.has=function(ye){return this.__data__.has(ye)},tt.prototype.set=function(ye,Pe){var Qe=this.__data__;if(Qe instanceof Fe){var Ge=Qe.__data__;if(!ce||Ge.length<199)return Ge.push([ye,Pe]),this;Qe=this.__data__=new Ie(Ge)}return Qe.set(ye,Pe),this};var ve,be=(ve=function(ye,Pe){return ye&&He(ye,Pe,Ft)},function(ye,Pe){if(ye==null)return ye;if(!Ct(ye))return ve(ye,Pe);for(var Qe=ye.length,Ge=-1,Mt=Object(ye);++Ge<Qe&&Pe(Mt[Ge],Ge,Mt)!==!1;);return ye}),He=(function(ye){return function(Pe,Qe,Ge){for(var Mt=-1,ut=Object(Pe),mt=Ge(Pe),Pr=mt.length;Pr--;){var hr=mt[++Mt];if(Qe(ut[hr],hr,ut)===!1)break}return Pe}})();function Xe(ye,Pe){for(var Qe=0,Ge=(Pe=Zt(Pe,ye)?[Pe]:At(Pe)).length;ye!=null&&Qe<Ge;)ye=ye[Ne(Pe[Qe++])];return Qe&&Qe==Ge?ye:void 0}function ot(ye,Pe){return ye!=null&&Pe in Object(ye)}function Xt(ye,Pe,Qe,Ge,Mt){return ye===Pe||(ye==null||Pe==null||!we(ye)&&!Ke(Pe)?ye!=ye&&Pe!=Pe:(function(ut,mt,Pr,hr,Vt,Wt){var vr=Kt(ut),Wr=Kt(mt),zr="[object Array]",dn="[object Array]";vr||(zr=(zr=Cr(ut))==o?u:zr),Wr||(dn=(dn=Cr(mt))==o?u:dn);var bn=zr==u&&!U(ut),fn=dn==u&&!U(mt),kn=zr==dn;if(kn&&!bn)return Wt||(Wt=new tt),vr||kt(ut)?Pt(ut,mt,Pr,hr,Vt,Wt):(function(Ur,Mr,Ls,ui,Pi,wr,js){switch(Ls){case"[object DataView]":if(Ur.byteLength!=Mr.byteLength||Ur.byteOffset!=Mr.byteOffset)return!1;Ur=Ur.buffer,Mr=Mr.buffer;case"[object ArrayBuffer]":return!(Ur.byteLength!=Mr.byteLength||!ui(new W(Ur),new W(Mr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ht(+Ur,+Mr);case"[object Error]":return Ur.name==Mr.name&&Ur.message==Mr.message;case"[object RegExp]":case"[object String]":return Ur==Mr+"";case c:var Ca=P;case l:var di=2&wr;if(Ca||(Ca=L),Ur.size!=Mr.size&&!di)return!1;var oo=js.get(Ur);if(oo)return oo==Mr;wr|=1,js.set(Ur,Mr);var fi=Pt(Ca(Ur),Ca(Mr),ui,Pi,wr,js);return js.delete(Ur),fi;case"[object Symbol]":if(me)return me.call(Ur)==me.call(Mr)}return!1})(ut,mt,zr,Pr,hr,Vt,Wt);if(!(2&Vt)){var Jn=bn&&Y.call(ut,"__wrapped__"),Fs=fn&&Y.call(mt,"__wrapped__");if(Jn||Fs){var Ka=Jn?ut.value():ut,fs=Fs?mt.value():mt;return Wt||(Wt=new tt),Pr(Ka,fs,hr,Vt,Wt)}}return kn?(Wt||(Wt=new tt),(function(Ur,Mr,Ls,ui,Pi,wr){var js=2&Pi,Ca=Ft(Ur),di=Ca.length,oo=Ft(Mr).length;if(di!=oo&&!js)return!1;for(var fi=di;fi--;){var Ta=Ca[fi];if(!(js?Ta in Mr:Y.call(Mr,Ta)))return!1}var Bo=wr.get(Ur);if(Bo&&wr.get(Mr))return Bo==Mr;var Mi=!0;wr.set(Ur,Mr),wr.set(Mr,Ur);for(var hi=js;++fi<di;){Ta=Ca[fi];var Ga=Ur[Ta],Ea=Mr[Ta];if(ui)var Ri=js?ui(Ea,Ga,Ta,Mr,Ur,wr):ui(Ga,Ea,Ta,Ur,Mr,wr);if(!(Ri===void 0?Ga===Ea||Ls(Ga,Ea,ui,Pi,wr):Ri)){Mi=!1;break}hi||(hi=Ta=="constructor")}if(Mi&&!hi){var pi=Ur.constructor,Ys=Mr.constructor;pi==Ys||!("constructor"in Ur)||!("constructor"in Mr)||typeof pi=="function"&&pi instanceof pi&&typeof Ys=="function"&&Ys instanceof Ys||(Mi=!1)}return wr.delete(Ur),wr.delete(Mr),Mi})(ut,mt,Pr,hr,Vt,Wt)):!1})(ye,Pe,Xt,Qe,Ge,Mt))}function vt(ye){return!(!we(ye)||(function(Pe){return!!z&&z in Pe})(ye))&&(ir(ye)||U(ye)?F:y).test(Me(ye))}function Yt(ye){return typeof ye=="function"?ye:ye==null?Sn:typeof ye=="object"?Kt(ye)?(function(Ge,Mt){return Zt(Ge)&&Tr(Mt)?Bt(Ne(Ge),Mt):function(ut){var mt=(function(Pr,hr,Vt){var Wt=Pr==null?void 0:Xe(Pr,hr);return Wt===void 0?Vt:Wt})(ut,Ge);return mt===void 0&&mt===Mt?(function(Pr,hr){return Pr!=null&&(function(Vt,Wt,vr){Wt=Zt(Wt,Vt)?[Wt]:At(Wt);for(var Wr,zr=-1,dn=Wt.length;++zr<dn;){var bn=Ne(Wt[zr]);if(!(Wr=Vt!=null&&vr(Vt,bn)))break;Vt=Vt[bn]}return Wr||!!(dn=Vt?Vt.length:0)&&er(dn)&&fr(bn,dn)&&(Kt(Vt)||Jt(Vt))})(Pr,hr,ot)})(ut,Ge):Xt(Mt,mt,void 0,3)}})(ye[0],ye[1]):(function(Ge){var Mt=(function(ut){for(var mt=Ft(ut),Pr=mt.length;Pr--;){var hr=mt[Pr],Vt=ut[hr];mt[Pr]=[hr,Vt,Tr(Vt)]}return mt})(Ge);return Mt.length==1&&Mt[0][2]?Bt(Mt[0][0],Mt[0][1]):function(ut){return ut===Ge||(function(mt,Pr,hr,Vt){var Wt=hr.length,vr=Wt;if(mt==null)return!vr;for(mt=Object(mt);Wt--;){var Wr=hr[Wt];if(Wr[2]?Wr[1]!==mt[Wr[0]]:!(Wr[0]in mt))return!1}for(;++Wt<vr;){var zr=(Wr=hr[Wt])[0],dn=mt[zr],bn=Wr[1];if(Wr[2]){if(dn===void 0&&!(zr in mt))return!1}else{var fn=new tt,kn;if(!(kn===void 0?Xt(bn,dn,Vt,3,fn):kn))return!1}}return!0})(ut,Ge,Mt)}})(ye):Zt(Pe=ye)?(Qe=Ne(Pe),function(Ge){return Ge?.[Qe]}):(function(Ge){return function(Mt){return Xe(Mt,Ge)}})(Pe);var Pe,Qe}function rr(ye){if(Qe=(Pe=ye)&&Pe.constructor,Ge=typeof Qe=="function"&&Qe.prototype||D,Pe!==Ge)return ae(ye);var Pe,Qe,Ge,Mt=[];for(var ut in Object(ye))Y.call(ye,ut)&&ut!="constructor"&&Mt.push(ut);return Mt}function At(ye){return Kt(ye)?ye:ar(ye)}function Pt(ye,Pe,Qe,Ge,Mt,ut){var mt=2&Mt,Pr=ye.length,hr=Pe.length;if(Pr!=hr&&!(mt&&hr>Pr))return!1;var Vt=ut.get(ye);if(Vt&&ut.get(Pe))return Vt==Pe;var Wt=-1,vr=!0,Wr=1&Mt?new Ue:void 0;for(ut.set(ye,Pe),ut.set(Pe,ye);++Wt<Pr;){var zr=ye[Wt],dn=Pe[Wt];if(Ge)var bn=mt?Ge(dn,zr,Wt,Pe,ye,ut):Ge(zr,dn,Wt,ye,Pe,ut);if(bn!==void 0){if(bn)continue;vr=!1;break}if(Wr){if(!K(Pe,(function(fn,kn){if(!Wr.has(kn)&&(zr===fn||Qe(zr,fn,Ge,Mt,ut)))return Wr.add(kn)}))){vr=!1;break}}else if(zr!==dn&&!Qe(zr,dn,Ge,Mt,ut)){vr=!1;break}}return ut.delete(ye),ut.delete(Pe),vr}function jr(ye,Pe){var Qe,Ge,Mt=ye.__data__;return((Ge=typeof(Qe=Pe))=="string"||Ge=="number"||Ge=="symbol"||Ge=="boolean"?Qe!=="__proto__":Qe===null)?Mt[typeof Pe=="string"?"string":"hash"]:Mt.map}function Ot(ye,Pe){var Qe=(function(Ge,Mt){return Ge?.[Mt]})(ye,Pe);return vt(Qe)?Qe:void 0}var Cr=function(ye){return re.call(ye)};function fr(ye,Pe){return!!(Pe=Pe??9007199254740991)&&(typeof ye=="number"||m.test(ye))&&ye>-1&&ye%1==0&&ye<Pe}function Zt(ye,Pe){if(Kt(ye))return!1;var Qe=typeof ye;return!(Qe!="number"&&Qe!="symbol"&&Qe!="boolean"&&ye!=null&&!bt(ye))||p.test(ye)||!d.test(ye)||Pe!=null&&ye in Object(Pe)}function Tr(ye){return ye==ye&&!we(ye)}function Bt(ye,Pe){return function(Qe){return Qe!=null&&Qe[ye]===Pe&&(Pe!==void 0||ye in Object(Qe))}}(pe&&Cr(new pe(new ArrayBuffer(1)))!="[object DataView]"||ce&&Cr(new ce)!=c||ge&&Cr(ge.resolve())!="[object Promise]"||ee&&Cr(new ee)!=l||oe&&Cr(new oe)!="[object WeakMap]")&&(Cr=function(ye){var Pe=re.call(ye),Qe=Pe==u?ye.constructor:void 0,Ge=Qe?Me(Qe):void 0;if(Ge)switch(Ge){case fe:return"[object DataView]";case le:return c;case ie:return"[object Promise]";case te:return l;case se:return"[object WeakMap]"}return Pe});var ar=zt((function(ye){var Pe;ye=(Pe=ye)==null?"":(function(Ge){if(typeof Ge=="string")return Ge;if(bt(Ge))return ke?ke.call(Ge):"";var Mt=Ge+"";return Mt=="0"&&1/Ge==-1/0?"-0":Mt})(Pe);var Qe=[];return f.test(ye)&&Qe.push(""),ye.replace(h,(function(Ge,Mt,ut,mt){Qe.push(ut?mt.replace(g,"$1"):Mt||Ge)})),Qe}));function Ne(ye){if(typeof ye=="string"||bt(ye))return ye;var Pe=ye+"";return Pe=="0"&&1/ye==-1/0?"-0":Pe}function Me(ye){if(ye!=null){try{return Q.call(ye)}catch{}try{return ye+""}catch{}}return""}var We,rt=(We=function(ye,Pe,Qe){Y.call(ye,Qe)?ye[Qe].push(Pe):ye[Qe]=[Pe]},function(ye,Pe){var Qe=Kt(ye)?$:it,Ge={};return Qe(ye,We,Yt(Pe),Ge)});function zt(ye,Pe){if(typeof ye!="function"||Pe&&typeof Pe!="function")throw new TypeError("Expected a function");var Qe=function(){var Ge=arguments,Mt=Pe?Pe.apply(this,Ge):Ge[0],ut=Qe.cache;if(ut.has(Mt))return ut.get(Mt);var mt=ye.apply(this,Ge);return Qe.cache=ut.set(Mt,mt),mt};return Qe.cache=new(zt.Cache||Ie),Qe}function ht(ye,Pe){return ye===Pe||ye!=ye&&Pe!=Pe}function Jt(ye){return(function(Pe){return Ke(Pe)&&Ct(Pe)})(ye)&&Y.call(ye,"callee")&&(!V.call(ye,"callee")||re.call(ye)==o)}zt.Cache=Ie;var Kt=Array.isArray;function Ct(ye){return ye!=null&&er(ye.length)&&!ir(ye)}function ir(ye){var Pe=we(ye)?re.call(ye):"";return Pe=="[object Function]"||Pe=="[object GeneratorFunction]"}function er(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=9007199254740991}function we(ye){var Pe=typeof ye;return!!ye&&(Pe=="object"||Pe=="function")}function Ke(ye){return!!ye&&typeof ye=="object"}function bt(ye){return typeof ye=="symbol"||Ke(ye)&&re.call(ye)=="[object Symbol]"}var kt=I?(function(ye){return function(Pe){return ye(Pe)}})(I):function(ye){return Ke(ye)&&er(ye.length)&&!!v[re.call(ye)]};function Ft(ye){return Ct(ye)?gt(ye):rr(ye)}function Sn(ye){return ye}n.exports=rt}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var a=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||(function(c){return!!c&&typeof c=="object"})(o)&&a.call(o)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(a){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[c]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof a=="object"&&a&&a.Object===Object&&a,g=typeof self=="object"&&self&&self.Object===Object&&self,y=h||g||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,x=v&&v.exports===m,S=x&&h.process,C=(function(){try{return S&&S.binding&&S.binding("util")}catch{}})(),A=C&&C.isTypedArray;function B(Ne,Me){for(var We=-1,rt=Ne==null?0:Ne.length;++We<rt;)if(Me(Ne[We],We,Ne))return!0;return!1}function q(Ne){var Me=-1,We=Array(Ne.size);return Ne.forEach((function(rt,zt){We[++Me]=[zt,rt]})),We}function R(Ne){var Me=-1,We=Array(Ne.size);return Ne.forEach((function(rt){We[++Me]=rt})),We}var I,$,K,U=Array.prototype,P=Function.prototype,L=Object.prototype,T=y["__core-js_shared__"],_=P.toString,k=L.hasOwnProperty,j=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",N=L.toString,D=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x?y.Buffer:void 0,z=y.Symbol,Q=y.Uint8Array,Y=L.propertyIsEnumerable,re=U.splice,F=z?z.toStringTag:void 0,Z=Object.getOwnPropertySymbols,W=O?O.isBuffer:void 0,V=($=Object.keys,K=Object,function(Ne){return $(K(Ne))}),G=ot(y,"DataView"),ae=ot(y,"Map"),pe=ot(y,"Promise"),ce=ot(y,"Set"),ge=ot(y,"WeakMap"),ee=ot(Object,"create"),oe=rr(G),ne=rr(ae),fe=rr(pe),le=rr(ce),ie=rr(ge),te=z?z.prototype:void 0,se=te?te.valueOf:void 0;function de(Ne){var Me=-1,We=Ne==null?0:Ne.length;for(this.clear();++Me<We;){var rt=Ne[Me];this.set(rt[0],rt[1])}}function me(Ne){var Me=-1,We=Ne==null?0:Ne.length;for(this.clear();++Me<We;){var rt=Ne[Me];this.set(rt[0],rt[1])}}function ke(Ne){var Me=-1,We=Ne==null?0:Ne.length;for(this.clear();++Me<We;){var rt=Ne[Me];this.set(rt[0],rt[1])}}function Ce(Ne){var Me=-1,We=Ne==null?0:Ne.length;for(this.__data__=new ke;++Me<We;)this.add(Ne[Me])}function Fe(Ne){var Me=this.__data__=new me(Ne);this.size=Me.size}function Ie(Ne,Me){var We=jr(Ne),rt=!We&&Pt(Ne),zt=!We&&!rt&&Ot(Ne),ht=!We&&!rt&&!zt&&Bt(Ne),Jt=We||rt||zt||ht,Kt=Jt?(function(er,we){for(var Ke=-1,bt=Array(er);++Ke<er;)bt[Ke]=we(Ke);return bt})(Ne.length,String):[],Ct=Kt.length;for(var ir in Ne)!k.call(Ne,ir)||Jt&&(ir=="length"||zt&&(ir=="offset"||ir=="parent")||ht&&(ir=="buffer"||ir=="byteLength"||ir=="byteOffset")||Yt(ir,Ct))||Kt.push(ir);return Kt}function Ue(Ne,Me){for(var We=Ne.length;We--;)if(At(Ne[We][0],Me))return We;return-1}function tt(Ne){return Ne==null?Ne===void 0?"[object Undefined]":"[object Null]":F&&F in Object(Ne)?(function(Me){var We=k.call(Me,F),rt=Me[F];try{Me[F]=void 0;var zt=!0}catch{}var ht=N.call(Me);return zt&&(We?Me[F]=rt:delete Me[F]),ht})(Ne):(function(Me){return N.call(Me)})(Ne)}function gt(Ne){return Tr(Ne)&&tt(Ne)==o}function Ze(Ne,Me,We,rt,zt){return Ne===Me||(Ne==null||Me==null||!Tr(Ne)&&!Tr(Me)?Ne!=Ne&&Me!=Me:(function(ht,Jt,Kt,Ct,ir,er){var we=jr(ht),Ke=jr(Jt),bt=we?"[object Array]":vt(ht),kt=Ke?"[object Array]":vt(Jt),Ft=(bt=bt==o?u:bt)==u,Sn=(kt=kt==o?u:kt)==u,ye=bt==kt;if(ye&&Ot(ht)){if(!Ot(Jt))return!1;we=!0,Ft=!1}if(ye&&!Ft)return er||(er=new Fe),we||Bt(ht)?be(ht,Jt,Kt,Ct,ir,er):(function(ut,mt,Pr,hr,Vt,Wt,vr){switch(Pr){case"[object DataView]":if(ut.byteLength!=mt.byteLength||ut.byteOffset!=mt.byteOffset)return!1;ut=ut.buffer,mt=mt.buffer;case"[object ArrayBuffer]":return!(ut.byteLength!=mt.byteLength||!Wt(new Q(ut),new Q(mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+ut,+mt);case"[object Error]":return ut.name==mt.name&&ut.message==mt.message;case"[object RegExp]":case"[object String]":return ut==mt+"";case c:var Wr=q;case l:var zr=1&hr;if(Wr||(Wr=R),ut.size!=mt.size&&!zr)return!1;var dn=vr.get(ut);if(dn)return dn==mt;hr|=2,vr.set(ut,mt);var bn=be(Wr(ut),Wr(mt),hr,Vt,Wt,vr);return vr.delete(ut),bn;case"[object Symbol]":if(se)return se.call(ut)==se.call(mt)}return!1})(ht,Jt,bt,Kt,Ct,ir,er);if(!(1&Kt)){var Pe=Ft&&k.call(ht,"__wrapped__"),Qe=Sn&&k.call(Jt,"__wrapped__");if(Pe||Qe){var Ge=Pe?ht.value():ht,Mt=Qe?Jt.value():Jt;return er||(er=new Fe),ir(Ge,Mt,Kt,Ct,er)}}return ye?(er||(er=new Fe),(function(ut,mt,Pr,hr,Vt,Wt){var vr=1&Pr,Wr=He(ut),zr=Wr.length,dn=He(mt).length;if(zr!=dn&&!vr)return!1;for(var bn=zr;bn--;){var fn=Wr[bn];if(!(vr?fn in mt:k.call(mt,fn)))return!1}var kn=Wt.get(ut);if(kn&&Wt.get(mt))return kn==mt;var Jn=!0;Wt.set(ut,mt),Wt.set(mt,ut);for(var Fs=vr;++bn<zr;){fn=Wr[bn];var Ka=ut[fn],fs=mt[fn];if(hr)var Ur=vr?hr(fs,Ka,fn,mt,ut,Wt):hr(Ka,fs,fn,ut,mt,Wt);if(!(Ur===void 0?Ka===fs||Vt(Ka,fs,Pr,hr,Wt):Ur)){Jn=!1;break}Fs||(Fs=fn=="constructor")}if(Jn&&!Fs){var Mr=ut.constructor,Ls=mt.constructor;Mr==Ls||!("constructor"in ut)||!("constructor"in mt)||typeof Mr=="function"&&Mr instanceof Mr&&typeof Ls=="function"&&Ls instanceof Ls||(Jn=!1)}return Wt.delete(ut),Wt.delete(mt),Jn})(ht,Jt,Kt,Ct,ir,er)):!1})(Ne,Me,We,rt,Ze,zt))}function it(Ne){return!(!Zt(Ne)||(function(Me){return!!j&&j in Me})(Ne))&&(Cr(Ne)?D:d).test(rr(Ne))}function ve(Ne){if(We=(Me=Ne)&&Me.constructor,rt=typeof We=="function"&&We.prototype||L,Me!==rt)return V(Ne);var Me,We,rt,zt=[];for(var ht in Object(Ne))k.call(Ne,ht)&&ht!="constructor"&&zt.push(ht);return zt}function be(Ne,Me,We,rt,zt,ht){var Jt=1&We,Kt=Ne.length,Ct=Me.length;if(Kt!=Ct&&!(Jt&&Ct>Kt))return!1;var ir=ht.get(Ne);if(ir&&ht.get(Me))return ir==Me;var er=-1,we=!0,Ke=2&We?new Ce:void 0;for(ht.set(Ne,Me),ht.set(Me,Ne);++er<Kt;){var bt=Ne[er],kt=Me[er];if(rt)var Ft=Jt?rt(kt,bt,er,Me,Ne,ht):rt(bt,kt,er,Ne,Me,ht);if(Ft!==void 0){if(Ft)continue;we=!1;break}if(Ke){if(!B(Me,(function(Sn,ye){if(Pe=ye,!Ke.has(Pe)&&(bt===Sn||zt(bt,Sn,We,rt,ht)))return Ke.push(ye);var Pe}))){we=!1;break}}else if(bt!==kt&&!zt(bt,kt,We,rt,ht)){we=!1;break}}return ht.delete(Ne),ht.delete(Me),we}function He(Ne){return(function(Me,We,rt){var zt=We(Me);return jr(Me)?zt:(function(ht,Jt){for(var Kt=-1,Ct=Jt.length,ir=ht.length;++Kt<Ct;)ht[ir+Kt]=Jt[Kt];return ht})(zt,rt(Me))})(Ne,ar,Xt)}function Xe(Ne,Me){var We,rt,zt=Ne.__data__;return((rt=typeof(We=Me))=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?We!=="__proto__":We===null)?zt[typeof Me=="string"?"string":"hash"]:zt.map}function ot(Ne,Me){var We=(function(rt,zt){return rt?.[zt]})(Ne,Me);return it(We)?We:void 0}de.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},de.prototype.delete=function(Ne){var Me=this.has(Ne)&&delete this.__data__[Ne];return this.size-=Me?1:0,Me},de.prototype.get=function(Ne){var Me=this.__data__;if(ee){var We=Me[Ne];return We==="__lodash_hash_undefined__"?void 0:We}return k.call(Me,Ne)?Me[Ne]:void 0},de.prototype.has=function(Ne){var Me=this.__data__;return ee?Me[Ne]!==void 0:k.call(Me,Ne)},de.prototype.set=function(Ne,Me){var We=this.__data__;return this.size+=this.has(Ne)?0:1,We[Ne]=ee&&Me===void 0?"__lodash_hash_undefined__":Me,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(Ne){var Me=this.__data__,We=Ue(Me,Ne);return!(We<0)&&(We==Me.length-1?Me.pop():re.call(Me,We,1),--this.size,!0)},me.prototype.get=function(Ne){var Me=this.__data__,We=Ue(Me,Ne);return We<0?void 0:Me[We][1]},me.prototype.has=function(Ne){return Ue(this.__data__,Ne)>-1},me.prototype.set=function(Ne,Me){var We=this.__data__,rt=Ue(We,Ne);return rt<0?(++this.size,We.push([Ne,Me])):We[rt][1]=Me,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(ae||me),string:new de}},ke.prototype.delete=function(Ne){var Me=Xe(this,Ne).delete(Ne);return this.size-=Me?1:0,Me},ke.prototype.get=function(Ne){return Xe(this,Ne).get(Ne)},ke.prototype.has=function(Ne){return Xe(this,Ne).has(Ne)},ke.prototype.set=function(Ne,Me){var We=Xe(this,Ne),rt=We.size;return We.set(Ne,Me),this.size+=We.size==rt?0:1,this},Ce.prototype.add=Ce.prototype.push=function(Ne){return this.__data__.set(Ne,"__lodash_hash_undefined__"),this},Ce.prototype.has=function(Ne){return this.__data__.has(Ne)},Fe.prototype.clear=function(){this.__data__=new me,this.size=0},Fe.prototype.delete=function(Ne){var Me=this.__data__,We=Me.delete(Ne);return this.size=Me.size,We},Fe.prototype.get=function(Ne){return this.__data__.get(Ne)},Fe.prototype.has=function(Ne){return this.__data__.has(Ne)},Fe.prototype.set=function(Ne,Me){var We=this.__data__;if(We instanceof me){var rt=We.__data__;if(!ae||rt.length<199)return rt.push([Ne,Me]),this.size=++We.size,this;We=this.__data__=new ke(rt)}return We.set(Ne,Me),this.size=We.size,this};var Xt=Z?function(Ne){return Ne==null?[]:(Ne=Object(Ne),(function(Me,We){for(var rt=-1,zt=Me==null?0:Me.length,ht=0,Jt=[];++rt<zt;){var Kt=Me[rt];We(Kt,rt,Me)&&(Jt[ht++]=Kt)}return Jt})(Z(Ne),(function(Me){return Y.call(Ne,Me)})))}:function(){return[]},vt=tt;function Yt(Ne,Me){return!!(Me=Me??9007199254740991)&&(typeof Ne=="number"||p.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Me}function rr(Ne){if(Ne!=null){try{return _.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function At(Ne,Me){return Ne===Me||Ne!=Ne&&Me!=Me}(G&&vt(new G(new ArrayBuffer(1)))!="[object DataView]"||ae&&vt(new ae)!=c||pe&&vt(pe.resolve())!="[object Promise]"||ce&&vt(new ce)!=l||ge&&vt(new ge)!="[object WeakMap]")&&(vt=function(Ne){var Me=tt(Ne),We=Me==u?Ne.constructor:void 0,rt=We?rr(We):"";if(rt)switch(rt){case oe:return"[object DataView]";case ne:return c;case fe:return"[object Promise]";case le:return l;case ie:return"[object WeakMap]"}return Me});var Pt=gt((function(){return arguments})())?gt:function(Ne){return Tr(Ne)&&k.call(Ne,"callee")&&!Y.call(Ne,"callee")},jr=Array.isArray,Ot=W||function(){return!1};function Cr(Ne){if(!Zt(Ne))return!1;var Me=tt(Ne);return Me=="[object Function]"||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function fr(Ne){return typeof Ne=="number"&&Ne>-1&&Ne%1==0&&Ne<=9007199254740991}function Zt(Ne){var Me=typeof Ne;return Ne!=null&&(Me=="object"||Me=="function")}function Tr(Ne){return Ne!=null&&typeof Ne=="object"}var Bt=A?(function(Ne){return function(Me){return Ne(Me)}})(A):function(Ne){return Tr(Ne)&&fr(Ne.length)&&!!f[tt(Ne)]};function ar(Ne){return(Me=Ne)!=null&&fr(Me.length)&&!Cr(Me)?Ie(Ne):ve(Ne);var Me}n.exports=function(Ne,Me){return Ze(Ne,Me)}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(a){(function(){var o=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,u=o||c||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,p=l.toString,f=u.Symbol,h=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?(function(m){var v=d.call(m,h),x=m[h];try{m[h]=void 0;var S=!0}catch{}var C=p.call(m);return S&&(v?m[h]=x:delete m[h]),C})(y):(function(m){return p.call(m)})(y)}n.exports=function(y){if(!(function(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(a){return a==null}},{}],448:[function(e,n,s){n.exports=function(a){return a===void 0}},{}],449:[function(e,n,s){(function(a){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function d(z,Q){return!!(z&&z.length)&&(function(Y,re,F){if(re!=re)return(function(V,G,ae,pe){for(var ce=V.length,ge=ae+-1;++ge<ce;)if(G(V[ge],ge,V))return ge;return-1})(Y,p,F);for(var Z=F-1,W=Y.length;++Z<W;)if(Y[Z]===re)return Z;return-1})(z,Q,0)>-1}function p(z){return z!=z}function f(z,Q){return z.has(Q)}function h(z){var Q=-1,Y=Array(z.size);return z.forEach((function(re){Y[++Q]=re})),Y}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,x=l["__core-js_shared__"],S=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=m.toString,A=v.hasOwnProperty,B=v.toString,q=RegExp("^"+C.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y.splice,I=D(l,"Map"),$=D(l,"Set"),K=D(Object,"create");function U(z){var Q=-1,Y=z?z.length:0;for(this.clear();++Q<Y;){var re=z[Q];this.set(re[0],re[1])}}function P(z){var Q=-1,Y=z?z.length:0;for(this.clear();++Q<Y;){var re=z[Q];this.set(re[0],re[1])}}function L(z){var Q=-1,Y=z?z.length:0;for(this.clear();++Q<Y;){var re=z[Q];this.set(re[0],re[1])}}function T(z){var Q=-1,Y=z?z.length:0;for(this.__data__=new L;++Q<Y;)this.add(z[Q])}function _(z,Q){for(var Y,re,F=z.length;F--;)if((Y=z[F][0])===(re=Q)||Y!=Y&&re!=re)return F;return-1}function k(z){return!(!O(z)||(Q=z,S&&S in Q))&&((function(Y){var re=O(Y)?B.call(Y):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})(z)||(function(Y){var re=!1;if(Y!=null&&typeof Y.toString!="function")try{re=!!(Y+"")}catch{}return re})(z)?q:o).test((function(Y){if(Y!=null){try{return C.call(Y)}catch{}try{return Y+""}catch{}}return""})(z));var Q}U.prototype.clear=function(){this.__data__=K?K(null):{}},U.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},U.prototype.get=function(z){var Q=this.__data__;if(K){var Y=Q[z];return Y==="__lodash_hash_undefined__"?void 0:Y}return A.call(Q,z)?Q[z]:void 0},U.prototype.has=function(z){var Q=this.__data__;return K?Q[z]!==void 0:A.call(Q,z)},U.prototype.set=function(z,Q){return this.__data__[z]=K&&Q===void 0?"__lodash_hash_undefined__":Q,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(z){var Q=this.__data__,Y=_(Q,z);return!(Y<0)&&(Y==Q.length-1?Q.pop():R.call(Q,Y,1),!0)},P.prototype.get=function(z){var Q=this.__data__,Y=_(Q,z);return Y<0?void 0:Q[Y][1]},P.prototype.has=function(z){return _(this.__data__,z)>-1},P.prototype.set=function(z,Q){var Y=this.__data__,re=_(Y,z);return re<0?Y.push([z,Q]):Y[re][1]=Q,this},L.prototype.clear=function(){this.__data__={hash:new U,map:new(I||P),string:new U}},L.prototype.delete=function(z){return N(this,z).delete(z)},L.prototype.get=function(z){return N(this,z).get(z)},L.prototype.has=function(z){return N(this,z).has(z)},L.prototype.set=function(z,Q){return N(this,z).set(z,Q),this},T.prototype.add=T.prototype.push=function(z){return this.__data__.set(z,"__lodash_hash_undefined__"),this},T.prototype.has=function(z){return this.__data__.has(z)};var j=$&&1/h(new $([,-0]))[1]==1/0?function(z){return new $(z)}:function(){};function N(z,Q){var Y,re,F=z.__data__;return((re=typeof(Y=Q))=="string"||re=="number"||re=="symbol"||re=="boolean"?Y!=="__proto__":Y===null)?F[typeof Q=="string"?"string":"hash"]:F.map}function D(z,Q){var Y=(function(re,F){return re?.[F]})(z,Q);return k(Y)?Y:void 0}function O(z){var Q=typeof z;return!!z&&(Q=="object"||Q=="function")}n.exports=function(z){return z&&z.length?(function(Q,Y,re){var F=-1,Z=d,W=Q.length,V=!0,G=[],ae=G;if(W>=200){var pe=j(Q);if(pe)return h(pe);V=!1,Z=f,ae=new T}else ae=G;e:for(;++F<W;){var ce=Q[F],ge=ce;if(ce=ce!==0?ce:0,V&&ge==ge){for(var ee=ae.length;ee--;)if(ae[ee]===ge)continue e;G.push(ce)}else Z(ae,ge,re)||(ae!==G&&ae.push(ge),G.push(ce))}return G})(z):[]}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var a=e("inherits"),o=e("hash-base"),c=e("safe-buffer").Buffer,u=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function p(y,m,v,x,S,C,A){return d(y+(m&v|~m&x)+S+C|0,A)+m|0}function f(y,m,v,x,S,C,A){return d(y+(m&x|v&~x)+S+C|0,A)+m|0}function h(y,m,v,x,S,C,A){return d(y+(m^v^x)+S+C|0,A)+m|0}function g(y,m,v,x,S,C,A){return d(y+(v^(m|~x))+S+C|0,A)+m|0}a(l,o),l.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,x=this._b,S=this._c,C=this._d;v=p(v,x,S,C,y[0],3614090360,7),C=p(C,v,x,S,y[1],3905402710,12),S=p(S,C,v,x,y[2],606105819,17),x=p(x,S,C,v,y[3],3250441966,22),v=p(v,x,S,C,y[4],4118548399,7),C=p(C,v,x,S,y[5],1200080426,12),S=p(S,C,v,x,y[6],2821735955,17),x=p(x,S,C,v,y[7],4249261313,22),v=p(v,x,S,C,y[8],1770035416,7),C=p(C,v,x,S,y[9],2336552879,12),S=p(S,C,v,x,y[10],4294925233,17),x=p(x,S,C,v,y[11],2304563134,22),v=p(v,x,S,C,y[12],1804603682,7),C=p(C,v,x,S,y[13],4254626195,12),S=p(S,C,v,x,y[14],2792965006,17),v=f(v,x=p(x,S,C,v,y[15],1236535329,22),S,C,y[1],4129170786,5),C=f(C,v,x,S,y[6],3225465664,9),S=f(S,C,v,x,y[11],643717713,14),x=f(x,S,C,v,y[0],3921069994,20),v=f(v,x,S,C,y[5],3593408605,5),C=f(C,v,x,S,y[10],38016083,9),S=f(S,C,v,x,y[15],3634488961,14),x=f(x,S,C,v,y[4],3889429448,20),v=f(v,x,S,C,y[9],568446438,5),C=f(C,v,x,S,y[14],3275163606,9),S=f(S,C,v,x,y[3],4107603335,14),x=f(x,S,C,v,y[8],1163531501,20),v=f(v,x,S,C,y[13],2850285829,5),C=f(C,v,x,S,y[2],4243563512,9),S=f(S,C,v,x,y[7],1735328473,14),v=h(v,x=f(x,S,C,v,y[12],2368359562,20),S,C,y[5],4294588738,4),C=h(C,v,x,S,y[8],2272392833,11),S=h(S,C,v,x,y[11],1839030562,16),x=h(x,S,C,v,y[14],4259657740,23),v=h(v,x,S,C,y[1],2763975236,4),C=h(C,v,x,S,y[4],1272893353,11),S=h(S,C,v,x,y[7],4139469664,16),x=h(x,S,C,v,y[10],3200236656,23),v=h(v,x,S,C,y[13],681279174,4),C=h(C,v,x,S,y[0],3936430074,11),S=h(S,C,v,x,y[3],3572445317,16),x=h(x,S,C,v,y[6],76029189,23),v=h(v,x,S,C,y[9],3654602809,4),C=h(C,v,x,S,y[12],3873151461,11),S=h(S,C,v,x,y[15],530742520,16),v=g(v,x=h(x,S,C,v,y[2],3299628645,23),S,C,y[0],4096336452,6),C=g(C,v,x,S,y[7],1126891415,10),S=g(S,C,v,x,y[14],2878612391,15),x=g(x,S,C,v,y[5],4237533241,21),v=g(v,x,S,C,y[12],1700485571,6),C=g(C,v,x,S,y[3],2399980690,10),S=g(S,C,v,x,y[10],4293915773,15),x=g(x,S,C,v,y[1],2240044497,21),v=g(v,x,S,C,y[8],1873313359,6),C=g(C,v,x,S,y[15],4264355552,10),S=g(S,C,v,x,y[6],2734768916,15),x=g(x,S,C,v,y[13],1309151649,21),v=g(v,x,S,C,y[4],4149444226,6),C=g(C,v,x,S,y[11],3174756917,10),S=g(S,C,v,x,y[2],718787259,15),x=g(x,S,C,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+x|0,this._c=this._c+S|0,this._d=this._d+C|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=c.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var a=e("bn.js"),o=e("brorand");function c(u){this.rand=u||new o.Rand}n.exports=c,c.create=function(u){return new c(u)},c.prototype._randbelow=function(u){var l=u.bitLength(),d=Math.ceil(l/8);do var p=new a(this.rand.generate(d));while(p.cmp(u)>=0);return p},c.prototype._randrange=function(u,l){var d=l.sub(u);return u.add(this._randbelow(d))},c.prototype.test=function(u,l,d){var p=u.bitLength(),f=a.mont(u),h=new a(1).toRed(f);l||(l=Math.max(1,p/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);l>0;l--){var x=this._randrange(new a(2),g);d&&d(x);var S=x.toRed(f).redPow(m);if(S.cmp(h)!==0&&S.cmp(v)!==0){for(var C=1;C<y;C++){if((S=S.redSqr()).cmp(h)===0)return!1;if(S.cmp(v)===0)break}if(C===y)return!1}}return!0},c.prototype.getDivisor=function(u,l){var d=u.bitLength(),p=a.mont(u),f=new a(1).toRed(p);l||(l=Math.max(1,d/48|0));for(var h=u.subn(1),g=0;!h.testn(g);g++);for(var y=u.shrn(g),m=h.toRed(p);l>0;l--){var v=this._randrange(new a(2),h),x=u.gcd(v);if(x.cmpn(1)!==0)return x;var S=v.toRed(p).redPow(y);if(S.cmp(f)!==0&&S.cmp(m)!==0){for(var C=1;C<g;C++){if((S=S.redSqr()).cmp(f)===0)return S.fromRed().subn(1).gcd(u);if(S.cmp(m)===0)break}if(C===g)return(S=S.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function a(o,c){if(!o)throw new Error(c||"Assertion failed")}n.exports=a,a.equal=function(o,c,u){if(o!=c)throw new Error(u||"Assertion failed: "+o+" != "+c)}},{}],454:[function(e,n,s){var a=s;function o(u){return u.length===1?"0"+u:u}function c(u){for(var l="",d=0;d<u.length;d++)l+=o(u[d].toString(16));return l}a.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var p=0;p<u.length;p++)d[p]=0|u[p];return d}if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16));else for(p=0;p<u.length;p++){var f=u.charCodeAt(p),h=f>>8,g=255&f;h?d.push(h,g):d.push(g)}return d},a.zero2=o,a.toHex=c,a.encode=function(u,l){return l==="hex"?c(u):u}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var a=e("asn1.js");s.certificate=e("./certificate");var o=a.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=o;var c=a.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=c;var u=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}));s.PublicKey=u;var l=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=a.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=d;var p=a.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var f=a.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=f,s.DSAparam=a.define("DSAparam",(function(){this.int()}));var h=a.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=h;var g=a.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=a.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var a=e("asn1.js"),o=a.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),c=a.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),l=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=a.define("RelativeDistinguishedName",(function(){this.setof(c)})),p=a.define("RDNSequence",(function(){this.seqof(d)})),f=a.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),h=a.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))})),g=a.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=a.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=a.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(e,n,s){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e("evp_bytestokey"),l=e("browserify-aes"),d=e("safe-buffer").Buffer;n.exports=function(p,f){var h,g=p.toString(),y=g.match(a);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),x=d.from(y[3].replace(/[\r\n]/g,""),"base64"),S=u(f,v.slice(0,8),parseInt(y[1],10)).key,C=[],A=l.createDecipheriv(m,S,v);C.push(A.update(x)),C.push(A.final()),h=d.concat(C)}else{var B=g.match(c);h=d.from(B[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var a=e("./asn1"),o=e("./aesid.json"),c=e("./fixProc"),u=e("browserify-aes"),l=e("pbkdf2"),d=e("safe-buffer").Buffer;function p(f){var h;typeof f!="object"||d.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=c(f,h),v=m.tag,x=m.data;switch(v){case"CERTIFICATE":y=a.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=a.PublicKey.decode(x,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=a.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":x=(function(S,C){var A=S.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(S.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=o[S.algorithm.decrypt.cipher.algo.join(".")],R=S.algorithm.decrypt.cipher.iv,I=S.subjectPrivateKey,$=parseInt(q.split("-")[1],10)/8,K=l.pbkdf2Sync(C,A,B,$,"sha1"),U=u.createDecipheriv(q,K,R),P=[];return P.push(U.update(I)),P.push(U.final()),d.concat(P)})(x=a.EncryptedPrivateKey.decode(x,"der"),h);case"PRIVATE KEY":switch(g=(y=a.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:a.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=a.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=a.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=p,p.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(a){(function(){var o,c,u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),f=e("./to-buffer"),h=a.crypto&&a.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return c||(c=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(x,S,C,A,B){return h.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then((function(q){return h.deriveBits({name:"PBKDF2",salt:S,iterations:C,hash:{name:B}},q,A<<3)})).then((function(q){return u.from(q)}))}n.exports=function(x,S,C,A,B,q){typeof B=="function"&&(q=B,B=void 0);var R=g[(B=B||"sha1").toLowerCase()];if(R&&typeof a.Promise=="function"){if(l(C,A),x=f(x,d,"Password"),S=f(S,d,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function(I,$){I.then((function(K){m()((function(){$(null,K)}))}),(function(K){m()((function(){$(K)}))}))})((function(I){if(a.process&&!a.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[I]!==void 0)return y[I];var $=v(o=o||u.alloc(8),o,10,128,I).then((function(){return!0})).catch((function(){return!1}));return y[I]=$,$})(R).then((function(I){return I?v(x,S,C,A,R):p(x,S,C,A,B)})),q)}else m()((function(){var I;try{I=p(x,S,C,A,B)}catch($){return q($)}q(null,I)}))}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(a,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var a=Math.pow(2,30)-1;n.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>a||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var a=e("create-hash/md5"),o=e("ripemd160"),c=e("sha.js"),u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./to-buffer"),f=u.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var x=(function(R){function I($){return c(R).update($).digest()}return R==="rmd160"||R==="ripemd160"?function($){return new o().update($).digest()}:R==="md5"?a:I})(y),S=y==="sha512"||y==="sha384"?128:64;m.length>S?m=x(m):m.length<S&&(m=u.concat([m,f],S));for(var C=u.allocUnsafe(S+h[y]),A=u.allocUnsafe(S+h[y]),B=0;B<S;B++)C[B]=54^m[B],A[B]=92^m[B];var q=u.allocUnsafe(S+v+4);C.copy(q,0,0,S),this.ipad1=q,this.ipad2=C,this.opad=A,this.alg=y,this.blocksize=S,this.hash=x,this.size=h[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,v,x,S){l(v,x);var C=new g(S=S||"sha1",y=p(y,d,"Password"),(m=p(m,d,"Salt")).length),A=u.allocUnsafe(x),B=u.allocUnsafe(m.length+4);m.copy(B,0,0,m.length);for(var q=0,R=h[S],I=Math.ceil(x/R),$=1;$<=I;$++){B.writeUInt32BE($,m.length);for(var K=C.run(B,C.ipad1),U=K,P=1;P<v;P++){U=C.run(U,C.ipad2);for(var L=0;L<R;L++)K[L]^=U[L]}K.copy(A,q),q+=R}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var a=e("safe-buffer").Buffer;n.exports=function(o,c,u){if(a.isBuffer(o))return o;if(typeof o=="string")return a.from(o,c);if(ArrayBuffer.isView(o))return a.from(o.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,c,u,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var d,p,f=arguments.length;switch(f){case 0:case 1:return a.nextTick(o);case 2:return a.nextTick((function(){o.call(null,c)}));case 3:return a.nextTick((function(){o.call(null,c,u)}));case 4:return a.nextTick((function(){o.call(null,c,u,l)}));default:for(d=new Array(f-1),p=0;p<d.length;)d[p++]=arguments[p];return a.nextTick((function(){o.apply(null,d)}))}}}:n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var a,o,c=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function d(S){if(a===setTimeout)return setTimeout(S,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(S,0);try{return a(S,0)}catch{try{return a.call(null,S,0)}catch{return a.call(this,S,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var p,f=[],h=!1,g=-1;function y(){h&&p&&(h=!1,p.length?f=p.concat(f):g=-1,f.length&&m())}function m(){if(!h){var S=d(y);h=!0;for(var C=f.length;C;){for(p=f,f=[];++g<C;)p&&p[g].run();g=-1,C=f.length}p=null,h=!1,(function(A){if(o===clearTimeout)return clearTimeout(A);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}})(S)}}function v(S,C){this.fun=S,this.array=C}function x(){}c.nextTick=function(S){var C=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)C[A-1]=arguments[A];f.push(new v(S,C)),f.length!==1||h||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(a,o){return s.publicEncrypt(a,o,!0)},s.publicDecrypt=function(a,o){return s.privateDecrypt(a,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var a=e("create-hash"),o=e("safe-buffer").Buffer;function c(u){var l=o.allocUnsafe(4);return l.writeUInt32BE(u,0),l}n.exports=function(u,l){for(var d,p=o.alloc(0),f=0;p.length<l;)d=c(f++),p=o.concat([p,a("sha1").update(u).update(d).digest()]);return p.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var a=e("parse-asn1"),o=e("./mgf"),c=e("./xor"),u=e("bn.js"),l=e("browserify-rsa"),d=e("create-hash"),p=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,g,y){var m;m=h.padding?h.padding:y?1:4;var v,x=a(h),S=x.modulus.byteLength();if(g.length>S||new u(g).cmp(x.modulus)>=0)throw new Error("decryption error");v=y?p(new u(g),x):l(g,x);var C=f.alloc(S-v.length);if(v=f.concat([C,v],S),m===4)return(function(A,B){var q=A.modulus.byteLength(),R=d("sha1").update(f.alloc(0)).digest(),I=R.length;if(B[0]!==0)throw new Error("decryption error");var $=B.slice(1,I+1),K=B.slice(I+1),U=c($,o(K,I)),P=c(K,o(U,q-I-1));if((function(T,_){T=f.from(T),_=f.from(_);var k=0,j=T.length;T.length!==_.length&&(k++,j=Math.min(T.length,_.length));for(var N=-1;++N<j;)k+=T[N]^_[N];return k})(R,P.slice(0,I)))throw new Error("decryption error");for(var L=I;P[L]===0;)L++;if(P[L++]!==1)throw new Error("decryption error");return P.slice(L)})(x,v);if(m===1)return(function(A,B,q){for(var R=B.slice(0,2),I=2,$=0;B[I++]!==0;)if(I>=B.length){$++;break}var K=B.slice(2,I-1);if((R.toString("hex")!=="0002"&&!q||R.toString("hex")!=="0001"&&q)&&$++,K.length<8&&$++,$)throw new Error("decryption error");return B.slice(I)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var a=e("parse-asn1"),o=e("randombytes"),c=e("create-hash"),u=e("./mgf"),l=e("./xor"),d=e("bn.js"),p=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var x,S=a(g);if(v===4)x=(function(C,A){var B=C.modulus.byteLength(),q=A.length,R=c("sha1").update(h.alloc(0)).digest(),I=R.length,$=2*I;if(q>B-$-2)throw new Error("message too long");var K=h.alloc(B-q-$-2),U=B-I-1,P=o(I),L=l(h.concat([R,K,h.alloc(1,1),A],U),u(P,U)),T=l(P,u(L,I));return new d(h.concat([h.alloc(1),T,L],B))})(S,y);else if(v===1)x=(function(C,A,B){var q,R=A.length,I=C.modulus.byteLength();if(R>I-11)throw new Error("message too long");return q=B?h.alloc(I-R-3,255):(function($){for(var K,U=h.allocUnsafe($),P=0,L=o(2*$),T=0;P<$;)T===L.length&&(L=o(2*$),T=0),(K=L[T++])&&(U[P++]=K);return U})(I-R-3),new d(h.concat([h.from([0,B?1:2]),q,h.alloc(1),A],I))})(S,y,m);else{if(v!==3)throw new Error("unknown padding");if((x=new d(y)).cmp(S.modulus)>=0)throw new Error("data too long for modulus")}return m?f(x,S):p(x,S)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var a=e("bn.js"),o=e("safe-buffer").Buffer;n.exports=function(c,u){return o.from(c.toRed(a.mont(u.modulus)).redPow(new a(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(a,o){for(var c=a.length,u=-1;++u<c;)a[u]^=o[u];return a}},{}],475:[function(e,n,s){(function(a,o){(function(){var c=e("safe-buffer").Buffer,u=o.crypto||o.msCrypto;u&&u.getRandomValues?n.exports=function(l,d){if(l>4294967295)throw new RangeError("requested too many random bytes");var p=c.allocUnsafe(l);if(l>0)if(l>65536)for(var f=0;f<l;f+=65536)u.getRandomValues(p.slice(f,f+65536));else u.getRandomValues(p);return typeof d=="function"?a.nextTick((function(){d(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(a,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=e("safe-buffer"),l=e("randombytes"),d=u.Buffer,p=u.kMaxLength,f=o.crypto||o.msCrypto,h=Math.pow(2,32)-1;function g(v,x){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>x)throw new RangeError("offset out of range")}function y(v,x,S){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+x>S||v>p)throw new RangeError("buffer too small")}function m(v,x,S,C){if(a.browser){var A=v.buffer,B=new Uint8Array(A,x,S);return f.getRandomValues(B),C?void a.nextTick((function(){C(null,v)})):v}if(!C)return l(S).copy(v,x),v;l(S,(function(q,R){if(q)return C(q);R.copy(v,x),C(null,v)}))}f&&f.getRandomValues||!a.browser?(s.randomFill=function(v,x,S,C){if(!(d.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")C=x,x=0,S=v.length;else if(typeof S=="function")C=S,S=v.length-x;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(x,v.length),y(S,x,v.length),m(v,x,S,C)},s.randomFillSync=function(v,x,S){if(x===void 0&&(x=0),!(d.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(x,v.length),S===void 0&&(S=v.length-x),y(S,x,v.length),m(v,x,S)}):(s.randomFill=c,s.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var a={};function o(u,l,d){d||(d=Error);var p=(function(f){var h,g;function y(m,v,x){return f.call(this,(function(S,C,A){return typeof l=="string"?l:l(S,C,A)})(m,v,x))||this}return g=f,(h=y).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,y})(d);p.prototype.name=d.name,p.prototype.code=u,a[u]=p}function c(u,l){if(Array.isArray(u)){var d=u.length;return u=u.map((function(p){return String(p)})),d>2?"one of ".concat(l," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}return"of ".concat(l," ").concat(String(u))}o("ERR_INVALID_OPT_VALUE",(function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(u,l,d){var p,f,h;if(typeof l=="string"&&(f="not ",l.substr(0,f.length)===f)?(p="must not be",l=l.replace(/^not /,"")):p="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))h="The ".concat(u," ").concat(p," ").concat(c(l,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";h='The "'.concat(u,'" ').concat(g," ").concat(p," ").concat(c(l,"type"))}return h+=". Received type ".concat(typeof d)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(e,n,s){(function(a){(function(){var o=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};n.exports=f;var c=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(f,c);for(var l=o(u.prototype),d=0;d<l.length;d++){var p=l[d];f.prototype[p]||(f.prototype[p]=u.prototype[p])}function f(y){if(!(this instanceof f))return new f(y);c.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||a.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=o;var a=e("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);a.call(this,c)}e("inherits")(o,a),o.prototype._transform=function(c,u,l){l(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(a,o){(function(){var c;n.exports=U,U.ReadableState=K,e("events").EventEmitter;var u=function(W,V){return W.listeners(V).length},l=e("./internal/streams/stream"),d=e("buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,y,m,v=e("./internal/streams/buffer_list"),x=e("./internal/streams/destroy"),S=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,A=C.ERR_INVALID_ARG_TYPE,B=C.ERR_STREAM_PUSH_AFTER_EOF,q=C.ERR_METHOD_NOT_IMPLEMENTED,R=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(U,l);var I=x.errorOrDestroy,$=["error","close","destroy","pause","resume"];function K(W,V,G){c=c||e("./_stream_duplex"),W=W||{},typeof G!="boolean"&&(G=V instanceof c),this.objectMode=!!W.objectMode,G&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=S(this,W,"readableHighWaterMark",G),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(W.encoding),this.encoding=W.encoding)}function U(W){if(c=c||e("./_stream_duplex"),!(this instanceof U))return new U(W);var V=this instanceof c;this._readableState=new K(W,this,V),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),l.call(this)}function P(W,V,G,ae,pe){f("readableAddChunk",V);var ce,ge=W._readableState;if(V===null)ge.reading=!1,(function(ee,oe){if(f("onEofChunk"),!oe.ended){if(oe.decoder){var ne=oe.decoder.end();ne&&ne.length&&(oe.buffer.push(ne),oe.length+=oe.objectMode?1:ne.length)}oe.ended=!0,oe.sync?_(ee):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,k(ee)))}})(W,ge);else if(pe||(ce=(function(ee,oe){var ne;fe=oe,d.isBuffer(fe)||fe instanceof p||typeof oe=="string"||oe===void 0||ee.objectMode||(ne=new A("chunk",["string","Buffer","Uint8Array"],oe));var fe;return ne})(ge,V)),ce)I(W,ce);else if(ge.objectMode||V&&V.length>0)if(typeof V=="string"||ge.objectMode||Object.getPrototypeOf(V)===d.prototype||(V=(function(ee){return d.from(ee)})(V)),ae)ge.endEmitted?I(W,new R):L(W,ge,V,!0);else if(ge.ended)I(W,new B);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!G?(V=ge.decoder.write(V),ge.objectMode||V.length!==0?L(W,ge,V,!1):j(W,ge)):L(W,ge,V,!1)}else ae||(ge.reading=!1,j(W,ge));return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function L(W,V,G,ae){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,W.emit("data",G)):(V.length+=V.objectMode?1:G.length,ae?V.buffer.unshift(G):V.buffer.push(G),V.needReadable&&_(W)),j(W,V)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(W){this._readableState&&(this._readableState.destroyed=W)}}),U.prototype.destroy=x.destroy,U.prototype._undestroy=x.undestroy,U.prototype._destroy=function(W,V){V(W)},U.prototype.push=function(W,V){var G,ae=this._readableState;return ae.objectMode?G=!0:typeof W=="string"&&((V=V||ae.defaultEncoding)!==ae.encoding&&(W=d.from(W,V),V=""),G=!0),P(this,W,V,!1,G)},U.prototype.unshift=function(W){return P(this,W,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(W){g||(g=e("string_decoder/").StringDecoder);var V=new g(W);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,ae="";G!==null;)ae+=V.write(G.data),G=G.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};function T(W,V){return W<=0||V.length===0&&V.ended?0:V.objectMode?1:W!=W?V.flowing&&V.length?V.buffer.head.data.length:V.length:(W>V.highWaterMark&&(V.highWaterMark=(function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(W)),W<=V.length?W:V.ended?V.length:(V.needReadable=!0,0))}function _(W){var V=W._readableState;f("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(f("emitReadable",V.flowing),V.emittedReadable=!0,a.nextTick(k,W))}function k(W){var V=W._readableState;f("emitReadable_",V.destroyed,V.length,V.ended),V.destroyed||!V.length&&!V.ended||(W.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,Q(W)}function j(W,V){V.readingMore||(V.readingMore=!0,a.nextTick(N,W,V))}function N(W,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var G=V.length;if(f("maybeReadMore read 0"),W.read(0),G===V.length)break}V.readingMore=!1}function D(W){var V=W._readableState;V.readableListening=W.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:W.listenerCount("data")>0&&W.resume()}function O(W){f("readable nexttick read 0"),W.read(0)}function z(W,V){f("resume",V.reading),V.reading||W.read(0),V.resumeScheduled=!1,W.emit("resume"),Q(W),V.flowing&&!V.reading&&W.read(0)}function Q(W){var V=W._readableState;for(f("flow",V.flowing);V.flowing&&W.read()!==null;);}function Y(W,V){return V.length===0?null:(V.objectMode?G=V.buffer.shift():!W||W>=V.length?(G=V.decoder?V.buffer.join(""):V.buffer.length===1?V.buffer.first():V.buffer.concat(V.length),V.buffer.clear()):G=V.buffer.consume(W,V.decoder),G);var G}function re(W){var V=W._readableState;f("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,a.nextTick(F,V,W))}function F(W,V){if(f("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,V.readable=!1,V.emit("end"),W.autoDestroy)){var G=V._writableState;(!G||G.autoDestroy&&G.finished)&&V.destroy()}}function Z(W,V){for(var G=0,ae=W.length;G<ae;G++)if(W[G]===V)return G;return-1}U.prototype.read=function(W){f("read",W),W=parseInt(W,10);var V=this._readableState,G=W;if(W!==0&&(V.emittedReadable=!1),W===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return f("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?re(this):_(this),null;if((W=T(W,V))===0&&V.ended)return V.length===0&&re(this),null;var ae,pe=V.needReadable;return f("need readable",pe),(V.length===0||V.length-W<V.highWaterMark)&&f("length less than watermark",pe=!0),V.ended||V.reading?f("reading or ended",pe=!1):pe&&(f("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(W=T(G,V))),(ae=W>0?Y(W,V):null)===null?(V.needReadable=V.length<=V.highWaterMark,W=0):(V.length-=W,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),G!==W&&V.ended&&re(this)),ae!==null&&this.emit("data",ae),ae},U.prototype._read=function(W){I(this,new q("_read()"))},U.prototype.pipe=function(W,V){var G=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=W;break;case 1:ae.pipes=[ae.pipes,W];break;default:ae.pipes.push(W)}ae.pipesCount+=1,f("pipe count=%d opts=%j",ae.pipesCount,V);var pe=(!V||V.end!==!1)&&W!==a.stdout&&W!==a.stderr?ge:te;function ce(se,de){f("onunpipe"),se===G&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,f("cleanup"),W.removeListener("close",le),W.removeListener("finish",ie),W.removeListener("drain",ee),W.removeListener("error",fe),W.removeListener("unpipe",ce),G.removeListener("end",ge),G.removeListener("end",te),G.removeListener("data",ne),oe=!0,!ae.awaitDrain||W._writableState&&!W._writableState.needDrain||ee())}function ge(){f("onend"),W.end()}ae.endEmitted?a.nextTick(pe):G.once("end",pe),W.on("unpipe",ce);var ee=(function(se){return function(){var de=se._readableState;f("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&u(se,"data")&&(de.flowing=!0,Q(se))}})(G);W.on("drain",ee);var oe=!1;function ne(se){f("ondata");var de=W.write(se);f("dest.write",de),de===!1&&((ae.pipesCount===1&&ae.pipes===W||ae.pipesCount>1&&Z(ae.pipes,W)!==-1)&&!oe&&(f("false write response, pause",ae.awaitDrain),ae.awaitDrain++),G.pause())}function fe(se){f("onerror",se),te(),W.removeListener("error",fe),u(W,"error")===0&&I(W,se)}function le(){W.removeListener("finish",ie),te()}function ie(){f("onfinish"),W.removeListener("close",le),te()}function te(){f("unpipe"),G.unpipe(W)}return G.on("data",ne),(function(se,de,me){if(typeof se.prependListener=="function")return se.prependListener(de,me);se._events&&se._events[de]?Array.isArray(se._events[de])?se._events[de].unshift(me):se._events[de]=[me,se._events[de]]:se.on(de,me)})(W,"error",fe),W.once("close",le),W.once("finish",ie),W.emit("pipe",G),ae.flowing||(f("pipe resume"),G.resume()),W},U.prototype.unpipe=function(W){var V=this._readableState,G={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return W&&W!==V.pipes||(W||(W=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,W&&W.emit("unpipe",this,G)),this;if(!W){var ae=V.pipes,pe=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var ce=0;ce<pe;ce++)ae[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var ge=Z(V.pipes,W);return ge===-1||(V.pipes.splice(ge,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),W.emit("unpipe",this,G)),this},U.prototype.on=function(W,V){var G=l.prototype.on.call(this,W,V),ae=this._readableState;return W==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):W==="readable"&&(ae.endEmitted||ae.readableListening||(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,f("on readable",ae.length,ae.reading),ae.length?_(this):ae.reading||a.nextTick(O,this))),G},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(W,V){var G=l.prototype.removeListener.call(this,W,V);return W==="readable"&&a.nextTick(D,this),G},U.prototype.removeAllListeners=function(W){var V=l.prototype.removeAllListeners.apply(this,arguments);return W!=="readable"&&W!==void 0||a.nextTick(D,this),V},U.prototype.resume=function(){var W=this._readableState;return W.flowing||(f("resume"),W.flowing=!W.readableListening,(function(V,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(z,V,G))})(this,W)),W.paused=!1,this},U.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(W){var V=this,G=this._readableState,ae=!1;for(var pe in W.on("end",(function(){if(f("wrapped end"),G.decoder&&!G.ended){var ge=G.decoder.end();ge&&ge.length&&V.push(ge)}V.push(null)})),W.on("data",(function(ge){f("wrapped data"),G.decoder&&(ge=G.decoder.write(ge)),G.objectMode&&ge==null||(G.objectMode||ge&&ge.length)&&(V.push(ge)||(ae=!0,W.pause()))})),W)this[pe]===void 0&&typeof W[pe]=="function"&&(this[pe]=(function(ge){return function(){return W[ge].apply(W,arguments)}})(pe));for(var ce=0;ce<$.length;ce++)W.on($[ce],this.emit.bind(this,$[ce]));return this._read=function(ge){f("wrapped _read",ge),ae&&(ae=!1,W.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(W){this._readableState&&(this._readableState.flowing=W)}}),U._fromList=Y,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(W,V){return m===void 0&&(m=e("./internal/streams/from")),m(U,W,V)})}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=f;var a=e("../errors").codes,o=a.ERR_METHOD_NOT_IMPLEMENTED,c=a.ERR_MULTIPLE_CALLBACK,u=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=a.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");function p(y,m){var v=this._transformState;v.transforming=!1;var x=v.writecb;if(x===null)return this.emit("error",new c);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),x(y);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new l;if(y._transformState.transforming)throw new u;return y.push(null)}e("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new o("_transform()"))},f.prototype._write=function(y,m,v){var x=this._transformState;if(x.writecb=v,x.writechunk=y,x.writeencoding=m,!x.transforming){var S=this._readableState;(x.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(a,o){(function(){function c(N){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(O,z,Q){var Y=O.entry;for(O.entry=null;Y;){var re=Y.callback;z.pendingcb--,re(Q),Y=Y.next}z.corkedRequestsFree.next=O})(D,N)}}var u;n.exports=U,U.WritableState=K;var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),p=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,x=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_STREAM_CANNOT_PIPE,A=m.ERR_STREAM_DESTROYED,B=m.ERR_STREAM_NULL_VALUES,q=m.ERR_STREAM_WRITE_AFTER_END,R=m.ERR_UNKNOWN_ENCODING,I=g.errorOrDestroy;function $(){}function K(N,D,O){u=u||e("./_stream_duplex"),N=N||{},typeof O!="boolean"&&(O=D instanceof u),this.objectMode=!!N.objectMode,O&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=y(this,N,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=N.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){(function(Y,re){var F=Y._writableState,Z=F.sync,W=F.writecb;if(typeof W!="function")throw new S;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(F),re)(function(G,ae,pe,ce,ge){--ae.pendingcb,pe?(a.nextTick(ge,ce),a.nextTick(j,G,ae),G._writableState.errorEmitted=!0,I(G,ce)):(ge(ce),G._writableState.errorEmitted=!0,I(G,ce),j(G,ae))})(Y,F,Z,re,W);else{var V=_(F)||Y.destroyed;V||F.corked||F.bufferProcessing||!F.bufferedRequest||T(Y,F),Z?a.nextTick(L,Y,F,V,W):L(Y,F,V,W)}})(D,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function U(N){var D=this instanceof(u=u||e("./_stream_duplex"));if(!D&&!h.call(U,this))return new U(N);this._writableState=new K(N,this,D),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),d.call(this)}function P(N,D,O,z,Q,Y,re){D.writelen=z,D.writecb=re,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new A("write")):O?N._writev(Q,D.onwrite):N._write(Q,Y,D.onwrite),D.sync=!1}function L(N,D,O,z){O||(function(Q,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,Q.emit("drain"))})(N,D),D.pendingcb--,z(),j(N,D)}function T(N,D){D.bufferProcessing=!0;var O=D.bufferedRequest;if(N._writev&&O&&O.next){var z=D.bufferedRequestCount,Q=new Array(z),Y=D.corkedRequestsFree;Y.entry=O;for(var re=0,F=!0;O;)Q[re]=O,O.isBuf||(F=!1),O=O.next,re+=1;Q.allBuffers=F,P(N,D,!0,D.length,Q,"",Y.finish),D.pendingcb++,D.lastBufferedRequest=null,Y.next?(D.corkedRequestsFree=Y.next,Y.next=null):D.corkedRequestsFree=new c(D),D.bufferedRequestCount=0}else{for(;O;){var Z=O.chunk,W=O.encoding,V=O.callback;if(P(N,D,!1,D.objectMode?1:Z.length,Z,W,V),O=O.next,D.bufferedRequestCount--,D.writing)break}O===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=O,D.bufferProcessing=!1}function _(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function k(N,D){N._final((function(O){D.pendingcb--,O&&I(N,O),D.prefinished=!0,N.emit("prefinish"),j(N,D)}))}function j(N,D){var O=_(D);if(O&&((function(Q,Y){Y.prefinished||Y.finalCalled||(typeof Q._final!="function"||Y.destroyed?(Y.prefinished=!0,Q.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,a.nextTick(k,Q,Y)))})(N,D),D.pendingcb===0&&(D.finished=!0,N.emit("finish"),D.autoDestroy))){var z=N._readableState;(!z||z.autoDestroy&&z.endEmitted)&&N.destroy()}return O}e("inherits")(U,d),K.prototype.getBuffer=function(){for(var N=this.bufferedRequest,D=[];N;)D.push(N),N=N.next;return D},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(N){return!!h.call(this,N)||this===U&&N&&N._writableState instanceof K}})):h=function(N){return N instanceof this},U.prototype.pipe=function(){I(this,new C)},U.prototype.write=function(N,D,O){var z,Q=this._writableState,Y=!1,re=!Q.objectMode&&(z=N,p.isBuffer(z)||z instanceof f);return re&&!p.isBuffer(N)&&(N=(function(F){return p.from(F)})(N)),typeof D=="function"&&(O=D,D=null),re?D="buffer":D||(D=Q.defaultEncoding),typeof O!="function"&&(O=$),Q.ending?(function(F,Z){var W=new q;I(F,W),a.nextTick(Z,W)})(this,O):(re||(function(F,Z,W,V){var G;return W===null?G=new B:typeof W=="string"||Z.objectMode||(G=new v("chunk",["string","Buffer"],W)),!G||(I(F,G),a.nextTick(V,G),!1)})(this,Q,N,O))&&(Q.pendingcb++,Y=(function(F,Z,W,V,G,ae){if(!W){var pe=(function(oe,ne,fe){return oe.objectMode||oe.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,fe)),ne})(Z,V,G);V!==pe&&(W=!0,G="buffer",V=pe)}var ce=Z.objectMode?1:V.length;Z.length+=ce;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var ee=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:V,encoding:G,isBuf:W,callback:ae,next:null},ee?ee.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else P(F,Z,!1,ce,V,G,ae);return ge})(this,Q,re,N,D,O)),Y},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||T(this,N))},U.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new R(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(N,D,O){O(new x("_write()"))},U.prototype._writev=null,U.prototype.end=function(N,D,O){var z=this._writableState;return typeof N=="function"?(O=N,N=null,D=null):typeof D=="function"&&(O=D,D=null),N!=null&&this.write(N,D),z.corked&&(z.corked=1,this.uncork()),z.ending||(function(Q,Y,re){Y.ending=!0,j(Q,Y),re&&(Y.finished?a.nextTick(re):Q.once("finish",re)),Y.ended=!0,Q.writable=!1})(this,z,O),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),U.prototype.destroy=g.destroy,U.prototype._undestroy=g.undestroy,U.prototype._destroy=function(N,D){D(N)}}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(a){(function(){var o;function c(A,B,q){return(B=(function(R){var I=(function($,K){if(typeof $!="object"||$===null)return $;var U=$[Symbol.toPrimitive];if(U!==void 0){var P=U.call($,K);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)($)})(R,"string");return typeof I=="symbol"?I:String(I)})(B))in A?Object.defineProperty(A,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):A[B]=q,A}var u=e("./end-of-stream"),l=Symbol("lastResolve"),d=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(A,B){return{value:A,done:B}}function v(A){var B=A[l];if(B!==null){var q=A[y].read();q!==null&&(A[h]=null,A[l]=null,A[d]=null,B(m(q,!1)))}}function x(A){a.nextTick(v,A)}var S=Object.getPrototypeOf((function(){})),C=Object.setPrototypeOf((c(o={get stream(){return this[y]},next:function(){var A=this,B=this[p];if(B!==null)return Promise.reject(B);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function($,K){a.nextTick((function(){A[p]?K(A[p]):$(m(void 0,!0))}))}));var q,R=this[h];if(R)q=new Promise((function($,K){return function(U,P){$.then((function(){K[f]?U(m(void 0,!0)):K[g](U,P)}),P)}})(R,this));else{var I=this[y].read();if(I!==null)return Promise.resolve(m(I,!1));q=new Promise(this[g])}return this[h]=q,q}},Symbol.asyncIterator,(function(){return this})),c(o,"return",(function(){var A=this;return new Promise((function(B,q){A[y].destroy(null,(function(R){R?q(R):B(m(void 0,!0))}))}))})),o),S);n.exports=function(A){var B,q=Object.create(C,(c(B={},y,{value:A,writable:!0}),c(B,l,{value:null,writable:!0}),c(B,d,{value:null,writable:!0}),c(B,p,{value:null,writable:!0}),c(B,f,{value:A._readableState.endEmitted,writable:!0}),c(B,g,{value:function(R,I){var $=q[y].read();$?(q[h]=null,q[l]=null,q[d]=null,R(m($,!1))):(q[l]=R,q[d]=I)},writable:!0}),B));return q[h]=null,u(A,(function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=q[d];return I!==null&&(q[h]=null,q[l]=null,q[d]=null,I(R)),void(q[p]=R)}var $=q[l];$!==null&&(q[h]=null,q[l]=null,q[d]=null,$(m(void 0,!0))),q[f]=!0})),A.on("readable",x.bind(null,q)),q}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function a(h,g){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable}))),y.push.apply(y,m)}return y}function o(h){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?a(Object(y),!0).forEach((function(m){c(h,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach((function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))}))}return h}function c(h,g,y){return(g=l(g))in h?Object.defineProperty(h,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[g]=y,h}function u(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,l(m.key),m)}}function l(h){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var x=v.call(y,m);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(h,"string");return typeof g=="symbol"?g:String(g)}var d=e("buffer").Buffer,p=e("util").inspect,f=p&&p.custom||"inspect";n.exports=(function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,y;return g=h,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=m+v.data;return x}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,x,S,C=d.allocUnsafe(m>>>0),A=this.head,B=0;A;)v=A.data,x=C,S=B,d.prototype.copy.call(v,x,S),B+=A.data.length,A=A.next;return C}},{key:"consume",value:function(m,v){var x;return m<this.head.data.length?(x=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):x=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,x=1,S=v.data;for(m-=S.length;v=v.next;){var C=v.data,A=m>C.length?C.length:m;if(A===C.length?S+=C:S+=C.slice(0,m),(m-=A)==0){A===C.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=C.slice(A));break}++x}return this.length-=x,S}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),x=this.head,S=1;for(x.data.copy(v),m-=x.data.length;x=x.next;){var C=x.data,A=m>C.length?C.length:m;if(C.copy(v,v.length-m,0,A),(m-=A)==0){A===C.length?(++S,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=C.slice(A));break}++S}return this.length-=S,v}},{key:f,value:function(m,v){return p(this,o(o({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(e,n,s){(function(a){(function(){function o(l,d){u(l,d),c(l)}function c(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(l,d){l.emit("error",d)}n.exports={destroy:function(l,d){var p=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(d?d(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(u,this,l)):a.nextTick(u,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(g){!d&&g?p._writableState?p._writableState.errorEmitted?a.nextTick(c,p):(p._writableState.errorEmitted=!0,a.nextTick(o,p,g)):a.nextTick(o,p,g):d?(a.nextTick(c,p),d(g)):a.nextTick(c,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,d){var p=l._readableState,f=l._writableState;p&&p.autoDestroy||f&&f.autoDestroy?l.destroy(d):l.emit("error",d)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function c(u,l,d){if(typeof l=="function")return c(u,null,l);l||(l={}),d=(function(A){var B=!1;return function(){if(!B){B=!0;for(var q=arguments.length,R=new Array(q),I=0;I<q;I++)R[I]=arguments[I];A.apply(this,R)}}})(d||o);var p=l.readable||l.readable!==!1&&u.readable,f=l.writable||l.writable!==!1&&u.writable,h=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,p||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){p=!1,m=!0,f||d.call(u)},x=function(A){d.call(u,A)},S=function(){var A;return p&&!m?(u._readableState&&u._readableState.ended||(A=new a),d.call(u,A)):f&&!g?(u._writableState&&u._writableState.ended||(A=new a),d.call(u,A)):void 0},C=function(){u.req.on("finish",y)};return(function(A){return A.setHeader&&typeof A.abort=="function"})(u)?(u.on("complete",y),u.on("abort",S),u.req?C():u.on("request",C)):f&&!u._writableState&&(u.on("end",h),u.on("close",h)),u.on("end",v),u.on("finish",y),l.error!==!1&&u.on("error",x),u.on("close",S),function(){u.removeListener("complete",y),u.removeListener("abort",S),u.removeListener("request",C),u.req&&u.req.removeListener("finish",y),u.removeListener("end",h),u.removeListener("close",h),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",x),u.removeListener("close",S)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var a,o=e("../../../errors").codes,c=o.ERR_MISSING_ARGS,u=o.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function d(g,y,m,v){v=(function(C){var A=!1;return function(){A||(A=!0,C.apply(void 0,arguments))}})(v);var x=!1;g.on("close",(function(){x=!0})),a===void 0&&(a=e("./end-of-stream")),a(g,{readable:y,writable:m},(function(C){if(C)return v(C);x=!0,v()}));var S=!1;return function(C){if(!x&&!S)return S=!0,(function(A){return A.setHeader&&typeof A.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(C||new u("pipe"))}}function p(g){g()}function f(g,y){return g.pipe(y)}function h(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,x=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new c("streams");var S=y.map((function(C,A){var B=A<y.length-1;return d(C,B,A>0,(function(q){v||(v=q),q&&S.forEach(p),B||(S.forEach(p),x(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,c,u,l){var d=(function(p,f,h){return p.highWaterMark!=null?p.highWaterMark:f?p[h]:null})(c,l,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(l?u:"highWaterMark",d);return Math.floor(d)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var a=(function(o){var c=Object.prototype,u=c.hasOwnProperty,l=Object.defineProperty||function(j,N,D){j[N]=D.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",h=d.toStringTag||"@@toStringTag";function g(j,N,D){return Object.defineProperty(j,N,{value:D,enumerable:!0,configurable:!0,writable:!0}),j[N]}try{g({},"")}catch{g=function(N,D,O){return N[D]=O}}function y(j,N,D,O){var z=N&&N.prototype instanceof x?N:x,Q=Object.create(z.prototype),Y=new T(O||[]);return l(Q,"_invoke",{value:K(j,D,Y)}),Q}function m(j,N,D){try{return{type:"normal",arg:j.call(N,D)}}catch(O){return{type:"throw",arg:O}}}o.wrap=y;var v={};function x(){}function S(){}function C(){}var A={};g(A,p,(function(){return this}));var B=Object.getPrototypeOf,q=B&&B(B(_([])));q&&q!==c&&u.call(q,p)&&(A=q);var R=C.prototype=x.prototype=Object.create(A);function I(j){["next","throw","return"].forEach((function(N){g(j,N,(function(D){return this._invoke(N,D)}))}))}function $(j,N){var D;l(this,"_invoke",{value:function(O,z){function Q(){return new N((function(Y,re){(function F(Z,W,V,G){var ae=m(j[Z],j,W);if(ae.type!=="throw"){var pe=ae.arg,ce=pe.value;return ce&&typeof ce=="object"&&u.call(ce,"__await")?N.resolve(ce.__await).then((function(ge){F("next",ge,V,G)}),(function(ge){F("throw",ge,V,G)})):N.resolve(ce).then((function(ge){pe.value=ge,V(pe)}),(function(ge){return F("throw",ge,V,G)}))}G(ae.arg)})(O,z,Y,re)}))}return D=D?D.then(Q,Q):Q()}})}function K(j,N,D){var O="suspendedStart";return function(z,Q){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(z==="throw")throw Q;return k()}for(D.method=z,D.arg=Q;;){var Y=D.delegate;if(Y){var re=U(Y,D);if(re){if(re===v)continue;return re}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(O==="suspendedStart")throw O="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);O="executing";var F=m(j,N,D);if(F.type==="normal"){if(O=D.done?"completed":"suspendedYield",F.arg===v)continue;return{value:F.arg,done:D.done}}F.type==="throw"&&(O="completed",D.method="throw",D.arg=F.arg)}}}function U(j,N){var D=N.method,O=j.iterator[D];if(O===void 0)return N.delegate=null,D==="throw"&&j.iterator.return&&(N.method="return",N.arg=void 0,U(j,N),N.method==="throw")||D!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var z=m(O,j.iterator,N.arg);if(z.type==="throw")return N.method="throw",N.arg=z.arg,N.delegate=null,v;var Q=z.arg;return Q?Q.done?(N[j.resultName]=Q.value,N.next=j.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,v):Q:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,v)}function P(j){var N={tryLoc:j[0]};1 in j&&(N.catchLoc=j[1]),2 in j&&(N.finallyLoc=j[2],N.afterLoc=j[3]),this.tryEntries.push(N)}function L(j){var N=j.completion||{};N.type="normal",delete N.arg,j.completion=N}function T(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(P,this),this.reset(!0)}function _(j){if(j){var N=j[p];if(N)return N.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var D=-1,O=function z(){for(;++D<j.length;)if(u.call(j,D))return z.value=j[D],z.done=!1,z;return z.value=void 0,z.done=!0,z};return O.next=O}}return{next:k}}function k(){return{value:void 0,done:!0}}return S.prototype=C,l(R,"constructor",{value:C,configurable:!0}),l(C,"constructor",{value:S,configurable:!0}),S.displayName=g(C,h,"GeneratorFunction"),o.isGeneratorFunction=function(j){var N=typeof j=="function"&&j.constructor;return!!N&&(N===S||(N.displayName||N.name)==="GeneratorFunction")},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,C):(j.__proto__=C,g(j,h,"GeneratorFunction")),j.prototype=Object.create(R),j},o.awrap=function(j){return{__await:j}},I($.prototype),g($.prototype,f,(function(){return this})),o.AsyncIterator=$,o.async=function(j,N,D,O,z){z===void 0&&(z=Promise);var Q=new $(y(j,N,D,O),z);return o.isGeneratorFunction(N)?Q:Q.next().then((function(Y){return Y.done?Y.value:Q.next()}))},I(R),g(R,h,"Generator"),g(R,p,(function(){return this})),g(R,"toString",(function(){return"[object Generator]"})),o.keys=function(j){var N=Object(j),D=[];for(var O in N)D.push(O);return D.reverse(),function z(){for(;D.length;){var Q=D.pop();if(Q in N)return z.value=Q,z.done=!1,z}return z.done=!0,z}},o.values=_,T.prototype={constructor:T,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!j)for(var N in this)N.charAt(0)==="t"&&u.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var N=this;function D(F,Z){return Q.type="throw",Q.arg=j,N.next=F,Z&&(N.method="next",N.arg=void 0),!!Z}for(var O=this.tryEntries.length-1;O>=0;--O){var z=this.tryEntries[O],Q=z.completion;if(z.tryLoc==="root")return D("end");if(z.tryLoc<=this.prev){var Y=u.call(z,"catchLoc"),re=u.call(z,"finallyLoc");if(Y&&re){if(this.prev<z.catchLoc)return D(z.catchLoc,!0);if(this.prev<z.finallyLoc)return D(z.finallyLoc)}else if(Y){if(this.prev<z.catchLoc)return D(z.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return D(z.finallyLoc)}}}},abrupt:function(j,N){for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D];if(O.tryLoc<=this.prev&&u.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var z=O;break}}z&&(j==="break"||j==="continue")&&z.tryLoc<=N&&N<=z.finallyLoc&&(z=null);var Q=z?z.completion:{};return Q.type=j,Q.arg=N,z?(this.method="next",this.next=z.finallyLoc,v):this.complete(Q)},complete:function(j,N){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&N&&(this.next=N),v},finish:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.finallyLoc===j)return this.complete(D.completion,D.afterLoc),L(D),v}},catch:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc===j){var O=D.completion;if(O.type==="throw"){var z=O.arg;L(D)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(j,N,D){return this.delegate={iterator:_(j),resultName:N,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},o})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(e,n,s){var a=e("buffer").Buffer,o=e("inherits"),c=e("hash-base"),u=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(B,q){return B<<q|B>>>32-q}function v(B,q,R,I,$,K,U,P){return m(B+(q^R^I)+K+U|0,P)+$|0}function x(B,q,R,I,$,K,U,P){return m(B+(q&R|~q&I)+K+U|0,P)+$|0}function S(B,q,R,I,$,K,U,P){return m(B+((q|~R)^I)+K+U|0,P)+$|0}function C(B,q,R,I,$,K,U,P){return m(B+(q&I|R&~I)+K+U|0,P)+$|0}function A(B,q,R,I,$,K,U,P){return m(B+(q^(R|~I))+K+U|0,P)+$|0}o(y,c),y.prototype._update=function(){for(var B=u,q=0;q<16;++q)B[q]=this._block.readInt32LE(4*q);for(var R=0|this._a,I=0|this._b,$=0|this._c,K=0|this._d,U=0|this._e,P=0|this._a,L=0|this._b,T=0|this._c,_=0|this._d,k=0|this._e,j=0;j<80;j+=1){var N,D;j<16?(N=v(R,I,$,K,U,B[l[j]],h[0],p[j]),D=A(P,L,T,_,k,B[d[j]],g[0],f[j])):j<32?(N=x(R,I,$,K,U,B[l[j]],h[1],p[j]),D=C(P,L,T,_,k,B[d[j]],g[1],f[j])):j<48?(N=S(R,I,$,K,U,B[l[j]],h[2],p[j]),D=S(P,L,T,_,k,B[d[j]],g[2],f[j])):j<64?(N=C(R,I,$,K,U,B[l[j]],h[3],p[j]),D=x(P,L,T,_,k,B[d[j]],g[3],f[j])):(N=A(R,I,$,K,U,B[l[j]],h[4],p[j]),D=v(P,L,T,_,k,B[d[j]],g[4],f[j])),R=U,U=K,K=m($,10),$=I,I=N,P=k,k=_,_=m(T,10),T=L,L=D}var O=this._b+$+_|0;this._b=this._c+K+k|0,this._c=this._d+U+P|0,this._d=this._e+R+L|0,this._e=this._a+I+T|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=a.alloc?a.alloc(20):new a(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=e("buffer"),o=a.Buffer;function c(l,d){for(var p in l)d[p]=l[p]}function u(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(c(a,s),s.Buffer=u),u.prototype=Object.create(o.prototype),c(o,u),u.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},u.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}},{buffer:220}],495:[function(e,n,s){(function(a){(function(){var o,c=e("buffer"),u=c.Buffer,l={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=c[o]);var d=l.Buffer={};for(o in u)u.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(d[o]=u[o]);if(l.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(p,f,h){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return u(p,f,h)}),d.alloc||(d.alloc=function(p,f,h){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var g=u(p);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const a=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var u=a.isS,l=a.isChar,d=a.isNameStartChar,p=a.isNameChar,f=a.S_LIST,h=a.NAME_RE,g=o.isChar,y=c.isNCNameStartChar,m=c.isNCNameChar,v=c.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:x,xmlns:S},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=_=>_===34||_===39,q=[34,39],R=[...q,91,62],I=[...q,60,93],$=[61,63,...f],K=[...f,62,38,60];function U(_,k,j){switch(k){case"xml":j!==x&&_.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":j!==S&&_.fail(`xmlns prefix must be bound to ${S}.`)}switch(j){case S:_.fail(k===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${S}.`);break;case x:switch(k){case"xml":break;case"":_.fail(`the default namespace may not be set to ${j}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const P=_=>v.test(_),L=_=>h.test(_);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const T={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=y,this.nameCheck=m,this.isName=P,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const j=this.opt.additionalNamespaces;j!=null&&((function(N,D){for(const O of Object.keys(D))U(N,O,D[O])})(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=d,this.nameCheck=p,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,k){this[T[_]]=k}off(_){this[T[_]]=void 0}makeError(_){var k;let j=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+_)}fail(_){const k=this.makeError(_),j=this.errorHandler;if(j===void 0)throw k;return j(k),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;_===null?(k=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let j=_.length;const N=_.charCodeAt(j-1);!k&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=_[j-1],j--,_=_.slice(0,j));const{stateTable:D}=this;for(this.chunk=_,this.i=0;this.i<j;)D[this.state].call(this);return this.chunkPosition+=j,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const j=_.charCodeAt(k);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const j=_.charCodeAt(k);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=_.charCodeAt(k+1);D!==10&&D!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:k}=this;const{chunk:j}=this;for(;;){const N=this.getCode(),D=N===-2,O=D?10:N;if(O===-1||_.includes(O))return this.text+=j.slice(k,this.prevI),O;D&&(this.text+=j.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(_){let{i:k}=this;const{chunk:j}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=j.slice(k,this.prevI)+`
`,k=this.i,N=10;break;case-1:return this.text+=j.slice(k),!1}if(N===_)return this.text+=j.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:_,i:k}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=_.slice(k),-1;if(!p(j))return this.name+=_.slice(k,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!u(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,k=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const k=this.captureTo(R);switch(k){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:B(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(I);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:B(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=_;this.text+=_,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:j}=this,N=this.entity+k.slice(_,this.prevI);let D;this.state=j,N===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(N),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=k.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const k=this.getCodeNorm();k===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const k=this.getCodeNorm();switch(k){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||u(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:k}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=_.slice(k));if(!this.nameCheck(j)){this.piTarget+=_.slice(k,this.prevI);const N=j===63;N||u(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:u(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const k=this.getCodeNorm();if(k===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo($);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(B(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=k;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(u(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const k=this.captureNameChars();if(k===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:u(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:u(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();B(_)?(this.q=_,this.state=40):u(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:k}=this;let{i:j}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+k.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=k.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(j))}}sAttribValueClosed(){const _=this.getCodeNorm();u(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(K);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():u(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:k}=this;const{chunk:j,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:D}=this,O=j.slice(_,this.prevI);D.length!==0?(N(D+O),this.text=""):O.length!==0&&N(O)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=j.slice(_,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:N!==void 0&&(this.text+=j.slice(_,this.prevI)+`
`),_=this.i,k=0;break;case-1:N!==void 0&&(this.text+=j.slice(_));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:_}=this;const{chunk:k,textHandler:j}=this;let N=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,j!==void 0){const{text:O}=this,z=k.slice(_,this.prevI);O.length!==0?(j(O+z),this.text=""):z.length!==0&&j(z)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=k.slice(_,this.prevI)),N=!0;break e;case-2:j!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i;break;case-1:j!==void 0&&(this.text+=k.slice(_));break e;default:u(D)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,k){var j;const{prefix:N,local:D}=this.qname(_),O={name:_,prefix:N,local:D,value:k};if(this.attribList.push(O),(j=this.attributeHandler)===null||j===void 0||j.call(this,O),N==="xmlns"){const z=k.trim();this.currentXMLVersion==="1.0"&&z===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=z,U(this,D,z)}else if(_==="xmlns"){const z=k.trim();this.topNS[""]=z,U(this,"",z)}}pushAttribPlain(_,k){var j;const N={name:_,value:k};this.attribList.push(N),(j=this.attributeHandler)===null||j===void 0||j.call(this,N)}end(){var _,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const D=j.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,N),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(_){var k,j;let N=this.topNS[_];if(N!==void 0)return N;const{tags:D}=this;for(let O=D.length-1;O>=0;O--)if(N=D[O].ns[_],N!==void 0)return N;return N=this.ns[_],N!==void 0?N:(j=(k=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(k,_)}qname(_){const k=_.indexOf(":");if(k===-1)return{prefix:"",local:_};const j=_.slice(k+1),N=_.slice(0,k);return(N===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:N,local:j}}processAttribsNS(){var _;const{attribList:k}=this,j=this.tag;{const{prefix:O,local:z}=this.qname(j.name);j.prefix=O,j.local=z;const Q=j.uri=(_=this.resolve(O))!==null&&_!==void 0?_:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),j.uri=O))}if(k.length===0)return;const{attributes:N}=j,D=new Set;for(const O of k){const{name:z,prefix:Q,local:Y}=O;let re,F;Q===""?(re=z==="xmlns"?S:"",F=z):(re=this.resolve(Q),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Q)}.`),re=Q),F=`{${re}}${Y}`),D.has(F)&&this.fail(`duplicate attribute: ${F}.`),D.add(F),O.uri=re,N[z]=O}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,k=this.tag.attributes;for(const{name:j,value:N}of _)k[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),k[j]=N;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:k}=this,j=this.tag;j.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,j),k.push(j),this.state=13,this.name=""}openSelfClosingTag(){var _,k,j;this.processAttribs();const{tags:N}=this,D=this.tag;D.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,D),(k=this.closeTagHandler)===null||k===void 0||k.call(this,D),(this.tag=(j=N[N.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let N=_.length;for(;N-- >0;){const D=this.tag=_.pop();if(this.topNS=D.ns,j?.(D),D.name===k)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(_){if(_[0]!=="#"){const j=this.ENTITIES[_];return j!==void 0?j:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let k=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?k=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(k=parseInt(_.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var a=e("safe-buffer").Buffer;function o(c,u){this._block=a.alloc(c),this._finalSize=u,this._blockSize=c,this._len=0}o.prototype.update=function(c,u){typeof c=="string"&&(u=u||"utf8",c=a.from(c,u));for(var l=this._block,d=this._blockSize,p=c.length,f=this._len,h=0;h<p;){for(var g=f%d,y=Math.min(p-h,d-g),m=0;m<y;m++)l[g+m]=c[h+m];h+=y,(f+=y)%d==0&&this._update(l)}return this._len+=p,this},o.prototype.digest=function(c){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var d=(4294967295&l)>>>0,p=(l-d)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return c?f.toString(c):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(e,n,s){var a=n.exports=function(o){o=o.toLowerCase();var c=a[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};a.sha=e("./sha"),a.sha1=e("./sha1"),a.sha224=e("./sha224"),a.sha256=e("./sha256"),a.sha384=e("./sha384"),a.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(h){return h<<30|h>>>2}function f(h,g,y,m){return h===0?g&y|~g&m:h===2?g&y|g&m|y&m:g^y^m}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(h){for(var g,y=this._w,m=0|this._a,v=0|this._b,x=0|this._c,S=0|this._d,C=0|this._e,A=0;A<16;++A)y[A]=h.readInt32BE(4*A);for(;A<80;++A)y[A]=y[A-3]^y[A-8]^y[A-14]^y[A-16];for(var B=0;B<80;++B){var q=~~(B/20),R=0|((g=m)<<5|g>>>27)+f(q,v,x,S)+C+y[B]+u[q];C=S,S=x,x=p(v),v=m,m=R}this._a=m+this._a|0,this._b=v+this._b|0,this._c=x+this._c|0,this._d=S+this._d|0,this._e=C+this._e|0},d.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,x=0|this._b,S=0|this._c,C=0|this._d,A=0|this._e,B=0;B<16;++B)m[B]=g.readInt32BE(4*B);for(;B<80;++B)m[B]=(y=m[B-3]^m[B-8]^m[B-14]^m[B-16])<<1|y>>>31;for(var q=0;q<80;++q){var R=~~(q/20),I=p(v)+h(R,x,S,C)+A+m[q]+u[R]|0;A=C,C=S,S=f(x),x=v,v=I}this._a=v+this._a|0,this._b=x+this._b|0,this._c=S+this._c|0,this._d=C+this._d|0,this._e=A+this._e|0},d.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var a=e("inherits"),o=e("./sha256"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(64);function d(){this.init(),this._w=l,c.call(this,64,56)}a(d,o),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(m,v,x){return x^m&(v^x)}function f(m,v,x){return m&v|x&(m|v)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(d,o),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,x=this._w,S=0|this._a,C=0|this._b,A=0|this._c,B=0|this._d,q=0|this._e,R=0|this._f,I=0|this._g,$=0|this._h,K=0;K<16;++K)x[K]=m.readInt32BE(4*K);for(;K<64;++K)x[K]=0|(((v=x[K-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+x[K-7]+y(x[K-15])+x[K-16];for(var U=0;U<64;++U){var P=$+g(q)+p(q,R,I)+u[U]+x[U]|0,L=h(S)+f(S,C,A)|0;$=I,I=R,R=q,q=B+P|0,B=A,A=C,C=S,S=P+L|0}this._a=S+this._a|0,this._b=C+this._b|0,this._c=A+this._c|0,this._d=B+this._d|0,this._e=q+this._e|0,this._f=R+this._f|0,this._g=I+this._g|0,this._h=$+this._h|0},d.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var a=e("inherits"),o=e("./sha512"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(160);function d(){this.init(),this._w=l,c.call(this,128,112)}a(d,o),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(48);function f(h,g,y){p.writeInt32BE(h,y),p.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),p},n.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function d(){this.init(),this._w=l,o.call(this,128,112)}function p(C,A,B){return B^C&(A^B)}function f(C,A,B){return C&A|B&(C|A)}function h(C,A){return(C>>>28|A<<4)^(A>>>2|C<<30)^(A>>>7|C<<25)}function g(C,A){return(C>>>14|A<<18)^(C>>>18|A<<14)^(A>>>9|C<<23)}function y(C,A){return(C>>>1|A<<31)^(C>>>8|A<<24)^C>>>7}function m(C,A){return(C>>>1|A<<31)^(C>>>8|A<<24)^(C>>>7|A<<25)}function v(C,A){return(C>>>19|A<<13)^(A>>>29|C<<3)^C>>>6}function x(C,A){return(C>>>19|A<<13)^(A>>>29|C<<3)^(C>>>6|A<<26)}function S(C,A){return C>>>0<A>>>0?1:0}a(d,o),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(C){for(var A=this._w,B=0|this._ah,q=0|this._bh,R=0|this._ch,I=0|this._dh,$=0|this._eh,K=0|this._fh,U=0|this._gh,P=0|this._hh,L=0|this._al,T=0|this._bl,_=0|this._cl,k=0|this._dl,j=0|this._el,N=0|this._fl,D=0|this._gl,O=0|this._hl,z=0;z<32;z+=2)A[z]=C.readInt32BE(4*z),A[z+1]=C.readInt32BE(4*z+4);for(;z<160;z+=2){var Q=A[z-30],Y=A[z-30+1],re=y(Q,Y),F=m(Y,Q),Z=v(Q=A[z-4],Y=A[z-4+1]),W=x(Y,Q),V=A[z-14],G=A[z-14+1],ae=A[z-32],pe=A[z-32+1],ce=F+G|0,ge=re+V+S(ce,F)|0;ge=(ge=ge+Z+S(ce=ce+W|0,W)|0)+ae+S(ce=ce+pe|0,pe)|0,A[z]=ge,A[z+1]=ce}for(var ee=0;ee<160;ee+=2){ge=A[ee],ce=A[ee+1];var oe=f(B,q,R),ne=f(L,T,_),fe=h(B,L),le=h(L,B),ie=g($,j),te=g(j,$),se=u[ee],de=u[ee+1],me=p($,K,U),ke=p(j,N,D),Ce=O+te|0,Fe=P+ie+S(Ce,O)|0;Fe=(Fe=(Fe=Fe+me+S(Ce=Ce+ke|0,ke)|0)+se+S(Ce=Ce+de|0,de)|0)+ge+S(Ce=Ce+ce|0,ce)|0;var Ie=le+ne|0,Ue=fe+oe+S(Ie,le)|0;P=U,O=D,U=K,D=N,K=$,N=j,$=I+Fe+S(j=k+Ce|0,k)|0,I=R,k=_,R=q,_=T,q=B,T=L,B=Fe+Ue+S(L=Ce+Ie|0,Ce)|0}this._al=this._al+L|0,this._bl=this._bl+T|0,this._cl=this._cl+_|0,this._dl=this._dl+k|0,this._el=this._el+j|0,this._fl=this._fl+N|0,this._gl=this._gl+D|0,this._hl=this._hl+O|0,this._ah=this._ah+B+S(this._al,L)|0,this._bh=this._bh+q+S(this._bl,T)|0,this._ch=this._ch+R+S(this._cl,_)|0,this._dh=this._dh+I+S(this._dl,k)|0,this._eh=this._eh+$+S(this._el,j)|0,this._fh=this._fh+K+S(this._fl,N)|0,this._gh=this._gh+U+S(this._gl,D)|0,this._hh=this._hh+P+S(this._hl,O)|0},d.prototype._hash=function(){var C=c.allocUnsafe(64);function A(B,q,R){C.writeInt32BE(B,R),C.writeInt32BE(q,R+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),C},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=o;var a=e("events").EventEmitter;function o(){a.call(this)}e("inherits")(o,a),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,u){var l=this;function d(v){c.writable&&c.write(v)===!1&&l.pause&&l.pause()}function p(){l.readable&&l.resume&&l.resume()}l.on("data",d),c.on("drain",p),c._isStdio||u&&u.end===!1||(l.on("end",h),l.on("close",g));var f=!1;function h(){f||(f=!0,c.end())}function g(){f||(f=!0,typeof c.destroy=="function"&&c.destroy())}function y(v){if(m(),a.listenerCount(this,"error")===0)throw v}function m(){l.removeListener("data",d),c.removeListener("drain",p),l.removeListener("end",h),l.removeListener("close",g),l.removeListener("error",y),c.removeListener("error",y),l.removeListener("end",m),l.removeListener("close",m),c.removeListener("close",m)}return l.on("error",y),c.on("error",y),l.on("end",m),l.on("close",m),c.on("close",m),c.emit("pipe",l),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var a={}.toString;n.exports=Array.isArray||function(o){return a.call(o)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var a=e("process-nextick-args"),o=Object.keys||function(m){var v=[];for(var x in m)v.push(x);return v};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u=e("./_stream_readable"),l=e("./_stream_writable");c.inherits(h,u);for(var d=o(l.prototype),p=0;p<d.length;p++){var f=d[p];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),l.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||a.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,v){this.push(null),this.end(),a.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=c;var a=e("./_stream_transform"),o=Object.create(e("core-util-is"));function c(u){if(!(this instanceof c))return new c(u);a.call(this,u)}o.inherits=e("inherits"),o.inherits(c,a),c.prototype._transform=function(u,l,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(a,o){(function(){var c=e("process-nextick-args");n.exports=B;var u,l=e("isarray");B.ReadableState=A,e("events").EventEmitter;var d=function(O,z){return O.listeners(z).length},p=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var y=e("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,x=e("./internal/streams/BufferList"),S=e("./internal/streams/destroy");g.inherits(B,p);var C=["error","close","destroy","pause","resume"];function A(O,z){O=O||{};var Q=z instanceof(u=u||e("./_stream_duplex"));this.objectMode=!!O.objectMode,Q&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var Y=O.highWaterMark,re=O.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:Q&&(re||re===0)?re:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function B(O){if(u=u||e("./_stream_duplex"),!(this instanceof B))return new B(O);this._readableState=new A(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),p.call(this)}function q(O,z,Q,Y,re){var F,Z=O._readableState;return z===null?(Z.reading=!1,(function(W,V){if(!V.ended){if(V.decoder){var G=V.decoder.end();G&&G.length&&(V.buffer.push(G),V.length+=V.objectMode?1:G.length)}V.ended=!0,$(W)}})(O,Z)):(re||(F=(function(W,V){var G;ae=V,f.isBuffer(ae)||ae instanceof h||typeof V=="string"||V===void 0||W.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var ae;return G})(Z,z)),F?O.emit("error",F):Z.objectMode||z&&z.length>0?(typeof z=="string"||Z.objectMode||Object.getPrototypeOf(z)===f.prototype||(z=(function(W){return f.from(W)})(z)),Y?Z.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):R(O,Z,z,!0):Z.ended?O.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!Q?(z=Z.decoder.write(z),Z.objectMode||z.length!==0?R(O,Z,z,!1):U(O,Z)):R(O,Z,z,!1))):Y||(Z.reading=!1)),(function(W){return!W.ended&&(W.needReadable||W.length<W.highWaterMark||W.length===0)})(Z)}function R(O,z,Q,Y){z.flowing&&z.length===0&&!z.sync?(O.emit("data",Q),O.read(0)):(z.length+=z.objectMode?1:Q.length,Y?z.buffer.unshift(Q):z.buffer.push(Q),z.needReadable&&$(O)),U(O,z)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),B.prototype.destroy=S.destroy,B.prototype._undestroy=S.undestroy,B.prototype._destroy=function(O,z){this.push(null),z(O)},B.prototype.push=function(O,z){var Q,Y=this._readableState;return Y.objectMode?Q=!0:typeof O=="string"&&((z=z||Y.defaultEncoding)!==Y.encoding&&(O=f.from(O,z),z=""),Q=!0),q(this,O,z,!1,Q)},B.prototype.unshift=function(O){return q(this,O,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(O){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};function I(O,z){return O<=0||z.length===0&&z.ended?0:z.objectMode?1:O!=O?z.flowing&&z.length?z.buffer.head.data.length:z.length:(O>z.highWaterMark&&(z.highWaterMark=(function(Q){return Q>=8388608?Q=8388608:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(O)),O<=z.length?O:z.ended?z.length:(z.needReadable=!0,0))}function $(O){var z=O._readableState;z.needReadable=!1,z.emittedReadable||(m("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?c.nextTick(K,O):K(O))}function K(O){m("emit readable"),O.emit("readable"),_(O)}function U(O,z){z.readingMore||(z.readingMore=!0,c.nextTick(P,O,z))}function P(O,z){for(var Q=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(m("maybeReadMore read 0"),O.read(0),Q!==z.length);)Q=z.length;z.readingMore=!1}function L(O){m("readable nexttick read 0"),O.read(0)}function T(O,z){z.reading||(m("resume read 0"),O.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,O.emit("resume"),_(O),z.flowing&&!z.reading&&O.read(0)}function _(O){var z=O._readableState;for(m("flow",z.flowing);z.flowing&&O.read()!==null;);}function k(O,z){return z.length===0?null:(z.objectMode?Q=z.buffer.shift():!O||O>=z.length?(Q=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.head.data:z.buffer.concat(z.length),z.buffer.clear()):Q=(function(Y,re,F){var Z;return Y<re.head.data.length?(Z=re.head.data.slice(0,Y),re.head.data=re.head.data.slice(Y)):Z=Y===re.head.data.length?re.shift():F?(function(W,V){var G=V.head,ae=1,pe=G.data;for(W-=pe.length;G=G.next;){var ce=G.data,ge=W>ce.length?ce.length:W;if(ge===ce.length?pe+=ce:pe+=ce.slice(0,W),(W-=ge)===0){ge===ce.length?(++ae,G.next?V.head=G.next:V.head=V.tail=null):(V.head=G,G.data=ce.slice(ge));break}++ae}return V.length-=ae,pe})(Y,re):(function(W,V){var G=f.allocUnsafe(W),ae=V.head,pe=1;for(ae.data.copy(G),W-=ae.data.length;ae=ae.next;){var ce=ae.data,ge=W>ce.length?ce.length:W;if(ce.copy(G,G.length-W,0,ge),(W-=ge)===0){ge===ce.length?(++pe,ae.next?V.head=ae.next:V.head=V.tail=null):(V.head=ae,ae.data=ce.slice(ge));break}++pe}return V.length-=pe,G})(Y,re),Z})(O,z.buffer,z.decoder),Q);var Q}function j(O){var z=O._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,c.nextTick(N,z,O))}function N(O,z){O.endEmitted||O.length!==0||(O.endEmitted=!0,z.readable=!1,z.emit("end"))}function D(O,z){for(var Q=0,Y=O.length;Q<Y;Q++)if(O[Q]===z)return Q;return-1}B.prototype.read=function(O){m("read",O),O=parseInt(O,10);var z=this._readableState,Q=O;if(O!==0&&(z.emittedReadable=!1),O===0&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return m("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?j(this):$(this),null;if((O=I(O,z))===0&&z.ended)return z.length===0&&j(this),null;var Y,re=z.needReadable;return m("need readable",re),(z.length===0||z.length-O<z.highWaterMark)&&m("length less than watermark",re=!0),z.ended||z.reading?m("reading or ended",re=!1):re&&(m("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(O=I(Q,z))),(Y=O>0?k(O,z):null)===null?(z.needReadable=!0,O=0):z.length-=O,z.length===0&&(z.ended||(z.needReadable=!0),Q!==O&&z.ended&&j(this)),Y!==null&&this.emit("data",Y),Y},B.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(O,z){var Q=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=O;break;case 1:Y.pipes=[Y.pipes,O];break;default:Y.pipes.push(O)}Y.pipesCount+=1,m("pipe count=%d opts=%j",Y.pipesCount,z);var re=(!z||z.end!==!1)&&O!==a.stdout&&O!==a.stderr?Z:ee;function F(oe,ne){m("onunpipe"),oe===Q&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,m("cleanup"),O.removeListener("close",ce),O.removeListener("finish",ge),O.removeListener("drain",W),O.removeListener("error",pe),O.removeListener("unpipe",F),Q.removeListener("end",Z),Q.removeListener("end",ee),Q.removeListener("data",ae),V=!0,!Y.awaitDrain||O._writableState&&!O._writableState.needDrain||W())}function Z(){m("onend"),O.end()}Y.endEmitted?c.nextTick(re):Q.once("end",re),O.on("unpipe",F);var W=(function(oe){return function(){var ne=oe._readableState;m("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&d(oe,"data")&&(ne.flowing=!0,_(oe))}})(Q);O.on("drain",W);var V=!1,G=!1;function ae(oe){m("ondata"),G=!1,O.write(oe)!==!1||G||((Y.pipesCount===1&&Y.pipes===O||Y.pipesCount>1&&D(Y.pipes,O)!==-1)&&!V&&(m("false write response, pause",Y.awaitDrain),Y.awaitDrain++,G=!0),Q.pause())}function pe(oe){m("onerror",oe),ee(),O.removeListener("error",pe),d(O,"error")===0&&O.emit("error",oe)}function ce(){O.removeListener("finish",ge),ee()}function ge(){m("onfinish"),O.removeListener("close",ce),ee()}function ee(){m("unpipe"),Q.unpipe(O)}return Q.on("data",ae),(function(oe,ne,fe){if(typeof oe.prependListener=="function")return oe.prependListener(ne,fe);oe._events&&oe._events[ne]?l(oe._events[ne])?oe._events[ne].unshift(fe):oe._events[ne]=[fe,oe._events[ne]]:oe.on(ne,fe)})(O,"error",pe),O.once("close",ce),O.once("finish",ge),O.emit("pipe",Q),Y.flowing||(m("pipe resume"),Q.resume()),O},B.prototype.unpipe=function(O){var z=this._readableState,Q={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return O&&O!==z.pipes||(O||(O=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,O&&O.emit("unpipe",this,Q)),this;if(!O){var Y=z.pipes,re=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var F=0;F<re;F++)Y[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=D(z.pipes,O);return Z===-1||(z.pipes.splice(Z,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),O.emit("unpipe",this,Q)),this},B.prototype.on=function(O,z){var Q=p.prototype.on.call(this,O,z);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&$(this):c.nextTick(L,this))}return Q},B.prototype.addListener=B.prototype.on,B.prototype.resume=function(){var O=this._readableState;return O.flowing||(m("resume"),O.flowing=!0,(function(z,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,c.nextTick(T,z,Q))})(this,O)),this},B.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},B.prototype.wrap=function(O){var z=this,Q=this._readableState,Y=!1;for(var re in O.on("end",(function(){if(m("wrapped end"),Q.decoder&&!Q.ended){var Z=Q.decoder.end();Z&&Z.length&&z.push(Z)}z.push(null)})),O.on("data",(function(Z){m("wrapped data"),Q.decoder&&(Z=Q.decoder.write(Z)),Q.objectMode&&Z==null||(Q.objectMode||Z&&Z.length)&&(z.push(Z)||(Y=!0,O.pause()))})),O)this[re]===void 0&&typeof O[re]=="function"&&(this[re]=(function(Z){return function(){return O[Z].apply(O,arguments)}})(re));for(var F=0;F<C.length;F++)O.on(C[F],this.emit.bind(this,C[F]));return this._read=function(Z){m("wrapped _read",Z),Y&&(Y=!1,O.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=k}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=u;var a=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function c(p,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);a.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",l)}function l(){var p=this;typeof this._flush=="function"?this._flush((function(f,h){d(p,f,h)})):d(this,null,null)}function d(p,f,h){if(f)return p.emit("error",f);if(h!=null&&p.push(h),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}o.inherits=e("inherits"),o.inherits(u,a),u.prototype.push=function(p,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,p,f)},u.prototype._transform=function(p,f,h){throw new Error("_transform() is not implemented")},u.prototype._write=function(p,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=p,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(p){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(p,f){var h=this;a.prototype._destroy.call(this,p,(function(g){f(g),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(a,o,c){(function(){var u=e("process-nextick-args");function l(U){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(L,T,_){var k=L.entry;for(L.entry=null;k;){var j=k.callback;T.pendingcb--,j(_),k=k.next}T.corkedRequestsFree.next=L})(P,U)}}n.exports=A;var d,p=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?c:u.nextTick;A.WritableState=C;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,x=e("./internal/streams/destroy");function S(){}function C(U,P){d=d||e("./_stream_duplex"),U=U||{};var L=P instanceof d;this.objectMode=!!U.objectMode,L&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var T=U.highWaterMark,_=U.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:L&&(_||_===0)?_:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=U.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(D,O){var z=D._writableState,Q=z.sync,Y=z.writecb;if((function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0})(z),O)(function(F,Z,W,V,G){--Z.pendingcb,W?(u.nextTick(G,V),u.nextTick(K,F,Z),F._writableState.errorEmitted=!0,F.emit("error",V)):(G(V),F._writableState.errorEmitted=!0,F.emit("error",V),K(F,Z))})(D,z,Q,O,Y);else{var re=I(z);re||z.corked||z.bufferProcessing||!z.bufferedRequest||R(D,z),Q?p(q,D,z,re,Y):q(D,z,re,Y)}})(P,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function A(U){if(d=d||e("./_stream_duplex"),!(v.call(A,this)||this instanceof d))return new A(U);this._writableState=new C(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),g.call(this)}function B(U,P,L,T,_,k,j){P.writelen=T,P.writecb=j,P.writing=!0,P.sync=!0,L?U._writev(_,P.onwrite):U._write(_,k,P.onwrite),P.sync=!1}function q(U,P,L,T){L||(function(_,k){k.length===0&&k.needDrain&&(k.needDrain=!1,_.emit("drain"))})(U,P),P.pendingcb--,T(),K(U,P)}function R(U,P){P.bufferProcessing=!0;var L=P.bufferedRequest;if(U._writev&&L&&L.next){var T=P.bufferedRequestCount,_=new Array(T),k=P.corkedRequestsFree;k.entry=L;for(var j=0,N=!0;L;)_[j]=L,L.isBuf||(N=!1),L=L.next,j+=1;_.allBuffers=N,B(U,P,!0,P.length,_,"",k.finish),P.pendingcb++,P.lastBufferedRequest=null,k.next?(P.corkedRequestsFree=k.next,k.next=null):P.corkedRequestsFree=new l(P),P.bufferedRequestCount=0}else{for(;L;){var D=L.chunk,O=L.encoding,z=L.callback;if(B(U,P,!1,P.objectMode?1:D.length,D,O,z),L=L.next,P.bufferedRequestCount--,P.writing)break}L===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=L,P.bufferProcessing=!1}function I(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function $(U,P){U._final((function(L){P.pendingcb--,L&&U.emit("error",L),P.prefinished=!0,U.emit("prefinish"),K(U,P)}))}function K(U,P){var L=I(P);return L&&((function(T,_){_.prefinished||_.finalCalled||(typeof T._final=="function"?(_.pendingcb++,_.finalCalled=!0,u.nextTick($,T,_)):(_.prefinished=!0,T.emit("prefinish")))})(U,P),P.pendingcb===0&&(P.finished=!0,U.emit("finish"))),L}f.inherits(A,g),C.prototype.getBuffer=function(){for(var U=this.bufferedRequest,P=[];U;)P.push(U),U=U.next;return P},(function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(U){return!!v.call(this,U)||this===A&&U&&U._writableState instanceof C}})):v=function(U){return U instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(U,P,L){var T,_=this._writableState,k=!1,j=!_.objectMode&&(T=U,y.isBuffer(T)||T instanceof m);return j&&!y.isBuffer(U)&&(U=(function(N){return y.from(N)})(U)),typeof P=="function"&&(L=P,P=null),j?P="buffer":P||(P=_.defaultEncoding),typeof L!="function"&&(L=S),_.ended?(function(N,D){var O=new Error("write after end");N.emit("error",O),u.nextTick(D,O)})(this,L):(j||(function(N,D,O,z){var Q=!0,Y=!1;return O===null?Y=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||D.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(N.emit("error",Y),u.nextTick(z,Y),Q=!1),Q})(this,_,U,L))&&(_.pendingcb++,k=(function(N,D,O,z,Q,Y){if(!O){var re=(function(V,G,ae){return V.objectMode||V.decodeStrings===!1||typeof G!="string"||(G=y.from(G,ae)),G})(D,z,Q);z!==re&&(O=!0,Q="buffer",z=re)}var F=D.objectMode?1:z.length;D.length+=F;var Z=D.length<D.highWaterMark;if(Z||(D.needDrain=!0),D.writing||D.corked){var W=D.lastBufferedRequest;D.lastBufferedRequest={chunk:z,encoding:Q,isBuf:O,callback:Y,next:null},W?W.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else B(N,D,!1,F,z,Q,Y);return Z})(this,_,j,U,P,L)),k},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||R(this,U))},A.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(U,P,L){L(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(U,P,L){var T=this._writableState;typeof U=="function"?(L=U,U=null,P=null):typeof P=="function"&&(L=P,P=null),U!=null&&this.write(U,P),T.corked&&(T.corked=1,this.uncork()),T.ending||(function(_,k,j){k.ending=!0,K(_,k),j&&(k.finished?u.nextTick(j):_.once("finish",j)),k.ended=!0,_.writable=!1})(this,T,L)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),A.prototype.destroy=x.destroy,A.prototype._undestroy=x.undestroy,A.prototype._destroy=function(U,P){this.end(),P(U)}}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var a=e("safe-buffer").Buffer,o=e("util");n.exports=(function(){function c(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},c.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},c.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=u+l.data;return d},c.prototype.concat=function(u){if(this.length===0)return a.alloc(0);for(var l,d,p,f=a.allocUnsafe(u>>>0),h=this.head,g=0;h;)l=h.data,d=f,p=g,l.copy(d,p),g+=h.data.length,h=h.next;return f},c})(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var a=e("process-nextick-args");function o(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var l=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(o,this,c)):a.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(f){!u&&f?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,a.nextTick(o,l,f)):a.nextTick(o,l,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(a,o){(function(){var c=e("process/browser.js").nextTick,u=Function.prototype.apply,l=Array.prototype.slice,d={},p=0;function f(h,g){this._id=h,this._clearFn=g}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),g))},s.setImmediate=typeof a=="function"?a:function(h){var g=p++,y=!(arguments.length<2)&&l.call(arguments,1);return d[g]=!0,c((function(){d[g]&&(y?h.apply(null,y):h.call(null),s.clearImmediate(g))})),g},s.clearImmediate=typeof o=="function"?o:function(h){delete d[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(a){(function(){function o(c){try{if(!a.localStorage)return!1}catch{return!1}var u=a.localStorage[c];return u!=null&&String(u).toLowerCase()==="true"}n.exports=function(c,u){if(o("noDeprecation"))return c;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),l=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(a,o){a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],526:[function(e,n,s){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(e,n,s){(function(a,o){(function(){var c=/%[sdj%]/g;s.format=function(_){if(!C(_)){for(var k=[],j=0;j<arguments.length;j++)k.push(d(arguments[j]));return k.join(" ")}j=1;for(var N=arguments,D=N.length,O=String(_).replace(c,(function(Q){if(Q==="%%")return"%";if(j>=D)return Q;switch(Q){case"%s":return String(N[j++]);case"%d":return Number(N[j++]);case"%j":try{return JSON.stringify(N[j++])}catch{return"[Circular]"}default:return Q}})),z=N[j];j<D;z=N[++j])x(z)||!q(z)?O+=" "+z:O+=" "+d(z);return O},s.deprecate=function(_,k){if(A(o.process))return function(){return s.deprecate(_,k).apply(this,arguments)};if(a.noDeprecation===!0)return _;var j=!1;return function(){if(!j){if(a.throwDeprecation)throw new Error(k);a.traceDeprecation?console.trace(k):console.error(k),j=!0}return _.apply(this,arguments)}};var u,l={};function d(_,k){var j={seen:[],stylize:f};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),v(k)?j.showHidden=k:k&&s._extend(j,k),A(j.showHidden)&&(j.showHidden=!1),A(j.depth)&&(j.depth=2),A(j.colors)&&(j.colors=!1),A(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=p),h(j,_,j.depth)}function p(_,k){var j=d.styles[k];return j?"\x1B["+d.colors[j][0]+"m"+_+"\x1B["+d.colors[j][1]+"m":_}function f(_,k){return _}function h(_,k,j){if(_.customInspect&&k&&$(k.inspect)&&k.inspect!==s.inspect&&(!k.constructor||k.constructor.prototype!==k)){var N=k.inspect(j,_);return C(N)||(N=h(_,N,j)),N}var D=(function(W,V){if(A(V))return W.stylize("undefined","undefined");if(C(V)){var G="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(G,"string")}if(S(V))return W.stylize(""+V,"number");if(v(V))return W.stylize(""+V,"boolean");if(x(V))return W.stylize("null","null")})(_,k);if(D)return D;var O=Object.keys(k),z=(function(W){var V={};return W.forEach((function(G,ae){V[G]=!0})),V})(O);if(_.showHidden&&(O=Object.getOwnPropertyNames(k)),I(k)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return g(k);if(O.length===0){if($(k)){var Q=k.name?": "+k.name:"";return _.stylize("[Function"+Q+"]","special")}if(B(k))return _.stylize(RegExp.prototype.toString.call(k),"regexp");if(R(k))return _.stylize(Date.prototype.toString.call(k),"date");if(I(k))return g(k)}var Y,re="",F=!1,Z=["{","}"];return m(k)&&(F=!0,Z=["[","]"]),$(k)&&(re=" [Function"+(k.name?": "+k.name:"")+"]"),B(k)&&(re=" "+RegExp.prototype.toString.call(k)),R(k)&&(re=" "+Date.prototype.toUTCString.call(k)),I(k)&&(re=" "+g(k)),O.length!==0||F&&k.length!=0?j<0?B(k)?_.stylize(RegExp.prototype.toString.call(k),"regexp"):_.stylize("[Object]","special"):(_.seen.push(k),Y=F?(function(W,V,G,ae,pe){for(var ce=[],ge=0,ee=V.length;ge<ee;++ge)T(V,String(ge))?ce.push(y(W,V,G,ae,String(ge),!0)):ce.push("");return pe.forEach((function(oe){oe.match(/^\d+$/)||ce.push(y(W,V,G,ae,oe,!0))})),ce})(_,k,j,z,O):O.map((function(W){return y(_,k,j,z,W,F)})),_.seen.pop(),(function(W,V,G){return W.reduce((function(ae,pe){return pe.indexOf(`
`)>=0,ae+pe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?G[0]+(V===""?"":V+`
 `)+" "+W.join(`,
  `)+" "+G[1]:G[0]+V+" "+W.join(", ")+" "+G[1]})(Y,re,Z)):Z[0]+re+Z[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,k,j,N,D,O){var z,Q,Y;if((Y=Object.getOwnPropertyDescriptor(k,D)||{value:k[D]}).get?Q=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(Q=_.stylize("[Setter]","special")),T(N,D)||(z="["+D+"]"),Q||(_.seen.indexOf(Y.value)<0?(Q=x(j)?h(_,Y.value,null):h(_,Y.value,j-1)).indexOf(`
`)>-1&&(Q=O?Q.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+Q.split(`
`).map((function(re){return"   "+re})).join(`
`)):Q=_.stylize("[Circular]","special")),A(z)){if(O&&D.match(/^\d+$/))return Q;(z=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(z=z.substr(1,z.length-2),z=_.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=_.stylize(z,"string"))}return z+": "+Q}function m(_){return Array.isArray(_)}function v(_){return typeof _=="boolean"}function x(_){return _===null}function S(_){return typeof _=="number"}function C(_){return typeof _=="string"}function A(_){return _===void 0}function B(_){return q(_)&&K(_)==="[object RegExp]"}function q(_){return typeof _=="object"&&_!==null}function R(_){return q(_)&&K(_)==="[object Date]"}function I(_){return q(_)&&(K(_)==="[object Error]"||_ instanceof Error)}function $(_){return typeof _=="function"}function K(_){return Object.prototype.toString.call(_)}function U(_){return _<10?"0"+_.toString(10):_.toString(10)}s.debuglog=function(_){if(A(u)&&(u=a.env.NODE_DEBUG||""),_=_.toUpperCase(),!l[_])if(new RegExp("\\b"+_+"\\b","i").test(u)){var k=a.pid;l[_]=function(){var j=s.format.apply(s,arguments);console.error("%s %d: %s",_,k,j)}}else l[_]=function(){};return l[_]},s.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=x,s.isNullOrUndefined=function(_){return _==null},s.isNumber=S,s.isString=C,s.isSymbol=function(_){return typeof _=="symbol"},s.isUndefined=A,s.isRegExp=B,s.isObject=q,s.isDate=R,s.isError=I,s.isFunction=$,s.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},s.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var _=new Date,k=[U(_.getHours()),U(_.getMinutes()),U(_.getSeconds())].join(":");return[_.getDate(),P[_.getMonth()],k].join(" ")}function T(_,k){return Object.prototype.hasOwnProperty.call(_,k)}s.log=function(){console.log("%s - %s",L(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(_,k){if(!k||!q(k))return _;for(var j=Object.keys(k),N=j.length;N--;)_[j[N]]=k[j[N]];return _}}).call(this)}).call(this,e("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var a=g(e("./v1.js")),o=g(e("./v3.js")),c=g(e("./v4.js")),u=g(e("./v5.js")),l=g(e("./nil.js")),d=g(e("./version.js")),p=g(e("./validate.js")),f=g(e("./stringify.js")),h=g(e("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function a(h){return 14+(h+64>>>9<<4)+1}function o(h,g){const y=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(y>>16)<<16|65535&y}function c(h,g,y,m,v,x){return o((S=o(o(g,h),o(m,x)))<<(C=v)|S>>>32-C,y);var S,C}function u(h,g,y,m,v,x,S){return c(g&y|~g&m,h,g,v,x,S)}function l(h,g,y,m,v,x,S){return c(g&m|y&~m,h,g,v,x,S)}function d(h,g,y,m,v,x,S){return c(g^y^m,h,g,v,x,S)}function p(h,g,y,m,v,x,S){return c(y^(g|~m),h,g,v,x,S)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let y=0;y<g.length;++y)h[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const x=g[v>>5]>>>v%32&255,S=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);y.push(S)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[a(y)-1]=y;let m=1732584193,v=-271733879,x=-1732584194,S=271733878;for(let C=0;C<g.length;C+=16){const A=m,B=v,q=x,R=S;m=u(m,v,x,S,g[C],7,-680876936),S=u(S,m,v,x,g[C+1],12,-389564586),x=u(x,S,m,v,g[C+2],17,606105819),v=u(v,x,S,m,g[C+3],22,-1044525330),m=u(m,v,x,S,g[C+4],7,-176418897),S=u(S,m,v,x,g[C+5],12,1200080426),x=u(x,S,m,v,g[C+6],17,-1473231341),v=u(v,x,S,m,g[C+7],22,-45705983),m=u(m,v,x,S,g[C+8],7,1770035416),S=u(S,m,v,x,g[C+9],12,-1958414417),x=u(x,S,m,v,g[C+10],17,-42063),v=u(v,x,S,m,g[C+11],22,-1990404162),m=u(m,v,x,S,g[C+12],7,1804603682),S=u(S,m,v,x,g[C+13],12,-40341101),x=u(x,S,m,v,g[C+14],17,-1502002290),v=u(v,x,S,m,g[C+15],22,1236535329),m=l(m,v,x,S,g[C+1],5,-165796510),S=l(S,m,v,x,g[C+6],9,-1069501632),x=l(x,S,m,v,g[C+11],14,643717713),v=l(v,x,S,m,g[C],20,-373897302),m=l(m,v,x,S,g[C+5],5,-701558691),S=l(S,m,v,x,g[C+10],9,38016083),x=l(x,S,m,v,g[C+15],14,-660478335),v=l(v,x,S,m,g[C+4],20,-405537848),m=l(m,v,x,S,g[C+9],5,568446438),S=l(S,m,v,x,g[C+14],9,-1019803690),x=l(x,S,m,v,g[C+3],14,-187363961),v=l(v,x,S,m,g[C+8],20,1163531501),m=l(m,v,x,S,g[C+13],5,-1444681467),S=l(S,m,v,x,g[C+2],9,-51403784),x=l(x,S,m,v,g[C+7],14,1735328473),v=l(v,x,S,m,g[C+12],20,-1926607734),m=d(m,v,x,S,g[C+5],4,-378558),S=d(S,m,v,x,g[C+8],11,-2022574463),x=d(x,S,m,v,g[C+11],16,1839030562),v=d(v,x,S,m,g[C+14],23,-35309556),m=d(m,v,x,S,g[C+1],4,-1530992060),S=d(S,m,v,x,g[C+4],11,1272893353),x=d(x,S,m,v,g[C+7],16,-155497632),v=d(v,x,S,m,g[C+10],23,-1094730640),m=d(m,v,x,S,g[C+13],4,681279174),S=d(S,m,v,x,g[C],11,-358537222),x=d(x,S,m,v,g[C+3],16,-722521979),v=d(v,x,S,m,g[C+6],23,76029189),m=d(m,v,x,S,g[C+9],4,-640364487),S=d(S,m,v,x,g[C+12],11,-421815835),x=d(x,S,m,v,g[C+15],16,530742520),v=d(v,x,S,m,g[C+2],23,-995338651),m=p(m,v,x,S,g[C],6,-198630844),S=p(S,m,v,x,g[C+7],10,1126891415),x=p(x,S,m,v,g[C+14],15,-1416354905),v=p(v,x,S,m,g[C+5],21,-57434055),m=p(m,v,x,S,g[C+12],6,1700485571),S=p(S,m,v,x,g[C+3],10,-1894986606),x=p(x,S,m,v,g[C+10],15,-1051523),v=p(v,x,S,m,g[C+1],21,-2054922799),m=p(m,v,x,S,g[C+8],6,1873313359),S=p(S,m,v,x,g[C+15],10,-30611744),x=p(x,S,m,v,g[C+6],15,-1560198380),v=p(v,x,S,m,g[C+13],21,1309151649),m=p(m,v,x,S,g[C+4],6,-145523070),S=p(S,m,v,x,g[C+11],10,-1120210379),x=p(x,S,m,v,g[C+2],15,718787259),v=p(v,x,S,m,g[C+9],21,-343485551),m=o(m,A),v=o(v,B),x=o(x,q),S=o(S,R)}return[m,v,x,S]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(a(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(h),8*h.length))};s.default=f},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");let l;const d=new Uint8Array(16);return d[0]=(l=parseInt(u.slice(0,8),16))>>>24,d[1]=l>>>16&255,d[2]=l>>>8&255,d[3]=255&l,d[4]=(l=parseInt(u.slice(9,13),16))>>>8,d[5]=255&l,d[6]=(l=parseInt(u.slice(14,18),16))>>>8,d[7]=255&l,d[8]=(l=parseInt(u.slice(19,23),16))>>>8,d[9]=255&l,d[10]=(l=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=l/4294967296&255,d[12]=l>>>24&255,d[13]=l>>>16&255,d[14]=l>>>8&255,d[15]=255&l,d};s.default=c},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let a;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)};const o=new Uint8Array(16)},{}],534:[function(e,n,s){function a(u,l,d,p){switch(u){case 0:return l&d^~l&p;case 1:return l^d^p;case 2:return l&d^l&p^d&p;case 3:return l^d^p}}function o(u,l){return u<<l|u>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=function(u){const l=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const p=u.length/4+2,f=Math.ceil(p/16),h=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];h[g]=y}h[f-1][14]=8*(u.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let A=0;A<16;++A)y[A]=h[g][A];for(let A=16;A<80;++A)y[A]=o(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);let m=d[0],v=d[1],x=d[2],S=d[3],C=d[4];for(let A=0;A<80;++A){const B=Math.floor(A/20),q=o(m,5)+a(B,v,x,S)+C+l[B]+y[A]>>>0;C=S,S=x,x=o(v,30)>>>0,v=m,m=q}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+x>>>0,d[3]=d[3]+S>>>0,d[4]=d[4]+C>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};s.default=c},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a};const c=[];for(let l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(c[l[d+0]]+c[l[d+1]]+c[l[d+2]]+c[l[d+3]]+"-"+c[l[d+4]]+c[l[d+5]]+"-"+c[l[d+6]]+c[l[d+7]]+"-"+c[l[d+8]]+c[l[d+9]]+"-"+c[l[d+10]]+c[l[d+11]]+c[l[d+12]]+c[l[d+13]]+c[l[d+14]]+c[l[d+15]]).toLowerCase();if(!(0,o.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=u},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./rng.js")),o=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let u,l,d=0,p=0;var f=function(h,g,y){let m=g&&y||0;const v=g||new Array(16);let x=(h=h||{}).node||u,S=h.clockseq!==void 0?h.clockseq:l;if(x==null||S==null){const I=h.random||(h.rng||a.default)();x==null&&(x=u=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),S==null&&(S=l=16383&(I[6]<<8|I[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),A=h.nsecs!==void 0?h.nsecs:p+1;const B=C-d+(A-p)/1e4;if(B<0&&h.clockseq===void 0&&(S=S+1&16383),(B<0||C>d)&&h.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=C,p=A,l=S,C+=122192928e5;const q=(1e4*(268435455&C)+A)%4294967296;v[m++]=q>>>24&255,v[m++]=q>>>16&255,v[m++]=q>>>8&255,v[m++]=255&q;const R=C/4294967296*1e4&268435455;v[m++]=R>>>8&255,v[m++]=255&R,v[m++]=R>>>24&15|16,v[m++]=R>>>16&255,v[m++]=S>>>8|128,v[m++]=255&S;for(let I=0;I<6;++I)v[m+I]=x[I];return g||(0,o.default)(v)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./v35.js")),o=c(e("./md5.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,a.default)("v3",48,o.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(d,p,f){function h(g,y,m,v){if(typeof g=="string"&&(g=(function(S){S=unescape(encodeURIComponent(S));const C=[];for(let A=0;A<S.length;++A)C.push(S.charCodeAt(A));return C})(g)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+g.length);if(x.set(y),x.set(g,y.length),x=f(x),x[6]=15&x[6]|p,x[8]=63&x[8]|128,m){v=v||0;for(let S=0;S<16;++S)m[v+S]=x[S];return m}return(0,a.default)(x)}try{h.name=d}catch{}return h.DNS=u,h.URL=l,h},s.URL=s.DNS=void 0;var a=c(e("./stringify.js")),o=c(e("./parse.js"));function c(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./rng.js")),o=c(e("./stringify.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=function(l,d,p){const f=(l=l||{}).random||(l.rng||a.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){p=p||0;for(let h=0;h<16;++h)d[p+h]=f[h];return d}return(0,o.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=c(e("./v35.js")),o=c(e("./sha1.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,a.default)("v5",80,o.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,o=(a=e("./regex.js"))&&a.__esModule?a:{default:a},c=function(u){return typeof u=="string"&&o.default.test(u)};s.default=c},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=c},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=a,s.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=a,s.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=a,s.isNCNameChar=function(o){return a(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)}))})(jw)),jw.exports}var z3=Upe();const V3=hk(z3),eB=B7({__proto__:null,default:V3},[z3]);function Bx(){try{return fl.isNativePlatform()}catch{return!1}}function tB(){if(Bx())return!0;const t=navigator.userAgent.toLowerCase();return t.includes("wv")||t.includes("webview")||t.includes("android")&&!t.includes("chrome/")||t.includes("android")&&t.includes("version/")}function rB(){const t=navigator.userAgent.toLowerCase();return(t.includes("iphone")||t.includes("ipad"))&&!t.includes("safari/")}function W3(){return Bx()||tB()||rB()}function nB(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function sB(){return!!window.webkit?.messageHandlers?.downloadFile}function qpe(t,r){const e=t.split(".").pop()?.toLowerCase();return e&&{pdf:"application/pdf",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xls:"application/vnd.ms-excel",csv:"text/csv",html:"text/html",json:"application/json",txt:"text/plain",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"}[e]||r}function $m(t){return new Promise((r,e)=>{const n=new FileReader;n.onloadend=()=>{const s=n.result,a=s.indexOf(",");r(a>=0?s.substring(a+1):s)},n.onerror=e,n.readAsDataURL(t)})}function Qn(t,r,e){const n=`[DL] ${t}: ${r}${e?" - "+e:""}`;console.log(n)}async function Hpe(t,r,e){try{const s=(await ln(()=>import("./index-JnWdoU5n.js"),[])).FileSharer;if(!s||typeof s.share!="function")return Qn("FileSharer","SKIP","plugin not available"),!1;const a=await $m(t),o=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_"),c=qpe(o,e);return Qn("FileSharer","START",`${o} (${t.size} bytes)`),await s.share({filename:o,contentType:c,base64Data:a}),Qn("FileSharer","OK"),!0}catch(n){const s=String(n?.message||n||"");return Qn("FileSharer","ERROR",s),!!(s.includes("cancel")||s.includes("Cancel")||s.includes("dismiss")||s.includes("USER_CANCELLED"))}}async function Kpe(t,r,e){try{const n=await ln(()=>import("./index-DpeamkX4.js"),[]),s=await ln(()=>import("./index-BfslaidO.js"),[]),a=n.Filesystem,o=n.Directory,c=s.Share;if(!a||!c)return Qn("CapFS+Share","SKIP","plugins not available"),!1;const u=await $m(t),l=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_");Qn("CapFS","WRITING",l),await a.writeFile({path:l,data:u,directory:o.Cache});const d=await a.getUri({directory:o.Cache,path:l});return Qn("CapFS","URI",d.uri),await c.share({title:r,url:d.uri,dialogTitle:`: ${r}`}),Qn("CapShare","OK"),!0}catch(n){const s=String(n?.message||n||"");return Qn("CapFS+Share","ERROR",s),!!(s.includes("canceled")||s.includes("dismissed")||s.includes("cancel"))}}async function Gpe(t,r,e){try{if(typeof navigator.share!="function"||typeof navigator.canShare!="function")return Qn("WebShare","SKIP","API not available"),!1;const n=new File([t],r,{type:e}),s={files:[n]};return navigator.canShare(s)?(Qn("WebShare","START",r),await navigator.share({files:[n],title:r}),Qn("WebShare","OK"),!0):(Qn("WebShare","SKIP","canShare=false"),!1)}catch(n){return n?.name==="AbortError"?(Qn("WebShare","CANCELLED"),!0):(Qn("WebShare","ERROR",String(n?.message||n)),!1)}}async function Qpe(t,r,e){try{const n=await $m(t);Qn("ServerProxy","UPLOADING",`${r} (${t.size} bytes)`);const s=await fetch("/api/temp-download",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({base64Data:n,fileName:r,mimeType:e})});if(!s.ok)return Qn("ServerProxy","UPLOAD_FAILED",`status=${s.status}`),!1;const a=await s.json();if(!a.success||!a.downloadUrl)return Qn("ServerProxy","BAD_RESPONSE"),!1;const o=new URL(a.downloadUrl,window.location.origin).href;if(Qn("ServerProxy","URL_READY",o),W3()){Qn("ServerProxy","MOBILE_REDIRECT","using window.location for download");const u=document.createElement("iframe");u.style.display="none",u.src=o,document.body.appendChild(u),await new Promise(l=>setTimeout(l,3e3));try{document.body.removeChild(u)}catch{}return Qn("ServerProxy","IFRAME_DONE"),!0}const c=document.createElement("a");return c.href=a.downloadUrl,c.download=r,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),Qn("ServerProxy","BROWSER_CLICK_DONE"),!0}catch(n){return Qn("ServerProxy","ERROR",String(n?.message||n)),!1}}function Xpe(t,r){try{const e=URL.createObjectURL(t),n=document.createElement("a");return n.href=e,n.download=r,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(e),1e3),!0}catch(e){return console.error("[DL] Browser failed:",e),!1}}async function U3(t,r,e){const n=e||t.type||"application/octet-stream",s=W3(),a=Bx();console.log("[DL] === START ===",{fileName:r,type:n,size:t.size,capacitor:a,mobile:s,ua:navigator.userAgent.substring(0,100)});const o=[];if(a){o.push("FileSharer");try{if(await Hpe(t,r,n))return console.log("[DL] === SUCCESS via FileSharer ==="),!0}catch(c){console.error("[DL] FileSharer threw:",c?.message||c)}o.push("CapFS+Share");try{if(await Kpe(t,r,n))return console.log("[DL] === SUCCESS via CapFS+Share ==="),!0}catch(c){console.error("[DL] CapFS+Share threw:",c?.message||c)}}if(s){o.push("WebShare");try{if(await Gpe(t,r,n))return console.log("[DL] === SUCCESS via WebShare ==="),!0}catch(c){console.error("[DL] WebShare threw:",c?.message||c)}o.push("ServerProxy");try{if(await Qpe(t,r,n))return console.log("[DL] === SUCCESS via ServerProxy (iframe) ==="),!0}catch(c){console.error("[DL] ServerProxy threw:",c?.message||c)}return console.error("[DL] === ALL MOBILE METHODS FAILED ===",o),!1}if(nB())try{const c=await $m(t);if(window.Android?.downloadBase64File)return window.Android.downloadBase64File(c,r,n),!0;if(window.Android?.downloadFile)return window.Android.downloadFile(c,r,n),!0;if(window.Android?.shareFile)return window.Android.shareFile(c,r,n),!0}catch(c){console.error("[DL] AndroidBridge:",c)}if(sB())try{const c=await $m(t);return window.webkit?.messageHandlers?.downloadFile?.postMessage({base64:c,fileName:r,mimeType:n}),!0}catch(c){console.error("[DL] iOSBridge:",c)}return console.log("[DL] Using browser download"),Xpe(t,r)}async function qh(t,r){const e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return U3(e,r)}const Ype=Object.freeze(Object.defineProperty({__proto__:null,downloadExcelFile:qh,downloadFile:U3,hasAndroidBridge:nB,hasIOSBridge:sB,isAndroidWebView:tB,isCapacitorNative:Bx,isIOSWebView:rB,isMobileWebView:W3},Symbol.toStringTag,{value:"Module"}));async function Zpe(t){const r=new V3.Workbook,e=r.addWorksheet(" ");e.views=[{rightToLeft:!0}],e.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const n=e.getRow(1);n.font={bold:!0,color:{argb:"FFFFFFFF"}},n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},n.alignment={vertical:"middle",horizontal:"center"},t.forEach(c=>{const u=e.addRow({purchaseDate:c.purchaseDate?Nr(new Date(c.purchaseDate),"yyyy-MM-dd"):"",materialName:c.materialName||c.material?.name||"",materialCategory:c.materialCategory||c.material?.category||"",quantity:c.quantity,unit:c.materialUnit||c.unit||c.material?.unit||"",unitPrice:c.unitPrice,totalAmount:c.totalAmount,purchaseType:c.purchaseType||"",supplierName:c.supplierName||"",invoiceNumber:c.invoiceNumber||"",projectName:c.projectName||c.project?.name||" ",notes:c.notes||""});u.alignment={vertical:"middle",horizontal:"right"}});const s=t.reduce((c,u)=>c+parseFloat(u.totalAmount||"0"),0),a=e.addRow({purchaseDate:"",totalAmount:s});a.font={bold:!0},a.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const o=await r.xlsx.writeBuffer();return await qh(o,`__${Nr(new Date,"yyyy-MM-dd_HH-mm")}.xlsx`)}function Jpe(){const[,t]=Os(),{selectedProjectId:r,isAllProjects:e,getProjectIdForApi:n}=Io(),[s,a]=E.useState(""),[o,c]=E.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=E.useCallback((we,Ke)=>{we==="selectedDate"?Fe(Ke?Nr(new Date(Ke),"yyyy-MM-dd"):""):c(bt=>({...bt,[we]:Ke}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=E.useState(""),[v,x]=E.useState(""),[S,C]=E.useState(""),[A,B]=E.useState(""),[q,R]=E.useState(""),[I,$]=E.useState(""),K=I==="";E.useEffect(()=>{K&&R("0")},[K]);const[U,P]=E.useState(""),[L,T]=E.useState(""),[_,k]=E.useState(ia()),[j,N]=E.useState(ia()),[D,O]=E.useState(""),[z,Q]=E.useState(""),[Y,re]=E.useState(null),[F,Z]=E.useState(!1),[W,V]=E.useState(!0),[G,ae]=E.useState(!1),[pe,ce]=E.useState(""),[ge,ee]=E.useState(""),[oe,ne]=E.useState(""),[fe,le]=E.useState(""),[ie,te]=E.useState(""),[se,de]=E.useState(""),[me,ke]=E.useState(),[Ce,Fe]=E.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:Ie}=pn(),Ue=_s(),{setFloatingAction:tt}=Fo(),gt=E.useCallback(()=>{a(""),Fe(""),c({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),Ie({title:"  ",description:"      "})},[Ie]);E.useEffect(()=>{},[]),E.useEffect(()=>(tt(null),()=>tt(null)),[tt]);const Ze=async(we,Ke)=>{if(!(!Ke||typeof Ke!="string"||!Ke.trim()))try{await Ve("/api/autocomplete","POST",{category:we,value:Ke.trim()})}catch(bt){console.log(`Failed to save autocomplete value for ${we}:`,bt)}},it=()=>{ce(""),ee(""),ne(""),le(""),te(""),de("")},ve=Dt({mutationFn:async we=>(await Promise.all([Ze("supplier_name",pe),Ze("supplier_contact_person",ge),Ze("supplier_phone",oe),Ze("supplier_address",fe),Ze("supplier_payment_terms",ie)]),Ve("/api/suppliers","POST",we)),onSuccess:we=>{Ue.invalidateQueries({queryKey:xe.suppliers}),Ie({title:"   ",description:`   "${pe}"   `}),P(pe),ae(!1),it()},onError:we=>{Ie({title:"   ",description:we?.message||"    .    .",variant:"destructive"})}}),be=async we=>{if(we.preventDefault(),!pe.trim()){Ie({title:"  ",description:"   ",variant:"destructive"});return}const Ke={name:pe.trim(),contactPerson:ge.trim()||void 0,phone:oe.trim()||void 0,address:fe.trim()||void 0,paymentTerms:ie||void 0,notes:se.trim()||void 0,isActive:!0};ve.mutate(Ke)},{data:He=[]}=xt({queryKey:xe.materials,queryFn:async()=>{try{const we=await Ve("/api/materials","GET");return we&&we.data&&Array.isArray(we.data)?we.data:Array.isArray(we)?we:[]}catch(we){return console.error("Error fetching materials:",we),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:Xe=[]}=xt({queryKey:xe.suppliers,queryFn:async()=>{try{const we=await Ve("/api/suppliers","GET");return we&&we.data&&Array.isArray(we.data)?we.data:Array.isArray(we)?we:[]}catch(we){return console.error("Error fetching suppliers:",we),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:ot,isLoading:Xt}=xt({queryKey:xe.materialPurchaseEdit(g),queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const we=await Ve(`/api/material-purchases/${g}`,"GET");console.log("    :",we);let Ke=null;if(we&&we.data)Ke=we.data;else if(we&&we.id)Ke=we;else return console.warn("     "),null;return console.log("     :",Ke),Ke}catch(we){return console.error("      :",we),null}},enabled:!!g,retry:1,staleTime:0});E.useEffect(()=>{if(ot&&g){console.log("    :",ot),console.log("   :",{purchaseToEdit:{materialName:ot.materialName,materialCategory:ot.materialCategory,materialUnit:ot.materialUnit,unit:ot.unit},material:ot.material?{name:ot.material.name,category:ot.material.category,unit:ot.material.unit}:"    "});const we=ot.materialName||ot.material?.name||"",Ke=ot.materialCategory||ot.material?.category||"",bt=ot.materialUnit||ot.unit||ot.material?.unit||"";console.log("     :",{materialName:we,materialCategory:Ke,materialUnit:bt}),m(we),x(Ke),C(bt),B(ot.quantity?.toString()||""),R(ot.unitPrice?.toString()||""),$(ot.purchaseType||""),P(ot.supplierName||""),T(ot.invoiceNumber||""),k(ot.invoiceDate||""),N(ot.purchaseDate||""),setPaidAmount(ot.paidAmount?.toString()||"0"),setRemainingAmount(ot.remainingAmount?.toString()||"0"),O(ot.notes||""),Q(ot.invoicePhoto||""),re(ot.id),Z(ot.addToInventory||!1),console.log("    :",{materialName:we,materialCategory:Ke,materialUnit:bt,quantity:ot.quantity,unitPrice:ot.unitPrice,purchaseType:ot.purchaseType})}},[ot,g]),Dt({mutationFn:we=>Ve("/api/materials","POST",we),onSuccess:()=>{Ue.invalidateQueries({queryKey:xe.materials})},onError:we=>{console.error("Material creation error:",we);let Ke="    ";we?.response?.data?.message&&(Ke=we.response.data.message),Ie({title:"",description:Ke,variant:"destructive"})}}),Array.isArray(He)&&He.map(we=>we.name),Array.isArray(He)&&Array.from(new Set(He.map(we=>we.unit)));const{data:vt=[]}=xt({queryKey:xe.materialPurchases(r,Ce),enabled:!!r,queryFn:async()=>await Ve(`/api/projects/${r}/material-purchases?date=${Ce}`,"GET"),refetchOnWindowFocus:!1,retry:!1}),Yt=E.useMemo(()=>vt&&vt.data&&Array.isArray(vt.data)?vt.data:Array.isArray(vt)?vt:[],[vt]),rr=E.useMemo(()=>{const we=Array.isArray(He)?He.map(kt=>kt.category):[],Ke=Array.isArray(Yt)?Yt.map(kt=>kt.materialCategory):[];return Array.from(new Set([...we,...Ke])).filter(Boolean).map(kt=>kt.trim()).filter(kt=>kt!=="")},[He,Yt]),At=Array.isArray(Xe)?Xe.filter(we=>we.isActive):[],Pt=Dt({mutationFn:async we=>{if(!we.projectId||we.projectId==="all")throw new Error("       ");return await Promise.all([Ze("materialNames",y),Ze("materialCategories",v),Ze("materialUnits",S),Ze("supplierNames",U),Ze("invoiceNumbers",L),Ze("notes",D)]),Ve(`/api/projects/${we.projectId}/material-purchases`,"POST",we)},onMutate:async we=>{await Ue.cancelQueries({queryKey:xe.materialPurchases(r,Ce)});const Ke=Ue.getQueryData(xe.materialPurchases(r,Ce));return Ue.setQueryData(xe.materialPurchases(r,Ce),bt=>{const kt={id:`temp-${Date.now()}`,...we,createdAt:new Date().toISOString()};return[...Array.isArray(bt)?bt:bt&&typeof bt=="object"&&Array.isArray(bt.data)?bt.data:[],kt]}),Ie({title:" ",description:"  "}),{previousData:Ke}},onSuccess:async we=>{Ue.invalidateQueries({queryKey:xe.autocomplete});const Ke=we?.equipmentCreated;Ie({title:" ",description:Ke?"     () ":"    "}),jr(),Ue.invalidateQueries({queryKey:xe.materialPurchases(r,Ce)}),Ke&&Ue.invalidateQueries({queryKey:xe.equipment})},onError:async we=>{await Promise.all([Ze("materialNames",y),Ze("materialCategories",v),Ze("materialUnits",S),Ze("supplierNames",U),Ze("invoiceNumbers",L),Ze("notes",D)]),Ue.invalidateQueries({queryKey:xe.autocomplete}),console.error("Material purchase error:",we);let Ke="     ",bt=[];if(we?.response?.data){const Ft=we.response.data;Ft.message&&(Ke=Ft.message),Ft.details&&Array.isArray(Ft.details)?bt=Ft.details:Ft.validationErrors&&Array.isArray(Ft.validationErrors)&&(bt=Ft.validationErrors)}let kt=Ke;bt.length>0?kt=`${Ke}:
${bt.map(Ft=>` ${Ft}`).join(`
`)}`:we?.response?.data?.error&&(kt=`${Ke}: ${we.response.data.error}`),Ie({title:"    ",description:kt,variant:"destructive",duration:1e4})}}),jr=()=>{m(""),x(""),C(""),B(""),R(""),$(""),P(""),T(""),k(ia()),N(ia()),O(""),Q(""),re(null),Z(!1)},Ot=Dt({mutationFn:async({id:we,data:Ke})=>{console.log(" [PATCH]   :",{id:we,data:Ke}),await Promise.all([Ze("materialNames",y),Ze("materialCategories",v),Ze("materialUnits",S),Ze("supplierNames",U),Ze("invoiceNumbers",L),Ze("notes",D)]);const bt=await Ve(`/api/material-purchases/${we}`,"PATCH",Ke);return console.log(" [PATCH]   :",bt),bt},onSuccess:async we=>{Ue.invalidateQueries({queryKey:xe.autocomplete});const Ke=we?.equipmentCreated;Ke&&Ue.invalidateQueries({queryKey:xe.equipment}),Ie({title:Ke?"   ":" ",description:Ke?"       ":"    "}),jr(),Ue.invalidateQueries({queryKey:xe.materialPurchases(r,Ce)})},onError:async we=>{await Promise.all([Ze("materialNames",y),Ze("materialCategories",v),Ze("materialUnits",S),Ze("supplierNames",U),Ze("invoiceNumbers",L),Ze("notes",D)]),Ue.invalidateQueries({queryKey:xe.autocomplete}),console.error("Material purchase update error:",we);let Ke="     ",bt=[];if(we?.response?.data){const Ft=we.response.data;Ft.message&&(Ke=Ft.message),Ft.details&&Array.isArray(Ft.details)?bt=Ft.details:Ft.validationErrors&&Array.isArray(Ft.validationErrors)&&(bt=Ft.validationErrors)}const kt=bt.length>0?`${Ke}

${bt.map(Ft=>` ${Ft}`).join(`
`)}`:Ke;Ie({title:"    ",description:kt,variant:"destructive",duration:8e3})}}),Cr=Dt({mutationFn:we=>Ve(`/api/material-purchases/${we}`,"DELETE"),onMutate:async we=>{await Ue.cancelQueries({queryKey:xe.materialPurchases(r,Ce)});const Ke=Ue.getQueryData(xe.materialPurchases(r,Ce));return Ue.setQueryData(xe.materialPurchases(r,Ce),bt=>bt?bt.filter(kt=>kt.id!==we):[]),Ie({title:" ",description:"    "}),{previousData:Ke}},onSuccess:()=>{Ie({title:" ",description:"    "}),Ue.invalidateQueries({queryKey:xe.materialPurchases(r,Ce)})},onError:we=>{console.error("Material purchase delete error:",we);let Ke="     ",bt=[];if(we?.response?.data){const Ft=we.response.data;Ft.message&&(Ke=Ft.message),Ft.details&&Array.isArray(Ft.details)&&(bt=Ft.details)}const kt=bt.length>0?`${Ke}

${bt.map(Ft=>` ${Ft}`).join(`
`)}`:Ke;Ie({title:"    ",description:kt,variant:"destructive",duration:6e3})}}),fr=()=>{const we=parseFloat(A)||0,Ke=parseFloat(q)||0;return(we*Ke).toFixed(2)},Zt=we=>{const Ke=we.target.files?.[0];if(Ke){const bt=new FileReader;bt.onload=kt=>{Q(kt.target?.result)},bt.readAsDataURL(Ke)}},Tr=(we=!1)=>{const Ke=I!=="";if(!r||!y||!S||!A||Ke&&!q){Ie({title:"",description:"    ",variant:"destructive"});return}const bt=fr(),kt={projectId:r,materialName:y.trim(),materialCategory:v?.trim()||null,materialUnit:S.trim(),quantity:A.toString(),unitPrice:(Ke?q:q||"0").toString(),totalAmount:(Ke?bt:bt||"0").toString(),purchaseType:I.trim(),paidAmount:I.trim()===""&&bt.toString()||"0",remainingAmount:(I.trim()===""||I.trim()==="")&&bt.toString()||"0",supplierName:U?.trim()||"",invoiceNumber:L?.trim()||"",invoiceDate:_||new Date().toISOString().split("T")[0],purchaseDate:j||new Date().toISOString().split("T")[0],notes:D?.trim()||"",wellId:me||null,invoicePhoto:z||"",addToInventory:F,status:"completed"};console.log("    :",kt),Y?Ot.mutate({id:Y,data:kt}):Pt.mutate(kt),!we&&!Y&&t("/daily-expenses")},{data:Bt=[],isLoading:ar,refetch:Ne}=xt({queryKey:xe.materialPurchasesFiltered(n()??"all",Ce),queryFn:async()=>{const we=n(),Ke="/api/material-purchases",bt=new URLSearchParams;we&&we!=="all"&&bt.append("projectId",we),Ce&&Ce!==""&&bt.append("date",Ce);const kt=bt.toString(),Ft=kt?`${Ke}?${kt}`:Ke;console.log(` [Fetching] ${Ft}`);const Sn=await Ve(Ft,"GET"),ye=Sn.data||Sn;return Array.isArray(ye)?ye:[]},enabled:!0,staleTime:0}),Me=E.useMemo(()=>Bt.filter(we=>{const Ke=e||!r||we.projectId===r,bt=s===""||we.materialName?.toLowerCase().includes(s.toLowerCase())||we.supplierName?.toLowerCase().includes(s.toLowerCase())||we.notes?.toLowerCase().includes(s.toLowerCase())||we.materialCategory?.toLowerCase().includes(s.toLowerCase()),kt=o.paymentType==="all"||we.purchaseType===o.paymentType,Ft=!o.category||o.category==="all"||we.materialCategory===o.category,Sn=!Ce||we.purchaseDate===Ce;let ye=!0;if(o.dateRange?.from||o.dateRange?.to){const Qe=new Date(we.purchaseDate);if(o.dateRange.from){const Ge=new Date(o.dateRange.from);Ge.setHours(0,0,0,0),ye=ye&&Qe>=Ge}if(o.dateRange.to){const Ge=new Date(o.dateRange.to);Ge.setHours(23,59,59,999),ye=ye&&Qe<=Ge}}let Pe=!0;if(o.specificDate){const Qe=new Date(we.purchaseDate),Ge=new Date(o.specificDate);Pe=Qe.getFullYear()===Ge.getFullYear()&&Qe.getMonth()===Ge.getMonth()&&Qe.getDate()===Ge.getDate()}return Ke&&bt&&kt&&Ft&&ye&&Sn&&Pe}),[Bt,r,e,s,o.paymentType,o.category,o.dateRange,o.specificDate,Ce]),We=E.useMemo(()=>({total:Bt.length,cash:Bt.filter(we=>we.purchaseType==="").length,credit:Bt.filter(we=>we.purchaseType?.includes("")||we.purchaseType?.includes("")).length,supply:Bt.filter(we=>we.purchaseType==="").length,totalValue:Bt.reduce((we,Ke)=>we+parseFloat(Ke.totalAmount||"0"),0),avgValue:Bt.length>0?Bt.reduce((we,Ke)=>we+parseFloat(Ke.totalAmount||"0"),0)/Bt.length:0}),[Bt]),rt=E.useCallback(async()=>{l(!0);try{await Ne()}finally{l(!1)}},[Ne]);E.useEffect(()=>{(e||r)&&!Bt.length&&Ne()},[r,e,Ne,Bt.length]);const zt=we=>{m(we.materialName||we.material?.name||""),x(we.materialCategory||we.material?.category||""),C(we.materialUnit||we.material?.unit||we.unit||""),B(we.quantity),R(we.unitPrice),$(we.purchaseType||we.paymentType||""),P(we.supplierName||""),T(we.invoiceNumber||""),k(we.invoiceDate||""),N(we.purchaseDate||""),O(we.notes||""),Q(we.invoicePhoto||""),re(we.id),Z(we.addToInventory||!1),V(!1)},ht=we=>{if(!we)return"N/A";try{return new Date(we).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(Ke){return console.error("Error formatting date:",we,Ke),we}},Jt=we=>{window.confirm("       ")&&Cr.mutate(we)},Kt=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:We.total,icon:_n,color:"blue"},{key:"cash",label:" ",value:We.cash,icon:Sr,color:"green"},{key:"credit",label:" ",value:We.credit,icon:nM,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:We.supply,icon:zN,color:"purple"},{key:"totalValue",label:" ",value:Je(We.totalValue),icon:Dn,color:"teal"},{key:"avgValue",label:" ",value:Je(We.avgValue),icon:cQ,color:"indigo"}]}],[We]),Ct=E.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(rr||[]).map(we=>({value:we,label:we}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[rr]),ir=E.useCallback(async()=>{if(Me.length===0){Ie({title:"  ",description:"       ",variant:"destructive"});return}p(!0);try{const we=await Zpe(Me);Ie(we?{title:"  ",description:`  ${Me.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(we){console.error("Export error:",we),Ie({title:"  ",description:"     ",variant:"destructive"})}finally{p(!1)}},[Me,Ie]),er=E.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:c0,onClick:ir,variant:"outline",disabled:d||Me.length===0}],[ir,d,Me.length]);return i.jsxs("div",{className:"p-4 slide-in",children:[i.jsx(Lo,{hideHeader:!0,title:"",statsRows:Kt,searchValue:s,onSearchChange:a,searchPlaceholder:"    ...",showSearch:!0,filters:Ct,filterValues:o,onFilterChange:f,onReset:gt,onRefresh:rt,isRefreshing:u,actions:er}),Xt&&g&&i.jsx(lr,{className:"mb-4 border-blue-200 bg-blue-50",children:i.jsx(br,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),i.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),i.jsx(Wi,{open:!W,onOpenChange:we=>V(!we),children:i.jsx(lr,{className:"mb-4",children:i.jsxs(br,{className:W?"p-2":"p-4",children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${W?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[i.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${W?"text-base":"text-lg"}`,children:[i.jsx(_n,{className:W?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),Y?" ":"  "]}),i.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:W?i.jsx(Bn,{className:"h-4 w-4"}):i.jsx(No,{className:"h-4 w-4"})})]})}),i.jsx(qi,{children:i.jsxs("div",{className:"space-y-1 pt-2",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsx(Ms,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsx(Ms,{value:v,onChange:x,category:"materialCategories",placeholder:"    ..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),i.jsx(yt,{type:"number",inputMode:"decimal",value:A,onChange:we=>B(we.target.value),placeholder:"0",className:"text-center arabic-numbers",autoWidth:!0,maxWidth:150})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),i.jsx(Ms,{value:S,onChange:C,category:"materialUnits",placeholder:"  ..."})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsx(yt,{type:"number",inputMode:"decimal",value:q,onChange:we=>R(we.target.value),placeholder:"0.00",disabled:K,className:`text-center arabic-numbers ${K?"cursor-not-allowed opacity-50 bg-muted":""}`})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsx(yt,{type:"number",value:fr(),readOnly:!0,disabled:K,className:`text-center arabic-numbers ${K?"bg-muted cursor-not-allowed":"bg-muted"}`})]})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsxs(JL,{value:I,onValueChange:$,className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[i.jsx(Dy,{value:"",id:"cash"}),i.jsx(Ye,{htmlFor:"cash",className:"text-sm",children:""})]}),i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[i.jsx(Dy,{value:"",id:"credit"}),i.jsx(Ye,{htmlFor:"credit",className:"text-sm",children:""})]}),i.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[i.jsx(Dy,{value:"",id:"storage"}),i.jsx(Ye,{htmlFor:"storage",className:"text-sm",children:""})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[i.jsx(_h,{id:"addToInventory",checked:F,onCheckedChange:we=>Z(we===!0),"data-testid":"checkbox-add-to-inventory"}),i.jsxs(Ye,{htmlFor:"addToInventory",className:"text-sm font-medium text-blue-700 dark:text-blue-300 cursor-pointer flex items-center gap-2",children:[i.jsx(_n,{className:"h-4 w-4"}),"  ()"]})]}),i.jsx(Om,{projectId:r,value:me,onChange:ke,optional:!0}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" /"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(os,{value:U,onValueChange:P,options:At.map(we=>({value:we.name,label:we.name,description:we.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),i.jsxs(Us,{open:G,onOpenChange:ae,children:[i.jsx(kh,{asChild:!0,children:i.jsx(Re,{type:"button",variant:"outline",size:"icon",title:"  ",children:i.jsx(gs,{className:"h-4 w-4"})})}),i.jsxs(Ds,{className:"sm:max-w-[425px]",dir:"rtl",children:[i.jsxs(qs,{children:[i.jsx(ca,{children:"  "}),i.jsx(Xl,{children:"   .      ."})]}),i.jsxs("form",{onSubmit:be,className:"form-grid",children:[i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"supplier-name",children:" / *"}),i.jsx(yt,{id:"supplier-name",value:pe,onChange:we=>ce(we.target.value),placeholder:":   ",required:!0})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"supplier-contact",children:" "}),i.jsx(yt,{id:"supplier-contact",value:ge,onChange:we=>ee(we.target.value),placeholder:":  "})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"supplier-phone",children:" "}),i.jsx(yt,{id:"supplier-phone",value:oe,onChange:we=>ne(we.target.value),placeholder:": 777123456",type:"tel"})]}),i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"supplier-address",children:""}),i.jsx(yt,{id:"supplier-address",value:fe,onChange:we=>le(we.target.value),placeholder:":   "})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"supplier-payment",children:" "}),i.jsxs(Yn,{value:ie,onValueChange:te,children:[i.jsx(Vn,{children:i.jsx(Zn,{placeholder:"  "})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"",children:""}),i.jsx($t,{value:"",children:""}),i.jsx($t,{value:" ",children:" "})]})]})]}),i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"supplier-notes",children:""}),i.jsx(Ch,{id:"supplier-notes",value:se,onChange:we=>de(we.target.value),placeholder:"  ...",autoHeight:!0,minRows:3,maxRows:6})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Re,{type:"submit",disabled:ve.isPending||!pe.trim(),children:ve.isPending?" ...":" "}),i.jsx(Re,{type:"button",variant:"outline",onClick:()=>{ae(!1),it()},children:""})]})]})]})]})]}),At.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),i.jsx(cl,{label:" ",value:j,onChange:we=>N(we?Nr(we,"yyyy-MM-dd"):"")}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsx(Ms,{type:"number",inputMode:"numeric",value:L,onChange:T,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),i.jsx(cl,{label:" ",value:_,onChange:we=>k(we?Nr(we,"yyyy-MM-dd"):"")})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:" "}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[z?i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:z,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),i.jsx("p",{className:"text-sm text-success",children:"   "})]}):i.jsxs(i.Fragment,{children:[i.jsx(JP,{className:"h-12 w-12 text-muted-foreground mx-auto"}),i.jsx("p",{className:"text-muted-foreground",children:"   "})]}),i.jsx(yt,{type:"file",accept:"image/*",onChange:Zt,className:"hidden",id:"invoice-photo"}),i.jsx(Ye,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:z?" ":" "})]})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:""}),i.jsx(Ms,{value:D,onChange:O,category:"notes",placeholder:"  ..."})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsxs(Re,{onClick:()=>Tr(!1),disabled:Pt.isPending||Ot.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[i.jsx(Uc,{className:"ml-2 h-4 w-4"}),Pt.isPending||Ot.isPending?" ...":Y?" ":" "]}),!Y&&i.jsxs(Re,{onClick:()=>Tr(!0),disabled:Pt.isPending,variant:"outline",className:"w-full",children:[i.jsx(gs,{className:"ml-2 h-4 w-4"}),"  "]}),Y&&i.jsx(Re,{onClick:jr,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),ar&&i.jsx(lr,{className:"mt-4",children:i.jsx(br,{className:"p-4",children:i.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!ar&&Me.length===0&&i.jsx(lr,{className:"mt-4",children:i.jsx(br,{className:"p-4",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(_n,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),i.jsx("h3",{className:"text-lg font-medium",children:"  "}),i.jsx("p",{className:"text-sm",children:Bt.length>0?"       ":"     "})]})})}),Me.length>0&&i.jsx("div",{className:"mt-4",children:i.jsx(Hs,{columns:3,children:Me.map(we=>{const Ke=we.purchaseType||"",bt=Ke==="",kt=Ke===""||Ke==="",Ft=Ke===""||Ke===""||Ke==="",Sn=bt?"#22c55e":kt?"#f97316":Ft?"#3b82f6":"#6366f1";return i.jsx(xn,{title:we.materialName||"  ",subtitle:ht(we.purchaseDate),titleIcon:zN,headerColor:Sn,badges:[{label:Ke,variant:bt?"success":kt?"warning":Ft?"info":"default"}],fields:[...e||!r?[{label:"",value:we.projectName||we.project?.name||" ",icon:ds,color:"info"}]:[],{label:"",value:we.supplierName||" ",icon:zn,color:"default"},{label:"",value:`${we.quantity} ${we.materialUnit||we.unit}`,icon:_n,color:"warning",emphasis:!0},{label:" ",value:Je(we.unitPrice),icon:Sr,color:"default"},{label:"",value:Je(we.totalAmount),icon:Sr,color:bt?"success":kt?"warning":Ft?"info":"default",emphasis:!0},{label:"",value:ht(we.purchaseDate),icon:ws,color:"muted"}],actions:[{icon:lu,label:"",onClick:()=>zt(we),color:"blue"},{icon:us,label:"",onClick:()=>Jt(we.id),color:"red"}],compact:!0},we.id)})})})]})}function eme({value:t,onValueChange:r,options:e,placeholder:n="...",emptyText:s="  ",allowCustom:a=!0,customPlaceholder:o=" ..."}){const[c,u]=E.useState(!1),[l,d]=E.useState(""),[p,f]=E.useState(!1),[h,g]=E.useState(""),y=E.useRef(null);E.useEffect(()=>{if(c&&y.current){y.current.focus();const A=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(A)}},[c]);const m=E.useMemo(()=>Array.from(new Set(e)).sort((B,q)=>String(B).localeCompare(String(q),"ar")),[e]),v=E.useMemo(()=>h?m.filter(A=>A.toLowerCase().includes(h.toLowerCase())):m,[m,h]),x=A=>{if(A==="__custom__"){f(!0);return}r(A),u(!1),f(!1),d(""),g("")},S=()=>{l.trim()&&(r(l.trim()),u(!1),f(!1),d(""),g(""))},C=t||n;return i.jsxs(Cx,{open:c,onOpenChange:u,children:[i.jsx(Tx,{asChild:!0,children:i.jsxs(Re,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[i.jsx("span",{className:Ee("truncate",!t&&"text-muted-foreground"),children:C}),i.jsx(Bn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsxs(C0,{className:"w-full p-0",align:"start",children:[i.jsx("div",{className:"border-b p-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(To,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(yt,{ref:y,placeholder:"...",value:h,onChange:A=>g(A.target.value),className:"pr-8"})]})}),i.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!a&&i.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:s}),v.map(A=>i.jsxs("button",{onClick:()=>x(A),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[i.jsx(ql,{className:Ee("mr-2 h-4 w-4",t===A?"opacity-100":"opacity-0")}),A]},A)),a&&i.jsxs("button",{onClick:()=>x("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[i.jsx(gs,{className:"mr-2 h-4 w-4"}),o]})]}),p&&i.jsxs("div",{className:"border-t p-3 space-y-2",children:[i.jsx(yt,{value:l,onChange:A=>d(A.target.value),placeholder:"  ...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),S())},autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{onClick:S,size:"sm",className:"flex-1",disabled:!l.trim(),children:""}),i.jsx(Re,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const Sw={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"}};function d8({title:t,label:r,value:e,icon:n,color:s="blue",gradient:a,iconBg:o,iconColor:c,formatter:u,className:l="","data-testid":d}){const p=s&&Sw[s]?Sw[s]:Sw.blue,f=r||t||"",g=(()=>{if(e==null)return"0";if(typeof e=="number"){if(isNaN(e)||!isFinite(e))return"0";if(Math.abs(e)>1e11)return console.warn(" [StatsCard]    :",e),"0";const A=Math.max(0,e);return u?u(A):A.toLocaleString("en-US")}const v=e.toString().trim();if(v.match(/^(\d{1,3})\1{2,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.match(/^(\d)\1{5,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.length>12&&v.match(/^\d+$/))return console.warn(" [StatsCard]    :",v),"0";const x=[/^(\d{2,3})\1{3,}$/,/^0+[1-9]0+$/,/^(123|234|345|456|567|678|789|012|098|987|876|765|654|543|432|321){3,}$/];for(const A of x)if(A.test(v))return console.warn(" [StatsCard]   :",v),"0";const S=v.replace(/[^\d.-]/g,"");if(!S||S===""||S==="-")return"0";const C=parseFloat(S);if(!isNaN(C)&&isFinite(C)){if(Math.abs(C)>1e11)return console.warn(" [StatsCard]    :",C),"0";const A=Math.max(0,C);return Number.isInteger(A)&&A>1e6&&f.includes("")?(console.warn(" [StatsCard]    :",A),"0"):A.toLocaleString("en-US")}return"0"})(),y=f.length>15,m=({children:v})=>y?i.jsx(nx,{delayDuration:300,children:i.jsxs(Gk,{children:[i.jsx(Qk,{asChild:!0,children:v}),i.jsx(sx,{side:"top",className:"max-w-[200px] text-center",children:i.jsx("p",{className:"text-xs",children:f})})]})}):i.jsx(i.Fragment,{children:v});return a||o||c?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:Ee("w-8 h-8 md:w-9 md:h-9 rounded-lg flex-shrink-0 flex items-center justify-center",o),children:i.jsx(n,{className:Ee("h-4 w-4 md:h-5 md:w-5",c)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(m,{children:i.jsx("p",{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400 leading-snug break-words",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},title:f,children:f})}),i.jsx("p",{className:"text-xs md:text-sm font-bold text-slate-900 dark:text-white leading-tight break-words",style:{fontSize:"clamp(0.7rem, 2vw, 0.85rem)"},children:g})]})]}):i.jsx(lr,{className:Ee(p.border,p.bg,"border-l-2 border-1 hover:shadow-lg transition-all duration-300 h-[60px] sm:h-[80px] rounded-lg overflow-hidden shadow-sm"),children:i.jsx(br,{className:"p-1.5 sm:p-3 flex flex-col justify-center h-full",children:i.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(m,{children:i.jsx("p",{className:"text-[8px] sm:text-[10px] font-medium text-muted-foreground/90 uppercase tracking-tighter truncate mb-0",children:f})}),i.jsx("p",{className:Ee("text-sm sm:text-lg font-bold font-mono tracking-tighter leading-none",p.text),children:g})]}),i.jsx("div",{className:Ee("h-7 w-7 sm:h-9 sm:w-9 rounded-md sm:rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm",p.iconBg),children:i.jsx(n,{className:Ee("h-3.5 w-3.5 sm:h-5 sm:w-5",p.iconColor)})})]})})})}function Md({title:t,subtitle:r,stats:e,columns:n=2,showStatus:s=!0,compact:a=!1,hideHeader:o=!1}){const c={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(o)return i.jsx("div",{className:`grid ${c[n]} gap-1 sm:gap-2`,children:e.map((f,h)=>i.jsxs("div",{className:"relative",children:[f.status==="critical"&&i.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&i.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-amber-500 rounded-full animate-pulse z-10"}),i.jsx(d8,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&i.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?i.jsxs(i.Fragment,{children:[i.jsx(Dn,{className:"h-3 w-3 text-green-600"}),i.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(ka,{className:"h-3 w-3 text-red-600"}),i.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))});const u=e.filter(f=>f.status==="critical"),l=e.filter(f=>f.status==="warning"),p=u.length>0?{label:"",color:"destructive"}:l.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return i.jsxs("div",{className:"space-y-3",children:[t&&i.jsx("div",{className:"px-2",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:t}),r&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r})]}),s&&i.jsx(Nt,{variant:p.color==="default"?"secondary":p.color,className:"text-xs",children:p.label})]})}),i.jsx("div",{className:`grid ${c[n]} gap-1 sm:gap-2`,children:e.map((f,h)=>i.jsxs("div",{className:"relative",children:[f.status==="critical"&&i.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&i.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-amber-500 rounded-full animate-pulse z-10"}),i.jsx(d8,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&i.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?i.jsxs(i.Fragment,{children:[i.jsx(Dn,{className:"h-3 w-3 text-green-600"}),i.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(ka,{className:"h-3 w-3 text-red-600"}),i.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))}),(u.length>0||l.length>0)&&i.jsxs("div",{className:"mt-2 p-2 sm:p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded text-xs text-amber-800 dark:text-amber-200",children:[u.length>0&&i.jsxs("p",{className:"truncate",children:[" ",u.length,"  "]}),l.length>0&&i.jsxs("p",{className:"mt-1 truncate",children:[" ",l.length," "]})]})]})}const tme={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},rme={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function nme(){Os();const{selectedProjectId:t,isAllProjects:r,getProjectIdForApi:e}=Io(),[n,s]=E.useState(""),[a,o]=E.useState({dateRange:void 0,specificDate:ia()}),[c,u]=E.useState(!1),[l,d]=E.useState(null),[p,f]=E.useState(!1),[h,g]=E.useState(""),[y,m]=E.useState(""),[v,x]=E.useState(""),[S,C]=E.useState(ia()),[A,B]=E.useState(""),[q,R]=E.useState("worker_transport"),[I,$]=E.useState(),{toast:K}=pn(),U=_s(),{setFloatingAction:P}=Fo(),L=E.useCallback(()=>{g(""),m(""),x(""),C(ia()),B(""),R("worker_transport"),$(void 0),d(null),u(!1)},[]);E.useEffect(()=>(P(()=>{u(!0),d(null)},"  "),()=>P(null)),[P]);const{data:T=[]}=xt({queryKey:xe.workers}),{data:_,isLoading:k,refetch:j}=xt({queryKey:xe.projectTransportation(t,a.specificDate,a.dateRange),queryFn:async()=>{let ee=r?"/api/transportation-expenses":`/api/projects/${e()}/transportation-expenses`;const oe=new URLSearchParams;a.specificDate&&oe.append("date",a.specificDate),a.dateRange?.from&&oe.append("dateFrom",qN(a.dateRange.from)),a.dateRange?.to&&oe.append("dateTo",qN(a.dateRange.to));const ne=oe.toString();return await Ve(`${ee}${ne?`?${ne}`:""}`,"GET")},enabled:!!t||r}),{data:N}=xt({queryKey:xe.autocompleteTransportCategories,queryFn:async()=>Ve("/api/autocomplete/transport-categories","GET")}),D=E.useMemo(()=>{const ee={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return N?.data&&N.data.forEach(oe=>{ee[oe.value]=oe.label}),ee},[N]),O=E.useMemo(()=>{const ee=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!N?.data)return ee;const oe=new Set(ee.map(fe=>fe.value)),ne=N.data.map(fe=>({value:fe.value,label:fe.label})).filter(fe=>!oe.has(fe.value));return[...ee,...ne]},[N]),z=E.useMemo(()=>_?.data||[],[_]),Q=E.useMemo(()=>{if(!n)return z;const ee=n.toLowerCase();return z.filter(oe=>oe.description.toLowerCase().includes(ee)||oe.workerName&&oe.workerName.toLowerCase().includes(ee)||oe.projectName&&oe.projectName.toLowerCase().includes(ee))},[z,n]),Y=E.useMemo(()=>{const ee=z.reduce((de,me)=>de+Number(me.amount),0),oe=z.length,ne=z.filter(de=>de.category==="maintenance").reduce((de,me)=>de+Number(me.amount),0),fe=z.filter(de=>de.category==="fuel_shas"||de.category==="fuel_hilux").reduce((de,me)=>de+Number(me.amount),0),le=z.filter(de=>de.category==="material_delivery").reduce((de,me)=>de+Number(me.amount),0),ie=z.filter(de=>de.category==="concrete_transport").reduce((de,me)=>de+Number(me.amount),0),te=z.filter(de=>de.category==="iron_platforms").reduce((de,me)=>de+Number(me.amount),0),se=z.filter(de=>de.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(de.category)).reduce((de,me)=>de+Number(me.amount),0);return[{title:"  ",value:Je(ee),icon:Sr,color:"blue"},{title:" ",value:oe,icon:la,color:"green"},{title:"  ",value:Je(oe>0?ee/oe:0),icon:Dn,color:"amber"},{title:" ",value:Je(ne),icon:u0,color:"purple"},{title:" ",value:Je(fe),icon:hQ,color:"red"},{title:" ",value:Je(le),icon:_n,color:"indigo"},{title:" ",value:Je(ie),icon:ds,color:"orange"},{title:"  ",value:Je(te),icon:_n,color:"slate"},{title:" ",value:Je(se),icon:hh,color:"gray"}]},[z]),re=async()=>{try{const ee=new z3.Workbook;ee.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const oe=ee.addWorksheet(" ",{views:[{rightToLeft:!0}]});oe.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const ne=oe.getRow(1);ne.font={bold:!0,color:{argb:"FFFFFF"},size:12},ne.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},ne.alignment={vertical:"middle",horizontal:"center"},z.forEach(ie=>{const te=oe.addRow({date:ie.date,description:ie.description,amount:Number(ie.amount),category:D[ie.category]||ie.category||"",worker:T.find(se=>se.id===ie.workerId)?.name||" ",well:ie.wellId||"N/A",notes:ie.notes||""});te.alignment={vertical:"middle",horizontal:"right"}}),oe.eachRow((ie,te)=>{ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},te>1&&(ie.fill={type:"pattern",pattern:"solid",fgColor:{argb:te%2===0?"F8FAFC":"FFFFFF"}})});const fe=await ee.xlsx.writeBuffer(),le=await qh(fe,`__${Nr(new Date,"yyyy-MM-dd")}.xlsx`);K(le?{title:"  ",description:"    "}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ee){console.error("Export error:",ee),K({title:"  ",variant:"destructive"})}},F=()=>{s(""),o({dateRange:void 0,specificDate:ia()}),K({title:"  ",description:"   "})},Z=async()=>{f(!0),await j(),f(!1),K({title:" ",description:"   "})},W=Dt({mutationFn:async ee=>l?Ve(`/api/transportation-expenses/${l}`,"PATCH",ee):Ve("/api/transportation-expenses","POST",ee),onSuccess:()=>{U.invalidateQueries({queryKey:xe.projects}),U.invalidateQueries({queryKey:xe.transportationExpenses}),K({title:l?"  ":"  "}),L()},onError:ee=>{K({title:"  ",description:ee?.message||"   ",variant:"destructive"})}}),V=Dt({mutationFn:ee=>Ve(`/api/transportation-expenses/${ee}`,"DELETE"),onSuccess:()=>{U.invalidateQueries({queryKey:xe.projects}),U.invalidateQueries({queryKey:xe.transportationExpenses}),K({title:"  "})}}),G=ee=>{if(ee.preventDefault(),!y||!v){K({title:"",description:"   ",variant:"destructive"});return}W.mutate({projectId:t,workerId:h||null,amount:y,description:v,date:S,category:q,notes:A,wellId:I})},ae=ee=>{d(ee.id),g(ee.workerId||""),m(ee.amount.toString()),x(ee.description),C(ee.date),B(ee.notes||""),R(ee.category||"worker_transport"),$(ee.wellId||void 0),u(!0)},pe=E.useCallback((ee,oe)=>{if(ee==="specificDate")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),le=String(oe.getDate()).padStart(2,"0");o(ie=>({...ie,specificDate:`${ne}-${fe}-${le}`,dateRange:void 0}))}else o(ne=>({...ne,specificDate:void 0}));else o(ee==="dateRange"?ne=>({...ne,[ee]:oe,specificDate:void 0}):ne=>({...ne,[ee]:oe}))},[]),ce=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:O}],ge=[{key:"export",icon:c0,label:" ",onClick:re,variant:"outline",tooltip:"   "}];return i.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:i.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:i.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[i.jsx(Md,{title:"  ",stats:Y,columns:3}),i.jsx(Us,{open:c,onOpenChange:u,children:i.jsxs(Ds,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[i.jsx(qs,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:i.jsxs(ca,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[i.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:i.jsx(la,{className:"h-5 w-5"})}),l?"  ":"   "]})}),i.jsx("div",{className:"p-4",children:i.jsxs("form",{onSubmit:G,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"col-span-2 space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(lu,{className:"h-3 w-3"}),"  / "]}),i.jsx(Ms,{category:"transport_desc",value:v,onChange:x,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20",autoWidth:!0,maxWidth:400})]}),i.jsxs("div",{className:"col-span-1 space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(Hy,{className:"h-3 w-3"})," "]}),i.jsx(os,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:q,onValueChange:ee=>R(ee),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(Sr,{className:"h-3 w-3"})," "]}),i.jsxs("div",{className:"relative",children:[i.jsx(yt,{type:"number",value:y,onChange:ee=>m(ee.target.value),placeholder:"0.00",autoWidth:!0,maxWidth:200,className:"min-h-11 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),i.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(ws,{className:"h-3 w-3"})," "]}),i.jsx(cl,{value:S,onChange:ee=>C(ee?Nr(ee,"yyyy-MM-dd"):ia()),className:"h-9"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(gs,{className:"h-3 w-3"}),"  ()"]}),i.jsx(eme,{options:T.map(ee=>String(ee.name)),value:T.find(ee=>ee.id===h)?.name||"",onValueChange:ee=>{const oe=T.find(ne=>ne.name===ee);oe&&g(oe.id)},placeholder:" ..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[i.jsx(ON,{className:"h-3 w-3"})," "]}),i.jsx(Om,{projectId:t,value:I,onChange:$,showLabel:!1})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),i.jsx(Ch,{value:A,onChange:ee=>B(ee.target.value),placeholder:"  ...",className:"rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20 text-xs",autoHeight:!0,minRows:2,maxRows:6})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx(Re,{type:"button",variant:"ghost",onClick:L,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),i.jsxs(Re,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:W.isPending,children:[i.jsx(Uc,{className:"h-4 w-4"}),l?"":""]})]})]})})]})}),i.jsx(Lo,{hideHeader:!0,filters:ce,filterValues:{...a,specificDate:a.specificDate?(()=>{const[ee,oe,ne]=a.specificDate.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:pe,onSearchChange:s,searchValue:n,onReset:F,onRefresh:Z,isRefreshing:p,actions:ge,searchPlaceholder:"   ..."}),k?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(ee=>i.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},ee))}):z.length===0?i.jsxs(lr,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[i.jsx(la,{className:"h-12 w-12 text-slate-300 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),i.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):i.jsx(Hs,{children:Q.map(ee=>i.jsx(xn,{title:ee.description,subtitle:(()=>{const oe=ee.workerName||" ";return r&&ee.projectName?`${oe} - ${ee.projectName}`:oe})(),titleIcon:la,className:Ee("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",tme[ee.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:Je(Number(ee.amount)),icon:Sr,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(oe=>oe.value===ee.category)?.label||ee.category||"",icon:Hy,emphasis:!1,iconClassName:rme[ee.category]||"text-blue-500"},{label:"",value:ee.date,icon:ws,color:"info",iconClassName:"text-sky-500"},{label:"",value:ee.wellId?` ${ee.wellId}`:"N/A",icon:ON,hidden:!ee.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:lu,label:"",onClick:()=>ae(ee),variant:"ghost"},{icon:us,label:"",onClick:()=>{confirm("    ")&&V.mutate(ee.id)},variant:"ghost"}],footer:ee.notes&&i.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(hh,{className:"h-3 w-3 text-slate-400 mt-0.5"}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:ee.notes})})]})})},ee.id))})]})})})}const st=Symbol.for("drizzle:entityKind");function na(t,r){if(!t||typeof t!="object")return!1;if(t instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,st))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let e=Object.getPrototypeOf(t).constructor;if(e)for(;e;){if(st in e&&e[st]===r[st])return!0;e=Object.getPrototypeOf(e)}return!1}var nE;nE=st;class Th{constructor(r,e){De(this,"name");De(this,"keyAsName");De(this,"primary");De(this,"notNull");De(this,"default");De(this,"defaultFn");De(this,"onUpdateFn");De(this,"hasDefault");De(this,"isUnique");De(this,"uniqueName");De(this,"uniqueType");De(this,"dataType");De(this,"columnType");De(this,"enumValues");De(this,"generated");De(this,"generatedIdentity");De(this,"config");this.table=r,this.config=e,this.name=e.name,this.keyAsName=e.keyAsName,this.notNull=e.notNull,this.default=e.default,this.defaultFn=e.defaultFn,this.onUpdateFn=e.onUpdateFn,this.hasDefault=e.hasDefault,this.primary=e.primaryKey,this.isUnique=e.isUnique,this.uniqueName=e.uniqueName,this.uniqueType=e.uniqueType,this.dataType=e.dataType,this.columnType=e.columnType,this.generated=e.generated,this.generatedIdentity=e.generatedIdentity}mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}De(Th,nE,"Column");var sE;sE=st;class aB{constructor(r,e,n){De(this,"config");De(this,"$default",this.$defaultFn);De(this,"$onUpdate",this.$onUpdateFn);this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:e,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}De(aB,sE,"ColumnBuilder");const Qf=Symbol.for("drizzle:Name");var aE;aE=st;class iB{constructor(r,e){De(this,"reference");De(this,"_onUpdate","no action");De(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:a}=r();return{name:n,columns:s,foreignTable:a[0].table,foreignColumns:a}},e&&(this._onUpdate=e.onUpdate,this._onDelete=e.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new oB(r,this)}}De(iB,aE,"PgForeignKeyBuilder");var iE;iE=st;class oB{constructor(r,e){De(this,"reference");De(this,"onUpdate");De(this,"onDelete");this.table=r,this.reference=e.reference,this.onUpdate=e._onUpdate,this.onDelete=e._onDelete}getName(){const{name:r,columns:e,foreignColumns:n}=this.reference(),s=e.map(c=>c.name),a=n.map(c=>c.name),o=[this.table[Qf],...s,n[0].table[Qf],...a];return r??`${o.join("_")}_fk`}}De(oB,iE,"PgForeignKey");function sme(t,...r){return t(...r)}function ame(t,r){return`${t[Qf]}_${r.join("_")}_unique`}function f8(t,r,e){for(let n=r;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(r,n).replace(/\\/g,""),n+1];if(!e&&(s===","||s==="}"))return[t.slice(r,n).replace(/\\/g,""),n]}return[t.slice(r).replace(/\\/g,""),t.length]}function lB(t,r=0){const e=[];let n=r,s=!1;for(;n<t.length;){const a=t[n];if(a===","){(s||n===r)&&e.push(""),s=!0,n++;continue}if(s=!1,a==="\\"){n+=2;continue}if(a==='"'){const[u,l]=f8(t,n+1,!0);e.push(u),n=l;continue}if(a==="}")return[e,n+1];if(a==="{"){const[u,l]=lB(t,n+1);e.push(u),n=l;continue}const[o,c]=f8(t,n,!1);e.push(o),n=c}return[e,n]}function ime(t){const[r]=lB(t,1);return r}function cB(t){return`{${t.map(r=>Array.isArray(r)?cB(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}var oE,lE;class tn extends(lE=aB,oE=st,lE){constructor(){super(...arguments);De(this,"foreignKeyConfigs",[])}array(e){return new dB(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>sme((o,c)=>{const u=new iB(()=>{const l=o();return{columns:[e],foreignColumns:[l]}});return c.onUpdate&&u.onUpdate(c.onUpdate),c.onDelete&&u.onDelete(c.onDelete),u.build(n)},s,a))}buildExtraConfigColumn(e){return new uB(e,this.config)}}De(tn,oE,"PgColumnBuilder");var cE,uE;class Ir extends(uE=Th,cE=st,uE){constructor(r,e){e.uniqueName||(e.uniqueName=ame(r,[e.name])),super(r,e),this.table=r}}De(Ir,cE,"PgColumn");var dE,fE;class uB extends(fE=Ir,dE=st,fE){constructor(){super(...arguments);De(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});De(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}De(uB,dE,"ExtraConfigColumn");var hE,pE;class dB extends(pE=tn,hE=st,pE){constructor(r,e,n){super(r,"array","PgArray"),this.config.baseBuilder=e,this.config.size=n}build(r){const e=this.config.baseBuilder.build(r);return new z_(r,this.config,e)}}De(dB,hE,"PgArrayBuilder");var mE,gE;const Lb=class Lb extends(gE=Ir,mE=st,gE){constructor(e,n,s,a){super(e,n);De(this,"size");this.baseColumn=s,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=ime(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const s=e.map(a=>a===null?null:na(this.baseColumn,Lb)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:cB(s)}};De(Lb,mE,"PgArray");let z_=Lb;const h8=Symbol.for("drizzle:isPgEnum");function ome(t){return!!t&&typeof t=="function"&&h8 in t&&t[h8]===!0}var yE;yE=st;class q3{constructor(r,e,n,s=!1){this._={brand:"Subquery",sql:r,selectedFields:e,alias:n,isWith:s}}}De(q3,yE,"Subquery");const lme={startActiveSpan(t,r){return r()}},Xf=Symbol.for("drizzle:ViewBaseConfig"),Nw=Symbol.for("drizzle:Schema"),p8=Symbol.for("drizzle:Columns"),m8=Symbol.for("drizzle:ExtraConfigColumns"),Cw=Symbol.for("drizzle:OriginalName"),Tw=Symbol.for("drizzle:BaseName"),Tb=Symbol.for("drizzle:IsAlias"),g8=Symbol.for("drizzle:ExtraConfigBuilder"),fB=Symbol.for("drizzle:IsDrizzleTable");var bE,xE,vE,wE,_E,kE,jE,SE,NE,CE,hy;let wi=(CE=st,NE=Qf,SE=Cw,jE=Nw,kE=p8,_E=m8,wE=Tw,vE=Tb,xE=fB,bE=g8,hy=class{constructor(r,e,n){De(this,NE);De(this,SE);De(this,jE);De(this,kE);De(this,_E);De(this,wE);De(this,vE,!1);De(this,xE,!0);De(this,bE);this[Qf]=this[Cw]=r,this[Nw]=e,this[Tw]=n}},De(hy,CE,"Table"),De(hy,"Symbol",{Name:Qf,Schema:Nw,OriginalName:Cw,Columns:p8,ExtraConfigColumns:m8,BaseName:Tw,IsAlias:Tb,ExtraConfigBuilder:g8}),hy);function hB(t){return typeof t=="object"&&t!==null&&fB in t}function cme(t){return t!=null&&typeof t.getSQL=="function"}function ume(t){const r={sql:"",params:[]};for(const e of t)r.sql+=e.sql,r.params.push(...e.params),e.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...e.typings));return r}var TE;TE=st;class Ki{constructor(r){De(this,"value");this.value=Array.isArray(r)?r:[r]}getSQL(){return new Is([this])}}De(Ki,TE,"StringChunk");var EE;EE=st;const Gu=class Gu{constructor(r){De(this,"decoder",pB);De(this,"shouldInlineParams",!1);this.queryChunks=r}append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return lme.startActiveSpan("drizzle.buildSQL",e=>{const n=this.buildQueryFromSourceParams(this.queryChunks,r);return e?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(r,e){const n=Object.assign({},e,{inlineParams:e.inlineParams||this.shouldInlineParams,paramStartIndex:e.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:c,inlineParams:u,paramStartIndex:l}=n;return ume(r.map(d=>{if(na(d,Ki))return{sql:d.value.join(""),params:[]};if(na(d,Eb))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Ki("(")];for(const[f,h]of d.entries())p.push(h),f<d.length-1&&p.push(new Ki(", "));return p.push(new Ki(")")),this.buildQueryFromSourceParams(p,n)}if(na(d,Gu))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:u||d.shouldInlineParams});if(na(d,wi)){const p=d[wi.Symbol.Schema],f=d[wi.Symbol.Name];return{sql:p===void 0||d[Tb]?a(f):a(p)+"."+a(f),params:[]}}if(na(d,Th)){const p=s.getColumnCasing(d);if(e.invokeSource==="indexes")return{sql:a(p),params:[]};const f=d.table[wi.Symbol.Schema];return{sql:d.table[Tb]||f===void 0?a(d.table[wi.Symbol.Name])+"."+a(p):a(f)+"."+a(d.table[wi.Symbol.Name])+"."+a(p),params:[]}}if(na(d,yB)){const p=d[Xf].schema,f=d[Xf].name;return{sql:p===void 0||d[Xf].isAlias?a(f):a(p)+"."+a(f),params:[]}}if(na(d,H3)){if(na(d.value,Ab))return{sql:o(l.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(na(p,Gu))return this.buildQueryFromSourceParams([p],n);if(u)return{sql:this.mapInlineParam(p,n),params:[]};let f=["none"];return c&&(f=[c(d.encoder)]),{sql:o(l.value++,p),params:[p],typings:f}}return na(d,Ab)?{sql:o(l.value++,d),params:[d],typings:["none"]}:na(d,Gu.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:na(d,q3)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ki("("),d._.sql,new Ki(") "),new Eb(d._.alias)],n):ome(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:cme(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Ki("("),d.getSQL(),new Ki(")")],n):u?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(l.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(r,{escapeString:e}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return e(r);if(typeof r=="object"){const n=r.toString();return e(n==="[object Object]"?JSON.stringify(r):n)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Gu.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}};De(Gu,EE,"SQL");let Is=Gu;var AE;AE=st;class Eb{constructor(r){De(this,"brand");this.value=r}getSQL(){return new Is([this])}}De(Eb,AE,"Name");const pB={mapFromDriverValue:t=>t},mB={mapToDriverValue:t=>t};({...pB,...mB});var PE;PE=st;class H3{constructor(r,e=mB){De(this,"brand");this.value=r,this.encoder=e}getSQL(){return new Is([this])}}De(H3,PE,"Param");function xr(t,...r){const e=[];(r.length>0||t.length>0&&t[0]!=="")&&e.push(new Ki(t[0]));for(const[n,s]of r.entries())e.push(s,new Ki(t[n+1]));return new Is(e)}(t=>{function r(){return new Is([])}t.empty=r;function e(u){return new Is(u)}t.fromList=e;function n(u){return new Is([new Ki(u)])}t.raw=n;function s(u,l){const d=[];for(const[p,f]of u.entries())p>0&&l!==void 0&&d.push(l),d.push(f);return new Is(d)}t.join=s;function a(u){return new Eb(u)}t.identifier=a;function o(u){return new Ab(u)}t.placeholder=o;function c(u,l){return new H3(u,l)}t.param=c})(xr||(xr={}));(t=>{var e;e=st;const n=class n{constructor(a,o){De(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};De(n,e,"SQL.Aliased");let r=n;t.Aliased=r})(Is||(Is={}));var ME;ME=st;class Ab{constructor(r){this.name=r}getSQL(){return new Is([this])}}De(Ab,ME,"Placeholder");const gB=Symbol.for("drizzle:IsDrizzleView");var RE,DE,IE;IE=st,DE=Xf,RE=gB;class yB{constructor({name:r,schema:e,selectedFields:n,query:s}){De(this,DE);De(this,RE,!0);this[Xf]={name:r,originalName:r,schema:e,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Is([this])}}De(yB,IE,"View");function dme(t){return typeof t=="object"&&t!==null&&gB in t}Th.prototype.getSQL=function(){return new Is([this])};wi.prototype.getSQL=function(){return new Is([this])};q3.prototype.getSQL=function(){return new Is([this])};function fme(t){return t[wi.Symbol.Columns]}function hme(t){return t[Xf].selectedFields}function Qs(t,r){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:r}}var OE,FE;class F0 extends(FE=tn,OE=st,FE){generatedAlwaysAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"always",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}De(F0,OE,"PgIntColumnBaseBuilder");var LE,BE;class bB extends(BE=F0,LE=st,BE){constructor(r){super(r,"number","PgBigInt53")}build(r){return new xB(r,this.config)}}De(bB,LE,"PgBigInt53Builder");var $E,zE;class xB extends(zE=Ir,$E=st,zE){getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}De(xB,$E,"PgBigInt53");var VE,WE;class vB extends(WE=F0,VE=st,WE){constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new wB(r,this.config)}}De(vB,VE,"PgBigInt64Builder");var UE,qE;class wB extends(qE=Ir,UE=st,qE){getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}De(wB,UE,"PgBigInt64");function pme(t,r){const{name:e,config:n}=Qs(t,r);return n.mode==="number"?new bB(e):new vB(e)}var HE,KE;class _B extends(KE=tn,HE=st,KE){constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new kB(r,this.config)}}De(_B,HE,"PgBigSerial53Builder");var GE,QE;class kB extends(QE=Ir,GE=st,QE){getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}De(kB,GE,"PgBigSerial53");var XE,YE;class jB extends(YE=tn,XE=st,YE){constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new SB(r,this.config)}}De(jB,XE,"PgBigSerial64Builder");var ZE,JE;class SB extends(JE=Ir,ZE=st,JE){getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}De(SB,ZE,"PgBigSerial64");function mme(t,r){const{name:e,config:n}=Qs(t,r);return n.mode==="number"?new _B(e):new jB(e)}var e9,t9;class NB extends(t9=tn,e9=st,t9){constructor(r){super(r,"boolean","PgBoolean")}build(r){return new CB(r,this.config)}}De(NB,e9,"PgBooleanBuilder");var r9,n9;class CB extends(n9=Ir,r9=st,n9){getSQLType(){return"boolean"}}De(CB,r9,"PgBoolean");function kr(t){return new NB(t??"")}var s9,a9;class TB extends(a9=tn,s9=st,a9){constructor(r,e){super(r,"string","PgChar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new EB(r,this.config)}}De(TB,s9,"PgCharBuilder");var i9,o9;class EB extends(o9=Ir,i9=st,o9){constructor(){super(...arguments);De(this,"length",this.config.length);De(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}De(EB,i9,"PgChar");function gme(t,r={}){const{name:e,config:n}=Qs(t,r);return new TB(e,n)}var l9,c9;class AB extends(c9=tn,l9=st,c9){constructor(r){super(r,"string","PgCidr")}build(r){return new PB(r,this.config)}}De(AB,l9,"PgCidrBuilder");var u9,d9;class PB extends(d9=Ir,u9=st,d9){getSQLType(){return"cidr"}}De(PB,u9,"PgCidr");function yme(t){return new AB(t??"")}var f9,h9;class MB extends(h9=tn,f9=st,h9){constructor(r,e,n){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=e,this.config.customTypeParams=n}build(r){return new RB(r,this.config)}}De(MB,f9,"PgCustomColumnBuilder");var p9,m9;class RB extends(m9=Ir,p9=st,m9){constructor(e,n){super(e,n);De(this,"sqlName");De(this,"mapTo");De(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}De(RB,p9,"PgCustomColumn");function bme(t){return(r,e)=>{const{name:n,config:s}=Qs(r,e);return new MB(n,s,t)}}var g9,y9;class Hh extends(y9=tn,g9=st,y9){defaultNow(){return this.default(xr`now()`)}}De(Hh,g9,"PgDateColumnBaseBuilder");var b9,x9;class DB extends(x9=Hh,b9=st,x9){constructor(r){super(r,"date","PgDate")}build(r){return new IB(r,this.config)}}De(DB,b9,"PgDateBuilder");var v9,w9;class IB extends(w9=Ir,v9=st,w9){getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}De(IB,v9,"PgDate");var _9,k9;class OB extends(k9=Hh,_9=st,k9){constructor(r){super(r,"string","PgDateString")}build(r){return new FB(r,this.config)}}De(OB,_9,"PgDateStringBuilder");var j9,S9;class FB extends(S9=Ir,j9=st,S9){getSQLType(){return"date"}}De(FB,j9,"PgDateString");function yu(t,r){const{name:e,config:n}=Qs(t,r);return n?.mode==="date"?new DB(e):new OB(e)}var N9,C9;class LB extends(C9=tn,N9=st,C9){constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new BB(r,this.config)}}De(LB,N9,"PgDoublePrecisionBuilder");var T9,E9;class BB extends(E9=Ir,T9=st,E9){getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}De(BB,T9,"PgDoublePrecision");function xme(t){return new LB(t??"")}var A9,P9;class $B extends(P9=tn,A9=st,P9){constructor(r){super(r,"string","PgInet")}build(r){return new zB(r,this.config)}}De($B,A9,"PgInetBuilder");var M9,R9;class zB extends(R9=Ir,M9=st,R9){getSQLType(){return"inet"}}De(zB,M9,"PgInet");function Qd(t){return new $B(t??"")}var D9,I9;class VB extends(I9=F0,D9=st,I9){constructor(r){super(r,"number","PgInteger")}build(r){return new WB(r,this.config)}}De(VB,D9,"PgIntegerBuilder");var O9,F9;class WB extends(F9=Ir,O9=st,F9){getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}De(WB,O9,"PgInteger");function tr(t){return new VB(t??"")}var L9,B9;class UB extends(B9=tn,L9=st,B9){constructor(r,e){super(r,"string","PgInterval"),this.config.intervalConfig=e}build(r){return new qB(r,this.config)}}De(UB,L9,"PgIntervalBuilder");var $9,z9;class qB extends(z9=Ir,$9=st,z9){constructor(){super(...arguments);De(this,"fields",this.config.intervalConfig.fields);De(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}De(qB,$9,"PgInterval");function vme(t,r={}){const{name:e,config:n}=Qs(t,r);return new UB(e,n)}var V9,W9;class HB extends(W9=tn,V9=st,W9){constructor(r){super(r,"json","PgJson")}build(r){return new KB(r,this.config)}}De(HB,V9,"PgJsonBuilder");var U9,q9;class KB extends(q9=Ir,U9=st,q9){constructor(r,e){super(r,e)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}De(KB,U9,"PgJson");function wme(t){return new HB(t??"")}var H9,K9;class GB extends(K9=tn,H9=st,K9){constructor(r){super(r,"json","PgJsonb")}build(r){return new QB(r,this.config)}}De(GB,H9,"PgJsonbBuilder");var G9,Q9;class QB extends(Q9=Ir,G9=st,Q9){constructor(r,e){super(r,e)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}De(QB,G9,"PgJsonb");function en(t){return new GB(t??"")}var X9,Y9;class XB extends(Y9=tn,X9=st,Y9){constructor(r){super(r,"array","PgLine")}build(r){return new YB(r,this.config)}}De(XB,X9,"PgLineBuilder");var Z9,J9;class YB extends(J9=Ir,Z9=st,J9){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}De(YB,Z9,"PgLine");var eA,tA;class ZB extends(tA=tn,eA=st,tA){constructor(r){super(r,"json","PgLineABC")}build(r){return new JB(r,this.config)}}De(ZB,eA,"PgLineABCBuilder");var rA,nA;class JB extends(nA=Ir,rA=st,nA){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return{a:Number.parseFloat(e),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}De(JB,rA,"PgLineABC");function _me(t,r){const{name:e,config:n}=Qs(t,r);return!n?.mode||n.mode==="tuple"?new XB(e):new ZB(e)}var sA,aA;class e$ extends(aA=tn,sA=st,aA){constructor(r){super(r,"string","PgMacaddr")}build(r){return new t$(r,this.config)}}De(e$,sA,"PgMacaddrBuilder");var iA,oA;class t$ extends(oA=Ir,iA=st,oA){getSQLType(){return"macaddr"}}De(t$,iA,"PgMacaddr");function kme(t){return new e$(t??"")}var lA,cA;class r$ extends(cA=tn,lA=st,cA){constructor(r){super(r,"string","PgMacaddr8")}build(r){return new n$(r,this.config)}}De(r$,lA,"PgMacaddr8Builder");var uA,dA;class n$ extends(dA=Ir,uA=st,dA){getSQLType(){return"macaddr8"}}De(n$,uA,"PgMacaddr8");function jme(t){return new r$(t??"")}var fA,hA;class s$ extends(hA=tn,fA=st,hA){constructor(r,e,n){super(r,"string","PgNumeric"),this.config.precision=e,this.config.scale=n}build(r){return new a$(r,this.config)}}De(s$,fA,"PgNumericBuilder");var pA,mA;class a$ extends(mA=Ir,pA=st,mA){constructor(e,n){super(e,n);De(this,"precision");De(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}De(a$,pA,"PgNumeric");function i$(t,r){const{name:e,config:n}=Qs(t,r);return new s$(e,n?.precision,n?.scale)}const sr=i$;var gA,yA;class o$ extends(yA=tn,gA=st,yA){constructor(r){super(r,"array","PgPointTuple")}build(r){return new l$(r,this.config)}}De(o$,gA,"PgPointTupleBuilder");var bA,xA;class l$ extends(xA=Ir,bA=st,xA){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}De(l$,bA,"PgPointTuple");var vA,wA;class c$ extends(wA=tn,vA=st,wA){constructor(r){super(r,"json","PgPointObject")}build(r){return new u$(r,this.config)}}De(c$,vA,"PgPointObjectBuilder");var _A,kA;class u$ extends(kA=Ir,_A=st,kA){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return{x:Number.parseFloat(e),y:Number.parseFloat(n)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}De(u$,_A,"PgPointObject");function Sme(t,r){const{name:e,config:n}=Qs(t,r);return!n?.mode||n.mode==="tuple"?new o$(e):new c$(e)}function Nme(t){const r=[];for(let e=0;e<t.length;e+=2)r.push(Number.parseInt(t.slice(e,e+2),16));return new Uint8Array(r)}function y8(t,r){const e=new ArrayBuffer(8),n=new DataView(e);for(let s=0;s<8;s++)n.setUint8(s,t[r+s]);return n.getFloat64(0,!0)}function d$(t){const r=Nme(t);let e=0;const n=r[e];e+=1;const s=new DataView(r.buffer),a=s.getUint32(e,n===1);if(e+=4,a&536870912&&(s.getUint32(e,n===1),e+=4),(a&65535)===1){const o=y8(r,e);e+=8;const c=y8(r,e);return e+=8,[o,c]}throw new Error("Unsupported geometry type")}var jA,SA;class f$ extends(SA=tn,jA=st,SA){constructor(r){super(r,"array","PgGeometry")}build(r){return new h$(r,this.config)}}De(f$,jA,"PgGeometryBuilder");var NA,CA;class h$ extends(CA=Ir,NA=st,CA){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return d$(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}De(h$,NA,"PgGeometry");var TA,EA;class p$ extends(EA=tn,TA=st,EA){constructor(r){super(r,"json","PgGeometryObject")}build(r){return new m$(r,this.config)}}De(p$,TA,"PgGeometryObjectBuilder");var AA,PA;class m$ extends(PA=Ir,AA=st,PA){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const e=d$(r);return{x:e[0],y:e[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}De(m$,AA,"PgGeometryObject");function Cme(t,r){const{name:e,config:n}=Qs(t,r);return!n?.mode||n.mode==="tuple"?new f$(e):new p$(e)}var MA,RA;class g$ extends(RA=tn,MA=st,RA){constructor(r,e){super(r,"number","PgReal"),this.config.length=e}build(r){return new y$(r,this.config)}}De(g$,MA,"PgRealBuilder");var DA,IA;class y$ extends(IA=Ir,DA=st,IA){constructor(e,n){super(e,n);De(this,"mapFromDriverValue",e=>typeof e=="string"?Number.parseFloat(e):e)}getSQLType(){return"real"}}De(y$,DA,"PgReal");function Tme(t){return new g$(t??"")}var OA,FA;class b$ extends(FA=tn,OA=st,FA){constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new x$(r,this.config)}}De(b$,OA,"PgSerialBuilder");var LA,BA;class x$ extends(BA=Ir,LA=st,BA){getSQLType(){return"serial"}}De(x$,LA,"PgSerial");function Xs(t){return new b$(t??"")}var $A,zA;class v$ extends(zA=F0,$A=st,zA){constructor(r){super(r,"number","PgSmallInt")}build(r){return new w$(r,this.config)}}De(v$,$A,"PgSmallIntBuilder");var VA,WA;class w$ extends(WA=Ir,VA=st,WA){constructor(){super(...arguments);De(this,"mapFromDriverValue",e=>typeof e=="string"?Number(e):e)}getSQLType(){return"smallint"}}De(w$,VA,"PgSmallInt");function Eme(t){return new v$(t??"")}var UA,qA;class _$ extends(qA=tn,UA=st,qA){constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new k$(r,this.config)}}De(_$,UA,"PgSmallSerialBuilder");var HA,KA;class k$ extends(KA=Ir,HA=st,KA){getSQLType(){return"smallserial"}}De(k$,HA,"PgSmallSerial");function Ame(t){return new _$(t??"")}var GA,QA;class j$ extends(QA=tn,GA=st,QA){constructor(r,e){super(r,"string","PgText"),this.config.enumValues=e.enum}build(r){return new S$(r,this.config)}}De(j$,GA,"PgTextBuilder");var XA,YA;class S$ extends(YA=Ir,XA=st,YA){constructor(){super(...arguments);De(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}De(S$,XA,"PgText");function je(t,r={}){const{name:e,config:n}=Qs(t,r);return new j$(e,n)}var ZA,JA;class N$ extends(JA=Hh,ZA=st,JA){constructor(r,e,n){super(r,"string","PgTime"),this.withTimezone=e,this.precision=n,this.config.withTimezone=e,this.config.precision=n}build(r){return new C$(r,this.config)}}De(N$,ZA,"PgTimeBuilder");var e7,t7;class C$ extends(t7=Ir,e7=st,t7){constructor(e,n){super(e,n);De(this,"withTimezone");De(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}De(C$,e7,"PgTime");function Pme(t,r={}){const{name:e,config:n}=Qs(t,r);return new N$(e,n.withTimezone??!1,n.precision)}var r7,n7;class T$ extends(n7=Hh,r7=st,n7){constructor(r,e,n){super(r,"date","PgTimestamp"),this.config.withTimezone=e,this.config.precision=n}build(r){return new E$(r,this.config)}}De(T$,r7,"PgTimestampBuilder");var s7,a7;class E$ extends(a7=Ir,s7=st,a7){constructor(e,n){super(e,n);De(this,"withTimezone");De(this,"precision");De(this,"mapFromDriverValue",e=>new Date(this.withTimezone?e:e+"+0000"));De(this,"mapToDriverValue",e=>e.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}De(E$,s7,"PgTimestamp");var i7,o7;class A$ extends(o7=Hh,i7=st,o7){constructor(r,e,n){super(r,"string","PgTimestampString"),this.config.withTimezone=e,this.config.precision=n}build(r){return new P$(r,this.config)}}De(A$,i7,"PgTimestampStringBuilder");var l7,c7;class P$ extends(c7=Ir,l7=st,c7){constructor(e,n){super(e,n);De(this,"withTimezone");De(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}De(P$,l7,"PgTimestampString");function et(t,r={}){const{name:e,config:n}=Qs(t,r);return n?.mode==="string"?new A$(e,n.withTimezone??!1,n.precision):new T$(e,n?.withTimezone??!1,n?.precision)}var u7,d7;class M$ extends(d7=tn,u7=st,d7){constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(xr`gen_random_uuid()`)}build(r){return new R$(r,this.config)}}De(M$,u7,"PgUUIDBuilder");var f7,h7;class R$ extends(h7=Ir,f7=st,h7){getSQLType(){return"uuid"}}De(R$,f7,"PgUUID");function Ua(t){return new M$(t??"")}var p7,m7;class D$ extends(m7=tn,p7=st,m7){constructor(r,e){super(r,"string","PgVarchar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new I$(r,this.config)}}De(D$,p7,"PgVarcharBuilder");var g7,y7;class I$ extends(y7=Ir,g7=st,y7){constructor(){super(...arguments);De(this,"length",this.config.length);De(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}De(I$,g7,"PgVarchar");function Oe(t,r={}){const{name:e,config:n}=Qs(t,r);return new D$(e,n)}var b7,x7;class O$ extends(x7=tn,b7=st,x7){constructor(r,e){super(r,"string","PgBinaryVector"),this.config.dimensions=e.dimensions}build(r){return new F$(r,this.config)}}De(O$,b7,"PgBinaryVectorBuilder");var v7,w7;class F$ extends(w7=Ir,v7=st,w7){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}De(F$,v7,"PgBinaryVector");function Mme(t,r){const{name:e,config:n}=Qs(t,r);return new O$(e,n)}var _7,k7;class L$ extends(k7=tn,_7=st,k7){constructor(r,e){super(r,"array","PgHalfVector"),this.config.dimensions=e.dimensions}build(r){return new B$(r,this.config)}}De(L$,_7,"PgHalfVectorBuilder");var j7,S7;class B$ extends(S7=Ir,j7=st,S7){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}De(B$,j7,"PgHalfVector");function Rme(t,r){const{name:e,config:n}=Qs(t,r);return new L$(e,n)}var N7,C7;class $$ extends(C7=tn,N7=st,C7){constructor(r,e){super(r,"string","PgSparseVector"),this.config.dimensions=e.dimensions}build(r){return new z$(r,this.config)}}De($$,N7,"PgSparseVectorBuilder");var T7,E7;class z$ extends(E7=Ir,T7=st,E7){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}De(z$,T7,"PgSparseVector");function Dme(t,r){const{name:e,config:n}=Qs(t,r);return new $$(e,n)}var A7,P7;class V$ extends(P7=tn,A7=st,P7){constructor(r,e){super(r,"array","PgVector"),this.config.dimensions=e.dimensions}build(r){return new W$(r,this.config)}}De(V$,A7,"PgVectorBuilder");var M7,R7;class W$ extends(R7=Ir,M7=st,R7){constructor(){super(...arguments);De(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}De(W$,M7,"PgVector");function Ime(t,r){const{name:e,config:n}=Qs(t,r);return new V$(e,n)}function Ome(){return{bigint:pme,bigserial:mme,boolean:kr,char:gme,cidr:yme,customType:bme,date:yu,doublePrecision:xme,inet:Qd,integer:tr,interval:vme,json:wme,jsonb:en,line:_me,macaddr:kme,macaddr8:jme,numeric:i$,point:Sme,geometry:Cme,real:Tme,serial:Xs,smallint:Eme,smallserial:Ame,text:je,time:Pme,timestamp:et,uuid:Ua,varchar:Oe,bit:Mme,halfvec:Rme,sparsevec:Dme,vector:Ime}}const V_=Symbol.for("drizzle:PgInlineForeignKeys"),b8=Symbol.for("drizzle:EnableRLS");var D7,I7,O7,F7,L7;class nm extends(L7=wi,F7=st,O7=V_,I7=b8,D7=wi.Symbol.ExtraConfigBuilder,L7){constructor(){super(...arguments);De(this,O7,[]);De(this,I7,!1);De(this,D7)}}De(nm,F7,"PgTable"),De(nm,"Symbol",Object.assign({},wi.Symbol,{InlineForeignKeys:V_,EnableRLS:b8}));function Fme(t,r,e,n,s=t){const a=new nm(t,n,s),o=typeof r=="function"?r(Ome()):r,c=Object.fromEntries(Object.entries(o).map(([d,p])=>{const f=p;f.setName(d);const h=f.build(a);return a[V_].push(...f.buildForeignKeys(h,a)),[d,h]})),u=Object.fromEntries(Object.entries(o).map(([d,p])=>{const f=p;f.setName(d);const h=f.buildExtraConfigColumn(a);return[d,h]})),l=Object.assign(a,c);return l[wi.Symbol.Columns]=c,l[wi.Symbol.ExtraConfigColumns]=u,e&&(l[nm.Symbol.ExtraConfigBuilder]=e),Object.assign(l,{enableRLS:()=>(l[nm.Symbol.EnableRLS]=!0,l)})}const Qt=(t,r,e)=>Fme(t,r,e,void 0),Hn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ls(t,r){return r.includes(t.columnType)}function Lme(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Bme=l4([Hr(),o4(),ox(),fR()]),$me=l4([Bme,pR(ob()),hR(ob())]),zme=i4(t=>t instanceof Buffer);function U$(t,r){const e=r?.zodInstance??FJ,n=r?.coerce??{};let s;return Lme(t)&&(s=t.enumValues.length?e.enum(t.enumValues):e.string()),s||(ls(t,["PgGeometry","PgPointTuple"])?s=e.tuple([e.number(),e.number()]):ls(t,["PgGeometryObject","PgPointObject"])?s=e.object({x:e.number(),y:e.number()}):ls(t,["PgHalfVector","PgVector"])?(s=e.array(e.number()),s=t.dimensions?s.length(t.dimensions):s):ls(t,["PgLine"])?s=e.tuple([e.number(),e.number(),e.number()]):ls(t,["PgLineABC"])?s=e.object({a:e.number(),b:e.number(),c:e.number()}):ls(t,["PgArray"])?(s=e.array(U$(t.baseColumn,e)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=e.array(e.any()):t.dataType==="number"?s=Vme(t,e,n):t.dataType==="bigint"?s=Wme(t,e,n):t.dataType==="boolean"?s=n===!0||n.boolean?e.coerce.boolean():e.boolean():t.dataType==="date"?s=n===!0||n.date?e.coerce.date():e.date():t.dataType==="string"?s=Ume(t,e,n):t.dataType==="json"?s=$me:t.dataType==="custom"?s=e.any():t.dataType==="buffer"&&(s=zme)),s||(s=e.any()),s}function Vme(t,r,e){let n=t.getSQLType().includes("unsigned"),s,a,o=!1;ls(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:Hn.INT8_MIN,a=n?Hn.INT8_UNSIGNED_MAX:Hn.INT8_MAX,o=!0):ls(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:Hn.INT16_MIN,a=n?Hn.INT16_UNSIGNED_MAX:Hn.INT16_MAX,o=!0):ls(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:Hn.INT24_MIN,a=n?Hn.INT24_UNSIGNED_MAX:Hn.INT24_MAX,o=ls(t,["MySqlMediumInt","SingleStoreMediumInt"])):ls(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:Hn.INT32_MIN,a=n?Hn.INT32_UNSIGNED_MAX:Hn.INT32_MAX,o=!0):ls(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:Hn.INT48_MIN,a=n?Hn.INT48_UNSIGNED_MAX:Hn.INT48_MAX):ls(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||ls(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):ls(t,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let c=e===!0||e?.number?r.coerce.number():r.number();return c=c.min(s).max(a),o?c.int():c}function Wme(t,r,e){const n=t.getSQLType().includes("unsigned"),s=n?0n:Hn.INT64_MIN,a=n?Hn.INT64_UNSIGNED_MAX:Hn.INT64_MAX;return(e===!0||e?.bigint?r.coerce.bigint():r.bigint()).min(s).max(a)}function Ume(t,r,e){if(ls(t,["PgUUID"]))return r.string().uuid();let n,s,a=!1;ls(t,["PgVarchar","SQLiteText"])?n=t.length:ls(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Hn.INT16_UNSIGNED_MAX:ls(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Hn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Hn.INT24_UNSIGNED_MAX:t.textType==="text"?n=Hn.INT16_UNSIGNED_MAX:n=Hn.INT8_UNSIGNED_MAX),ls(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),ls(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=e===!0||e?.string?r.coerce.string():r.string();return o=s?o.regex(s):o,n&&a?o.length(n):n?o.max(n):o}function q$(t){return hB(t)?fme(t):hme(t)}function H$(t,r,e,n){const s={};for(const[a,o]of Object.entries(t)){if(!na(o,Th)&&!na(o,Is)&&!na(o,Is.Aliased)&&typeof o=="object"){const p=hB(o)||dme(o)?q$(o):o;s[a]=H$(p,r[a]??{},e,n);continue}const c=r[a];if(c!==void 0&&typeof c!="function"){s[a]=c;continue}const u=na(o,Th)?o:void 0,l=u?U$(u,n):ob(),d=typeof c=="function"?c(l):l;e.never(u)||(s[a]=d,u&&(e.nullable(u)&&(s[a]=s[a].nullable()),e.optional(u)&&(s[a]=s[a].optional())))}return Ud(s)}const qme={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},cr=(t,r)=>{const e=q$(t);return H$(e,{},qme)},L0={isLocal:kr("is_local").default(!1),synced:kr("synced").default(!0),pendingSync:kr("pending_sync").default(!1),version:tr("version").default(1).notNull(),lastModifiedBy:Oe("last_modified_by")},jn=Qt("users",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),email:je("email").notNull().unique(),password:je("password").notNull(),passwordAlgo:je("password_algo").default("argon2id").notNull(),firstName:je("first_name"),lastName:je("last_name"),fullName:je("full_name"),phone:je("phone"),birthDate:je("birth_date"),birthPlace:je("birth_place"),gender:je("gender"),role:je("role").notNull().default("admin"),isActive:kr("is_active").default(!0).notNull(),notificationsEnabled:kr("notifications_enabled").default(!1).notNull(),emailVerifiedAt:et("email_verified_at"),totpSecret:je("totp_secret"),mfaEnabled:kr("mfa_enabled").default(!1).notNull(),fcmToken:je("fcm_token"),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull(),lastLogin:et("last_login"),refreshTokenHash:je("refresh_token_hash"),refreshTokenExpiresAt:et("refresh_token_expires_at"),isLocal:kr("is_local").default(!1),synced:kr("synced").default(!0),pendingSync:kr("pending_sync").default(!1),version:tr("version").default(1).notNull(),lastModifiedBy:Oe("last_modified_by")},t=>({})),Hme=Qt("refresh_tokens",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id,{onDelete:"cascade"}),tokenHash:je("token_hash").notNull(),replacedBy:Ua("replaced_by"),revoked:kr("revoked").default(!1).notNull(),expiresAt:et("expires_at").notNull(),ipAddress:je("ip_address"),userAgent:je("user_agent"),deviceFingerprint:je("device_fingerprint"),createdAt:et("created_at").defaultNow().notNull()}),Kme=Qt("audit_logs",{id:Xs("id").primaryKey(),userId:Oe("user_id").references(()=>jn.id),action:je("action").notNull(),meta:en("meta"),ipAddress:je("ip_address"),createdAt:et("created_at").defaultNow().notNull()});Qt("emergency_users",{id:Oe("id").primaryKey(),email:je("email").notNull().unique(),password:je("password").notNull(),name:je("name").notNull(),role:je("role").notNull().default("admin"),createdAt:et("created_at").defaultNow().notNull()});const Gme=Qt("tasks",{id:Xs("id").primaryKey(),title:je("title").notNull(),description:je("description"),completed:kr("completed").notNull().default(!1),createdAt:et("created_at").defaultNow().notNull()});cr(Gme).omit({id:!0,createdAt:!0});const Qme=Qt("auth_user_sessions",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id),sessionToken:Oe("session_token"),deviceFingerprint:Oe("device_fingerprint"),userAgent:je("user_agent"),ipAddress:Qd("ip_address"),locationData:en("location_data"),isTrustedDevice:kr("is_trusted_device").default(!1).notNull(),expiresAt:et("expires_at").notNull(),lastActivity:et("last_activity").defaultNow(),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull(),deviceId:Oe("device_id"),deviceName:Oe("device_name"),browserName:Oe("browser_name"),browserVersion:Oe("browser_version"),osName:Oe("os_name"),osVersion:Oe("os_version"),country:Oe("country"),city:Oe("city"),timezone:Oe("timezone"),loginMethod:Oe("login_method"),securityFlags:en("security_flags"),deviceType:Oe("device_type"),refreshTokenHash:je("refresh_token_hash"),accessTokenHash:je("access_token_hash"),isRevoked:kr("is_revoked").default(!1).notNull(),revokedAt:et("revoked_at",{withTimezone:!0}),revokedReason:Oe("revoked_reason")});Qt("email_verification_tokens",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id),email:je("email").notNull(),token:Oe("token").notNull().unique(),tokenHash:Oe("token_hash").notNull(),verificationLink:je("verification_link").notNull(),expiresAt:et("expires_at").notNull(),verifiedAt:et("verified_at"),createdAt:et("created_at").defaultNow().notNull(),ipAddress:Qd("ip_address"),userAgent:je("user_agent"),attemptsCount:tr("attempts_count").default(0).notNull()});Qt("password_reset_tokens",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id),token:Oe("token").notNull().unique(),tokenHash:Oe("token_hash").notNull(),expiresAt:et("expires_at").notNull(),usedAt:et("used_at"),createdAt:et("created_at").defaultNow().notNull(),ipAddress:Qd("ip_address"),userAgent:je("user_agent")});const K$=Qt("project_types",{id:Xs("id").primaryKey(),name:Oe("name",{length:100}).notNull().unique(),description:je("description"),isActive:kr("is_active").default(!0).notNull(),createdAt:et("created_at").defaultNow().notNull(),...L0},t=>({uniqueProjectTypeName:xr`UNIQUE ("name")`})),Cn=Qt("projects",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),name:je("name").notNull(),description:je("description"),location:je("location"),clientName:je("client_name"),budget:sr("budget",{precision:15,scale:2}),startDate:yu("start_date"),endDate:yu("end_date"),status:je("status").notNull().default("active"),engineerId:Oe("engineer_id"),managerName:je("manager_name"),contactPhone:je("contact_phone"),notes:je("notes"),imageUrl:je("image_url"),projectTypeId:tr("project_type_id").references(()=>K$.id,{onDelete:"set null"}),isActive:kr("is_active").default(!0).notNull(),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull(),...L0},t=>({uniqueProjectName:xr`UNIQUE ("name")`})),Xd=Qt("workers",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),name:je("name").notNull(),type:je("type").notNull(),dailyWage:sr("daily_wage",{precision:15,scale:2}).notNull(),phone:je("phone"),hireDate:je("hire_date"),isActive:kr("is_active").default(!0).notNull(),createdAt:et("created_at").defaultNow().notNull(),...L0},t=>({uniqueWorkerName:xr`UNIQUE ("name")`})),dc=Qt("wells",{id:Xs("id").primaryKey(),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),wellNumber:tr("well_number").notNull(),ownerName:je("owner_name").notNull(),region:Oe("region",{length:100}).notNull(),numberOfBases:tr("number_of_bases").notNull(),baseCount:tr("base_count"),numberOfPanels:tr("number_of_panels").notNull(),panelCount:tr("panel_count"),wellDepth:tr("well_depth").notNull(),waterLevel:tr("water_level"),numberOfPipes:tr("number_of_pipes").notNull(),pipeCount:tr("pipe_count"),fanType:Oe("fan_type",{length:100}),pumpPower:tr("pump_power"),status:je("status").notNull().default("pending"),completionPercentage:sr("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:yu("start_date"),completionDate:yu("completion_date"),notes:je("notes"),createdBy:Oe("created_by").notNull().references(()=>jn.id),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull(),...L0},t=>({uniqueWellNumberInProject:xr`UNIQUE (project_id, well_number)`})),Xme=Qt("fund_transfers",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),amount:sr("amount",{precision:15,scale:2}).notNull(),senderName:je("sender_name"),transferNumber:je("transfer_number").unique(),transferType:je("transfer_type").notNull(),transferDate:je("transfer_date").notNull(),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),Yme=Qt("worker_attendance",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),workerId:Oe("worker_id").notNull().references(()=>Xd.id,{onDelete:"cascade"}),attendanceDate:je("attendance_date").notNull(),date:je("date"),startTime:je("start_time"),endTime:je("end_time"),workDescription:je("work_description"),isPresent:kr("is_present"),hoursWorked:sr("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:sr("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:sr("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:sr("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:sr("daily_wage",{precision:15,scale:2}).notNull(),actualWage:sr("actual_wage",{precision:15,scale:2}),totalPay:sr("total_pay",{precision:15,scale:2}).notNull(),paidAmount:sr("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:sr("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:je("payment_type").default("partial"),notes:je("notes"),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),createdAt:et("created_at").defaultNow().notNull()},t=>({uniqueWorkerDate:xr`UNIQUE (worker_id, attendance_date, project_id)`})),K3=Qt("suppliers",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),name:je("name").notNull().unique(),contactPerson:je("contact_person"),phone:je("phone"),address:je("address"),paymentTerms:je("payment_terms").default(""),totalDebt:sr("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:kr("is_active").default(!0).notNull(),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),G$=Qt("materials",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),name:je("name").notNull(),category:je("category").notNull(),unit:je("unit").notNull(),createdAt:et("created_at").defaultNow().notNull()}),Q$=Qt("material_purchases",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),supplierId:Oe("supplier_id").references(()=>K3.id,{onDelete:"set null"}),materialId:Oe("material_id").references(()=>G$.id,{onDelete:"set null"}),materialName:je("material_name").notNull(),materialCategory:je("material_category"),materialUnit:je("material_unit"),quantity:sr("quantity",{precision:10,scale:3}).notNull(),unit:je("unit").notNull(),unitPrice:sr("unit_price",{precision:15,scale:2}).notNull(),totalAmount:sr("total_amount",{precision:15,scale:2}).notNull(),purchaseType:je("purchase_type").notNull().default(""),paidAmount:sr("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:sr("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:je("supplier_name"),receiptNumber:je("receipt_number"),invoiceNumber:je("invoice_number"),invoiceDate:je("invoice_date"),dueDate:je("due_date"),invoicePhoto:je("invoice_photo"),notes:je("notes"),purchaseDate:je("purchase_date").notNull(),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),addToInventory:kr("add_to_inventory").default(!1),equipmentId:tr("equipment_id"),createdAt:et("created_at").defaultNow().notNull()},t=>({uniqueInvoice:xr`UNIQUE (project_id, supplier_id, invoice_number, purchase_date)`})),Zme=Qt("supplier_payments",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),supplierId:Oe("supplier_id").notNull().references(()=>K3.id,{onDelete:"cascade"}),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),purchaseId:Oe("purchase_id").references(()=>Q$.id,{onDelete:"set null"}),amount:sr("amount",{precision:15,scale:2}).notNull(),paymentMethod:je("payment_method").notNull().default(""),paymentDate:je("payment_date").notNull(),referenceNumber:je("reference_number"),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),Jme=Qt("transportation_expenses",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),workerId:Oe("worker_id").references(()=>Xd.id,{onDelete:"set null"}),amount:sr("amount",{precision:15,scale:2}).notNull(),description:je("description").notNull(),category:je("category").notNull().default("other"),date:je("date").notNull(),notes:je("notes"),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),createdAt:et("created_at").defaultNow().notNull()}),e0e=Qt("worker_transfers",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),workerId:Oe("worker_id").notNull().references(()=>Xd.id,{onDelete:"cascade"}),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),amount:sr("amount",{precision:15,scale:2}).notNull(),transferNumber:je("transfer_number"),senderName:je("sender_name"),recipientName:je("recipient_name").notNull(),recipientPhone:je("recipient_phone"),transferMethod:je("transfer_method").notNull(),transferDate:je("transfer_date").notNull(),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),t0e=Qt("worker_balances",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),workerId:Oe("worker_id").notNull().references(()=>Xd.id,{onDelete:"cascade"}),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),totalEarned:sr("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:sr("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:sr("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:sr("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:et("last_updated").defaultNow().notNull(),createdAt:et("created_at").defaultNow().notNull()}),r0e=Qt("daily_activity_logs",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),engineerId:Oe("engineer_id").notNull().references(()=>jn.id),logDate:je("log_date").notNull(),activityTitle:je("activity_title").notNull(),description:je("description"),progressPercentage:tr("progress_percentage").default(0),weatherConditions:je("weather_conditions"),temperature:tr("temperature"),humidity:tr("humidity"),images:en("images").default([]),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()});cr(r0e).omit({id:!0,createdAt:!0,updatedAt:!0});const Yd=u4(t=>{if(t instanceof Date){const r=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${r}-${e}-${n}`}return typeof t=="string"&&t.includes("T")?t.split("T")[0]:t},Hr().regex(/^\d{4}-\d{2}-\d{2}$/,"     YYYY-MM-DD")),n0e=Qt("daily_expense_summaries",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),date:je("date").notNull(),carriedForwardAmount:sr("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:sr("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:sr("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:sr("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:sr("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:sr("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:sr("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:sr("total_income",{precision:15,scale:2}).notNull(),totalExpenses:sr("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:sr("remaining_balance",{precision:15,scale:2}).notNull(),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()}),s0e=Qt("worker_types",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),name:je("name").notNull().unique(),usageCount:tr("usage_count").default(1).notNull(),lastUsed:et("last_used").defaultNow().notNull(),createdAt:et("created_at").defaultNow().notNull()}),a0e=Qt("autocomplete_data",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),category:je("category").notNull(),value:je("value").notNull(),usageCount:tr("usage_count").default(1).notNull(),lastUsed:et("last_used").defaultNow().notNull(),createdAt:et("created_at").defaultNow().notNull()}),i0e=Qt("worker_misc_expenses",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),amount:sr("amount",{precision:15,scale:2}).notNull(),description:je("description").notNull(),date:je("date").notNull(),notes:je("notes"),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),createdAt:et("created_at").defaultNow().notNull()}),o0e=Qt("backup_logs",{id:Xs("id").primaryKey(),filename:je("filename").notNull(),size:sr("size",{precision:15,scale:2}),status:je("status").notNull(),destination:je("destination").notNull(),errorMessage:je("error_message"),triggeredBy:Oe("triggered_by").references(()=>jn.id),createdAt:et("created_at").defaultNow().notNull()}),l0e=Qt("backup_settings",{id:Xs("id").primaryKey(),autoBackupEnabled:kr("auto_backup_enabled").default(!0).notNull(),intervalMinutes:tr("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:kr("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:kr("gdrive_enabled").default(!1).notNull(),retentionDays:tr("retention_days").default(30).notNull(),updatedAt:et("updated_at").defaultNow().notNull()});cr(o0e);cr(l0e);const c0e=Qt("print_settings",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),reportType:je("report_type").notNull().default("worker_statement"),name:je("name").notNull(),pageSize:je("page_size").notNull().default("A4"),pageOrientation:je("page_orientation").notNull().default("portrait"),marginTop:sr("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:sr("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:sr("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:sr("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:je("font_family").notNull().default("Arial"),fontSize:tr("font_size").notNull().default(12),headerFontSize:tr("header_font_size").notNull().default(16),tableFontSize:tr("table_font_size").notNull().default(10),headerBackgroundColor:je("header_background_color").notNull().default("#1e40af"),headerTextColor:je("header_text_color").notNull().default("#ffffff"),tableHeaderColor:je("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:je("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:je("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:je("table_border_color").notNull().default("#000000"),tableBorderWidth:tr("table_border_width").notNull().default(1),tableCellPadding:tr("table_cell_padding").notNull().default(3),tableColumnWidths:je("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:kr("show_header").notNull().default(!0),showLogo:kr("show_logo").notNull().default(!0),showProjectInfo:kr("show_project_info").notNull().default(!0),showWorkerInfo:kr("show_worker_info").notNull().default(!0),showAttendanceTable:kr("show_attendance_table").notNull().default(!0),showTransfersTable:kr("show_transfers_table").notNull().default(!0),showSummary:kr("show_summary").notNull().default(!0),showSignatures:kr("show_signatures").notNull().default(!0),isDefault:kr("is_default").notNull().default(!1),isActive:kr("is_active").notNull().default(!0),userId:je("user_id"),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()}),u0e=Qt("project_fund_transfers",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),fromProjectId:Oe("from_project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),toProjectId:Oe("to_project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),amount:sr("amount",{precision:15,scale:2}).notNull(),description:je("description"),transferReason:je("transfer_reason"),transferDate:je("transfer_date").notNull(),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()}),G3=Qt("security_policies",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),policyId:Oe("policy_id").notNull().unique(),title:Oe("title",{length:500}).notNull(),description:je("description"),category:Oe("category",{length:100}).notNull(),severity:Oe("severity",{length:50}).notNull().default("medium"),status:Oe("status",{length:50}).notNull().default("draft"),complianceLevel:Oe("compliance_level",{length:100}),requirements:en("requirements"),implementation:en("implementation"),checkCriteria:en("check_criteria"),checkInterval:tr("check_interval"),nextCheck:et("next_check"),violationsCount:tr("violations_count").notNull().default(0),lastViolation:et("last_violation"),createdBy:Oe("created_by"),approvedBy:Oe("approved_by"),approvedAt:et("approved_at"),createdAt:et("created_at").notNull().defaultNow(),updatedAt:et("updated_at").notNull().defaultNow()});Qt("security_policy_suggestions",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),suggestedPolicyId:Oe("suggested_policy_id").notNull(),title:Oe("title",{length:500}).notNull(),description:je("description"),category:Oe("category",{length:100}).notNull(),priority:Oe("priority",{length:50}).notNull().default("medium"),confidence:tr("confidence").notNull().default(50),reasoning:je("reasoning"),estimatedImpact:Oe("estimated_impact",{length:500}),implementationEffort:Oe("implementation_effort",{length:100}),prerequisites:en("prerequisites"),sourceType:Oe("source_type",{length:100}),sourceData:en("source_data"),status:Oe("status",{length:50}).notNull().default("pending"),reviewedBy:Oe("reviewed_by"),reviewedAt:et("reviewed_at"),implementedAs:Oe("implemented_as").references(()=>G3.id,{onDelete:"set null"}),implementedAt:et("implemented_at"),createdAt:et("created_at").notNull().defaultNow(),updatedAt:et("updated_at").notNull().defaultNow()});Qt("security_policy_implementations",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),policyId:Oe("policy_id").notNull().references(()=>G3.id,{onDelete:"cascade"}),implementationId:Oe("implementation_id").notNull(),implementationType:Oe("implementation_type",{length:100}).notNull(),status:Oe("status",{length:50}).notNull().default("pending"),configuration:en("configuration"),deploymentDetails:en("deployment_details"),successCriteria:en("success_criteria"),rollbackPlan:en("rollback_plan"),implementedBy:Oe("implemented_by"),implementationDate:et("implementation_date"),verificationDate:et("verification_date"),nextReview:et("next_review"),createdAt:et("created_at").notNull().defaultNow(),updatedAt:et("updated_at").notNull().defaultNow()});Qt("security_policy_violations",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),policyId:Oe("policy_id").notNull().references(()=>G3.id,{onDelete:"cascade"}),violationId:Oe("violation_id").notNull().unique(),violatedRule:Oe("violated_rule",{length:500}).notNull(),severity:Oe("severity",{length:50}).notNull().default("medium"),status:Oe("status",{length:50}).notNull().default("open"),violationDetails:en("violation_details"),affectedResources:en("affected_resources"),impactAssessment:je("impact_assessment"),remediation_steps:en("remediation_steps"),detectedAt:et("detected_at").notNull().defaultNow(),resolvedAt:et("resolved_at"),resolvedBy:Oe("resolved_by"),createdAt:et("created_at").notNull().defaultNow(),updatedAt:et("updated_at").notNull().defaultNow()});const d0e=Qt("user_project_permissions",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id,{onDelete:"cascade"}),projectId:Oe("project_id").notNull().references(()=>Cn.id,{onDelete:"cascade"}),canView:kr("can_view").default(!0).notNull(),canAdd:kr("can_add").default(!1).notNull(),canEdit:kr("can_edit").default(!1).notNull(),canDelete:kr("can_delete").default(!1).notNull(),assignedBy:Oe("assigned_by").references(()=>jn.id),assignedAt:et("assigned_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()},t=>({uniqueUserProject:xr`UNIQUE (user_id, project_id)`})),f0e=Qt("permission_audit_logs",{id:Ua("id").primaryKey().default(xr`gen_random_uuid()`),action:Oe("action").notNull(),actorId:Oe("actor_id").notNull().references(()=>jn.id),targetUserId:Oe("target_user_id").references(()=>jn.id),projectId:Oe("project_id").references(()=>Cn.id),oldPermissions:en("old_permissions"),newPermissions:en("new_permissions"),ipAddress:Qd("ip_address"),userAgent:je("user_agent"),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),x8=cr(Cn).omit({id:!0,createdAt:!0});cr(Xd).omit({id:!0,createdAt:!0});const h0e=cr(Xme).omit({id:!0,createdAt:!0}).extend({transferDate:Yd,amount:u4(t=>t==null?"0":t.toString(),Hr())});cr(Yme).omit({id:!0,createdAt:!0}).extend({attendanceDate:Yd,dailyWage:As.string(),actualWage:As.string().optional(),totalPay:As.string(),paidAmount:As.string().optional(),remainingAmount:As.string().optional(),paymentType:Hr().optional().default("partial"),hoursWorked:As.string().optional(),overtime:As.string().optional(),overtimeRate:As.string().optional(),notes:Hr().optional(),startTime:Hr().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM"),endTime:Hr().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM")}).refine(t=>{if(t.startTime&&t.endTime){const r=parseInt(t.startTime.split(":")[0])*60+parseInt(t.startTime.split(":")[1]),e=parseInt(t.endTime.split(":")[0])*60+parseInt(t.endTime.split(":")[1]);return r<e||e<r}return!0},{message:"        ( )",path:["endTime"]});cr(G$).omit({id:!0,createdAt:!0});cr(Q$).omit({id:!0,createdAt:!0}).extend({purchaseDate:Yd,quantity:As.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"    0  "),unit:Hr().min(1,"  ").default(""),unitPrice:As.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ").optional().or(lb("")),totalAmount:As.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ").optional().or(lb("")),purchaseType:Hr().default(""),paidAmount:As.string().default("0").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  "),remainingAmount:As.string().default("0").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ")});cr(Jme).omit({id:!0,createdAt:!0}).extend({date:Yd,amount:As.string()});cr(e0e).omit({id:!0,createdAt:!0}).extend({transferDate:Yd,amount:As.string()});const p0e=cr(u0e).omit({id:!0,createdAt:!0}).extend({transferDate:Yd,amount:As.string()});cr(n0e).omit({id:!0,createdAt:!0,updatedAt:!0});cr(s0e).omit({id:!0,createdAt:!0,lastUsed:!0});cr(a0e).omit({id:!0,createdAt:!0,lastUsed:!0});cr(i0e).omit({id:!0,createdAt:!0}).extend({date:Yd,amount:As.string()});cr(d0e).omit({id:!0,assignedAt:!0,updatedAt:!0});cr(f0e).omit({id:!0,createdAt:!0});cr(jn).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:Hr().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:Hr().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:Hr().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:Hr().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:c4(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});cr(Xd).omit({id:!0,createdAt:!0}).extend({name:Hr().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:Hr().min(1,"  ").max(100,"   "),dailyWage:Hr().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(t=>parseFloat(t)>0,{message:"       "})});const m0e=cr(Cn).omit({id:!0,createdAt:!0}).extend({name:Hr().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:c4(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:Hr().url("   ").optional().or(lb(""))});m0e.partial().omit({}).refine(t=>Object.keys(t).length>0,{message:"      "});Hr().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(Hr().regex(/^[a-z0-9-]{8,50}$/,"  "));cr(K3).omit({id:!0,createdAt:!0});cr(Zme).omit({id:!0,createdAt:!0}).extend({amount:As.string()});cr(c0e).omit({id:!0,createdAt:!0,updatedAt:!0});cr(t0e);cr(Qme).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const g0e=Qt("report_templates",{id:je("id").primaryKey().default(xr`gen_random_uuid()`),templateName:je("template_name").notNull().default("default"),headerTitle:je("header_title").notNull().default("   "),headerSubtitle:je("header_subtitle").default(" "),companyName:je("company_name").notNull().default("  "),companyAddress:je("company_address").default(" - "),companyPhone:je("company_phone").default("+967 1 234567"),companyEmail:je("company_email").default("info@company.com"),footerText:je("footer_text").default("       "),footerContact:je("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:je("primary_color").notNull().default("#1f2937"),secondaryColor:je("secondary_color").notNull().default("#3b82f6"),accentColor:je("accent_color").notNull().default("#10b981"),textColor:je("text_color").notNull().default("#1f2937"),backgroundColor:je("background_color").notNull().default("#ffffff"),fontSize:tr("font_size").notNull().default(11),fontFamily:je("font_family").notNull().default("Arial"),logoUrl:je("logo_url"),pageOrientation:je("page_orientation").notNull().default("portrait"),pageSize:je("page_size").notNull().default("A4"),margins:en("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:kr("show_header").notNull().default(!0),showFooter:kr("show_footer").notNull().default(!0),showLogo:kr("show_logo").notNull().default(!0),showDate:kr("show_date").notNull().default(!0),showPageNumbers:kr("show_page_numbers").notNull().default(!0),isActive:kr("is_active").notNull().default(!0),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});cr(g0e).omit({id:!0,createdAt:!0,updatedAt:!0});cr(Hme);cr(Kme);const y0e=Qt("notification_read_states",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),notificationId:je("notification_id").notNull(),userId:Oe("user_id").references(()=>jn.id),isRead:kr("is_read").default(!0).notNull(),readAt:et("read_at").defaultNow().notNull(),deviceInfo:je("device_info"),createdAt:et("created_at").defaultNow().notNull()},t=>({uniqueNotificationUser:xr`UNIQUE (notification_id, user_id)`})),b0e=Qt("build_deployments",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),buildNumber:tr("build_number").notNull(),status:je("status").notNull().default("running"),currentStep:je("current_step").notNull(),progress:tr("progress").notNull().default(0),version:je("version").notNull(),appType:je("app_type").notNull().default("web"),logs:en("logs").notNull().default([]),steps:en("steps").notNull().default([]),startTime:et("start_time").defaultNow().notNull(),endTime:et("end_time"),triggeredBy:Oe("triggered_by").references(()=>jn.id),createdAt:et("created_at").defaultNow().notNull()});cr(b0e).omit({id:!0,createdAt:!0});cr(y0e).omit({id:!0,createdAt:!0});const x0e=Qt("notifications",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),title:je("title").notNull(),body:je("body").notNull(),type:je("type").notNull(),priority:tr("priority").notNull().default(3),projectId:Oe("project_id").references(()=>Cn.id),createdBy:Oe("created_by").references(()=>jn.id),recipients:je("recipients").array(),payload:en("payload"),meta:en("meta"),readBy:je("read_by").array(),deliveredTo:je("delivered_to").array(),scheduledAt:et("scheduled_at"),channelPreference:en("channel_preference"),createdAt:et("created_at").defaultNow().notNull()});cr(x0e).omit({id:!0,createdAt:!0});const X$=Qt("ai_chat_sessions",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id,{onDelete:"cascade"}),title:je("title").default(" "),isActive:kr("is_active").default(!0).notNull(),lastMessageAt:et("last_message_at"),messagesCount:tr("messages_count").default(0).notNull(),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()}),v0e=Qt("ai_chat_messages",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),sessionId:Oe("session_id").notNull().references(()=>X$.id,{onDelete:"cascade"}),role:je("role").notNull(),content:je("content").notNull(),model:je("model"),provider:je("provider"),tokensUsed:tr("tokens_used"),action:je("action"),actionData:en("action_data"),createdAt:et("created_at").defaultNow().notNull()}),w0e=Qt("ai_usage_stats",{id:Oe("id").primaryKey().default(xr`gen_random_uuid()`),userId:Oe("user_id").notNull().references(()=>jn.id,{onDelete:"cascade"}),date:je("date").notNull(),provider:je("provider").notNull(),model:je("model").notNull(),requestsCount:tr("requests_count").default(0).notNull(),tokensUsed:tr("tokens_used").default(0).notNull(),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()});cr(X$).omit({id:!0,createdAt:!0,updatedAt:!0});cr(v0e).omit({id:!0,createdAt:!0});cr(w0e).omit({id:!0,createdAt:!0,updatedAt:!0});const Q3=Qt("well_tasks",{id:Xs("id").primaryKey(),wellId:tr("well_id").notNull().references(()=>dc.id,{onDelete:"cascade"}),taskType:Oe("task_type",{length:50}).notNull(),description:je("description"),estimatedCost:sr("estimated_cost",{precision:12,scale:2}),actualCost:sr("actual_cost",{precision:12,scale:2}),taskOrder:tr("task_order").notNull(),status:je("status").notNull().default("pending"),assignedWorkerId:Oe("assigned_worker_id").references(()=>Xd.id,{onDelete:"set null"}),startDate:yu("start_date"),completionDate:yu("completion_date"),completedBy:Oe("completed_by").references(()=>jn.id,{onDelete:"set null"}),createdBy:Oe("created_by").references(()=>jn.id,{onDelete:"set null"}),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull(),updatedAt:et("updated_at").defaultNow().notNull()}),_0e=Qt("well_task_accounts",{id:Xs("id").primaryKey(),taskId:tr("task_id").notNull().unique().references(()=>Q3.id,{onDelete:"cascade"}),amount:sr("amount",{precision:12,scale:2}).notNull(),accountedBy:Oe("accounted_by").notNull().references(()=>jn.id),accountedAt:et("accounted_at").defaultNow().notNull(),paymentMethod:Oe("payment_method",{length:50}),referenceNumber:Oe("reference_number",{length:100}),notes:je("notes")}),k0e=Qt("well_expenses",{id:Xs("id").primaryKey(),wellId:tr("well_id").notNull().references(()=>dc.id,{onDelete:"cascade"}),expenseType:Oe("expense_type",{length:50}).notNull(),referenceType:Oe("reference_type",{length:50}),referenceId:Oe("reference_id"),description:je("description").notNull(),category:Oe("category",{length:100}),quantity:sr("quantity",{precision:10,scale:2}).notNull(),unit:Oe("unit",{length:20}).notNull(),unitPrice:sr("unit_price",{precision:12,scale:2}).notNull(),totalAmount:sr("total_amount",{precision:12,scale:2}).notNull(),expenseDate:yu("expense_date").notNull(),createdBy:Oe("created_by").notNull().references(()=>jn.id),createdAt:et("created_at").defaultNow().notNull(),notes:je("notes")}),j0e=Qt("well_audit_logs",{id:Xs("id").primaryKey(),wellId:tr("well_id").references(()=>dc.id,{onDelete:"set null"}),taskId:tr("task_id").references(()=>Q3.id,{onDelete:"set null"}),action:Oe("action",{length:50}).notNull(),entityType:Oe("entity_type",{length:50}).notNull(),entityId:tr("entity_id").notNull(),previousData:en("previous_data"),newData:en("new_data"),userId:Oe("user_id").notNull().references(()=>jn.id),ipAddress:Qd("ip_address"),userAgent:je("user_agent"),createdAt:et("created_at").defaultNow().notNull()}),S0e=Qt("material_categories",{id:Xs("id").primaryKey(),name:Oe("name",{length:100}).notNull().unique(),nameAr:Oe("name_ar",{length:100}).notNull(),type:Oe("type",{length:20}).notNull(),unit:Oe("unit",{length:20}).notNull(),description:je("description"),isActive:kr("is_active").default(!0).notNull(),createdAt:et("created_at").defaultNow().notNull()});cr(K$).omit({id:!0,createdAt:!0});cr(dc).omit({id:!0,createdAt:!0,updatedAt:!0});cr(Q3).omit({id:!0,createdAt:!0,updatedAt:!0});cr(_0e).omit({id:!0,accountedAt:!0});cr(k0e).omit({id:!0,createdAt:!0});cr(j0e).omit({id:!0,createdAt:!0});cr(S0e).omit({id:!0});const Y$=Qt("equipment",{id:Xs("id").primaryKey(),code:je("code"),name:je("name").notNull(),sku:je("sku"),type:je("type"),unit:je("unit").default(""),quantity:tr("quantity").default(1).notNull(),status:je("status").default("available"),condition:je("condition").default("excellent"),description:je("description"),purchaseDate:je("purchase_date"),purchasePrice:je("purchase_price"),projectId:Oe("project_id").references(()=>Cn.id),imageUrl:je("image_url"),createdAt:et("created_at").defaultNow().notNull()}),N0e=Qt("equipment_movements",{id:Xs("id").primaryKey(),equipmentId:tr("equipment_id").references(()=>Y$.id),fromProjectId:Oe("from_project_id").references(()=>Cn.id),toProjectId:Oe("to_project_id").references(()=>Cn.id),quantity:tr("quantity").default(1).notNull(),movementDate:et("movement_date").defaultNow(),reason:je("reason"),performedBy:je("performed_by"),notes:je("notes")});cr(Y$).omit({id:!0,createdAt:!0});cr(N0e).omit({id:!0});const C0e=Qt("account_types",{id:Xs("id").primaryKey(),code:Oe("code",{length:20}).notNull().unique(),nameAr:je("name_ar").notNull(),nameEn:je("name_en"),category:je("category").notNull(),normalBalance:je("normal_balance").notNull(),parentId:tr("parent_id"),isActive:kr("is_active").default(!0),createdAt:et("created_at").defaultNow().notNull()}),Z$=Qt("journal_entries",{id:Ua("id").defaultRandom().primaryKey(),entryNumber:Xs("entry_number"),projectId:Oe("project_id").references(()=>Cn.id),entryDate:je("entry_date").notNull(),description:je("description").notNull(),sourceTable:je("source_table").notNull(),sourceId:je("source_id").notNull(),entryType:je("entry_type").notNull(),reversalOfId:Ua("reversal_of_id"),totalAmount:sr("total_amount",{precision:15,scale:2}).notNull(),status:je("status").default("posted"),createdBy:Oe("created_by").references(()=>jn.id),createdAt:et("created_at").defaultNow().notNull(),...L0}),T0e=Qt("journal_lines",{id:Ua("id").defaultRandom().primaryKey(),journalEntryId:Ua("journal_entry_id").references(()=>Z$.id).notNull(),accountCode:Oe("account_code",{length:20}).notNull(),debitAmount:sr("debit_amount",{precision:15,scale:2}).default("0"),creditAmount:sr("credit_amount",{precision:15,scale:2}).default("0"),description:je("description"),createdAt:et("created_at").defaultNow().notNull()}),E0e=Qt("financial_audit_log",{id:Ua("id").defaultRandom().primaryKey(),projectId:Oe("project_id").references(()=>Cn.id),action:je("action").notNull(),entityType:je("entity_type").notNull(),entityId:je("entity_id").notNull(),previousData:en("previous_data"),newData:en("new_data"),changedFields:en("changed_fields"),userId:Oe("user_id").references(()=>jn.id),userEmail:je("user_email"),reason:je("reason"),ipAddress:Qd("ip_address"),createdAt:et("created_at").defaultNow().notNull()}),A0e=Qt("reconciliation_records",{id:Ua("id").defaultRandom().primaryKey(),projectId:Oe("project_id").references(()=>Cn.id).notNull(),reconciliationDate:je("reconciliation_date").notNull(),ledgerBalance:sr("ledger_balance",{precision:15,scale:2}).notNull(),computedBalance:sr("computed_balance",{precision:15,scale:2}).notNull(),discrepancy:sr("discrepancy",{precision:15,scale:2}).notNull(),status:je("status").default("pending"),resolvedBy:Oe("resolved_by").references(()=>jn.id),resolvedAt:et("resolved_at"),notes:je("notes"),createdAt:et("created_at").defaultNow().notNull()}),P0e=Qt("summary_invalidations",{id:Ua("id").defaultRandom().primaryKey(),projectId:Oe("project_id").references(()=>Cn.id).notNull(),invalidatedFrom:je("invalidated_from").notNull(),reason:je("reason").notNull(),sourceTable:je("source_table"),sourceId:je("source_id"),createdAt:et("created_at").defaultNow().notNull()});cr(C0e).omit({id:!0,createdAt:!0});cr(Z$).omit({id:!0,entryNumber:!0,createdAt:!0});cr(T0e).omit({id:!0,createdAt:!0});cr(E0e).omit({id:!0,createdAt:!0});cr(A0e).omit({id:!0,createdAt:!0});cr(P0e).omit({id:!0,createdAt:!0});const M0e=Qt("sync_audit_logs",{id:Xs("id").primaryKey(),userId:Oe("user_id").references(()=>jn.id),userName:je("user_name"),module:Oe("module",{length:50}).notNull(),tableName:Oe("table_name",{length:100}).notNull(),recordId:je("record_id"),action:Oe("action",{length:20}).notNull(),status:Oe("status",{length:20}).notNull().default("success"),description:je("description").notNull(),oldValues:en("old_values"),newValues:en("new_values"),errorMessage:je("error_message"),ipAddress:je("ip_address"),userAgent:je("user_agent"),durationMs:tr("duration_ms"),syncType:Oe("sync_type",{length:30}),projectId:Oe("project_id").references(()=>Cn.id),projectName:je("project_name"),amount:sr("amount",{precision:15,scale:2}),createdAt:et("created_at").defaultNow().notNull()});cr(M0e).omit({id:!0,createdAt:!0});const R0e=Qt("idempotency_keys",{id:Xs("id").primaryKey(),key:Oe("key",{length:255}).notNull().unique(),endpoint:Oe("endpoint",{length:255}).notNull(),method:Oe("method",{length:10}).notNull(),statusCode:tr("status_code").notNull(),responseBody:en("response_body"),createdAt:et("created_at").defaultNow().notNull(),expiresAt:et("expires_at").notNull()});cr(R0e).omit({id:!0,createdAt:!0});function D0e(){const{toast:t}=pn(),r=_s(),{setFloatingAction:e}=Fo(),[n,s]=E.useState(null),[a,o]=E.useState(!1),c=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,p]=E.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=T=>l(T),h=(T,_)=>{p(k=>({...k,[T]:_}))},g=()=>{l(""),p({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=xt({queryKey:xe.projectsWithStats,queryFn:async()=>{const T=await Ve("/api/projects/with-stats","GET");return T.data||T||[]}}),m=y,{data:v={data:[]},isLoading:x,refetch:S}=xt({queryKey:xe.projectFundTransfers,queryFn:async()=>await Ve("/api/project-fund-transfers","GET")||{data:[]}}),C=E.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),A=E.useMemo(()=>{let T=C;if(u){const _=u.toLowerCase();T=T.filter(k=>k.transferReason?.toLowerCase().includes(_)||k.description?.toLowerCase().includes(_)||m.find(j=>j.id===k.fromProjectId)?.name.toLowerCase().includes(_)||m.find(j=>j.id===k.toProjectId)?.name.toLowerCase().includes(_))}if(d.reason&&(T=T.filter(_=>{if(!_.transferReason)return!1;const k=c.find(j=>j.key==="reason")?.options?.find(j=>j.value===d.reason);return _.transferReason===d.reason||_.transferReason===k?.label})),d.dateRange?.from||d.dateRange?.to){const _=d.dateRange.from?new Date(d.dateRange.from).getTime():0,k=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;T=T.filter(j=>{const N=new Date(j.transferDate).getTime();return N>=_&&N<=k})}return T},[C,u,d,m]),B=E.useMemo(()=>{const T=Array.isArray(C)?C:[];return{total:T.length,totalAmount:T.reduce((_,k)=>_+(parseFloat(k.amount?.toString()||"0")||0),0),filtered:A.length,outgoing:A.filter(_=>!A.some(k=>k.fromProjectId===k.toProjectId)).length,incoming:A.filter(_=>A.some(k=>k.toProjectId===k.fromProjectId)).length}},[C,A]),q=Dt({mutationFn:async T=>n?Ve(`/api/project-fund-transfers/${n.id}`,"PATCH",T):Ve("/api/project-fund-transfers","POST",T),onSuccess:()=>{r.refetchQueries({queryKey:xe.projectFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:n?"   ":"    "}),I.reset(),s(null),o(!1)},onError:T=>{t({title:"",description:T.message||"    ",variant:"destructive"})}}),R=Dt({mutationFn:async T=>{console.log(" [Client]  :",T);const _=await Ve(`/api/project-fund-transfers/${T}`,"DELETE");return console.log(" [Client]  :",_),_},onSuccess:(T,_)=>{console.log(" [Client]    ...",_),r.setQueryData(xe.projectFundTransfers,k=>{console.log(" [Client]  :",k);const j=k?.data?.filter(D=>D.id!==_)||[],N={...k,data:j,success:!0};return console.log(" [Client]  :",N),N}),r.refetchQueries({queryKey:xe.projectFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:"    "})},onError:T=>{console.error(" [Client]   :",T),t({title:"",description:T.message||"    ",variant:"destructive"})}}),I=rc({resolver:nc(p0e),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});E.useEffect(()=>(e(()=>{s(null),I.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),o(!0)}," "),()=>e(null)),[e,I]);const $=T=>{if(!T.fromProjectId||!T.toProjectId||T.fromProjectId==="all"||T.toProjectId==="all"){t({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(T.fromProjectId===T.toProjectId){t({title:"",description:"      ",variant:"destructive"});return}q.mutate(T)},K=T=>{s(T),I.reset({fromProjectId:T.fromProjectId,toProjectId:T.toProjectId,amount:T.amount,transferReason:T.transferReason||"",transferDate:T.transferDate||new Date().toISOString().split("T")[0],description:T.description||""}),o(!0)},U=T=>m.find(_=>_.id===T)?.name||" ",P=T=>{if(typeof T!="number"){const _=parseFloat(String(T));if(isNaN(_))return"0 .";T=_}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(T)+" ."},L=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:B.total,icon:um,color:"orange"},{key:"totalAmount",label:" ",value:B.totalAmount,icon:Sr,color:"green",formatter:P},{key:"filtered",label:" ",value:B.filtered,icon:ka,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:A.filter(T=>new Date(T.transferDate).toDateString()===new Date().toDateString()).length,icon:Dn,color:"purple"},{key:"average",label:" ",value:B.total>0?B.totalAmount/B.total:0,icon:ws,color:"red",formatter:P},{key:"projects",label:" ",value:m.length,icon:Zo,color:"indigo"}]}],[B,A,m]);return i.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[i.jsx(Lo,{statsRows:L,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:c,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>S(),isRefreshing:x}),i.jsx("div",{className:"space-y-4 md:space-y-6",children:x?i.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(T=>i.jsx(lr,{className:"bg-white dark:bg-slate-900",children:i.jsx(br,{className:"p-4 md:p-6",children:i.jsx(un,{className:"h-20 w-full"})})},T))}):A.length===0?i.jsx(lr,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:i.jsx(br,{className:"p-12",children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx(um,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),i.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):i.jsx(Hs,{columns:2,children:A.map(T=>i.jsx(xn,{title:P(parseFloat(T.amount?.toString()||"0")),titleIcon:Sr,headerColor:"#f59e0b",badges:[{label:new Date(T.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${U(T.fromProjectId)}  ${U(T.toProjectId)}`,icon:ds,color:"info"},{label:"",value:T.transferReason||" ",icon:oa,color:"default"},{label:"",value:new Date(T.transferDate).toLocaleDateString("en-GB"),icon:ws,color:"info"}],actions:[{icon:lu,label:"",onClick:()=>K(T),color:"blue"},{icon:us,label:"",onClick:()=>R.mutate(T.id),color:"red"}],compact:!0},T.id))})})]})}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:i.jsxs(lr,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[i.jsx(cs,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ys,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?"  ":"   "}),i.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>{o(!1),s(null),I.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:i.jsx(Rs,{className:"h-4 w-4"})})]})}),i.jsx(br,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:i.jsx(ac,{...I,children:i.jsxs("form",{onSubmit:I.handleSubmit($),className:"space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[i.jsx(Zr,{control:I.control,name:"amount",render:({field:T})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),i.jsx(nn,{children:i.jsx(yt,{type:"number",step:"0.01",placeholder:"0",...T,autoWidth:!0,maxWidth:250,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Zr,{control:I.control,name:"transferDate",render:({field:T})=>i.jsxs(Xr,{className:"flex flex-col gap-1.5",children:[i.jsx(Gn,{className:"text-xs md:text-sm font-semibold",children:""}),i.jsx(cl,{value:T.value,onChange:_=>T.onChange(_?Nr(_,"yyyy-MM-dd"):"")}),i.jsx(Rn,{className:"text-xs"})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[i.jsx(Zr,{control:I.control,name:"fromProjectId",render:({field:T})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),i.jsx(nn,{children:i.jsxs(Yn,{value:T.value||"",onValueChange:T.onChange,children:[i.jsx(Vn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:i.jsx(Zn,{placeholder:"  "})}),i.jsx(Wn,{className:"z-[9999999]",children:m.map(_=>i.jsx($t,{value:_.id||"none",children:_.name},_.id))})]})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Zr,{control:I.control,name:"toProjectId",render:({field:T})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),i.jsx(nn,{children:i.jsxs(Yn,{value:T.value||"",onValueChange:T.onChange,children:[i.jsx(Vn,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:i.jsx(Zn,{placeholder:"  "})}),i.jsx(Wn,{className:"z-[9999999]",children:m.map(_=>i.jsx($t,{value:_.id||"none",children:_.name},_.id))})]})}),i.jsx(Rn,{className:"text-xs"})]})})]}),i.jsx(Zr,{control:I.control,name:"transferReason",render:({field:T})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" "}),i.jsx(nn,{children:i.jsx(Ch,{placeholder:"   ...",className:"min-h-[60px] text-xs md:text-sm border-2",...T})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Zr,{control:I.control,name:"description",render:({field:T})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" ()"}),i.jsx(nn,{children:i.jsx(Ch,{placeholder:"   ...",className:"min-h-[100px] text-xs md:text-sm border-2",...T})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[i.jsx(Re,{type:"submit",disabled:q.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:q.isPending?" ...":n?"":" "}),n&&i.jsx(Re,{type:"button",variant:"outline",onClick:()=>{s(null),I.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}function Kh(t={}){const{projectId:r,date:e,dateFrom:n,dateTo:s,enabled:a=!0}=t,o=r&&r!=="all"?["/api/financial-summary",r,e,n,s]:["/api/financial-summary","all",e,n,s],{data:c,isLoading:u,error:l,refetch:d}=xt({queryKey:o,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;r&&r!=="all"&&y.append("projectId",r),e&&y.append("date",e),n&&y.append("dateFrom",n),s&&y.append("dateTo",s),y.toString()&&(g+=`?${y.toString()}`);const m=await Ve(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:a,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!r||r==="all")&&c){const g=c,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,x)=>({totalWorkerWages:v.totalWorkerWages+(x.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(x.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(x.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(x.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(x.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(x.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(x.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(x.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:l,refetch:d}}const f=c,h=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:h?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:l,refetch:d}}const _o={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},ts={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},Rr={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+ts.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+ts.headerBlue,altRow:"FF"+ts.lightBlue,green:"FF"+ts.greenTotal,yellow:"FF"+ts.yellowTotal,orange:"FF"+ts.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+ts.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+ts.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+ts.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+ts.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+ts.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+ts.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+ts.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+ts.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function oy(t,r){r.font&&(t.font=r.font),r.fill&&(t.fill=r.fill),r.alignment&&(t.alignment=r.alignment),r.border&&(t.border=r.border),r.numFmt&&(t.numFmt=r.numFmt)}function mke(t,r,e,n){let s=1;const a=t.columns?.length||8;t.mergeCells(s,1,s,a);const o=t.getRow(s);o.getCell(1).value=_o.name,oy(o.getCell(1),Rr.headerMain),o.height=30,s++,t.mergeCells(s,1,s,a);const c=t.getRow(s);if(c.getCell(1).value=r,oy(c.getCell(1),Rr.headerSecondary),c.height=25,s++,e){t.mergeCells(s,1,s,a);const u=t.getRow(s);u.getCell(1).value=e,oy(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,s++}if(n&&n.length>0){t.mergeCells(s,1,s,a);const u=t.getRow(s);u.getCell(1).value=n.join(" | "),oy(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,s++}return s++,s}const I0e=t=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[t]||t;async function J$(t,r,e,n){const s=(await ln(async()=>{const{default:R}=await Promise.resolve().then(()=>eB);return{default:R}},void 0)).default,a=new s.Workbook;a.creator=_o.name,a.created=new Date;const o=a.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let c=1;o.mergeCells(`A${c}:O${c}`);const u=o.getCell(`A${c}`);u.value=_o.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=30,c++,o.mergeCells(`A${c}:O${c}`);const l=o.getCell(`A${c}`);l.value=_o.subtitle,l.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},l.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=25,c++,o.mergeCells(`A${c}:O${c}`);const d=o.getCell(`A${c}`),p=n?`  - ${n} - ${new Date().toLocaleDateString("ar-SA")}`:`  - ${new Date().toLocaleDateString("ar-SA")}`;d.value=p,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=28,c++,c++,[[" ",e(r.totalIncome)],[" ",e(r.totalExpenses)],[" ",e(r.balance)]].forEach(([R,I])=>{const $=o.getRow(c);o.mergeCells(`A${c}:D${c}`);const K=$.getCell(1);K.value=R,K.font={bold:!0,size:11},K.alignment={horizontal:"right",vertical:"middle"},o.mergeCells(`E${c}:H${c}`);const U=$.getCell(5);U.value=I,U.font={bold:!0,size:11,color:{argb:R===" "?r.balance>=0?"FF008000":"FFFF0000":"FF000000"}},U.alignment={horizontal:"left",vertical:"middle"},$.height=22,c++}),c++;const h=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=o.getRow(c);h.forEach((R,I)=>{const $=g.getCell(I+1);$.value=R,$.font=Rr.tableHeader.font,$.fill=Rr.tableHeader.fill,$.alignment=Rr.tableHeader.alignment,$.border=Rr.tableHeader.border}),g.height=28,c++,o.getColumn(1).width=5,o.getColumn(2).width=12,o.getColumn(3).width=10,o.getColumn(4).width=14,o.getColumn(5).width=14,o.getColumn(6).width=16,o.getColumn(7).width=10,o.getColumn(8).width=11,o.getColumn(9).width=13,o.getColumn(10).width=8,o.getColumn(11).width=10,o.getColumn(12).width=9,o.getColumn(13).width=14,o.getColumn(14).width=11,o.getColumn(15).width=13,t.forEach((R,I)=>{const $=o.getRow(c),K=I%2===0?Rr.tableCell:Rr.tableCellAlt,P=new Date(R.date).toLocaleDateString("ar-SA"),L=()=>R.workerName?R.workerName:R.materialName?R.materialName:R.description&&R.description!=="-"?R.description:"-",T=()=>R.supplierName?R.supplierName:R.recipientName?R.recipientName:"-";[I+1,P,I0e(R.type),R.category,R.projectName||" ",L(),R.workDays??"-",R.dailyWage?e(R.dailyWage):"-",R.payableAmount?e(R.payableAmount):"-",R.quantity??"-",R.unitPrice?e(R.unitPrice):"-",R.paymentType||"-",T(),R.transferMethod||"-",e(R.amount)].forEach((k,j)=>{const N=$.getCell(j+1);N.value=k,N.font=K.font,K.fill&&(N.fill=K.fill),N.alignment=K.alignment,N.border=K.border,j===2&&(R.type==="income"||R.type==="transfer_from_project"?N.font={...K.font,color:{argb:"FF008000"}}:R.type==="expense"?N.font={...K.font,color:{argb:"FFFF0000"}}:R.type==="deferred"&&(N.font={...K.font,color:{argb:"FFFF8C00"}})),j===8&&R.payableAmount&&R.amount===0&&(N.font={...K.font,bold:!0,color:{argb:"FFFF6600"}}),j===14&&(R.type==="income"||R.type==="transfer_from_project"?N.font={...K.font,bold:!0,color:{argb:"FF008000"}}:R.type==="expense"?N.font={...K.font,bold:!0,color:{argb:"FFFF0000"}}:R.type==="deferred"&&(N.font={...K.font,bold:!0,color:{argb:"FFFF8C00"}}))}),$.height=24,c++}),c++;const y=o.getRow(c);o.mergeCells(`A${c}:G${c}`);const m=y.getCell(1);m.value=` : ${t.length}`,m.font=Rr.summaryRow.font,m.fill=Rr.summaryRow.fill,m.alignment=Rr.summaryRow.alignment,m.border=Rr.summaryRow.border,o.mergeCells(`H${c}:O${c}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,c+=2;const x=o.getRow(c);o.mergeCells(`A${c}:E${c}`);const S=x.getCell(1);S.value="  : ________________",S.font=Rr.signatureBox.font,S.alignment=Rr.signatureBox.alignment,S.border=Rr.signatureBox.border,o.mergeCells(`K${c}:O${c}`);const C=x.getCell(11);C.value="  : ________________",C.font=Rr.signatureBox.font,C.alignment=Rr.signatureBox.alignment,C.border=Rr.signatureBox.border,x.height=35,c+=2,o.mergeCells(`A${c}:O${c}`);const A=o.getCell(`A${c}`);A.value=`${_o.name} | ${_o.address} |     `,A.font=Rr.footer.font,A.alignment=Rr.footer.alignment;const B=await a.xlsx.writeBuffer(),q=`__${n?n+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;return await qh(B,q)}function O0e(){const{getProjectIdForApi:t,isAllProjects:r}=Io(),e=t()||"",[n,s]=E.useState("all"),[a,o]=E.useState(""),[c,u]=E.useState({}),[l,d]=E.useState(!1),{user:p}=uc(),{toast:f}=pn(),h=p?.role==="admin"||p?.role==="",{totals:g,isLoading:y}=Kh({projectId:e||"all",enabled:!0}),m=E.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:Dn,color:"green",formatter:ie=>Je(ie)},{title:" ()",value:m.totalExpenses,icon:ka,color:"red",formatter:ie=>Je(ie)},{title:" ",value:m.currentBalance,icon:Sr,color:m.currentBalance>=0?"blue":"red",formatter:ie=>Je(ie)},{title:" ",value:m.deferredExpenses,icon:$n,color:"orange",formatter:ie=>Je(ie)}].map((ie,te)=>i.jsx(lr,{className:"overflow-hidden",children:i.jsx(br,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full bg-${ie.color}-100 dark:bg-${ie.color}-900/30`,children:i.jsx(ie.icon,{className:`h-3.5 w-3.5 text-${ie.color}-600 dark:text-${ie.color}-400`})}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ie.title}),i.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ie.color==="red"?"text-red-600":ie.color==="green"?"text-green-600":""}`,children:ie.formatter(ie.value)})]})]})})},te));const x={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:S=[]}=xt({queryKey:xe.projects,...x}),{data:C=[],isLoading:A,error:B}=xt({queryKey:xe.projectFundTransfersFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];return await Promise.all(S.map(async te=>{try{const se=await Ve(`/api/projects/${te.id}/fund-transfers`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}})),console.log(`   ${ie.length}     `),ie}else{const ie=await Ve(`/api/projects/${e}/fund-transfers`);return console.log(`   ${Array.isArray(ie?.data)?ie.data.length:0}  `),Array.isArray(ie?.data)?ie.data:[]}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:q=[],isLoading:R,error:I}=xt({queryKey:xe.projectFundTransfersIncoming(e,r),queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${e}`,te=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(me=>({:me.fromProjectName,:me.toProjectName,:me.amount,:me.transferDate}))),de}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:$=[],isLoading:K,error:U}=xt({queryKey:xe.projectFundTransfersOutgoing(e,r),queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${e}`,te=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(me=>({:me.fromProjectName,:me.toProjectName,:me.amount,:me.transferDate}))),de}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:P=[],isLoading:L,error:T}=xt({queryKey:xe.projectWorkerAttendanceFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await Ve(`/api/projects/${te.id}/worker-attendance`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await Ve(`/api/projects/${e}/worker-attendance`),te=Array.isArray(ie?.data)?ie.data:Array.isArray(ie)?ie:[];return console.log(`   ${te.length}   `),te}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:_=[],isLoading:k,error:j}=xt({queryKey:xe.projectMaterialPurchasesFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await fetch(`/api/projects/${te.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(se.ok){const de=await se.json(),me=Array.isArray(de?.data)?de.data:Array.isArray(de)?de:[];ie.push(...me.map(ke=>({...ke,projectId:te.id,projectName:te.name})))}}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await fetch(`/api/projects/${e}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ie.ok)return ie.status===401?(console.error("   -     "),[]):(console.error(`     : ${ie.status}`),[]);const te=await ie.json(),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:N=[],isLoading:D}=xt({queryKey:xe.transportationExpensesFiltered(r,e),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const te of S)try{const se=await Ve(`/api/transportation-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/transportation-expenses";e&&(ie=`/api/transportation-expenses?projectId=${e}`);const te=await Ve(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:O=[],isLoading:z}=xt({queryKey:xe.workerMiscExpensesFiltered(r,e),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const te of S)try{const se=await Ve(`/api/worker-misc-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/worker-misc-expenses";e&&(ie=`/api/worker-misc-expenses?projectId=${e}`);const te=await Ve(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:Q=[],isLoading:Y,error:re}=xt({queryKey:xe.workerTransfersFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await Ve(`/api/worker-transfers?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:me.projectName||te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=e?`/api/worker-transfers?projectId=${e}`:"/api/worker-transfers",te=await Ve(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:S.length>0,retry:1,staleTime:3e4}),{data:F=[]}=xt({queryKey:xe.workers}),Z=ie=>r?!0:ie.projectId===e,W=E.useMemo(()=>{const ie=[],te=Array.isArray(C)?C:[],se=Array.isArray(q)?q:[],de=Array.isArray($)?$:[],me=Array.isArray(P)?P:[],ke=Array.isArray(_)?_:[],Ce=Array.isArray(N)?N:[],Fe=Array.isArray(O)?O:[],Ie=Array.isArray(Q)?Q:[],Ue=Array.isArray(F)?F:[];console.log(`     ${e}`),console.log("  :",{fundTransfers:te?.length||0,incomingProjectTransfers:se?.length||0,outgoingProjectTransfers:de?.length||0,workerAttendance:me?.length||0,materialPurchases:ke?.length||0,transportExpenses:Ce?.length||0,miscExpenses:Fe?.length||0,workerTransfers:Ie?.length||0});const tt=be=>be&&S.find(Xe=>String(Xe.id)===String(be))?.name||" ";console.log("   :",te.length),te.forEach(be=>{const He=be.transferDate,Xe=parseFloat(be.amount);He&&!isNaN(Xe)&&Xe>0&&ie.push({id:`fund-${be.id}`,date:He,type:"income",category:" ",amount:Xe,description:`: ${be.senderName||" "}`,projectId:be.projectId,projectName:be.projectName||tt(be.projectId)})}),se.length>0?(console.log(`  ${se.length}  `),se.forEach(be=>{const He=be.transferDate,Xe=parseFloat(be.amount);He&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.fromProjectName}`),ie.push({id:`project-in-${be.id}`,date:He,type:"transfer_from_project",category:"    ",amount:Xe,description:`  : ${be.fromProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.toProjectId,projectName:be.toProjectName||tt(be.toProjectId)}))})):console.log(`      ${e}`),de.length>0?(console.log(`  ${de.length}  `),de.forEach(be=>{const He=be.transferDate,Xe=parseFloat(be.amount);He&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.toProjectName}`),ie.push({id:`project-out-${be.id}`,date:He,type:"expense",category:"    ",amount:Xe,description:`  : ${be.toProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.fromProjectId,projectName:be.fromProjectName||tt(be.fromProjectId)}))})):console.log(`      ${e}`),console.log("   :",me.length),me.forEach((be,He)=>{const Xe=be.date||be.attendanceDate||be.created_at;let ot=0;if(be.paidAmount!==void 0&&be.paidAmount!==null&&be.paidAmount!==""){const At=parseFloat(be.paidAmount);!isNaN(At)&&At>0&&(ot=At)}else if(be.actualWage!==void 0&&be.actualWage!==null&&be.actualWage!==""){const At=parseFloat(be.actualWage);!isNaN(At)&&At>0&&(ot=At)}let Xt=0;const vt=be.dailyWage?parseFloat(be.dailyWage):0,Yt=be.workDays?parseFloat(be.workDays):0;!isNaN(vt)&&!isNaN(Yt)&&vt>0&&Yt>0&&(Xt=vt*Yt);const rr=ot>0?ot:0;if(Xe&&(Xt>0||rr>0)){const Pt=(Array.isArray(Ue)?Ue.find(fr=>fr.id===be.workerId):void 0)?.name||be.workerName||be.worker?.name||be.name||" ",jr=be.workDays?` (${be.workDays} )`:"",Ot=Xt>0&&ot===0?" -  ":"",Cr={id:`wage-${be.id}`,date:Xe,type:"expense",category:Xt>0&&ot===0?"  ( )":" ",amount:rr,description:`${Pt}${jr}${Ot}`,workerName:Pt,workDays:Yt>0?Yt:void 0,dailyWage:vt>0?vt:void 0,payableAmount:Xt>0?Xt:void 0,projectId:be.projectId,projectName:be.projectName||tt(be.projectId)};ie.push(Cr)}});const gt=ke.filter(Z);console.log("   :",gt.length),gt.forEach(be=>{const He=be.purchaseDate||be.date;let Xe=0;if(be.totalAmount&&!isNaN(parseFloat(be.totalAmount))?Xe=parseFloat(be.totalAmount):be.amount&&!isNaN(parseFloat(be.amount))?Xe=parseFloat(be.amount):be.cost&&!isNaN(parseFloat(be.cost))&&(Xe=parseFloat(be.cost)),He&&Xe>0){const ot=be.purchaseType===""||be.paymentType==="deferred"||be.isDeferred||be.deferred;ie.push({id:`material-${be.id}`,date:He,type:ot?"deferred":"expense",category:ot?" ":" ",amount:Xe,description:`: ${be.materialName||be.name||" "}${ot?" ()":""}`,materialName:be.materialName||be.name||" ",quantity:be.quantity?parseFloat(be.quantity):void 0,unitPrice:be.unitPrice?parseFloat(be.unitPrice):void 0,paymentType:ot?"":"",supplierName:be.supplierName||be.supplier?.name||"",projectId:be.projectId,projectName:be.projectName||tt(be.projectId)})}});const Ze=Ce.filter(Z);console.log("   :",Ze.length),Ze.forEach(be=>{const He=be.date,Xe=parseFloat(be.amount);He&&!isNaN(Xe)&&Xe>0&&ie.push({id:`transport-${be.id}`,date:He,type:"expense",category:"",amount:Xe,description:`: ${be.description||" "}`,projectId:be.projectId,projectName:be.projectName||tt(be.projectId)})});const it=Fe.filter(Z);console.log("   :",it.length),it.forEach(be=>{const He=be.date,Xe=parseFloat(be.amount);He&&!isNaN(Xe)&&Xe>0&&ie.push({id:`misc-${be.id}`,date:He,type:"expense",category:"",amount:Xe,description:`: ${be.description||be.workerName||" "}`,projectId:be.projectId,projectName:be.projectName||tt(be.projectId)})}),console.log("   :",Ie.length),Ie.forEach(be=>{const He=be.transferDate||be.date,Xe=parseFloat(be.amount);if(He&&!isNaN(Xe)&&Xe>0){const Xt=(Array.isArray(Ue)?Ue.find(rr=>rr.id===be.workerId):void 0)?.name||be.workerName||"  ",vt=be.recipientName?`  ${be.recipientName}`:"",Yt=be.transferMethod==="hawaleh"?"()":be.transferMethod==="bank"?"( )":"()";ie.push({id:`worker-transfer-${be.id}`,date:He,type:"expense",category:" ",amount:Xe,description:`${Xt}${vt} ${Yt}`,workerName:Xt,recipientName:be.recipientName||"",transferMethod:be.transferMethod==="hawaleh"?"":be.transferMethod==="bank"?"":"",projectId:be.projectId,projectName:be.projectName||tt(be.projectId)})}});const ve=ie.filter(be=>be.date&&!isNaN(new Date(be.date).getTime())).sort((be,He)=>new Date(He.date).getTime()-new Date(be.date).getTime());return console.log(`  : ${ve.length}   ${ie.length}`),console.log("   :",{_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.type==="transfer_from_project").length,_:ve.filter(be=>be.category==="    ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.type==="deferred").length,:ve.filter(be=>be.category==="").length,:ve.filter(be=>be.category==="").length,:ve.length}),ve},[e,r,C,q,$,P,_,N,O,Q,F,S]),V=E.useMemo(()=>{let ie=W;return n!=="all"&&(ie=ie.filter(te=>te.type===n)),a&&(ie=ie.filter(te=>te.description.toLowerCase().includes(a.toLowerCase())||te.category.toLowerCase().includes(a.toLowerCase()))),c.from&&(ie=ie.filter(te=>new Date(te.date)>=c.from)),c.to&&(ie=ie.filter(te=>new Date(te.date)<=c.to)),ie},[W,n,a,c]),G=E.useMemo(()=>{const ie=W.filter(Ie=>Ie.type==="income").reduce((Ie,Ue)=>Ie+(Ue.amount||0),0),te=W.filter(Ie=>Ie.type==="transfer_from_project").reduce((Ie,Ue)=>Ie+(Ue.amount||0),0),se=W.filter(Ie=>Ie.type==="expense").reduce((Ie,Ue)=>Ie+(Ue.amount||0),0),de=W.filter(Ie=>Ie.type==="deferred").reduce((Ie,Ue)=>Ie+(Ue.amount||0),0),me=W.filter(Ie=>Ie.category==="    ").reduce((Ie,Ue)=>Ie+(Ue.amount||0),0),ke=se-me,Ce=ie+te,Fe=se+de;return console.log("  :",{income:ie,transferFromProject:te,expenses:se,deferredExpenses:de,otherExpenses:ke,transferToProjectExpenses:me,totalIncome:Ce,totalExpenses:Fe,balance:Ce-Fe}),{income:ie,transferFromProject:te,otherExpenses:ke,transferToProjectExpenses:me,deferredExpenses:de,totalIncome:Ce,expenses:Fe,totalExpenses:Fe,balance:Ce-Fe}},[W]);Array.isArray(S)&&S.find(ie=>ie.id===e)?.name;const ae=ie=>Je(ie),pe=()=>S.find(ie=>ie.id===e)?.name||"",ge={key:"export",icon:l?sn:c0,label:" Excel",onClick:async()=>{if(!(l||V.length===0)){d(!0);try{const ie=await J$(V,{totalIncome:G.totalIncome,totalExpenses:G.totalExpenses,balance:G.balance},Je,r?" ":pe());f(ie?{title:"  ",description:`  ${V.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ie){console.error("  :",ie),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:l||V.length===0,loading:l,tooltip:"     Excel"},ee=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:G.totalIncome,icon:Dn,color:"green",formatter:ae},{key:"totalExpenses",label:" ()",value:G.totalExpenses,icon:ka,color:"red",formatter:ae},{key:"balance",label:" ",value:G.balance,icon:Sr,color:G.balance>=0?"blue":"red",formatter:ae},{key:"deferred",label:" ",value:G.deferredExpenses,icon:$n,color:"orange",formatter:ae}]}],[G]),{data:oe}=xt({queryKey:xe.autocompleteTransactionCategories,queryFn:async()=>Ve("/api/autocomplete/transaction-categories","GET")}),fe=[{key:"type",label:" ",type:"select",placeholder:" ",options:E.useMemo(()=>{const ie=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!oe?.data)return ie;const te=new Set(ie.map(de=>de.value)),se=oe.data.map(de=>({value:de.value,label:de.label})).filter(de=>!te.has(de.value));return[...ie,...se]},[oe])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],le=A||R||K||L||k||Y||D||z;return i.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[i.jsx(Lo,{statsRows:ee,searchValue:a,onSearchChange:o,searchPlaceholder:"    ...",showSearch:!0,filters:fe,actions:[ge],filterValues:{type:n,dateRange:c},onFilterChange:(ie,te)=>{ie==="type"?s(te):ie==="dateRange"&&u(te||{})},onReset:()=>{o(""),s("all"),u({})}}),(B||T||j||re||I||U)&&i.jsx(lr,{className:"bg-red-50 border-red-200",children:i.jsx(br,{className:"p-4",children:i.jsxs("div",{className:"text-red-800",children:[i.jsx("h3",{className:"font-semibold",children:"    :"}),B&&i.jsx("p",{children:"     "}),T&&i.jsx("p",{children:"     "}),j&&i.jsx("p",{children:"     "}),re&&i.jsx("p",{children:"     "}),I&&i.jsx("p",{children:"     "}),U&&i.jsx("p",{children:"     "}),i.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),i.jsx("div",{className:"space-y-4 md:space-y-6",children:le?i.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ie=>i.jsx(lr,{className:"bg-white dark:bg-slate-900",children:i.jsx(br,{className:"p-4 md:p-6",children:i.jsx(un,{className:"h-20 w-full"})})},ie))}):V.length===0?i.jsx(lr,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:i.jsx(br,{className:"p-12",children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx(oa,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),i.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):i.jsx(Hs,{columns:2,children:V.map(ie=>{const te=ie.type==="income"||ie.type==="transfer_from_project",se=ie.type==="deferred",de=te?"":se?"":"",me=()=>ie.category===" "?"/daily-expenses":ie.category===" "?"/worker-attendance":ie.category===" "?"/worker-accounts":ie.category===" "||ie.type==="deferred"?"/material-purchase":ie.category===""?"/daily-expenses":ie.category===""?"/worker-misc-expenses":ie.category.includes("")?"/project-transfers":"/daily-expenses";return i.jsx(xn,{title:ae(ie.amount),subtitle:Nr(new Date(ie.date),"dd/MM/yyyy",{locale:_a}),titleIcon:te?sQ:rQ,headerColor:te?"#10b981":se?"#f59e0b":"#ef4444",badges:[{label:ie.category,variant:te?"default":se?"warning":"destructive"},{label:de,variant:te?"success":se?"warning":"destructive"}],fields:[{label:"",value:ie.projectName||" ",icon:ds,color:"info"},{label:"",value:de,icon:te?Dn:ka,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.category,icon:oa,color:"default"},{label:"",value:ae(ie.amount),icon:Sr,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.description,icon:oa,color:"default"}],actions:[{icon:lu,label:"",onClick:()=>{const ke=me();window.location.href=ke},color:"blue"},...h?[{icon:us,label:"",onClick:()=>{confirm(`      
${ie.category} - ${ae(ie.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ie.id)})})})]})})})}function F0e(){const{toast:t}=pn(),r=_s(),{setFloatingAction:e}=Fo(),[n,s]=E.useState(null),[a,o]=E.useState(!1),c=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,p]=E.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=k=>l(k),h=(k,j)=>{p(N=>({...N,[k]:j}))},g=()=>{l(""),p({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=xt({queryKey:xe.projects,queryFn:async()=>(await Ve("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:x}=xt({queryKey:xe.allFundTransfers,queryFn:async()=>(await Ve("/api/projects/all/fund-transfers","GET")).data||[]}),S=E.useMemo(()=>{let k=m;if(u){const j=u.toLowerCase();k=k.filter(N=>N.senderName?.toLowerCase().includes(j)||N.transferNumber?.toLowerCase().includes(j)||N.notes?.toLowerCase().includes(j)||N.projectName?.toLowerCase().includes(j))}if(d.project&&d.project!=="all"&&(k=k.filter(j=>j.projectId===d.project)),d.transferType&&(k=k.filter(j=>j.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const j=d.dateRange.from?new Date(d.dateRange.from).getTime():0,N=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;k=k.filter(D=>{const O=new Date(D.transferDate).getTime();return O>=j&&O<=N})}return k},[m,u,d]),{totals:C,isLoading:A,refetch:B}=Kh(),q=E.useMemo(()=>({total:m.length,totalAmount:C?.totalIncome||m.reduce((k,j)=>k+(parseFloat(j.amount?.toString()||"0")||0),0),currentBalance:C?.totalBalance||0,filtered:S.length,today:S.filter(k=>new Date(k.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:S.filter(k=>{const j=new Date(k.transferDate),N=new Date,D=new Date(N.getTime()-10080*60*1e3);return j>=D&&j<=N}).length}),[m,S,C]),R=Dt({mutationFn:async k=>n?Ve(`/api/fund-transfers/${n.id}`,"PATCH",k):Ve("/api/fund-transfers","POST",k),onSuccess:()=>{r.refetchQueries({queryKey:xe.allFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:n?"  ":"   "}),$.reset(),s(null),o(!1)},onError:k=>{t({title:"",description:k.message||"   ",variant:"destructive"})}}),I=Dt({mutationFn:async k=>Ve(`/api/fund-transfers/${k}`,"DELETE"),onSuccess:()=>{r.refetchQueries({queryKey:xe.allFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:"   "})},onError:k=>{t({title:"",description:k.message||"   ",variant:"destructive"})}}),$=rc({resolver:nc(h0e),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});E.useEffect(()=>(e(()=>{s(null),$.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),o(!0)}," "),()=>e(null)),[e,$]);const K=k=>{if(!k.projectId){t({title:"",description:"  ",variant:"destructive"});return}R.mutate(k)},U=k=>{s(k),$.reset({projectId:k.projectId,amount:k.amount,senderName:k.senderName||"",transferNumber:k.transferNumber||"",transferType:k.transferType||"",transferDate:k.transferDate,notes:k.notes||""}),o(!0)},P=k=>{if(typeof k!="number"){const j=parseFloat(String(k));if(isNaN(j))return"0 .";k=j}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(k)+" ."},L=E.useMemo(()=>y.map(k=>({value:k.id,label:k.name})),[y]),T=E.useMemo(()=>c.map(k=>k.key==="project"?{...k,options:L}:k),[L]),_=E.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:q.totalAmount,icon:Dn,color:"blue",formatter:P},{key:"totalExpenses",label:" ",value:C?.totalCashExpenses||0,icon:Dn,color:"red",formatter:P},{key:"currentBalance",label:" ",value:q.currentBalance,icon:Sr,color:q.currentBalance>=0?"green":"red",formatter:P},{key:"filtered",label:" ",value:q.filtered,icon:oa,color:"purple"}]}],[q,summary]);return i.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[i.jsx(Lo,{statsRows:_,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:T,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>x(),isRefreshing:v}),i.jsx("div",{className:"space-y-4 md:space-y-6",children:v?i.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(k=>i.jsx(lr,{className:"bg-white dark:bg-slate-900",children:i.jsx(br,{className:"p-4 md:p-6",children:i.jsx(un,{className:"h-20 w-full"})})},k))}):S.length===0?i.jsx(lr,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:i.jsx(br,{className:"p-12",children:i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx(Sr,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),i.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):i.jsx(Hs,{columns:2,children:S.map(k=>i.jsx(xn,{title:P(parseFloat(k.amount?.toString()||"0")),titleIcon:Sr,headerColor:"#10b981",badges:[{label:new Date(k.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:k.projectName||" ",icon:ds,color:"info"},{label:"",value:k.senderName||" ",icon:oa,color:"default"},{label:" ",value:k.transferNumber||" ",icon:oa,color:"default"},{label:"",value:k.transferType||" ",icon:oa,color:"default"},{label:"",value:new Date(k.transferDate).toLocaleDateString("en-GB"),icon:ws,color:"info"}],actions:[{icon:lu,label:"",onClick:()=>U(k),color:"blue"},{icon:us,label:"",onClick:()=>I.mutate(k.id),color:"red"}],compact:!0},k.id))})})]})}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:i.jsxs(lr,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[i.jsx(cs,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ys,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?" ":"  "}),i.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>{o(!1),s(null),$.reset()},className:"h-8 w-8 p-0",children:""})]})}),i.jsx(br,{className:"p-4 md:p-6 pb-4 md:pb-6",children:i.jsx(ac,{...$,children:i.jsxs("form",{onSubmit:$.handleSubmit(K),className:"space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[i.jsx(Zr,{control:$.control,name:"amount",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),i.jsx(nn,{children:i.jsx(yt,{type:"number",step:"0.01",placeholder:"0",...k,autoWidth:!0,maxWidth:250,onChange:j=>k.onChange(j.target.value),className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Hfe,{name:"transferDate",control:$.control,label:" *",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[i.jsx(Zr,{control:$.control,name:"projectId",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" *"}),i.jsx(nn,{children:i.jsxs(Yn,{value:k.value,onValueChange:k.onChange,children:[i.jsx(Vn,{className:"h-10 md:h-11 border-2",children:i.jsx(Zn,{placeholder:" "})}),i.jsx(Wn,{className:"z-[100]",children:y.map(j=>i.jsx($t,{value:j.id,children:j.name},j.id))})]})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Zr,{control:$.control,name:"transferType",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" "}),i.jsx(nn,{children:i.jsxs(Yn,{value:k.value||"",onValueChange:k.onChange,children:[i.jsx(Vn,{className:"h-10 md:h-11 border-2",children:i.jsx(Zn,{placeholder:" "})}),i.jsxs(Wn,{className:"z-[100]",children:[i.jsx($t,{value:"",children:""}),i.jsx($t,{value:"",children:""}),i.jsx($t,{value:" ",children:" "})]})]})}),i.jsx(Rn,{className:"text-xs"})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[i.jsx(Zr,{control:$.control,name:"senderName",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" "}),i.jsx(nn,{children:i.jsx(Ms,{category:"senderNames",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"h-10 md:h-11 border-2"})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsx(Zr,{control:$.control,name:"transferNumber",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:" "}),i.jsx(nn,{children:i.jsx(Ms,{category:"transferNumbers",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"h-10 md:h-11 border-2"})}),i.jsx(Rn,{className:"text-xs"})]})})]}),i.jsx(Zr,{control:$.control,name:"notes",render:({field:k})=>i.jsxs(Xr,{children:[i.jsx(Gn,{className:"text-sm font-semibold",children:""}),i.jsx(nn,{children:i.jsx(Ms,{category:"notes",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"border-2 min-h-24 md:min-h-28"})}),i.jsx(Rn,{className:"text-xs"})]})}),i.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[i.jsx(Re,{type:"submit",disabled:R.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:R.isPending?" ...":n?"":" "}),n&&i.jsx(Re,{type:"button",variant:"outline",onClick:()=>{s(null),$.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var L0e=Symbol("radix.slottable");function B0e(t){const r=({children:e})=>i.jsx(i.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=L0e,r}var ez="AlertDialog",[$0e]=da(ez,[yI]),fc=yI(),tz=t=>{const{__scopeAlertDialog:r,...e}=t,n=fc(r);return i.jsx(Y4,{...n,...e,modal:!0})};tz.displayName=ez;var z0e="AlertDialogTrigger",V0e=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=fc(e);return i.jsx(Z4,{...s,...n,ref:r})});V0e.displayName=z0e;var W0e="AlertDialogPortal",rz=t=>{const{__scopeAlertDialog:r,...e}=t,n=fc(r);return i.jsx(J4,{...n,...e})};rz.displayName=W0e;var U0e="AlertDialogOverlay",nz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=fc(e);return i.jsx(k0,{...s,...n,ref:r})});nz.displayName=U0e;var Yf="AlertDialogContent",[q0e,H0e]=$0e(Yf),K0e=B0e("AlertDialogContent"),sz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,children:n,...s}=t,a=fc(e),o=E.useRef(null),c=Ar(r,o),u=E.useRef(null);return i.jsx(Hae,{contentName:Yf,titleName:az,docsSlug:"alert-dialog",children:i.jsx(q0e,{scope:e,cancelRef:u,children:i.jsxs(j0,{role:"alertdialog",...a,...s,ref:c,onOpenAutoFocus:ft(s.onOpenAutoFocus,l=>{l.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[i.jsx(K0e,{children:n}),i.jsx(Q0e,{contentRef:o})]})})})});sz.displayName=Yf;var az="AlertDialogTitle",iz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=fc(e);return i.jsx(Bh,{...s,...n,ref:r})});iz.displayName=az;var oz="AlertDialogDescription",lz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=fc(e);return i.jsx($h,{...s,...n,ref:r})});lz.displayName=oz;var G0e="AlertDialogAction",cz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=fc(e);return i.jsx(S0,{...s,...n,ref:r})});cz.displayName=G0e;var uz="AlertDialogCancel",dz=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,{cancelRef:s}=H0e(uz,e),a=fc(e),o=Ar(r,s);return i.jsx(S0,{...a,...n,ref:o})});dz.displayName=uz;var Q0e=({contentRef:t})=>{const r=`\`${Yf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yf}\` by passing a \`${oz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},X0e=tz,Y0e=rz,fz=nz,hz=sz,pz=cz,mz=dz,gz=iz,yz=lz;const Z0e=X0e,J0e=Y0e,bz=E.forwardRef(({className:t,...r},e)=>i.jsx(fz,{className:Ee("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));bz.displayName=fz.displayName;const xz=E.forwardRef(({className:t,...r},e)=>i.jsxs(J0e,{children:[i.jsx(bz,{}),i.jsx(hz,{ref:e,className:Ee("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),style:{pointerEvents:"auto"},...r})]}));xz.displayName=hz.displayName;const vz=({className:t,...r})=>i.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...r});vz.displayName="AlertDialogHeader";const wz=({className:t,...r})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});wz.displayName="AlertDialogFooter";const _z=E.forwardRef(({className:t,...r},e)=>i.jsx(gz,{ref:e,className:Ee("text-lg font-semibold",t),...r}));_z.displayName=gz.displayName;const kz=E.forwardRef(({className:t,...r},e)=>i.jsx(yz,{ref:e,className:Ee("text-sm text-muted-foreground",t),...r}));kz.displayName=yz.displayName;const jz=E.forwardRef(({className:t,...r},e)=>i.jsx(pz,{ref:e,className:Ee(Im(),t),...r}));jz.displayName=pz.displayName;const Sz=E.forwardRef(({className:t,...r},e)=>i.jsx(mz,{ref:e,className:Ee(Im({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));Sz.displayName=mz.displayName;function ege(){return i.jsxs(lr,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(un,{className:"h-10 w-10 rounded-lg"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(un,{className:"h-5 w-32"}),i.jsx(un,{className:"h-3 w-20"})]})]}),i.jsx(un,{className:"h-6 w-16 rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((t,r)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(un,{className:"h-4 w-4 rounded"}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx(un,{className:"h-3 w-12"}),i.jsx(un,{className:"h-4 w-16"})]})]},r))}),i.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[i.jsx(un,{className:"h-8 w-8 rounded"}),i.jsx(un,{className:"h-8 w-8 rounded"})]})]})]})}function tge(){return i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((t,r)=>i.jsxs("div",{className:"flex items-center gap-3 p-2",children:[i.jsx(un,{className:"h-10 w-10 rounded-lg"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(un,{className:"h-3 w-16"}),i.jsx(un,{className:"h-5 w-20"})]})]},r))})}function rge(){return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[i.jsx(un,{className:"h-9 flex-1 rounded-lg"}),i.jsx(un,{className:"h-8 w-8 rounded-lg"}),i.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[i.jsx(un,{className:"h-8 w-8 rounded-lg"}),i.jsx(un,{className:"h-8 w-8 rounded-lg"})]})]})}function nge(){return i.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[i.jsx(tge,{}),i.jsx(rge,{}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((t,r)=>i.jsx(ege,{},r))})]})}class sge{constructor(){this.baseURL=`${fh.getApiBaseUrl()}/api`}async request(r,e={}){const n=typeof window<"u"?localStorage.getItem("accessToken"):null;if(fl.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${fl.getPlatform()}: skipping direct request to ${r}`),new Error("OFFLINE_MODE");try{const s=`${this.baseURL}${r}`;console.log(` API Request: ${e.method||"GET"} ${r}`,e.body||"");const a={"Content-Type":"application/json"};if(n&&n!=="undefined"&&n!=="null"){const u=n.replace(/^["'](.+)["']$/,"$1");a.Authorization=`Bearer ${u}`,a["x-auth-token"]=u}const o=await fetch(s,{...e,headers:{...a,...e.headers}});if(o.status===401&&(await o.clone().json().catch(()=>({}))).code==="TOKEN_EXPIRED"&&r!=="/auth/refresh"){console.log(" [API] Token expired, attempting refresh...");try{const l=await this.post("/auth/refresh",{refreshToken:localStorage.getItem("refreshToken")});if(l&&l.accessToken)return localStorage.setItem("accessToken",l.accessToken),l.refreshToken&&localStorage.setItem("refreshToken",l.refreshToken),this.request(r,e)}catch(l){console.error(" [API] Refresh failed:",l),typeof window<"u"&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/auth")}}if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const c=o.headers.get("content-type");if(c&&c.includes("application/json")){const u=await o.json();return console.log(` API Response: ${e.method||"GET"} ${r}`,u),u}else{const u=await o.text();return console.log(` API Response (non-JSON): ${e.method||"GET"} ${r}`),u}}catch(s){throw console.error(` API Error: ${e.method||"GET"} ${r}`,s),s}}async get(r){return this.request(r,{method:"GET"})}async post(r,e){return this.request(r,{method:"POST",body:e?JSON.stringify(e):void 0})}async put(r,e){return this.request(r,{method:"PUT",body:e?JSON.stringify(e):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}}new sge;async function Gh(t,r="GET",e,n=3e4){const s=fh.getApiBaseUrl(),a=t.startsWith("http")?t:`${s}${t}`,o={"Content-Type":"application/json"},c=typeof window<"u"?localStorage.getItem("accessToken"):null;if(c){const d=c.replace(/^["'](.+)["']$/,"$1");o.Authorization=`Bearer ${d}`,o["x-auth-token"]=d}const u=new AbortController,l=setTimeout(()=>u.abort(),n);try{const d=await fetch(a,{method:r,headers:o,body:e?JSON.stringify(e):void 0,signal:u.signal});if(clearTimeout(l),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const p=d.headers.get("content-type");return p&&p.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(l),d}}class age{constructor(){this.events=[],this.listeners=[]}logEvent(r){const e={...r,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(e),console.log(` [IntelligentMonitor] [${r.severity.toUpperCase()}] ${r.message}`,r.metadata),(r.severity==="high"||r.severity==="critical")&&this.notifyAdmin(e),(r.type==="error"||r.type==="sync")&&this.attemptSelfHealing(e),this.notifyListeners(e)}notifyAdmin(r){Ck({title:`  ${r.severity==="critical"?"":""}`,description:r.message,variant:r.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(r){if(r.resolved)return;console.log(` [Self-Healing]   : ${r.id}`);let e="";if(r.type==="sync"){e="      ";try{const{triggerSync:n}=await ln(async()=>{const{triggerSync:s}=await Promise.resolve().then(()=>Az);return{triggerSync:s}},void 0);setTimeout(()=>n(),5e3)}catch(n){console.error(" [Self-Healing]   :",n)}}else(r.message.includes("storage")||r.message.includes("quota"))&&(e="      ");if(e){this.updateEventStatus(r.id,!0,e);try{const{smartSave:n}=await ln(async()=>{const{smartSave:s}=await Promise.resolve().then(()=>cm);return{smartSave:s}},void 0);await n("systemEvents",[{id:r.id,type:"monitoring",data:{...r,actionTaken:e},timestamp:Date.now()}])}catch(n){console.error(" [IntelligentMonitor]     DB:",n)}}}updateEventStatus(r,e,n){const s=this.events.find(a=>a.id===r);s&&(s.resolved=e,s.actionTaken=n,console.log(` [IntelligentMonitor]   : ${r}  ${n}`))}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(e=>e!==r)}}notifyListeners(r){this.listeners.forEach(e=>e(r))}getEvents(){return[...this.events]}}const sm=new age,Nz=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","notification_read_states","build_deployments","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],ige={emergency_users:"emergencyUsers",auth_user_sessions:"authUserSessions",email_verification_tokens:"emailVerificationTokens",password_reset_tokens:"passwordResetTokens",project_types:"projectTypes",fund_transfers:"fundTransfers",worker_attendance:"workerAttendance",material_purchases:"materialPurchases",supplier_payments:"supplierPayments",transportation_expenses:"transportationExpenses",worker_transfers:"workerTransfers",worker_balances:"workerBalances",daily_expense_summaries:"dailyExpenseSummaries",worker_types:"workerTypes",autocomplete_data:"autocompleteData",worker_misc_expenses:"workerMiscExpenses",backup_logs:"backupLogs",backup_settings:"backupSettings",print_settings:"printSettings",project_fund_transfers:"projectFundTransfers",security_policies:"securityPolicies",security_policy_suggestions:"securityPolicySuggestions",security_policy_implementations:"securityPolicyImplementations",security_policy_violations:"securityPolicyViolations",user_project_permissions:"userProjectPermissions",permission_audit_logs:"permissionAuditLogs",report_templates:"reportTemplates",notification_read_states:"notificationReadStates",build_deployments:"buildDeployments",ai_chat_sessions:"aiChatSessions",ai_chat_messages:"aiChatMessages",ai_usage_stats:"aiUsageStats",well_tasks:"wellTasks",well_task_accounts:"wellTaskAccounts",well_expenses:"wellExpenses",well_audit_logs:"wellAuditLogs",material_categories:"materialCategories"};function $x(t){return ige[t]||t}const v8=5,oge=2e3;let Zu=!1;function lge(t){if(t?.status)return t.status;if(t?.statusCode)return t.statusCode;const r=t?.message||String(t),e=r.match(/status:\s*(\d{3})/i);return e?parseInt(e[1],10):r.includes(" ")||r.includes("duplicate")||r.includes("already exists")?409:r.includes(" ")||r.includes("validation")||r.includes("")?400:0}let Iy=[],Oy={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function zx(t){return Iy.push(t),()=>{Iy=Iy.filter(r=>r!==t)}}function ai(t){Oy={...Oy,...t},Iy.forEach(r=>r(Oy))}async function cge(t,r){try{return await kk(t),await Kc(t,r),console.log(` [ForceSync] Table ${t} synced with ${r.length} records`),!0}catch(e){return console.error(` [ForceSync] Failed to sync ${t}:`,e),!1}}function zm(){return{...Oy}}function uge(t){return Math.min(3e4,oge*Math.pow(2,t))}async function W_(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(Zu)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),ai({isSyncing:!0}),console.log(" [Sync]   apiRequest  /api/sync/full-backup");const r=await Gh("/api/sync/full-backup","POST",void 0,12e4);if(console.log(" [Sync]  :",r?"":""),!r||typeof r=="object"&&r.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!r.success||!r.data)return console.error(" [Sync]     :",r?.error||"  ",r),!1;const{data:e}=r,n=Object.entries(e),s=n.length;let a=0,o=0;if(e.users&&Array.isArray(e.users)){a++,ai({progress:{total:s,current:a,tableName:"users",percentage:Math.round(a/s*100)}}),await Kc("users",e.users);const u=e.users.map(l=>({id:l.id.toString(),email:l.email,password:l.password,name:`${l.firstName||""} ${l.lastName||""}`.trim(),role:l.role||"user"}));await Kc("emergencyUsers",u)}const c=5;for(let u=0;u<n.length;u+=c){const l=n.slice(u,u+c);for(const[d,p]of l)if(d!=="users"&&Array.isArray(p)){a++;const f=$x(d);ai({progress:{total:s,current:a,tableName:f,percentage:Math.min(100,Math.round(a/s*100))}}),await Kc(f,p),o+=p.length}}return await Sa("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:o,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),ai({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(r){const e=r instanceof Error?r.message:"Unknown error";return console.error(" [Sync]    :",e),ai({isSyncing:!1,lastError:` : ${e}`}),r instanceof Error&&r.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{Zu=!1}}async function Zc(){if(!Zu){if(!navigator.onLine){ai({isOnline:!1});return}Zu=!0,ai({isSyncing:!0,isOnline:!0});try{const t=await iu();if(t.length===0){ai({isSyncing:!1}),Zu=!1;return}console.log(` [Sync]   ${t.length} ...`);let r=0,e=0;for(const n of t){if(n.retries>=v8){console.warn(` [Sync]  ${n.id}    -   failed`),await Ul(n.id,`    (${v8})`,"max_retries"),e++;continue}try{await jk(n.id);const s=Date.now(),a=JSON.stringify(n.payload),o=btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(l,d)=>String.fromCharCode(parseInt(d,16)))).substring(0,32);let c;try{c=await Gh(n.endpoint,n.action==="create"?"POST":n.action==="update"?"PATCH":"DELETE",{...n.payload,_metadata:{signature:o,version:n.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}})}catch(l){const d=lge(l),p=l?.message||l?.error||String(l);if(d===409){console.log(` [Sync]   (409): ${n.id}`),await fP(n.id,p),r++;continue}if(d===400||d===422){console.error(` [Sync]   (${d}): ${n.id}`),await Ul(n.id,p,"validation"),await eo({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"failed",duration:Date.now()-s,errorMessage:p,errorCode:String(d),retryCount:n.retries+1}),e++;continue}await Ul(n.id,p,"network"),e++,sm.logEvent({type:"sync",severity:n.retries>2?"high":"medium",message:`  : ${p}`,metadata:{retryCount:n.retries+1,itemId:n.id}});const f=uge(n.retries);await new Promise(h=>setTimeout(h,f));continue}const u=Date.now()-s;if(c&&c.success!==!1){await Ub(n.id);const l=n.payload.id,d=n.endpoint.split("/")[2];if(d&&l)try{const f=(await qa(d)).find(h=>(h.id||h.key)===l);f&&(f.synced=!0,f.pendingSync=!1,f.isLocal=!1,await Kc(d,[f]))}catch(p){console.warn(` [Sync]      ${d}:`,p)}await eo({queueItemId:n.id,action:n.action,endpoint:n.endpoint,status:"success",duration:u,retryCount:n.retries}),r++,ai({latency:u,pendingCount:t.length-r-e})}else{const l=c?.message||c?.error||"  ";await Ul(n.id,l,"server"),e++}}catch(s){const a=s instanceof Error?s.message:"  ";await Ul(n.id,a,"unknown"),e++,sm.logEvent({type:"sync",severity:"high",message:`  : ${a}`,metadata:{itemId:n.id}})}}ai({lastSync:Date.now(),isSyncing:!1,syncedCount:r,failedCount:e})}catch(t){console.error(" [Sync]   :",t),ai({isSyncing:!1}),sm.logEvent({type:"error",severity:"high",message:`    : ${t instanceof Error?t.message:"  "}`})}finally{Zu=!1}}}function Cz(){window.addEventListener("online",()=>{ai({isOnline:!0}),W_(),Zc()}),window.addEventListener("offline",()=>{ai({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await W_(),await Zc()})(),setInterval(()=>{navigator.onLine&&Zc()},3e4)}function dge(){}function Fy(){Zc().catch(t=>console.error(" [Sync]    :",t))}async function Tz(){try{console.log(" [Sync]       ...");const t=await Gh("/api/sync/full-backup","POST",void 0,6e4);if(!t||!t.success||!t.data)throw new Error("Backup failed on server");const{data:r}=t;let e=0;for(const[n,s]of Object.entries(r))if(Array.isArray(s)){const a=$x(n);await Kc(a,s),e+=s.length}return await Sa("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:e}),{recordCount:e}}catch(t){throw console.error(" [Sync]     :",t),t}}function fge(){Zu||Zc().catch(t=>{console.error(" [Sync]   :",t)})}async function hge(t,r){try{console.log(" [Sync]   ...");const e=Date.now(),n=await Gh("/api/sync/instant-sync","POST",{tables:t||[],lastSyncTime:r},6e4);if(!n||!n.success||!n.data)throw new Error("Instant sync failed");const{data:s}=n;let a=0;for(const[c,u]of Object.entries(s))if(Array.isArray(u)&&u.length>0){const l=$x(c);await Kc(l,u),a+=u.length}const o=Date.now()-e;return console.log(` [Sync]   : ${a}   ${o}ms`),ai({lastSync:Date.now()}),{success:!0,totalRecords:a,duration:o}}catch(e){return console.error(" [Sync]    :",e),{success:!1,totalRecords:0,duration:0}}}async function Ez(){try{console.log(" [Sync]    ...");const t={};for(const e of Nz)try{const n=await qa(e);t[e]=n?.length||0}catch{t[e]=0}const r=await Gh("/api/sync/verify-sync","POST",{clientCounts:t},3e4);if(!r||!r.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${r.isMatched?" ":`${r.differences?.length||0} `}`),{isMatched:r.isMatched,differences:r.differences||[],summary:r.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(t){return console.error(" [Sync]   :",t),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function pge(){try{const t=await Gh("/api/sync/stats","GET",void 0,3e4);return!t||!t.success?{stats:{},totalRecords:0}:{stats:t.stats||{},totalRecords:t.summary?.totalRecords||0}}catch(t){return console.error(" [Sync]    :",t),{stats:{},totalRecords:0}}}const Az=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:Nz,forceSyncTable:cge,getSyncState:zm,getSyncStats:pge,initSyncListener:Cz,loadFullBackup:Tz,performInitialDataPull:W_,performInstantSync:hge,serverTableToIDB:$x,startBackgroundSync:fge,stopSyncListener:dge,subscribeSyncState:zx,syncOfflineData:Zc,triggerSync:Fy,verifySyncStatus:Ez},Symbol.toStringTag,{value:"Module"})),mge=({income:t,expenses:r,balance:e,formatCurrencyFn:n})=>i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[i.jsx(eM,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:n(t)})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[i.jsx(Mk,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:n(r)})]}),i.jsxs("div",{className:`${e>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[i.jsxs("div",{className:`flex items-center justify-center gap-1 ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[i.jsx(kd,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:`text-xs font-bold ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:n(e)})]})]});function gge(){const{toast:t}=pn(),r=_s(),{user:e}=uc(),n=e?.role==="admin",[s,a]=E.useState(null),[o,c]=E.useState(!1),[u,l]=E.useState(!1),[d,p]=E.useState(null),f=E.useRef(null),h=E.useRef(null),{setFloatingAction:g}=Fo(),[y,m]=E.useState(""),[v,x]=E.useState({status:"all",engineerId:"all"}),[S,C]=E.useState(!1),[A,B]=E.useState(null),[q,R]=E.useState(!1),[I,$]=E.useState(null),[K,U]=E.useState(null),[P,L]=E.useState(!1),T=E.useCallback((ve,be)=>{x(He=>({...He,[ve]:be}))},[]),_=E.useCallback(()=>{m(""),x({status:"all",engineerId:"all"}),t({title:"  ",description:"   "})},[t]);E.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const{data:k=[],isLoading:j,refetch:N,error:D}=xt({queryKey:xe.projectsWithStats,staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,queryFn:async()=>{try{console.log(" [Projects]    ...");const ve=await Ve("/api/projects/with-stats","GET");let be=[];return ve&&typeof ve=="object"&&(ve.success!==void 0&&ve.data!==void 0?be=Array.isArray(ve.data)?ve.data:[]:Array.isArray(ve)?be=ve:ve.id?be=[ve]:ve.data&&(be=Array.isArray(ve.data)?ve.data:[])),be}catch(ve){return console.error(" [Projects]    :",ve),[]}},refetchInterval:6e4}),O=Array.isArray(k)?k:[],z=O,{totals:Q,allProjects:Y,isLoading:re,refetch:F}=Kh({projectId:"all",enabled:!0}),Z=E.useMemo(()=>{const ve=new Map;return Y?.projects&&Y.projects.forEach(be=>{ve.set(be.projectId,be)}),ve},[Y?.projects]),W=E.useCallback(ve=>{const be=Z.get(ve);return be?{totalIncome:be.income?.totalIncome||0,totalExpenses:be.expenses?.totalAllExpenses||0,cashExpenses:be.expenses?.totalCashExpenses||0,currentBalance:be.totalBalance||0,totalWorkers:be.workers?.totalWorkers||0,activeWorkers:be.workers?.activeWorkers||0,completedDays:be.workers?.completedDays||0,materialPurchases:be.expenses?.materialExpenses||0,materialExpensesCredit:be.expenses?.materialExpensesCredit||0,totalTransportation:be.expenses?.transportExpenses||0,totalMiscExpenses:be.expenses?.miscExpenses||0,totalWorkerWages:be.expenses?.workerWages||0,totalFundTransfers:be.income?.fundTransfers||0,totalWorkerTransfers:be.expenses?.workerTransfers||0,incomingProjectTransfers:be.income?.incomingProjectTransfers||0,outgoingProjectTransfers:be.expenses?.outgoingProjectTransfers||0}:null},[Z]),V=E.useCallback(async()=>{C(!0);try{await Promise.all([N(),F()]),t({title:" ",description:"   "})}catch{t({title:"",description:"  ",variant:"destructive"})}finally{C(!1)}},[N,t]),{data:G={users:[]}}=xt({queryKey:xe.usersList,queryFn:async()=>{try{return await Ve("/api/users/list","GET")||{users:[]}}catch(ve){return console.error(" [Projects]    :",ve),{users:[]}}},staleTime:6e4}),ae=E.useMemo(()=>Array.isArray(G?.users)?G.users:[],[G]),{data:pe=[],isLoading:ce}=xt({queryKey:xe.projectTypes,queryFn:async()=>{try{const ve=await Ve("/api/project-types","GET");return ve?.success&&Array.isArray(ve.data)?ve.data:[]}catch(ve){return console.error(" [Projects]     :",ve),[]}},staleTime:6e4}),ge=rc({resolver:nc(x8),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),ee=rc({resolver:nc(x8),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),oe=async(ve,be)=>{if(!(!be||typeof be!="string"||!be.trim()))try{await Ve("/api/autocomplete","POST",{category:ve,value:be.trim()})}catch(He){console.log(`Failed to save autocomplete value for ${ve}:`,He)}},ne=Dt({mutationFn:ve=>Ve("/api/projects","POST",ve),onSuccess:async(ve,be)=>{await oe("projectNames",be.name),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),Fy(),t({title:"   "}),c(!1),ge.reset(),p(null),f.current&&(f.current.value="")},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),fe=Dt({mutationFn:({id:ve,data:be})=>Ve(`/api/projects/${ve}`,"PATCH",be),onSuccess:async(ve,be)=>{await oe("projectNames",be.data.name),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),Fy(),t({title:"   "}),l(!1),a(null),ee.reset(),h.current&&(h.current.value="")},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),le=Dt({mutationFn:({id:ve,confirmDeletion:be})=>Ve(`/api/projects/${ve}`,"DELETE",{confirmDeletion:be}),onSuccess:()=>{Fy(),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:"   "}),R(!1),$(null),U(null)},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),ie=async ve=>{L(!0);try{const be=await Ve(`/api/projects/${ve}/deletion-stats`,"GET");be.success&&be.data&&U({stats:be.data.stats,totalLinkedRecords:be.data.totalLinkedRecords,canDelete:be.data.canDelete,deleteBlockReason:be.data.deleteBlockReason||""})}catch(be){t({title:"    ",description:be.message,variant:"destructive"}),R(!1)}finally{L(!1)}},te=ve=>{$(ve),R(!0),ie(ve.id)},se=Dt({mutationFn:({id:ve,data:be})=>Ve(`/api/projects/${ve}`,"PATCH",be),onMutate:async({id:ve,data:be})=>{await r.cancelQueries({queryKey:xe.projectsWithStats});const He=r.getQueryData(xe.projectsWithStats);return Array.isArray(He)&&r.setQueryData(xe.projectsWithStats,He.map(Xe=>Xe.id===ve?{...Xe,status:be.status}:Xe)),{previousData:He}},onSuccess:()=>{t({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(ve,be,He)=>{He?.previousData&&r.setQueryData(xe.projectsWithStats,He.previousData),t({title:"",description:ve.message||"     ",variant:"destructive"})},onSettled:()=>{B(null),r.invalidateQueries({queryKey:xe.projectsWithStats}),r.invalidateQueries({queryKey:xe.projects})}}),de=ve=>{B(ve.id);const be=ve.status==="active"?"paused":"active";se.mutate({id:ve.id,data:{status:be}})},me=ve=>{ne.mutate(ve)},ke=ve=>{if(!s){t({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:s.id,name:s.name,newData:ve}),fe.mutate({id:s.id,data:ve})},Ce=(ve,be=!1)=>{le.mutate({id:ve,confirmDeletion:be})},Fe=ve=>{a(ve),ee.reset({name:ve.name,status:ve.status,engineerId:ve.engineerId||null,projectTypeId:ve.projectTypeId||null}),l(!0)},Ie=ve=>{switch(ve){case"active":return"";case"completed":return"";case"paused":return"";default:return ve}};E.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const Ue=E.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),Q){const ve=z.filter(be=>be.status==="active").length;return{totalProjects:z.length,activeProjects:ve,totalIncome:Q.totalIncome||0,totalExpenses:Q.totalAllExpenses||Q.totalExpenses||0,totalWorkers:Q.totalWorkers||0,materialPurchases:0}}return{totalProjects:z.length,activeProjects:z.filter(ve=>ve.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[Q,z]),tt=Q?.totalBalance??Ue.totalIncome-Ue.totalExpenses,gt=E.useMemo(()=>z.filter(ve=>{if(y&&!ve.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&ve.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(ve.engineerId)return!1}else if(ve.engineerId!==v.engineerId)return!1}return!0}),[z,y,v]),Ze=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:Ue.totalProjects,icon:ds,color:"blue"},{key:"activeProjects",label:" ",value:Ue.activeProjects,icon:Ks,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:Je(tt),icon:kd,color:tt>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:Je(Ue.totalIncome),icon:Dn,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:Ue.totalWorkers,icon:zn,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:Ue.materialPurchases,icon:_n,color:"gray"}]}],[Ue,tt]),it=E.useMemo(()=>{const ve=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return n&&ve.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...ae.map(be=>({value:be.id,label:be.name}))]}),ve},[ae,n]);return j?i.jsx(nge,{}):D?(console.error(" [Projects]    :",D),i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("div",{className:"text-6xl",children:""}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),i.jsxs(Re,{onClick:()=>N(),className:"gap-2",children:[i.jsx(gs,{className:"h-4 w-4"})," "]})]})})):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2 p-2",children:[i.jsx(Lo,{hideHeader:!0,title:"",statsRows:Ze,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:it,filterValues:v,onFilterChange:T,onReset:_,onRefresh:V,isRefreshing:S,resultsSummary:y||v.status!=="all"?{totalCount:O.length,filteredCount:gt.length,totalLabel:"",filteredLabel:"",totalValue:gt.reduce((ve,be)=>{const He=W(be.id);return ve+(He?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),i.jsx(Us,{open:o,onOpenChange:c,children:i.jsxs(Ds,{children:[i.jsxs(qs,{children:[i.jsx(ca,{children:"  "}),i.jsx(Xl,{children:"   "})]}),i.jsx(ac,{...ge,children:i.jsxs("form",{onSubmit:ge.handleSubmit(me),className:"space-y-1",children:[i.jsx(Zr,{control:ge.control,name:"name",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsx(nn,{children:i.jsx(Ms,{value:ve.value,onChange:ve.onChange,category:"projectNames",placeholder:" "})}),i.jsx(Rn,{})]})}),n&&i.jsx(Zr,{control:ge.control,name:"engineerId",render:({field:ve})=>{const be=[{value:"none",label:" "},...ae.map(He=>({value:He.id,label:`${He.name} (${He.role})`}))];return i.jsxs(Xr,{children:[i.jsx(Gn,{children:" / "}),i.jsx(nn,{children:i.jsx(os,{value:ve.value||"none",onValueChange:He=>ve.onChange(He==="none"?null:He),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),i.jsx(Rn,{})]})}}),i.jsx(Zr,{control:ge.control,name:"projectTypeId",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsx(nn,{children:i.jsx(I_,{value:ve.value?.toString()||"",onValueChange:be=>ve.onChange(be?parseInt(be):null),projectTypes:pe,placeholder:ce?" ...":"  ...",disabled:ce})}),i.jsx(Rn,{})]})}),i.jsx(Zr,{control:ge.control,name:"status",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsxs(Yn,{onValueChange:ve.onChange,defaultValue:ve.value,children:[i.jsx(nn,{children:i.jsx(Vn,{children:i.jsx(Zn,{placeholder:"  "})})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"active",children:""}),i.jsx($t,{value:"paused",children:""}),i.jsx($t,{value:"completed",children:""})]})]}),i.jsx(Rn,{})]})}),i.jsx(xb,{children:i.jsx(Re,{type:"submit",disabled:ne.isPending,children:ne.isPending?" ...":" "})})]})})]})}),i.jsx(Us,{open:u,onOpenChange:l,children:i.jsxs(Ds,{children:[i.jsxs(qs,{children:[i.jsx(ca,{children:" "}),i.jsx(Xl,{children:"  "})]}),i.jsx(ac,{...ee,children:i.jsxs("form",{onSubmit:ee.handleSubmit(ke),className:"space-y-1",children:[i.jsx(Zr,{control:ee.control,name:"name",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsx(nn,{children:i.jsx(Ms,{value:ve.value,onChange:ve.onChange,category:"projectNames",placeholder:" "})}),i.jsx(Rn,{})]})}),n&&i.jsx(Zr,{control:ee.control,name:"engineerId",render:({field:ve})=>{const be=[{value:"none",label:" "},...ae.map(He=>({value:He.id,label:`${He.name} (${He.role})`}))];return i.jsxs(Xr,{children:[i.jsx(Gn,{children:" / "}),i.jsx(nn,{children:i.jsx(os,{value:ve.value||"none",onValueChange:He=>ve.onChange(He==="none"?null:He),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),i.jsx(Rn,{})]})}}),i.jsx(Zr,{control:ee.control,name:"projectTypeId",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsx(nn,{children:i.jsx(I_,{value:ve.value?.toString()||"",onValueChange:be=>ve.onChange(be?parseInt(be):null),projectTypes:pe,placeholder:ce?" ...":"  ...",disabled:ce})}),i.jsx(Rn,{})]})}),i.jsx(Zr,{control:ee.control,name:"status",render:({field:ve})=>i.jsxs(Xr,{children:[i.jsx(Gn,{children:" "}),i.jsxs(Yn,{onValueChange:ve.onChange,defaultValue:ve.value,children:[i.jsx(nn,{children:i.jsx(Vn,{children:i.jsx(Zn,{placeholder:"  "})})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"active",children:""}),i.jsx($t,{value:"paused",children:""}),i.jsx($t,{value:"completed",children:""})]})]}),i.jsx(Rn,{})]})}),i.jsxs(xb,{children:[i.jsx(Re,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:fe.isPending,children:""}),i.jsx(Re,{type:"submit",disabled:fe.isPending||!s,className:"gap-2",children:fe.isPending?"  ...":"  "})]})]})})]})}),gt.length===0?i.jsxs(lr,{className:"p-12 text-center",children:[i.jsx(ds,{className:"h-16 w-16 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"text-xl font-semibold",children:O.length===0?"  ":"  "}),i.jsx("p",{className:"text-muted-foreground",children:O.length===0?"   ":"     "}),O.length===0&&i.jsxs(Re,{onClick:()=>c(!0),className:"gap-2",children:[i.jsx(gs,{className:"h-4 w-4"}),"  "]})]}):i.jsx(Hs,{columns:4,children:gt.map(ve=>{const be=W(ve.id),He=be?.totalIncome||0,Xe=be?.totalExpenses||0,ot=be?.currentBalance||0;be?.totalWorkers,be?.materialPurchases,be?.completedDays;const Xt=ve.status==="active"?"success":ve.status==="completed"?"default":"destructive";return i.jsx(xn,{title:ve.name,subtitle:qo(ve.createdAt),titleIcon:ds,headerColor:ve.status==="active"?"#22c55e":ve.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Ie(ve.status),variant:Xt}],fields:[{label:"",value:Je(be?.materialPurchases||0),icon:_n,color:"warning"},{label:"",value:Je(be?.totalTransportation||0),icon:Jo,color:"info"},{label:"",value:Je(be?.totalMiscExpenses||0),icon:kd,color:"default"},{label:" ",value:Je(be?.totalWorkerWages||0),icon:zn,color:"success"},{label:" ()",value:Je(be?.outgoingProjectTransfers||0),icon:eM,color:"red"},{label:" ()",value:Je(be?.incomingProjectTransfers||0),icon:Mk,color:"success"},{label:" ",value:Je(be?.totalWorkerTransfers||0),icon:Sr,color:"orange"},{label:"",value:ve.engineerId?ae.find(vt=>vt.id===ve.engineerId)?.name||" ":" ",icon:LQ,color:ve.engineerId?"info":"muted"}],actions:[{icon:lu,label:"",onClick:()=>Fe(ve),color:"blue"},{icon:iM,label:ve.status==="active"?"":"",onClick:()=>de(ve),disabled:A===ve.id,color:ve.status==="active"?"yellow":"green"},{icon:us,label:"",onClick:()=>te(ve),color:"red"}],footer:i.jsx(mge,{income:He,expenses:Xe,balance:ot,formatCurrencyFn:Je}),compact:!0},ve.id)})})]}),i.jsx(Z0e,{open:q,onOpenChange:R,children:i.jsxs(xz,{className:"max-w-md",children:[i.jsxs(vz,{children:[i.jsx(_z,{className:"text-right",children:"  "}),i.jsx(kz,{className:"text-right space-y-3",children:P?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):K?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"font-medium text-base",children:['      "',I?.name,'"']}),K.canDelete?K.totalLinkedRecords>0?i.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[i.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",K.totalLinkedRecords,"  :"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[K.stats.fundTransfers>0&&i.jsxs("div",{children:[" : ",K.stats.fundTransfers]}),K.stats.workerAttendance>0&&i.jsxs("div",{children:[" : ",K.stats.workerAttendance]}),K.stats.materialPurchases>0&&i.jsxs("div",{children:[" : ",K.stats.materialPurchases]}),K.stats.transportationExpenses>0&&i.jsxs("div",{children:[" : ",K.stats.transportationExpenses]}),K.stats.workerTransfers>0&&i.jsxs("div",{children:[" : ",K.stats.workerTransfers]}),K.stats.workerMiscExpenses>0&&i.jsxs("div",{children:[": ",K.stats.workerMiscExpenses]}),K.stats.dailySummaries>0&&i.jsxs("div",{children:[" : ",K.stats.dailySummaries]}),(K.stats.projectTransfersFrom>0||K.stats.projectTransfersTo>0)&&i.jsxs("div",{children:["  : ",(K.stats.projectTransfersFrom||0)+(K.stats.projectTransfersTo||0)]}),K.stats.workerBalances>0&&i.jsxs("div",{children:[" : ",K.stats.workerBalances]}),K.stats.supplierPayments>0&&i.jsxs("div",{children:[" : ",K.stats.supplierPayments]})]}),i.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):i.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:K.deleteBlockReason})]}):i.jsx("p",{children:"  ..."})})]}),i.jsxs(wz,{className:"flex-row-reverse gap-2",children:[i.jsx(Sz,{children:""}),K?.canDelete&&i.jsx(jz,{onClick:()=>{I&&Ce(I.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:le.isPending,children:le.isPending?" ...":" "})]})]})})]})}function yge({onAddWorker:t,onAddProject:r}){const[,e]=Os(),n=[{id:"add-worker",label:" ",icon:BQ,action:t,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:bQ,action:r,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:Sr,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:Gc,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:ds,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:Si,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:Sr,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"reports",label:"",icon:W2,route:"/reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:YP,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],s=a=>{a.action?a.action():a.route&&e(a.route)};return i.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:n.map(a=>{const o=a.icon;return i.jsxs("button",{onClick:()=>s(a),className:Ee("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",a.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[i.jsx(o,{className:Ee("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",a.iconColor)}),i.jsx("span",{className:Ee("text-[11px] sm:text-xs font-medium text-center leading-tight",a.iconColor),children:a.label})]},a.id)})})}const bge=t=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[t]||t;async function xge(t,r){const e=(await ln(async()=>{const{default:B}=await Promise.resolve().then(()=>eB);return{default:B}},void 0)).default,n=new e.Workbook;n.creator=_o.name,n.created=new Date;const s=n.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let a=1;s.mergeCells(`A${a}:G${a}`);const o=s.getCell(`A${a}`);o.value=_o.name,o.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},o.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=30,a++,s.mergeCells(`A${a}:G${a}`);const c=s.getCell(`A${a}`);c.value=_o.subtitle,c.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},c.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=25,a++,s.mergeCells(`A${a}:G${a}`);const u=s.getCell(`A${a}`);u.value=`  - ${new Date().toLocaleDateString("ar-SA")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},s.getRow(a).height=28,a++,a++;const l=["#"," ","","","",""," "],d=s.getRow(a);l.forEach((B,q)=>{const R=d.getCell(q+1);R.value=B,R.font=Rr.tableHeader.font,R.fill=Rr.tableHeader.fill,R.alignment=Rr.tableHeader.alignment,R.border=Rr.tableHeader.border}),d.height=28,a++,s.getColumn(1).width=6,s.getColumn(2).width=15,s.getColumn(3).width=18,s.getColumn(4).width=20,s.getColumn(5).width=18,s.getColumn(6).width=30,s.getColumn(7).width=22;let p=0;t.forEach((B,q)=>{const R=s.getRow(a),I=q%2===0?Rr.tableCell:Rr.tableCellAlt,$=new Date(B.createdAt),K=$.toLocaleDateString("ar-SA"),U=$.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0});[q+1,B.actionLabel||bge(B.actionType),B.userName||"",B.projectName||"",B.amount?r(B.amount):"-",B.description||"-",`${K} ${U}`].forEach((L,T)=>{const _=R.getCell(T+1);_.value=L,_.font=I.font,I.fill&&(_.fill=I.fill),_.alignment=I.alignment,_.border=I.border}),R.height=24,B.amount&&(p+=B.amount),a++}),a++;const f=s.getRow(a);s.mergeCells(`A${a}:D${a}`);const h=f.getCell(1);h.value=` : ${t.length}`,h.font=Rr.summaryRow.font,h.fill=Rr.summaryRow.fill,h.alignment=Rr.summaryRow.alignment,h.border=Rr.summaryRow.border;const g=f.getCell(5);g.value=r(p),g.font=Rr.greenRow.font,g.fill=Rr.greenRow.fill,g.alignment=Rr.greenRow.alignment,g.border=Rr.greenRow.border,s.mergeCells(`F${a}:G${a}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,a+=2;const m=s.getRow(a);s.mergeCells(`A${a}:C${a}`);const v=m.getCell(1);v.value="  : ________________",v.font=Rr.signatureBox.font,v.alignment=Rr.signatureBox.alignment,v.border=Rr.signatureBox.border,s.mergeCells(`E${a}:G${a}`);const x=m.getCell(5);x.value="  : ________________",x.font=Rr.signatureBox.font,x.alignment=Rr.signatureBox.alignment,x.border=Rr.signatureBox.border,m.height=35,a+=2,s.mergeCells(`A${a}:G${a}`);const S=s.getCell(`A${a}`);S.value=`${_o.name} | ${_o.address} |     `,S.font=Rr.footer.font,S.alignment=Rr.footer.alignment;const C=await n.xlsx.writeBuffer(),A=`__${new Date().toISOString().split("T")[0]}.xlsx`;return await qh(C,A)}const vge=t=>{switch(t){case"transfer":return um;case"expense":return ka;case"income":return Dn;case"attendance":return zn;case"material":return _n;case"transport":return la;case"payment":return kd;default:return Ks}},wge=t=>{switch(t){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},_ge=t=>{switch(t){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},Pz=E.memo(({activity:t,formatCurrency:r})=>{const e=vge(t.actionType),n=_ge(t.actionType);return i.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:t.description||"",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:`${n} p-1.5 rounded-lg flex-shrink-0`,children:i.jsx(e,{className:"h-3.5 w-3.5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Nt,{variant:wge(t.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:t.actionLabel||t.actionType}),t.amount&&t.amount>0&&i.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:r(t.amount)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[i.jsx(Wd,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:t.userName||""})]}),i.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[i.jsx(ds,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:t.projectName||""})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-0.5",children:[i.jsx(ws,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),i.jsx("span",{children:qo(t.createdAt)})]}),i.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[i.jsx($n,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),i.jsx("span",{children:new Date(t.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});Pz.displayName="ActivityChip";const Mz=E.memo(({activities:t,formatCurrency:r})=>{const[e,n]=E.useState(!1),s=async()=>{if(!(e||!t||t.length===0)){n(!0);try{await xge(t,r)}catch(a){console.error("  :",a)}finally{n(!1)}}};return!t||t.length===0?null:i.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[i.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:i.jsx(Ks,{className:"h-3.5 w-3.5 text-white"})}),i.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),i.jsx(Nt,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:t.length}),i.jsxs(Re,{variant:"outline",size:"sm",onClick:s,disabled:e,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[e?i.jsx(sn,{className:"h-3 w-3 animate-spin"}):i.jsx(c0,{className:"h-3 w-3"})," Excel"]}),i.jsx("div",{className:"flex-1"}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),i.jsxs(Oo,{className:"w-full",dir:"rtl",children:[i.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:t.slice(0,15).map((a,o)=>i.jsx(Pz,{activity:a,formatCurrency:r},a.id||o))}),i.jsx(p3,{orientation:"horizontal",className:"h-1.5"})]})]})});Mz.displayName="RecentActivitiesStrip";function kge({size:t="md",className:r="",variant:e="default"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return e==="professional"?i.jsxs(vn.div,{className:`relative ${n[t]} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),i.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),i.jsx(vn.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):e==="minimal"?i.jsx(vn.div,{className:`${n[t]} border-2 border-muted border-t-primary rounded-full ${r}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):i.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${n[t]} ${r}`})}function jge(){return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[i.jsx(kge,{size:"lg"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}function Sge(t){if(t)return new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0)}function Ew({value:t,onChange:r,placeholder:e=" ",disabled:n=!1,className:s,showClearButton:a=!0,dateFormat:o="dd MMMM yyyy",minDate:c,maxDate:u}){const[l,d]=E.useState(!1),p=E.useCallback(g=>{if(!g)return;const y=Sge(g);r(y),setTimeout(()=>d(!1),10)},[r]),f=E.useCallback(g=>{g.preventDefault(),g.stopPropagation(),r(void 0)},[r]),h=E.useMemo(()=>{const g=[];return c&&g.push({before:c}),u&&g.push({after:u}),g.length>0?g:void 0},[c,u]);return i.jsxs(Cx,{open:l,onOpenChange:d,modal:!1,children:[i.jsx(Tx,{asChild:!0,children:i.jsxs(Re,{variant:"outline",disabled:n,className:Ee("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!t&&"text-muted-foreground",s),children:[i.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[i.jsx(ws,{className:"h-4 w-4 opacity-50 shrink-0"}),i.jsx("span",{className:"truncate font-bold",children:t?Nr(t,o,{locale:_a}):e})]}),a&&t&&i.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:i.jsx(Rs,{className:"h-4 w-4"})})]})}),i.jsx(C0,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:i.jsx(E3,{mode:"single",selected:t,onSelect:p,disabled:h,locale:_a,dir:"rtl",initialFocus:!0})})]})}function Nge({config:t,value:r,onChange:e}){const[n,s]=E.useState(t.options||[]),[a,o]=E.useState(!1);return E.useEffect(()=>{t.asyncOptions&&n.length===0&&(o(!0),t.asyncOptions().then(s).catch(console.error).finally(()=>o(!1)))},[t.asyncOptions]),i.jsxs(Yn,{value:r,onValueChange:e,children:[i.jsx(Vn,{className:"h-9",children:i.jsx(Zn,{placeholder:a?t.loadingText||" ...":t.placeholder})}),i.jsx(Wn,{className:"z-[10002]",position:"popper",children:n.map(c=>i.jsx($t,{value:c.value,children:c.label},c.value))})]})}function Vx({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,filters:s=[],filterValues:a={},onFilterChange:o,onReset:c,showResetButton:u=!0,className:l,compact:d=!1,showActiveFilters:p=!0}){const[f,h]=E.useState(!1),y=Object.entries(a).filter(([R,I])=>{const $=s.find(K=>K.key===R);return $?$.type==="date"?I instanceof Date:$.type==="date-range"?I?.from||I?.to:I&&I!=="all"&&I!==$?.defaultValue:!1}).map(([R,I])=>{const $=s.find(U=>U.key===R);let K="";return $?.type==="date"&&I instanceof Date?K=Nr(I,"yyyy/MM/dd",{locale:_a}):$?.type==="date-range"?I?.from&&I?.to?K=`${Nr(I.from,"MM/dd")} - ${Nr(I.to,"MM/dd")}`:I?.from&&(K=` ${Nr(I.from,"MM/dd")}`):K=$?.options?.find(P=>P.value===I)?.label||I,{key:R,filterLabel:$?.label||R,valueLabel:K}}),m=y.length,v=t.length>0||m>0,x=E.useCallback(R=>{r?.(R.target.value)},[r]),S=E.useCallback((R,I)=>{o?.(R,I)},[o]),C=E.useCallback(()=>{c?.(),h(!1)},[c]),A=E.useCallback(()=>{r?.("")},[r]),B=E.useCallback(R=>{const I=s.find($=>$.key===R);I?.type==="date"||I?.type==="date-range"?o?.(R,void 0):o?.(R,I?.defaultValue||"all")},[s,o]),q=R=>{const I=a[R.key];switch(R.type){case"date":return i.jsx("div",{onClick:U=>U.stopPropagation(),className:"relative",children:i.jsx(Ew,{value:I,onChange:U=>S(R.key,U),placeholder:R.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const $=I?.from instanceof Date?I.from:I?.from?new Date(I.from):void 0,K=I?.to instanceof Date?I.to:I?.to?new Date(I.to):void 0;return i.jsxs("div",{onClick:U=>U.stopPropagation(),className:"space-y-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),i.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:i.jsx(Ew,{value:$,onChange:U=>S(R.key,{...I,from:U}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),i.jsxs("div",{className:"relative group",children:[i.jsx(Ye,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),i.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:i.jsx(Ew,{value:K,onChange:U=>S(R.key,{...I,to:U}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return i.jsx("div",{onClick:U=>U.stopPropagation(),children:i.jsx(Nge,{config:R,value:I||R.defaultValue||"all",onChange:U=>S(R.key,U)})});default:return i.jsx("div",{onClick:U=>U.stopPropagation(),children:i.jsxs(Yn,{value:String(I||R.defaultValue||"all"),onValueChange:U=>S(R.key,U),children:[i.jsx(Vn,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:i.jsx(Zn,{placeholder:R.placeholder||` ${R.label}`})}),i.jsx(Wn,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:R.options?.map(U=>i.jsx($t,{value:String(U.value),className:"rounded-xl my-1 py-3 text-right",children:U.label},U.value))})]})})}};return i.jsxs("div",{className:Ee("space-y-2",l),children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border-2 border-border/50 rounded-2xl shadow-sm transition-all focus-within:border-primary/30 focus-within:shadow-md",children:[n&&i.jsxs("div",{className:"relative flex-1",children:[i.jsx(To,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),i.jsx(yt,{placeholder:e,value:t,onChange:x,className:"pr-12 pl-10 h-12 bg-slate-50/50 dark:bg-slate-800/50 border-none rounded-xl font-medium focus-visible:ring-2 focus-visible:ring-primary/20 transition-all"}),t&&i.jsx(Re,{variant:"ghost",size:"sm",onClick:A,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:i.jsx(Rs,{className:"h-3 w-3"})})]}),s.length>0&&i.jsxs(Px,{open:f,onOpenChange:h,children:[i.jsx(m3,{asChild:!0,children:i.jsxs(Re,{variant:"outline",size:"sm",className:Ee("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[i.jsx(VN,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&i.jsx(Nt,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),i.jsx(T0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:R=>{const I=R.target;(I.closest(".rdp")||I.closest('[role="listbox"]')||I.closest(".relative"))&&R.preventDefault()},onInteractOutside:R=>{const I=R.target;(I.closest(".rdp")||I.closest('[role="listbox"]'))&&R.preventDefault()},children:i.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[i.jsx(uF,{asChild:!0,children:i.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:i.jsx(Rs,{className:"h-5 w-5"})})}),i.jsx(E0,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),i.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),i.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[i.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:s.map(R=>i.jsxs("div",{className:Ee("relative group",R.type==="date-range"?"pt-2":""),children:[R.type!=="date-range"&&i.jsx(Ye,{htmlFor:R.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:R.label}),i.jsx("div",{className:Ee(R.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:q(R)})]},R.key))}),s.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[i.jsx(VN,{className:"w-12 h-12 mb-4 opacity-20"}),i.jsx("p",{children:"    "})]})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:i.jsx("div",{className:"max-w-xl mx-auto",children:i.jsx(Re,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>h(!1),children:""})})})]})})]}),u&&v&&i.jsx(Re,{variant:"ghost",size:"sm",onClick:C,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:i.jsx(Hl,{className:"h-4 w-4"})})]}),p&&(y.length>0||t)&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),t&&i.jsxs(Nt,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:A,children:[': "',t.length>15?t.substring(0,15)+"...":t,'"',i.jsx(Rs,{className:"h-3 w-3"})]}),y.map(R=>i.jsxs(Nt,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>B(R.key),children:[R.filterLabel,": ",R.valueLabel,i.jsx(Rs,{className:"h-3 w-3"})]},R.key)),(y.length>1||y.length>0&&t)&&i.jsx(Re,{variant:"ghost",size:"sm",onClick:C,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function B0(t,r=""){const[e,n]=E.useState(r),[s,a]=E.useState(t),o=E.useCallback(l=>{n(l)},[]),c=E.useCallback((l,d)=>{a(p=>({...p,[l]:d}))},[]),u=E.useCallback(()=>{n(""),a(t)},[t]);return{searchValue:e,filterValues:s,setSearchValue:o,setFilterValue:c,reset:u,onSearchChange:o,onFilterChange:c,onReset:u}}function Cge(){Os();const{selectedProjectId:t,selectProject:r}=Io(),[e,n]=E.useState(!1),[s,a]=E.useState(!1),[o,c]=E.useState({name:"",phone:"",type:"",dailyWage:""}),[u,l]=E.useState(!1),[d,p]=E.useState(""),[f,h]=E.useState({name:"",status:"active",description:"",projectTypeId:null}),g=_s(),{toast:y}=pn(),{searchValue:m,filterValues:v}=B0({status:"all"},""),{totals:x,isLoading:S}=Kh({projectId:t||"all",enabled:!0}),C={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:A=[],isLoading:B,error:q}=xt({queryKey:xe.projectsWithStats,queryFn:async()=>{try{console.log(" [Dashboard]    ...");const F=await Ve("/api/projects/with-stats","GET");let Z=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Z=Array.isArray(F.data)?F.data:[]:Array.isArray(F)?Z=F:F.id?Z=[F]:F.data&&(Z=Array.isArray(F.data)?F.data:[])),Array.isArray(Z)||(Z=[]),console.log(` [Dashboard]   ${Z.length}   `),Z}catch(F){return console.error(" [Dashboard]    :",F),[]}},...C}),{data:R=[]}=xt({queryKey:xe.workerTypes,queryFn:async()=>{try{const F=await Ve("/api/worker-types","GET");return F&&F.data&&Array.isArray(F.data)?F.data:Array.isArray(F)?F:[]}catch(F){return console.error("Error fetching worker types:",F),[]}}}),{data:I=[],isLoading:$}=xt({queryKey:xe.projectTypes,queryFn:async()=>{try{const F=await Ve("/api/project-types","GET");return F?.success&&Array.isArray(F.data)?F.data:[]}catch(F){return console.error(" [Dashboard]     :",F),[]}},staleTime:6e4}),K=Dt({mutationFn:async F=>(await Promise.all([Q("workerNames",F.name),Q("workerTypes",F.type)]),Ve("/api/workers","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:xe.workers}),await g.invalidateQueries({queryKey:xe.projectsWithStats}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"   "}),n(!1),c({name:"",phone:"",type:"",dailyWage:""})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),U=Dt({mutationFn:async F=>(await Promise.all([Q("projectNames",F.name),Q("projectDescriptions",F.description)]),Ve("/api/projects","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:xe.projects}),await g.invalidateQueries({queryKey:xe.projectsWithStats}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"   "}),a(!1),h({name:"",status:"active",description:"",projectTypeId:null})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),P=Dt({mutationFn:async F=>(await Q("workerTypes",F.name),Ve("/api/worker-types","POST",F)),onSuccess:async F=>{await g.invalidateQueries({queryKey:xe.workerTypes}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"    "}),c({...o,type:F.name}),p(""),l(!1)},onError:F=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:L}=xt({queryKey:xe.dailySummary(t,new Date().toISOString().split("T")[0]),enabled:!!t,staleTime:1e3*30}),{data:T=[]}=xt({queryKey:xe.recentActivitiesByProject(t),queryFn:async()=>{try{const F=t?`?projectId=${t}`:"";return(await Ve(`/api/recent-activities${F}`,"GET"))?.data||[]}catch(F){return console.error("    :",F),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:_,isLoading:k}=xt({queryKey:xe.healthStats,queryFn:async()=>{try{const F=await Ve("/api/health/stats","GET"),Z=F?.data||F;return!Z||typeof Z!="object"?null:{cpuUsage:Z.cpuUsage||0,memoryUsage:Z.memoryUsage||0,activeRequests:Z.activeRequests||0,errorRate:Z.errorRate||0,uptime:Z.uptime||0}}catch(F){return console.error(" [Dashboard]     :",F),null}},refetchInterval:15e3}),j=Array.isArray(A)?A.find(F=>F.id===t):void 0,N=E.useMemo(()=>Array.isArray(A)?A.filter(F=>{const Z=!m||(F.name||"").toLowerCase().includes(m.toLowerCase()),W=v.status==="all"||(F.status||"active")===v.status;return Z&&W}):[],[A,m,v.status]),D=F=>{switch(F){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:F,variant:"secondary"}}},O=F=>{switch(F){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},z=F=>{if(typeof F!="number"){const Z=parseFloat(String(F));if(isNaN(Z))return"0 .";F=Z}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(F)+" ."},Q=E.useCallback(async(F,Z)=>{if(!(!Z||Z.trim().length<2))try{await Ve("/api/autocomplete","POST",{category:F,value:Z.trim()})}catch(W){console.warn(`[Dashboard] Failed to save autocomplete: ${F}`,W)}},[]),Y=E.useMemo(()=>{if(!x)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const F=x.totalIncome||0,Z=x.totalAllExpenses||0;return{totalIncome:F,totalExpenses:Z,currentBalance:x.totalBalance||F-Z,activeWorkers:String(x.totalWorkers||0),completedDays:String(x.completedDays||0),materialPurchases:z(x.totalAllExpenses||0),transportExpenses:x.transportExpenses||0}},[x]),re=E.useCallback(F=>A.find(W=>W.id===F)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[A]);return B?i.jsx(jge,{}):i.jsxs("div",{className:"p-4 fade-in space-y-4",children:[i.jsxs("div",{className:"mb-4",children:[_&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{children:"   (SigNoz)"})]}),i.jsx(Md,{stats:[{title:" ",value:`${_.cpuUsage}%`,icon:Ks,color:"blue",status:_.cpuUsage>80?"critical":"normal"},{title:" ",value:`${_.memoryUsage}%`,icon:_n,color:"teal",status:_.memoryUsage>85?"warning":"normal"},{title:" ",value:_.activeRequests,icon:um,color:"purple"},{title:" ",value:`${_.errorRate}%`,icon:ka,color:"green",status:_.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),j&&i.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(ds,{className:"h-4 w-4"}),i.jsxs("span",{children:[": ",i.jsx("strong",{className:"text-foreground",children:j.name})]})]}),!j&&A.length>0&&i.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(ds,{className:"h-4 w-4"}),i.jsxs("span",{children:["   (",A.length," )"]})]}),i.jsx(Md,{stats:[{title:" ",value:Y.totalIncome,icon:Dn,color:"blue",formatter:z},{title:" ",value:Y.totalExpenses,icon:ka,color:"red",formatter:z},{title:" ",value:Y.currentBalance,icon:Sr,color:"green",formatter:z},{title:" ",value:Y.activeWorkers,icon:d0,color:"purple"},{title:"  ",value:Y.completedDays,icon:ws,color:"teal"},{title:" ",value:Y.materialPurchases,icon:_n,color:"indigo"},{title:"",value:Y.transportExpenses,icon:la,color:"orange",formatter:z}],columns:3,hideHeader:!0})]}),i.jsx(yge,{onAddWorker:()=>n(!0),onAddProject:()=>a(!0)}),N.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[i.jsx(ds,{className:"h-5 w-5 text-primary"})," (",N.length,")"]})}),i.jsx(Hs,{columns:2,children:N.map(F=>{const Z=F.id||"",W=F.name||"",V=F.status||"active",G=D(V),ae=Z===t,pe=re(Z),ce=pe?.totalIncome||0,ge=pe?.totalExpenses||0,ee=pe?.currentBalance||0,oe=pe?.activeWorkers||0;return i.jsx(xn,{title:W,titleIcon:ds,headerColor:O(V),badges:[G],className:ae?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:z(ce),icon:Dn,color:"info"},{label:"",value:z(ge),icon:ka,color:"danger"},{label:"",value:z(ee),icon:Sr,color:"success",emphasis:!0},{label:"",value:String(oe),icon:zn,color:"default"}],actions:[{icon:ae?Co:ou,label:ae?"":"",onClick:()=>r(Z),color:ae?"green":"blue"}],onClick:()=>r(Z),compact:!0},Z)})})]}),T.length>0&&i.jsx(Mz,{activities:T,formatCurrency:z}),i.jsx(Us,{open:e,onOpenChange:n,children:i.jsxs(Ds,{className:"max-w-lg",children:[i.jsxs(qs,{children:[i.jsx(ca,{children:"  "}),i.jsx(Xl,{children:"      "})]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"worker-name",children:" "}),i.jsx(yt,{id:"worker-name",value:o.name,onChange:F=>c({...o,name:F.target.value}),placeholder:"  "})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"worker-phone",children:" "}),i.jsx(yt,{id:"worker-phone",value:o.phone,onChange:F=>c({...o,phone:F.target.value}),placeholder:"  "})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"worker-wage",children:"  (.)"}),i.jsx(yt,{id:"worker-wage",type:"number",inputMode:"decimal",value:o.dailyWage,onChange:F=>c({...o,dailyWage:F.target.value}),placeholder:"0",className:"text-center",required:!0})]}),i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"worker-type",children:" "}),i.jsx("div",{className:"flex gap-2",children:i.jsx(os,{value:o.type||"",onValueChange:F=>c({...o,type:F}),options:Array.isArray(R)&&R.length>0?R.map(F=>({value:F.value,label:F.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),i.jsx(Us,{open:u,onOpenChange:l,children:i.jsxs(Ds,{className:"sm:max-w-md",children:[i.jsxs(qs,{children:[i.jsx(ca,{children:"   "}),i.jsx(Xl,{children:"         "})]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"new-type-name",children:"  "}),i.jsx(yt,{id:"new-type-name",type:"text",value:d,onChange:F=>p(F.target.value),placeholder:":   ...",required:!0})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Re,{type:"button",onClick:F=>{F.preventDefault(),d.trim()&&P.mutate({name:d.trim()})},disabled:!d.trim()||P.isPending,children:P.isPending?" ...":""}),i.jsx(Re,{type:"button",variant:"outline",onClick:()=>{l(!1),p("")},children:""})]})]})]})}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Re,{onClick:()=>{if(!o.name.trim()||!o.type||!o.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const F=parseFloat(o.dailyWage);if(isNaN(F)||F<=0){y({title:"",description:"     ",variant:"destructive"});return}K.mutate({name:o.name.trim(),phone:o.phone||null,type:o.type,dailyWage:F.toString(),isActive:!0})},disabled:K.isPending,className:"gap-2",children:K.isPending?"  ...":" "}),i.jsx(Re,{variant:"outline",onClick:()=>n(!1),children:""})]}),i.jsxs(Re,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!0),className:"w-full gap-2 mt-2",children:[i.jsx(gs,{className:"h-4 w-4"}),"   "]})]})]})}),i.jsx(Us,{open:s,onOpenChange:a,children:i.jsxs(Ds,{className:"max-w-lg",children:[i.jsxs(qs,{children:[i.jsx(ca,{children:"  "}),i.jsx(Xl,{children:"      "})]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"project-name",children:" "}),i.jsx(yt,{id:"project-name",value:f.name,onChange:F=>h({...f,name:F.target.value}),placeholder:"  "})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"project-type",children:" "}),i.jsx(I_,{value:f.projectTypeId?.toString()||"",onValueChange:F=>h({...f,projectTypeId:F?parseInt(F):null}),projectTypes:I,placeholder:$?" ...":"  ...",disabled:$})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Ye,{htmlFor:"project-status",children:" "}),i.jsxs(Yn,{value:f.status,onValueChange:F=>h({...f,status:F}),children:[i.jsx(Vn,{children:i.jsx(Zn,{})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"active",children:""}),i.jsx($t,{value:"completed",children:""}),i.jsx($t,{value:"paused",children:""})]})]})]}),i.jsxs("div",{className:"form-field form-field-full",children:[i.jsx(Ye,{htmlFor:"project-description",children:" "}),i.jsx(yt,{id:"project-description",value:f.description,onChange:F=>h({...f,description:F.target.value}),placeholder:"   ()"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Re,{onClick:()=>{f.name&&U.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||U.isPending,children:U.isPending?" ...":""}),i.jsx(Re,{variant:"outline",onClick:()=>a(!1),children:""})]})]})]})})]})}const Tge=async(t,r)=>{const e=new V3.Workbook,n=e.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),s="FF1E3A8A",a="FF3B82F6",o="FFF8FAFC",c="FFE2E8F0",u="FF10B981",l="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},p={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},h={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:c}},left:{style:"thin",color:{argb:c}},bottom:{style:"thin",color:{argb:c}},right:{style:"thin",color:{argb:c}}};n.mergeCells("A1:I1");const m=n.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=h,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},n.getRow(1).height=45,n.mergeCells("A2:I2");const v=n.getCell("A2");v.value=` : ${Nr(new Date,"yyyy/MM/dd HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=h,n.getRow(2).height=20;const x=4;n.getRow(x).height=25,n.getRow(x+1).height=25,n.getRow(x+2).height=25;const S=(N,D,O,z,Q)=>{const Y=n.getCell(`${D}${N}`),re=n.getCell(`${String.fromCharCode(D.charCodeAt(0)+1)}${N}`);Y.value=O,Y.font={...f,color:{argb:Q}},Y.fill={type:"pattern",pattern:"solid",fgColor:{argb:o}},Y.alignment=g,Y.border=y,re.value=z,re.font=p,re.alignment=g,re.border=y};S(4,"A","  :",r.name,a),S(4,"D","  :",t.projectName||" ",a),S(5,"A","  :",r.type||"",a),S(5,"D","  :",t.dateRange||" ",a),S(6,"A","  :",`${r.dailyWage} . / `,a),S(6,"D","  :",`W-${r.id.toString().slice(-4).toUpperCase()}`,a),n.getColumn("A").width=18,n.getColumn("B").width=25,n.getColumn("D").width=18,n.getColumn("E").width=25;const C=8,A=["","",""," ","  ","",""," (+)"," (-)",""],B=n.getRow(C);A.forEach((N,D)=>{const O=B.getCell(D+1);O.value=N,O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},O.font={...d,color:{argb:"FFFFFFFF"}},O.alignment=h,O.border=y}),B.height=30,n.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const q=t.statement||[];let R=10;q.forEach((N,D)=>{const O=n.getRow(R),z=new Date(N.date),Q=D%2===0,Y=parseFloat(N.amount||0),re=parseFloat(N.paid||0),F=Y-re,Z=N.workDays!==void 0?parseFloat(N.workDays):N.type===""?1:0;O.values=[D+1,Nr(z,"yyyy/MM/dd"),Nr(z,"EEEE",{locale:NF}),N.projectName||"-",N.description||(N.type===""?`  ${N.recipientName||"-"}`:"    "),Z,N.hours||(N.type===""?"8h":"-"),Y,re,F],O.eachCell((W,V)=>{W.border=y,W.alignment=h,W.font=p,Q&&(W.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(V===8||V===9||V===10)&&(W.numFmt='#,##0.00 "."',V===8&&(W.font={...p,color:{argb:u},bold:!0}),V===9&&parseFloat(N.paid||0)>0&&(W.font={...p,color:{argb:l},bold:!0}),V===10&&(W.font={...p,color:{argb:a},bold:!0}))}),R++});const I=n.getRow(R);n.mergeCells(`A${R}:E${R}`);const $=n.getCell(`A${R}`);$.value="  ",$.font=d,$.alignment=h,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const K=n.getCell(`F${R}`),U=n.getCell(`H${R}`),P=n.getCell(`I${R}`),L=n.getCell(`J${R}`);K.value=parseFloat(t.summary.totalWorkDays||0),U.value=parseFloat(t.summary.totalEarned||0),P.value=parseFloat(t.summary.totalPaid||0),L.value=parseFloat(t.summary.finalBalance||0),[K,U,P,L].forEach(N=>{N.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},N.font=d,N.address.startsWith("F")?N.numFmt="#,##0.00":N.numFmt='#,##0.00 "."',N.alignment=h}),I.height=25,R+=2;const T=8,_=[{label:"  ",isHeader:!0,color:s},{label:"  ",value:t.summary.totalEarned,color:u},{label:"  ",value:t.summary.totalPaid,color:l},{label:"  ",value:t.summary.finalBalance,color:a,isFinal:!0}];_.forEach((N,D)=>{const O=R+D;if(N.isHeader){n.mergeCells(O,T,O,T+1);const z=n.getCell(O,T);z.value=N.label,z.fill={type:"pattern",pattern:"solid",fgColor:{argb:N.color}},z.font=d,z.alignment=h}else{const z=n.getCell(O,T+1),Q=n.getCell(O,T);z.value=N.label,z.fill={type:"pattern",pattern:"solid",fgColor:{argb:o}},z.font=f,z.border=y,z.alignment=g,Q.value=parseFloat(N.value||0),Q.font={...p,bold:!0,color:{argb:N.color}},Q.border=y,Q.alignment=h,Q.numFmt='#,##0.00 "."',N.isFinal&&(Q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),R+=_.length+1,n.mergeCells(`A${R}:I${R}`);const k=n.getCell(`A${R}`);k.value="         AXION.        .",k.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},k.alignment=h;const j=await e.xlsx.writeBuffer();return await qh(j,`Worker_Statement_${r.name.replace(/\s+/g,"_")}_${Nr(new Date,"yyyyMMdd")}.xlsx`)};function Ege(t,r){const e=r?.name||"",n=r?.type||"",s=r?.dailyWage?`${parseFloat(r.dailyWage).toLocaleString()} .`:"-",a=Nr(new Date,"yyyy/MM/dd"),o=parseFloat(t?.summary?.totalEarned||0),c=parseFloat(t?.summary?.totalPaid||0),u=parseFloat(t?.summary?.finalBalance||0),l=(t?.statement||[]).map((d,p)=>{const f=parseFloat(d.amount||0),h=parseFloat(d.paid||0),g=f-h;return`<tr>
      <td style="width:30px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${p+1}</td>
      <td style="width:75px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?Nr(new Date(d.date),"yyyy/MM/dd"):"-"}</td>
      <td style="width:55px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.date?Nr(new Date(d.date),"EEEE",{locale:NF}):"-"}</td>
      <td style="width:100px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:9px;">${d.projectName||d.project_name||"-"}</td>
      <td style="text-align:right;padding:5px 6px;border:1px solid #BFBFBF;font-size:9px;line-height:1.3;">${d.description||(d.type===""?`  ${d.recipientName||"-"}`:"  ")}</td>
      <td style="width:40px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.workDays!==void 0?parseFloat(d.workDays).toFixed(2):"1.00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;">${d.type===""?d.hours||"07:00-15:00":"-"}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#E2F0D9;font-weight:700;">${f.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#FBE2D5;font-weight:700;">${h.toLocaleString()}</td>
      <td style="width:65px;text-align:center;padding:5px 3px;border:1px solid #BFBFBF;font-size:10px;background:#DEEAF6;font-weight:700;">${g.toLocaleString()}</td>
    </tr>`}).join("");return`<div style="direction:rtl;font-family:'Cairo','Segoe UI',Tahoma,sans-serif;background:#fff;padding:0;margin:0;width:794px;">
    <div style="background:#1F4E79;color:#fff;text-align:center;padding:10px 0;font-size:18px;font-weight:800;margin-bottom:12px;">    </div>
    <div style="display:flex;justify-content:space-between;margin:0 10px 12px 10px;font-size:12px;">
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${e}</div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;"> :</b> ${n}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${s}</div>
      </div>
      <div>
        <div style="margin-bottom:4px;"><b style="display:inline-block;width:90px;">:</b> ${t?.projectName||" "}</div>
        <div><b style="display:inline-block;width:90px;"> :</b> ${a}</div>
      </div>
    </div>
    <table style="width:100%;border-collapse:collapse;table-layout:fixed;">
      <thead>
        <tr>
          <th style="width:30px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:75px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:55px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:100px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"> </th>
          <th style="width:40px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
          <th style="width:65px;background:#1F4E79;color:#fff;border:1px solid #16365C;padding:7px 3px;font-size:10px;font-weight:800;text-align:center;"></th>
        </tr>
      </thead>
      <tbody>
        ${l}
        <tr>
          <td colspan="5" style="background:#00B050;color:#fff;font-weight:800;font-size:12px;text-align:center;padding:7px;border:1px solid #00803A;"></td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${parseFloat(t?.summary?.totalWorkDays||0).toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">-</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${o.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${c.toLocaleString()}</td>
          <td style="background:#00B050;color:#fff;font-weight:800;font-size:11px;text-align:center;padding:7px;border:1px solid #00803A;">${u.toLocaleString()}</td>
        </tr>
      </tbody>
    </table>
    <div style="margin-top:20px;">
      <table style="width:300px;border:2px solid #1F4E79;border-collapse:collapse;">
        <tr><td colspan="2" style="background:#00B050;color:#fff;text-align:center;font-weight:800;padding:6px;font-size:13px;border:1px solid #00803A;"> </td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${o.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;">${c.toLocaleString()}</td></tr>
        <tr><td style="padding:6px 10px;font-weight:700;border:1px solid #BFBFBF;font-size:12px;background:#F2F2F2;"> :</td><td style="padding:6px 10px;text-align:left;border:1px solid #BFBFBF;font-size:12px;font-weight:800;background:#F2F2F2;">${u.toLocaleString()}</td></tr>
      </table>
    </div>
    <div style="text-align:center;font-size:9px;color:#7F7F7F;margin-top:20px;padding:5px;border-top:1px solid #EEE;">
               | ${Nr(new Date,"dd/MM/yyyy HH:mm")}
    </div>
  </div>`}const Age=async(t,r)=>{try{if(!t||!t.statement)return console.error("No data provided for PDF generation"),!1;const e=Ege(t,r),n=document.createElement("div");n.style.position="fixed",n.style.left="-9999px",n.style.top="0",n.style.width="794px",n.style.background="#fff",n.style.zIndex="-1",n.innerHTML=e,document.body.appendChild(n),await new Promise(m=>setTimeout(m,300));const s=(await ln(async()=>{const{default:m}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:m}},[])).default,{jsPDF:a}=await ln(async()=>{const{jsPDF:m}=await import("./jspdf.es.min-Cv4tioPf.js").then(v=>v.j);return{jsPDF:m}},[]),o=await s(n,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,windowWidth:794});document.body.removeChild(n);const c=210,u=297,l=o.height*c/o.width,d=new a("p","mm","a4");let p=l,f=0;const h=o.toDataURL("image/jpeg",.92);for(d.addImage(h,"JPEG",0,f,c,l),p-=u;p>0;)f=-(l-p),d.addPage(),d.addImage(h,"JPEG",0,f,c,l),p-=u;const g=d.output("blob"),y=`__${r?.name||""}_${Nr(new Date,"yyyy-MM-dd")}.pdf`;return await U3(g,y,"application/pdf")}catch(e){return console.error("PDF generation error:",e),!1}};function w8({children:t,columns:r=2,className:e,...n}){const s={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return i.jsx("div",{className:Ee("grid gap-3 md:gap-4",s[r],e),dir:"rtl",...n,children:t})}function Pge({worker:t,onSuccess:r,onCancel:e,submitLabel:n=" "}){const[s,a]=E.useState(t?.name||""),[o,c]=E.useState(t?.type||""),[u,l]=E.useState(t?t.dailyWage:""),[d,p]=E.useState(t?.phone||""),[f,h]=E.useState(t?.hireDate||""),[g,y]=E.useState(!1),[m,v]=E.useState(""),{toast:x}=pn(),S=_s();E.useEffect(()=>{t&&(a(t.name||""),c(t.type||""),l(t.dailyWage||""),p(t.phone||""),h(t.hireDate||""))},[t]);const C=async($,K)=>{if(!(!K||typeof K!="string"||!K.trim()))try{await Ve("/api/autocomplete","POST",{category:$,value:K.trim()})}catch{}},{data:A=[]}=xt({queryKey:xe.workerTypes}),B=Dt({mutationFn:async $=>(await Promise.all([C("workerNames",$.name),C("workerTypes",$.type)]),t?Ve(`/api/workers/${t.id}`,"PATCH",$):Ve("/api/workers","POST",$)),onSuccess:async($,K)=>{S.setQueryData(["/api/workers"],U=>U?[$.data,...U]:[$.data]),await Promise.all([S.invalidateQueries({queryKey:xe.workerTypes}),S.invalidateQueries({queryKey:xe.autocomplete})]),x({title:" ",description:t?"   ":"   "}),t||(a(""),c(""),l(""),p(""),h("")),r?.()},onError:async($,K)=>{await Promise.all([C("workerNames",K.name),C("workerTypes",K.type)]),await S.invalidateQueries({queryKey:xe.autocomplete});const U=$?.message||(t?"    ":"    ");x({title:t?"   ":"   ",description:U,variant:"destructive"})}}),q=Dt({mutationFn:async $=>(await C("workerTypes",$.name),Ve("/api/worker-types","POST",$)),onSuccess:async($,K)=>{await S.invalidateQueries({queryKey:xe.workerTypes}),await S.invalidateQueries({queryKey:xe.autocomplete}),x({title:" ",description:"    "}),c($.name),v(""),y(!1)},onError:async($,K)=>{await C("workerTypes",K.name),await S.invalidateQueries({queryKey:xe.autocomplete});const U=$?.message||"     ";x({title:"    ",description:U,variant:"destructive"})}}),R=$=>{if($.preventDefault(),!s.trim()||!o||!u){x({title:"",description:"    ",variant:"destructive"});return}const K=parseFloat(u);if(isNaN(K)||K<=0){x({title:"",description:"     ",variant:"destructive"});return}B.mutate({name:s.trim(),type:o,dailyWage:K.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:t?.isActive??!0})},I=$=>{if($.preventDefault(),!m.trim()){x({title:"",description:"    ",variant:"destructive"});return}q.mutate({name:m.trim()})};return i.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i.jsxs(w8,{columns:2,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ye,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(Wd,{className:"h-4 w-4 text-blue-500"}),"  *"]}),i.jsx(Ch,{id:"worker-name",value:s,onChange:$=>a($.target.value),placeholder:"  ...",required:!0,className:"min-h-[44px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ye,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(ZP,{className:"h-4 w-4 text-purple-500"}),"  *"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(os,{value:o,onValueChange:c,options:Array.isArray(A)&&A.length>0?A.map($=>({value:$.name,label:$.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),i.jsxs(Us,{open:g,onOpenChange:y,children:[i.jsx(kh,{asChild:!0,children:i.jsx(Re,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:i.jsx(gs,{className:"h-4 w-4"})})}),i.jsxs(Ds,{className:"sm:max-w-md",children:[i.jsx(qs,{children:i.jsx(ca,{children:"   "})}),i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ye,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),i.jsx(yt,{id:"new-type-name",type:"text",value:m,onChange:$=>v($.target.value),placeholder:":   ...",required:!0})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{type:"submit",disabled:q.isPending,className:"flex-1",children:q.isPending?" ...":""}),i.jsx(Re,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),i.jsxs(w8,{columns:3,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ye,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(Sr,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),i.jsx(yt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:$=>l($.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",required:!0,autoWidth:!0,maxWidth:200})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ye,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(aM,{className:"h-4 w-4 text-blue-500"})," "]}),i.jsx(yt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:$=>p($.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),i.jsx(cl,{id:"hire-date",label:" ",value:f,onChange:$=>h($?Nr($,"yyyy-MM-dd"):"")})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{type:"submit",className:"flex-1",disabled:B.isPending,children:B.isPending?" ...":n}),e&&i.jsx(Re,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:""})]})]})}const Mge=({worker:t,onClose:r,isOpen:e})=>i.jsx(Us,{open:e,onOpenChange:r,children:i.jsxs(Ds,{className:"sm:max-w-md",children:[i.jsxs(qs,{children:[i.jsx(ca,{children:t?" ":"  "}),i.jsx(Xl,{children:t?"    ":"   "})]}),i.jsx("div",{className:"mt-4",children:i.jsx(Pge,{worker:t,onSuccess:r,onCancel:r,submitLabel:t?" ":" "})})]})}),Rge=({stats:t,formatCurrency:r,isLoading:e})=>{const n=t?.totalEarnings??0,s=t?.totalTransfers??0,a=n-s;return i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[i.jsx(kd,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:e?"...":r(n)})]}),i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[i.jsx(Mk,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:e?"...":r(s)})]}),i.jsxs("div",{className:`${a>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[i.jsxs("div",{className:`flex items-center justify-center gap-1 ${a>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[i.jsx(ka,{className:"h-3 w-3"}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),i.jsx("p",{className:`text-xs font-bold ${a>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:e?"...":r(a)})]})]})},Dge=({worker:t,onEdit:r,onDelete:e,onToggleStatus:n,onExport:s,formatCurrency:a,isToggling:o,selectedProjectId:c,isExporting:u,exportProgress:l,exportingWorkerId:d})=>{const p=c===Es?void 0:c,{data:f,isLoading:h}=xt({queryKey:xe.workerStats(t.id,c),queryFn:async()=>{const m=p?`/api/workers/${t.id}/stats?projectId=${p}`:`/api/workers/${t.id}/stats`;return Ve(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:t.isActive}),g=f?.data,y=g?.projectsWorked??0;return i.jsxs("div",{className:"relative group",children:[u&&i.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:i.jsxs("div",{className:"w-full space-y-4 text-center",children:[i.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),i.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),i.jsx(oa,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),i.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${l}%`}})}),i.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[l,"%"]})]})]})}),i.jsx(xn,{title:t.name,subtitle:t.hireDate?new Date(t.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:Wd,headerColor:t.isActive?"#22c55e":"#ef4444",badges:[{label:t.type,variant:"secondary"},{label:t.isActive?"":" ",variant:t.isActive?"success":"destructive"}],fields:[{label:" ",value:a(parseFloat(t.dailyWage)),icon:Sr,emphasis:!0,color:"success"},{label:"",value:t.phone||" ",icon:aM,color:t.phone?"success":"muted"},{label:"",value:h?"...":y>0?`${y} `:" ",icon:V2,color:y>0?"info":"muted"},{label:" ",value:h?"...":`${g?.totalWorkDays??0} `,icon:ws,color:"warning"}],actions:[{icon:oa,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>s("pdf")},{label:"  Excel",onClick:()=>s("excel")},{label:" ",onClick:()=>s("pdf")}]},{icon:Ol,label:"",onClick:r,color:"blue"},{icon:iM,label:t.isActive?"":"",onClick:n,disabled:o,color:t.isActive?"yellow":"green"},{icon:us,label:"",onClick:e,color:"red"}],footer:i.jsx(Rge,{stats:g,formatCurrency:a,isLoading:h}),compact:!0})]})};function Ige(){const[t,r]=E.useState(),[e,n]=E.useState(!1),[s,a]=E.useState(""),[o,c]=E.useState({status:"all",type:"all"}),[u,l]=E.useState(!1),[d,p]=E.useState(null),[f,h]=E.useState(null),[g,y]=E.useState(0),[m,v]=E.useState(null),{toast:x}=pn(),S=_s(),{setFloatingAction:C}=Fo(),{selectedProjectId:A}=Io(),B=E.useCallback((re,F)=>{c(Z=>({...Z,[re]:F}))},[]),q=E.useCallback(()=>{a(""),c({status:"all",type:"all"}),x({title:"  ",description:"   "})},[x]),R=re=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(re)+" .",{data:I=[],isLoading:$,refetch:K}=xt({queryKey:xe.workers,queryFn:async()=>{try{const re=await Ve("/api/workers","GET");let F=[];return re&&typeof re=="object"&&(re.success&&Array.isArray(re.data)?F=re.data:Array.isArray(re)&&(F=re)),F}catch(re){return console.error("Error fetching workers:",re),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:re=>re,refetchOnWindowFocus:!0}),{data:U=[]}=xt({queryKey:xe.workerTypes,queryFn:async()=>{try{const re=await fetch("/api/worker-types");if(!re.ok)return[];const F=await re.json();let Z=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Z=Array.isArray(F.data)?F.data:[]:Array.isArray(F)&&(Z=F)),Array.isArray(Z)?Z:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:re=>re,refetchOnWindowFocus:!1}),P=E.useCallback(async()=>{l(!0);try{await K(),x({title:" ",description:"   "})}catch{x({title:"",description:"  ",variant:"destructive"})}finally{l(!1)}},[K,x]),L=Dt({mutationFn:re=>Ve(`/api/workers/${re}`,"DELETE"),onMutate:async re=>{await S.cancelQueries({queryKey:xe.workers});const F=S.getQueryData(xe.workers);return Array.isArray(F)&&S.setQueryData(xe.workers,F.filter(Z=>Z.id!==re)),{previousData:F}},onSuccess:re=>{x({title:"   ",description:re?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(re,F,Z)=>{Z?.previousData&&S.setQueryData(xe.workers,Z.previousData),x({title:"   ",description:re?.message||"    ",variant:"destructive"})},onSettled:()=>{S.invalidateQueries({queryKey:xe.workers}),S.invalidateQueries({queryKey:xe.projectsWithStats})}}),T=Dt({mutationFn:({id:re,data:F})=>Ve(`/api/workers/${re}`,"PATCH",F),onMutate:async({id:re,data:F})=>{await S.cancelQueries({queryKey:xe.workers});const Z=S.getQueryData(xe.workers);return Array.isArray(Z)&&S.setQueryData(xe.workers,Z.map(W=>W.id===re?{...W,...F}:W)),{previousData:Z}},onSuccess:re=>{x({title:" ",description:re?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),S.invalidateQueries({queryKey:xe.workers})},onError:(re,F,Z)=>{Z?.previousData&&S.setQueryData(xe.workers,Z.previousData),x({title:"",description:re.message||"    ",variant:"destructive"})},onSettled:()=>{p(null),S.invalidateQueries({queryKey:xe.workers}),S.invalidateQueries({queryKey:xe.projectsWithStats})}}),_=E.useMemo(()=>(Array.isArray(I)?I:[]).filter(re=>{const F=re.name.toLowerCase().includes(s.toLowerCase())||re.type.toLowerCase().includes(s.toLowerCase())||re.phone&&re.phone.includes(s),Z=o.status==="all"||o.status==="active"&&re.isActive||o.status==="inactive"&&!re.isActive,W=o.type==="all"||re.type===o.type;return F&&Z&&W}),[I,s,o]),k=E.useMemo(()=>({total:Array.isArray(I)?I.length:0,active:Array.isArray(I)?I.filter(re=>re.isActive).length:0,inactive:Array.isArray(I)?I.filter(re=>!re.isActive).length:0,avgWage:Array.isArray(I)&&I.length>0?I.reduce((re,F)=>re+parseFloat(F.dailyWage),0)/I.length:0}),[I]),j=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:k.total,icon:zn,color:"blue"},{key:"active",label:" ",value:k.active,icon:Ks,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:k.inactive,icon:$n,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:R(k.avgWage),icon:Sr,color:"purple"},{key:"totalTypes",label:" ",value:U.length,icon:ZP,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:ws,color:"indigo"}]}],[k,U]),N=E.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(U)?U.map(re=>({value:re.name,label:re.name})):[]]}],[U]),D=()=>{r(void 0),n(!0)},O=re=>{r(re),n(!0)},z=re=>{confirm(`      "${re.name}"`)&&L.mutate(re.id)},Q=re=>{p(re.id),T.mutate({id:re.id,data:{isActive:!re.isActive}})},Y=async(re,F="excel")=>{h(re.id),y(10),v(null);try{const Z=A===Es?void 0:A,W=setInterval(()=>{y(ae=>ae>=90?(clearInterval(W),90):ae+10)},200),V=`/api/reports/worker-statement?workerId=${re.id}${Z?`&projectId=${Z}`:""}`,G=await Ve(V,"GET");if(clearInterval(W),y(100),G.success){let ae=!1;F==="pdf"?ae=await Age(G.data,re):ae=await Tge(G.data,re),x(ae?{title:" ",description:`    ${re.name} `}:{title:" ",description:"     .   .",variant:"destructive"})}}catch(Z){console.error("Error exporting statement:",Z),x({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{h(null),y(0)},500)}};return E.useEffect(()=>(C(D,"  "),()=>C(null)),[C]),i.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[i.jsx(Lo,{hideHeader:!0,title:"",subtitle:"",statsRows:j,filters:N,onFilterChange:B,onSearchChange:a,searchValue:s,onReset:q,onRefresh:P,isRefreshing:u}),$?i.jsx(Hs,{columns:4,children:Array.from({length:8}).map((re,F)=>i.jsx(xn,{title:"",fields:[],isLoading:!0,compact:!0},F))}):_.length===0?i.jsx(lr,{className:"p-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[i.jsx(zn,{className:"h-12 w-12 opacity-20"}),i.jsx("p",{className:"text-lg",children:"     "}),i.jsx(Re,{variant:"outline",onClick:q,children:" "})]})}):i.jsx(Hs,{columns:4,children:_.map(re=>i.jsx(Dge,{worker:re,onEdit:()=>O(re),onDelete:()=>z(re),onToggleStatus:()=>Q(re),onExport:F=>Y(re,F),formatCurrency:R,isToggling:d===re.id,selectedProjectId:A,isExporting:f===re.id,exportProgress:g,exportingWorkerId:f},re.id))}),i.jsx(Mge,{worker:t,isOpen:e,onClose:()=>n(!1)})]})}function Oge(t,r=[]){let e=[];function n(a,o){const c=E.createContext(o);c.displayName=a+"Context";const u=e.length;e=[...e,o];const l=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=E.useMemo(()=>g,Object.values(g));return i.jsx(y.Provider,{value:m,children:h})};l.displayName=a+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=E.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[l,d]}const s=()=>{const a=e.map(o=>E.createContext(o));return function(c){const u=c?.[t]||a;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,Fge(s,...r)]}function Fge(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((c,{useScope:u,scopeName:l})=>{const p=u(a)[`__scope${l}`];return{...c,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return e.scopeName=r.scopeName,e}var Lge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rz=Lge.reduce((t,r)=>{const e=g0(`Primitive.${r}`),n=E.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),X3="Progress",Y3=100,[Bge]=Oge(X3),[$ge,zge]=Bge(X3),Dz=E.forwardRef((t,r)=>{const{__scopeProgress:e,value:n=null,max:s,getValueLabel:a=Vge,...o}=t;(s||s===0)&&!_8(s)&&console.error(Wge(`${s}`,"Progress"));const c=_8(s)?s:Y3;n!==null&&!k8(n,c)&&console.error(Uge(`${n}`,"Progress"));const u=k8(n,c)?n:null,l=Pb(u)?a(u,c):void 0;return i.jsx($ge,{scope:e,value:u,max:c,children:i.jsx(Rz.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Pb(u)?u:void 0,"aria-valuetext":l,role:"progressbar","data-state":Fz(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});Dz.displayName=X3;var Iz="ProgressIndicator",Oz=E.forwardRef((t,r)=>{const{__scopeProgress:e,...n}=t,s=zge(Iz,e);return i.jsx(Rz.div,{"data-state":Fz(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:r})});Oz.displayName=Iz;function Vge(t,r){return`${Math.round(t/r*100)}%`}function Fz(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function Pb(t){return typeof t=="number"}function _8(t){return Pb(t)&&!isNaN(t)&&t>0}function k8(t,r){return Pb(t)&&!isNaN(t)&&t<=r&&t>=0}function Wge(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y3}\`.`}function Uge(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lz=Dz,qge=Oz;const bu=E.forwardRef(({className:t,value:r,...e},n)=>i.jsx(Lz,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...e,children:i.jsx(qge,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));bu.displayName=Lz.displayName;function Hge(){const{toast:t}=pn(),[r,e]=E.useState(null),[n,s]=E.useState("local"),[a,o]=E.useState(!1),[c,u]=E.useState(""),[l,d]=E.useState(!1),[p,f]=E.useState({status:"all"}),{data:h}=xt({queryKey:xe.backupsStatus,refetchInterval:5e3}),g=h?{lastRunAt:h.lastRunAt,lastSuccessAt:h.lastSuccessAt,lastFailureAt:h.lastFailureAt,lastError:h.lastError,totalSuccess:h.totalSuccess,totalFailure:h.totalFailure,isRunning:h.isRunning,schedulerEnabled:h.schedulerEnabled,cronSchedule:h.cronSchedule}:void 0,y=h?.storage,{data:m}=xt({queryKey:xe.backupsDatabases}),v=E.useMemo(()=>Array.isArray(m)&&m.length>0?m:[{id:"local",name:"LOCAL"}],[m]),{data:x,isLoading:S,refetch:C}=xt({queryKey:xe.backupsLogs,refetchInterval:1e4}),A=E.useMemo(()=>Array.isArray(x)?x:[],[x]),B=Dt({mutationFn:async()=>await Ve("/api/backups/run","POST"),onMutate:()=>{t({title:"   ",description:"      ..."})},onSuccess:O=>{yn.invalidateQueries({queryKey:xe.backupsLogs}),yn.invalidateQueries({queryKey:xe.backupsStatus}),O.success?t({title:"   ",description:`${O.tablesCount}  | ${O.totalRows}  | ${O.sizeMB} MB |  ${O.compressionRatio}`}):t({title:"  ",description:O.message,variant:"destructive"})},onError:O=>{t({title:"  ",description:O.message,variant:"destructive"})}}),q=Dt({mutationFn:async({target:O,fileName:z})=>await Ve("/api/backups/restore","POST",{fileName:z,target:O}),onMutate:()=>{t({title:" ",description:"     ..."})},onSuccess:O=>{O.success?(d(!0),t({title:"  ",description:O.message}),setTimeout(()=>window.location.reload(),3e3)):t({title:" ",description:O.message,variant:"destructive"})},onError:O=>{t({title:" ",description:O.message,variant:"destructive"})},onSettled:()=>{l||o(!1)}}),R=O=>{e(O),o(!0),d(!1)},I=()=>{r&&q.mutate({target:n,fileName:r.filename})},$=async O=>{try{const z=localStorage.getItem("accessToken"),Q={};z&&(Q.Authorization=`Bearer ${z}`);const Y=await fetch(`/api/backups/download/${O}`,{headers:Q});if(!Y.ok)throw new Error(" ");const re=await Y.blob(),{downloadFile:F}=await ln(async()=>{const{downloadFile:Z}=await Promise.resolve().then(()=>Ype);return{downloadFile:Z}},void 0);await F(re,O,re.type||"application/octet-stream")}catch(z){t({title:" ",description:z.message||"    ",variant:"destructive"})}},[K,U]=E.useState([]),P=Dt({mutationFn:async O=>await Ve("/api/backups/analyze","POST",{target:O}),onSuccess:O=>{U(O.report||[]),t({title:" ",description:"   "})}}),L=Dt({mutationFn:async O=>await Ve("/api/backups/test-connection","POST",{target:O}),onSuccess:O=>{t({title:O.success?" ":" ",description:O.message,variant:O.success?"default":"destructive"})}}),T=Dt({mutationFn:async O=>await Ve(`/api/backups/${O}`,"DELETE"),onSuccess:O=>{t({title:"  ",description:O.message}),yn.invalidateQueries({queryKey:xe.backupsLogs}),yn.invalidateQueries({queryKey:xe.backupsStatus})},onError:O=>{t({title:" ",description:O.message,variant:"destructive"})}}),_=E.useMemo(()=>A.filter(O=>{const z=!c||O.filename.toLowerCase().includes(c.toLowerCase()),Q=p.status==="all"||O.status===p.status;return z&&Q}),[A,c,p.status]),k=O=>O?O<1e3?`${O}ms`:`${(O/1e3).toFixed(1)}s`:"-",j=O=>{if(!O)return"  ";const z=Date.now()-new Date(O).getTime(),Q=Math.floor(z/6e4);if(Q<1)return"";if(Q<60)return` ${Q} `;const Y=Math.floor(Q/60);return Y<24?` ${Y} `:` ${Math.floor(Y/24)} `},N=[{items:[{key:"scheduler",label:" ",value:g?.schedulerEnabled?"":"",icon:$n,color:g?.schedulerEnabled?"green":"orange",subLabel:g?.cronSchedule||"-"},{key:"last_backup",label:"  ",value:j(g?.lastSuccessAt||null),icon:wn,color:g?.lastSuccessAt?"green":"gray",subLabel:`: ${g?.totalSuccess||0} | : ${g?.totalFailure||0}`},{key:"storage",label:"",value:y?`${y.totalSizeMB} MB`:"-",icon:dm,color:"purple",subLabel:`${y?.fileCount||A.length}  | : ${y?.maxRetention||20}`},{key:"status",label:"",value:g?.isRunning?" ":"",icon:Ks,color:g?.isRunning?"orange":"green",subLabel:g?.lastError?`: ${g.lastError.substring(0,30)}`:" "}]}],D=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return i.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[i.jsx(Lo,{statsRows:N,filters:D,searchValue:c,filterValues:p,onSearchChange:u,onFilterChange:(O,z)=>f(Q=>({...Q,[O]:z})),onReset:()=>{u(""),f({status:"all"})},onRefresh:C,isRefreshing:S||B.isPending,searchPlaceholder:"   ...",actions:[{key:"run-backup",label:B.isPending||g?.isRunning?" ...":"  ",icon:B.isPending||g?.isRunning?sn:tQ,onClick:()=>B.mutate(),disabled:B.isPending||g?.isRunning,variant:"default"}]}),(B.isPending||g?.isRunning)&&i.jsx("div",{className:"px-4 mt-4","data-testid":"backup-progress",children:i.jsxs("div",{className:"bg-card border rounded-md p-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-4 w-4 animate-spin text-primary"}),i.jsx("span",{className:"text-sm font-medium",children:"   ..."})]})}),i.jsx(bu,{value:B.isPending?50:0,className:"h-2"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"      gzip"})]})}),i.jsx("div",{className:"mt-6 px-4",children:S&&A.length===0?i.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>i.jsx("div",{className:"h-40 rounded-md border bg-muted/20 animate-pulse"},O))}):_.length===0?i.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-md bg-muted/5",children:[i.jsx(dm,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-muted-foreground","data-testid":"text-no-backups",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'  "  "   '})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:_.map(O=>i.jsxs("div",{className:"group relative bg-card border rounded-md p-3 hover-elevate transition-all duration-300","data-testid":`card-backup-${O.filename}`,children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("div",{className:`p-2 rounded-md shrink-0 ${O.compressed?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:O.compressed?i.jsx(U2,{className:"h-4 w-4"}):i.jsx(oa,{className:"h-4 w-4"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"text-sm font-bold truncate",title:O.filename,children:O.filename}),i.jsx("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-muted-foreground flex-wrap",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ws,{className:"h-3 w-3"}),qo(O.createdAt)]})})]})]}),i.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",style:{visibility:"visible"},children:[i.jsx(Re,{variant:"ghost",size:"icon","data-testid":`button-download-${O.filename}`,onClick:()=>$(O.filename),children:i.jsx(Xp,{className:"h-4 w-4"})}),i.jsx(Re,{variant:"ghost",size:"icon","data-testid":`button-restore-${O.filename}`,disabled:q.isPending,onClick:()=>R(O),children:i.jsx(Hl,{className:"h-4 w-4"})}),i.jsx(Re,{variant:"ghost",size:"icon","data-testid":`button-delete-${O.filename}`,disabled:T.isPending,onClick:()=>{const{dismiss:z}=t({title:" ",description:`   ${O.filename} `,action:i.jsx(Re,{variant:"destructive",size:"sm",onClick:()=>{z(),T.mutate(O.filename)},children:""})})},children:i.jsx(us,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center",children:[i.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:""}),i.jsxs("p",{className:"text-sm font-bold",children:[O.size," MB"]})]}),i.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:""}),i.jsx("p",{className:"text-sm font-bold",children:O.tablesCount??"-"})]}),i.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:""}),i.jsx("p",{className:"text-sm font-bold",children:O.totalRows?O.totalRows.toLocaleString():"-"})]})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[O.compressed?i.jsx(U2,{className:"h-3 w-3"}):i.jsx(oa,{className:"h-3 w-3"}),O.format==="json.gz"?"":O.format]}),i.jsx("span",{children:k(O.durationMs)})]}),O.status!=="success"&&i.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-1.5 rounded-md border border-destructive/20 truncate",children:"  "})]},O.filename))})}),i.jsx(Us,{open:a,onOpenChange:o,children:i.jsxs(Ds,{className:"sm:max-w-md",dir:"rtl",children:[i.jsxs(qs,{children:[i.jsxs(ca,{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(Hl,{className:"h-5 w-5 text-orange-600"}),"  "]}),i.jsxs(Xl,{className:"text-right",children:["  : ",i.jsx("br",{}),i.jsx("span",{className:"font-mono text-xs text-primary font-bold",children:r?.filename}),r?.tablesCount&&i.jsxs("span",{className:"block mt-1 text-xs",children:[r.tablesCount,"  | ",r.totalRows?.toLocaleString(),"  | ",r.size," MB"]})]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm font-bold block text-right flex items-center gap-2",children:[i.jsx(li,{className:"h-4 w-4 text-primary"}),"  :"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Yn,{value:n,onValueChange:O=>s(O),children:[i.jsx(Vn,{className:"w-full","data-testid":"select-restore-target",children:i.jsx(Zn,{placeholder:" "})}),i.jsx(Wn,{children:v.map(O=>i.jsx($t,{value:O.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[O.id==="central"?i.jsx(Rk,{className:"h-4 w-4"}):i.jsx(EQ,{className:"h-4 w-4"}),i.jsx("span",{className:"font-bold",children:O.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.id,")"]})]})},O.id))})]}),i.jsx(Re,{variant:"outline",size:"icon","data-testid":"button-test-connection",onClick:()=>L.mutate(n),disabled:L.isPending,children:i.jsx(xs,{className:`h-4 w-4 ${L.isPending?"animate-spin":""}`})})]}),i.jsxs(Re,{variant:"secondary",className:"w-full text-xs","data-testid":"button-analyze-tables",onClick:()=>P.mutate(n),disabled:P.isPending,children:[P.isPending?i.jsx(sn,{className:"h-4 w-4 animate-spin ml-2"}):i.jsx(Kl,{className:"h-4 w-4 ml-2"}),"    "]}),K.length>0&&i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"max-h-48 overflow-y-auto p-3 bg-muted/30 rounded-md border text-xs space-y-1",children:[i.jsxs("p",{className:"font-bold mb-2 flex items-center gap-2",children:[i.jsx(li,{className:"h-4 w-4"}),"   (",K.length," ):"]}),K.map((O,z)=>i.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[i.jsx("span",{className:"font-mono",children:O.table}),i.jsxs("div",{className:"flex items-center gap-2",children:[O.rows!==void 0&&i.jsxs("span",{className:"text-muted-foreground",children:[O.rows," "]}),O.status==="exists"?i.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""}):i.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""})]})]},z))]})})]}),q.isPending&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-primary",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-3 w-3 animate-spin"})," ..."]})}),i.jsx(bu,{value:50,className:"h-2"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"   ..."})]}),l&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-md border border-green-200 dark:border-green-800 flex items-center gap-3",children:[i.jsx(wn,{className:"h-8 w-8 text-green-600 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200",children:"  "}),i.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:"     "})]})]}),!q.isPending&&!l&&i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:i.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium leading-relaxed",children:":        .    ."})})]}),i.jsxs(xb,{className:"gap-3 sm:justify-start",children:[i.jsx(Re,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-restore",disabled:q.isPending||l,children:""}),i.jsx(Re,{variant:"default","data-testid":"button-confirm-restore",onClick:I,disabled:q.isPending||l,children:q.isPending?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Hl,{className:"ml-2 h-4 w-4"})," "]})})]})]})})]})}const j8={system:{icon:nl,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:nl,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:Si,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:_n,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:hl,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:zn,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:Co,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:Ik,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:hh,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:ua,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},S8={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},Kge=t=>typeof t=="number"?t:{critical:1,high:2,medium:3,low:4,info:5}[t]||3,Gge=t=>{const r={};return t.forEach(e=>{if(!e.createdAt){r.older||(r.older=[]),r.older.push(e);return}const n=L_(e.createdAt);let s;jF(n)?s="today":Gce(n)?s="yesterday":Kce(n)?s="thisWeek":Hce(n)?s="thisMonth":s="older",r[s]||(r[s]=[]),r[s].push(e)}),r},Qge={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},Xge=["today","yesterday","thisWeek","thisMonth","older"];function Yge(){const{toast:t}=pn(),{user:r}=uc(),[e,n]=E.useState(new Set),[s,a]=E.useState(new Set(["today","yesterday","thisWeek"])),[o,c]=E.useState(!1),u=r?.id||"";r?.role==="admin"||r?.role;const l=[{key:"status",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:" ",type:"date-range"}],{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=B0({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:y,isLoading:m,refetch:v}=xt({queryKey:xe.notificationsByUser(u),queryFn:async()=>{try{const _=await Ve(`/api/notifications?userId=${u}&limit=100`);return _.data||_||{notifications:[],unreadCount:0,total:0}}catch{return{notifications:[],unreadCount:0,total:0}}},refetchInterval:3e4,enabled:!!r}),x=E.useMemo(()=>{let _=y?.notifications||[];if(_=_.map(j=>({...j,priority:Kge(j.priority),status:j.status||(j.isRead?"read":"unread")})),d){const j=d.toLowerCase();_=_.filter(N=>N.title.toLowerCase().includes(j)||(N.body||N.message||"").toLowerCase().includes(j))}p.status&&p.status!=="all"&&(_=_.filter(j=>j.status===p.status)),p.type&&p.type!=="all"&&(_=_.filter(j=>j.type===p.type)),p.priority&&p.priority!=="all"&&(_=_.filter(j=>j.priority===parseInt(p.priority)));const k=p.dateRange;if(k?.from){const j=k.from,N=k.to||new Date;_=_.filter(D=>{if(!D.createdAt)return!1;const O=L_(D.createdAt);return O>=j&&O<=N})}return _},[y,d,p]),S=E.useMemo(()=>Gge(x),[x]),C=E.useMemo(()=>({total:x.length,unread:x.filter(_=>_.status==="unread").length,critical:x.filter(_=>_.priority===1).length,high:x.filter(_=>_.priority===2).length}),[x]),A=Dt({mutationFn:async _=>await Ve(`/api/notifications/${_}/mark-read`,"POST"),onMutate:async _=>{await yn.cancelQueries({queryKey:xe.notificationsByUser(u)});const k=yn.getQueryData(xe.notificationsByUser(u));return yn.setQueryData(xe.notificationsByUser(u),j=>j&&{...j,notifications:j.notifications.map(N=>N.id===_?{...N,isRead:!0,status:"read"}:N),unreadCount:Math.max(0,(j.unreadCount||0)-1)}),{previousData:k}},onError:(_,k,j)=>{j?.previousData&&yn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{yn.refetchQueries({queryKey:xe.notifications,exact:!1})}}),B=Dt({mutationFn:async()=>await Ve("/api/notifications/mark-all-read","POST"),onMutate:async()=>{await yn.cancelQueries({queryKey:xe.notificationsByUser(u)});const _=yn.getQueryData(xe.notificationsByUser(u));return yn.setQueryData(xe.notificationsByUser(u),k=>k&&{...k,notifications:k.notifications.map(j=>({...j,isRead:!0,status:"read"})),unreadCount:0}),{previousData:_}},onError:(_,k,j)=>{j?.previousData&&yn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{yn.refetchQueries({queryKey:xe.notifications,exact:!1}),t({title:" ",description:"    "}),n(new Set)}}),q=Dt({mutationFn:async _=>(await Promise.all(_.map(k=>fetch(`/api/notifications/${k}/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}))),_),onMutate:async _=>{await yn.cancelQueries({queryKey:xe.notificationsByUser(u)});const k=yn.getQueryData(xe.notificationsByUser(u));return yn.setQueryData(xe.notificationsByUser(u),j=>{if(!j)return j;const N=new Set(_);return{...j,notifications:j.notifications.map(D=>N.has(D.id)?{...D,isRead:!0,status:"read"}:D),unreadCount:Math.max(0,(j.unreadCount||0)-_.length)}}),{previousData:k}},onError:(_,k,j)=>{j?.previousData&&yn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{yn.refetchQueries({queryKey:xe.notifications,exact:!1}),t({title:" ",description:`  ${e.size}  `}),n(new Set)}}),R=E.useCallback(_=>{n(k=>{const j=new Set(k);return j.has(_)?j.delete(_):j.add(_),j})},[]),I=E.useCallback(()=>{e.size===x.length?n(new Set):n(new Set(x.map(_=>_.id)))},[x,e.size]),$=E.useCallback(_=>{a(k=>{const j=new Set(k);return j.has(_)?j.delete(_):j.add(_),j})},[]),K=_=>{if(!_)return" ";const k=L_(_);return jF(k)?Nr(k,"HH:mm",{locale:_a}):Nr(k,"dd MMM HH:mm",{locale:_a})},U=({notification:_})=>{const k=j8[_.type]||j8.system,j=S8[_.priority]||S8[3],N=k.icon,D=_.status==="unread",O=e.has(_.id);return i.jsxs("div",{className:Ee("group relative flex items-start gap-3 p-4 rounded-xl border transition-all duration-200","hover:shadow-md active:scale-[0.99]",D?"bg-gradient-to-l from-blue-50/80 to-white dark:from-blue-900/10 dark:to-slate-900 border-blue-200 dark:border-blue-800":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700",O&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-slate-900"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_h,{checked:O,onCheckedChange:()=>R(_.id),className:"mt-1"}),i.jsx("div",{className:Ee("flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-transform group-hover:scale-105",k.bgColor),children:i.jsx(N,{className:Ee("h-5 w-5",k.color)})})]}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("h3",{className:Ee("text-sm font-semibold leading-tight",D?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"),children:_.title}),D&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(Nt,{variant:"outline",className:Ee("text-xs h-5 px-1.5",j.bgColor,j.color),children:j.label}),i.jsx(Nt,{variant:"outline",className:Ee("text-xs h-5 px-1.5",k.bgColor,k.color),children:k.label})]})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:_.body||_.message||"  "}),i.jsxs("div",{className:"flex items-center justify-between pt-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-400",children:[i.jsx($n,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:K(_.createdAt)})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[D&&i.jsxs(Re,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs gap-1",onClick:()=>A.mutate(_.id),disabled:A.isPending,children:[i.jsx(ou,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:""})]}),_.actionRequired&&i.jsxs(Nt,{className:"bg-amber-100 text-amber-700 border-amber-200 text-xs",children:[i.jsx(Va,{className:"h-3 w-3 ml-1"})," "]})]})]})]})]})},P=({groupKey:_,notifications:k})=>{const j=s.has(_),N=k.filter(D=>D.status==="unread").length;return i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>$(_),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-2",children:[j?i.jsx(Bn,{className:"h-4 w-4 text-slate-500"}):i.jsx(vd,{className:"h-4 w-4 text-slate-500"}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Qge[_]}),i.jsx(Nt,{variant:"secondary",className:"text-xs h-5",children:k.length}),N>0&&i.jsxs(Nt,{className:"bg-blue-500 text-white text-xs h-5",children:[N," "]})]})}),j&&i.jsx("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:k.map(D=>i.jsx(U,{notification:D},D.id))})]})},L=()=>i.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(_=>i.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx(un,{className:"w-10 h-10 rounded-xl"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(un,{className:"h-4 w-3/4"}),i.jsx(un,{className:"h-3 w-full"}),i.jsx(un,{className:"h-3 w-1/2"})]})]},_))}),T=()=>i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:i.jsx(ki,{className:"h-10 w-10 text-slate-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"  "}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center max-w-sm",children:d||Object.values(p).some(_=>_&&_!=="all")?"       ":"     "}),(d||Object.values(p).some(_=>_&&_!=="all"))&&i.jsxs(Re,{variant:"outline",className:"mt-4",onClick:g,children:[i.jsx(Rs,{className:"h-4 w-4 ml-2"})," "]})]});return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",dir:"rtl",children:i.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 max-w-4xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:i.jsx(ki,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-white",children:""}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.unread>0?`${C.unread}  `:"  "})]})]}),i.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>v(),className:"gap-2",children:[i.jsx(xs,{className:Ee("h-4 w-4",m&&"animate-spin")}),i.jsx("span",{className:"hidden sm:inline",children:""})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ki,{className:"h-5 w-5 text-blue-500"}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.total})]}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(wd,{className:"h-5 w-5 text-orange-500"}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.unread})]}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ua,{className:"h-5 w-5 text-red-500"}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.critical})]}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(hl,{className:"h-5 w-5 text-amber-500"}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.high})]}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]})]}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm mb-4",children:i.jsx(Vx,{searchValue:d,onSearchChange:f,searchPlaceholder:"  ...",filters:l,filterValues:p,onFilterChange:h,onReset:g,showActiveFilters:!0,className:"p-2"})}),e.size>0&&i.jsxs("div",{className:"sticky top-0 z-10 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-3 mb-4 flex flex-wrap items-center justify-between gap-2 animate-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_h,{checked:e.size===x.length,onCheckedChange:I}),i.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["  ",e.size," "]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Re,{size:"sm",variant:"outline",className:"gap-1.5 text-xs h-8",onClick:()=>q.mutate(Array.from(e)),disabled:q.isPending,children:[i.jsx(DN,{className:"h-3.5 w-3.5"})," "]}),i.jsxs(Re,{size:"sm",variant:"ghost",className:"gap-1.5 text-xs h-8",onClick:()=>n(new Set),children:[i.jsx(Rs,{className:"h-3.5 w-3.5"})," "]})]})]}),C.unread>0&&e.size===0&&i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>B.mutate(),disabled:B.isPending,className:"gap-1.5",children:[i.jsx(DN,{className:"h-4 w-4"}),"  "]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:i.jsx(Oo,{className:"h-[calc(100vh-420px)] sm:h-[calc(100vh-380px)]",children:i.jsx("div",{className:"p-3 sm:p-4 space-y-4",children:m?i.jsx(L,{}):x.length===0?i.jsx(T,{}):Xge.filter(_=>S[_]?.length>0).map(_=>i.jsx(P,{groupKey:_,notifications:S[_]},_))})})}),i.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500 dark:text-slate-400",children:[" : ",Nr(new Date,"HH:mm:ss",{locale:_a})]})]})})}function Zge({totalIncome:t,totalExpenses:r,remainingBalance:e,materialExpensesCredit:n,details:s}){const a=typeof t=="number"?t:parseFloat(String(t||"0"))||0,o=typeof r=="number"?r:parseFloat(String(r||"0"))||0,c=typeof e=="number"?e:parseFloat(String(e||"0"))||0,u=typeof n=="number"?n:parseFloat(String(n||"0"))||0;s?.workerWages,s?.materialCosts,s?.transportation,s?.miscExpenses,s?.workerTransfers,s?.outgoingProjectTransfers;const l=a,d=100,p=l>0?o/l*100:0,f=c>0?"text-green-400":c<0?"text-red-400":"text-yellow-400",h=c>0?"":c<0?"":"";return i.jsx("div",{className:"mt-4 space-y-3",children:i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[i.jsx(Sr,{className:"h-5 w-5 text-primary"})," "]}),i.jsx("div",{className:`text-2xl font-bold ${f}`,children:h})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Dn,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),i.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:Je(a)}),l>0&&i.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ka,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),i.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),i.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:Je(o)}),l>0&&i.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[p.toFixed(1),"%  "]})]})]}),s&&i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(zn,{className:"h-3 w-3"}),""]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.workerWages||0)})]}),i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(_n,{className:"h-3 w-3"}),""]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.materialCosts||0)})]}),i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(la,{className:"h-3 w-3"}),""]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.transportation||0)})]}),i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(Sr,{className:"h-3 w-3"})," "]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.workerTransfers||0)})]}),i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(wy,{className:"h-3 w-3"})," "]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.outgoingProjectTransfers||0)})]}),i.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[i.jsx(ua,{className:"h-3 w-3"}),""]}),i.jsx("div",{className:"text-xs font-bold",children:Je(s.miscExpenses||0)})]})]}),l>0&&i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[i.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),i.jsx("div",{className:"bg-red-500",style:{width:`${p}%`}})]})}),i.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xQ,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),i.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:Je(c)})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:c>0?"  ":c<0?"  ":"  "})]}),u>0&&i.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($n,{className:"h-5 w-5 text-orange-500"}),i.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),i.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:Je(u)})]})})]})})}function Jge({projectId:t,selectedDate:r}){const[e,n]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(null),[u,l]=E.useState({}),[d,p]=E.useState(!1),{toast:f}=pn(),h=_s(),{setFloatingAction:g}=Fo(),y=async(R,I)=>{if(!(!I||I.trim().length<2))try{await Ve("/api/autocomplete","POST",{category:R,value:I.trim(),usageCount:1}),console.log(`     : ${R} = ${I.trim()}`)}catch($){console.warn(`Failed to save autocomplete value for ${R}:`,$)}},{data:m=[]}=xt({queryKey:xe.workerMiscExpensesFiltered(t,r),queryFn:async()=>{try{const R=await Ve(`/api/worker-misc-expenses?projectId=${t}&date=${r}`,"GET");return R&&R.data&&Array.isArray(R.data)?R.data:Array.isArray(R)?R:[]}catch(R){return console.error("Error fetching worker misc expenses:",R),[]}},enabled:!!t});E.useEffect(()=>{p(m.length>0)},[m]);const v=Dt({mutationFn:R=>Ve("/api/worker-misc-expenses","POST",R),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:xe.workerMiscExpenses}),n(""),a(""),f({title:"  ",description:"    "})},onError:R=>{const I=R?.response?.data?.message||R?.message||"    ";console.error("Error creating misc expense:",R),f({title:"   ",description:I,variant:"destructive"})}}),x=Dt({mutationFn:({id:R,data:I})=>Ve(`/api/worker-misc-expenses/${R}`,"PATCH",I),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:xe.workerMiscExpenses}),A(),f({title:"  ",description:"   "})},onError:R=>{const I=R?.response?.data?.message||R?.message||"    ";console.error("Error updating misc expense:",R),f({title:"   ",description:I,variant:"destructive"})}}),S=Dt({mutationFn:R=>Ve(`/api/worker-misc-expenses/${R}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:xe.workerMiscExpenses}),f({title:"  ",description:"   "})},onError:R=>{const I=R?.response?.data?.message||R?.message||"    ";console.error("Error deleting misc expense:",R),f({title:"   ",description:I,variant:"destructive"})}}),C=async()=>{if(!t||t==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!e.trim()||!s){f({title:" ",description:"   ",variant:"destructive"});return}e&&e.trim().length>=2&&await y("workerMiscDescriptions",e),o?x.mutate({id:o,data:{description:e,amount:s}}):v.mutate({description:e,amount:s,projectId:t,date:r})},A=()=>{n(""),a(""),c(null)},B=R=>{n(R.description),a(R.amount),c(R.id)},q=Array.isArray(m)?m.reduce((R,I)=>R+parseFloat(I.amount||"0"),0):0;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Ms,{value:e,onChange:n,category:"workerMiscDescriptions",placeholder:""}),i.jsx(yt,{type:"number",inputMode:"decimal",value:s,onChange:R=>a(R.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{onClick:C,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||x.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||x.isPending?i.jsx(sn,{className:"h-4 w-4 animate-spin"}):o?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(gs,{className:"h-4 w-4"})}),o&&i.jsx(Re,{onClick:A,size:"sm",variant:"outline",disabled:v.isPending||x.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((R,I)=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[i.jsx("span",{className:"text-sm flex-1",children:R.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium arabic-numbers",children:Je(R.amount)}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>B(R),children:i.jsx(Ol,{className:"h-3 w-3"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>S.mutate(R.id),disabled:S.isPending,children:i.jsx(us,{className:"h-3 w-3"})})]})]})]},R.id||I)),Array.isArray(m)&&m.length>0&&i.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:Je(q.toString())})]})]})}class U_ extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(r){return console.error(" [ErrorBoundary]   :",r),{hasError:!0,error:r}}componentDidCatch(r,e){console.error(" [ErrorBoundary]  :",r,e),console.error(" [ErrorBoundary] Stack trace:",r.stack)}render(){return this.state.hasError?this.props.fallback||i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),i.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function eye(){const{toast:t}=pn(),[,r]=Os(),{selectedProjectId:e,isAllProjects:n}=Io(),[s,a]=E.useState(null),[o,c]=E.useState("0"),[u,l]=E.useState(!0),[d,p]=E.useState(""),[f,h]=E.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=E.useCallback((ue,Be)=>{if(ue==="date")if(Be instanceof Date){const wt=Be.getFullYear(),or=String(Be.getMonth()+1).padStart(2,"0"),$r=String(Be.getDate()).padStart(2,"0");a(`${wt}-${or}-${$r}`)}else a(null);else ue==="dateRange"?(h(wt=>({...wt,[ue]:Be})),Be?.from&&a(null)):h(wt=>({...wt,[ue]:Be}))},[]),y=E.useCallback(()=>{p(""),h({dateRange:void 0,type:"all"}),a(ia()),t({title:"  ",description:"      "})},[t]),[m,v]=E.useState(!1),[x,S]=E.useState(!1),[C,A]=E.useState(),[B,q]=E.useState(!1),[R,I]=E.useState(!1),[$,K]=E.useState(!1),[U,P]=E.useState(!1),[L,T]=E.useState(!1),[_,k]=E.useState(!1),[j,N]=E.useState(!1),[D,O]=E.useState(!0),[z,Q]=E.useState(!1),{data:Y=[],isLoading:re}=xt({queryKey:xe.workerMiscExpensesFiltered(e,s),queryFn:async()=>{if(!e&&!n||!s)return[];const Be=await Ve(`/api/worker-misc-expenses?projectId=${n?"all":e}&date=${s}`,"GET");return Array.isArray(Be)?Be:Be?.data||[]},enabled:(!!e||n)&&!!s});E.useEffect(()=>{!re&&Y.length>0?Q(!0):Q(!1)},[Y.length,re,s]);const[F,Z]=E.useState(""),[W,V]=E.useState(""),[G,ae]=E.useState(""),[pe,ce]=E.useState(""),[ge,ee]=E.useState(null),[oe,ne]=E.useState(),[fe,le]=E.useState(""),[ie,te]=E.useState(""),[se,de]=E.useState(""),[me,ke]=E.useState(null),[Ce,Fe]=E.useState("worker_transport"),[Ie,Ue]=E.useState(""),[tt,gt]=E.useState(""),[Ze,it]=E.useState(""),[ve,be]=E.useState(""),[He,Xe]=E.useState(null),[ot,Xt]=E.useState(""),[vt,Yt]=E.useState(""),[rr,At]=E.useState(""),Pt=_s(),{setFloatingAction:jr}=Fo(),Ot=()=>{if(!s)return;const ue=new Date(s);ue.setDate(ue.getDate()+1);const Be=ue.getFullYear(),wt=String(ue.getMonth()+1).padStart(2,"0"),or=String(ue.getDate()).padStart(2,"0");a(`${Be}-${wt}-${or}`)},Cr=()=>{if(!s)return;const ue=new Date(s);ue.setDate(ue.getDate()-1);const Be=ue.getFullYear(),wt=String(ue.getMonth()+1).padStart(2,"0"),or=String(ue.getDate()).padStart(2,"0");a(`${Be}-${wt}-${or}`)},fr=async(ue,Be)=>{if(!(!Be||Be.trim().length<2))try{await Ve("/api/autocomplete","POST",{category:ue,value:Be.trim(),usageCount:1}),console.log(`     : ${ue} = ${Be.trim()}`)}catch(wt){console.warn(`Failed to save autocomplete value for ${ue}:`,wt)}};E.useEffect(()=>{a(ia())},[]),E.useEffect(()=>(jr(null),()=>jr(null)),[jr]);const Zt=async()=>{const ue=[];W&&W.trim().length>=2&&ue.push(fr("senderNames",W)),G&&G.trim().length>=1&&ue.push(fr("transferNumbers",G)),pe&&pe.trim().length>=2&&ue.push(fr("transferTypes",pe)),ue.length>0&&await Promise.all(ue)},Tr={staleTime:1e3*60*60,gcTime:1e3*60*180,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:ue=>ue},{data:Bt=[],error:ar}=xt({queryKey:xe.workers,queryFn:async()=>{try{const ue=await Ve("/api/workers","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...Tr}),{data:Ne=[],refetch:Me}=xt({queryKey:xe.workerAttendance(e,s),queryFn:async()=>{if(!e||!s)return[];const ue=await Ve(`/api/worker-attendance?projectId=${e}&date=${s}`,"GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]},enabled:!!e&&!!s}),We=E.useMemo(()=>Bt.filter(ue=>!Ne.some(Be=>Be.workerId===ue.id)),[Bt,Ne]),{data:rt=[],error:zt}=xt({queryKey:xe.projects,queryFn:async()=>{try{const ue=await Ve("/api/projects","GET");return Array.isArray(ue?.data)?ue.data:Array.isArray(ue)?ue:[]}catch{return[]}},...Tr}),ht=Dt({mutationFn:ue=>Ve("/api/worker-attendance","POST",ue),onSuccess:()=>{Vt(),gt(""),it(""),be(""),Ue(""),t({title:"  ",description:"    "})},onError:async ue=>{try{const Be={workerId:Ie,days:tt?parseFloat(tt):0,amount:Ze?parseFloat(Ze):0,notes:ve,selectedDate:s,projectId:e};await Uf("create","/api/worker-attendance",Be),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}}),Jt=Dt({mutationFn:ue=>Ve(`/api/worker-attendance/${ue.id}`,"PATCH",ue),onSuccess:()=>{Vt(),Xe(null),Xt(""),Yt(""),At(""),t({title:" ",description:"    "})},onError:ue=>{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}),Kt=()=>{if(!e||e==="all"||n){t({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Ie||!tt&&!Ze){t({title:" ",description:"        ",variant:"destructive"});return}const ue=Bt.find(Yr=>Yr.id===Ie);if(!ue){t({title:"",description:"     ",variant:"destructive"});return}const Be=parseFloat(String(ue.dailyWage||"0")),wt=parseFloat(tt||"0"),or=parseFloat(Ze||"0"),$r=Be*wt,lt={workerId:Ie,projectId:e,attendanceDate:s||ia(),workDays:wt,dailyWage:Be.toString(),actualWage:$r.toString(),totalPay:$r.toString(),paidAmount:Ze||"0",remainingAmount:($r-or).toString(),workDescription:ve||(wt>0?" ":"  "),notes:ve,wellId:C||null,paymentType:or>0?or>=$r&&$r>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",lt),ht.mutate(lt)},{data:Ct=[]}=xt({queryKey:xe.materials,queryFn:async()=>{try{const ue=await Ve("/api/materials","GET");return ue&&ue.data&&Array.isArray(ue.data)?ue.data:[]}catch(ue){return console.warn("     :",ue),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:ir=[],refetch:er}=xt({queryKey:xe.dailyProjectTransfers(n?"all":e,s),queryFn:async()=>{try{const Be=await Ve(`/api/daily-project-transfers?projectId=${n?"all":e}&date=${s||""}`,"GET");console.log(" [ProjectTransfers]  API  :",Be);let wt=[];return Be&&Be.data&&Array.isArray(Be.data)?wt=Be.data:Array.isArray(Be)&&(wt=Be),Array.isArray(wt)?(console.log(` [ProjectTransfers]   ${wt.length}   ${s}   `),wt):[]}catch(ue){return console.error("Error fetching daily project transfers:",ue),[]}},enabled:!!e&&!!s&&u,staleTime:1e3*60*60,gcTime:1e3*60*180,refetchOnMount:!1,refetchOnWindowFocus:!1}),we=Array.isArray(ir)?ir:[],{summary:Ke,allProjects:bt,totals:kt,isLoading:Ft,refetch:Sn}=Kh({projectId:e==="all"?"all":e,date:s&&s!=="null"?s:void 0,dateFrom:f.dateRange?.from?qo(f.dateRange.from):void 0,dateTo:f.dateRange?.to?qo(f.dateRange.to):void 0,enabled:n||!!e}),ye=E.useMemo(()=>n?kt:{totalIncome:Ke?.income?.totalIncome||0,totalCashExpenses:Ke?.expenses?.totalCashExpenses||0,totalAllExpenses:Ke?.expenses?.totalAllExpenses||0,totalExpenses:Ke?.expenses?.totalAllExpenses||0,cashBalance:Ke?.cashBalance||0,totalBalance:Ke?.totalBalance||0,currentBalance:Ke?.totalBalance||0,totalWorkers:Ke?.workers?.totalWorkers||0,activeWorkers:Ke?.workers?.activeWorkers||0,materialExpensesCredit:Ke?.expenses?.materialExpensesCredit||0,carriedForwardBalance:Ke?.income?.carriedForwardBalance||0,totalWorkerWages:Ke?.expenses?.workerWages||0,totalTransportation:Ke?.expenses?.transportExpenses||0,totalMaterialCosts:Ke?.expenses?.materialExpenses||0,totalWorkerTransfers:Ke?.expenses?.workerTransfers||0,totalMiscExpenses:Ke?.expenses?.miscExpenses||0,totalFundTransfers:Ke?.income?.fundTransfers||0,incomingProjectTransfers:Ke?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:Ke?.expenses?.outgoingProjectTransfers||0,remainingBalance:Ke?.totalBalance||0},[n,kt,Ke]);E.useMemo(()=>ye.totalIncome,[ye]);const Pe=E.useMemo(()=>ye.totalIncome+parseFloat(String(ye.carriedForwardBalance||0)),[ye]);E.useMemo(()=>ye.totalCashExpenses,[ye]);const Qe=E.useMemo(()=>Pe-ye.totalCashExpenses,[Pe,ye.totalCashExpenses]),{data:Ge,isLoading:Mt,error:ut,refetch:mt}=xt({queryKey:xe.dailyExpensesComplex(n?"all-projects":e,s?"daily-expenses":"all-expenses",s),queryFn:async()=>{try{if(n){const Be=s&&s!=="null"?`/api/projects/all-projects-total?date=${s}`:"/api/projects/all-projects-total",wt=await Ve(Be,"GET"),or=s&&s!=="null"?`/api/projects/all-projects-expenses?date=${s}`:"/api/projects/all-projects-expenses",$r=await Ve(or,"GET");return $r&&$r.success&&$r.data?wt&&wt.success&&wt.data?{...$r.data,carriedForwardBalance:wt.data.carriedForwardBalance}:$r.data:null}if(!e)return null;if(!s||s==="null"){const Be=await Ve(`/api/projects/${e}/all-expenses`,"GET");return Be&&Be.success&&Be.data?Be.data:null}const ue=await Ve(`/api/projects/${e}/daily-expenses/${s}`,"GET");return ue&&ue.success&&ue.data?ue.data:null}catch(ue){throw console.error("   :",ue),ue}},enabled:n||!!e,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:ue=>ue}),Pr=E.useMemo(()=>Ge?.carriedForwardBalance!==void 0?Ge.carriedForwardBalance:ye.carriedForwardBalance||0,[ye.carriedForwardBalance,Ge]),hr=E.useMemo(()=>{const ue=Ge?.carriedForwardBalance!==void 0?Ge.carriedForwardBalance:ye.carriedForwardBalance||0;return ye.totalIncome+ue-ye.totalCashExpenses},[ye.totalIncome,ye.totalCashExpenses,ye.carriedForwardBalance,Ge]);E.useMemo(()=>({totalIncome:ye.totalIncome,totalExpenses:ye.totalCashExpenses,remainingBalance:hr,materialExpensesCredit:ye.materialExpensesCredit,carriedForward:Pr,details:{workerWages:ye.totalWorkerWages,materialCosts:ye.totalMaterialCosts,transportation:ye.totalTransportation,miscExpenses:ye.totalMiscExpenses,workerTransfers:ye.totalWorkerTransfers,outgoingProjectTransfers:ye.outgoingProjectTransfers}}),[ye,hr,Pr]);const Vt=E.useCallback(()=>{Pt.invalidateQueries({queryKey:xe.projects}),mt(),er(),Sn(),Me()},[Pt,mt,er,Sn,Me]),{todayFundTransfers:Wt,todayWorkerAttendance:vr,todayTransportation:Wr,todayMaterialPurchases:zr,todayWorkerTransfers:dn,todayMiscExpenses:bn}=E.useMemo(()=>{if(!Ge)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const ue=Ge.data||Ge;return{todayFundTransfers:Array.isArray(ue.fundTransfers)?ue.fundTransfers:[],todayWorkerAttendance:Array.isArray(ue.workerAttendance)?ue.workerAttendance:[],todayTransportation:Array.isArray(ue.transportationExpenses)?ue.transportationExpenses:[],todayMaterialPurchases:Array.isArray(ue.materialPurchases)?ue.materialPurchases:[],todayWorkerTransfers:Array.isArray(ue.workerTransfers)?ue.workerTransfers:[],todayMiscExpenses:Array.isArray(ue.miscExpenses)?ue.miscExpenses:[]}},[Ge]),fn=Array.isArray(vr)?vr:[],kn=Array.isArray(Wr)?Wr:[],Jn=Array.isArray(zr)?zr:[],Fs=Array.isArray(dn)?dn:[],Ka=Array.isArray(bn)?bn:[],fs=Array.isArray(Wt)?Wt:[];E.useEffect(()=>{A(void 0),ne(void 0)},[e]),E.useEffect(()=>{I(fs.length>0),K(kn.length>0),P(fn.length>0),T(Jn.length>0),k(Fs.length>0),N(we.length>0),Q(Ka.length>0)},[fs.length,kn.length,fn.length,Jn.length,Fs.length,we.length,Ka.length]);const Ur=E.useMemo(()=>{if(!d.trim())return fs;const ue=d.toLowerCase().trim();return fs.filter(Be=>Be.senderName?.toLowerCase().includes(ue)||Be.transferType?.toLowerCase().includes(ue)||Be.transferNumber?.toLowerCase().includes(ue)||Be.amount?.toString().includes(ue))},[fs,d]),Mr=E.useMemo(()=>{if(!d.trim())return fn;const ue=d.toLowerCase().trim();return fn.filter(Be=>Bt.find(or=>or.id===Be.workerId)?.name?.toLowerCase().includes(ue)||Be.workDescription?.toLowerCase().includes(ue)||Be.notes?.toLowerCase().includes(ue))},[fn,Bt,d]),Ls=E.useMemo(()=>{if(!d.trim())return kn;const ue=d.toLowerCase().trim();return kn.filter(Be=>Be.description?.toLowerCase().includes(ue)||Be.notes?.toLowerCase().includes(ue)||Be.amount?.toString().includes(ue))},[kn,d]),ui=E.useMemo(()=>{if(!d.trim())return Jn;const ue=d.toLowerCase().trim();return Jn.filter(Be=>Ct.find(or=>or.id===Be.materialId)?.name?.toLowerCase().includes(ue)||Be.supplier?.toLowerCase().includes(ue)||Be.notes?.toLowerCase().includes(ue)||Be.totalAmount?.toString().includes(ue))},[Jn,Ct,d]),Pi=E.useMemo(()=>{if(!d.trim())return Fs;const ue=d.toLowerCase().trim();return Fs.filter(Be=>Bt.find(or=>or.id===Be.workerId)?.name?.toLowerCase().includes(ue)||Be.notes?.toLowerCase().includes(ue)||Be.amount?.toString().includes(ue))},[Fs,Bt,d]),wr=E.useMemo(()=>{if(!d.trim())return Ka;const ue=d.toLowerCase().trim();return Ka.filter(Be=>Be.description?.toLowerCase().includes(ue)||Be.notes?.toLowerCase().includes(ue)||Be.amount?.toString().includes(ue))},[Ka,d]),{data:js}=xt({queryKey:xe.previousBalance(e,s),queryFn:async()=>{try{const ue=await Ve(`/api/projects/${e}/previous-balance/${s}`,"GET");return ue&&ue.data&&ue.data.balance!==void 0?ue.data.balance||"0":ue?.balance||"0"}catch(ue){return console.error("Error fetching previous balance:",ue),"0"}},enabled:!!e&&!!s&&!n,staleTime:1e3*60*2,gcTime:1e3*60*5,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:void 0});E.useEffect(()=>{js!=null&&(console.log("  carriedForward:",{previousBalance:js,type:typeof js}),c(js))},[js]),E.useEffect(()=>{(e||n)&&Pt.invalidateQueries({queryKey:xe.projects,refetchType:"none"})},[e,s,n,Pt]),E.useEffect(()=>{(async()=>{const Be=[" "," "," "," ","",""];for(const wt of Be)try{await fr("transferTypes",wt)}catch(or){console.log(`Type ${wt} initialization skipped:`,or)}})()},[]);const Ca=Dt({mutationFn:async ue=>{await Zt();const Be={...ue,wellId:oe||null};return Ve("/api/fund-transfers","POST",Be)},onSuccess:async ue=>{Vt(),Pt.invalidateQueries({queryKey:xe.autocomplete}),t({title:"  ",description:"    "}),Z(""),V(""),ae(""),ce("")},onError:async ue=>{await Zt(),Pt.invalidateQueries({queryKey:xe.autocomplete}),console.error("   :",ue);let Be="    ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.message?Be=ue.message:typeof ue=="string"&&(Be=ue);try{const wt={fundAmount:F?parseFloat(F):0,senderName:W,transferNumber:G,transferType:pe,selectedDate:s,projectId:e,wellId:oe||null};await Uf("create","/api/fund-transfers",wt),t({title:"  ",description:`${Be} -    `,variant:"default"})}catch{t({title:"   ",description:Be,variant:"destructive"})}}}),di=Dt({mutationFn:async ue=>{await Promise.all([fr("transportDescriptions",fe),fr("notes",se)]);const Be={...ue,wellId:C||null};return Ve("/api/transportation-expenses","POST",Be)},onSuccess:async ue=>{Vt(),Pt.invalidateQueries({queryKey:xe.autocomplete}),t({title:"  ",description:"    "}),le(""),te(""),de("")},onError:async ue=>{await Promise.all([fr("transportDescriptions",fe),fr("notes",se)]),Pt.invalidateQueries({queryKey:xe.autocomplete});try{const Be={description:fe,amount:ie?parseFloat(ie):0,notes:se,selectedDate:s,projectId:e,wellId:C||null};await Uf("create","/api/transportation-expenses",Be),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"   ",description:ue?.message||"     ",variant:"destructive"})}}}),oo=Dt({mutationFn:ue=>Ve("/api/daily-expense-summaries","POST",ue),onSuccess:()=>{Vt(),t({title:" ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),fi=Dt({mutationFn:ue=>Ve(`/api/fund-transfers/${ue}`,"DELETE"),onSuccess:(ue,Be)=>{Pt.setQueryData(xe.dailyExpenses(e,s),wt=>wt&&{...wt,fundTransfers:wt.fundTransfers?.filter(or=>or.id!==Be)||[]}),Vt(),t({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let Be="    ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.message&&(Be=ue.message),t({title:"   ",description:Be,variant:"destructive"})}}),Ta=Dt({mutationFn:ue=>Ve(`/api/transportation-expenses/${ue}`,"DELETE"),onSuccess:(ue,Be)=>{Pt.setQueryData(xe.dailyExpenses(e,s),wt=>wt&&{...wt,transportationExpenses:wt.transportationExpenses?.filter(or=>or.id!==Be)||[]}),Vt(),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Be="     ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.response?.data?.error?Be=ue.response.data.error:ue?.message?Be=ue.message:typeof ue=="string"&&(Be=ue),t({title:"    ",description:Be,variant:"destructive"})}}),Bo=Dt({mutationFn:ue=>Ve(`/api/material-purchases/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Be,wt)=>{const{projectId:or,date:$r}=wt||{projectId:e,date:s};Pt.setQueryData(xe.dailyExpenses(or,$r),lt=>lt&&{...lt,materialPurchases:lt.materialPurchases?.filter(Yr=>Yr.id!==Be)||[]}),Pt.invalidateQueries({queryKey:xe.dailyExpenses(or,$r)}),Pt.invalidateQueries({queryKey:xe.materialPurchases(or)}),Pt.invalidateQueries({queryKey:xe.previousBalance(or)}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Be="     ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.response?.data?.error?Be=ue.response.data.error:ue?.message?Be=ue.message:typeof ue=="string"&&(Be=ue),t({title:"    ",description:Be,variant:"destructive"})}}),Mi=Dt({mutationFn:ue=>Ve(`/api/project-fund-transfers/${ue}`,"DELETE"),onSuccess:()=>{Vt(),er(),t({title:" ",description:"    "})},onError:ue=>{t({title:"",description:ue?.message||"    ",variant:"destructive"})}}),[hi,Ga]=E.useState(null),Ea=ue=>{r(`/project-transfers?edit=${ue.id}`)},Ri=Dt({mutationFn:ue=>Ve(`/api/worker-attendance/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Be,wt)=>{const{projectId:or,date:$r}=wt||{projectId:e,date:s};Pt.setQueryData(xe.dailyExpenses(or,$r),lt=>lt&&{...lt,workerAttendance:lt.workerAttendance?.filter(Yr=>Yr.id!==Be)||[]}),Pt.invalidateQueries({queryKey:xe.dailyExpenses(or,$r)}),Pt.invalidateQueries({queryKey:xe.projectAttendance(or)}),Pt.invalidateQueries({queryKey:xe.previousBalance(or)}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Be="     ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.response?.data?.error?Be=ue.response.data.error:ue?.message?Be=ue.message:typeof ue=="string"&&(Be=ue),t({title:"    ",description:Be,variant:"destructive"})}}),pi=Dt({mutationFn:ue=>Ve(`/api/worker-transfers/${ue}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(ue,Be,wt)=>{const{projectId:or,date:$r}=wt||{projectId:e,date:s};Pt.setQueryData(xe.dailyExpenses(or,$r),lt=>lt&&{...lt,workerTransfers:lt.workerTransfers?.filter(Yr=>Yr.id!==Be)||[]}),Pt.invalidateQueries({queryKey:xe.dailyExpenses(or,$r)}),Pt.invalidateQueries({queryKey:xe.previousBalance(or)}),t({title:" ",description:"    "})},onError:ue=>{console.error("    :",ue);let Be="     ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.response?.data?.error?Be=ue.response.data.error:ue?.message?Be=ue.message:typeof ue=="string"&&(Be=ue),t({title:"    ",description:Be,variant:"destructive"})}}),Ys=Dt({mutationFn:({id:ue,data:Be})=>Ve(`/api/fund-transfers/${ue}`,"PATCH",Be),onSuccess:async(ue,{id:Be})=>{Pt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)}),Pt.invalidateQueries({queryKey:xe.previousBalance(e)}),W&&await fr("senderNames",W),G&&await fr("transferNumbers",G),Pt.invalidateQueries({queryKey:xe.autocomplete}),H0(),t({title:" ",description:"   "})},onError:ue=>{console.error("   :",ue);let Be="    ";ue?.response?.data?.message?Be=ue.response.data.message:ue?.message&&(Be=ue.message),t({title:"   ",description:Be,variant:"destructive"})}}),H0=()=>{Z(""),V(""),ae(""),ce(""),ee(null)},K0=ue=>{Z(ue.amount),V(ue.senderName||""),ae(ue.transferNumber||""),ce(ue.transferType),ee(ue.id)},Nu=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!F||F.trim()===""||parseFloat(F)<=0){t({title:"",description:"   ",variant:"destructive"});return}if(!pe||pe.trim()===""){t({title:"",description:"   ",variant:"destructive"});return}const ue={projectId:e,amount:F.toString(),senderName:W.trim()||" ",transferNumber:G.trim()||null,transferType:pe,transferDate:s,notes:"",wellId:oe||null};ge?Ys.mutate({id:ge,data:ue}):Ca.mutate(ue)},Jh=Dt({mutationFn:({id:ue,data:Be})=>Ve(`/api/transportation-expenses/${ue}`,"PATCH",Be),onSuccess:async(ue,{id:Be})=>{Pt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)}),Pt.invalidateQueries({queryKey:xe.previousBalance(e)}),fe&&await fr("transportDescriptions",fe),se&&await fr("notes",se),ep(),t({title:" ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),ep=()=>{le(""),te(""),de(""),Fe("worker_transport"),ke(null)},Jd=ue=>{le(ue.description),te(ue.amount),de(ue.notes||""),Fe(ue.category||"worker_transport"),ke(ue.id)},G0=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!fe||!ie){t({title:"",description:"    ",variant:"destructive"});return}const ue={projectId:e,description:fe,amount:ie,date:s||new Date().toISOString().split("T")[0],category:Ce,notes:se,wellId:C||null};me?Jh.mutate({id:me,data:ue}):di.mutate(ue)},Xx=()=>{if(!e){t({title:"",description:"   ",variant:"destructive"});return}oo.mutate({projectId:e,date:s||new Date().toISOString().split("T")[0],carriedForwardAmount:o,totalFundTransfers:(ye.totalFundTransfers||0).toString(),totalWorkerWages:(ye.totalWorkerWages||0).toString(),totalMaterialCosts:(ye.totalMaterialCosts||0).toString(),totalTransportationCosts:(ye.totalTransportation||0).toString(),totalIncome:(ye.totalIncome||0).toString(),totalExpenses:(ye.totalCashExpenses||ye.totalExpenses||0).toString(),remainingBalance:(ye.remainingBalance||ye.totalBalance||0).toString()})},Cu=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:Je(ye.totalWorkerWages),icon:zn,color:"blue"},{key:"fundTransfers",label:" ",value:Je(ye.totalFundTransfers),icon:aQ,color:"green"},{key:"materials",label:"",value:Je(ye.totalMaterialCosts),icon:_n,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:Je(ye.totalTransportation),icon:la,color:"orange"},{key:"miscExpenses",label:"",value:Je(ye.totalMiscExpenses),icon:V1,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:ye.incomingProjectTransfers,outgoing:ye.outgoingProjectTransfers},value:Je(ye.incomingProjectTransfers-ye.outgoingProjectTransfers),icon:ds,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:Je(ye.totalWorkerTransfers),icon:wy,color:"indigo"},{key:"totalExpenses",label:"",value:Je(ye.totalExpenses),icon:ka,color:"red"},{key:"remainingBalance",label:"",value:Je(ye.totalBalance),icon:rl,color:ye.totalBalance>=0?"emerald":"rose"}]}],[ye]),Tu=["","",""," ",""],hc=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Tu.map(ue=>({value:ue,label:ue}))]}],[]),ef=async()=>{S(!0);try{await Pt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)})}finally{S(!1)}},Q0=E.useCallback(async()=>{v(!0);try{const ue=[];console.log(" [Excel Export]  :",{fundTransfers:Ur.length,attendance:Mr.length,transportation:Ls.length,materials:ui.length,workerTransfers:Pi.length,miscExpenses:wr.length});const Be=Ts(o);Be!==0&&ue.push({id:"previous-balance",date:s||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(Be),description:Be>0?"  ()":"  ()",projectName:rt.find(lt=>lt.id===e)?.name||" "}),Ur.forEach(lt=>{ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:"income",category:"",amount:Ts(lt.amount),description:`  ${lt.senderName||" "}`,projectId:lt.projectId,projectName:rt.find(Yr=>Yr.id===lt.projectId)?.name||" ",transferMethod:lt.transferType,recipientName:lt.senderName})}),we.forEach(lt=>{const Yr=lt.toProjectId===e,ss=rt.find(Di=>Di.id===lt.fromProjectId),Ss=rt.find(Di=>Di.id===lt.toProjectId);ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:Yr?"transfer_from_project":"expense",category:Yr?" ":" ",amount:Ts(lt.amount),description:Yr?`  ${ss?.name||" "}`:`  ${Ss?.name||" "}`,projectId:Yr?lt.fromProjectId:lt.toProjectId,projectName:Yr?ss?.name:Ss?.name})}),Mr.forEach(lt=>{const Yr=Bt.find(Zs=>Zs.id===lt.workerId),ss=Ts(lt.paidAmount),Ss=Ts(lt.payableAmount),Di=ss===0&&Ss>0;ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:Di?"deferred":"expense",category:" ",amount:ss,description:lt.workDescription||" ",projectId:lt.projectId,projectName:rt.find(Zs=>Zs.id===lt.projectId)?.name||" ",workerName:Yr?.name||" ",workDays:Ts(lt.workDays)||void 0,dailyWage:Ts(lt.dailyWage)||void 0,payableAmount:Ss||void 0})}),Ls.forEach(lt=>{ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:Ts(lt.amount),description:lt.description||" ",projectId:lt.projectId,projectName:rt.find(Yr=>Yr.id===lt.projectId)?.name||" "})}),ui.forEach(lt=>{const Yr=Ct.find(Ss=>Ss.id===lt.materialId),ss=lt.purchaseType==="";ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:ss?"expense":"deferred",category:" ",amount:ss?Ts(lt.totalAmount):0,description:` ${Yr?.name||""}`,projectId:lt.projectId,projectName:rt.find(Ss=>Ss.id===lt.projectId)?.name||" ",materialName:Yr?.name||lt.materialName,quantity:Ts(lt.quantity)||void 0,unitPrice:Ts(lt.unitPrice)||void 0,paymentType:lt.purchaseType,supplierName:lt.supplier||lt.supplierName})}),Pi.forEach(lt=>{const Yr=Bt.find(ss=>ss.id===lt.workerId);ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:Ts(lt.amount),description:lt.notes||" ",projectId:lt.projectId,projectName:rt.find(ss=>ss.id===lt.projectId)?.name||" ",workerName:Yr?.name||" ",recipientName:Yr?.name})}),wr.forEach(lt=>{ue.push({id:lt.id,date:lt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:Ts(lt.amount),description:lt.description||" ",projectId:lt.projectId,projectName:rt.find(Yr=>Yr.id===lt.projectId)?.name||" "})});const wt={totalIncome:ye.totalIncome||0,totalExpenses:ye.totalCashExpenses||ye.totalExpenses||0,balance:ye.remainingBalance||ye.totalBalance||0},or=n?" ":rt.find(lt=>lt.id===e)?.name||"",$r=await J$(ue,wt,Je,`${or}${s?` - ${s}`:""}`);t($r?{title:"  ",description:`  ${ue.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ue){console.error("  :",ue),t({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[Ur,Mr,Ls,ui,Pi,wr,we,Bt,Ct,rt,e,s,n,t]),Yx=E.useMemo(()=>[{key:"export",icon:c0,label:" Excel",onClick:Q0,variant:"outline",loading:m,tooltip:"     Excel"}],[m,Q0]),tf={fundTransfers:Array.isArray(Wt)&&Wt.length>0,attendance:Array.isArray(vr)&&vr.length>0,transportation:Array.isArray(Wr)&&Wr.length>0,materials:Array.isArray(zr)&&zr.length>0,workerTransfers:Array.isArray(dn)&&dn.length>0,miscExpenses:Array.isArray(bn)&&bn.length>0};return Object.keys(tf).length,Object.values(tf).filter(Boolean).length,i.jsxs("div",{className:"p-4 slide-in space-y-4",children:[i.jsx(Lo,{hideHeader:!0,title:"",statsRows:Cu,searchValue:d,onSearchChange:p,searchPlaceholder:"  ...",showSearch:!0,filters:hc,filterValues:{date:s?(()=>{const[ue,Be,wt]=s.split("-").map(Number);return new Date(ue,Be-1,wt,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:ef,isRefreshing:x,actions:Yx}),!n&&!f.dateRange?.from&&s&&i.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[i.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Cr,title:" ",children:i.jsx(vd,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{className:"flex flex-col items-center flex-1",children:[i.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),i.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[i.jsx(ws,{className:"h-3.5 w-3.5 text-primary"}),Nr(new Date(s),"EEEE, d MMMM yyyy",{locale:_a})]})]}),i.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Ot,title:" ",children:i.jsx(Uy,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),Ge?.groupedByProjectDate&&Ge.groupedByProjectDate.length>0?i.jsx("div",{className:"space-y-4",children:Ge.groupedByProjectDate.map((ue,Be)=>i.jsx(xn,{title:ue.projectName,subtitle:`  ${qo(ue.date)}`,titleIcon:V2,headerColor:"#3b82f6",badges:[{label:qo(ue.date),variant:"default"},{label:ue.remainingBalance>=0?" ":"",variant:ue.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(ue.totalIncome||0),icon:Dn,color:"success",emphasis:!0},{label:" ",value:Je(ue.totalExpenses||0),icon:ka,color:"danger",emphasis:!0},{label:" ",value:Je(ue.totalWorkerWages||0),icon:zn,color:"info"},{label:"",value:Je(ue.totalTransportation||0),icon:la,color:"warning"},{label:"",value:Je(ue.totalMaterialCosts||0),icon:_n,color:"info"},{label:"",value:Je(ue.totalMiscExpenses||0),icon:V1,color:"muted"},{label:" ",value:Je(ue.totalWorkerTransfers||0),icon:wy,color:"warning"},{label:"",value:Je(ue.remainingBalance||0),icon:rl,color:(ue.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${ue.projectId}-${ue.date}-${Be}`))}):e&&s&&i.jsx(xn,{title:rt?.find(ue=>ue.id===e)?.name||"",subtitle:`  ${qo(s)}`,titleIcon:V2,headerColor:"#3b82f6",badges:[{label:qo(s),variant:"default"},{label:kt.remainingBalance>=0?" ":"",variant:kt.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(kt.totalIncome),icon:Dn,color:"success",emphasis:!0},{label:" ",value:Je(kt.totalExpenses),icon:ka,color:"danger",emphasis:!0},{label:" ",value:Je(kt.totalWorkerWages),icon:zn,color:"info"},{label:"",value:Je(kt.totalTransportation),icon:la,color:"warning"},{label:"",value:Je(kt.totalMaterialCosts),icon:_n,color:"info"},{label:"",value:Je(kt.totalMiscExpenses),icon:V1,color:"muted"},{label:" ",value:Je(kt.totalWorkerTransfers),icon:wy,color:"warning"},{label:"",value:Je(kt.remainingBalance),icon:rl,color:kt.remainingBalance>=0?"success":"danger",emphasis:!0}]}),i.jsx(Wi,{open:B,onOpenChange:q,children:i.jsxs(lr,{className:"mb-4",children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gs,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:B?" ":" "}),B?i.jsx(No,{className:"h-5 w-5 text-muted-foreground"}):i.jsx(Bn,{className:"h-5 w-5 text-muted-foreground"})]})]})}),i.jsx(qi,{children:i.jsxs(br,{className:"p-4 pt-0",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsx("div",{children:i.jsx(cl,{label:"",value:s||"",onChange:ue=>a(ue?Nr(ue,"yyyy-MM-dd"):null)})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground",children:"  "}),i.jsx(yt,{type:"number",inputMode:"decimal",value:o,onChange:ue=>c(ue.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",autoWidth:!0,maxWidth:200})]})]}),i.jsx("div",{className:"border-t pt-3",children:i.jsxs(Wi,{open:R,onOpenChange:I,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsx("h4",{className:"font-medium text-foreground",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1",children:[fs.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:fs.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[ut&&i.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",ut.message]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),i.jsx(yt,{type:"number",inputMode:"decimal",value:F,onChange:ue=>Z(ue.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),i.jsx(Ms,{value:W,onChange:V,category:"senderNames",placeholder:" "})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),i.jsx(Ms,{type:"number",inputMode:"numeric",value:G,onChange:ae,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),i.jsx(Ms,{value:pe,onChange:ce,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{onClick:Nu,size:"sm",className:"flex-1 bg-primary",disabled:Ca.isPending||Ys.isPending,"data-testid":"button-add-fund-transfer",children:Ca.isPending||Ys.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ge?i.jsxs(i.Fragment,{children:[i.jsx(Uc,{className:"h-4 w-4 ml-2"}),"  "]}):i.jsxs(i.Fragment,{children:[i.jsx(gs,{className:"h-4 w-4 ml-2"}),"  "]})}),ge&&i.jsx(Re,{onClick:H0,size:"sm",variant:"outline",children:""})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t",children:[i.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),Mt?i.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):fs.length>0?i.jsxs("div",{className:"space-y-2",children:[fs.map((ue,Be)=>i.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:i.jsxs("div",{className:"flex justify-between items-start gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.senderName||" "}),i.jsx(Nt,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:ue.transferType})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[ue.transferNumber&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"opacity-70",children:" :"}),i.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),n&&ue.projectName&&i.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:ue.projectName})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:Je(ue.amount)}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>K0(ue),"data-testid":"button-edit-fund-transfer",children:i.jsx(Ol,{className:"h-3.5 w-3.5"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>fi.mutate(ue.id),disabled:fi.isPending,"data-testid":"button-delete-fund-transfer",children:fi.isPending?i.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):i.jsx(us,{className:"h-3.5 w-3.5"})})]})]})]})},ue.id||Be)),i.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je(kt.totalFundTransfers)})]})]}):i.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[i.jsx(Sr,{className:"mx-auto h-8 w-8 text-gray-400"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["     ",s]})]})]})]})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:$,onOpenChange:K,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(lQ,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[kn.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:kn.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),i.jsx(Ms,{value:fe,onChange:le,category:"transportDescriptions",placeholder:""})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),i.jsxs(Yn,{value:Ce,onValueChange:Fe,children:[i.jsx(Vn,{className:"arabic-numbers",children:i.jsx(Zn,{placeholder:" "})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"worker_transport",children:" "}),i.jsx($t,{value:"material_delivery",children:" "}),i.jsx($t,{value:"concrete_transport",children:" "}),i.jsx($t,{value:"iron_platforms",children:"  "}),i.jsx($t,{value:"fuel_shas",children:" "}),i.jsx($t,{value:"fuel_hilux",children:" "}),i.jsx($t,{value:"loading_unloading",children:" "}),i.jsx($t,{value:"maintenance",children:" "}),i.jsx($t,{value:"water_supply",children:" "}),i.jsx($t,{value:"other",children:""})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),i.jsx(yt,{type:"number",inputMode:"decimal",value:ie,onChange:ue=>te(ue.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx(Ye,{className:"block text-sm font-medium text-foreground mb-1",children:""}),i.jsx(Ms,{value:se,onChange:de,category:"notes",placeholder:"",className:"flex-1"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:e&&!n&&i.jsx("div",{className:"flex flex-col",children:i.jsx(Om,{projectId:e,value:C,onChange:A,optional:!0})})}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Re,{onClick:G0,size:"sm",className:"w-full bg-secondary",disabled:di.isPending||Jh.isPending,"data-testid":"button-add-transportation",children:di.isPending||Jh.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):me?i.jsxs(i.Fragment,{children:[i.jsx(Uc,{className:"h-4 w-4 ml-2"}),"  "]}):i.jsxs(i.Fragment,{children:[i.jsx(gs,{className:"h-4 w-4 ml-2"}),"  "]})}),me&&i.jsx(Re,{onClick:ep,size:"sm",variant:"outline",children:""})]})]}),kn.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[kn.map((ue,Be)=>i.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.description}),i.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-base",children:Je(ue.amount)})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Nt,{variant:"outline",className:"text-[10px] bg-orange-100/50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(wt=>wt.value===ue.category)?.label||""}),ue.notes&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.notes]})]}),ue.wellName&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.wellName]}),n&&ue.projectName&&i.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>Jd(ue),"data-testid":"button-edit-transportation",children:i.jsx(Ol,{className:"h-4 w-4"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Ta.mutate(ue.id),disabled:Ta.isPending,"data-testid":"button-delete-transportation",children:Ta.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):i.jsx(us,{className:"h-4 w-4"})})]})]})},Be)),i.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-100 dark:bg-orange-900/40 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:[i.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:" : "}),i.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-lg",children:Je(kt.totalTransportation)})]})]})]})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:U,onOpenChange:P,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(zn,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[fn.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:fn.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[i.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[i.jsxs("div",{className:"col-span-6",children:[i.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),i.jsxs(Yn,{value:Ie||"none",onValueChange:ue=>Ue(ue==="none"?"":ue),children:[i.jsx(Vn,{className:"h-9 text-xs","data-testid":"select-worker",children:i.jsx(Zn,{placeholder:" "})}),i.jsxs(Wn,{className:"p-0 overflow-hidden",children:[i.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:i.jsx(yt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:ue=>p(ue.target.value),value:d,onClick:ue=>{ue.preventDefault(),ue.stopPropagation()},onKeyDown:ue=>{ue.key===" "&&ue.stopPropagation()}})}),i.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[i.jsx($t,{value:"none",className:"text-xs",children:" "}),We&&We.length>0?We.filter(ue=>!d||ue.name&&ue.name.toLowerCase().includes(d.toLowerCase())).map(ue=>i.jsx($t,{value:ue.id?.toString()||"none",className:"text-xs",children:ue.name},`worker-select-${ue.id}`)):i.jsx($t,{value:"none",disabled:!0,className:"text-xs",children:"    ( )"})]})]})]})]}),i.jsxs("div",{className:"col-span-3",children:[i.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),i.jsx(yt,{type:"number",value:tt,onChange:ue=>gt(ue.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),i.jsxs("div",{className:"col-span-3",children:[i.jsx(Ye,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),i.jsx(yt,{type:"number",value:Ze,onChange:ue=>it(ue.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),i.jsx(yt,{type:"text",value:ve,onChange:ue=>be(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),e&&!n&&i.jsx("div",{className:"mb-3",children:i.jsx(Om,{projectId:e,value:C,onChange:A,optional:!0})}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Re,{onClick:Kt,className:"bg-primary h-9 flex-1",disabled:ht.isPending,"data-testid":"button-add-worker-attendance",children:ht.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(gs,{className:"h-4 w-4 ml-1"}),"  "]})})}),He&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),i.jsx(yt,{type:"number",value:ot,onChange:ue=>Xt(ue.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),i.jsxs("div",{children:[i.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),i.jsx(yt,{type:"number",value:vt,onChange:ue=>Yt(ue.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx(Ye,{className:"text-xs font-bold text-foreground mb-1",children:""}),i.jsx(yt,{type:"text",value:rr,onChange:ue=>At(ue.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{onClick:()=>{Jt.mutate({id:He,workDays:ot,paidAmount:vt,notes:rr})},className:"bg-primary h-9 flex-1",disabled:Jt.isPending,"data-testid":"button-save-edit-worker-attendance",children:Jt.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(Uc,{className:"h-4 w-4 ml-1"})," "]})}),i.jsx(Re,{onClick:()=>{Xe(null),Xt(""),Yt(""),At("")},variant:"outline",className:"h-9",children:""})]})]}),fn.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),i.jsxs("div",{className:"space-y-2",children:[fn.map((ue,Be)=>{const wt=Bt.find(Yr=>Yr.id===ue.workerId),or=Ts(ue.payableAmount),$r=Ts(ue.paidAmount),lt=or-$r;return i.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ue.workerName||wt?.name||` ${Be+1}`}),wt?.type&&i.jsx(Nt,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${wt.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":wt.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":wt.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":wt.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":wt.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":wt.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":wt.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":wt.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:wt.type})]}),i.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je($r)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:": "}),i.jsx("span",{className:"font-medium text-foreground",children:Ts(ue.workDays)||0})]}),i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:" : "}),i.jsx("span",{className:"font-medium text-foreground",children:Je(Ts(ue.dailyWage||wt?.dailyWage))})]})]}),lt>0&&i.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",Je(lt)]}),ue.workDescription&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.workDescription]}),i.jsx("div",{className:"flex flex-col gap-1",children:ue.notes&&i.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[i.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),ue.notes]})}),n&&ue.projectName&&i.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{Xe(ue.id),Xt(Ts(ue.workDays).toString()),Yt(Ts(ue.paidAmount).toString()),At(ue.notes||"")},children:i.jsx(Ol,{className:"h-4 w-4"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Ri.mutate(ue.id),disabled:Ri.isPending,"data-testid":"button-delete-worker-attendance",children:Ri.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):i.jsx(us,{className:"h-4 w-4"})})]})]})},Be)}),i.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),i.jsx("span",{className:"font-bold text-primary arabic-numbers",children:Je(kt.totalWorkerWages)})]})]})]})]})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:L,onOpenChange:T,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(_n,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[Jn.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:Jn.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[i.jsxs(Re,{variant:"outline",onClick:()=>r("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[i.jsx(gs,{className:"ml-2 h-4 w-4"}),"   "]}),Jn.length>0&&i.jsxs("div",{className:"space-y-2",children:[Jn.map((ue,Be)=>{const wt=ue.materialName||ue.material?.name||"  ",or=ue.materialUnit||ue.unit||ue.material?.unit||"",$r=ue.purchaseType||"",lt=$r==="",Yr=$r===""||$r===""||$r==="";let ss="border-orange-200 dark:border-orange-900/30",Ss="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",Di="text-orange-600";return lt?(ss="border-green-200 dark:border-green-900/30",Ss="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",Di="text-green-600"):Yr&&(ss="border-blue-200 dark:border-blue-900/30",Ss="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",Di="text-blue-600"),i.jsx("div",{className:`p-3 border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${Ss.split(" ")[0]} bg-opacity-5 ${ss}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm",children:wt}),i.jsx("span",{className:`font-bold arabic-numbers text-base ${Di}`,children:Je(ue.totalAmount)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:": "}),i.jsxs("span",{className:"font-medium text-foreground",children:[ue.quantity," ",or]})]}),i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:": "}),i.jsx("span",{className:"font-medium text-foreground",children:Je(ue.unitPrice)})]})]}),ue.supplierName&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",ue.supplierName]}),i.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Ss}`,children:$r}),n&&ue.projectName&&i.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>r(`/material-purchase?edit=${ue.id}`),children:i.jsx(Ol,{className:"h-4 w-4"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Bo.mutate(ue.id),disabled:Bo.isPending,children:Bo.isPending?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):i.jsx(us,{className:"h-4 w-4"})})]})]})},Be)}),i.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-bold text-success arabic-numbers",children:Je(kt.totalMaterialCosts)})]}),(()=>{const ue=Array.isArray(zr)?zr.filter(Be=>Be.purchaseType==="").reduce((Be,wt)=>Be+parseFloat(wt.totalAmount||"0"),0):0;return ue>0?i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:Je(ue)})]}):null})()]})]})]})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:_,onOpenChange:k,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(Sr,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[Fs.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:Fs.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[i.jsxs(Re,{variant:"outline",onClick:()=>r("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[i.jsx(gs,{className:"ml-2 h-4 w-4"}),"   "]}),Fs.length>0&&i.jsxs("div",{className:"space-y-2",children:[Fs.map((ue,Be)=>{const wt=Bt.find($r=>$r.id===ue.workerId),or=ue.transferMethod==="hawaleh"?"":ue.transferMethod==="bank"?" ":"";return i.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-foreground text-sm",children:wt?.name||"  "}),i.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:Je(ue.amount)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:": "}),i.jsx("span",{className:"font-medium text-foreground",children:ue.recipientName})]}),i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("span",{children:": "}),i.jsx("span",{className:"font-medium text-foreground",children:or})]})]}),ue.transferNumber&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("span",{className:"opacity-70",children:" : "}),i.jsx("span",{className:"font-medium text-foreground",children:ue.transferNumber})]}),n&&ue.projectName&&i.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",ue.projectName]})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>r(`/worker-accounts?edit=${ue.id}&worker=${ue.workerId}`),children:i.jsx(Ol,{className:"h-4 w-4"})}),i.jsx(Re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&pi.mutate(ue.id)},disabled:pi.isPending,children:i.jsx(us,{className:"h-4 w-4"})})]})]})},Be)}),i.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-bold text-warning arabic-numbers",children:Je(ye.totalWorkerTransfers)})]})]})]})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:j,onOpenChange:N,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(Gc,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[we.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:we.length}),i.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]})]})}),i.jsxs(qi,{className:"pt-2",children:[i.jsxs(Re,{variant:"outline",onClick:()=>r("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[i.jsx(gs,{className:"ml-2 h-4 w-4"}),"  "]}),we.length>0&&i.jsx("div",{className:"space-y-3",children:we.map(ue=>i.jsx("div",{className:`p-3 rounded border-r-4 ${ue.toProjectId===e?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:ue.toProjectId===e?i.jsxs("span",{className:"text-green-700",children:["  : ",ue.fromProjectName]}):i.jsxs("span",{className:"text-red-700",children:["  : ",ue.toProjectName]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`font-bold arabic-numbers ${ue.toProjectId===e?"text-green-600":"text-red-600"}`,children:[ue.toProjectId===e?"+":"-",Je(ue.amount)]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Re,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Ea(ue),children:i.jsx(Ol,{className:"h-3.5 w-3.5"})}),i.jsx(Re,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&Mi.mutate(ue.id)},disabled:Mi.isPending,children:i.jsx(us,{className:"h-3.5 w-3.5"})})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.jsxs("div",{children:[": ",ue.transferReason||" "]}),ue.description&&i.jsxs("div",{className:"mt-1",children:[": ",ue.description]}),i.jsxs("div",{className:"mt-1",children:[": ",qo(ue.transferDate)]})]})]})})},ue.id))})]})]})}),e&&i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:z,onOpenChange:Q,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(_n,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[Y.length>0&&i.jsx(Nt,{variant:"outline",className:"h-5 text-[10px]",children:Y.length}),i.jsx(Bn,{className:`h-4 w-4 text-muted-foreground transition-transform ${z?"rotate-180":""}`})]})]})}),i.jsx(qi,{className:"pt-2",children:i.jsx(Jge,{projectId:e,selectedDate:s||new Date().toISOString().split("T")[0]})})]})}),i.jsx("div",{className:"border-t pt-3 mt-3",children:i.jsxs(Wi,{open:D,onOpenChange:O,children:[i.jsx(Ui,{asChild:!0,children:i.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[i.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[i.jsx(Zo,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),i.jsx(Bn,{className:`h-4 w-4 text-muted-foreground transition-transform ${D?"rotate-180":""}`})]})}),i.jsx(qi,{className:"pt-2",children:i.jsx(Zge,{totalIncome:ye.totalIncome,totalExpenses:ye.totalCashExpenses,remainingBalance:Qe,details:{workerWages:ye.totalWorkerWages,materialCosts:ye.totalMaterialCosts,transportation:ye.totalTransportation,miscExpenses:ye.totalMiscExpenses,workerTransfers:ye.totalWorkerTransfers,outgoingProjectTransfers:ye.outgoingProjectTransfers}})})]})}),i.jsx("div",{className:"mt-4",children:i.jsxs(Re,{onClick:Xx,disabled:oo.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[i.jsx(Uc,{className:"ml-2 h-4 w-4"}),oo.isPending?" ...":" "]})})]})})]})})]})}function tye(){return i.jsx(U_,{children:i.jsx(eye,{})})}const rye=[" "," ","","","","",""," "],N8={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function nye(){const{selectedProjectId:t}=Io(),{toast:r}=pn(),e=_s(),{setFloatingAction:n}=Fo(),[s,a]=E.useState(rye),{searchValue:o,filterValues:c,onSearchChange:u,onFilterChange:l,onReset:d}=B0({region:"all",status:"all"}),[p,f]=E.useState(!1),[h,g]=E.useState({}),[y,m]=E.useState(!1),[v,x]=E.useState(null),[S,C]=E.useState(!1),[A,B]=E.useState(""),[q,R]=E.useState(!1),[I,$]=E.useState(""),{data:K=[]}=xt({queryKey:xe.autocompleteOwnerNames(t),queryFn:async()=>{const F=await Ve("/api/autocomplete?category=ownerNames");return Array.isArray(F.data)?F.data:[]},enabled:!!t}),{data:U=[]}=xt({queryKey:xe.autocompleteFanTypes(t),queryFn:async()=>{const F=await Ve("/api/autocomplete?category=fanTypes");return Array.isArray(F.data)?F.data:[]},enabled:!!t}),{data:P=[]}=xt({queryKey:xe.autocompletePumpPowers(t),queryFn:async()=>{const F=await Ve("/api/autocomplete?category=pumpPowers");return Array.isArray(F.data)?F.data:[]},enabled:!!t});E.useEffect(()=>(n(()=>{f(!0)},"+  "),()=>{n(null)}),[n]);const{data:L=[],isLoading:T,isFetching:_}=xt({queryKey:xe.wellsByProject(t),queryFn:async()=>t?(await Ve(`/api/wells?projectId=${t}`)).data||[]:[],enabled:!!t,staleTime:300*1e3,retry:1}),k=Dt({mutationFn:async F=>Ve("/api/autocomplete","POST",{category:"fanTypes",value:F}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:xe.autocompleteFanTypesPrefix}),C(!1),B("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),j=Dt({mutationFn:async F=>Ve("/api/autocomplete","POST",{category:"pumpPowers",value:F}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:xe.autocompletePumpPowersPrefix}),R(!1),$("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),N=Dt({mutationFn:async F=>Ve("/api/autocomplete","POST",{category:"ownerNames",value:F}),onSuccess:()=>{e.invalidateQueries({queryKey:xe.autocompleteOwnerNamesPrefix})},onError:F=>{console.error("    :",F)}}),D=F=>{g({...h,ownerName:F}),F.trim()&&!K.includes(F)&&N.mutate(F)},O=Dt({mutationFn:async F=>{if(!t||t==="all")throw new Error("    ");return Ve("/api/wells","POST",{...F,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells}),f(!1),g({})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),z=Dt({mutationFn:async F=>{if(!v?.id)throw new Error("   ");return Ve(`/api/wells/${v.id}`,"PUT",{...F,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells}),m(!1),x(null)},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),Q=Dt({mutationFn:async F=>Ve(`/api/wells/${F}`,"DELETE"),onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),Y=E.useMemo(()=>L.filter(F=>{const Z=F.ownerName.toLowerCase().includes(o.toLowerCase())||F.wellNumber.toString().includes(o),W=c.region==="all"||F.region===c.region,V=c.status==="all"||F.status===c.status;return Z&&W&&V}),[L,o,c]),re=E.useMemo(()=>({total:L.length,completed:L.filter(F=>F.status==="completed").length,inProgress:L.filter(F=>F.status==="in_progress").length,pending:L.filter(F=>F.status==="pending").length,avgCompletion:L.length>0?Math.round(L.reduce((F,Z)=>F+(Z.completionPercentage||0),0)/L.length):0}),[L]);return!t||t==="all"?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("p",{className:"text-gray-500",children:"      "})}):T?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(LN,{className:"w-8 h-8 animate-spin text-blue-500"})}):i.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[i.jsx(Md,{title:" ",hideHeader:!1,stats:[{title:" ",value:re.total,icon:Zo,color:"blue",status:re.total===0?"normal":void 0},{title:"",value:re.completed,icon:Jo,color:"green",status:re.completed>re.inProgress?"normal":"warning"},{title:" ",value:re.inProgress,icon:LN,color:"amber",status:re.inProgress>0?"normal":void 0},{title:"  ",value:re.pending,icon:Jo,color:"gray",status:re.pending>re.completed?"warning":void 0},{title:" ",value:`${re.avgCompletion}%`,icon:Zo,color:"indigo"}],columns:3,showStatus:!0}),i.jsx(Vx,{searchValue:o,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...s.map(F=>({value:F,label:F}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:c,onFilterChange:l,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),i.jsx(Us,{open:p,onOpenChange:f,children:i.jsxs(Ds,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx(qs,{className:"pb-2",children:i.jsx(ca,{children:"  "})}),i.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:h.wellNumber||"",onChange:F=>g({...h,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base",autoWidth:!0,maxWidth:200})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(os,{value:h.ownerName||"",onValueChange:D,options:K.map(F=>({value:F,label:F})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:F=>N.mutate(F)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:" *"}),i.jsx(os,{value:h.region||"",onValueChange:F=>g({...h,region:F}),options:s.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  () *"}),i.jsx(yt,{type:"number",value:h.wellDepth||"",onChange:F=>g({...h,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:h.numberOfPanels||"",onChange:F=>g({...h,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:h.numberOfBases||"",onChange:F=>g({...h,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:h.numberOfPipes||"",onChange:F=>g({...h,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  ()"}),i.jsx(yt,{type:"number",value:h.waterLevel||"",onChange:F=>g({...h,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Ye,{className:"text-sm font-semibold flex-1",children:" "}),i.jsx(Re,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>C(!0),children:"+ "})]}),i.jsx(os,{value:h.fanType||"",onValueChange:F=>g({...h,fanType:F}),options:U.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Ye,{className:"text-sm font-semibold flex-1",children:" "}),i.jsx(Re,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>R(!0),children:"+ "})]}),i.jsx(os,{value:h.pumpPower?String(h.pumpPower):"",onValueChange:F=>g({...h,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1 md:col-span-2",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:""}),i.jsx(os,{value:h.status||"",onValueChange:F=>g({...h,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1 md:col-span-2",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:""}),i.jsx(yt,{value:h.notes||"",onChange:F=>g({...h,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[i.jsx(Re,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),i.jsx(Re,{onClick:()=>{if(!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}O.mutate(h)},size:"sm",disabled:O.isPending||!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases,children:O.isPending?"...":""})]})]})}),i.jsx(Us,{open:S,onOpenChange:C,children:i.jsxs(Ds,{children:[i.jsx(qs,{children:i.jsx(ca,{children:"   "})}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Ye,{children:"  "}),i.jsx(yt,{placeholder:":  ",value:A,onChange:F=>B(F.target.value),onKeyDown:F=>F.key==="Enter"&&k.mutate(A)})]})}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(Re,{variant:"outline",onClick:()=>C(!1),size:"sm",children:""}),i.jsx(Re,{onClick:()=>k.mutate(A),size:"sm",children:k.isPending?"...":""})]})]})}),i.jsx(Us,{open:q,onOpenChange:R,children:i.jsxs(Ds,{children:[i.jsx(qs,{children:i.jsx(ca,{children:"   "})}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Ye,{children:" "}),i.jsx(yt,{placeholder:": 1.5  2.0",value:I,onChange:F=>$(F.target.value),onKeyDown:F=>F.key==="Enter"&&j.mutate(I)})]})}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(Re,{variant:"outline",onClick:()=>R(!1),size:"sm",children:""}),i.jsx(Re,{onClick:()=>j.mutate(I),size:"sm",children:j.isPending?"...":""})]})]})}),i.jsx(Us,{open:y,onOpenChange:m,children:i.jsxs(Ds,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx(qs,{className:"pb-2",children:i.jsx(ca,{children:"  "})}),i.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:v?.wellNumber||"",onChange:F=>x({...v,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(os,{value:v?.ownerName||"",onValueChange:F=>x({...v,ownerName:F}),options:K.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:" *"}),i.jsx(os,{value:v?.region||"",onValueChange:F=>x({...v,region:F}),options:s.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  () *"}),i.jsx(yt,{type:"number",value:v?.wellDepth||"",onChange:F=>x({...v,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:v?.numberOfPanels||"",onChange:F=>x({...v,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:v?.numberOfBases||"",onChange:F=>x({...v,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  *"}),i.jsx(yt,{type:"number",value:v?.numberOfPipes||"",onChange:F=>x({...v,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  ()"}),i.jsx(yt,{type:"number",value:v?.waterLevel||"",onChange:F=>x({...v,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:" "}),i.jsx(os,{value:v?.fanType||"",onValueChange:F=>x({...v,fanType:F}),options:U.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:" "}),i.jsx(os,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:F=>x({...v,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:""}),i.jsx(os,{value:v?.status||"",onValueChange:F=>x({...v,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:"  (%)"}),i.jsx(yt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:F=>x({...v,completionPercentage:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),i.jsxs("div",{className:"space-y-1 md:col-span-2",children:[i.jsx(Ye,{className:"text-sm font-semibold",children:""}),i.jsx(yt,{value:v?.notes||"",onChange:F=>x({...v,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),i.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[i.jsx(Re,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),i.jsx(Re,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}z.mutate(v||{})},size:"sm",disabled:z.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:z.isPending?"...":""})]})]})}),i.jsx(Hs,{columns:2,children:Y.map(F=>i.jsx(xn,{title:` #${F.wellNumber} - ${F.ownerName}`,subtitle:F.region,titleIcon:Jo,badges:[{label:N8[F.status]?.label,variant:N8[F.status]?.badgeVariant}],fields:[{label:"",value:F.region,icon:Jo,color:"info"},{label:"",value:F.numberOfPanels,icon:Zo,color:"success"},{label:"",value:F.numberOfPipes,icon:Si,color:"success"},{label:"",value:`${F.wellDepth}`,icon:Dn,color:"warning"},{label:"",value:F.numberOfBases,icon:Zo,color:"info"},{label:" ",value:F.waterLevel?`${F.waterLevel}`:"-",icon:Dn,color:"info"},{label:"",value:`${F.completionPercentage}%`,emphasis:!0,color:"info",icon:Dn},...F.fanType?[{label:" ",value:F.fanType,icon:Si,color:"info"}]:[],...F.pumpPower?[{label:" ",value:`${F.pumpPower}`,icon:Si,color:"warning"}]:[],...F.notes?[{label:"",value:F.notes,color:"muted"}]:[]],actions:[{icon:lu,label:"",onClick:()=>{x(F),m(!0)},color:"blue"},{icon:us,label:"",onClick:()=>{confirm("      ")&&Q.mutate(F.id)},color:"red"}]},F.id))}),Y.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"  "})})]})}function sye(){Os(),pn();const[t,r]=E.useState(null),{selectedProjectId:e}=Io(),{data:n=[]}=xt({queryKey:xe.wellsByProject(e),queryFn:async()=>e?(await Ve(`/wells?projectId=${e}`)).data||[]:[],enabled:!!e}),{data:s}=xt({queryKey:xe.projectCosts(e),queryFn:async()=>e?(await Ve(`/well-expenses/project-costs/${e}`)).data:null,enabled:!!e}),{data:a}=xt({queryKey:xe.wellCostReport(t),queryFn:async()=>t?(await Ve(`/well-expenses/cost-report/${t}`)).data:null,enabled:!!t}),o=(c,u)=>u>0?(c/u*100).toFixed(1):"0";return i.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[s&&i.jsxs(Hs,{columns:2,children:[i.jsx(xn,{title:" ",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Je(s.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),i.jsx(xn,{title:" ",subtitle:" ",titleIcon:Dn,fields:[{label:"",value:Je(s.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),i.jsx(xn,{title:"",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Je(s.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),i.jsx(xn,{title:"",subtitle:" ",titleIcon:Sr,fields:[{label:"",value:Je(s.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),i.jsx(Hs,{columns:3,children:n.map(c=>i.jsx(xn,{title:` #${c.wellNumber}`,subtitle:c.ownerName,titleIcon:RN,fields:[{label:"",value:c.region},{label:"",value:`${c.completionPercentage}%`,emphasis:!0}],onClick:()=>r(c.id),className:t===c.id?"ring-2 ring-primary":"",badges:[{label:c.status==="completed"?"":c.status==="in_progress"?" ":" ",variant:c.status==="completed"?"success":c.status==="in_progress"?"warning":"outline"}],compact:!0},c.id))})]}),t&&a&&i.jsx(Hs,{columns:1,children:i.jsx(xn,{title:`  -  #${n.find(c=>c.id===t)?.wellNumber}`,titleIcon:Dn,badges:[{label:Je(a.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:Je(a.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${o(a.laborCost||0,a.totalCost||1)}%`,color:"info"},{label:"",value:Je(a.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${o(a.materialCost||0,a.totalCost||1)}%`,color:"warning"},{label:"",value:Je(a.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${o(a.transportCost||0,a.totalCost||1)}%`,color:"danger"}]})}),!t&&n.length>0&&i.jsx(xn,{title:" ",subtitle:"    ",titleIcon:RN,fields:[{label:"",value:"  "}]}),n.length===0&&i.jsx(xn,{title:"  ",subtitle:"    ",titleIcon:Sr,fields:[{label:"",value:"   "}]})]})}function aye(){const[t,r]=E.useState([]);E.useEffect(()=>(r(sm.getEvents()),sm.subscribe(s=>{r(a=>[s,...a].slice(0,50))})),[]);const e=s=>{switch(s){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},n=s=>{switch(s){case"error":return i.jsx(ua,{className:"w-4 h-4"});case"sync":return i.jsx(Va,{className:"w-4 h-4"});case"performance":return i.jsx(hh,{className:"w-4 h-4"});default:return i.jsx(hh,{className:"w-4 h-4"})}};return i.jsxs(lr,{className:"h-full flex flex-col",children:[i.jsxs(cs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(ys,{className:"text-sm font-bold flex items-center gap-2",children:[i.jsx(Va,{className:"w-4 h-4 text-primary"}),"  "]}),i.jsx(Nt,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),i.jsx(br,{className:"flex-1 overflow-hidden p-0",children:i.jsx(Oo,{className:"h-[400px] px-4",children:i.jsx("div",{className:"space-y-3 py-4",children:t.length===0?i.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):t.map(s=>i.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${e(s.severity)}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[n(s.type),s.message]}),i.jsx("span",{className:"text-[10px] opacity-70",children:new Date(s.timestamp).toLocaleTimeString("ar-SA")})]}),s.actionTaken&&i.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[i.jsx(wn,{className:"w-3 h-3"}),": ",s.actionTaken]})]},s.id))})})})]})}const iye=[" "," ","","","","",""," "],oye=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function lye(){Os();const{toast:t}=pn(),r=_s(),{selectedProjectId:e}=Io(),[n,s]=E.useState(null),[a,o]=E.useState(!1),[c,u]=E.useState({description:"",amount:"",status:"pending"}),[l]=E.useState(iye),{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=B0({status:"all",region:"all"}),{data:y=[]}=xt({queryKey:xe.wellsByProject(e),queryFn:async()=>{if(!e)return[];try{const $=await y2("wells");if($&&$.length>0)return $.filter(K=>K.projectId===e)}catch($){console.warn("Local wells fetch failed",$)}return(await Ve(`/wells?projectId=${e}`)).data||[]},enabled:!!e}),{data:m=[]}=xt({queryKey:xe.autocompleteTaskDescriptions(e),queryFn:async()=>{const I=await Ve("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray(I.data)?I.data:[]},enabled:!!e,staleTime:300*1e3}),{data:v=[]}=xt({queryKey:xe.wellTasks(n),queryFn:async()=>{if(!n)return[];try{const $=await y2("wellTasks");if($&&$.length>0)return $.filter(K=>K.wellId===n)}catch($){console.warn("Local tasks fetch failed",$)}return(await Ve(`/api/wells/${n}/tasks`)).data||[]},enabled:!!n}),x=Dt({mutationFn:async I=>{if(!n)throw new Error("  ");return py("wellTasks","create",{...I,wellId:n,projectId:e,paidAmount:0,expectedAmount:parseFloat(I.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${n}/tasks`)},onSuccess:()=>{t({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),o(!1),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),S=Dt({mutationFn:async({taskId:I,status:$})=>py("wellTasks","update",{id:I,status:$},`/api/wells/tasks/${I}/status`),onSuccess:()=>{t({title:"",description:"    ()"}),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}});Dt({mutationFn:async({taskId:I,amount:$})=>py("wellTaskAccounts","create",{taskId:I,amount:parseFloat($)||0,projectId:e,createdAt:new Date().toISOString()},`/wells/tasks/${I}/account`),onSuccess:()=>{t({title:"",description:"   ()"}),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}});const{summary:C,isLoading:A}=Kh(),B=E.useMemo(()=>v.filter(I=>I.status==="pending"),[v]),q=E.useMemo(()=>v.filter(I=>I.status==="completed"),[v]),R=E.useMemo(()=>y.filter(I=>{const $=I.ownerName.toLowerCase().includes(d.toLowerCase())||I.wellNumber.toString().includes(d),K=p.status==="all"||I.status===p.status,U=p.region==="all"||I.region===p.region;return $&&K&&U}),[y,d,p]);return i.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[i.jsx("div",{children:i.jsx(Vx,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...l.map(I=>({value:I,label:I}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:oye,defaultValue:"all"}],filterValues:p,onFilterChange:h,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",R.length,")"]}),i.jsx(Hs,{columns:n?2:4,children:R.map(I=>i.jsx(xn,{title:` #${I.wellNumber}`,subtitle:I.ownerName,titleIcon:Jo,badges:[{label:I.status==="pending"?" ":I.status==="in_progress"?" ":"",variant:I.status==="completed"?"success":I.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:I.region,icon:Jo,color:"info"},{label:"",value:I.numberOfPanels,icon:Si,color:"success"},{label:"",value:I.numberOfPipes,icon:Si,color:"success"},{label:"",value:`${I.wellDepth}`,icon:Dn,color:"warning"},{label:"",value:`${I.completionPercentage}%`,emphasis:!0,color:"info",icon:Dn}],onClick:()=>s(I.id),className:n===I.id?"ring-2 ring-primary":"",compact:!0},I.id))})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx(Md,{title:" ",hideHeader:!1,stats:[{title:" ",value:Je(C?.totalBalance||0),icon:Sr,color:"blue"},{title:" ",value:v.length,icon:$n,color:"blue"},{title:" ",value:B.length,icon:$n,color:"amber",status:B.length>0?"warning":void 0},{title:" ",value:q.length,icon:wn,color:"green"}],columns:3,showStatus:!0}),i.jsxs(Hs,{columns:4,children:[i.jsx(xn,{title:" ",titleIcon:$n,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),i.jsx(xn,{title:" ",titleIcon:$n,fields:[{label:"",value:B.length,emphasis:!0,color:"warning"}],compact:!0}),i.jsx(xn,{title:" ",titleIcon:wn,fields:[{label:"",value:q.length,emphasis:!0,color:"success"}],compact:!0}),i.jsxs(Us,{open:a,onOpenChange:o,children:[i.jsx(kh,{asChild:!0,children:i.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:i.jsxs(Re,{className:"w-full h-20",variant:"outline",children:[i.jsx(gs,{className:"h-5 w-5 ml-2"})," "]})})}),i.jsxs(Ds,{className:"max-w-md",children:[i.jsx(qs,{children:i.jsx(ca,{children:"  "})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ye,{children:" "}),i.jsx(yt,{value:c.description,onChange:I=>u({...c,description:I.target.value}),placeholder:":  ",autoWidth:!0,maxWidth:400,className:"min-h-11"})]}),i.jsxs("div",{children:[i.jsx(Ye,{children:" "}),i.jsx(yt,{type:"number",value:c.amount,onChange:I=>u({...c,amount:I.target.value}),placeholder:"0",autoWidth:!0,maxWidth:150,className:"min-h-11"})]}),i.jsx(Re,{onClick:()=>x.mutate(c),disabled:x.isPending,className:"w-full",children:x.isPending?"...":" "})]})]})]})]}),B.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx($n,{className:"h-5 w-5 text-yellow-600"}),"  (",B.length,")"]}),i.jsx(Hs,{columns:1,children:B.map(I=>i.jsx(xn,{title:I.description,subtitle:`: ${Je(I.expectedAmount||0)}`,titleIcon:$n,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:$n,color:"warning"},{label:" ",value:Je(I.expectedAmount||0),emphasis:!0,icon:Sr,color:"info"},{label:" ",value:Je(I.paidAmount||0),icon:Sr,color:"success"}],actions:[{icon:wn,label:"",onClick:()=>S.mutate({taskId:I.id,status:"completed"}),color:"green"}],compact:!0},I.id))})]}),q.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx(wn,{className:"h-5 w-5 text-green-600"}),"  (",q.length,")"]}),i.jsx(Hs,{columns:1,children:q.map(I=>i.jsx(xn,{title:I.description,subtitle:`: ${Je(I.expectedAmount||0)}`,titleIcon:wn,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:wn,color:"success"},{label:" ",value:Je(I.expectedAmount||0),emphasis:!0,icon:Sr,color:"info"},{label:" ",value:Je(I.paidAmount||0),icon:Sr,color:"success"}],compact:!0},I.id))})]}),v.length===0&&i.jsx(xn,{title:"  ",subtitle:"  ",titleIcon:ua,fields:[{label:"",value:"   "}]})]})]}),i.jsx("div",{className:"lg:col-span-1 space-y-6",children:i.jsx(aye,{})})]})})}function cye(){const[t,r]=E.useState(zm()),[e,n]=E.useState(null),{data:s,isLoading:a,refetch:o}=xt({queryKey:xe.adminDataHealth});if(E.useEffect(()=>{const l=document.querySelector(".layout-header h1, .layout-header .text-lg");l&&(l.textContent="    ");const d=setInterval(()=>{r(zm())},2e3);return Ez().then(n),()=>clearInterval(d)},[]),a)return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[i.jsx(fQ,{className:"h-12 w-12 text-primary animate-pulse"}),i.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const c=s?.data,u=e?.differences?.slice(0,5).map(l=>({name:l.table,central:100,local:Math.round(l.clientCount/(l.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return i.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(Ks,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),i.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.isOnline?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),i.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"relative flex h-2 w-2",children:i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),i.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),i.jsx("span",{className:"text-sm font-black font-mono",children:t.pendingCount})]}),i.jsxs(Re,{onClick:()=>o(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[i.jsx(xs,{className:`h-4 w-4 ${t.isSyncing?"animate-spin":""}`})," "]})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c?.databases.map((l,d)=>i.jsxs(lr,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[i.jsx("div",{className:`h-1 w-full ${l.status==="online"||l.status==="active"?"bg-green-500":"bg-red-500"}`}),i.jsxs(cs,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-md ${l.status==="online"||l.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:l.name.includes("Central")?i.jsx(_d,{className:"h-4 w-4"}):l.name.includes("Supabase")?i.jsx(Rk,{className:"h-4 w-4"}):i.jsx(dm,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx(ys,{className:"text-sm font-bold",children:l.name}),i.jsx(Qc,{className:"text-[10px] uppercase",children:l.status==="online"||l.status==="active"?"Active":l.status==="standby"?"Standby":"Disconnected"})]})]}),i.jsx(Nt,{variant:l.status==="online"||l.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:l.status==="online"||l.status==="active"?"":""})]}),i.jsx(br,{children:i.jsxs("div",{className:"space-y-3 mt-2",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:l.latency}),i.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),i.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),i.jsx("span",{className:"font-bold",children:l.tablesCount})]}),i.jsxs("div",{className:"flex flex-col text-left",children:[i.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),i.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(lr,{className:"border-none shadow-lg",children:[i.jsxs(cs,{children:[i.jsxs(ys,{className:"text-lg flex items-center gap-2 text-primary",children:[i.jsx(um,{className:"h-5 w-5"}),"  "]}),i.jsx(Qc,{children:"      "})]}),i.jsxs(br,{children:[i.jsx("div",{className:"space-y-6",children:u.map((l,d)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:l.name}),i.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[i.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",l.central,"%"]}),i.jsxs("span",{className:"text-green-600",children:["LOCAL: ",l.local,"%"]})]})]}),i.jsx(bu,{value:l.local,className:"h-1.5"})]},d))}),i.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:i.jsx(Kl,{className:"h-5 w-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),i.jsxs(lr,{className:"border-none shadow-lg",children:[i.jsxs(cs,{children:[i.jsxs(ys,{className:"text-lg flex items-center gap-2 text-primary",children:[i.jsx(Va,{className:"h-5 w-5"}),"  "]}),i.jsx(Qc,{children:"    "})]}),i.jsxs(br,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),i.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[t.latency||0,"ms"]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),i.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),i.jsx("div",{className:"text-xl font-black font-mono",children:c?.integrity.totalRecords.toLocaleString()})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),i.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:t.isOnline?"Cloud":"Edge"})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[i.jsx("span",{children:"   "}),i.jsx("span",{className:"text-green-500",children:"100%"})]}),i.jsx(bu,{value:100,className:"h-2 bg-green-500/20"}),i.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const Z3=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:e,className:Ee("w-full caption-bottom text-sm",t),...r})}));Z3.displayName="Table";const J3=E.forwardRef(({className:t,...r},e)=>i.jsx("thead",{ref:e,className:Ee("[&_tr]:border-b",t),...r}));J3.displayName="TableHeader";const ej=E.forwardRef(({className:t,...r},e)=>i.jsx("tbody",{ref:e,className:Ee("[&_tr:last-child]:border-0",t),...r}));ej.displayName="TableBody";const uye=E.forwardRef(({className:t,...r},e)=>i.jsx("tfoot",{ref:e,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));uye.displayName="TableFooter";const Rd=E.forwardRef(({className:t,...r},e)=>i.jsx("tr",{ref:e,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));Rd.displayName="TableRow";const si=E.forwardRef(({className:t,...r},e)=>i.jsx("th",{ref:e,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));si.displayName="TableHead";const ba=E.forwardRef(({className:t,...r},e)=>i.jsx("td",{ref:e,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));ba.displayName="TableCell";const dye=E.forwardRef(({className:t,...r},e)=>i.jsx("caption",{ref:e,className:Ee("mt-4 text-sm text-muted-foreground",t),...r}));dye.displayName="TableCaption";var Wx="Tabs",[fye]=da(Wx,[Uh]),Bz=Uh(),[hye,tj]=fye(Wx),$z=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:u="automatic",...l}=t,d=Vh(c),[p,f]=no({prop:n,onChange:s,defaultProp:a??"",caller:Wx});return i.jsx(hye,{scope:e,baseId:Ni(),value:p,onValueChange:f,orientation:o,dir:d,activationMode:u,children:i.jsx(Ht.div,{dir:d,"data-orientation":o,...l,ref:r})})});$z.displayName=Wx;var zz="TabsList",Vz=E.forwardRef((t,r)=>{const{__scopeTabs:e,loop:n=!0,...s}=t,a=tj(zz,e),o=Bz(e);return i.jsx(A3,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ht.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:r})})});Vz.displayName=zz;var Wz="TabsTrigger",Uz=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,disabled:s=!1,...a}=t,o=tj(Wz,e),c=Bz(e),u=Kz(o.baseId,n),l=Gz(o.baseId,n),d=n===o.value;return i.jsx(P3,{asChild:!0,...c,focusable:!s,active:d,children:i.jsx(Ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":l,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...a,ref:r,onMouseDown:ft(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:ft(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:ft(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(n)})})})});Uz.displayName=Wz;var qz="TabsContent",Hz=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,forceMount:s,children:a,...o}=t,c=tj(qz,e),u=Kz(c.baseId,n),l=Gz(c.baseId,n),d=n===c.value,p=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(ks,{present:s||d,children:({present:f})=>i.jsx(Ht.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&a})})});Hz.displayName=qz;function Kz(t,r){return`${t}-trigger-${r}`}function Gz(t,r){return`${t}-content-${r}`}var pye=$z,Qz=Vz,Xz=Uz,Yz=Hz;const Zz=pye,rj=E.forwardRef(({className:t,...r},e)=>i.jsx(Qz,{ref:e,className:Ee("inline-flex h-12 items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-50 p-1.5 text-muted-foreground shadow-inner backdrop-blur-sm border border-gray-200/50","dark:from-gray-800 dark:to-gray-900 dark:border-gray-700/50","transition-all duration-300 ease-in-out",t),...r}));rj.displayName=Qz.displayName;const Yi=E.forwardRef(({className:t,children:r,...e},n)=>i.jsx(Xz,{ref:n,className:Ee("relative inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2.5 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","hover:bg-white/80 hover:text-foreground hover:shadow-sm hover:scale-105","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/20","data-[state=active]:border data-[state=active]:border-blue-200/50","dark:hover:bg-gray-700/80 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:border-gray-600/50","before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-blue-500/0 before:to-purple-500/0","data-[state=active]:before:from-blue-500/10 data-[state=active]:before:to-purple-500/10","transform-gpu backface-visibility-hidden",t),...e,children:i.jsx(vn.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.2},className:"relative z-10 flex items-center gap-2",children:r})}));Yi.displayName=Xz.displayName;const Zi=E.forwardRef(({className:t,children:r,animationKey:e,...n},s)=>i.jsx(Yz,{ref:s,className:Ee("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","min-h-[200px]",t),...n,children:i.jsx(Em,{mode:"wait",children:i.jsx(vn.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.3,ease:[.4,0,.2,1]},className:"transform-gpu",children:r},e||n.value)})}));Zi.displayName=Yz.displayName;function mye(){const{toast:t}=pn(),[r,e]=E.useState("overview"),[n,s]=E.useState(null),[a,o]=E.useState("size"),[c,u]=E.useState(""),[l,d]=E.useState("active"),p=async me=>{let Ce=(localStorage.getItem("accessToken")||localStorage.getItem("token"))?.trim()||"";Ce.startsWith('"')&&Ce.endsWith('"')&&(Ce=Ce.slice(1,-1));const Fe=await fetch(me,{headers:{Authorization:`Bearer ${Ce}`,"x-auth-token":Ce,"x-access-token":Ce}});if(!Fe.ok){const Ie=await Fe.json().catch(()=>({}));throw new Error(Ie.message||"   ")}return Fe.json()},{data:f,isLoading:h}=xt({queryKey:xe.dbConnections,queryFn:()=>p("/api/db/connections")}),g=l!=="active"?`/api/db/overview?source=${l}`:"/api/db/overview",{data:y,isLoading:m,refetch:v,error:x}=xt({queryKey:[g],queryFn:()=>p(g),retry:!1}),S=l!=="active"?`/api/db/tables?source=${l}`:"/api/db/tables",{data:C,isLoading:A,refetch:B,error:q}=xt({queryKey:[S],queryFn:()=>p(S),retry:!1}),R=l!=="active"?`/api/db/performance?source=${l}`:"/api/db/performance",{data:I,isLoading:$,refetch:K}=xt({queryKey:[R],queryFn:()=>p(R),retry:!1}),U=l!=="active"?`/api/db/integrity?source=${l}`:"/api/db/integrity",{data:P,isLoading:L,refetch:T}=xt({queryKey:[U],queryFn:()=>p(U),retry:!1}),_=x||q,[k,j]=E.useState("local"),[N,D]=E.useState("supabase"),O=`/api/db/compare?source1=${k}&source2=${N}`,{data:z,isLoading:Q,refetch:Y}=xt({queryKey:[O],queryFn:()=>p(O),enabled:r==="compare"&&!!k&&!!N}),{data:re}=xt({queryKey:xe.dbStats,queryFn:()=>p("/api/stats")}),F=Dt({mutationFn:async({action:me,tableName:ke})=>(await Ve("POST","/api/db/maintenance",{action:me,tableName:ke})).json(),onSuccess:me=>{const ke=me?.data;t({title:ke?.success?"  ":" ",description:ke?.message||" ",variant:ke?.success?"default":"destructive"}),Z()},onError:me=>{t({title:"",description:me.message,variant:"destructive"})}}),Z=()=>{v(),B(),K(),T()},W=Array.isArray(f)?f:f?.data||[],V=y&&typeof y=="object"&&!Array.isArray(y)?y:null,G=Array.isArray(C)?C:C?.data||[],ae=I&&typeof I=="object"&&!Array.isArray(I)?I:null,pe=P&&typeof P=="object"&&!Array.isArray(P)?P:null,ce=re&&typeof re=="object"?re:null,ge=z&&typeof z=="object"&&!Array.isArray(z)?z:null,ee=G.filter(me=>me.name.toLowerCase().includes(c.toLowerCase())).sort((me,ke)=>a==="size"?ke.totalSizeBytes-me.totalSizeBytes:a==="rows"?ke.rowCount-me.rowCount:me.name.localeCompare(ke.name)),oe=G.reduce((me,ke)=>me+ke.rowCount,0),ne=G.reduce((me,ke)=>me+ke.totalSizeBytes,0),fe=pe?.score??0,le=ge?.alerts?.length||0,ie=ge?.alerts?.filter(me=>me.severity==="critical")?.length||0,te=E.useMemo(()=>[{items:[{key:"connections",label:"",value:W.filter(me=>me.connected).length+"/"+W.length,icon:pd,color:W.filter(me=>me.connected).length===W.length?"emerald":"amber"},{key:"tables",label:"",value:m?0:V?.totalTables||0,icon:q2,color:"blue"},{key:"records",label:"",value:m?0:V?.totalRows||oe,icon:li,color:"green"},{key:"size",label:"",value:m?"0 B":V?.size||"0 B",icon:dm,color:"purple"},{key:"integrity",label:"",value:L?"...":`${fe}%`,icon:Kl,color:fe>=90?"emerald":fe>=75?"amber":"red"}],columns:5,gap:"md"}],[V,m,fe,L,oe,W]),se=[{key:"db-refresh",icon:xs,label:"",onClick:Z,variant:"outline",loading:m}],de=[{key:"sort",label:"",type:"select",options:[{value:"size",label:""},{value:"rows",label:""},{value:"name",label:""}],defaultValue:"size"}];return i.jsxs("div",{className:"space-y-4",dir:"rtl",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs(Yn,{value:l,onValueChange:d,"data-testid":"select-db-source",children:[i.jsx(Vn,{className:"w-[220px]","data-testid":"trigger-db-source",children:i.jsxs("div",{className:"flex items-center gap-2",children:[l==="active"&&i.jsx(tM,{className:"h-3.5 w-3.5 text-blue-500"}),l==="local"&&i.jsx(BN,{className:"h-3.5 w-3.5 text-emerald-500"}),l==="supabase"&&i.jsx(IN,{className:"h-3.5 w-3.5 text-violet-500"}),i.jsx(Zn,{placeholder:"  "})]})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"active",children:" ()"}),W.map(me=>i.jsx($t,{value:me.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[me.connected?i.jsx(pd,{className:"h-3 w-3 text-emerald-500"}):i.jsx(Ff,{className:"h-3 w-3 text-red-500"}),me.label]})},me.id))]})]}),i.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[W.map(me=>i.jsxs(Nt,{variant:me.connected?"default":"destructive",className:"text-[11px]","data-testid":`badge-conn-${me.id}`,children:[me.connected?i.jsx(pd,{className:"h-3 w-3 ml-1"}):i.jsx(Ff,{className:"h-3 w-3 ml-1"}),me.id==="local"?"":"",me.connected&&me.tables>0&&` (${me.tables})`]},me.id)),le>0&&i.jsxs(Nt,{variant:"destructive",className:"text-[11px] cursor-pointer",onClick:()=>e("compare"),"data-testid":"badge-alerts-count",children:[i.jsx(ki,{className:"h-3 w-3 ml-1"}),ie>0?`${ie}  `:`${le} `]})]})]}),i.jsx(Lo,{hideHeader:!0,statsRows:te,searchValue:c,onSearchChange:u,searchPlaceholder:"  ...",showSearch:r==="tables",actions:se,onRefresh:Z,isRefreshing:m,filters:r==="tables"?de:[],filterValues:{sort:a},onFilterChange:(me,ke)=>{me==="sort"&&o(ke)},onReset:()=>{u(""),o("size")},resultsSummary:r==="tables"&&G.length>0?{totalCount:G.length,filteredCount:ee.length,totalLabel:"",filteredLabel:"",totalValue:T8(ne),totalValueLabel:" ",unit:"",categoryBreakdown:[{label:"",value:oe,unit:""},{label:"",value:0,unit:T8(ne)}],showBreakdown:!0}:void 0}),_&&l!=="active"&&i.jsx(lr,{children:i.jsx(br,{className:"py-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-amber-600 dark:text-amber-400",children:[i.jsx(Ff,{className:"h-5 w-5 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"   "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   .        ."})]}),i.jsx(Re,{variant:"outline",size:"sm",className:"mr-auto shrink-0",onClick:()=>d("active"),"data-testid":"button-reset-source",children:" "})]})})}),i.jsxs(Zz,{value:r,onValueChange:e,className:"w-full",children:[i.jsxs(rj,{className:"w-full grid grid-cols-6 h-10","data-testid":"tabs-db-manager",children:[i.jsxs(Yi,{value:"overview",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-overview",children:[i.jsx(Zo,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{className:"hidden sm:inline",children:" "}),i.jsx("span",{className:"sm:hidden",children:""})]}),i.jsxs(Yi,{value:"tables",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-tables",children:[i.jsx(q2,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{children:""})]}),i.jsxs(Yi,{value:"compare",className:"gap-1 text-xs sm:text-sm relative","data-testid":"tab-compare",children:[i.jsx(Ky,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:""}),le>0&&i.jsx("span",{className:"absolute -top-1 -left-1 h-4 w-4 rounded-full bg-red-500 text-white text-[9px] flex items-center justify-center",children:le>9?"9+":le})]}),i.jsxs(Yi,{value:"integrity",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-integrity",children:[i.jsx(Kl,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:""})]}),i.jsxs(Yi,{value:"performance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-performance",children:[i.jsx(Ks,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{children:""})]}),i.jsxs(Yi,{value:"maintenance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-maintenance",children:[i.jsx(Si,{className:"h-3.5 w-3.5 shrink-0"})," ",i.jsx("span",{children:""})]})]}),i.jsxs(Zi,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[W.map(me=>i.jsxs(lr,{"data-testid":`card-connection-${me.id}`,children:[i.jsx(cs,{className:"pb-3",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[me.id==="local"?i.jsx(BN,{className:"h-4 w-4"}):i.jsx(IN,{className:"h-4 w-4"}),me.label,me.connected?i.jsx(Nt,{variant:"default",className:"mr-auto text-[10px]",children:""}):i.jsx(Nt,{variant:"destructive",className:"mr-auto text-[10px]",children:" "})]})}),i.jsx(br,{children:me.connected?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ma,{label:" ",value:me.dbName}),i.jsx(Ma,{label:"",value:me.version}),i.jsx(Ma,{label:"",value:me.size}),i.jsx(Ma,{label:"",value:me.tables}),i.jsx(Ma,{label:"",value:me.rows?.toLocaleString()}),me.latency&&i.jsx(Ma,{label:" ",value:me.latency})]}):i.jsxs("div",{className:"flex flex-col items-center py-6 text-muted-foreground",children:[i.jsx(Ff,{className:"h-8 w-8 mb-2 opacity-40"}),i.jsx("p",{className:"text-sm",children:" "})]})})]},me.id)),i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-3",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(_d,{className:"h-4 w-4"})," "]})}),i.jsx(br,{className:"space-y-2",children:m?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(sn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):V?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ma,{label:" ",value:V.name}),i.jsx(Ma,{label:"",value:V.version}),i.jsx(Ma,{label:"",value:V.size}),i.jsx(Ma,{label:"",value:V.totalTables}),i.jsx(Ma,{label:"",value:(V.totalRows||0).toLocaleString()}),i.jsx(Ma,{label:"",value:V.totalIndexes}),i.jsx(Ma,{label:" ",value:typeof V.uptime=="object"?`${V.uptime.days||0}  ${V.uptime.hours||0} `:V.uptime}),i.jsx(Ma,{label:"",value:`${V.activeConnections} / ${V.maxConnections}`})]}):i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"  "})})]})]}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-3",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4"})," "]})}),i.jsx(br,{className:"space-y-4",children:ce?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"font-medium",children:[ce.cpuUsage,"%"]})]}),i.jsx(bu,{value:ce.cpuUsage,className:"h-2"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"font-medium",children:[ce.memoryUsage,"%"]})]}),i.jsx(bu,{value:ce.memoryUsage,className:"h-2"})]}),ce.memoryDetails&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Heap"}),i.jsxs("p",{className:"font-medium",children:[ce.memoryDetails.heapUsed," MB"]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"RSS"}),i.jsxs("p",{className:"font-medium",children:[ce.memoryDetails.rss," MB"]})]})]}),i.jsx(Ma,{label:" ",value:vye(ce.uptime)})]}):i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(sn,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}),ae&&i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-3",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Va,{className:"h-4 w-4"})," "]})}),i.jsx(br,{children:i.jsx(C8,{perf:ae})})]})]})]}),i.jsx(Zi,{value:"tables",className:"space-y-4 mt-4",children:i.jsx(lr,{children:i.jsx(br,{className:"p-0",children:A?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(sn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):i.jsxs(Z3,{children:[i.jsx(J3,{children:i.jsxs(Rd,{children:[i.jsx(si,{className:"text-right",children:""}),i.jsx(si,{className:"text-center",children:""}),i.jsx(si,{className:"text-center",children:""}),i.jsx(si,{className:"text-center",children:""}),i.jsx(si,{className:"text-center",children:""}),i.jsx(si,{className:"text-center",children:""})]})}),i.jsx(ej,{children:ee.length>0?ee.map(me=>i.jsx(xye,{table:me,source:l,expanded:n===me.name,onToggle:()=>s(n===me.name?null:me.name),onMaintenance:ke=>F.mutate({action:ke,tableName:me.name}),isMaintenanceLoading:F.isPending,fetchWithAuth:p},me.name)):i.jsx(Rd,{children:i.jsxs(ba,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[i.jsx(To,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),c?"  ":"  "]})})})]})})})}),i.jsx(Zi,{value:"compare",className:"space-y-4 mt-4",children:i.jsx(gye,{data:ge,loading:Q,onRefresh:()=>Y(),connections:W,source1:k,source2:N,onSource1Change:j,onSource2Change:D})}),i.jsx(Zi,{value:"integrity",className:"space-y-4 mt-4",children:i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Kl,{className:"h-4 w-4"}),"  "]}),i.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>T(),"data-testid":"button-recheck-integrity",children:[i.jsx(xs,{className:`h-4 w-4 ml-1 ${L?"animate-spin":""}`})," "]})]})}),i.jsx(br,{children:L?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(sn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):pe?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsxs("div",{className:`text-5xl font-bold ${fe>=90?"text-emerald-600 dark:text-emerald-400":fe>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[pe.score,"%"]}),i.jsxs("div",{children:[i.jsx(Nt,{variant:pe.status==="excellent"?"default":pe.status==="good"?"secondary":"destructive",children:pe.status==="excellent"?"":pe.status==="good"?"":pe.status==="warning"?"":""}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" : ",new Date(pe.timestamp).toLocaleString("ar-SA")]})]})]}),i.jsx("div",{className:"space-y-3",children:pe.checks?.map((me,ke)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[me.status==="pass"?i.jsx(wn,{className:"h-5 w-5 text-emerald-500 mt-0.5 shrink-0"}):me.status==="warn"?i.jsx(hl,{className:"h-5 w-5 text-yellow-500 mt-0.5 shrink-0"}):i.jsx(hl,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:me.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:me.message})]})]},ke))})]}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),i.jsx(Zi,{value:"performance",className:"space-y-4 mt-4",children:i.jsxs(lr,{children:[i.jsxs(cs,{className:"pb-3",children:[i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4"})," "]}),i.jsx(Qc,{children:"    PostgreSQL"})]}),i.jsx(br,{children:$?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(sn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):ae?i.jsxs("div",{className:"space-y-4",children:[i.jsx(C8,{perf:ae,extended:!0}),i.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[i.jsx("p",{className:"text-xs font-medium mb-2",children:" "}),i.jsxs("div",{className:"flex gap-4 flex-wrap text-xs",children:[i.jsxs("span",{children:["  : ",i.jsx("strong",{children:ae.blocksRead?.toLocaleString()})]}),i.jsxs("span",{children:["  : ",i.jsx("strong",{children:ae.blocksHit?.toLocaleString()})]})]})]})]}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),i.jsx(Zi,{value:"maintenance",className:"space-y-4 mt-4",children:i.jsxs(lr,{children:[i.jsxs(cs,{className:"pb-3",children:[i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Si,{className:"h-4 w-4"}),"  "]}),i.jsx(Qc,{children:"  "})]}),i.jsx(br,{className:"space-y-4",children:i.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[i.jsx(Aw,{title:" ",description:"    ",action:"vacuum",icon:i.jsx(xs,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"vacuum"}),isLoading:F.isPending}),i.jsx(Aw,{title:" ",description:"  ",action:"analyze",icon:i.jsx(Zo,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"analyze"}),isLoading:F.isPending}),i.jsx(Aw,{title:"  ",description:"    ",action:"reindex",icon:i.jsx(u0,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"reindex"}),isLoading:F.isPending})]})})]})})]})]})}function gye({data:t,loading:r,onRefresh:e,connections:n,source1:s,source2:a,onSource1Change:o,onSource2Change:c}){const u=n.filter(d=>d.connected),l=!s||!a;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-3",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(Ky,{className:"h-4 w-4"}),"  "]})}),i.jsxs(br,{children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex-1 min-w-[150px]",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),i.jsxs(Yn,{value:s,onValueChange:o,"data-testid":"select-compare-source1",children:[i.jsx(Vn,{"data-testid":"select-trigger-source1",children:i.jsx(Zn,{placeholder:"  "})}),i.jsx(Wn,{children:u.map(d=>i.jsxs($t,{value:d.id,disabled:d.id===a,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),i.jsx(Gc,{className:"h-5 w-5 text-muted-foreground mt-4 shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-[150px]",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),i.jsxs(Yn,{value:a,onValueChange:c,"data-testid":"select-compare-source2",children:[i.jsx(Vn,{"data-testid":"select-trigger-source2",children:i.jsx(Zn,{placeholder:"  "})}),i.jsx(Wn,{children:u.map(d=>i.jsxs($t,{value:d.id,disabled:d.id===s,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),i.jsxs(Re,{variant:"default",size:"default",onClick:e,disabled:l||r,className:"mt-4","data-testid":"button-run-compare",children:[r?i.jsx(sn,{className:"h-4 w-4 animate-spin ml-1"}):i.jsx(Ky,{className:"h-4 w-4 ml-1"}),""]})]}),u.length<2&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:"        "})]})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sn,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]})}),!r&&l&&i.jsx(lr,{children:i.jsxs(br,{className:"py-12 text-center",children:[i.jsx(Gc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"         "})]})}),!r&&!l&&!t&&i.jsx(lr,{children:i.jsxs(br,{className:"py-12 text-center",children:[i.jsx(Gc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"       "}),i.jsxs(Re,{variant:"outline",onClick:e,"data-testid":"button-retry-compare",children:[i.jsx(xs,{className:"h-4 w-4 ml-1"})," "]})]})}),!r&&t&&i.jsx(yye,{data:t,onRefresh:e})]})}function yye({data:t,onRefresh:r}){const e=t.source1Name||" ",n=t.source2Name||" ",s=(t.tablesWithDiffRows||0)+(t.tablesWithDiffStructure||0)+(t.onlySource1Tables||0)+(t.onlySource2Tables||0);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ky,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("span",{className:"text-sm font-medium",children:[e," ",i.jsx(Gc,{className:"h-3 w-3 inline mx-1"})," ",n]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[" : ",new Date(t.timestamp).toLocaleString("ar-SA")]}),i.jsxs(Re,{variant:"outline",size:"sm",onClick:r,"data-testid":"button-refresh-compare",children:[i.jsx(xs,{className:"h-3.5 w-3.5 ml-1"}),""]})]})]}),i.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-5",children:[i.jsx(Op,{label:"",value:t.matchingTables,color:"emerald"}),i.jsx(Op,{label:" ",value:t.tablesWithDiffRows,color:t.tablesWithDiffRows>0?"amber":"emerald"}),i.jsx(Op,{label:" ",value:t.tablesWithDiffStructure,color:t.tablesWithDiffStructure>0?"red":"emerald"}),i.jsx(Op,{label:`${e} `,value:t.onlySource1Tables||0,color:(t.onlySource1Tables||0)>0?"amber":"emerald"}),i.jsx(Op,{label:`${n} `,value:t.onlySource2Tables||0,color:(t.onlySource2Tables||0)>0?"amber":"emerald"})]}),t.alerts?.length>0&&i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-2",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(ki,{className:"h-4 w-4"})," (",t.alerts.length,")"]})}),i.jsx(br,{className:"space-y-2",children:t.alerts.map((a,o)=>i.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${a.severity==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50":a.severity==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50"}`,"data-testid":`alert-${a.type}-${o}`,children:[a.severity==="critical"?i.jsx(hl,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}):a.severity==="warning"?i.jsx(hl,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}):i.jsx(tM,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(Nt,{variant:a.severity==="critical"?"destructive":a.severity==="warning"?"secondary":"outline",className:"text-[10px]",children:a.severity==="critical"?"":a.severity==="warning"?"":""}),i.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:a.table})]}),i.jsx("p",{className:"text-sm mt-1",children:a.message})]})]},o))})]}),i.jsxs(lr,{children:[i.jsx(cs,{className:"pb-2",children:i.jsxs(ys,{className:"text-base flex items-center gap-2",children:[i.jsx(q2,{className:"h-4 w-4"}),"  (",t.tables?.length||0,")"]})}),i.jsx(br,{className:"p-0",children:i.jsxs(Z3,{children:[i.jsx(J3,{children:i.jsxs(Rd,{children:[i.jsx(si,{className:"text-right",children:""}),i.jsx(si,{className:"text-center",children:""}),i.jsxs(si,{className:"text-center",children:[e," ()"]}),i.jsxs(si,{className:"text-center",children:[n," ()"]}),i.jsx(si,{className:"text-center",children:""}),i.jsxs(si,{className:"text-center",children:[e," ()"]}),i.jsxs(si,{className:"text-center",children:[n," ()"]})]})}),i.jsx(ej,{children:t.tables?.map(a=>i.jsxs(Rd,{className:a.status==="diff_structure"?"bg-red-50/50 dark:bg-red-900/10":a.status==="only_source1"||a.status==="only_source2"?"bg-amber-50/50 dark:bg-amber-900/10":a.status==="diff_rows"?"bg-yellow-50/50 dark:bg-yellow-900/10":"","data-testid":`compare-row-${a.name}`,children:[i.jsx(ba,{className:"font-mono text-xs",children:a.name}),i.jsx(ba,{className:"text-center",children:i.jsx(bye,{status:a.status,s1Name:e,s2Name:n})}),i.jsx(ba,{className:"text-center font-mono text-xs",children:a.source1Rows!==null&&a.source1Rows!==void 0?a.source1Rows.toLocaleString():i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(ba,{className:"text-center font-mono text-xs",children:a.source2Rows!==null&&a.source2Rows!==void 0?a.source2Rows.toLocaleString():i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(ba,{className:"text-center",children:a.rowDiff>0?i.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["+",a.rowDiff.toLocaleString()]}):i.jsx(wn,{className:"h-4 w-4 text-emerald-500 mx-auto"})}),i.jsx(ba,{className:"text-center text-xs",children:a.source1Size||"-"}),i.jsx(ba,{className:"text-center text-xs",children:a.source2Size||"-"})]},a.name))})]})})]}),s===0&&t.tables?.length>0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wn,{className:"h-12 w-12 text-emerald-500 mx-auto mb-3"}),i.jsx("p",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"     "})]})]})}function Op({label:t,value:r,color:e}){const n=Jz(e);return i.jsxs("div",{className:`rounded-xl border p-3 ${n.bg} ${n.border}`,children:[i.jsx("p",{className:"text-[11px] text-muted-foreground",children:t}),i.jsx("p",{className:`text-2xl font-bold ${n.text}`,children:r})]})}function bye({status:t}){switch(t){case"match":return i.jsx(Nt,{variant:"default",className:"text-[10px] bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",children:""});case"diff_rows":return i.jsx(Nt,{variant:"secondary",className:"text-[10px] bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",children:" "});case"diff_structure":return i.jsx(Nt,{variant:"destructive",className:"text-[10px]",children:" "});case"only_source1":return i.jsx(Nt,{variant:"outline",className:"text-[10px] border-blue-200 text-blue-600 uppercase",children:"  "});case"only_source2":return i.jsx(Nt,{variant:"outline",className:"text-[10px] border-violet-200 text-violet-600 uppercase",children:"  "});default:return i.jsx(Nt,{variant:"outline",className:"text-[10px]",children:t})}}function Ma({label:t,value:r}){return i.jsxs("div",{className:"flex justify-between items-center gap-2 py-1.5 border-b border-muted/50 last:border-0",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:t}),i.jsx("span",{className:"text-sm font-medium",children:r})]})}function C8({perf:t,extended:r}){const e=E.useMemo(()=>{const n=[{key:"cache",label:"  ",value:`${t.cacheHitRatio}%`,icon:Va,color:t.cacheHitRatio>95?"emerald":t.cacheHitRatio>80?"amber":"red"},{key:"committed",label:" ",value:t.transactionsCommitted?.toLocaleString()||"0",icon:wn,color:"green"},{key:"rolledback",label:"",value:t.transactionsRolledBack?.toLocaleString()||"0",icon:hl,color:t.transactionsRolledBack>10?"red":"emerald"},{key:"dead",label:" ",value:t.deadTuples?.toLocaleString()||"0",icon:li,color:t.deadTuples>1e3?"red":"emerald"}];return r&&(n.splice(1,0,{key:"avgquery",label:"  ",value:t.avgQueryTime>0?`${t.avgQueryTime} ms`:" ",icon:Ks,color:"blue"}),n.push({key:"live",label:" ",value:t.liveTuples?.toLocaleString()||"0",icon:li,color:"blue"})),[{items:n,columns:r?6:4,gap:"md"}]},[t,r]);return i.jsx("div",{children:e.map((n,s)=>i.jsx("div",{className:`grid gap-3 ${r?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-2 md:grid-cols-4"}`,children:n.items.map(a=>{const o=Jz(a.color);return i.jsxs("div",{className:`rounded-xl border p-3 ${o.bg} ${o.border}`,children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsx(a.icon,{className:`h-3.5 w-3.5 ${o.icon}`}),i.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:a.label})]}),i.jsx("p",{className:`text-lg font-bold ${o.text}`,children:a.value})]},a.key)})},s))})}function Jz(t){const r={emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500"},blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-amber-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500"}};return r[t]||r.blue}function xye({table:t,source:r,expanded:e,onToggle:n,onMaintenance:s,isMaintenanceLoading:a}){const[o,c]=E.useState(null),[u,l]=E.useState(!1),d=async()=>{if(o){n();return}l(!0);try{const p=r!=="active"?`?source=${r}`:"",f=await fetchWithAuth(`/api/db/tables/${t.name}${p}`);c(f?.data)}catch(p){console.error("Error loading table details:",p)}l(!1),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(Rd,{className:"hover-elevate cursor-pointer",onClick:d,"data-testid":`row-table-${t.name}`,children:[i.jsx(ba,{className:"font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oa,{className:"h-4 w-4 text-muted-foreground shrink-0"}),i.jsx("span",{className:"font-mono text-xs",children:t.name})]})}),i.jsx(ba,{className:"text-center font-mono",children:t.rowCount.toLocaleString()}),i.jsx(ba,{className:"text-center text-xs",children:t.totalSize}),i.jsx(ba,{className:"text-center",children:t.columns}),i.jsx(ba,{className:"text-center",children:t.indexes}),i.jsx(ba,{className:"text-center",children:u?i.jsx(sn,{className:"h-4 w-4 animate-spin mx-auto"}):e?i.jsx(No,{className:"h-4 w-4 mx-auto"}):i.jsx(Bn,{className:"h-4 w-4 mx-auto"})})]}),e&&o&&i.jsx(Rd,{children:i.jsx(ba,{colSpan:6,className:"bg-muted/20 p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",o.columns?.length||0,")"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:o.columns?.map((p,f)=>i.jsxs("div",{className:"flex items-center gap-1.5 text-xs p-1 rounded bg-background",children:[i.jsx(dQ,{className:"h-3 w-3 text-muted-foreground shrink-0"}),i.jsx("span",{className:"font-mono",children:p.column_name}),i.jsx(Nt,{variant:"secondary",className:"text-[10px] px-1 py-0",children:p.data_type}),p.is_nullable==="NO"&&i.jsx(Nt,{variant:"outline",className:"text-[10px] px-1 py-0",children:""})]},f))})]}),o.indexes?.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",o.indexes.length,")"]}),i.jsx("div",{className:"space-y-1",children:o.indexes.map((p,f)=>i.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-background p-1 rounded",children:p.indexname},f))})]}),i.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[i.jsx(Re,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),s("vacuum")},disabled:a,"data-testid":`button-vacuum-${t.name}`,children:""}),i.jsx(Re,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),s("analyze")},disabled:a,"data-testid":`button-analyze-${t.name}`,children:""})]})]})})})]})}function Aw({title:t,description:r,action:e,icon:n,onRun:s,isLoading:a}){return i.jsx(lr,{children:i.jsxs(br,{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-muted-foreground",children:n}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),i.jsxs(Re,{variant:"outline",size:"sm",className:"w-full",onClick:s,disabled:a,"data-testid":`button-maintenance-${e}`,children:[a?i.jsx(sn,{className:"h-4 w-4 animate-spin ml-1"}):null,""]})]})})}function T8(t){if(t===0)return"0 B";const r=1024,e=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,n)).toFixed(2))+" "+e[n]}function vye(t){const r=Math.floor(t/86400),e=Math.floor(t%86400/3600),n=Math.floor(t%3600/60);return r>0?`${r}  ${e} `:e>0?`${e}  ${n} `:`${n} `}function eV(t){const{title:r,message:e,variant:n="default",duration:s=5e3,action:a}=t,c=(l=>{switch(l){case"success":return"";case"destructive":return"";case"warning":return"";default:return""}})(n),u=r?`${c} ${r}`:`${c} `;return Ck({title:u,description:e,variant:n,duration:s,action:a?{altText:a.label,onClick:a.onClick,children:a.label}:void 0})}function E8(t,r){return eV({title:"",message:t,variant:"success"})}function Ef(t,r){return eV({title:"",message:t,variant:"destructive"})}const wye={safety:hl,task:Co,payroll:TQ,announcement:hh,system:ki},A8={safety:"text-red-600 bg-gradient-to-r from-red-50 to-red-100",task:"text-blue-600 bg-gradient-to-r from-blue-50 to-blue-100",payroll:"text-green-600 bg-gradient-to-r from-green-50 to-green-100",announcement:"text-purple-600 bg-gradient-to-r from-purple-50 to-purple-100",system:"text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100"},P8={1:{label:"",color:"bg-gradient-to-r from-red-500 to-red-600"},2:{label:"",color:"bg-gradient-to-r from-orange-500 to-orange-600"},3:{label:"",color:"bg-gradient-to-r from-yellow-500 to-yellow-600"},4:{label:"",color:"bg-gradient-to-r from-blue-500 to-blue-600"},5:{label:"",color:"bg-gradient-to-r from-gray-500 to-gray-600"}};function _ye({className:t}){const[r,e]=E.useState([]),[n,s]=E.useState(0),[a,o]=E.useState(!1),[c,u]=E.useState(!1),[,l]=Os(),d=async()=>{u(!0);try{const g=localStorage.getItem("accessToken");if(!g){console.warn("    -   "),u(!1);return}const y=await fetch("/api/notifications?limit=50",{headers:{Authorization:`Bearer ${g}`}});if(y.ok){const m=await y.json();if(console.log(" [NotificationCenter]  API:",m),m.success&&Array.isArray(m.data)){const v=m.data.map(x=>({id:x.id,type:x.type||"system",title:x.title,message:x.message,priority:x.priority==="critical"?1:x.priority==="high"?2:x.priority==="medium"?3:x.priority==="low"?4:5,createdAt:x.createdAt,isRead:x.status==="read",actionRequired:x.actionRequired||!1}));e(v),s(m.unreadCount||0),console.log(" [NotificationCenter]    :",v.length)}else Array.isArray(m)&&(e(m.map(v=>({...v,isRead:v.status==="read"}))),s(m.filter(v=>v.status!=="read").length))}else console.error("   "),e([{id:"system-welcome",type:"system",title:" ",message:"    AXION SYSTEM",priority:3,createdAt:new Date().toISOString(),isRead:!1}]),s(1)}catch(g){console.error("   :",g)}finally{u(!1)}},p=async g=>{try{const y=localStorage.getItem("accessToken");if(!y){console.warn("    -     "),Ef("       .");return}(await fetch(`/api/notifications/${g}/read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}})).ok?(e(v=>v.map(x=>x.id===g?{...x,isRead:!0}:x)),s(v=>Math.max(0,v-1)),E8("   .")):Ef("    .")}catch(y){console.error("    :",y),Ef("     .")}},f=async()=>{try{const g=localStorage.getItem("accessToken");if(!g){console.warn("    -     "),Ef("        .");return}(await fetch("/api/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`}})).ok?(await d(),E8("    .")):Ef("     .")}catch(g){console.error("     :",g),Ef("      .")}};E.useEffect(()=>{d();const g=setInterval(d,3e4);return()=>clearInterval(g)},[]);const h=g=>{const y=new Date(g),v=(new Date().getTime()-y.getTime())/(1e3*60*60);return v<1?` ${Math.floor(v*60)} `:v<24?` ${Math.floor(v)} `:` ${Math.floor(v/24)} `};return i.jsxs(Cx,{open:a,onOpenChange:o,children:[i.jsx(Tx,{asChild:!0,children:i.jsxs(Re,{variant:"outline",size:"icon",className:Ee("relative h-9 w-9 rounded-xl transition-all duration-300 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800",t),"data-testid":"notification-bell",children:[i.jsx(ki,{className:Ee("h-4 w-4 transition-all duration-300",n>0?"text-primary":"text-slate-600 dark:text-slate-400")}),n>0&&i.jsx(Nt,{className:"absolute -top-1.5 -right-1.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center font-bold bg-red-500 text-white border-white dark:border-slate-900 border-2 shadow-sm z-10","data-testid":"notification-badge",children:n>99?"99+":n})]})}),i.jsxs(C0,{className:"w-80 sm:w-96 p-0 border-0 shadow-2xl rounded-2xl bg-white",align:"end","data-testid":"notification-popover",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:i.jsx(ki,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-base",children:""}),i.jsx("p",{className:"text-xs text-blue-100",children:n>0?`${n}  `:"  "})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[n>0&&i.jsxs(Re,{variant:"ghost",size:"sm",className:"text-xs h-8 text-white hover:bg-white/20 rounded-lg",onClick:f,"data-testid":"mark-all-read-button",children:[i.jsx(Co,{className:"h-3 w-3 mr-1"})," "]}),i.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-white/20 rounded-lg",onClick:()=>o(!1),"data-testid":"close-notification-button",children:i.jsx(Rs,{className:"h-4 w-4"})})]})]})}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("div",{className:"text-sm text-gray-500",children:" ..."})]}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:i.jsx(ki,{className:"h-8 w-8 text-gray-400"})}),i.jsx("div",{className:"text-sm font-medium text-gray-600",children:"  "}),i.jsx("div",{className:"text-xs text-gray-400",children:"   "})]}):i.jsx("div",{className:"p-2",children:r.map((g,y)=>{const m=wye[g.type]||ki,v=A8[g.type]||A8.system,x=P8[g.priority]||P8[3];return i.jsx("div",{className:Ee("group p-3 last:mb-0 rounded-xl cursor-pointer transition-all duration-300 border",g.isRead?"bg-white border-gray-100 hover:bg-gray-50 hover:border-gray-200":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 hover:from-blue-100 hover:to-indigo-100 shadow-sm hover:shadow-md"),onClick:()=>!g.isRead&&p(g.id),"data-testid":`notification-item-${y}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:Ee("w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm transition-all duration-300 group-hover:scale-105",v),children:i.jsx(m,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("h4",{className:Ee("text-sm leading-tight",g.isRead?"font-medium text-gray-700":"font-bold text-gray-900"),children:g.title}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!g.isRead&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx(Nt,{className:Ee("text-xs px-2 py-0.5 text-white font-medium",x.color),children:x.label})]})]}),i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 leading-relaxed",children:g.message}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[i.jsx($n,{className:"h-3 w-3"}),i.jsx("span",{children:h(g.createdAt)})]}),g.actionRequired&&i.jsxs(Nt,{variant:"outline",className:"text-xs bg-orange-50 text-orange-600 border-orange-200",children:[i.jsx(Va,{className:"h-3 w-3 mr-1"})," "]})]})]})]})},g.id)})})}),r.length>0&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"border-t border-gray-100 p-3",children:i.jsxs(Re,{variant:"ghost",className:"w-full text-sm font-medium bg-gradient-to-r from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-200 transition-all duration-300 rounded-xl h-10",onClick:()=>{o(!1),l("/notifications")},"data-testid":"view-all-notifications-button",children:[i.jsx(Wd,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}const kye=()=>{};var M8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=function(t){const r=[];let e=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?r[e++]=s:s<2048?(r[e++]=s>>6|192,r[e++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[e++]=s>>18|240,r[e++]=s>>12&63|128,r[e++]=s>>6&63|128,r[e++]=s&63|128):(r[e++]=s>>12|224,r[e++]=s>>6&63|128,r[e++]=s&63|128)}return r},jye=function(t){const r=[];let e=0,n=0;for(;e<t.length;){const s=t[e++];if(s<128)r[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[e++];r[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[e++],o=t[e++],c=t[e++],u=((s&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;r[n++]=String.fromCharCode(55296+(u>>10)),r[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[e++],o=t[e++];r[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return r.join("")},rV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,r){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,l=u?t[s+2]:0,d=a>>2,p=(a&3)<<4|c>>4;let f=(c&15)<<2|l>>6,h=l&63;u||(h=64,o||(f=64)),n.push(e[d],e[p],e[f],e[h])}return n.join("")},encodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(t):this.encodeByteArray(tV(t),r)},decodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(t):jye(this.decodeStringToByteArray(t,r))},decodeStringToByteArray(t,r){this.init_();const e=r?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=e[t.charAt(s++)],c=s<t.length?e[t.charAt(s)]:0;++s;const l=s<t.length?e[t.charAt(s)]:64;++s;const p=s<t.length?e[t.charAt(s)]:64;if(++s,a==null||c==null||l==null||p==null)throw new Sye;const f=a<<2|c>>4;if(n.push(f),l!==64){const h=c<<4&240|l>>2;if(n.push(h),p!==64){const g=l<<6&192|p;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nye=function(t){const r=tV(t);return rV.encodeByteArray(r,!0)},nV=function(t){return Nye(t).replace(/\./g,"")},Cye=function(t){try{return rV.decodeString(t,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eye=()=>Tye().__FIREBASE_DEFAULTS__,Aye=()=>{if(typeof process>"u"||typeof M8>"u")return;const t=M8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=t&&Cye(t[1]);return r&&JSON.parse(r)},Mye=()=>{try{return kye()||Eye()||Aye()||Pye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sV=()=>Mye()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e})}wrapCallback(r){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(e):r(e,n))}}}function aV(){try{return typeof indexedDB=="object"}catch{return!1}}function iV(){return new Promise((t,r)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{r(s.error?.message||"")}}catch(e){r(e)}})}function Dye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye="FirebaseError";class Qh extends Error{constructor(r,e,n){super(e),this.code=r,this.customData=n,this.name=Iye,Object.setPrototypeOf(this,Qh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ux.prototype.create)}}class Ux{constructor(r,e,n){this.service=r,this.serviceName=e,this.errors=n}create(r,...e){const n=e[0]||{},s=`${this.service}/${r}`,a=this.errors[r],o=a?Oye(a,n):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Qh(s,c,n)}}function Oye(t,r){return t.replace(Fye,(e,n)=>{const s=r[n];return s!=null?String(s):`<${n}?>`})}const Fye=/\{\$([^}]+)}/g;function q_(t,r){if(t===r)return!0;const e=Object.keys(t),n=Object.keys(r);for(const s of e){if(!n.includes(s))return!1;const a=t[s],o=r[s];if(R8(a)&&R8(o)){if(!q_(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function R8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return t&&t._delegate?t._delegate:t}class xu{constructor(r,e,n){this.name=r,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lye{constructor(r,e){this.name=r,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const e=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(e)){const n=new Rye;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(r){const e=this.normalizeInstanceIdentifier(r?.identifier),n=r?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if($ye(r))try{this.getOrInitializeService({instanceIdentifier:Ku})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(r=Ku){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...r.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Ku){return this.instances.has(r)}getOptions(r=Ku){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:e={}}=r,n=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&o.resolve(s)}return s}onInit(r,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(r),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&r(a,n),()=>{s.delete(r)}}invokeOnInitCallbacks(r,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(r,e)}catch{}}getOrInitializeService({instanceIdentifier:r,options:e={}}){let n=this.instances.get(r);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Bye(r),options:e}),this.instances.set(r,n),this.instancesOptions.set(r,e),this.invokeOnInitCallbacks(n,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,n)}catch{}return n||null}normalizeInstanceIdentifier(r=Ku){return this.component?this.component.multipleInstances?r:Ku:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bye(t){return t===Ku?void 0:t}function $ye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zye{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const e=this.getProvider(r.name);if(e.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);e.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const e=new Lye(r,this);return this.providers.set(r,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mn||(Mn={}));const Vye={debug:Mn.DEBUG,verbose:Mn.VERBOSE,info:Mn.INFO,warn:Mn.WARN,error:Mn.ERROR,silent:Mn.SILENT},Wye=Mn.INFO,Uye={[Mn.DEBUG]:"log",[Mn.VERBOSE]:"log",[Mn.INFO]:"info",[Mn.WARN]:"warn",[Mn.ERROR]:"error"},qye=(t,r,...e)=>{if(r<t.logLevel)return;const n=new Date().toISOString(),s=Uye[r];if(s)console[s](`[${n}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Hye{constructor(r){this.name=r,this._logLevel=Wye,this._logHandler=qye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Mn))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?Vye[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Mn.DEBUG,...r),this._logHandler(this,Mn.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Mn.VERBOSE,...r),this._logHandler(this,Mn.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Mn.INFO,...r),this._logHandler(this,Mn.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Mn.WARN,...r),this._logHandler(this,Mn.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Mn.ERROR,...r),this._logHandler(this,Mn.ERROR,...r)}}const Kye=(t,r)=>r.some(e=>t instanceof e);let D8,I8;function Gye(){return D8||(D8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qye(){return I8||(I8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oV=new WeakMap,H_=new WeakMap,lV=new WeakMap,Pw=new WeakMap,sj=new WeakMap;function Xye(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(Jc(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return r.then(e=>{e instanceof IDBCursor&&oV.set(e,t)}).catch(()=>{}),sj.set(r,t),r}function Yye(t){if(H_.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});H_.set(t,r)}let K_={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return H_.get(t);if(r==="objectStoreNames")return t.objectStoreNames||lV.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Jc(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function Zye(t){K_=t(K_)}function Jye(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...e){const n=t.call(Mw(this),r,...e);return lV.set(n,r.sort?r.sort():[r]),Jc(n)}:Qye().includes(t)?function(...r){return t.apply(Mw(this),r),Jc(oV.get(this))}:function(...r){return Jc(t.apply(Mw(this),r))}}function ebe(t){return typeof t=="function"?Jye(t):(t instanceof IDBTransaction&&Yye(t),Kye(t,Gye())?new Proxy(t,K_):t)}function Jc(t){if(t instanceof IDBRequest)return Xye(t);if(Pw.has(t))return Pw.get(t);const r=ebe(t);return r!==t&&(Pw.set(t,r),sj.set(r,t)),r}const Mw=t=>sj.get(t);function tbe(t,r,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,r),c=Jc(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Jc(o.result),u.oldVersion,u.newVersion,Jc(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}const rbe=["get","getKey","getAll","getAllKeys","count"],nbe=["put","add","delete","clear"],Rw=new Map;function O8(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Rw.get(r))return Rw.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=nbe.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||rbe.includes(e)))return;const a=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),s&&u.done]))[0]};return Rw.set(r,a),a}Zye(t=>({...t,get:(r,e,n)=>O8(r,e)||t.get(r,e,n),has:(r,e)=>!!O8(r,e)||t.has(r,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(abe(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function abe(t){return t.getComponent()?.type==="VERSION"}const G_="@firebase/app",F8="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Hye("@firebase/app"),ibe="@firebase/app-compat",obe="@firebase/analytics-compat",lbe="@firebase/analytics",cbe="@firebase/app-check-compat",ube="@firebase/app-check",dbe="@firebase/auth",fbe="@firebase/auth-compat",hbe="@firebase/database",pbe="@firebase/data-connect",mbe="@firebase/database-compat",gbe="@firebase/functions",ybe="@firebase/functions-compat",bbe="@firebase/installations",xbe="@firebase/installations-compat",vbe="@firebase/messaging",wbe="@firebase/messaging-compat",_be="@firebase/performance",kbe="@firebase/performance-compat",jbe="@firebase/remote-config",Sbe="@firebase/remote-config-compat",Nbe="@firebase/storage",Cbe="@firebase/storage-compat",Tbe="@firebase/firestore",Ebe="@firebase/ai",Abe="@firebase/firestore-compat",Pbe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="[DEFAULT]",Mbe={[G_]:"fire-core",[ibe]:"fire-core-compat",[lbe]:"fire-analytics",[obe]:"fire-analytics-compat",[ube]:"fire-app-check",[cbe]:"fire-app-check-compat",[dbe]:"fire-auth",[fbe]:"fire-auth-compat",[hbe]:"fire-rtdb",[pbe]:"fire-data-connect",[mbe]:"fire-rtdb-compat",[gbe]:"fire-fn",[ybe]:"fire-fn-compat",[bbe]:"fire-iid",[xbe]:"fire-iid-compat",[vbe]:"fire-fcm",[wbe]:"fire-fcm-compat",[_be]:"fire-perf",[kbe]:"fire-perf-compat",[jbe]:"fire-rc",[Sbe]:"fire-rc-compat",[Nbe]:"fire-gcs",[Cbe]:"fire-gcs-compat",[Tbe]:"fire-fst",[Abe]:"fire-fst-compat",[Ebe]:"fire-vertex","fire-js":"fire-js",[Pbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map,Rbe=new Map,X_=new Map;function L8(t,r){try{t.container.addComponent(r)}catch(e){oc.debug(`Component ${r.name} failed to register with FirebaseApp ${t.name}`,e)}}function Dd(t){const r=t.name;if(X_.has(r))return oc.debug(`There were multiple attempts to register component ${r}.`),!1;X_.set(r,t);for(const e of Mb.values())L8(e,t);for(const e of Rbe.values())L8(e,t);return!0}function aj(t,r){const e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eu=new Ux("app","Firebase",Dbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ibe{constructor(r,e,n){this._isDeleted=!1,this._options={...r},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw eu.create("app-deleted",{appName:this._name})}}function cV(t,r={}){let e=t;typeof r!="object"&&(r={name:r});const n={name:Q_,automaticDataCollectionEnabled:!0,...r},s=n.name;if(typeof s!="string"||!s)throw eu.create("bad-app-name",{appName:String(s)});if(e||(e=sV()),!e)throw eu.create("no-options");const a=Mb.get(s);if(a){if(q_(e,a.options)&&q_(n,a.config))return a;throw eu.create("duplicate-app",{appName:s})}const o=new zye(s);for(const u of X_.values())o.addComponent(u);const c=new Ibe(e,n,o);return Mb.set(s,c),c}function Obe(t=Q_){const r=Mb.get(t);if(!r&&t===Q_&&sV())return cV();if(!r)throw eu.create("no-app",{appName:t});return r}function tu(t,r,e){let n=Mbe[t]??t;e&&(n+=`-${e}`);const s=n.match(/\s|\//),a=r.match(/\s|\//);if(s||a){const o=[`Unable to register library "${n}" with version "${r}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${r}" contains illegal characters (whitespace or "/")`),oc.warn(o.join(" "));return}Dd(new xu(`${n}-version`,()=>({library:n,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fbe="firebase-heartbeat-database",Lbe=1,Vm="firebase-heartbeat-store";let Dw=null;function uV(){return Dw||(Dw=tbe(Fbe,Lbe,{upgrade:(t,r)=>{switch(r){case 0:try{t.createObjectStore(Vm)}catch(e){console.warn(e)}}}}).catch(t=>{throw eu.create("idb-open",{originalErrorMessage:t.message})})),Dw}async function Bbe(t){try{const e=(await uV()).transaction(Vm),n=await e.objectStore(Vm).get(dV(t));return await e.done,n}catch(r){if(r instanceof Qh)oc.warn(r.message);else{const e=eu.create("idb-get",{originalErrorMessage:r?.message});oc.warn(e.message)}}}async function B8(t,r){try{const n=(await uV()).transaction(Vm,"readwrite");await n.objectStore(Vm).put(r,dV(t)),await n.done}catch(e){if(e instanceof Qh)oc.warn(e.message);else{const n=eu.create("idb-set",{originalErrorMessage:e?.message});oc.warn(n.message)}}}function dV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $be=1024,zbe=30;class Vbe{constructor(r){this.container=r,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ube(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=$8();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats.length>zbe){const s=qbe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oc.warn(r)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=$8(),{heartbeatsToSend:e,unsentEntries:n}=Wbe(this._heartbeatsCache.heartbeats),s=nV(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return oc.warn(r),""}}}function $8(){return new Date().toISOString().substring(0,10)}function Wbe(t,r=$be){const e=[];let n=t.slice();for(const s of t){const a=e.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),z8(e)>r){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),z8(e)>r){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class Ube{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aV()?iV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Bbe(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const n=await this.read();return B8(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const n=await this.read();return B8(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...r.heartbeats]})}else return}}function z8(t){return nV(JSON.stringify({version:2,heartbeats:t})).length}function qbe(t){if(t.length===0)return-1;let r=0,e=t[0].date;for(let n=1;n<t.length;n++)t[n].date<e&&(e=t[n].date,r=n);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hbe(t){Dd(new xu("platform-logger",r=>new sbe(r),"PRIVATE")),Dd(new xu("heartbeat",r=>new Vbe(r),"PRIVATE")),tu(G_,F8,t),tu(G_,F8,"esm2020"),tu("fire-js","")}Hbe("");var Kbe="firebase",Gbe="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tu(Kbe,Gbe,"app");const Qbe=(t,r)=>r.some(e=>t instanceof e);let V8,W8;function Xbe(){return V8||(V8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ybe(){return W8||(W8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fV=new WeakMap,Y_=new WeakMap,hV=new WeakMap,Iw=new WeakMap,ij=new WeakMap;function Zbe(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(ru(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return r.then(e=>{e instanceof IDBCursor&&fV.set(e,t)}).catch(()=>{}),ij.set(r,t),r}function Jbe(t){if(Y_.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Y_.set(t,r)}let Z_={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return Y_.get(t);if(r==="objectStoreNames")return t.objectStoreNames||hV.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ru(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function exe(t){Z_=t(Z_)}function txe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...e){const n=t.call(Ow(this),r,...e);return hV.set(n,r.sort?r.sort():[r]),ru(n)}:Ybe().includes(t)?function(...r){return t.apply(Ow(this),r),ru(fV.get(this))}:function(...r){return ru(t.apply(Ow(this),r))}}function rxe(t){return typeof t=="function"?txe(t):(t instanceof IDBTransaction&&Jbe(t),Qbe(t,Xbe())?new Proxy(t,Z_):t)}function ru(t){if(t instanceof IDBRequest)return Zbe(t);if(Iw.has(t))return Iw.get(t);const r=rxe(t);return r!==t&&(Iw.set(t,r),ij.set(r,t)),r}const Ow=t=>ij.get(t);function nxe(t,r,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,r),c=ru(o);return n&&o.addEventListener("upgradeneeded",u=>{n(ru(o.result),u.oldVersion,u.newVersion,ru(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}const sxe=["get","getKey","getAll","getAllKeys","count"],axe=["put","add","delete","clear"],Fw=new Map;function U8(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Fw.get(r))return Fw.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=axe.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||sxe.includes(e)))return;const a=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),s&&u.done]))[0]};return Fw.set(r,a),a}exe(t=>({...t,get:(r,e,n)=>U8(r,e)||t.get(r,e,n),has:(r,e)=>!!U8(r,e)||t.has(r,e)}));const pV="@firebase/installations",oj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e4,gV=`w:${oj}`,yV="FIS_v2",ixe="https://firebaseinstallations.googleapis.com/v1",oxe=3600*1e3,lxe="installations",cxe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uxe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Id=new Ux(lxe,cxe,uxe);function bV(t){return t instanceof Qh&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV({projectId:t}){return`${ixe}/projects/${t}/installations`}function vV(t){return{token:t.token,requestStatus:2,expiresIn:fxe(t.expiresIn),creationTime:Date.now()}}async function wV(t,r){const n=(await r.json()).error;return Id.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _V({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dxe(t,{refreshToken:r}){const e=_V(t);return e.append("Authorization",hxe(r)),e}async function kV(t){const r=await t();return r.status>=500&&r.status<600?t():r}function fxe(t){return Number(t.replace("s","000"))}function hxe(t){return`${yV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pxe({appConfig:t,heartbeatServiceProvider:r},{fid:e}){const n=xV(t),s=_V(t),a=r.getImmediate({optional:!0});if(a){const l=await a.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={fid:e,authVersion:yV,appId:t.appId,sdkVersion:gV},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await kV(()=>fetch(n,c));if(u.ok){const l=await u.json();return{fid:l.fid||e,registrationStatus:2,refreshToken:l.refreshToken,authToken:vV(l.authToken)}}else throw await wV("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){return new Promise(r=>{setTimeout(r,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mxe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gxe=/^[cdef][\w-]{21}$/,J_="";function yxe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=bxe(t);return gxe.test(e)?e:J_}catch{return J_}}function bxe(t){return mxe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Map;function NV(t,r){const e=qx(t);CV(e,r),xxe(e,r)}function CV(t,r){const e=SV.get(t);if(e)for(const n of e)n(r)}function xxe(t,r){const e=vxe();e&&e.postMessage({key:t,fid:r}),wxe()}let Ju=null;function vxe(){return!Ju&&"BroadcastChannel"in self&&(Ju=new BroadcastChannel("[Firebase] FID Change"),Ju.onmessage=t=>{CV(t.data.key,t.data.fid)}),Ju}function wxe(){SV.size===0&&Ju&&(Ju.close(),Ju=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _xe="firebase-installations-database",kxe=1,Od="firebase-installations-store";let Lw=null;function lj(){return Lw||(Lw=nxe(_xe,kxe,{upgrade:(t,r)=>{switch(r){case 0:t.createObjectStore(Od)}}})),Lw}async function Rb(t,r){const e=qx(t),s=(await lj()).transaction(Od,"readwrite"),a=s.objectStore(Od),o=await a.get(e);return await a.put(r,e),await s.done,(!o||o.fid!==r.fid)&&NV(t,r.fid),r}async function TV(t){const r=qx(t),n=(await lj()).transaction(Od,"readwrite");await n.objectStore(Od).delete(r),await n.done}async function Hx(t,r){const e=qx(t),s=(await lj()).transaction(Od,"readwrite"),a=s.objectStore(Od),o=await a.get(e),c=r(o);return c===void 0?await a.delete(e):await a.put(c,e),await s.done,c&&(!o||o.fid!==c.fid)&&NV(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t){let r;const e=await Hx(t.appConfig,n=>{const s=jxe(n),a=Sxe(t,s);return r=a.registrationPromise,a.installationEntry});return e.fid===J_?{installationEntry:await r}:{installationEntry:e,registrationPromise:r}}function jxe(t){const r=t||{fid:yxe(),registrationStatus:0};return EV(r)}function Sxe(t,r){if(r.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Id.create("app-offline"));return{installationEntry:r,registrationPromise:s}}const e={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},n=Nxe(t,e);return{installationEntry:e,registrationPromise:n}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:Cxe(t)}:{installationEntry:r}}async function Nxe(t,r){try{const e=await pxe(t,r);return Rb(t.appConfig,e)}catch(e){throw bV(e)&&e.customData.serverCode===409?await TV(t.appConfig):await Rb(t.appConfig,{fid:r.fid,registrationStatus:0}),e}}async function Cxe(t){let r=await q8(t.appConfig);for(;r.registrationStatus===1;)await jV(100),r=await q8(t.appConfig);if(r.registrationStatus===0){const{installationEntry:e,registrationPromise:n}=await cj(t);return n||e}return r}function q8(t){return Hx(t,r=>{if(!r)throw Id.create("installation-not-found");return EV(r)})}function EV(t){return Txe(t)?{fid:t.fid,registrationStatus:0}:t}function Txe(t){return t.registrationStatus===1&&t.registrationTime+mV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Exe({appConfig:t,heartbeatServiceProvider:r},e){const n=Axe(t,e),s=dxe(t,e),a=r.getImmediate({optional:!0});if(a){const l=await a.getHeartbeatsHeader();l&&s.append("x-firebase-client",l)}const o={installation:{sdkVersion:gV,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await kV(()=>fetch(n,c));if(u.ok){const l=await u.json();return vV(l)}else throw await wV("Generate Auth Token",u)}function Axe(t,{fid:r}){return`${xV(t)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,r=!1){let e;const n=await Hx(t.appConfig,a=>{if(!AV(a))throw Id.create("not-registered");const o=a.authToken;if(!r&&Rxe(o))return a;if(o.requestStatus===1)return e=Pxe(t,r),a;{if(!navigator.onLine)throw Id.create("app-offline");const c=Ixe(a);return e=Mxe(t,c),c}});return e?await e:n.authToken}async function Pxe(t,r){let e=await H8(t.appConfig);for(;e.authToken.requestStatus===1;)await jV(100),e=await H8(t.appConfig);const n=e.authToken;return n.requestStatus===0?uj(t,r):n}function H8(t){return Hx(t,r=>{if(!AV(r))throw Id.create("not-registered");const e=r.authToken;return Oxe(e)?{...r,authToken:{requestStatus:0}}:r})}async function Mxe(t,r){try{const e=await Exe(t,r),n={...r,authToken:e};return await Rb(t.appConfig,n),e}catch(e){if(bV(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await TV(t.appConfig);else{const n={...r,authToken:{requestStatus:0}};await Rb(t.appConfig,n)}throw e}}function AV(t){return t!==void 0&&t.registrationStatus===2}function Rxe(t){return t.requestStatus===2&&!Dxe(t)}function Dxe(t){const r=Date.now();return r<t.creationTime||t.creationTime+t.expiresIn<r+oxe}function Ixe(t){const r={requestStatus:1,requestTime:Date.now()};return{...t,authToken:r}}function Oxe(t){return t.requestStatus===1&&t.requestTime+mV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fxe(t){const r=t,{installationEntry:e,registrationPromise:n}=await cj(r);return n?n.catch(console.error):uj(r).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lxe(t,r=!1){const e=t;return await Bxe(e),(await uj(e,r)).token}async function Bxe(t){const{registrationPromise:r}=await cj(t);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $xe(t){if(!t||!t.options)throw Bw("App Configuration");if(!t.name)throw Bw("App Name");const r=["projectId","apiKey","appId"];for(const e of r)if(!t.options[e])throw Bw(e);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bw(t){return Id.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="installations",zxe="installations-internal",Vxe=t=>{const r=t.getProvider("app").getImmediate(),e=$xe(r),n=aj(r,"heartbeat");return{app:r,appConfig:e,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Wxe=t=>{const r=t.getProvider("app").getImmediate(),e=aj(r,PV).getImmediate();return{getId:()=>Fxe(e),getToken:s=>Lxe(e,s)}};function Uxe(){Dd(new xu(PV,Vxe,"PUBLIC")),Dd(new xu(zxe,Wxe,"PRIVATE"))}Uxe();tu(pV,oj);tu(pV,oj,"esm2020");const qxe=(t,r)=>r.some(e=>t instanceof e);let K8,G8;function Hxe(){return K8||(K8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kxe(){return G8||(G8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MV=new WeakMap,ek=new WeakMap,RV=new WeakMap,$w=new WeakMap,dj=new WeakMap;function Gxe(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{e(Zl(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return r.then(e=>{e instanceof IDBCursor&&MV.set(e,t)}).catch(()=>{}),dj.set(r,t),r}function Qxe(t){if(ek.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{e(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});ek.set(t,r)}let tk={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return ek.get(t);if(r==="objectStoreNames")return t.objectStoreNames||RV.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Zl(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function Xxe(t){tk=t(tk)}function Yxe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...e){const n=t.call(zw(this),r,...e);return RV.set(n,r.sort?r.sort():[r]),Zl(n)}:Kxe().includes(t)?function(...r){return t.apply(zw(this),r),Zl(MV.get(this))}:function(...r){return Zl(t.apply(zw(this),r))}}function Zxe(t){return typeof t=="function"?Yxe(t):(t instanceof IDBTransaction&&Qxe(t),qxe(t,Hxe())?new Proxy(t,tk):t)}function Zl(t){if(t instanceof IDBRequest)return Gxe(t);if($w.has(t))return $w.get(t);const r=Zxe(t);return r!==t&&($w.set(t,r),dj.set(r,t)),r}const zw=t=>dj.get(t);function DV(t,r,{blocked:e,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,r),c=Zl(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Zl(o.result),u.oldVersion,u.newVersion,Zl(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}function Vw(t,{blocked:r}={}){const e=indexedDB.deleteDatabase(t);return r&&e.addEventListener("blocked",n=>r(n.oldVersion,n)),Zl(e).then(()=>{})}const Jxe=["get","getKey","getAll","getAllKeys","count"],eve=["put","add","delete","clear"],Ww=new Map;function Q8(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Ww.get(r))return Ww.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=eve.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Jxe.includes(e)))return;const a=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),s&&u.done]))[0]};return Ww.set(r,a),a}Xxe(t=>({...t,get:(r,e,n)=>Q8(r,e)||t.get(r,e,n),has:(r,e)=>!!Q8(r,e)||t.has(r,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tve="/firebase-messaging-sw.js",rve="/firebase-cloud-messaging-push-scope",IV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nve="https://fcmregistrations.googleapis.com/v1",OV="google.c.a.c_id",sve="google.c.a.c_l",ave="google.c.a.ts",ive="google.c.a.e",X8=1e4;var Y8;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Y8||(Y8={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Wm;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Wm||(Wm={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const r=new Uint8Array(t);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ove(t){const r="=".repeat((4-t.length%4)%4),e=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="fcm_token_details_db",lve=5,Z8="fcm_token_object_Store";async function cve(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(Uw))return null;let r=null;return(await DV(Uw,lve,{upgrade:async(n,s,a,o)=>{if(s<2||!n.objectStoreNames.contains(Z8))return;const c=o.objectStore(Z8),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(s===2){const l=u;if(!l.auth||!l.p256dh||!l.endpoint)return;r={token:l.fcmToken,createTime:l.createTime??Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:typeof l.vapidKey=="string"?l.vapidKey:Il(l.vapidKey)}}}else if(s===3){const l=u;r={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Il(l.auth),p256dh:Il(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Il(l.vapidKey)}}}else if(s===4){const l=u;r={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Il(l.auth),p256dh:Il(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Il(l.vapidKey)}}}}}})).close(),await Vw(Uw),await Vw("fcm_vapid_details_db"),await Vw("undefined"),uve(r)?r:null}function uve(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:r}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dve="firebase-messaging-database",fve=1,Um="firebase-messaging-store";let qw=null;function FV(){return qw||(qw=DV(dve,fve,{upgrade:(t,r)=>{switch(r){case 0:t.createObjectStore(Um)}}})),qw}async function hve(t){const r=LV(t),n=await(await FV()).transaction(Um).objectStore(Um).get(r);if(n)return n;{const s=await cve(t.appConfig.senderId);if(s)return await fj(t,s),s}}async function fj(t,r){const e=LV(t),s=(await FV()).transaction(Um,"readwrite");return await s.objectStore(Um).put(r,e),await s.done,r}function LV({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pve={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ja=new Ux("messaging","Messaging",pve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mve(t,r){const e=await pj(t),n=BV(r),s={method:"POST",headers:e,body:JSON.stringify(n)};let a;try{a=await(await fetch(hj(t.appConfig),s)).json()}catch(o){throw ja.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(a.error){const o=a.error.message;throw ja.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw ja.create("token-subscribe-no-token");return a.token}async function gve(t,r){const e=await pj(t),n=BV(r.subscriptionOptions),s={method:"PATCH",headers:e,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${hj(t.appConfig)}/${r.token}`,s)).json()}catch(o){throw ja.create("token-update-failed",{errorInfo:o?.toString()})}if(a.error){const o=a.error.message;throw ja.create("token-update-failed",{errorInfo:o})}if(!a.token)throw ja.create("token-update-no-token");return a.token}async function yve(t,r){const n={method:"DELETE",headers:await pj(t)};try{const a=await(await fetch(`${hj(t.appConfig)}/${r}`,n)).json();if(a.error){const o=a.error.message;throw ja.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw ja.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}}function hj({projectId:t}){return`${nve}/projects/${t}/registrations`}async function pj({appConfig:t,installations:r}){const e=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})}function BV({p256dh:t,auth:r,endpoint:e,vapidKey:n}){const s={web:{endpoint:e,auth:r,p256dh:t}};return n!==IV&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bve=10080*60*1e3;async function xve(t){const r=await wve(t.swRegistration,t.vapidKey),e={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:r.endpoint,auth:Il(r.getKey("auth")),p256dh:Il(r.getKey("p256dh"))},n=await hve(t.firebaseDependencies);if(n){if(_ve(n.subscriptionOptions,e))return Date.now()>=n.createTime+bve?vve(t,{token:n.token,createTime:Date.now(),subscriptionOptions:e}):n.token;try{await yve(t.firebaseDependencies,n.token)}catch(s){console.warn(s)}return J8(t.firebaseDependencies,e)}else return J8(t.firebaseDependencies,e)}async function vve(t,r){try{const e=await gve(t.firebaseDependencies,r),n={...r,token:e,createTime:Date.now()};return await fj(t.firebaseDependencies,n),e}catch(e){throw e}}async function J8(t,r){const n={token:await mve(t,r),createTime:Date.now(),subscriptionOptions:r};return await fj(t,n),n.token}async function wve(t,r){const e=await t.pushManager.getSubscription();return e||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ove(r)})}function _ve(t,r){const e=r.vapidKey===t.vapidKey,n=r.endpoint===t.endpoint,s=r.auth===t.auth,a=r.p256dh===t.p256dh;return e&&n&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){const r={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return kve(r,t),jve(r,t),Sve(r,t),r}function kve(t,r){if(!r.notification)return;t.notification={};const e=r.notification.title;e&&(t.notification.title=e);const n=r.notification.body;n&&(t.notification.body=n);const s=r.notification.image;s&&(t.notification.image=s);const a=r.notification.icon;a&&(t.notification.icon=a)}function jve(t,r){r.data&&(t.data=r.data)}function Sve(t,r){if(!r.fcmOptions&&!r.notification?.click_action)return;t.fcmOptions={};const e=r.fcmOptions?.link??r.notification?.click_action;e&&(t.fcmOptions.link=e);const n=r.fcmOptions?.analytics_label;n&&(t.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nve(t){return typeof t=="object"&&!!t&&OV in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cve(t){if(!t||!t.options)throw Hw("App Configuration Object");if(!t.name)throw Hw("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:e}=t;for(const n of r)if(!e[n])throw Hw(n);return{appName:t.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function Hw(t){return ja.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(r,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=Cve(r);this.firebaseDependencies={app:r,appConfig:s,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eve(t){try{t.swRegistration=await navigator.serviceWorker.register(tve,{scope:rve}),t.swRegistration.update().catch(()=>{}),await Ave(t.swRegistration)}catch(r){throw ja.create("failed-service-worker-registration",{browserErrorMessage:r?.message})}}async function Ave(t){return new Promise((r,e)=>{const n=setTimeout(()=>e(new Error(`Service worker not registered after ${X8} ms`)),X8),s=t.installing||t.waiting;t.active?(clearTimeout(n),r()):s?s.onstatechange=a=>{a.target?.state==="activated"&&(s.onstatechange=null,clearTimeout(n),r())}:(clearTimeout(n),e(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pve(t,r){if(!r&&!t.swRegistration&&await Eve(t),!(!r&&t.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw ja.create("invalid-sw-registration");t.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mve(t,r){r?t.vapidKey=r:t.vapidKey||(t.vapidKey=IV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,r){if(!navigator)throw ja.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ja.create("permission-blocked");return await Mve(t,r?.vapidKey),await Pve(t,r?.serviceWorkerRegistration),xve(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rve(t,r,e){const n=Dve(r);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:e[OV],message_name:e[sve],message_time:e[ave],message_device_time:Math.floor(Date.now()/1e3)})}function Dve(t){switch(t){case Wm.NOTIFICATION_CLICKED:return"notification_open";case Wm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ive(t,r){const e=r.data;if(!e.isFirebaseMessaging)return;t.onMessageHandler&&e.messageType===Wm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(eT(e)):t.onMessageHandler.next(eT(e)));const n=e.data;Nve(n)&&n[ive]==="1"&&await Rve(t,e.messageType,n)}const tT="@firebase/messaging",rT="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ove=t=>{const r=new Tve(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Ive(r,e)),r},Fve=t=>{const r=t.getProvider("messaging").getImmediate();return{getToken:n=>$V(r,n)}};function Lve(){Dd(new xu("messaging",Ove,"PUBLIC")),Dd(new xu("messaging-internal",Fve,"PRIVATE")),tu(tT,rT),tu(tT,rT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bve(){try{await iV()}catch{return!1}return typeof window<"u"&&aV()&&Dye()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ve(t,r){if(!navigator)throw ja.create("only-available-in-window");return t.onMessageHandler=r,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zve(t=Obe()){return Bve().then(r=>{if(!r)throw ja.create("unsupported-browser")},r=>{throw ja.create("indexed-db-unsupported")}),aj(nj(t),"messaging").getImmediate()}async function Vve(t,r){return t=nj(t),$V(t,r)}function Wve(t,r){return t=nj(t),$ve(t,r)}Lve();const zV={apiKey:"AIzaSyBhVNHGcHWZqbbInv9WUZeyBoPEx3yvN8U",authDomain:"app2-eb4df.firebaseapp.com",projectId:"app2-eb4df",storageBucket:"app2-eb4df.firebasestorage.app",messagingSenderId:"364100399820",appId:"1:364100399820:android:05fb7a9df8da1b771cc869"},Uve=()=>Object.values(zV).every(t=>t&&typeof t=="string");let Kw=null,Db=null;const VV=()=>{try{if(!Uve()){console.warn("[Firebase] Invalid or missing Firebase configuration in environment variables");return}Kw||(Kw=cV(zV)),Db||(Db=zve(Kw))}catch(t){console.error("[Firebase] Failed to initialize Firebase:",t)}},WV=()=>(Db||VV(),Db),UV=async(t=0)=>{const e=1e3*(t+1);try{const n=WV();if(!n)return console.warn("[Firebase] Firebase Messaging not initialized - skipping token request"),null;const s="YGwRxS-k2lYQ-HdK5KkTYdceZgM3xcaTYxQoitDTwZk";try{const a=await Vve(n,{vapidKey:s});return a?(console.log("[Firebase] Successfully obtained FCM token"),a):null}catch(a){return a?.code==="messaging/failed-service-worker-registration"&&t<3?(console.warn(`[Firebase] Service Worker registration failed, retrying in ${e}ms (attempt ${t+1}/3)`),await new Promise(o=>setTimeout(o,e)),UV(t+1)):(a?.code==="messaging/unsupported-browser"?console.warn("[Firebase] Push notifications not supported in this browser"):a?.code==="messaging/permission-blocked"?console.warn("[Firebase] Push notification permission has been blocked"):a?.code==="messaging/service-worker-registration-failed"?console.warn("[Firebase] Service Worker registration failed"):console.error("[Firebase] Failed to get FCM token:",a?.message||a),null)}}catch(n){return console.error("[Firebase] Unexpected error in getFirebaseToken:",n),null}},qve=t=>{try{const r=WV();if(!r)throw new Error("Firebase Messaging not initialized");return Wve(r,n=>{t(n)})}catch(r){return console.error("[Firebase] Failed to set up message listener:",r),null}},Hve=()=>{const{toast:t}=pn(),[r]=E.useState(()=>{if(typeof window>"u")return!1;try{return"serviceWorker"in navigator&&"PushManager"in window&&typeof Notification<"u"}catch{return!1}}),[e,n]=E.useState(()=>{if(typeof window>"u")return!1;try{return typeof Notification<"u"&&Notification.permission==="granted"}catch{return!1}}),[s,a]=E.useState(!1),[o,c]=E.useState(null),u=E.useRef(null);E.useEffect(()=>((async()=>{if(!r){c("Push notifications are not supported in this browser");return}try{a(!0),VV();const p=qve(f=>{const h=f.notification;h&&t({title:h.title||"New Notification",description:h.body})});p&&(u.current=p)}catch(p){const f=p instanceof Error?p.message:"Failed to initialize push notifications";c(f),console.error("[usePush] Initialization error:",p)}finally{a(!1)}})(),()=>{u.current&&u.current()}),[r,t]);const l=E.useCallback(async()=>{if(!r){const d="    ";return c(d),console.warn("[usePush]",d),!1}try{if(a(!0),c(null),typeof Notification>"u")return c("   "),!1;const d=await Notification.requestPermission();if(d==="granted"){n(!0);const p=await UV();if(p)try{const f=await fetch("/api/push/token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({token:p})});if(!f.ok)throw new Error(`Failed to register token: ${f.statusText}`);t({title:"Success",description:"Push notifications enabled successfully"}),localStorage.setItem("fcm_token",p)}catch(f){const h=f instanceof Error?f.message:"Failed to register push token";return console.error("[usePush] Token registration error:",f),c(h),!1}else return c("Failed to generate FCM token"),!1;return!0}else return d==="denied"?(c("Push notification permission denied by user"),!1):(c("Push notification permission dismissed"),!1)}catch(d){const p=d instanceof Error?d.message:"Failed to request push permission";return c(p),console.error("[usePush] Permission request error:",d),!1}finally{a(!1)}},[r,t]);return{isPushSupported:r,isPermissionGranted:e,isInitializing:s,error:o,requestPushPermission:l,unsubscribe:u.current}},Kve={"/":{title:" ",icon:fm},"/projects":{title:" ",icon:ds},"/workers":{title:" ",icon:zn},"/suppliers-pro":{title:" ",icon:la},"/worker-attendance":{title:" ",icon:d0},"/worker-accounts":{title:" ",icon:Sr},"/material-purchase":{title:" ",icon:_n},"/project-transfers":{title:"  ",icon:Gc},"/project-transactions":{title:" ",icon:oa},"/well-accounting":{title:" ",icon:rl},"/well-cost-report":{title:"  ",icon:oa},"/wells":{title:" ",icon:sM},"/transport-management":{title:" ",icon:la},"/daily-expenses":{title:" ",icon:Sr},"/deployment":{title:"   ",icon:Ks},"/settings":{title:" ",icon:u0},"/project-fund-custody":{title:"  ",icon:kd},"/admin-notifications":{title:" ",icon:nl},"/ai-chat":{title:" ",icon:Ik},"/security-policies":{title:" ",icon:NQ},"/equipment":{title:" ",icon:Si},"/reports":{title:"",icon:mQ},"/local-db":{title:"   ",icon:li},"/admin/sync":{title:" ",icon:xs}};function Gve(){const[t]=Os(),{toast:r}=pn(),{selectedProjectId:e,selectedProjectName:n,selectProject:s}=Io(),[a,o]=E.useState({isOnline:!0,pendingCount:0}),{isPermissionGranted:c,requestPushPermission:u,isInitializing:l}=Hve(),[d,p]=E.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");E.useEffect(()=>{const A=window.document.documentElement;d==="dark"?A.classList.add("dark"):A.classList.remove("dark"),localStorage.setItem("theme",d)},[d]);const f=()=>{p(A=>A==="light"?"dark":"light")};E.useEffect(()=>{const A=zx(B=>{o({isOnline:B.isOnline,pendingCount:B.pendingCount||0})});return()=>A()},[]);const{isOnline:h,pendingCount:g}=a,{data:y=[],isLoading:m}=xt({queryKey:xe.projects,queryFn:async()=>{try{const A=await Ve("/api/projects","GET");return A?.data||A||[]}catch{return[]}}}),v=Kve[t]||{title:"AXION SYSTEM",icon:_Q},x=v.icon,S=(A,B)=>{s(A,B),r({title:"  ",description:B})},C=async()=>{if(c){r({title:" ",description:"   ."});return}await u()};return i.jsxs("div",{className:"flex items-center justify-between h-full w-full",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:i.jsx(x,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col justify-center",children:[i.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:v.title}),i.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"AXION SYSTEM"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Re,{variant:"outline",size:"icon",onClick:C,disabled:l,className:Ee("h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",c?"text-primary":"text-slate-400"),title:c?" ":" ",children:i.jsx(oQ,{className:"h-4 w-4"})}),i.jsx(_ye,{}),i.jsx(Re,{variant:"outline",size:"icon",onClick:f,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:d==="light"?" ":" ",children:d==="light"?i.jsx(AQ,{className:"h-4 w-4 text-slate-700"}):i.jsx(FQ,{className:"h-4 w-4 text-amber-400"})}),i.jsxs(IL,{children:[i.jsx(OL,{asChild:!0,children:i.jsx(Re,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:e?e===Es?Ho:n:" ",children:i.jsx(yQ,{className:"h-4 w-4 text-primary"})})}),i.jsxs(B3,{align:"end",className:"w-64 max-h-80",children:[i.jsx(FL,{className:"text-right",children:" "}),i.jsx(LL,{}),m?i.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):i.jsxs(i.Fragment,{children:[i.jsxs(Cb,{onClick:()=>S(Es,Ho),className:"flex justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sM,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{children:Ho})]}),e===Es&&i.jsx(wn,{className:"h-4 w-4 text-green-500"})]}),y.map(A=>i.jsxs(Cb,{onClick:()=>S(A.id.toString(),A.name),className:"flex justify-between",children:[i.jsx("span",{children:A.name}),e===A.id.toString()&&i.jsx(wn,{className:"h-4 w-4 text-green-500"})]},A.id))]})]})]})]})]})}const Qve=[{path:"/",icon:fm,label:"",key:"dashboard"},{path:"/projects",icon:ds,label:"",key:"projects"},{path:"/workers",icon:zn,label:"",key:"workers"},{path:"/material-purchase",icon:_n,label:"",key:"material_purchase"},{path:"/transport-management",icon:la,label:"",key:"transport_management"},{path:"/worker-attendance",icon:d0,label:"",key:"attendance"},{path:"/daily-expenses",icon:rl,label:"",key:"expenses"}],Xve=[{category:" ",pages:[{path:"/",icon:fm,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:ds,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:zn,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:la,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:Jo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:rl,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:W2,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:d0,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:rl,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:_n,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:la,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:Sr,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:u0,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:Sr,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:Gc,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:oa,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:nM,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/reports",icon:W2,label:"",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:zn,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:ki,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:nl,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:li,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:Si,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:ki,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:oM,label:"  ",description:"     ",requireAdmin:!0}]},{category:"  ",pages:[{path:"/ai-chat",icon:YP,label:" ",description:"    ",requireAdmin:!0},{path:"/local-db",icon:li,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:nl,label:" ",description:"   ",requireAdmin:!0},{path:"/admin/sync",icon:xs,label:" ",description:"     ",requireAdmin:!0}]}];function Yve(){const[t,r]=Os(),[e,n]=E.useState(!1),[s,a]=E.useState(""),{user:o}=uc(),c=o?.role==="admin",u=Xve.map(f=>({...f,pages:f.pages.filter(h=>!h.requireAdmin||c)})).filter(f=>f.pages.length>0),l=E.useMemo(()=>{if(!s.trim())return u;const f=s.toLowerCase();return u.map(h=>({...h,pages:h.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(h=>h.pages.length>0)},[s,u]),d=f=>{r(f),n(!1),a("")},p=u.reduce((f,h)=>f+h.pages.length,0);return i.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:i.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[Qve.map(f=>{const h=f.icon,g=t===f.path;return i.jsxs(Re,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>r(f.path),children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx(Em,{children:g&&i.jsx(vn.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),i.jsx(h,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),i.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&i.jsx(vn.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),i.jsxs(Px,{open:e,onOpenChange:n,modal:!0,children:[i.jsx(m3,{asChild:!0,children:i.jsxs(Re,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${e?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[e&&i.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),i.jsx(pQ,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${e?"scale-110":"group-hover:scale-105"}`})]}),i.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${e?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),i.jsxs(T0,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>n(!1),onInteractOutside:()=>n(!1),children:[i.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),i.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[i.jsx(g3,{children:i.jsx(E0,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[i.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.reduce((f,h)=>f+h.pages.length,0),"  ",p]}),i.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),i.jsxs("div",{className:"relative group",children:[i.jsx(To,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),i.jsx(yt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:s,onChange:f=>a(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),s&&i.jsx(Re,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>a(""),children:i.jsx(Rs,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),i.jsx(Oo,{className:"h-[calc(90vh-180px)]",children:i.jsx("div",{className:"px-4 pb-24",children:l.length>0?i.jsx("div",{className:"space-y-6",children:i.jsx(Em,{mode:"wait",children:l.map((f,h)=>i.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:h*.05},className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[i.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),i.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),i.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=t===g.path;return i.jsx(vn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs(Re,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&i.jsx(vn.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),i.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[i.jsx(vn.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:i.jsx(m,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[i.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),i.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},h))})}):i.jsxs(vn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(To,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),i.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function Zve(){const{floatingAction:t,floatingLabel:r,refreshAction:e}=Fo();return!t&&!e?null:i.jsxs("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] flex flex-col gap-3 pointer-events-auto items-center",children:[e&&i.jsx(Re,{onClick:()=>e(),className:"h-10 w-10 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",size:"icon",title:"","data-testid":"button-floating-refresh",children:i.jsx(xs,{className:"h-4 w-4"})}),t&&i.jsx(Re,{onClick:()=>t(),className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:r,"data-testid":"button-floating-add",children:i.jsx(gs,{className:"h-5 w-5"})})]})}const Gw=768;function Jve(){const[t,r]=E.useState(void 0);return E.useEffect(()=>{const e=window.matchMedia(`(max-width: ${Gw-1}px)`),n=()=>{r(window.innerWidth<Gw)};return e.addEventListener("change",n),r(window.innerWidth<Gw),()=>e.removeEventListener("change",n)},[]),!!t}var e1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t1e=e1e.reduce((t,r)=>{const e=g0(`Primitive.${r}`),n=E.forwardRef((s,a)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...c,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),r1e="Separator",nT="horizontal",n1e=["horizontal","vertical"],qV=E.forwardRef((t,r)=>{const{decorative:e,orientation:n=nT,...s}=t,a=s1e(n)?n:nT,c=e?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(t1e.div,{"data-orientation":a,...c,...s,ref:r})});qV.displayName=r1e;function s1e(t){return n1e.includes(t)}var HV=qV;const KV=E.forwardRef(({className:t,orientation:r="horizontal",decorative:e=!0,...n},s)=>i.jsx(HV,{ref:s,decorative:e,orientation:r,className:Ee("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));KV.displayName=HV.displayName;const a1e="sidebar_state",i1e=3600*24*7,o1e="16rem",l1e="16rem",c1e="3rem",u1e="b",GV=E.createContext(null);function $0(){const t=E.useContext(GV);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const QV=E.forwardRef(({defaultOpen:t=!0,open:r,onOpenChange:e,className:n,style:s,children:a,...o},c)=>{const u=Jve(),[l,d]=E.useState(!1),[p,f]=E.useState(t),h=r??p,g=E.useCallback(x=>{const S=typeof x=="function"?x(h):x;e?e(S):f(S),document.cookie=`${a1e}=${S}; path=/; max-age=${i1e}`},[e,h]),y=E.useCallback(()=>u?d(x=>!x):g(x=>!x),[u,g,d]);E.useEffect(()=>{const x=S=>{S.key===u1e&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const m=h?"expanded":"collapsed",v=E.useMemo(()=>({state:m,open:h,setOpen:g,isMobile:u,openMobile:l,setOpenMobile:d,toggleSidebar:y}),[m,h,g,u,l,d,y]);return i.jsx(GV.Provider,{value:v,children:i.jsx(nx,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":o1e,"--sidebar-width-icon":c1e,...s},className:Ee("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...o,children:a})})})});QV.displayName="SidebarProvider";const XV=E.forwardRef(({side:t="left",variant:r="sidebar",collapsible:e="offcanvas",className:n,children:s,...a},o)=>{const{isMobile:c,state:u,openMobile:l,setOpenMobile:d}=$0();return e==="none"?i.jsx("div",{className:Ee("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...a,children:s}):c?i.jsx(Px,{open:l,onOpenChange:d,...a,children:i.jsxs(T0,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":l1e},side:t,children:[i.jsxs(g3,{className:"sr-only",children:[i.jsx(E0,{children:"Sidebar"}),i.jsx(fF,{children:"Displays the mobile sidebar."})]}),i.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):i.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?e:"","data-variant":r,"data-side":t,children:[i.jsx("div",{className:Ee("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:Ee("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});XV.displayName="Sidebar";const YV=E.forwardRef(({className:t,onClick:r,...e},n)=>{const{toggleSidebar:s}=$0();return i.jsxs(Re,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ee("h-7 w-7",t),onClick:a=>{r?.(a),s()},...e,children:[i.jsx(MQ,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});YV.displayName="SidebarTrigger";const d1e=E.forwardRef(({className:t,...r},e)=>{const{toggleSidebar:n}=$0();return i.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ee("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})});d1e.displayName="SidebarRail";const ZV=E.forwardRef(({className:t,...r},e)=>i.jsx("main",{ref:e,className:Ee("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r}));ZV.displayName="SidebarInset";const f1e=E.forwardRef(({className:t,...r},e)=>i.jsx(yt,{ref:e,"data-sidebar":"input",className:Ee("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r}));f1e.displayName="SidebarInput";const JV=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"header",className:Ee("flex flex-col gap-2 p-2",t),...r}));JV.displayName="SidebarHeader";const eW=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"footer",className:Ee("flex flex-col gap-2 p-2",t),...r}));eW.displayName="SidebarFooter";const h1e=E.forwardRef(({className:t,...r},e)=>i.jsx(KV,{ref:e,"data-sidebar":"separator",className:Ee("mx-2 w-auto bg-sidebar-border",t),...r}));h1e.displayName="SidebarSeparator";const tW=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"content",className:Ee("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r}));tW.displayName="SidebarContent";const rW=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"group",className:Ee("relative flex w-full min-w-0 flex-col p-2",t),...r}));rW.displayName="SidebarGroup";const nW=E.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?qd:"div";return i.jsx(s,{ref:n,"data-sidebar":"group-label",className:Ee("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...e})});nW.displayName="SidebarGroupLabel";const p1e=E.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?qd:"button";return i.jsx(s,{ref:n,"data-sidebar":"group-action",className:Ee("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...e})});p1e.displayName="SidebarGroupAction";const sW=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"group-content",className:Ee("w-full text-sm",t),...r}));sW.displayName="SidebarGroupContent";const rk=E.forwardRef(({className:t,...r},e)=>i.jsx("ul",{ref:e,"data-sidebar":"menu",className:Ee("flex w-full min-w-0 flex-col gap-1",t),...r}));rk.displayName="SidebarMenu";const Ly=E.forwardRef(({className:t,...r},e)=>i.jsx("li",{ref:e,"data-sidebar":"menu-item",className:Ee("group/menu-item relative",t),...r}));Ly.displayName="SidebarMenuItem";const m1e=Vd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),By=E.forwardRef(({asChild:t=!1,isActive:r=!1,variant:e="default",size:n="default",tooltip:s,className:a,...o},c)=>{const u=t?qd:"button",{isMobile:l,state:d}=$0(),p=i.jsx(u,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":r,className:Ee(m1e({variant:e,size:n}),a),...o});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(Gk,{children:[i.jsx(Qk,{asChild:!0,children:p}),i.jsx(sx,{side:"right",align:"center",hidden:d!=="collapsed"||l,...s})]})):p});By.displayName="SidebarMenuButton";const g1e=E.forwardRef(({className:t,asChild:r=!1,showOnHover:e=!1,...n},s)=>{const a=r?qd:"button";return i.jsx(a,{ref:s,"data-sidebar":"menu-action",className:Ee("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});g1e.displayName="SidebarMenuAction";const y1e=E.forwardRef(({className:t,...r},e)=>i.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:Ee("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r}));y1e.displayName="SidebarMenuBadge";const b1e=E.forwardRef(({className:t,showIcon:r=!1,...e},n)=>{const s=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ee("flex h-8 items-center gap-2 rounded-md px-2",t),...e,children:[r&&i.jsx(un,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(un,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});b1e.displayName="SidebarMenuSkeleton";const x1e=E.forwardRef(({className:t,...r},e)=>i.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:Ee("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r}));x1e.displayName="SidebarMenuSub";const v1e=E.forwardRef(({...t},r)=>i.jsx("li",{ref:r,...t}));v1e.displayName="SidebarMenuSubItem";const w1e=E.forwardRef(({asChild:t=!1,size:r="md",isActive:e,className:n,...s},a)=>{const o=t?qd:"a";return i.jsx(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":r,"data-active":e,className:Ee("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});w1e.displayName="SidebarMenuSubButton";const _1e=[{title:"",icon:fm,items:[{title:" ",url:"/",icon:fm},{title:" ",url:"/projects",icon:ds}]},{title:" ",icon:zn,items:[{title:" ",url:"/project-transactions",icon:oa},{title:" ",url:"/workers",icon:zn},{title:" ",url:"/worker-attendance",icon:d0},{title:" ",url:"/worker-accounts",icon:kd}]},{title:" ",icon:_n,items:[{title:" ",url:"/material-purchase",icon:_n},{title:" ",url:"/material-purchases",icon:_n},{title:"",url:"/suppliers-pro",icon:la},{title:" ",url:"/transport-management",icon:la},{title:"",url:"/customers",icon:zn},{title:" ",icon:Si,url:"/equipment"}]},{title:" ",icon:rl,items:[{title:" ",url:"/daily-expenses",icon:rl},{title:" ",url:"/well-accounting",icon:rl},{title:" ",url:"/well-cost-report",icon:Zo},{title:"",url:"/reports",icon:Zo}]},{title:" ",icon:Kl,items:[{title:" ",icon:Ik,url:"/ai-chat"},{title:" ",icon:Kl,url:"/security-policies"},{title:" ",icon:Ks,url:"/admin/data-health"},{title:" ",icon:Kl,url:"/admin/backups"},{title:" ",icon:xs,url:"/admin/sync"},{title:" ",icon:li,url:"/local-db"}]}];function k1e(){const[t,r]=Os(),{logout:e,user:n}=uc(),{setOpenMobile:s,isMobile:a}=$0(),o=c=>{r(c),a&&s(!1)};return i.jsxs(XV,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[i.jsx(JV,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:i.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[i.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),i.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),i.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),i.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[i.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[i.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),i.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),i.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),i.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),i.jsxs(tW,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[_1e.map(c=>i.jsx(Wi,{defaultOpen:!0,className:"group/collapsible",children:i.jsxs(rW,{children:[i.jsx(nW,{asChild:!0,children:i.jsxs(Ui,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[i.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:c.title}),i.jsx(Bn,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),i.jsx(qi,{children:i.jsx(sW,{children:i.jsx(rk,{children:c.items.map(u=>i.jsx(Ly,{children:i.jsx(By,{asChild:!0,isActive:t===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:i.jsxs("a",{href:u.url,onClick:l=>{l.preventDefault(),o(u.url)},children:[i.jsx(u.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},c.title)),i.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),i.jsxs(eW,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[i.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:n?.name?.charAt(0)||"U"}),i.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[i.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:n?.name||""}),i.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:n?.email})]})]}),i.jsxs(rk,{children:[i.jsx(Ly,{children:i.jsxs(By,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>o("/settings"),children:[i.jsx(u0,{className:"h-5 w-5 opacity-60"}),i.jsx("span",{className:"text-sm font-medium",children:""})]})}),i.jsx(Ly,{children:i.jsxs(By,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{e(),a&&s(!1)},children:[i.jsx(CQ,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),i.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:i.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function j1e(){const[t,r]=E.useState("online"),[e,n]=E.useState(0),[s,a]=E.useState(0),[o,c]=E.useState(!1),[u,l]=E.useState(!1),d=E.useCallback(async()=>{try{const f=await iu();n(f.length)}catch{n(0)}},[]);E.useEffect(()=>{const f=()=>{navigator.onLine?t==="offline"&&(r("syncing"),c(!1),p()):(r("offline"),c(!1),d())};window.addEventListener("online",f),window.addEventListener("offline",f);const h=()=>{d(),c(!1)};return window.addEventListener("offline-mutation-queued",h),navigator.onLine||r("offline"),d(),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f),window.removeEventListener("offline-mutation-queued",h)}},[t,d]);const p=E.useCallback(async()=>{r("syncing"),a(10);try{const f=await iu();if(f.length===0){r("completed"),a(100),l(!0),setTimeout(()=>{l(!1),r("online"),a(0)},2500);return}const h=f.length;let g=0;const y=setInterval(()=>{g=Math.min(g+1,h),a(Math.round(g/h*100))},500);await yy(),clearInterval(y),a(100),r("completed"),l(!0),n(0),setTimeout(()=>{l(!1),r("online"),a(0)},2500)}catch(f){console.error("[SyncTracker]  :",f),r("online"),a(0),d()}},[d]);return t==="online"&&!u&&e===0||o&&t==="offline"&&e===0?null:i.jsx("div",{className:Ee("fixed bottom-20 left-4 right-4 z-[100] transition-all duration-300 max-w-sm mx-auto","pointer-events-auto"),dir:"rtl","data-testid":"sync-progress-tracker",children:i.jsxs("div",{className:Ee("rounded-xl px-3 py-2 shadow-lg border flex items-center gap-2",t==="offline"&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800",t==="syncing"&&"bg-blue-50 dark:bg-blue-950/80 border-blue-200 dark:border-blue-800",(t==="completed"||u)&&"bg-green-50 dark:bg-green-950/80 border-green-200 dark:border-green-800",t==="online"&&e>0&&"bg-amber-50 dark:bg-amber-950/80 border-amber-200 dark:border-amber-800"),children:[i.jsxs("div",{className:Ee("shrink-0 p-1.5 rounded-lg",t==="offline"&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400",t==="syncing"&&"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400",(t==="completed"||u)&&"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400",t==="online"&&e>0&&"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400"),children:[t==="offline"&&i.jsx(uQ,{className:"w-4 h-4"}),t==="syncing"&&i.jsx(xs,{className:"w-4 h-4 animate-spin"}),(t==="completed"||u)&&i.jsx(wn,{className:"w-4 h-4"}),t==="online"&&e>0&&i.jsx(pd,{className:"w-4 h-4"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:Ee("text-xs font-medium leading-tight",t==="offline"&&"text-amber-800 dark:text-amber-300",t==="syncing"&&"text-blue-800 dark:text-blue-300",(t==="completed"||u)&&"text-green-800 dark:text-green-300",t==="online"&&e>0&&"text-amber-800 dark:text-amber-300"),children:[t==="offline"&&(e>0?`   ${e}  `:"     "),t==="syncing"&&` ... ${s}%`,(t==="completed"||u)&&" ",t==="online"&&e>0&&`${e}   `]}),t==="syncing"&&i.jsx(bu,{value:s,className:"h-1 mt-1 bg-blue-100 dark:bg-blue-900"})]}),t==="offline"&&i.jsx("button",{onClick:()=>c(!0),className:"shrink-0 p-1 rounded-md text-amber-500 dark:text-amber-400 hover-elevate","data-testid":"button-dismiss-offline",children:i.jsx(No,{className:"w-3.5 h-3.5"})}),t==="online"&&e>0&&i.jsx("button",{onClick:p,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 hover-elevate","data-testid":"button-sync-now",children:""}),t==="syncing"&&i.jsx("button",{disabled:!0,className:"shrink-0 text-[10px] font-medium px-2 py-1 rounded-md bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 opacity-60 cursor-not-allowed","data-testid":"button-sync-disabled",children:"..."})]})})}function S1e({onRefresh:t,enabled:r=!0,threshold:e=70,maxPull:n=130,minSpinnerTime:s=600,scrollRef:a}){const[o,c]=E.useState(0),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=E.useRef(!1),h=E.useRef(0),g=E.useRef(0),y=E.useRef(!1),m=E.useRef(null),v=Math.min(o/e,1),x=E.useCallback(async()=>{if(f.current)return;f.current=!0,l(!0);const S=Date.now();try{await t()}catch{}finally{const C=Date.now()-S,A=Math.max(0,s-C);setTimeout(()=>{l(!1),f.current=!1,c(0)},A)}},[t,s]);return E.useEffect(()=>{const S=a.current;if(!S||!r)return;S.style.overscrollBehaviorY="none";const C=()=>S.scrollTop<=0,A=I=>"touches"in I&&I.touches.length>0?I.touches[0].clientY:I.clientY,B=I=>{if(f.current||!C()||"pointerType"in I&&I.pointerType==="mouse")return;const $=A(I);h.current=$,g.current=$,y.current=!1},q=I=>{if(f.current||"pointerType"in I&&I.pointerType==="mouse")return;const $=A(I);if($-h.current>10&&C()&&(y.current||(y.current=!0,p(!0),h.current=$)),y.current){I.cancelable&&I.preventDefault(),g.current=$;const U=g.current-h.current,P=Math.min(n,U*.5);m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{c(Math.max(0,P))})}},R=()=>{m.current&&cancelAnimationFrame(m.current),y.current&&(y.current=!1,p(!1),(g.current-h.current)*.5>=e?(c(e),x()):c(0))};return S.addEventListener("touchstart",B,{passive:!0}),S.addEventListener("touchmove",q,{passive:!1}),S.addEventListener("touchend",R,{passive:!0}),S.addEventListener("touchcancel",R,{passive:!0}),()=>{S.removeEventListener("touchstart",B),S.removeEventListener("touchmove",q),S.removeEventListener("touchend",R),S.removeEventListener("touchcancel",R),S.style.overscrollBehaviorY="",m.current&&cancelAnimationFrame(m.current)}},[r,e,n,x,a]),{pullDistance:o,isRefreshing:u,isPulling:d,progress:v}}function N1e({pullDistance:t,isRefreshing:r,progress:e,threshold:n=70}){const s=t>5||r,a=r?n*.6:t,o=e>=1;return s?i.jsxs("div",{className:"pull-to-refresh-indicator flex items-center justify-center overflow-hidden pointer-events-none select-none",style:{height:`${a}px`,transition:r?"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none",willChange:"height",WebkitUserSelect:"none",userSelect:"none"},"data-testid":"pull-to-refresh-indicator",children:[i.jsx("div",{className:`
          flex items-center justify-center rounded-full
          w-10 h-10
          bg-background border border-border shadow-md
          transition-transform duration-200 ease-out
        `,style:{opacity:Math.min(1,e*1.5),transform:`scale(${.5+e*.5}) rotate(${r?0:e*180}deg)`,willChange:"transform, opacity"},children:i.jsx(xs,{className:`h-5 w-5 text-primary ${r?"animate-spin":""}`,style:{color:o&&!r?"hsl(var(--primary))":void 0}})}),o&&!r&&i.jsx("span",{className:"text-xs text-muted-foreground ms-2 animate-pulse",children:" "})]}):null}const C1e={"/":{queryKeys:[xe.projectsWithStats,xe.notifications,xe.recentActivities,xe.financialSummary,xe.healthStats]},"/projects":{queryKeys:[xe.projects,xe.projectsWithStats,xe.projectTypes]},"/workers":{queryKeys:[xe.workers,xe.workerTypes]},"/worker-accounts":{queryKeys:[xe.workers,xe.workerTypes]},"/suppliers-pro":{queryKeys:[xe.suppliers,xe.supplierStatistics]},"/supplier-accounts":{queryKeys:[xe.suppliers,xe.supplierStatistics]},"/customers":{queryKeys:[xe.suppliers]},"/equipment":{queryKeys:[xe.equipment,xe.equipmentMovements]},"/notifications":{queryKeys:[xe.notifications]},"/admin-notifications":{queryKeys:[xe.notifications]},"/wells":{queryKeys:[xe.wells]},"/well-cost-report":{queryKeys:[xe.wells]},"/well-accounting":{queryKeys:[xe.wells]},"/tasks":{queryKeys:[xe.tasks]},"/reports":{queryKeys:[xe.projectsWithStats,xe.workers,xe.suppliers]},"/users-management":{queryKeys:[xe.users,xe.usersList,xe.usersWithRoles]},"/ai-chat":{queryKeys:[xe.aiSessions]},"/admin/backups":{queryKeys:[xe.backupsStatus,xe.backupsLogs,xe.backupsDatabases]},"/admin/monitoring":{queryKeys:[xe.metrics,xe.diagnostics,xe.healthFull]},"/smart-errors":{queryKeys:[xe.errorLogs]},"/daily-expenses":{queryKeys:[xe.dailyExpenseSummaries,xe.materials]},"/worker-attendance":{queryKeys:[xe.workers,xe.workerTypes]},"/material-purchase":{queryKeys:[xe.materials,xe.suppliers]},"/transport-management":{queryKeys:[xe.transportationExpenses]},"/project-transfers":{queryKeys:[xe.projectFundTransfers,xe.allFundTransfers]},"/project-transactions":{queryKeys:[xe.projects]},"/project-fund-custody":{queryKeys:[xe.projectFundTransfers]},"/autocomplete-admin":{queryKeys:[xe.autocomplete]},"/admin/data-health":{queryKeys:[xe.adminDataHealth]},"/admin/sync":{queryKeys:[xe.projects]},"/security-policies":{queryKeys:[xe.securityPolicies,xe.securityViolations,xe.securitySuggestions]}};function T1e({children:t,showHeader:r=!0,showNav:e=!0,showFloatingButton:n=!0}){const[s]=Os(),a=_s(),{toast:o}=pn(),c=E.useRef(null),l=["/ai-chat","/admin/data-health"].some(S=>s===S),p=[].some(S=>s===S),f=C1e[s],h=!!f,g=E.useCallback(async()=>{if(f)try{const S=f.queryKeys.map(C=>a.refetchQueries({queryKey:C,type:"active"}));await Promise.all(S)}catch{throw o({title:" ",description:"  .    .",variant:"destructive",duration:3e3}),new Error("refresh failed")}},[f,a,o]),{pullDistance:y,isRefreshing:m,progress:v}=S1e({onRefresh:g,enabled:h,threshold:70,maxPull:130,minSpinnerTime:600,scrollRef:c}),x={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return i.jsxs(QV,{style:x,children:[i.jsx(j1e,{}),i.jsxs("div",{className:"flex h-[100dvh] w-full bg-background overflow-hidden",dir:"rtl",children:[i.jsx(k1e,{}),i.jsx(ZV,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:i.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[r&&!l&&i.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:i.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[i.jsx(YV,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),i.jsx("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:i.jsx(Gve,{})})]})}),i.jsxs("main",{ref:c,className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch pb-[calc(72px+env(safe-area-inset-bottom,0px)+16px)] md:pb-0",children:[h&&i.jsx(N1e,{pullDistance:y,isRefreshing:m,progress:v}),i.jsx("div",{className:l?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:t})]}),e&&!p&&i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom,0px)] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center pointer-events-auto",children:i.jsx("div",{className:"w-full h-[72px] flex items-center justify-center",children:i.jsx(Yve,{})})}),n&&!l&&i.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:i.jsx(Zve,{})})]})})]})]})}function E1e({children:t}){const{isAuthenticated:r,isLoading:e,user:n}=uc();return console.log(" [ProtectedRoute]  :",{isLoading:e,isAuthenticated:r,hasUser:!!n,userEmail:n?.email||" ",timestamp:new Date().toISOString()}),e?(console.log(" [ProtectedRoute]  ..."),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[i.jsx(sn,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),i.jsx(Re,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!r||!n?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),i.jsx(i.Fragment,{children:t})):(console.log(" [ProtectedRoute]     /login"),i.jsx(zy,{to:"/login"})):(console.log(" [ProtectedRoute]     :",n.email),i.jsx(i.Fragment,{children:t}))}const sT=({variant:t,size:r})=>{const e=r==="sm"?"h-4 w-4":r==="md"?"h-6 w-6":"h-8 w-8",n={default:i.jsx(sn,{className:Ee(e,"animate-spin text-blue-500")}),database:i.jsx(li,{className:Ee(e,"animate-pulse text-green-500")}),processing:i.jsx(Va,{className:Ee(e,"animate-bounce text-orange-500")})};return n[t]||n.default},A1e=({step:t,index:r})=>{const e=()=>{switch(t.status){case"completed":return i.jsx(Co,{className:"h-4 w-4 text-green-500"});case"loading":return i.jsx(sn,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return i.jsx(ua,{className:"h-4 w-4 text-red-500"});default:return i.jsx($n,{className:"h-4 w-4 text-gray-400"})}},n=()=>t.startTime&&t.status==="loading"?`${Math.floor((Date.now()-t.startTime)/1e3)}`:null;return i.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:Ee("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",t.status==="loading"&&"bg-blue-50 border border-blue-200",t.status==="completed"&&"bg-green-50 border border-green-200",t.status==="error"&&"bg-red-50 border border-red-200",t.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[i.jsx("div",{className:"flex-shrink-0",children:e()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:Ee("text-sm font-medium truncate",t.status==="loading"&&"text-blue-700",t.status==="completed"&&"text-green-700",t.status==="error"&&"text-red-700",t.status==="pending"&&"text-gray-600"),children:t.label}),n()&&i.jsx("span",{className:"text-xs text-blue-600 font-mono",children:n()})]}),t.progress!==void 0&&t.status==="loading"&&i.jsx(vn.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:i.jsx(vn.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${t.progress}%`},transition:{duration:.5}})})]})]})},P1e=({progress:t,size:r})=>{const e=2*Math.PI*(r/2-8),n=e,s=e-t/100*e;return i.jsxs("div",{className:"relative",children:[i.jsxs("svg",{className:"transform -rotate-90",width:r,height:r,children:[i.jsx("circle",{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),i.jsx(vn.circle,{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:n,strokeDashoffset:s,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:e},animate:{strokeDashoffset:s},transition:{duration:.5,ease:"easeInOut"}})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(t),"%"]})})]})},aW=({isLoading:t,steps:r=[],message:e=" ...",progress:n,showSteps:s=!1,size:a="md",variant:o="default",onComplete:c,estimatedTime:u,className:l})=>{const[d,p]=Gt.useState(0),f=Gt.useRef(Date.now());if(Gt.useEffect(()=>{if(!t)return;f.current=Date.now();const y=setInterval(()=>{p(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[t]),Gt.useEffect(()=>{!t&&d>0&&(c?.(),p(0))},[t,d,c]),!t)return null;const h=()=>i.jsxs(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Ee("flex items-center gap-3",l),children:[i.jsx(sT,{variant:o,size:a}),i.jsx("span",{className:"text-sm text-gray-600",children:e})]}),g=()=>i.jsxs(vn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:Ee("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",l),children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:n!==void 0?i.jsx(P1e,{progress:n,size:80}):i.jsx(sT,{variant:o,size:"lg"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:e}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[i.jsxs("span",{children:[" : ",d,""]}),u&&i.jsxs("span",{children:[": ",u,""]})]})]}),s&&r.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),r.map((y,m)=>i.jsx(A1e,{step:y,index:m},y.id))]}),n!==void 0&&!s&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[Math.round(n),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:i.jsx(vn.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]});return o==="minimal"?h():i.jsx(Em,{children:t&&i.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function ta({children:t,requiredRole:r="admin"}){const{user:e,isAuthenticated:n,isLoading:s}=uc();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(aW,{})}):n?!e||e.role!==r?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:i.jsxs("div",{className:"max-w-lg w-full",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:i.jsx(DQ,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),i.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),i.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),i.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:e?.role==="user"?" ":e?.role||" "})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[i.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),i.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):i.jsx(i.Fragment,{children:t}):i.jsx(zy,{to:"/login"})}function M1e({children:t}){const{user:r,isLoading:e}=uc();return e?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsx(aW,{isLoading:!0,message:"    ..."})}):r?r.emailVerified!==!0?(console.log(" [EmailVerificationGuard]        ",{emailVerified:r.emailVerified}),i.jsx(zy,{to:`/verify-email?userId=${r.id}&email=${encodeURIComponent(r.email)}`})):i.jsx(i.Fragment,{children:t}):i.jsx(zy,{to:"/login"})}function R1e(t){return new Blob([JSON.stringify(t)]).size}async function D1e(t){try{const e=(await qa(t)).reduce((s,a)=>s+R1e(a),0),n=Math.round(e*.75);return{originalSize:e,compressedSize:n,ratio:e>0?n/e*100:0,savedBytes:e-n}}catch{return{originalSize:0,compressedSize:0,ratio:0,savedBytes:0}}}async function I1e(){try{const t=["projects","workers","materials","suppliers","workerAttendance","materialPurchases","transportationExpenses","fundTransfers","workerTransfers","workerMiscExpenses","wells","projectTypes"];let r=0;for(const s of t){const a=await D1e(s);r+=a.originalSize}const e=50*1024*1024,n=r/e*100;return{used:r,percentage:Math.round(n)}}catch{return{used:0,percentage:0}}}async function O1e(){return(await iu()).length}async function F1e(){const t=await iu(),r=t.filter(a=>a.action==="create").length,e=t.filter(a=>a.action==="update").length,n=t.filter(a=>a.action==="delete").length,s=t.filter(a=>a.retries>0).length;return{totalPending:t.length,creates:r,updates:e,deletes:n,failedOperations:s,oldestOperation:t.length>0?new Date(t[0].timestamp):null}}async function L1e(){const t=zm(),r=await I1e(),e=await O1e(),n=await F1e();return{timestamp:Date.now(),syncStatus:{isSyncing:t.isSyncing,lastSync:t.lastSync,pendingCount:t.pendingCount,isOnline:t.isOnline},storage:{used:r.used,usagePercentage:r.percentage},operations:{pending:e,creates:n.creates,updates:n.updates,deletes:n.deletes,failedOps:n.failedOperations},timing:{lastSyncDuration:void 0}}}let aT=null;function B1e(t=6e4){if(aT){console.warn(" [PerformanceMonitor]   ");return}aT=setInterval(async()=>{const r=await L1e();r.storage.usagePercentage>80&&console.warn(` [PerformanceMonitor]   : ${r.storage.usagePercentage}%`),r.operations.failedOps>5&&console.warn(` [PerformanceMonitor]  : ${r.operations.failedOps}`)},t),console.log(" [PerformanceMonitor]   ")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const $1e=4,iT=0,oT=1,z1e=2;function Xh(t){let r=t.length;for(;--r>=0;)t[r]=0}const V1e=0,iW=1,W1e=2,U1e=3,q1e=258,mj=29,z0=256,qm=z0+1+mj,Zf=30,gj=19,oW=2*qm+1,ed=15,Qw=16,H1e=7,yj=256,lW=16,cW=17,uW=18,nk=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$y=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),K1e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),dW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G1e=512,Ll=new Array((qm+2)*2);Xh(Ll);const am=new Array(Zf*2);Xh(am);const Hm=new Array(G1e);Xh(Hm);const Km=new Array(q1e-U1e+1);Xh(Km);const bj=new Array(mj);Xh(bj);const Ib=new Array(Zf);Xh(Ib);function Xw(t,r,e,n,s){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let fW,hW,pW;function Yw(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}const mW=t=>t<256?Hm[t]:Hm[256+(t>>>7)],Gm=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},ii=(t,r,e)=>{t.bi_valid>Qw-e?(t.bi_buf|=r<<t.bi_valid&65535,Gm(t,t.bi_buf),t.bi_buf=r>>Qw-t.bi_valid,t.bi_valid+=e-Qw):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},Yo=(t,r,e)=>{ii(t,e[r*2],e[r*2+1])},gW=(t,r)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--r>0);return e>>>1},Q1e=t=>{t.bi_valid===16?(Gm(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},X1e=(t,r)=>{const e=r.dyn_tree,n=r.max_code,s=r.stat_desc.static_tree,a=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,c=r.stat_desc.extra_base,u=r.stat_desc.max_length;let l,d,p,f,h,g,y=0;for(f=0;f<=ed;f++)t.bl_count[f]=0;for(e[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<oW;l++)d=t.heap[l],f=e[e[d*2+1]*2+1]+1,f>u&&(f=u,y++),e[d*2+1]=f,!(d>n)&&(t.bl_count[f]++,h=0,d>=c&&(h=o[d-c]),g=e[d*2],t.opt_len+=g*(f+h),a&&(t.static_len+=g*(s[d*2+1]+h)));if(y!==0){do{for(f=u-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=t.bl_count[f];d!==0;)p=t.heap[--l],!(p>n)&&(e[p*2+1]!==f&&(t.opt_len+=(f-e[p*2+1])*e[p*2],e[p*2+1]=f),d--)}},yW=(t,r,e)=>{const n=new Array(ed+1);let s=0,a,o;for(a=1;a<=ed;a++)s=s+e[a-1]<<1,n[a]=s;for(o=0;o<=r;o++){let c=t[o*2+1];c!==0&&(t[o*2]=gW(n[c]++,c))}},Y1e=()=>{let t,r,e,n,s;const a=new Array(ed+1);for(e=0,n=0;n<mj-1;n++)for(bj[n]=e,t=0;t<1<<nk[n];t++)Km[e++]=n;for(Km[e-1]=n,s=0,n=0;n<16;n++)for(Ib[n]=s,t=0;t<1<<$y[n];t++)Hm[s++]=n;for(s>>=7;n<Zf;n++)for(Ib[n]=s<<7,t=0;t<1<<$y[n]-7;t++)Hm[256+s++]=n;for(r=0;r<=ed;r++)a[r]=0;for(t=0;t<=143;)Ll[t*2+1]=8,t++,a[8]++;for(;t<=255;)Ll[t*2+1]=9,t++,a[9]++;for(;t<=279;)Ll[t*2+1]=7,t++,a[7]++;for(;t<=287;)Ll[t*2+1]=8,t++,a[8]++;for(yW(Ll,qm+1,a),t=0;t<Zf;t++)am[t*2+1]=5,am[t*2]=gW(t,5);fW=new Xw(Ll,nk,z0+1,qm,ed),hW=new Xw(am,$y,0,Zf,ed),pW=new Xw(new Array(0),K1e,0,gj,H1e)},bW=t=>{let r;for(r=0;r<qm;r++)t.dyn_ltree[r*2]=0;for(r=0;r<Zf;r++)t.dyn_dtree[r*2]=0;for(r=0;r<gj;r++)t.bl_tree[r*2]=0;t.dyn_ltree[yj*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},xW=t=>{t.bi_valid>8?Gm(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},lT=(t,r,e,n)=>{const s=r*2,a=e*2;return t[s]<t[a]||t[s]===t[a]&&n[r]<=n[e]},Zw=(t,r,e)=>{const n=t.heap[e];let s=e<<1;for(;s<=t.heap_len&&(s<t.heap_len&&lT(r,t.heap[s+1],t.heap[s],t.depth)&&s++,!lT(r,n,t.heap[s],t.depth));)t.heap[e]=t.heap[s],e=s,s<<=1;t.heap[e]=n},cT=(t,r,e)=>{let n,s,a=0,o,c;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,s=t.pending_buf[t.sym_buf+a++],n===0?Yo(t,s,r):(o=Km[s],Yo(t,o+z0+1,r),c=nk[o],c!==0&&(s-=bj[o],ii(t,s,c)),n--,o=mW(n),Yo(t,o,e),c=$y[o],c!==0&&(n-=Ib[o],ii(t,n,c)));while(a<t.sym_next);Yo(t,yj,r)},sk=(t,r)=>{const e=r.dyn_tree,n=r.stat_desc.static_tree,s=r.stat_desc.has_stree,a=r.stat_desc.elems;let o,c,u=-1,l;for(t.heap_len=0,t.heap_max=oW,o=0;o<a;o++)e[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):e[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,e[l*2]=1,t.depth[l]=0,t.opt_len--,s&&(t.static_len-=n[l*2+1]);for(r.max_code=u,o=t.heap_len>>1;o>=1;o--)Zw(t,e,o);l=a;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Zw(t,e,1),c=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=c,e[l*2]=e[o*2]+e[c*2],t.depth[l]=(t.depth[o]>=t.depth[c]?t.depth[o]:t.depth[c])+1,e[o*2+1]=e[c*2+1]=l,t.heap[1]=l++,Zw(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],X1e(t,r),yW(e,u,t.bl_count)},uT=(t,r,e)=>{let n,s=-1,a,o=r[1],c=0,u=7,l=4;for(o===0&&(u=138,l=3),r[(e+1)*2+1]=65535,n=0;n<=e;n++)a=o,o=r[(n+1)*2+1],!(++c<u&&a===o)&&(c<l?t.bl_tree[a*2]+=c:a!==0?(a!==s&&t.bl_tree[a*2]++,t.bl_tree[lW*2]++):c<=10?t.bl_tree[cW*2]++:t.bl_tree[uW*2]++,c=0,s=a,o===0?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4))},dT=(t,r,e)=>{let n,s=-1,a,o=r[1],c=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=e;n++)if(a=o,o=r[(n+1)*2+1],!(++c<u&&a===o)){if(c<l)do Yo(t,a,t.bl_tree);while(--c!==0);else a!==0?(a!==s&&(Yo(t,a,t.bl_tree),c--),Yo(t,lW,t.bl_tree),ii(t,c-3,2)):c<=10?(Yo(t,cW,t.bl_tree),ii(t,c-3,3)):(Yo(t,uW,t.bl_tree),ii(t,c-11,7));c=0,s=a,o===0?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4)}},Z1e=t=>{let r;for(uT(t,t.dyn_ltree,t.l_desc.max_code),uT(t,t.dyn_dtree,t.d_desc.max_code),sk(t,t.bl_desc),r=gj-1;r>=3&&t.bl_tree[dW[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},J1e=(t,r,e,n)=>{let s;for(ii(t,r-257,5),ii(t,e-1,5),ii(t,n-4,4),s=0;s<n;s++)ii(t,t.bl_tree[dW[s]*2+1],3);dT(t,t.dyn_ltree,r-1),dT(t,t.dyn_dtree,e-1)},ewe=t=>{let r=4093624447,e;for(e=0;e<=31;e++,r>>>=1)if(r&1&&t.dyn_ltree[e*2]!==0)return iT;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return oT;for(e=32;e<z0;e++)if(t.dyn_ltree[e*2]!==0)return oT;return iT};let fT=!1;const twe=t=>{fT||(Y1e(),fT=!0),t.l_desc=new Yw(t.dyn_ltree,fW),t.d_desc=new Yw(t.dyn_dtree,hW),t.bl_desc=new Yw(t.bl_tree,pW),t.bi_buf=0,t.bi_valid=0,bW(t)},vW=(t,r,e,n)=>{ii(t,(V1e<<1)+(n?1:0),3),xW(t),Gm(t,e),Gm(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e},rwe=t=>{ii(t,iW<<1,3),Yo(t,yj,Ll),Q1e(t)},nwe=(t,r,e,n)=>{let s,a,o=0;t.level>0?(t.strm.data_type===z1e&&(t.strm.data_type=ewe(t)),sk(t,t.l_desc),sk(t,t.d_desc),o=Z1e(t),s=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=s&&(s=a)):s=a=e+5,e+4<=s&&r!==-1?vW(t,r,e,n):t.strategy===$1e||a===s?(ii(t,(iW<<1)+(n?1:0),3),cT(t,Ll,am)):(ii(t,(W1e<<1)+(n?1:0),3),J1e(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),cT(t,t.dyn_ltree,t.dyn_dtree)),bW(t),n&&xW(t)},swe=(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,r===0?t.dyn_ltree[e*2]++:(t.matches++,r--,t.dyn_ltree[(Km[e]+z0+1)*2]++,t.dyn_dtree[mW(r)*2]++),t.sym_next===t.sym_end);var awe=twe,iwe=vW,owe=nwe,lwe=swe,cwe=rwe,uwe={_tr_init:awe,_tr_stored_block:iwe,_tr_flush_block:owe,_tr_tally:lwe,_tr_align:cwe};const dwe=(t,r,e,n)=>{let s=t&65535|0,a=t>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do s=s+r[n++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a<<16|0};var Qm=dwe;const fwe=()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r},hwe=new Uint32Array(fwe()),pwe=(t,r,e,n)=>{const s=hwe,a=n+e;t^=-1;for(let o=n;o<a;o++)t=t>>>8^s[(t^r[o])&255];return t^-1};var Ws=pwe,Fd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:mwe,_tr_stored_block:ak,_tr_flush_block:gwe,_tr_tally:nu,_tr_align:ywe}=uwe,{Z_NO_FLUSH:su,Z_PARTIAL_FLUSH:bwe,Z_FULL_FLUSH:xwe,Z_FINISH:Ji,Z_BLOCK:hT,Z_OK:sa,Z_STREAM_END:pT,Z_STREAM_ERROR:ul,Z_DATA_ERROR:vwe,Z_BUF_ERROR:Jw,Z_DEFAULT_COMPRESSION:wwe,Z_FILTERED:_we,Z_HUFFMAN_ONLY:ly,Z_RLE:kwe,Z_FIXED:jwe,Z_DEFAULT_STRATEGY:Swe,Z_UNKNOWN:Nwe,Z_DEFLATED:Kx}=V0,Cwe=9,Twe=15,Ewe=8,Awe=29,Pwe=256,ik=Pwe+1+Awe,Mwe=30,Rwe=19,Dwe=2*ik+1,Iwe=15,Qr=3,qc=258,dl=qc+Qr+1,Owe=32,Eh=42,xj=57,ok=69,lk=73,ck=91,uk=103,td=113,qp=666,za=1,Yh=2,Ld=3,Zh=4,Fwe=3,rd=(t,r)=>(t.msg=Fd[r],r),mT=t=>t*2-(t>4?9:0),Dc=t=>{let r=t.length;for(;--r>=0;)t[r]=0},Lwe=t=>{let r,e,n,s=t.w_size;r=t.hash_size,n=r;do e=t.head[--n],t.head[n]=e>=s?e-s:0;while(--r);r=s,n=r;do e=t.prev[--n],t.prev[n]=e>=s?e-s:0;while(--r)};let Bwe=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask,au=Bwe;const bi=t=>{const r=t.state;let e=r.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,r.pending===0&&(r.pending_out=0))},ji=(t,r)=>{gwe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,bi(t.strm)},cn=(t,r)=>{t.pending_buf[t.pending++]=r},Fp=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},dk=(t,r,e,n)=>{let s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,r.set(t.input.subarray(t.next_in,t.next_in+s),e),t.state.wrap===1?t.adler=Qm(t.adler,r,s,e):t.state.wrap===2&&(t.adler=Ws(t.adler,r,s,e)),t.next_in+=s,t.total_in+=s,s)},wW=(t,r)=>{let e=t.max_chain_length,n=t.strstart,s,a,o=t.prev_length,c=t.nice_match;const u=t.strstart>t.w_size-dl?t.strstart-(t.w_size-dl):0,l=t.window,d=t.w_mask,p=t.prev,f=t.strstart+qc;let h=l[n+o-1],g=l[n+o];t.prev_length>=t.good_match&&(e>>=2),c>t.lookahead&&(c=t.lookahead);do if(s=r,!(l[s+o]!==g||l[s+o-1]!==h||l[s]!==l[n]||l[++s]!==l[n+1])){n+=2,s++;do;while(l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&n<f);if(a=qc-(f-n),n=f-qc,a>o){if(t.match_start=r,o=a,a>=c)break;h=l[n+o-1],g=l[n+o]}}while((r=p[r&d])>u&&--e!==0);return o<=t.lookahead?o:t.lookahead},Ah=t=>{const r=t.w_size;let e,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-dl)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),Lwe(t),n+=r),t.strm.avail_in===0)break;if(e=dk(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=Qr)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=au(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=au(t,t.ins_h,t.window[s+Qr-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Qr)););}while(t.lookahead<dl&&t.strm.avail_in!==0)},_W=(t,r)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,s,a,o=0,c=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,s=t.strstart-t.block_start,n>s+t.strm.avail_in&&(n=s+t.strm.avail_in),n>a&&(n=a),n<e&&(n===0&&r!==Ji||r===su||n!==s+t.strm.avail_in)))break;o=r===Ji&&n===s+t.strm.avail_in?1:0,ak(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,bi(t.strm),s&&(s>n&&(s=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,n-=s),n&&(dk(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return c-=t.strm.avail_in,c&&(c>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=c&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-c,t.strm.next_in),t.strstart),t.strstart+=c,t.insert+=c>t.w_size-t.insert?t.w_size-t.insert:c),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Zh:r!==su&&r!==Ji&&t.strm.avail_in===0&&t.strstart===t.block_start?Yh:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(dk(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,e=a>t.w_size?t.w_size:a,s=t.strstart-t.block_start,(s>=e||(s||r===Ji)&&r!==su&&t.strm.avail_in===0&&s<=a)&&(n=s>a?a:s,o=r===Ji&&t.strm.avail_in===0&&n===s?1:0,ak(t,t.block_start,n,o),t.block_start+=n,bi(t.strm)),o?Ld:za)},e2=(t,r)=>{let e,n;for(;;){if(t.lookahead<dl){if(Ah(t),t.lookahead<dl&&r===su)return za;if(t.lookahead===0)break}if(e=0,t.lookahead>=Qr&&(t.ins_h=au(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-dl&&(t.match_length=wW(t,e)),t.match_length>=Qr)if(n=nu(t,t.strstart-t.match_start,t.match_length-Qr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Qr){t.match_length--;do t.strstart++,t.ins_h=au(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=au(t,t.ins_h,t.window[t.strstart+1]);else n=nu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ji(t,!1),t.strm.avail_out===0))return za}return t.insert=t.strstart<Qr-1?t.strstart:Qr-1,r===Ji?(ji(t,!0),t.strm.avail_out===0?Ld:Zh):t.sym_next&&(ji(t,!1),t.strm.avail_out===0)?za:Yh},Af=(t,r)=>{let e,n,s;for(;;){if(t.lookahead<dl){if(Ah(t),t.lookahead<dl&&r===su)return za;if(t.lookahead===0)break}if(e=0,t.lookahead>=Qr&&(t.ins_h=au(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Qr-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-dl&&(t.match_length=wW(t,e),t.match_length<=5&&(t.strategy===_we||t.match_length===Qr&&t.strstart-t.match_start>4096)&&(t.match_length=Qr-1)),t.prev_length>=Qr&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Qr,n=nu(t,t.strstart-1-t.prev_match,t.prev_length-Qr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=au(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Qr-1,t.strstart++,n&&(ji(t,!1),t.strm.avail_out===0))return za}else if(t.match_available){if(n=nu(t,0,t.window[t.strstart-1]),n&&ji(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return za}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=nu(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Qr-1?t.strstart:Qr-1,r===Ji?(ji(t,!0),t.strm.avail_out===0?Ld:Zh):t.sym_next&&(ji(t,!1),t.strm.avail_out===0)?za:Yh},$we=(t,r)=>{let e,n,s,a;const o=t.window;for(;;){if(t.lookahead<=qc){if(Ah(t),t.lookahead<=qc&&r===su)return za;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Qr&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){a=t.strstart+qc;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<a);t.match_length=qc-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Qr?(e=nu(t,1,t.match_length-Qr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=nu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(ji(t,!1),t.strm.avail_out===0))return za}return t.insert=0,r===Ji?(ji(t,!0),t.strm.avail_out===0?Ld:Zh):t.sym_next&&(ji(t,!1),t.strm.avail_out===0)?za:Yh},zwe=(t,r)=>{let e;for(;;){if(t.lookahead===0&&(Ah(t),t.lookahead===0)){if(r===su)return za;break}if(t.match_length=0,e=nu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(ji(t,!1),t.strm.avail_out===0))return za}return t.insert=0,r===Ji?(ji(t,!0),t.strm.avail_out===0?Ld:Zh):t.sym_next&&(ji(t,!1),t.strm.avail_out===0)?za:Yh};function Uo(t,r,e,n,s){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=s}const Hp=[new Uo(0,0,0,0,_W),new Uo(4,4,8,4,e2),new Uo(4,5,16,8,e2),new Uo(4,6,32,32,e2),new Uo(4,4,16,16,Af),new Uo(8,16,32,32,Af),new Uo(8,16,128,128,Af),new Uo(8,32,128,256,Af),new Uo(32,128,258,1024,Af),new Uo(32,258,258,4096,Af)],Vwe=t=>{t.window_size=2*t.w_size,Dc(t.head),t.max_lazy_match=Hp[t.level].max_lazy,t.good_match=Hp[t.level].good_length,t.nice_match=Hp[t.level].nice_length,t.max_chain_length=Hp[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Qr-1,t.match_available=0,t.ins_h=0};function Wwe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Kx,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Dwe*2),this.dyn_dtree=new Uint16Array((2*Mwe+1)*2),this.bl_tree=new Uint16Array((2*Rwe+1)*2),Dc(this.dyn_ltree),Dc(this.dyn_dtree),Dc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Iwe+1),this.heap=new Uint16Array(2*ik+1),Dc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ik+1),Dc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const W0=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.status!==Eh&&r.status!==xj&&r.status!==ok&&r.status!==lk&&r.status!==ck&&r.status!==uk&&r.status!==td&&r.status!==qp?1:0},kW=t=>{if(W0(t))return rd(t,ul);t.total_in=t.total_out=0,t.data_type=Nwe;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?xj:r.wrap?Eh:td,t.adler=r.wrap===2?0:1,r.last_flush=-2,mwe(r),sa},jW=t=>{const r=kW(t);return r===sa&&Vwe(t.state),r},Uwe=(t,r)=>W0(t)||t.state.wrap!==2?ul:(t.state.gzhead=r,sa),SW=(t,r,e,n,s,a)=>{if(!t)return ul;let o=1;if(r===wwe&&(r=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Cwe||e!==Kx||n<8||n>15||r<0||r>9||a<0||a>jwe||n===8&&o!==1)return rd(t,ul);n===8&&(n=9);const c=new Wwe;return t.state=c,c.strm=t,c.status=Eh,c.wrap=o,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+Qr-1)/Qr),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=r,c.strategy=a,c.method=e,jW(t)},qwe=(t,r)=>SW(t,r,Kx,Twe,Ewe,Swe),Hwe=(t,r)=>{if(W0(t)||r>hT||r<0)return t?rd(t,ul):ul;const e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===qp&&r!==Ji)return rd(t,t.avail_out===0?Jw:ul);const n=e.last_flush;if(e.last_flush=r,e.pending!==0){if(bi(t),t.avail_out===0)return e.last_flush=-1,sa}else if(t.avail_in===0&&mT(r)<=mT(n)&&r!==Ji)return rd(t,Jw);if(e.status===qp&&t.avail_in!==0)return rd(t,Jw);if(e.status===Eh&&e.wrap===0&&(e.status=td),e.status===Eh){let s=Kx+(e.w_bits-8<<4)<<8,a=-1;if(e.strategy>=ly||e.level<2?a=0:e.level<6?a=1:e.level===6?a=2:a=3,s|=a<<6,e.strstart!==0&&(s|=Owe),s+=31-s%31,Fp(e,s),e.strstart!==0&&(Fp(e,t.adler>>>16),Fp(e,t.adler&65535)),t.adler=1,e.status=td,bi(t),e.pending!==0)return e.last_flush=-1,sa}if(e.status===xj){if(t.adler=0,cn(e,31),cn(e,139),cn(e,8),e.gzhead)cn(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),cn(e,e.gzhead.time&255),cn(e,e.gzhead.time>>8&255),cn(e,e.gzhead.time>>16&255),cn(e,e.gzhead.time>>24&255),cn(e,e.level===9?2:e.strategy>=ly||e.level<2?4:0),cn(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(cn(e,e.gzhead.extra.length&255),cn(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=Ws(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=ok;else if(cn(e,0),cn(e,0),cn(e,0),cn(e,0),cn(e,0),cn(e,e.level===9?2:e.strategy>=ly||e.level<2?4:0),cn(e,Fwe),e.status=td,bi(t),e.pending!==0)return e.last_flush=-1,sa}if(e.status===ok){if(e.gzhead.extra){let s=e.pending,a=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let c=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+c),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=c,bi(t),e.pending!==0)return e.last_flush=-1,sa;s=0,a-=c}let o=new Uint8Array(e.gzhead.extra);e.pending_buf.set(o.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=lk}if(e.status===lk){if(e.gzhead.name){let s=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s)),bi(t),e.pending!==0)return e.last_flush=-1,sa;s=0}e.gzindex<e.gzhead.name.length?a=e.gzhead.name.charCodeAt(e.gzindex++)&255:a=0,cn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=ck}if(e.status===ck){if(e.gzhead.comment){let s=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s)),bi(t),e.pending!==0)return e.last_flush=-1,sa;s=0}e.gzindex<e.gzhead.comment.length?a=e.gzhead.comment.charCodeAt(e.gzindex++)&255:a=0,cn(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Ws(t.adler,e.pending_buf,e.pending-s,s))}e.status=uk}if(e.status===uk){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(bi(t),e.pending!==0))return e.last_flush=-1,sa;cn(e,t.adler&255),cn(e,t.adler>>8&255),t.adler=0}if(e.status=td,bi(t),e.pending!==0)return e.last_flush=-1,sa}if(t.avail_in!==0||e.lookahead!==0||r!==su&&e.status!==qp){let s=e.level===0?_W(e,r):e.strategy===ly?zwe(e,r):e.strategy===kwe?$we(e,r):Hp[e.level].func(e,r);if((s===Ld||s===Zh)&&(e.status=qp),s===za||s===Ld)return t.avail_out===0&&(e.last_flush=-1),sa;if(s===Yh&&(r===bwe?ywe(e):r!==hT&&(ak(e,0,0,!1),r===xwe&&(Dc(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),bi(t),t.avail_out===0))return e.last_flush=-1,sa}return r!==Ji?sa:e.wrap<=0?pT:(e.wrap===2?(cn(e,t.adler&255),cn(e,t.adler>>8&255),cn(e,t.adler>>16&255),cn(e,t.adler>>24&255),cn(e,t.total_in&255),cn(e,t.total_in>>8&255),cn(e,t.total_in>>16&255),cn(e,t.total_in>>24&255)):(Fp(e,t.adler>>>16),Fp(e,t.adler&65535)),bi(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?sa:pT)},Kwe=t=>{if(W0(t))return ul;const r=t.state.status;return t.state=null,r===td?rd(t,vwe):sa},Gwe=(t,r)=>{let e=r.length;if(W0(t))return ul;const n=t.state,s=n.wrap;if(s===2||s===1&&n.status!==Eh||n.lookahead)return ul;if(s===1&&(t.adler=Qm(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){s===0&&(Dc(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(r.subarray(e-n.w_size,e),0),r=u,e=n.w_size}const a=t.avail_in,o=t.next_in,c=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,Ah(n);n.lookahead>=Qr;){let u=n.strstart,l=n.lookahead-(Qr-1);do n.ins_h=au(n,n.ins_h,n.window[u+Qr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=Qr-1,Ah(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Qr-1,n.match_available=0,t.next_in=o,t.input=c,t.avail_in=a,n.wrap=s,sa};var Qwe=qwe,Xwe=SW,Ywe=jW,Zwe=kW,Jwe=Uwe,e2e=Hwe,t2e=Kwe,r2e=Gwe,n2e="pako deflate (from Nodeca project)",im={deflateInit:Qwe,deflateInit2:Xwe,deflateReset:Ywe,deflateResetKeep:Zwe,deflateSetHeader:Jwe,deflate:e2e,deflateEnd:t2e,deflateSetDictionary:r2e,deflateInfo:n2e};const s2e=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var a2e=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)s2e(e,n)&&(t[n]=e[n])}}return t},i2e=t=>{let r=0;for(let n=0,s=t.length;n<s;n++)r+=t[n].length;const e=new Uint8Array(r);for(let n=0,s=0,a=t.length;n<a;n++){let o=t[n];e.set(o,s),s+=o.length}return e},Gx={assign:a2e,flattenChunks:i2e};let NW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{NW=!1}const Xm=new Uint8Array(256);for(let t=0;t<256;t++)Xm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xm[254]=Xm[254]=1;var o2e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,e,n,s,a,o=t.length,c=0;for(s=0;s<o;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(c),a=0,s=0;a<c;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?r[a++]=e:e<2048?(r[a++]=192|e>>>6,r[a++]=128|e&63):e<65536?(r[a++]=224|e>>>12,r[a++]=128|e>>>6&63,r[a++]=128|e&63):(r[a++]=240|e>>>18,r[a++]=128|e>>>12&63,r[a++]=128|e>>>6&63,r[a++]=128|e&63);return r};const l2e=(t,r)=>{if(r<65534&&t.subarray&&NW)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e};var c2e=(t,r)=>{const e=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let n,s;const a=new Array(e*2);for(s=0,n=0;n<e;){let o=t[n++];if(o<128){a[s++]=o;continue}let c=Xm[o];if(c>4){a[s++]=65533,n+=c-1;continue}for(o&=c===2?31:c===3?15:7;c>1&&n<e;)o=o<<6|t[n++]&63,c--;if(c>1){a[s++]=65533;continue}o<65536?a[s++]=o:(o-=65536,a[s++]=55296|o>>10&1023,a[s++]=56320|o&1023)}return l2e(a,s)},u2e=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let e=r-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?r:e+Xm[t[e]]>r?e:r},Ym={string2buf:o2e,buf2string:c2e,utf8border:u2e};function d2e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CW=d2e;const TW=Object.prototype.toString,{Z_NO_FLUSH:f2e,Z_SYNC_FLUSH:h2e,Z_FULL_FLUSH:p2e,Z_FINISH:m2e,Z_OK:Ob,Z_STREAM_END:g2e,Z_DEFAULT_COMPRESSION:y2e,Z_DEFAULT_STRATEGY:b2e,Z_DEFLATED:x2e}=V0;function U0(t){this.options=Gx.assign({level:y2e,method:x2e,chunkSize:16384,windowBits:15,memLevel:8,strategy:b2e},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CW,this.strm.avail_out=0;let e=im.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==Ob)throw new Error(Fd[e]);if(r.header&&im.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=Ym.string2buf(r.dictionary):TW.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,e=im.deflateSetDictionary(this.strm,n),e!==Ob)throw new Error(Fd[e]);this._dict_set=!0}}U0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?m2e:f2e,typeof t=="string"?e.input=Ym.string2buf(t):TW.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(a===h2e||a===p2e)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=im.deflate(e,a),s===g2e)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=im.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Ob;if(e.avail_out===0){this.onData(e.output);continue}if(a>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};U0.prototype.onData=function(t){this.chunks.push(t)};U0.prototype.onEnd=function(t){t===Ob&&(this.result=Gx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function vj(t,r){const e=new U0(r);if(e.push(t,!0),e.err)throw e.msg||Fd[e.err];return e.result}function v2e(t,r){return r=r||{},r.raw=!0,vj(t,r)}function w2e(t,r){return r=r||{},r.gzip=!0,vj(t,r)}var _2e=U0,k2e=vj,j2e=v2e,S2e=w2e,N2e={Deflate:_2e,deflate:k2e,deflateRaw:j2e,gzip:S2e};const cy=16209,C2e=16191;var T2e=function(r,e){let n,s,a,o,c,u,l,d,p,f,h,g,y,m,v,x,S,C,A,B,q,R,I,$;const K=r.state;n=r.next_in,I=r.input,s=n+(r.avail_in-5),a=r.next_out,$=r.output,o=a-(e-r.avail_out),c=a+(r.avail_out-257),u=K.dmax,l=K.wsize,d=K.whave,p=K.wnext,f=K.window,h=K.hold,g=K.bits,y=K.lencode,m=K.distcode,v=(1<<K.lenbits)-1,x=(1<<K.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),S=y[h&v];t:for(;;){if(C=S>>>24,h>>>=C,g-=C,C=S>>>16&255,C===0)$[a++]=S&65535;else if(C&16){A=S&65535,C&=15,C&&(g<C&&(h+=I[n++]<<g,g+=8),A+=h&(1<<C)-1,h>>>=C,g-=C),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),S=m[h&x];r:for(;;){if(C=S>>>24,h>>>=C,g-=C,C=S>>>16&255,C&16){if(B=S&65535,C&=15,g<C&&(h+=I[n++]<<g,g+=8,g<C&&(h+=I[n++]<<g,g+=8)),B+=h&(1<<C)-1,B>u){r.msg="invalid distance too far back",K.mode=cy;break e}if(h>>>=C,g-=C,C=a-o,B>C){if(C=B-C,C>d&&K.sane){r.msg="invalid distance too far back",K.mode=cy;break e}if(q=0,R=f,p===0){if(q+=l-C,C<A){A-=C;do $[a++]=f[q++];while(--C);q=a-B,R=$}}else if(p<C){if(q+=l+p-C,C-=p,C<A){A-=C;do $[a++]=f[q++];while(--C);if(q=0,p<A){C=p,A-=C;do $[a++]=f[q++];while(--C);q=a-B,R=$}}}else if(q+=p-C,C<A){A-=C;do $[a++]=f[q++];while(--C);q=a-B,R=$}for(;A>2;)$[a++]=R[q++],$[a++]=R[q++],$[a++]=R[q++],A-=3;A&&($[a++]=R[q++],A>1&&($[a++]=R[q++]))}else{q=a-B;do $[a++]=$[q++],$[a++]=$[q++],$[a++]=$[q++],A-=3;while(A>2);A&&($[a++]=$[q++],A>1&&($[a++]=$[q++]))}}else if((C&64)===0){S=m[(S&65535)+(h&(1<<C)-1)];continue r}else{r.msg="invalid distance code",K.mode=cy;break e}break}}else if((C&64)===0){S=y[(S&65535)+(h&(1<<C)-1)];continue t}else if(C&32){K.mode=C2e;break e}else{r.msg="invalid literal/length code",K.mode=cy;break e}break}}while(n<s&&a<c);A=g>>3,n-=A,g-=A<<3,h&=(1<<g)-1,r.next_in=n,r.next_out=a,r.avail_in=n<s?5+(s-n):5-(n-s),r.avail_out=a<c?257+(c-a):257-(a-c),K.hold=h,K.bits=g};const Pf=15,gT=852,yT=592,bT=0,t2=1,xT=2,E2e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A2e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),P2e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),M2e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),R2e=(t,r,e,n,s,a,o,c)=>{const u=c.bits;let l=0,d=0,p=0,f=0,h=0,g=0,y=0,m=0,v=0,x=0,S,C,A,B,q,R=null,I;const $=new Uint16Array(Pf+1),K=new Uint16Array(Pf+1);let U=null,P,L,T;for(l=0;l<=Pf;l++)$[l]=0;for(d=0;d<n;d++)$[r[e+d]]++;for(h=u,f=Pf;f>=1&&$[f]===0;f--);if(h>f&&(h=f),f===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<f&&$[p]===0;p++);for(h<p&&(h=p),m=1,l=1;l<=Pf;l++)if(m<<=1,m-=$[l],m<0)return-1;if(m>0&&(t===bT||f!==1))return-1;for(K[1]=0,l=1;l<Pf;l++)K[l+1]=K[l]+$[l];for(d=0;d<n;d++)r[e+d]!==0&&(o[K[r[e+d]]++]=d);if(t===bT?(R=U=o,I=20):t===t2?(R=E2e,U=A2e,I=257):(R=P2e,U=M2e,I=0),x=0,d=0,l=p,q=a,g=h,y=0,A=-1,v=1<<h,B=v-1,t===t2&&v>gT||t===xT&&v>yT)return 1;for(;;){P=l-y,o[d]+1<I?(L=0,T=o[d]):o[d]>=I?(L=U[o[d]-I],T=R[o[d]-I]):(L=96,T=0),S=1<<l-y,C=1<<g,p=C;do C-=S,s[q+(x>>y)+C]=P<<24|L<<16|T|0;while(C!==0);for(S=1<<l-1;x&S;)S>>=1;if(S!==0?(x&=S-1,x+=S):x=0,d++,--$[l]===0){if(l===f)break;l=r[e+o[d]]}if(l>h&&(x&B)!==A){for(y===0&&(y=h),q+=p,g=l-y,m=1<<g;g+y<f&&(m-=$[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,t===t2&&v>gT||t===xT&&v>yT)return 1;A=x&B,s[A]=h<<24|g<<16|q-a|0}}return x!==0&&(s[q+x]=l-y<<24|64<<16|0),c.bits=h,0};var om=R2e;const D2e=0,EW=1,AW=2,{Z_FINISH:vT,Z_BLOCK:I2e,Z_TREES:uy,Z_OK:Bd,Z_STREAM_END:O2e,Z_NEED_DICT:F2e,Z_STREAM_ERROR:ao,Z_DATA_ERROR:PW,Z_MEM_ERROR:MW,Z_BUF_ERROR:L2e,Z_DEFLATED:wT}=V0,Qx=16180,_T=16181,kT=16182,jT=16183,ST=16184,NT=16185,CT=16186,TT=16187,ET=16188,AT=16189,Fb=16190,Ml=16191,r2=16192,PT=16193,n2=16194,MT=16195,RT=16196,DT=16197,IT=16198,dy=16199,fy=16200,OT=16201,FT=16202,LT=16203,BT=16204,$T=16205,s2=16206,zT=16207,VT=16208,Fn=16209,RW=16210,DW=16211,B2e=852,$2e=592,z2e=15,V2e=z2e,WT=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function W2e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zd=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<Qx||r.mode>DW?1:0},IW=t=>{if(Zd(t))return ao;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=Qx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(B2e),r.distcode=r.distdyn=new Int32Array($2e),r.sane=1,r.back=-1,Bd},OW=t=>{if(Zd(t))return ao;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,IW(t)},FW=(t,r)=>{let e;if(Zd(t))return ao;const n=t.state;return r<0?(e=0,r=-r):(e=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?ao:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,OW(t))},LW=(t,r)=>{if(!t)return ao;const e=new W2e;t.state=e,e.strm=t,e.window=null,e.mode=Qx;const n=FW(t,r);return n!==Bd&&(t.state=null),n},U2e=t=>LW(t,V2e);let UT=!0,a2,i2;const q2e=t=>{if(UT){a2=new Int32Array(512),i2=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(om(EW,t.lens,0,288,a2,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;om(AW,t.lens,0,32,i2,0,t.work,{bits:5}),UT=!1}t.lencode=a2,t.lenbits=9,t.distcode=i2,t.distbits=5},BW=(t,r,e,n)=>{let s;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(r.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(r.subarray(e-n,e-n+s),a.wnext),n-=s,n?(a.window.set(r.subarray(e-n,e),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},H2e=(t,r)=>{let e,n,s,a,o,c,u,l,d,p,f,h,g,y,m=0,v,x,S,C,A,B,q,R;const I=new Uint8Array(4);let $,K;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zd(t)||!t.output||!t.input&&t.avail_in!==0)return ao;e=t.state,e.mode===Ml&&(e.mode=r2),o=t.next_out,s=t.output,u=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,l=e.hold,d=e.bits,p=c,f=u,R=Bd;e:for(;;)switch(e.mode){case Qx:if(e.wrap===0){e.mode=r2;break}for(;d<16;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(e.wrap&2&&l===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=l&255,I[1]=l>>>8&255,e.check=Ws(e.check,I,2,0),l=0,d=0,e.mode=_T;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",e.mode=Fn;break}if((l&15)!==wT){t.msg="unknown compression method",e.mode=Fn;break}if(l>>>=4,d-=4,q=(l&15)+8,e.wbits===0&&(e.wbits=q),q>15||q>e.wbits){t.msg="invalid window size",e.mode=Fn;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=l&512?AT:Ml,l=0,d=0;break;case _T:for(;d<16;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(e.flags=l,(e.flags&255)!==wT){t.msg="unknown compression method",e.mode=Fn;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=Fn;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Ws(e.check,I,2,0)),l=0,d=0,e.mode=kT;case kT:for(;d<32;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.head&&(e.head.time=l),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,e.check=Ws(e.check,I,4,0)),l=0,d=0,e.mode=jT;case jT:for(;d<16;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Ws(e.check,I,2,0)),l=0,d=0,e.mode=ST;case ST:if(e.flags&1024){for(;d<16;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Ws(e.check,I,2,0)),l=0,d=0}else e.head&&(e.head.extra=null);e.mode=NT;case NT:if(e.flags&1024&&(h=e.length,h>c&&(h=c),h&&(e.head&&(q=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(a,a+h),q)),e.flags&512&&e.wrap&4&&(e.check=Ws(e.check,n,h,a)),c-=h,a+=h,e.length-=h),e.length))break e;e.length=0,e.mode=CT;case CT:if(e.flags&2048){if(c===0)break e;h=0;do q=n[a+h++],e.head&&q&&e.length<65536&&(e.head.name+=String.fromCharCode(q));while(q&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Ws(e.check,n,h,a)),c-=h,a+=h,q)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=TT;case TT:if(e.flags&4096){if(c===0)break e;h=0;do q=n[a+h++],e.head&&q&&e.length<65536&&(e.head.comment+=String.fromCharCode(q));while(q&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Ws(e.check,n,h,a)),c-=h,a+=h,q)break e}else e.head&&(e.head.comment=null);e.mode=ET;case ET:if(e.flags&512){for(;d<16;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(e.wrap&4&&l!==(e.check&65535)){t.msg="header crc mismatch",e.mode=Fn;break}l=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Ml;break;case AT:for(;d<32;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}t.adler=e.check=WT(l),l=0,d=0,e.mode=Fb;case Fb:if(e.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=l,e.bits=d,F2e;t.adler=e.check=1,e.mode=Ml;case Ml:if(r===I2e||r===uy)break e;case r2:if(e.last){l>>>=d&7,d-=d&7,e.mode=s2;break}for(;d<3;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}switch(e.last=l&1,l>>>=1,d-=1,l&3){case 0:e.mode=PT;break;case 1:if(q2e(e),e.mode=dy,r===uy){l>>>=2,d-=2;break e}break;case 2:e.mode=RT;break;case 3:t.msg="invalid block type",e.mode=Fn}l>>>=2,d-=2;break;case PT:for(l>>>=d&7,d-=d&7;d<32;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",e.mode=Fn;break}if(e.length=l&65535,l=0,d=0,e.mode=n2,r===uy)break e;case n2:e.mode=MT;case MT:if(h=e.length,h){if(h>c&&(h=c),h>u&&(h=u),h===0)break e;s.set(n.subarray(a,a+h),o),c-=h,a+=h,u-=h,o+=h,e.length-=h;break}e.mode=Ml;break;case RT:for(;d<14;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(e.nlen=(l&31)+257,l>>>=5,d-=5,e.ndist=(l&31)+1,l>>>=5,d-=5,e.ncode=(l&15)+4,l>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=Fn;break}e.have=0,e.mode=DT;case DT:for(;e.have<e.ncode;){for(;d<3;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.lens[U[e.have++]]=l&7,l>>>=3,d-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,$={bits:e.lenbits},R=om(D2e,e.lens,0,19,e.lencode,0,e.work,$),e.lenbits=$.bits,R){t.msg="invalid code lengths set",e.mode=Fn;break}e.have=0,e.mode=IT;case IT:for(;e.have<e.nlen+e.ndist;){for(;m=e.lencode[l&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(S<16)l>>>=v,d-=v,e.lens[e.have++]=S;else{if(S===16){for(K=v+2;d<K;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(l>>>=v,d-=v,e.have===0){t.msg="invalid bit length repeat",e.mode=Fn;break}q=e.lens[e.have-1],h=3+(l&3),l>>>=2,d-=2}else if(S===17){for(K=v+3;d<K;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}l>>>=v,d-=v,q=0,h=3+(l&7),l>>>=3,d-=3}else{for(K=v+7;d<K;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}l>>>=v,d-=v,q=0,h=11+(l&127),l>>>=7,d-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=Fn;break}for(;h--;)e.lens[e.have++]=q}}if(e.mode===Fn)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=Fn;break}if(e.lenbits=9,$={bits:e.lenbits},R=om(EW,e.lens,0,e.nlen,e.lencode,0,e.work,$),e.lenbits=$.bits,R){t.msg="invalid literal/lengths set",e.mode=Fn;break}if(e.distbits=6,e.distcode=e.distdyn,$={bits:e.distbits},R=om(AW,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,$),e.distbits=$.bits,R){t.msg="invalid distances set",e.mode=Fn;break}if(e.mode=dy,r===uy)break e;case dy:e.mode=fy;case fy:if(c>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=l,e.bits=d,T2e(t,f),o=t.next_out,s=t.output,u=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,l=e.hold,d=e.bits,e.mode===Ml&&(e.back=-1);break}for(e.back=0;m=e.lencode[l&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(x&&(x&240)===0){for(C=v,A=x,B=S;m=e.lencode[B+((l&(1<<C+A)-1)>>C)],v=m>>>24,x=m>>>16&255,S=m&65535,!(C+v<=d);){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}l>>>=C,d-=C,e.back+=C}if(l>>>=v,d-=v,e.back+=v,e.length=S,x===0){e.mode=$T;break}if(x&32){e.back=-1,e.mode=Ml;break}if(x&64){t.msg="invalid literal/length code",e.mode=Fn;break}e.extra=x&15,e.mode=OT;case OT:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=FT;case FT:for(;m=e.distcode[l&(1<<e.distbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if((x&240)===0){for(C=v,A=x,B=S;m=e.distcode[B+((l&(1<<C+A)-1)>>C)],v=m>>>24,x=m>>>16&255,S=m&65535,!(C+v<=d);){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}l>>>=C,d-=C,e.back+=C}if(l>>>=v,d-=v,e.back+=v,x&64){t.msg="invalid distance code",e.mode=Fn;break}e.offset=S,e.extra=x&15,e.mode=LT;case LT:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=Fn;break}e.mode=BT;case BT:if(u===0)break e;if(h=f-u,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=Fn;break}h>e.wnext?(h-=e.wnext,g=e.wsize-h):g=e.wnext-h,h>e.length&&(h=e.length),y=e.window}else y=s,g=o-e.offset,h=e.length;h>u&&(h=u),u-=h,e.length-=h;do s[o++]=y[g++];while(--h);e.length===0&&(e.mode=fy);break;case $T:if(u===0)break e;s[o++]=e.length,u--,e.mode=fy;break;case s2:if(e.wrap){for(;d<32;){if(c===0)break e;c--,l|=n[a++]<<d,d+=8}if(f-=u,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Ws(e.check,s,f,o-f):Qm(e.check,s,f,o-f)),f=u,e.wrap&4&&(e.flags?l:WT(l))!==e.check){t.msg="incorrect data check",e.mode=Fn;break}l=0,d=0}e.mode=zT;case zT:if(e.wrap&&e.flags){for(;d<32;){if(c===0)break e;c--,l+=n[a++]<<d,d+=8}if(e.wrap&4&&l!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=Fn;break}l=0,d=0}e.mode=VT;case VT:R=O2e;break e;case Fn:R=PW;break e;case RW:return MW;case DW:default:return ao}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=c,e.hold=l,e.bits=d,(e.wsize||f!==t.avail_out&&e.mode<Fn&&(e.mode<s2||r!==vT))&&BW(t,t.output,t.next_out,f-t.avail_out),p-=t.avail_in,f-=t.avail_out,t.total_in+=p,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Ws(e.check,s,f,t.next_out-f):Qm(e.check,s,f,t.next_out-f)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Ml?128:0)+(e.mode===dy||e.mode===n2?256:0),(p===0&&f===0||r===vT)&&R===Bd&&(R=L2e),R},K2e=t=>{if(Zd(t))return ao;let r=t.state;return r.window&&(r.window=null),t.state=null,Bd},G2e=(t,r)=>{if(Zd(t))return ao;const e=t.state;return(e.wrap&2)===0?ao:(e.head=r,r.done=!1,Bd)},Q2e=(t,r)=>{const e=r.length;let n,s,a;return Zd(t)||(n=t.state,n.wrap!==0&&n.mode!==Fb)?ao:n.mode===Fb&&(s=1,s=Qm(s,r,e,0),s!==n.check)?PW:(a=BW(t,r,e,e),a?(n.mode=RW,MW):(n.havedict=1,Bd))};var X2e=OW,Y2e=FW,Z2e=IW,J2e=U2e,e_e=LW,t_e=H2e,r_e=K2e,n_e=G2e,s_e=Q2e,a_e="pako inflate (from Nodeca project)",Bl={inflateReset:X2e,inflateReset2:Y2e,inflateResetKeep:Z2e,inflateInit:J2e,inflateInit2:e_e,inflate:t_e,inflateEnd:r_e,inflateGetHeader:n_e,inflateSetDictionary:s_e,inflateInfo:a_e};function i_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var o_e=i_e;const $W=Object.prototype.toString,{Z_NO_FLUSH:l_e,Z_FINISH:c_e,Z_OK:Zm,Z_STREAM_END:o2,Z_NEED_DICT:l2,Z_STREAM_ERROR:u_e,Z_DATA_ERROR:qT,Z_MEM_ERROR:d_e}=V0;function q0(t){this.options=Gx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CW,this.strm.avail_out=0;let e=Bl.inflateInit2(this.strm,r.windowBits);if(e!==Zm)throw new Error(Fd[e]);if(this.header=new o_e,Bl.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Ym.string2buf(r.dictionary):$W.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=Bl.inflateSetDictionary(this.strm,r.dictionary),e!==Zm)))throw new Error(Fd[e])}q0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,o,c;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?c_e:l_e,$W.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),a=Bl.inflate(e,o),a===l2&&s&&(a=Bl.inflateSetDictionary(e,s),a===Zm?a=Bl.inflate(e,o):a===qT&&(a=l2));e.avail_in>0&&a===o2&&e.state.wrap>0&&t[e.next_in]!==0;)Bl.inflateReset(e),a=Bl.inflate(e,o);switch(a){case u_e:case qT:case l2:case d_e:return this.onEnd(a),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||a===o2))if(this.options.to==="string"){let u=Ym.utf8border(e.output,e.next_out),l=e.next_out-u,d=Ym.buf2string(e.output,u);e.next_out=l,e.avail_out=n-l,l&&e.output.set(e.output.subarray(u,u+l),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===Zm&&c===0)){if(a===o2)return a=Bl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};q0.prototype.onData=function(t){this.chunks.push(t)};q0.prototype.onEnd=function(t){t===Zm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wj(t,r){const e=new q0(r);if(e.push(t),e.err)throw e.msg||Fd[e.err];return e.result}function f_e(t,r){return r=r||{},r.raw=!0,wj(t,r)}var h_e=q0,p_e=wj,m_e=f_e,g_e=wj,y_e={Inflate:h_e,inflate:p_e,inflateRaw:m_e,ungzip:g_e};const{Deflate:b_e,deflate:x_e,deflateRaw:v_e,gzip:w_e}=N2e,{Inflate:__e,inflate:k_e,inflateRaw:j_e,ungzip:S_e}=y_e;var N_e=b_e,C_e=x_e,T_e=v_e,E_e=w_e,A_e=__e,P_e=k_e,M_e=j_e,R_e=S_e,D_e=V0,I_e={Deflate:N_e,deflate:C_e,deflateRaw:T_e,gzip:E_e,Inflate:A_e,inflate:P_e,inflateRaw:M_e,ungzip:R_e,constants:D_e};const O_e=()=>"web",F_e=t=>{switch(t){case"android":return" ";case"ios":return" iOS";default:return" "}};function c2(){const[,t]=Os(),r=O_e(),[e,n]=E.useState(navigator.onLine),[s,a]=E.useState("permissions"),[o,c]=E.useState(!1),[u,l]=E.useState(null),[d,p]=E.useState(""),[f,h]=E.useState(null),[g,y]=E.useState(!1),m=E.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[x,S]=E.useState(v.filter(ee=>ee.platforms.includes(r))),C=E.useCallback((ee,oe)=>{S(ne=>ne.map(fe=>fe.id===ee?{...fe,...oe}:fe))},[]);E.useEffect(()=>{const ee=()=>n(!0),oe=()=>n(!1);return window.addEventListener("online",ee),window.addEventListener("offline",oe),()=>{window.removeEventListener("online",ee),window.removeEventListener("offline",oe)}},[]);const A=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const ee="__storage_test__";return localStorage.setItem(ee,ee),localStorage.removeItem(ee),"indexedDB"in window?new Promise(oe=>{const ne=indexedDB.open("__test_db__",1);ne.onerror=()=>oe("denied"),ne.onsuccess=()=>{ne.result.close(),indexedDB.deleteDatabase("__test_db__"),oe("granted")}}):"granted"}catch{return"denied"}},B=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},q=async()=>{if(!navigator.onLine)return"denied";try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),5e3),ne=await fetch("/api/health",{method:"GET",signal:ee.signal,cache:"no-store"});return clearTimeout(oe),ne.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},R=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const ee=await navigator.permissions.query({name:"geolocation"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},I=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const ee=await navigator.permissions.query({name:"camera"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},$=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},K=async()=>{try{if("getBattery"in navigator){const ee=await navigator.getBattery();return C("battery",{details:`${Math.round(ee.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},U=async()=>{try{const ee=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return ee?(C("networkInfo",{details:ee.effectiveType||ee.type}),"granted"):"unavailable"}catch{return"unavailable"}},P=async()=>{try{await Vb();const ee=["projects","workers","financialTransfers","wells","wellExpenses"];let oe=0;const ne={};for(const fe of ee)try{const le=await hd(fe);oe+=le,ne[fe]=le}catch{ne[fe]=0}{const fe={totalRecords:oe,tables:ne,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:oe===0};C("database",{details:oe>0?`${oe} `:"",expandedDetails:fe})}return"granted"}catch(ee){return console.error("[DB Check] :",ee),"denied"}},L=async()=>{try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),8e3),ne=performance.now(),fe=await fetch("/api/health",{signal:ee.signal,cache:"no-store"}),le=Math.round(performance.now()-ne);if(clearTimeout(oe),fe.ok){const ie=await fe.json().catch(()=>({})),te=ie.database==="connected"?"":"",se=localStorage.getItem("emergency_mode")==="true",de={dbStatus:te,responseTime:`${le}ms`,status:fe.status,emergencyMode:se?"":"",timestamp:new Date().toLocaleString("ar-SA")};return C("server",{details:te,expandedDetails:de}),ie.database==="connected"?"granted":"warning"}return C("server",{details:"  ",expandedDetails:{status:fe.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(ee){return C("server",{details:" ",expandedDetails:{error:ee.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},T=async()=>{try{const ee="latest_backup_timestamp",oe=localStorage.getItem(ee);let ne=!1,fe="";if(navigator.onLine)try{const ie=new AbortController,te=setTimeout(()=>ie.abort(),1e4),se=await fetch("/api/sync/latest-backup",{signal:ie.signal,cache:"no-store"});if(clearTimeout(te),se.ok){const de=await se.json();if(de.timestamp)return ne=!0,fe=new Date(de.timestamp).toLocaleString("ar-SA"),localStorage.setItem(ee,de.timestamp),C("backup",{details:" ",expandedDetails:{source:"",timestamp:fe,status:""}}),"granted"}}catch{}if(oe){const ie=new Date(oe),se=(new Date().getTime()-ie.getTime())/(1e3*60*60),de=ie.toLocaleString("ar-SA");if(se<24){const me={source:"",timestamp:de,ageHours:Math.round(se),status:""};return C("backup",{details:" ",expandedDetails:me}),"granted"}else if(se<168){const me={source:"",timestamp:de,ageHours:Math.round(se),status:""};return C("backup",{details:" ",expandedDetails:me}),"warning"}}return C("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},_=async()=>{try{const ee=localStorage.getItem("emergency_mode")==="true",oe=localStorage.getItem("offline_queue");let ne=0;if(oe)try{const te=JSON.parse(oe);ne=Array.isArray(te)?te.length:0}catch{}let fe=!1,le=0;try{le=await hd("projects"),fe=le>0}catch{le=0}const ie={mode:ee?"":"",queueCount:ne,hasLocalData:fe,projectsCount:le,timestamp:new Date().toLocaleString("ar-SA")};return ee?(C("emergency",{details:` (${ne} )`,expandedDetails:ie}),"warning"):fe?(C("emergency",{details:" ",expandedDetails:ie}),"granted"):(C("emergency",{details:" ",expandedDetails:ie}),"pending")}catch{return"denied"}},k=async()=>{try{const ee=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],oe={},ne=[];let fe=!0;for(const se of ee)try{const de=await hd(se);oe[se]=de,ne.push({name:se,count:de,status:"ok"})}catch{oe[se]=-1,ne.push({name:se,count:0,status:"error"}),fe=!1}const le=Object.values(oe).filter(se=>se>=0).reduce((se,de)=>se+de,0),ie=Object.values(oe).filter(se=>se>=0).length,te={tables:ne,totalRecords:le,validTables:ie,totalTables:ee.length,timestamp:new Date().toLocaleString("ar-SA")};return C("tables",{details:`${ie}/${ee.length}  (${le} )`,expandedDetails:te}),fe?"granted":"warning"}catch(ee){return console.error("[Tables Check] Error:",ee),"denied"}},j=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await yd(),"granted"}catch{return"denied"}},N=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},D=async()=>{try{return"geolocation"in navigator?new Promise(ee=>{navigator.geolocation.getCurrentPosition(()=>ee("granted"),oe=>ee(oe.code===oe.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},O=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(oe=>oe.stop()),"granted"}catch(ee){return ee.name==="NotAllowedError"?"denied":ee.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},z=async()=>{try{return await Tz(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},Q=async ee=>new Promise((oe,ne)=>{const fe=new FileReader;fe.onload=async le=>{try{const ie=le.target?.result;if(ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")){const te=new Uint8Array(ie),se=I_e.ungzip(te,{to:"string"});if(ee.name.includes(".sql"))oe({type:"sql",content:se});else try{const de=JSON.parse(se);oe({type:"json",content:de})}catch{oe({type:"sql",content:se})}}else if(ee.name.endsWith(".sql"))oe({type:"sql",content:ie});else if(ee.name.endsWith(".json")){const te=JSON.parse(ie);oe({type:"json",content:te})}else try{const te=JSON.parse(ie);oe({type:"json",content:te})}catch{oe({type:"sql",content:ie})}}catch(ie){ne(ie)}},fe.onerror=()=>ne(new Error("   ")),ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")?fe.readAsArrayBuffer(ee):fe.readAsText(ee)}),Y=async ee=>{if(ee.type==="json"){const oe=ee.content,ne=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const fe of ne)if(oe[fe]&&Array.isArray(oe[fe]))for(const le of oe[fe])try{await Sa(fe,le)}catch(ie){console.warn(`[Import]    ${fe}:`,ie)}}else if(ee.type==="sql"){const oe=ee.content,ne=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let fe;for(;(fe=ne.exec(oe))!==null;){const le=fe[1].toLowerCase(),ie=fe[2].split(",").map(me=>me.trim().replace(/"/g,"")),se=fe[3].split(",").map(me=>(me=me.trim(),me==="NULL"||me==="null"?null:me.startsWith("'")&&me.endsWith("'")?me.slice(1,-1):isNaN(Number(me))?me:Number(me))),de={};ie.forEach((me,ke)=>{de[me]=se[ke]});try{await db.put(le,de)}catch(me){console.warn("[SQL Import] :",me)}}}},re=async ee=>{const oe=ee.target.files?.[0];if(oe){p("  ...");try{const ne=await Q(oe);p("  ..."),await Y(ne),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",oe.name),C("backup",{status:"granted",details:" "}),C("database",{status:"granted",details:" "}),p("  !"),setTimeout(()=>p(""),3e3)}catch(ne){console.error("[Import] :",ne),p(`: ${ne.message}`),setTimeout(()=>p(""),5e3)}m.current&&(m.current.value="")}},F=ee=>{switch(ee){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};E.useEffect(()=>{const ee=localStorage.getItem("permissions_granted")==="true",oe=localStorage.getItem("setup_complete")==="true";if(ee&&oe){t("/login");return}(async()=>{const fe=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const le of fe){if(!x.find(te=>te.id===le))continue;l(le);let ie="pending";le==="storage"?ie=await A():le==="notifications"?ie=await B():le==="network"?ie=await q():le==="geolocation"?ie=await R():le==="camera"?ie=await I():le==="vibration"?ie=await $():le==="battery"?ie=await K():le==="networkInfo"&&(ie=await U()),C(le,{status:ie,details:x.find(te=>te.id===le)?.details||F(ie)})}l(null)})()},[t,C,r,x]);const Z=async()=>{c(!0);const ee=[{id:"storage",fn:j},{id:"notifications",fn:N},{id:"geolocation",fn:D},{id:"camera",fn:O}];for(const le of ee){if(!x.find(te=>te.id===le.id))continue;l(le.id),C(le.id,{status:"checking"});const ie=await le.fn();C(le.id,{status:ie,details:F(ie)})}a("system");const oe=[{id:"database",fn:P},{id:"server",fn:L},{id:"backup",fn:T},{id:"emergency",fn:_},{id:"tables",fn:k}];let ne="denied";for(const le of oe){if(!x.find(te=>te.id===le.id))continue;l(le.id),C(le.id,{status:"checking"});const ie=await le.fn();le.id==="database"&&(ne=ie),le.id==="server"&&ie==="denied"&&localStorage.setItem("emergency_mode","true"),C(le.id,{status:ie,details:x.find(te=>te.id===le.id)?.details||F(ie)})}const fe=x.find(le=>le.id==="backup");if(fe&&(fe.status==="granted"||fe.status==="warning")){l("backup"),C("backup",{status:"checking",details:" ..."});const le=await z();C("backup",{status:le,details:le==="granted"?" ":" "})}l(null),c(!1),(ne==="granted"||ne==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),a("complete"),setTimeout(()=>t("/login"),1500))},W=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),t("/login")},V=async()=>{y(!0),h(null);const ee=[{id:"database",fn:P},{id:"server",fn:L},{id:"backup",fn:T},{id:"emergency",fn:_},{id:"tables",fn:k}];for(const oe of ee)if(x.find(fe=>fe.id===oe.id)){l(oe.id),C(oe.id,{status:"checking"});try{const fe=await oe.fn();C(oe.id,{status:fe})}catch(fe){console.error(`[Refresh] Error checking ${oe.id}:`,fe),C(oe.id,{status:"warning"})}}l(null),y(!1)},G=ee=>({storage:li,notifications:ki,network:pd,geolocation:Jo,camera:JP,database:dm,server:_d,backup:xs,vibration:$Q,battery:iQ,networkInfo:IQ,emergency:nl,tables:li})[ee]||nl,ae=Math.round(x.filter(ee=>["granted","warning","unavailable","denied"].includes(ee.status)).length/x.length*100),pe=x.filter(ee=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(ee.id)),ce=x.filter(ee=>["database","server","backup","emergency","tables"].includes(ee.id)),ge=s==="permissions"?pe:s==="system"?ce:x;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[i.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${ae}%`}})}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:s==="complete"?i.jsx(wn,{className:"w-8 h-8 text-green-500"}):i.jsx(Va,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:s==="permissions"?" ":s==="system"?" ":" "}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e?i.jsxs(i.Fragment,{children:[i.jsx(pd,{className:"w-3.5 h-3.5 text-green-500"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(Ff,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),i.jsx("span",{className:"text-muted-foreground/50",children:""}),i.jsxs(i.Fragment,{children:[i.jsx(Rk,{className:"w-3.5 h-3.5"})," "]})]})]}),i.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ge.map(ee=>{const oe=G(ee.id),ne=u===ee.id,fe=f===ee.id,le=ee.expandedDetails&&Object.keys(ee.expandedDetails).length>0;return i.jsxs("div",{"data-testid":`check-${ee.id}`,className:Ee("rounded-xl border transition-all duration-200",ee.status==="checking"&&"border-primary/40 bg-primary/5",ee.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",ee.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",ee.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",ee.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",ee.status==="pending"&&"border-border/50 bg-muted/30"),children:[i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:Ee("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",ee.status==="checking"&&"bg-primary/15 text-primary",ee.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",ee.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",ee.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",ee.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",ee.status==="pending"&&"bg-muted text-muted-foreground"),children:ee.status==="checking"||ne?i.jsx(sn,{className:"w-4 h-4 animate-spin"}):ee.status==="granted"?i.jsx(wn,{className:"w-4 h-4"}):["denied","warning"].includes(ee.status)?i.jsx(ua,{className:"w-4 h-4"}):i.jsx(oe,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:Ee("text-sm font-medium truncate",ee.status==="pending"?"text-muted-foreground":"text-foreground"),children:ee.label}),ee.required&&ee.status!=="granted"&&i.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[ee.details&&i.jsx("span",{className:Ee("text-xs shrink-0",ee.status==="granted"&&"text-green-600 dark:text-green-400",ee.status==="warning"&&"text-amber-600 dark:text-amber-400",ee.status==="denied"&&"text-red-600 dark:text-red-400",ee.status==="unavailable"&&"text-slate-400"),children:ee.details}),le&&i.jsx("button",{onClick:()=>h(fe?null:ee.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${ee.id}`,children:fe?i.jsx(No,{className:"w-4 h-4"}):i.jsx(Bn,{className:"w-4 h-4"})})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:ee.description})]})]}),fe&&le&&i.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:i.jsx("div",{className:"mt-3 space-y-2 text-xs",children:ee.id==="tables"&&ee.expandedDetails?.tables?i.jsx(i.Fragment,{children:ee.expandedDetails.tables.map(ie=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[i.jsx("span",{className:"font-medium",children:ie.name}),i.jsxs("span",{className:ie.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ie.count," "]})]},ie.name))}):Object.entries(ee.expandedDetails||{}).map(([ie,te])=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[i.jsx("span",{className:"text-muted-foreground",children:ie}),i.jsx("span",{className:"font-medium",children:String(te)})]},ie))})})]},ee.id)})}),s!=="complete"&&i.jsxs("div",{className:"space-y-2",children:[s==="system"&&i.jsx(Re,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:V,disabled:o||g,children:g?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(xs,{className:"w-4 h-4 ml-2"})," "]})}),i.jsx(Re,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:Z,disabled:o||g,children:o?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nl,{className:"w-4 h-4 ml-2"}),"   "]})}),i.jsx(Input,{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:re,className:"hidden","data-testid":"input-backup-file"}),i.jsxs(Re,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:o,children:[i.jsx(U2,{className:"w-4 h-4 ml-2"}),"  "]}),d&&i.jsx("div",{className:Ee("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),i.jsx(Re,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:W,disabled:o,children:" ( )"})]}),s==="complete"&&i.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[i.jsx(wn,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),i.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",F_e(r),"   "]})]})})]})}function L_e(){const[t,r]=E.useState(()=>zm()),[e,n]=E.useState(navigator.onLine),[s,a]=E.useState([]),[o,c]=E.useState([]),[u,l]=E.useState([]),[d,p]=E.useState([]),[f,h]=E.useState([]),[g,y]=E.useState(null),m=E.useCallback(async()=>{try{const[B,q,R,I,$,K]=await Promise.all([iu(),pK(),pP(),yK(),hP(100),vK()]);a(B),c(q),l(R),p(I),h($),y(K)}catch(B){console.warn(" [useSyncData]   :",B)}},[]);E.useEffect(()=>{const B=zx($=>{r($),m()}),q=()=>{n(!0),Zc().catch(console.error)},R=()=>n(!1);window.addEventListener("online",q),window.addEventListener("offline",R),m();const I=setInterval(m,1e4);return()=>{B(),window.removeEventListener("online",q),window.removeEventListener("offline",R),clearInterval(I)}},[m]);const v=async()=>{e&&(await Zc(),await m())},x=async B=>{await mK(B),await m()},S=async()=>{await gK(),await m()},C=async B=>{await bK(B),await m()},A=async()=>{await xK(),await m()};return{isSyncing:t.isSyncing,offlineCount:t.pendingCount,lastSync:t.lastSync,lastError:t.lastError,lastErrorType:t.lastErrorType,lastErrorDetails:t.lastErrorDetails,isOnline:e,latency:t.latency,progress:t.progress,pendingItems:s,allQueueItems:o,failedItems:u,duplicateItems:d,syncHistory:f,offlineStats:g,manualSync:v,cancelOperation:x,cancelAllOperations:S,retryOperation:C,retryAllOperations:A,refreshData:m}}const u2={syncAuditLogs:"/api/sync-audit/logs",syncAuditStats:"/api/sync-audit/stats",syncAuditModules:"/api/sync-audit/modules"};function zW(t){if(!t)return" ";const r=Date.now()-t,e=Math.floor(r/1e3);if(e<60)return` ${e} `;const n=Math.floor(e/60);if(n<60)return` ${n} `;const s=Math.floor(n/60);return s<24?` ${s} `:` ${Math.floor(s/24)} `}function VW(t){if(!t)return"-";const r=new Date(t);return r.toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})+" "+r.toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit"})}function WW(t){switch(t){case"create":return"";case"update":return"";case"delete":return"";default:return t}}function UW(t){switch(t){case"pending":return i.jsx(Nt,{variant:"secondary","data-testid":"badge-status-pending",children:" "});case"in-flight":return i.jsx(Nt,{variant:"default","data-testid":"badge-status-inflight",children:" "});case"failed":return i.jsx(Nt,{variant:"destructive","data-testid":"badge-status-failed",children:""});case"conflict":return i.jsx(Nt,{variant:"warning","data-testid":"badge-status-conflict",children:""});case"duplicate-resolved":return i.jsx(Nt,{variant:"outline","data-testid":"badge-status-duplicate",children:" -  "});case"success":return i.jsx(Nt,{variant:"success","data-testid":"badge-status-success",children:""});case"duplicate":return i.jsx(Nt,{variant:"outline","data-testid":"badge-status-dup-log",children:""});case"skipped":return i.jsx(Nt,{variant:"secondary","data-testid":"badge-status-skipped",children:" "});default:return i.jsx(Nt,{variant:"secondary",children:t||" "})}}function qW(t){const e=t.split("/")[2]||t;return{"fund-transfers":" ","project-fund-transfers":" ",workers:"","worker-attendance":" ",suppliers:"",materials:"","material-purchases":" ","supplier-payments":" ","transportation-expenses":" ",projects:""}[e]||e}function B_e(){const{isSyncing:t,isOnline:r,pendingItems:e,failedItems:n,duplicateItems:s,syncHistory:a,offlineStats:o,lastSync:c,latency:u,cancelOperation:l,retryOperation:d,retryAllOperations:p}=L_e(),{toast:f}=pn(),[h,g]=E.useState("pending"),[y,m]=E.useState(new Set),{searchValue:v,filterValues:x,onSearchChange:S,onFilterChange:C,onReset:A}=B0({action:"all",status:"all"},""),{data:B=[]}=xt({queryKey:xe.projects,queryFn:async()=>{const _=await Ve("/api/projects","GET");return _?.data||_||[]}}),q=_=>_.filter(k=>{const j=!v||(k.endpoint||"").toLowerCase().includes(v.toLowerCase())||(k.id||"").toLowerCase().includes(v.toLowerCase())||(k.lastError||"").toLowerCase().includes(v.toLowerCase()),N=x.action==="all"||k.action===x.action;return j&&N}),R=E.useMemo(()=>q(e),[e,v,x]),I=E.useMemo(()=>q(n),[n,v,x]),$=E.useMemo(()=>a.filter(_=>{const k=!v||(_.endpoint||"").toLowerCase().includes(v.toLowerCase())||(_.errorMessage||"").toLowerCase().includes(v.toLowerCase()),j=x.status==="all"||_.status===x.status;return k&&j}),[a,v,x]),K=_=>{m(k=>{const j=new Set(k);return j.has(_)?j.delete(_):j.add(_),j})},U=async _=>{await l(_),f({title:" ",description:"     "})},P=async _=>{await d(_),f({title:" ",description:"     "})},L=async()=>{await p(),f({title:" ",description:"    "})},T=a.filter(_=>_.status==="success").length;return a.filter(_=>_.status==="failed").length,a.filter(_=>_.status==="duplicate").length,i.jsxs("div",{className:"space-y-4 pb-20","data-testid":"page-sync-management",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(Nt,{variant:r?"success":"destructive","data-testid":"badge-connection-status",children:r?i.jsxs(i.Fragment,{children:[i.jsx(pd,{className:"h-3 w-3 ml-1"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(Ff,{className:"h-3 w-3 ml-1"}),"  "]})}),c>0&&i.jsxs(Nt,{variant:"outline","data-testid":"badge-last-sync",children:[i.jsx($n,{className:"h-3 w-3 ml-1"})," : ",zW(c)]}),u&&u>0&&i.jsxs(Nt,{variant:"outline","data-testid":"badge-latency",children:[i.jsx(Va,{className:"h-3 w-3 ml-1"}),u,"ms"]}),t&&i.jsxs(Nt,{variant:"default","data-testid":"badge-syncing",children:[i.jsx(xs,{className:"h-3 w-3 ml-1 animate-spin"})," "]})]}),i.jsx(Md,{stats:[{title:" ",value:o?.pendingSync??e.length,icon:$n,color:e.length>0?"orange":"blue",status:e.length>10?"warning":"normal"},{title:"",value:o?.failedSync??n.length,icon:qy,color:n.length>0?"red":"gray",status:n.length>0?"critical":"normal"},{title:" ( 100)",value:o?.totalSuccessful??T,icon:wn,color:"green"},{title:"  ",value:o?.duplicateResolved??s.length,icon:If,color:"purple"}],columns:4,hideHeader:!0}),i.jsx(lr,{className:"border-none shadow-sm",children:i.jsx(br,{className:"p-3",children:i.jsx(Vx,{searchValue:v,onSearchChange:S,placeholder:"      ...",filters:[{key:"action",label:" ",options:[{label:"",value:"all"},{label:"",value:"create"},{label:"",value:"update"},{label:"",value:"delete"}]},...h==="history"?[{key:"status",label:"",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"failed"},{label:"",value:"duplicate"},{label:" ",value:"skipped"}]}]:[]],filterValues:x,onFilterChange:C,onReset:A})})}),i.jsxs(Zz,{value:h,onValueChange:g,className:"w-full",dir:"rtl",children:[i.jsxs(rj,{className:"grid w-full grid-cols-5 mb-4","data-testid":"tabs-sync",children:[i.jsxs(Yi,{value:"pending",className:"gap-1","data-testid":"tab-pending",children:[i.jsx($n,{className:"h-3.5 w-3.5"}),"",e.length>0&&i.jsx(Nt,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:e.length})]}),i.jsxs(Yi,{value:"failed",className:"gap-1","data-testid":"tab-failed",children:[i.jsx(hl,{className:"h-3.5 w-3.5"}),"",n.length>0&&i.jsx(Nt,{variant:"destructive",className:"mr-1 text-[10px] px-1.5",children:n.length})]}),i.jsxs(Yi,{value:"duplicates",className:"gap-1","data-testid":"tab-duplicates",children:[i.jsx(If,{className:"h-3.5 w-3.5"}),"",s.length>0&&i.jsx(Nt,{variant:"secondary",className:"mr-1 text-[10px] px-1.5",children:s.length})]}),i.jsxs(Yi,{value:"history",className:"gap-1","data-testid":"tab-history",children:[i.jsx(FN,{className:"h-3.5 w-3.5"}),""]}),i.jsxs(Yi,{value:"server-audit",className:"gap-1","data-testid":"tab-server-audit",children:[i.jsx(_d,{className:"h-3.5 w-3.5"})," "]})]}),i.jsx(Zi,{value:"pending",children:i.jsx(d2,{items:R,emptyMessage:"   ",emptyIcon:wn,expandedItems:y,onToggleExpand:K,actions:_=>i.jsx("div",{className:"flex items-center gap-1",children:i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>U(_.id),"data-testid":`button-cancel-${_.id.substring(0,8)}`,children:i.jsx(us,{className:"h-4 w-4 text-destructive"})})}),projects:B})}),i.jsxs(Zi,{value:"failed",children:[n.length>0&&i.jsx("div",{className:"flex justify-end mb-3 gap-2",children:i.jsxs(Re,{variant:"outline",size:"sm",onClick:L,"data-testid":"button-retry-all",children:[i.jsx(Hl,{className:"h-3.5 w-3.5 ml-1"}),"   (",n.length,")"]})}),i.jsx(d2,{items:I,emptyMessage:"   ",emptyIcon:wn,showError:!0,expandedItems:y,onToggleExpand:K,actions:_=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>P(_.id),"data-testid":`button-retry-${_.id.substring(0,8)}`,children:i.jsx(Hl,{className:"h-4 w-4 text-blue-500"})}),i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>U(_.id),"data-testid":`button-delete-${_.id.substring(0,8)}`,children:i.jsx(us,{className:"h-4 w-4 text-destructive"})})]}),projects:B})]}),i.jsx(Zi,{value:"duplicates",children:i.jsx(d2,{items:s,emptyMessage:"   ",emptyIcon:If,showError:!0,expandedItems:y,onToggleExpand:K,actions:_=>i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>U(_.id),"data-testid":`button-clear-dup-${_.id.substring(0,8)}`,children:i.jsx(us,{className:"h-4 w-4 text-muted-foreground"})}),projects:B})}),i.jsx(Zi,{value:"history",children:i.jsx(Oo,{className:"h-[500px]",children:$.length===0?i.jsx(_j,{icon:FN,message:"    "}):i.jsx("div",{className:"space-y-2",children:$.map(_=>i.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card","data-testid":`log-entry-${_.id.substring(0,8)}`,children:i.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${_.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":_.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":_.status==="duplicate"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:_.status==="success"?i.jsx(wn,{className:"h-4 w-4"}):_.status==="failed"?i.jsx(qy,{className:"h-4 w-4"}):_.status==="duplicate"?i.jsx(If,{className:"h-4 w-4"}):i.jsx(ua,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[UW(_.status),i.jsx(Nt,{variant:"outline",className:"text-[10px]",children:WW(_.action)}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:qW(_.endpoint)})]}),_.errorMessage&&i.jsx("p",{className:"text-xs text-destructive truncate",children:_.errorMessage}),_.payloadSummary&&i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:_.payloadSummary}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ws,{className:"h-3 w-3"}),VW(_.timestamp)]}),_.duration&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Va,{className:"h-3 w-3"}),_.duration,"ms"]}),_.retryCount!==void 0&&_.retryCount>0&&i.jsxs("span",{children:[" #",_.retryCount]})]})]})]})},_.id))})})}),i.jsx(Zi,{value:"server-audit",children:i.jsx($_e,{})})]})]})}function $_e(){const[t,r]=E.useState(1),[e,n]=E.useState("all"),[s,a]=E.useState("all"),[o,c]=E.useState("all"),[u,l]=E.useState(""),[d,p]=E.useState(new Set),f=E.useMemo(()=>({page:t,limit:30,module:e!=="all"?e:void 0,status:s!=="all"?s:void 0,action:o!=="all"?o:void 0,search:u||void 0}),[t,e,s,o,u]),h=E.useMemo(()=>{const $=new URLSearchParams;return Object.entries(f).forEach(([K,U])=>{U!==void 0&&$.set(K,String(U))}),$.toString()},[f]),{data:g,isLoading:y}=xt({queryKey:xe.syncAuditLogsFiltered(f),queryFn:async()=>await Ve(`${u2.syncAuditLogs}?${h}`,"GET"),refetchInterval:3e4}),{data:m}=xt({queryKey:xe.syncAuditStats,queryFn:async()=>{const $=await Ve(u2.syncAuditStats,"GET");return $?.data||$||{}},refetchInterval:6e4}),{data:v}=xt({queryKey:xe.syncAuditModules,queryFn:async()=>{const $=await Ve(u2.syncAuditModules,"GET");return $?.data||$?.modules||[]}}),x=g?.logs||[],S=g?.pagination||{},C={total:S.total||0,pages:S.totalPages||S.pages||1},A=m||{},B=Array.isArray(v)?v:[],q=$=>{p(K=>{const U=new Set(K);return U.has($)?U.delete($):U.add($),U})};function R($){switch($){case"success":return i.jsx(Nt,{variant:"success",children:""});case"failed":return i.jsx(Nt,{variant:"destructive",children:""});case"duplicate":return i.jsx(Nt,{variant:"outline",children:""});case"skipped":return i.jsx(Nt,{variant:"secondary",children:""});case"conflict":return i.jsx(Nt,{variant:"destructive",children:""});default:return i.jsx(Nt,{variant:"secondary",children:$})}}function I($){const U={create:{label:"",variant:"success"},update:{label:"",variant:"default"},delete:{label:"",variant:"destructive"},sync_push:{label:"",variant:"default"},sync_pull:{label:"",variant:"default"},full_backup:{label:" ",variant:"outline"},delta_sync:{label:" ",variant:"outline"},instant_sync:{label:" ",variant:"outline"}}[$]||{label:$,variant:"secondary"};return i.jsx(Nt,{variant:U.variant,className:"text-[10px]",children:U.label})}return i.jsxs("div",{className:"space-y-4","data-testid":"server-audit-section",children:[i.jsx(Md,{stats:[{title:" ",value:A.total||0,icon:li,color:"blue"},{title:"",value:A.success||0,icon:wn,color:"green"},{title:"",value:A.failed||0,icon:qy,color:(A.failed||0)>0?"red":"gray"},{title:"",value:A.todayCount||0,icon:ws,color:"purple"}],columns:4,hideHeader:!0}),i.jsx(lr,{className:"border-none shadow-sm",children:i.jsx(br,{className:"p-3",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1 min-w-[180px]",children:[i.jsx(To,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(yt,{placeholder:"   ...",value:u,onChange:$=>{l($.target.value),r(1)},className:"pr-9","data-testid":"input-audit-search"})]}),i.jsxs(Yn,{value:e,onValueChange:$=>{n($),r(1)},children:[i.jsx(Vn,{className:"w-[140px]","data-testid":"select-audit-module",children:i.jsx(Zn,{placeholder:""})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"all",children:" "}),B.map($=>i.jsx($t,{value:$.value||$,children:$.label||$},$.value||$))]})]}),i.jsxs(Yn,{value:s,onValueChange:$=>{a($),r(1)},children:[i.jsx(Vn,{className:"w-[120px]","data-testid":"select-audit-status",children:i.jsx(Zn,{placeholder:""})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"all",children:" "}),i.jsx($t,{value:"success",children:""}),i.jsx($t,{value:"failed",children:""}),i.jsx($t,{value:"duplicate",children:""}),i.jsx($t,{value:"skipped",children:""}),i.jsx($t,{value:"conflict",children:""})]})]}),i.jsxs(Yn,{value:o,onValueChange:$=>{c($),r(1)},children:[i.jsx(Vn,{className:"w-[140px]","data-testid":"select-audit-action",children:i.jsx(Zn,{placeholder:" "})}),i.jsxs(Wn,{children:[i.jsx($t,{value:"all",children:" "}),i.jsx($t,{value:"create",children:""}),i.jsx($t,{value:"update",children:""}),i.jsx($t,{value:"delete",children:""}),i.jsx($t,{value:"full_backup",children:" "}),i.jsx($t,{value:"delta_sync",children:" "}),i.jsx($t,{value:"instant_sync",children:" "})]})]})]})})}),y?i.jsxs("div",{className:"flex items-center justify-center py-16 text-muted-foreground",children:[i.jsx(xs,{className:"h-6 w-6 animate-spin ml-2"}),i.jsx("span",{children:" ..."})]}):x.length===0?i.jsx(_j,{icon:nl,message:"    "}):i.jsx(Oo,{className:"h-[500px]",children:i.jsx("div",{className:"space-y-2",children:x.map($=>{const K=d.has($.id);return i.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`audit-log-${$.id}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${$.status==="success"?"bg-green-100 text-green-600 dark:bg-green-900/30":$.status==="failed"?"bg-red-100 text-red-600 dark:bg-red-900/30":"bg-gray-100 text-gray-600 dark:bg-gray-900/30"}`,children:$.status==="success"?i.jsx(wn,{className:"h-4 w-4"}):$.status==="failed"?i.jsx(qy,{className:"h-4 w-4"}):i.jsx(ua,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[R($.status),I($.action),i.jsx(Nt,{variant:"outline",className:"text-[10px]",children:$.module})]}),i.jsx("p",{className:"text-sm truncate",children:$.description}),$.errorMessage&&i.jsx("p",{className:"text-xs text-destructive truncate",children:$.errorMessage}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ws,{className:"h-3 w-3"}),new Date($.createdAt).toLocaleDateString("ar-YE",{year:"numeric",month:"2-digit",day:"2-digit"})," ",new Date($.createdAt).toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),$.userName&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Wd,{className:"h-3 w-3"}),$.userName]}),$.durationMs&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Va,{className:"h-3 w-3"}),$.durationMs,"ms"]}),$.projectName&&i.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[i.jsx(ds,{className:"h-3 w-3"}),$.projectName]})]})]})]}),i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>q($.id),"data-testid":`button-expand-audit-${$.id}`,children:K?i.jsx(No,{className:"h-4 w-4"}):i.jsx(Bn,{className:"h-4 w-4"})})]}),K&&i.jsx("div",{className:"border-t p-3 bg-muted/30",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:": "}),i.jsx("span",{children:$.tableName})]}),$.recordId&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-mono text-[11px]",children:$.recordId})]}),$.syncType&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{children:$.syncType})]}),$.ipAddress&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" IP: "}),i.jsx("span",{className:"font-mono text-[11px]",dir:"ltr",children:$.ipAddress})]}),$.amount&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:": "}),i.jsx("span",{children:Number($.amount).toLocaleString("ar-SA")})]}),$.oldValues&&i.jsx("div",{className:"col-span-full",children:i.jsxs("details",{children:[i.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),i.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify($.oldValues,null,2)})]})}),$.newValues&&i.jsx("div",{className:"col-span-full",children:i.jsxs("details",{children:[i.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:" "}),i.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-32 font-mono",dir:"ltr",children:JSON.stringify($.newValues,null,2)})]})})]})})]},$.id)})})}),C.pages>1&&i.jsxs("div",{className:"flex items-center justify-between px-2",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",t,"  ",C.pages," (",C.total," )"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{variant:"outline",size:"icon",disabled:t<=1,onClick:()=>r($=>Math.max(1,$-1)),"data-testid":"button-audit-prev",children:i.jsx(vd,{className:"h-4 w-4"})}),i.jsx(Re,{variant:"outline",size:"icon",disabled:t>=C.pages,onClick:()=>r($=>$+1),"data-testid":"button-audit-next",children:i.jsx(Uy,{className:"h-4 w-4"})})]})]})]})}function _j({icon:t,message:r}){return i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground space-y-3",children:[i.jsx(t,{className:"h-12 w-12 opacity-15"}),i.jsx("p",{className:"text-sm",children:r})]})}function d2({items:t,emptyMessage:r,emptyIcon:e,showError:n,expandedItems:s,onToggleExpand:a,actions:o,projects:c}){return t.length===0?i.jsx(_j,{icon:e,message:r}):i.jsx(Oo,{className:"h-[500px]",children:i.jsx("div",{className:"space-y-2",children:t.map(u=>{const l=s.has(u.id),d=u.payload||{},p=c.find(f=>f.id===d.projectId)?.name;return i.jsxs("div",{className:"rounded-lg border bg-card overflow-hidden","data-testid":`sync-item-${u.id.substring(0,8)}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-3 gap-2",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`mt-0.5 p-1.5 rounded-md ${u.action==="create"?"bg-green-100 text-green-600 dark:bg-green-900/30":u.action==="update"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:i.jsx(Ks,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[UW(u.status),i.jsx(Nt,{variant:u.action==="create"?"success":u.action==="update"?"default":"destructive",className:"text-[10px]",children:WW(u.action)}),i.jsx("span",{className:"text-xs text-muted-foreground",children:qW(u.endpoint)}),i.jsx("span",{className:"font-mono text-[9px] px-1 py-0.5 rounded bg-muted text-muted-foreground",children:u.id.substring(0,8)})]}),n&&u.lastError&&i.jsxs("p",{className:"text-xs text-destructive flex items-start gap-1",children:[i.jsx(ua,{className:"h-3 w-3 mt-0.5 shrink-0"}),i.jsx("span",{className:"truncate",children:u.lastError})]}),i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground flex-wrap",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ws,{className:"h-3 w-3"}),VW(u.timestamp)]}),u.retries>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Hl,{className:"h-3 w-3"}),u.retries," "]}),p&&i.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[i.jsx(ds,{className:"h-3 w-3"}),p]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>a(u.id),"data-testid":`button-expand-${u.id.substring(0,8)}`,children:l?i.jsx(No,{className:"h-4 w-4"}):i.jsx(Bn,{className:"h-4 w-4"})}),o(u)]})]}),l&&i.jsx("div",{className:"border-t p-3 bg-muted/30",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:": "}),i.jsx("span",{className:"font-mono text-[11px]",children:u.endpoint})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-mono text-[11px]",children:u.id})]}),u.idempotencyKey&&i.jsxs("div",{className:"col-span-full",children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{className:"font-mono text-[11px]",children:u.idempotencyKey})]}),u.errorType&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx(Nt,{variant:"outline",className:"text-[10px]",children:u.errorType})]}),u.lastAttemptAt&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{children:zW(u.lastAttemptAt)})]}),u.lastError&&i.jsxs("div",{className:"col-span-full",children:[i.jsx("span",{className:"text-muted-foreground",children:" : "}),i.jsx("span",{className:"text-destructive",children:u.lastError})]}),i.jsx("div",{className:"col-span-full",children:i.jsxs("details",{children:[i.jsx("summary",{className:"text-muted-foreground cursor-pointer text-[11px]",children:"   (JSON)"}),i.jsx("pre",{className:"mt-1 p-2 rounded bg-muted text-[10px] overflow-auto max-h-40 font-mono",dir:"ltr",children:JSON.stringify(d,null,2)})]})})]})})]},u.id)})})})}if(typeof window<"u"){const t=window.ResizeObserver;window.ResizeObserver=class extends t{constructor(e){super((n,s)=>{window.requestAnimationFrame(()=>{!Array.isArray(n)||!n.length||e(n,s)})})}}}const z_e=E.lazy(()=>ln(()=>import("./worker-accounts-3GS2rj2F.js"),__vite__mapDeps([0,1]))),V_e=E.lazy(()=>ln(()=>import("./suppliers-professional-BR53x1bH.js"),__vite__mapDeps([2,3]))),W_e=E.lazy(()=>ln(()=>import("./customers-kVOApomh.js"),[])),U_e=E.lazy(()=>ln(()=>import("./supplier-accounts-ChUkqOp2.js"),[])),q_e=E.lazy(()=>ln(()=>import("./autocomplete-admin-Cxj4RpBI.js"),[])),H_e=E.lazy(()=>ln(()=>import("./equipment-management-BbWXHbZP.js"),__vite__mapDeps([4,5])).then(t=>({default:t.EquipmentManagement}))),K_e=E.lazy(()=>ln(()=>import("./admin-notifications-BYV02Jzf.js"),__vite__mapDeps([6,7]))),G_e=E.lazy(()=>ln(()=>import("./SmartErrorsPage-Dgccwf-1.js"),__vite__mapDeps([8,3]))),Q_e=E.lazy(()=>ln(()=>import("./SecurityPoliciesPage-BUJWJLm9.js"),__vite__mapDeps([9,10])).then(t=>({default:t.SecurityPoliciesPage}))),X_e=E.lazy(()=>ln(()=>import("./axion-reports-BKumbB1F.js"),__vite__mapDeps([11,10]))),Y_e=E.lazy(()=>ln(()=>import("./settings-feAHjWKN.js"),__vite__mapDeps([12,3,5]))),Z_e=E.lazy(()=>ln(()=>import("./users-management-Df1eF_tg.js"),[])),J_e=E.lazy(()=>ln(()=>import("./ai-chat-Drr_3QJV.js"),__vite__mapDeps([13,7]))),eke=E.lazy(()=>ln(()=>import("./sync-comparison-BgptvEsE.js"),[]));function Ra(){return i.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sn,{className:"h-12 w-12 animate-spin text-blue-600"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),i.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}Vb().catch(console.error);B1e(3e4);const tke=E.lazy(()=>ln(()=>import("./index-DpWx-IDv.js"),__vite__mapDeps([14,10])));function rke(){return aoe(),E.useEffect(()=>{(async()=>{try{await yd(),console.log("     "),Cz(),kK(3e4),SK().catch(e=>console.warn("[AuditLog] Init failed:",e)),console.log("        ");const r=zx(e=>{!e.isSyncing&&e.lastSync>0&&e.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(s=>yn.invalidateQueries({queryKey:s,refetchType:"active",exact:!1}))}catch(n){console.error("    :",n)}}))});return()=>r()}catch(r){console.error("     :",r)}})()},[]),i.jsxs(eP,{children:[i.jsx(Er,{path:"/",component:Cge}),i.jsx(Er,{path:"/deployment",component:Rpe}),i.jsx(Er,{path:"/projects",component:gge}),i.jsx(Er,{path:"/workers",component:Ige}),i.jsx(Er,{path:"/worker-accounts",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(z_e,{})})})}),i.jsx(Er,{path:"/suppliers-pro",children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(V_e,{})})}),i.jsx(Er,{path:"/customers",children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(W_e,{})})}),i.jsx(Er,{path:"/supplier-accounts",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(U_e,{})})})}),i.jsx(Er,{path:"/worker-attendance",component:Ape}),i.jsx(Er,{path:"/material-purchase",component:Jpe}),i.jsx(Er,{path:"/transport-management",component:nme}),i.jsx(Er,{path:"/project-transfers",children:i.jsx(ta,{children:i.jsx(D0e,{})})}),i.jsx(Er,{path:"/project-transactions",children:i.jsx(ta,{children:i.jsx(O0e,{})})}),i.jsx(Er,{path:"/project-fund-custody",children:i.jsx(ta,{children:i.jsx(F0e,{})})}),i.jsx(Er,{path:"/autocomplete-admin",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(q_e,{})})})}),i.jsx(Er,{path:"/equipment",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(H_e,{})})})}),i.jsx(Er,{path:"/notifications",component:Yge}),i.jsx(Er,{path:"/admin-notifications",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(K_e,{})})})}),i.jsx(Er,{path:"/smart-errors",children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(G_e,{})})}),i.jsx(Er,{path:"/security-policies",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(Q_e,{})})})}),i.jsx(Er,{path:"/daily-expenses",component:tye}),i.jsx(Er,{path:"/wells",component:nye}),i.jsx(Er,{path:"/admin/backups",children:i.jsx(ta,{children:i.jsx(Hge,{})})}),i.jsx(Er,{path:"/settings",children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(Y_e,{})})}),i.jsx(Er,{path:"/well-cost-report",component:sye}),i.jsx(Er,{path:"/well-accounting",component:lye}),i.jsx(Er,{path:"/reports",children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(X_e,{})})}),i.jsx(Er,{path:"/users-management",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(Z_e,{})})})}),i.jsx(Er,{path:"/ai-chat",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(J_e,{})})})}),i.jsx(Er,{path:"/admin/monitoring",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(tke,{})})})}),i.jsx(Er,{path:"/sync-comparison",children:i.jsx(ta,{children:i.jsx(E.Suspense,{fallback:i.jsx(Ra,{}),children:i.jsx(eke,{})})})}),i.jsx(Er,{path:"/admin/data-health",children:i.jsx(ta,{children:i.jsx(cye,{})})}),i.jsx(Er,{path:"/local-db",children:i.jsx(ta,{children:i.jsx(mye,{})})}),i.jsx(Er,{path:"/admin/sync",children:i.jsx(ta,{children:i.jsx(B_e,{})})}),i.jsx(Er,{component:pZ})]})}function nke(){return i.jsx(U_,{children:i.jsx(GH,{client:yn,children:i.jsx(LJ,{children:i.jsx(nx,{children:i.jsx(Mle,{children:i.jsxs("div",{dir:"rtl",children:[i.jsx(U_,{children:i.jsxs(eP,{children:[i.jsx(Er,{path:"/check",component:c2}),i.jsx(Er,{path:"/setup",component:c2}),i.jsx(Er,{path:"/permissions",component:c2}),i.jsx(Er,{path:"/login",component:Ese}),i.jsx(Er,{path:"/register",component:sie}),i.jsx(Er,{path:"/verify-email",component:fie}),i.jsx(Er,{path:"/forgot-password",component:lie}),i.jsx(Er,{path:"/reset-password",component:iie}),i.jsx(Er,{path:"*",component:()=>i.jsx(E1e,{children:i.jsx(M1e,{children:i.jsx(Xoe,{children:i.jsx(T1e,{children:i.jsx(rke,{})})})})})})]})}),i.jsx(_X,{})]})})})})})})}const ske=async()=>{const t=document.getElementById("root");if(t)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{for(let n of e)n.update(),n.addEventListener("updatefound",()=>{const s=n.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(e=>{e.forEach(n=>{n.includes("binarjoin-v")&&!n.includes("binarjoin-v3")&&(caches.delete(n),console.log("    :",n))})})),yd().catch(console.error),Tq.createRoot(t).render(i.jsx(nke,{}))}catch(r){console.error("Fatal startup error:",r),t.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};ske();export{ua as $,Xl as A,Re as B,nM as C,Sr as D,uke as E,dke as F,cl as G,Nr as H,yt as I,Ms as J,Yn as K,Ye as L,Vn as M,Zn as N,Wn as O,gs as P,xe as Q,$t as R,wy as S,Dn as T,zn as U,qh as V,kd as W,Ve as X,w8 as Y,V2 as Z,ln as _,pn as a,Va as a$,Jo as a0,BQ as a1,cs as a2,To as a3,_n as a4,zN as a5,ka as a6,V1 as a7,oa as a8,ds as a9,Rs as aA,Ch as aB,nc as aC,Ud as aD,Hr as aE,As as aF,FN as aG,Si as aH,wn as aI,la as aJ,c0 as aK,lu as aL,Je as aM,qo as aN,_o as aO,mke as aP,Rr as aQ,uc as aR,d0 as aS,fke as aT,c4 as aU,o4 as aV,B0 as aW,ki as aX,Ok as aY,Dk as aZ,Ik as a_,ys as aa,li as ab,Zo as ac,$n as ad,nl as ae,Ks as af,Zz as ag,rj as ah,Yi as ai,u0 as aj,Zi as ak,Nt as al,bu as am,xs as an,KV as ao,qe as ap,rc as aq,ac as ar,Zr as as,Xr as at,Gn as au,nn as av,Rn as aw,eme as ax,os as ay,JP as az,_s as b,Kl as b0,_a as b1,II as b2,OI as b3,Qc as b4,ou as b5,RN as b6,hh as b7,hl as b8,Md as b9,Ee as bA,sn as bB,Z3 as bC,J3 as bD,Rd as bE,si as bF,ej as bG,ba as bH,ZP as bI,yn as bJ,Oo as bK,sQ as bL,LN as bM,Co as bN,If as bO,Bn as bP,vd as bQ,dm as bR,aye as bS,qr as bT,W7 as bU,pk as bV,A_e as bW,P_e as bX,Xq as bY,Vx as ba,Em as bb,vn as bc,NQ as bd,qy as be,QP as bf,Gt as bg,hk as bh,Yoe as bi,NF as bj,Es as bk,qa as bl,U3 as bm,kk as bn,Kc as bo,L_e as bp,AQ as bq,FQ as br,vK as bs,Ar as bt,no as bu,Ht as bv,ft as bw,q4 as bx,Uk as by,da as bz,Fo as c,Io as d,eB as e,xt as f,Dt as g,Kh as h,Lo as i,i as j,Xp as k,lr as l,br as m,Hs as n,xn as o,Ol as p,us as q,E as r,ws as s,Wd as t,Os as u,aM as v,Us as w,Ds as x,qs as y,ca as z};
