const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/worker-accounts-DQs94J7z.js","assets/worker-accounts-S6QwB5fq.css","assets/suppliers-professional-CIa9Yce7.js","assets/switch-FVrn0bCV.js","assets/equipment-management-D-klB7yL.js","assets/upload-BDPDT2jp.js","assets/history-Ct2JnCxR.js","assets/admin-notifications-BUGCvkC1.js","assets/sparkles-BwHQoJ5y.js","assets/SmartErrorsPage-DeNX1EQi.js","assets/SecurityPoliciesPage-DWRKZl8l.js","assets/AreaChart-DRTRsrJW.js","assets/axion-reports-CuPCAeMW.js","assets/settings-BqLzhMFL.js","assets/ai-chat-BDlrWOR4.js","assets/index-CBFOAMH7.js"])))=>i.map(i=>d[i]);
var hV=Object.defineProperty;var hj=t=>{throw TypeError(t)};var pV=(t,r,e)=>r in t?hV(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var Re=(t,r,e)=>pV(t,typeof r!="symbol"?r+"":r,e),qv=(t,r,e)=>r.has(t)||hj("Cannot "+e);var Se=(t,r,e)=>(qv(t,r,"read from private field"),e?e.call(t):r.get(t)),Zt=(t,r,e)=>r.has(t)?hj("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),jt=(t,r,e,n)=>(qv(t,r,"write to private field"),n?n.call(t,e):r.set(t,e),e),zr=(t,r,e)=>(qv(t,r,"access private method"),e);var jg=(t,r,e,n)=>({set _(s){jt(t,r,s,e)},get _(){return Se(t,r,n)}});function z9(t,r){for(var e=0;e<r.length;e++){const n=r[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hv={exports:{}},gp={},Kv={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function mV(){if(pj)return Wr;pj=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function f(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(O,$,X){this.props=O,this.context=$,this.refs=y,this.updater=X||h}m.prototype.isReactComponent={},m.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},m.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function v(){}v.prototype=m.prototype;function x(O,$,X){this.props=O,this.context=$,this.refs=y,this.updater=X||h}var S=x.prototype=new v;S.constructor=x,g(S,m.prototype),S.isPureReactComponent=!0;var C=Array.isArray,A=Object.prototype.hasOwnProperty,B={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function D(O,$,X){var Y,re={},F=null,Z=null;if($!=null)for(Y in $.ref!==void 0&&(Z=$.ref),$.key!==void 0&&(F=""+$.key),$)A.call($,Y)&&!q.hasOwnProperty(Y)&&(re[Y]=$[Y]);var V=arguments.length-2;if(V===1)re.children=X;else if(1<V){for(var z=Array(V),G=0;G<V;G++)z[G]=arguments[G+2];re.children=z}if(O&&O.defaultProps)for(Y in V=O.defaultProps,V)re[Y]===void 0&&(re[Y]=V[Y]);return{$$typeof:t,type:O,key:F,ref:Z,props:re,_owner:B.current}}function I(O,$){return{$$typeof:t,type:O.type,key:$,ref:O.ref,props:O.props,_owner:O._owner}}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function K(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return $[X]})}var W=/\/+/g;function P(O,$){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):$.toString(36)}function L(O,$,X,Y,re){var F=typeof O;(F==="undefined"||F==="boolean")&&(O=null);var Z=!1;if(O===null)Z=!0;else switch(F){case"string":case"number":Z=!0;break;case"object":switch(O.$$typeof){case t:case r:Z=!0}}if(Z)return Z=O,re=re(Z),O=Y===""?"."+P(Z,0):Y,C(re)?(X="",O!=null&&(X=O.replace(W,"$&/")+"/"),L(re,$,X,"",function(G){return G})):re!=null&&(U(re)&&(re=I(re,X+(!re.key||Z&&Z.key===re.key?"":(""+re.key).replace(W,"$&/")+"/")+O)),$.push(re)),1;if(Z=0,Y=Y===""?".":Y+":",C(O))for(var V=0;V<O.length;V++){F=O[V];var z=Y+P(F,V);Z+=L(F,$,X,z,re)}else if(z=f(O),typeof z=="function")for(O=z.call(O),V=0;!(F=O.next()).done;)F=F.value,z=Y+P(F,V++),Z+=L(F,$,X,z,re);else if(F==="object")throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Z}function T(O,$,X){if(O==null)return O;var Y=[],re=0;return L(O,Y,"","",function(F){return $.call(X,F,re++)}),Y}function _(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var k={current:null},j={transition:null},N={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:j,ReactCurrentOwner:B};function R(){throw Error("act(...) is not supported in production builds of React.")}return Wr.Children={map:T,forEach:function(O,$,X){T(O,function(){$.apply(this,arguments)},X)},count:function(O){var $=0;return T(O,function(){$++}),$},toArray:function(O){return T(O,function($){return $})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Wr.Component=m,Wr.Fragment=e,Wr.Profiler=s,Wr.PureComponent=x,Wr.StrictMode=n,Wr.Suspense=u,Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Wr.act=R,Wr.cloneElement=function(O,$,X){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Y=g({},O.props),re=O.key,F=O.ref,Z=O._owner;if($!=null){if($.ref!==void 0&&(F=$.ref,Z=B.current),$.key!==void 0&&(re=""+$.key),O.type&&O.type.defaultProps)var V=O.type.defaultProps;for(z in $)A.call($,z)&&!q.hasOwnProperty(z)&&(Y[z]=$[z]===void 0&&V!==void 0?V[z]:$[z])}var z=arguments.length-2;if(z===1)Y.children=X;else if(1<z){V=Array(z);for(var G=0;G<z;G++)V[G]=arguments[G+2];Y.children=V}return{$$typeof:t,type:O.type,key:re,ref:F,props:Y,_owner:Z}},Wr.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:i,_context:O},O.Consumer=O},Wr.createElement=D,Wr.createFactory=function(O){var $=D.bind(null,O);return $.type=O,$},Wr.createRef=function(){return{current:null}},Wr.forwardRef=function(O){return{$$typeof:c,render:O}},Wr.isValidElement=U,Wr.lazy=function(O){return{$$typeof:d,_payload:{_status:-1,_result:O},_init:_}},Wr.memo=function(O,$){return{$$typeof:l,type:O,compare:$===void 0?null:$}},Wr.startTransition=function(O){var $=j.transition;j.transition={};try{O()}finally{j.transition=$}},Wr.unstable_act=R,Wr.useCallback=function(O,$){return k.current.useCallback(O,$)},Wr.useContext=function(O){return k.current.useContext(O)},Wr.useDebugValue=function(){},Wr.useDeferredValue=function(O){return k.current.useDeferredValue(O)},Wr.useEffect=function(O,$){return k.current.useEffect(O,$)},Wr.useId=function(){return k.current.useId()},Wr.useImperativeHandle=function(O,$,X){return k.current.useImperativeHandle(O,$,X)},Wr.useInsertionEffect=function(O,$){return k.current.useInsertionEffect(O,$)},Wr.useLayoutEffect=function(O,$){return k.current.useLayoutEffect(O,$)},Wr.useMemo=function(O,$){return k.current.useMemo(O,$)},Wr.useReducer=function(O,$,X){return k.current.useReducer(O,$,X)},Wr.useRef=function(O){return k.current.useRef(O)},Wr.useState=function(O){return k.current.useState(O)},Wr.useSyncExternalStore=function(O,$,X){return k.current.useSyncExternalStore(O,$,X)},Wr.useTransition=function(){return k.current.useTransition()},Wr.version="18.3.1",Wr}var mj;function gb(){return mj||(mj=1,Kv.exports=mV()),Kv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function gV(){if(gj)return gp;gj=1;var t=gb(),r=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,l){var d,p={},f=null,h=null;l!==void 0&&(f=""+l),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)n.call(u,d)&&!i.hasOwnProperty(d)&&(p[d]=u[d]);if(c&&c.defaultProps)for(d in u=c.defaultProps,u)p[d]===void 0&&(p[d]=u[d]);return{$$typeof:r,type:c,key:f,ref:h,props:p,_owner:s.current}}return gp.Fragment=e,gp.jsx=o,gp.jsxs=o,gp}var yj;function yV(){return yj||(yj=1,Hv.exports=gV()),Hv.exports}var a=yV(),Sg={},Gv={exports:{}},Ya={},Xv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj;function bV(){return bj||(bj=1,(function(t){function r(j,N){var R=j.length;j.push(N);e:for(;0<R;){var O=R-1>>>1,$=j[O];if(0<s($,N))j[O]=N,j[R]=$,R=O;else break e}}function e(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var N=j[0],R=j.pop();if(R!==N){j[0]=R;e:for(var O=0,$=j.length,X=$>>>1;O<X;){var Y=2*(O+1)-1,re=j[Y],F=Y+1,Z=j[F];if(0>s(re,R))F<$&&0>s(Z,re)?(j[O]=Z,j[F]=R,O=F):(j[O]=re,j[Y]=R,O=Y);else if(F<$&&0>s(Z,R))j[O]=Z,j[F]=R,O=F;else break e}}return N}function s(j,N){var R=j.sortIndex-N.sortIndex;return R!==0?R:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],d=1,p=null,f=3,h=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var N=e(l);N!==null;){if(N.callback===null)n(l);else if(N.startTime<=j)n(l),N.sortIndex=N.expirationTime,r(u,N);else break;N=e(l)}}function C(j){if(y=!1,S(j),!g)if(e(u)!==null)g=!0,_(A);else{var N=e(l);N!==null&&k(C,N.startTime-j)}}function A(j,N){g=!1,y&&(y=!1,v(D),D=-1),h=!0;var R=f;try{for(S(N),p=e(u);p!==null&&(!(p.expirationTime>N)||j&&!K());){var O=p.callback;if(typeof O=="function"){p.callback=null,f=p.priorityLevel;var $=O(p.expirationTime<=N);N=t.unstable_now(),typeof $=="function"?p.callback=$:p===e(u)&&n(u),S(N)}else n(u);p=e(u)}if(p!==null)var X=!0;else{var Y=e(l);Y!==null&&k(C,Y.startTime-N),X=!1}return X}finally{p=null,f=R,h=!1}}var B=!1,q=null,D=-1,I=5,U=-1;function K(){return!(t.unstable_now()-U<I)}function W(){if(q!==null){var j=t.unstable_now();U=j;var N=!0;try{N=q(!0,j)}finally{N?P():(B=!1,q=null)}}else B=!1}var P;if(typeof x=="function")P=function(){x(W)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,T=L.port2;L.port1.onmessage=W,P=function(){T.postMessage(null)}}else P=function(){m(W,0)};function _(j){q=j,B||(B=!0,P())}function k(j,N){D=m(function(){j(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,_(A))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return e(u)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var R=f;f=N;try{return j()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=f;f=j;try{return N()}finally{f=R}},t.unstable_scheduleCallback=function(j,N,R){var O=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=R+$,j={id:d++,callback:N,priorityLevel:j,startTime:R,expirationTime:$,sortIndex:-1},R>O?(j.sortIndex=R,r(l,j),e(u)===null&&j===e(l)&&(y?(v(D),D=-1):y=!0,k(C,R-O))):(j.sortIndex=$,r(u,j),g||h||(g=!0,_(A))),j},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(j){var N=f;return function(){var R=f;f=N;try{return j.apply(this,arguments)}finally{f=R}}}})(Qv)),Qv}var xj;function xV(){return xj||(xj=1,Xv.exports=bV()),Xv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj;function vV(){if(vj)return Ya;vj=1;var t=gb(),r=xV();function e(b){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+b,M=1;M<arguments.length;M++)w+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(b,w){o(b,w),o(b+"Capture",w)}function o(b,w){for(s[b]=w,b=0;b<w.length;b++)n.add(w[b])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(b){return u.call(p,b)?!0:u.call(d,b)?!1:l.test(b)?p[b]=!0:(d[b]=!0,!1)}function h(b,w,M,H){if(M!==null&&M.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return H?!1:M!==null?!M.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function g(b,w,M,H){if(w===null||typeof w>"u"||h(b,w,M,H))return!0;if(H)return!1;if(M!==null)switch(M.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(b,w,M,H,Q,J,he){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=H,this.attributeNamespace=Q,this.mustUseProperty=M,this.propertyName=b,this.type=w,this.sanitizeURL=J,this.removeEmptyString=he}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){m[b]=new y(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var w=b[0];m[w]=new y(w,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){m[b]=new y(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){m[b]=new y(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){m[b]=new y(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){m[b]=new y(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){m[b]=new y(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){m[b]=new y(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){m[b]=new y(b,5,!1,b.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var w=b.replace(v,x);m[w]=new y(w,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){m[b]=new y(b,1,!1,b.toLowerCase(),null,!0,!0)});function S(b,w,M,H){var Q=m.hasOwnProperty(w)?m[w]:null;(Q!==null?Q.type!==0:H||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,M,Q,H)&&(M=null),H||Q===null?f(w)&&(M===null?b.removeAttribute(w):b.setAttribute(w,""+M)):Q.mustUseProperty?b[Q.propertyName]=M===null?Q.type===3?!1:"":M:(w=Q.attributeName,H=Q.attributeNamespace,M===null?b.removeAttribute(w):(Q=Q.type,M=Q===3||Q===4&&M===!0?"":""+M,H?b.setAttributeNS(H,w,M):b.setAttribute(w,M))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),j=Symbol.iterator;function N(b){return b===null||typeof b!="object"?null:(b=j&&b[j]||b["@@iterator"],typeof b=="function"?b:null)}var R=Object.assign,O;function $(b){if(O===void 0)try{throw Error()}catch(M){var w=M.stack.trim().match(/\n( *(at )?)/);O=w&&w[1]||""}return`
`+O+b}var X=!1;function Y(b,w){if(!b||X)return"";X=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Ve){var H=Ve}Reflect.construct(b,[],w)}else{try{w.call()}catch(Ve){H=Ve}b.call(w.prototype)}else{try{throw Error()}catch(Ve){H=Ve}b()}}catch(Ve){if(Ve&&H&&typeof Ve.stack=="string"){for(var Q=Ve.stack.split(`
`),J=H.stack.split(`
`),he=Q.length-1,_e=J.length-1;1<=he&&0<=_e&&Q[he]!==J[_e];)_e--;for(;1<=he&&0<=_e;he--,_e--)if(Q[he]!==J[_e]){if(he!==1||_e!==1)do if(he--,_e--,0>_e||Q[he]!==J[_e]){var Ce=`
`+Q[he].replace(" at new "," at ");return b.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",b.displayName)),Ce}while(1<=he&&0<=_e);break}}}finally{X=!1,Error.prepareStackTrace=M}return(b=b?b.displayName||b.name:"")?$(b):""}function re(b){switch(b.tag){case 5:return $(b.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return b=Y(b.type,!1),b;case 11:return b=Y(b.type.render,!1),b;case 1:return b=Y(b.type,!0),b;default:return""}}function F(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case q:return"Fragment";case B:return"Portal";case I:return"Profiler";case D:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case K:return(b.displayName||"Context")+".Consumer";case U:return(b._context.displayName||"Context")+".Provider";case W:var w=b.render;return b=b.displayName,b||(b=w.displayName||w.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case T:return w=b.displayName||null,w!==null?w:F(b.type)||"Memo";case _:w=b._payload,b=b._init;try{return F(b(w))}catch{}}return null}function Z(b){var w=b.type;switch(b.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=w.render,b=b.displayName||b.name||"",w.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(w);case 8:return w===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function V(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function z(b){var w=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function G(b){var w=z(b)?"checked":"value",M=Object.getOwnPropertyDescriptor(b.constructor.prototype,w),H=""+b[w];if(!b.hasOwnProperty(w)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var Q=M.get,J=M.set;return Object.defineProperty(b,w,{configurable:!0,get:function(){return Q.call(this)},set:function(he){H=""+he,J.call(this,he)}}),Object.defineProperty(b,w,{enumerable:M.enumerable}),{getValue:function(){return H},setValue:function(he){H=""+he},stopTracking:function(){b._valueTracker=null,delete b[w]}}}}function ae(b){b._valueTracker||(b._valueTracker=G(b))}function pe(b){if(!b)return!1;var w=b._valueTracker;if(!w)return!0;var M=w.getValue(),H="";return b&&(H=z(b)?b.checked?"true":"false":b.value),b=H,b!==M?(w.setValue(b),!0):!1}function ue(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function ge(b,w){var M=w.checked;return R({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:M??b._wrapperState.initialChecked})}function ee(b,w){var M=w.defaultValue==null?"":w.defaultValue,H=w.checked!=null?w.checked:w.defaultChecked;M=V(w.value!=null?w.value:M),b._wrapperState={initialChecked:H,initialValue:M,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function oe(b,w){w=w.checked,w!=null&&S(b,"checked",w,!1)}function ne(b,w){oe(b,w);var M=V(w.value),H=w.type;if(M!=null)H==="number"?(M===0&&b.value===""||b.value!=M)&&(b.value=""+M):b.value!==""+M&&(b.value=""+M);else if(H==="submit"||H==="reset"){b.removeAttribute("value");return}w.hasOwnProperty("value")?ce(b,w.type,M):w.hasOwnProperty("defaultValue")&&ce(b,w.type,V(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(b.defaultChecked=!!w.defaultChecked)}function fe(b,w,M){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var H=w.type;if(!(H!=="submit"&&H!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+b._wrapperState.initialValue,M||w===b.value||(b.value=w),b.defaultValue=w}M=b.name,M!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,M!==""&&(b.name=M)}function ce(b,w,M){(w!=="number"||ue(b.ownerDocument)!==b)&&(M==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+M&&(b.defaultValue=""+M))}var ie=Array.isArray;function te(b,w,M,H){if(b=b.options,w){w={};for(var Q=0;Q<M.length;Q++)w["$"+M[Q]]=!0;for(M=0;M<b.length;M++)Q=w.hasOwnProperty("$"+b[M].value),b[M].selected!==Q&&(b[M].selected=Q),Q&&H&&(b[M].defaultSelected=!0)}else{for(M=""+V(M),w=null,Q=0;Q<b.length;Q++){if(b[Q].value===M){b[Q].selected=!0,H&&(b[Q].defaultSelected=!0);return}w!==null||b[Q].disabled||(w=b[Q])}w!==null&&(w.selected=!0)}}function se(b,w){if(w.dangerouslySetInnerHTML!=null)throw Error(e(91));return R({},w,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function de(b,w){var M=w.value;if(M==null){if(M=w.children,w=w.defaultValue,M!=null){if(w!=null)throw Error(e(92));if(ie(M)){if(1<M.length)throw Error(e(93));M=M[0]}w=M}w==null&&(w=""),M=w}b._wrapperState={initialValue:V(M)}}function me(b,w){var M=V(w.value),H=V(w.defaultValue);M!=null&&(M=""+M,M!==b.value&&(b.value=M),w.defaultValue==null&&b.defaultValue!==M&&(b.defaultValue=M)),H!=null&&(b.defaultValue=""+H)}function ke(b){var w=b.textContent;w===b._wrapperState.initialValue&&w!==""&&w!==null&&(b.value=w)}function Ne(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(b,w){return b==null||b==="http://www.w3.org/1999/xhtml"?Ne(w):b==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Fe,Ge=(function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,M,H,Q){MSApp.execUnsafeLocalFunction(function(){return b(w,M,H,Q)})}:b})(function(b,w){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=w;else{for(Fe=Fe||document.createElement("div"),Fe.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=Fe.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;w.firstChild;)b.appendChild(w.firstChild)}});function qe(b,w){if(w){var M=b.firstChild;if(M&&M===b.lastChild&&M.nodeType===3){M.nodeValue=w;return}}b.textContent=w}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(b){yt.forEach(function(w){w=w+b.charAt(0).toUpperCase()+b.substring(1),pt[w]=pt[b]})});function ot(b,w,M){return w==null||typeof w=="boolean"||w===""?"":M||typeof w!="number"||w===0||pt.hasOwnProperty(b)&&pt[b]?(""+w).trim():w+"px"}function ve(b,w){b=b.style;for(var M in w)if(w.hasOwnProperty(M)){var H=M.indexOf("--")===0,Q=ot(M,w[M],H);M==="float"&&(M="cssFloat"),H?b.setProperty(M,Q):b[M]=Q}}var be=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(b,w){if(w){if(be[b]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(e(137,b));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(e(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(e(61))}if(w.style!=null&&typeof w.style!="object")throw Error(e(62))}}function Xe(b,w){if(b.indexOf("-")===-1)return typeof w.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function Kt(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var _t=null,Yt=null,Gt=null;function Pt(b){if(b=tp(b)){if(typeof _t!="function")throw Error(e(280));var w=b.stateNode;w&&(w=B0(w),_t(b.stateNode,b.type,w))}}function Mt(b){Yt?Gt?Gt.push(b):Gt=[b]:Yt=b}function Nr(){if(Yt){var b=Yt,w=Gt;if(Gt=Yt=null,Pt(b),w)for(b=0;b<w.length;b++)Pt(w[b])}}function Lt(b,w){return b(w)}function Cr(){}var rr=!1;function Ct(b,w,M){if(rr)return b(w,M);rr=!0;try{return Lt(b,w,M)}finally{rr=!1,(Yt!==null||Gt!==null)&&(Cr(),Nr())}}function Tr(b,w){var M=b.stateNode;if(M===null)return null;var H=B0(M);if(H===null)return null;M=H[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(b=b.type,H=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!H;break e;default:b=!1}if(b)return null;if(M&&typeof M!="function")throw Error(e(231,w,typeof M));return M}var nr=!1;if(c)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{nr=!1}function je(b,w,M,H,Q,J,he,_e,Ce){var Ve=Array.prototype.slice.call(arguments,3);try{w.apply(M,Ve)}catch(st){this.onError(st)}}var Me=!1,We=null,tt=!1,zt=null,dt={onError:function(b){Me=!0,We=b}};function Qt(b,w,M,H,Q,J,he,_e,Ce){Me=!1,We=null,je.apply(dt,arguments)}function Vt(b,w,M,H,Q,J,he,_e,Ce){if(Qt.apply(this,arguments),Me){if(Me){var Ve=We;Me=!1,We=null}else throw Error(e(198));tt||(tt=!0,zt=Ve)}}function St(b){var w=b,M=b;if(b.alternate)for(;w.return;)w=w.return;else{b=w;do w=b,(w.flags&4098)!==0&&(M=w.return),b=w.return;while(b)}return w.tag===3?M:null}function we(b){if(b.tag===13){var w=b.memoizedState;if(w===null&&(b=b.alternate,b!==null&&(w=b.memoizedState)),w!==null)return w.dehydrated}return null}function He(b){if(St(b)!==b)throw Error(e(188))}function et(b){var w=b.alternate;if(!w){if(w=St(b),w===null)throw Error(e(188));return w!==b?null:b}for(var M=b,H=w;;){var Q=M.return;if(Q===null)break;var J=Q.alternate;if(J===null){if(H=Q.return,H!==null){M=H;continue}break}if(Q.child===J.child){for(J=Q.child;J;){if(J===M)return He(Q),b;if(J===H)return He(Q),w;J=J.sibling}throw Error(e(188))}if(M.return!==H.return)M=Q,H=J;else{for(var he=!1,_e=Q.child;_e;){if(_e===M){he=!0,M=Q,H=J;break}if(_e===H){he=!0,H=Q,M=J;break}_e=_e.sibling}if(!he){for(_e=J.child;_e;){if(_e===M){he=!0,M=J,H=Q;break}if(_e===H){he=!0,H=J,M=Q;break}_e=_e.sibling}if(!he)throw Error(e(189))}}if(M.alternate!==H)throw Error(e(190))}if(M.tag!==3)throw Error(e(188));return M.stateNode.current===M?b:w}function bt(b){return b=et(b),b!==null?Nt(b):null}function Nt(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var w=Nt(b);if(w!==null)return w;b=b.sibling}return null}var gr=r.unstable_scheduleCallback,an=r.unstable_cancelCallback,Qn=r.unstable_shouldYield,ye=r.unstable_requestPaint,Te=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Ye=r.unstable_ImmediatePriority,Rt=r.unstable_UserBlockingPriority,lt=r.unstable_NormalPriority,mt=r.unstable_LowPriority,Mr=r.unstable_IdlePriority,ir=null,Ut=null;function Ft(b){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ir,b,void 0,(b.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:rn,$r=Math.log,Lr=Math.LN2;function rn(b){return b>>>=0,b===0?32:31-($r(b)/Lr|0)|0}var ln=64,fn=4194304;function Sn(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Yn(b,w){var M=b.pendingLanes;if(M===0)return 0;var H=0,Q=b.suspendedLanes,J=b.pingedLanes,he=M&268435455;if(he!==0){var _e=he&~Q;_e!==0?H=Sn(_e):(J&=he,J!==0&&(H=Sn(J)))}else he=M&~Q,he!==0?H=Sn(he):J!==0&&(H=Sn(J));if(H===0)return 0;if(w!==0&&w!==H&&(w&Q)===0&&(Q=H&-H,J=w&-w,Q>=J||Q===16&&(J&4194240)!==0))return w;if((H&4)!==0&&(H|=M&16),w=b.entangledLanes,w!==0)for(b=b.entanglements,w&=H;0<w;)M=31-or(w),Q=1<<M,H|=b[M],w&=~Q;return H}function Os(b,w){switch(b){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(b,w){for(var M=b.suspendedLanes,H=b.pingedLanes,Q=b.expirationTimes,J=b.pendingLanes;0<J;){var he=31-or(J),_e=1<<he,Ce=Q[he];Ce===-1?((_e&M)===0||(_e&H)!==0)&&(Q[he]=Os(_e,w)):Ce<=w&&(b.expiredLanes|=_e),J&=~_e}}function fs(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function qr(){var b=ln;return ln<<=1,(ln&4194240)===0&&(ln=64),b}function Rr(b){for(var w=[],M=0;31>M;M++)w.push(b);return w}function Fs(b,w,M){b.pendingLanes|=w,w!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,w=31-or(w),b[w]=M}function oi(b,w){var M=b.pendingLanes&~w;b.pendingLanes=w,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=w,b.mutableReadLanes&=w,b.entangledLanes&=w,w=b.entanglements;var H=b.eventTimes;for(b=b.expirationTimes;0<M;){var Q=31-or(M),J=1<<Q;w[Q]=0,H[Q]=-1,b[Q]=-1,M&=~J}}function Ci(b,w){var M=b.entangledLanes|=w;for(b=b.entanglements;M;){var H=31-or(M),Q=1<<H;Q&w|b[H]&w&&(b[H]|=w),M&=~Q}}var yr=0;function Ss(b){return b&=-b,1<b?4<b?(b&268435455)!==0?16:536870912:4:1}var ja,li,Ji,ci,Sa,To=!1,Ti=[],ui=null,qa=null,Na=null,Ei=new Map,di=new Map,Qs=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E0(b,w){switch(b){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Ei.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(w.pointerId)}}function fu(b,w,M,H,Q,J){return b===null||b.nativeEvent!==J?(b={blockedOn:w,domEventName:M,eventSystemFlags:H,nativeEvent:J,targetContainers:[Q]},w!==null&&(w=tp(w),w!==null&&li(w)),b):(b.eventSystemFlags|=H,w=b.targetContainers,Q!==null&&w.indexOf(Q)===-1&&w.push(Q),b)}function zh(b,w,M,H,Q){switch(w){case"focusin":return ui=fu(ui,b,w,M,H,Q),!0;case"dragenter":return qa=fu(qa,b,w,M,H,Q),!0;case"mouseover":return Na=fu(Na,b,w,M,H,Q),!0;case"pointerover":var J=Q.pointerId;return Ei.set(J,fu(Ei.get(J)||null,b,w,M,H,Q)),!0;case"gotpointercapture":return J=Q.pointerId,di.set(J,fu(di.get(J)||null,b,w,M,H,Q)),!0}return!1}function Vh(b){var w=yu(b.target);if(w!==null){var M=St(w);if(M!==null){if(w=M.tag,w===13){if(w=we(M),w!==null){b.blockedOn=w,Sa(b.priority,function(){Ji(M)});return}}else if(w===3&&M.stateNode.current.memoizedState.isDehydrated){b.blockedOn=M.tag===3?M.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Md(b){if(b.blockedOn!==null)return!1;for(var w=b.targetContainers;0<w.length;){var M=le(b.domEventName,b.eventSystemFlags,w[0],b.nativeEvent);if(M===null){M=b.nativeEvent;var H=new M.constructor(M.type,M);Et=H,M.target.dispatchEvent(H),Et=null}else return w=tp(M),w!==null&&li(w),b.blockedOn=M,!1;w.shift()}return!0}function A0(b,w,M){Md(b)&&M.delete(w)}function Uh(){To=!1,ui!==null&&Md(ui)&&(ui=null),qa!==null&&Md(qa)&&(qa=null),Na!==null&&Md(Na)&&(Na=null),Ei.forEach(A0),di.forEach(A0)}function hu(b,w){b.blockedOn===w&&(b.blockedOn=null,To||(To=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}function pu(b){function w(Q){return hu(Q,b)}if(0<Ti.length){hu(Ti[0],b);for(var M=1;M<Ti.length;M++){var H=Ti[M];H.blockedOn===b&&(H.blockedOn=null)}}for(ui!==null&&hu(ui,b),qa!==null&&hu(qa,b),Na!==null&&hu(Na,b),Ei.forEach(w),di.forEach(w),M=0;M<Qs.length;M++)H=Qs[M],H.blockedOn===b&&(H.blockedOn=null);for(;0<Qs.length&&(M=Qs[0],M.blockedOn===null);)Vh(M),M.blockedOn===null&&Qs.shift()}var ec=C.ReactCurrentBatchConfig,Rd=!0;function _x(b,w,M,H){var Q=yr,J=ec.transition;ec.transition=null;try{yr=1,Wh(b,w,M,H)}finally{yr=Q,ec.transition=J}}function P0(b,w,M,H){var Q=yr,J=ec.transition;ec.transition=null;try{yr=4,Wh(b,w,M,H)}finally{yr=Q,ec.transition=J}}function Wh(b,w,M,H){if(Rd){var Q=le(b,w,M,H);if(Q===null)Ix(b,w,H,mu,M),E0(b,H);else if(zh(Q,b,w,M,H))H.stopPropagation();else if(E0(b,H),w&4&&-1<T0.indexOf(b)){for(;Q!==null;){var J=tp(Q);if(J!==null&&ja(J),J=le(b,w,M,H),J===null&&Ix(b,w,H,mu,M),J===Q)break;Q=J}Q!==null&&H.stopPropagation()}else Ix(b,w,H,null,M)}}var mu=null;function le(b,w,M,H){if(mu=null,b=Kt(H),b=yu(b),b!==null)if(w=St(b),w===null)b=null;else if(M=w.tag,M===13){if(b=we(w),b!==null)return b;b=null}else if(M===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;b=null}else w!==b&&(b=null);return mu=b,null}function Le(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ye:return 1;case Rt:return 4;case lt:case mt:return 16;case Mr:return 536870912;default:return 16}default:return 16}}var ft=null,sr=null,Dr=null;function gn(){if(Dr)return Dr;var b,w=sr,M=w.length,H,Q="value"in ft?ft.value:ft.textContent,J=Q.length;for(b=0;b<M&&w[b]===Q[b];b++);var he=M-b;for(H=1;H<=he&&w[M-H]===Q[J-H];H++);return Dr=Q.slice(b,1<H?1-H:void 0)}function gt(b){var w=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&w===13&&(b=13)):b=w,b===10&&(b=13),32<=b||b===13?b:0}function cn(){return!0}function Bn(){return!1}function hn(b){function w(M,H,Q,J,he){this._reactName=M,this._targetInst=Q,this.type=H,this.nativeEvent=J,this.target=he,this.currentTarget=null;for(var _e in b)b.hasOwnProperty(_e)&&(M=b[_e],this[_e]=M?M(J):J[_e]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?cn:Bn,this.isPropagationStopped=Bn,this}return R(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),w}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=hn(Ca),Ao=R({},Ca,{view:0,detail:0}),Dd=hn(Ao),Id,gu,dl,tc=R({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jx,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==dl&&(dl&&b.type==="mousemove"?(Id=b.screenX-dl.screenX,gu=b.screenY-dl.screenY):gu=Id=0,dl=b),Id)},movementY:function(b){return"movementY"in b?b.movementY:gu}}),qh=hn(tc),Od=R({},tc,{dataTransfer:0}),kx=hn(Od),dr=R({},Ao,{relatedTarget:0}),$n=hn(dr),Ys=R({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),q$=hn(Ys),H$=R({},Ca,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),K$=hn(H$),G$=R({},Ca,{data:0}),nk=hn(G$),X$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z$(b){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(b):(b=Y$[b])?!!w[b]:!1}function jx(){return Z$}var J$=R({},Ao,{key:function(b){if(b.key){var w=X$[b.key]||b.key;if(w!=="Unidentified")return w}return b.type==="keypress"?(b=gt(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Q$[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jx,charCode:function(b){return b.type==="keypress"?gt(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?gt(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),ez=hn(J$),tz=R({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sk=hn(tz),rz=R({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jx}),nz=hn(rz),sz=R({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),az=hn(sz),iz=R({},tc,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),oz=hn(iz),lz=[9,13,27,32],Sx=c&&"CompositionEvent"in window,Hh=null;c&&"documentMode"in document&&(Hh=document.documentMode);var cz=c&&"TextEvent"in window&&!Hh,ak=c&&(!Sx||Hh&&8<Hh&&11>=Hh),ik=" ",ok=!1;function lk(b,w){switch(b){case"keyup":return lz.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Fd=!1;function uz(b,w){switch(b){case"compositionend":return ck(w);case"keypress":return w.which!==32?null:(ok=!0,ik);case"textInput":return b=w.data,b===ik&&ok?null:b;default:return null}}function dz(b,w){if(Fd)return b==="compositionend"||!Sx&&lk(b,w)?(b=gn(),Dr=sr=ft=null,Fd=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return ak&&w.locale!=="ko"?null:w.data;default:return null}}var fz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uk(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w==="input"?!!fz[b.type]:w==="textarea"}function dk(b,w,M,H){Mt(H),w=O0(w,"onChange"),0<w.length&&(M=new Eo("onChange","change",null,M,H),b.push({event:M,listeners:w}))}var Kh=null,Gh=null;function hz(b){Ek(b,0)}function M0(b){var w=Vd(b);if(pe(w))return b}function pz(b,w){if(b==="change")return w}var fk=!1;if(c){var Nx;if(c){var Cx="oninput"in document;if(!Cx){var hk=document.createElement("div");hk.setAttribute("oninput","return;"),Cx=typeof hk.oninput=="function"}Nx=Cx}else Nx=!1;fk=Nx&&(!document.documentMode||9<document.documentMode)}function pk(){Kh&&(Kh.detachEvent("onpropertychange",mk),Gh=Kh=null)}function mk(b){if(b.propertyName==="value"&&M0(Gh)){var w=[];dk(w,Gh,b,Kt(b)),Ct(hz,w)}}function mz(b,w,M){b==="focusin"?(pk(),Kh=w,Gh=M,Kh.attachEvent("onpropertychange",mk)):b==="focusout"&&pk()}function gz(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return M0(Gh)}function yz(b,w){if(b==="click")return M0(w)}function bz(b,w){if(b==="input"||b==="change")return M0(w)}function xz(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var eo=typeof Object.is=="function"?Object.is:xz;function Xh(b,w){if(eo(b,w))return!0;if(typeof b!="object"||b===null||typeof w!="object"||w===null)return!1;var M=Object.keys(b),H=Object.keys(w);if(M.length!==H.length)return!1;for(H=0;H<M.length;H++){var Q=M[H];if(!u.call(w,Q)||!eo(b[Q],w[Q]))return!1}return!0}function gk(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function yk(b,w){var M=gk(b);b=0;for(var H;M;){if(M.nodeType===3){if(H=b+M.textContent.length,b<=w&&H>=w)return{node:M,offset:w-b};b=H}e:{for(;M;){if(M.nextSibling){M=M.nextSibling;break e}M=M.parentNode}M=void 0}M=gk(M)}}function bk(b,w){return b&&w?b===w?!0:b&&b.nodeType===3?!1:w&&w.nodeType===3?bk(b,w.parentNode):"contains"in b?b.contains(w):b.compareDocumentPosition?!!(b.compareDocumentPosition(w)&16):!1:!1}function xk(){for(var b=window,w=ue();w instanceof b.HTMLIFrameElement;){try{var M=typeof w.contentWindow.location.href=="string"}catch{M=!1}if(M)b=w.contentWindow;else break;w=ue(b.document)}return w}function Tx(b){var w=b&&b.nodeName&&b.nodeName.toLowerCase();return w&&(w==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||w==="textarea"||b.contentEditable==="true")}function vz(b){var w=xk(),M=b.focusedElem,H=b.selectionRange;if(w!==M&&M&&M.ownerDocument&&bk(M.ownerDocument.documentElement,M)){if(H!==null&&Tx(M)){if(w=H.start,b=H.end,b===void 0&&(b=w),"selectionStart"in M)M.selectionStart=w,M.selectionEnd=Math.min(b,M.value.length);else if(b=(w=M.ownerDocument||document)&&w.defaultView||window,b.getSelection){b=b.getSelection();var Q=M.textContent.length,J=Math.min(H.start,Q);H=H.end===void 0?J:Math.min(H.end,Q),!b.extend&&J>H&&(Q=H,H=J,J=Q),Q=yk(M,J);var he=yk(M,H);Q&&he&&(b.rangeCount!==1||b.anchorNode!==Q.node||b.anchorOffset!==Q.offset||b.focusNode!==he.node||b.focusOffset!==he.offset)&&(w=w.createRange(),w.setStart(Q.node,Q.offset),b.removeAllRanges(),J>H?(b.addRange(w),b.extend(he.node,he.offset)):(w.setEnd(he.node,he.offset),b.addRange(w)))}}for(w=[],b=M;b=b.parentNode;)b.nodeType===1&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<w.length;M++)b=w[M],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var wz=c&&"documentMode"in document&&11>=document.documentMode,Ld=null,Ex=null,Qh=null,Ax=!1;function vk(b,w,M){var H=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;Ax||Ld==null||Ld!==ue(H)||(H=Ld,"selectionStart"in H&&Tx(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),Qh&&Xh(Qh,H)||(Qh=H,H=O0(Ex,"onSelect"),0<H.length&&(w=new Eo("onSelect","select",null,w,M),b.push({event:w,listeners:H}),w.target=Ld)))}function R0(b,w){var M={};return M[b.toLowerCase()]=w.toLowerCase(),M["Webkit"+b]="webkit"+w,M["Moz"+b]="moz"+w,M}var Bd={animationend:R0("Animation","AnimationEnd"),animationiteration:R0("Animation","AnimationIteration"),animationstart:R0("Animation","AnimationStart"),transitionend:R0("Transition","TransitionEnd")},Px={},wk={};c&&(wk=document.createElement("div").style,"AnimationEvent"in window||(delete Bd.animationend.animation,delete Bd.animationiteration.animation,delete Bd.animationstart.animation),"TransitionEvent"in window||delete Bd.transitionend.transition);function D0(b){if(Px[b])return Px[b];if(!Bd[b])return b;var w=Bd[b],M;for(M in w)if(w.hasOwnProperty(M)&&M in wk)return Px[b]=w[M];return b}var _k=D0("animationend"),kk=D0("animationiteration"),jk=D0("animationstart"),Sk=D0("transitionend"),Nk=new Map,Ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rc(b,w){Nk.set(b,w),i(w,[b])}for(var Mx=0;Mx<Ck.length;Mx++){var Rx=Ck[Mx],_z=Rx.toLowerCase(),kz=Rx[0].toUpperCase()+Rx.slice(1);rc(_z,"on"+kz)}rc(_k,"onAnimationEnd"),rc(kk,"onAnimationIteration"),rc(jk,"onAnimationStart"),rc("dblclick","onDoubleClick"),rc("focusin","onFocus"),rc("focusout","onBlur"),rc(Sk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function Tk(b,w,M){var H=b.type||"unknown-event";b.currentTarget=M,Vt(H,w,void 0,b),b.currentTarget=null}function Ek(b,w){w=(w&4)!==0;for(var M=0;M<b.length;M++){var H=b[M],Q=H.event;H=H.listeners;e:{var J=void 0;if(w)for(var he=H.length-1;0<=he;he--){var _e=H[he],Ce=_e.instance,Ve=_e.currentTarget;if(_e=_e.listener,Ce!==J&&Q.isPropagationStopped())break e;Tk(Q,_e,Ve),J=Ce}else for(he=0;he<H.length;he++){if(_e=H[he],Ce=_e.instance,Ve=_e.currentTarget,_e=_e.listener,Ce!==J&&Q.isPropagationStopped())break e;Tk(Q,_e,Ve),J=Ce}}}if(tt)throw b=zt,tt=!1,zt=null,b}function En(b,w){var M=w[zx];M===void 0&&(M=w[zx]=new Set);var H=b+"__bubble";M.has(H)||(Ak(w,b,2,!1),M.add(H))}function Dx(b,w,M){var H=0;w&&(H|=4),Ak(M,b,H,w)}var I0="_reactListening"+Math.random().toString(36).slice(2);function Zh(b){if(!b[I0]){b[I0]=!0,n.forEach(function(M){M!=="selectionchange"&&(jz.has(M)||Dx(M,!1,b),Dx(M,!0,b))});var w=b.nodeType===9?b:b.ownerDocument;w===null||w[I0]||(w[I0]=!0,Dx("selectionchange",!1,w))}}function Ak(b,w,M,H){switch(Le(w)){case 1:var Q=_x;break;case 4:Q=P0;break;default:Q=Wh}M=Q.bind(null,w,M,b),Q=void 0,!nr||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(Q=!0),H?Q!==void 0?b.addEventListener(w,M,{capture:!0,passive:Q}):b.addEventListener(w,M,!0):Q!==void 0?b.addEventListener(w,M,{passive:Q}):b.addEventListener(w,M,!1)}function Ix(b,w,M,H,Q){var J=H;if((w&1)===0&&(w&2)===0&&H!==null)e:for(;;){if(H===null)return;var he=H.tag;if(he===3||he===4){var _e=H.stateNode.containerInfo;if(_e===Q||_e.nodeType===8&&_e.parentNode===Q)break;if(he===4)for(he=H.return;he!==null;){var Ce=he.tag;if((Ce===3||Ce===4)&&(Ce=he.stateNode.containerInfo,Ce===Q||Ce.nodeType===8&&Ce.parentNode===Q))return;he=he.return}for(;_e!==null;){if(he=yu(_e),he===null)return;if(Ce=he.tag,Ce===5||Ce===6){H=J=he;continue e}_e=_e.parentNode}}H=H.return}Ct(function(){var Ve=J,st=Kt(M),it=[];e:{var rt=Nk.get(b);if(rt!==void 0){var Tt=Eo,Ot=b;switch(b){case"keypress":if(gt(M)===0)break e;case"keydown":case"keyup":Tt=ez;break;case"focusin":Ot="focus",Tt=$n;break;case"focusout":Ot="blur",Tt=$n;break;case"beforeblur":case"afterblur":Tt=$n;break;case"click":if(M.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=nz;break;case _k:case kk:case jk:Tt=q$;break;case Sk:Tt=az;break;case"scroll":Tt=Dd;break;case"wheel":Tt=oz;break;case"copy":case"cut":case"paste":Tt=K$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=sk}var $t=(w&4)!==0,ss=!$t&&b==="scroll",Oe=$t?rt!==null?rt+"Capture":null:rt;$t=[];for(var Ee=Ve,$e;Ee!==null;){$e=Ee;var ht=$e.stateNode;if($e.tag===5&&ht!==null&&($e=ht,Oe!==null&&(ht=Tr(Ee,Oe),ht!=null&&$t.push(Jh(Ee,ht,$e)))),ss)break;Ee=Ee.return}0<$t.length&&(rt=new Tt(rt,Ot,null,M,st),it.push({event:rt,listeners:$t}))}}if((w&7)===0){e:{if(rt=b==="mouseover"||b==="pointerover",Tt=b==="mouseout"||b==="pointerout",rt&&M!==Et&&(Ot=M.relatedTarget||M.fromElement)&&(yu(Ot)||Ot[fl]))break e;if((Tt||rt)&&(rt=st.window===st?st:(rt=st.ownerDocument)?rt.defaultView||rt.parentWindow:window,Tt?(Ot=M.relatedTarget||M.toElement,Tt=Ve,Ot=Ot?yu(Ot):null,Ot!==null&&(ss=St(Ot),Ot!==ss||Ot.tag!==5&&Ot.tag!==6)&&(Ot=null)):(Tt=null,Ot=Ve),Tt!==Ot)){if($t=qh,ht="onMouseLeave",Oe="onMouseEnter",Ee="mouse",(b==="pointerout"||b==="pointerover")&&($t=sk,ht="onPointerLeave",Oe="onPointerEnter",Ee="pointer"),ss=Tt==null?rt:Vd(Tt),$e=Ot==null?rt:Vd(Ot),rt=new $t(ht,Ee+"leave",Tt,M,st),rt.target=ss,rt.relatedTarget=$e,ht=null,yu(st)===Ve&&($t=new $t(Oe,Ee+"enter",Ot,M,st),$t.target=$e,$t.relatedTarget=ss,ht=$t),ss=ht,Tt&&Ot)t:{for($t=Tt,Oe=Ot,Ee=0,$e=$t;$e;$e=$d($e))Ee++;for($e=0,ht=Oe;ht;ht=$d(ht))$e++;for(;0<Ee-$e;)$t=$d($t),Ee--;for(;0<$e-Ee;)Oe=$d(Oe),$e--;for(;Ee--;){if($t===Oe||Oe!==null&&$t===Oe.alternate)break t;$t=$d($t),Oe=$d(Oe)}$t=null}else $t=null;Tt!==null&&Pk(it,rt,Tt,$t,!1),Ot!==null&&ss!==null&&Pk(it,ss,Ot,$t,!0)}}e:{if(rt=Ve?Vd(Ve):window,Tt=rt.nodeName&&rt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&rt.type==="file")var Wt=pz;else if(uk(rt))if(fk)Wt=bz;else{Wt=gz;var er=mz}else(Tt=rt.nodeName)&&Tt.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Wt=yz);if(Wt&&(Wt=Wt(b,Ve))){dk(it,Wt,M,st);break e}er&&er(b,rt,Ve),b==="focusout"&&(er=rt._wrapperState)&&er.controlled&&rt.type==="number"&&ce(rt,"number",rt.value)}switch(er=Ve?Vd(Ve):window,b){case"focusin":(uk(er)||er.contentEditable==="true")&&(Ld=er,Ex=Ve,Qh=null);break;case"focusout":Qh=Ex=Ld=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,vk(it,M,st);break;case"selectionchange":if(wz)break;case"keydown":case"keyup":vk(it,M,st)}var tr;if(Sx)e:{switch(b){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else Fd?lk(b,M)&&(br="onCompositionEnd"):b==="keydown"&&M.keyCode===229&&(br="onCompositionStart");br&&(ak&&M.locale!=="ko"&&(Fd||br!=="onCompositionStart"?br==="onCompositionEnd"&&Fd&&(tr=gn()):(ft=st,sr="value"in ft?ft.value:ft.textContent,Fd=!0)),er=O0(Ve,br),0<er.length&&(br=new nk(br,b,null,M,st),it.push({event:br,listeners:er}),tr?br.data=tr:(tr=ck(M),tr!==null&&(br.data=tr)))),(tr=cz?uz(b,M):dz(b,M))&&(Ve=O0(Ve,"onBeforeInput"),0<Ve.length&&(st=new nk("onBeforeInput","beforeinput",null,M,st),it.push({event:st,listeners:Ve}),st.data=tr))}Ek(it,w)})}function Jh(b,w,M){return{instance:b,listener:w,currentTarget:M}}function O0(b,w){for(var M=w+"Capture",H=[];b!==null;){var Q=b,J=Q.stateNode;Q.tag===5&&J!==null&&(Q=J,J=Tr(b,M),J!=null&&H.unshift(Jh(b,J,Q)),J=Tr(b,w),J!=null&&H.push(Jh(b,J,Q))),b=b.return}return H}function $d(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function Pk(b,w,M,H,Q){for(var J=w._reactName,he=[];M!==null&&M!==H;){var _e=M,Ce=_e.alternate,Ve=_e.stateNode;if(Ce!==null&&Ce===H)break;_e.tag===5&&Ve!==null&&(_e=Ve,Q?(Ce=Tr(M,J),Ce!=null&&he.unshift(Jh(M,Ce,_e))):Q||(Ce=Tr(M,J),Ce!=null&&he.push(Jh(M,Ce,_e)))),M=M.return}he.length!==0&&b.push({event:w,listeners:he})}var Sz=/\r\n?/g,Nz=/\u0000|\uFFFD/g;function Mk(b){return(typeof b=="string"?b:""+b).replace(Sz,`
`).replace(Nz,"")}function F0(b,w,M){if(w=Mk(w),Mk(b)!==w&&M)throw Error(e(425))}function L0(){}var Ox=null,Fx=null;function Lx(b,w){return b==="textarea"||b==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var Bx=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,Rk=typeof Promise=="function"?Promise:void 0,Tz=typeof queueMicrotask=="function"?queueMicrotask:typeof Rk<"u"?function(b){return Rk.resolve(null).then(b).catch(Ez)}:Bx;function Ez(b){setTimeout(function(){throw b})}function $x(b,w){var M=w,H=0;do{var Q=M.nextSibling;if(b.removeChild(M),Q&&Q.nodeType===8)if(M=Q.data,M==="/$"){if(H===0){b.removeChild(Q),pu(w);return}H--}else M!=="$"&&M!=="$?"&&M!=="$!"||H++;M=Q}while(M);pu(w)}function nc(b){for(;b!=null;b=b.nextSibling){var w=b.nodeType;if(w===1||w===3)break;if(w===8){if(w=b.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return b}function Dk(b){b=b.previousSibling;for(var w=0;b;){if(b.nodeType===8){var M=b.data;if(M==="$"||M==="$!"||M==="$?"){if(w===0)return b;w--}else M==="/$"&&w++}b=b.previousSibling}return null}var zd=Math.random().toString(36).slice(2),Po="__reactFiber$"+zd,ep="__reactProps$"+zd,fl="__reactContainer$"+zd,zx="__reactEvents$"+zd,Az="__reactListeners$"+zd,Pz="__reactHandles$"+zd;function yu(b){var w=b[Po];if(w)return w;for(var M=b.parentNode;M;){if(w=M[fl]||M[Po]){if(M=w.alternate,w.child!==null||M!==null&&M.child!==null)for(b=Dk(b);b!==null;){if(M=b[Po])return M;b=Dk(b)}return w}b=M,M=b.parentNode}return null}function tp(b){return b=b[Po]||b[fl],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Vd(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(e(33))}function B0(b){return b[ep]||null}var Vx=[],Ud=-1;function sc(b){return{current:b}}function An(b){0>Ud||(b.current=Vx[Ud],Vx[Ud]=null,Ud--)}function Cn(b,w){Ud++,Vx[Ud]=b.current,b.current=w}var ac={},fa=sc(ac),Ha=sc(!1),bu=ac;function Wd(b,w){var M=b.type.contextTypes;if(!M)return ac;var H=b.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===w)return H.__reactInternalMemoizedMaskedChildContext;var Q={},J;for(J in M)Q[J]=w[J];return H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=w,b.__reactInternalMemoizedMaskedChildContext=Q),Q}function Ka(b){return b=b.childContextTypes,b!=null}function $0(){An(Ha),An(fa)}function Ik(b,w,M){if(fa.current!==ac)throw Error(e(168));Cn(fa,w),Cn(Ha,M)}function Ok(b,w,M){var H=b.stateNode;if(w=w.childContextTypes,typeof H.getChildContext!="function")return M;H=H.getChildContext();for(var Q in H)if(!(Q in w))throw Error(e(108,Z(b)||"Unknown",Q));return R({},M,H)}function z0(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||ac,bu=fa.current,Cn(fa,b),Cn(Ha,Ha.current),!0}function Fk(b,w,M){var H=b.stateNode;if(!H)throw Error(e(169));M?(b=Ok(b,w,bu),H.__reactInternalMemoizedMergedChildContext=b,An(Ha),An(fa),Cn(fa,b)):An(Ha),Cn(Ha,M)}var hl=null,V0=!1,Ux=!1;function Lk(b){hl===null?hl=[b]:hl.push(b)}function Mz(b){V0=!0,Lk(b)}function ic(){if(!Ux&&hl!==null){Ux=!0;var b=0,w=yr;try{var M=hl;for(yr=1;b<M.length;b++){var H=M[b];do H=H(!0);while(H!==null)}hl=null,V0=!1}catch(Q){throw hl!==null&&(hl=hl.slice(b+1)),gr(Ye,ic),Q}finally{yr=w,Ux=!1}}return null}var qd=[],Hd=0,U0=null,W0=0,Ai=[],Pi=0,xu=null,pl=1,ml="";function vu(b,w){qd[Hd++]=W0,qd[Hd++]=U0,U0=b,W0=w}function Bk(b,w,M){Ai[Pi++]=pl,Ai[Pi++]=ml,Ai[Pi++]=xu,xu=b;var H=pl;b=ml;var Q=32-or(H)-1;H&=~(1<<Q),M+=1;var J=32-or(w)+Q;if(30<J){var he=Q-Q%5;J=(H&(1<<he)-1).toString(32),H>>=he,Q-=he,pl=1<<32-or(w)+Q|M<<Q|H,ml=J+b}else pl=1<<J|M<<Q|H,ml=b}function Wx(b){b.return!==null&&(vu(b,1),Bk(b,1,0))}function qx(b){for(;b===U0;)U0=qd[--Hd],qd[Hd]=null,W0=qd[--Hd],qd[Hd]=null;for(;b===xu;)xu=Ai[--Pi],Ai[Pi]=null,ml=Ai[--Pi],Ai[Pi]=null,pl=Ai[--Pi],Ai[Pi]=null}var fi=null,hi=null,In=!1,to=null;function $k(b,w){var M=Ii(5,null,null,0);M.elementType="DELETED",M.stateNode=w,M.return=b,w=b.deletions,w===null?(b.deletions=[M],b.flags|=16):w.push(M)}function zk(b,w){switch(b.tag){case 5:var M=b.type;return w=w.nodeType!==1||M.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(b.stateNode=w,fi=b,hi=nc(w.firstChild),!0):!1;case 6:return w=b.pendingProps===""||w.nodeType!==3?null:w,w!==null?(b.stateNode=w,fi=b,hi=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(M=xu!==null?{id:pl,overflow:ml}:null,b.memoizedState={dehydrated:w,treeContext:M,retryLane:1073741824},M=Ii(18,null,null,0),M.stateNode=w,M.return=b,b.child=M,fi=b,hi=null,!0):!1;default:return!1}}function Hx(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Kx(b){if(In){var w=hi;if(w){var M=w;if(!zk(b,w)){if(Hx(b))throw Error(e(418));w=nc(M.nextSibling);var H=fi;w&&zk(b,w)?$k(H,M):(b.flags=b.flags&-4097|2,In=!1,fi=b)}}else{if(Hx(b))throw Error(e(418));b.flags=b.flags&-4097|2,In=!1,fi=b}}}function Vk(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;fi=b}function q0(b){if(b!==fi)return!1;if(!In)return Vk(b),In=!0,!1;var w;if((w=b.tag!==3)&&!(w=b.tag!==5)&&(w=b.type,w=w!=="head"&&w!=="body"&&!Lx(b.type,b.memoizedProps)),w&&(w=hi)){if(Hx(b))throw Uk(),Error(e(418));for(;w;)$k(b,w),w=nc(w.nextSibling)}if(Vk(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(e(317));e:{for(b=b.nextSibling,w=0;b;){if(b.nodeType===8){var M=b.data;if(M==="/$"){if(w===0){hi=nc(b.nextSibling);break e}w--}else M!=="$"&&M!=="$!"&&M!=="$?"||w++}b=b.nextSibling}hi=null}}else hi=fi?nc(b.stateNode.nextSibling):null;return!0}function Uk(){for(var b=hi;b;)b=nc(b.nextSibling)}function Kd(){hi=fi=null,In=!1}function Gx(b){to===null?to=[b]:to.push(b)}var Rz=C.ReactCurrentBatchConfig;function rp(b,w,M){if(b=M.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(e(309));var H=M.stateNode}if(!H)throw Error(e(147,b));var Q=H,J=""+b;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===J?w.ref:(w=function(he){var _e=Q.refs;he===null?delete _e[J]:_e[J]=he},w._stringRef=J,w)}if(typeof b!="string")throw Error(e(284));if(!M._owner)throw Error(e(290,b))}return b}function H0(b,w){throw b=Object.prototype.toString.call(w),Error(e(31,b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b))}function Wk(b){var w=b._init;return w(b._payload)}function qk(b){function w(Oe,Ee){if(b){var $e=Oe.deletions;$e===null?(Oe.deletions=[Ee],Oe.flags|=16):$e.push(Ee)}}function M(Oe,Ee){if(!b)return null;for(;Ee!==null;)w(Oe,Ee),Ee=Ee.sibling;return null}function H(Oe,Ee){for(Oe=new Map;Ee!==null;)Ee.key!==null?Oe.set(Ee.key,Ee):Oe.set(Ee.index,Ee),Ee=Ee.sibling;return Oe}function Q(Oe,Ee){return Oe=pc(Oe,Ee),Oe.index=0,Oe.sibling=null,Oe}function J(Oe,Ee,$e){return Oe.index=$e,b?($e=Oe.alternate,$e!==null?($e=$e.index,$e<Ee?(Oe.flags|=2,Ee):$e):(Oe.flags|=2,Ee)):(Oe.flags|=1048576,Ee)}function he(Oe){return b&&Oe.alternate===null&&(Oe.flags|=2),Oe}function _e(Oe,Ee,$e,ht){return Ee===null||Ee.tag!==6?(Ee=Bv($e,Oe.mode,ht),Ee.return=Oe,Ee):(Ee=Q(Ee,$e),Ee.return=Oe,Ee)}function Ce(Oe,Ee,$e,ht){var Wt=$e.type;return Wt===q?st(Oe,Ee,$e.props.children,ht,$e.key):Ee!==null&&(Ee.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&Wk(Wt)===Ee.type)?(ht=Q(Ee,$e.props),ht.ref=rp(Oe,Ee,$e),ht.return=Oe,ht):(ht=gg($e.type,$e.key,$e.props,null,Oe.mode,ht),ht.ref=rp(Oe,Ee,$e),ht.return=Oe,ht)}function Ve(Oe,Ee,$e,ht){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==$e.containerInfo||Ee.stateNode.implementation!==$e.implementation?(Ee=$v($e,Oe.mode,ht),Ee.return=Oe,Ee):(Ee=Q(Ee,$e.children||[]),Ee.return=Oe,Ee)}function st(Oe,Ee,$e,ht,Wt){return Ee===null||Ee.tag!==7?(Ee=Tu($e,Oe.mode,ht,Wt),Ee.return=Oe,Ee):(Ee=Q(Ee,$e),Ee.return=Oe,Ee)}function it(Oe,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=Bv(""+Ee,Oe.mode,$e),Ee.return=Oe,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case A:return $e=gg(Ee.type,Ee.key,Ee.props,null,Oe.mode,$e),$e.ref=rp(Oe,null,Ee),$e.return=Oe,$e;case B:return Ee=$v(Ee,Oe.mode,$e),Ee.return=Oe,Ee;case _:var ht=Ee._init;return it(Oe,ht(Ee._payload),$e)}if(ie(Ee)||N(Ee))return Ee=Tu(Ee,Oe.mode,$e,null),Ee.return=Oe,Ee;H0(Oe,Ee)}return null}function rt(Oe,Ee,$e,ht){var Wt=Ee!==null?Ee.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Wt!==null?null:_e(Oe,Ee,""+$e,ht);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:return $e.key===Wt?Ce(Oe,Ee,$e,ht):null;case B:return $e.key===Wt?Ve(Oe,Ee,$e,ht):null;case _:return Wt=$e._init,rt(Oe,Ee,Wt($e._payload),ht)}if(ie($e)||N($e))return Wt!==null?null:st(Oe,Ee,$e,ht,null);H0(Oe,$e)}return null}function Tt(Oe,Ee,$e,ht,Wt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Oe=Oe.get($e)||null,_e(Ee,Oe,""+ht,Wt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case A:return Oe=Oe.get(ht.key===null?$e:ht.key)||null,Ce(Ee,Oe,ht,Wt);case B:return Oe=Oe.get(ht.key===null?$e:ht.key)||null,Ve(Ee,Oe,ht,Wt);case _:var er=ht._init;return Tt(Oe,Ee,$e,er(ht._payload),Wt)}if(ie(ht)||N(ht))return Oe=Oe.get($e)||null,st(Ee,Oe,ht,Wt,null);H0(Ee,ht)}return null}function Ot(Oe,Ee,$e,ht){for(var Wt=null,er=null,tr=Ee,br=Ee=0,$s=null;tr!==null&&br<$e.length;br++){tr.index>br?($s=tr,tr=null):$s=tr.sibling;var on=rt(Oe,tr,$e[br],ht);if(on===null){tr===null&&(tr=$s);break}b&&tr&&on.alternate===null&&w(Oe,tr),Ee=J(on,Ee,br),er===null?Wt=on:er.sibling=on,er=on,tr=$s}if(br===$e.length)return M(Oe,tr),In&&vu(Oe,br),Wt;if(tr===null){for(;br<$e.length;br++)tr=it(Oe,$e[br],ht),tr!==null&&(Ee=J(tr,Ee,br),er===null?Wt=tr:er.sibling=tr,er=tr);return In&&vu(Oe,br),Wt}for(tr=H(Oe,tr);br<$e.length;br++)$s=Tt(tr,Oe,br,$e[br],ht),$s!==null&&(b&&$s.alternate!==null&&tr.delete($s.key===null?br:$s.key),Ee=J($s,Ee,br),er===null?Wt=$s:er.sibling=$s,er=$s);return b&&tr.forEach(function(mc){return w(Oe,mc)}),In&&vu(Oe,br),Wt}function $t(Oe,Ee,$e,ht){var Wt=N($e);if(typeof Wt!="function")throw Error(e(150));if($e=Wt.call($e),$e==null)throw Error(e(151));for(var er=Wt=null,tr=Ee,br=Ee=0,$s=null,on=$e.next();tr!==null&&!on.done;br++,on=$e.next()){tr.index>br?($s=tr,tr=null):$s=tr.sibling;var mc=rt(Oe,tr,on.value,ht);if(mc===null){tr===null&&(tr=$s);break}b&&tr&&mc.alternate===null&&w(Oe,tr),Ee=J(mc,Ee,br),er===null?Wt=mc:er.sibling=mc,er=mc,tr=$s}if(on.done)return M(Oe,tr),In&&vu(Oe,br),Wt;if(tr===null){for(;!on.done;br++,on=$e.next())on=it(Oe,on.value,ht),on!==null&&(Ee=J(on,Ee,br),er===null?Wt=on:er.sibling=on,er=on);return In&&vu(Oe,br),Wt}for(tr=H(Oe,tr);!on.done;br++,on=$e.next())on=Tt(tr,Oe,br,on.value,ht),on!==null&&(b&&on.alternate!==null&&tr.delete(on.key===null?br:on.key),Ee=J(on,Ee,br),er===null?Wt=on:er.sibling=on,er=on);return b&&tr.forEach(function(fV){return w(Oe,fV)}),In&&vu(Oe,br),Wt}function ss(Oe,Ee,$e,ht){if(typeof $e=="object"&&$e!==null&&$e.type===q&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case A:e:{for(var Wt=$e.key,er=Ee;er!==null;){if(er.key===Wt){if(Wt=$e.type,Wt===q){if(er.tag===7){M(Oe,er.sibling),Ee=Q(er,$e.props.children),Ee.return=Oe,Oe=Ee;break e}}else if(er.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&Wk(Wt)===er.type){M(Oe,er.sibling),Ee=Q(er,$e.props),Ee.ref=rp(Oe,er,$e),Ee.return=Oe,Oe=Ee;break e}M(Oe,er);break}else w(Oe,er);er=er.sibling}$e.type===q?(Ee=Tu($e.props.children,Oe.mode,ht,$e.key),Ee.return=Oe,Oe=Ee):(ht=gg($e.type,$e.key,$e.props,null,Oe.mode,ht),ht.ref=rp(Oe,Ee,$e),ht.return=Oe,Oe=ht)}return he(Oe);case B:e:{for(er=$e.key;Ee!==null;){if(Ee.key===er)if(Ee.tag===4&&Ee.stateNode.containerInfo===$e.containerInfo&&Ee.stateNode.implementation===$e.implementation){M(Oe,Ee.sibling),Ee=Q(Ee,$e.children||[]),Ee.return=Oe,Oe=Ee;break e}else{M(Oe,Ee);break}else w(Oe,Ee);Ee=Ee.sibling}Ee=$v($e,Oe.mode,ht),Ee.return=Oe,Oe=Ee}return he(Oe);case _:return er=$e._init,ss(Oe,Ee,er($e._payload),ht)}if(ie($e))return Ot(Oe,Ee,$e,ht);if(N($e))return $t(Oe,Ee,$e,ht);H0(Oe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ee!==null&&Ee.tag===6?(M(Oe,Ee.sibling),Ee=Q(Ee,$e),Ee.return=Oe,Oe=Ee):(M(Oe,Ee),Ee=Bv($e,Oe.mode,ht),Ee.return=Oe,Oe=Ee),he(Oe)):M(Oe,Ee)}return ss}var Gd=qk(!0),Hk=qk(!1),K0=sc(null),G0=null,Xd=null,Xx=null;function Qx(){Xx=Xd=G0=null}function Yx(b){var w=K0.current;An(K0),b._currentValue=w}function Zx(b,w,M){for(;b!==null;){var H=b.alternate;if((b.childLanes&w)!==w?(b.childLanes|=w,H!==null&&(H.childLanes|=w)):H!==null&&(H.childLanes&w)!==w&&(H.childLanes|=w),b===M)break;b=b.return}}function Qd(b,w){G0=b,Xx=Xd=null,b=b.dependencies,b!==null&&b.firstContext!==null&&((b.lanes&w)!==0&&(Ga=!0),b.firstContext=null)}function Mi(b){var w=b._currentValue;if(Xx!==b)if(b={context:b,memoizedValue:w,next:null},Xd===null){if(G0===null)throw Error(e(308));Xd=b,G0.dependencies={lanes:0,firstContext:b}}else Xd=Xd.next=b;return w}var wu=null;function Jx(b){wu===null?wu=[b]:wu.push(b)}function Kk(b,w,M,H){var Q=w.interleaved;return Q===null?(M.next=M,Jx(w)):(M.next=Q.next,Q.next=M),w.interleaved=M,gl(b,H)}function gl(b,w){b.lanes|=w;var M=b.alternate;for(M!==null&&(M.lanes|=w),M=b,b=b.return;b!==null;)b.childLanes|=w,M=b.alternate,M!==null&&(M.childLanes|=w),M=b,b=b.return;return M.tag===3?M.stateNode:null}var oc=!1;function ev(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gk(b,w){b=b.updateQueue,w.updateQueue===b&&(w.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function yl(b,w){return{eventTime:b,lane:w,tag:0,payload:null,callback:null,next:null}}function lc(b,w,M){var H=b.updateQueue;if(H===null)return null;if(H=H.shared,(nn&2)!==0){var Q=H.pending;return Q===null?w.next=w:(w.next=Q.next,Q.next=w),H.pending=w,gl(b,M)}return Q=H.interleaved,Q===null?(w.next=w,Jx(H)):(w.next=Q.next,Q.next=w),H.interleaved=w,gl(b,M)}function X0(b,w,M){if(w=w.updateQueue,w!==null&&(w=w.shared,(M&4194240)!==0)){var H=w.lanes;H&=b.pendingLanes,M|=H,w.lanes=M,Ci(b,M)}}function Xk(b,w){var M=b.updateQueue,H=b.alternate;if(H!==null&&(H=H.updateQueue,M===H)){var Q=null,J=null;if(M=M.firstBaseUpdate,M!==null){do{var he={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};J===null?Q=J=he:J=J.next=he,M=M.next}while(M!==null);J===null?Q=J=w:J=J.next=w}else Q=J=w;M={baseState:H.baseState,firstBaseUpdate:Q,lastBaseUpdate:J,shared:H.shared,effects:H.effects},b.updateQueue=M;return}b=M.lastBaseUpdate,b===null?M.firstBaseUpdate=w:b.next=w,M.lastBaseUpdate=w}function Q0(b,w,M,H){var Q=b.updateQueue;oc=!1;var J=Q.firstBaseUpdate,he=Q.lastBaseUpdate,_e=Q.shared.pending;if(_e!==null){Q.shared.pending=null;var Ce=_e,Ve=Ce.next;Ce.next=null,he===null?J=Ve:he.next=Ve,he=Ce;var st=b.alternate;st!==null&&(st=st.updateQueue,_e=st.lastBaseUpdate,_e!==he&&(_e===null?st.firstBaseUpdate=Ve:_e.next=Ve,st.lastBaseUpdate=Ce))}if(J!==null){var it=Q.baseState;he=0,st=Ve=Ce=null,_e=J;do{var rt=_e.lane,Tt=_e.eventTime;if((H&rt)===rt){st!==null&&(st=st.next={eventTime:Tt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var Ot=b,$t=_e;switch(rt=w,Tt=M,$t.tag){case 1:if(Ot=$t.payload,typeof Ot=="function"){it=Ot.call(Tt,it,rt);break e}it=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=$t.payload,rt=typeof Ot=="function"?Ot.call(Tt,it,rt):Ot,rt==null)break e;it=R({},it,rt);break e;case 2:oc=!0}}_e.callback!==null&&_e.lane!==0&&(b.flags|=64,rt=Q.effects,rt===null?Q.effects=[_e]:rt.push(_e))}else Tt={eventTime:Tt,lane:rt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},st===null?(Ve=st=Tt,Ce=it):st=st.next=Tt,he|=rt;if(_e=_e.next,_e===null){if(_e=Q.shared.pending,_e===null)break;rt=_e,_e=rt.next,rt.next=null,Q.lastBaseUpdate=rt,Q.shared.pending=null}}while(!0);if(st===null&&(Ce=it),Q.baseState=Ce,Q.firstBaseUpdate=Ve,Q.lastBaseUpdate=st,w=Q.shared.interleaved,w!==null){Q=w;do he|=Q.lane,Q=Q.next;while(Q!==w)}else J===null&&(Q.shared.lanes=0);ju|=he,b.lanes=he,b.memoizedState=it}}function Qk(b,w,M){if(b=w.effects,w.effects=null,b!==null)for(w=0;w<b.length;w++){var H=b[w],Q=H.callback;if(Q!==null){if(H.callback=null,H=M,typeof Q!="function")throw Error(e(191,Q));Q.call(H)}}}var np={},Mo=sc(np),sp=sc(np),ap=sc(np);function _u(b){if(b===np)throw Error(e(174));return b}function tv(b,w){switch(Cn(ap,w),Cn(sp,b),Cn(Mo,np),b=w.nodeType,b){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:De(null,"");break;default:b=b===8?w.parentNode:w,w=b.namespaceURI||null,b=b.tagName,w=De(w,b)}An(Mo),Cn(Mo,w)}function Yd(){An(Mo),An(sp),An(ap)}function Yk(b){_u(ap.current);var w=_u(Mo.current),M=De(w,b.type);w!==M&&(Cn(sp,b),Cn(Mo,M))}function rv(b){sp.current===b&&(An(Mo),An(sp))}var zn=sc(0);function Y0(b){for(var w=b;w!==null;){if(w.tag===13){var M=w.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||M.data==="$?"||M.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var nv=[];function sv(){for(var b=0;b<nv.length;b++)nv[b]._workInProgressVersionPrimary=null;nv.length=0}var Z0=C.ReactCurrentDispatcher,av=C.ReactCurrentBatchConfig,ku=0,Vn=null,Ns=null,Ls=null,J0=!1,ip=!1,op=0,Dz=0;function ha(){throw Error(e(321))}function iv(b,w){if(w===null)return!1;for(var M=0;M<w.length&&M<b.length;M++)if(!eo(b[M],w[M]))return!1;return!0}function ov(b,w,M,H,Q,J){if(ku=J,Vn=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Z0.current=b===null||b.memoizedState===null?Lz:Bz,b=M(H,Q),ip){J=0;do{if(ip=!1,op=0,25<=J)throw Error(e(301));J+=1,Ls=Ns=null,w.updateQueue=null,Z0.current=$z,b=M(H,Q)}while(ip)}if(Z0.current=rg,w=Ns!==null&&Ns.next!==null,ku=0,Ls=Ns=Vn=null,J0=!1,w)throw Error(e(300));return b}function lv(){var b=op!==0;return op=0,b}function Ro(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ls===null?Vn.memoizedState=Ls=b:Ls=Ls.next=b,Ls}function Ri(){if(Ns===null){var b=Vn.alternate;b=b!==null?b.memoizedState:null}else b=Ns.next;var w=Ls===null?Vn.memoizedState:Ls.next;if(w!==null)Ls=w,Ns=b;else{if(b===null)throw Error(e(310));Ns=b,b={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Ls===null?Vn.memoizedState=Ls=b:Ls=Ls.next=b}return Ls}function lp(b,w){return typeof w=="function"?w(b):w}function cv(b){var w=Ri(),M=w.queue;if(M===null)throw Error(e(311));M.lastRenderedReducer=b;var H=Ns,Q=H.baseQueue,J=M.pending;if(J!==null){if(Q!==null){var he=Q.next;Q.next=J.next,J.next=he}H.baseQueue=Q=J,M.pending=null}if(Q!==null){J=Q.next,H=H.baseState;var _e=he=null,Ce=null,Ve=J;do{var st=Ve.lane;if((ku&st)===st)Ce!==null&&(Ce=Ce.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),H=Ve.hasEagerState?Ve.eagerState:b(H,Ve.action);else{var it={lane:st,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Ce===null?(_e=Ce=it,he=H):Ce=Ce.next=it,Vn.lanes|=st,ju|=st}Ve=Ve.next}while(Ve!==null&&Ve!==J);Ce===null?he=H:Ce.next=_e,eo(H,w.memoizedState)||(Ga=!0),w.memoizedState=H,w.baseState=he,w.baseQueue=Ce,M.lastRenderedState=H}if(b=M.interleaved,b!==null){Q=b;do J=Q.lane,Vn.lanes|=J,ju|=J,Q=Q.next;while(Q!==b)}else Q===null&&(M.lanes=0);return[w.memoizedState,M.dispatch]}function uv(b){var w=Ri(),M=w.queue;if(M===null)throw Error(e(311));M.lastRenderedReducer=b;var H=M.dispatch,Q=M.pending,J=w.memoizedState;if(Q!==null){M.pending=null;var he=Q=Q.next;do J=b(J,he.action),he=he.next;while(he!==Q);eo(J,w.memoizedState)||(Ga=!0),w.memoizedState=J,w.baseQueue===null&&(w.baseState=J),M.lastRenderedState=J}return[J,H]}function Zk(){}function Jk(b,w){var M=Vn,H=Ri(),Q=w(),J=!eo(H.memoizedState,Q);if(J&&(H.memoizedState=Q,Ga=!0),H=H.queue,dv(r5.bind(null,M,H,b),[b]),H.getSnapshot!==w||J||Ls!==null&&Ls.memoizedState.tag&1){if(M.flags|=2048,cp(9,t5.bind(null,M,H,Q,w),void 0,null),Bs===null)throw Error(e(349));(ku&30)!==0||e5(M,w,Q)}return Q}function e5(b,w,M){b.flags|=16384,b={getSnapshot:w,value:M},w=Vn.updateQueue,w===null?(w={lastEffect:null,stores:null},Vn.updateQueue=w,w.stores=[b]):(M=w.stores,M===null?w.stores=[b]:M.push(b))}function t5(b,w,M,H){w.value=M,w.getSnapshot=H,n5(w)&&s5(b)}function r5(b,w,M){return M(function(){n5(w)&&s5(b)})}function n5(b){var w=b.getSnapshot;b=b.value;try{var M=w();return!eo(b,M)}catch{return!0}}function s5(b){var w=gl(b,1);w!==null&&ao(w,b,1,-1)}function a5(b){var w=Ro();return typeof b=="function"&&(b=b()),w.memoizedState=w.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:b},w.queue=b,b=b.dispatch=Fz.bind(null,Vn,b),[w.memoizedState,b]}function cp(b,w,M,H){return b={tag:b,create:w,destroy:M,deps:H,next:null},w=Vn.updateQueue,w===null?(w={lastEffect:null,stores:null},Vn.updateQueue=w,w.lastEffect=b.next=b):(M=w.lastEffect,M===null?w.lastEffect=b.next=b:(H=M.next,M.next=b,b.next=H,w.lastEffect=b)),b}function i5(){return Ri().memoizedState}function eg(b,w,M,H){var Q=Ro();Vn.flags|=b,Q.memoizedState=cp(1|w,M,void 0,H===void 0?null:H)}function tg(b,w,M,H){var Q=Ri();H=H===void 0?null:H;var J=void 0;if(Ns!==null){var he=Ns.memoizedState;if(J=he.destroy,H!==null&&iv(H,he.deps)){Q.memoizedState=cp(w,M,J,H);return}}Vn.flags|=b,Q.memoizedState=cp(1|w,M,J,H)}function o5(b,w){return eg(8390656,8,b,w)}function dv(b,w){return tg(2048,8,b,w)}function l5(b,w){return tg(4,2,b,w)}function c5(b,w){return tg(4,4,b,w)}function u5(b,w){if(typeof w=="function")return b=b(),w(b),function(){w(null)};if(w!=null)return b=b(),w.current=b,function(){w.current=null}}function d5(b,w,M){return M=M!=null?M.concat([b]):null,tg(4,4,u5.bind(null,w,b),M)}function fv(){}function f5(b,w){var M=Ri();w=w===void 0?null:w;var H=M.memoizedState;return H!==null&&w!==null&&iv(w,H[1])?H[0]:(M.memoizedState=[b,w],b)}function h5(b,w){var M=Ri();w=w===void 0?null:w;var H=M.memoizedState;return H!==null&&w!==null&&iv(w,H[1])?H[0]:(b=b(),M.memoizedState=[b,w],b)}function p5(b,w,M){return(ku&21)===0?(b.baseState&&(b.baseState=!1,Ga=!0),b.memoizedState=M):(eo(M,w)||(M=qr(),Vn.lanes|=M,ju|=M,b.baseState=!0),w)}function Iz(b,w){var M=yr;yr=M!==0&&4>M?M:4,b(!0);var H=av.transition;av.transition={};try{b(!1),w()}finally{yr=M,av.transition=H}}function m5(){return Ri().memoizedState}function Oz(b,w,M){var H=fc(b);if(M={lane:H,action:M,hasEagerState:!1,eagerState:null,next:null},g5(b))y5(w,M);else if(M=Kk(b,w,M,H),M!==null){var Q=Ea();ao(M,b,H,Q),b5(M,w,H)}}function Fz(b,w,M){var H=fc(b),Q={lane:H,action:M,hasEagerState:!1,eagerState:null,next:null};if(g5(b))y5(w,Q);else{var J=b.alternate;if(b.lanes===0&&(J===null||J.lanes===0)&&(J=w.lastRenderedReducer,J!==null))try{var he=w.lastRenderedState,_e=J(he,M);if(Q.hasEagerState=!0,Q.eagerState=_e,eo(_e,he)){var Ce=w.interleaved;Ce===null?(Q.next=Q,Jx(w)):(Q.next=Ce.next,Ce.next=Q),w.interleaved=Q;return}}catch{}finally{}M=Kk(b,w,Q,H),M!==null&&(Q=Ea(),ao(M,b,H,Q),b5(M,w,H))}}function g5(b){var w=b.alternate;return b===Vn||w!==null&&w===Vn}function y5(b,w){ip=J0=!0;var M=b.pending;M===null?w.next=w:(w.next=M.next,M.next=w),b.pending=w}function b5(b,w,M){if((M&4194240)!==0){var H=w.lanes;H&=b.pendingLanes,M|=H,w.lanes=M,Ci(b,M)}}var rg={readContext:Mi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Lz={readContext:Mi,useCallback:function(b,w){return Ro().memoizedState=[b,w===void 0?null:w],b},useContext:Mi,useEffect:o5,useImperativeHandle:function(b,w,M){return M=M!=null?M.concat([b]):null,eg(4194308,4,u5.bind(null,w,b),M)},useLayoutEffect:function(b,w){return eg(4194308,4,b,w)},useInsertionEffect:function(b,w){return eg(4,2,b,w)},useMemo:function(b,w){var M=Ro();return w=w===void 0?null:w,b=b(),M.memoizedState=[b,w],b},useReducer:function(b,w,M){var H=Ro();return w=M!==void 0?M(w):w,H.memoizedState=H.baseState=w,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:w},H.queue=b,b=b.dispatch=Oz.bind(null,Vn,b),[H.memoizedState,b]},useRef:function(b){var w=Ro();return b={current:b},w.memoizedState=b},useState:a5,useDebugValue:fv,useDeferredValue:function(b){return Ro().memoizedState=b},useTransition:function(){var b=a5(!1),w=b[0];return b=Iz.bind(null,b[1]),Ro().memoizedState=b,[w,b]},useMutableSource:function(){},useSyncExternalStore:function(b,w,M){var H=Vn,Q=Ro();if(In){if(M===void 0)throw Error(e(407));M=M()}else{if(M=w(),Bs===null)throw Error(e(349));(ku&30)!==0||e5(H,w,M)}Q.memoizedState=M;var J={value:M,getSnapshot:w};return Q.queue=J,o5(r5.bind(null,H,J,b),[b]),H.flags|=2048,cp(9,t5.bind(null,H,J,M,w),void 0,null),M},useId:function(){var b=Ro(),w=Bs.identifierPrefix;if(In){var M=ml,H=pl;M=(H&~(1<<32-or(H)-1)).toString(32)+M,w=":"+w+"R"+M,M=op++,0<M&&(w+="H"+M.toString(32)),w+=":"}else M=Dz++,w=":"+w+"r"+M.toString(32)+":";return b.memoizedState=w},unstable_isNewReconciler:!1},Bz={readContext:Mi,useCallback:f5,useContext:Mi,useEffect:dv,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:h5,useReducer:cv,useRef:i5,useState:function(){return cv(lp)},useDebugValue:fv,useDeferredValue:function(b){var w=Ri();return p5(w,Ns.memoizedState,b)},useTransition:function(){var b=cv(lp)[0],w=Ri().memoizedState;return[b,w]},useMutableSource:Zk,useSyncExternalStore:Jk,useId:m5,unstable_isNewReconciler:!1},$z={readContext:Mi,useCallback:f5,useContext:Mi,useEffect:dv,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:h5,useReducer:uv,useRef:i5,useState:function(){return uv(lp)},useDebugValue:fv,useDeferredValue:function(b){var w=Ri();return Ns===null?w.memoizedState=b:p5(w,Ns.memoizedState,b)},useTransition:function(){var b=uv(lp)[0],w=Ri().memoizedState;return[b,w]},useMutableSource:Zk,useSyncExternalStore:Jk,useId:m5,unstable_isNewReconciler:!1};function ro(b,w){if(b&&b.defaultProps){w=R({},w),b=b.defaultProps;for(var M in b)w[M]===void 0&&(w[M]=b[M]);return w}return w}function hv(b,w,M,H){w=b.memoizedState,M=M(H,w),M=M==null?w:R({},w,M),b.memoizedState=M,b.lanes===0&&(b.updateQueue.baseState=M)}var ng={isMounted:function(b){return(b=b._reactInternals)?St(b)===b:!1},enqueueSetState:function(b,w,M){b=b._reactInternals;var H=Ea(),Q=fc(b),J=yl(H,Q);J.payload=w,M!=null&&(J.callback=M),w=lc(b,J,Q),w!==null&&(ao(w,b,Q,H),X0(w,b,Q))},enqueueReplaceState:function(b,w,M){b=b._reactInternals;var H=Ea(),Q=fc(b),J=yl(H,Q);J.tag=1,J.payload=w,M!=null&&(J.callback=M),w=lc(b,J,Q),w!==null&&(ao(w,b,Q,H),X0(w,b,Q))},enqueueForceUpdate:function(b,w){b=b._reactInternals;var M=Ea(),H=fc(b),Q=yl(M,H);Q.tag=2,w!=null&&(Q.callback=w),w=lc(b,Q,H),w!==null&&(ao(w,b,H,M),X0(w,b,H))}};function x5(b,w,M,H,Q,J,he){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(H,J,he):w.prototype&&w.prototype.isPureReactComponent?!Xh(M,H)||!Xh(Q,J):!0}function v5(b,w,M){var H=!1,Q=ac,J=w.contextType;return typeof J=="object"&&J!==null?J=Mi(J):(Q=Ka(w)?bu:fa.current,H=w.contextTypes,J=(H=H!=null)?Wd(b,Q):ac),w=new w(M,J),b.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ng,b.stateNode=w,w._reactInternals=b,H&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=Q,b.__reactInternalMemoizedMaskedChildContext=J),w}function w5(b,w,M,H){b=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(M,H),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(M,H),w.state!==b&&ng.enqueueReplaceState(w,w.state,null)}function pv(b,w,M,H){var Q=b.stateNode;Q.props=M,Q.state=b.memoizedState,Q.refs={},ev(b);var J=w.contextType;typeof J=="object"&&J!==null?Q.context=Mi(J):(J=Ka(w)?bu:fa.current,Q.context=Wd(b,J)),Q.state=b.memoizedState,J=w.getDerivedStateFromProps,typeof J=="function"&&(hv(b,w,J,M),Q.state=b.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(w=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),w!==Q.state&&ng.enqueueReplaceState(Q,Q.state,null),Q0(b,M,Q,H),Q.state=b.memoizedState),typeof Q.componentDidMount=="function"&&(b.flags|=4194308)}function Zd(b,w){try{var M="",H=w;do M+=re(H),H=H.return;while(H);var Q=M}catch(J){Q=`
Error generating stack: `+J.message+`
`+J.stack}return{value:b,source:w,stack:Q,digest:null}}function mv(b,w,M){return{value:b,source:null,stack:M??null,digest:w??null}}function gv(b,w){try{console.error(w.value)}catch(M){setTimeout(function(){throw M})}}var zz=typeof WeakMap=="function"?WeakMap:Map;function _5(b,w,M){M=yl(-1,M),M.tag=3,M.payload={element:null};var H=w.value;return M.callback=function(){ug||(ug=!0,Pv=H),gv(b,w)},M}function k5(b,w,M){M=yl(-1,M),M.tag=3;var H=b.type.getDerivedStateFromError;if(typeof H=="function"){var Q=w.value;M.payload=function(){return H(Q)},M.callback=function(){gv(b,w)}}var J=b.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(M.callback=function(){gv(b,w),typeof H!="function"&&(uc===null?uc=new Set([this]):uc.add(this));var he=w.stack;this.componentDidCatch(w.value,{componentStack:he!==null?he:""})}),M}function j5(b,w,M){var H=b.pingCache;if(H===null){H=b.pingCache=new zz;var Q=new Set;H.set(w,Q)}else Q=H.get(w),Q===void 0&&(Q=new Set,H.set(w,Q));Q.has(M)||(Q.add(M),b=tV.bind(null,b,w,M),w.then(b,b))}function S5(b){do{var w;if((w=b.tag===13)&&(w=b.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return b;b=b.return}while(b!==null);return null}function N5(b,w,M,H,Q){return(b.mode&1)===0?(b===w?b.flags|=65536:(b.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(w=yl(-1,1),w.tag=2,lc(M,w,1))),M.lanes|=1),b):(b.flags|=65536,b.lanes=Q,b)}var Vz=C.ReactCurrentOwner,Ga=!1;function Ta(b,w,M,H){w.child=b===null?Hk(w,null,M,H):Gd(w,b.child,M,H)}function C5(b,w,M,H,Q){M=M.render;var J=w.ref;return Qd(w,Q),H=ov(b,w,M,H,J,Q),M=lv(),b!==null&&!Ga?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~Q,bl(b,w,Q)):(In&&M&&Wx(w),w.flags|=1,Ta(b,w,H,Q),w.child)}function T5(b,w,M,H,Q){if(b===null){var J=M.type;return typeof J=="function"&&!Lv(J)&&J.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(w.tag=15,w.type=J,E5(b,w,J,H,Q)):(b=gg(M.type,null,H,w,w.mode,Q),b.ref=w.ref,b.return=w,w.child=b)}if(J=b.child,(b.lanes&Q)===0){var he=J.memoizedProps;if(M=M.compare,M=M!==null?M:Xh,M(he,H)&&b.ref===w.ref)return bl(b,w,Q)}return w.flags|=1,b=pc(J,H),b.ref=w.ref,b.return=w,w.child=b}function E5(b,w,M,H,Q){if(b!==null){var J=b.memoizedProps;if(Xh(J,H)&&b.ref===w.ref)if(Ga=!1,w.pendingProps=H=J,(b.lanes&Q)!==0)(b.flags&131072)!==0&&(Ga=!0);else return w.lanes=b.lanes,bl(b,w,Q)}return yv(b,w,M,H,Q)}function A5(b,w,M){var H=w.pendingProps,Q=H.children,J=b!==null?b.memoizedState:null;if(H.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(ef,pi),pi|=M;else{if((M&1073741824)===0)return b=J!==null?J.baseLanes|M:M,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:b,cachePool:null,transitions:null},w.updateQueue=null,Cn(ef,pi),pi|=b,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=J!==null?J.baseLanes:M,Cn(ef,pi),pi|=H}else J!==null?(H=J.baseLanes|M,w.memoizedState=null):H=M,Cn(ef,pi),pi|=H;return Ta(b,w,Q,M),w.child}function P5(b,w){var M=w.ref;(b===null&&M!==null||b!==null&&b.ref!==M)&&(w.flags|=512,w.flags|=2097152)}function yv(b,w,M,H,Q){var J=Ka(M)?bu:fa.current;return J=Wd(w,J),Qd(w,Q),M=ov(b,w,M,H,J,Q),H=lv(),b!==null&&!Ga?(w.updateQueue=b.updateQueue,w.flags&=-2053,b.lanes&=~Q,bl(b,w,Q)):(In&&H&&Wx(w),w.flags|=1,Ta(b,w,M,Q),w.child)}function M5(b,w,M,H,Q){if(Ka(M)){var J=!0;z0(w)}else J=!1;if(Qd(w,Q),w.stateNode===null)ag(b,w),v5(w,M,H),pv(w,M,H,Q),H=!0;else if(b===null){var he=w.stateNode,_e=w.memoizedProps;he.props=_e;var Ce=he.context,Ve=M.contextType;typeof Ve=="object"&&Ve!==null?Ve=Mi(Ve):(Ve=Ka(M)?bu:fa.current,Ve=Wd(w,Ve));var st=M.getDerivedStateFromProps,it=typeof st=="function"||typeof he.getSnapshotBeforeUpdate=="function";it||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(_e!==H||Ce!==Ve)&&w5(w,he,H,Ve),oc=!1;var rt=w.memoizedState;he.state=rt,Q0(w,H,he,Q),Ce=w.memoizedState,_e!==H||rt!==Ce||Ha.current||oc?(typeof st=="function"&&(hv(w,M,st,H),Ce=w.memoizedState),(_e=oc||x5(w,M,_e,H,rt,Ce,Ve))?(it||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(w.flags|=4194308)):(typeof he.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=H,w.memoizedState=Ce),he.props=H,he.state=Ce,he.context=Ve,H=_e):(typeof he.componentDidMount=="function"&&(w.flags|=4194308),H=!1)}else{he=w.stateNode,Gk(b,w),_e=w.memoizedProps,Ve=w.type===w.elementType?_e:ro(w.type,_e),he.props=Ve,it=w.pendingProps,rt=he.context,Ce=M.contextType,typeof Ce=="object"&&Ce!==null?Ce=Mi(Ce):(Ce=Ka(M)?bu:fa.current,Ce=Wd(w,Ce));var Tt=M.getDerivedStateFromProps;(st=typeof Tt=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(_e!==it||rt!==Ce)&&w5(w,he,H,Ce),oc=!1,rt=w.memoizedState,he.state=rt,Q0(w,H,he,Q);var Ot=w.memoizedState;_e!==it||rt!==Ot||Ha.current||oc?(typeof Tt=="function"&&(hv(w,M,Tt,H),Ot=w.memoizedState),(Ve=oc||x5(w,M,Ve,H,rt,Ot,Ce)||!1)?(st||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(H,Ot,Ce),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(H,Ot,Ce)),typeof he.componentDidUpdate=="function"&&(w.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof he.componentDidUpdate!="function"||_e===b.memoizedProps&&rt===b.memoizedState||(w.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||_e===b.memoizedProps&&rt===b.memoizedState||(w.flags|=1024),w.memoizedProps=H,w.memoizedState=Ot),he.props=H,he.state=Ot,he.context=Ce,H=Ve):(typeof he.componentDidUpdate!="function"||_e===b.memoizedProps&&rt===b.memoizedState||(w.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||_e===b.memoizedProps&&rt===b.memoizedState||(w.flags|=1024),H=!1)}return bv(b,w,M,H,J,Q)}function bv(b,w,M,H,Q,J){P5(b,w);var he=(w.flags&128)!==0;if(!H&&!he)return Q&&Fk(w,M,!1),bl(b,w,J);H=w.stateNode,Vz.current=w;var _e=he&&typeof M.getDerivedStateFromError!="function"?null:H.render();return w.flags|=1,b!==null&&he?(w.child=Gd(w,b.child,null,J),w.child=Gd(w,null,_e,J)):Ta(b,w,_e,J),w.memoizedState=H.state,Q&&Fk(w,M,!0),w.child}function R5(b){var w=b.stateNode;w.pendingContext?Ik(b,w.pendingContext,w.pendingContext!==w.context):w.context&&Ik(b,w.context,!1),tv(b,w.containerInfo)}function D5(b,w,M,H,Q){return Kd(),Gx(Q),w.flags|=256,Ta(b,w,M,H),w.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function vv(b){return{baseLanes:b,cachePool:null,transitions:null}}function I5(b,w,M){var H=w.pendingProps,Q=zn.current,J=!1,he=(w.flags&128)!==0,_e;if((_e=he)||(_e=b!==null&&b.memoizedState===null?!1:(Q&2)!==0),_e?(J=!0,w.flags&=-129):(b===null||b.memoizedState!==null)&&(Q|=1),Cn(zn,Q&1),b===null)return Kx(w),b=w.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?((w.mode&1)===0?w.lanes=1:b.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(he=H.children,b=H.fallback,J?(H=w.mode,J=w.child,he={mode:"hidden",children:he},(H&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=he):J=yg(he,H,0,null),b=Tu(b,H,M,null),J.return=w,b.return=w,J.sibling=b,w.child=J,w.child.memoizedState=vv(M),w.memoizedState=xv,b):wv(w,he));if(Q=b.memoizedState,Q!==null&&(_e=Q.dehydrated,_e!==null))return Uz(b,w,he,H,_e,Q,M);if(J){J=H.fallback,he=w.mode,Q=b.child,_e=Q.sibling;var Ce={mode:"hidden",children:H.children};return(he&1)===0&&w.child!==Q?(H=w.child,H.childLanes=0,H.pendingProps=Ce,w.deletions=null):(H=pc(Q,Ce),H.subtreeFlags=Q.subtreeFlags&14680064),_e!==null?J=pc(_e,J):(J=Tu(J,he,M,null),J.flags|=2),J.return=w,H.return=w,H.sibling=J,w.child=H,H=J,J=w.child,he=b.child.memoizedState,he=he===null?vv(M):{baseLanes:he.baseLanes|M,cachePool:null,transitions:he.transitions},J.memoizedState=he,J.childLanes=b.childLanes&~M,w.memoizedState=xv,H}return J=b.child,b=J.sibling,H=pc(J,{mode:"visible",children:H.children}),(w.mode&1)===0&&(H.lanes=M),H.return=w,H.sibling=null,b!==null&&(M=w.deletions,M===null?(w.deletions=[b],w.flags|=16):M.push(b)),w.child=H,w.memoizedState=null,H}function wv(b,w){return w=yg({mode:"visible",children:w},b.mode,0,null),w.return=b,b.child=w}function sg(b,w,M,H){return H!==null&&Gx(H),Gd(w,b.child,null,M),b=wv(w,w.pendingProps.children),b.flags|=2,w.memoizedState=null,b}function Uz(b,w,M,H,Q,J,he){if(M)return w.flags&256?(w.flags&=-257,H=mv(Error(e(422))),sg(b,w,he,H)):w.memoizedState!==null?(w.child=b.child,w.flags|=128,null):(J=H.fallback,Q=w.mode,H=yg({mode:"visible",children:H.children},Q,0,null),J=Tu(J,Q,he,null),J.flags|=2,H.return=w,J.return=w,H.sibling=J,w.child=H,(w.mode&1)!==0&&Gd(w,b.child,null,he),w.child.memoizedState=vv(he),w.memoizedState=xv,J);if((w.mode&1)===0)return sg(b,w,he,null);if(Q.data==="$!"){if(H=Q.nextSibling&&Q.nextSibling.dataset,H)var _e=H.dgst;return H=_e,J=Error(e(419)),H=mv(J,H,void 0),sg(b,w,he,H)}if(_e=(he&b.childLanes)!==0,Ga||_e){if(H=Bs,H!==null){switch(he&-he){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(H.suspendedLanes|he))!==0?0:Q,Q!==0&&Q!==J.retryLane&&(J.retryLane=Q,gl(b,Q),ao(H,b,Q,-1))}return Fv(),H=mv(Error(e(421))),sg(b,w,he,H)}return Q.data==="$?"?(w.flags|=128,w.child=b.child,w=rV.bind(null,b),Q._reactRetry=w,null):(b=J.treeContext,hi=nc(Q.nextSibling),fi=w,In=!0,to=null,b!==null&&(Ai[Pi++]=pl,Ai[Pi++]=ml,Ai[Pi++]=xu,pl=b.id,ml=b.overflow,xu=w),w=wv(w,H.children),w.flags|=4096,w)}function O5(b,w,M){b.lanes|=w;var H=b.alternate;H!==null&&(H.lanes|=w),Zx(b.return,w,M)}function _v(b,w,M,H,Q){var J=b.memoizedState;J===null?b.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:H,tail:M,tailMode:Q}:(J.isBackwards=w,J.rendering=null,J.renderingStartTime=0,J.last=H,J.tail=M,J.tailMode=Q)}function F5(b,w,M){var H=w.pendingProps,Q=H.revealOrder,J=H.tail;if(Ta(b,w,H.children,M),H=zn.current,(H&2)!==0)H=H&1|2,w.flags|=128;else{if(b!==null&&(b.flags&128)!==0)e:for(b=w.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&O5(b,M,w);else if(b.tag===19)O5(b,M,w);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===w)break e;for(;b.sibling===null;){if(b.return===null||b.return===w)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}H&=1}if(Cn(zn,H),(w.mode&1)===0)w.memoizedState=null;else switch(Q){case"forwards":for(M=w.child,Q=null;M!==null;)b=M.alternate,b!==null&&Y0(b)===null&&(Q=M),M=M.sibling;M=Q,M===null?(Q=w.child,w.child=null):(Q=M.sibling,M.sibling=null),_v(w,!1,Q,M,J);break;case"backwards":for(M=null,Q=w.child,w.child=null;Q!==null;){if(b=Q.alternate,b!==null&&Y0(b)===null){w.child=Q;break}b=Q.sibling,Q.sibling=M,M=Q,Q=b}_v(w,!0,M,null,J);break;case"together":_v(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function ag(b,w){(w.mode&1)===0&&b!==null&&(b.alternate=null,w.alternate=null,w.flags|=2)}function bl(b,w,M){if(b!==null&&(w.dependencies=b.dependencies),ju|=w.lanes,(M&w.childLanes)===0)return null;if(b!==null&&w.child!==b.child)throw Error(e(153));if(w.child!==null){for(b=w.child,M=pc(b,b.pendingProps),w.child=M,M.return=w;b.sibling!==null;)b=b.sibling,M=M.sibling=pc(b,b.pendingProps),M.return=w;M.sibling=null}return w.child}function Wz(b,w,M){switch(w.tag){case 3:R5(w),Kd();break;case 5:Yk(w);break;case 1:Ka(w.type)&&z0(w);break;case 4:tv(w,w.stateNode.containerInfo);break;case 10:var H=w.type._context,Q=w.memoizedProps.value;Cn(K0,H._currentValue),H._currentValue=Q;break;case 13:if(H=w.memoizedState,H!==null)return H.dehydrated!==null?(Cn(zn,zn.current&1),w.flags|=128,null):(M&w.child.childLanes)!==0?I5(b,w,M):(Cn(zn,zn.current&1),b=bl(b,w,M),b!==null?b.sibling:null);Cn(zn,zn.current&1);break;case 19:if(H=(M&w.childLanes)!==0,(b.flags&128)!==0){if(H)return F5(b,w,M);w.flags|=128}if(Q=w.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Cn(zn,zn.current),H)break;return null;case 22:case 23:return w.lanes=0,A5(b,w,M)}return bl(b,w,M)}var L5,kv,B5,$5;L5=function(b,w){for(var M=w.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===w)break;for(;M.sibling===null;){if(M.return===null||M.return===w)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},kv=function(){},B5=function(b,w,M,H){var Q=b.memoizedProps;if(Q!==H){b=w.stateNode,_u(Mo.current);var J=null;switch(M){case"input":Q=ge(b,Q),H=ge(b,H),J=[];break;case"select":Q=R({},Q,{value:void 0}),H=R({},H,{value:void 0}),J=[];break;case"textarea":Q=se(b,Q),H=se(b,H),J=[];break;default:typeof Q.onClick!="function"&&typeof H.onClick=="function"&&(b.onclick=L0)}Be(M,H);var he;M=null;for(Ve in Q)if(!H.hasOwnProperty(Ve)&&Q.hasOwnProperty(Ve)&&Q[Ve]!=null)if(Ve==="style"){var _e=Q[Ve];for(he in _e)_e.hasOwnProperty(he)&&(M||(M={}),M[he]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(s.hasOwnProperty(Ve)?J||(J=[]):(J=J||[]).push(Ve,null));for(Ve in H){var Ce=H[Ve];if(_e=Q?.[Ve],H.hasOwnProperty(Ve)&&Ce!==_e&&(Ce!=null||_e!=null))if(Ve==="style")if(_e){for(he in _e)!_e.hasOwnProperty(he)||Ce&&Ce.hasOwnProperty(he)||(M||(M={}),M[he]="");for(he in Ce)Ce.hasOwnProperty(he)&&_e[he]!==Ce[he]&&(M||(M={}),M[he]=Ce[he])}else M||(J||(J=[]),J.push(Ve,M)),M=Ce;else Ve==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,_e=_e?_e.__html:void 0,Ce!=null&&_e!==Ce&&(J=J||[]).push(Ve,Ce)):Ve==="children"?typeof Ce!="string"&&typeof Ce!="number"||(J=J||[]).push(Ve,""+Ce):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ve)?(Ce!=null&&Ve==="onScroll"&&En("scroll",b),J||_e===Ce||(J=[])):(J=J||[]).push(Ve,Ce))}M&&(J=J||[]).push("style",M);var Ve=J;(w.updateQueue=Ve)&&(w.flags|=4)}},$5=function(b,w,M,H){M!==H&&(w.flags|=4)};function up(b,w){if(!In)switch(b.tailMode){case"hidden":w=b.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?b.tail=null:M.sibling=null;break;case"collapsed":M=b.tail;for(var H=null;M!==null;)M.alternate!==null&&(H=M),M=M.sibling;H===null?w||b.tail===null?b.tail=null:b.tail.sibling=null:H.sibling=null}}function pa(b){var w=b.alternate!==null&&b.alternate.child===b.child,M=0,H=0;if(w)for(var Q=b.child;Q!==null;)M|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags&14680064,H|=Q.flags&14680064,Q.return=b,Q=Q.sibling;else for(Q=b.child;Q!==null;)M|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags,H|=Q.flags,Q.return=b,Q=Q.sibling;return b.subtreeFlags|=H,b.childLanes=M,w}function qz(b,w,M){var H=w.pendingProps;switch(qx(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(w),null;case 1:return Ka(w.type)&&$0(),pa(w),null;case 3:return H=w.stateNode,Yd(),An(Ha),An(fa),sv(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(b===null||b.child===null)&&(q0(w)?w.flags|=4:b===null||b.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,to!==null&&(Dv(to),to=null))),kv(b,w),pa(w),null;case 5:rv(w);var Q=_u(ap.current);if(M=w.type,b!==null&&w.stateNode!=null)B5(b,w,M,H,Q),b.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!H){if(w.stateNode===null)throw Error(e(166));return pa(w),null}if(b=_u(Mo.current),q0(w)){H=w.stateNode,M=w.type;var J=w.memoizedProps;switch(H[Po]=w,H[ep]=J,b=(w.mode&1)!==0,M){case"dialog":En("cancel",H),En("close",H);break;case"iframe":case"object":case"embed":En("load",H);break;case"video":case"audio":for(Q=0;Q<Yh.length;Q++)En(Yh[Q],H);break;case"source":En("error",H);break;case"img":case"image":case"link":En("error",H),En("load",H);break;case"details":En("toggle",H);break;case"input":ee(H,J),En("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!J.multiple},En("invalid",H);break;case"textarea":de(H,J),En("invalid",H)}Be(M,J),Q=null;for(var he in J)if(J.hasOwnProperty(he)){var _e=J[he];he==="children"?typeof _e=="string"?H.textContent!==_e&&(J.suppressHydrationWarning!==!0&&F0(H.textContent,_e,b),Q=["children",_e]):typeof _e=="number"&&H.textContent!==""+_e&&(J.suppressHydrationWarning!==!0&&F0(H.textContent,_e,b),Q=["children",""+_e]):s.hasOwnProperty(he)&&_e!=null&&he==="onScroll"&&En("scroll",H)}switch(M){case"input":ae(H),fe(H,J,!0);break;case"textarea":ae(H),ke(H);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(H.onclick=L0)}H=Q,w.updateQueue=H,H!==null&&(w.flags|=4)}else{he=Q.nodeType===9?Q:Q.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Ne(M)),b==="http://www.w3.org/1999/xhtml"?M==="script"?(b=he.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof H.is=="string"?b=he.createElement(M,{is:H.is}):(b=he.createElement(M),M==="select"&&(he=b,H.multiple?he.multiple=!0:H.size&&(he.size=H.size))):b=he.createElementNS(b,M),b[Po]=w,b[ep]=H,L5(b,w,!1,!1),w.stateNode=b;e:{switch(he=Xe(M,H),M){case"dialog":En("cancel",b),En("close",b),Q=H;break;case"iframe":case"object":case"embed":En("load",b),Q=H;break;case"video":case"audio":for(Q=0;Q<Yh.length;Q++)En(Yh[Q],b);Q=H;break;case"source":En("error",b),Q=H;break;case"img":case"image":case"link":En("error",b),En("load",b),Q=H;break;case"details":En("toggle",b),Q=H;break;case"input":ee(b,H),Q=ge(b,H),En("invalid",b);break;case"option":Q=H;break;case"select":b._wrapperState={wasMultiple:!!H.multiple},Q=R({},H,{value:void 0}),En("invalid",b);break;case"textarea":de(b,H),Q=se(b,H),En("invalid",b);break;default:Q=H}Be(M,Q),_e=Q;for(J in _e)if(_e.hasOwnProperty(J)){var Ce=_e[J];J==="style"?ve(b,Ce):J==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&Ge(b,Ce)):J==="children"?typeof Ce=="string"?(M!=="textarea"||Ce!=="")&&qe(b,Ce):typeof Ce=="number"&&qe(b,""+Ce):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?Ce!=null&&J==="onScroll"&&En("scroll",b):Ce!=null&&S(b,J,Ce,he))}switch(M){case"input":ae(b),fe(b,H,!1);break;case"textarea":ae(b),ke(b);break;case"option":H.value!=null&&b.setAttribute("value",""+V(H.value));break;case"select":b.multiple=!!H.multiple,J=H.value,J!=null?te(b,!!H.multiple,J,!1):H.defaultValue!=null&&te(b,!!H.multiple,H.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(b.onclick=L0)}switch(M){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break e;case"img":H=!0;break e;default:H=!1}}H&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return pa(w),null;case 6:if(b&&w.stateNode!=null)$5(b,w,b.memoizedProps,H);else{if(typeof H!="string"&&w.stateNode===null)throw Error(e(166));if(M=_u(ap.current),_u(Mo.current),q0(w)){if(H=w.stateNode,M=w.memoizedProps,H[Po]=w,(J=H.nodeValue!==M)&&(b=fi,b!==null))switch(b.tag){case 3:F0(H.nodeValue,M,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&F0(H.nodeValue,M,(b.mode&1)!==0)}J&&(w.flags|=4)}else H=(M.nodeType===9?M:M.ownerDocument).createTextNode(H),H[Po]=w,w.stateNode=H}return pa(w),null;case 13:if(An(zn),H=w.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(In&&hi!==null&&(w.mode&1)!==0&&(w.flags&128)===0)Uk(),Kd(),w.flags|=98560,J=!1;else if(J=q0(w),H!==null&&H.dehydrated!==null){if(b===null){if(!J)throw Error(e(318));if(J=w.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(e(317));J[Po]=w}else Kd(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;pa(w),J=!1}else to!==null&&(Dv(to),to=null),J=!0;if(!J)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=M,w):(H=H!==null,H!==(b!==null&&b.memoizedState!==null)&&H&&(w.child.flags|=8192,(w.mode&1)!==0&&(b===null||(zn.current&1)!==0?Cs===0&&(Cs=3):Fv())),w.updateQueue!==null&&(w.flags|=4),pa(w),null);case 4:return Yd(),kv(b,w),b===null&&Zh(w.stateNode.containerInfo),pa(w),null;case 10:return Yx(w.type._context),pa(w),null;case 17:return Ka(w.type)&&$0(),pa(w),null;case 19:if(An(zn),J=w.memoizedState,J===null)return pa(w),null;if(H=(w.flags&128)!==0,he=J.rendering,he===null)if(H)up(J,!1);else{if(Cs!==0||b!==null&&(b.flags&128)!==0)for(b=w.child;b!==null;){if(he=Y0(b),he!==null){for(w.flags|=128,up(J,!1),H=he.updateQueue,H!==null&&(w.updateQueue=H,w.flags|=4),w.subtreeFlags=0,H=M,M=w.child;M!==null;)J=M,b=H,J.flags&=14680066,he=J.alternate,he===null?(J.childLanes=0,J.lanes=b,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=he.childLanes,J.lanes=he.lanes,J.child=he.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=he.memoizedProps,J.memoizedState=he.memoizedState,J.updateQueue=he.updateQueue,J.type=he.type,b=he.dependencies,J.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),M=M.sibling;return Cn(zn,zn.current&1|2),w.child}b=b.sibling}J.tail!==null&&Te()>tf&&(w.flags|=128,H=!0,up(J,!1),w.lanes=4194304)}else{if(!H)if(b=Y0(he),b!==null){if(w.flags|=128,H=!0,M=b.updateQueue,M!==null&&(w.updateQueue=M,w.flags|=4),up(J,!0),J.tail===null&&J.tailMode==="hidden"&&!he.alternate&&!In)return pa(w),null}else 2*Te()-J.renderingStartTime>tf&&M!==1073741824&&(w.flags|=128,H=!0,up(J,!1),w.lanes=4194304);J.isBackwards?(he.sibling=w.child,w.child=he):(M=J.last,M!==null?M.sibling=he:w.child=he,J.last=he)}return J.tail!==null?(w=J.tail,J.rendering=w,J.tail=w.sibling,J.renderingStartTime=Te(),w.sibling=null,M=zn.current,Cn(zn,H?M&1|2:M&1),w):(pa(w),null);case 22:case 23:return Ov(),H=w.memoizedState!==null,b!==null&&b.memoizedState!==null!==H&&(w.flags|=8192),H&&(w.mode&1)!==0?(pi&1073741824)!==0&&(pa(w),w.subtreeFlags&6&&(w.flags|=8192)):pa(w),null;case 24:return null;case 25:return null}throw Error(e(156,w.tag))}function Hz(b,w){switch(qx(w),w.tag){case 1:return Ka(w.type)&&$0(),b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 3:return Yd(),An(Ha),An(fa),sv(),b=w.flags,(b&65536)!==0&&(b&128)===0?(w.flags=b&-65537|128,w):null;case 5:return rv(w),null;case 13:if(An(zn),b=w.memoizedState,b!==null&&b.dehydrated!==null){if(w.alternate===null)throw Error(e(340));Kd()}return b=w.flags,b&65536?(w.flags=b&-65537|128,w):null;case 19:return An(zn),null;case 4:return Yd(),null;case 10:return Yx(w.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var ig=!1,ma=!1,Kz=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Jd(b,w){var M=b.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(H){Zn(b,w,H)}else M.current=null}function jv(b,w,M){try{M()}catch(H){Zn(b,w,H)}}var z5=!1;function Gz(b,w){if(Ox=Rd,b=xk(),Tx(b)){if("selectionStart"in b)var M={start:b.selectionStart,end:b.selectionEnd};else e:{M=(M=b.ownerDocument)&&M.defaultView||window;var H=M.getSelection&&M.getSelection();if(H&&H.rangeCount!==0){M=H.anchorNode;var Q=H.anchorOffset,J=H.focusNode;H=H.focusOffset;try{M.nodeType,J.nodeType}catch{M=null;break e}var he=0,_e=-1,Ce=-1,Ve=0,st=0,it=b,rt=null;t:for(;;){for(var Tt;it!==M||Q!==0&&it.nodeType!==3||(_e=he+Q),it!==J||H!==0&&it.nodeType!==3||(Ce=he+H),it.nodeType===3&&(he+=it.nodeValue.length),(Tt=it.firstChild)!==null;)rt=it,it=Tt;for(;;){if(it===b)break t;if(rt===M&&++Ve===Q&&(_e=he),rt===J&&++st===H&&(Ce=he),(Tt=it.nextSibling)!==null)break;it=rt,rt=it.parentNode}it=Tt}M=_e===-1||Ce===-1?null:{start:_e,end:Ce}}else M=null}M=M||{start:0,end:0}}else M=null;for(Fx={focusedElem:b,selectionRange:M},Rd=!1,Dt=w;Dt!==null;)if(w=Dt,b=w.child,(w.subtreeFlags&1028)!==0&&b!==null)b.return=w,Dt=b;else for(;Dt!==null;){w=Dt;try{var Ot=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(Ot!==null){var $t=Ot.memoizedProps,ss=Ot.memoizedState,Oe=w.stateNode,Ee=Oe.getSnapshotBeforeUpdate(w.elementType===w.type?$t:ro(w.type,$t),ss);Oe.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var $e=w.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(ht){Zn(w,w.return,ht)}if(b=w.sibling,b!==null){b.return=w.return,Dt=b;break}Dt=w.return}return Ot=z5,z5=!1,Ot}function dp(b,w,M){var H=w.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var Q=H=H.next;do{if((Q.tag&b)===b){var J=Q.destroy;Q.destroy=void 0,J!==void 0&&jv(w,M,J)}Q=Q.next}while(Q!==H)}}function og(b,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var M=w=w.next;do{if((M.tag&b)===b){var H=M.create;M.destroy=H()}M=M.next}while(M!==w)}}function Sv(b){var w=b.ref;if(w!==null){var M=b.stateNode;switch(b.tag){case 5:b=M;break;default:b=M}typeof w=="function"?w(b):w.current=b}}function V5(b){var w=b.alternate;w!==null&&(b.alternate=null,V5(w)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(w=b.stateNode,w!==null&&(delete w[Po],delete w[ep],delete w[zx],delete w[Az],delete w[Pz])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function U5(b){return b.tag===5||b.tag===3||b.tag===4}function W5(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||U5(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Nv(b,w,M){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?M.nodeType===8?M.parentNode.insertBefore(b,w):M.insertBefore(b,w):(M.nodeType===8?(w=M.parentNode,w.insertBefore(b,M)):(w=M,w.appendChild(b)),M=M._reactRootContainer,M!=null||w.onclick!==null||(w.onclick=L0));else if(H!==4&&(b=b.child,b!==null))for(Nv(b,w,M),b=b.sibling;b!==null;)Nv(b,w,M),b=b.sibling}function Cv(b,w,M){var H=b.tag;if(H===5||H===6)b=b.stateNode,w?M.insertBefore(b,w):M.appendChild(b);else if(H!==4&&(b=b.child,b!==null))for(Cv(b,w,M),b=b.sibling;b!==null;)Cv(b,w,M),b=b.sibling}var Zs=null,no=!1;function cc(b,w,M){for(M=M.child;M!==null;)q5(b,w,M),M=M.sibling}function q5(b,w,M){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ir,M)}catch{}switch(M.tag){case 5:ma||Jd(M,w);case 6:var H=Zs,Q=no;Zs=null,cc(b,w,M),Zs=H,no=Q,Zs!==null&&(no?(b=Zs,M=M.stateNode,b.nodeType===8?b.parentNode.removeChild(M):b.removeChild(M)):Zs.removeChild(M.stateNode));break;case 18:Zs!==null&&(no?(b=Zs,M=M.stateNode,b.nodeType===8?$x(b.parentNode,M):b.nodeType===1&&$x(b,M),pu(b)):$x(Zs,M.stateNode));break;case 4:H=Zs,Q=no,Zs=M.stateNode.containerInfo,no=!0,cc(b,w,M),Zs=H,no=Q;break;case 0:case 11:case 14:case 15:if(!ma&&(H=M.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){Q=H=H.next;do{var J=Q,he=J.destroy;J=J.tag,he!==void 0&&((J&2)!==0||(J&4)!==0)&&jv(M,w,he),Q=Q.next}while(Q!==H)}cc(b,w,M);break;case 1:if(!ma&&(Jd(M,w),H=M.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=M.memoizedProps,H.state=M.memoizedState,H.componentWillUnmount()}catch(_e){Zn(M,w,_e)}cc(b,w,M);break;case 21:cc(b,w,M);break;case 22:M.mode&1?(ma=(H=ma)||M.memoizedState!==null,cc(b,w,M),ma=H):cc(b,w,M);break;default:cc(b,w,M)}}function H5(b){var w=b.updateQueue;if(w!==null){b.updateQueue=null;var M=b.stateNode;M===null&&(M=b.stateNode=new Kz),w.forEach(function(H){var Q=nV.bind(null,b,H);M.has(H)||(M.add(H),H.then(Q,Q))})}}function so(b,w){var M=w.deletions;if(M!==null)for(var H=0;H<M.length;H++){var Q=M[H];try{var J=b,he=w,_e=he;e:for(;_e!==null;){switch(_e.tag){case 5:Zs=_e.stateNode,no=!1;break e;case 3:Zs=_e.stateNode.containerInfo,no=!0;break e;case 4:Zs=_e.stateNode.containerInfo,no=!0;break e}_e=_e.return}if(Zs===null)throw Error(e(160));q5(J,he,Q),Zs=null,no=!1;var Ce=Q.alternate;Ce!==null&&(Ce.return=null),Q.return=null}catch(Ve){Zn(Q,w,Ve)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)K5(w,b),w=w.sibling}function K5(b,w){var M=b.alternate,H=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(so(w,b),Do(b),H&4){try{dp(3,b,b.return),og(3,b)}catch($t){Zn(b,b.return,$t)}try{dp(5,b,b.return)}catch($t){Zn(b,b.return,$t)}}break;case 1:so(w,b),Do(b),H&512&&M!==null&&Jd(M,M.return);break;case 5:if(so(w,b),Do(b),H&512&&M!==null&&Jd(M,M.return),b.flags&32){var Q=b.stateNode;try{qe(Q,"")}catch($t){Zn(b,b.return,$t)}}if(H&4&&(Q=b.stateNode,Q!=null)){var J=b.memoizedProps,he=M!==null?M.memoizedProps:J,_e=b.type,Ce=b.updateQueue;if(b.updateQueue=null,Ce!==null)try{_e==="input"&&J.type==="radio"&&J.name!=null&&oe(Q,J),Xe(_e,he);var Ve=Xe(_e,J);for(he=0;he<Ce.length;he+=2){var st=Ce[he],it=Ce[he+1];st==="style"?ve(Q,it):st==="dangerouslySetInnerHTML"?Ge(Q,it):st==="children"?qe(Q,it):S(Q,st,it,Ve)}switch(_e){case"input":ne(Q,J);break;case"textarea":me(Q,J);break;case"select":var rt=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!J.multiple;var Tt=J.value;Tt!=null?te(Q,!!J.multiple,Tt,!1):rt!==!!J.multiple&&(J.defaultValue!=null?te(Q,!!J.multiple,J.defaultValue,!0):te(Q,!!J.multiple,J.multiple?[]:"",!1))}Q[ep]=J}catch($t){Zn(b,b.return,$t)}}break;case 6:if(so(w,b),Do(b),H&4){if(b.stateNode===null)throw Error(e(162));Q=b.stateNode,J=b.memoizedProps;try{Q.nodeValue=J}catch($t){Zn(b,b.return,$t)}}break;case 3:if(so(w,b),Do(b),H&4&&M!==null&&M.memoizedState.isDehydrated)try{pu(w.containerInfo)}catch($t){Zn(b,b.return,$t)}break;case 4:so(w,b),Do(b);break;case 13:so(w,b),Do(b),Q=b.child,Q.flags&8192&&(J=Q.memoizedState!==null,Q.stateNode.isHidden=J,!J||Q.alternate!==null&&Q.alternate.memoizedState!==null||(Av=Te())),H&4&&H5(b);break;case 22:if(st=M!==null&&M.memoizedState!==null,b.mode&1?(ma=(Ve=ma)||st,so(w,b),ma=Ve):so(w,b),Do(b),H&8192){if(Ve=b.memoizedState!==null,(b.stateNode.isHidden=Ve)&&!st&&(b.mode&1)!==0)for(Dt=b,st=b.child;st!==null;){for(it=Dt=st;Dt!==null;){switch(rt=Dt,Tt=rt.child,rt.tag){case 0:case 11:case 14:case 15:dp(4,rt,rt.return);break;case 1:Jd(rt,rt.return);var Ot=rt.stateNode;if(typeof Ot.componentWillUnmount=="function"){H=rt,M=rt.return;try{w=H,Ot.props=w.memoizedProps,Ot.state=w.memoizedState,Ot.componentWillUnmount()}catch($t){Zn(H,M,$t)}}break;case 5:Jd(rt,rt.return);break;case 22:if(rt.memoizedState!==null){Q5(it);continue}}Tt!==null?(Tt.return=rt,Dt=Tt):Q5(it)}st=st.sibling}e:for(st=null,it=b;;){if(it.tag===5){if(st===null){st=it;try{Q=it.stateNode,Ve?(J=Q.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(_e=it.stateNode,Ce=it.memoizedProps.style,he=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,_e.style.display=ot("display",he))}catch($t){Zn(b,b.return,$t)}}}else if(it.tag===6){if(st===null)try{it.stateNode.nodeValue=Ve?"":it.memoizedProps}catch($t){Zn(b,b.return,$t)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===b)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===b)break e;for(;it.sibling===null;){if(it.return===null||it.return===b)break e;st===it&&(st=null),it=it.return}st===it&&(st=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:so(w,b),Do(b),H&4&&H5(b);break;case 21:break;default:so(w,b),Do(b)}}function Do(b){var w=b.flags;if(w&2){try{e:{for(var M=b.return;M!==null;){if(U5(M)){var H=M;break e}M=M.return}throw Error(e(160))}switch(H.tag){case 5:var Q=H.stateNode;H.flags&32&&(qe(Q,""),H.flags&=-33);var J=W5(b);Cv(b,J,Q);break;case 3:case 4:var he=H.stateNode.containerInfo,_e=W5(b);Nv(b,_e,he);break;default:throw Error(e(161))}}catch(Ce){Zn(b,b.return,Ce)}b.flags&=-3}w&4096&&(b.flags&=-4097)}function Xz(b,w,M){Dt=b,G5(b)}function G5(b,w,M){for(var H=(b.mode&1)!==0;Dt!==null;){var Q=Dt,J=Q.child;if(Q.tag===22&&H){var he=Q.memoizedState!==null||ig;if(!he){var _e=Q.alternate,Ce=_e!==null&&_e.memoizedState!==null||ma;_e=ig;var Ve=ma;if(ig=he,(ma=Ce)&&!Ve)for(Dt=Q;Dt!==null;)he=Dt,Ce=he.child,he.tag===22&&he.memoizedState!==null?Y5(Q):Ce!==null?(Ce.return=he,Dt=Ce):Y5(Q);for(;J!==null;)Dt=J,G5(J),J=J.sibling;Dt=Q,ig=_e,ma=Ve}X5(b)}else(Q.subtreeFlags&8772)!==0&&J!==null?(J.return=Q,Dt=J):X5(b)}}function X5(b){for(;Dt!==null;){var w=Dt;if((w.flags&8772)!==0){var M=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:ma||og(5,w);break;case 1:var H=w.stateNode;if(w.flags&4&&!ma)if(M===null)H.componentDidMount();else{var Q=w.elementType===w.type?M.memoizedProps:ro(w.type,M.memoizedProps);H.componentDidUpdate(Q,M.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var J=w.updateQueue;J!==null&&Qk(w,J,H);break;case 3:var he=w.updateQueue;if(he!==null){if(M=null,w.child!==null)switch(w.child.tag){case 5:M=w.child.stateNode;break;case 1:M=w.child.stateNode}Qk(w,he,M)}break;case 5:var _e=w.stateNode;if(M===null&&w.flags&4){M=_e;var Ce=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&M.focus();break;case"img":Ce.src&&(M.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var Ve=w.alternate;if(Ve!==null){var st=Ve.memoizedState;if(st!==null){var it=st.dehydrated;it!==null&&pu(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ma||w.flags&512&&Sv(w)}catch(rt){Zn(w,w.return,rt)}}if(w===b){Dt=null;break}if(M=w.sibling,M!==null){M.return=w.return,Dt=M;break}Dt=w.return}}function Q5(b){for(;Dt!==null;){var w=Dt;if(w===b){Dt=null;break}var M=w.sibling;if(M!==null){M.return=w.return,Dt=M;break}Dt=w.return}}function Y5(b){for(;Dt!==null;){var w=Dt;try{switch(w.tag){case 0:case 11:case 15:var M=w.return;try{og(4,w)}catch(Ce){Zn(w,M,Ce)}break;case 1:var H=w.stateNode;if(typeof H.componentDidMount=="function"){var Q=w.return;try{H.componentDidMount()}catch(Ce){Zn(w,Q,Ce)}}var J=w.return;try{Sv(w)}catch(Ce){Zn(w,J,Ce)}break;case 5:var he=w.return;try{Sv(w)}catch(Ce){Zn(w,he,Ce)}}}catch(Ce){Zn(w,w.return,Ce)}if(w===b){Dt=null;break}var _e=w.sibling;if(_e!==null){_e.return=w.return,Dt=_e;break}Dt=w.return}}var Qz=Math.ceil,lg=C.ReactCurrentDispatcher,Tv=C.ReactCurrentOwner,Di=C.ReactCurrentBatchConfig,nn=0,Bs=null,hs=null,Js=0,pi=0,ef=sc(0),Cs=0,fp=null,ju=0,cg=0,Ev=0,hp=null,Xa=null,Av=0,tf=1/0,xl=null,ug=!1,Pv=null,uc=null,dg=!1,dc=null,fg=0,pp=0,Mv=null,hg=-1,pg=0;function Ea(){return(nn&6)!==0?Te():hg!==-1?hg:hg=Te()}function fc(b){return(b.mode&1)===0?1:(nn&2)!==0&&Js!==0?Js&-Js:Rz.transition!==null?(pg===0&&(pg=qr()),pg):(b=yr,b!==0||(b=window.event,b=b===void 0?16:Le(b.type)),b)}function ao(b,w,M,H){if(50<pp)throw pp=0,Mv=null,Error(e(185));Fs(b,M,H),((nn&2)===0||b!==Bs)&&(b===Bs&&((nn&2)===0&&(cg|=M),Cs===4&&hc(b,Js)),Qa(b,H),M===1&&nn===0&&(w.mode&1)===0&&(tf=Te()+500,V0&&ic()))}function Qa(b,w){var M=b.callbackNode;Wa(b,w);var H=Yn(b,b===Bs?Js:0);if(H===0)M!==null&&an(M),b.callbackNode=null,b.callbackPriority=0;else if(w=H&-H,b.callbackPriority!==w){if(M!=null&&an(M),w===1)b.tag===0?Mz(J5.bind(null,b)):Lk(J5.bind(null,b)),Tz(function(){(nn&6)===0&&ic()}),M=null;else{switch(Ss(H)){case 1:M=Ye;break;case 4:M=Rt;break;case 16:M=lt;break;case 536870912:M=Mr;break;default:M=lt}M=oj(M,Z5.bind(null,b))}b.callbackPriority=w,b.callbackNode=M}}function Z5(b,w){if(hg=-1,pg=0,(nn&6)!==0)throw Error(e(327));var M=b.callbackNode;if(rf()&&b.callbackNode!==M)return null;var H=Yn(b,b===Bs?Js:0);if(H===0)return null;if((H&30)!==0||(H&b.expiredLanes)!==0||w)w=mg(b,H);else{w=H;var Q=nn;nn|=2;var J=tj();(Bs!==b||Js!==w)&&(xl=null,tf=Te()+500,Nu(b,w));do try{Jz();break}catch(_e){ej(b,_e)}while(!0);Qx(),lg.current=J,nn=Q,hs!==null?w=0:(Bs=null,Js=0,w=Cs)}if(w!==0){if(w===2&&(Q=fs(b),Q!==0&&(H=Q,w=Rv(b,Q))),w===1)throw M=fp,Nu(b,0),hc(b,H),Qa(b,Te()),M;if(w===6)hc(b,H);else{if(Q=b.current.alternate,(H&30)===0&&!Yz(Q)&&(w=mg(b,H),w===2&&(J=fs(b),J!==0&&(H=J,w=Rv(b,J))),w===1))throw M=fp,Nu(b,0),hc(b,H),Qa(b,Te()),M;switch(b.finishedWork=Q,b.finishedLanes=H,w){case 0:case 1:throw Error(e(345));case 2:Cu(b,Xa,xl);break;case 3:if(hc(b,H),(H&130023424)===H&&(w=Av+500-Te(),10<w)){if(Yn(b,0)!==0)break;if(Q=b.suspendedLanes,(Q&H)!==H){Ea(),b.pingedLanes|=b.suspendedLanes&Q;break}b.timeoutHandle=Bx(Cu.bind(null,b,Xa,xl),w);break}Cu(b,Xa,xl);break;case 4:if(hc(b,H),(H&4194240)===H)break;for(w=b.eventTimes,Q=-1;0<H;){var he=31-or(H);J=1<<he,he=w[he],he>Q&&(Q=he),H&=~J}if(H=Q,H=Te()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*Qz(H/1960))-H,10<H){b.timeoutHandle=Bx(Cu.bind(null,b,Xa,xl),H);break}Cu(b,Xa,xl);break;case 5:Cu(b,Xa,xl);break;default:throw Error(e(329))}}}return Qa(b,Te()),b.callbackNode===M?Z5.bind(null,b):null}function Rv(b,w){var M=hp;return b.current.memoizedState.isDehydrated&&(Nu(b,w).flags|=256),b=mg(b,w),b!==2&&(w=Xa,Xa=M,w!==null&&Dv(w)),b}function Dv(b){Xa===null?Xa=b:Xa.push.apply(Xa,b)}function Yz(b){for(var w=b;;){if(w.flags&16384){var M=w.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var H=0;H<M.length;H++){var Q=M[H],J=Q.getSnapshot;Q=Q.value;try{if(!eo(J(),Q))return!1}catch{return!1}}}if(M=w.child,w.subtreeFlags&16384&&M!==null)M.return=w,w=M;else{if(w===b)break;for(;w.sibling===null;){if(w.return===null||w.return===b)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function hc(b,w){for(w&=~Ev,w&=~cg,b.suspendedLanes|=w,b.pingedLanes&=~w,b=b.expirationTimes;0<w;){var M=31-or(w),H=1<<M;b[M]=-1,w&=~H}}function J5(b){if((nn&6)!==0)throw Error(e(327));rf();var w=Yn(b,0);if((w&1)===0)return Qa(b,Te()),null;var M=mg(b,w);if(b.tag!==0&&M===2){var H=fs(b);H!==0&&(w=H,M=Rv(b,H))}if(M===1)throw M=fp,Nu(b,0),hc(b,w),Qa(b,Te()),M;if(M===6)throw Error(e(345));return b.finishedWork=b.current.alternate,b.finishedLanes=w,Cu(b,Xa,xl),Qa(b,Te()),null}function Iv(b,w){var M=nn;nn|=1;try{return b(w)}finally{nn=M,nn===0&&(tf=Te()+500,V0&&ic())}}function Su(b){dc!==null&&dc.tag===0&&(nn&6)===0&&rf();var w=nn;nn|=1;var M=Di.transition,H=yr;try{if(Di.transition=null,yr=1,b)return b()}finally{yr=H,Di.transition=M,nn=w,(nn&6)===0&&ic()}}function Ov(){pi=ef.current,An(ef)}function Nu(b,w){b.finishedWork=null,b.finishedLanes=0;var M=b.timeoutHandle;if(M!==-1&&(b.timeoutHandle=-1,Cz(M)),hs!==null)for(M=hs.return;M!==null;){var H=M;switch(qx(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&$0();break;case 3:Yd(),An(Ha),An(fa),sv();break;case 5:rv(H);break;case 4:Yd();break;case 13:An(zn);break;case 19:An(zn);break;case 10:Yx(H.type._context);break;case 22:case 23:Ov()}M=M.return}if(Bs=b,hs=b=pc(b.current,null),Js=pi=w,Cs=0,fp=null,Ev=cg=ju=0,Xa=hp=null,wu!==null){for(w=0;w<wu.length;w++)if(M=wu[w],H=M.interleaved,H!==null){M.interleaved=null;var Q=H.next,J=M.pending;if(J!==null){var he=J.next;J.next=Q,H.next=he}M.pending=H}wu=null}return b}function ej(b,w){do{var M=hs;try{if(Qx(),Z0.current=rg,J0){for(var H=Vn.memoizedState;H!==null;){var Q=H.queue;Q!==null&&(Q.pending=null),H=H.next}J0=!1}if(ku=0,Ls=Ns=Vn=null,ip=!1,op=0,Tv.current=null,M===null||M.return===null){Cs=1,fp=w,hs=null;break}e:{var J=b,he=M.return,_e=M,Ce=w;if(w=Js,_e.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ve=Ce,st=_e,it=st.tag;if((st.mode&1)===0&&(it===0||it===11||it===15)){var rt=st.alternate;rt?(st.updateQueue=rt.updateQueue,st.memoizedState=rt.memoizedState,st.lanes=rt.lanes):(st.updateQueue=null,st.memoizedState=null)}var Tt=S5(he);if(Tt!==null){Tt.flags&=-257,N5(Tt,he,_e,J,w),Tt.mode&1&&j5(J,Ve,w),w=Tt,Ce=Ve;var Ot=w.updateQueue;if(Ot===null){var $t=new Set;$t.add(Ce),w.updateQueue=$t}else Ot.add(Ce);break e}else{if((w&1)===0){j5(J,Ve,w),Fv();break e}Ce=Error(e(426))}}else if(In&&_e.mode&1){var ss=S5(he);if(ss!==null){(ss.flags&65536)===0&&(ss.flags|=256),N5(ss,he,_e,J,w),Gx(Zd(Ce,_e));break e}}J=Ce=Zd(Ce,_e),Cs!==4&&(Cs=2),hp===null?hp=[J]:hp.push(J),J=he;do{switch(J.tag){case 3:J.flags|=65536,w&=-w,J.lanes|=w;var Oe=_5(J,Ce,w);Xk(J,Oe);break e;case 1:_e=Ce;var Ee=J.type,$e=J.stateNode;if((J.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(uc===null||!uc.has($e)))){J.flags|=65536,w&=-w,J.lanes|=w;var ht=k5(J,_e,w);Xk(J,ht);break e}}J=J.return}while(J!==null)}nj(M)}catch(Wt){w=Wt,hs===M&&M!==null&&(hs=M=M.return);continue}break}while(!0)}function tj(){var b=lg.current;return lg.current=rg,b===null?rg:b}function Fv(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),Bs===null||(ju&268435455)===0&&(cg&268435455)===0||hc(Bs,Js)}function mg(b,w){var M=nn;nn|=2;var H=tj();(Bs!==b||Js!==w)&&(xl=null,Nu(b,w));do try{Zz();break}catch(Q){ej(b,Q)}while(!0);if(Qx(),nn=M,lg.current=H,hs!==null)throw Error(e(261));return Bs=null,Js=0,Cs}function Zz(){for(;hs!==null;)rj(hs)}function Jz(){for(;hs!==null&&!Qn();)rj(hs)}function rj(b){var w=ij(b.alternate,b,pi);b.memoizedProps=b.pendingProps,w===null?nj(b):hs=w,Tv.current=null}function nj(b){var w=b;do{var M=w.alternate;if(b=w.return,(w.flags&32768)===0){if(M=qz(M,w,pi),M!==null){hs=M;return}}else{if(M=Hz(M,w),M!==null){M.flags&=32767,hs=M;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Cs=6,hs=null;return}}if(w=w.sibling,w!==null){hs=w;return}hs=w=b}while(w!==null);Cs===0&&(Cs=5)}function Cu(b,w,M){var H=yr,Q=Di.transition;try{Di.transition=null,yr=1,eV(b,w,M,H)}finally{Di.transition=Q,yr=H}return null}function eV(b,w,M,H){do rf();while(dc!==null);if((nn&6)!==0)throw Error(e(327));M=b.finishedWork;var Q=b.finishedLanes;if(M===null)return null;if(b.finishedWork=null,b.finishedLanes=0,M===b.current)throw Error(e(177));b.callbackNode=null,b.callbackPriority=0;var J=M.lanes|M.childLanes;if(oi(b,J),b===Bs&&(hs=Bs=null,Js=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||dg||(dg=!0,oj(lt,function(){return rf(),null})),J=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||J){J=Di.transition,Di.transition=null;var he=yr;yr=1;var _e=nn;nn|=4,Tv.current=null,Gz(b,M),K5(M,b),vz(Fx),Rd=!!Ox,Fx=Ox=null,b.current=M,Xz(M),ye(),nn=_e,yr=he,Di.transition=J}else b.current=M;if(dg&&(dg=!1,dc=b,fg=Q),J=b.pendingLanes,J===0&&(uc=null),Ft(M.stateNode),Qa(b,Te()),w!==null)for(H=b.onRecoverableError,M=0;M<w.length;M++)Q=w[M],H(Q.value,{componentStack:Q.stack,digest:Q.digest});if(ug)throw ug=!1,b=Pv,Pv=null,b;return(fg&1)!==0&&b.tag!==0&&rf(),J=b.pendingLanes,(J&1)!==0?b===Mv?pp++:(pp=0,Mv=b):pp=0,ic(),null}function rf(){if(dc!==null){var b=Ss(fg),w=Di.transition,M=yr;try{if(Di.transition=null,yr=16>b?16:b,dc===null)var H=!1;else{if(b=dc,dc=null,fg=0,(nn&6)!==0)throw Error(e(331));var Q=nn;for(nn|=4,Dt=b.current;Dt!==null;){var J=Dt,he=J.child;if((Dt.flags&16)!==0){var _e=J.deletions;if(_e!==null){for(var Ce=0;Ce<_e.length;Ce++){var Ve=_e[Ce];for(Dt=Ve;Dt!==null;){var st=Dt;switch(st.tag){case 0:case 11:case 15:dp(8,st,J)}var it=st.child;if(it!==null)it.return=st,Dt=it;else for(;Dt!==null;){st=Dt;var rt=st.sibling,Tt=st.return;if(V5(st),st===Ve){Dt=null;break}if(rt!==null){rt.return=Tt,Dt=rt;break}Dt=Tt}}}var Ot=J.alternate;if(Ot!==null){var $t=Ot.child;if($t!==null){Ot.child=null;do{var ss=$t.sibling;$t.sibling=null,$t=ss}while($t!==null)}}Dt=J}}if((J.subtreeFlags&2064)!==0&&he!==null)he.return=J,Dt=he;else e:for(;Dt!==null;){if(J=Dt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:dp(9,J,J.return)}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,Dt=Oe;break e}Dt=J.return}}var Ee=b.current;for(Dt=Ee;Dt!==null;){he=Dt;var $e=he.child;if((he.subtreeFlags&2064)!==0&&$e!==null)$e.return=he,Dt=$e;else e:for(he=Ee;Dt!==null;){if(_e=Dt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:og(9,_e)}}catch(Wt){Zn(_e,_e.return,Wt)}if(_e===he){Dt=null;break e}var ht=_e.sibling;if(ht!==null){ht.return=_e.return,Dt=ht;break e}Dt=_e.return}}if(nn=Q,ic(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ir,b)}catch{}H=!0}return H}finally{yr=M,Di.transition=w}}return!1}function sj(b,w,M){w=Zd(M,w),w=_5(b,w,1),b=lc(b,w,1),w=Ea(),b!==null&&(Fs(b,1,w),Qa(b,w))}function Zn(b,w,M){if(b.tag===3)sj(b,b,M);else for(;w!==null;){if(w.tag===3){sj(w,b,M);break}else if(w.tag===1){var H=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(uc===null||!uc.has(H))){b=Zd(M,b),b=k5(w,b,1),w=lc(w,b,1),b=Ea(),w!==null&&(Fs(w,1,b),Qa(w,b));break}}w=w.return}}function tV(b,w,M){var H=b.pingCache;H!==null&&H.delete(w),w=Ea(),b.pingedLanes|=b.suspendedLanes&M,Bs===b&&(Js&M)===M&&(Cs===4||Cs===3&&(Js&130023424)===Js&&500>Te()-Av?Nu(b,0):Ev|=M),Qa(b,w)}function aj(b,w){w===0&&((b.mode&1)===0?w=1:(w=fn,fn<<=1,(fn&130023424)===0&&(fn=4194304)));var M=Ea();b=gl(b,w),b!==null&&(Fs(b,w,M),Qa(b,M))}function rV(b){var w=b.memoizedState,M=0;w!==null&&(M=w.retryLane),aj(b,M)}function nV(b,w){var M=0;switch(b.tag){case 13:var H=b.stateNode,Q=b.memoizedState;Q!==null&&(M=Q.retryLane);break;case 19:H=b.stateNode;break;default:throw Error(e(314))}H!==null&&H.delete(w),aj(b,M)}var ij;ij=function(b,w,M){if(b!==null)if(b.memoizedProps!==w.pendingProps||Ha.current)Ga=!0;else{if((b.lanes&M)===0&&(w.flags&128)===0)return Ga=!1,Wz(b,w,M);Ga=(b.flags&131072)!==0}else Ga=!1,In&&(w.flags&1048576)!==0&&Bk(w,W0,w.index);switch(w.lanes=0,w.tag){case 2:var H=w.type;ag(b,w),b=w.pendingProps;var Q=Wd(w,fa.current);Qd(w,M),Q=ov(null,w,H,b,Q,M);var J=lv();return w.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,Ka(H)?(J=!0,z0(w)):J=!1,w.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,ev(w),Q.updater=ng,w.stateNode=Q,Q._reactInternals=w,pv(w,H,b,M),w=bv(null,w,H,!0,J,M)):(w.tag=0,In&&J&&Wx(w),Ta(null,w,Q,M),w=w.child),w;case 16:H=w.elementType;e:{switch(ag(b,w),b=w.pendingProps,Q=H._init,H=Q(H._payload),w.type=H,Q=w.tag=aV(H),b=ro(H,b),Q){case 0:w=yv(null,w,H,b,M);break e;case 1:w=M5(null,w,H,b,M);break e;case 11:w=C5(null,w,H,b,M);break e;case 14:w=T5(null,w,H,ro(H.type,b),M);break e}throw Error(e(306,H,""))}return w;case 0:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ro(H,Q),yv(b,w,H,Q,M);case 1:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ro(H,Q),M5(b,w,H,Q,M);case 3:e:{if(R5(w),b===null)throw Error(e(387));H=w.pendingProps,J=w.memoizedState,Q=J.element,Gk(b,w),Q0(w,H,null,M);var he=w.memoizedState;if(H=he.element,J.isDehydrated)if(J={element:H,isDehydrated:!1,cache:he.cache,pendingSuspenseBoundaries:he.pendingSuspenseBoundaries,transitions:he.transitions},w.updateQueue.baseState=J,w.memoizedState=J,w.flags&256){Q=Zd(Error(e(423)),w),w=D5(b,w,H,M,Q);break e}else if(H!==Q){Q=Zd(Error(e(424)),w),w=D5(b,w,H,M,Q);break e}else for(hi=nc(w.stateNode.containerInfo.firstChild),fi=w,In=!0,to=null,M=Hk(w,null,H,M),w.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Kd(),H===Q){w=bl(b,w,M);break e}Ta(b,w,H,M)}w=w.child}return w;case 5:return Yk(w),b===null&&Kx(w),H=w.type,Q=w.pendingProps,J=b!==null?b.memoizedProps:null,he=Q.children,Lx(H,Q)?he=null:J!==null&&Lx(H,J)&&(w.flags|=32),P5(b,w),Ta(b,w,he,M),w.child;case 6:return b===null&&Kx(w),null;case 13:return I5(b,w,M);case 4:return tv(w,w.stateNode.containerInfo),H=w.pendingProps,b===null?w.child=Gd(w,null,H,M):Ta(b,w,H,M),w.child;case 11:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ro(H,Q),C5(b,w,H,Q,M);case 7:return Ta(b,w,w.pendingProps,M),w.child;case 8:return Ta(b,w,w.pendingProps.children,M),w.child;case 12:return Ta(b,w,w.pendingProps.children,M),w.child;case 10:e:{if(H=w.type._context,Q=w.pendingProps,J=w.memoizedProps,he=Q.value,Cn(K0,H._currentValue),H._currentValue=he,J!==null)if(eo(J.value,he)){if(J.children===Q.children&&!Ha.current){w=bl(b,w,M);break e}}else for(J=w.child,J!==null&&(J.return=w);J!==null;){var _e=J.dependencies;if(_e!==null){he=J.child;for(var Ce=_e.firstContext;Ce!==null;){if(Ce.context===H){if(J.tag===1){Ce=yl(-1,M&-M),Ce.tag=2;var Ve=J.updateQueue;if(Ve!==null){Ve=Ve.shared;var st=Ve.pending;st===null?Ce.next=Ce:(Ce.next=st.next,st.next=Ce),Ve.pending=Ce}}J.lanes|=M,Ce=J.alternate,Ce!==null&&(Ce.lanes|=M),Zx(J.return,M,w),_e.lanes|=M;break}Ce=Ce.next}}else if(J.tag===10)he=J.type===w.type?null:J.child;else if(J.tag===18){if(he=J.return,he===null)throw Error(e(341));he.lanes|=M,_e=he.alternate,_e!==null&&(_e.lanes|=M),Zx(he,M,w),he=J.sibling}else he=J.child;if(he!==null)he.return=J;else for(he=J;he!==null;){if(he===w){he=null;break}if(J=he.sibling,J!==null){J.return=he.return,he=J;break}he=he.return}J=he}Ta(b,w,Q.children,M),w=w.child}return w;case 9:return Q=w.type,H=w.pendingProps.children,Qd(w,M),Q=Mi(Q),H=H(Q),w.flags|=1,Ta(b,w,H,M),w.child;case 14:return H=w.type,Q=ro(H,w.pendingProps),Q=ro(H.type,Q),T5(b,w,H,Q,M);case 15:return E5(b,w,w.type,w.pendingProps,M);case 17:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ro(H,Q),ag(b,w),w.tag=1,Ka(H)?(b=!0,z0(w)):b=!1,Qd(w,M),v5(w,H,Q),pv(w,H,Q,M),bv(null,w,H,!0,b,M);case 19:return F5(b,w,M);case 22:return A5(b,w,M)}throw Error(e(156,w.tag))};function oj(b,w){return gr(b,w)}function sV(b,w,M,H){this.tag=b,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(b,w,M,H){return new sV(b,w,M,H)}function Lv(b){return b=b.prototype,!(!b||!b.isReactComponent)}function aV(b){if(typeof b=="function")return Lv(b)?1:0;if(b!=null){if(b=b.$$typeof,b===W)return 11;if(b===T)return 14}return 2}function pc(b,w){var M=b.alternate;return M===null?(M=Ii(b.tag,w,b.key,b.mode),M.elementType=b.elementType,M.type=b.type,M.stateNode=b.stateNode,M.alternate=b,b.alternate=M):(M.pendingProps=w,M.type=b.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=b.flags&14680064,M.childLanes=b.childLanes,M.lanes=b.lanes,M.child=b.child,M.memoizedProps=b.memoizedProps,M.memoizedState=b.memoizedState,M.updateQueue=b.updateQueue,w=b.dependencies,M.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},M.sibling=b.sibling,M.index=b.index,M.ref=b.ref,M}function gg(b,w,M,H,Q,J){var he=2;if(H=b,typeof b=="function")Lv(b)&&(he=1);else if(typeof b=="string")he=5;else e:switch(b){case q:return Tu(M.children,Q,J,w);case D:he=8,Q|=8;break;case I:return b=Ii(12,M,w,Q|2),b.elementType=I,b.lanes=J,b;case P:return b=Ii(13,M,w,Q),b.elementType=P,b.lanes=J,b;case L:return b=Ii(19,M,w,Q),b.elementType=L,b.lanes=J,b;case k:return yg(M,Q,J,w);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case U:he=10;break e;case K:he=9;break e;case W:he=11;break e;case T:he=14;break e;case _:he=16,H=null;break e}throw Error(e(130,b==null?b:typeof b,""))}return w=Ii(he,M,w,Q),w.elementType=b,w.type=H,w.lanes=J,w}function Tu(b,w,M,H){return b=Ii(7,b,H,w),b.lanes=M,b}function yg(b,w,M,H){return b=Ii(22,b,H,w),b.elementType=k,b.lanes=M,b.stateNode={isHidden:!1},b}function Bv(b,w,M){return b=Ii(6,b,null,w),b.lanes=M,b}function $v(b,w,M){return w=Ii(4,b.children!==null?b.children:[],b.key,w),w.lanes=M,w.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},w}function iV(b,w,M,H,Q){this.tag=w,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=H,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function zv(b,w,M,H,Q,J,he,_e,Ce){return b=new iV(b,w,M,_e,Ce),w===1?(w=1,J===!0&&(w|=8)):w=0,J=Ii(3,null,null,w),b.current=J,J.stateNode=b,J.memoizedState={element:H,isDehydrated:M,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(J),b}function oV(b,w,M){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:H==null?null:""+H,children:b,containerInfo:w,implementation:M}}function lj(b){if(!b)return ac;b=b._reactInternals;e:{if(St(b)!==b||b.tag!==1)throw Error(e(170));var w=b;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(Ka(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(e(171))}if(b.tag===1){var M=b.type;if(Ka(M))return Ok(b,M,w)}return w}function cj(b,w,M,H,Q,J,he,_e,Ce){return b=zv(M,H,!0,b,Q,J,he,_e,Ce),b.context=lj(null),M=b.current,H=Ea(),Q=fc(M),J=yl(H,Q),J.callback=w??null,lc(M,J,Q),b.current.lanes=Q,Fs(b,Q,H),Qa(b,H),b}function bg(b,w,M,H){var Q=w.current,J=Ea(),he=fc(Q);return M=lj(M),w.context===null?w.context=M:w.pendingContext=M,w=yl(J,he),w.payload={element:b},H=H===void 0?null:H,H!==null&&(w.callback=H),b=lc(Q,w,he),b!==null&&(ao(b,Q,he,J),X0(b,Q,he)),he}function xg(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function uj(b,w){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var M=b.retryLane;b.retryLane=M!==0&&M<w?M:w}}function Vv(b,w){uj(b,w),(b=b.alternate)&&uj(b,w)}function lV(){return null}var dj=typeof reportError=="function"?reportError:function(b){console.error(b)};function Uv(b){this._internalRoot=b}vg.prototype.render=Uv.prototype.render=function(b){var w=this._internalRoot;if(w===null)throw Error(e(409));bg(b,w,null,null)},vg.prototype.unmount=Uv.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var w=b.containerInfo;Su(function(){bg(null,b,null,null)}),w[fl]=null}};function vg(b){this._internalRoot=b}vg.prototype.unstable_scheduleHydration=function(b){if(b){var w=ci();b={blockedOn:null,target:b,priority:w};for(var M=0;M<Qs.length&&w!==0&&w<Qs[M].priority;M++);Qs.splice(M,0,b),M===0&&Vh(b)}};function Wv(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function wg(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function fj(){}function cV(b,w,M,H,Q){if(Q){if(typeof H=="function"){var J=H;H=function(){var Ve=xg(he);J.call(Ve)}}var he=cj(w,H,b,0,null,!1,!1,"",fj);return b._reactRootContainer=he,b[fl]=he.current,Zh(b.nodeType===8?b.parentNode:b),Su(),he}for(;Q=b.lastChild;)b.removeChild(Q);if(typeof H=="function"){var _e=H;H=function(){var Ve=xg(Ce);_e.call(Ve)}}var Ce=zv(b,0,!1,null,null,!1,!1,"",fj);return b._reactRootContainer=Ce,b[fl]=Ce.current,Zh(b.nodeType===8?b.parentNode:b),Su(function(){bg(w,Ce,M,H)}),Ce}function _g(b,w,M,H,Q){var J=M._reactRootContainer;if(J){var he=J;if(typeof Q=="function"){var _e=Q;Q=function(){var Ce=xg(he);_e.call(Ce)}}bg(w,he,b,Q)}else he=cV(M,w,b,Q,H);return xg(he)}ja=function(b){switch(b.tag){case 3:var w=b.stateNode;if(w.current.memoizedState.isDehydrated){var M=Sn(w.pendingLanes);M!==0&&(Ci(w,M|1),Qa(w,Te()),(nn&6)===0&&(tf=Te()+500,ic()))}break;case 13:Su(function(){var H=gl(b,1);if(H!==null){var Q=Ea();ao(H,b,1,Q)}}),Vv(b,1)}},li=function(b){if(b.tag===13){var w=gl(b,134217728);if(w!==null){var M=Ea();ao(w,b,134217728,M)}Vv(b,134217728)}},Ji=function(b){if(b.tag===13){var w=fc(b),M=gl(b,w);if(M!==null){var H=Ea();ao(M,b,w,H)}Vv(b,w)}},ci=function(){return yr},Sa=function(b,w){var M=yr;try{return yr=b,w()}finally{yr=M}},_t=function(b,w,M){switch(w){case"input":if(ne(b,M),w=M.name,M.type==="radio"&&w!=null){for(M=b;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<M.length;w++){var H=M[w];if(H!==b&&H.form===b.form){var Q=B0(H);if(!Q)throw Error(e(90));pe(H),ne(H,Q)}}}break;case"textarea":me(b,M);break;case"select":w=M.value,w!=null&&te(b,!!M.multiple,w,!1)}},Lt=Iv,Cr=Su;var uV={usingClientEntryPoint:!1,Events:[tp,Vd,B0,Mt,Nr,Iv]},mp={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dV={bundleType:mp.bundleType,version:mp.version,rendererPackageName:mp.rendererPackageName,rendererConfig:mp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=bt(b),b===null?null:b.stateNode},findFiberByHostInstance:mp.findFiberByHostInstance||lV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kg.isDisabled&&kg.supportsFiber)try{ir=kg.inject(dV),Ut=kg}catch{}}return Ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uV,Ya.createPortal=function(b,w){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(w))throw Error(e(200));return oV(b,w,null,M)},Ya.createRoot=function(b,w){if(!Wv(b))throw Error(e(299));var M=!1,H="",Q=dj;return w!=null&&(w.unstable_strictMode===!0&&(M=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(Q=w.onRecoverableError)),w=zv(b,1,!1,null,null,M,!1,H,Q),b[fl]=w.current,Zh(b.nodeType===8?b.parentNode:b),new Uv(w)},Ya.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var w=b._reactInternals;if(w===void 0)throw typeof b.render=="function"?Error(e(188)):(b=Object.keys(b).join(","),Error(e(268,b)));return b=bt(w),b=b===null?null:b.stateNode,b},Ya.flushSync=function(b){return Su(b)},Ya.hydrate=function(b,w,M){if(!wg(w))throw Error(e(200));return _g(null,b,w,!0,M)},Ya.hydrateRoot=function(b,w,M){if(!Wv(b))throw Error(e(405));var H=M!=null&&M.hydratedSources||null,Q=!1,J="",he=dj;if(M!=null&&(M.unstable_strictMode===!0&&(Q=!0),M.identifierPrefix!==void 0&&(J=M.identifierPrefix),M.onRecoverableError!==void 0&&(he=M.onRecoverableError)),w=cj(w,null,b,1,M??null,Q,!1,J,he),b[fl]=w.current,Zh(b),H)for(b=0;b<H.length;b++)M=H[b],Q=M._getVersion,Q=Q(M._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[M,Q]:w.mutableSourceEagerHydrationData.push(M,Q);return new vg(w)},Ya.render=function(b,w,M){if(!wg(w))throw Error(e(200));return _g(null,b,w,!1,M)},Ya.unmountComponentAtNode=function(b){if(!wg(b))throw Error(e(40));return b._reactRootContainer?(Su(function(){_g(null,null,b,!1,function(){b._reactRootContainer=null,b[fl]=null})}),!0):!1},Ya.unstable_batchedUpdates=Iv,Ya.unstable_renderSubtreeIntoContainer=function(b,w,M,H){if(!wg(M))throw Error(e(200));if(b==null||b._reactInternals===void 0)throw Error(e(38));return _g(b,w,M,!1,H)},Ya.version="18.3.1-next-f1338f8080-20240426",Ya}var wj;function V9(){if(wj)return Gv.exports;wj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Gv.exports=vV(),Gv.exports}var _j;function wV(){if(_j)return Sg;_j=1;var t=V9();return Sg.createRoot=t.createRoot,Sg.hydrateRoot=t.hydrateRoot,Sg}var _V=wV();const kV="modulepreload",jV=function(t){return"/"+t},kj={},mn=function(r,e,n){let s=Promise.resolve();if(e&&e.length>0){let o=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=o(e.map(l=>{if(l=jV(l),l in kj)return;kj[l]=!0;const d=l.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":kV,d||(f.as="script"),f.crossOrigin="",f.href=l,u&&f.setAttribute("nonce",u),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return r().catch(i)})},mw=(t,r)=>r.some(e=>t instanceof e);let jj,Sj;function SV(){return jj||(jj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NV(){return Sj||(Sj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,Yv=new WeakMap,yb=new WeakMap;function CV(t){const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(ed(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return yb.set(r,t),r}function TV(t){if(gw.has(t))return;const r=new Promise((e,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gw.set(t,r)}let yw={get(t,r,e){if(t instanceof IDBTransaction){if(r==="done")return gw.get(t);if(r==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ed(t[r])},set(t,r,e){return t[r]=e,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function U9(t){yw=t(yw)}function EV(t){return NV().includes(t)?function(...r){return t.apply(bw(this),r),ed(this.request)}:function(...r){return ed(t.apply(bw(this),r))}}function AV(t){return typeof t=="function"?EV(t):(t instanceof IDBTransaction&&TV(t),mw(t,SV())?new Proxy(t,yw):t)}function ed(t){if(t instanceof IDBRequest)return CV(t);if(Yv.has(t))return Yv.get(t);const r=AV(t);return r!==t&&(Yv.set(t,r),yb.set(r,t)),r}const bw=t=>yb.get(t);function PV(t,r,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,r),c=ed(o);return n&&o.addEventListener("upgradeneeded",u=>{n(ed(o.result),u.oldVersion,u.newVersion,ed(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}const MV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],Zv=new Map;function Nj(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(Zv.get(r))return Zv.get(r);const e=r.replace(/FromIndex$/,""),n=r!==e,s=RV.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||MV.includes(e)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(c.shift())),(await Promise.all([l[e](...c),s&&u.done]))[0]};return Zv.set(r,i),i}U9(t=>({...t,get:(r,e,n)=>Nj(r,e)||t.get(r,e,n),has:(r,e)=>!!Nj(r,e)||t.has(r,e)}));const DV=["continue","continuePrimaryKey","advance"],Cj={},xw=new WeakMap,W9=new WeakMap,IV={get(t,r){if(!DV.includes(r))return t[r];let e=Cj[r];return e||(e=Cj[r]=function(...n){xw.set(this,W9.get(this)[r](...n))}),e}};async function*OV(...t){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...t)),!r)return;r=r;const e=new Proxy(r,IV);for(W9.set(e,r),yb.set(e,bw(r));r;)yield e,r=await(xw.get(e)||r.continue()),xw.delete(e)}function Tj(t,r){return r===Symbol.asyncIterator&&mw(t,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&mw(t,[IDBIndex,IDBObjectStore])}U9(t=>({...t,get(r,e,n){return Tj(r,e)?OV:t.get(r,e,n)},has(r,e){return Tj(r,e)||t.has(r,e)}}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var qf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(qf||(qf={}));class Jv extends Error{constructor(r,e,n){super(r),this.message=r,this.code=e,this.data=n}}const FV=t=>{var r,e;return t?.androidBridge?"android":!((e=(r=t?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||e===void 0)&&e.bridge?"ios":"web"},LV=t=>{const r=t.CapacitorCustomPlatform||null,e=t.Capacitor||{},n=e.Plugins=e.Plugins||{},s=()=>r!==null?r.name:FV(t),i=()=>s()!=="web",o=p=>{const f=l.get(p);return!!(f?.platforms.has(s())||c(p))},c=p=>{var f;return(f=e.PluginHeaders)===null||f===void 0?void 0:f.find(h=>h.name===p)},u=p=>t.console.error(p),l=new Map,d=(p,f={})=>{const h=l.get(p);if(h)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),h.proxy;const g=s(),y=c(p);let m;const v=async()=>(!m&&g in f?m=typeof f[g]=="function"?m=await f[g]():m=f[g]:r!==null&&!m&&"web"in f&&(m=typeof f.web=="function"?m=await f.web():m=f.web),m),x=(D,I)=>{var U,K;if(y){const W=y?.methods.find(P=>I===P.name);if(W)return W.rtype==="promise"?P=>e.nativePromise(p,I.toString(),P):(P,L)=>e.nativeCallback(p,I.toString(),P,L);if(D)return(U=D[I])===null||U===void 0?void 0:U.bind(D)}else{if(D)return(K=D[I])===null||K===void 0?void 0:K.bind(D);throw new Jv(`"${p}" plugin is not implemented on ${g}`,qf.Unimplemented)}},S=D=>{let I;const U=(...K)=>{const W=v().then(P=>{const L=x(P,D);if(L){const T=L(...K);return I=T?.remove,T}else throw new Jv(`"${p}.${D}()" is not implemented on ${g}`,qf.Unimplemented)});return D==="addListener"&&(W.remove=async()=>I()),W};return U.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:D,writable:!1,configurable:!1}),U},C=S("addListener"),A=S("removeListener"),B=(D,I)=>{const U=C({eventName:D},I),K=async()=>{const P=await U;A({eventName:D,callbackId:P},I)},W=new Promise(P=>U.then(()=>P({remove:K})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},W},q=new Proxy({},{get(D,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?B:C;case"removeListener":return A;default:return S(I)}}});return n[p]=q,l.set(p,{name:p,proxy:q,platforms:new Set([...Object.keys(f),...y?[g]:[]])}),q};return e.convertFileSrc||(e.convertFileSrc=p=>p),e.getPlatform=s,e.handleError=u,e.isNativePlatform=i,e.isPluginAvailable=o,e.registerPlugin=d,e.Exception=Jv,e.DEBUG=!!e.DEBUG,e.isLoggingEnabled=!!e.isLoggingEnabled,e},BV=t=>t.Capacitor=LV(t),yo=BV(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Um=yo.registerPlugin;class q9{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,e){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(e);const i=this.windowListeners[r];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(r);const o=async()=>this.removeListener(r,e);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,e,n){const s=this.listeners[r];if(!s){if(n){let i=this.retainedEventArguments[r];i||(i=[]),i.push(e),this.retainedEventArguments[r]=i}return}s.forEach(i=>i(e))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,e){this.windowListeners[e]={registered:!1,windowEventName:r,pluginEventName:e,handler:n=>{this.notifyListeners(e,n)}}}unimplemented(r="not implemented"){return new yo.Exception(r,qf.Unimplemented)}unavailable(r="not available"){return new yo.Exception(r,qf.Unavailable)}async removeListener(r,e){const n=this.listeners[r];if(!n)return;const s=n.indexOf(e);this.listeners[r].splice(s,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const e=this.retainedEventArguments[r];e&&(delete this.retainedEventArguments[r],e.forEach(n=>{this.notifyListeners(r,n)}))}}const Ej=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Aj=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $V extends q9{async getCookies(){const r=document.cookie,e={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Aj(s).trim(),i=Aj(i).trim(),e[s]=i}),e}async setCookie(r){try{const e=Ej(r.key),n=Ej(r.value),s=`; expires=${(r.expires||"").replace("expires=","")}`,i=(r.path||"/").replace("path=",""),o=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${e}=${n||""}${s}; path=${i}; ${o};`}catch(e){return Promise.reject(e)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const e of r)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}Um("CapacitorCookies",{web:()=>new $V});const zV=async t=>new Promise((r,e)=>{const n=new FileReader;n.onload=()=>{const s=n.result;r(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>e(s),n.readAsDataURL(t)}),VV=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[r[o]],s),{})},UV=(t,r=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,o]=s;let c,u;return Array.isArray(o)?(u="",o.forEach(l=>{c=r?encodeURIComponent(l):l,u+=`${i}=${c}&`}),u.slice(0,-1)):(c=r?encodeURIComponent(o):o,u=`${i}=${c}`),`${n}&${u}`},"").substr(1):null,WV=(t,r={})=>{const e=Object.assign({method:t.method||"GET",headers:t.headers},r),s=VV(t.headers)["content-type"]||"";if(typeof t.data=="string")e.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,c]of Object.entries(t.data||{}))i.set(o,c);e.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((c,u)=>{i.append(u,c)});else for(const c of Object.keys(t.data))i.append(c,t.data[c]);e.body=i;const o=new Headers(e.headers);o.delete("content-type"),e.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(e.body=JSON.stringify(t.data));return e};class qV extends q9{async request(r){const e=WV(r,r.webFetchExtra),n=UV(r.params,r.shouldEncodeUrlParams),s=n?`${r.url}?${n}`:r.url,i=await fetch(s,e),o=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?r:{};o.includes("application/json")&&(c="json");let u,l;switch(c){case"arraybuffer":case"blob":l=await i.blob(),u=await zV(l);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const d={};return i.headers.forEach((p,f)=>{d[f]=p}),{data:u,headers:d,status:i.status,url:i.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}Um("CapacitorHttp",{web:()=>new qV});class HV{constructor(r){this.sqlite=r,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(r){return Promise.reject(r)}}async saveToStore(r){try{return await this.sqlite.saveToStore({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToLocalDisk(r){try{return await this.sqlite.saveToLocalDisk({database:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getFromLocalDiskToStore(r){const e=r??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(r){try{const e=await this.sqlite.echo({value:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isSecretStored(){try{const r=await this.sqlite.isSecretStored();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async setEncryptionSecret(r){try{return await this.sqlite.setEncryptionSecret({passphrase:r}),Promise.resolve()}catch(e){return Promise.reject(e)}}async changeEncryptionSecret(r,e){try{return await this.sqlite.changeEncryptionSecret({passphrase:r,oldpassphrase:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(r){return Promise.reject(r)}}async checkEncryptionSecret(r){try{const e=await this.sqlite.checkEncryptionSecret({passphrase:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async addUpgradeStatement(r,e){try{return r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:r,upgrade:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async createConnection(r,e,n,s,i){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.createConnection({database:r,encrypted:e,mode:n,version:s,readonly:i});const o=new Pj(r,i,this.sqlite),c=i?`RO_${r}`:`RW_${r}`;return this._connectionDict.set(c,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(r,e){try{r.endsWith(".db")&&(r=r.slice(0,-3)),await this.sqlite.closeConnection({database:r,readonly:e});const n=e?`RO_${r}`:`RW_${r}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(r,e){const n={};r.endsWith(".db")&&(r=r.slice(0,-3));const s=e?`RO_${r}`:`RW_${r}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(r,e){r.endsWith(".db")&&(r=r.slice(0,-3));const n=e?`RO_${r}`:`RW_${r}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async getNCDatabasePath(r,e){try{const n=await this.sqlite.getNCDatabasePath({path:r,database:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(r,e){try{await this.sqlite.createNCConnection({databasePath:r,version:e});const n=new Pj(r,!0,this.sqlite),s=`RO_${r})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(r){try{await this.sqlite.closeNCConnection({databasePath:r});const e=`RO_${r})`;return this._connectionDict.delete(e),Promise.resolve()}catch(e){return Promise.reject(e)}}async isNCConnection(r){const e={},n=`RO_${r})`;return e.result=this._connectionDict.has(n),Promise.resolve(e)}async retrieveNCConnection(r){if(this._connectionDict.has(r)){const e=`RO_${r})`,n=this._connectionDict.get(e);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${r} is undefined`)}else return Promise.reject(`Connection ${r} does not exist`)}async isNCDatabase(r){try{const e=await this.sqlite.isNCDatabase({databasePath:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const r=new Map;try{for(const e of this._connectionDict.keys()){const n=e.substring(3),s=e.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),r.set(e,null)}for(const e of r.keys())this._connectionDict.delete(e);return Promise.resolve()}catch(e){return Promise.reject(e)}}async checkConnectionsConsistency(){try{const r=[...this._connectionDict.keys()],e=[],n=[];for(const i of r)e.push(i.substring(0,2)),n.push(i.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:e});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(r){return this._connectionDict=new Map,Promise.reject(r)}}async importFromJson(r){try{const e=await this.sqlite.importFromJson({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isJsonValid(r){try{const e=await this.sqlite.isJsonValid({jsonstring:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async copyFromAssets(r){const e=r??!0;try{return await this.sqlite.copyFromAssets({overwrite:e}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(r,e){const n=e??!0;try{return await this.sqlite.getFromHTTPRequest({url:r,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabaseEncrypted({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigEncryption(){try{const r=await this.sqlite.isInConfigEncryption();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isInConfigBiometricAuth(){try{const r=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isDatabase(r){r.endsWith(".db")&&(r=r.slice(0,-3));try{const e=await this.sqlite.isDatabase({database:r});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getDatabaseList(){try{const e=(await this.sqlite.getDatabaseList()).values;e.sort();const n={values:e};return Promise.resolve(n)}catch(r){return Promise.reject(r)}}async getMigratableDbList(r){const e=r||"default";try{const n=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addSQLiteSuffix(r,e){const n=r||"default",s=e||[];try{const i=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteOldDatabases(r,e){const n=r||"default",s=e||[];try{const i=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async moveDatabasesAndAddSuffix(r,e){const n=r||"default",s=e||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class Pj{constructor(r,e,n){this.dbName=r,this.readonly=e,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}}async beginTransaction(){try{const r=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async commitTransaction(){try{const r=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async rollbackTransaction(){try{const r=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTransactionActive(){try{const r=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async loadExtension(r){try{return await this.sqlite.loadExtension({database:this.dbName,path:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async enableLoadExtension(r){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:r,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getUrl(){try{const r=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getVersion(){try{const r=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async getTableList(){try{const r=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async execute(r,e=!0,n=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const s=await this.sqlite.execute({database:this.dbName,statements:r,transaction:e,readonly:!1,isSQL92:n});return Promise.resolve(s)}}catch(s){return Promise.reject(s)}}async query(r,e,n=!0){let s;try{return e&&e.length>0?s=await this.sqlite.query({database:this.dbName,statement:r,values:e,readonly:this.readonly,isSQL92:!0}):s=await this.sqlite.query({database:this.dbName,statement:r,values:[],readonly:this.readonly,isSQL92:n}),s=await this.reorderRows(s),Promise.resolve(s)}catch(i){return Promise.reject(i)}}async run(r,e,n=!0,s="no",i=!0){let o;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(e&&e.length>0?o=await this.sqlite.run({database:this.dbName,statement:r,values:e,transaction:n,readonly:!1,returnMode:s,isSQL92:!0}):o=await this.sqlite.run({database:this.dbName,statement:r,values:[],transaction:n,readonly:!1,returnMode:s,isSQL92:i}),o.changes=await this.reorderRows(o.changes),Promise.resolve(o))}catch(c){return Promise.reject(c)}}async executeSet(r,e=!0,n="no",s=!0){let i;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(i=await this.sqlite.executeSet({database:this.dbName,set:r,transaction:e,readonly:!1,returnMode:n,isSQL92:s}),i.changes=await this.reorderRows(i.changes),Promise.resolve(i))}catch(o){return Promise.reject(o)}}async isExists(){try{const r=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async isTable(r){try{const e=await this.sqlite.isTableExists({database:this.dbName,table:r,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDBOpen(){try{const r=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async setSyncDate(r){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:r,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async getSyncDate(){try{const r=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let e="";return r.syncDate>0&&(e=new Date(r.syncDate*1e3).toISOString()),Promise.resolve(e)}catch(r){return Promise.reject(r)}}async exportToJson(r,e=!1){try{const n=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:r,readonly:this.readonly,encrypted:e});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}}async executeTransaction(r,e=!0){let n=0,s=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),s=await this.sqlite.isTransactionActive({database:this.dbName}),!s)return Promise.reject("After Begin Transaction, no transaction active");try{for(const c of r){if(typeof c!="object"||!("statement"in c))throw new Error("Error a task.statement must be provided");if("values"in c&&c.values&&c.values.length>0){const u=c.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:c.statement,values:c.values,transaction:!1,readonly:!1,returnMode:u,isSQL92:e});if(l.changes.changes<0)throw new Error("Error in transaction method run ");n+=l.changes.changes}else{const u=await this.sqlite.execute({database:this.dbName,statements:c.statement,transaction:!1,readonly:!1});if(u.changes.changes<0)throw new Error("Error in transaction method execute ");n+=u.changes.changes}}const i=await this.sqlite.commitTransaction({database:this.dbName});n+=i.changes.changes;const o={changes:{changes:n}};return Promise.resolve(o)}catch(i){const o=i.message?i.message:i;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(o)}}async reorderRows(r){const e=r;if(r?.values&&typeof r.values[0]=="object"&&Object.keys(r.values[0]).includes("ios_columns")){const n=r.values[0].ios_columns,s=[];for(let i=1;i<r.values.length;i++){const o=r.values[i],c={};for(const u of n)c[u]=o[u];s.push(c)}e.values=s}return Promise.resolve(e)}}const KV=Um("CapacitorSQLite",{web:()=>mn(()=>import("./web-DUNQL8TT.js"),[]).then(t=>new t.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class GV{constructor(){this.db=null,this.dbName="binarjoin_native.db",this._initialized=!1,this._initPromise=null,this.sqlite=new HV(KV),this._initPromise=this.initialize().catch(r=>console.error("[SQLite] Auto-Init Failed:",r))}async initialize(){if(!(this._initialized&&this.db||yo.getPlatform()==="web"))try{let e=!1;try{e=(await this.sqlite.isConnection(this.dbName,!1)).result??!1}catch{e=!1}if(e)this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else try{this.db=await this.sqlite.createConnection(this.dbName,!1,"no-encryption",1,!1)}catch(n){if(n?.message?.includes("already exists"))this.db=await this.sqlite.retrieveConnection(this.dbName,!1);else throw n}await this.db.open(),await this.createTables(),this._initialized=!0}catch(e){throw console.error("[SQLite] Critical Init Error:",e),this.db=null,e}}async waitForReady(){this._initPromise&&await this._initPromise}get isReady(){return this._initialized&&this.db!==null}async createTables(){if(!this.db)return;const r=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","accounts","transactions","transaction_lines","journals","finance_payments","finance_events","account_balances","equipment","equipmentMovements","expenses"];for(const e of r)await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${e} (
          id TEXT PRIMARY KEY, 
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}async get(r,e){if(!this.db)return null;try{await this.ensureTable(r);const n=await this.db.query(`SELECT data FROM ${r} WHERE id = ?`,[e]);return n.values&&n.values.length>0?JSON.parse(n.values[0].data):null}catch(n){return console.warn(`[SQLite] get ${r}/${e}:`,n),null}}async set(r,e,n){if(this.db)try{await this.ensureTable(r),await this.db.run(`INSERT OR REPLACE INTO ${r} (id, data) VALUES (?, ?)`,[e.toString(),JSON.stringify(n)])}catch(s){console.warn(`[SQLite] set ${r}/${e}:`,s)}}async getAll(r){if(!this.db)return[];try{await this.ensureTable(r);const e=await this.db.query(`SELECT data FROM ${r}`);return e.values?e.values.map(n=>JSON.parse(n.data)):[]}catch(e){return console.warn(`[SQLite] getAll ${r}:`,e),[]}}async delete(r,e){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r} WHERE id = ?`,[e])}catch(n){console.warn(`[SQLite] delete ${r}/${e}:`,n)}}async clearTable(r){if(this.db)try{await this.ensureTable(r),await this.db.run(`DELETE FROM ${r}`,[])}catch(e){console.warn(`[SQLite] clearTable ${r}:`,e)}}async count(r){if(!this.db)return 0;try{await this.ensureTable(r);const e=await this.db.query(`SELECT COUNT(*) as cnt FROM ${r}`);return e.values&&e.values.length>0&&e.values[0].cnt||0}catch(e){return console.warn(`[SQLite] count ${r}:`,e),0}}async query(r,e){return(await this.getAll(r)).filter(e)}async ensureTable(r){if(this.db)try{await this.db.execute(`
        CREATE TABLE IF NOT EXISTS ${r} (
          id TEXT PRIMARY KEY,
          data TEXT,
          synced INTEGER DEFAULT 1,
          isLocal INTEGER DEFAULT 0,
          pendingSync INTEGER DEFAULT 0
        );
      `)}catch{}}}const nl=new GV;async function H9(){const t=yo.getPlatform();if(t==="android"||t==="ios")try{console.log(" [DB]    SQLite ...");const r=nl.waitForReady(),e=new Promise((n,s)=>setTimeout(()=>s(new Error("SQLite Initialization Timeout")),5e3));return await Promise.race([r,e]),console.log(" [DB]    SQLite "),nl}catch(r){return console.error(" SQLite Engine Critical Failure, falling back to IDB:",r),Wi||(Wi=await nd()),Wi}return Wi||(Wi=await nd()),Wi}let Wi=null;const XV=["users","authUserSessions","emailVerificationTokens","passwordResetTokens","projectTypes","projects","workers","wells","fundTransfers","workerAttendance","suppliers","materials","materialPurchases","supplierPayments","transportationExpenses","workerTransfers","workerBalances","dailyExpenseSummaries","workerTypes","autocompleteData","workerMiscExpenses","printSettings","projectFundTransfers","securityPolicies","securityPolicyImplementations","securityPolicySuggestions","securityPolicyViolations","permissionAuditLogs","userProjectPermissions","materialCategories","wellTasks","wellExpenses","wellAuditLogs","wellTaskAccounts","notifications","notificationReadStates","aiChatSessions","aiChatMessages","aiUsageStats","buildDeployments","reportTemplates","emergencyUsers","syncQueue","syncMetadata","userData","workerMiscExpenses","autocompleteData","printSettings","workerTypes"];async function nd(){if(Wi)return Wi;try{Wi=await PV("binarjoin-db",10,{upgrade(t,r,e){console.log(`[DB] Upgrading from ${r} to ${e}`);for(const n of XV)if(!t.objectStoreNames.contains(n))if(n==="syncQueue"){const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("timestamp","timestamp"),s.createIndex("action","action")}else if(n==="userData")t.createObjectStore(n,{keyPath:"id"}).createIndex("type","type");else if(n==="syncMetadata")t.createObjectStore(n,{keyPath:"key"});else{const s=t.createObjectStore(n,{keyPath:"id"});s.createIndex("createdAt","createdAt"),s.createIndex("projectId","projectId"),s.createIndex("synced","synced"),s.createIndex("_pendingSync","_pendingSync"),s.createIndex("version","version"),s.createIndex("lastModifiedAt","lastModifiedAt")}}})}catch(t){throw console.error("[DB] Critical initialization error:",t),t}return Wi}async function QV(){const t=yo.getPlatform();if(t==="android"||t==="ios"){const r=await H9();if(r)return r}return Wi||await nd()}async function Qg(t,r,e,n){const{smartPut:s,smartDelete:i,smartAdd:o}=await mn(async()=>{const{smartPut:d,smartDelete:p,smartAdd:f}=await Promise.resolve().then(()=>Qp);return{smartPut:d,smartDelete:p,smartAdd:f}},void 0),c=e.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)),u={...e,id:c,_isLocal:!0,_pendingSync:!0};r==="delete"?await i(t,c):await s(t,u);const l=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);return await o("syncQueue",{id:l,action:r,endpoint:n,payload:u,timestamp:Date.now(),retries:0}),u}async function vw(t){const{smartGetAll:r}=await mn(async()=>{const{smartGetAll:n}=await Promise.resolve().then(()=>Qp);return{smartGetAll:n}},void 0);return(await r(t)).sort((n,s)=>{const i=new Date(n.createdAt||0).getTime();return new Date(s.createdAt||0).getTime()-i})}const YV=Object.freeze(Object.defineProperty({__proto__:null,getDB:QV,getListLocal:vw,getSmartStorage:H9,initializeDB:nd,performLocalOperation:Qg},Symbol.toStringTag,{value:"Module"}));function ZV(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,n,s,i,o=[],c="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)e=s[0],e==="*"?(o.push(e),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):e===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),c+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~n?"?":"")+"\\"+s.substring(i))):c+="/"+s;return{keys:o,pattern:new RegExp("^"+c+(r?"(?=$|/)":"/?$"),"i")}}var E=gb();const Xt=o_(E),bb=z9({__proto__:null,default:Xt},[E]);var e1={exports:{}},t1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function JV(){if(Mj)return t1;Mj=1;var t=gb();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var e=typeof Object.is=="function"?Object.is:r,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(p,f){var h=f(),g=n({inst:{value:h,getSnapshot:f}}),y=g[0].inst,m=g[1];return i(function(){y.value=h,y.getSnapshot=f,u(y)&&m({inst:y})},[p,h,f]),s(function(){return u(y)&&m({inst:y}),p(function(){u(y)&&m({inst:y})})},[p]),o(h),h}function u(p){var f=p.getSnapshot;p=p.value;try{var h=f();return!e(p,h)}catch{return!0}}function l(p,f){return f()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return t1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,t1}var Rj;function eU(){return Rj||(Rj=1,e1.exports=JV()),e1.exports}var tU=eU();const rU=bb.useInsertionEffect,nU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K9=nU?E.useLayoutEffect:E.useEffect,sU=rU||K9,l_=t=>{const r=E.useRef([t,(...e)=>r[0](...e)]).current;return sU(()=>{r[0]=t}),r[1]},aU="popstate",c_="pushState",u_="replaceState",iU="hashchange",Dj=[aU,c_,u_,iU],oU=t=>{for(const r of Dj)addEventListener(r,t);return()=>{for(const r of Dj)removeEventListener(r,t)}},G9=(t,r)=>tU.useSyncExternalStore(oU,t,r),Ij=()=>location.search,lU=({ssrSearch:t}={})=>G9(Ij,t!=null?()=>t:Ij),Oj=()=>location.pathname,cU=({ssrPath:t}={})=>G9(Oj,t!=null?()=>t:Oj),uU=(t,{replace:r=!1,state:e=null}={})=>history[r?u_:c_](e,"",t),dU=(t={})=>[cU(t),uU],Fj=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Fj]>"u"){for(const t of[c_,u_]){const r=history[t];history[t]=function(){const e=r.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),e}}Object.defineProperty(window,Fj,{value:!0})}const fU=(t,r)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",X9=(t="")=>t==="/"?"":t,hU=(t,r)=>t[0]==="~"?t.slice(1):X9(r)+t,pU=(t="",r)=>fU(Lj(X9(t)),Lj(r)),Lj=t=>{try{return decodeURI(t)}catch{return t}},Q9={hook:dU,searchHook:lU,parser:ZV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,r,e)=>t(r,e)},Y9=E.createContext(Q9),gh=()=>E.useContext(Y9),Z9={},J9=E.createContext(Z9),mU=()=>E.useContext(J9),Wm=t=>{const[r,e]=t.hook(t);return[pU(t.base,r),l_((n,s)=>t.aroundNav(e,hU(n,t.base),s))]},Gs=()=>Wm(gh()),eA=(t,r,e,n)=>{const{pattern:s,keys:i}=r instanceof RegExp?{keys:!1,pattern:r}:t(r||"*",n),o=s.exec(e)||[],[c,...u]=o;return c!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((p,f)=>[p,u[f]])):o.groups;let d={...u};return l&&Object.assign(d,l),d})(),...n?[c]:[]]:[!1,null]},gU=({children:t,...r})=>{const e=gh(),n=r.hook?Q9:e;let s=n;const[i,o=r.ssrSearch??""]=r.ssrPath?.split("?")??[];i&&(r.ssrSearch=o,r.ssrPath=i),r.hrefs=r.hrefs??r.hook?.hrefs,r.searchHook=r.searchHook??r.hook?.searchHook;let c=E.useRef({}),u=c.current,l=u;for(let d in n){const p=d==="base"?n[d]+(r[d]??""):r[d]??n[d];u===l&&p!==l[d]&&(c.current=l={...l}),l[d]=p,(p!==n[d]||p!==s[d])&&(s=l)}return E.createElement(Y9.Provider,{value:s,children:t})},Bj=({children:t,component:r},e)=>r?E.createElement(r,{params:e}):typeof t=="function"?t(e):t,yU=t=>{let r=E.useRef(Z9);const e=r.current;return r.current=Object.keys(t).length!==Object.keys(e).length||Object.entries(t).some(([n,s])=>s!==e[n])?t:e},Er=({path:t,nest:r,match:e,...n})=>{const s=gh(),[i]=Wm(s),[o,c,u]=e??eA(s.parser,t,i,r),l=yU({...mU(),...c});if(!o)return null;const d=u?E.createElement(gU,{base:u},Bj(n,l)):Bj(n,l);return E.createElement(J9.Provider,{value:l,children:d})};E.forwardRef((t,r)=>{const e=gh(),[n,s]=Wm(e),{to:i="",href:o=i,onClick:c,asChild:u,children:l,className:d,replace:p,state:f,transition:h,...g}=t,y=l_(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(c?.(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),m=e.hrefs(o[0]==="~"?o.slice(1):e.base+o,e);return u&&E.isValidElement(l)?E.cloneElement(l,{onClick:y,href:m}):E.createElement("a",{...g,onClick:y,href:m,className:d?.call?d(n===o):d,children:l,ref:r})});const tA=t=>Array.isArray(t)?t.flatMap(r=>tA(r&&r.type===E.Fragment?r.props.children:r)):[t],rA=({children:t,location:r})=>{const e=gh(),[n]=Wm(e);for(const s of tA(t)){let i=0;if(E.isValidElement(s)&&(i=eA(e.parser,s.props.path,r||n,s.props.nest))[0])return E.cloneElement(s,{match:i})}return null},wy=t=>{const{to:r,href:e=r}=t,n=gh(),[,s]=Wm(n),i=l_(()=>s(r||e,t)),{ssrContext:o}=n;return K9(()=>{i()},[]),o&&(o.redirectTo=r),null};var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bU={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},kc,i_,G8,xU=(G8=class{constructor(){Zt(this,kc,bU);Zt(this,i_,!1)}setTimeoutProvider(t){jt(this,kc,t)}setTimeout(t,r){return Se(this,kc).setTimeout(t,r)}clearTimeout(t){Se(this,kc).clearTimeout(t)}setInterval(t,r){return Se(this,kc).setInterval(t,r)}clearInterval(t){Se(this,kc).clearInterval(t)}},kc=new WeakMap,i_=new WeakMap,G8),Lu=new xU;function vU(t){setTimeout(t,0)}var sd=typeof window>"u"||"Deno"in globalThis;function Da(){}function wU(t,r){return typeof t=="function"?t(r):t}function ww(t){return typeof t=="number"&&t>=0&&t!==1/0}function nA(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Dc(t,r){return typeof t=="function"?t(r):t}function Ui(t,r){return typeof t=="function"?t(r):t}function $j(t,r){const{type:e="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:c}=t;if(o){if(n){if(r.queryHash!==d_(o,r.options))return!1}else if(!Xp(r.queryKey,o))return!1}if(e!=="all"){const u=r.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||i&&!i(r))}function zj(t,r){const{exact:e,status:n,predicate:s,mutationKey:i}=t;if(i){if(!r.options.mutationKey)return!1;if(e){if(ad(r.options.mutationKey)!==ad(i))return!1}else if(!Xp(r.options.mutationKey,i))return!1}return!(n&&r.state.status!==n||s&&!s(r))}function d_(t,r){return(r?.queryKeyHashFn||ad)(t)}function ad(t){return JSON.stringify(t,(r,e)=>_w(e)?Object.keys(e).sort().reduce((n,s)=>(n[s]=e[s],n),{}):e)}function Xp(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(e=>Xp(t[e],r[e])):!1}var _U=Object.prototype.hasOwnProperty;function sA(t,r,e=0){if(t===r)return t;if(e>500)return r;const n=Vj(t)&&Vj(r);if(!n&&!(_w(t)&&_w(r)))return r;const i=(n?t:Object.keys(t)).length,o=n?r:Object.keys(r),c=o.length,u=n?new Array(c):{};let l=0;for(let d=0;d<c;d++){const p=n?d:o[d],f=t[p],h=r[p];if(f===h){u[p]=f,(n?d<i:_U.call(t,p))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){u[p]=h;continue}const g=sA(f,h,e+1);u[p]=g,g===f&&l++}return i===c&&l===i?t:u}function _y(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const e in t)if(t[e]!==r[e])return!1;return!0}function Vj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _w(t){if(!Uj(t))return!1;const r=t.constructor;if(r===void 0)return!0;const e=r.prototype;return!(!Uj(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Uj(t){return Object.prototype.toString.call(t)==="[object Object]"}function kU(t){return new Promise(r=>{Lu.setTimeout(r,t)})}function kw(t,r,e){return typeof e.structuralSharing=="function"?e.structuralSharing(t,r):e.structuralSharing!==!1?sA(t,r):r}function jU(t,r,e=0){const n=[...t,r];return e&&n.length>e?n.slice(1):n}function SU(t,r,e=0){const n=[r,...t];return e&&n.length>e?n.slice(0,-1):n}var f_=Symbol();function aA(t,r){return!t.queryFn&&r?.initialPromise?()=>r.initialPromise:!t.queryFn||t.queryFn===f_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function h_(t,r){return typeof t=="function"?t(...r):!!t}function NU(t,r,e){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=r()),n||(n=!0,s.aborted?e():s.addEventListener("abort",e,{once:!0})),s)}),t}var qu,jc,Rf,X8,CU=(X8=class extends yh{constructor(){super();Zt(this,qu);Zt(this,jc);Zt(this,Rf);jt(this,Rf,r=>{if(!sd&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){Se(this,jc)||this.setEventListener(Se(this,Rf))}onUnsubscribe(){var r;this.hasListeners()||((r=Se(this,jc))==null||r.call(this),jt(this,jc,void 0))}setEventListener(r){var e;jt(this,Rf,r),(e=Se(this,jc))==null||e.call(this),jt(this,jc,r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(r){Se(this,qu)!==r&&(jt(this,qu,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof Se(this,qu)=="boolean"?Se(this,qu):globalThis.document?.visibilityState!=="hidden"}},qu=new WeakMap,jc=new WeakMap,Rf=new WeakMap,X8),p_=new CU;function jw(){let t,r;const e=new Promise((s,i)=>{t=s,r=i});e.status="pending",e.catch(()=>{});function n(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},e.reject=s=>{n({status:"rejected",reason:s}),r(s)},e}var TU=vU;function EU(){let t=[],r=0,e=c=>{c()},n=c=>{c()},s=TU;const i=c=>{r?t.push(c):s(()=>{e(c)})},o=()=>{const c=t;t=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var As=EU(),Df,Sc,If,Q8,AU=(Q8=class extends yh{constructor(){super();Zt(this,Df,!0);Zt(this,Sc);Zt(this,If);jt(this,If,r=>{if(!sd&&window.addEventListener){const e=()=>r(!0),n=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){Se(this,Sc)||this.setEventListener(Se(this,If))}onUnsubscribe(){var r;this.hasListeners()||((r=Se(this,Sc))==null||r.call(this),jt(this,Sc,void 0))}setEventListener(r){var e;jt(this,If,r),(e=Se(this,Sc))==null||e.call(this),jt(this,Sc,r(this.setOnline.bind(this)))}setOnline(r){Se(this,Df)!==r&&(jt(this,Df,r),this.listeners.forEach(n=>{n(r)}))}isOnline(){return Se(this,Df)}},Df=new WeakMap,Sc=new WeakMap,If=new WeakMap,Q8),ky=new AU;function PU(t){return Math.min(1e3*2**t,3e4)}function iA(t){return(t??"online")==="online"?ky.isOnline():!0}var Sw=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function oA(t){let r=!1,e=0,n;const s=jw(),i=()=>s.status!=="pending",o=y=>{if(!i()){const m=new Sw(y);f(m),t.onCancel?.(m)}},c=()=>{r=!0},u=()=>{r=!1},l=()=>p_.isFocused()&&(t.networkMode==="always"||ky.isOnline())&&t.canRun(),d=()=>iA(t.networkMode)&&t.canRun(),p=y=>{i()||(n?.(),s.resolve(y))},f=y=>{i()||(n?.(),s.reject(y))},h=()=>new Promise(y=>{n=m=>{(i()||l())&&y(m)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),g=()=>{if(i())return;let y;const m=e===0?t.initialPromise:void 0;try{y=m??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(p).catch(v=>{if(i())return;const x=t.retry??(sd?0:3),S=t.retryDelay??PU,C=typeof S=="function"?S(e,v):S,A=x===!0||typeof x=="number"&&e<x||typeof x=="function"&&x(e,v);if(r||!A){f(v);return}e++,t.onFail?.(e,v),kU(C).then(()=>l()?void 0:h()).then(()=>{r?f(v):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:c,continueRetry:u,canStart:d,start:()=>(d()?g():h().then(g),s)}}var Hu,Y8,lA=(Y8=class{constructor(){Zt(this,Hu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ww(this.gcTime)&&jt(this,Hu,Lu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sd?1/0:300*1e3))}clearGcTimeout(){Se(this,Hu)&&(Lu.clearTimeout(Se(this,Hu)),jt(this,Hu,void 0))}},Hu=new WeakMap,Y8),Ku,Of,zi,Gu,zs,Lm,Xu,lo,jl,Z8,MU=(Z8=class extends lA{constructor(r){super();Zt(this,lo);Zt(this,Ku);Zt(this,Of);Zt(this,zi);Zt(this,Gu);Zt(this,zs);Zt(this,Lm);Zt(this,Xu);jt(this,Xu,!1),jt(this,Lm,r.defaultOptions),this.setOptions(r.options),this.observers=[],jt(this,Gu,r.client),jt(this,zi,Se(this,Gu).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,jt(this,Ku,qj(this.options)),this.state=r.state??Se(this,Ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Se(this,zs)?.promise}setOptions(r){if(this.options={...Se(this,Lm),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=qj(this.options);e.data!==void 0&&(this.setState(Wj(e.data,e.dataUpdatedAt)),jt(this,Ku,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,zi).remove(this)}setData(r,e){const n=kw(this.state.data,r,this.options);return zr(this,lo,jl).call(this,{data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(r,e){zr(this,lo,jl).call(this,{type:"setState",state:r,setStateOptions:e})}cancel(r){const e=Se(this,zs)?.promise;return Se(this,zs)?.cancel(r),e?e.then(Da).catch(Da):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,Ku))}isActive(){return this.observers.some(r=>Ui(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Dc(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!nA(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Se(this,zs)?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Se(this,zs)?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Se(this,zi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(e=>e!==r),this.observers.length||(Se(this,zs)&&(Se(this,Xu)?Se(this,zs).cancel({revert:!0}):Se(this,zs).cancelRetry()),this.scheduleGc()),Se(this,zi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zr(this,lo,jl).call(this,{type:"invalidate"})}async fetch(r,e){if(this.state.fetchStatus!=="idle"&&Se(this,zs)?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(Se(this,zs))return Se(this,zs).continueRetry(),Se(this,zs).promise}if(r&&this.setOptions(r),!this.options.queryFn){const u=this.observers.find(l=>l.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(jt(this,Xu,!0),n.signal)})},i=()=>{const u=aA(this.options,e),d=(()=>{const p={client:Se(this,Gu),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return jt(this,Xu,!1),this.options.persister?this.options.persister(u,d,this):u(d)},c=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:Se(this,Gu),state:this.state,fetchFn:i};return s(u),u})();this.options.behavior?.onFetch(c,this),jt(this,Of,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&zr(this,lo,jl).call(this,{type:"fetch",meta:c.fetchOptions?.meta}),jt(this,zs,oA({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof Sw&&u.revert&&this.setState({...Se(this,Of),fetchStatus:"idle"}),n.abort()},onFail:(u,l)=>{zr(this,lo,jl).call(this,{type:"failed",failureCount:u,error:l})},onPause:()=>{zr(this,lo,jl).call(this,{type:"pause"})},onContinue:()=>{zr(this,lo,jl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const u=await Se(this,zs).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),Se(this,zi).config.onSuccess?.(u,this),Se(this,zi).config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Sw){if(u.silent)return Se(this,zs).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw zr(this,lo,jl).call(this,{type:"error",error:u}),Se(this,zi).config.onError?.(u,this),Se(this,zi).config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}},Ku=new WeakMap,Of=new WeakMap,zi=new WeakMap,Gu=new WeakMap,zs=new WeakMap,Lm=new WeakMap,Xu=new WeakMap,lo=new WeakSet,jl=function(r){const e=n=>{switch(r.type){case"failed":return{...n,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cA(n.data,this.options),fetchMeta:r.meta??null};case"success":const s={...n,...Wj(r.data,r.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return jt(this,Of,r.manual?s:void 0),s;case"error":const i=r.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...r.state}}};this.state=e(this.state),As.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Se(this,zi).notify({query:this,type:"updated",action:r})})},Z8);function cA(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iA(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Wj(t,r){return{data:t,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qj(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,e=r!==void 0,n=e?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Za,Gr,Bm,Ma,Qu,Ff,Al,Nc,$m,Lf,Bf,Yu,Zu,Cc,$f,pn,Cp,Nw,Cw,Tw,Ew,Aw,Pw,Mw,uA,J8,RU=(J8=class extends yh{constructor(r,e){super();Zt(this,pn);Zt(this,Za);Zt(this,Gr);Zt(this,Bm);Zt(this,Ma);Zt(this,Qu);Zt(this,Ff);Zt(this,Al);Zt(this,Nc);Zt(this,$m);Zt(this,Lf);Zt(this,Bf);Zt(this,Yu);Zt(this,Zu);Zt(this,Cc);Zt(this,$f,new Set);this.options=e,jt(this,Za,r),jt(this,Nc,null),jt(this,Al,jw()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Se(this,Gr).addObserver(this),Hj(Se(this,Gr),this.options)?zr(this,pn,Cp).call(this):this.updateResult(),zr(this,pn,Ew).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rw(Se(this,Gr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rw(Se(this,Gr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zr(this,pn,Aw).call(this),zr(this,pn,Pw).call(this),Se(this,Gr).removeObserver(this)}setOptions(r){const e=this.options,n=Se(this,Gr);if(this.options=Se(this,Za).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ui(this.options.enabled,Se(this,Gr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zr(this,pn,Mw).call(this),Se(this,Gr).setOptions(this.options),e._defaulted&&!_y(this.options,e)&&Se(this,Za).getQueryCache().notify({type:"observerOptionsUpdated",query:Se(this,Gr),observer:this});const s=this.hasListeners();s&&Kj(Se(this,Gr),n,this.options,e)&&zr(this,pn,Cp).call(this),this.updateResult(),s&&(Se(this,Gr)!==n||Ui(this.options.enabled,Se(this,Gr))!==Ui(e.enabled,Se(this,Gr))||Dc(this.options.staleTime,Se(this,Gr))!==Dc(e.staleTime,Se(this,Gr)))&&zr(this,pn,Nw).call(this);const i=zr(this,pn,Cw).call(this);s&&(Se(this,Gr)!==n||Ui(this.options.enabled,Se(this,Gr))!==Ui(e.enabled,Se(this,Gr))||i!==Se(this,Cc))&&zr(this,pn,Tw).call(this,i)}getOptimisticResult(r){const e=Se(this,Za).getQueryCache().build(Se(this,Za),r),n=this.createResult(e,r);return IU(this,n)&&(jt(this,Ma,n),jt(this,Ff,this.options),jt(this,Qu,Se(this,Gr).state)),n}getCurrentResult(){return Se(this,Ma)}trackResult(r,e){return new Proxy(r,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Se(this,Al).status==="pending"&&Se(this,Al).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(r){Se(this,$f).add(r)}getCurrentQuery(){return Se(this,Gr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const e=Se(this,Za).defaultQueryOptions(r),n=Se(this,Za).getQueryCache().build(Se(this,Za),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(r){return zr(this,pn,Cp).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),Se(this,Ma)))}createResult(r,e){const n=Se(this,Gr),s=this.options,i=Se(this,Ma),o=Se(this,Qu),c=Se(this,Ff),l=r!==n?r.state:Se(this,Bm),{state:d}=r;let p={...d},f=!1,h;if(e._optimisticResults){const I=this.hasListeners(),U=!I&&Hj(r,e),K=I&&Kj(r,n,e,s);(U||K)&&(p={...p,...cA(d.data,r.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:m}=p;h=p.data;let v=!1;if(e.placeholderData!==void 0&&h===void 0&&m==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(I=i.data,v=!0):I=typeof e.placeholderData=="function"?e.placeholderData(Se(this,Bf)?.state.data,Se(this,Bf)):e.placeholderData,I!==void 0&&(m="success",h=kw(i?.data,I,e),f=!0)}if(e.select&&h!==void 0&&!v)if(i&&h===o?.data&&e.select===Se(this,$m))h=Se(this,Lf);else try{jt(this,$m,e.select),h=e.select(h),h=kw(i?.data,h,e),jt(this,Lf,h),jt(this,Nc,null)}catch(I){jt(this,Nc,I)}Se(this,Nc)&&(g=Se(this,Nc),h=Se(this,Lf),y=Date.now(),m="error");const x=p.fetchStatus==="fetching",S=m==="pending",C=m==="error",A=S&&x,B=h!==void 0,D={status:m,fetchStatus:p.fetchStatus,isPending:S,isSuccess:m==="success",isError:C,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>l.dataUpdateCount||p.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!S,isLoadingError:C&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&B,isStale:m_(r,e),refetch:this.refetch,promise:Se(this,Al),isEnabled:Ui(e.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const I=D.data!==void 0,U=D.status==="error"&&!I,K=L=>{U?L.reject(D.error):I&&L.resolve(D.data)},W=()=>{const L=jt(this,Al,D.promise=jw());K(L)},P=Se(this,Al);switch(P.status){case"pending":r.queryHash===n.queryHash&&K(P);break;case"fulfilled":(U||D.data!==P.value)&&W();break;case"rejected":(!U||D.error!==P.reason)&&W();break}}return D}updateResult(){const r=Se(this,Ma),e=this.createResult(Se(this,Gr),this.options);if(jt(this,Qu,Se(this,Gr).state),jt(this,Ff,this.options),Se(this,Qu).data!==void 0&&jt(this,Bf,Se(this,Gr)),_y(e,r))return;jt(this,Ma,e);const n=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Se(this,$f).size)return!0;const o=new Set(i??Se(this,$f));return this.options.throwOnError&&o.add("error"),Object.keys(Se(this,Ma)).some(c=>{const u=c;return Se(this,Ma)[u]!==r[u]&&o.has(u)})};zr(this,pn,uA).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zr(this,pn,Ew).call(this)}},Za=new WeakMap,Gr=new WeakMap,Bm=new WeakMap,Ma=new WeakMap,Qu=new WeakMap,Ff=new WeakMap,Al=new WeakMap,Nc=new WeakMap,$m=new WeakMap,Lf=new WeakMap,Bf=new WeakMap,Yu=new WeakMap,Zu=new WeakMap,Cc=new WeakMap,$f=new WeakMap,pn=new WeakSet,Cp=function(r){zr(this,pn,Mw).call(this);let e=Se(this,Gr).fetch(this.options,r);return r?.throwOnError||(e=e.catch(Da)),e},Nw=function(){zr(this,pn,Aw).call(this);const r=Dc(this.options.staleTime,Se(this,Gr));if(sd||Se(this,Ma).isStale||!ww(r))return;const n=nA(Se(this,Ma).dataUpdatedAt,r)+1;jt(this,Yu,Lu.setTimeout(()=>{Se(this,Ma).isStale||this.updateResult()},n))},Cw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Se(this,Gr)):this.options.refetchInterval)??!1},Tw=function(r){zr(this,pn,Pw).call(this),jt(this,Cc,r),!(sd||Ui(this.options.enabled,Se(this,Gr))===!1||!ww(Se(this,Cc))||Se(this,Cc)===0)&&jt(this,Zu,Lu.setInterval(()=>{(this.options.refetchIntervalInBackground||p_.isFocused())&&zr(this,pn,Cp).call(this)},Se(this,Cc)))},Ew=function(){zr(this,pn,Nw).call(this),zr(this,pn,Tw).call(this,zr(this,pn,Cw).call(this))},Aw=function(){Se(this,Yu)&&(Lu.clearTimeout(Se(this,Yu)),jt(this,Yu,void 0))},Pw=function(){Se(this,Zu)&&(Lu.clearInterval(Se(this,Zu)),jt(this,Zu,void 0))},Mw=function(){const r=Se(this,Za).getQueryCache().build(Se(this,Za),this.options);if(r===Se(this,Gr))return;const e=Se(this,Gr);jt(this,Gr,r),jt(this,Bm,r.state),this.hasListeners()&&(e?.removeObserver(this),r.addObserver(this))},uA=function(r){As.batch(()=>{r.listeners&&this.listeners.forEach(e=>{e(Se(this,Ma))}),Se(this,Za).getQueryCache().notify({query:Se(this,Gr),type:"observerResultsUpdated"})})},J8);function DU(t,r){return Ui(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function Hj(t,r){return DU(t,r)||t.state.data!==void 0&&Rw(t,r,r.refetchOnMount)}function Rw(t,r,e){if(Ui(r.enabled,t)!==!1&&Dc(r.staleTime,t)!=="static"){const n=typeof e=="function"?e(t):e;return n==="always"||n!==!1&&m_(t,r)}return!1}function Kj(t,r,e,n){return(t!==r||Ui(n.enabled,t)===!1)&&(!e.suspense||t.state.status!=="error")&&m_(t,e)}function m_(t,r){return Ui(r.enabled,t)!==!1&&t.isStaleByTime(Dc(r.staleTime,t))}function IU(t,r){return!_y(t.getCurrentResult(),r)}function Gj(t){return{onFetch:(r,e)=>{const n=r.options,s=r.fetchOptions?.meta?.fetchMore?.direction,i=r.state.data?.pages||[],o=r.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const l=async()=>{let d=!1;const p=g=>{NU(g,()=>r.signal,()=>d=!0)},f=aA(r.options,r.fetchOptions),h=async(g,y,m)=>{if(d)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const x=(()=>{const B={client:r.client,queryKey:r.queryKey,pageParam:y,direction:m?"backward":"forward",meta:r.options.meta};return p(B),B})(),S=await f(x),{maxPages:C}=r.options,A=m?SU:jU;return{pages:A(g.pages,S,C),pageParams:A(g.pageParams,y,C)}};if(s&&i.length){const g=s==="backward",y=g?OU:Xj,m={pages:i,pageParams:o},v=y(n,m);c=await h(m,v,g)}else{const g=t??i.length;do{const y=u===0?o[0]??n.initialPageParam:Xj(n,c);if(u>0&&y==null)break;c=await h(c,y),u++}while(u<g)}return c};r.options.persister?r.fetchFn=()=>r.options.persister?.(l,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},e):r.fetchFn=l}}}function Xj(t,{pages:r,pageParams:e}){const n=r.length-1;return r.length>0?t.getNextPageParam(r[n],r,e[n],e):void 0}function OU(t,{pages:r,pageParams:e}){return r.length>0?t.getPreviousPageParam?.(r[0],r,e[0],e):void 0}var zm,Lo,ga,Ju,Bo,xc,eC,FU=(eC=class extends lA{constructor(r){super();Zt(this,Bo);Zt(this,zm);Zt(this,Lo);Zt(this,ga);Zt(this,Ju);jt(this,zm,r.client),this.mutationId=r.mutationId,jt(this,ga,r.mutationCache),jt(this,Lo,[]),this.state=r.state||dA(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Se(this,Lo).includes(r)||(Se(this,Lo).push(r),this.clearGcTimeout(),Se(this,ga).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){jt(this,Lo,Se(this,Lo).filter(e=>e!==r)),this.scheduleGc(),Se(this,ga).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Se(this,Lo).length||(this.state.status==="pending"?this.scheduleGc():Se(this,ga).remove(this))}continue(){return Se(this,Ju)?.continue()??this.execute(this.state.variables)}async execute(r){const e=()=>{zr(this,Bo,xc).call(this,{type:"continue"})},n={client:Se(this,zm),meta:this.options.meta,mutationKey:this.options.mutationKey};jt(this,Ju,oA({fn:()=>this.options.mutationFn?this.options.mutationFn(r,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{zr(this,Bo,xc).call(this,{type:"failed",failureCount:o,error:c})},onPause:()=>{zr(this,Bo,xc).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,ga).canRun(this)}));const s=this.state.status==="pending",i=!Se(this,Ju).canStart();try{if(s)e();else{zr(this,Bo,xc).call(this,{type:"pending",variables:r,isPaused:i}),Se(this,ga).config.onMutate&&await Se(this,ga).config.onMutate(r,this,n);const c=await this.options.onMutate?.(r,n);c!==this.state.context&&zr(this,Bo,xc).call(this,{type:"pending",context:c,variables:r,isPaused:i})}const o=await Se(this,Ju).start();return await Se(this,ga).config.onSuccess?.(o,r,this.state.context,this,n),await this.options.onSuccess?.(o,r,this.state.context,n),await Se(this,ga).config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,r,this.state.context,n),zr(this,Bo,xc).call(this,{type:"success",data:o}),o}catch(o){try{await Se(this,ga).config.onError?.(o,r,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onError?.(o,r,this.state.context,n)}catch(c){Promise.reject(c)}try{await Se(this,ga).config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,o,r,this.state.context,n)}catch(c){Promise.reject(c)}throw zr(this,Bo,xc).call(this,{type:"error",error:o}),o}finally{Se(this,ga).runNext(this)}}},zm=new WeakMap,Lo=new WeakMap,ga=new WeakMap,Ju=new WeakMap,Bo=new WeakSet,xc=function(r){const e=n=>{switch(r.type){case"failed":return{...n,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...n,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:r.error,failureCount:n.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=e(this.state),As.batch(()=>{Se(this,Lo).forEach(n=>{n.onMutationUpdate(r)}),Se(this,ga).notify({mutation:this,type:"updated",action:r})})},eC);function dA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pl,co,Vm,tC,LU=(tC=class extends yh{constructor(r={}){super();Zt(this,Pl);Zt(this,co);Zt(this,Vm);this.config=r,jt(this,Pl,new Set),jt(this,co,new Map),jt(this,Vm,0)}build(r,e,n){const s=new FU({client:r,mutationCache:this,mutationId:++jg(this,Vm)._,options:r.defaultMutationOptions(e),state:n});return this.add(s),s}add(r){Se(this,Pl).add(r);const e=Ng(r);if(typeof e=="string"){const n=Se(this,co).get(e);n?n.push(r):Se(this,co).set(e,[r])}this.notify({type:"added",mutation:r})}remove(r){if(Se(this,Pl).delete(r)){const e=Ng(r);if(typeof e=="string"){const n=Se(this,co).get(e);if(n)if(n.length>1){const s=n.indexOf(r);s!==-1&&n.splice(s,1)}else n[0]===r&&Se(this,co).delete(e)}}this.notify({type:"removed",mutation:r})}canRun(r){const e=Ng(r);if(typeof e=="string"){const s=Se(this,co).get(e)?.find(i=>i.state.status==="pending");return!s||s===r}else return!0}runNext(r){const e=Ng(r);return typeof e=="string"?Se(this,co).get(e)?.find(s=>s!==r&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){As.batch(()=>{Se(this,Pl).forEach(r=>{this.notify({type:"removed",mutation:r})}),Se(this,Pl).clear(),Se(this,co).clear()})}getAll(){return Array.from(Se(this,Pl))}find(r){const e={exact:!0,...r};return this.getAll().find(n=>zj(e,n))}findAll(r={}){return this.getAll().filter(e=>zj(r,e))}notify(r){As.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return As.batch(()=>Promise.all(r.map(e=>e.continue().catch(Da))))}},Pl=new WeakMap,co=new WeakMap,Vm=new WeakMap,tC);function Ng(t){return t.options.scope?.id}var Ml,Tc,Ja,Rl,$l,Yg,Dw,rC,BU=(rC=class extends yh{constructor(e,n){super();Zt(this,$l);Zt(this,Ml);Zt(this,Tc);Zt(this,Ja);Zt(this,Rl);jt(this,Ml,e),this.setOptions(n),this.bindMethods(),zr(this,$l,Yg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=Se(this,Ml).defaultMutationOptions(e),_y(this.options,n)||Se(this,Ml).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Se(this,Ja),observer:this}),n?.mutationKey&&this.options.mutationKey&&ad(n.mutationKey)!==ad(this.options.mutationKey)?this.reset():Se(this,Ja)?.state.status==="pending"&&Se(this,Ja).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Se(this,Ja)?.removeObserver(this)}onMutationUpdate(e){zr(this,$l,Yg).call(this),zr(this,$l,Dw).call(this,e)}getCurrentResult(){return Se(this,Tc)}reset(){Se(this,Ja)?.removeObserver(this),jt(this,Ja,void 0),zr(this,$l,Yg).call(this),zr(this,$l,Dw).call(this)}mutate(e,n){return jt(this,Rl,n),Se(this,Ja)?.removeObserver(this),jt(this,Ja,Se(this,Ml).getMutationCache().build(Se(this,Ml),this.options)),Se(this,Ja).addObserver(this),Se(this,Ja).execute(e)}},Ml=new WeakMap,Tc=new WeakMap,Ja=new WeakMap,Rl=new WeakMap,$l=new WeakSet,Yg=function(){const e=Se(this,Ja)?.state??dA();jt(this,Tc,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Dw=function(e){As.batch(()=>{if(Se(this,Rl)&&this.hasListeners()){const n=Se(this,Tc).variables,s=Se(this,Tc).context,i={client:Se(this,Ml),meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{Se(this,Rl).onSuccess?.(e.data,n,s,i)}catch(o){Promise.reject(o)}try{Se(this,Rl).onSettled?.(e.data,null,n,s,i)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{Se(this,Rl).onError?.(e.error,n,s,i)}catch(o){Promise.reject(o)}try{Se(this,Rl).onSettled?.(void 0,e.error,n,s,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(Se(this,Tc))})})},rC),$o,nC,$U=(nC=class extends yh{constructor(r={}){super();Zt(this,$o);this.config=r,jt(this,$o,new Map)}build(r,e,n){const s=e.queryKey,i=e.queryHash??d_(s,e);let o=this.get(i);return o||(o=new MU({client:r,queryKey:s,queryHash:i,options:r.defaultQueryOptions(e),state:n,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){Se(this,$o).has(r.queryHash)||(Se(this,$o).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=Se(this,$o).get(r.queryHash);e&&(r.destroy(),e===r&&Se(this,$o).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){As.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return Se(this,$o).get(r)}getAll(){return[...Se(this,$o).values()]}find(r){const e={exact:!0,...r};return this.getAll().find(n=>$j(e,n))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(n=>$j(r,n)):e}notify(r){As.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){As.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){As.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},$o=new WeakMap,nC),es,Ec,Ac,zf,Vf,Pc,Uf,Wf,sC,zU=(sC=class{constructor(t={}){Zt(this,es);Zt(this,Ec);Zt(this,Ac);Zt(this,zf);Zt(this,Vf);Zt(this,Pc);Zt(this,Uf);Zt(this,Wf);jt(this,es,t.queryCache||new $U),jt(this,Ec,t.mutationCache||new LU),jt(this,Ac,t.defaultOptions||{}),jt(this,zf,new Map),jt(this,Vf,new Map),jt(this,Pc,0)}mount(){jg(this,Pc)._++,Se(this,Pc)===1&&(jt(this,Uf,p_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,es).onFocus())})),jt(this,Wf,ky.subscribe(async t=>{t&&(await this.resumePausedMutations(),Se(this,es).onOnline())})))}unmount(){var t,r;jg(this,Pc)._--,Se(this,Pc)===0&&((t=Se(this,Uf))==null||t.call(this),jt(this,Uf,void 0),(r=Se(this,Wf))==null||r.call(this),jt(this,Wf,void 0))}isFetching(t){return Se(this,es).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Se(this,Ec).findAll({...t,status:"pending"}).length}getQueryData(t){const r=this.defaultQueryOptions({queryKey:t});return Se(this,es).get(r.queryHash)?.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),e=Se(this,es).build(this,r),n=e.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&e.isStaleByTime(Dc(r.staleTime,e))&&this.prefetchQuery(r),Promise.resolve(n))}getQueriesData(t){return Se(this,es).findAll(t).map(({queryKey:r,state:e})=>{const n=e.data;return[r,n]})}setQueryData(t,r,e){const n=this.defaultQueryOptions({queryKey:t}),i=Se(this,es).get(n.queryHash)?.state.data,o=wU(r,i);if(o!==void 0)return Se(this,es).build(this,n).setData(o,{...e,manual:!0})}setQueriesData(t,r,e){return As.batch(()=>Se(this,es).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,r,e)]))}getQueryState(t){const r=this.defaultQueryOptions({queryKey:t});return Se(this,es).get(r.queryHash)?.state}removeQueries(t){const r=Se(this,es);As.batch(()=>{r.findAll(t).forEach(e=>{r.remove(e)})})}resetQueries(t,r){const e=Se(this,es);return As.batch(()=>(e.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const e={revert:!0,...r},n=As.batch(()=>Se(this,es).findAll(t).map(s=>s.cancel(e)));return Promise.all(n).then(Da).catch(Da)}invalidateQueries(t,r={}){return As.batch(()=>(Se(this,es).findAll(t).forEach(e=>{e.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},r)))}refetchQueries(t,r={}){const e={...r,cancelRefetch:r.cancelRefetch??!0},n=As.batch(()=>Se(this,es).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,e);return e.throwOnError||(i=i.catch(Da)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Da)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const e=Se(this,es).build(this,r);return e.isStaleByTime(Dc(r.staleTime,e))?e.fetch(r):Promise.resolve(e.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Da).catch(Da)}fetchInfiniteQuery(t){return t.behavior=Gj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Da).catch(Da)}ensureInfiniteQueryData(t){return t.behavior=Gj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ky.isOnline()?Se(this,Ec).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,es)}getMutationCache(){return Se(this,Ec)}getDefaultOptions(){return Se(this,Ac)}setDefaultOptions(t){jt(this,Ac,t)}setQueryDefaults(t,r){Se(this,zf).set(ad(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...Se(this,zf).values()],e={};return r.forEach(n=>{Xp(t,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(t,r){Se(this,Vf).set(ad(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...Se(this,Vf).values()],e={};return r.forEach(n=>{Xp(t,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(t){if(t._defaulted)return t;const r={...Se(this,Ac).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=d_(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===f_&&(r.enabled=!1),r}defaultMutationOptions(t){return t?._defaulted?t:{...Se(this,Ac).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Se(this,es).clear(),Se(this,Ec).clear()}},es=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,zf=new WeakMap,Vf=new WeakMap,Pc=new WeakMap,Uf=new WeakMap,Wf=new WeakMap,sC),fA=E.createContext(void 0),ks=t=>{const r=E.useContext(fA);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},VU=({client:t,children:r})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(fA.Provider,{value:t,children:r})),hA=E.createContext(!1),UU=()=>E.useContext(hA);hA.Provider;function WU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qU=E.createContext(WU()),HU=()=>E.useContext(qU),KU=(t,r,e)=>{const n=e?.state.error&&typeof t.throwOnError=="function"?h_(t.throwOnError,[e.state.error,e]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(r.isReset()||(t.retryOnMount=!1))},GU=t=>{E.useEffect(()=>{t.clearReset()},[t])},XU=({result:t,errorResetBoundary:r,throwOnError:e,query:n,suspense:s})=>t.isError&&!r.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||h_(e,[t.error,n])),QU=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},YU=(t,r)=>t.isLoading&&t.isFetching&&!r,ZU=(t,r)=>t?.suspense&&r.isPending,Qj=(t,r,e)=>r.fetchOptimistic(t).catch(()=>{e.clearReset()});function JU(t,r,e){const n=UU(),s=HU(),i=ks(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const c=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",QU(o),KU(o,s,c),GU(s);const u=!i.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new r(i,o)),d=l.getOptimisticResult(o),p=!n&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(f=>{const h=p?l.subscribe(As.batchCalls(f)):Da;return l.updateResult(),h},[l,p]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o)},[o,l]),ZU(o,d))throw Qj(o,l,s);if(XU({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:c,suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!sd&&YU(d,n)&&(u?Qj(o,l,s):c?.promise)?.catch(Da).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?d:l.trackResult(d)}function vt(t,r){return JU(t,RU)}function It(t,r){const e=ks(),[n]=E.useState(()=>new BU(e,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const s=E.useSyncExternalStore(E.useCallback(o=>n.subscribe(As.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((o,c)=>{n.mutate(o,c).catch(Da)},[n]);if(s.error&&h_(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function au(){try{const t=yo.getPlatform();return t==="android"||t==="ios"}catch{return!1}}let Op=null;async function iu(){const{getDB:t}=await mn(async()=>{const{getDB:r}=await Promise.resolve().then(()=>YV);return{getDB:r}},void 0);return await t()}async function xb(){Op||(Op=au()?nl.waitForReady():iu().then(()=>{})),await Op}async function vd(){Op?await Op:await xb()}async function bh(t){if(await vd(),au())return await nl.getAll(t);const r=await iu();try{return await r.getAll(t)}catch{return[]}}async function vb(t,r){await vd();const e=(r.id||r.key||"").toString();e&&(au()?await nl.set(t,e,r):await(await iu()).put(t,r))}async function pA(t,r){await vd();const e=(r.id||r.key||"").toString();e&&(au()?await nl.set(t,e,r):await(await iu()).add(t,r))}async function g_(t,r){await vd(),au()?await nl.delete(t,r):await(await iu()).delete(t,r)}async function y_(t){if(await vd(),au())await nl.clearTable(t);else{const r=await iu();try{await r.clear(t)}catch(e){console.warn(`[smartClear] Failed to clear ${t}:`,e)}}}async function _f(t){if(await vd(),au())return await nl.count(t);const r=await iu();try{return await r.count(t)}catch{return 0}}async function Ic(t,r){if(!r||r.length===0)return 0;if(await vd(),au()){let e=0;for(const n of r)if(n&&(n.id||n.key)){const s=(n.id||n.key).toString();await nl.set(t,s,n),e++}return e}else{const e=await iu();let n=0;for(const s of r)if(s&&(s.id||s.key))try{await e.put(t,s),n++}catch(i){console.warn(`[smartSave] Failed to put record in ${t}:`,i)}return n}}const Qp=Object.freeze(Object.defineProperty({__proto__:null,initializeStorage:xb,smartAdd:pA,smartClear:y_,smartCount:_f,smartDelete:g_,smartGetAll:bh,smartPut:vb,smartSave:Ic},Symbol.toStringTag,{value:"Module"}));function Yj(){return typeof navigator<"u"?navigator.onLine:!0}var eW={};const r1="https://app2.binarjoinanelytic.info";function n1(){if(typeof window>"u")return!1;const t=window.Capacitor;if(t?.isNativePlatform?.()||t?.isNative===!0||t?.getPlatform?.()==="android"||t?.getPlatform?.()==="ios")return!0;const r=window.location.protocol;return r==="capacitor:"||r==="ionic:"}const Hf={isProduction:typeof window<"u"?window.location.hostname==="binarjoinanelytic.info"||window.location.hostname==="www.binarjoinanelytic.info"||n1():!0,isAndroid:typeof window<"u"&&n1(),getApiBaseUrl:()=>{if(typeof window>"u")return eW.VITE_API_BASE_URL||"";if(n1())return r1;const t=window.location.hostname;return t==="binarjoinanelytic.info"||t==="www.binarjoinanelytic.info"||t==="app2.binarjoinanelytic.info"?r1:""},getExternalServerUrl:()=>r1},xe={projects:["/api/projects"],projectsWithStats:["/api/projects/with-stats"],projectTypes:["/api/project-types"],materials:["/api/materials"],suppliers:["/api/suppliers"],workers:["/api/workers"],workerTypes:["/api/worker-types"],notifications:["/api/notifications"],autocomplete:["/api/autocomplete"],tasks:["/api/tasks"],transportationExpenses:["/api/transportation-expenses"],workerMiscExpenses:["/api/worker-misc-expenses"],financialSummary:["/api/financial-summary"],healthStats:["/api/health/stats"],users:["/api/users"],usersList:["/api/users/list"],aiSessions:["/api/ai/sessions"],backupsStatus:["/api/backups/status"],backupsLogs:["/api/backups/logs"],backupsDatabases:["/api/backups/databases"],equipment:["equipment"],equipmentMovements:["equipment-movements"],wells:["wells"],recentActivities:["/api/recent-activities"],recentActivitiesByProject:t=>["/api/recent-activities",t],healthFull:["/api/health/full"],incidents:["/api/incidents"],metricsSummary:["/api/metrics/summary"],aiAccess:["/api/ai/access"],dbConnections:["/api/db/connections"],dbStats:["/api/stats"],adminDataHealth:["/api/admin/data-health"],autocompleteTransportCategories:["/api/autocomplete/transport-categories"],autocompleteTransactionCategories:["/api/autocomplete/transaction-categories"],syncProjects:["/api/projects"],projectTransportation:(t,r,e)=>["/api/projects",t,"transportation",r,e].filter(Boolean),projectFundTransfersFiltered:(t,r)=>["/api/projects",t,"fund-transfers",r].filter(e=>e!==void 0),projectFundTransfersIncoming:(t,r)=>["/api/projects",t,"fund-transfers","incoming",r].filter(e=>e!==void 0),projectFundTransfersOutgoing:(t,r)=>["/api/projects",t,"fund-transfers","outgoing",r].filter(e=>e!==void 0),projectWorkerAttendanceFiltered:(t,r)=>["/api/projects",t,"worker-attendance",r].filter(e=>e!==void 0),projectMaterialPurchasesFiltered:(t,r)=>["/api/projects",t,"material-purchases",r].filter(e=>e!==void 0),transportationExpensesFiltered:(t,r)=>["/api/transportation-expenses",t,r].filter(e=>e!==void 0),workerMiscExpensesFiltered:(t,r)=>["/api/worker-misc-expenses",t,r].filter(Boolean),workerTransfersFiltered:(t,r)=>["/api/worker-transfers",t,r].filter(e=>e!==void 0),workerStats:(t,r)=>["/api/workers",t,"stats",r].filter(Boolean),projectAttendance:t=>["/api/projects",t,"attendance"],dailyExpensesComplex:(t,r,e)=>["/api/projects",t,r,e].filter(Boolean),materialPurchases:(t,r)=>["/api/projects",t,"material-purchases",r].filter(Boolean),workerAttendance:(t,r)=>["/api/projects",t,"worker-attendance",r].filter(Boolean),workerAttendanceAll:t=>["/api/projects",t,"worker-attendance"],dailyExpenses:(t,r)=>["/api/projects",t,"daily-expenses",r].filter(Boolean),previousBalance:(t,r)=>["/api/projects",t,"previous-balance",r].filter(Boolean),dailySummary:(t,r)=>["/api/projects",t,"daily-summary",r].filter(Boolean),projectStats:t=>["/api/projects",t,"stats"],workerTransfers:t=>["/api/worker-transfers",t],projectFundTransfers:["/api/project-fund-transfers"],allFundTransfers:["/api/projects/all/fund-transfers"],supplierStatistics:["/api/suppliers/statistics"],supplierStatisticsFiltered:(...t)=>["/api/suppliers/statistics",...t],materialPurchasesDateRange:["/api/material-purchases/date-range"],materialPurchasesFiltered:(...t)=>["/api/material-purchases",...t],dailyProjectTransfers:(t,r)=>["/api/daily-project-transfers",t,r].filter(Boolean),dailyExpenseSummaries:["/api/daily-expense-summaries"],wellTasks:t=>["well-tasks",t],wellExpenses:t=>["well-expenses",t],wellCostReport:t=>["well-cost-report",t],wellById:t=>["well",t],wellsByProject:t=>["wells",t],autocompleteCategory:t=>["autocomplete",t],autocompleteOwnerNames:t=>["autocomplete/ownerNames",t],autocompleteFanTypes:t=>["autocomplete/fanTypes",t],autocompletePumpPowers:t=>["autocomplete/pumpPowers",t],autocompleteTaskDescriptions:t=>["autocomplete/taskDescriptions",t],notificationsByUser:t=>["/api/notifications",t],adminNotifications:(...t)=>["admin-notifications",...t],userActivity:["user-activity"],metrics:["/api/metrics/current"],diagnostics:["/api/diagnostics/checks"],workerAttendanceEdit:t=>["/api/worker-attendance",t],materialPurchaseEdit:t=>["/api/material-purchases",t],reportsWorkerStatement:(...t)=>["/api/reports/worker-statement",...t],reportsDashboardKpis:(...t)=>["/api/reports/dashboard-kpis",...t],securityPolicies:["/api/security/policies"],securityViolations:["/api/security/violations"],securitySuggestions:["/api/security/suggestions"],projectCosts:t=>["project-costs",t],errorLogs:["/api/error-logs"],usersWithRoles:["/api/users","with-roles"],workerStatsSimple:t=>["/api/workers",t,"stats"],equipmentFiltered:(...t)=>["equipment",...t],equipmentMovementsById:t=>["equipment-movements",t],autocompleteAdmin:(...t)=>["autocomplete-admin",...t],autocompleteFanTypesPrefix:["autocomplete/fanTypes"],autocompletePumpPowersPrefix:["autocomplete/pumpPowers"],autocompleteOwnerNamesPrefix:["autocomplete/ownerNames"]};let Iw=null;function Zj(t){Iw=t}function tW(){return Iw?Iw.getAccessToken():localStorage.getItem("accessToken")}async function Ue(t,r="GET",e,n=0){const s=Hf.getApiBaseUrl();let i=t;if(!t.startsWith("http")){const l=t.startsWith("/")?t:`/${t}`;i=`${s}${l}`}const o=typeof window<"u"?localStorage.getItem("accessToken"):null;o||(console.warn(` [apiRequest]    : ${r} ${t}`),typeof window<"u"&&!window.location.pathname.includes("/login")&&t.includes("/auth/login"));const c={"Content-Type":"application/json"};o&&(c.Authorization=`Bearer ${o}`);const u={method:r,headers:c,credentials:"include"};e&&r!=="GET"&&(u.body=JSON.stringify(e));try{console.log(` API Request: ${r} ${t}`,e||"");const l=await fetch(i,u),d=l.headers.get("content-type");if(l.status===401){console.log(" [apiRequest] 401 Unauthorized - Checking tokens...");const f=localStorage.getItem("refreshToken");if(f&&n===0)try{const g=`${Hf.getApiBaseUrl()}/api/auth/refresh`;console.log(" [apiRequest] Attempting silent refresh...");const y=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:f})});if(y.ok){const m=await y.json(),v=m.data?.accessToken||m.accessToken,x=m.data?.refreshToken||m.refreshToken;if(v){console.log(" [apiRequest] Refresh successful, retrying request"),localStorage.setItem("accessToken",v),x&&localStorage.setItem("refreshToken",x);const S={...c,Authorization:`Bearer ${v}`},C={...u,headers:S},A=await fetch(i,C);if(!A.ok)throw new Error("    ");return await A.json()}}else console.error(" [apiRequest] Refresh response not OK:",y.status)}catch(h){console.error(" [apiRequest] Refresh failed:",h)}if(!window.location.pathname.includes("/login"))return console.warn(" [apiRequest] Session expired, but staying in-place for offline support."),null;throw new Error(" ")}if(!l.ok){let f=`HTTP error! status: ${l.status}`;try{if(d&&d.includes("application/json"))f=(await l.json()).message||f;else{const h=await l.text();console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:l.status,contentType:d,responsePreview:h.substring(0,200)})}}catch{}throw new Error(f)}if(!d||!d.includes("application/json")){const f=await l.text();throw console.error(" [apiRequest]   text/html; charset=UTF-8   JSON:",{url:t,method:r,status:l.status,contentType:d,responsePreview:f.substring(0,200)}),new Error(`   :  JSON    ${d}`)}const p=await l.json();return console.log(` API Response: ${r} ${t}`,p),p}catch(l){throw console.error(` API Error: ${r} ${t}`,l),l}}const rW=({on401:t,useLocalFallback:r=!0})=>async({queryKey:e})=>{const n=Hf.getApiBaseUrl(),s=e.join("/");let i=s;if(!s.startsWith("http"))if(n){const c=s.startsWith("/")?s:`/${s}`;i=`${n}${c}`}else s.startsWith("/")||(i=`/${s}`);async function o(c=0){const u=new AbortController,l=setTimeout(()=>u.abort(),3e4);try{const d=Yj();if(console.log(` [QueryClient]  : ${d?"":" "}`),!d&&r){console.log(` [QueryClient]   -     : ${e.join("/")}`);try{const y=e[0].startsWith("/api/")?e[0].substring(5):e[0],m=await bh(y);if(m&&Array.isArray(m)&&m.length>0)return console.log(` [QueryClient]   ${m.length}  `),m}catch(y){console.error(" [QueryClient]    :",y)}}const p={},f=tW();f&&(p.Authorization=`Bearer ${f}`),console.log(` [QueryClient]  : ${i}`,{hasToken:!!f,online:Yj()});const h=await fetch(i,{headers:p,credentials:"include",signal:u.signal});if(clearTimeout(l),!h.ok){if(h.status===401&&c===0){console.log(" [QueryClient] 401 -   ...");const m=localStorage.getItem("refreshToken");if(m)try{const x=`${Hf.getApiBaseUrl()}/api/auth/refresh`,S=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:m})});if(S.ok){const C=await S.json(),A=C.data?.accessToken||C.accessToken,B=C.data?.refreshToken||C.refreshToken;if(A)return console.log(" [QueryClient]      ..."),localStorage.setItem("accessToken",A),B&&localStorage.setItem("refreshToken",B),o(c+1)}}catch(v){console.error(" [QueryClient]   :",v)}throw console.error(" [QueryClient] Unauthorized (401) -  "),new Error("Authentication Error (401)")}if(h.status===401)throw new Error("Authentication Error (401)");const y=await h.json().catch(()=>({message:`Error ${h.status}`}));throw new Error(y?.message||`Error ${h.status}`)}const g=await h.json();if(console.log(` [QueryClient]    ${e.join("/")}:`,{hasData:!!g,dataType:typeof g}),console.log(` [QueryClient]    ${e.join("/")}:`,{dataType:typeof g,isObject:g&&typeof g=="object",hasSuccess:g?.success!==void 0,hasDataProperty:g?.data!==void 0,actualDataValue:g?.data,rawData:g}),g&&typeof g=="object"){const y=typeof e[0]=="string"&&e[0].includes("migration");if(g.success!==void 0&&g.hasOwnProperty("data"))return console.log(` [QueryClient]  API   ${e.join("/")}:`,{success:g.success,dataExists:g.data!==void 0,dataType:typeof g.data}),y?g.data:g.data===null||g.data===void 0?[]:g.data;if(Array.isArray(g))return console.log(` [QueryClient]    ${e.join("/")}:`,g.length),g;if(g.data!==void 0)return console.log(` [QueryClient]  data   ${e.join("/")}:`,g.data),g.data!==null?g.data:[]}return console.log(` [QueryClient]      ${e.join("/")}:`,g),g}catch(d){throw clearTimeout(l),d instanceof Error&&d.name==="AbortError"?(console.log(` [QueryClient] timeout  ${e.join("/")}`),new Error("      ")):(console.error(` [QueryClient]   ${e.join("/")}`,d),d)}}return o()},Eu={REFERENCE_DATA:1e3*60*10,ACTIVE_DATA:1e3*60*5},xn=new zU({defaultOptions:{queries:{queryFn:rW({on401:"throw",useLocalFallback:!0}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*60,retry:!1,refetchOnReconnect:!1,refetchOnMount:!1,placeholderData:t=>t},mutations:{retry:1}}}),Au=xe;async function nW(){console.log(" [Prefetch]     ...");const t=Date.now(),r=[xn.prefetchQuery({queryKey:Au.projects,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.projectsWithStats,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.workers,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.materials,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.suppliers,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.autocomplete,staleTime:Eu.REFERENCE_DATA}),xn.prefetchQuery({queryKey:Au.notifications,staleTime:Eu.ACTIVE_DATA})];try{await Promise.all(r);const e=Date.now()-t;console.log(` [Prefetch]       ${e}ms`)}catch(e){console.warn(" [Prefetch]    :",e)}}function sW(){console.log(" [Cache]    ..."),xn.clear()}const aW=3,iW=5e3;let s1=0;function oW(){return s1=(s1+1)%Number.MAX_SAFE_INTEGER,s1.toString()}const a1=new Map,Jj=t=>{if(a1.has(t))return;const r=setTimeout(()=>{a1.delete(t),Fp({type:"REMOVE_TOAST",toastId:t})},iW);a1.set(t,r)},lW=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,aW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=r;return e?Jj(e):t.toasts.forEach(n=>{Jj(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(e=>e.id!==r.toastId)}}},Zg=[];let Jg={toasts:[]};function Fp(t){Jg=lW(Jg,t),Zg.forEach(r=>{r(Jg)})}function mA({...t}){const r=oW(),e=s=>Fp({type:"UPDATE_TOAST",toast:{...s,id:r}}),n=()=>Fp({type:"DISMISS_TOAST",toastId:r});return Fp({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:s=>{s||n()}}}),{id:r,dismiss:n,update:e}}function wn(){const[t,r]=E.useState(Jg);return E.useEffect(()=>(Zg.push(r),()=>{const e=Zg.indexOf(r);e>-1&&Zg.splice(e,1)}),[t]),{...t,toast:mA,dismiss:e=>Fp({type:"DISMISS_TOAST",toastId:e})}}var wd=V9();const cW=o_(wd);function ut(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function e6(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function ll(...t){return r=>{let e=!1;const n=t.map(s=>{const i=e6(s,r);return!e&&typeof i=="function"&&(e=!0),i});if(e)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():e6(t[s],null)}}}}function Pr(...t){return E.useCallback(ll(...t),t)}function uW(t,r){const e=E.createContext(r),n=i=>{const{children:o,...c}=i,u=E.useMemo(()=>c,Object.values(c));return a.jsx(e.Provider,{value:u,children:o})};n.displayName=t+"Provider";function s(i){const o=E.useContext(e);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function da(t,r=[]){let e=[];function n(i,o){const c=E.createContext(o),u=e.length;e=[...e,o];const l=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=E.useMemo(()=>g,Object.values(g));return a.jsx(y.Provider,{value:m,children:h})};l.displayName=i+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=E.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[l,d]}const s=()=>{const i=e.map(o=>E.createContext(o));return function(c){const u=c?.[t]||i;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,dW(s,...r)]}function dW(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:u,scopeName:l})=>{const p=u(i)[`__scope${l}`];return{...c,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return e.scopeName=r.scopeName,e}function t6(t){const r=fW(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(pW);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function fW(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=gW(s),c=mW(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var hW=Symbol("radix.slottable");function pW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hW}function mW(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function gW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function wb(t){const r=t+"CollectionProvider",[e,n]=da(r),[s,i]=e(r,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:m,children:v}=y,x=Xt.useRef(null),S=Xt.useRef(new Map).current;return a.jsx(s,{scope:m,itemMap:S,collectionRef:x,children:v})};o.displayName=r;const c=t+"CollectionSlot",u=t6(c),l=Xt.forwardRef((y,m)=>{const{scope:v,children:x}=y,S=i(c,v),C=Pr(m,S.collectionRef);return a.jsx(u,{ref:C,children:x})});l.displayName=c;const d=t+"CollectionItemSlot",p="data-radix-collection-item",f=t6(d),h=Xt.forwardRef((y,m)=>{const{scope:v,children:x,...S}=y,C=Xt.useRef(null),A=Pr(m,C),B=i(d,v);return Xt.useEffect(()=>(B.itemMap.set(C,{ref:C,...S}),()=>void B.itemMap.delete(C))),a.jsx(f,{[p]:"",ref:A,children:x})});h.displayName=d;function g(y){const m=i(t+"CollectionConsumer",y);return Xt.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((B,q)=>S.indexOf(B.ref.current)-S.indexOf(q.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,n]}function i1(t,r,{checkForDefaultPrevented:e=!0}={}){return function(s){if(t?.(s),e===!1||!s.defaultPrevented)return r?.(s)}}function yW(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function gA(...t){return r=>t.forEach(e=>yW(e,r))}function yA(...t){return E.useCallback(gA(...t),t)}var bA=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),i=s.find(xW);if(i){const o=i.props.children,c=s.map(u=>u===i?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return a.jsx(Ow,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return a.jsx(Ow,{...n,ref:r,children:e})});bA.displayName="Slot";var Ow=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=wW(e);return E.cloneElement(e,{...vW(n,e.props),ref:r?gA(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});Ow.displayName="SlotClone";var bW=({children:t})=>a.jsx(a.Fragment,{children:t});function xW(t){return E.isValidElement(t)&&t.type===bW}function vW(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{i(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function wW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var _W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xA=_W.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:i,...o}=n,c=i?bA:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function kW(t,r){t&&wd.flushSync(()=>t.dispatchEvent(r))}function vA(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}function jW(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}function SW(t,r=globalThis?.document){const e=jW(t);E.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[e,r])}var NW="DismissableLayer",Fw="dismissableLayer.update",CW="dismissableLayer.pointerDownOutside",TW="dismissableLayer.focusOutside",r6,wA=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_d=E.forwardRef((t,r)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...u}=t,l=E.useContext(wA),[d,p]=E.useState(null),f=d?.ownerDocument??globalThis?.document,[,h]=E.useState({}),g=yA(r,q=>p(q)),y=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(m),x=d?y.indexOf(d):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,C=x>=v,A=AW(q=>{const D=q.target,I=[...l.branches].some(U=>U.contains(D));!C||I||(s?.(q),o?.(q),q.defaultPrevented||c?.())},f),B=PW(q=>{const D=q.target;[...l.branches].some(U=>U.contains(D))||(i?.(q),o?.(q),q.defaultPrevented||c?.())},f);return SW(q=>{x===l.layers.size-1&&(n?.(q),!q.defaultPrevented&&c&&(q.preventDefault(),c()))},f),E.useEffect(()=>{if(d)return e&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(r6=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),n6(),()=>{e&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=r6)}},[d,f,e,l]),E.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),n6())},[d,l]),E.useEffect(()=>{const q=()=>h({});return document.addEventListener(Fw,q),()=>document.removeEventListener(Fw,q)},[]),a.jsx(xA.div,{...u,ref:g,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:i1(t.onFocusCapture,B.onFocusCapture),onBlurCapture:i1(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:i1(t.onPointerDownCapture,A.onPointerDownCapture)})});_d.displayName=NW;var EW="DismissableLayerBranch",_A=E.forwardRef((t,r)=>{const e=E.useContext(wA),n=E.useRef(null),s=yA(r,n);return E.useEffect(()=>{const i=n.current;if(i)return e.branches.add(i),()=>{e.branches.delete(i)}},[e.branches]),a.jsx(xA.div,{...t,ref:s})});_A.displayName=EW;function AW(t,r=globalThis?.document){const e=vA(t),n=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let u=function(){kA(CW,e,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,e]),{onPointerDownCapture:()=>n.current=!0}}function PW(t,r=globalThis?.document){const e=vA(t),n=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!n.current&&kA(TW,e,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function n6(){const t=new CustomEvent(Fw);document.dispatchEvent(t)}function kA(t,r,e,{discrete:n}){const s=e.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?kW(s,i):s.dispatchEvent(i)}var MW=_d,RW=_A;function DW(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function IW(...t){return r=>t.forEach(e=>DW(e,r))}var jA=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),i=s.find(FW);if(i){const o=i.props.children,c=s.map(u=>u===i?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return a.jsx(Lw,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return a.jsx(Lw,{...n,ref:r,children:e})});jA.displayName="Slot";var Lw=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=BW(e);return E.cloneElement(e,{...LW(n,e.props),ref:r?IW(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});Lw.displayName="SlotClone";var OW=({children:t})=>a.jsx(a.Fragment,{children:t});function FW(t){return E.isValidElement(t)&&t.type===OW}function LW(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{i(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function BW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var $W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zW=$W.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:i,...o}=n,c=i?jA:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{}),VW=globalThis?.document?E.useLayoutEffect:()=>{},UW="Portal",xh=E.forwardRef((t,r)=>{const{container:e,...n}=t,[s,i]=E.useState(!1);VW(()=>i(!0),[]);const o=e||s&&globalThis?.document?.body;return o?cW.createPortal(a.jsx(zW.div,{...n,ref:r}),o):null});xh.displayName=UW;var Ks=globalThis?.document?E.useLayoutEffect:()=>{};function WW(t,r){return E.useReducer((e,n)=>r[e][n]??e,t)}var js=t=>{const{present:r,children:e}=t,n=qW(r),s=typeof e=="function"?e({present:n.isPresent}):E.Children.only(e),i=Pr(n.ref,HW(s));return typeof e=="function"||n.isPresent?E.cloneElement(s,{ref:i}):null};js.displayName="Presence";function qW(t){const[r,e]=E.useState(),n=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[c,u]=WW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=Cg(n.current);i.current=c==="mounted"?l:"none"},[c]),Ks(()=>{const l=n.current,d=s.current;if(d!==t){const f=i.current,h=Cg(l);t?u("MOUNT"):h==="none"||l?.display==="none"?u("UNMOUNT"):u(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Ks(()=>{if(r){let l;const d=r.ownerDocument.defaultView??window,p=h=>{const y=Cg(n.current).includes(CSS.escape(h.animationName));if(h.target===r&&y&&(u("ANIMATION_END"),!s.current)){const m=r.style.animationFillMode;r.style.animationFillMode="forwards",l=d.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=m)})}},f=h=>{h.target===r&&(i.current=Cg(n.current))};return r.addEventListener("animationstart",f),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{d.clearTimeout(l),r.removeEventListener("animationstart",f),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(l=>{n.current=l?getComputedStyle(l):null,e(l)},[])}}function Cg(t){return t?.animationName||"none"}function HW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}function KW(t){const r=GW(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(QW);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function GW(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=ZW(s),c=YW(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var XW=Symbol("radix.slottable");function QW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XW}function YW(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function ZW(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var JW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=JW.reduce((t,r)=>{const e=KW(`Primitive.${r}`),n=E.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{});function SA(t,r){t&&wd.flushSync(()=>t.dispatchEvent(r))}function xa(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}var eq=bb[" useInsertionEffect ".trim().toString()]||Ks;function Gi({prop:t,defaultProp:r,onChange:e=()=>{},caller:n}){const[s,i,o]=tq({defaultProp:r,onChange:e}),c=t!==void 0,u=c?t:s;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const p=d.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const l=E.useCallback(d=>{if(c){const p=rq(d)?d(t):d;p!==t&&o.current?.(p)}else i(d)},[c,t,i,o]);return[u,l]}function tq({defaultProp:t,onChange:r}){const[e,n]=E.useState(t),s=E.useRef(e),i=E.useRef(r);return eq(()=>{i.current=r},[r]),E.useEffect(()=>{s.current!==e&&(i.current?.(e),s.current=e)},[e,s]),[e,n,i]}function rq(t){return typeof t=="function"}var nq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sq="VisuallyHidden",b_=E.forwardRef((t,r)=>a.jsx(Ht.span,{...t,ref:r,style:{...nq,...t.style}}));b_.displayName=sq;var x_="ToastProvider",[v_,aq,iq]=wb("Toast"),[NA]=da("Toast",[iq]),[oq,_b]=NA(x_),CA=t=>{const{__scopeToast:r,label:e="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[c,u]=E.useState(null),[l,d]=E.useState(0),p=E.useRef(!1),f=E.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${x_}\`. Expected non-empty \`string\`.`),a.jsx(v_.Provider,{scope:r,children:a.jsx(oq,{scope:r,label:e,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:c,onViewportChange:u,onToastAdd:E.useCallback(()=>d(h=>h+1),[]),onToastRemove:E.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};CA.displayName=x_;var TA="ToastViewport",lq=["F8"],Bw="toast.viewportPause",$w="toast.viewportResume",EA=E.forwardRef((t,r)=>{const{__scopeToast:e,hotkey:n=lq,label:s="Notifications ({hotkey})",...i}=t,o=_b(TA,e),c=aq(e),u=E.useRef(null),l=E.useRef(null),d=E.useRef(null),p=E.useRef(null),f=Pr(r,p,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;E.useEffect(()=>{const m=v=>{n.length!==0&&n.every(S=>v[S]||v.code===S)&&p.current?.focus()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),E.useEffect(()=>{const m=u.current,v=p.current;if(g&&m&&v){const x=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(Bw);v.dispatchEvent(B),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent($w);v.dispatchEvent(B),o.isClosePausedRef.current=!1}},C=B=>{!m.contains(B.relatedTarget)&&S()},A=()=>{m.contains(document.activeElement)||S()};return m.addEventListener("focusin",x),m.addEventListener("focusout",C),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",A),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",C),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",A),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[g,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:m})=>{const x=c().map(S=>{const C=S.ref.current,A=[C,...wq(C)];return m==="forwards"?A:A.reverse()});return(m==="forwards"?x.reverse():x).flat()},[c]);return E.useEffect(()=>{const m=p.current;if(m){const v=x=>{const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const A=document.activeElement,B=x.shiftKey;if(x.target===m&&B){l.current?.focus();return}const I=y({tabbingDirection:B?"backwards":"forwards"}),U=I.findIndex(K=>K===A);o1(I.slice(U+1))?x.preventDefault():B?l.current?.focus():d.current?.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[c,y]),a.jsxs(RW,{ref:u,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(zw,{ref:l,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});o1(m)}}),a.jsx(v_.Slot,{scope:e,children:a.jsx(Ht.ol,{tabIndex:-1,...i,ref:f})}),g&&a.jsx(zw,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});o1(m)}})]})});EA.displayName=TA;var AA="ToastFocusProxy",zw=E.forwardRef((t,r)=>{const{__scopeToast:e,onFocusFromOutsideViewport:n,...s}=t,i=_b(AA,e);return a.jsx(b_,{tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{const c=o.relatedTarget;!i.viewport?.contains(c)&&n()}})});zw.displayName=AA;var qm="Toast",cq="toast.swipeStart",uq="toast.swipeMove",dq="toast.swipeCancel",fq="toast.swipeEnd",PA=E.forwardRef((t,r)=>{const{forceMount:e,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[c,u]=Gi({prop:n,defaultProp:s??!0,onChange:i,caller:qm});return a.jsx(js,{present:e||c,children:a.jsx(mq,{open:c,...o,ref:r,onClose:()=>u(!1),onPause:xa(t.onPause),onResume:xa(t.onResume),onSwipeStart:ut(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ut(t.onSwipeMove,l=>{const{x:d,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ut(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ut(t.onSwipeEnd,l=>{const{x:d,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});PA.displayName=qm;var[hq,pq]=NA(qm,{onClose(){}}),mq=E.forwardRef((t,r)=>{const{__scopeToast:e,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:l,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:h,...g}=t,y=_b(qm,e),[m,v]=E.useState(null),x=Pr(r,L=>v(L)),S=E.useRef(null),C=E.useRef(null),A=s||y.duration,B=E.useRef(0),q=E.useRef(A),D=E.useRef(0),{onToastAdd:I,onToastRemove:U}=y,K=xa(()=>{m?.contains(document.activeElement)&&y.viewport?.focus(),o()}),W=E.useCallback(L=>{!L||L===1/0||(window.clearTimeout(D.current),B.current=new Date().getTime(),D.current=window.setTimeout(K,L))},[K]);E.useEffect(()=>{const L=y.viewport;if(L){const T=()=>{W(q.current),l?.()},_=()=>{const k=new Date().getTime()-B.current;q.current=q.current-k,window.clearTimeout(D.current),u?.()};return L.addEventListener(Bw,_),L.addEventListener($w,T),()=>{L.removeEventListener(Bw,_),L.removeEventListener($w,T)}}},[y.viewport,A,u,l,W]),E.useEffect(()=>{i&&!y.isClosePausedRef.current&&W(A)},[i,A,y.isClosePausedRef,W]),E.useEffect(()=>(I(),()=>U()),[I,U]);const P=E.useMemo(()=>m?LA(m):null,[m]);return y.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(gq,{__scopeToast:e,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:P}),a.jsx(hq,{scope:e,onClose:K,children:wd.createPortal(a.jsx(v_.ItemSlot,{scope:e,children:a.jsx(MW,{asChild:!0,onEscapeKeyDown:ut(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||K(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ht.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ut(t.onKeyDown,L=>{L.key==="Escape"&&(c?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:ut(t.onPointerDown,L=>{L.button===0&&(S.current={x:L.clientX,y:L.clientY})}),onPointerMove:ut(t.onPointerMove,L=>{if(!S.current)return;const T=L.clientX-S.current.x,_=L.clientY-S.current.y,k=!!C.current,j=["left","right"].includes(y.swipeDirection),N=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,R=j?N(0,T):0,O=j?0:N(0,_),$=L.pointerType==="touch"?10:2,X={x:R,y:O},Y={originalEvent:L,delta:X};k?(C.current=X,Tg(uq,p,Y,{discrete:!1})):s6(X,y.swipeDirection,$)?(C.current=X,Tg(cq,d,Y,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(T)>$||Math.abs(_)>$)&&(S.current=null)}),onPointerUp:ut(t.onPointerUp,L=>{const T=C.current,_=L.target;if(_.hasPointerCapture(L.pointerId)&&_.releasePointerCapture(L.pointerId),C.current=null,S.current=null,T){const k=L.currentTarget,j={originalEvent:L,delta:T};s6(T,y.swipeDirection,y.swipeThreshold)?Tg(fq,h,j,{discrete:!0}):Tg(dq,f,j,{discrete:!0}),k.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),gq=t=>{const{__scopeToast:r,children:e,...n}=t,s=_b(qm,r),[i,o]=E.useState(!1),[c,u]=E.useState(!1);return xq(()=>o(!0)),E.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),c?null:a.jsx(xh,{asChild:!0,children:a.jsx(b_,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",e]})})})},yq="ToastTitle",MA=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return a.jsx(Ht.div,{...n,ref:r})});MA.displayName=yq;var bq="ToastDescription",RA=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t;return a.jsx(Ht.div,{...n,ref:r})});RA.displayName=bq;var DA="ToastAction",IA=E.forwardRef((t,r)=>{const{altText:e,...n}=t;return e.trim()?a.jsx(FA,{altText:e,asChild:!0,children:a.jsx(w_,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${DA}\`. Expected non-empty \`string\`.`),null)});IA.displayName=DA;var OA="ToastClose",w_=E.forwardRef((t,r)=>{const{__scopeToast:e,...n}=t,s=pq(OA,e);return a.jsx(FA,{asChild:!0,children:a.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ut(t.onClick,s.onClose)})})});w_.displayName=OA;var FA=E.forwardRef((t,r)=>{const{__scopeToast:e,altText:n,...s}=t;return a.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:r})});function LA(t){const r=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&r.push(n.textContent),vq(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...LA(n))}}),r}function Tg(t,r,e,{discrete:n}){const s=e.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e});r&&s.addEventListener(t,r,{once:!0}),n?SA(s,i):s.dispatchEvent(i)}var s6=(t,r,e=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return r==="left"||r==="right"?i&&n>e:!i&&s>e};function xq(t=()=>{}){const r=xa(t);Ks(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[r])}function vq(t){return t.nodeType===t.ELEMENT_NODE}function wq(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function o1(t){const r=document.activeElement;return t.some(e=>e===r?!0:(e.focus(),document.activeElement!==r))}var _q=CA,BA=EA,$A=PA,zA=MA,VA=RA,UA=IA,WA=w_;function qA(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(e=qA(t[r]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function HA(){for(var t,r,e=0,n="",s=arguments.length;e<s;e++)(t=arguments[e])&&(r=qA(t))&&(n&&(n+=" "),n+=r);return n}const a6=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,i6=HA,kd=(t,r)=>e=>{var n;if(r?.variants==null)return i6(t,e?.class,e?.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(l=>{const d=e?.[l],p=i?.[l];if(d===null)return null;const f=a6(d)||a6(p);return s[l][f]}),c=e&&Object.entries(e).reduce((l,d)=>{let[p,f]=d;return f===void 0||(l[p]=f),l},{}),u=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((l,d)=>{let{class:p,className:f,...h}=d;return Object.entries(h).every(g=>{let[y,m]=g;return Array.isArray(m)?m.includes({...i,...c}[y]):{...i,...c}[y]===m})?[...l,p,f]:l},[]);return i6(t,o,u,e?.class,e?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KA=(...t)=>t.filter((r,e,n)=>!!r&&n.indexOf(r)===e).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=E.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...c},u)=>E.createElement("svg",{ref:u,...jq,width:r,height:r,stroke:t,strokeWidth:n?Number(e)*24/Number(r):e,className:KA("lucide",s),...c},[...o.map(([l,d])=>E.createElement(l,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,r)=>{const e=E.forwardRef(({className:n,...s},i)=>E.createElement(Sq,{ref:i,iconNode:r,className:KA(`lucide-${kq(t)}`,n),...s}));return e.displayName=`${t}`,e};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ke("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ke("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Ke("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Ke("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Ke("ChartGantt",[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Ke("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Ke("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Ke("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Ke("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ke("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=Ke("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Ke("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Ke("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Ke("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ke("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Ke("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Ke("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Ke("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Ke("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ke("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Ke("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Ke("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Ke("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Ke("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=Ke("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Ke("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Ke("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Ke("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Ke("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Ke("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=Ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=Ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=Ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Ke("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=Ke("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=Ke("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Ke("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Ke("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Ke("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=Ke("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Ke("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Ke("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Ke("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),C_="-",cH=t=>{const r=dH(t),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const c=o.split(C_);return c[0]===""&&c.length!==1&&c.shift(),o7(c,r)||uH(o)},getConflictingClassGroupIds:(o,c)=>{const u=e[o]||[];return c&&n[o]?[...u,...n[o]]:u}}},o7=(t,r)=>{if(t.length===0)return r.classGroupId;const e=t[0],n=r.nextPart.get(e),s=n?o7(t.slice(1),n):void 0;if(s)return s;if(r.validators.length===0)return;const i=t.join(C_);return r.validators.find(({validator:o})=>o(i))?.classGroupId},m6=/^\[(.+)\]$/,uH=t=>{if(m6.test(t)){const r=m6.exec(t)[1],e=r?.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},dH=t=>{const{theme:r,prefix:e}=t,n={nextPart:new Map,validators:[]};return hH(Object.entries(t.classGroups),e).forEach(([i,o])=>{Gw(o,n,i,r)}),n},Gw=(t,r,e,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?r:g6(r,s);i.classGroupId=e;return}if(typeof s=="function"){if(fH(s)){Gw(s(n),r,e,n);return}r.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([i,o])=>{Gw(o,g6(r,i),e,n)})})},g6=(t,r)=>{let e=t;return r.split(C_).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},fH=t=>t.isThemeGetter,hH=(t,r)=>r?t.map(([e,n])=>{const s=n.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[r+o,c])):i);return[e,s]}):t,pH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,n=new Map;const s=(i,o)=>{e.set(i,o),r++,r>t&&(r=0,n=e,e=new Map)};return{get(i){let o=e.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){e.has(i)?e.set(i,o):s(i,o)}}},l7="!",mH=t=>{const{separator:r,experimentalParseClassName:e}=t,n=r.length===1,s=r[0],i=r.length,o=c=>{const u=[];let l=0,d=0,p;for(let m=0;m<c.length;m++){let v=c[m];if(l===0){if(v===s&&(n||c.slice(m,m+i)===r)){u.push(c.slice(d,m)),d=m+i;continue}if(v==="/"){p=m;continue}}v==="["?l++:v==="]"&&l--}const f=u.length===0?c:c.substring(d),h=f.startsWith(l7),g=h?f.substring(1):f,y=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return e?c=>e({className:c,parseClassName:o}):o},gH=t=>{if(t.length<=1)return t;const r=[];let e=[];return t.forEach(n=>{n[0]==="["?(r.push(...e.sort(),n),e=[]):e.push(n)}),r.push(...e.sort()),r},yH=t=>({cache:pH(t.cacheSize),parseClassName:mH(t),...cH(t)}),bH=/\s+/,xH=(t,r)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s}=r,i=[],o=t.trim().split(bH);let c="";for(let u=o.length-1;u>=0;u-=1){const l=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}=e(l);let g=!!h,y=n(g?f.substring(0,h):f);if(!y){if(!g){c=l+(c.length>0?" "+c:c);continue}if(y=n(f),!y){c=l+(c.length>0?" "+c:c);continue}g=!1}const m=gH(d).join(":"),v=p?m+l7:m,x=v+y;if(i.includes(x))continue;i.push(x);const S=s(y,g);for(let C=0;C<S.length;++C){const A=S[C];i.push(v+A)}c=l+(c.length>0?" "+c:c)}return c};function vH(){let t=0,r,e,n="";for(;t<arguments.length;)(r=arguments[t++])&&(e=c7(r))&&(n&&(n+=" "),n+=e);return n}const c7=t=>{if(typeof t=="string")return t;let r,e="";for(let n=0;n<t.length;n++)t[n]&&(r=c7(t[n]))&&(e&&(e+=" "),e+=r);return e};function wH(t,...r){let e,n,s,i=o;function o(u){const l=r.reduce((d,p)=>p(d),t());return e=yH(l),n=e.cache.get,s=e.cache.set,i=c,c(u)}function c(u){const l=n(u);if(l)return l;const d=xH(u,e);return s(u,d),d}return function(){return i(vH.apply(null,arguments))}}const Pn=t=>{const r=e=>e[t]||[];return r.isThemeGetter=!0,r},u7=/^\[(?:([a-z-]+):)?(.+)\]$/i,_H=/^\d+\/\d+$/,kH=new Set(["px","full","screen"]),jH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=t=>Sf(t)||kH.has(t)||_H.test(t),gc=t=>vh(t,"length",OH),Sf=t=>!!t&&!Number.isNaN(Number(t)),c1=t=>vh(t,"number",Sf),yp=t=>!!t&&Number.isInteger(Number(t)),EH=t=>t.endsWith("%")&&Sf(t.slice(0,-1)),Br=t=>u7.test(t),yc=t=>jH.test(t),AH=new Set(["length","size","percentage"]),PH=t=>vh(t,AH,d7),MH=t=>vh(t,"position",d7),RH=new Set(["image","url"]),DH=t=>vh(t,RH,LH),IH=t=>vh(t,"",FH),bp=()=>!0,vh=(t,r,e)=>{const n=u7.exec(t);return n?n[1]?typeof r=="string"?n[1]===r:r.has(n[1]):e(n[2]):!1},OH=t=>SH.test(t)&&!NH.test(t),d7=()=>!1,FH=t=>CH.test(t),LH=t=>TH.test(t),BH=()=>{const t=Pn("colors"),r=Pn("spacing"),e=Pn("blur"),n=Pn("brightness"),s=Pn("borderColor"),i=Pn("borderRadius"),o=Pn("borderSpacing"),c=Pn("borderWidth"),u=Pn("contrast"),l=Pn("grayscale"),d=Pn("hueRotate"),p=Pn("invert"),f=Pn("gap"),h=Pn("gradientColorStops"),g=Pn("gradientColorStopPositions"),y=Pn("inset"),m=Pn("margin"),v=Pn("opacity"),x=Pn("padding"),S=Pn("saturate"),C=Pn("scale"),A=Pn("sepia"),B=Pn("skew"),q=Pn("space"),D=Pn("translate"),I=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Br,r],W=()=>[Br,r],P=()=>["",vl,gc],L=()=>["auto",Sf,Br],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Br],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Sf,Br];return{cacheSize:500,separator:":",theme:{colors:[bp],spacing:[vl,gc],blur:["none","",yc,Br],brightness:O(),borderColor:[t],borderRadius:["none","","full",yc,Br],borderSpacing:W(),borderWidth:P(),contrast:O(),grayscale:N(),hueRotate:O(),invert:N(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[EH,gc],inset:K(),margin:K(),opacity:O(),padding:W(),saturate:O(),scale:O(),sepia:N(),skew:O(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Br]}],container:["container"],columns:[{columns:[yc]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Br]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yp,Br]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Br]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",yp,Br]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",yp,Br]},Br]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[yp,Br]},Br]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Br]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Br]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Br,r]}],"min-w":[{"min-w":[Br,r,"min","max","fit"]}],"max-w":[{"max-w":[Br,r,"none","full","min","max","fit","prose",{screen:[yc]},yc]}],h:[{h:[Br,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Br,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Br,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Br,r,"auto","min","max","fit"]}],"font-size":[{text:["base",yc,gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",c1]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Br]}],"line-clamp":[{"line-clamp":["none",Sf,c1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vl,Br]}],"list-image":[{"list-image":["none",Br]}],"list-style-type":[{list:["none","disc","decimal",Br]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vl,gc]}],"underline-offset":[{"underline-offset":["auto",vl,Br]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Br]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Br]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),MH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[vl,Br]}],"outline-w":[{outline:[vl,gc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[vl,gc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yc,IH]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",yc,Br]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Br]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Br]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Br]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[yp,Br]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Br]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Br]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Br]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vl,gc,c1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$H=wH(BH);function Ae(...t){return $H(HA(t))}const Je=t=>{if(t==null)return"0 .";let r;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/))return"0 .";const e=t.replace(/[^\d.-]/g,"");r=parseFloat(e)}else r=t;return isNaN(r)||!isFinite(r)?"0 .":Math.abs(r)>1e11?(console.warn("    :",r),"0 ."):`${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})} .`},_n=t=>{if(t==null)return 0;if(typeof t=="number")return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?0:t;if(typeof t=="string"){if(t.match(/^(\d{1,3})\1{2,}$/)||t.match(/^(\d)\1{5,}$/))return 0;const r=t.replace(/[^\d.-]/g,""),e=parseFloat(r);return isNaN(e)||!isFinite(e)||Math.abs(e)>1e11?0:e}return 0},Oo=t=>{const r=typeof t=="string"?new Date(t):t;return isNaN(r.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).format(r).replace(/[-]/g,n=>"0123456789"["".indexOf(n)])},y6=t=>{const r=typeof t=="string"?new Date(t):t;if(isNaN(r.getTime()))return"";const e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${s}`};function aa(){return new Date().toISOString().split("T")[0]}const zH=_q,f7=E.forwardRef(({className:t,...r},e)=>a.jsx(BA,{ref:e,className:Ae("fixed top-4 left-4 z-[9999] flex max-h-screen w-full max-w-md flex-col gap-3 p-4 sm:max-w-[420px]",t),...r}));f7.displayName=BA.displayName;const VH=kd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-2xl border p-4 pr-8 shadow-2xl transition-all duration-300 ease-out data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full data-[state=open]:slide-in-from-top-8 backdrop-blur-md hover:scale-[1.02] hover:shadow-3xl",{variants:{variant:{default:"border-border bg-card dark:bg-slate-900 text-foreground shadow-lg",destructive:"destructive group border-destructive/50 bg-destructive/10 dark:bg-destructive/20 text-destructive shadow-lg backdrop-blur-xl",success:"border-green-500/50 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 shadow-lg",warning:"border-yellow-500/50 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 shadow-lg"}},defaultVariants:{variant:"default"}}),h7=E.forwardRef(({className:t,variant:r,...e},n)=>a.jsx($A,{ref:n,className:Ae(VH({variant:r}),t),...e}));h7.displayName=$A.displayName;const UH=E.forwardRef(({className:t,...r},e)=>a.jsx(UA,{ref:e,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-xl border bg-transparent px-3 text-sm font-medium ring-offset-background transition-all duration-200 hover:bg-secondary hover:scale-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-red-300/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400",t),...r}));UH.displayName=UA.displayName;const p7=E.forwardRef(({className:t,...r},e)=>a.jsx(WA,{ref:e,className:Ae("absolute right-2 top-2 rounded-xl p-1.5 text-foreground/50 opacity-0 transition-all duration-200 hover:text-foreground hover:bg-gray-100/80 hover:scale-110 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:hover:bg-red-500/20 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:a.jsx(Us,{className:"h-4 w-4 transition-transform duration-200 hover:rotate-90"})}));p7.displayName=WA.displayName;const m7=E.forwardRef(({className:t,...r},e)=>a.jsx(zA,{ref:e,className:Ae("text-sm font-bold tracking-wide",t),...r}));m7.displayName=zA.displayName;const g7=E.forwardRef(({className:t,...r},e)=>a.jsx(VA,{ref:e,className:Ae("text-sm opacity-90 leading-relaxed",t),...r}));g7.displayName=VA.displayName;function WH(){const{toasts:t}=wn();return a.jsxs(zH,{children:[t.map(function({id:r,title:e,description:n,action:s,...i}){return a.jsxs(h7,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[e&&a.jsx(m7,{children:e}),n&&a.jsx(g7,{children:n})]}),s,a.jsx(p7,{})]},r)}),a.jsx(f7,{})]})}var qH=bb[" useId ".trim().toString()]||(()=>{}),HH=0;function _i(t){const[r,e]=E.useState(qH());return Ks(()=>{e(n=>n??String(HH++))},[t]),r?`radix-${r}`:""}const KH=["top","right","bottom","left"],Xc=Math.min,yi=Math.max,Ny=Math.round,Eg=Math.floor,Xo=t=>({x:t,y:t}),GH={left:"right",right:"left",bottom:"top",top:"bottom"},XH={start:"end",end:"start"};function Xw(t,r,e){return yi(t,Xc(r,e))}function Vl(t,r){return typeof t=="function"?t(r):t}function Ul(t){return t.split("-")[0]}function wh(t){return t.split("-")[1]}function T_(t){return t==="x"?"y":"x"}function E_(t){return t==="y"?"height":"width"}const QH=new Set(["top","bottom"]);function qo(t){return QH.has(Ul(t))?"y":"x"}function A_(t){return T_(qo(t))}function YH(t,r,e){e===void 0&&(e=!1);const n=wh(t),s=A_(t),i=E_(s);let o=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Cy(o)),[o,Cy(o)]}function ZH(t){const r=Cy(t);return[Qw(t),r,Qw(r)]}function Qw(t){return t.replace(/start|end/g,r=>XH[r])}const b6=["left","right"],x6=["right","left"],JH=["top","bottom"],eK=["bottom","top"];function tK(t,r,e){switch(t){case"top":case"bottom":return e?r?x6:b6:r?b6:x6;case"left":case"right":return r?JH:eK;default:return[]}}function rK(t,r,e,n){const s=wh(t);let i=tK(Ul(t),e==="start",n);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(Qw)))),i}function Cy(t){return t.replace(/left|right|bottom|top/g,r=>GH[r])}function nK(t){return{top:0,right:0,bottom:0,left:0,...t}}function y7(t){return typeof t!="number"?nK(t):{top:t,right:t,bottom:t,left:t}}function Ty(t){const{x:r,y:e,width:n,height:s}=t;return{width:n,height:s,top:e,left:r,right:r+n,bottom:e+s,x:r,y:e}}function v6(t,r,e){let{reference:n,floating:s}=t;const i=qo(r),o=A_(r),c=E_(o),u=Ul(r),l=i==="y",d=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,f=n[c]/2-s[c]/2;let h;switch(u){case"top":h={x:d,y:n.y-s.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:p};break;case"left":h={x:n.x-s.width,y:p};break;default:h={x:n.x,y:n.y}}switch(wh(r)){case"start":h[o]-=f*(e&&l?-1:1);break;case"end":h[o]+=f*(e&&l?-1:1);break}return h}const sK=async(t,r,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=e,c=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let l=await o.getElementRects({reference:t,floating:r,strategy:s}),{x:d,y:p}=v6(l,n,u),f=n,h={},g=0;for(let y=0;y<c.length;y++){const{name:m,fn:v}=c[y],{x,y:S,data:C,reset:A}=await v({x:d,y:p,initialPlacement:n,placement:f,strategy:s,middlewareData:h,rects:l,platform:o,elements:{reference:t,floating:r}});d=x??d,p=S??p,h={...h,[m]:{...h[m],...C}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(l=A.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:s}):A.rects),{x:d,y:p}=v6(l,f,u)),y=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:h}};async function tm(t,r){var e;r===void 0&&(r={});const{x:n,y:s,platform:i,rects:o,elements:c,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=Vl(r,t),g=y7(h),m=c[f?p==="floating"?"reference":"floating":p],v=Ty(await i.getClippingRect({element:(e=await(i.isElement==null?void 0:i.isElement(m)))==null||e?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:d,strategy:u})),x=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Ty(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:S,strategy:u}):x);return{top:(v.top-A.top+g.top)/C.y,bottom:(A.bottom-v.bottom+g.bottom)/C.y,left:(v.left-A.left+g.left)/C.x,right:(A.right-v.right+g.right)/C.x}}const aK=t=>({name:"arrow",options:t,async fn(r){const{x:e,y:n,placement:s,rects:i,platform:o,elements:c,middlewareData:u}=r,{element:l,padding:d=0}=Vl(t,r)||{};if(l==null)return{};const p=y7(d),f={x:e,y:n},h=A_(s),g=E_(h),y=await o.getDimensions(l),m=h==="y",v=m?"top":"left",x=m?"bottom":"right",S=m?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[h]-f[h]-i.floating[g],A=f[h]-i.reference[h],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let q=B?B[S]:0;(!q||!await(o.isElement==null?void 0:o.isElement(B)))&&(q=c.floating[S]||i.floating[g]);const D=C/2-A/2,I=q/2-y[g]/2-1,U=Xc(p[v],I),K=Xc(p[x],I),W=U,P=q-y[g]-K,L=q/2-y[g]/2+D,T=Xw(W,L,P),_=!u.arrow&&wh(s)!=null&&L!==T&&i.reference[g]/2-(L<W?U:K)-y[g]/2<0,k=_?L<W?L-W:L-P:0;return{[h]:f[h]+k,data:{[h]:T,centerOffset:L-T-k,..._&&{alignmentOffset:k}},reset:_}}}),iK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var e,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:u,elements:l}=r,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...m}=Vl(t,r);if((e=i.arrow)!=null&&e.alignmentOffset)return{};const v=Ul(s),x=qo(c),S=Ul(c)===c,C=await(u.isRTL==null?void 0:u.isRTL(l.floating)),A=f||(S||!y?[Cy(c)]:ZH(c)),B=g!=="none";!f&&B&&A.push(...rK(c,y,g,C));const q=[c,...A],D=await tm(r,m),I=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&I.push(D[v]),p){const L=YH(s,o,C);I.push(D[L[0]],D[L[1]])}if(U=[...U,{placement:s,overflows:I}],!I.every(L=>L<=0)){var K,W;const L=(((K=i.flip)==null?void 0:K.index)||0)+1,T=q[L];if(T&&(!(p==="alignment"?x!==qo(T):!1)||U.every(j=>qo(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:L,overflows:U},reset:{placement:T}};let _=(W=U.filter(k=>k.overflows[0]<=0).sort((k,j)=>k.overflows[1]-j.overflows[1])[0])==null?void 0:W.placement;if(!_)switch(h){case"bestFit":{var P;const k=(P=U.filter(j=>{if(B){const N=qo(j.placement);return N===x||N==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((j,N)=>j[1]-N[1])[0])==null?void 0:P[0];k&&(_=k);break}case"initialPlacement":_=c;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function w6(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function _6(t){return KH.some(r=>t[r]>=0)}const oK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:e}=r,{strategy:n="referenceHidden",...s}=Vl(t,r);switch(n){case"referenceHidden":{const i=await tm(r,{...s,elementContext:"reference"}),o=w6(i,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_6(o)}}}case"escaped":{const i=await tm(r,{...s,altBoundary:!0}),o=w6(i,e.floating);return{data:{escapedOffsets:o,escaped:_6(o)}}}default:return{}}}}},b7=new Set(["left","top"]);async function lK(t,r){const{placement:e,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ul(e),c=wh(e),u=qo(e)==="y",l=b7.has(o)?-1:1,d=i&&u?-1:1,p=Vl(r,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof g=="number"&&(h=c==="end"?g*-1:g),u?{x:h*d,y:f*l}:{x:f*l,y:h*d}}const cK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var e,n;const{x:s,y:i,placement:o,middlewareData:c}=r,u=await lK(r,t);return o===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},uK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:e,y:n,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:m=>{let{x:v,y:x}=m;return{x:v,y:x}}},...u}=Vl(t,r),l={x:e,y:n},d=await tm(r,u),p=qo(Ul(s)),f=T_(p);let h=l[f],g=l[p];if(i){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=h+d[m],S=h-d[v];h=Xw(x,h,S)}if(o){const m=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=g+d[m],S=g-d[v];g=Xw(x,g,S)}const y=c.fn({...r,[f]:h,[p]:g});return{...y,data:{x:y.x-e,y:y.y-n,enabled:{[f]:i,[p]:o}}}}}},dK=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:e,y:n,placement:s,rects:i,middlewareData:o}=r,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=Vl(t,r),d={x:e,y:n},p=qo(s),f=T_(p);let h=d[f],g=d[p];const y=Vl(c,r),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const S=f==="y"?"height":"width",C=i.reference[f]-i.floating[S]+m.mainAxis,A=i.reference[f]+i.reference[S]-m.mainAxis;h<C?h=C:h>A&&(h=A)}if(l){var v,x;const S=f==="y"?"width":"height",C=b7.has(Ul(s)),A=i.reference[p]-i.floating[S]+(C&&((v=o.offset)==null?void 0:v[p])||0)+(C?0:m.crossAxis),B=i.reference[p]+i.reference[S]+(C?0:((x=o.offset)==null?void 0:x[p])||0)-(C?m.crossAxis:0);g<A?g=A:g>B&&(g=B)}return{[f]:h,[p]:g}}}},fK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var e,n;const{placement:s,rects:i,platform:o,elements:c}=r,{apply:u=()=>{},...l}=Vl(t,r),d=await tm(r,l),p=Ul(s),f=wh(s),h=qo(s)==="y",{width:g,height:y}=i.floating;let m,v;p==="top"||p==="bottom"?(m=p,v=f===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,S=g-d.left-d.right,C=Xc(y-d[m],x),A=Xc(g-d[v],S),B=!r.middlewareData.shift;let q=C,D=A;if((e=r.middlewareData.shift)!=null&&e.enabled.x&&(D=S),(n=r.middlewareData.shift)!=null&&n.enabled.y&&(q=x),B&&!f){const U=yi(d.left,0),K=yi(d.right,0),W=yi(d.top,0),P=yi(d.bottom,0);h?D=g-2*(U!==0||K!==0?U+K:yi(d.left,d.right)):q=y-2*(W!==0||P!==0?W+P:yi(d.top,d.bottom))}await u({...r,availableWidth:D,availableHeight:q});const I=await o.getDimensions(c.floating);return g!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function kb(){return typeof window<"u"}function _h(t){return x7(t)?(t.nodeName||"").toLowerCase():"#document"}function ki(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function cl(t){var r;return(r=(x7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function x7(t){return kb()?t instanceof Node||t instanceof ki(t).Node:!1}function vo(t){return kb()?t instanceof Element||t instanceof ki(t).Element:!1}function sl(t){return kb()?t instanceof HTMLElement||t instanceof ki(t).HTMLElement:!1}function k6(t){return!kb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ki(t).ShadowRoot}const hK=new Set(["inline","contents"]);function Qm(t){const{overflow:r,overflowX:e,overflowY:n,display:s}=wo(t);return/auto|scroll|overlay|hidden|clip/.test(r+n+e)&&!hK.has(s)}const pK=new Set(["table","td","th"]);function mK(t){return pK.has(_h(t))}const gK=[":popover-open",":modal"];function jb(t){return gK.some(r=>{try{return t.matches(r)}catch{return!1}})}const yK=["transform","translate","scale","rotate","perspective"],bK=["transform","translate","scale","rotate","perspective","filter"],xK=["paint","layout","strict","content"];function P_(t){const r=M_(),e=vo(t)?wo(t):t;return yK.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!r&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!r&&(e.filter?e.filter!=="none":!1)||bK.some(n=>(e.willChange||"").includes(n))||xK.some(n=>(e.contain||"").includes(n))}function vK(t){let r=Qc(t);for(;sl(r)&&!Xf(r);){if(P_(r))return r;if(jb(r))return null;r=Qc(r)}return null}function M_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wK=new Set(["html","body","#document"]);function Xf(t){return wK.has(_h(t))}function wo(t){return ki(t).getComputedStyle(t)}function Sb(t){return vo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qc(t){if(_h(t)==="html")return t;const r=t.assignedSlot||t.parentNode||k6(t)&&t.host||cl(t);return k6(r)?r.host:r}function v7(t){const r=Qc(t);return Xf(r)?t.ownerDocument?t.ownerDocument.body:t.body:sl(r)&&Qm(r)?r:v7(r)}function rm(t,r,e){var n;r===void 0&&(r=[]),e===void 0&&(e=!0);const s=v7(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=ki(s);if(i){const c=Yw(o);return r.concat(o,o.visualViewport||[],Qm(s)?s:[],c&&e?rm(c):[])}return r.concat(s,rm(s,[],e))}function Yw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function w7(t){const r=wo(t);let e=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const s=sl(t),i=s?t.offsetWidth:e,o=s?t.offsetHeight:n,c=Ny(e)!==i||Ny(n)!==o;return c&&(e=i,n=o),{width:e,height:n,$:c}}function R_(t){return vo(t)?t:t.contextElement}function Nf(t){const r=R_(t);if(!sl(r))return Xo(1);const e=r.getBoundingClientRect(),{width:n,height:s,$:i}=w7(r);let o=(i?Ny(e.width):e.width)/n,c=(i?Ny(e.height):e.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const _K=Xo(0);function _7(t){const r=ki(t);return!M_()||!r.visualViewport?_K:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function kK(t,r,e){return r===void 0&&(r=!1),!e||r&&e!==ki(t)?!1:r}function ld(t,r,e,n){r===void 0&&(r=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect(),i=R_(t);let o=Xo(1);r&&(n?vo(n)&&(o=Nf(n)):o=Nf(t));const c=kK(i,e,n)?_7(i):Xo(0);let u=(s.left+c.x)/o.x,l=(s.top+c.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const f=ki(i),h=n&&vo(n)?ki(n):n;let g=f,y=Yw(g);for(;y&&n&&h!==g;){const m=Nf(y),v=y.getBoundingClientRect(),x=wo(y),S=v.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,C=v.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;u*=m.x,l*=m.y,d*=m.x,p*=m.y,u+=S,l+=C,g=ki(y),y=Yw(g)}}return Ty({width:d,height:p,x:u,y:l})}function Nb(t,r){const e=Sb(t).scrollLeft;return r?r.left+e:ld(cl(t)).left+e}function k7(t,r){const e=t.getBoundingClientRect(),n=e.left+r.scrollLeft-Nb(t,e),s=e.top+r.scrollTop;return{x:n,y:s}}function jK(t){let{elements:r,rect:e,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=cl(n),c=r?jb(r.floating):!1;if(n===o||c&&i)return e;let u={scrollLeft:0,scrollTop:0},l=Xo(1);const d=Xo(0),p=sl(n);if((p||!p&&!i)&&((_h(n)!=="body"||Qm(o))&&(u=Sb(n)),sl(n))){const h=ld(n);l=Nf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const f=o&&!p&&!i?k7(o,u):Xo(0);return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-u.scrollLeft*l.x+d.x+f.x,y:e.y*l.y-u.scrollTop*l.y+d.y+f.y}}function SK(t){return Array.from(t.getClientRects())}function NK(t){const r=cl(t),e=Sb(t),n=t.ownerDocument.body,s=yi(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),i=yi(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+Nb(t);const c=-e.scrollTop;return wo(n).direction==="rtl"&&(o+=yi(r.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:c}}const j6=25;function CK(t,r){const e=ki(t),n=cl(t),s=e.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;const d=M_();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const l=Nb(n);if(l<=0){const d=n.ownerDocument,p=d.body,f=getComputedStyle(p),h=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-p.clientWidth-h);g<=j6&&(i-=g)}else l<=j6&&(i+=l);return{width:i,height:o,x:c,y:u}}const TK=new Set(["absolute","fixed"]);function EK(t,r){const e=ld(t,!0,r==="fixed"),n=e.top+t.clientTop,s=e.left+t.clientLeft,i=sl(t)?Nf(t):Xo(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,l=n*i.y;return{width:o,height:c,x:u,y:l}}function S6(t,r,e){let n;if(r==="viewport")n=CK(t,e);else if(r==="document")n=NK(cl(t));else if(vo(r))n=EK(r,e);else{const s=_7(t);n={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Ty(n)}function j7(t,r){const e=Qc(t);return e===r||!vo(e)||Xf(e)?!1:wo(e).position==="fixed"||j7(e,r)}function AK(t,r){const e=r.get(t);if(e)return e;let n=rm(t,[],!1).filter(c=>vo(c)&&_h(c)!=="body"),s=null;const i=wo(t).position==="fixed";let o=i?Qc(t):t;for(;vo(o)&&!Xf(o);){const c=wo(o),u=P_(o);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&TK.has(s.position)||Qm(o)&&!u&&j7(t,o))?n=n.filter(d=>d!==o):s=c,o=Qc(o)}return r.set(t,n),n}function PK(t){let{element:r,boundary:e,rootBoundary:n,strategy:s}=t;const o=[...e==="clippingAncestors"?jb(r)?[]:AK(r,this._c):[].concat(e),n],c=o[0],u=o.reduce((l,d)=>{const p=S6(r,d,s);return l.top=yi(p.top,l.top),l.right=Xc(p.right,l.right),l.bottom=Xc(p.bottom,l.bottom),l.left=yi(p.left,l.left),l},S6(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function MK(t){const{width:r,height:e}=w7(t);return{width:r,height:e}}function RK(t,r,e){const n=sl(r),s=cl(r),i=e==="fixed",o=ld(t,!0,i,r);let c={scrollLeft:0,scrollTop:0};const u=Xo(0);function l(){u.x=Nb(s)}if(n||!n&&!i)if((_h(r)!=="body"||Qm(s))&&(c=Sb(r)),n){const h=ld(r,!0,i,r);u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}else s&&l();i&&!n&&s&&l();const d=s&&!n&&!i?k7(s,c):Xo(0),p=o.left+c.scrollLeft-u.x-d.x,f=o.top+c.scrollTop-u.y-d.y;return{x:p,y:f,width:o.width,height:o.height}}function u1(t){return wo(t).position==="static"}function N6(t,r){if(!sl(t)||wo(t).position==="fixed")return null;if(r)return r(t);let e=t.offsetParent;return cl(t)===e&&(e=e.ownerDocument.body),e}function S7(t,r){const e=ki(t);if(jb(t))return e;if(!sl(t)){let s=Qc(t);for(;s&&!Xf(s);){if(vo(s)&&!u1(s))return s;s=Qc(s)}return e}let n=N6(t,r);for(;n&&mK(n)&&u1(n);)n=N6(n,r);return n&&Xf(n)&&u1(n)&&!P_(n)?e:n||vK(t)||e}const DK=async function(t){const r=this.getOffsetParent||S7,e=this.getDimensions,n=await e(t.floating);return{reference:RK(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IK(t){return wo(t).direction==="rtl"}const OK={convertOffsetParentRelativeRectToViewportRelativeRect:jK,getDocumentElement:cl,getClippingRect:PK,getOffsetParent:S7,getElementRects:DK,getClientRects:SK,getDimensions:MK,getScale:Nf,isElement:vo,isRTL:IK};function N7(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function FK(t,r){let e=null,n;const s=cl(t);function i(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const l=t.getBoundingClientRect(),{left:d,top:p,width:f,height:h}=l;if(c||r(),!f||!h)return;const g=Eg(p),y=Eg(s.clientWidth-(d+f)),m=Eg(s.clientHeight-(p+h)),v=Eg(d),S={rootMargin:-g+"px "+-y+"px "+-m+"px "+-v+"px",threshold:yi(0,Xc(1,u))||1};let C=!0;function A(B){const q=B[0].intersectionRatio;if(q!==u){if(!C)return o();q?o(!1,q):n=setTimeout(()=>{o(!1,1e-7)},1e3)}q===1&&!N7(l,t.getBoundingClientRect())&&o(),C=!1}try{e=new IntersectionObserver(A,{...S,root:s.ownerDocument})}catch{e=new IntersectionObserver(A,S)}e.observe(t)}return o(!0),i}function LK(t,r,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=R_(t),d=s||i?[...l?rm(l):[],...rm(r)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",e,{passive:!0}),i&&v.addEventListener("resize",e)});const p=l&&c?FK(l,e):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===l&&h&&(h.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(r)})),e()}),l&&!u&&h.observe(l),h.observe(r));let g,y=u?ld(t):null;u&&m();function m(){const v=ld(t);y&&!N7(y,v)&&e(),y=v,g=requestAnimationFrame(m)}return e(),()=>{var v;d.forEach(x=>{s&&x.removeEventListener("scroll",e),i&&x.removeEventListener("resize",e)}),p?.(),(v=h)==null||v.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const BK=cK,$K=uK,zK=iK,VK=fK,UK=oK,C6=aK,WK=dK,qK=(t,r,e)=>{const n=new Map,s={platform:OK,...e},i={...s.platform,_c:n};return sK(t,r,{...s,platform:i})};var HK=typeof document<"u",KK=function(){},ty=HK?E.useLayoutEffect:KK;function Ey(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let e,n,s;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==r.length)return!1;for(n=e;n--!==0;)if(!Ey(t[n],r[n]))return!1;return!0}if(s=Object.keys(t),e=s.length,e!==Object.keys(r).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(r,s[n]))return!1;for(n=e;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Ey(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function C7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function T6(t,r){const e=C7(t);return Math.round(r*e)/e}function d1(t){const r=E.useRef(t);return ty(()=>{r.current=t}),r}function GK(t){t===void 0&&(t={});const{placement:r="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:u,open:l}=t,[d,p]=E.useState({x:0,y:0,strategy:e,placement:r,middlewareData:{},isPositioned:!1}),[f,h]=E.useState(n);Ey(f,n)||h(n);const[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useCallback(j=>{j!==B.current&&(B.current=j,y(j))},[]),S=E.useCallback(j=>{j!==q.current&&(q.current=j,v(j))},[]),C=i||g,A=o||m,B=E.useRef(null),q=E.useRef(null),D=E.useRef(d),I=u!=null,U=d1(u),K=d1(s),W=d1(l),P=E.useCallback(()=>{if(!B.current||!q.current)return;const j={placement:r,strategy:e,middleware:f};K.current&&(j.platform=K.current),qK(B.current,q.current,j).then(N=>{const R={...N,isPositioned:W.current!==!1};L.current&&!Ey(D.current,R)&&(D.current=R,wd.flushSync(()=>{p(R)}))})},[f,r,e,K,W]);ty(()=>{l===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[l]);const L=E.useRef(!1);ty(()=>(L.current=!0,()=>{L.current=!1}),[]),ty(()=>{if(C&&(B.current=C),A&&(q.current=A),C&&A){if(U.current)return U.current(C,A,P);P()}},[C,A,P,U,I]);const T=E.useMemo(()=>({reference:B,floating:q,setReference:x,setFloating:S}),[x,S]),_=E.useMemo(()=>({reference:C,floating:A}),[C,A]),k=E.useMemo(()=>{const j={position:e,left:0,top:0};if(!_.floating)return j;const N=T6(_.floating,d.x),R=T6(_.floating,d.y);return c?{...j,transform:"translate("+N+"px, "+R+"px)",...C7(_.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:N,top:R}},[e,c,_.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:P,refs:T,elements:_,floatingStyles:k}),[d,P,T,_,k])}const XK=t=>{function r(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:s}=typeof t=="function"?t(e):t;return n&&r(n)?n.current!=null?C6({element:n.current,padding:s}).fn(e):{}:n?C6({element:n,padding:s}).fn(e):{}}}},QK=(t,r)=>({...BK(t),options:[t,r]}),YK=(t,r)=>({...$K(t),options:[t,r]}),ZK=(t,r)=>({...WK(t),options:[t,r]}),JK=(t,r)=>({...zK(t),options:[t,r]}),eG=(t,r)=>({...VK(t),options:[t,r]}),tG=(t,r)=>({...UK(t),options:[t,r]}),rG=(t,r)=>({...XK(t),options:[t,r]});var nG="Arrow",T7=E.forwardRef((t,r)=>{const{children:e,width:n=10,height:s=5,...i}=t;return a.jsx(Ht.svg,{...i,ref:r,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?e:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});T7.displayName=nG;var sG=T7;function D_(t){const[r,e]=E.useState(void 0);return Ks(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,l=Array.isArray(u)?u[0]:u;o=l.inlineSize,c=l.blockSize}else o=t.offsetWidth,c=t.offsetHeight;e({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else e(void 0)},[t]),r}var I_="Popper",[E7,ou]=da(I_),[aG,A7]=E7(I_),P7=t=>{const{__scopePopper:r,children:e}=t,[n,s]=E.useState(null);return a.jsx(aG,{scope:r,anchor:n,onAnchorChange:s,children:e})};P7.displayName=I_;var M7="PopperAnchor",R7=E.forwardRef((t,r)=>{const{__scopePopper:e,virtualRef:n,...s}=t,i=A7(M7,e),o=E.useRef(null),c=Pr(r,o),u=E.useRef(null);return E.useEffect(()=>{const l=u.current;u.current=n?.current||o.current,l!==u.current&&i.onAnchorChange(u.current)}),n?null:a.jsx(Ht.div,{...s,ref:c})});R7.displayName=M7;var O_="PopperContent",[iG,oG]=E7(O_),D7=E.forwardRef((t,r)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=t,m=A7(O_,e),[v,x]=E.useState(null),S=Pr(r,Z=>x(Z)),[C,A]=E.useState(null),B=D_(C),q=B?.width??0,D=B?.height??0,I=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(l)?l:[l],W=K.length>0,P={padding:U,boundary:K.filter(cG),altBoundary:W},{refs:L,floatingStyles:T,placement:_,isPositioned:k,middlewareData:j}=GK({strategy:"fixed",placement:I,whileElementsMounted:(...Z)=>LK(...Z,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[QK({mainAxis:s+D,alignmentAxis:o}),u&&YK({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?ZK():void 0,...P}),u&&JK({...P}),eG({...P,apply:({elements:Z,rects:V,availableWidth:z,availableHeight:G})=>{const{width:ae,height:pe}=V.reference,ue=Z.floating.style;ue.setProperty("--radix-popper-available-width",`${z}px`),ue.setProperty("--radix-popper-available-height",`${G}px`),ue.setProperty("--radix-popper-anchor-width",`${ae}px`),ue.setProperty("--radix-popper-anchor-height",`${pe}px`)}}),C&&rG({element:C,padding:c}),uG({arrowWidth:q,arrowHeight:D}),f&&tG({strategy:"referenceHidden",...P})]}),[N,R]=F7(_),O=xa(g);Ks(()=>{k&&O?.()},[k,O]);const $=j.arrow?.x,X=j.arrow?.y,Y=j.arrow?.centerOffset!==0,[re,F]=E.useState();return Ks(()=>{v&&F(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:k?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(iG,{scope:e,placedSide:N,onArrowChange:A,arrowX:$,arrowY:X,shouldHideArrow:Y,children:a.jsx(Ht.div,{"data-side":N,"data-align":R,...y,ref:S,style:{...y.style,animation:k?void 0:"none"}})})})});D7.displayName=O_;var I7="PopperArrow",lG={top:"bottom",right:"left",bottom:"top",left:"right"},O7=E.forwardRef(function(r,e){const{__scopePopper:n,...s}=r,i=oG(I7,n),o=lG[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(sG,{...s,ref:e,style:{...s.style,display:"block"}})})});O7.displayName=I7;function cG(t){return t!==null}var uG=t=>({name:"transformOrigin",options:t,fn(r){const{placement:e,rects:n,middlewareData:s}=r,o=s.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[l,d]=F7(e),p={start:"0%",center:"50%",end:"100%"}[d],f=(s.arrow?.x??0)+c/2,h=(s.arrow?.y??0)+u/2;let g="",y="";return l==="bottom"?(g=o?p:`${f}px`,y=`${-u}px`):l==="top"?(g=o?p:`${f}px`,y=`${n.floating.height+u}px`):l==="right"?(g=`${-u}px`,y=o?p:`${h}px`):l==="left"&&(g=`${n.floating.width+u}px`,y=o?p:`${h}px`),{data:{x:g,y}}}});function F7(t){const[r,e="center"]=t.split("-");return[r,e]}var Cb=P7,Ym=R7,Tb=D7,Eb=O7,dG=Symbol("radix.slottable");function fG(t){const r=({children:e})=>a.jsx(a.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=dG,r}var hG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pG="VisuallyHidden",L7=E.forwardRef((t,r)=>a.jsx(Ht.span,{...t,ref:r,style:{...hG,...t.style}}));L7.displayName=pG;var mG=L7,[Ab]=da("Tooltip",[ou]),Pb=ou(),B7="TooltipProvider",gG=700,Zw="tooltip.open",[yG,F_]=Ab(B7),$7=t=>{const{__scopeTooltip:r,delayDuration:e=gG,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=E.useRef(!0),c=E.useRef(!1),u=E.useRef(0);return E.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),a.jsx(yG,{scope:r,isOpenDelayedRef:o,delayDuration:e,onOpen:E.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(l=>{c.current=l},[]),disableHoverableContent:s,children:i})};$7.displayName=B7;var nm="Tooltip",[bG,Mb]=Ab(nm),z7=t=>{const{__scopeTooltip:r,children:e,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=t,u=F_(nm,t.__scopeTooltip),l=Pb(r),[d,p]=E.useState(null),f=_i(),h=E.useRef(0),g=o??u.disableHoverableContent,y=c??u.delayDuration,m=E.useRef(!1),[v,x]=Gi({prop:n,defaultProp:s??!1,onChange:q=>{q?(u.onOpen(),document.dispatchEvent(new CustomEvent(Zw))):u.onClose(),i?.(q)},caller:nm}),S=E.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),C=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,x(!0)},[x]),A=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),B=E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,x(!0),h.current=0},y)},[y,x]);return E.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),a.jsx(Cb,{...l,children:a.jsx(bG,{scope:r,contentId:f,open:v,stateAttribute:S,trigger:d,onTriggerChange:p,onTriggerEnter:E.useCallback(()=>{u.isOpenDelayedRef.current?B():C()},[u.isOpenDelayedRef,B,C]),onTriggerLeave:E.useCallback(()=>{g?A():(window.clearTimeout(h.current),h.current=0)},[A,g]),onOpen:C,onClose:A,disableHoverableContent:g,children:e})})};z7.displayName=nm;var Jw="TooltipTrigger",V7=E.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=Mb(Jw,e),i=F_(Jw,e),o=Pb(e),c=E.useRef(null),u=Pr(r,c,s.onTriggerChange),l=E.useRef(!1),d=E.useRef(!1),p=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(Ym,{asChild:!0,...o,children:a.jsx(Ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:ut(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ut(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ut(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ut(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:ut(t.onBlur,s.onClose),onClick:ut(t.onClick,s.onClose)})})});V7.displayName=Jw;var xG="TooltipPortal",[cbe,vG]=Ab(xG,{forceMount:void 0}),Qf="TooltipContent",U7=E.forwardRef((t,r)=>{const e=vG(Qf,t.__scopeTooltip),{forceMount:n=e.forceMount,side:s="top",...i}=t,o=Mb(Qf,t.__scopeTooltip);return a.jsx(js,{present:n||o.open,children:o.disableHoverableContent?a.jsx(W7,{side:s,...i,ref:r}):a.jsx(wG,{side:s,...i,ref:r})})}),wG=E.forwardRef((t,r)=>{const e=Mb(Qf,t.__scopeTooltip),n=F_(Qf,t.__scopeTooltip),s=E.useRef(null),i=Pr(r,s),[o,c]=E.useState(null),{trigger:u,onClose:l}=e,d=s.current,{onPointerInTransitChange:p}=n,f=E.useCallback(()=>{c(null),p(!1)},[p]),h=E.useCallback((g,y)=>{const m=g.currentTarget,v={x:g.clientX,y:g.clientY},x=NG(v,m.getBoundingClientRect()),S=CG(v,x),C=TG(y.getBoundingClientRect()),A=AG([...S,...C]);c(A),p(!0)},[p]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(u&&d){const g=m=>h(m,d),y=m=>h(m,u);return u.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[u,d,h,f]),E.useEffect(()=>{if(o){const g=y=>{const m=y.target,v={x:y.clientX,y:y.clientY},x=u?.contains(m)||d?.contains(m),S=!EG(v,o);x?f():S&&(f(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[u,d,o,l,f]),a.jsx(W7,{...t,ref:i})}),[_G,kG]=Ab(nm,{isInside:!1}),jG=fG("TooltipContent"),W7=E.forwardRef((t,r)=>{const{__scopeTooltip:e,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=t,u=Mb(Qf,e),l=Pb(e),{onClose:d}=u;return E.useEffect(()=>(document.addEventListener(Zw,d),()=>document.removeEventListener(Zw,d)),[d]),E.useEffect(()=>{if(u.trigger){const p=f=>{f.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),a.jsx(_d,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:a.jsxs(Tb,{"data-state":u.stateAttribute,...l,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(jG,{children:n}),a.jsx(_G,{scope:e,isInside:!0,children:a.jsx(mG,{id:u.contentId,role:"tooltip",children:s||n})})]})})});U7.displayName=Qf;var q7="TooltipArrow",SG=E.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,s=Pb(e);return kG(q7,e).isInside?null:a.jsx(Eb,{...s,...n,ref:r})});SG.displayName=q7;function NG(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),s=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(e,n,s,i)){case i:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function CG(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function TG(t){const{top:r,right:e,bottom:n,left:s}=t;return[{x:s,y:r},{x:e,y:r},{x:e,y:n},{x:s,y:n}]}function EG(t,r){const{x:e,y:n}=t;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const c=r[i],u=r[o],l=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function AG(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),PG(r)}function PG(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var MG=$7,RG=z7,DG=V7,H7=U7;const Rb=MG,L_=RG,B_=DG,Db=E.forwardRef(({className:t,sideOffset:r=4,...e},n)=>a.jsx(H7,{ref:n,sideOffset:r,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...e}));Db.displayName=H7.displayName;const Jt=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));Jt.displayName="Card";const ls=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("flex flex-col space-y-1.5 p-6",t),...r}));ls.displayName="CardHeader";const ys=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...r}));ys.displayName="CardTitle";const Lc=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("text-sm text-muted-foreground",t),...r}));Lc.displayName="CardDescription";const vr=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("p-6 pt-0",t),...r}));vr.displayName="CardContent";const IG=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("flex items-center p-6 pt-0",t),...r}));IG.displayName="CardFooter";function OG(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Jt,{className:"w-full max-w-md mx-4",children:a.jsxs(vr,{className:"pt-6",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx($a,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Zm=t=>t.type==="checkbox",Bu=t=>t instanceof Date,ei=t=>t==null;const K7=t=>typeof t=="object";var vs=t=>!ei(t)&&!Array.isArray(t)&&K7(t)&&!Bu(t),G7=t=>vs(t)&&t.target?Zm(t.target)?t.target.checked:t.target.value:t,FG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,X7=(t,r)=>t.has(FG(r)),LG=t=>{const r=t.constructor&&t.constructor.prototype;return vs(r)&&r.hasOwnProperty("isPrototypeOf")},$_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ps(t){if(t instanceof Date)return new Date(t);const r=typeof FileList<"u"&&t instanceof FileList;if($_&&(t instanceof Blob||r))return t;const e=Array.isArray(t);if(!e&&!(vs(t)&&LG(t)))return t;const n=e?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=ps(t[s]));return n}var Ib=t=>/^\w*$/.test(t),Fn=t=>t===void 0,z_=t=>Array.isArray(t)?t.filter(Boolean):[],V_=t=>z_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(t,r,e)=>{if(!r||!vs(t))return e;const n=(Ib(r)?[r]:V_(r)).reduce((s,i)=>ei(s)?s:s[i],t);return Fn(n)||n===t?Fn(t[r])?e:t[r]:n},gi=t=>typeof t=="boolean",Oa=t=>typeof t=="function",yn=(t,r,e)=>{let n=-1;const s=Ib(r)?[r]:V_(r),i=s.length,o=i-1;for(;++n<i;){const c=s[n];let u=e;if(n!==o){const l=t[c];u=vs(l)||Array.isArray(l)?l:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Ay={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U_=Xt.createContext(null);U_.displayName="HookFormControlContext";const W_=()=>Xt.useContext(U_);var Q7=(t,r,e,n=!0)=>{const s={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return r._proxyFormState[o]!==fo.all&&(r._proxyFormState[o]=!n||fo.all),e&&(e[o]=!0),t[o]}});return s};const q_=typeof window<"u"?Xt.useLayoutEffect:Xt.useEffect;function BG(t){const r=W_(),{control:e=r,disabled:n,name:s,exact:i}=t||{},[o,c]=Xt.useState(e._formState),u=Xt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return q_(()=>e._subscribe({name:s,formState:u.current,exact:i,callback:l=>{!n&&c({...e._formState,...l})}}),[s,n,i]),Xt.useEffect(()=>{u.current.isValid&&e._setValid(!0)},[e]),Xt.useMemo(()=>Q7(o,e,u.current,!1),[o,e])}var xi=t=>typeof t=="string",e2=(t,r,e,n,s)=>xi(t)?(n&&r.watch.add(t),wt(e,t,s)):Array.isArray(t)?t.map(i=>(n&&r.watch.add(i),wt(e,i))):(n&&(r.watchAll=!0),e),t2=t=>ei(t)||!K7(t);function ho(t,r,e=new WeakSet){if(t2(t)||t2(r))return Object.is(t,r);if(Bu(t)&&Bu(r))return Object.is(t.getTime(),r.getTime());const n=Object.keys(t),s=Object.keys(r);if(n.length!==s.length)return!1;if(e.has(t)||e.has(r))return!0;e.add(t),e.add(r);for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=r[i];if(Bu(o)&&Bu(c)||vs(o)&&vs(c)||Array.isArray(o)&&Array.isArray(c)?!ho(o,c,e):!Object.is(o,c))return!1}}return!0}function $G(t){const r=W_(),{control:e=r,name:n,defaultValue:s,disabled:i,exact:o,compute:c}=t||{},u=Xt.useRef(s),l=Xt.useRef(c),d=Xt.useRef(void 0),p=Xt.useRef(e),f=Xt.useRef(n);l.current=c;const[h,g]=Xt.useState(()=>{const C=e._getWatch(n,u.current);return l.current?l.current(C):C}),y=Xt.useCallback(C=>{const A=e2(n,e._names,C||e._formValues,!1,u.current);return l.current?l.current(A):A},[e._formValues,e._names,n]),m=Xt.useCallback(C=>{if(!i){const A=e2(n,e._names,C||e._formValues,!1,u.current);if(l.current){const B=l.current(A);ho(B,d.current)||(g(B),d.current=B)}else g(A)}},[e._formValues,e._names,i,n]);q_(()=>((p.current!==e||!ho(f.current,n))&&(p.current=e,f.current=n,m()),e._subscribe({name:n,formState:{values:!0},exact:o,callback:C=>{m(C.values)}})),[e,o,n,m]),Xt.useEffect(()=>e._removeUnmounted());const v=p.current!==e,x=f.current,S=Xt.useMemo(()=>{if(i)return null;const C=!v&&!ho(x,n);return v||C?y():null},[i,v,n,x,y]);return S!==null?S:h}function zG(t){const r=W_(),{name:e,disabled:n,control:s=r,shouldUnregister:i,defaultValue:o,exact:c=!0}=t,u=X7(s._names.array,e),l=Xt.useMemo(()=>wt(s._formValues,e,wt(s._defaultValues,e,o)),[s,e,o]),d=$G({control:s,name:e,defaultValue:l,exact:c}),p=BG({control:s,name:e,exact:c}),f=Xt.useRef(t),h=Xt.useRef(void 0),g=Xt.useRef(s.register(e,{...t.rules,value:d,...gi(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Xt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!wt(p.errors,e)},isDirty:{enumerable:!0,get:()=>!!wt(p.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!wt(p.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!wt(p.validatingFields,e)},error:{enumerable:!0,get:()=>wt(p.errors,e)}}),[p,e]),m=Xt.useCallback(C=>g.current.onChange({target:{value:G7(C),name:e},type:Ay.CHANGE}),[e]),v=Xt.useCallback(()=>g.current.onBlur({target:{value:wt(s._formValues,e),name:e},type:Ay.BLUR}),[e,s._formValues]),x=Xt.useCallback(C=>{const A=wt(s._fields,e);A&&A._f&&C&&(A._f.ref={focus:()=>Oa(C.focus)&&C.focus(),select:()=>Oa(C.select)&&C.select(),setCustomValidity:B=>Oa(C.setCustomValidity)&&C.setCustomValidity(B),reportValidity:()=>Oa(C.reportValidity)&&C.reportValidity()})},[s._fields,e]),S=Xt.useMemo(()=>({name:e,value:d,...gi(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:m,onBlur:v,ref:x}),[e,n,p.disabled,m,v,x,d]);return Xt.useEffect(()=>{const C=s._options.shouldUnregister||i,A=h.current;A&&A!==e&&!u&&s.unregister(A),s.register(e,{...f.current.rules,...gi(f.current.disabled)?{disabled:f.current.disabled}:{}});const B=(q,D)=>{const I=wt(s._fields,q);I&&I._f&&(I._f.mount=D)};if(B(e,!0),C){const q=ps(wt(s._options.defaultValues,e,f.current.defaultValue));yn(s._defaultValues,e,q),Fn(wt(s._formValues,e))&&yn(s._formValues,e,q)}return!u&&s.register(e),h.current=e,()=>{(u?C&&!s._state.action:C)?s.unregister(e):B(e,!1)}},[e,s,u,i]),Xt.useEffect(()=>{s._setDisabledField({disabled:n,name:e})},[n,e,s]),Xt.useMemo(()=>({field:S,formState:p,fieldState:y}),[S,p,y])}const Y7=t=>t.render(zG(t)),H_=Xt.createContext(null);H_.displayName="HookFormContext";const VG=()=>Xt.useContext(H_),UG=t=>{const{children:r,watch:e,getValues:n,getFieldState:s,setError:i,clearErrors:o,setValue:c,trigger:u,formState:l,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}=t;return Xt.createElement(H_.Provider,{value:Xt.useMemo(()=>({watch:e,getValues:n,getFieldState:s,setError:i,clearErrors:o,setValue:c,trigger:u,formState:l,resetField:d,reset:p,handleSubmit:f,unregister:h,control:g,register:y,setFocus:m,subscribe:v}),[o,g,l,s,n,f,y,p,d,i,m,c,v,u,h,e])},Xt.createElement(U_.Provider,{value:g},r))};var Z7=(t,r,e,n,s)=>r?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[n]:s||!0}}:{},Bp=t=>Array.isArray(t)?t:[t],E6=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function J7(t,r){const e={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=r[n];if(s&&vs(s)&&i){const o=J7(s,i);vs(o)&&(e[n]=o)}else t[n]&&(e[n]=i)}return e}var Ra=t=>vs(t)&&!Object.keys(t).length,K_=t=>t.type==="file",Py=t=>{if(!$_)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},eP=t=>t.type==="select-multiple",G_=t=>t.type==="radio",WG=t=>G_(t)||Zm(t),f1=t=>Py(t)&&t.isConnected;function qG(t,r){const e=r.slice(0,-1).length;let n=0;for(;n<e;)t=Fn(t)?n++:t[r[n++]];return t}function HG(t){for(const r in t)if(t.hasOwnProperty(r)&&!Fn(t[r]))return!1;return!0}function ms(t,r){const e=Array.isArray(r)?r:Ib(r)?[r]:V_(r),n=e.length===1?t:qG(t,e),s=e.length-1,i=e[s];return n&&delete n[i],s!==0&&(vs(n)&&Ra(n)||Array.isArray(n)&&HG(n))&&ms(t,e.slice(0,-1)),t}var KG=t=>{for(const r in t)if(Oa(t[r]))return!0;return!1};function tP(t){return Array.isArray(t)||vs(t)&&!KG(t)}function r2(t,r={}){for(const e in t){const n=t[e];tP(n)?(r[e]=Array.isArray(n)?[]:{},r2(n,r[e])):Fn(n)||(r[e]=!0)}return r}function ff(t,r,e){e||(e=r2(r));for(const n in t){const s=t[n];if(tP(s))Fn(r)||t2(e[n])?e[n]=r2(s,Array.isArray(s)?[]:{}):ff(s,ei(r)?{}:r[n],e[n]);else{const i=r[n];e[n]=!ho(s,i)}}return e}const A6={value:!1,isValid:!1},P6={value:!0,isValid:!0};var rP=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Fn(t[0].attributes.value)?Fn(t[0].value)||t[0].value===""?P6:{value:t[0].value,isValid:!0}:P6:A6}return A6},nP=(t,{valueAsNumber:r,valueAsDate:e,setValueAs:n})=>Fn(t)?t:r?t===""?NaN:t&&+t:e&&xi(t)?new Date(t):n?n(t):t;const M6={isValid:!1,value:null};var sP=t=>Array.isArray(t)?t.reduce((r,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:r,M6):M6;function R6(t){const r=t.ref;return K_(r)?r.files:G_(r)?sP(t.refs).value:eP(r)?[...r.selectedOptions].map(({value:e})=>e):Zm(r)?rP(t.refs).value:nP(Fn(r.value)?t.ref.value:r.value,t)}var GG=(t,r,e,n)=>{const s={};for(const i of t){const o=wt(r,i);o&&yn(s,i,o._f)}return{criteriaMode:e,names:[...t],fields:s,shouldUseNativeValidation:n}},My=t=>t instanceof RegExp,xp=t=>Fn(t)?t:My(t)?t.source:vs(t)?My(t.value)?t.value.source:t.value:t,D6=t=>({isOnSubmit:!t||t===fo.onSubmit,isOnBlur:t===fo.onBlur,isOnChange:t===fo.onChange,isOnAll:t===fo.all,isOnTouch:t===fo.onTouched});const I6="AsyncFunction";var XG=t=>!!t&&!!t.validate&&!!(Oa(t.validate)&&t.validate.constructor.name===I6||vs(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===I6)),QG=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),O6=(t,r,e)=>!e&&(r.watchAll||r.watch.has(t)||[...r.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const $p=(t,r,e,n)=>{for(const s of e||Object.keys(t)){const i=wt(t,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!n)return!0;if(o.ref&&r(o.ref,o.name)&&!n)return!0;if($p(c,r))break}else if(vs(c)&&$p(c,r))break}}};function F6(t,r,e){const n=wt(t,e);if(n||Ib(e))return{error:n,name:e};const s=e.split(".");for(;s.length;){const i=s.join("."),o=wt(r,i),c=wt(t,i);if(o&&!Array.isArray(o)&&e!==i)return{name:e};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:e}}var YG=(t,r,e,n)=>{e(t);const{name:s,...i}=t;return Ra(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!n||fo.all))},ZG=(t,r,e)=>!t||!r||t===r||Bp(t).some(n=>n&&(e?n===r:n.startsWith(r)||r.startsWith(n))),JG=(t,r,e,n,s)=>s.isOnAll?!1:!e&&s.isOnTouch?!(r||t):(e?n.isOnBlur:s.isOnBlur)?!t:(e?n.isOnChange:s.isOnChange)?t:!0,eX=(t,r)=>!z_(wt(t,r)).length&&ms(t,r),tX=(t,r,e)=>{const n=Bp(wt(t,e));return yn(n,"root",r[e]),yn(t,e,n),t};function L6(t,r,e="validate"){if(xi(t)||Array.isArray(t)&&t.every(xi)||gi(t)&&!t)return{type:e,message:xi(t)?t:"",ref:r}}var nf=t=>vs(t)&&!My(t)?t:{value:t,message:""},B6=async(t,r,e,n,s,i)=>{const{ref:o,refs:c,required:u,maxLength:l,minLength:d,min:p,max:f,pattern:h,validate:g,name:y,valueAsNumber:m,mount:v}=t._f,x=wt(e,y);if(!v||r.has(y))return{};const S=c?c[0]:o,C=W=>{s&&S.reportValidity&&(S.setCustomValidity(gi(W)?"":W||""),S.reportValidity())},A={},B=G_(o),q=Zm(o),D=B||q,I=(m||K_(o))&&Fn(o.value)&&Fn(x)||Py(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,U=Z7.bind(null,y,n,A),K=(W,P,L,T=wl.maxLength,_=wl.minLength)=>{const k=W?P:L;A[y]={type:W?T:_,message:k,ref:o,...U(W?T:_,k)}};if(i?!Array.isArray(x)||!x.length:u&&(!D&&(I||ei(x))||gi(x)&&!x||q&&!rP(c).isValid||B&&!sP(c).isValid)){const{value:W,message:P}=xi(u)?{value:!!u,message:u}:nf(u);if(W&&(A[y]={type:wl.required,message:P,ref:S,...U(wl.required,P)},!n))return C(P),A}if(!I&&(!ei(p)||!ei(f))){let W,P;const L=nf(f),T=nf(p);if(!ei(x)&&!isNaN(x)){const _=o.valueAsNumber||x&&+x;ei(L.value)||(W=_>L.value),ei(T.value)||(P=_<T.value)}else{const _=o.valueAsDate||new Date(x),k=R=>new Date(new Date().toDateString()+" "+R),j=o.type=="time",N=o.type=="week";xi(L.value)&&x&&(W=j?k(x)>k(L.value):N?x>L.value:_>new Date(L.value)),xi(T.value)&&x&&(P=j?k(x)<k(T.value):N?x<T.value:_<new Date(T.value))}if((W||P)&&(K(!!W,L.message,T.message,wl.max,wl.min),!n))return C(A[y].message),A}if((l||d)&&!I&&(xi(x)||i&&Array.isArray(x))){const W=nf(l),P=nf(d),L=!ei(W.value)&&x.length>+W.value,T=!ei(P.value)&&x.length<+P.value;if((L||T)&&(K(L,W.message,P.message),!n))return C(A[y].message),A}if(h&&!I&&xi(x)){const{value:W,message:P}=nf(h);if(My(W)&&!x.match(W)&&(A[y]={type:wl.pattern,message:P,ref:o,...U(wl.pattern,P)},!n))return C(P),A}if(g){if(Oa(g)){const W=await g(x,e),P=L6(W,S);if(P&&(A[y]={...P,...U(wl.validate,P.message)},!n))return C(P.message),A}else if(vs(g)){let W={};for(const P in g){if(!Ra(W)&&!n)break;const L=L6(await g[P](x,e),S,P);L&&(W={...L,...U(P,L.message)},C(L.message),n&&(A[y]=W))}if(!Ra(W)&&(A[y]={ref:S,...W},!n))return A}}return C(!0),A};const rX={mode:fo.onSubmit,reValidateMode:fo.onChange,shouldFocusError:!0};function nX(t={}){let r={...rX,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:Oa(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=vs(r.defaultValues)||vs(r.values)?ps(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:ps(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={...d};let f={...p};const h={array:E6(),state:E6()},g=r.criteriaMode===fo.all,y=te=>se=>{clearTimeout(l),l=setTimeout(te,se)},m=async te=>{if(!o.keepIsValid&&!r.disabled&&(p.isValid||f.isValid||te)){let se;r.resolver?(se=Ra((await D()).errors),v()):se=await U(n,!0),se!==e.isValid&&h.state.next({isValid:se})}},v=(te,se)=>{!r.disabled&&(p.isValidating||p.validatingFields||f.isValidating||f.validatingFields)&&((te||Array.from(c.mount)).forEach(de=>{de&&(se?yn(e.validatingFields,de,se):ms(e.validatingFields,de))}),h.state.next({validatingFields:e.validatingFields,isValidating:!Ra(e.validatingFields)}))},x=(te,se=[],de,me,ke=!0,Ne=!0)=>{if(me&&de&&!r.disabled){if(o.action=!0,Ne&&Array.isArray(wt(n,te))){const De=de(wt(n,te),me.argA,me.argB);ke&&yn(n,te,De)}if(Ne&&Array.isArray(wt(e.errors,te))){const De=de(wt(e.errors,te),me.argA,me.argB);ke&&yn(e.errors,te,De),eX(e.errors,te)}if((p.touchedFields||f.touchedFields)&&Ne&&Array.isArray(wt(e.touchedFields,te))){const De=de(wt(e.touchedFields,te),me.argA,me.argB);ke&&yn(e.touchedFields,te,De)}(p.dirtyFields||f.dirtyFields)&&(e.dirtyFields=ff(s,i)),h.state.next({name:te,isDirty:W(te,se),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else yn(i,te,se)},S=(te,se)=>{yn(e.errors,te,se),h.state.next({errors:e.errors})},C=te=>{e.errors=te,h.state.next({errors:e.errors,isValid:!1})},A=(te,se,de,me)=>{const ke=wt(n,te);if(ke){const Ne=wt(i,te,Fn(de)?wt(s,te):de);Fn(Ne)||me&&me.defaultChecked||se?yn(i,te,se?Ne:R6(ke._f)):T(te,Ne),o.mount&&!o.action&&m()}},B=(te,se,de,me,ke)=>{let Ne=!1,De=!1;const Fe={name:te};if(!r.disabled){if(!de||me){(p.isDirty||f.isDirty)&&(De=e.isDirty,e.isDirty=Fe.isDirty=W(),Ne=De!==Fe.isDirty);const Ge=ho(wt(s,te),se);De=!!wt(e.dirtyFields,te),Ge?ms(e.dirtyFields,te):yn(e.dirtyFields,te,!0),Fe.dirtyFields=e.dirtyFields,Ne=Ne||(p.dirtyFields||f.dirtyFields)&&De!==!Ge}if(de){const Ge=wt(e.touchedFields,te);Ge||(yn(e.touchedFields,te,de),Fe.touchedFields=e.touchedFields,Ne=Ne||(p.touchedFields||f.touchedFields)&&Ge!==de)}Ne&&ke&&h.state.next(Fe)}return Ne?Fe:{}},q=(te,se,de,me)=>{const ke=wt(e.errors,te),Ne=(p.isValid||f.isValid)&&gi(se)&&e.isValid!==se;if(r.delayError&&de?(u=y(()=>S(te,de)),u(r.delayError)):(clearTimeout(l),u=null,de?yn(e.errors,te,de):ms(e.errors,te)),(de?!ho(ke,de):ke)||!Ra(me)||Ne){const De={...me,...Ne&&gi(se)?{isValid:se}:{},errors:e.errors,name:te};e={...e,...De},h.state.next(De)}},D=async te=>(v(te,!0),await r.resolver(i,r.context,GG(te||c.mount,n,r.criteriaMode,r.shouldUseNativeValidation))),I=async te=>{const{errors:se}=await D(te);if(v(te),te)for(const de of te){const me=wt(se,de);me?yn(e.errors,de,me):ms(e.errors,de)}else e.errors=se;return se},U=async(te,se,de={valid:!0})=>{for(const me in te){const ke=te[me];if(ke){const{_f:Ne,...De}=ke;if(Ne){const Fe=c.array.has(Ne.name),Ge=ke._f&&XG(ke._f);Ge&&p.validatingFields&&v([Ne.name],!0);const qe=await B6(ke,c.disabled,i,g,r.shouldUseNativeValidation&&!se,Fe);if(Ge&&p.validatingFields&&v([Ne.name]),qe[Ne.name]&&(de.valid=!1,se||t.shouldUseNativeValidation))break;!se&&(wt(qe,Ne.name)?Fe?tX(e.errors,qe,Ne.name):yn(e.errors,Ne.name,qe[Ne.name]):ms(e.errors,Ne.name))}!Ra(De)&&await U(De,se,de)}}return de.valid},K=()=>{for(const te of c.unMount){const se=wt(n,te);se&&(se._f.refs?se._f.refs.every(de=>!f1(de)):!f1(se._f.ref))&&V(te)}c.unMount=new Set},W=(te,se)=>!r.disabled&&(te&&se&&yn(i,te,se),!ho(O(),s)),P=(te,se,de)=>e2(te,c,{...o.mount?i:Fn(se)?s:xi(te)?{[te]:se}:se},de,se),L=te=>z_(wt(o.mount?i:s,te,r.shouldUnregister?wt(s,te,[]):[])),T=(te,se,de={})=>{const me=wt(n,te);let ke=se;if(me){const Ne=me._f;Ne&&(!Ne.disabled&&yn(i,te,nP(se,Ne)),ke=Py(Ne.ref)&&ei(se)?"":se,eP(Ne.ref)?[...Ne.ref.options].forEach(De=>De.selected=ke.includes(De.value)):Ne.refs?Zm(Ne.ref)?Ne.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(ke)?De.checked=!!ke.find(Fe=>Fe===De.value):De.checked=ke===De.value||!!ke)}):Ne.refs.forEach(De=>De.checked=De.value===ke):K_(Ne.ref)?Ne.ref.value="":(Ne.ref.value=ke,Ne.ref.type||h.state.next({name:te,values:ps(i)})))}(de.shouldDirty||de.shouldTouch)&&B(te,ke,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&R(te)},_=(te,se,de)=>{for(const me in se){if(!se.hasOwnProperty(me))return;const ke=se[me],Ne=te+"."+me,De=wt(n,Ne);(c.array.has(te)||vs(ke)||De&&!De._f)&&!Bu(ke)?_(Ne,ke,de):T(Ne,ke,de)}},k=(te,se,de={})=>{const me=wt(n,te),ke=c.array.has(te),Ne=ps(se);yn(i,te,Ne),ke?(h.array.next({name:te,values:ps(i)}),(p.isDirty||p.dirtyFields||f.isDirty||f.dirtyFields)&&de.shouldDirty&&h.state.next({name:te,dirtyFields:ff(s,i),isDirty:W(te,Ne)})):me&&!me._f&&!ei(Ne)?_(te,Ne,de):T(te,Ne,de),O6(te,c)?h.state.next({...e,name:te,values:ps(i)}):h.state.next({name:o.mount?te:void 0,values:ps(i)})},j=async te=>{o.mount=!0;const se=te.target;let de=se.name,me=!0;const ke=wt(n,de),Ne=Ge=>{me=Number.isNaN(Ge)||Bu(Ge)&&isNaN(Ge.getTime())||ho(Ge,wt(i,de,Ge))},De=D6(r.mode),Fe=D6(r.reValidateMode);if(ke){let Ge,qe;const pt=se.type?R6(ke._f):G7(te),yt=te.type===Ay.BLUR||te.type===Ay.FOCUS_OUT,ot=!QG(ke._f)&&!r.resolver&&!wt(e.errors,de)&&!ke._f.deps||JG(yt,wt(e.touchedFields,de),e.isSubmitted,Fe,De),ve=O6(de,c,yt);yn(i,de,pt),yt?(!se||!se.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(te),u&&u(0)):ke._f.onChange&&ke._f.onChange(te);const be=B(de,pt,yt),Be=!Ra(be)||ve;if(!yt&&h.state.next({name:de,type:te.type,values:ps(i)}),ot)return(p.isValid||f.isValid)&&(r.mode==="onBlur"?yt&&m():yt||m()),Be&&h.state.next({name:de,...ve?{}:be});if(!yt&&ve&&h.state.next({...e}),r.resolver){const{errors:Xe}=await D([de]);if(v([de]),Ne(pt),me){const Et=F6(e.errors,n,de),Kt=F6(Xe,n,Et.name||de);Ge=Kt.error,de=Kt.name,qe=Ra(Xe)}}else v([de],!0),Ge=(await B6(ke,c.disabled,i,g,r.shouldUseNativeValidation))[de],v([de]),Ne(pt),me&&(Ge?qe=!1:(p.isValid||f.isValid)&&(qe=await U(n,!0)));me&&(ke._f.deps&&(!Array.isArray(ke._f.deps)||ke._f.deps.length>0)&&R(ke._f.deps),q(de,qe,Ge,be))}},N=(te,se)=>{if(wt(e.errors,se)&&te.focus)return te.focus(),1},R=async(te,se={})=>{let de,me;const ke=Bp(te);if(r.resolver){const Ne=await I(Fn(te)?te:ke);de=Ra(Ne),me=te?!ke.some(De=>wt(Ne,De)):de}else te?(me=(await Promise.all(ke.map(async Ne=>{const De=wt(n,Ne);return await U(De&&De._f?{[Ne]:De}:De)}))).every(Boolean),!(!me&&!e.isValid)&&m()):me=de=await U(n);return h.state.next({...!xi(te)||(p.isValid||f.isValid)&&de!==e.isValid?{}:{name:te},...r.resolver||!te?{isValid:de}:{},errors:e.errors}),se.shouldFocus&&!me&&$p(n,N,te?ke:c.mount),me},O=(te,se)=>{let de={...o.mount?i:s};return se&&(de=J7(se.dirtyFields?e.dirtyFields:e.touchedFields,de)),Fn(te)?de:xi(te)?wt(de,te):te.map(me=>wt(de,me))},$=(te,se)=>({invalid:!!wt((se||e).errors,te),isDirty:!!wt((se||e).dirtyFields,te),error:wt((se||e).errors,te),isValidating:!!wt(e.validatingFields,te),isTouched:!!wt((se||e).touchedFields,te)}),X=te=>{te&&Bp(te).forEach(se=>ms(e.errors,se)),h.state.next({errors:te?e.errors:{}})},Y=(te,se,de)=>{const me=(wt(n,te,{_f:{}})._f||{}).ref,ke=wt(e.errors,te)||{},{ref:Ne,message:De,type:Fe,...Ge}=ke;yn(e.errors,te,{...Ge,...se,ref:me}),h.state.next({name:te,errors:e.errors,isValid:!1}),de&&de.shouldFocus&&me&&me.focus&&me.focus()},re=(te,se)=>Oa(te)?h.state.subscribe({next:de=>"values"in de&&te(P(void 0,se),de)}):P(te,se,!0),F=te=>h.state.subscribe({next:se=>{ZG(te.name,se.name,te.exact)&&YG(se,te.formState||p,fe,te.reRenderRoot)&&te.callback({values:{...i},...e,...se,defaultValues:s})}}).unsubscribe,Z=te=>(o.mount=!0,f={...f,...te.formState},F({...te,formState:{...d,...te.formState}})),V=(te,se={})=>{for(const de of te?Bp(te):c.mount)c.mount.delete(de),c.array.delete(de),se.keepValue||(ms(n,de),ms(i,de)),!se.keepError&&ms(e.errors,de),!se.keepDirty&&ms(e.dirtyFields,de),!se.keepTouched&&ms(e.touchedFields,de),!se.keepIsValidating&&ms(e.validatingFields,de),!r.shouldUnregister&&!se.keepDefaultValue&&ms(s,de);h.state.next({values:ps(i)}),h.state.next({...e,...se.keepDirty?{isDirty:W()}:{}}),!se.keepIsValid&&m()},z=({disabled:te,name:se})=>{if(gi(te)&&o.mount||te||c.disabled.has(se)){const ke=c.disabled.has(se)!==!!te;te?c.disabled.add(se):c.disabled.delete(se),ke&&o.mount&&!o.action&&m()}},G=(te,se={})=>{let de=wt(n,te);const me=gi(se.disabled)||gi(r.disabled);return yn(n,te,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:te}},name:te,mount:!0,...se}}),c.mount.add(te),de?z({disabled:gi(se.disabled)?se.disabled:r.disabled,name:te}):A(te,!0,se.value),{...me?{disabled:se.disabled||r.disabled}:{},...r.progressive?{required:!!se.required,min:xp(se.min),max:xp(se.max),minLength:xp(se.minLength),maxLength:xp(se.maxLength),pattern:xp(se.pattern)}:{},name:te,onChange:j,onBlur:j,ref:ke=>{if(ke){G(te,se),de=wt(n,te);const Ne=Fn(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,De=WG(Ne),Fe=de._f.refs||[];if(De?Fe.find(Ge=>Ge===Ne):Ne===de._f.ref)return;yn(n,te,{_f:{...de._f,...De?{refs:[...Fe.filter(f1),Ne,...Array.isArray(wt(s,te))?[{}]:[]],ref:{type:Ne.type,name:te}}:{ref:Ne}}}),A(te,!1,void 0,Ne)}else de=wt(n,te,{}),de._f&&(de._f.mount=!1),(r.shouldUnregister||se.shouldUnregister)&&!(X7(c.array,te)&&o.action)&&c.unMount.add(te)}}},ae=()=>r.shouldFocusError&&$p(n,N,c.mount),pe=te=>{gi(te)&&(h.state.next({disabled:te}),$p(n,(se,de)=>{const me=wt(n,de);me&&(se.disabled=me._f.disabled||te,Array.isArray(me._f.refs)&&me._f.refs.forEach(ke=>{ke.disabled=me._f.disabled||te}))},0,!1))},ue=(te,se)=>async de=>{let me;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let ke=ps(i);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Ne,values:De}=await D();v(),e.errors=Ne,ke=ps(De)}else await U(n);if(c.disabled.size)for(const Ne of c.disabled)ms(ke,Ne);if(ms(e.errors,"root"),Ra(e.errors)){h.state.next({errors:{}});try{await te(ke,de)}catch(Ne){me=Ne}}else se&&await se({...e.errors},de),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ra(e.errors)&&!me,submitCount:e.submitCount+1,errors:e.errors}),me)throw me},ge=(te,se={})=>{wt(n,te)&&(Fn(se.defaultValue)?k(te,ps(wt(s,te))):(k(te,se.defaultValue),yn(s,te,ps(se.defaultValue))),se.keepTouched||ms(e.touchedFields,te),se.keepDirty||(ms(e.dirtyFields,te),e.isDirty=se.defaultValue?W(te,ps(wt(s,te))):W()),se.keepError||(ms(e.errors,te),p.isValid&&m()),h.state.next({...e}))},ee=(te,se={})=>{const de=te?ps(te):s,me=ps(de),ke=Ra(te),Ne=ke?s:me;if(se.keepDefaultValues||(s=de),!se.keepValues){if(se.keepDirtyValues){const De=new Set([...c.mount,...Object.keys(ff(s,i))]);for(const Fe of Array.from(De)){const Ge=wt(e.dirtyFields,Fe),qe=wt(i,Fe),pt=wt(Ne,Fe);Ge&&!Fn(qe)?yn(Ne,Fe,qe):!Ge&&!Fn(pt)&&k(Fe,pt)}}else{if($_&&Fn(te))for(const De of c.mount){const Fe=wt(n,De);if(Fe&&Fe._f){const Ge=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Py(Ge)){const qe=Ge.closest("form");if(qe){qe.reset();break}}}}if(se.keepFieldsRef)for(const De of c.mount)k(De,wt(Ne,De));else n={}}i=r.shouldUnregister?se.keepDefaultValues?ps(s):{}:ps(Ne),h.array.next({values:{...Ne}}),h.state.next({values:{...Ne}})}c={mount:se.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!r.shouldUnregister&&!Ra(Ne),o.watch=!!r.shouldUnregister,o.keepIsValid=!!se.keepIsValid,o.action=!1,se.keepErrors||(e.errors={}),h.state.next({submitCount:se.keepSubmitCount?e.submitCount:0,isDirty:ke?!1:se.keepDirty?e.isDirty:!!(se.keepDefaultValues&&!ho(te,s)),isSubmitted:se.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:ke?{}:se.keepDirtyValues?se.keepDefaultValues&&i?ff(s,i):e.dirtyFields:se.keepDefaultValues&&te?ff(s,te):se.keepDirty?e.dirtyFields:{},touchedFields:se.keepTouched?e.touchedFields:{},errors:se.keepErrors?e.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},oe=(te,se)=>ee(Oa(te)?te(i):te,{...r.resetOptions,...se}),ne=(te,se={})=>{const de=wt(n,te),me=de&&de._f;if(me){const ke=me.refs?me.refs[0]:me.ref;ke.focus&&setTimeout(()=>{ke.focus(),se.shouldSelect&&Oa(ke.select)&&ke.select()})}},fe=te=>{e={...e,...te}},ie={control:{register:G,unregister:V,getFieldState:$,handleSubmit:ue,setError:Y,_subscribe:F,_runSchema:D,_updateIsValidating:v,_focusError:ae,_getWatch:P,_getDirty:W,_setValid:m,_setFieldArray:x,_setDisabledField:z,_setErrors:C,_getFieldArray:L,_reset:ee,_resetDefaultValues:()=>Oa(r.defaultValues)&&r.defaultValues().then(te=>{oe(te,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:pe,_subjects:h,_proxyFormState:p,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return s},get _names(){return c},set _names(te){c=te},get _formState(){return e},get _options(){return r},set _options(te){r={...r,...te}}},subscribe:Z,trigger:R,register:G,handleSubmit:ue,watch:re,setValue:k,getValues:O,reset:oe,resetField:ge,clearErrors:X,unregister:V,setError:Y,setFocus:ne,getFieldState:$};return{...ie,formControl:ie}}function Wl(t={}){const r=Xt.useRef(void 0),e=Xt.useRef(void 0),[n,s]=Xt.useState({isDirty:!1,isValidating:!1,isLoading:Oa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Oa(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:n},t.defaultValues&&!Oa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=nX(t);r.current={...c,formState:n}}const i=r.current.control;return i._options=t,q_(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),Xt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Xt.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Xt.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Xt.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Xt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Xt.useEffect(()=>{var o;t.values&&!ho(t.values,e.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),e.current=t.values,s(c=>({...c}))):i._resetDefaultValues()},[i,t.values]),Xt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=Xt.useMemo(()=>Q7(n,i),[i,n]),r.current}const $6=(t,r,e)=>{if(t&&"reportValidity"in t){const n=wt(e,r);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},aP=(t,r)=>{for(const e in r.fields){const n=r.fields[e];n&&n.ref&&"reportValidity"in n.ref?$6(n.ref,e,t):n.refs&&n.refs.forEach(s=>$6(s,e,t))}},sX=(t,r)=>{r.shouldUseNativeValidation&&aP(t,r);const e={};for(const n in t){const s=wt(r.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(aX(r.names||Object.keys(t),n)){const o=Object.assign({},wt(e,n));yn(o,"root",i),yn(e,n,o)}else yn(e,n,i)}return e},aX=(t,r)=>t.some(e=>e.startsWith(r+"."));var iX=function(t,r){for(var e={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!e[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];e[o]={message:c.message,type:c.code}}else e[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(p){return t.push(p)})}),r){var u=e[o].types,l=u&&u[n.code];e[o]=Z7(o,r,e,s,l?[].concat(l,n.message):n.message)}t.shift()}return e},ql=function(t,r,e){return e===void 0&&(e={}),function(n,s,i){try{return Promise.resolve((function(o,c){try{var u=Promise.resolve(t[e.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(l){return i.shouldUseNativeValidation&&aP({},i),{errors:{},values:e.raw?n:l}})}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u})(0,function(o){if((function(c){return Array.isArray(c?.errors)})(o))return{values:{},errors:sX(iX(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},en;(function(t){t.assertEqual=s=>{};function r(s){}t.assertIs=r;function e(s){throw new Error}t.assertNever=e,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(en||(en={}));var n2;(function(t){t.mergeShapes=(r,e)=>({...r,...e})})(n2||(n2={}));const At=en.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cl=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return Number.isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},ct=en.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oX=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ji extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){const e=r||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(e(o));else{let c=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(e(o))):c[l]=c[l]||{_errors:[]},c=c[l],u++}}};return s(this),n}static assert(r){if(!(r instanceof ji))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,en.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){const e={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];e[i]=e[i]||[],e[i].push(r(s))}else n.push(r(s));return{formErrors:n,fieldErrors:e}}get formErrors(){return this.flatten()}}ji.create=t=>new ji(t);const Yf=(t,r)=>{let e;switch(t.code){case ct.invalid_type:t.received===At.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case ct.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,en.jsonStringifyReplacer)}`;break;case ct.unrecognized_keys:e=`Unrecognized key(s) in object: ${en.joinValues(t.keys,", ")}`;break;case ct.invalid_union:e="Invalid input";break;case ct.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${en.joinValues(t.options)}`;break;case ct.invalid_enum_value:e=`Invalid enum value. Expected ${en.joinValues(t.options)}, received '${t.received}'`;break;case ct.invalid_arguments:e="Invalid function arguments";break;case ct.invalid_return_type:e="Invalid function return type";break;case ct.invalid_date:e="Invalid date";break;case ct.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:en.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case ct.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case ct.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case ct.custom:e="Invalid input";break;case ct.invalid_intersection_types:e="Intersection results could not be merged";break;case ct.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case ct.not_finite:e="Number must be finite";break;default:e=r.defaultError,en.assertNever(t)}return{message:e}};let iP=Yf;function lX(t){iP=t}function Ry(){return iP}const Dy=t=>{const{data:r,path:e,errorMaps:n,issueData:s}=t,i=[...e,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)c=l(o,{data:r,defaultError:c}).message;return{...s,path:i,message:c}},cX=[];function kt(t,r){const e=Ry(),n=Dy({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===Yf?void 0:Yf].filter(s=>!!s)});t.common.issues.push(n)}class ka{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){const n=[];for(const s of e){if(s.status==="aborted")return cr;s.status==="dirty"&&r.dirty(),n.push(s.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,e){const n=[];for(const s of e){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ka.mergeObjectSync(r,n)}static mergeObjectSync(r,e){const n={};for(const s of e){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return cr;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:r.value,value:n}}}const cr=Object.freeze({status:"aborted"}),gf=t=>({status:"dirty",value:t}),Va=t=>({status:"valid",value:t}),s2=t=>t.status==="aborted",a2=t=>t.status==="dirty",cd=t=>t.status==="valid",sm=t=>typeof Promise<"u"&&t instanceof Promise;var qt;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message})(qt||(qt={}));class al{constructor(r,e,n,s){this._cachedPath=[],this.parent=r,this.data=e,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z6=(t,r)=>{if(cd(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new ji(t.common.issues);return this._error=e,this._error}}};function Or(t){if(!t)return{};const{errorMap:r,invalid_type_error:e,required_error:n,description:s}=t;if(r&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??n??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??e??c.defaultError}},description:s}}class Ur{get description(){return this._def.description}_getType(r){return Cl(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:Cl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ka,ctx:{common:r.parent.common,data:r.data,parsedType:Cl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const e=this._parse(r);if(sm(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){const e=this._parse(r);return Promise.resolve(e)}parse(r,e){const n=this.safeParse(r,e);if(n.success)return n.data;throw n.error}safeParse(r,e){const n={common:{issues:[],async:e?.async??!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Cl(r)},s=this._parseSync({data:r,path:n.path,parent:n});return z6(n,s)}"~validate"(r){const e={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Cl(r)};if(!this["~standard"].async)try{const n=this._parseSync({data:r,path:[],parent:e});return cd(n)?{value:n.value}:{issues:e.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),e.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:e}).then(n=>cd(n)?{value:n.value}:{issues:e.common.issues})}async parseAsync(r,e){const n=await this.safeParseAsync(r,e);if(n.success)return n.data;throw n.error}async safeParseAsync(r,e){const n={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Cl(r)},s=this._parse({data:r,path:n.path,parent:n}),i=await(sm(s)?s:Promise.resolve(s));return z6(n,i)}refine(r,e){const n=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,i)=>{const o=r(s),c=()=>i.addIssue({code:ct.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(r,e){return this._refinement((n,s)=>r(n)?!0:(s.addIssue(typeof e=="function"?e(n,s):e),!1))}_refinement(r){return new _o({schema:this,typeName:hr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Qo.create(this,this._def)}nullable(){return eu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return go.create(this)}promise(){return Jf.create(this,this._def)}or(r){return lm.create([this,r],this._def)}and(r){return cm.create(this,r,this._def)}transform(r){return new _o({...Or(this._def),schema:this,typeName:hr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const e=typeof r=="function"?r:()=>r;return new pm({...Or(this._def),innerType:this,defaultValue:e,typeName:hr.ZodDefault})}brand(){return new X_({typeName:hr.ZodBranded,type:this,...Or(this._def)})}catch(r){const e=typeof r=="function"?r:()=>r;return new mm({...Or(this._def),innerType:this,catchValue:e,typeName:hr.ZodCatch})}describe(r){const e=this.constructor;return new e({...this._def,description:r})}pipe(r){return Jm.create(this,r)}readonly(){return gm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uX=/^c[^\s-]{8,}$/i,dX=/^[0-9a-z]+$/,fX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pX=/^[a-z0-9_-]{21}$/i,mX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let h1;const xX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_X=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SX=new RegExp(`^${oP}$`);function lP(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);const e=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${e}`}function NX(t){return new RegExp(`^${lP(t)}$`)}function cP(t){let r=`${oP}T${lP(t)}`;const e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function CX(t,r){return!!((r==="v4"||!r)&&xX.test(t)||(r==="v6"||!r)&&wX.test(t))}function TX(t,r){if(!mX.test(t))return!1;try{const[e]=t.split(".");if(!e)return!1;const n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function EX(t,r){return!!((r==="v4"||!r)&&vX.test(t)||(r==="v6"||!r)&&_X.test(t))}class mo extends Ur{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==At.string){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:At.string,received:i.parsedType}),cr}const n=new ka;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,c=r.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(r,s),o?kt(s,{code:ct.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&kt(s,{code:ct.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")yX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"email",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")h1||(h1=new RegExp(bX,"u")),h1.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"emoji",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"uuid",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")pX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"nanoid",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")uX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"cuid",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")dX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"cuid2",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")fX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"ulid",code:ct.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),kt(s,{validation:"url",code:ct.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"regex",code:ct.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cP(i).test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?SX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?NX(i).test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?gX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"duration",code:ct.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?CX(r.data,i.version)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"ip",code:ct.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?TX(r.data,i.alg)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"jwt",code:ct.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?EX(r.data,i.version)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"cidr",code:ct.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?kX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"base64",code:ct.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?jX.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"base64url",code:ct.invalid_string,message:i.message}),n.dirty()):en.assertNever(i);return{status:n.value,value:r.data}}_regex(r,e,n){return this.refinement(s=>r.test(s),{validation:e,code:ct.invalid_string,...qt.errToObj(n)})}_addCheck(r){return new mo({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...qt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...qt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...qt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...qt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...qt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...qt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...qt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...qt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...qt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...qt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...qt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...qt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...qt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...qt.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...qt.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...qt.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,...qt.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e?.position,...qt.errToObj(e?.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,...qt.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,...qt.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,...qt.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,...qt.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,...qt.errToObj(e)})}nonempty(r){return this.min(1,qt.errToObj(r))}trim(){return new mo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}mo.create=t=>new mo({checks:[],typeName:hr.ZodString,coerce:t?.coerce??!1,...Or(t)});function AX(t,r){const e=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,s=e>n?e:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return i%o/10**s}class Yc extends Ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==At.number){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:At.number,received:i.parsedType}),cr}let n;const s=new ka;for(const i of this._def.checks)i.kind==="int"?en.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?AX(r.data,i.value)!==0&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.not_finite,message:i.message}),s.dirty()):en.assertNever(i);return{status:s.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,qt.toString(e))}setLimit(r,e,n,s){return new Yc({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:qt.toString(s)}]})}_addCheck(r){return new Yc({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:qt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:qt.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:qt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qt.toString(r)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&en.isInteger(r.value))}get isFinite(){let r=null,e=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(e===null||n.value>e)&&(e=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(e)&&Number.isFinite(r)}}Yc.create=t=>new Yc({checks:[],typeName:hr.ZodNumber,coerce:t?.coerce||!1,...Or(t)});class Zc extends Ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==At.bigint)return this._getInvalidInput(r);let n;const s=new ka;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),kt(n,{code:ct.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):en.assertNever(i);return{status:s.value,value:r.data}}_getInvalidInput(r){const e=this._getOrReturnCtx(r);return kt(e,{code:ct.invalid_type,expected:At.bigint,received:e.parsedType}),cr}gte(r,e){return this.setLimit("min",r,!0,qt.toString(e))}gt(r,e){return this.setLimit("min",r,!1,qt.toString(e))}lte(r,e){return this.setLimit("max",r,!0,qt.toString(e))}lt(r,e){return this.setLimit("max",r,!1,qt.toString(e))}setLimit(r,e,n,s){return new Zc({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:qt.toString(s)}]})}_addCheck(r){return new Zc({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qt.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:qt.toString(e)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}Zc.create=t=>new Zc({checks:[],typeName:hr.ZodBigInt,coerce:t?.coerce??!1,...Or(t)});class am extends Ur{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==At.boolean){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.boolean,received:n.parsedType}),cr}return Va(r.data)}}am.create=t=>new am({typeName:hr.ZodBoolean,coerce:t?.coerce||!1,...Or(t)});class ud extends Ur{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==At.date){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:At.date,received:i.parsedType}),cr}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_date}),cr}const n=new ka;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):en.assertNever(i);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new ud({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:qt.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:qt.toString(e)})}get minDate(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}ud.create=t=>new ud({checks:[],coerce:t?.coerce||!1,typeName:hr.ZodDate,...Or(t)});class Iy extends Ur{_parse(r){if(this._getType(r)!==At.symbol){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.symbol,received:n.parsedType}),cr}return Va(r.data)}}Iy.create=t=>new Iy({typeName:hr.ZodSymbol,...Or(t)});class im extends Ur{_parse(r){if(this._getType(r)!==At.undefined){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.undefined,received:n.parsedType}),cr}return Va(r.data)}}im.create=t=>new im({typeName:hr.ZodUndefined,...Or(t)});class om extends Ur{_parse(r){if(this._getType(r)!==At.null){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.null,received:n.parsedType}),cr}return Va(r.data)}}om.create=t=>new om({typeName:hr.ZodNull,...Or(t)});class Zf extends Ur{constructor(){super(...arguments),this._any=!0}_parse(r){return Va(r.data)}}Zf.create=t=>new Zf({typeName:hr.ZodAny,...Or(t)});class td extends Ur{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Va(r.data)}}td.create=t=>new td({typeName:hr.ZodUnknown,...Or(t)});class Hl extends Ur{_parse(r){const e=this._getOrReturnCtx(r);return kt(e,{code:ct.invalid_type,expected:At.never,received:e.parsedType}),cr}}Hl.create=t=>new Hl({typeName:hr.ZodNever,...Or(t)});class Oy extends Ur{_parse(r){if(this._getType(r)!==At.undefined){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.void,received:n.parsedType}),cr}return Va(r.data)}}Oy.create=t=>new Oy({typeName:hr.ZodVoid,...Or(t)});class go extends Ur{_parse(r){const{ctx:e,status:n}=this._processInputParams(r),s=this._def;if(e.parsedType!==At.array)return kt(e,{code:ct.invalid_type,expected:At.array,received:e.parsedType}),cr;if(s.exactLength!==null){const o=e.data.length>s.exactLength.value,c=e.data.length<s.exactLength.value;(o||c)&&(kt(e,{code:o?ct.too_big:ct.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&e.data.length<s.minLength.value&&(kt(e,{code:ct.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&e.data.length>s.maxLength.value&&(kt(e,{code:ct.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),e.common.async)return Promise.all([...e.data].map((o,c)=>s.type._parseAsync(new al(e,o,e.path,c)))).then(o=>ka.mergeArray(n,o));const i=[...e.data].map((o,c)=>s.type._parseSync(new al(e,o,e.path,c)));return ka.mergeArray(n,i)}get element(){return this._def.type}min(r,e){return new go({...this._def,minLength:{value:r,message:qt.toString(e)}})}max(r,e){return new go({...this._def,maxLength:{value:r,message:qt.toString(e)}})}length(r,e){return new go({...this._def,exactLength:{value:r,message:qt.toString(e)}})}nonempty(r){return this.min(1,r)}}go.create=(t,r)=>new go({type:t,minLength:null,maxLength:null,exactLength:null,typeName:hr.ZodArray,...Or(r)});function hf(t){if(t instanceof Wn){const r={};for(const e in t.shape){const n=t.shape[e];r[e]=Qo.create(hf(n))}return new Wn({...t._def,shape:()=>r})}else return t instanceof go?new go({...t._def,type:hf(t.element)}):t instanceof Qo?Qo.create(hf(t.unwrap())):t instanceof eu?eu.create(hf(t.unwrap())):t instanceof il?il.create(t.items.map(r=>hf(r))):t}class Wn extends Ur{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),e=en.objectKeys(r);return this._cached={shape:r,keys:e},this._cached}_parse(r){if(this._getType(r)!==At.object){const l=this._getOrReturnCtx(r);return kt(l,{code:ct.invalid_type,expected:At.object,received:l.parsedType}),cr}const{status:n,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Hl&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||c.push(l);const u=[];for(const l of o){const d=i[l],p=s.data[l];u.push({key:{status:"valid",value:l},value:d._parse(new al(s,p,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Hl){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of c)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(l==="strict")c.length>0&&(kt(s,{code:ct.unrecognized_keys,keys:c}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of c){const p=s.data[d];u.push({key:{status:"valid",value:d},value:l._parse(new al(s,p,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of u){const p=await d.key,f=await d.value;l.push({key:p,value:f,alwaysSet:d.alwaysSet})}return l}).then(l=>ka.mergeObjectSync(n,l)):ka.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(r){return qt.errToObj,new Wn({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,n)=>{const s=this._def.errorMap?.(e,n).message??n.defaultError;return e.code==="unrecognized_keys"?{message:qt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new Wn({...this._def,unknownKeys:"strip"})}passthrough(){return new Wn({...this._def,unknownKeys:"passthrough"})}extend(r){return new Wn({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Wn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:hr.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new Wn({...this._def,catchall:r})}pick(r){const e={};for(const n of en.objectKeys(r))r[n]&&this.shape[n]&&(e[n]=this.shape[n]);return new Wn({...this._def,shape:()=>e})}omit(r){const e={};for(const n of en.objectKeys(this.shape))r[n]||(e[n]=this.shape[n]);return new Wn({...this._def,shape:()=>e})}deepPartial(){return hf(this)}partial(r){const e={};for(const n of en.objectKeys(this.shape)){const s=this.shape[n];r&&!r[n]?e[n]=s:e[n]=s.optional()}return new Wn({...this._def,shape:()=>e})}required(r){const e={};for(const n of en.objectKeys(this.shape))if(r&&!r[n])e[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Qo;)i=i._def.innerType;e[n]=i}return new Wn({...this._def,shape:()=>e})}keyof(){return uP(en.objectKeys(this.shape))}}Wn.create=(t,r)=>new Wn({shape:()=>t,unknownKeys:"strip",catchall:Hl.create(),typeName:hr.ZodObject,...Or(r)});Wn.strictCreate=(t,r)=>new Wn({shape:()=>t,unknownKeys:"strict",catchall:Hl.create(),typeName:hr.ZodObject,...Or(r)});Wn.lazycreate=(t,r)=>new Wn({shape:t,unknownKeys:"strip",catchall:Hl.create(),typeName:hr.ZodObject,...Or(r)});class lm extends Ur{_parse(r){const{ctx:e}=this._processInputParams(r),n=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return e.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new ji(c.ctx.common.issues));return kt(e,{code:ct.invalid_union,unionErrors:o}),cr}if(e.common.async)return Promise.all(n.map(async i=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await i._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of n){const l={...e,common:{...e.common,issues:[]},parent:null},d=u._parseSync({data:e.data,path:e.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return e.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new ji(u));return kt(e,{code:ct.invalid_union,unionErrors:c}),cr}}get options(){return this._def.options}}lm.create=(t,r)=>new lm({options:t,typeName:hr.ZodUnion,...Or(r)});const Sl=t=>t instanceof dm?Sl(t.schema):t instanceof _o?Sl(t.innerType()):t instanceof fm?[t.value]:t instanceof Jc?t.options:t instanceof hm?en.objectValues(t.enum):t instanceof pm?Sl(t._def.innerType):t instanceof im?[void 0]:t instanceof om?[null]:t instanceof Qo?[void 0,...Sl(t.unwrap())]:t instanceof eu?[null,...Sl(t.unwrap())]:t instanceof X_||t instanceof gm?Sl(t.unwrap()):t instanceof mm?Sl(t._def.innerType):[];class Ob extends Ur{_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.object)return kt(e,{code:ct.invalid_type,expected:At.object,received:e.parsedType}),cr;const n=this.discriminator,s=e.data[n],i=this.optionsMap.get(s);return i?e.common.async?i._parseAsync({data:e.data,path:e.path,parent:e}):i._parseSync({data:e.data,path:e.path,parent:e}):(kt(e,{code:ct.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),cr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,n){const s=new Map;for(const i of e){const o=Sl(i.shape[r]);if(!o.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Ob({typeName:hr.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:s,...Or(n)})}}function i2(t,r){const e=Cl(t),n=Cl(r);if(t===r)return{valid:!0,data:t};if(e===At.object&&n===At.object){const s=en.objectKeys(r),i=en.objectKeys(t).filter(c=>s.indexOf(c)!==-1),o={...t,...r};for(const c of i){const u=i2(t[c],r[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(e===At.array&&n===At.array){if(t.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],c=r[i],u=i2(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return e===At.date&&n===At.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class cm extends Ur{_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=(i,o)=>{if(s2(i)||s2(o))return cr;const c=i2(i.value,o.value);return c.valid?((a2(i)||a2(o))&&e.dirty(),{status:e.value,value:c.data}):(kt(n,{code:ct.invalid_intersection_types}),cr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cm.create=(t,r,e)=>new cm({left:t,right:r,typeName:hr.ZodIntersection,...Or(e)});class il extends Ur{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.array)return kt(n,{code:ct.invalid_type,expected:At.array,received:n.parsedType}),cr;if(n.data.length<this._def.items.length)return kt(n,{code:ct.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cr;!this._def.rest&&n.data.length>this._def.items.length&&(kt(n,{code:ct.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const i=[...n.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new al(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ka.mergeArray(e,o)):ka.mergeArray(e,i)}get items(){return this._def.items}rest(r){return new il({...this._def,rest:r})}}il.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new il({items:t,typeName:hr.ZodTuple,rest:null,...Or(r)})};class um extends Ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.object)return kt(n,{code:ct.invalid_type,expected:At.object,received:n.parsedType}),cr;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:i._parse(new al(n,c,n.path,c)),value:o._parse(new al(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?ka.mergeObjectAsync(e,s):ka.mergeObjectSync(e,s)}get element(){return this._def.valueType}static create(r,e,n){return e instanceof Ur?new um({keyType:r,valueType:e,typeName:hr.ZodRecord,...Or(n)}):new um({keyType:mo.create(),valueType:r,typeName:hr.ZodRecord,...Or(e)})}}class Fy extends Ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.map)return kt(n,{code:ct.invalid_type,expected:At.map,received:n.parsedType}),cr;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,u],l)=>({key:s._parse(new al(n,c,n.path,[l,"key"])),value:i._parse(new al(n,u,n.path,[l,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,d=await u.value;if(l.status==="aborted"||d.status==="aborted")return cr;(l.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(l.value,d.value)}return{status:e.value,value:c}})}else{const c=new Map;for(const u of o){const l=u.key,d=u.value;if(l.status==="aborted"||d.status==="aborted")return cr;(l.status==="dirty"||d.status==="dirty")&&e.dirty(),c.set(l.value,d.value)}return{status:e.value,value:c}}}}Fy.create=(t,r,e)=>new Fy({valueType:r,keyType:t,typeName:hr.ZodMap,...Or(e)});class dd extends Ur{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==At.set)return kt(n,{code:ct.invalid_type,expected:At.set,received:n.parsedType}),cr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(kt(n,{code:ct.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),e.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(kt(n,{code:ct.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),e.dirty());const i=this._def.valueType;function o(u){const l=new Set;for(const d of u){if(d.status==="aborted")return cr;d.status==="dirty"&&e.dirty(),l.add(d.value)}return{status:e.value,value:l}}const c=[...n.data.values()].map((u,l)=>i._parse(new al(n,u,n.path,l)));return n.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(r,e){return new dd({...this._def,minSize:{value:r,message:qt.toString(e)}})}max(r,e){return new dd({...this._def,maxSize:{value:r,message:qt.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}dd.create=(t,r)=>new dd({valueType:t,minSize:null,maxSize:null,typeName:hr.ZodSet,...Or(r)});class Cf extends Ur{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.function)return kt(e,{code:ct.invalid_type,expected:At.function,received:e.parsedType}),cr;function n(c,u){return Dy({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ry(),Yf].filter(l=>!!l),issueData:{code:ct.invalid_arguments,argumentsError:u}})}function s(c,u){return Dy({data:c,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Ry(),Yf].filter(l=>!!l),issueData:{code:ct.invalid_return_type,returnTypeError:u}})}const i={errorMap:e.common.contextualErrorMap},o=e.data;if(this._def.returns instanceof Jf){const c=this;return Va(async function(...u){const l=new ji([]),d=await c._def.args.parseAsync(u,i).catch(h=>{throw l.addIssue(n(u,h)),l}),p=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(p,i).catch(h=>{throw l.addIssue(s(p,h)),l})})}else{const c=this;return Va(function(...u){const l=c._def.args.safeParse(u,i);if(!l.success)throw new ji([n(u,l.error)]);const d=Reflect.apply(o,this,l.data),p=c._def.returns.safeParse(d,i);if(!p.success)throw new ji([s(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Cf({...this._def,args:il.create(r).rest(td.create())})}returns(r){return new Cf({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,n){return new Cf({args:r||il.create([]).rest(td.create()),returns:e||td.create(),typeName:hr.ZodFunction,...Or(n)})}}class dm extends Ur{get schema(){return this._def.getter()}_parse(r){const{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}dm.create=(t,r)=>new dm({getter:t,typeName:hr.ZodLazy,...Or(r)});class fm extends Ur{_parse(r){if(r.data!==this._def.value){const e=this._getOrReturnCtx(r);return kt(e,{received:e.data,code:ct.invalid_literal,expected:this._def.value}),cr}return{status:"valid",value:r.data}}get value(){return this._def.value}}fm.create=(t,r)=>new fm({value:t,typeName:hr.ZodLiteral,...Or(r)});function uP(t,r){return new Jc({values:t,typeName:hr.ZodEnum,...Or(r)})}class Jc extends Ur{_parse(r){if(typeof r.data!="string"){const e=this._getOrReturnCtx(r),n=this._def.values;return kt(e,{expected:en.joinValues(n),received:e.parsedType,code:ct.invalid_type}),cr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const e=this._getOrReturnCtx(r),n=this._def.values;return kt(e,{received:e.data,code:ct.invalid_enum_value,options:n}),cr}return Va(r.data)}get options(){return this._def.values}get enum(){const r={};for(const e of this._def.values)r[e]=e;return r}get Values(){const r={};for(const e of this._def.values)r[e]=e;return r}get Enum(){const r={};for(const e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return Jc.create(r,{...this._def,...e})}exclude(r,e=this._def){return Jc.create(this.options.filter(n=>!r.includes(n)),{...this._def,...e})}}Jc.create=uP;class hm extends Ur{_parse(r){const e=en.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==At.string&&n.parsedType!==At.number){const s=en.objectValues(e);return kt(n,{expected:en.joinValues(s),received:n.parsedType,code:ct.invalid_type}),cr}if(this._cache||(this._cache=new Set(en.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=en.objectValues(e);return kt(n,{received:n.data,code:ct.invalid_enum_value,options:s}),cr}return Va(r.data)}get enum(){return this._def.values}}hm.create=(t,r)=>new hm({values:t,typeName:hr.ZodNativeEnum,...Or(r)});class Jf extends Ur{unwrap(){return this._def.type}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==At.promise&&e.common.async===!1)return kt(e,{code:ct.invalid_type,expected:At.promise,received:e.parsedType}),cr;const n=e.parsedType===At.promise?e.data:Promise.resolve(e.data);return Va(n.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Jf.create=(t,r)=>new Jf({type:t,typeName:hr.ZodPromise,...Or(r)});class _o extends Ur{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===hr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:e,ctx:n}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{kt(n,o),o.fatal?e.abort():e.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(e.value==="aborted")return cr;const u=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return u.status==="aborted"?cr:u.status==="dirty"||e.value==="dirty"?gf(u.value):u});{if(e.value==="aborted")return cr;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?cr:c.status==="dirty"||e.value==="dirty"?gf(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?cr:(c.status==="dirty"&&e.dirty(),o(c.value),{status:e.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?cr:(c.status==="dirty"&&e.dirty(),o(c.value).then(()=>({status:e.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cd(o))return cr;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>cd(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:e.value,value:c})):cr);en.assertNever(s)}}_o.create=(t,r,e)=>new _o({schema:t,typeName:hr.ZodEffects,effect:r,...Or(e)});_o.createWithPreprocess=(t,r,e)=>new _o({schema:r,effect:{type:"preprocess",transform:t},typeName:hr.ZodEffects,...Or(e)});class Qo extends Ur{_parse(r){return this._getType(r)===At.undefined?Va(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Qo.create=(t,r)=>new Qo({innerType:t,typeName:hr.ZodOptional,...Or(r)});class eu extends Ur{_parse(r){return this._getType(r)===At.null?Va(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}eu.create=(t,r)=>new eu({innerType:t,typeName:hr.ZodNullable,...Or(r)});class pm extends Ur{_parse(r){const{ctx:e}=this._processInputParams(r);let n=e.data;return e.parsedType===At.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}pm.create=(t,r)=>new pm({innerType:t,typeName:hr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Or(r)});class mm extends Ur{_parse(r){const{ctx:e}=this._processInputParams(r),n={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ji(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ji(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}mm.create=(t,r)=>new mm({innerType:t,typeName:hr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Or(r)});class Ly extends Ur{_parse(r){if(this._getType(r)!==At.nan){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:At.nan,received:n.parsedType}),cr}return{status:"valid",value:r.data}}}Ly.create=t=>new Ly({typeName:hr.ZodNaN,...Or(t)});const PX=Symbol("zod_brand");class X_ extends Ur{_parse(r){const{ctx:e}=this._processInputParams(r),n=e.data;return this._def.type._parse({data:n,path:e.path,parent:e})}unwrap(){return this._def.type}}class Jm extends Ur{_parse(r){const{status:e,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?cr:i.status==="dirty"?(e.dirty(),gf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?cr:s.status==="dirty"?(e.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(r,e){return new Jm({in:r,out:e,typeName:hr.ZodPipeline})}}class gm extends Ur{_parse(r){const e=this._def.innerType._parse(r),n=s=>(cd(s)&&(s.value=Object.freeze(s.value)),s);return sm(e)?e.then(s=>n(s)):n(e)}unwrap(){return this._def.innerType}}gm.create=(t,r)=>new gm({innerType:t,typeName:hr.ZodReadonly,...Or(r)});function V6(t,r){const e=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof e=="string"?{message:e}:e}function Q_(t,r={},e){return t?Zf.create().superRefine((n,s)=>{const i=t(n);if(i instanceof Promise)return i.then(o=>{if(!o){const c=V6(r,n),u=c.fatal??e??!0;s.addIssue({code:"custom",...c,fatal:u})}});if(!i){const o=V6(r,n),c=o.fatal??e??!0;s.addIssue({code:"custom",...o,fatal:c})}}):Zf.create()}const MX={object:Wn.lazycreate};var hr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(hr||(hr={}));const RX=(t,r={message:`Input not instance of ${t.name}`})=>Q_(e=>e instanceof t,r),Kr=mo.create,Y_=Yc.create,DX=Ly.create,IX=Zc.create,Fb=am.create,OX=ud.create,FX=Iy.create,LX=im.create,dP=om.create,By=Zf.create,BX=td.create,$X=Hl.create,zX=Oy.create,fP=go.create,jd=Wn.create,VX=Wn.strictCreate,Z_=lm.create,UX=Ob.create,WX=cm.create,qX=il.create,hP=um.create,HX=Fy.create,KX=dd.create,GX=Cf.create,XX=dm.create,$y=fm.create,J_=Jc.create,QX=hm.create,YX=Jf.create,U6=_o.create,ZX=Qo.create,JX=eu.create,pP=_o.createWithPreprocess,eQ=Jm.create,tQ=()=>Kr().optional(),rQ=()=>Y_().optional(),nQ=()=>Fb().optional(),Es={string:(t=>mo.create({...t,coerce:!0})),number:(t=>Yc.create({...t,coerce:!0})),boolean:(t=>am.create({...t,coerce:!0})),bigint:(t=>Zc.create({...t,coerce:!0})),date:(t=>ud.create({...t,coerce:!0}))},sQ=cr,aQ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:PX,DIRTY:gf,EMPTY_PATH:cX,INVALID:cr,NEVER:sQ,OK:Va,ParseStatus:ka,Schema:Ur,ZodAny:Zf,ZodArray:go,ZodBigInt:Zc,ZodBoolean:am,ZodBranded:X_,ZodCatch:mm,ZodDate:ud,ZodDefault:pm,ZodDiscriminatedUnion:Ob,ZodEffects:_o,ZodEnum:Jc,ZodError:ji,get ZodFirstPartyTypeKind(){return hr},ZodFunction:Cf,ZodIntersection:cm,ZodIssueCode:ct,ZodLazy:dm,ZodLiteral:fm,ZodMap:Fy,ZodNaN:Ly,ZodNativeEnum:hm,ZodNever:Hl,ZodNull:om,ZodNullable:eu,ZodNumber:Yc,ZodObject:Wn,ZodOptional:Qo,ZodParsedType:At,ZodPipeline:Jm,ZodPromise:Jf,ZodReadonly:gm,ZodRecord:um,ZodSchema:Ur,ZodSet:dd,ZodString:mo,ZodSymbol:Iy,ZodTransformer:_o,ZodTuple:il,ZodType:Ur,ZodUndefined:im,ZodUnion:lm,ZodUnknown:td,ZodVoid:Oy,addIssueToContext:kt,any:By,array:fP,bigint:IX,boolean:Fb,coerce:Es,custom:Q_,date:OX,datetimeRegex:cP,defaultErrorMap:Yf,discriminatedUnion:UX,effect:U6,enum:J_,function:GX,getErrorMap:Ry,getParsedType:Cl,instanceof:RX,intersection:WX,isAborted:s2,isAsync:sm,isDirty:a2,isValid:cd,late:MX,lazy:XX,literal:$y,makeIssue:Dy,map:HX,nan:DX,nativeEnum:QX,never:$X,null:dP,nullable:JX,number:Y_,object:jd,get objectUtil(){return n2},oboolean:nQ,onumber:rQ,optional:ZX,ostring:tQ,pipeline:eQ,preprocess:pP,promise:YX,quotelessJson:oX,record:hP,set:KX,setErrorMap:lX,strictObject:VX,string:Kr,symbol:FX,transformer:U6,tuple:qX,undefined:LX,union:Z_,unknown:BX,get util(){return en},void:zX},Symbol.toStringTag,{value:"Module"})),mP=E.createContext(void 0);function Ql(){const t=E.useContext(mP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function iQ({children:t}){const[r,e]=E.useState(null),[n,s]=E.useState(!0),i=ks(),o=r!==null,c=()=>localStorage.getItem("accessToken"),u=()=>localStorage.getItem("refreshToken"),[l,d]=E.useState(0),[p,f]=E.useState(null);E.useEffect(()=>{Zj({getAccessToken:c,refreshToken:q,logout:m})},[]);const g=(()=>{if(typeof window<"u"){const U=window.location.origin;if(U.includes("binarjoinanelytic.info"))return`${U}/api`;if(U.includes("replit.dev"))return`${U}/api`;if(U.startsWith("http://localhost")||U.startsWith("file://")||U==="null")return"https://app2.binarjoinanelytic.info/api"}const I="https://app2.binarjoinanelytic.info/api";return I.endsWith("/api")?I:`${I}/api`})();E.useEffect(()=>{(async()=>{try{const{smartGetAll:U,smartSave:K}=await mn(async()=>{const{smartGetAll:P,smartSave:L}=await Promise.resolve().then(()=>Qp);return{smartGetAll:P,smartSave:L}},void 0);(await U("emergencyUsers")).length===0&&(console.log(" [AuthProvider]    ..."),await K("emergencyUsers",[{id:"emergency-admin",email:"admin@binarjoin.com",password:"admin",name:" ",role:"admin",createdAt:new Date().toISOString()}]))}catch{}})()},[]),E.useEffect(()=>{(async()=>{console.log(" [AuthProvider]   ...",new Date().toISOString());try{const U=localStorage.getItem("accessToken"),K=localStorage.getItem("user");if(!U||!K){console.log(" [AuthProvider]     "),s(!1);return}try{const W=JSON.parse(K);e(W),s(!1),console.log(" [AuthProvider]     ..."),fetch(`${g}/auth/me`,{headers:{Authorization:`Bearer ${U}`}}).then(async P=>{if(P.ok){const L=await P.json();L.user&&(e(L.user),localStorage.setItem("user",JSON.stringify(L.user)))}else console.warn(" [AuthProvider]    (401)      .")}).catch(()=>{})}catch(W){console.error(" [AuthProvider]     :",W),await m()}}catch(U){console.error(" [AuthProvider]  :",U)}finally{s(!1)}})()},[]),E.useEffect(()=>{const I=U=>{U.key==="accessToken"&&!U.newValue&&(console.log(" [AuthProvider]       "),e(null))};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[]);const y=async(I,U)=>{console.log(" [AuthProvider.login]   :",I,new Date().toISOString());let K=null,W=null;try{console.log(` [AuthProvider.login]    ${g}/auth/login...`),W=await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:I,password:U})}),W.ok?K=await W.json():W.status===503||W.status===500?console.warn(` [AuthProvider]       (${W.status})    ...`):console.warn(` [AuthProvider]    ${W.status}    ...`)}catch(N){console.warn(" [AuthProvider]       ...",N)}if(!K||W&&!W.ok){console.log(" [AuthProvider]    /...");try{const{smartGetAll:N}=await mn(async()=>{const{smartGetAll:$}=await Promise.resolve().then(()=>Qp);return{smartGetAll:$}},void 0),R=await N("emergencyUsers");console.log(` [AuthProvider]  ${R.length}  `);const O=R.find($=>$.email.toLowerCase()===I.toLowerCase()&&$.password===U);if(O)console.log(" [AuthProvider]     "),K={success:!0,data:{user:{...O,emailVerified:!0},tokens:{accessToken:"emergency-token",refreshToken:"emergency-refresh"}}};else{const $=await N("users");console.log(` [AuthProvider]  ${$.length}  `);const X=$.find(Y=>Y.email.toLowerCase()===I.toLowerCase());X&&(console.log(" [AuthProvider]      ()"),K={success:!0,data:{user:X,tokens:{accessToken:"offline-token",refreshToken:"offline-refresh"}}})}}catch(N){console.error(" [AuthProvider]    :",N)}}if(W&&!W.ok&&!K){const N=await W.json().catch(()=>({}));if(W.status===403&&N.requireEmailVerification){const R=new Error(N.message||"     ");throw R.requireEmailVerification=!0,R.userId=N.data?.userId,R.email=N.data?.email,R.status=403,R.data=N.data,R}throw new Error(N.message||"  ")}const P=K?.data||K,L=P?.user||K?.user;let T=P?.tokens?.accessToken||K?.tokens?.accessToken||P?.accessToken||K?.accessToken||K?.data?.accessToken||P?.token||K?.token,_=P?.tokens?.refreshToken||K?.tokens?.refreshToken||P?.refreshToken||K?.refreshToken||K?.data?.refreshToken;if(!T&&K&&typeof K=="object"){const N=["accessToken","token","jwt","auth_token"];for(const R of N)if(K[R]){T=K[R];break}}if(console.log(" [AuthProvider.login]   :",{hasUser:!!L,hasToken:!!T,tokenType:typeof T}),!T)throw console.error(" [AuthProvider.login]    :",K),new Error("       .    .");const k={id:L?.id||"unknown",email:L?.email||I,name:L?.name||L?.fullName||`${L?.firstName||""} ${L?.lastName||""}`.trim()||I,role:L?.role||"admin",mfaEnabled:!!L?.mfaEnabled,emailVerified:L?.emailVerified===!0||!0};return console.log(" [AuthProvider.login]    localStorage..."),localStorage.setItem("user",JSON.stringify(k)),localStorage.setItem("accessToken",T),_&&localStorage.setItem("refreshToken",_),e(k),(async()=>{try{console.log(" [AuthProvider]   ...");const N=await mn(()=>Promise.resolve().then(()=>jB),void 0),R=N.startSync||N.default?.startSync;typeof R=="function"&&await R()}catch(N){console.warn(" [AuthProvider]     :",N)}})().then(()=>{console.log(" [AuthProvider]   "),[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(R=>i.invalidateQueries({queryKey:R,refetchType:"active",exact:!1}))}).catch(()=>{}),await new Promise(N=>setTimeout(N,50)),nW().catch(console.warn),console.log(" [AuthProvider.login]    "),K},m=async()=>{try{const I=localStorage.getItem("accessToken");if(I)try{await fetch(`${g}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${I}`}})}catch{}}catch{}finally{e(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),sW()}},[v,x]=E.useState(0),[S,C]=E.useState(!1),A=I=>new Promise(U=>setTimeout(U,I)),B=I=>Math.min(100*Math.pow(2,I),5e3),q=async(I=!1)=>{if(console.log(" [AuthProvider.refreshToken]    ..."),S&&!I){for(console.log(" [AuthProvider.refreshToken]    ...");S;)await A(100);return localStorage.getItem("accessToken")!==null}C(!0);const U=Date.now();try{const K=localStorage.getItem("refreshToken");if(!K)return console.log(" [AuthProvider.refreshToken]   refresh token"),!1;const W=3;for(let L=0;L<W;L++){const T=Date.now();console.log(` [AuthProvider.refreshToken]  ${L+1}/${W}...`);try{const _=new AbortController,k=setTimeout(()=>{_.abort(),console.log(` [AuthProvider.refreshToken] timeout  ${L+1}`)},1e4),j=await fetch(`${g}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:K}),signal:_.signal}),N=j.headers.get("content-type");if(!N||!N.includes("application/json")){console.error(" [AuthProvider.refreshToken]      ( JSON):",N),await A(2e3);continue}clearTimeout(k);const R=Date.now()-T;console.log(` [AuthProvider.refreshToken]  ${L+1}  ${R}ms`);const O=await j.json();if(j.ok&&O.success&&O.tokens){console.log(" [AuthProvider.refreshToken]  :",{success:O.success,hasTokens:!!O.tokens}),localStorage.setItem("accessToken",O.tokens.accessToken),localStorage.setItem("refreshToken",O.tokens.refreshToken),x(0);const $=Date.now()-U;return console.log(` [AuthProvider.refreshToken]    ${$}ms  ${L+1} `),!0}else console.log(` [AuthProvider.refreshToken]  ${j.status}:`,O.message||responseText);if(j.status===401||j.status===403){console.log(" [AuthProvider.refreshToken] refresh token   -     ");break}}catch(_){const k=Date.now()-T;_ instanceof Error?_.name==="AbortError"?console.log(` [AuthProvider.refreshToken] timeout   ${L+1}  ${k}ms`):console.log(` [AuthProvider.refreshToken]     ${L+1}:`,_.message):console.log(` [AuthProvider.refreshToken]      ${L+1}:`,_)}if(L<W-1){const _=B(L);console.log(` [AuthProvider.refreshToken]  ${_}ms   ...`),await A(_)}}x(L=>L+1);const P=Date.now()-U;return console.log(` [AuthProvider.refreshToken]     ${P}ms ${W} `),localStorage.getItem("user")?(console.warn(" [AuthProvider]           Offline"),!1):(await m(),window.location.href="/login",!1)}catch(K){const W=Date.now()-U;return console.error(` [AuthProvider.refreshToken]    ${W}ms:`,K),x(P=>P+1),!1}finally{C(!1)}},D={user:r,isAuthenticated:o,isLoading:n,login:y,logout:m,refreshToken:q,getAccessToken:c,getRefreshToken:u};return E.useEffect(()=>{Zj({getAccessToken:c,refreshToken:q,logout:m})},[]),a.jsx(mP.Provider,{value:D,children:t})}var oQ=Symbol.for("react.lazy"),zy=bb[" use ".trim().toString()];function lQ(t){return typeof t=="object"&&t!==null&&"then"in t}function gP(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===oQ&&"_payload"in t&&lQ(t._payload)}function e0(t){const r=cQ(t),e=E.forwardRef((n,s)=>{let{children:i,...o}=n;gP(i)&&typeof zy=="function"&&(i=zy(i._payload));const c=E.Children.toArray(i),u=c.find(dQ);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}var Sd=e0("Slot");function cQ(t){const r=E.forwardRef((e,n)=>{let{children:s,...i}=e;if(gP(s)&&typeof zy=="function"&&(s=zy(s._payload)),E.isValidElement(s)){const o=hQ(s),c=fQ(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var uQ=Symbol("radix.slottable");function dQ(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uQ}function fQ(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function hQ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var pQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mQ=pQ.reduce((t,r)=>{const e=e0(`Primitive.${r}`),n=E.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),gQ="Label",yP=E.forwardRef((t,r)=>a.jsx(mQ.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));yP.displayName=gQ;var bP=yP;const yQ=kd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ze=E.forwardRef(({className:t,...r},e)=>a.jsx(bP,{ref:e,className:Ae(yQ(),t),...r}));Ze.displayName=bP.displayName;const Kl=UG,xP=E.createContext({}),Jr=({...t})=>a.jsx(xP.Provider,{value:{name:t.name},children:a.jsx(Y7,{...t})}),Lb=()=>{const t=E.useContext(xP),r=E.useContext(vP),{getFieldState:e,formState:n}=VG(),s=e(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},vP=E.createContext({}),Yr=E.forwardRef(({className:t,...r},e)=>{const n=E.useId();return a.jsx(vP.Provider,{value:{id:n},children:a.jsx("div",{ref:e,className:Ae("space-y-2",t),...r})})});Yr.displayName="FormItem";const qn=E.forwardRef(({className:t,...r},e)=>{const{error:n,formItemId:s}=Lb();return a.jsx(Ze,{ref:e,className:Ae(n&&"text-destructive",t),htmlFor:s,...r})});qn.displayName="FormLabel";const sn=E.forwardRef(({...t},r)=>{const{error:e,formItemId:n,formDescriptionId:s,formMessageId:i}=Lb();return a.jsx(Sd,{ref:r,id:n,"aria-describedby":e?`${s} ${i}`:`${s}`,"aria-invalid":!!e,...t})});sn.displayName="FormControl";const bQ=E.forwardRef(({className:t,...r},e)=>{const{formDescriptionId:n}=Lb();return a.jsx("p",{ref:e,id:n,className:Ae("text-sm text-muted-foreground",t),...r})});bQ.displayName="FormDescription";const Mn=E.forwardRef(({className:t,children:r,...e},n)=>{const{error:s,formMessageId:i}=Lb(),o=s?String(s?.message??""):r;return o?a.jsx("p",{ref:n,id:i,className:Ae("text-[10px] font-black text-destructive text-right uppercase tracking-tighter mt-1 animate-in fade-in slide-in-from-top-1 duration-200",t),...e,children:o}):null});Mn.displayName="FormMessage";const e4=E.createContext({});function t4(t){const r=E.useRef(null);return r.current===null&&(r.current=t()),r.current}const Bb=E.createContext(null),r4=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xQ extends E.Component{getSnapshotBeforeUpdate(r){const e=this.props.childRef.current;if(e&&r.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vQ({children:t,isPresent:r}){const e=E.useId(),n=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(r4);return E.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:l}=s.current;if(r||!n.current||!o||!c)return;n.current.dataset.motionPopId=e;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[r]),a.jsx(xQ,{isPresent:r,childRef:n,sizeRef:s,children:E.cloneElement(t,{ref:n})})}const wQ=({children:t,initial:r,isPresent:e,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const c=t4(_Q),u=E.useId(),l=E.useCallback(p=>{c.set(p,!0);for(const f of c.values())if(!f)return;n&&n()},[c,n]),d=E.useMemo(()=>({id:u,initial:r,isPresent:e,custom:s,onExitComplete:l,register:p=>(c.set(p,!1),()=>c.delete(p))}),i?[Math.random(),l]:[e,l]);return E.useMemo(()=>{c.forEach((p,f)=>c.set(f,!1))},[e]),E.useEffect(()=>{!e&&!c.size&&n&&n()},[e]),o==="popLayout"&&(t=a.jsx(vQ,{isPresent:e,children:t})),a.jsx(Bb.Provider,{value:d,children:t})};function _Q(){return new Map}function wP(t=!0){const r=E.useContext(Bb);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=r,i=E.useId();E.useEffect(()=>{t&&s(i)},[t]);const o=E.useCallback(()=>t&&n&&n(i),[i,n,t]);return!e&&n?[!1,o]:[!0]}const Ag=t=>t.key||"";function W6(t){const r=[];return E.Children.forEach(t,e=>{E.isValidElement(e)&&r.push(e)}),r}const n4=typeof window<"u",_P=n4?E.useLayoutEffect:E.useEffect,ym=({children:t,custom:r,initial:e=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[c,u]=wP(o),l=E.useMemo(()=>W6(t),[t]),d=o&&!c?[]:l.map(Ag),p=E.useRef(!0),f=E.useRef(l),h=t4(()=>new Map),[g,y]=E.useState(l),[m,v]=E.useState(l);_P(()=>{p.current=!1,f.current=l;for(let C=0;C<m.length;C++){const A=Ag(m[C]);d.includes(A)?h.delete(A):h.get(A)!==!0&&h.set(A,!1)}},[m,d.length,d.join("-")]);const x=[];if(l!==g){let C=[...l];for(let A=0;A<m.length;A++){const B=m[A],q=Ag(B);d.includes(q)||(C.splice(A,0,B),x.push(B))}i==="wait"&&x.length&&(C=x),v(W6(C)),y(l);return}const{forceRender:S}=E.useContext(e4);return a.jsx(a.Fragment,{children:m.map(C=>{const A=Ag(C),B=o&&!c?!1:l===m||d.includes(A),q=()=>{if(h.has(A))h.set(A,!0);else return;let D=!0;h.forEach(I=>{I||(D=!1)}),D&&(S?.(),v(f.current),o&&u?.(),n&&n())};return a.jsx(wQ,{isPresent:B,initial:!p.current||e?void 0:!1,custom:B?void 0:r,presenceAffectsLayout:s,mode:i,onExitComplete:B?void 0:q,children:C},A)})})},Si=t=>t;let kP=Si;function s4(t){let r;return()=>(r===void 0&&(r=t()),r)}const eh=(t,r,e)=>{const n=r-t;return n===0?1:(e-t)/n},Ol=t=>t*1e3,Fl=t=>t/1e3,kQ={useManualTiming:!1};function jQ(t){let r=new Set,e=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(l){i.has(l)&&(u.schedule(l),t()),l(o)}const u={schedule:(l,d=!1,p=!1)=>{const h=p&&n?r:e;return d&&i.add(l),h.has(l)||h.add(l),l},cancel:l=>{e.delete(l),i.delete(l)},process:l=>{if(o=l,n){s=!0;return}n=!0,[r,e]=[e,r],r.forEach(c),r.clear(),n=!1,s&&(s=!1,u.process(l))}};return u}const Pg=["read","resolveKeyframes","update","preRender","render","postRender"],SQ=40;function jP(t,r){let e=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>e=!0,o=Pg.reduce((v,x)=>(v[x]=jQ(i),v),{}),{read:c,resolveKeyframes:u,update:l,preRender:d,render:p,postRender:f}=o,h=()=>{const v=performance.now();e=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,SQ),1),s.timestamp=v,s.isProcessing=!0,c.process(s),u.process(s),l.process(s),d.process(s),p.process(s),f.process(s),s.isProcessing=!1,e&&r&&(n=!1,t(h))},g=()=>{e=!0,n=!0,s.isProcessing||t(h)};return{schedule:Pg.reduce((v,x)=>{const S=o[x];return v[x]=(C,A=!1,B=!1)=>(e||g(),S.schedule(C,A,B)),v},{}),cancel:v=>{for(let x=0;x<Pg.length;x++)o[Pg[x]].cancel(v)},state:s,steps:o}}const{schedule:Dn,cancel:tu,state:sa,steps:p1}=jP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0),SP=E.createContext({strict:!1}),q6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},th={};for(const t in q6)th[t]={isEnabled:r=>q6[t].some(e=>!!r[e])};function NQ(t){for(const r in t)th[r]={...th[r],...t[r]}}const CQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||CQ.has(t)}let NP=t=>!Vy(t);function TQ(t){t&&(NP=r=>r.startsWith("on")?!Vy(r):t(r))}try{TQ(require("@emotion/is-prop-valid").default)}catch{}function EQ(t,r,e){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(NP(s)||e===!0&&Vy(s)||!r&&!Vy(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function AQ(t){if(typeof Proxy>"u")return t;const r=new Map,e=(...n)=>t(...n);return new Proxy(e,{get:(n,s)=>s==="create"?t:(r.has(s)||r.set(s,t(s)),r.get(s))})}const $b=E.createContext({});function bm(t){return typeof t=="string"||Array.isArray(t)}function zb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const a4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i4=["initial",...a4];function Vb(t){return zb(t.animate)||i4.some(r=>bm(t[r]))}function CP(t){return!!(Vb(t)||t.variants)}function PQ(t,r){if(Vb(t)){const{initial:e,animate:n}=t;return{initial:e===!1||bm(e)?e:void 0,animate:bm(n)?n:void 0}}return t.inherit!==!1?r:{}}function MQ(t){const{initial:r,animate:e}=PQ(t,E.useContext($b));return E.useMemo(()=>({initial:r,animate:e}),[H6(r),H6(e)])}function H6(t){return Array.isArray(t)?t.join(" "):t}const RQ=Symbol.for("motionComponentSymbol");function yf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DQ(t,r,e){return E.useCallback(n=>{n&&t.onMount&&t.onMount(n),r&&(n?r.mount(n):r.unmount()),e&&(typeof e=="function"?e(n):yf(e)&&(e.current=n))},[r])}const o4=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IQ="framerAppearId",TP="data-"+o4(IQ),{schedule:l4}=jP(queueMicrotask,!1),EP=E.createContext({});function OQ(t,r,e,n,s){var i,o;const{visualElement:c}=E.useContext($b),u=E.useContext(SP),l=E.useContext(Bb),d=E.useContext(r4).reducedMotion,p=E.useRef(null);n=n||u.renderer,!p.current&&n&&(p.current=n(t,{visualState:r,parent:c,props:e,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=p.current,h=E.useContext(EP);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&FQ(p.current,e,s,h);const g=E.useRef(!1);E.useInsertionEffect(()=>{f&&g.current&&f.update(e,l)});const y=e[TP],m=E.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return _P(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),l4.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),m.current=!1))}),f}function FQ(t,r,e,n){const{layoutId:s,layout:i,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:l}=r;t.projection=new e(t.latestValues,r["data-framer-portal-id"]?void 0:AP(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||c&&yf(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:l})}function AP(t){if(t)return t.options.allowProjection!==!1?t.projection:AP(t.parent)}function LQ({preloadedFeatures:t,createVisualElement:r,useRender:e,useVisualState:n,Component:s}){var i,o;t&&NQ(t);function c(l,d){let p;const f={...E.useContext(r4),...l,layoutId:BQ(l)},{isStatic:h}=f,g=MQ(l),y=n(l,h);if(!h&&n4){$Q();const m=zQ(f);p=m.MeasureLayout,g.visualElement=OQ(s,y,f,r,m.ProjectionNode)}return a.jsxs($b.Provider,{value:g,children:[p&&g.visualElement?a.jsx(p,{visualElement:g.visualElement,...f}):null,e(s,l,DQ(y,g.visualElement,d),y,h,g.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=E.forwardRef(c);return u[RQ]=s,u}function BQ({layoutId:t}){const r=E.useContext(e4).id;return r&&t!==void 0?r+"-"+t:t}function $Q(t,r){E.useContext(SP).strict}function zQ(t){const{drag:r,layout:e}=th;if(!r&&!e)return{};const n={...r,...e};return{MeasureLayout:r?.isEnabled(t)||e?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const VQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c4(t){return typeof t!="string"||t.includes("-")?!1:!!(VQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function K6(t){const r=[{},{}];return t?.values.forEach((e,n)=>{r[0][n]=e.get(),r[1][n]=e.getVelocity()}),r}function u4(t,r,e,n){if(typeof r=="function"){const[s,i]=K6(n);r=r(e!==void 0?e:t.custom,s,i)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[s,i]=K6(n);r=r(e!==void 0?e:t.custom,s,i)}return r}const o2=t=>Array.isArray(t),UQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WQ=t=>o2(t)?t[t.length-1]||0:t,va=t=>!!(t&&t.getVelocity);function ry(t){const r=va(t)?t.get():t;return UQ(r)?r.toValue():r}function qQ({scrapeMotionValuesFromProps:t,createRenderState:r,onUpdate:e},n,s,i){const o={latestValues:HQ(n,s,i,t),renderState:r()};return e&&(o.onMount=c=>e({props:n,current:c,...o}),o.onUpdate=c=>e(c)),o}const PP=t=>(r,e)=>{const n=E.useContext($b),s=E.useContext(Bb),i=()=>qQ(t,r,n,s);return e?i():t4(i)};function HQ(t,r,e,n){const s={},i=n(t,{});for(const f in i)s[f]=ry(i[f]);let{initial:o,animate:c}=t;const u=Vb(t),l=CP(t);r&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=r.initial),c===void 0&&(c=r.animate));let d=e?e.initial===!1:!1;d=d||o===!1;const p=d?c:o;if(p&&typeof p!="boolean"&&!zb(p)){const f=Array.isArray(p)?p:[p];for(let h=0;h<f.length;h++){const g=u4(t,f[h]);if(g){const{transitionEnd:y,transition:m,...v}=g;for(const x in v){let S=v[x];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(s[x]=S)}for(const x in y)s[x]=y[x]}}}return s}const kh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nd=new Set(kh),MP=t=>r=>typeof r=="string"&&r.startsWith(t),RP=MP("--"),KQ=MP("var(--"),d4=t=>KQ(t)?GQ.test(t.split("/*")[0].trim()):!1,GQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DP=(t,r)=>r&&typeof t=="number"?r.transform(t):t,Gl=(t,r,e)=>e>r?r:e<t?t:e,jh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xm={...jh,transform:t=>Gl(0,1,t)},Mg={...jh,default:1},t0=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),vc=t0("deg"),Yo=t0("%"),lr=t0("px"),XQ=t0("vh"),QQ=t0("vw"),G6={...Yo,parse:t=>Yo.parse(t)/100,transform:t=>Yo.transform(t*100)},YQ={borderWidth:lr,borderTopWidth:lr,borderRightWidth:lr,borderBottomWidth:lr,borderLeftWidth:lr,borderRadius:lr,radius:lr,borderTopLeftRadius:lr,borderTopRightRadius:lr,borderBottomRightRadius:lr,borderBottomLeftRadius:lr,width:lr,maxWidth:lr,height:lr,maxHeight:lr,top:lr,right:lr,bottom:lr,left:lr,padding:lr,paddingTop:lr,paddingRight:lr,paddingBottom:lr,paddingLeft:lr,margin:lr,marginTop:lr,marginRight:lr,marginBottom:lr,marginLeft:lr,backgroundPositionX:lr,backgroundPositionY:lr},ZQ={rotate:vc,rotateX:vc,rotateY:vc,rotateZ:vc,scale:Mg,scaleX:Mg,scaleY:Mg,scaleZ:Mg,skew:vc,skewX:vc,skewY:vc,distance:lr,translateX:lr,translateY:lr,translateZ:lr,x:lr,y:lr,z:lr,perspective:lr,transformPerspective:lr,opacity:xm,originX:G6,originY:G6,originZ:lr},X6={...jh,transform:Math.round},f4={...YQ,...ZQ,zIndex:X6,size:lr,fillOpacity:xm,strokeOpacity:xm,numOctaves:X6},JQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eY=kh.length;function tY(t,r,e){let n="",s=!0;for(let i=0;i<eY;i++){const o=kh[i],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||e){const l=DP(c,f4[o]);if(!u){s=!1;const d=JQ[o]||o;n+=`${d}(${l}) `}e&&(r[o]=l)}}return n=n.trim(),e?n=e(r,s?"":n):s&&(n="none"),n}function h4(t,r,e){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,c=!1;for(const u in r){const l=r[u];if(Nd.has(u)){o=!0;continue}else if(RP(u)){s[u]=l;continue}else{const d=DP(l,f4[u]);u.startsWith("origin")?(c=!0,i[u]=d):n[u]=d}}if(r.transform||(o||e?n.transform=tY(r,t.transform,e):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:l="50%",originZ:d=0}=i;n.transformOrigin=`${u} ${l} ${d}`}}const rY={offset:"stroke-dashoffset",array:"stroke-dasharray"},nY={offset:"strokeDashoffset",array:"strokeDasharray"};function sY(t,r,e=1,n=0,s=!0){t.pathLength=1;const i=s?rY:nY;t[i.offset]=lr.transform(-n);const o=lr.transform(r),c=lr.transform(e);t[i.array]=`${o} ${c}`}function Q6(t,r,e){return typeof t=="string"?t:lr.transform(r+e*t)}function aY(t,r,e){const n=Q6(r,t.x,t.width),s=Q6(e,t.y,t.height);return`${n} ${s}`}function p4(t,{attrX:r,attrY:e,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...l},d,p){if(h4(t,l,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:g}=t;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(s!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=aY(g,s!==void 0?s:.5,i!==void 0?i:.5)),r!==void 0&&(f.x=r),e!==void 0&&(f.y=e),n!==void 0&&(f.scale=n),o!==void 0&&sY(f,o,c,u,!1)}const m4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IP=()=>({...m4(),attrs:{}}),g4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OP(t,{style:r,vars:e},n,s){Object.assign(t.style,r,s&&s.getProjectionStyles(n));for(const i in e)t.style.setProperty(i,e[i])}const FP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LP(t,r,e,n){OP(t,r,void 0,n);for(const s in r.attrs)t.setAttribute(FP.has(s)?s:o4(s),r.attrs[s])}const Uy={};function iY(t){Object.assign(Uy,t)}function BP(t,{layout:r,layoutId:e}){return Nd.has(t)||t.startsWith("origin")||(r||e!==void 0)&&(!!Uy[t]||t==="opacity")}function y4(t,r,e){var n;const{style:s}=t,i={};for(const o in s)(va(s[o])||r.style&&va(r.style[o])||BP(o,t)||((n=e?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function $P(t,r,e){const n=y4(t,r,e);for(const s in t)if(va(t[s])||va(r[s])){const i=kh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function oY(t,r){try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}const Y6=["x","y","width","height","cx","cy","r"],lY={useVisualState:PP({scrapeMotionValuesFromProps:$P,createRenderState:IP,onUpdate:({props:t,prevProps:r,current:e,renderState:n,latestValues:s})=>{if(!e)return;let i=!!t.drag;if(!i){for(const c in s)if(Nd.has(c)){i=!0;break}}if(!i)return;let o=!r;if(r)for(let c=0;c<Y6.length;c++){const u=Y6[c];t[u]!==r[u]&&(o=!0)}o&&Dn.read(()=>{oY(e,n),Dn.render(()=>{p4(n,s,g4(e.tagName),t.transformTemplate),LP(e,n)})})}})},cY={useVisualState:PP({scrapeMotionValuesFromProps:y4,createRenderState:m4})};function zP(t,r,e){for(const n in r)!va(r[n])&&!BP(n,e)&&(t[n]=r[n])}function uY({transformTemplate:t},r){return E.useMemo(()=>{const e=m4();return h4(e,r,t),Object.assign({},e.vars,e.style)},[r])}function dY(t,r){const e=t.style||{},n={};return zP(n,e,t),Object.assign(n,uY(t,r)),n}function fY(t,r){const e={},n=dY(t,r);return t.drag&&t.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=n,e}function hY(t,r,e,n){const s=E.useMemo(()=>{const i=IP();return p4(i,r,g4(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(t.style){const i={};zP(i,t.style,t),s.style={...i,...s.style}}return s}function pY(t=!1){return(e,n,s,{latestValues:i},o)=>{const u=(c4(e)?hY:fY)(n,i,o,e),l=EQ(n,typeof e=="string",t),d=e!==E.Fragment?{...l,...u,ref:s}:{},{children:p}=n,f=E.useMemo(()=>va(p)?p.get():p,[p]);return E.createElement(e,{...d,children:f})}}function mY(t,r){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...c4(n)?lY:cY,preloadedFeatures:t,useRender:pY(s),createVisualElement:r,Component:n};return LQ(o)}}function VP(t,r){if(!Array.isArray(r))return!1;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function Ub(t,r,e){const n=t.getProps();return u4(n,r,e!==void 0?e:n.custom,t)}const gY=s4(()=>window.ScrollTimeline!==void 0);class yY{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}get finished(){return Promise.all(this.animations.map(r=>"finished"in r?r.finished:r))}getAll(r){return this.animations[0][r]}setAll(r,e){for(let n=0;n<this.animations.length;n++)this.animations[n][r]=e}attachTimeline(r,e){const n=this.animations.map(s=>{if(gY()&&s.attachTimeline)return s.attachTimeline(r);if(typeof e=="function")return e(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let e=0;e<this.animations.length;e++)r=Math.max(r,this.animations[e].duration);return r}runAll(r){this.animations.forEach(e=>e[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bY extends yY{then(r,e){return Promise.all(this.animations).then(r).catch(e)}}function b4(t,r){return t?t[r]||t.default||t:void 0}const l2=2e4;function UP(t){let r=0;const e=50;let n=t.next(r);for(;!n.done&&r<l2;)r+=e,n=t.next(r);return r>=l2?1/0:r}function x4(t){return typeof t=="function"}function Z6(t,r){t.timeline=r,t.onfinish=null}const v4=t=>Array.isArray(t)&&typeof t[0]=="number",xY={linearEasing:void 0};function vY(t,r){const e=s4(t);return()=>{var n;return(n=xY[r])!==null&&n!==void 0?n:e()}}const Wy=vY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),WP=(t,r,e=10)=>{let n="";const s=Math.max(Math.round(r/e),2);for(let i=0;i<s;i++)n+=t(eh(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function qP(t){return!!(typeof t=="function"&&Wy()||!t||typeof t=="string"&&(t in c2||Wy())||v4(t)||Array.isArray(t)&&t.every(qP))}const Tp=([t,r,e,n])=>`cubic-bezier(${t}, ${r}, ${e}, ${n})`,c2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tp([0,.65,.55,1]),circOut:Tp([.55,0,1,.45]),backIn:Tp([.31,.01,.66,-.59]),backOut:Tp([.33,1.53,.69,.99])};function HP(t,r){if(t)return typeof t=="function"&&Wy()?WP(t,r):v4(t)?Tp(t):Array.isArray(t)?t.map(e=>HP(e,r)||c2.easeOut):c2[t]}const io={x:!1,y:!1};function KP(){return io.x||io.y}function wY(t,r,e){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function GP(t,r){const e=wY(t),n=new AbortController,s={passive:!0,...r,signal:n.signal};return[e,s,()=>n.abort()]}function J6(t){return r=>{r.pointerType==="touch"||KP()||t(r)}}function _Y(t,r,e={}){const[n,s,i]=GP(t,e),o=J6(c=>{const{target:u}=c,l=r(c);if(typeof l!="function"||!u)return;const d=J6(p=>{l(p),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),i}const XP=(t,r)=>r?t===r?!0:XP(t,r.parentElement):!1,w4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jY(t){return kY.has(t.tagName)||t.tabIndex!==-1}const Ep=new WeakSet;function eS(t){return r=>{r.key==="Enter"&&t(r)}}function m1(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const SY=(t,r)=>{const e=t.currentTarget;if(!e)return;const n=eS(()=>{if(Ep.has(e))return;m1(e,"down");const s=eS(()=>{m1(e,"up")}),i=()=>m1(e,"cancel");e.addEventListener("keyup",s,r),e.addEventListener("blur",i,r)});e.addEventListener("keydown",n,r),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),r)};function tS(t){return w4(t)&&!KP()}function NY(t,r,e={}){const[n,s,i]=GP(t,e),o=c=>{const u=c.currentTarget;if(!tS(c)||Ep.has(u))return;Ep.add(u);const l=r(c),d=(h,g)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),!(!tS(h)||!Ep.has(u))&&(Ep.delete(u),typeof l=="function"&&l(h,{success:g}))},p=h=>{d(h,e.useGlobalTarget||XP(u,h.target))},f=h=>{d(h,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return n.forEach(c=>{!jY(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(e.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),c.addEventListener("focus",l=>SY(l,s),s)}),i}function CY(t){return t==="x"||t==="y"?io[t]?null:(io[t]=!0,()=>{io[t]=!1}):io.x||io.y?null:(io.x=io.y=!0,()=>{io.x=io.y=!1})}const QP=new Set(["width","height","top","left","right","bottom",...kh]);let ny;function TY(){ny=void 0}const Zo={now:()=>(ny===void 0&&Zo.set(sa.isProcessing||kQ.useManualTiming?sa.timestamp:performance.now()),ny),set:t=>{ny=t,queueMicrotask(TY)}};function _4(t,r){t.indexOf(r)===-1&&t.push(r)}function k4(t,r){const e=t.indexOf(r);e>-1&&t.splice(e,1)}class j4{constructor(){this.subscriptions=[]}add(r){return _4(this.subscriptions,r),()=>k4(this.subscriptions,r)}notify(r,e,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](r,e,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(r,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function YP(t,r){return r?t*(1e3/r):0}const rS=30,EY=t=>!isNaN(parseFloat(t));class AY{constructor(r,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Zo.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=e.owner}setCurrent(r){this.current=r,this.updatedAt=Zo.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=EY(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,e){this.events[r]||(this.events[r]=new j4);const n=this.events[r].add(e);return r==="change"?()=>{n(),Dn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,e){this.passiveEffect=r,this.stopPassiveEffect=e}set(r,e=!0){!e||!this.passiveEffect?this.updateAndNotify(r,e):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-n}jump(r,e=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Zo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>rS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,rS);return YP(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(r){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=r(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vm(t,r){return new AY(t,r)}function PY(t,r,e){t.hasValue(r)?t.getValue(r).set(e):t.addValue(r,vm(e))}function MY(t,r){const e=Ub(t,r);let{transitionEnd:n={},transition:s={},...i}=e||{};i={...i,...n};for(const o in i){const c=WQ(i[o]);PY(t,o,c)}}function RY(t){return!!(va(t)&&t.add)}function u2(t,r){const e=t.getValue("willChange");if(RY(e))return e.add(r)}function ZP(t){return t.props[TP]}const JP=(t,r,e)=>(((1-3*e+3*r)*t+(3*e-6*r))*t+3*r)*t,DY=1e-7,IY=12;function OY(t,r,e,n,s){let i,o,c=0;do o=r+(e-r)/2,i=JP(o,n,s)-t,i>0?e=o:r=o;while(Math.abs(i)>DY&&++c<IY);return o}function r0(t,r,e,n){if(t===r&&e===n)return Si;const s=i=>OY(i,0,1,t,e);return i=>i===0||i===1?i:JP(s(i),r,n)}const eM=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,tM=t=>r=>1-t(1-r),rM=r0(.33,1.53,.69,.99),S4=tM(rM),nM=eM(S4),sM=t=>(t*=2)<1?.5*S4(t):.5*(2-Math.pow(2,-10*(t-1))),N4=t=>1-Math.sin(Math.acos(t)),aM=tM(N4),iM=eM(N4),oM=t=>/^0[^.\s]+$/u.test(t);function FY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oM(t):!0}const zp=t=>Math.round(t*1e5)/1e5,C4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LY(t){return t==null}const BY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,T4=(t,r)=>e=>!!(typeof e=="string"&&BY.test(e)&&e.startsWith(t)||r&&!LY(e)&&Object.prototype.hasOwnProperty.call(e,r)),lM=(t,r,e)=>n=>{if(typeof n!="string")return n;const[s,i,o,c]=n.match(C4);return{[t]:parseFloat(s),[r]:parseFloat(i),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},$Y=t=>Gl(0,255,t),g1={...jh,transform:t=>Math.round($Y(t))},$u={test:T4("rgb","red"),parse:lM("red","green","blue"),transform:({red:t,green:r,blue:e,alpha:n=1})=>"rgba("+g1.transform(t)+", "+g1.transform(r)+", "+g1.transform(e)+", "+zp(xm.transform(n))+")"};function zY(t){let r="",e="",n="",s="";return t.length>5?(r=t.substring(1,3),e=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(r=t.substring(1,2),e=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),r+=r,e+=e,n+=n,s+=s),{red:parseInt(r,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const d2={test:T4("#"),parse:zY,transform:$u.transform},bf={test:T4("hsl","hue"),parse:lM("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:e,alpha:n=1})=>"hsla("+Math.round(t)+", "+Yo.transform(zp(r))+", "+Yo.transform(zp(e))+", "+zp(xm.transform(n))+")"},ya={test:t=>$u.test(t)||d2.test(t)||bf.test(t),parse:t=>$u.test(t)?$u.parse(t):bf.test(t)?bf.parse(t):d2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$u.transform(t):bf.transform(t)},VY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UY(t){var r,e;return isNaN(t)&&typeof t=="string"&&(((r=t.match(C4))===null||r===void 0?void 0:r.length)||0)+(((e=t.match(VY))===null||e===void 0?void 0:e.length)||0)>0}const cM="number",uM="color",WY="var",qY="var(",nS="${}",HY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wm(t){const r=t.toString(),e=[],n={color:[],number:[],var:[]},s=[];let i=0;const c=r.replace(HY,u=>(ya.test(u)?(n.color.push(i),s.push(uM),e.push(ya.parse(u))):u.startsWith(qY)?(n.var.push(i),s.push(WY),e.push(u)):(n.number.push(i),s.push(cM),e.push(parseFloat(u))),++i,nS)).split(nS);return{values:e,split:c,indexes:n,types:s}}function dM(t){return wm(t).values}function fM(t){const{split:r,types:e}=wm(t),n=r.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=r[o],s[o]!==void 0){const c=e[o];c===cM?i+=zp(s[o]):c===uM?i+=ya.transform(s[o]):i+=s[o]}return i}}const KY=t=>typeof t=="number"?0:t;function GY(t){const r=dM(t);return fM(t)(r.map(KY))}const ru={test:UY,parse:dM,createTransformer:fM,getAnimatableNone:GY},XY=new Set(["brightness","contrast","saturate","opacity"]);function QY(t){const[r,e]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[n]=e.match(C4)||[];if(!n)return t;const s=e.replace(n,"");let i=XY.has(r)?1:0;return n!==e&&(i*=100),r+"("+i+s+")"}const YY=/\b([a-z-]*)\(.*?\)/gu,f2={...ru,getAnimatableNone:t=>{const r=t.match(YY);return r?r.map(QY).join(" "):t}},ZY={...f4,color:ya,backgroundColor:ya,outlineColor:ya,fill:ya,stroke:ya,borderColor:ya,borderTopColor:ya,borderRightColor:ya,borderBottomColor:ya,borderLeftColor:ya,filter:f2,WebkitFilter:f2},E4=t=>ZY[t];function hM(t,r){let e=E4(t);return e!==f2&&(e=ru),e.getAnimatableNone?e.getAnimatableNone(r):void 0}const JY=new Set(["auto","none","0"]);function eZ(t,r,e){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!JY.has(i)&&wm(i).values.length&&(s=t[n]),n++}if(s&&e)for(const i of r)t[i]=hM(e,s)}const sS=t=>t===jh||t===lr,aS=(t,r)=>parseFloat(t.split(", ")[r]),iS=(t,r)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return aS(s[1],r);{const i=n.match(/^matrix\((.+)\)$/u);return i?aS(i[1],t):0}},tZ=new Set(["x","y","z"]),rZ=kh.filter(t=>!tZ.has(t));function nZ(t){const r=[];return rZ.forEach(e=>{const n=t.getValue(e);n!==void 0&&(r.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),r}const rh={width:({x:t},{paddingLeft:r="0",paddingRight:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),height:({y:t},{paddingTop:r="0",paddingBottom:e="0"})=>t.max-t.min-parseFloat(r)-parseFloat(e),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:iS(4,13),y:iS(5,14)};rh.translateX=rh.x;rh.translateY=rh.y;const rd=new Set;let h2=!1,p2=!1;function pM(){if(p2){const t=Array.from(rd).filter(n=>n.needsMeasurement),r=new Set(t.map(n=>n.element)),e=new Map;r.forEach(n=>{const s=nZ(n);s.length&&(e.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),r.forEach(n=>{n.render();const s=e.get(n);s&&s.forEach(([i,o])=>{var c;(c=n.getValue(i))===null||c===void 0||c.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}p2=!1,h2=!1,rd.forEach(t=>t.complete()),rd.clear()}function mM(){rd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(p2=!0)})}function sZ(){mM(),pM()}class A4{constructor(r,e,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=e,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rd.add(this),h2||(h2=!0,Dn.read(mM),Dn.resolveKeyframes(pM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:e,element:n,motionValue:s}=this;for(let i=0;i<r.length;i++)if(r[i]===null)if(i===0){const o=s?.get(),c=r[r.length-1];if(o!==void 0)r[0]=o;else if(n&&e){const u=n.readValue(e,c);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=c),s&&o===void 0&&s.set(r[0])}else r[i]=r[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),aZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iZ(t){const r=aZ.exec(t);if(!r)return[,];const[,e,n,s]=r;return[`--${e??n}`,s]}function yM(t,r,e=1){const[n,s]=iZ(t);if(!n)return;const i=window.getComputedStyle(r).getPropertyValue(n);if(i){const o=i.trim();return gM(o)?parseFloat(o):o}return d4(s)?yM(s,r,e+1):s}const bM=t=>r=>r.test(t),oZ={test:t=>t==="auto",parse:t=>t},xM=[jh,lr,Yo,vc,QQ,XQ,oZ],oS=t=>xM.find(bM(t));class vM extends A4{constructor(r,e,n,s,i){super(r,e,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let l=r[u];if(typeof l=="string"&&(l=l.trim(),d4(l))){const d=yM(l,e.current);d!==void 0&&(r[u]=d),u===r.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!QP.has(n)||r.length!==2)return;const[s,i]=r,o=oS(s),c=oS(i);if(o!==c)if(sS(o)&&sS(c))for(let u=0;u<r.length;u++){const l=r[u];typeof l=="string"&&(r[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:e}=this,n=[];for(let s=0;s<r.length;s++)FY(r[s])&&n.push(s);n.length&&eZ(r,n,e)}measureInitialState(){const{element:r,unresolvedKeyframes:e,name:n}=this;if(!r||!r.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&r.getValue(n,s).jump(s,!1)}measureEndState(){var r;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=rh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([u,l])=>{e.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const lS=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ru.test(t)||t==="0")&&!t.startsWith("url("));function lZ(t){const r=t[0];if(t.length===1)return!0;for(let e=0;e<t.length;e++)if(t[e]!==r)return!0}function cZ(t,r,e,n){const s=t[0];if(s===null)return!1;if(r==="display"||r==="visibility")return!0;const i=t[t.length-1],o=lS(s,r),c=lS(i,r);return!o||!c?!1:lZ(t)||(e==="spring"||x4(e))&&n}const uZ=t=>t!==null;function Wb(t,{repeat:r,repeatType:e="loop"},n){const s=t.filter(uZ),i=r&&e!=="loop"&&r%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const dZ=40;class wM{constructor({autoplay:r=!0,delay:e=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zo.now(),this.options={autoplay:r,delay:e,type:n,repeat:s,repeatDelay:i,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sZ(),this._resolved}onKeyframesResolved(r,e){this.resolvedAt=Zo.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:c,onUpdate:u,isGenerator:l}=this.options;if(!l&&!cZ(r,n,s,i))if(o)this.options.duration=0;else{u&&u(Wb(r,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const d=this.initPlayback(r,e);d!==!1&&(this._resolved={keyframes:r,finalKeyframe:e,...d},this.onPostResolved())}onPostResolved(){}then(r,e){return this.currentFinishedPromise.then(r,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const Kn=(t,r,e)=>t+(r-t)*e;function y1(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+(r-t)*6*e:e<1/2?r:e<2/3?t+(r-t)*(2/3-e)*6:t}function fZ({hue:t,saturation:r,lightness:e,alpha:n}){t/=360,r/=100,e/=100;let s=0,i=0,o=0;if(!r)s=i=o=e;else{const c=e<.5?e*(1+r):e+r-e*r,u=2*e-c;s=y1(u,c,t+1/3),i=y1(u,c,t),o=y1(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function qy(t,r){return e=>e>0?r:t}const b1=(t,r,e)=>{const n=t*t,s=e*(r*r-n)+n;return s<0?0:Math.sqrt(s)},hZ=[d2,$u,bf],pZ=t=>hZ.find(r=>r.test(t));function cS(t){const r=pZ(t);if(!r)return!1;let e=r.parse(t);return r===bf&&(e=fZ(e)),e}const uS=(t,r)=>{const e=cS(t),n=cS(r);if(!e||!n)return qy(t,r);const s={...e};return i=>(s.red=b1(e.red,n.red,i),s.green=b1(e.green,n.green,i),s.blue=b1(e.blue,n.blue,i),s.alpha=Kn(e.alpha,n.alpha,i),$u.transform(s))},mZ=(t,r)=>e=>r(t(e)),n0=(...t)=>t.reduce(mZ),m2=new Set(["none","hidden"]);function gZ(t,r){return m2.has(t)?e=>e<=0?t:r:e=>e>=1?r:t}function yZ(t,r){return e=>Kn(t,r,e)}function P4(t){return typeof t=="number"?yZ:typeof t=="string"?d4(t)?qy:ya.test(t)?uS:vZ:Array.isArray(t)?_M:typeof t=="object"?ya.test(t)?uS:bZ:qy}function _M(t,r){const e=[...t],n=e.length,s=t.map((i,o)=>P4(i)(i,r[o]));return i=>{for(let o=0;o<n;o++)e[o]=s[o](i);return e}}function bZ(t,r){const e={...t,...r},n={};for(const s in e)t[s]!==void 0&&r[s]!==void 0&&(n[s]=P4(t[s])(t[s],r[s]));return s=>{for(const i in n)e[i]=n[i](s);return e}}function xZ(t,r){var e;const n=[],s={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const o=r.types[i],c=t.indexes[o][s[o]],u=(e=t.values[c])!==null&&e!==void 0?e:0;n[i]=u,s[o]++}return n}const vZ=(t,r)=>{const e=ru.createTransformer(r),n=wm(t),s=wm(r);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?m2.has(t)&&!s.values.length||m2.has(r)&&!n.values.length?gZ(t,r):n0(_M(xZ(n,s),s.values),e):qy(t,r)};function kM(t,r,e){return typeof t=="number"&&typeof r=="number"&&typeof e=="number"?Kn(t,r,e):P4(t)(t,r)}const wZ=5;function jM(t,r,e){const n=Math.max(r-wZ,0);return YP(e-t(n),r-n)}const ts={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x1=.001;function _Z({duration:t=ts.duration,bounce:r=ts.bounce,velocity:e=ts.velocity,mass:n=ts.mass}){let s,i,o=1-r;o=Gl(ts.minDamping,ts.maxDamping,o),t=Gl(ts.minDuration,ts.maxDuration,Fl(t)),o<1?(s=l=>{const d=l*o,p=d*t,f=d-e,h=g2(l,o),g=Math.exp(-p);return x1-f/h*g},i=l=>{const p=l*o*t,f=p*e+e,h=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-p),y=g2(Math.pow(l,2),o);return(-s(l)+x1>0?-1:1)*((f-h)*g)/y}):(s=l=>{const d=Math.exp(-l*t),p=(l-e)*t+1;return-x1+d*p},i=l=>{const d=Math.exp(-l*t),p=(e-l)*(t*t);return d*p});const c=5/t,u=jZ(s,i,c);if(t=Ol(t),isNaN(u))return{stiffness:ts.stiffness,damping:ts.damping,duration:t};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const kZ=12;function jZ(t,r,e){let n=e;for(let s=1;s<kZ;s++)n=n-t(n)/r(n);return n}function g2(t,r){return t*Math.sqrt(1-r*r)}const SZ=["duration","bounce"],NZ=["stiffness","damping","mass"];function dS(t,r){return r.some(e=>t[e]!==void 0)}function CZ(t){let r={velocity:ts.velocity,stiffness:ts.stiffness,damping:ts.damping,mass:ts.mass,isResolvedFromDuration:!1,...t};if(!dS(t,NZ)&&dS(t,SZ))if(t.visualDuration){const e=t.visualDuration,n=2*Math.PI/(e*1.2),s=n*n,i=2*Gl(.05,1,1-(t.bounce||0))*Math.sqrt(s);r={...r,mass:ts.mass,stiffness:s,damping:i}}else{const e=_Z(t);r={...r,...e,mass:ts.mass},r.isResolvedFromDuration=!0}return r}function SM(t=ts.visualDuration,r=ts.bounce){const e=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:n,restDelta:s}=e;const i=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:l,mass:d,duration:p,velocity:f,isResolvedFromDuration:h}=CZ({...e,velocity:-Fl(e.velocity||0)}),g=f||0,y=l/(2*Math.sqrt(u*d)),m=o-i,v=Fl(Math.sqrt(u/d)),x=Math.abs(m)<5;n||(n=x?ts.restSpeed.granular:ts.restSpeed.default),s||(s=x?ts.restDelta.granular:ts.restDelta.default);let S;if(y<1){const A=g2(v,y);S=B=>{const q=Math.exp(-y*v*B);return o-q*((g+y*v*m)/A*Math.sin(A*B)+m*Math.cos(A*B))}}else if(y===1)S=A=>o-Math.exp(-v*A)*(m+(g+v*m)*A);else{const A=v*Math.sqrt(y*y-1);S=B=>{const q=Math.exp(-y*v*B),D=Math.min(A*B,300);return o-q*((g+y*v*m)*Math.sinh(D)+A*m*Math.cosh(D))/A}}const C={calculatedDuration:h&&p||null,next:A=>{const B=S(A);if(h)c.done=A>=p;else{let q=0;y<1&&(q=A===0?Ol(g):jM(S,A,B));const D=Math.abs(q)<=n,I=Math.abs(o-B)<=s;c.done=D&&I}return c.value=c.done?o:B,c},toString:()=>{const A=Math.min(UP(C),l2),B=WP(q=>C.next(A*q).value,A,30);return A+"ms "+B}};return C}function fS({keyframes:t,velocity:r=0,power:e=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:u,restDelta:l=.5,restSpeed:d}){const p=t[0],f={done:!1,value:p},h=D=>c!==void 0&&D<c||u!==void 0&&D>u,g=D=>c===void 0?u:u===void 0||Math.abs(c-D)<Math.abs(u-D)?c:u;let y=e*r;const m=p+y,v=o===void 0?m:o(m);v!==m&&(y=v-p);const x=D=>-y*Math.exp(-D/n),S=D=>v+x(D),C=D=>{const I=x(D),U=S(D);f.done=Math.abs(I)<=l,f.value=f.done?v:U};let A,B;const q=D=>{h(f.value)&&(A=D,B=SM({keyframes:[f.value,g(f.value)],velocity:jM(S,D,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:d}))};return q(0),{calculatedDuration:null,next:D=>{let I=!1;return!B&&A===void 0&&(I=!0,C(D),q(D)),A!==void 0&&D>=A?B.next(D-A):(!I&&C(D),f)}}}const TZ=r0(.42,0,1,1),EZ=r0(0,0,.58,1),NM=r0(.42,0,.58,1),AZ=t=>Array.isArray(t)&&typeof t[0]!="number",PZ={linear:Si,easeIn:TZ,easeInOut:NM,easeOut:EZ,circIn:N4,circInOut:iM,circOut:aM,backIn:S4,backInOut:nM,backOut:rM,anticipate:sM},hS=t=>{if(v4(t)){kP(t.length===4);const[r,e,n,s]=t;return r0(r,e,n,s)}else if(typeof t=="string")return PZ[t];return t};function MZ(t,r,e){const n=[],s=e||kM,i=t.length-1;for(let o=0;o<i;o++){let c=s(t[o],t[o+1]);if(r){const u=Array.isArray(r)?r[o]||Si:r;c=n0(u,c)}n.push(c)}return n}function RZ(t,r,{clamp:e=!0,ease:n,mixer:s}={}){const i=t.length;if(kP(i===r.length),i===1)return()=>r[0];if(i===2&&r[0]===r[1])return()=>r[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=MZ(r,n,s),u=c.length,l=d=>{if(o&&d<t[0])return r[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const f=eh(t[p],t[p+1],d);return c[p](f)};return e?d=>l(Gl(t[0],t[i-1],d)):l}function DZ(t,r){const e=t[t.length-1];for(let n=1;n<=r;n++){const s=eh(0,r,n);t.push(Kn(e,1,s))}}function IZ(t){const r=[0];return DZ(r,t.length-1),r}function OZ(t,r){return t.map(e=>e*r)}function FZ(t,r){return t.map(()=>r||NM).splice(0,t.length-1)}function Hy({duration:t=300,keyframes:r,times:e,ease:n="easeInOut"}){const s=AZ(n)?n.map(hS):hS(n),i={done:!1,value:r[0]},o=OZ(e&&e.length===r.length?e:IZ(r),t),c=RZ(o,r,{ease:Array.isArray(s)?s:FZ(r,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const LZ=t=>{const r=({timestamp:e})=>t(e);return{start:()=>Dn.update(r,!0),stop:()=>tu(r),now:()=>sa.isProcessing?sa.timestamp:Zo.now()}},BZ={decay:fS,inertia:fS,tween:Hy,keyframes:Hy,spring:SM},$Z=t=>t/100;class M4 extends wM{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:n,element:s,keyframes:i}=this.options,o=s?.KeyframeResolver||A4,c=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new o(i,c,e,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:e="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,c=x4(e)?e:BZ[e]||Hy;let u,l;c!==Hy&&typeof r[0]!="number"&&(u=n0($Z,kM(r[0],r[1])),r=[0,100]);const d=c({...this.options,keyframes:r});i==="mirror"&&(l=c({...this.options,keyframes:[...r].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=UP(d));const{calculatedDuration:p}=d,f=p+s,h=f*(n+1)-s;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,e=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:l,totalDuration:d,resolvedDuration:p}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:y,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-d/this.speed,this.startTime)),e?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=i;if(h){const D=Math.min(this.currentTime,d)/p;let I=Math.floor(D),U=D%1;!U&&D>=1&&(U=1),U===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(g==="reverse"?(U=1-U,y&&(U-=y/p)):g==="mirror"&&(C=o)),S=Gl(0,1,U)*p}const A=x?{done:!1,value:u[0]}:C.next(S);c&&(A.value=c(A.value));let{done:B}=A;!x&&l!==null&&(B=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return q&&s!==void 0&&(A.value=Wb(u,this.options,s)),m&&m(A.value),q&&this.finish(),A}get duration(){const{resolved:r}=this;return r?Fl(r.calculatedDuration):0}get time(){return Fl(this.currentTime)}set time(r){r=Ol(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const e=this.playbackSpeed!==r;this.playbackSpeed=r,e&&(this.time=Fl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=LZ,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=r(i=>this.tick(i))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}const zZ=new Set(["opacity","clipPath","filter","transform"]);function VZ(t,r,e,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:c="easeInOut",times:u}={}){const l={[r]:e};u&&(l.offset=u);const d=HP(c,s);return Array.isArray(d)&&(l.easing=d),t.animate(l,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const UZ=s4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ky=10,WZ=2e4;function qZ(t){return x4(t.type)||t.type==="spring"||!qP(t.ease)}function HZ(t,r){const e=new M4({...r,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const s=[];let i=0;for(;!n.done&&i<WZ;)n=e.sample(i),s.push(n.value),i+=Ky;return{times:void 0,keyframes:s,duration:i-Ky,ease:"linear"}}const CM={anticipate:sM,backInOut:nM,circInOut:iM};function KZ(t){return t in CM}class pS extends wM{constructor(r){super(r);const{name:e,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new vM(i,(o,c)=>this.onKeyframesResolved(o,c),e,n,s),this.resolver.scheduleResolve()}initPlayback(r,e){let{duration:n=300,times:s,ease:i,type:o,motionValue:c,name:u,startTime:l}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof i=="string"&&Wy()&&KZ(i)&&(i=CM[i]),qZ(this.options)){const{onComplete:p,onUpdate:f,motionValue:h,element:g,...y}=this.options,m=HZ(r,y);r=m.keyframes,r.length===1&&(r[1]=r[0]),n=m.duration,s=m.times,i=m.ease,o="keyframes"}const d=VZ(c.owner.current,u,r,{...this.options,duration:n,times:s,ease:i});return d.startTime=l??this.calcStartTime(),this.pendingTimeline?(Z6(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;c.set(Wb(r,this.options,e)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:e}=r;return Fl(e)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:e}=r;return Fl(e.currentTime||0)}set time(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Ol(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:e}=r;return e.playbackRate}set speed(r){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:e}=r;return e.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:e}=r;return e.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:e}=this;if(!e)return Si;const{animation:n}=e;Z6(n,r)}return Si}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:e}=r;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:e,keyframes:n,duration:s,type:i,ease:o,times:c}=r;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:p,element:f,...h}=this.options,g=new M4({...h,keyframes:n,duration:s,type:i,ease:o,times:c,isGenerator:!0}),y=Ol(this.time);l.setWithVelocity(g.sample(y-Ky).value,g.sample(y).value,Ky)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:o,type:c}=r;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=e.owner.getProps();return UZ()&&n&&zZ.has(n)&&!u&&!l&&!s&&i!=="mirror"&&o!==0&&c!=="inertia"}}const GZ={type:"spring",stiffness:500,damping:25,restSpeed:10},XZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QZ={type:"keyframes",duration:.8},YZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZZ=(t,{keyframes:r})=>r.length>2?QZ:Nd.has(t)?t.startsWith("scale")?XZ(r[1]):GZ:YZ;function JZ({when:t,delay:r,delayChildren:e,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:c,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const R4=(t,r,e,n={},s,i)=>o=>{const c=b4(n,t)||{},u=c.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Ol(u);let d={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-l,onUpdate:f=>{r.set(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:i?void 0:s};JZ(c)||(d={...d,...ZZ(t,d)}),d.duration&&(d.duration=Ol(d.duration)),d.repeatDelay&&(d.repeatDelay=Ol(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&r.get()!==void 0){const f=Wb(d.keyframes,c);if(f!==void 0)return Dn.update(()=>{d.onUpdate(f),d.onComplete()}),new bY([])}return!i&&pS.supports(d)?new pS(d):new M4(d)};function eJ({protectedKeys:t,needsAnimating:r},e){const n=t.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,n}function TM(t,r,{delay:e=0,transitionOverride:n,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=r;n&&(o=n);const l=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const f=t.getValue(p,(i=t.latestValues[p])!==null&&i!==void 0?i:null),h=u[p];if(h===void 0||d&&eJ(d,p))continue;const g={delay:e,...b4(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const v=ZP(t);if(v){const x=window.MotionHandoffAnimation(v,p,Dn);x!==null&&(g.startTime=x,y=!0)}}u2(t,p),f.start(R4(p,f,h,t.shouldReduceMotion&&QP.has(p)?{type:!1}:g,t,y));const m=f.animation;m&&l.push(m)}return c&&Promise.all(l).then(()=>{Dn.update(()=>{c&&MY(t,c)})}),l}function y2(t,r,e={}){var n;const s=Ub(t,r,e.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(i=e.transitionOverride);const o=s?()=>Promise.all(TM(t,s,e)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:f}=i;return tJ(t,r,d+l,p,f,e)}:()=>Promise.resolve(),{when:u}=i;if(u){const[l,d]=u==="beforeChildren"?[o,c]:[c,o];return l().then(()=>d())}else return Promise.all([o(),c(e.delay)])}function tJ(t,r,e=0,n=0,s=1,i){const o=[],c=(t.variantChildren.size-1)*n,u=s===1?(l=0)=>l*n:(l=0)=>c-l*n;return Array.from(t.variantChildren).sort(rJ).forEach((l,d)=>{l.notify("AnimationStart",r),o.push(y2(l,r,{...i,delay:e+u(d)}).then(()=>l.notify("AnimationComplete",r)))}),Promise.all(o)}function rJ(t,r){return t.sortNodePosition(r)}function nJ(t,r,e={}){t.notify("AnimationStart",r);let n;if(Array.isArray(r)){const s=r.map(i=>y2(t,i,e));n=Promise.all(s)}else if(typeof r=="string")n=y2(t,r,e);else{const s=typeof r=="function"?Ub(t,r,e.custom):r;n=Promise.all(TM(t,s,e))}return n.then(()=>{t.notify("AnimationComplete",r)})}const sJ=i4.length;function EM(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent?EM(t.parent)||{}:{};return t.props.initial!==void 0&&(e.initial=t.props.initial),e}const r={};for(let e=0;e<sJ;e++){const n=i4[e],s=t.props[n];(bm(s)||s===!1)&&(r[n]=s)}return r}const aJ=[...a4].reverse(),iJ=a4.length;function oJ(t){return r=>Promise.all(r.map(({animation:e,options:n})=>nJ(t,e,n)))}function lJ(t){let r=oJ(t),e=mS(),n=!0;const s=u=>(l,d)=>{var p;const f=Ub(t,d,u==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(f){const{transition:h,transitionEnd:g,...y}=f;l={...l,...y,...g}}return l};function i(u){r=u(t)}function o(u){const{props:l}=t,d=EM(t.parent)||{},p=[],f=new Set;let h={},g=1/0;for(let m=0;m<iJ;m++){const v=aJ[m],x=e[v],S=l[v]!==void 0?l[v]:d[v],C=bm(S),A=v===u?x.isActive:null;A===!1&&(g=m);let B=S===d[v]&&S!==l[v]&&C;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...h},!x.isActive&&A===null||!S&&!x.prevProp||zb(S)||typeof S=="boolean")continue;const q=cJ(x.prevProp,S);let D=q||v===u&&x.isActive&&!B&&C||m>g&&C,I=!1;const U=Array.isArray(S)?S:[S];let K=U.reduce(s(v),{});A===!1&&(K={});const{prevResolvedValues:W={}}=x,P={...W,...K},L=k=>{D=!0,f.has(k)&&(I=!0,f.delete(k)),x.needsAnimating[k]=!0;const j=t.getValue(k);j&&(j.liveStyle=!1)};for(const k in P){const j=K[k],N=W[k];if(h.hasOwnProperty(k))continue;let R=!1;o2(j)&&o2(N)?R=!VP(j,N):R=j!==N,R?j!=null?L(k):f.add(k):j!==void 0&&f.has(k)?L(k):x.protectedKeys[k]=!0}x.prevProp=S,x.prevResolvedValues=K,x.isActive&&(h={...h,...K}),n&&t.blockInitialAnimation&&(D=!1),D&&(!(B&&q)||I)&&p.push(...U.map(k=>({animation:k,options:{type:v}})))}if(f.size){const m={};f.forEach(v=>{const x=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),m[v]=x??null}),p.push({animation:m})}let y=!!p.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?r(p):Promise.resolve()}function c(u,l){var d;if(e[u].isActive===l)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(u,l)}),e[u].isActive=l;const p=o(u);for(const f in e)e[f].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>e,reset:()=>{e=mS(),n=!0}}}function cJ(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!VP(r,t):!1}function Pu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mS(){return{animate:Pu(!0),whileInView:Pu(),whileHover:Pu(),whileTap:Pu(),whileDrag:Pu(),whileFocus:Pu(),exit:Pu()}}class lu{constructor(r){this.isMounted=!1,this.node=r}update(){}}class uJ extends lu{constructor(r){super(r),r.animationState||(r.animationState=lJ(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();zb(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:e}=this.node.prevProps||{};r!==e&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let dJ=0;class fJ extends lu{constructor(){super(...arguments),this.id=dJ++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const s=this.node.animationState.setActive("exit",!r);e&&!r&&s.then(()=>e(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const hJ={animation:{Feature:uJ},exit:{Feature:fJ}};function _m(t,r,e,n={passive:!0}){return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e)}function s0(t){return{point:{x:t.pageX,y:t.pageY}}}const pJ=t=>r=>w4(r)&&t(r,s0(r));function Vp(t,r,e,n){return _m(t,r,pJ(e),n)}const gS=(t,r)=>Math.abs(t-r);function mJ(t,r){const e=gS(t.x,r.x),n=gS(t.y,r.y);return Math.sqrt(e**2+n**2)}class AM{constructor(r,e,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=w1(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=mJ(p.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=p,{timestamp:y}=sa;this.history.push({...g,timestamp:y});const{onStart:m,onMove:v}=this.handlers;f||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,f)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=v1(f,this.transformPagePoint),Dn.update(this.updatePoint,!0)},this.handlePointerUp=(p,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=w1(p.type==="pointercancel"?this.lastMoveEventInfo:v1(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(p,m),g&&g(p,m)},!w4(r))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=s||window;const o=s0(r),c=v1(o,this.transformPagePoint),{point:u}=c,{timestamp:l}=sa;this.history=[{...u,timestamp:l}];const{onSessionStart:d}=e;d&&d(r,w1(c,this.history)),this.removeListeners=n0(Vp(this.contextWindow,"pointermove",this.handlePointerMove),Vp(this.contextWindow,"pointerup",this.handlePointerUp),Vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),tu(this.updatePoint)}}function v1(t,r){return r?{point:r(t.point)}:t}function yS(t,r){return{x:t.x-r.x,y:t.y-r.y}}function w1({point:t},r){return{point:t,delta:yS(t,PM(r)),offset:yS(t,gJ(r)),velocity:yJ(r,.1)}}function gJ(t){return t[0]}function PM(t){return t[t.length-1]}function yJ(t,r){if(t.length<2)return{x:0,y:0};let e=t.length-1,n=null;const s=PM(t);for(;e>=0&&(n=t[e],!(s.timestamp-n.timestamp>Ol(r)));)e--;if(!n)return{x:0,y:0};const i=Fl(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const MM=1e-4,bJ=1-MM,xJ=1+MM,RM=.01,vJ=0-RM,wJ=0+RM;function Ni(t){return t.max-t.min}function _J(t,r,e){return Math.abs(t-r)<=e}function bS(t,r,e,n=.5){t.origin=n,t.originPoint=Kn(r.min,r.max,t.origin),t.scale=Ni(e)/Ni(r),t.translate=Kn(e.min,e.max,t.origin)-t.originPoint,(t.scale>=bJ&&t.scale<=xJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=vJ&&t.translate<=wJ||isNaN(t.translate))&&(t.translate=0)}function Up(t,r,e,n){bS(t.x,r.x,e.x,n?n.originX:void 0),bS(t.y,r.y,e.y,n?n.originY:void 0)}function xS(t,r,e){t.min=e.min+r.min,t.max=t.min+Ni(r)}function kJ(t,r,e){xS(t.x,r.x,e.x),xS(t.y,r.y,e.y)}function vS(t,r,e){t.min=r.min-e.min,t.max=t.min+Ni(r)}function Wp(t,r,e){vS(t.x,r.x,e.x),vS(t.y,r.y,e.y)}function jJ(t,{min:r,max:e},n){return r!==void 0&&t<r?t=n?Kn(r,t,n.min):Math.max(t,r):e!==void 0&&t>e&&(t=n?Kn(e,t,n.max):Math.min(t,e)),t}function wS(t,r,e){return{min:r!==void 0?t.min+r:void 0,max:e!==void 0?t.max+e-(t.max-t.min):void 0}}function SJ(t,{top:r,left:e,bottom:n,right:s}){return{x:wS(t.x,e,s),y:wS(t.y,r,n)}}function _S(t,r){let e=r.min-t.min,n=r.max-t.max;return r.max-r.min<t.max-t.min&&([e,n]=[n,e]),{min:e,max:n}}function NJ(t,r){return{x:_S(t.x,r.x),y:_S(t.y,r.y)}}function CJ(t,r){let e=.5;const n=Ni(t),s=Ni(r);return s>n?e=eh(r.min,r.max-n,t.min):n>s&&(e=eh(t.min,t.max-s,r.min)),Gl(0,1,e)}function TJ(t,r){const e={};return r.min!==void 0&&(e.min=r.min-t.min),r.max!==void 0&&(e.max=r.max-t.min),e}const b2=.35;function EJ(t=b2){return t===!1?t=0:t===!0&&(t=b2),{x:kS(t,"left","right"),y:kS(t,"top","bottom")}}function kS(t,r,e){return{min:jS(t,r),max:jS(t,e)}}function jS(t,r){return typeof t=="number"?t:t[r]||0}const SS=()=>({translate:0,scale:1,origin:0,originPoint:0}),xf=()=>({x:SS(),y:SS()}),NS=()=>({min:0,max:0}),as=()=>({x:NS(),y:NS()});function Fi(t){return[t("x"),t("y")]}function DM({top:t,left:r,right:e,bottom:n}){return{x:{min:r,max:e},y:{min:t,max:n}}}function AJ({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function PJ(t,r){if(!r)return t;const e=r({x:t.left,y:t.top}),n=r({x:t.right,y:t.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function _1(t){return t===void 0||t===1}function x2({scale:t,scaleX:r,scaleY:e}){return!_1(t)||!_1(r)||!_1(e)}function Mu(t){return x2(t)||IM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IM(t){return CS(t.x)||CS(t.y)}function CS(t){return t&&t!=="0%"}function Gy(t,r,e){const n=t-e,s=r*n;return e+s}function TS(t,r,e,n,s){return s!==void 0&&(t=Gy(t,s,n)),Gy(t,e,n)+r}function v2(t,r=0,e=1,n,s){t.min=TS(t.min,r,e,n,s),t.max=TS(t.max,r,e,n,s)}function OM(t,{x:r,y:e}){v2(t.x,r.translate,r.scale,r.originPoint),v2(t.y,e.translate,e.scale,e.originPoint)}const ES=.999999999999,AS=1.0000000000001;function MJ(t,r,e,n=!1){const s=e.length;if(!s)return;r.x=r.y=1;let i,o;for(let c=0;c<s;c++){i=e[c],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(r.x*=o.x.scale,r.y*=o.y.scale,OM(t,o)),n&&Mu(i.latestValues)&&wf(t,i.latestValues))}r.x<AS&&r.x>ES&&(r.x=1),r.y<AS&&r.y>ES&&(r.y=1)}function vf(t,r){t.min=t.min+r,t.max=t.max+r}function PS(t,r,e,n,s=.5){const i=Kn(t.min,t.max,s);v2(t,r,e,i,n)}function wf(t,r){PS(t.x,r.x,r.scaleX,r.scale,r.originX),PS(t.y,r.y,r.scaleY,r.scale,r.originY)}function FM(t,r){return DM(PJ(t.getBoundingClientRect(),r))}function RJ(t,r,e){const n=FM(t,e),{scroll:s}=r;return s&&(vf(n.x,s.offset.x),vf(n.y,s.offset.y)),n}const LM=({current:t})=>t?t.ownerDocument.defaultView:null,DJ=new WeakMap;class IJ{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=as(),this.visualElement=r}start(r,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(s0(d).point)},i=(d,p)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CY(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(m=>{let v=this.getAxisMotionValue(m).get()||0;if(Yo.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[m];S&&(v=Ni(S)*(parseFloat(v)/100))}}this.originPoint[m]=v}),g&&Dn.postRender(()=>g(d,p)),u2(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=p;if(h&&this.currentDirection===null){this.currentDirection=OJ(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,m),this.updateAxis("y",p.point,m),this.visualElement.render(),y&&y(d,p)},c=(d,p)=>this.stop(d,p),u=()=>Fi(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new AM(r,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:LM(this.visualElement)})}stop(r,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Dn.postRender(()=>i(r,e))}cancel(){this.isDragging=!1;const{projection:r,animationState:e}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(r,e,n){const{drag:s}=this.getProps();if(!n||!Rg(r,s,this.currentDirection))return;const i=this.getAxisMotionValue(r);let o=this.originPoint[r]+n[r];this.constraints&&this.constraints[r]&&(o=jJ(o,this.constraints[r],this.elastic[r])),i.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;e&&yf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=SJ(s.layoutBox,e):this.constraints=!1,this.elastic=EJ(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=TJ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:e}=this.getProps();if(!r||!yf(r))return!1;const n=r.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RJ(n,s.root,this.visualElement.getTransformPagePoint());let o=NJ(s.layout.layoutBox,i);if(e){const c=e(AJ(o));this.hasMutatedConstraints=!!c,c&&(o=DM(c))}return o}startAnimation(r){const{drag:e,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},l=Fi(d=>{if(!Rg(d,e,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:n?r[d]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,g)});return Promise.all(l).then(c)}startAxisValueAnimation(r,e){const n=this.getAxisMotionValue(r);return u2(this.visualElement,r),n.start(R4(r,n,0,e,this.visualElement,!1))}stopAnimation(){Fi(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Fi(r=>{var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(r){var e;return(e=this.getAxisMotionValue(r).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(r){const e=`_drag${r.toUpperCase()}`,n=this.visualElement.getProps(),s=n[e];return s||this.visualElement.getValue(r,(n.initial?n.initial[r]:void 0)||0)}snapToCursor(r){Fi(e=>{const{drag:n}=this.getProps();if(!Rg(e,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];i.set(r[e]-Kn(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!yf(e)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fi(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();s[o]=CJ({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fi(o=>{if(!Rg(o,r,null))return;const c=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];c.set(Kn(u,l,s[o]))})}addListeners(){if(!this.visualElement.current)return;DJ.set(this.visualElement,this);const r=this.visualElement.current,e=Vp(r,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();yf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dn.read(n);const o=_m(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Fi(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{o(),e(),i(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=b2,dragMomentum:c=!0}=r;return{...r,drag:e,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Rg(t,r,e){return(r===!0||r===t)&&(e===null||e===t)}function OJ(t,r=10){let e=null;return Math.abs(t.y)>r?e="y":Math.abs(t.x)>r&&(e="x"),e}class FJ extends lu{constructor(r){super(r),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new IJ(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const MS=t=>(r,e)=>{t&&Dn.postRender(()=>t(r,e))};class LJ extends lu{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(r){this.session=new AM(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LM(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:e,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:MS(r),onStart:MS(e),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Dn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vp(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RS(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const vp={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(lr.test(t))t=parseFloat(t);else return t;const e=RS(t,r.target.x),n=RS(t,r.target.y);return`${e}% ${n}%`}},BJ={correct:(t,{treeScale:r,projectionDelta:e})=>{const n=t,s=ru.parse(t);if(s.length>5)return n;const i=ru.createTransformer(t),o=typeof s[0]!="number"?1:0,c=e.x.scale*r.x,u=e.y.scale*r.y;s[0+o]/=c,s[1+o]/=u;const l=Kn(c,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),i(s)}};class $J extends E.Component{componentDidMount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=r;iY(zJ),i&&(e.group&&e.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),sy.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:e,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||r.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?o.promote():o.relegate()||Dn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),l4.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:s}=r;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function BM(t){const[r,e]=wP(),n=E.useContext(e4);return a.jsx($J,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(EP),isPresent:r,safeToRemove:e})}const zJ={borderRadius:{...vp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vp,borderTopRightRadius:vp,borderBottomLeftRadius:vp,borderBottomRightRadius:vp,boxShadow:BJ};function VJ(t,r,e){const n=va(t)?t:vm(t);return n.start(R4("",n,r,e)),n.animation}function UJ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const WJ=(t,r)=>t.depth-r.depth;class qJ{constructor(){this.children=[],this.isDirty=!1}add(r){_4(this.children,r),this.isDirty=!0}remove(r){k4(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(WJ),this.isDirty=!1,this.children.forEach(r)}}function HJ(t,r){const e=Zo.now(),n=({timestamp:s})=>{const i=s-e;i>=r&&(tu(n),t(i-r))};return Dn.read(n,!0),()=>tu(n)}const $M=["TopLeft","TopRight","BottomLeft","BottomRight"],KJ=$M.length,DS=t=>typeof t=="string"?parseFloat(t):t,IS=t=>typeof t=="number"||lr.test(t);function GJ(t,r,e,n,s,i){s?(t.opacity=Kn(0,e.opacity!==void 0?e.opacity:1,XJ(n)),t.opacityExit=Kn(r.opacity!==void 0?r.opacity:1,0,QJ(n))):i&&(t.opacity=Kn(r.opacity!==void 0?r.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let o=0;o<KJ;o++){const c=`border${$M[o]}Radius`;let u=OS(r,c),l=OS(e,c);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||IS(u)===IS(l)?(t[c]=Math.max(Kn(DS(u),DS(l),n),0),(Yo.test(l)||Yo.test(u))&&(t[c]+="%")):t[c]=l}(r.rotate||e.rotate)&&(t.rotate=Kn(r.rotate||0,e.rotate||0,n))}function OS(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const XJ=zM(0,.5,aM),QJ=zM(.5,.95,Si);function zM(t,r,e){return n=>n<t?0:n>r?1:e(eh(t,r,n))}function FS(t,r){t.min=r.min,t.max=r.max}function Oi(t,r){FS(t.x,r.x),FS(t.y,r.y)}function LS(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function BS(t,r,e,n,s){return t-=r,t=Gy(t,1/e,n),s!==void 0&&(t=Gy(t,1/s,n)),t}function YJ(t,r=0,e=1,n=.5,s,i=t,o=t){if(Yo.test(r)&&(r=parseFloat(r),r=Kn(o.min,o.max,r/100)-o.min),typeof r!="number")return;let c=Kn(i.min,i.max,n);t===i&&(c-=r),t.min=BS(t.min,r,e,c,s),t.max=BS(t.max,r,e,c,s)}function $S(t,r,[e,n,s],i,o){YJ(t,r[e],r[n],r[s],r.scale,i,o)}const ZJ=["x","scaleX","originX"],JJ=["y","scaleY","originY"];function zS(t,r,e,n){$S(t.x,r,ZJ,e?e.x:void 0,n?n.x:void 0),$S(t.y,r,JJ,e?e.y:void 0,n?n.y:void 0)}function VS(t){return t.translate===0&&t.scale===1}function VM(t){return VS(t.x)&&VS(t.y)}function US(t,r){return t.min===r.min&&t.max===r.max}function eee(t,r){return US(t.x,r.x)&&US(t.y,r.y)}function WS(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function UM(t,r){return WS(t.x,r.x)&&WS(t.y,r.y)}function qS(t){return Ni(t.x)/Ni(t.y)}function HS(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class tee{constructor(){this.members=[]}add(r){_4(this.members,r),r.scheduleRender()}remove(r){if(k4(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(r){const e=this.members.findIndex(s=>r===s);if(e===0)return!1;let n;for(let s=e;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(r,e){const n=this.lead;if(r!==n&&(this.prevLead=n,this.lead=r,r.show(),n)){n.instance&&n.scheduleRender(),r.scheduleRender(),r.resumeFrom=n,e&&(r.resumeFrom.preserveOpacity=!0),n.snapshot&&(r.snapshot=n.snapshot,r.snapshot.latestValues=n.animationValues||n.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:s}=r.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:e,resumingFrom:n}=r;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ree(t,r,e){let n="";const s=t.x.translate/r.x,i=t.y.translate/r.y,o=e?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(r.x!==1||r.y!==1)&&(n+=`scale(${1/r.x}, ${1/r.y}) `),e){const{transformPerspective:l,rotate:d,rotateX:p,rotateY:f,skewX:h,skewY:g}=e;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),f&&(n+=`rotateY(${f}deg) `),h&&(n+=`skewX(${h}deg) `),g&&(n+=`skewY(${g}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const Ru={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ap=typeof window<"u"&&window.MotionDebug!==void 0,k1=["","X","Y","Z"],nee={visibility:"hidden"},KS=1e3;let see=0;function j1(t,r,e,n){const{latestValues:s}=r;s[t]&&(e[t]=s[t],r.setStaticValue(t,0),n&&(n[t]=0))}function WM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const e=ZP(r);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(e,"transform",Dn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&WM(n)}function qM({attachResizeListener:t,defaultParent:r,measureScroll:e,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=r?.()){this.id=see++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ap&&(Ru.totalNodes=Ru.resolvedTargetDeltas=Ru.recalculatedProjection=0),this.nodes.forEach(oee),this.nodes.forEach(fee),this.nodes.forEach(hee),this.nodes.forEach(lee),Ap&&window.MotionDebug.record(Ru)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qJ)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j4),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UJ(o),this.instance=o;const{layoutId:u,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(l||u)&&(this.isLayoutDirty=!0),t){let p;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=HJ(f,250),sy.hasAnimatedSinceResize&&(sy.hasAnimatedSinceResize=!1,this.nodes.forEach(XS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||l)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||bee,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!UM(this.targetLayout,g)||h,S=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,S);const C={...b4(y,"layout"),onPlay:m,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||XS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GS);return}this.isUpdating||this.nodes.forEach(uee),this.isUpdating=!1,this.nodes.forEach(dee),this.nodes.forEach(aee),this.nodes.forEach(iee),this.clearAllSnapshots();const c=Zo.now();sa.delta=Gl(0,1e3/60,c-sa.timestamp),sa.timestamp=c,sa.isProcessing=!0,p1.update.process(sa),p1.preRender.process(sa),p1.render.process(sa),sa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cee),this.sharedNodes.forEach(mee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=as(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!VM(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&(c||Mu(this.latestValues)||d)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),xee(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return as();const u=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(vee))){const{scroll:d}=this.root;d&&(vf(u.x,d.offset.x),vf(u.y,d.offset.y))}return u}removeElementScroll(o){var c;const u=as();if(Oi(u,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:p,options:f}=d;d!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Oi(u,o),vf(u.x,p.offset.x),vf(u.y,p.offset.y))}return u}applyTransform(o,c=!1){const u=as();Oi(u,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&wf(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mu(d.latestValues)&&wf(u,d.latestValues)}return Mu(this.latestValues)&&wf(u,this.latestValues),u}removeTransform(o){const c=as();Oi(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Mu(l.latestValues))continue;x2(l.latestValues)&&l.updateSnapshot();const d=as(),p=l.measurePageBox();Oi(d,p),zS(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return Mu(this.latestValues)&&zS(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!(!this.layout||!(p||f))){if(this.resolvedRelativeTargetAt=sa.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=as(),this.relativeTargetOrigin=as(),Wp(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=as(),this.targetWithTransforms=as()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oi(this.target,this.layout.layoutBox),OM(this.target,this.targetDelta)):Oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=as(),this.relativeTargetOrigin=as(),Wp(this.relativeTargetOrigin,this.target,h.target),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ap&&Ru.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||x2(this.parent.latestValues)||IM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===sa.timestamp&&(l=!1),l)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Oi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;MJ(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=as());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),Up(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!HS(this.projectionDelta.x,this.prevProjectionDelta.x)||!HS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ap&&Ru.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xf(),this.projectionDelta=xf(),this.projectionDeltaWithTransform=xf()}setAnimationOrigin(o,c=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},p=xf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const f=as(),h=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,m=this.getStack(),v=!m||m.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(yee));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const A=C/1e3;QS(p.x,o.x,A),QS(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gee(this.relativeTarget,this.relativeTargetOrigin,f,A),S&&eee(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=as()),Oi(S,this.relativeTarget)),y&&(this.animationValues=d,GJ(d,l,this.latestValues,A,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dn.update(()=>{sy.hasAnimatedSinceResize=!0,this.currentAnimation=VJ(0,KS,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:l,latestValues:d}=o;if(!(!c||!u||!l)){if(this!==o&&this.layout&&l&&HM(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||as();const p=Ni(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const f=Ni(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+f}Oi(c,u),wf(c,d),Up(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tee),this.sharedNodes.get(o).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const l={};u.z&&j1("z",o,l,this.animationValues);for(let d=0;d<k1.length;d++)j1(`rotate${k1[d]}`,o,l,this.animationValues),j1(`skew${k1[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}getProjectionStyles(o){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nee;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ry(o?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ry(o?.pointerEvents)||""),this.hasProjected&&!Mu(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),l.transform=ree(this.projectionDeltaWithTransform,this.treeScale,f),d&&(l.transform=d(f,l.transform));const{x:h,y:g}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,p.animationValues?l.opacity=p===this?(u=(c=f.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Uy){if(f[y]===void 0)continue;const{correct:m,applyTo:v}=Uy[y],x=l.transform==="none"?f[y]:m(f[y],p);if(v){const S=v.length;for(let C=0;C<S;C++)l[v[C]]=x}else l[y]=x}return this.options.layoutId&&(l.pointerEvents=p===this?ry(o?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(GS),this.root.sharedNodes.clear()}}}function aee(t){t.updateLayout()}function iee(t){var r;const e=((r=t.resumeFrom)===null||r===void 0?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Fi(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],h=Ni(f);f.min=n[p].min,f.max=f.min+h}):HM(i,e.layoutBox,n)&&Fi(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],h=Ni(n[p]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+h)});const c=xf();Up(c,n,e.layoutBox);const u=xf();o?Up(u,t.applyTransform(s,!0),e.measuredBox):Up(u,n,e.layoutBox);const l=!VM(c);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:h}=p;if(f&&h){const g=as();Wp(g,e.layoutBox,f.layoutBox);const y=as();Wp(y,n,h.layoutBox),UM(g,y)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function oee(t){Ap&&Ru.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cee(t){t.clearSnapshot()}function GS(t){t.clearMeasurements()}function uee(t){t.isLayoutDirty=!1}function dee(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function XS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fee(t){t.resolveTargetDelta()}function hee(t){t.calcProjection()}function pee(t){t.resetSkewAndRotation()}function mee(t){t.removeLeadSnapshot()}function QS(t,r,e){t.translate=Kn(r.translate,0,e),t.scale=Kn(r.scale,1,e),t.origin=r.origin,t.originPoint=r.originPoint}function YS(t,r,e,n){t.min=Kn(r.min,e.min,n),t.max=Kn(r.max,e.max,n)}function gee(t,r,e,n){YS(t.x,r.x,e.x,n),YS(t.y,r.y,e.y,n)}function yee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bee={duration:.45,ease:[.4,0,.1,1]},ZS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JS=ZS("applewebkit/")&&!ZS("chrome/")?Math.round:Si;function eN(t){t.min=JS(t.min),t.max=JS(t.max)}function xee(t){eN(t.x),eN(t.y)}function HM(t,r,e){return t==="position"||t==="preserve-aspect"&&!_J(qS(r),qS(e),.2)}function vee(t){var r;return t!==t.root&&((r=t.scroll)===null||r===void 0?void 0:r.wasRoot)}const wee=qM({attachResizeListener:(t,r)=>_m(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S1={current:void 0},KM=qM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!S1.current){const t=new wee({});t.mount(window),t.setOptions({layoutScroll:!0}),S1.current=t}return S1.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_ee={pan:{Feature:LJ},drag:{Feature:FJ,ProjectionNode:KM,MeasureLayout:BM}};function tN(t,r,e){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,i=n[s];i&&Dn.postRender(()=>i(r,s0(r)))}class kee extends lu{mount(){const{current:r}=this.node;r&&(this.unmount=_Y(r,e=>(tN(this.node,e,"Start"),n=>tN(this.node,n,"End"))))}unmount(){}}class jee extends lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=n0(_m(this.node.current,"focus",()=>this.onFocus()),_m(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rN(t,r,e){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),i=n[s];i&&Dn.postRender(()=>i(r,s0(r)))}class See extends lu{mount(){const{current:r}=this.node;r&&(this.unmount=NY(r,e=>(rN(this.node,e,"Start"),(n,{success:s})=>rN(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const w2=new WeakMap,N1=new WeakMap,Nee=t=>{const r=w2.get(t.target);r&&r(t)},Cee=t=>{t.forEach(Nee)};function Tee({root:t,...r}){const e=t||document;N1.has(e)||N1.set(e,{});const n=N1.get(e),s=JSON.stringify(r);return n[s]||(n[s]=new IntersectionObserver(Cee,{root:t,...r})),n[s]}function Eee(t,r,e){const n=Tee(r);return w2.set(t,e),n.observe(t),()=>{w2.delete(t),n.unobserve(t)}}const Aee={some:0,all:1};class Pee extends lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:e,margin:n,amount:s="some",once:i}=r,o={root:e?e.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Aee[s]},c=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),f=l?d:p;f&&f(u)};return Eee(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:e}=this.node;["amount","margin","root"].some(Mee(r,e))&&this.startObserver()}unmount(){}}function Mee({viewport:t={}},{viewport:r={}}={}){return e=>t[e]!==r[e]}const Ree={inView:{Feature:Pee},tap:{Feature:See},focus:{Feature:jee},hover:{Feature:kee}},Dee={layout:{ProjectionNode:KM,MeasureLayout:BM}},_2={current:null},GM={current:!1};function Iee(){if(GM.current=!0,!!n4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>_2.current=t.matches;t.addListener(r),r()}else _2.current=!1}const Oee=[...xM,ya,ru],Fee=t=>Oee.find(bM(t)),nN=new WeakMap;function Lee(t,r,e){for(const n in r){const s=r[n],i=e[n];if(va(s))t.addValue(n,s);else if(va(i))t.addValue(n,vm(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,vm(o!==void 0?o:s,{owner:t}))}}for(const n in e)r[n]===void 0&&t.removeValue(n);return r}const sN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bee{scrapeMotionValuesFromProps(r,e,n){return{}}constructor({parent:r,props:e,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Zo.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Dn.render(this.render,!1,!0))};const{latestValues:u,renderState:l,onUpdate:d}=o;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=l,this.parent=r,this.props=e,this.presenceContext=n,this.depth=r?r.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Vb(e),this.isVariantNode=CP(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const h in f){const g=f[h];u[h]!==void 0&&va(g)&&g.set(u[h],!1)}}mount(r){this.current=r,nN.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),GM.current||Iee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nN.delete(this.current),this.projection&&this.projection.unmount(),tu(this.notifyUpdate),tu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const e=this.features[r];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(r,e){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const n=Nd.has(r),s=e.on("change",c=>{this.latestValues[r]=c,this.props.onUpdate&&Dn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,e)),this.valueSubscriptions.set(r,()=>{s(),i(),o&&o(),e.owner&&e.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in th){const e=th[r];if(!e)continue;const{isEnabled:n,Feature:s}=e;if(!this.features[r]&&s&&n(this.props)&&(this.features[r]=new s(this)),this.features[r]){const i=this.features[r];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):as()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,e){this.latestValues[r]=e}update(r,e){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<sN.length;n++){const s=sN[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=r[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Lee(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(r),()=>e.variantChildren.delete(r)}addValue(r,e){const n=this.values.get(r);e!==n&&(n&&this.removeValue(r),this.bindToMotionValue(r,e),this.values.set(r,e),this.latestValues[r]=e.get())}removeValue(r){this.values.delete(r);const e=this.valueSubscriptions.get(r);e&&(e(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,e){if(this.props.values&&this.props.values[r])return this.props.values[r];let n=this.values.get(r);return n===void 0&&e!==void 0&&(n=vm(e===null?void 0:e,{owner:this}),this.addValue(r,n)),n}readValue(r,e){var n;let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(n=this.getBaseTargetFromProps(this.props,r))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(gM(s)||oM(s))?s=parseFloat(s):!Fee(s)&&ru.test(e)&&(s=hM(r,e)),this.setBaseTarget(r,va(s)?s.get():s)),va(s)?s.get():s}setBaseTarget(r,e){this.baseTarget[r]=e}getBaseTarget(r){var e;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=u4(this.props,n,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[r])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!va(i)?i:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,e){return this.events[r]||(this.events[r]=new j4),this.events[r].add(e)}notify(r,...e){this.events[r]&&this.events[r].notify(...e)}}class XM extends Bee{constructor(){super(...arguments),this.KeyframeResolver=vM}sortInstanceNodePosition(r,e){return r.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(r,e){return r.style?r.style[e]:void 0}removeValueFromRenderState(r,{vars:e,style:n}){delete e[r],delete n[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;va(r)&&(this.childSubscription=r.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function $ee(t){return window.getComputedStyle(t)}class zee extends XM{constructor(){super(...arguments),this.type="html",this.renderInstance=OP}readValueFromInstance(r,e){if(Nd.has(e)){const n=E4(e);return n&&n.default||0}else{const n=$ee(r),s=(RP(e)?n.getPropertyValue(e):n[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(r,{transformPagePoint:e}){return FM(r,e)}build(r,e,n){h4(r,e,n.transformTemplate)}scrapeMotionValuesFromProps(r,e,n){return y4(r,e,n)}}class Vee extends XM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=as}getBaseTargetFromProps(r,e){return r[e]}readValueFromInstance(r,e){if(Nd.has(e)){const n=E4(e);return n&&n.default||0}return e=FP.has(e)?e:o4(e),r.getAttribute(e)}scrapeMotionValuesFromProps(r,e,n){return $P(r,e,n)}build(r,e,n){p4(r,e,this.isSVGTag,n.transformTemplate)}renderInstance(r,e,n,s){LP(r,e,n,s)}mount(r){this.isSVGTag=g4(r.tagName),super.mount(r)}}const Uee=(t,r)=>c4(t)?new Vee(r):new zee(r,{allowProjection:t!==E.Fragment}),Wee=mY({...hJ,...Ree,..._ee,...Dee},Uee),kn=AQ(Wee),qee=(t,r="")=>{const[e,n]=E.useState(()=>typeof window<"u"&&localStorage.getItem(`form-memory-${t}`)||r),s=E.useCallback(o=>{n(o),typeof window<"u"&&(o?localStorage.setItem(`form-memory-${t}`,o):localStorage.removeItem(`form-memory-${t}`))},[t]),i=E.useCallback(()=>{n(""),typeof window<"u"&&localStorage.removeItem(`form-memory-${t}`)},[t]);return{value:e,updateValue:s,clearMemory:i}},Hee=(t,r,e,n)=>{const[s,i]=E.useState({isValid:!0});return E.useEffect(()=>{if(!t){i({isValid:!0});return}if(e){i(c=>({...c,isValidating:!0}));const o=setTimeout(()=>{const c=e(t);i({...c,isValidating:!1})},300);return()=>clearTimeout(o)}if(r&&(r==="email"||r==="password")){if(r==="email"&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){i({isValid:!1,message:"    ",isValidating:!1});return}i(c=>({...c,isValidating:!0}));const o=setTimeout(async()=>{try{const u=await(await fetch("/api/auth/validate-field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:r,value:t,context:n||"register"})})).json();u.success?i({isValid:u.isValid,message:u.message,strength:u.strength,suggestions:u.suggestions,isValidating:!1}):i({isValid:!1,message:"   ",isValidating:!1})}catch(c){console.error("  :",c),i({isValid:!1,message:"   ",isValidating:!1})}},500);return()=>clearTimeout(o)}},[t,e,r,n]),s},xt=E.forwardRef(({className:t,type:r="text",enableMemory:e=!1,memoryKey:n,validator:s,showValidation:i=!0,leftIcon:o,rightIcon:c,loading:u=!1,strengthIndicator:l=!1,fieldType:d,validationContext:p,hidePasswordToggle:f=!1,autoWidth:h=!1,maxWidth:g=420,onChange:y,value:m,...v},x)=>{const[S,C]=E.useState(!1),[A,B]=E.useState(!1),q=E.useRef(null),[D,I]=E.useState("100%"),{value:U,updateValue:K}=qee(n||`input-${v.name||"default"}`,typeof m=="string"?m:""),W=m!==void 0?String(m):U,P=Hee(W,d,s,p);E.useEffect(()=>{if(h&&q.current){q.current.textContent=W||v.placeholder||"";const O=q.current.offsetWidth+32;I(Math.max(60,Math.min(O,g)))}else h||I("100%")},[W,h,v.placeholder,g]);const L=E.useCallback(O=>{const $=O.target.value;e&&m===void 0&&K($),y?.(O)},[e,m,K,y]),T=E.useCallback(()=>{C(O=>!O)},[]),_=r==="password"?S?"text":"password":r,k=o||u,j=c||r==="password"||i&&P.message,N=()=>P.isValidating?"border-blue-300 ring-blue-100":P.isValid?P.isValid&&W?"border-green-300 ring-green-100 focus:border-green-500 focus:ring-green-200":"border-input focus:border-blue-500 focus:ring-blue-200":"border-red-300 ring-red-100 focus:border-red-500 focus:ring-red-200",R=E.useMemo(()=>{const O={position:"relative"};return h?(O.width=typeof D=="number"?`${D}px`:D,O.minWidth="60px"):O.width="100%",O},[h,D]);return a.jsxs("div",{className:Ae("relative",h?"inline-block align-bottom":"w-full"),children:[h&&a.jsx("span",{ref:q,className:"absolute invisible whitespace-pre font-inherit px-4 text-sm pointer-events-none",style:{font:"inherit",letterSpacing:"inherit"},"aria-hidden":"true"}),a.jsxs(kn.div,{animate:{scale:A?1.01:1},transition:{type:"spring",stiffness:300,damping:25},style:R,children:[a.jsx("input",{type:_,className:Ae("flex h-11 w-full rounded-xl border-2 bg-transparent px-4 py-2.5 text-sm ring-offset-background transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-0","disabled:cursor-not-allowed disabled:opacity-50","selection:bg-blue-200 dark:selection:bg-blue-900",k&&"pr-11",j&&"pl-11",N(),t),ref:x,value:W,onChange:L,onFocus:()=>B(!0),onBlur:()=>B(!1),...v}),k&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:u?a.jsx(Zr,{className:"h-4 w-4 animate-spin"}):o}),j&&a.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[r==="password"&&!f&&a.jsx(kn.div,{whileTap:{scale:.95},style:{background:"none",border:"none",padding:"4px",borderRadius:"6px",cursor:"pointer",color:"var(--muted-foreground)",transition:"colors 0.2s"},onTap:T,children:S?a.jsx(id,{className:"h-4 w-4"}):a.jsx(Hc,{className:"h-4 w-4"})}),i&&W&&!P.isValidating&&a.jsx(kn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:500,damping:30},children:P.isValid?a.jsx(zl,{className:"h-4 w-4 text-green-500"}):a.jsx($a,{className:"h-4 w-4 text-red-500"})}),P.isValidating&&a.jsx(Zr,{className:"h-4 w-4 animate-spin text-blue-500"}),c]})]}),l&&r==="password"&&W&&typeof P.strength=="number"&&a.jsxs(kn.div,{style:{marginTop:"8px"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("div",{className:"flex space-x-1 rtl:space-x-reverse",style:{marginBottom:"4px"},children:[1,2,3,4].map(O=>a.jsx("div",{style:{height:"4px",flex:1,borderRadius:"2px",transition:"all 0.3s",backgroundColor:P.strength>=O?O<=2?"#ef4444":O===3?"#eab308":"#22c55e":"#e5e7eb"}},O))}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--muted-foreground)"},children:["  : ",P.strength<=2?"":P.strength===3?"":""]})]}),a.jsx(ym,{children:i&&P.message&&a.jsxs(kn.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},style:{marginTop:"8px",fontSize:"12px",padding:"8px 12px",borderRadius:"8px",border:"1px solid",display:"flex",alignItems:"center",gap:"8px",color:P.isValid?"#15803d":"#dc2626",backgroundColor:P.isValid?"#f0fdf4":"#fef2f2",borderColor:P.isValid?"#bbf7d0":"#fecaca"},children:[P.isValid?a.jsx(zl,{className:"h-3 w-3 text-green-500"}):a.jsx($a,{className:"h-3 w-3 text-red-500"}),P.message]})})]})});xt.displayName="Input";const Kee=(t=1e3)=>{const[r,e]=E.useState(!1),n=E.useRef(0),s=E.useCallback(()=>{const i=Date.now();return i-n.current<t?(e(!0),!1):(n.current=i,e(!1),!0)},[t]);return{isLimited:r,checkRateLimit:s}},km=kd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform-gpu relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-primary-foreground hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:shadow-blue-500/25 active:scale-95",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-destructive-foreground hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:shadow-red-500/25 active:scale-95",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-blue-300 hover:shadow-md active:scale-95",secondary:"bg-gradient-to-r from-gray-200 to-gray-300 text-secondary-foreground hover:from-gray-300 hover:to-gray-400 hover:shadow-md active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm active:scale-95",link:"text-primary underline-offset-4 hover:underline hover:text-blue-600 active:scale-95",success:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 hover:shadow-lg hover:shadow-green-500/25 active:scale-95",warning:"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 hover:shadow-lg hover:shadow-orange-500/25 active:scale-95"},size:{default:"h-11 px-6 py-2.5",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11",xs:"h-7 px-2 text-xs rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ie=E.forwardRef(({className:t,variant:r,size:e,asChild:n=!1,loading:s=!1,loadingText:i=" ...",enableRateLimit:o=!1,rateLimitDelay:c=1e3,ripple:u=!0,onClick:l,children:d,disabled:p,...f},h)=>{const g=n?Sd:"button",{isLimited:y,checkRateLimit:m}=Kee(c),[v,x]=E.useState({}),[S,C]=E.useState(!1),A=E.useCallback(D=>{if(!(s||p)){if(o&&!m()){D.preventDefault();return}if(u){const U=D.currentTarget.getBoundingClientRect(),K=D.clientX-U.left,W=D.clientY-U.top;x({left:K-10,top:W-10,width:20,height:20}),C(!0),setTimeout(()=>C(!1),600)}l?.(D)}},[s,p,o,m,u,l]),B=p||s||o&&y,q=a.jsxs(a.Fragment,{children:[S&&u&&a.jsx(kn.span,{className:"absolute bg-white/30 rounded-full pointer-events-none",style:v,initial:{scale:0,opacity:1},animate:{scale:4,opacity:0},transition:{duration:.6,ease:"easeOut"}}),s?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-4 w-4 animate-spin"}),i]}):d,o&&y&&a.jsx(kn.div,{className:"absolute inset-0 bg-gray-400/20 rounded-lg flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("span",{className:"text-xs text-gray-600",children:"..."})})]});return a.jsx(kn.div,{whileHover:{scale:B?1:1.02},whileTap:{scale:B?1:.98},transition:{type:"spring",stiffness:400,damping:25},children:a.jsx(g,{className:Ae(km({variant:r,size:e,className:t})),ref:h,onClick:A,disabled:B,...f,children:q})})});Ie.displayName="Button";const QM="/assets/logo_header_light.png",Gee="/assets/logo_header_dark.png",YM="/assets/app_icon_light.png",Xee="/assets/app_icon_dark.png",Qee=jd({email:Kr().email("   "),password:Kr().min(1,"  ")});function Yee(){const[,t]=Gs(),{toast:r}=wn(),{login:e}=Ql(),[n,s]=E.useState("online"),[i,o]=E.useState(!1),[c,u]=E.useState(!1),l=Wl({resolver:ql(Qee),defaultValues:{email:"",password:""}}),d=It({mutationFn:async p=>await e(p.email,p.password),onSuccess:()=>{r({title:"  ",description:"    "}),t("/")},onError:p=>{if(p.requireEmailVerification||p.status===403){r({title:"    ",description:"       ",variant:"default"});const f=p.userId||p.data?.userId,h=p.email||p.data?.email||l.getValues("email");t(`/verify-email?userId=${f}&email=${encodeURIComponent(h)}`);return}r({title:"  ",description:p.message||"    ",variant:"destructive"})}});return a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%230f172a' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[a.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[a.jsxs("div",{className:"text-right flex flex-col items-end",children:[a.jsx("h2",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest leading-none",children:" "}),a.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-600 font-bold",children:"WELCOME BACK"})]}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-slate-100 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",children:a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white dark:bg-slate-900 rounded-full"})]})})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[a.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[a.jsx("div",{className:"absolute -inset-1.5 bg-blue-500/10 rounded-[24px] blur-md opacity-0 group-hover:opacity-100 transition duration-500"}),a.jsxs("div",{className:"w-24 h-24 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative bg-white/50 dark:bg-white/5 backdrop-blur-sm rounded-2xl p-2 border border-white/20",children:[a.jsx("img",{src:YM,alt:"AXION Logo",className:"w-full h-full object-contain","data-testid":"img-logo-light"}),a.jsx("div",{className:"absolute top-2 right-2 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md ring-2 ring-blue-400/20 animate-pulse"})]})]}),a.jsxs("div",{className:"text-center relative",children:[a.jsx("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:a.jsx("img",{src:QM,alt:"AXION | ",className:"h-12 object-contain bg-white/30 dark:bg-white/5 backdrop-blur-sm rounded-lg px-4 py-1 border border-white/10","data-testid":"img-header-light"})}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[a.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),a.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),a.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 animate-in slide-in-from-bottom duration-500 delay-300 fill-mode-both",children:[a.jsxs("button",{type:"button",onClick:()=>s("offline"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="offline"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[a.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[a.jsx("span",{className:`text-[8px] font-bold ${n==="offline"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),a.jsx("span",{className:"text-[11px] font-black",children:" "})]}),a.jsx("div",{className:`p-1.5 rounded-lg ${n==="offline"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:a.jsx(f6,{className:"w-4 h-4"})})]}),a.jsxs("button",{type:"button",onClick:()=>s("online"),className:`flex items-center justify-between p-2 rounded-xl border transition-all h-14 shadow-sm active:scale-95 ${n==="online"?"bg-blue-600 dark:bg-white text-white dark:text-slate-900 border-blue-600 dark:border-white ring-2 ring-blue-600/10":"bg-card dark:bg-slate-900 border-border dark:border-slate-800 text-gray-500"}`,children:[a.jsxs("div",{className:"flex flex-col items-start leading-none text-right w-full",children:[a.jsx("span",{className:`text-[8px] font-bold ${n==="online"?"text-slate-300 dark:text-slate-600":"text-gray-400"}`,children:""}),a.jsx("span",{className:"text-[11px] font-black",children:" "})]}),a.jsx("div",{className:`p-1.5 rounded-lg ${n==="online"?"bg-white/10 dark:bg-slate-900/10 text-white dark:text-slate-900":"bg-gray-50 dark:bg-slate-800 text-gray-400"}`,children:a.jsx(N_,{className:"w-4 h-4"})})]})]}),a.jsx(Kl,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(p=>d.mutate(p)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[a.jsx(Jr,{control:l.control,name:"email",render:({field:p})=>a.jsx(Yr,{children:a.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.email?"border-red-500":"border-border dark:border-slate-800"}`,children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Identity / "}),a.jsx(sn,{children:a.jsx(xt,{...p,type:"text",autoComplete:"off",placeholder:"username@axion.system",className:"border-none p-0 h-6 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),a.jsx("button",{type:"button",onClick:()=>u(!0),className:"flex items-center justify-center ml-2 text-slate-300 dark:text-slate-700 hover:text-slate-600 dark:hover:text-slate-400 transition-colors","data-testid":"button-switch-account",children:a.jsx(Ln,{className:"w-5 h-5",strokeWidth:1.5})})]})})}),a.jsx(Jr,{control:l.control,name:"password",render:({field:p})=>a.jsx(Yr,{children:a.jsxs("div",{className:`bg-card dark:bg-slate-900 rounded-xl border shadow-sm h-16 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-slate-900/5 dark:focus-within:ring-white/5 ${l.formState.errors.password?"border-red-500":"border-border dark:border-slate-800"}`,children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-gray-400 dark:text-slate-500 font-black text-right uppercase tracking-tighter",children:"Security /  "}),a.jsx(sn,{children:a.jsx(xt,{...p,type:i?"text":"password",autoComplete:"off",placeholder:"",className:"border-none p-0 h-6 text-base font-black text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"flex items-center justify-center ml-2 transition-colors","data-testid":"button-toggle-password",children:i?a.jsx(Hc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400",strokeWidth:2}):a.jsx(id,{className:"w-5 h-5 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),a.jsxs("div",{className:"flex justify-between px-1",children:[a.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-[10px] font-bold text-slate-400 dark:text-slate-600 hover:text-slate-900 dark:hover:text-white transition-colors","data-testid":"link-forgot-password",children:" "}),a.jsx("button",{type:"button",className:"text-[10px] font-bold text-blue-600 dark:text-blue-400",children:" "})]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?a.jsx(Zr,{className:"animate-spin h-5 w-5"}):" "}),a.jsx(Ie,{type:"button",variant:"ghost",className:"w-full h-10 text-blue-600/70 dark:text-blue-400/70 text-sm font-bold rounded-xl hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>t("/register"),"data-testid":"button-create-account",children:"    "})]})]})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-3 pb-12 relative animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full",children:[a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"}),a.jsx("span",{className:"text-[8px] font-black text-blue-400 dark:text-blue-700 tracking-[0.2em] uppercase",children:"Axion Security v2.0"}),a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30"})]}),a.jsx("div",{className:"flex gap-4 mb-4",children:[{Icon:Bq,label:"Biometric",testId:"button-fingerprint"},{Icon:f6,label:"QR Scan",testId:"button-scan-qr"},{Icon:Hq,label:"Support",testId:"button-support"}].map(({Icon:p,label:f,testId:h},g)=>a.jsx("button",{type:"button",onClick:()=>{alert(`${f} feature coming soon on Axion Mobile.`)},className:"w-12 h-12 bg-card dark:bg-slate-900 rounded-2xl shadow-sm border border-border dark:border-slate-800 flex items-center justify-center text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:shadow-md transition-all active:scale-90","data-testid":h,children:a.jsx(p,{className:"w-5 h-5",strokeWidth:1.5})},g))}),a.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[9px] font-black text-slate-400 dark:text-slate-600 tracking-wider",children:"AXION CORE v3.9.1 - SECURE"})]}),a.jsx("span",{className:"text-[8px] text-gray-300 dark:text-slate-700",children:" 2026 AXION OPERATIONS MANAGEMENT"})]}),c&&a.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs("div",{className:"bg-blue-600 dark:bg-white h-12 rounded-xl flex items-center justify-between px-4 shadow-2xl border border-white/10 dark:border-black/5",children:[a.jsx("span",{className:"text-white dark:text-slate-900 text-[11px] font-medium text-right w-full ml-4",children:"      "}),a.jsx("button",{onClick:()=>u(!1),className:"w-6 h-6 bg-white/10 dark:bg-slate-900/10 rounded-lg flex items-center justify-center hover:bg-white/20 dark:hover:bg-slate-900/20 transition-colors",children:a.jsx(Us,{className:"w-4 h-4 text-white dark:text-slate-900",strokeWidth:2})})]})})]})]})]})}function D4(t){const r=E.useRef({value:t,previous:t});return E.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var qb="Checkbox",[Zee]=da(qb),[Jee,I4]=Zee(qb);function ete(t){const{__scopeCheckbox:r,checked:e,children:n,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:u,required:l,value:d="on",internal_do_not_use_render:p}=t,[f,h]=Gi({prop:e,defaultProp:s??!1,onChange:u,caller:qb}),[g,y]=E.useState(null),[m,v]=E.useState(null),x=E.useRef(!1),S=g?!!o||!!g.closest("form"):!0,C={checked:f,disabled:i,setChecked:h,control:g,setControl:y,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:l,defaultChecked:Bc(s)?!1:s,isFormControl:S,bubbleInput:m,setBubbleInput:v};return a.jsx(Jee,{scope:r,...C,children:tte(p)?p(C):n})}var ZM="CheckboxTrigger",JM=E.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:e,...n},s)=>{const{control:i,value:o,disabled:c,checked:u,required:l,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:g}=I4(ZM,t),y=Pr(s,d),m=E.useRef(u);return E.useEffect(()=>{const v=i?.form;if(v){const x=()=>p(m.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,p]),a.jsx(Ht.button,{type:"button",role:"checkbox","aria-checked":Bc(u)?"mixed":u,"aria-required":l,"data-state":sR(u),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:y,onKeyDown:ut(r,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ut(e,v=>{p(x=>Bc(x)?!0:!x),g&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});JM.displayName=ZM;var O4=E.forwardRef((t,r)=>{const{__scopeCheckbox:e,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:u,onCheckedChange:l,form:d,...p}=t;return a.jsx(ete,{__scopeCheckbox:e,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:l,name:n,form:d,value:u,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(JM,{...p,ref:r,__scopeCheckbox:e}),f&&a.jsx(nR,{__scopeCheckbox:e})]})})});O4.displayName=qb;var eR="CheckboxIndicator",tR=E.forwardRef((t,r)=>{const{__scopeCheckbox:e,forceMount:n,...s}=t,i=I4(eR,e);return a.jsx(js,{present:n||Bc(i.checked)||i.checked===!0,children:a.jsx(Ht.span,{"data-state":sR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...t.style}})})});tR.displayName=eR;var rR="CheckboxBubbleInput",nR=E.forwardRef(({__scopeCheckbox:t,...r},e)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:u,name:l,value:d,form:p,bubbleInput:f,setBubbleInput:h}=I4(rR,t),g=Pr(e,h),y=D4(i),m=D_(n);E.useEffect(()=>{const x=f;if(!x)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,B=!s.current;if(y!==i&&A){const q=new Event("click",{bubbles:B});x.indeterminate=Bc(i),A.call(x,Bc(i)?!1:i),x.dispatchEvent(q)}},[f,y,i,s]);const v=E.useRef(Bc(i)?!1:i);return a.jsx(Ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:c,disabled:u,name:l,value:d,form:p,...r,tabIndex:-1,ref:g,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nR.displayName=rR;function tte(t){return typeof t=="function"}function Bc(t){return t==="indeterminate"}function sR(t){return Bc(t)?"indeterminate":t?"checked":"unchecked"}const jm=E.forwardRef(({className:t,...r},e)=>a.jsx(O4,{ref:e,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:a.jsx(tR,{className:Ae("flex items-center justify-center text-current"),children:a.jsx(Dl,{className:"h-4 w-4"})})}));jm.displayName=O4.displayName;function rte(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function aR(...t){return r=>t.forEach(e=>rte(e,r))}function nte(...t){return E.useCallback(aR(...t),t)}var iR=E.forwardRef((t,r)=>{const{children:e,...n}=t,s=E.Children.toArray(e),i=s.find(ate);if(i){const o=i.props.children,c=s.map(u=>u===i?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return a.jsx(k2,{...n,ref:r,children:E.isValidElement(o)?E.cloneElement(o,void 0,c):null})}return a.jsx(k2,{...n,ref:r,children:e})});iR.displayName="Slot";var k2=E.forwardRef((t,r)=>{const{children:e,...n}=t;if(E.isValidElement(e)){const s=ote(e);return E.cloneElement(e,{...ite(n,e.props),ref:r?aR(r,s):s})}return E.Children.count(e)>1?E.Children.only(null):null});k2.displayName="SlotClone";var ste=({children:t})=>a.jsx(a.Fragment,{children:t});function ate(t){return E.isValidElement(t)&&t.type===ste}function ite(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{i(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function ote(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var lte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cte=lte.reduce((t,r)=>{const e=E.forwardRef((n,s)=>{const{asChild:i,...o}=n,c=i?iR:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:s})});return e.displayName=`Primitive.${r}`,{...t,[r]:e}},{});function aN(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...e)=>r.current?.(...e),[])}var C1="focusScope.autoFocusOnMount",T1="focusScope.autoFocusOnUnmount",iN={bubbles:!1,cancelable:!0},ute="FocusScope",a0=E.forwardRef((t,r)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[c,u]=E.useState(null),l=aN(s),d=aN(i),p=E.useRef(null),f=nte(r,y=>u(y)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let y=function(S){if(h.paused||!c)return;const C=S.target;c.contains(C)?p.current=C:wc(p.current,{select:!0})},m=function(S){if(h.paused||!c)return;const C=S.relatedTarget;C!==null&&(c.contains(C)||wc(p.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&wc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(v);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[n,c,h.paused]),E.useEffect(()=>{if(c){lN.add(h);const y=document.activeElement;if(!c.contains(y)){const v=new CustomEvent(C1,iN);c.addEventListener(C1,l),c.dispatchEvent(v),v.defaultPrevented||(dte(gte(oR(c)),{select:!0}),document.activeElement===y&&wc(c))}return()=>{c.removeEventListener(C1,l),setTimeout(()=>{const v=new CustomEvent(T1,iN);c.addEventListener(T1,d),c.dispatchEvent(v),v.defaultPrevented||wc(y??document.body,{select:!0}),c.removeEventListener(T1,d),lN.remove(h)},0)}}},[c,l,d,h]);const g=E.useCallback(y=>{if(!e&&!n||h.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(m&&v){const x=y.currentTarget,[S,C]=fte(x);S&&C?!y.shiftKey&&v===C?(y.preventDefault(),e&&wc(S,{select:!0})):y.shiftKey&&v===S&&(y.preventDefault(),e&&wc(C,{select:!0})):v===x&&y.preventDefault()}},[e,n,h.paused]);return a.jsx(cte.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});a0.displayName=ute;function dte(t,{select:r=!1}={}){const e=document.activeElement;for(const n of t)if(wc(n,{select:r}),document.activeElement!==e)return}function fte(t){const r=oR(t),e=oN(r,t),n=oN(r.reverse(),t);return[e,n]}function oR(t){const r=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)r.push(e.currentNode);return r}function oN(t,r){for(const e of t)if(!hte(e,{upTo:r}))return e}function hte(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pte(t){return t instanceof HTMLInputElement&&"select"in t}function wc(t,{select:r=!1}={}){if(t&&t.focus){const e=document.activeElement;t.focus({preventScroll:!0}),t!==e&&pte(t)&&r&&t.select()}}var lN=mte();function mte(){let t=[];return{add(r){const e=t[0];r!==e&&e?.pause(),t=cN(t,r),t.unshift(r)},remove(r){t=cN(t,r),t[0]?.resume()}}}function cN(t,r){const e=[...t],n=e.indexOf(r);return n!==-1&&e.splice(n,1),e}function gte(t){return t.filter(r=>r.tagName!=="A")}var E1=0;function Hb(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uN()),document.body.insertAdjacentElement("beforeend",t[1]??uN()),E1++,()=>{E1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),E1--}},[])}function uN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zo=function(){return zo=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zo.apply(this,arguments)};function lR(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function yte(t,r,e){if(e||arguments.length===2)for(var n=0,s=r.length,i;n<s;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}var ay="right-scroll-bar-position",iy="width-before-scroll-bar",bte="with-scroll-bars-hidden",xte="--removed-body-scroll-bar-size";function A1(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function vte(t,r){var e=E.useState(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=r,e.facade}var wte=typeof window<"u"?E.useLayoutEffect:E.useEffect,dN=new WeakMap;function _te(t,r){var e=vte(null,function(n){return t.forEach(function(s){return A1(s,n)})});return wte(function(){var n=dN.get(e);if(n){var s=new Set(n),i=new Set(t),o=e.current;s.forEach(function(c){i.has(c)||A1(c,null)}),i.forEach(function(c){s.has(c)||A1(c,o)})}dN.set(e,t)},[t]),e}function kte(t){return t}function jte(t,r){r===void 0&&(r=kte);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(i){var o=r(i,n);return e.push(o),function(){e=e.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;e.length;){var o=e;e=[],o.forEach(i)}e={push:function(c){return i(c)},filter:function(){return e}}},assignMedium:function(i){n=!0;var o=[];if(e.length){var c=e;e=[],c.forEach(i),o=e}var u=function(){var d=o;o=[],d.forEach(i)},l=function(){return Promise.resolve().then(u)};l(),e={push:function(d){o.push(d),l()},filter:function(d){return o=o.filter(d),e}}}};return s}function Ste(t){t===void 0&&(t={});var r=jte(null);return r.options=zo({async:!0,ssr:!1},t),r}var cR=function(t){var r=t.sideCar,e=lR(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,zo({},e))};cR.isSideCarExport=!0;function Nte(t,r){return t.useMedium(r),cR}var uR=Ste(),P1=function(){},Kb=E.forwardRef(function(t,r){var e=E.useRef(null),n=E.useState({onScrollCapture:P1,onWheelCapture:P1,onTouchMoveCapture:P1}),s=n[0],i=n[1],o=t.forwardProps,c=t.children,u=t.className,l=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,h=t.noRelative,g=t.noIsolation,y=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,S=t.gapMode,C=lR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,B=_te([e,r]),q=zo(zo({},C),s);return E.createElement(E.Fragment,null,d&&E.createElement(A,{sideCar:uR,removeScrollBar:l,shards:p,noRelative:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:e,gapMode:S}),o?E.cloneElement(E.Children.only(c),zo(zo({},q),{ref:B})):E.createElement(x,zo({},q,{className:u,ref:B}),c))});Kb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kb.classNames={fullWidth:iy,zeroRight:ay};var Cte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=Cte();return r&&t.setAttribute("nonce",r),t}function Ete(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Ate(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var Pte=function(){var t=0,r=null;return{add:function(e){t==0&&(r=Tte())&&(Ete(r,e),Ate(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Mte=function(){var t=Pte();return function(r,e){E.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}},dR=function(){var t=Mte(),r=function(e){var n=e.styles,s=e.dynamic;return t(n,s),null};return r},Rte={left:0,top:0,right:0,gap:0},M1=function(t){return parseInt(t||"",10)||0},Dte=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],s=r[t==="padding"?"paddingRight":"marginRight"];return[M1(e),M1(n),M1(s)]},Ite=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Rte;var r=Dte(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-e+r[2]-r[0])}},Ote=dR(),Tf="data-scroll-locked",Fte=function(t,r,e,n){var s=t.left,i=t.top,o=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(bte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Tf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ay,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(iy,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ay," .").concat(ay,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(iy," .").concat(iy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Tf,`] {
    `).concat(xte,": ").concat(c,`px;
  }
`)},fN=function(){var t=parseInt(document.body.getAttribute(Tf)||"0",10);return isFinite(t)?t:0},Lte=function(){E.useEffect(function(){return document.body.setAttribute(Tf,(fN()+1).toString()),function(){var t=fN()-1;t<=0?document.body.removeAttribute(Tf):document.body.setAttribute(Tf,t.toString())}},[])},Bte=function(t){var r=t.noRelative,e=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Lte();var i=E.useMemo(function(){return Ite(s)},[s]);return E.createElement(Ote,{styles:Fte(i,!r,s,e?"":"!important")})},j2=!1;if(typeof window<"u")try{var Dg=Object.defineProperty({},"passive",{get:function(){return j2=!0,!0}});window.addEventListener("test",Dg,Dg),window.removeEventListener("test",Dg,Dg)}catch{j2=!1}var sf=j2?{passive:!1}:!1,$te=function(t){return t.tagName==="TEXTAREA"},fR=function(t,r){if(!(t instanceof Element))return!1;var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!$te(t)&&e[r]==="visible")},zte=function(t){return fR(t,"overflowY")},Vte=function(t){return fR(t,"overflowX")},hN=function(t,r){var e=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=hR(t,n);if(s){var i=pR(t,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},Ute=function(t){var r=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[r,e,n]},Wte=function(t){var r=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[r,e,n]},hR=function(t,r){return t==="v"?zte(r):Vte(r)},pR=function(t,r){return t==="v"?Ute(r):Wte(r)},qte=function(t,r){return t==="h"&&r==="rtl"?-1:1},Hte=function(t,r,e,n,s){var i=qte(t,window.getComputedStyle(r).direction),o=i*n,c=e.target,u=r.contains(c),l=!1,d=o>0,p=0,f=0;do{if(!c)break;var h=pR(t,c),g=h[0],y=h[1],m=h[2],v=y-m-i*g;(g||v)&&hR(t,c)&&(p+=v,f+=g);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(l=!0),l},Ig=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pN=function(t){return[t.deltaX,t.deltaY]},mN=function(t){return t&&"current"in t?t.current:t},Kte=function(t,r){return t[0]===r[0]&&t[1]===r[1]},Gte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Xte=0,af=[];function Qte(t){var r=E.useRef([]),e=E.useRef([0,0]),n=E.useRef(),s=E.useState(Xte++)[0],i=E.useState(dR)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=yte([t.lockRef.current],(t.shards||[]).map(mN),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=E.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=Ig(y),x=e.current,S="deltaX"in y?y.deltaX:x[0]-v[0],C="deltaY"in y?y.deltaY:x[1]-v[1],A,B=y.target,q=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in y&&q==="h"&&B.type==="range")return!1;var D=window.getSelection(),I=D&&D.anchorNode,U=I?I===B||I.contains(B):!1;if(U)return!1;var K=hN(q,B);if(!K)return!0;if(K?A=q:(A=q==="v"?"h":"v",K=hN(q,B)),!K)return!1;if(!n.current&&"changedTouches"in y&&(S||C)&&(n.current=A),!A)return!0;var W=n.current||A;return Hte(W,m,y,W==="h"?S:C)},[]),u=E.useCallback(function(y){var m=y;if(!(!af.length||af[af.length-1]!==i)){var v="deltaY"in m?pN(m):Ig(m),x=r.current.filter(function(A){return A.name===m.type&&(A.target===m.target||m.target===A.shadowParent)&&Kte(A.delta,v)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(mN).filter(Boolean).filter(function(A){return A.contains(m.target)}),C=S.length>0?c(m,S[0]):!o.current.noIsolation;C&&m.cancelable&&m.preventDefault()}}},[]),l=E.useCallback(function(y,m,v,x){var S={name:y,delta:m,target:v,should:x,shadowParent:Yte(v)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(C){return C!==S})},1)},[]),d=E.useCallback(function(y){e.current=Ig(y),n.current=void 0},[]),p=E.useCallback(function(y){l(y.type,pN(y),y.target,c(y,t.lockRef.current))},[]),f=E.useCallback(function(y){l(y.type,Ig(y),y.target,c(y,t.lockRef.current))},[]);E.useEffect(function(){return af.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",u,sf),document.addEventListener("touchmove",u,sf),document.addEventListener("touchstart",d,sf),function(){af=af.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,sf),document.removeEventListener("touchmove",u,sf),document.removeEventListener("touchstart",d,sf)}},[]);var h=t.removeScrollBar,g=t.inert;return E.createElement(E.Fragment,null,g?E.createElement(i,{styles:Gte(s)}):null,h?E.createElement(Bte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Yte(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const Zte=Nte(uR,Qte);var i0=E.forwardRef(function(t,r){return E.createElement(Kb,zo({},t,{ref:r,sideCar:Zte}))});i0.classNames=Kb.classNames;var Jte=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},of=new WeakMap,Og=new WeakMap,Fg={},R1=0,mR=function(t){return t&&(t.host||mR(t.parentNode))},ere=function(t,r){return r.map(function(e){if(t.contains(e))return e;var n=mR(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},tre=function(t,r,e,n){var s=ere(r,Array.isArray(t)?t:[t]);Fg[e]||(Fg[e]=new WeakMap);var i=Fg[e],o=[],c=new Set,u=new Set(s),l=function(p){!p||c.has(p)||(c.add(p),l(p.parentNode))};s.forEach(l);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(f){if(c.has(f))d(f);else try{var h=f.getAttribute(n),g=h!==null&&h!=="false",y=(of.get(f)||0)+1,m=(i.get(f)||0)+1;of.set(f,y),i.set(f,m),o.push(f),y===1&&g&&Og.set(f,!0),m===1&&f.setAttribute(e,"true"),g||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(r),c.clear(),R1++,function(){o.forEach(function(p){var f=of.get(p)-1,h=i.get(p)-1;of.set(p,f),i.set(p,h),f||(Og.has(p)||p.removeAttribute(n),Og.delete(p)),h||p.removeAttribute(e)}),R1--,R1||(of=new WeakMap,of=new WeakMap,Og=new WeakMap,Fg={})}},Gb=function(t,r,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Jte(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),tre(n,s,e,"aria-hidden")):function(){return null}};function rre(t){const r=nre(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(are);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function nre(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=ore(s),c=ire(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var sre=Symbol("radix.slottable");function are(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sre}function ire(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function ore(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var Xb="Dialog",[gR,yR]=da(Xb),[lre,So]=gR(Xb),bR=t=>{const{__scopeDialog:r,children:e,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,c=E.useRef(null),u=E.useRef(null),[l,d]=Gi({prop:n,defaultProp:s??!1,onChange:i,caller:Xb});return a.jsx(lre,{scope:r,triggerRef:c,contentRef:u,contentId:_i(),titleId:_i(),descriptionId:_i(),open:l,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(p=>!p),[d]),modal:o,children:e})};bR.displayName=Xb;var xR="DialogTrigger",vR=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=So(xR,e),i=Pr(r,s.triggerRef);return a.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B4(s.open),...n,ref:i,onClick:ut(t.onClick,s.onOpenToggle)})});vR.displayName=xR;var F4="DialogPortal",[cre,wR]=gR(F4,{forceMount:void 0}),_R=t=>{const{__scopeDialog:r,forceMount:e,children:n,container:s}=t,i=So(F4,r);return a.jsx(cre,{scope:r,forceMount:e,children:E.Children.map(n,o=>a.jsx(js,{present:e||i.open,children:a.jsx(xh,{asChild:!0,container:s,children:o})}))})};_R.displayName=F4;var Xy="DialogOverlay",kR=E.forwardRef((t,r)=>{const e=wR(Xy,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,i=So(Xy,t.__scopeDialog);return i.modal?a.jsx(js,{present:n||i.open,children:a.jsx(dre,{...s,ref:r})}):null});kR.displayName=Xy;var ure=rre("DialogOverlay.RemoveScroll"),dre=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=So(Xy,e);return a.jsx(i0,{as:ure,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ht.div,{"data-state":B4(s.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),fd="DialogContent",jR=E.forwardRef((t,r)=>{const e=wR(fd,t.__scopeDialog),{forceMount:n=e.forceMount,...s}=t,i=So(fd,t.__scopeDialog);return a.jsx(js,{present:n||i.open,children:i.modal?a.jsx(fre,{...s,ref:r}):a.jsx(hre,{...s,ref:r})})});jR.displayName=fd;var fre=E.forwardRef((t,r)=>{const e=So(fd,t.__scopeDialog),n=E.useRef(null),s=Pr(r,e.contentRef,n);return E.useEffect(()=>{const i=n.current;if(i)return Gb(i)},[]),a.jsx(SR,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,i=>{i.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:ut(t.onFocusOutside,i=>i.preventDefault())})}),hre=E.forwardRef((t,r)=>{const e=So(fd,t.__scopeDialog),n=E.useRef(!1),s=E.useRef(!1);return a.jsx(SR,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||e.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;e.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),SR=E.forwardRef((t,r)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,c=So(fd,e),u=E.useRef(null),l=Pr(r,u);return Hb(),a.jsxs(a.Fragment,{children:[a.jsx(a0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(_d,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":B4(c.open),...o,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(mre,{titleId:c.titleId}),a.jsx(yre,{contentRef:u,descriptionId:c.descriptionId})]})]})}),L4="DialogTitle",NR=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=So(L4,e);return a.jsx(Ht.h2,{id:s.titleId,...n,ref:r})});NR.displayName=L4;var CR="DialogDescription",TR=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=So(CR,e);return a.jsx(Ht.p,{id:s.descriptionId,...n,ref:r})});TR.displayName=CR;var ER="DialogClose",AR=E.forwardRef((t,r)=>{const{__scopeDialog:e,...n}=t,s=So(ER,e);return a.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ut(t.onClick,()=>s.onOpenChange(!1))})});AR.displayName=ER;function B4(t){return t?"open":"closed"}var PR="DialogTitleWarning",[pre,MR]=uW(PR,{contentName:fd,titleName:L4,docsSlug:"dialog"}),mre=({titleId:t})=>{const r=MR(PR),e=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(e))},[e,t]),null},gre="DialogDescriptionWarning",yre=({contentRef:t,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MR(gre).contentName}}.`;return E.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},$4=bR,z4=vR,V4=_R,o0=kR,l0=jR,Sh=NR,Nh=TR,c0=AR,bre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xre=bre.reduce((t,r)=>{const e=e0(`Primitive.${r}`),n=E.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),vre=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wre="VisuallyHidden",RR=E.forwardRef((t,r)=>a.jsx(xre.span,{...t,ref:r,style:{...vre,...t.style}}));RR.displayName=wre;var _re=RR;const Ws=$4,nh=z4,kre=V4,DR=E.forwardRef(({className:t,...r},e)=>a.jsx(o0,{ref:e,className:Ae("fixed inset-0 z-[9998] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));DR.displayName=o0.displayName;const Rs=E.forwardRef(({className:t,children:r,...e},n)=>a.jsxs(kre,{children:[a.jsx(DR,{}),a.jsxs(l0,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","bg-background opacity-100",t),style:{pointerEvents:"auto"},...e,children:[a.jsxs(_re,{children:[a.jsx(Sh,{children:"Dialog Content"}),a.jsx(Nh,{children:"Accessibility description for the dialog content."})]}),r,a.jsxs(c0,{className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Us,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rs.displayName=l0.displayName;const qs=({className:t,...r})=>a.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-right",t),...r});qs.displayName="DialogHeader";const Qy=({className:t,...r})=>a.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Qy.displayName="DialogFooter";const la=E.forwardRef(({className:t,...r},e)=>a.jsx(Sh,{ref:e,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...r}));la.displayName=Sh.displayName;const Ll=E.forwardRef(({className:t,...r},e)=>a.jsx(Nh,{ref:e,className:Ae("text-sm text-muted-foreground",t),...r}));Ll.displayName=Nh.displayName;const Vr=[{name:"",code:"+967",flag:"https://flagcdn.com/w20/ye.png"},{name:"",code:"+966",flag:"https://flagcdn.com/w20/sa.png"},{name:"",code:"+971",flag:"https://flagcdn.com/w20/ae.png"},{name:"",code:"+968",flag:"https://flagcdn.com/w20/om.png"},{name:"",code:"+965",flag:"https://flagcdn.com/w20/kw.png"},{name:"",code:"+974",flag:"https://flagcdn.com/w20/qa.png"},{name:"",code:"+973",flag:"https://flagcdn.com/w20/bh.png"},{name:"",code:"+20",flag:"https://flagcdn.com/w20/eg.png"},{name:"",code:"+962",flag:"https://flagcdn.com/w20/jo.png"},{name:"",code:"+964",flag:"https://flagcdn.com/w20/iq.png"},{name:"",code:"+963",flag:"https://flagcdn.com/w20/sy.png"},{name:"",code:"+961",flag:"https://flagcdn.com/w20/lb.png"},{name:"",code:"+970",flag:"https://flagcdn.com/w20/ps.png"},{name:"",code:"+212",flag:"https://flagcdn.com/w20/ma.png"},{name:"",code:"+213",flag:"https://flagcdn.com/w20/dz.png"},{name:"",code:"+216",flag:"https://flagcdn.com/w20/tn.png"},{name:"",code:"+218",flag:"https://flagcdn.com/w20/ly.png"},{name:"",code:"+249",flag:"https://flagcdn.com/w20/sd.png"},{name:"",code:"+222",flag:"https://flagcdn.com/w20/mr.png"},{name:"",code:"+90",flag:"https://flagcdn.com/w20/tr.png"},{name:" ",code:"+1",flag:"https://flagcdn.com/w20/us.png"},{name:" ",code:"+44",flag:"https://flagcdn.com/w20/gb.png"}],jre=jd({fullName:Kr().min(1,"  "),email:Kr().email("   "),phone:Kr().min(9,"   "),password:Kr().min(6,"       6 "),confirmPassword:Kr().min(1,"   "),birthDate:Kr().min(1,"  "),birthPlace:Kr().min(1,"  "),gender:Kr().min(1," "),terms:Fb().refine(t=>t===!0,"   ")}).refine(t=>t.password===t.confirmPassword,{message:"   ",path:["confirmPassword"]}),Sre=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center mb-4 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[a.jsx("div",{className:"relative mb-3 group cursor-pointer",children:a.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[a.jsx("img",{src:YM,alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),a.jsx("img",{src:Xee,alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),a.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),a.jsxs("div",{className:"text-center relative",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[a.jsx("img",{src:QM,alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),a.jsx("img",{src:Gee,alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-r from-transparent to-blue-200 dark:to-blue-900"}),a.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-[9px] font-black tracking-[0.5em] uppercase",children:"Real Assets Management"}),a.jsx("span",{className:"h-[1px] w-6 bg-gradient-to-l from-transparent to-blue-200 dark:to-blue-900"})]})]})]});function Nre(){const[,t]=Gs(),{toast:r}=wn(),[e,n]=E.useState(Vr[0]),[s,i]=E.useState(""),[o,c]=E.useState(!1),[u,l]=E.useState(!1),[d,p]=E.useState(!1),[f,h]=E.useState(!1),[g,y]=E.useState(2e3),[m,v]=E.useState(1),[x,S]=E.useState(1);E.useEffect(()=>{(()=>{try{const D=Intl.DateTimeFormat().resolvedOptions().timeZone;D.includes("Aden")||D.includes("Sanaa")?n(Vr.find(I=>I.code==="+967")||Vr[0]):D.includes("Riyadh")?n(Vr.find(I=>I.code==="+966")||Vr[0]):D.includes("Dubai")||D.includes("Abu_Dhabi")?n(Vr.find(I=>I.code==="+971")||Vr[0]):D.includes("Cairo")?n(Vr.find(I=>I.code==="+20")||Vr[0]):D.includes("Muscat")?n(Vr.find(I=>I.code==="+968")||Vr[0]):D.includes("Kuwait")?n(Vr.find(I=>I.code==="+965")||Vr[0]):D.includes("Qatar")?n(Vr.find(I=>I.code==="+974")||Vr[0]):D.includes("Bahrain")?n(Vr.find(I=>I.code==="+973")||Vr[0]):D.includes("Amman")?n(Vr.find(I=>I.code==="+962")||Vr[0]):D.includes("Baghdad")?n(Vr.find(I=>I.code==="+964")||Vr[0]):D.includes("Damascus")?n(Vr.find(I=>I.code==="+963")||Vr[0]):D.includes("Beirut")?n(Vr.find(I=>I.code==="+961")||Vr[0]):D.includes("Gaza")||D.includes("Hebron")?n(Vr.find(I=>I.code==="+970")||Vr[0]):D.includes("Casablanca")?n(Vr.find(I=>I.code==="+212")||Vr[0]):D.includes("Algiers")?n(Vr.find(I=>I.code==="+213")||Vr[0]):D.includes("Tunis")?n(Vr.find(I=>I.code==="+216")||Vr[0]):D.includes("Tripoli")?n(Vr.find(I=>I.code==="+218")||Vr[0]):D.includes("Khartoum")?n(Vr.find(I=>I.code==="+249")||Vr[0]):D.includes("Istanbul")&&n(Vr.find(I=>I.code==="+90")||Vr[0])}catch(D){console.error("Failed to detect country:",D)}})()},[]);const C=Vr.filter(q=>q.name.includes(s)||q.code.includes(s)),A=Wl({resolver:ql(jre),defaultValues:{fullName:"",email:"",phone:"",password:"",confirmPassword:"",birthDate:"",birthPlace:"",gender:"",terms:!1}}),B=It({mutationFn:async q=>{const D=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!D.ok){const I=await D.json();throw new Error(I.message||"  ")}return D.json()},onSuccess:q=>{r({title:"   ",description:"      "});const D=q?.data?.user?.id,I=q?.data?.user?.email||A.getValues("email");t(`/verify-email?userId=${D}&email=${encodeURIComponent(I)}`)},onError:q=>{r({title:"  ",description:q.message,variant:"destructive"})}});return a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsx("div",{className:"w-full max-w-[420px] h-full z-10 flex flex-col p-4 pt-safe justify-center relative",children:a.jsxs("div",{className:"flex flex-col gap-2 px-1 pt-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[a.jsxs("div",{className:"text-right flex flex-col items-end",children:[a.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),a.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"JOIN AXION OPS"})]}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),a.jsx(Sre,{}),a.jsx(Kl,{...A,children:a.jsxs("form",{onSubmit:A.handleSubmit(q=>B.mutate(q)),className:"space-y-2 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[a.jsx(Jr,{control:A.control,name:"fullName",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsx("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Full Name / "}),a.jsx(sn,{children:a.jsx(xt,{...q,placeholder:" ",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-fullname"})})]})})})}),a.jsx(Jr,{control:A.control,name:"email",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),a.jsx(sn,{children:a.jsx(xt,{...q,type:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-email"})})]}),a.jsx(j_,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),a.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[a.jsxs(Ws,{open:o,onOpenChange:c,children:[a.jsx(nh,{asChild:!0,children:a.jsxs("button",{type:"button",className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-2 justify-between hover:bg-muted/50 transition-colors",children:[a.jsx(rs,{className:"w-3 h-3 text-blue-600/30"}),a.jsx("span",{className:"text-xs font-black text-foreground",dir:"ltr",children:e.code}),a.jsx("img",{src:e.flag,alt:e.name,className:"w-4 h-auto rounded-sm"})]})}),a.jsx(Rs,{className:"max-w-[400px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(xt,{placeholder:"",value:s,onChange:q=>i(q.target.value),className:"w-full h-12 bg-muted/50 dark:bg-slate-800/50 border-none rounded-xl text-right pr-10 pl-4 text-sm font-bold focus-visible:ring-0"}),a.jsx(bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground/40"})]}),a.jsx("div",{className:"max-h-[40vh] overflow-y-auto custom-scrollbar",children:C.map(q=>a.jsxs("button",{onClick:()=>{n(q),c(!1)},className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 dark:hover:bg-slate-800/50 rounded-xl transition-colors mb-1",children:[a.jsx("img",{src:q.flag,alt:q.name,className:"w-6 h-auto rounded-sm shadow-sm"}),a.jsx("span",{className:"text-sm font-bold text-foreground flex-1 text-right px-4",dir:"ltr",children:q.code}),a.jsx("span",{className:"text-sm font-bold text-muted-foreground min-w-[100px] text-left",children:q.name})]},q.name+q.code))})]})})]}),a.jsx(Jr,{control:A.control,name:"phone",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Smartphone / "}),a.jsx(sn,{children:a.jsx(xt,{...q,placeholder:"7xxxxxxxx",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-phone"})})]}),a.jsx(N_,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Jr,{control:A.control,name:"password",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),a.jsx(sn,{children:a.jsx(xt,{...q,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-password",hidePasswordToggle:!0})})]}),a.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-1 transition-colors",children:d?a.jsx(Hc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):a.jsx(id,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})}),a.jsx(Jr,{control:A.control,name:"confirmPassword",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),a.jsx(sn,{children:a.jsx(xt,{...q,type:f?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none","data-testid":"input-confirm-password",hidePasswordToggle:!0})})]}),a.jsx("button",{type:"button",onClick:()=>h(!f),className:"flex items-center justify-center ml-1 transition-colors",children:f?a.jsx(Hc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400",strokeWidth:2}):a.jsx(id,{className:"w-4 h-4 text-slate-400 dark:text-slate-600",strokeWidth:2})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Jr,{control:A.control,name:"birthPlace",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Location /  "}),a.jsx(sn,{children:a.jsx(xt,{...q,placeholder:"",className:"border-none p-0 h-5 text-sm font-bold text-foreground text-right focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none"})})]}),a.jsx(Wo,{className:"w-4 h-4 text-blue-600/30 dark:text-blue-400/30 ml-2"})]})})}),a.jsx(Jr,{control:A.control,name:"birthDate",render:({field:q})=>a.jsx(Yr,{className:"space-y-0",children:a.jsxs(Ws,{open:u,onOpenChange:l,children:[a.jsx(nh,{asChild:!0,children:a.jsxs("button",{type:"button",className:"w-full bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-12 flex items-center px-4 justify-between hover:bg-muted/50 transition-colors","data-testid":"button-birth-date",children:[a.jsx(ua,{className:"w-4 h-4 text-blue-600/30"}),a.jsx("span",{className:`text-xs font-bold ${q.value?"text-foreground":"text-muted-foreground/30"}`,children:q.value||" "})]})}),a.jsx(Rs,{className:"max-w-[350px] w-[95%] p-0 rounded-3xl border-border dark:border-slate-800 bg-card dark:bg-slate-900 shadow-2xl overflow-hidden",dir:"rtl",children:a.jsxs("div",{className:"p-4",children:[a.jsx(qs,{className:"pb-4 border-b border-border dark:border-slate-800",children:a.jsx(la,{className:"text-center text-lg font-black text-foreground",children:" "})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 py-6",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),a.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:80},(D,I)=>2025-I).map(D=>a.jsx("button",{type:"button",onClick:()=>y(D),className:`w-full py-2 text-center font-bold transition-colors ${g===D?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),a.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:["","","","","","","","","","","",""].map((D,I)=>a.jsx("button",{type:"button",onClick:()=>v(I+1),className:`w-full py-2 text-center font-bold text-sm transition-colors ${m===I+1?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-2",children:""}),a.jsx("div",{className:"h-40 overflow-y-auto custom-scrollbar w-full",children:Array.from({length:31},(D,I)=>I+1).map(D=>a.jsx("button",{type:"button",onClick:()=>S(D),className:`w-full py-2 text-center font-bold transition-colors ${x===D?"bg-primary text-primary-foreground rounded-lg":"text-foreground hover:bg-muted dark:hover:bg-slate-800"}`,children:D},D))})]})]}),a.jsx(Ie,{onClick:()=>{const D=`${g}-${String(m).padStart(2,"0")}-${String(x).padStart(2,"0")}`;A.setValue("birthDate",D),l(!1)},className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl",children:" "})]})})]})})})]}),a.jsx(Jr,{control:A.control,name:"terms",render:({field:q})=>a.jsxs(Yr,{className:"flex flex-row items-center justify-center space-x-2 space-y-0 py-1",children:[a.jsx(sn,{children:a.jsx(jm,{checked:q.value,onCheckedChange:q.onChange,className:"rounded-sm border-blue-600/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"})}),a.jsx("div",{className:"leading-none text-right px-2",children:a.jsxs(qn,{className:"text-[10px] font-bold text-muted-foreground",children:["  ",a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "}),"  ",a.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:" "})]})})]})}),a.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-xl font-black text-base shadow-lg shadow-blue-600/20 active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",disabled:B.isPending,"data-testid":"button-submit",children:B.isPending?a.jsx(Zr,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"  "}),a.jsx(Go,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"})]})})]})}),a.jsx("div",{className:"mt-2 text-center pb-2 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:a.jsxs("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:["  ",a.jsx("button",{onClick:()=>t("/login"),className:"text-blue-600 dark:text-blue-400 mr-1 hover:underline underline-offset-4",children:" "})]})})]})})]})}const Cre=jd({newPassword:Kr().min(8,"     8   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"         "),confirmPassword:Kr().min(1,"   ")}).refine(t=>t.newPassword===t.confirmPassword,{message:"   ",path:["confirmPassword"]});function Tre(){const[,t]=Gs(),{toast:r}=wn(),[e,n]=E.useState(!1),[s,i]=E.useState(null),[o,c]=E.useState(null),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=Wl({resolver:ql(Cre),defaultValues:{newPassword:"",confirmPassword:""}});E.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("token");m?(i(m),c(!0)):c(!1)},[]);const h=It({mutationFn:async y=>{if(!s)throw new Error("   ");const m=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,newPassword:y.newPassword})});if(!m.ok){const v=await m.json();throw new Error(v.message||"     ")}return m.json()},onSuccess:y=>{y.success?(n(!0),r({title:"    ",description:"      "})):r({title:"     ",description:y.message,variant:"destructive"})},onError:y=>{r({title:"     ",description:y.message||"   ",variant:"destructive"})}}),g=y=>{h.mutate(y)};return o===!1?a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center",children:a.jsx(Gc,{className:"w-12 h-12 text-red-500"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-xl font-black text-red-600",children:"  "}),a.jsx("p",{className:"text-sm text-red-600/60 font-bold",children:"        .    ."})]}),a.jsxs("div",{className:"w-full space-y-2",children:[a.jsx(Ie,{onClick:()=>t("/forgot-password"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "}),a.jsx(Ie,{variant:"ghost",onClick:()=>t("/login"),className:"w-full h-12 text-blue-600 font-bold",children:"  "})]})]})]}):e?a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:a.jsx(zl,{className:"w-12 h-12 text-blue-600"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:" !"}),a.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     .    ."})]}),a.jsx(Ie,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",children:"  "})]})]}):a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[a.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[a.jsxs("div",{className:"text-right flex flex-col items-end",children:[a.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),a.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"SECURE ACCOUNT"})]}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),children:a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[a.jsx("div",{className:"relative mb-4 group cursor-pointer",children:a.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[a.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),a.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),a.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),a.jsx("div",{className:"text-center relative",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[a.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),a.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"   "}),a.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"     "})]}),a.jsx(Kl,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[a.jsx(Jr,{control:f.control,name:"newPassword",render:({field:y})=>a.jsxs(Yr,{children:[a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Security /  "}),a.jsx(sn,{children:a.jsx(xt,{...y,type:u?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),a.jsx("button",{type:"button",onClick:()=>l(!u),className:"flex items-center justify-center ml-2 transition-colors",children:u?a.jsx(Hc,{className:"w-5 h-5 text-blue-600"}):a.jsx(id,{className:"w-5 h-5 text-blue-600/30"})})]}),a.jsx(Mn,{})]})}),a.jsx(Jr,{control:f.control,name:"confirmPassword",render:({field:y})=>a.jsxs(Yr,{children:[a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Verify / "}),a.jsx(sn,{children:a.jsx(xt,{...y,type:d?"text":"password",placeholder:"",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none",hidePasswordToggle:!0})})]}),a.jsx("button",{type:"button",onClick:()=>p(!d),className:"flex items-center justify-center ml-2 transition-colors",children:d?a.jsx(Hc,{className:"w-5 h-5 text-blue-600"}):a.jsx(id,{className:"w-5 h-5 text-blue-600/30"})})]}),a.jsx(Mn,{})]})}),a.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:h.isPending,children:h.isPending?a.jsx(Zr,{className:"animate-spin h-5 w-5"}):"   "})]})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),a.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure System"}),a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),a.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const Ere=jd({email:Kr().email("   ")});function Are(){const[,t]=Gs(),{toast:r}=wn(),[e,n]=E.useState(!1),s=Wl({resolver:ql(Ere),defaultValues:{email:""}}),i=It({mutationFn:async o=>{const c=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){const u=await c.json();throw new Error(u.message||"   ")}return c.json()},onSuccess:()=>{n(!0),r({title:"  ",description:"        "})},onError:o=>{r({title:"  ",description:o.message,variant:"destructive"})}});return e?a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-center items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full flex items-center justify-center",children:a.jsx(zl,{className:"w-12 h-12 text-blue-600"})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-xl font-black text-blue-600 dark:text-blue-400",children:"   "}),a.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        .     ."})]}),a.jsx(Ie,{onClick:()=>t("/login"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none","data-testid":"button-back-to-login",children:"  "})]})]}):a.jsxs("div",{className:"h-screen w-full bg-background dark:bg-slate-950 flex flex-col items-center overflow-hidden font-sans select-none relative transition-colors duration-500",dir:"rtl",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.05] pointer-events-none z-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l30 30-30 30-30-30z' fill='%232563eb' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"45px 45px"}}),a.jsxs("div",{className:"w-full max-w-[400px] h-full z-10 flex flex-col p-4 pt-safe justify-between",children:[a.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1 animate-in slide-in-from-top duration-500 fill-mode-both",dir:"rtl",children:[a.jsxs("div",{className:"text-right flex flex-col items-end",children:[a.jsx("h2",{className:"text-[10px] font-black text-blue-600/50 dark:text-blue-400/50 uppercase tracking-widest leading-none",children:" "}),a.jsx("span",{className:"text-[8px] text-blue-600/30 dark:text-blue-400/30 font-bold uppercase",children:"RECOVER ACCESS"})]}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-full bg-blue-600 dark:bg-blue-500 flex items-center justify-center shadow-md active:scale-95 group border-2 border-white dark:border-slate-800 hover:rotate-12 transition-transform",onClick:()=>t("/login"),"data-testid":"button-back",children:a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 animate-in zoom-in duration-700 delay-150 fill-mode-both",children:[a.jsx("div",{className:"relative mb-4 group cursor-pointer",children:a.jsxs("div",{className:"w-20 h-20 flex items-center justify-center transition-all duration-500 hover:scale-105 active:scale-95 relative",children:[a.jsx("img",{src:"/assets/app_icon_light.png",alt:"AXION Logo",className:"w-full h-full object-contain dark:hidden"}),a.jsx("img",{src:"/assets/app_icon_dark.png",alt:"AXION Logo",className:"w-full h-full object-contain hidden dark:block"}),a.jsx("div",{className:"absolute top-4 right-4 w-3.5 h-3.5 bg-blue-500 rounded-full border-[2.5px] border-white dark:border-[#1a1c1e] shadow-md animate-pulse"})]})}),a.jsx("div",{className:"text-center relative",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1.5",children:[a.jsx("img",{src:"/assets/logo_header_light.png",alt:"AXION | ",className:"h-8 object-contain dark:hidden"}),a.jsx("img",{src:"/assets/logo_header_dark.png",alt:"AXION | ",className:"h-8 object-contain hidden dark:block"})]})})]}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"text-lg font-black text-blue-600 dark:text-blue-400 mb-1",children:"  "}),a.jsx("p",{className:"text-sm text-blue-600/60 dark:text-blue-400/60 font-bold",children:"        "})]}),a.jsx(Kl,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(o=>i.mutate(o)),className:"space-y-4 animate-in fade-in slide-in-from-bottom duration-700 delay-500 fill-mode-both",children:[a.jsx(Jr,{control:s.control,name:"email",render:({field:o})=>a.jsxs(Yr,{children:[a.jsxs("div",{className:"bg-card dark:bg-slate-900 rounded-xl border border-border dark:border-slate-800 shadow-sm h-14 flex items-center px-4 group transition-all focus-within:ring-2 focus-within:ring-blue-600/10",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[a.jsx("span",{className:"text-[9px] text-blue-600/50 dark:text-blue-400/50 font-black text-right uppercase tracking-tighter",children:"Identity / "}),a.jsx(sn,{children:a.jsx(xt,{...o,type:"email",autoComplete:"email",placeholder:"username@axion.system",className:"border-none p-0 h-5 text-base font-black text-foreground focus-visible:ring-0 placeholder:text-muted-foreground/30 text-right bg-transparent shadow-none","data-testid":"input-email"})})]}),a.jsx(j_,{className:"w-5 h-5 text-blue-600/30 dark:text-blue-400/30 ml-2",strokeWidth:1.5})]}),a.jsx(Mn,{})]})}),a.jsx(Ie,{type:"submit",className:"w-full h-12 bg-blue-600 dark:bg-blue-400 hover:bg-blue-700 dark:hover:bg-blue-300 text-white dark:text-slate-950 text-base font-black rounded-xl shadow-lg transition-all active:scale-[0.98] border-none",disabled:i.isPending,"data-testid":"button-submit",children:i.isPending?a.jsx(Zr,{className:"animate-spin h-5 w-5"}):"  "}),a.jsx("div",{className:"text-center pt-2",children:a.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"text-xs font-bold text-blue-600/60 dark:text-blue-400/60","data-testid":"link-login",children:["   ",a.jsx("span",{className:"text-blue-600 underline",children:" "})]})})]})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 pb-4 animate-in fade-in duration-1000 delay-700 fill-mode-both",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full px-4",children:[a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"}),a.jsx("span",{className:"text-[8px] font-black text-blue-600/30 dark:text-blue-400/30 tracking-[0.2em] uppercase",children:"Secure Recovery"}),a.jsx("div",{className:"flex-1 h-[1px] bg-blue-100 dark:bg-blue-900/30 opacity-50"})]}),a.jsx("span",{className:"text-[8px] text-blue-600/20 dark:text-blue-400/20",children:" 2026 AXION OPERATIONS MANAGEMENT"})]})]})]})}const Pre=kd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),IR=E.forwardRef(({className:t,variant:r,...e},n)=>a.jsx("div",{ref:n,role:"alert",className:Ae(Pre({variant:r}),t),...e}));IR.displayName="Alert";const Mre=E.forwardRef(({className:t,...r},e)=>a.jsx("h5",{ref:e,className:Ae("mb-1 font-medium leading-none tracking-tight",t),...r}));Mre.displayName="AlertTitle";const OR=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,className:Ae("text-sm [&_p]:leading-relaxed",t),...r}));OR.displayName="AlertDescription";const Rre=jd({code:Kr().length(6,"     6 ").regex(/^\d+$/,"       ")}),gN=()=>a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-32 w-96 h-96 bg-gradient-to-br from-green-400/20 to-blue-600/20 rounded-full blur-3xl animate-blob"}),a.jsx("div",{className:"absolute -bottom-32 -left-40 w-96 h-96 bg-gradient-to-tr from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-blob animation-delay-2000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-blob animation-delay-4000"})]});function Dre(){const[,t]=Gs(),{toast:r}=wn(),[e,n]=E.useState("input"),[s,i]=E.useState({}),[o,c]=E.useState(0),[u,l]=E.useState(!1);E.useEffect(()=>{const m=new URLSearchParams(window.location.search),v=m.get("userId"),x=m.get("email"),S=m.get("token");v&&x&&i({id:v,email:x}),S&&v&&(console.log(" [EmailVerification]    :",{token:S,userId:v}),p.mutate({code:S,userId:v}))},[]),E.useEffect(()=>{let m;return o>0&&(m=setTimeout(()=>c(o-1),1e3)),()=>clearTimeout(m)},[o]);const d=Wl({resolver:ql(Rre),defaultValues:{code:""}}),p=It({mutationFn:async m=>{console.log(" [EmailVerification]    :",{code:m.code,userId:m.userId||s.id});const v=m.userId||s.id;if(!v)throw new Error("  ");const x=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,code:m.code})}),S=await x.json();if(!x.ok)throw new Error(S.message||"   ");return S},onSuccess:m=>{console.log(" [EmailVerification]   :",m),m.success?(n("verified"),r({title:" ! ",description:m.message}),setTimeout(()=>{t("/login")},3e3)):(n("error"),r({title:" ",description:m.message,variant:"destructive"}))},onError:m=>{console.error(" [EmailVerification]   :",m),n("error"),r({title:" ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),f=It({mutationFn:async()=>{if(console.log(" [EmailVerification]    "),!s.id||!s.email)throw new Error("  ");const m=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s.id,email:s.email})}),v=await m.json();if(!m.ok)throw new Error(v.message||"  ");return v},onSuccess:m=>{console.log(" [EmailVerification]    :",m),r({title:"  ",description:m.message}),c(60),d.reset()},onError:m=>{console.error(" [EmailVerification]    :",m),r({title:"  ",description:m instanceof Error?m.message:"   ",variant:"destructive"})}}),h=m=>{p.mutate(m)},g=()=>{o===0&&f.mutate()},y=async()=>{const m=d.getValues("code");if(m&&m.length===6)try{await navigator.clipboard.writeText(m),l(!0),r({title:" !",description:"     "}),setTimeout(()=>l(!1),2e3)}catch{r({title:" ",description:"    ",variant:"destructive"})}else r({title:"   ",description:"    ",variant:"destructive"})};return e==="verified"?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4 relative",children:[a.jsx(gN,{}),a.jsxs(Jt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[a.jsxs(ls,{className:"text-center space-y-1",children:[a.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:a.jsx(zl,{className:"w-10 h-10 text-white dark:text-blue-600"})}),a.jsx(ys,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"  ! "}),a.jsx(Lc,{className:"text-lg",children:"    "})]}),a.jsx(vr,{className:"space-y-1",children:a.jsxs("div",{className:"text-center space-y-1",children:[a.jsx("p",{className:"text-gray-600",children:"       ..."}),a.jsx(Ie,{onClick:()=>t("/login"),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700","data-testid":"button-continue-login",children:"   "})]})})]})]}):a.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4 relative py-8",children:[a.jsx(gN,{}),a.jsxs(Jt,{className:"w-full max-w-md shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[a.jsxs(ls,{className:"text-center space-y-1",children:[a.jsx("div",{className:"mx-auto bg-blue-600 dark:bg-white rounded-full p-4 w-20 h-20 flex items-center justify-center shadow-lg shadow-blue-600/20",children:a.jsx(j_,{className:"w-10 h-10 text-white dark:text-blue-600"})}),a.jsx(ys,{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"   "}),a.jsx(Lc,{className:"text-lg",children:"      "}),s.email&&a.jsxs("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[" ",s.email]})]}),a.jsxs(vr,{className:"space-y-1",children:[e==="error"&&a.jsx(IR,{className:"border-red-200 bg-red-50",children:a.jsx(OR,{className:"text-red-700",children:"    .        ."})}),a.jsx(Kl,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-1",children:[a.jsx(Jr,{control:d.control,name:"code",render:({field:m})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-gray-700 font-medium",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx(sn,{children:a.jsx(xt,{...m,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"000000",className:"text-center text-2xl font-mono tracking-widest h-14 border-2 focus:border-blue-500 pr-12",disabled:p.isPending,"data-testid":"input-verification-code",onChange:v=>{const x=v.target.value.replace(/\D/g,"");m.onChange(x)}})}),a.jsx(Ie,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 hover:bg-blue-100",title:"   ","data-testid":"button-copy-verification-code",children:u?a.jsx(Dl,{className:"h-4 w-4 text-green-600"}):a.jsx(t7,{className:"h-4 w-4 text-gray-500"})})]}),a.jsx(Mn,{})]})}),a.jsx(Ie,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-lg",disabled:p.isPending,"data-testid":"button-verify-email",children:p.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"w-5 h-5 mr-2 animate-spin"})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Il,{className:"w-5 h-5 mr-2"}),"  "]})})]})}),a.jsxs("div",{className:"text-center space-y-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:""})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ie,{variant:"outline",onClick:g,disabled:o>0||f.isPending,className:"w-full border-2 hover:bg-gray-50","data-testid":"button-resend-code",children:f.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):o>0?a.jsxs(a.Fragment,{children:[a.jsx(ns,{className:"w-4 h-4 mr-2"})," ",o," "]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"w-4 h-4 mr-2"}),"  "]})}),a.jsxs(Ie,{variant:"ghost",onClick:()=>t("/login"),className:"w-full text-gray-600 hover:text-gray-800","data-testid":"button-back-login",children:[a.jsx(Tq,{className:"w-4 h-4 mr-2"}),"   "]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"  :"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"       "}),a.jsx("li",{children:"    24  "}),a.jsx("li",{children:"    6 "})]})]})]})]})]})}const ol=Object.create(null);ol.open="0";ol.close="1";ol.ping="2";ol.pong="3";ol.message="4";ol.upgrade="5";ol.noop="6";const oy=Object.create(null);Object.keys(ol).forEach(t=>{oy[ol[t]]=t});const S2={type:"error",data:"parser error"},FR=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",LR=typeof ArrayBuffer=="function",BR=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,U4=({type:t,data:r},e,n)=>FR&&r instanceof Blob?e?n(r):yN(r,n):LR&&(r instanceof ArrayBuffer||BR(r))?e?n(r):yN(new Blob([r]),n):n(ol[t]+(r||"")),yN=(t,r)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(t)};function bN(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let D1;function Ire(t,r){if(FR&&t.data instanceof Blob)return t.data.arrayBuffer().then(bN).then(r);if(LR&&(t.data instanceof ArrayBuffer||BR(t.data)))return r(bN(t.data));U4(t,!1,e=>{D1||(D1=new TextEncoder),r(D1.encode(e))})}const xN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<xN.length;t++)Pp[xN.charCodeAt(t)]=t;const Ore=t=>{let r=t.length*.75,e=t.length,n,s=0,i,o,c,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const l=new ArrayBuffer(r),d=new Uint8Array(l);for(n=0;n<e;n+=4)i=Pp[t.charCodeAt(n)],o=Pp[t.charCodeAt(n+1)],c=Pp[t.charCodeAt(n+2)],u=Pp[t.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|c>>2,d[s++]=(c&3)<<6|u&63;return l},Fre=typeof ArrayBuffer=="function",W4=(t,r)=>{if(typeof t!="string")return{type:"message",data:$R(t,r)};const e=t.charAt(0);return e==="b"?{type:"message",data:Lre(t.substring(1),r)}:oy[e]?t.length>1?{type:oy[e],data:t.substring(1)}:{type:oy[e]}:S2},Lre=(t,r)=>{if(Fre){const e=Ore(t);return $R(e,r)}else return{base64:!0,data:t}},$R=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},zR="",Bre=(t,r)=>{const e=t.length,n=new Array(e);let s=0;t.forEach((i,o)=>{U4(i,!1,c=>{n[o]=c,++s===e&&r(n.join(zR))})})},$re=(t,r)=>{const e=t.split(zR),n=[];for(let s=0;s<e.length;s++){const i=W4(e[s],r);if(n.push(i),i.type==="error")break}return n};function zre(){return new TransformStream({transform(t,r){Ire(t,e=>{const n=e.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(e)})}})}let I1;function Lg(t){return t.reduce((r,e)=>r+e.length,0)}function Bg(t,r){if(t[0].length===r)return t.shift();const e=new Uint8Array(r);let n=0;for(let s=0;s<r;s++)e[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function Vre(t,r){I1||(I1=new TextDecoder);const e=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,c){for(e.push(o);;){if(n===0){if(Lg(e)<1)break;const u=Bg(e,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Lg(e)<2)break;const u=Bg(e,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Lg(e)<8)break;const u=Bg(e,8),l=new DataView(u.buffer,u.byteOffset,u.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(S2);break}s=d*Math.pow(2,32)+l.getUint32(4),n=3}else{if(Lg(e)<s)break;const u=Bg(e,s);c.enqueue(W4(i?u:I1.decode(u),r)),n=0}if(s===0||s>t){c.enqueue(S2);break}}}})}const VR=4;function xs(t){if(t)return Ure(t)}function Ure(t){for(var r in xs.prototype)t[r]=xs.prototype[r];return t}xs.prototype.on=xs.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};xs.prototype.once=function(t,r){function e(){this.off(t,e),r.apply(this,arguments)}return e.fn=r,this.on(t,e),this};xs.prototype.off=xs.prototype.removeListener=xs.prototype.removeAllListeners=xs.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<e.length;s++)if(n=e[s],n===r||n.fn===r){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+t],this};xs.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,s=e.length;n<s;++n)e[n].apply(this,r)}return this};xs.prototype.emitReserved=xs.prototype.emit;xs.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};xs.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qb=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),qi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Wre="arraybuffer";function UR(t,...r){return r.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}const qre=qi.setTimeout,Hre=qi.clearTimeout;function Yb(t,r){r.useNativeTimers?(t.setTimeoutFn=qre.bind(qi),t.clearTimeoutFn=Hre.bind(qi)):(t.setTimeoutFn=qi.setTimeout.bind(qi),t.clearTimeoutFn=qi.clearTimeout.bind(qi))}const Kre=1.33;function Gre(t){return typeof t=="string"?Xre(t):Math.ceil((t.byteLength||t.size)*Kre)}function Xre(t){let r=0,e=0;for(let n=0,s=t.length;n<s;n++)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function WR(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Qre(t){let r="";for(let e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r}function Yre(t){let r={},e=t.split("&");for(let n=0,s=e.length;n<s;n++){let i=e[n].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}class Zre extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}}class q4 extends xs{constructor(r){super(),this.writable=!1,Yb(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Zre(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const e=W4(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const e=Qre(r);return e.length?"?"+e:""}}class Jre extends q4{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};$re(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Bre(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=WR()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}}let qR=!1;try{qR=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ene=qR;function tne(){}class rne extends Jre{constructor(r){if(super(r),typeof location<"u"){const e=location.protocol==="https:";let n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){const n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}}class Jo extends xs{constructor(r,e,n){super(),this.createRequest=r,Yb(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const e=UR(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Jo.requestsCount++,Jo.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tne,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jo.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jo.requestsCount=0;Jo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vN);else if(typeof addEventListener=="function"){const t="onpagehide"in qi?"pagehide":"unload";addEventListener(t,vN,!1)}}function vN(){for(let t in Jo.requests)Jo.requests.hasOwnProperty(t)&&Jo.requests[t].abort()}const nne=(function(){const t=HR({xdomain:!1});return t&&t.responseType!==null})();class sne extends rne{constructor(r){super(r);const e=r&&r.forceBase64;this.supportsBinary=nne&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Jo(HR,this.uri(),r)}}function HR(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||ene))return new XMLHttpRequest}catch{}if(!r)try{return new qi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const KR=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ane extends q4{get name(){return"websocket"}doOpen(){const r=this.uri(),e=this.opts.protocols,n=KR?{}:UR(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;U4(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Qb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=WR()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}}const O1=qi.WebSocket||qi.MozWebSocket;class ine extends ane{createSocket(r,e,n){return KR?new O1(r,e,n):e?new O1(r,e):new O1(r)}doWrite(r,e){this.ws.send(e)}}class one extends q4{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const e=Vre(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),s=zre();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:c,value:u})=>{c||(this.onPacket(u),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){const n=r[e],s=e===r.length-1;this._writer.write(n).then(()=>{s&&Qb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const lne={websocket:ine,webtransport:one,polling:sne},cne=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,une=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function N2(t){if(t.length>8e3)throw"URI too long";const r=t,e=t.indexOf("["),n=t.indexOf("]");e!=-1&&n!=-1&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let s=cne.exec(t||""),i={},o=14;for(;o--;)i[une[o]]=s[o]||"";return e!=-1&&n!=-1&&(i.source=r,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=dne(i,i.path),i.queryKey=fne(i,i.query),i}function dne(t,r){const e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function fne(t,r){const e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(e[s]=i)}),e}const C2=typeof addEventListener=="function"&&typeof removeEventListener=="function",ly=[];C2&&addEventListener("offline",()=>{ly.forEach(t=>t())},!1);class $c extends xs{constructor(r,e){if(super(),this.binaryType=Wre,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(e=r,r=null),r){const n=N2(r);e.hostname=n.host,e.secure=n.protocol==="https"||n.protocol==="wss",e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=N2(e.host).host);Yb(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Yre(this.opts.query)),C2&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ly.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const e=Object.assign({},this.opts.query);e.EIO=VR,e.transport=r,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&$c.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(r);e.open(),this.setTransport(e)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",$c.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=r.data,this._onError(e);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+=Gre(s)),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Qb(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,e,n){return this._sendPacket("message",r,e,n),this}send(r,e,n){return this._sendPacket("message",r,e,n),this}_sendPacket(r,e,n,s){if(typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:r,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),r()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if($c.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),C2&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ly.indexOf(this._offlineEventListener);n!==-1&&ly.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,e),this.writeBuffer=[],this._prevBufferLen=0}}}$c.protocol=VR;class hne extends $c{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;$c.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;$c.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=e.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,d(),e.close(),e=null)}const o=p=>{const f=new Error("probe error: "+p);f.transport=e.name,i(),this.emitReserved("upgradeError",f)};function c(){o("transport closed")}function u(){o("socket closed")}function l(p){e&&p.name!==e.name&&i()}const d=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",c),this.off("close",u),this.off("upgrading",l)};e.once("open",s),e.once("error",o),e.once("close",c),this.once("close",u),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}}let pne=class extends hne{constructor(r,e={}){const n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>lne[s]).filter(s=>!!s)),super(r,n)}};function mne(t,r="",e){let n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),n=N2(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+r,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}const gne=typeof ArrayBuffer=="function",yne=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,GR=Object.prototype.toString,bne=typeof Blob=="function"||typeof Blob<"u"&&GR.call(Blob)==="[object BlobConstructor]",xne=typeof File=="function"||typeof File<"u"&&GR.call(File)==="[object FileConstructor]";function H4(t){return gne&&(t instanceof ArrayBuffer||yne(t))||bne&&t instanceof Blob||xne&&t instanceof File}function cy(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(cy(t[e]))return!0;return!1}if(H4(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return cy(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&cy(t[e]))return!0;return!1}function vne(t){const r=[],e=t.data,n=t;return n.data=T2(e,r),n.attachments=r.length,{packet:n,buffers:r}}function T2(t,r){if(!t)return t;if(H4(t)){const e={_placeholder:!0,num:r.length};return r.push(t),e}else if(Array.isArray(t)){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=T2(t[n],r);return e}else if(typeof t=="object"&&!(t instanceof Date)){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=T2(t[n],r));return e}return t}function wne(t,r){return t.data=E2(t.data,r),delete t.attachments,t}function E2(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=E2(t[e],r);else if(typeof t=="object")for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=E2(t[e],r));return t}const _ne=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Xr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Xr||(Xr={}));class kne{constructor(r){this.replacer=r}encode(r){return(r.type===Xr.EVENT||r.type===Xr.ACK)&&cy(r)?this.encodeAsBinary({type:r.type===Xr.EVENT?Xr.BINARY_EVENT:Xr.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===Xr.BINARY_EVENT||r.type===Xr.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){const e=vne(r),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}class K4 extends xs{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);const n=e.type===Xr.BINARY_EVENT;n||e.type===Xr.BINARY_ACK?(e.type=n?Xr.EVENT:Xr.ACK,this.reconstructor=new jne(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(H4(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0;const n={type:Number(r.charAt(0))};if(Xr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Xr.BINARY_EVENT||n.type===Xr.BINARY_ACK){const i=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);const o=r.substring(i,e);if(o!=Number(o)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(r.charAt(e+1)==="/"){const i=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(i,e)}else n.nsp="/";const s=r.charAt(e+1);if(s!==""&&Number(s)==s){const i=e+1;for(;++e;){const o=r.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===r.length)break}n.id=Number(r.substring(i,e+1))}if(r.charAt(++e)){const i=this.tryParse(r.substr(e));if(K4.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Xr.CONNECT:return wN(e);case Xr.DISCONNECT:return e===void 0;case Xr.CONNECT_ERROR:return typeof e=="string"||wN(e);case Xr.EVENT:case Xr.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&_ne.indexOf(e[0])===-1);case Xr.ACK:case Xr.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jne{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const e=wne(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function wN(t){return Object.prototype.toString.call(t)==="[object Object]"}const Sne=Object.freeze(Object.defineProperty({__proto__:null,Decoder:K4,Encoder:kne,get PacketType(){return Xr}},Symbol.toStringTag,{value:"Module"}));function uo(t,r,e){return t.on(r,e),function(){t.off(r,e)}}const Nne=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class XR extends xs{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[uo(r,"open",this.onopen.bind(this)),uo(r,"packet",this.onpacket.bind(this)),uo(r,"error",this.onerror.bind(this)),uo(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,s,i;if(Nne.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:Xr.EVENT,data:e};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const d=this.ids++,p=e.pop();this._registerAckCallback(d,p),o.id=d}const c=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(r,e){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[r]=e;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);e.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(i),e.apply(this,c)};o.withError=!0,this.acks[r]=o}emitWithAck(r,...e){return new Promise((n,s)=>{const i=(o,c)=>o?s(o):n(c);i.withError=!0,e.push(i),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...i)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(s)):(this._queue.shift(),e&&e(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Xr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Xr.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xr.EVENT:case Xr.BINARY_EVENT:this.onevent(r);break;case Xr.ACK:case Xr.BINARY_ACK:this.onack(r);break;case Xr.DISCONNECT:this.ondisconnect();break;case Xr.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:Xr.ACK,id:r,data:s}))}}onack(r){const e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,r.data)}}}function Ch(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ch.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-e:t+e}return Math.min(t,this.max)|0};Ch.prototype.reset=function(){this.attempts=0};Ch.prototype.setMin=function(t){this.ms=t};Ch.prototype.setMax=function(t){this.max=t};Ch.prototype.setJitter=function(t){this.jitter=t};class A2 extends xs{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Yb(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ch({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;const s=e.parser||Sne;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new pne(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=uo(e,"open",function(){n.onopen(),r&&r()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},o=uo(e,"error",i);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),e.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(uo(r,"ping",this.onping.bind(this)),uo(r,"data",this.ondata.bind(this)),uo(r,"error",this.onerror.bind(this)),uo(r,"close",this.onclose.bind(this)),uo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){Qb(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new XR(this,r,e),this.nsps[r]=n),n}_destroy(r){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(r){const e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const wp={};function uy(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const e=mne(t,r.path||"/socket.io"),n=e.source,s=e.id,i=e.path,o=wp[s]&&i in wp[s].nsps,c=r.forceNew||r["force new connection"]||r.multiplex===!1||o;let u;return c?u=new A2(n,r):(wp[s]||(wp[s]=new A2(n,r)),u=wp[s]),e.query&&!r.query&&(r.query=e.queryKey),u.socket(e.path,r)}Object.assign(uy,{Manager:A2,Socket:XR,io:uy,connect:uy});function Cne(){const t=ks(),{toast:r}=wn(),e=E.useRef(null);E.useEffect(()=>((()=>{try{console.log(" [Socket.IO]  ...");const s=uy({reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,transports:["websocket","polling"],...window.location.hostname==="localhost"&&{}});e.current=s,s.on("connect",()=>{console.log(" [Socket.IO]   !",s.id)}),s.on("disconnect",i=>{console.log(" [Socket.IO]   :",i)}),s.on("error",i=>{console.error(" [Socket.IO] :",i)}),s.on("message",i=>{try{if(console.log(" [Socket.IO]  :",i),i.type==="INVALIDATE"){const o=[i.entity,i.id].filter(Boolean);console.log(" [Socket.IO]   cache:",o),t.invalidateQueries({queryKey:o})}else i.type==="UPDATE_ALL"&&t.invalidateQueries({queryKey:[i.entity],exact:!1})}catch(o){console.error(" [Socket.IO]    :",o)}})}catch(s){console.error(" [Socket.IO]   :",s)}})(),()=>{e.current&&e.current.disconnect()}),[t,r])}var Zb="Collapsible",[Tne]=da(Zb),[Ene,G4]=Tne(Zb),QR=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...c}=t,[u,l]=Gi({prop:n,defaultProp:s??!1,onChange:o,caller:Zb});return a.jsx(Ene,{scope:e,disabled:i,contentId:_i(),open:u,onOpenToggle:E.useCallback(()=>l(d=>!d),[l]),children:a.jsx(Ht.div,{"data-state":Q4(u),"data-disabled":i?"":void 0,...c,ref:r})})});QR.displayName=Zb;var YR="CollapsibleTrigger",ZR=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,...n}=t,s=G4(YR,e);return a.jsx(Ht.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Q4(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:r,onClick:ut(t.onClick,s.onOpenToggle)})});ZR.displayName=YR;var X4="CollapsibleContent",JR=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=G4(X4,t.__scopeCollapsible);return a.jsx(js,{present:e||s.open,children:({present:i})=>a.jsx(Ane,{...n,ref:r,present:i})})});JR.displayName=X4;var Ane=E.forwardRef((t,r)=>{const{__scopeCollapsible:e,present:n,children:s,...i}=t,o=G4(X4,e),[c,u]=E.useState(n),l=E.useRef(null),d=Pr(r,l),p=E.useRef(0),f=p.current,h=E.useRef(0),g=h.current,y=o.open||c,m=E.useRef(y),v=E.useRef(void 0);return E.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),Ks(()=>{const x=l.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const S=x.getBoundingClientRect();p.current=S.height,h.current=S.width,m.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),u(n)}},[o.open,n]),a.jsx(Ht.div,{"data-state":Q4(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:y&&s})});function Q4(t){return t?"open":"closed"}var Pne=QR;const Li=Pne,Bi=ZR,$i=JR;function P2(t,[r,e]){return Math.min(e,Math.max(r,t))}var Mne=E.createContext(void 0);function Th(t){const r=E.useContext(Mne);return t||r||"ltr"}function Rne(t){const r=Dne(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(One);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function Dne(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=Lne(s),c=Fne(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Ine=Symbol("radix.slottable");function One(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ine}function Fne(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function Lne(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var eD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Bne="VisuallyHidden",$ne=E.forwardRef((t,r)=>a.jsx(Ht.span,{...t,ref:r,style:{...eD,...t.style}}));$ne.displayName=Bne;var zne=[" ","Enter","ArrowUp","ArrowDown"],Vne=[" ","Enter"],hd="Select",[Jb,ex,Une]=wb(hd),[Eh]=da(hd,[Une,ou]),tx=ou(),[Wne,cu]=Eh(hd),[qne,Hne]=Eh(hd),tD=t=>{const{__scopeSelect:r,children:e,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:l,name:d,autoComplete:p,disabled:f,required:h,form:g}=t,y=tx(r),[m,v]=E.useState(null),[x,S]=E.useState(null),[C,A]=E.useState(!1),B=Th(l),[q,D]=Gi({prop:n,defaultProp:s??!1,onChange:i,caller:hd}),[I,U]=Gi({prop:o,defaultProp:c,onChange:u,caller:hd}),K=E.useRef(null),W=m?g||!!m.closest("form"):!0,[P,L]=E.useState(new Set),T=Array.from(P).map(_=>_.props.value).join(";");return a.jsx(Cb,{...y,children:a.jsxs(Wne,{required:h,scope:r,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:A,contentId:_i(),value:I,onValueChange:U,open:q,onOpenChange:D,dir:B,triggerPointerDownPosRef:K,disabled:f,children:[a.jsx(Jb.Provider,{scope:r,children:a.jsx(qne,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(_=>{L(k=>new Set(k).add(_))},[]),onNativeOptionRemove:E.useCallback(_=>{L(k=>{const j=new Set(k);return j.delete(_),j})},[]),children:e})}),W?a.jsxs(SD,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:I,onChange:_=>U(_.target.value),disabled:f,form:g,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},T):null]})})};tD.displayName=hd;var rD="SelectTrigger",nD=E.forwardRef((t,r)=>{const{__scopeSelect:e,disabled:n=!1,...s}=t,i=tx(e),o=cu(rD,e),c=o.disabled||n,u=Pr(r,o.onTriggerChange),l=ex(e),d=E.useRef("touch"),[p,f,h]=CD(y=>{const m=l().filter(S=>!S.disabled),v=m.find(S=>S.value===o.value),x=TD(m,y,v);x!==void 0&&o.onValueChange(x.value)}),g=y=>{c||(o.onOpenChange(!0),h()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(Ym,{asChild:!0,...i,children:a.jsx(Ht.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ND(o.value)?"":void 0,...s,ref:u,onClick:ut(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:ut(s.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ut(s.onKeyDown,y=>{const m=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&zne.includes(y.key)&&(g(),y.preventDefault())})})})});nD.displayName=rD;var sD="SelectValue",aD=E.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,children:i,placeholder:o="",...c}=t,u=cu(sD,e),{onValueNodeHasChildrenChange:l}=u,d=i!==void 0,p=Pr(r,u.onValueNodeChange);return Ks(()=>{l(d)},[l,d]),a.jsx(Ht.span,{...c,ref:p,style:{pointerEvents:"none"},children:ND(u.value)?a.jsx(a.Fragment,{children:o}):i})});aD.displayName=sD;var Kne="SelectIcon",iD=E.forwardRef((t,r)=>{const{__scopeSelect:e,children:n,...s}=t;return a.jsx(Ht.span,{"aria-hidden":!0,...s,ref:r,children:n||""})});iD.displayName=Kne;var Gne="SelectPortal",oD=t=>a.jsx(xh,{asChild:!0,...t});oD.displayName=Gne;var pd="SelectContent",lD=E.forwardRef((t,r)=>{const e=cu(pd,t.__scopeSelect),[n,s]=E.useState();if(Ks(()=>{s(new DocumentFragment)},[]),!e.open){const i=n;return i?wd.createPortal(a.jsx(cD,{scope:t.__scopeSelect,children:a.jsx(Jb.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(uD,{...t,ref:r})});lD.displayName=pd;var oo=10,[cD,uu]=Eh(pd),Xne="SelectContentImpl",Qne=Rne("SelectContent.RemoveScroll"),uD=E.forwardRef((t,r)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m,...v}=t,x=cu(pd,e),[S,C]=E.useState(null),[A,B]=E.useState(null),q=Pr(r,Z=>C(Z)),[D,I]=E.useState(null),[U,K]=E.useState(null),W=ex(e),[P,L]=E.useState(!1),T=E.useRef(!1);E.useEffect(()=>{if(S)return Gb(S)},[S]),Hb();const _=E.useCallback(Z=>{const[V,...z]=W().map(pe=>pe.ref.current),[G]=z.slice(-1),ae=document.activeElement;for(const pe of Z)if(pe===ae||(pe?.scrollIntoView({block:"nearest"}),pe===V&&A&&(A.scrollTop=0),pe===G&&A&&(A.scrollTop=A.scrollHeight),pe?.focus(),document.activeElement!==ae))return},[W,A]),k=E.useCallback(()=>_([D,S]),[_,D,S]);E.useEffect(()=>{P&&k()},[P,k]);const{onOpenChange:j,triggerPointerDownPosRef:N}=x;E.useEffect(()=>{if(S){let Z={x:0,y:0};const V=G=>{Z={x:Math.abs(Math.round(G.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(G.pageY)-(N.current?.y??0))}},z=G=>{Z.x<=10&&Z.y<=10?G.preventDefault():S.contains(G.target)||j(!1),document.removeEventListener("pointermove",V),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",z,{capture:!0})}}},[S,j,N]),E.useEffect(()=>{const Z=()=>j(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[j]);const[R,O]=CD(Z=>{const V=W().filter(ae=>!ae.disabled),z=V.find(ae=>ae.ref.current===document.activeElement),G=TD(V,Z,z);G&&setTimeout(()=>G.ref.current.focus())}),$=E.useCallback((Z,V,z)=>{const G=!T.current&&!z;(x.value!==void 0&&x.value===V||G)&&(I(Z),G&&(T.current=!0))},[x.value]),X=E.useCallback(()=>S?.focus(),[S]),Y=E.useCallback((Z,V,z)=>{const G=!T.current&&!z;(x.value!==void 0&&x.value===V||G)&&K(Z)},[x.value]),re=n==="popper"?M2:dD,F=re===M2?{side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:p,collisionBoundary:f,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:m}:{};return a.jsx(cD,{scope:e,content:S,viewport:A,onViewportChange:B,itemRefCallback:$,selectedItem:D,onItemLeave:X,itemTextRefCallback:Y,focusSelectedItem:k,selectedItemText:U,position:n,isPositioned:P,searchRef:R,children:a.jsx(i0,{as:Qne,allowPinchZoom:!0,children:a.jsx(a0,{asChild:!0,trapped:x.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ut(s,Z=>{x.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:a.jsx(_d,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Z=>Z.preventDefault(),...v,...F,onPlaced:()=>L(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ut(v.onKeyDown,Z=>{const V=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!V&&Z.key.length===1&&O(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let G=W().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ae=Z.target,pe=G.indexOf(ae);G=G.slice(pe+1)}setTimeout(()=>_(G)),Z.preventDefault()}})})})})})})});uD.displayName=Xne;var Yne="SelectItemAlignedPosition",dD=E.forwardRef((t,r)=>{const{__scopeSelect:e,onPlaced:n,...s}=t,i=cu(pd,e),o=uu(pd,e),[c,u]=E.useState(null),[l,d]=E.useState(null),p=Pr(r,q=>d(q)),f=ex(e),h=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:v,focusSelectedItem:x}=o,S=E.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&l&&y&&m&&v){const q=i.trigger.getBoundingClientRect(),D=l.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),U=v.getBoundingClientRect();if(i.dir!=="rtl"){const ae=U.left-D.left,pe=I.left-ae,ue=q.left-pe,ge=q.width+ue,ee=Math.max(ge,D.width),oe=window.innerWidth-oo,ne=P2(pe,[oo,Math.max(oo,oe-ee)]);c.style.minWidth=ge+"px",c.style.left=ne+"px"}else{const ae=D.right-U.right,pe=window.innerWidth-I.right-ae,ue=window.innerWidth-q.right-pe,ge=q.width+ue,ee=Math.max(ge,D.width),oe=window.innerWidth-oo,ne=P2(pe,[oo,Math.max(oo,oe-ee)]);c.style.minWidth=ge+"px",c.style.right=ne+"px"}const K=f(),W=window.innerHeight-oo*2,P=y.scrollHeight,L=window.getComputedStyle(l),T=parseInt(L.borderTopWidth,10),_=parseInt(L.paddingTop,10),k=parseInt(L.borderBottomWidth,10),j=parseInt(L.paddingBottom,10),N=T+_+P+j+k,R=Math.min(m.offsetHeight*5,N),O=window.getComputedStyle(y),$=parseInt(O.paddingTop,10),X=parseInt(O.paddingBottom,10),Y=q.top+q.height/2-oo,re=W-Y,F=m.offsetHeight/2,Z=m.offsetTop+F,V=T+_+Z,z=N-V;if(V<=Y){const ae=K.length>0&&m===K[K.length-1].ref.current;c.style.bottom="0px";const pe=l.clientHeight-y.offsetTop-y.offsetHeight,ue=Math.max(re,F+(ae?X:0)+pe+k),ge=V+ue;c.style.height=ge+"px"}else{const ae=K.length>0&&m===K[0].ref.current;c.style.top="0px";const ue=Math.max(Y,T+y.offsetTop+(ae?$:0)+F)+z;c.style.height=ue+"px",y.scrollTop=V-Y+y.offsetTop}c.style.margin=`${oo}px 0`,c.style.minHeight=R+"px",c.style.maxHeight=W+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,c,l,y,m,v,i.dir,n]);Ks(()=>S(),[S]);const[C,A]=E.useState();Ks(()=>{l&&A(window.getComputedStyle(l).zIndex)},[l]);const B=E.useCallback(q=>{q&&g.current===!0&&(S(),x?.(),g.current=!1)},[S,x]);return a.jsx(Jne,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:B,children:a.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(Ht.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dD.displayName=Yne;var Zne="SelectPopperPosition",M2=E.forwardRef((t,r)=>{const{__scopeSelect:e,align:n="start",collisionPadding:s=oo,...i}=t,o=tx(e);return a.jsx(Tb,{...o,...i,ref:r,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M2.displayName=Zne;var[Jne,Y4]=Eh(pd,{}),R2="SelectViewport",fD=E.forwardRef((t,r)=>{const{__scopeSelect:e,nonce:n,...s}=t,i=uu(R2,e),o=Y4(R2,e),c=Pr(r,i.onViewportChange),u=E.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Jb.Slot,{scope:e,children:a.jsx(Ht.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ut(s.onScroll,l=>{const d=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f?.current&&p){const h=Math.abs(u.current-d.scrollTop);if(h>0){const g=window.innerHeight-oo*2,y=parseFloat(p.style.minHeight),m=parseFloat(p.style.height),v=Math.max(y,m);if(v<g){const x=v+h,S=Math.min(g,x),C=x-S;p.style.height=S+"px",p.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,p.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});fD.displayName=R2;var hD="SelectGroup",[ese,tse]=Eh(hD),rse=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=_i();return a.jsx(ese,{scope:e,id:s,children:a.jsx(Ht.div,{role:"group","aria-labelledby":s,...n,ref:r})})});rse.displayName=hD;var pD="SelectLabel",mD=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=tse(pD,e);return a.jsx(Ht.div,{id:s.id,...n,ref:r})});mD.displayName=pD;var Yy="SelectItem",[nse,gD]=Eh(Yy),yD=E.forwardRef((t,r)=>{const{__scopeSelect:e,value:n,disabled:s=!1,textValue:i,...o}=t,c=cu(Yy,e),u=uu(Yy,e),l=c.value===n,[d,p]=E.useState(i??""),[f,h]=E.useState(!1),g=Pr(r,x=>u.itemRefCallback?.(x,n,s)),y=_i(),m=E.useRef("touch"),v=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nse,{scope:e,value:n,disabled:s,textId:y,isSelected:l,onItemTextChange:E.useCallback(x=>{p(S=>S||(x?.textContent??"").trim())},[]),children:a.jsx(Jb.ItemSlot,{scope:e,value:n,disabled:s,textValue:d,children:a.jsx(Ht.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ut(o.onFocus,()=>h(!0)),onBlur:ut(o.onBlur,()=>h(!1)),onClick:ut(o.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:ut(o.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:ut(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:ut(o.onPointerMove,x=>{m.current=x.pointerType,s?u.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(o.onPointerLeave,x=>{x.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:ut(o.onKeyDown,x=>{u.searchRef?.current!==""&&x.key===" "||(Vne.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});yD.displayName=Yy;var Mp="SelectItemText",bD=E.forwardRef((t,r)=>{const{__scopeSelect:e,className:n,style:s,...i}=t,o=cu(Mp,e),c=uu(Mp,e),u=gD(Mp,e),l=Hne(Mp,e),[d,p]=E.useState(null),f=Pr(r,v=>p(v),u.onItemTextChange,v=>c.itemTextRefCallback?.(v,u.value,u.disabled)),h=d?.textContent,g=E.useMemo(()=>a.jsx("option",{value:u.value,disabled:u.disabled,children:h},u.value),[u.disabled,u.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=l;return Ks(()=>(y(g),()=>m(g)),[y,m,g]),a.jsxs(a.Fragment,{children:[a.jsx(Ht.span,{id:u.textId,...i,ref:f}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wd.createPortal(i.children,o.valueNode):null]})});bD.displayName=Mp;var xD="SelectItemIndicator",vD=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return gD(xD,e).isSelected?a.jsx(Ht.span,{"aria-hidden":!0,...n,ref:r}):null});vD.displayName=xD;var D2="SelectScrollUpButton",wD=E.forwardRef((t,r)=>{const e=uu(D2,t.__scopeSelect),n=Y4(D2,t.__scopeSelect),[s,i]=E.useState(!1),o=Pr(r,n.onScrollButtonChange);return Ks(()=>{if(e.viewport&&e.isPositioned){let c=function(){const l=u.scrollTop>0;i(l)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?a.jsx(kD,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});wD.displayName=D2;var I2="SelectScrollDownButton",_D=E.forwardRef((t,r)=>{const e=uu(I2,t.__scopeSelect),n=Y4(I2,t.__scopeSelect),[s,i]=E.useState(!1),o=Pr(r,n.onScrollButtonChange);return Ks(()=>{if(e.viewport&&e.isPositioned){let c=function(){const l=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<l;i(d)};const u=e.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?a.jsx(kD,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=e;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});_D.displayName=I2;var kD=E.forwardRef((t,r)=>{const{__scopeSelect:e,onAutoScroll:n,...s}=t,i=uu("SelectScrollButton",e),o=E.useRef(null),c=ex(e),u=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>u(),[u]),Ks(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(Ht.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:ut(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ut(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ut(s.onPointerLeave,()=>{u()})})}),sse="SelectSeparator",jD=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t;return a.jsx(Ht.div,{"aria-hidden":!0,...n,ref:r})});jD.displayName=sse;var O2="SelectArrow",ase=E.forwardRef((t,r)=>{const{__scopeSelect:e,...n}=t,s=tx(e),i=cu(O2,e),o=uu(O2,e);return i.open&&o.position==="popper"?a.jsx(Eb,{...s,...n,ref:r}):null});ase.displayName=O2;var ise="SelectBubbleInput",SD=E.forwardRef(({__scopeSelect:t,value:r,...e},n)=>{const s=E.useRef(null),i=Pr(n,s),o=D4(r);return E.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&d){const p=new Event("change",{bubbles:!0});d.call(c,r),c.dispatchEvent(p)}},[o,r]),a.jsx(Ht.select,{...e,style:{...eD,...e.style},ref:i,defaultValue:r})});SD.displayName=ise;function ND(t){return t===""||t===void 0}function CD(t){const r=xa(t),e=E.useRef(""),n=E.useRef(0),s=E.useCallback(o=>{const c=e.current+o;r(c),(function u(l){e.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(c)},[r]),i=E.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,s,i]}function TD(t,r,e){const s=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,i=e?t.indexOf(e):-1;let o=ose(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==e));const u=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function ose(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var lse=tD,ED=nD,cse=aD,use=iD,dse=oD,AD=lD,fse=fD,PD=mD,MD=yD,hse=bD,pse=vD,RD=wD,DD=_D,ID=jD;const ws=t=>a.jsx(lse,{modal:!1,...t}),_s=cse,cs=E.forwardRef(({className:t,children:r,...e},n)=>a.jsxs(ED,{ref:n,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...e,children:[r,a.jsx(use,{asChild:!0,children:a.jsx(rs,{className:"h-4 w-4 opacity-50"})})]}));cs.displayName=ED.displayName;const OD=E.forwardRef(({className:t,...r},e)=>a.jsx(RD,{ref:e,className:Ae("flex cursor-default items-center justify-center py-1",t),...r,children:a.jsx(qc,{className:"h-4 w-4"})}));OD.displayName=RD.displayName;const FD=E.forwardRef(({className:t,...r},e)=>a.jsx(DD,{ref:e,className:Ae("flex cursor-default items-center justify-center py-1",t),...r,children:a.jsx(rs,{className:"h-4 w-4"})}));FD.displayName=DD.displayName;const us=E.forwardRef(({className:t,children:r,position:e="popper",...n},s)=>a.jsx(dse,{children:a.jsxs(AD,{ref:s,className:Ae("relative z-[99999] max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,style:{pointerEvents:"auto"},...n,children:[a.jsx(OD,{}),a.jsx(fse,{className:Ae("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),a.jsx(FD,{})]})}));us.displayName=AD.displayName;const mse=E.forwardRef(({className:t,...r},e)=>a.jsx(PD,{ref:e,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));mse.displayName=PD.displayName;const wr=E.forwardRef(({className:t,children:r,...e},n)=>a.jsxs(MD,{ref:n,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(pse,{children:a.jsx(Dl,{className:"h-4 w-4"})})}),a.jsx(hse,{children:r})]}));wr.displayName=MD.displayName;const gse=E.forwardRef(({className:t,...r},e)=>a.jsx(ID,{ref:e,className:Ae("-mx-1 my-1 h-px bg-muted",t),...r}));gse.displayName=ID.displayName;function Ms({value:t,onChange:r,placeholder:e,category:n,disabled:s=!1,className:i="",type:o="text",inputMode:c="text",autoWidth:u=!1,maxWidth:l=420}){const[d,p]=E.useState(!1),[f,h]=E.useState(""),g=E.useRef(null),y=E.useRef(null),m=ks(),{data:v=[],isLoading:x}=vt({queryKey:xe.autocompleteCategory(n),queryFn:async()=>{const W=await Ue(`/api/autocomplete/${n}`,"GET");return W&&typeof W=="object"?W.data||W:[]},enabled:!!n,staleTime:1e3*60*5}),S=It({mutationFn:W=>Ue("/api/autocomplete","POST",W),onSuccess:async()=>{await m.invalidateQueries({queryKey:xe.autocompleteCategory(n)})},onError:W=>{console.error("Error saving autocomplete data:",W)}}),C=It({mutationFn:({category:W,value:P})=>Ue(`/api/autocomplete/${W}/${encodeURIComponent(P)}`,"DELETE"),onSuccess:async()=>{await m.invalidateQueries({queryKey:xe.autocompleteCategory(n)})}}),A=Array.isArray(v)?v.filter(W=>W?.value&&typeof W.value=="string"?W.value.toLowerCase().includes(f.toLowerCase()):!1):[],B=E.useCallback(W=>{r(W),p(!1),h(""),W&&typeof W=="string"&&W.trim()&&S.mutate({category:n,value:W.trim()})},[r,n,S]),q=E.useCallback(W=>{setTimeout(()=>{y.current&&!y.current.contains(W.relatedTarget)&&(p(!1),h(""),t&&typeof t=="string"&&t.trim()&&t.trim().length>=2&&S.mutate({category:n,value:t.trim()}))},150)},[t,n,S]),D=E.useCallback((W,P)=>{P.stopPropagation(),C.mutate({category:n,value:W})},[n,C]);E.useEffect(()=>{const W=P=>{y.current&&!y.current.contains(P.target)&&g.current&&!g.current.contains(P.target)&&(p(!1),h(""))};if(d)return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[d]);const I=W=>{const P=W.target.value;r(P),h(P),!d&&P&&P.length>=1&&p(!0)},U=E.useCallback(W=>{W.key==="Enter"&&t.trim()&&t.trim().length>=2&&(W.preventDefault(),p(!1),h(""),S.mutate({category:n,value:t.trim()}))},[t,n,S]),K=()=>{p(!0),m.refetchQueries({queryKey:xe.autocompleteCategory(n)})};return a.jsxs("div",{className:Ae("relative",u?"inline-block align-bottom":"w-full"),children:[a.jsx(xt,{ref:g,value:t,onChange:I,onFocus:K,onBlur:q,onKeyDown:U,placeholder:e,disabled:s,className:`arabic-numbers ${i}`,type:o,inputMode:c,autoWidth:u,maxWidth:l}),d&&!s&&a.jsx("div",{ref:y,className:"absolute z-50 w-full mt-1",children:a.jsx(Jt,{className:"max-h-64 overflow-y-auto shadow-lg border",children:x?a.jsxs("div",{className:"p-3 text-center text-gray-500",children:[a.jsx(bo,{className:"w-4 h-4 animate-spin mx-auto"})," ..."]}):Array.isArray(A)&&A.length>0?a.jsx("div",{className:"py-1",children:A.slice(0,10).map(W=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer group",onClick:()=>B(W.value),children:[a.jsx("span",{className:"flex-1 text-right",children:W.value}),a.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("span",{className:"text-xs text-gray-400",children:W.usageCount}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:P=>D(W.value,P),children:a.jsx(Ps,{className:"w-3 h-3"})})]})]},W.id))}):f?a.jsxs("div",{className:"p-3 text-center text-gray-500",children:[a.jsx(bo,{className:"w-4 h-4 mx-auto"}),'    "',f,'"']}):a.jsx("div",{className:"p-3 text-center text-gray-500",children:"    "})})})]})}const _p="construction-app-selected-project",kp="construction-app-selected-project-name",Ts="all",Fo=" ",yse=[xe.projects,xe.projectsWithStats,xe.workers,xe.workerTypes,xe.materials,xe.projectFundTransfers,xe.transportationExpenses,xe.workerMiscExpenses,xe.suppliers,xe.dailyExpenseSummaries,xe.notifications],LD=E.createContext(null);function bse({children:t}){const[r,e]=E.useState(Ts),[n,s]=E.useState(Fo),[i,o]=E.useState(!1),c=ks(),{data:u,isLoading:l,error:d}=vt({queryKey:xe.projects,queryFn:async()=>{const B=await fetch("/api/projects",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!B.ok)throw new Error("   ");const q=await B.json();return Array.isArray(q?.data)?q.data:Array.isArray(q)?q:[]},staleTime:1e3*5,gcTime:1e3*60*2,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),p=E.useMemo(()=>Array.isArray(u)?u:[],[u]);E.useEffect(()=>{try{const B=localStorage.getItem(_p),q=localStorage.getItem(kp);B&&B!=="undefined"&&B!=="null"?(e(B),q&&s(q)):(e(Ts),s(Fo))}catch{localStorage.removeItem(_p),localStorage.removeItem(kp),e(Ts),s(Fo)}finally{o(!0)}},[]);const f=!i||l,h=E.useCallback(async B=>{console.log(" [SelectedProjectContext]    ...",B);const q=Date.now();await c.cancelQueries();const D=yse.map(U=>c.invalidateQueries({queryKey:U,refetchType:"all",exact:!1}));B&&B!==Ts&&D.push(c.invalidateQueries({predicate:U=>{const K=U.queryKey;return Array.isArray(K)&&K.some(W=>String(W)===B)},refetchType:"all"})),await Promise.all(D),await c.refetchQueries({type:"active",exact:!1});const I=Date.now()-q;console.log(` [SelectedProjectContext]      ${I}ms`)},[c]),g=E.useCallback(async(B,q)=>{console.log(" [SelectedProjectContext]   :",{projectId:B,projectName:q}),e(B),q?s(q):B===Ts&&s(Fo);try{B&&B!=="undefined"&&B!=="null"?(localStorage.setItem(_p,B),q?localStorage.setItem(kp,q):B===Ts&&localStorage.setItem(kp,Fo)):(localStorage.removeItem(_p),localStorage.removeItem(kp),s(""))}catch(D){console.error(" [SelectedProjectContext]    :",D)}await h(B)},[h]),y=E.useCallback(()=>{g(Ts,Fo)},[g]),m=E.useCallback(()=>{console.log(" [SelectedProjectContext]   "),g(Ts,Fo)},[g]),v=E.useCallback(()=>{try{const B=localStorage.getItem(_p);return!!(B&&B!=="undefined"&&B!=="null"&&B!==Ts)}catch{return!1}},[]),x=E.useCallback(()=>{if(!(r===Ts||!r))return r},[r]),S=r===Ts,C=E.useCallback(async()=>{await h(r)},[h,r]),A=E.useMemo(()=>({selectedProjectId:r,selectedProjectName:n,isLoading:f,isAllProjects:S,selectProject:g,clearProject:m,selectAllProjects:y,hasStoredProject:v,getProjectIdForApi:x,projects:p,projectsError:d,isProjectsLoading:l,refreshAllData:C}),[r,n,f,S,g,m,y,v,x,p,d,l,C]);return a.jsx(LD.Provider,{value:A,children:t})}function xse(){const t=E.useContext(LD);if(!t)throw new Error("useSelectedProjectContext must be used within a SelectedProjectProvider");return t}function No(){const t=xse();return{...t,refreshAllData:t.refreshAllData}}const vse=kd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xr({className:t,variant:r,...e}){return a.jsx("div",{className:Ae(vse({variant:r}),t),...e})}function wse({worker:t,attendance:r,onAttendanceChange:e,selectedDate:n=aa()}){const[s,i]=E.useState(r),[o,c]=E.useState(!1),[u,l]=E.useState(r.recordType||"work"),{data:d}=vt({queryKey:xe.workerStatsSimple(t.id),queryFn:async()=>{try{const A=await Ue(`/api/workers/${t.id}/stats`,"GET");return A&&A.data?A.data:A||{totalWorkDays:0,totalProjects:0,totalEarnings:0}}catch(A){return console.error("Error fetching worker stats:",A),{totalWorkDays:0,totalProjects:0,totalEarnings:0}}},staleTime:3e4}),p=s.isPresent&&n===aa();E.useEffect(()=>{i(r)},[r]);const f=A=>{const B={...s,...A};B.isPresent&&(A.workDays!==void 0||A.paidAmount!==void 0||A.overtime!==void 0||A.overtimeRate!==void 0)&&(B.actualWage=y(),B.totalPay=v(),B.remainingAmount=x(),B.hoursWorked=g()),i(B),e(B)},h=A=>{const B=A===!0;B||c(!1),f(B&&u==="work"?{isPresent:B,startTime:s.startTime||"07:00",endTime:s.endTime||"15:00",workDescription:s.workDescription,workDays:s.workDays===void 0?0:s.workDays,paidAmount:s.paidAmount,paymentType:s.paymentType||"partial"}:B&&u==="advance"?{isPresent:B,workDays:0,paidAmount:s.paidAmount||"0",paymentType:"advance",startTime:void 0,endTime:void 0}:{isPresent:B})},g=()=>{if(!s.startTime||!s.endTime)return 0;const A=new Date(`2000-01-01T${s.startTime}:00`);let q=new Date(`2000-01-01T${s.endTime}:00`).getTime()-A.getTime();q<0&&(q+=1440*60*1e3);const D=q/(1e3*60*60);return Math.max(0,D)},y=()=>{if(!s.isPresent||u==="advance")return 0;const A=s.workDays||0,B=parseFloat(String(t.dailyWage||"0"));return Math.max(0,B*A)},m=()=>{const A=s.overtime||0,B=s.overtimeRate||0;return A*B},v=()=>{const A=y(),B=m();return Math.max(0,A+B)},x=()=>{if(u==="advance")return-parseFloat(s.paidAmount||"0");const A=v(),B=parseFloat(s.paidAmount||"0");return A-B},S=A=>{switch(A){case"":return a.jsx(Ln,{className:"h-5 w-5"});case"":return a.jsx(Wq,{className:"h-5 w-5"});case"":return a.jsx(Uq,{className:"h-5 w-5"});case"":return a.jsx(Jq,{className:"h-5 w-5"});case"":return a.jsx(wi,{className:"h-5 w-5"});default:return a.jsx(Xm,{className:"h-5 w-5"})}},C=A=>{const B=A.toLowerCase();return B.includes("")||B.includes("master")?"bg-gradient-to-br from-primary to-primary/80":B.includes("")||B.includes("smith")?"bg-gradient-to-br from-orange-500 to-orange-600":B.includes("")||B.includes("tile")?"bg-gradient-to-br from-blue-500 to-blue-600":B.includes("")||B.includes("paint")?"bg-gradient-to-br from-green-500 to-green-600":B.includes("")||B.includes("labor")?"bg-gradient-to-br from-purple-500 to-purple-600":B.includes("")||B.includes("carpenter")?"bg-gradient-to-br from-amber-600 to-amber-700":B.includes("")||B.includes("electric")?"bg-gradient-to-br from-yellow-500 to-yellow-600":B.includes("")||B.includes("plumb")?"bg-gradient-to-br from-cyan-500 to-cyan-600":"bg-gradient-to-br from-gray-500 to-gray-600"};return a.jsx(Jt,{className:`mb-3 shadow-sm border-r-4 w-full max-w-full overflow-hidden ${p?"border-r-green-400 bg-green-50/50 dark:bg-green-950/20":"border-r-primary/20"}`,"data-testid":`worker-card-detailed-${t.id}`,children:a.jsxs(vr,{className:"p-2 sm:p-3 max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-border/30 w-full max-w-full",children:[a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-1 min-w-0 max-w-full overflow-hidden",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md profession-icon-container ${C(t.type)}`,children:S(t.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-1",children:[a.jsx("h4",{className:"font-bold text-lg text-foreground truncate","data-testid":`worker-name-detailed-${t.id}`,children:t.name}),t.isActive?a.jsx(zl,{className:"h-4 w-4 text-green-500 flex-shrink-0","data-testid":`worker-status-active-${t.id}`}):a.jsx($a,{className:"h-4 w-4 text-red-500 flex-shrink-0","data-testid":`worker-status-inactive-${t.id}`})]}),a.jsxs("div",{className:"flex items-center space-x-reverse space-x-4 text-xs text-muted-foreground",children:[a.jsx("span",{className:"flex items-center space-x-reverse space-x-1",children:a.jsx(xr,{variant:"secondary",className:`${C(t.type)} text-white border-none shadow-sm text-[10px] px-2 py-0 h-5`,children:t.type})}),a.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[a.jsx(kr,{className:"h-3 w-3"}),a.jsx("span",{className:"font-bold arabic-numbers","data-testid":`worker-daily-wage-${t.id}`,children:Je(t.dailyWage)})]}),a.jsxs("span",{className:"flex items-center space-x-reverse space-x-1",children:[a.jsx(Is,{className:"h-3 w-3"}),a.jsxs("span",{className:"arabic-numbers",children:[d?.totalWorkDays||0," "]})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 flex-shrink-0",children:[s.isPresent&&a.jsxs(a.Fragment,{children:[a.jsx(Ie,{variant:u==="work"?"default":"outline",size:"sm",onClick:()=>l("work"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-work-${t.id}`,children:""}),a.jsx(Ie,{variant:u==="advance"?"default":"outline",size:"sm",onClick:()=>l("advance"),className:"px-2 py-1 h-8 text-xs","data-testid":`record-type-advance-${t.id}`,children:""}),a.jsxs(Ie,{variant:o?"default":"ghost",size:"sm",onClick:()=>c(!o),className:"px-2 py-1 h-8 flex items-center gap-1","data-testid":`toggle-details-${t.id}`,children:[o?a.jsx(qc,{className:"h-4 w-4"}):a.jsx(rs,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:o?"":""})]})]}),a.jsx(Ze,{htmlFor:`present-${t.id}`,className:"text-sm font-medium text-foreground cursor-pointer",children:""}),a.jsx(jm,{id:`present-${t.id}`,checked:s.isPresent,onCheckedChange:h,className:"w-5 h-5","data-testid":`attendance-checkbox-${t.id}`})]})]}),s.isPresent&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/30 dark:to-blue-900/20 p-2 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"space-y-1.5 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:""}),a.jsx("span",{className:"font-bold text-foreground",children:t.name})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),a.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(t.dailyWage||"0")})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-blue-200 dark:border-blue-700",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:""}),a.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:Je(y())})]})]})}),a.jsx("div",{className:`bg-gradient-to-br ${u==="advance"?"from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-red-200 dark:border-red-800":"from-purple-50 to-purple-100/50 dark:from-purple-950/30 dark:to-purple-900/20 border-purple-200 dark:border-purple-800"} p-2 rounded-lg border`,children:a.jsx("div",{className:"space-y-1.5 text-sm",children:u==="work"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:s.workDays||"",onChange:A=>{const B=A.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"w-24 text-center text-sm h-7 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"},"data-testid":`work-days-summary-${t.id}`})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:""}),a.jsx("span",{className:"font-bold text-foreground arabic-numbers",children:Je(parseFloat(s.paidAmount||"0"))})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-purple-200 dark:border-purple-700",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:""}),a.jsx("span",{className:`font-bold arabic-numbers ${x()>0?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-300"}`,children:Je(Math.abs(x()))})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"0",value:s.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"w-24 text-center arabic-numbers text-sm h-7"})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-red-200 dark:border-red-700",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:""}),a.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 arabic-numbers",children:Je(Math.abs(x()))})]})]})})})]}),s.isPresent&&o&&a.jsx("div",{className:"space-y-2 w-full max-w-full overflow-hidden",children:a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/30 dark:to-gray-950/30 p-2 rounded-lg border border-slate-200 dark:border-slate-700 w-full max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2 mb-2",children:[a.jsx(ns,{className:"h-4 w-4 text-slate-600"}),a.jsx("h5",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm",children:"  "})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx(xt,{type:"time",value:s.startTime||"07:00",onChange:A=>f({startTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx(xt,{type:"time",value:s.endTime||"15:00",onChange:A=>f({endTime:A.target.value}),className:"text-center font-mono text-xs h-8 px-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx(xt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"2.0",value:s.workDays||"",onChange:A=>{const B=A.target.value;f({workDays:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center font-mono english-numbers text-xs h-8"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx(xt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.paidAmount||"",onChange:A=>f({paidAmount:A.target.value}),className:"text-center arabic-numbers text-xs h-8"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:g().toFixed(1)})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",step:"0.5",min:"0",max:"8",value:s.overtime===void 0?"":s.overtime,onChange:A=>{const B=A.target.value;f({overtime:B===""?0:parseFloat(B)||0})},placeholder:"0",className:"text-center english-numbers text-sm h-8"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",placeholder:"0",value:s.overtimeRate===void 0?"":s.overtimeRate,onChange:A=>{const B=A.target.value;f({overtimeRate:B===""?0:parseFloat(B)||0})},className:"text-center english-numbers text-sm h-8"})]})]}),a.jsxs("div",{className:"space-y-1 mb-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),a.jsx(Ms,{value:s.workDescription||"",onChange:A=>f({workDescription:A}),placeholder:"   ...",category:"workDescriptions",autoWidth:!0,maxWidth:500,className:"w-full text-sm"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:""}),a.jsx(xt,{type:"text",value:s.notes||"",onChange:A=>f({notes:A.target.value}),placeholder:" ...",autoWidth:!0,maxWidth:500,className:"text-sm h-8"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"  "}),a.jsx("div",{className:"h-8 px-2 py-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200 arabic-numbers text-sm",children:Je(v())})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:" "}),a.jsx("div",{className:"h-8 px-2 py-1 bg-slate-100/50 dark:bg-slate-800/50 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 arabic-numbers text-sm",children:Je(m())})})]})]})]})})]})})}function _se(t){const r=kse(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(Sse);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function kse(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=Cse(s),c=Nse(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var jse=Symbol("radix.slottable");function Sse(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jse}function Nse(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function Cse(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var rx="Popover",[BD]=da(rx,[ou]),u0=ou(),[Tse,du]=BD(rx),$D=t=>{const{__scopePopover:r,children:e,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,c=u0(r),u=E.useRef(null),[l,d]=E.useState(!1),[p,f]=Gi({prop:n,defaultProp:s??!1,onChange:i,caller:rx});return a.jsx(Cb,{...c,children:a.jsx(Tse,{scope:r,contentId:_i(),triggerRef:u,open:p,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:l,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:o,children:e})})};$D.displayName=rx;var zD="PopoverAnchor",Ese=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=du(zD,e),i=u0(e),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return E.useEffect(()=>(o(),()=>c()),[o,c]),a.jsx(Ym,{...i,...n,ref:r})});Ese.displayName=zD;var VD="PopoverTrigger",UD=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=du(VD,e),i=u0(e),o=Pr(r,s.triggerRef),c=a.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GD(s.open),...n,ref:o,onClick:ut(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(Ym,{asChild:!0,...i,children:c})});UD.displayName=VD;var Z4="PopoverPortal",[Ase,Pse]=BD(Z4,{forceMount:void 0}),WD=t=>{const{__scopePopover:r,forceMount:e,children:n,container:s}=t,i=du(Z4,r);return a.jsx(Ase,{scope:r,forceMount:e,children:a.jsx(js,{present:e||i.open,children:a.jsx(xh,{asChild:!0,container:s,children:n})})})};WD.displayName=Z4;var sh="PopoverContent",qD=E.forwardRef((t,r)=>{const e=Pse(sh,t.__scopePopover),{forceMount:n=e.forceMount,...s}=t,i=du(sh,t.__scopePopover);return a.jsx(js,{present:n||i.open,children:i.modal?a.jsx(Rse,{...s,ref:r}):a.jsx(Dse,{...s,ref:r})})});qD.displayName=sh;var Mse=_se("PopoverContent.RemoveScroll"),Rse=E.forwardRef((t,r)=>{const e=du(sh,t.__scopePopover),n=E.useRef(null),s=Pr(r,n),i=E.useRef(!1);return E.useEffect(()=>{const o=n.current;if(o)return Gb(o)},[]),a.jsx(i0,{as:Mse,allowPinchZoom:!0,children:a.jsx(HD,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||e.triggerRef.current?.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,l=c.button===2||u;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:ut(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dse=E.forwardRef((t,r)=>{const e=du(sh,t.__scopePopover),n=E.useRef(!1),s=E.useRef(!1);return a.jsx(HD,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||e.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;e.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HD=E.forwardRef((t,r)=>{const{__scopePopover:e,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:d,...p}=t,f=du(sh,e),h=u0(e);return Hb(),a.jsx(a0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(_d,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(Tb,{"data-state":GD(f.open),role:"dialog",id:f.contentId,...h,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),KD="PopoverClose",Ise=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=du(KD,e);return a.jsx(Ht.button,{type:"button",...n,ref:r,onClick:ut(t.onClick,()=>s.onOpenChange(!1))})});Ise.displayName=KD;var Ose="PopoverArrow",Fse=E.forwardRef((t,r)=>{const{__scopePopover:e,...n}=t,s=u0(e);return a.jsx(Eb,{...s,...n,ref:r})});Fse.displayName=Ose;function GD(t){return t?"open":"closed"}var Lse=$D,Bse=UD,$se=WD,XD=qD;const J4=t=>a.jsx(Lse,{modal:!1,...t}),e3=Bse,nx=E.forwardRef(({className:t,align:r="center",sideOffset:e=4,...n},s)=>a.jsx($se,{children:a.jsx(XD,{ref:s,align:r,sideOffset:e,className:Ae("z-[99999] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...n})}));nx.displayName=XD.displayName;function zse(t,r){return E.useReducer((e,n)=>r[e][n]??e,t)}var t3="ScrollArea",[QD]=da(t3),[Vse,Yi]=QD(t3),YD=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=t,[c,u]=E.useState(null),[l,d]=E.useState(null),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState(null),[v,x]=E.useState(0),[S,C]=E.useState(0),[A,B]=E.useState(!1),[q,D]=E.useState(!1),I=Pr(r,K=>u(K)),U=Th(s);return a.jsx(Vse,{scope:e,type:n,dir:U,scrollHideDelay:i,scrollArea:c,viewport:l,onViewportChange:d,content:p,onContentChange:f,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:A,onScrollbarXEnabledChange:B,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:q,onScrollbarYEnabledChange:D,onCornerWidthChange:x,onCornerHeightChange:C,children:a.jsx(Ht.div,{dir:U,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});YD.displayName=t3;var ZD="ScrollAreaViewport",JD=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,children:n,nonce:s,...i}=t,o=Yi(ZD,e),c=E.useRef(null),u=Pr(r,c,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});JD.displayName=ZD;var ul="ScrollAreaScrollbar",r3=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Yi(ul,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,c=t.orientation==="horizontal";return E.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),s.type==="hover"?a.jsx(Use,{...n,ref:r,forceMount:e}):s.type==="scroll"?a.jsx(Wse,{...n,ref:r,forceMount:e}):s.type==="auto"?a.jsx(eI,{...n,ref:r,forceMount:e}):s.type==="always"?a.jsx(n3,{...n,ref:r}):null});r3.displayName=ul;var Use=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Yi(ul,t.__scopeScrollArea),[i,o]=E.useState(!1);return E.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const l=()=>{window.clearTimeout(u),o(!0)},d=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",l),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",l),c.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(js,{present:e||i,children:a.jsx(eI,{"data-state":i?"visible":"hidden",...n,ref:r})})}),Wse=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=Yi(ul,t.__scopeScrollArea),i=t.orientation==="horizontal",o=ax(()=>u("SCROLL_END"),100),[c,u]=zse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(c==="idle"){const l=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[c,s.scrollHideDelay,u]),E.useEffect(()=>{const l=s.viewport,d=i?"scrollLeft":"scrollTop";if(l){let p=l[d];const f=()=>{const h=l[d];p!==h&&(u("SCROLL"),o()),p=h};return l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[s.viewport,i,u,o]),a.jsx(js,{present:e||c!=="hidden",children:a.jsx(n3,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:ut(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ut(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),eI=E.forwardRef((t,r)=>{const e=Yi(ul,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,o]=E.useState(!1),c=t.orientation==="horizontal",u=ax(()=>{if(e.viewport){const l=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;o(c?l:d)}},10);return ah(e.viewport,u),ah(e.content,u),a.jsx(js,{present:n||i,children:a.jsx(n3,{"data-state":i?"visible":"hidden",...s,ref:r})})}),n3=E.forwardRef((t,r)=>{const{orientation:e="vertical",...n}=t,s=Yi(ul,t.__scopeScrollArea),i=E.useRef(null),o=E.useRef(0),[c,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=aI(c.viewport,c.content),d={...n,sizes:c,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function p(f,h){return Qse(f,o.current,c,h)}return e==="horizontal"?a.jsx(qse,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,h=_N(f,c,s.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):e==="vertical"?a.jsx(Hse,{...d,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,h=_N(f,c);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),qse=E.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,i=Yi(ul,t.__scopeScrollArea),[o,c]=E.useState(),u=E.useRef(null),l=Pr(r,u,i.onScrollbarXChange);return E.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),a.jsx(rI,{"data-orientation":"horizontal",...s,ref:l,sizes:e,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sx(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),oI(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Jy(o.paddingLeft),paddingEnd:Jy(o.paddingRight)}})}})}),Hse=E.forwardRef((t,r)=>{const{sizes:e,onSizesChange:n,...s}=t,i=Yi(ul,t.__scopeScrollArea),[o,c]=E.useState(),u=E.useRef(null),l=Pr(r,u,i.onScrollbarYChange);return E.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),a.jsx(rI,{"data-orientation":"vertical",...s,ref:l,sizes:e,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sx(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),oI(f,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Jy(o.paddingTop),paddingEnd:Jy(o.paddingBottom)}})}})}),[Kse,tI]=QD(ul),rI=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:d,onResize:p,...f}=t,h=Yi(ul,e),[g,y]=E.useState(null),m=Pr(r,I=>y(I)),v=E.useRef(null),x=E.useRef(""),S=h.viewport,C=n.content-n.viewport,A=xa(d),B=xa(u),q=ax(p,10);function D(I){if(v.current){const U=I.clientX-v.current.left,K=I.clientY-v.current.top;l({x:U,y:K})}}return E.useEffect(()=>{const I=U=>{const K=U.target;g?.contains(K)&&A(U,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,g,C,A]),E.useEffect(B,[n,B]),ah(g,q),ah(h.content,q),a.jsx(Kse,{scope:e,scrollbar:g,hasThumb:s,onThumbChange:xa(i),onThumbPointerUp:xa(o),onThumbPositionChange:B,onThumbPointerDown:xa(c),children:a.jsx(Ht.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:ut(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),v.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),D(I))}),onPointerMove:ut(t.onPointerMove,D),onPointerUp:ut(t.onPointerUp,I=>{const U=I.target;U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Zy="ScrollAreaThumb",nI=E.forwardRef((t,r)=>{const{forceMount:e,...n}=t,s=tI(Zy,t.__scopeScrollArea);return a.jsx(js,{present:e||s.hasThumb,children:a.jsx(Gse,{ref:r,...n})})}),Gse=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,style:n,...s}=t,i=Yi(Zy,e),o=tI(Zy,e),{onThumbPositionChange:c}=o,u=Pr(r,p=>o.onThumbChange(p)),l=E.useRef(void 0),d=ax(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const p=i.viewport;if(p){const f=()=>{if(d(),!l.current){const h=Yse(p,c);l.current=h,c()}};return c(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[i.viewport,d,c]),a.jsx(Ht.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ut(t.onPointerDownCapture,p=>{const h=p.target.getBoundingClientRect(),g=p.clientX-h.left,y=p.clientY-h.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:ut(t.onPointerUp,o.onThumbPointerUp)})});nI.displayName=Zy;var s3="ScrollAreaCorner",sI=E.forwardRef((t,r)=>{const e=Yi(s3,t.__scopeScrollArea),n=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&n?a.jsx(Xse,{...t,ref:r}):null});sI.displayName=s3;var Xse=E.forwardRef((t,r)=>{const{__scopeScrollArea:e,...n}=t,s=Yi(s3,e),[i,o]=E.useState(0),[c,u]=E.useState(0),l=!!(i&&c);return ah(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),u(d)}),ah(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),o(d)}),l?a.jsx(Ht.div,{...n,ref:r,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jy(t){return t?parseInt(t,10):0}function aI(t,r){const e=t/r;return isNaN(e)?0:e}function sx(t){const r=aI(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-e)*r;return Math.max(n,18)}function Qse(t,r,e,n="ltr"){const s=sx(e),i=s/2,o=r||i,c=s-o,u=e.scrollbar.paddingStart+o,l=e.scrollbar.size-e.scrollbar.paddingEnd-c,d=e.content-e.viewport,p=n==="ltr"?[0,d]:[d*-1,0];return iI([u,l],p)(t)}function _N(t,r,e="ltr"){const n=sx(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-s,o=r.content-r.viewport,c=i-n,u=e==="ltr"?[0,o]:[o*-1,0],l=P2(t,u);return iI([0,o],[0,c])(l)}function iI(t,r){return e=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(t[1]-t[0]);return r[0]+n*(e-t[0])}}function oI(t,r){return t>0&&t<r}var Yse=(t,r=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},n=0;return(function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=e.left!==i.left,c=e.top!==i.top;(o||c)&&r(),e=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function ax(t,r){const e=xa(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(e,r)},[e,r])}function ah(t,r){const e=xa(r);Ks(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(e)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,e])}var lI=YD,Zse=JD,Jse=sI;const Yl=E.forwardRef(({className:t,children:r,...e},n)=>a.jsxs(lI,{ref:n,className:Ae("relative overflow-hidden",t),...e,children:[a.jsx(Zse,{className:"h-full w-full rounded-[inherit]",children:r}),a.jsx(a3,{}),a.jsx(Jse,{})]}));Yl.displayName=lI.displayName;const a3=E.forwardRef(({className:t,orientation:r="vertical",...e},n)=>a.jsx(r3,{ref:n,orientation:r,className:Ae("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...e,children:a.jsx(nI,{className:"relative flex-1 rounded-full bg-border"})}));a3.displayName=r3.displayName;function is({value:t,onValueChange:r,options:e,placeholder:n="...",searchPlaceholder:s="...",emptyText:i="  ",disabled:o=!1,className:c="",triggerClassName:u="",contentClassName:l="",showSearch:d=!0,maxHeight:p=300,allowCustom:f=!1,onCustomAdd:h}){const[g,y]=E.useState(!1),[m,v]=E.useState(""),x=E.useRef(null),S=E.useMemo(()=>{if(!m.trim())return e;const D=m.toLowerCase().trim();return e.filter(I=>I.label.toLowerCase().includes(D)||I.value.toLowerCase().includes(D)||I.description?.toLowerCase().includes(D))},[e,m]),C=E.useMemo(()=>e.find(D=>D.value===t),[e,t]),A=E.useCallback(D=>{r(D),y(!1),v("")},[r]),B=E.useCallback(D=>{D.stopPropagation(),r("")},[r]);E.useEffect(()=>{if(g&&d&&x.current){x.current.focus();const D=setTimeout(()=>{x.current?.focus()},50);return()=>clearTimeout(D)}g||v("")},[g,d]);const q=E.useCallback(D=>{D.key==="Escape"&&y(!1)},[]);return a.jsx("div",{className:Ae("w-full",c),children:a.jsxs(J4,{open:g,onOpenChange:y,children:[a.jsx(e3,{asChild:!0,children:a.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":g,disabled:o,className:Ae("w-full justify-between h-10 font-normal",!t&&"text-muted-foreground",u),children:[a.jsx("span",{className:"truncate text-right flex-1",children:C?.label||n}),a.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[t&&!o&&a.jsx(Us,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:B}),a.jsx(rs,{className:"h-4 w-4 opacity-50"})]})]})}),a.jsxs(nx,{className:Ae("w-[var(--radix-popover-trigger-width)] p-0",l),align:"start",onKeyDown:q,children:[d&&a.jsx("div",{className:"border-b p-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(bo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),a.jsx(xt,{ref:x,placeholder:s,value:m,onChange:D=>v(D.target.value),className:"pr-8 h-9"})]})}),a.jsx(Yl,{className:"w-full",style:{maxHeight:`${p}px`},children:a.jsx("div",{className:"p-1 min-w-[var(--radix-popover-trigger-width)]",children:S.length===0?a.jsx("div",{children:f&&m.trim()?a.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[a.jsx(gs,{className:"h-4 w-4 shrink-0"}),a.jsx("div",{className:"flex-1 text-right",children:a.jsxs("div",{children:['+  "',m.trim(),'"']})})]}):a.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:i})}):a.jsxs(a.Fragment,{children:[S.map(D=>a.jsxs("button",{onClick:()=>!D.disabled&&A(D.value),disabled:D.disabled,className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150",t===D.value&&"bg-accent/50",D.disabled&&"opacity-50 cursor-not-allowed"),children:[a.jsx(Dl,{className:Ae("h-4 w-4 shrink-0",t===D.value?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex-1 text-right",children:[a.jsx("div",{children:D.label}),D.description&&a.jsx("div",{className:"text-xs text-muted-foreground",children:D.description})]})]},D.value)),f&&m.trim()&&!S.some(D=>D.value===m.trim())&&a.jsxs("button",{onClick:()=>{A(m.trim()),h?.(m.trim())},className:Ae("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-sm text-right mt-1","hover:bg-accent hover:text-accent-foreground cursor-pointer","transition-colors duration-150 bg-blue-50"),children:[a.jsx(gs,{className:"h-4 w-4 shrink-0"}),a.jsx("div",{className:"flex-1 text-right",children:a.jsxs("div",{children:['+  "',m.trim(),'"']})})]})]})})})]})]})})}function fbe({value:t,onValueChange:r,workers:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",showInactiveWorkers:o=!0,disabled:c=!1,className:u=""}){const l=E.useMemo(()=>{const p=(o?e:e.filter(f=>f.isActive!==!1)).map(f=>({value:f.id,label:f.name,description:f.type?`${f.type}${f.isActive===!1?" ( )":""}`:f.isActive===!1?"( )":void 0}));return s?[{value:"all",label:i},...p]:p},[e,s,i,o]);return a.jsx(is,{value:t,onValueChange:r,options:l,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:c,className:u})}function hbe({value:t,onValueChange:r,projects:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id,label:d.name,description:d.status||void 0}));return s?[{value:"all",label:i},...l]:l},[e,s,i]);return a.jsx(is,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:c})}function pbe({value:t,onValueChange:r,users:e,placeholder:n=" ",showAllOption:s=!1,allOptionLabel:i=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id,label:d.fullName||d.username||d.email||d.id,description:d.email||void 0}));return s?[{value:"all",label:i},...l]:l},[e,s,i]);return a.jsx(is,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"  ...",emptyText:"    ",disabled:o,className:c})}function F2({value:t,onValueChange:r,projectTypes:e,placeholder:n="  ",showNoneOption:s=!0,noneOptionLabel:i=" ",disabled:o=!1,className:c=""}){const u=E.useMemo(()=>{const l=e.map(d=>({value:d.id.toString(),label:d.name,description:d.description||void 0}));return s?[{value:"",label:i},...l]:l},[e,s,i]);return a.jsx(is,{value:t,onValueChange:r,options:u,placeholder:n,searchPlaceholder:"   ...",emptyText:"    ",disabled:o,className:c})}function Sm({projectId:t,value:r,onChange:e,showLabel:n=!0,disabled:s=!1,optional:i=!0}){const{data:o=[],isLoading:c}=vt({queryKey:xe.wellsByProject(t),queryFn:async()=>{if(!t)return[];try{const l=await Ue(`/api/wells?projectId=${t}`);return l&&l.success&&Array.isArray(l.data)?l.data:Array.isArray(l)?l:l.data||[]}catch(l){return console.error("Error fetching wells:",l),[]}},enabled:!!t,staleTime:3e5}),u=E.useMemo(()=>{const l=o.map(d=>({value:String(d.id),label:` #${d.wellNumber} - ${d.ownerName}`}));return i?[{value:"none",label:" "},...l]:l},[o,i]);return!t||o.length===0?null:a.jsxs("div",{className:"space-y-1",children:[n&&a.jsxs(Ze,{className:"text-xs font-bold text-foreground mb-1",children:[" ",!i&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(is,{options:u,value:r?String(r):"none",onValueChange:l=>e(l==="none"?void 0:parseInt(l)),placeholder:" ",searchPlaceholder:"  ...",emptyText:"   ",disabled:s||c})]})}const cI=E.createContext(void 0);function eae({children:t}){const[r,e]=E.useState(null),[n,s]=E.useState(null),[i,o]=E.useState(" "),c=E.useCallback((l,d=" ")=>{e(p=>p===l?p:l),o(p=>p===d?p:d)},[]),u=E.useCallback(l=>{s(d=>d===l?d:l)},[]);return a.jsx(cI.Provider,{value:{setFloatingAction:c,setRefreshAction:u,floatingAction:r,floatingLabel:i,refreshAction:n},children:t})}function Zi(){const t=E.useContext(cI);if(t===void 0)throw new Error("useFloatingButton must be used within a FloatingButtonProvider");return t}const kN={blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500",gradient:"from-blue-500 to-sky-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500",gradient:"from-green-500 to-emerald-500"},orange:{bg:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/20",border:"border-orange-100 dark:border-orange-800/50",text:"text-orange-600 dark:text-orange-400",icon:"text-orange-500",gradient:"from-orange-500 to-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500",gradient:"from-red-500 to-rose-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500",gradient:"from-purple-500 to-violet-500"},teal:{bg:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/20",border:"border-teal-100 dark:border-teal-800/50",text:"text-teal-600 dark:text-teal-400",icon:"text-teal-500",gradient:"from-teal-500 to-cyan-500"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/30 dark:to-blue-900/20",border:"border-indigo-100 dark:border-indigo-800/50",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",gradient:"from-indigo-500 to-blue-500"},emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",gradient:"from-emerald-500 to-green-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-yellow-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",gradient:"from-amber-500 to-yellow-500"},gray:{bg:"bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-900/30 dark:to-slate-900/20",border:"border-gray-100 dark:border-gray-800/50",text:"text-gray-600 dark:text-gray-400",icon:"text-gray-500",gradient:"from-gray-500 to-slate-500"},cyan:{bg:"bg-gradient-to-br from-cyan-50 to-sky-50 dark:from-cyan-900/30 dark:to-sky-900/20",border:"border-cyan-100 dark:border-cyan-800/50",text:"text-cyan-600 dark:text-cyan-400",icon:"text-cyan-500",gradient:"from-cyan-500 to-sky-500"},rose:{bg:"bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-900/30 dark:to-pink-900/20",border:"border-rose-100 dark:border-rose-800/50",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",gradient:"from-rose-500 to-pink-500"},yellow:{bg:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/20",border:"border-yellow-100 dark:border-yellow-800/50",text:"text-yellow-600 dark:text-yellow-400",icon:"text-yellow-500",gradient:"from-yellow-500 to-amber-500"}};function jN(t){return isNaN(t)||!isFinite(t)||Math.abs(t)>1e11?"0":t.toLocaleString("en-US")}function tae({item:t}){const r=t.splitValue;return r?a.jsxs("div",{className:Ae("relative flex flex-col rounded-xl border transition-all overflow-hidden h-[65px]","bg-gradient-to-b from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900/30","border-slate-200 dark:border-slate-700","hover:shadow-sm"),children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 py-1 px-2 bg-slate-100/80 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(t.icon,{className:"h-3 w-3 text-slate-600 dark:text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:t.label})]}),a.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700 rtl:divide-x-reverse flex-1",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0.5 bg-teal-50/50 dark:bg-teal-900/20",children:[a.jsx("span",{className:"text-[9px] font-medium text-teal-600 dark:text-teal-400",children:""}),a.jsx("span",{className:"text-xs font-extrabold text-teal-700 dark:text-teal-300 arabic-numbers leading-none",children:jN(r.incoming)})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center px-1 py-0.5 bg-rose-50/50 dark:bg-rose-900/20",children:[a.jsx("span",{className:"text-[9px] font-medium text-rose-600 dark:text-rose-400",children:""}),a.jsx("span",{className:"text-xs font-extrabold text-rose-700 dark:text-rose-300 arabic-numbers leading-none",children:jN(r.outgoing)})]})]})]}):null}function rae({item:t}){if(t.isSplitCard)return a.jsx(tae,{item:t});const r=kN[t.color]||kN.blue,e=t.icon,s=(o=>typeof o=="number"?isNaN(o)||!isFinite(o)||Math.abs(o)>1e11?"0":t.formatter?t.formatter(o):o.toLocaleString("en-US"):String(o))(t.value),i=o=>{const c=o.length;return c<=4?"1.1rem":c<=7?"1rem":c<=10?"0.85rem":c<=13?"0.75rem":"0.65rem"};return a.jsxs("div",{className:Ae("relative flex flex-col p-1.5 rounded-xl border transition-all h-[65px]",r.bg,r.border,"hover:shadow-sm",t.onClick&&"cursor-pointer"),onClick:t.onClick,children:[a.jsxs("div",{className:"flex items-center justify-between gap-1 mb-0.5",children:[a.jsx("span",{className:"text-[10px] font-bold text-muted-foreground truncate flex-1 leading-tight",children:t.label}),a.jsx("div",{className:Ae("p-0.5 rounded-md flex-shrink-0",r.bg),children:a.jsx(e,{className:Ae("h-3 w-3",r.icon)})})]}),t.showDot&&a.jsx("div",{className:Ae("absolute top-2 right-10 h-2.5 w-2.5 rounded-full",t.dotColor||"bg-green-500")}),a.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx("span",{className:Ae("font-bold arabic-numbers leading-none whitespace-nowrap",r.text),style:{fontSize:i(s)},children:s}),t.unit&&a.jsx("span",{className:"text-[9px] text-muted-foreground leading-none",children:t.unit}),t.subLabel&&a.jsx("span",{className:"text-[9px] text-muted-foreground/70 truncate w-full mt-0.5",children:t.subLabel}),t.trend&&a.jsxs("span",{className:Ae("text-[9px] flex items-center gap-0.5 mt-0.5",t.trend.isPositive?"text-green-500":"text-red-500"),children:[t.trend.isPositive?a.jsx(Rn,{className:"h-2 w-2"}):a.jsx(_a,{className:"h-2 w-2"}),t.trend.value,"%"]})]})]})}function nae({rows:t,className:r}){if(!t||t.length===0)return null;const e=(s=3)=>{switch(s){case 2:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4";case 5:return"grid-cols-5";case 6:return"grid-cols-6";default:return"grid-cols-3"}},n=(s="sm")=>{switch(s){case"sm":return"gap-2";case"md":return"gap-3";case"lg":return"gap-4";default:return"gap-2"}};return a.jsx("div",{className:Ae("space-y-2",r),children:t.map((s,i)=>a.jsx("div",{className:Ae("grid",e(s.columns),n(s.gap)),children:s.items.map(o=>a.jsx(rae,{item:o},o.key))},i))})}const ix=$4,i3=z4,uI=c0,sae=V4,dI=E.forwardRef(({className:t,...r},e)=>a.jsx(o0,{className:Ae("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));dI.displayName=o0.displayName;const aae=kd("fixed z-[9999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 bg-background opacity-100",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),d0=E.forwardRef(({side:t="right",className:r,children:e,...n},s)=>a.jsxs(sae,{children:[a.jsx(dI,{}),a.jsxs(l0,{ref:s,className:Ae(aae({side:t}),r),style:{pointerEvents:"auto"},...n,children:[e,a.jsxs(c0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Us,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));d0.displayName=l0.displayName;const o3=({className:t,...r})=>a.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...r});o3.displayName="SheetHeader";const f0=E.forwardRef(({className:t,...r},e)=>a.jsx(Sh,{ref:e,className:Ae("text-lg font-semibold text-foreground",t),...r}));f0.displayName=Sh.displayName;const fI=E.forwardRef(({className:t,...r},e)=>a.jsx(Nh,{ref:e,className:Ae("text-sm text-muted-foreground",t),...r}));fI.displayName=Nh.displayName;function _r(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function ai(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Ia(t,r){const e=_r(t);return isNaN(r)?ai(t,NaN):(r&&e.setDate(e.getDate()+r),e)}function ko(t,r){const e=_r(t);if(isNaN(r))return ai(t,NaN);if(!r)return e;const n=e.getDate(),s=ai(t,e.getTime());s.setMonth(e.getMonth()+r+1,0);const i=s.getDate();return n>=i?s:(e.setFullYear(s.getFullYear(),s.getMonth(),n),e)}const l3=6048e5,iae=864e5,hI=6e4,pI=36e5,$g=43200,SN=1440;let oae={};function Ah(){return oae}function Xi(t,r){const e=Ah(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=_r(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function md(t){return Xi(t,{weekStartsOn:1})}function mI(t){const r=_r(t),e=r.getFullYear(),n=ai(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);const s=md(n),i=ai(t,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const o=md(i);return r.getTime()>=s.getTime()?e+1:r.getTime()>=o.getTime()?e:e-1}function ih(t){const r=_r(t);return r.setHours(0,0,0,0),r}function oh(t){const r=_r(t),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+t-+e}function Ho(t,r){const e=ih(t),n=ih(r),s=+e-oh(e),i=+n-oh(n);return Math.round((s-i)/iae)}function lae(t){const r=mI(t),e=ai(t,0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),md(e)}function L2(t,r){const e=r*7;return Ia(t,e)}function cae(t,r){return ko(t,r*12)}function uae(t){let r;return t.forEach(function(e){const n=_r(e);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function dae(t){let r;return t.forEach(e=>{const n=_r(e);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function dy(t,r){const e=_r(t),n=_r(r),s=e.getTime()-n.getTime();return s<0?-1:s>0?1:s}function h0(t){return ai(t,Date.now())}function wa(t,r){const e=ih(t),n=ih(r);return+e==+n}function c3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fae(t){if(!c3(t)&&typeof t!="number")return!1;const r=_r(t);return!isNaN(Number(r))}function lh(t,r){const e=_r(t),n=_r(r),s=e.getFullYear()-n.getFullYear(),i=e.getMonth()-n.getMonth();return s*12+i}function hae(t,r,e){const n=Xi(t,e),s=Xi(r,e),i=+n-oh(n),o=+s-oh(s);return Math.round((i-o)/l3)}function pae(t){return r=>{const n=(t?Math[t]:Math.trunc)(r);return n===0?0:n}}function mae(t,r){return+_r(t)-+_r(r)}function gae(t){const r=_r(t);return r.setHours(23,59,59,999),r}function ox(t){const r=_r(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(23,59,59,999),r}function yae(t){const r=_r(t);return+gae(r)==+ox(r)}function bae(t,r){const e=_r(t),n=_r(r),s=dy(e,n),i=Math.abs(lh(e,n));let o;if(i<1)o=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-s*i);let c=dy(e,n)===-s;yae(_r(t))&&i===1&&dy(t,n)===1&&(c=!1),o=s*(i-Number(c))}return o===0?0:o}function xae(t,r,e){const n=mae(t,r)/1e3;return pae(e?.roundingMethod)(n)}function si(t){const r=_r(t);return r.setDate(1),r.setHours(0,0,0,0),r}function gI(t){const r=_r(t),e=ai(t,0);return e.setFullYear(r.getFullYear(),0,1),e.setHours(0,0,0,0),e}function u3(t,r){const e=Ah(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=_r(t),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function yI(t){return u3(t,{weekStartsOn:1})}const vae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wae=(t,r,e)=>{let n;const s=vae[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Bl(t){return(r={})=>{const e=r.width?String(r.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}const _ae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sae={date:Bl({formats:_ae,defaultWidth:"full"}),time:Bl({formats:kae,defaultWidth:"full"}),dateTime:Bl({formats:jae,defaultWidth:"full"})},Nae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cae=(t,r,e,n)=>Nae[t];function Fa(t){return(r,e)=>{const n=e?.context?String(e.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=e?.width?String(e.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=e?.width?String(e.width):t.defaultWidth;s=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(r):r;return s[i]}}const Tae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Eae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dae=(t,r)=>{const e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Iae={ordinalNumber:Dae,era:Fa({values:Tae,defaultWidth:"wide"}),quarter:Fa({values:Eae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fa({values:Aae,defaultWidth:"wide"}),day:Fa({values:Pae,defaultWidth:"wide"}),dayPeriod:Fa({values:Mae,defaultWidth:"wide",formattingValues:Rae,defaultFormattingWidth:"wide"})};function La(t){return(r,e={})=>{const n=e.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?Fae(c,p=>p.test(o)):Oae(c,p=>p.test(o));let l;l=t.valueCallback?t.valueCallback(u):u,l=e.valueCallback?e.valueCallback(l):l;const d=r.slice(o.length);return{value:l,rest:d}}}function Oae(t,r){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&r(t[e]))return e}function Fae(t,r){for(let e=0;e<t.length;e++)if(r(t[e]))return e}function d3(t){return(r,e={})=>{const n=r.match(t.matchPattern);if(!n)return null;const s=n[0],i=r.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=e.valueCallback?e.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const Lae=/^(\d+)(th|st|nd|rd)?/i,Bae=/\d+/i,$ae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zae={any:[/^b/i,/^(a|c)/i]},Vae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uae={any:[/1/i,/2/i,/3/i,/4/i]},Wae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qae={ordinalNumber:d3({matchPattern:Lae,parsePattern:Bae,valueCallback:t=>parseInt(t,10)}),era:La({matchPatterns:$ae,defaultMatchWidth:"wide",parsePatterns:zae,defaultParseWidth:"any"}),quarter:La({matchPatterns:Vae,defaultMatchWidth:"wide",parsePatterns:Uae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:La({matchPatterns:Wae,defaultMatchWidth:"wide",parsePatterns:qae,defaultParseWidth:"any"}),day:La({matchPatterns:Hae,defaultMatchWidth:"wide",parsePatterns:Kae,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:Gae,defaultMatchWidth:"any",parsePatterns:Xae,defaultParseWidth:"any"})},f3={code:"en-US",formatDistance:wae,formatLong:Sae,formatRelative:Cae,localize:Iae,match:Qae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yae(t){const r=_r(t);return Ho(r,gI(r))+1}function bI(t){const r=_r(t),e=+md(r)-+lae(r);return Math.round(e/l3)+1}function xI(t,r){const e=_r(t),n=e.getFullYear(),s=Ah(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=ai(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Xi(o,r),u=ai(t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const l=Xi(u,r);return e.getTime()>=c.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function Zae(t,r){const e=Ah(),n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=xI(t,r),i=ai(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Xi(i,r)}function vI(t,r){const e=_r(t),n=+Xi(e,r)-+Zae(e,r);return Math.round(n/l3)+1}function bn(t,r){const e=t<0?"-":"",n=Math.abs(t).toString().padStart(r,"0");return e+n}const bc={y(t,r){const e=t.getFullYear(),n=e>0?e:1-e;return bn(r==="yy"?n%100:n,r.length)},M(t,r){const e=t.getMonth();return r==="M"?String(e+1):bn(e+1,2)},d(t,r){return bn(t.getDate(),r.length)},a(t,r){const e=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(t,r){return bn(t.getHours()%12||12,r.length)},H(t,r){return bn(t.getHours(),r.length)},m(t,r){return bn(t.getMinutes(),r.length)},s(t,r){return bn(t.getSeconds(),r.length)},S(t,r){const e=r.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,e-3));return bn(s,r.length)}},lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NN={G:function(t,r,e){const n=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,r,e){if(r==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return bc.y(t,r)},Y:function(t,r,e,n){const s=xI(t,n),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return bn(o,2)}return r==="Yo"?e.ordinalNumber(i,{unit:"year"}):bn(i,r.length)},R:function(t,r){const e=mI(t);return bn(e,r.length)},u:function(t,r){const e=t.getFullYear();return bn(e,r.length)},Q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return bn(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,e){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return bn(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,e){const n=t.getMonth();switch(r){case"M":case"MM":return bc.M(t,r);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,e){const n=t.getMonth();switch(r){case"L":return String(n+1);case"LL":return bn(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,e,n){const s=vI(t,n);return r==="wo"?e.ordinalNumber(s,{unit:"week"}):bn(s,r.length)},I:function(t,r,e){const n=bI(t);return r==="Io"?e.ordinalNumber(n,{unit:"week"}):bn(n,r.length)},d:function(t,r,e){return r==="do"?e.ordinalNumber(t.getDate(),{unit:"date"}):bc.d(t,r)},D:function(t,r,e){const n=Yae(t);return r==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):bn(n,r.length)},E:function(t,r,e){const n=t.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,e,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return bn(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,e,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return bn(i,r.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,e){const n=t.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return bn(s,r.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,e){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,e){const n=t.getHours();let s;switch(n===12?s=lf.noon:n===0?s=lf.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,e){const n=t.getHours();let s;switch(n>=17?s=lf.evening:n>=12?s=lf.afternoon:n>=4?s=lf.morning:s=lf.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,e){if(r==="ho"){let n=t.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return bc.h(t,r)},H:function(t,r,e){return r==="Ho"?e.ordinalNumber(t.getHours(),{unit:"hour"}):bc.H(t,r)},K:function(t,r,e){const n=t.getHours()%12;return r==="Ko"?e.ordinalNumber(n,{unit:"hour"}):bn(n,r.length)},k:function(t,r,e){let n=t.getHours();return n===0&&(n=24),r==="ko"?e.ordinalNumber(n,{unit:"hour"}):bn(n,r.length)},m:function(t,r,e){return r==="mo"?e.ordinalNumber(t.getMinutes(),{unit:"minute"}):bc.m(t,r)},s:function(t,r,e){return r==="so"?e.ordinalNumber(t.getSeconds(),{unit:"second"}):bc.s(t,r)},S:function(t,r){return bc.S(t,r)},X:function(t,r,e){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return TN(n);case"XXXX":case"XX":return Du(n);case"XXXXX":case"XXX":default:return Du(n,":")}},x:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"x":return TN(n);case"xxxx":case"xx":return Du(n);case"xxxxx":case"xxx":default:return Du(n,":")}},O:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+CN(n,":");case"OOOO":default:return"GMT"+Du(n,":")}},z:function(t,r,e){const n=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+CN(n,":");case"zzzz":default:return"GMT"+Du(n,":")}},t:function(t,r,e){const n=Math.trunc(t.getTime()/1e3);return bn(n,r.length)},T:function(t,r,e){const n=t.getTime();return bn(n,r.length)}};function CN(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?e+String(s):e+String(s)+r+bn(i,2)}function TN(t,r){return t%60===0?(t>0?"-":"+")+bn(Math.abs(t)/60,2):Du(t,r)}function Du(t,r=""){const e=t>0?"-":"+",n=Math.abs(t),s=bn(Math.trunc(n/60),2),i=bn(n%60,2);return e+s+r+i}const EN=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},wI=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Jae=(t,r)=>{const e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return EN(t,r);let i;switch(n){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",EN(n,r)).replace("{{time}}",wI(s,r))},eie={p:wI,P:Jae},tie=/^D+$/,rie=/^Y+$/,nie=["D","DD","YY","YYYY"];function sie(t){return tie.test(t)}function aie(t){return rie.test(t)}function iie(t,r,e){const n=oie(t,r,e);if(console.warn(n),nie.includes(t))throw new RangeError(n)}function oie(t,r,e){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uie=/^'([^]*?)'?$/,die=/''/g,fie=/[a-zA-Z]/;function jr(t,r,e){const n=Ah(),s=e?.locale??n.locale??f3,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=_r(t);if(!fae(c))throw new RangeError("Invalid time value");let u=r.match(cie).map(d=>{const p=d[0];if(p==="p"||p==="P"){const f=eie[p];return f(d,s.formatLong)}return d}).join("").match(lie).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const p=d[0];if(p==="'")return{isToken:!1,value:hie(d)};if(NN[p])return{isToken:!0,value:d};if(p.match(fie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(d=>{if(!d.isToken)return d.value;const p=d.value;(!e?.useAdditionalWeekYearTokens&&aie(p)||!e?.useAdditionalDayOfYearTokens&&sie(p))&&iie(p,r,String(t));const f=NN[p[0]];return f(c,p,s.localize,l)}).join("")}function hie(t){const r=t.match(uie);return r?r[1].replace(die,"'"):t}function pie(t,r,e){const n=Ah(),s=e?.locale??n.locale??f3,i=2520,o=dy(t,r);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},e,{addSuffix:e?.addSuffix,comparison:o});let u,l;o>0?(u=_r(r),l=_r(t)):(u=_r(t),l=_r(r));const d=xae(l,u),p=(oh(l)-oh(u))/1e3,f=Math.round((d-p)/60);let h;if(f<2)return e?.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,c):d<10?s.formatDistance("lessThanXSeconds",10,c):d<20?s.formatDistance("lessThanXSeconds",20,c):d<40?s.formatDistance("halfAMinute",0,c):d<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):f===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",f,c);if(f<45)return s.formatDistance("xMinutes",f,c);if(f<90)return s.formatDistance("aboutXHours",1,c);if(f<SN){const g=Math.round(f/60);return s.formatDistance("aboutXHours",g,c)}else{if(f<i)return s.formatDistance("xDays",1,c);if(f<$g){const g=Math.round(f/SN);return s.formatDistance("xDays",g,c)}else if(f<$g*2)return h=Math.round(f/$g),s.formatDistance("aboutXMonths",h,c)}if(h=bae(l,u),h<12){const g=Math.round(f/$g);return s.formatDistance("xMonths",g,c)}else{const g=h%12,y=Math.trunc(h/12);return g<3?s.formatDistance("aboutXYears",y,c):g<9?s.formatDistance("overXYears",y,c):s.formatDistance("almostXYears",y+1,c)}}function mie(t,r){return pie(t,h0(t),r)}function gie(t){const r=_r(t),e=r.getFullYear(),n=r.getMonth(),s=ai(t,0);return s.setFullYear(e,n+1,0),s.setHours(0,0,0,0),s.getDate()}function yie(t){return Math.trunc(+_r(t)/1e3)}function bie(t){const r=_r(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(0,0,0,0),r}function xie(t,r){return hae(bie(t),si(t),r)+1}function B2(t,r){const e=_r(t),n=_r(r);return e.getTime()>n.getTime()}function _I(t,r){const e=_r(t),n=_r(r);return+e<+n}function vie(t,r,e){const n=Xi(t,e),s=Xi(r,e);return+n==+s}function lx(t,r){const e=_r(t),n=_r(r);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function wie(t,r){const e=_r(t),n=_r(r);return e.getFullYear()===n.getFullYear()}function _ie(t){return lx(t,h0(t))}function kie(t,r){return vie(t,h0(t),r)}function kI(t){return wa(t,h0(t))}function fy(t,r){return Ia(t,-r)}function jie(t){return wa(t,fy(h0(t),1))}function $2(t,r){const n=Tie(t);let s;if(n.date){const u=Eie(n.date,2);s=Aie(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,c;if(n.time&&(o=Pie(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=Mie(n.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(i+o),l=new Date(0);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return new Date(i+o+c)}const zg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Sie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Cie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tie(t){const r={},e=t.split(zg.dateTimeDelimiter);let n;if(e.length>2)return r;if(/:/.test(e[0])?n=e[0]:(r.date=e[0],n=e[1],zg.timeZoneDelimiter.test(r.date)&&(r.date=t.split(zg.timeZoneDelimiter)[0],n=t.substr(r.date.length,t.length))),n){const s=zg.timezone.exec(n);s?(r.time=n.replace(s[1],""),r.timezone=s[1]):r.time=n}return r}function Eie(t,r){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=t.match(e);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function Aie(t,r){if(r===null)return new Date(NaN);const e=t.match(Sie);if(!e)return new Date(NaN);const n=!!e[4],s=jp(e[1]),i=jp(e[2])-1,o=jp(e[3]),c=jp(e[4]),u=jp(e[5])-1;if(n)return Fie(r,c,u)?Rie(r,c,u):new Date(NaN);{const l=new Date(0);return!Iie(r,i,o)||!Oie(r,s)?new Date(NaN):(l.setUTCFullYear(r,i,Math.max(s,o)),l)}}function jp(t){return t?parseInt(t):1}function Pie(t){const r=t.match(Nie);if(!r)return NaN;const e=F1(r[1]),n=F1(r[2]),s=F1(r[3]);return Lie(e,n,s)?e*pI+n*hI+s*1e3:NaN}function F1(t){return t&&parseFloat(t.replace(",","."))||0}function Mie(t){if(t==="Z")return 0;const r=t.match(Cie);if(!r)return 0;const e=r[1]==="+"?-1:1,n=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return Bie(n,s)?e*(n*pI+s*hI):NaN}function Rie(t,r,e){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(r-1)*7+e+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Die=[31,null,31,30,31,30,31,31,30,31,30,31];function jI(t){return t%400===0||t%4===0&&t%100!==0}function Iie(t,r,e){return r>=0&&r<=11&&e>=1&&e<=(Die[r]||(jI(t)?29:28))}function Oie(t,r){return r>=1&&r<=(jI(t)?366:365)}function Fie(t,r,e){return r>=1&&r<=53&&e>=0&&e<=6}function Lie(t,r,e){return t===24?r===0&&e===0:e>=0&&e<60&&r>=0&&r<60&&t>=0&&t<25}function Bie(t,r){return r>=0&&r<=59}function L1(t,r){const e=_r(t),n=e.getFullYear(),s=e.getDate(),i=ai(t,0);i.setFullYear(n,r,15),i.setHours(0,0,0,0);const o=gie(i);return e.setMonth(r,Math.min(s,o)),e}function AN(t,r){const e=_r(t);return isNaN(+e)?ai(t,NaN):(e.setFullYear(r),e)}const $ie={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},zie=(t,r,e)=>{const n=$ie[t];let s;return typeof n=="string"?s=n:r===1?s=n.one:r===2?s=n.two:r<=10?s=n.threeToTen.replace("{{count}}",String(r)):s=n.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?" "+s:" "+s:s},Vie={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Uie={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Wie={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qie={date:Bl({formats:Vie,defaultWidth:"full"}),time:Bl({formats:Uie,defaultWidth:"full"}),dateTime:Bl({formats:Wie,defaultWidth:"full"})},Hie={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Kie=t=>Hie[t],Gie={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Xie={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Qie={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Yie={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Zie={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Jie={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},eoe=t=>String(t),toe={ordinalNumber:eoe,era:Fa({values:Gie,defaultWidth:"wide"}),quarter:Fa({values:Xie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fa({values:Qie,defaultWidth:"wide"}),day:Fa({values:Yie,defaultWidth:"wide"}),dayPeriod:Fa({values:Zie,defaultWidth:"wide",formattingValues:Jie,defaultFormattingWidth:"wide"})},roe=/^(\d+)(th|st|nd|rd)?/i,noe=/\d+/i,soe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},aoe={any:[//,//]},ioe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},ooe={any:[/1/i,/2/i,/3/i,/4/i]},loe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},coe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},uoe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},doe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},foe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},hoe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},poe={ordinalNumber:d3({matchPattern:roe,parsePattern:noe,valueCallback:t=>parseInt(t,10)}),era:La({matchPatterns:soe,defaultMatchWidth:"wide",parsePatterns:aoe,defaultParseWidth:"any"}),quarter:La({matchPatterns:ioe,defaultMatchWidth:"wide",parsePatterns:ooe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:La({matchPatterns:loe,defaultMatchWidth:"wide",parsePatterns:coe,defaultParseWidth:"any"}),day:La({matchPatterns:uoe,defaultMatchWidth:"wide",parsePatterns:doe,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:foe,defaultMatchWidth:"any",parsePatterns:hoe,defaultParseWidth:"any"})},ca={code:"ar",formatDistance:zie,formatLong:qie,formatRelative:Kie,localize:toe,match:poe,options:{weekStartsOn:6,firstWeekContainsDate:1}},moe={lessThanXSeconds:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "}},goe=(t,r,e)=>{let n;const s=moe[t];return typeof s=="string"?n=s:r===1?n=s.one:r===2?n=s.two:r<=10?n=s.threeToTen.replace("{{count}}",String(r)):n=s.other.replace("{{count}}",String(r)),e?.addSuffix?e.comparison&&e.comparison>0?"  "+n:" "+n:n},yoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},boe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xoe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},voe={date:Bl({formats:yoe,defaultWidth:"full"}),time:Bl({formats:boe,defaultWidth:"full"}),dateTime:Bl({formats:xoe,defaultWidth:"full"})},woe={lastWeek:"'' eeee '' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},_oe=(t,r,e,n)=>woe[t],koe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},joe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Soe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Noe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Coe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:"",night:""}},Toe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},abbreviated:{am:"",pm:"",midnight:" ",noon:"",morning:" ",afternoon:" ",evening:" ",night:" "},wide:{am:"",pm:"",midnight:" ",noon:"",morning:"",afternoon:" ",evening:" ",night:" "}},Eoe=t=>String(t),Aoe={ordinalNumber:Eoe,era:Fa({values:koe,defaultWidth:"wide"}),quarter:Fa({values:joe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fa({values:Soe,defaultWidth:"wide"}),day:Fa({values:Noe,defaultWidth:"wide"}),dayPeriod:Fa({values:Coe,defaultWidth:"wide",formattingValues:Toe,defaultFormattingWidth:"wide"})},Poe=/^(\d+)(th|st|nd|rd)?/i,Moe=/\d+/i,Roe={narrow:/^(|)/i,abbreviated:/^(\.?\s?\.?|\.?\s?\.?\s?|a\.?\s?d\.?|c\.?\s?)/i,wide:/^( | | | )/i},Doe={any:[/^/i,/^/i]},Ioe={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^ [1234]/i},Ooe={any:[/1/i,/2/i,/3/i,/4/i]},Foe={narrow:/^[]/i,abbreviated:/^(|||||||||||)/i,wide:/^(|||||||||||)/i},Loe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Boe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},$oe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},zoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Voe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uoe={ordinalNumber:d3({matchPattern:Poe,parsePattern:Moe,valueCallback:t=>parseInt(t,10)}),era:La({matchPatterns:Roe,defaultMatchWidth:"wide",parsePatterns:Doe,defaultParseWidth:"any"}),quarter:La({matchPatterns:Ioe,defaultMatchWidth:"wide",parsePatterns:Ooe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:La({matchPatterns:Foe,defaultMatchWidth:"wide",parsePatterns:Loe,defaultParseWidth:"any"}),day:La({matchPatterns:Boe,defaultMatchWidth:"wide",parsePatterns:$oe,defaultParseWidth:"any"}),dayPeriod:La({matchPatterns:zoe,defaultMatchWidth:"any",parsePatterns:Voe,defaultParseWidth:"any"})},SI={code:"ar-SA",formatDistance:goe,formatLong:voe,formatRelative:_oe,localize:Aoe,match:Uoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};var pr=function(){return pr=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},pr.apply(this,arguments)};function Woe(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e}function NI(t,r,e){for(var n=0,s=r.length,i;n<s;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}function p0(t){return t.mode==="multiple"}function m0(t){return t.mode==="range"}function cx(t){return t.mode==="single"}var qoe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Hoe(t,r){return jr(t,"LLLL y",r)}function Koe(t,r){return jr(t,"d",r)}function Goe(t,r){return jr(t,"LLLL",r)}function Xoe(t){return"".concat(t)}function Qoe(t,r){return jr(t,"cccccc",r)}function Yoe(t,r){return jr(t,"yyyy",r)}var Zoe=Object.freeze({__proto__:null,formatCaption:Hoe,formatDay:Koe,formatMonthCaption:Goe,formatWeekNumber:Xoe,formatWeekdayName:Qoe,formatYearCaption:Yoe}),Joe=function(t,r,e){return jr(t,"do MMMM (EEEE)",e)},ele=function(){return"Month: "},tle=function(){return"Go to next month"},rle=function(){return"Go to previous month"},nle=function(t,r){return jr(t,"cccc",r)},sle=function(t){return"Week n. ".concat(t)},ale=function(){return"Year: "},ile=Object.freeze({__proto__:null,labelDay:Joe,labelMonthDropdown:ele,labelNext:tle,labelPrevious:rle,labelWeekNumber:sle,labelWeekday:nle,labelYearDropdown:ale});function ole(){var t="buttons",r=qoe,e=f3,n={},s={},i=1,o={},c=new Date;return{captionLayout:t,classNames:r,formatters:Zoe,labels:ile,locale:e,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:c,mode:"default"}}function lle(t){var r=t.fromYear,e=t.toYear,n=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=si(n):r&&(i=new Date(r,0,1)),s?o=ox(s):e&&(o=new Date(e,11,31)),{fromDate:i?ih(i):void 0,toDate:o?ih(o):void 0}}var CI=E.createContext(void 0);function cle(t){var r,e=t.initialProps,n=ole(),s=lle(e),i=s.fromDate,o=s.toDate,c=(r=e.captionLayout)!==null&&r!==void 0?r:n.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var u;(cx(e)||p0(e)||m0(e))&&(u=e.onSelect);var l=pr(pr(pr({},n),e),{captionLayout:c,classNames:pr(pr({},n.classNames),e.classNames),components:pr({},e.components),formatters:pr(pr({},n.formatters),e.formatters),fromDate:i,labels:pr(pr({},n.labels),e.labels),mode:e.mode||n.mode,modifiers:pr(pr({},n.modifiers),e.modifiers),modifiersClassNames:pr(pr({},n.modifiersClassNames),e.modifiersClassNames),onSelect:u,styles:pr(pr({},n.styles),e.styles),toDate:o});return a.jsx(CI.Provider,{value:l,children:t.children})}function Tn(){var t=E.useContext(CI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function TI(t){var r=Tn(),e=r.locale,n=r.classNames,s=r.styles,i=r.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:e})})}function ule(t){return a.jsx("svg",pr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EI(t){var r,e,n=t.onChange,s=t.value,i=t.children,o=t.caption,c=t.className,u=t.style,l=Tn(),d=(e=(r=l.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&e!==void 0?e:ule;return a.jsxs("div",{className:c,style:u,children:[a.jsx("span",{className:l.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function dle(t){var r,e=Tn(),n=e.fromDate,s=e.toDate,i=e.styles,o=e.locale,c=e.formatters.formatMonthCaption,u=e.classNames,l=e.components,d=e.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var p=[];if(wie(n,s))for(var f=si(n),h=n.getMonth();h<=s.getMonth();h++)p.push(L1(f,h));else for(var f=si(new Date),h=0;h<=11;h++)p.push(L1(f,h));var g=function(m){var v=Number(m.target.value),x=L1(si(t.displayMonth),v);t.onChange(x)},y=(r=l?.Dropdown)!==null&&r!==void 0?r:EI;return a.jsx(y,{name:"months","aria-label":d(),className:u.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:o}),children:p.map(function(m){return a.jsx("option",{value:m.getMonth(),children:c(m,{locale:o})},m.getMonth())})})}function fle(t){var r,e=t.displayMonth,n=Tn(),s=n.fromDate,i=n.toDate,o=n.locale,c=n.styles,u=n.classNames,l=n.components,d=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,f=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var h=s.getFullYear(),g=i.getFullYear(),y=h;y<=g;y++)f.push(AN(gI(new Date),y));var m=function(x){var S=AN(si(e),Number(x.target.value));t.onChange(S)},v=(r=l?.Dropdown)!==null&&r!==void 0?r:EI;return a.jsx(v,{name:"years","aria-label":p(),className:u.dropdown_year,style:c.dropdown_year,onChange:m,value:e.getFullYear(),caption:d(e,{locale:o}),children:f.map(function(x){return a.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function hle(t,r){var e=E.useState(t),n=e[0],s=e[1],i=r===void 0?n:r;return[i,s]}function ple(t){var r=t.month,e=t.defaultMonth,n=t.today,s=r||e||n||new Date,i=t.toDate,o=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(i&&lh(i,s)<0){var l=-1*(u-1);s=ko(i,l)}return o&&lh(s,o)<0&&(s=o),si(s)}function mle(){var t=Tn(),r=ple(t),e=hle(r,t.month),n=e[0],s=e[1],i=function(o){var c;if(!t.disableNavigation){var u=si(o);s(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[n,i]}function gle(t,r){for(var e=r.reverseMonths,n=r.numberOfMonths,s=si(t),i=si(ko(s,n)),o=lh(i,s),c=[],u=0;u<o;u++){var l=ko(s,u);c.push(l)}return e&&(c=c.reverse()),c}function yle(t,r){if(!r.disableNavigation){var e=r.toDate,n=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=n?i:1,c=si(t);if(!e)return ko(c,o);var u=lh(e,t);if(!(u<i))return ko(c,o)}}function ble(t,r){if(!r.disableNavigation){var e=r.fromDate,n=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=n?i:1,c=si(t);if(!e)return ko(c,-o);var u=lh(c,e);if(!(u<=0))return ko(c,-o)}}var AI=E.createContext(void 0);function xle(t){var r=Tn(),e=mle(),n=e[0],s=e[1],i=gle(n,r),o=yle(n,r),c=ble(n,r),u=function(p){return i.some(function(f){return lx(p,f)})},l=function(p,f){u(p)||(f&&_I(p,f)?s(ko(p,1+r.numberOfMonths*-1)):s(p))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:l,previousMonth:c,nextMonth:o,isDateDisplayed:u};return a.jsx(AI.Provider,{value:d,children:t.children})}function g0(){var t=E.useContext(AI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function PN(t){var r,e=Tn(),n=e.classNames,s=e.styles,i=e.components,o=g0().goToMonth,c=function(d){o(ko(d,t.displayIndex?-t.displayIndex:0))},u=(r=i?.CaptionLabel)!==null&&r!==void 0?r:TI,l=a.jsx(u,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:l}),a.jsx(dle,{onChange:c,displayMonth:t.displayMonth}),a.jsx(fle,{onChange:c,displayMonth:t.displayMonth})]})}function vle(t){return a.jsx("svg",pr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wle(t){return a.jsx("svg",pr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var eb=E.forwardRef(function(t,r){var e=Tn(),n=e.classNames,s=e.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),c=pr(pr({},s.button_reset),s.button);return t.style&&Object.assign(c,t.style),a.jsx("button",pr({},t,{ref:r,type:"button",className:o,style:c}))});function _le(t){var r,e,n=Tn(),s=n.dir,i=n.locale,o=n.classNames,c=n.styles,u=n.labels,l=u.labelPrevious,d=u.labelNext,p=n.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var f=l(t.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),y=[o.nav_button,o.nav_button_next].join(" "),m=(r=p?.IconRight)!==null&&r!==void 0?r:wle,v=(e=p?.IconLeft)!==null&&e!==void 0?e:vle;return a.jsxs("div",{className:o.nav,style:c.nav,children:[!t.hidePrevious&&a.jsx(eb,{name:"previous-month","aria-label":f,className:h,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(m,{className:o.nav_icon,style:c.nav_icon}):a.jsx(v,{className:o.nav_icon,style:c.nav_icon})}),!t.hideNext&&a.jsx(eb,{name:"next-month","aria-label":g,className:y,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(v,{className:o.nav_icon,style:c.nav_icon}):a.jsx(m,{className:o.nav_icon,style:c.nav_icon})})]})}function MN(t){var r=Tn().numberOfMonths,e=g0(),n=e.previousMonth,s=e.nextMonth,i=e.goToMonth,o=e.displayMonths,c=o.findIndex(function(g){return lx(t.displayMonth,g)}),u=c===0,l=c===o.length-1,d=r>1&&(u||!l),p=r>1&&(l||!u),f=function(){n&&i(n)},h=function(){s&&i(s)};return a.jsx(_le,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:p,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:h})}function kle(t){var r,e=Tn(),n=e.classNames,s=e.disableNavigation,i=e.styles,o=e.captionLayout,c=e.components,u=(r=c?.CaptionLabel)!==null&&r!==void 0?r:TI,l;return s?l=a.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?l=a.jsx(PN,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?l=a.jsxs(a.Fragment,{children:[a.jsx(PN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(MN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):l=a.jsxs(a.Fragment,{children:[a.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(MN,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:l})}function jle(t){var r=Tn(),e=r.footer,n=r.styles,s=r.classNames.tfoot;return e?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:e})})}):a.jsx(a.Fragment,{})}function Sle(t,r,e){for(var n=e?md(new Date):Xi(new Date,{locale:t,weekStartsOn:r}),s=[],i=0;i<7;i++){var o=Ia(n,i);s.push(o)}return s}function Nle(){var t=Tn(),r=t.classNames,e=t.styles,n=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,l=Sle(s,i,o);return a.jsxs("tr",{style:e.head_row,className:r.head_row,children:[n&&a.jsx("td",{style:e.head_cell,className:r.head_cell}),l.map(function(d,p){return a.jsx("th",{scope:"col",className:r.head_cell,style:e.head_cell,"aria-label":u(d,{locale:s}),children:c(d,{locale:s})},p)})]})}function Cle(){var t,r=Tn(),e=r.classNames,n=r.styles,s=r.components,i=(t=s?.HeadRow)!==null&&t!==void 0?t:Nle;return a.jsx("thead",{style:n.head,className:e.head,children:a.jsx(i,{})})}function Tle(t){var r=Tn(),e=r.locale,n=r.formatters.formatDay;return a.jsx(a.Fragment,{children:n(t.date,{locale:e})})}var h3=E.createContext(void 0);function Ele(t){if(!p0(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return a.jsx(h3.Provider,{value:r,children:t.children})}return a.jsx(Ale,{initialProps:t.initialProps,children:t.children})}function Ale(t){var r=t.initialProps,e=t.children,n=r.selected,s=r.min,i=r.max,o=function(l,d,p){var f,h;(f=r.onDayClick)===null||f===void 0||f.call(r,l,d,p);var g=!!(d.selected&&s&&n?.length===s);if(!g){var y=!!(!d.selected&&i&&n?.length===i);if(!y){var m=n?NI([],n):[];if(d.selected){var v=m.findIndex(function(x){return wa(l,x)});m.splice(v,1)}else m.push(l);(h=r.onSelect)===null||h===void 0||h.call(r,m,l,d,p)}}},c={disabled:[]};n&&c.disabled.push(function(l){var d=i&&n.length>i-1,p=n.some(function(f){return wa(f,l)});return!!(d&&!p)});var u={selected:n,onDayClick:o,modifiers:c};return a.jsx(h3.Provider,{value:u,children:e})}function p3(){var t=E.useContext(h3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Ple(t,r){var e=r||{},n=e.from,s=e.to;return n&&s?wa(s,t)&&wa(n,t)?void 0:wa(s,t)?{from:s,to:void 0}:wa(n,t)?void 0:B2(n,t)?{from:t,to:s}:{from:n,to:t}:s?B2(t,s)?{from:s,to:t}:{from:t,to:s}:n?_I(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var m3=E.createContext(void 0);function Mle(t){if(!m0(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(m3.Provider,{value:r,children:t.children})}return a.jsx(Rle,{initialProps:t.initialProps,children:t.children})}function Rle(t){var r=t.initialProps,e=t.children,n=r.selected,s=n||{},i=s.from,o=s.to,c=r.min,u=r.max,l=function(h,g,y){var m,v;(m=r.onDayClick)===null||m===void 0||m.call(r,h,g,y);var x=Ple(h,n);(v=r.onSelect)===null||v===void 0||v.call(r,x,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],wa(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),c&&(i&&!o&&d.disabled.push({after:fy(i,c-1),before:Ia(i,c-1)}),i&&o&&d.disabled.push({after:i,before:Ia(i,c-1)}),!i&&o&&d.disabled.push({after:fy(o,c-1),before:Ia(o,c-1)})),u){if(i&&!o&&(d.disabled.push({before:Ia(i,-u+1)}),d.disabled.push({after:Ia(i,u-1)})),i&&o){var p=Ho(o,i)+1,f=u-p;d.disabled.push({before:fy(i,f)}),d.disabled.push({after:Ia(o,f)})}!i&&o&&(d.disabled.push({before:Ia(o,-u+1)}),d.disabled.push({after:Ia(o,u-1)}))}return a.jsx(m3.Provider,{value:{selected:n,onDayClick:l,modifiers:d},children:e})}function g3(){var t=E.useContext(m3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function hy(t){return Array.isArray(t)?NI([],t):t!==void 0?[t]:[]}function Dle(t){var r={};return Object.entries(t).forEach(function(e){var n=e[0],s=e[1];r[n]=hy(s)}),r}var jo;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(jo||(jo={}));var Ile=jo.Selected,_l=jo.Disabled,Ole=jo.Hidden,Fle=jo.Today,B1=jo.RangeEnd,$1=jo.RangeMiddle,z1=jo.RangeStart,Lle=jo.Outside;function Ble(t,r,e){var n,s=(n={},n[Ile]=hy(t.selected),n[_l]=hy(t.disabled),n[Ole]=hy(t.hidden),n[Fle]=[t.today],n[B1]=[],n[$1]=[],n[z1]=[],n[Lle]=[],n);return t.fromDate&&s[_l].push({before:t.fromDate}),t.toDate&&s[_l].push({after:t.toDate}),p0(t)?s[_l]=s[_l].concat(r.modifiers[_l]):m0(t)&&(s[_l]=s[_l].concat(e.modifiers[_l]),s[z1]=e.modifiers[z1],s[$1]=e.modifiers[$1],s[B1]=e.modifiers[B1]),s}var PI=E.createContext(void 0);function $le(t){var r=Tn(),e=p3(),n=g3(),s=Ble(r,e,n),i=Dle(r.modifiers),o=pr(pr({},s),i);return a.jsx(PI.Provider,{value:o,children:t.children})}function MI(){var t=E.useContext(PI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function zle(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Vle(t){return!!(t&&typeof t=="object"&&"from"in t)}function Ule(t){return!!(t&&typeof t=="object"&&"after"in t)}function Wle(t){return!!(t&&typeof t=="object"&&"before"in t)}function qle(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Hle(t,r){var e,n=r.from,s=r.to;if(n&&s){var i=Ho(s,n)<0;i&&(e=[s,n],n=e[0],s=e[1]);var o=Ho(t,n)>=0&&Ho(s,t)>=0;return o}return s?wa(s,t):n?wa(n,t):!1}function Kle(t){return c3(t)}function Gle(t){return Array.isArray(t)&&t.every(c3)}function Xle(t,r){return r.some(function(e){if(typeof e=="boolean")return e;if(Kle(e))return wa(t,e);if(Gle(e))return e.includes(t);if(Vle(e))return Hle(t,e);if(qle(e))return e.dayOfWeek.includes(t.getDay());if(zle(e)){var n=Ho(e.before,t),s=Ho(e.after,t),i=n>0,o=s<0,c=B2(e.before,e.after);return c?o&&i:i||o}return Ule(e)?Ho(t,e.after)>0:Wle(e)?Ho(e.before,t)>0:typeof e=="function"?e(t):!1})}function y3(t,r,e){var n=Object.keys(r).reduce(function(i,o){var c=r[o];return Xle(t,c)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),e&&!lx(t,e)&&(s.outside=!0),s}function Qle(t,r){for(var e=si(t[0]),n=ox(t[t.length-1]),s,i,o=e;o<=n;){var c=y3(o,r),u=!c.disabled&&!c.hidden;if(!u){o=Ia(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),s||(s=o),o=Ia(o,1)}return i||s}var Yle=365;function RI(t,r){var e=r.moveBy,n=r.direction,s=r.context,i=r.modifiers,o=r.retry,c=o===void 0?{count:0,lastFocused:t}:o,u=s.weekStartsOn,l=s.fromDate,d=s.toDate,p=s.locale,f={day:Ia,week:L2,month:ko,year:cae,startOfWeek:function(m){return s.ISOWeek?md(m):Xi(m,{locale:p,weekStartsOn:u})},endOfWeek:function(m){return s.ISOWeek?yI(m):u3(m,{locale:p,weekStartsOn:u})}},h=f[e](t,n==="after"?1:-1);n==="before"&&l?h=uae([l,h]):n==="after"&&d&&(h=dae([d,h]));var g=!0;if(i){var y=y3(h,i);g=!y.disabled&&!y.hidden}return g?h:c.count>Yle?c.lastFocused:RI(h,{moveBy:e,direction:n,context:s,modifiers:i,retry:pr(pr({},c),{count:c.count+1})})}var DI=E.createContext(void 0);function Zle(t){var r=g0(),e=MI(),n=E.useState(),s=n[0],i=n[1],o=E.useState(),c=o[0],u=o[1],l=Qle(r.displayMonths,e),d=s??(c&&r.isDateDisplayed(c))?c:l,p=function(){u(s),i(void 0)},f=function(m){i(m)},h=Tn(),g=function(m,v){if(s){var x=RI(s,{moveBy:m,direction:v,context:h,modifiers:e});wa(s,x)||(r.goToDate(x,s),f(x))}},y={focusedDay:s,focusTarget:d,blur:p,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return a.jsx(DI.Provider,{value:y,children:t.children})}function b3(){var t=E.useContext(DI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Jle(t,r){var e=MI(),n=y3(t,e,r);return n}var x3=E.createContext(void 0);function ece(t){if(!cx(t.initialProps)){var r={selected:void 0};return a.jsx(x3.Provider,{value:r,children:t.children})}return a.jsx(tce,{initialProps:t.initialProps,children:t.children})}function tce(t){var r=t.initialProps,e=t.children,n=function(i,o,c){var u,l,d;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,o,c),o.selected&&!r.required){(l=r.onSelect)===null||l===void 0||l.call(r,void 0,i,o,c);return}(d=r.onSelect)===null||d===void 0||d.call(r,i,i,o,c)},s={selected:r.selected,onDayClick:n};return a.jsx(x3.Provider,{value:s,children:e})}function II(){var t=E.useContext(x3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function rce(t,r){var e=Tn(),n=II(),s=p3(),i=g3(),o=b3(),c=o.focusDayAfter,u=o.focusDayBefore,l=o.focusWeekAfter,d=o.focusWeekBefore,p=o.blur,f=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,y=o.focusYearBefore,m=o.focusYearAfter,v=o.focusStartOfWeek,x=o.focusEndOfWeek,S=function(k){var j,N,R,O;cx(e)?(j=n.onDayClick)===null||j===void 0||j.call(n,t,r,k):p0(e)?(N=s.onDayClick)===null||N===void 0||N.call(s,t,r,k):m0(e)?(R=i.onDayClick)===null||R===void 0||R.call(i,t,r,k):(O=e.onDayClick)===null||O===void 0||O.call(e,t,r,k)},C=function(k){var j;f(t),(j=e.onDayFocus)===null||j===void 0||j.call(e,t,r,k)},A=function(k){var j;p(),(j=e.onDayBlur)===null||j===void 0||j.call(e,t,r,k)},B=function(k){var j;(j=e.onDayMouseEnter)===null||j===void 0||j.call(e,t,r,k)},q=function(k){var j;(j=e.onDayMouseLeave)===null||j===void 0||j.call(e,t,r,k)},D=function(k){var j;(j=e.onDayPointerEnter)===null||j===void 0||j.call(e,t,r,k)},I=function(k){var j;(j=e.onDayPointerLeave)===null||j===void 0||j.call(e,t,r,k)},U=function(k){var j;(j=e.onDayTouchCancel)===null||j===void 0||j.call(e,t,r,k)},K=function(k){var j;(j=e.onDayTouchEnd)===null||j===void 0||j.call(e,t,r,k)},W=function(k){var j;(j=e.onDayTouchMove)===null||j===void 0||j.call(e,t,r,k)},P=function(k){var j;(j=e.onDayTouchStart)===null||j===void 0||j.call(e,t,r,k)},L=function(k){var j;(j=e.onDayKeyUp)===null||j===void 0||j.call(e,t,r,k)},T=function(k){var j;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),e.dir==="rtl"?c():u();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),e.dir==="rtl"?u():c();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),l();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),d();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?y():h();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?m():g();break;case"Home":k.preventDefault(),k.stopPropagation(),v();break;case"End":k.preventDefault(),k.stopPropagation(),x();break}(j=e.onDayKeyDown)===null||j===void 0||j.call(e,t,r,k)},_={onClick:S,onFocus:C,onBlur:A,onKeyDown:T,onKeyUp:L,onMouseEnter:B,onMouseLeave:q,onPointerEnter:D,onPointerLeave:I,onTouchCancel:U,onTouchEnd:K,onTouchMove:W,onTouchStart:P};return _}function nce(){var t=Tn(),r=II(),e=p3(),n=g3(),s=cx(t)?r.selected:p0(t)?e.selected:m0(t)?n.selected:void 0;return s}function sce(t){return Object.values(jo).includes(t)}function ace(t,r){var e=[t.classNames.day];return Object.keys(r).forEach(function(n){var s=t.modifiersClassNames[n];if(s)e.push(s);else if(sce(n)){var i=t.classNames["day_".concat(n)];i&&e.push(i)}}),e}function ice(t,r){var e=pr({},t.styles.day);return Object.keys(r).forEach(function(n){var s;e=pr(pr({},e),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),e}function oce(t,r,e){var n,s,i,o=Tn(),c=b3(),u=Jle(t,r),l=rce(t,u),d=nce(),p=!!(o.onDayClick||o.mode!=="default");E.useEffect(function(){var B;u.outside||c.focusedDay&&p&&wa(c.focusedDay,t)&&((B=e.current)===null||B===void 0||B.focus())},[c.focusedDay,t,e,p,u.outside]);var f=ace(o,u).join(" "),h=ice(o,u),g=!!(u.outside&&!o.showOutsideDays||u.hidden),y=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Tle,m=a.jsx(y,{date:t,displayMonth:r,activeModifiers:u}),v={style:h,className:f,children:m,role:"gridcell"},x=c.focusTarget&&wa(c.focusTarget,t)&&!u.outside,S=c.focusedDay&&wa(c.focusedDay,t),C=pr(pr(pr({},v),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=S||x?0:-1,n)),l),A={isButton:p,isHidden:g,activeModifiers:u,selectedDays:d,buttonProps:C,divProps:v};return A}function lce(t){var r=E.useRef(null),e=oce(t.date,t.displayMonth,r);return e.isHidden?a.jsx("div",{role:"gridcell"}):e.isButton?a.jsx(eb,pr({name:"day",ref:r},e.buttonProps)):a.jsx("div",pr({},e.divProps))}function cce(t){var r=t.number,e=t.dates,n=Tn(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,c=n.locale,u=n.labels.labelWeekNumber,l=n.formatters.formatWeekNumber,d=l(Number(r),{locale:c});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var p=u(Number(r),{locale:c}),f=function(h){s(r,e,h)};return a.jsx(eb,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function uce(t){var r,e,n=Tn(),s=n.styles,i=n.classNames,o=n.showWeekNumber,c=n.components,u=(r=c?.Day)!==null&&r!==void 0?r:lce,l=(e=c?.WeekNumber)!==null&&e!==void 0?e:cce,d;return o&&(d=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(l,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(p){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(u,{displayMonth:t.displayMonth,date:p})},yie(p))})]})}function RN(t,r,e){for(var n=e?.ISOWeek?yI(r):u3(r,e),s=e?.ISOWeek?md(t):Xi(t,e),i=Ho(n,s),o=[],c=0;c<=i;c++)o.push(Ia(s,c));var u=o.reduce(function(l,d){var p=e?.ISOWeek?bI(d):vI(d,e),f=l.find(function(h){return h.weekNumber===p});return f?(f.dates.push(d),l):(l.push({weekNumber:p,dates:[d]}),l)},[]);return u}function dce(t,r){var e=RN(si(t),ox(t),r);if(r?.useFixedWeeks){var n=xie(t,r);if(n<6){var s=e[e.length-1],i=s.dates[s.dates.length-1],o=L2(i,6-n),c=RN(L2(i,1),o,r);e.push.apply(e,c)}}return e}function fce(t){var r,e,n,s=Tn(),i=s.locale,o=s.classNames,c=s.styles,u=s.hideHead,l=s.fixedWeeks,d=s.components,p=s.weekStartsOn,f=s.firstWeekContainsDate,h=s.ISOWeek,g=dce(t.displayMonth,{useFixedWeeks:!!l,ISOWeek:h,locale:i,weekStartsOn:p,firstWeekContainsDate:f}),y=(r=d?.Head)!==null&&r!==void 0?r:Cle,m=(e=d?.Row)!==null&&e!==void 0?e:uce,v=(n=d?.Footer)!==null&&n!==void 0?n:jle;return a.jsxs("table",{id:t.id,className:o.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&a.jsx(y,{}),a.jsx("tbody",{className:o.tbody,style:c.tbody,children:g.map(function(x){return a.jsx(m,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),a.jsx(v,{displayMonth:t.displayMonth})]})}function hce(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pce=hce()?E.useLayoutEffect:E.useEffect,V1=!1,mce=0;function DN(){return"react-day-picker-".concat(++mce)}function gce(t){var r,e=t??(V1?DN():null),n=E.useState(e),s=n[0],i=n[1];return pce(function(){s===null&&i(DN())},[]),E.useEffect(function(){V1===!1&&(V1=!0)},[]),(r=t??s)!==null&&r!==void 0?r:void 0}function yce(t){var r,e,n=Tn(),s=n.dir,i=n.classNames,o=n.styles,c=n.components,u=g0().displayMonths,l=gce(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,p=[i.month],f=o.month,h=t.displayIndex===0,g=t.displayIndex===u.length-1,y=!h&&!g;s==="rtl"&&(r=[h,g],g=r[0],h=r[1]),h&&(p.push(i.caption_start),f=pr(pr({},f),o.caption_start)),g&&(p.push(i.caption_end),f=pr(pr({},f),o.caption_end)),y&&(p.push(i.caption_between),f=pr(pr({},f),o.caption_between));var m=(e=c?.Caption)!==null&&e!==void 0?e:kle;return a.jsxs("div",{className:p.join(" "),style:f,children:[a.jsx(m,{id:l,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(fce,{id:d,"aria-labelledby":l,displayMonth:t.displayMonth})]},t.displayIndex)}function bce(t){var r=Tn(),e=r.classNames,n=r.styles;return a.jsx("div",{className:e.months,style:n.months,children:t.children})}function xce(t){var r,e,n=t.initialProps,s=Tn(),i=b3(),o=g0(),c=E.useState(!1),u=c[0],l=c[1];E.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),l(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var p=pr(pr({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var m;return pr(pr({},g),(m={},m[y]=n[y],m))},{}),h=(e=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&e!==void 0?e:bce;return a.jsx("div",pr({className:d.join(" "),style:p,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:a.jsx(h,{children:o.displayMonths.map(function(g,y){return a.jsx(yce,{displayIndex:y,displayMonth:g},y)})})}))}function vce(t){var r=t.children,e=Woe(t,["children"]);return a.jsx(cle,{initialProps:e,children:a.jsx(xle,{children:a.jsx(ece,{initialProps:e,children:a.jsx(Ele,{initialProps:e,children:a.jsx(Mle,{initialProps:e,children:a.jsx($le,{children:a.jsx(Zle,{children:r})})})})})})})}function wce(t){return a.jsx(vce,pr({},t,{children:a.jsx(xce,{initialProps:t})}))}function v3({className:t,classNames:r,showOutsideDays:e=!0,locale:n,...s}){const i=n??ca,o=i===ca||s.dir==="rtl";return a.jsx("div",{dir:o?"rtl":"ltr",lang:o?"ar":"en",children:a.jsx(wce,{showOutsideDays:e,locale:i,weekStartsOn:6,className:Ae("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center mb-1",caption_label:"hidden",caption_dropdowns:"flex justify-center items-center gap-1",nav:"flex items-center gap-1",nav_button:Ae(km({variant:"ghost"}),"h-7 w-7 bg-transparent p-0 text-teal-700 hover:bg-teal-50 opacity-100"),nav_button_previous:o?"absolute right-1":"absolute left-1",nav_button_next:o?"absolute left-1":"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ae(km({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{Dropdown:({value:c,onChange:u,children:l,...d})=>{const p=E.Children.toArray(l),f=p.find(g=>g.props.value===c),h=g=>{u?.({target:{value:g}})};return a.jsxs(ws,{value:c?.toString(),onValueChange:g=>h(g),children:[a.jsx(cs,{className:"h-7 pr-2 pl-2 border-none bg-transparent hover:bg-accent hover:text-accent-foreground focus:ring-0",children:a.jsx(_s,{children:f?.props?.children})}),a.jsx(us,{position:"popper",children:a.jsx(Yl,{className:"h-80",children:p.map((g,y)=>a.jsx(wr,{value:g.props.value?.toString()??"",children:g.props.children},`${g.props.value}-${y}`))})})]})},IconLeft:({className:c,...u})=>o?a.jsx(Kf,{className:Ae("h-4 w-4",c),...u}):a.jsx(Ww,{className:Ae("h-4 w-4",c),...u}),IconRight:({className:c,...u})=>o?a.jsx(Ww,{className:Ae("h-4 w-4",c),...u}):a.jsx(Kf,{className:Ae("h-4 w-4",c),...u})},...s})})}v3.displayName="Calendar";function el({label:t,value:r,onChange:e,placeholder:n=" ",disabled:s=!1,className:i,required:o=!1,error:c,id:u}){const[l,d]=E.useState(!1),[p,f]=E.useState(void 0),h=E.useMemo(()=>{if(r){if(r instanceof Date)return r;if(typeof r=="string"){const v=new Date(r);return isNaN(v.getTime())?void 0:v}}},[r]);E.useEffect(()=>{l&&f(h||new Date)},[l,h]);const g=()=>{e?.(p),d(!1)},y=()=>{e?.(void 0),d(!1)},m=h?jr(h,"dd MMMM yyyy",{locale:ca}):null;return a.jsxs("div",{className:Ae("flex flex-col gap-1.5",i),children:[t&&a.jsxs(Ze,{htmlFor:u,className:"text-right font-medium",children:[t,o&&a.jsx("span",{className:"text-destructive mr-1",children:"*"})]}),a.jsxs(Ws,{open:l,onOpenChange:d,children:[a.jsx(nh,{asChild:!0,children:a.jsxs(Ie,{id:u,variant:"ghost",disabled:s,className:Ae("w-full justify-start text-right font-normal h-full bg-transparent hover:bg-transparent",!h&&"text-muted-foreground",c&&"text-destructive"),children:[a.jsx(ua,{className:"ml-2 h-4 w-4 opacity-50"}),a.jsx("span",{className:"truncate",children:m||n})]})}),a.jsxs(Rs,{className:"z-[9999999] w-[92%] max-w-[310px] p-0 overflow-hidden border-none gap-0 rounded-2xl shadow-2xl fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 outline-none",children:[a.jsx("button",{onClick:()=>d(!1),className:"absolute left-4 top-4 text-white/70 hover:text-white z-50",children:a.jsx(Us,{className:"h-5 w-5"})}),a.jsxs(qs,{className:"bg-teal-700 p-5 pt-10 text-white text-right relative",children:[a.jsx("div",{className:"text-xs opacity-80 mb-0.5 font-normal",children:jr(p||new Date,"yyyy")}),a.jsx("div",{className:"text-2xl font-bold",children:p?jr(p,"eeee d MMMM",{locale:ca}):"  "})]}),a.jsx("div",{className:"p-0 flex justify-center bg-white min-h-[320px]",children:a.jsx(v3,{mode:"single",selected:p,onSelect:f,initialFocus:!0,captionLayout:"dropdown-buttons",fromYear:2020,toYear:2035,className:"border-none w-full p-2 pb-0 flex flex-col items-center",classNames:{caption_dropdowns:"flex justify-start gap-1 px-1",day_selected:"bg-teal-700 text-white hover:bg-teal-800 focus:bg-teal-700 rounded-full",day_today:"text-teal-700 font-bold",table:"w-full border-collapse space-y-0 mt-1",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative",day:"h-9 w-9 p-0 font-normal hover:bg-teal-50 rounded-full transition-colors",months:"flex flex-col items-center w-full",month:"w-full px-2"}})}),a.jsxs("div",{className:"flex items-center justify-between px-8 py-6 bg-white",children:[a.jsx(Ie,{variant:"ghost",onClick:g,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""}),a.jsx(Ie,{variant:"ghost",onClick:()=>d(!1),className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:"Cancel"}),a.jsx(Ie,{variant:"ghost",onClick:y,className:"text-teal-700 hover:bg-teal-50 font-bold text-sm p-0 h-auto",children:""})]})]})]}),c&&a.jsx("p",{className:"text-sm text-destructive text-right",children:c})]})}function _ce({name:t,control:r,label:e,placeholder:n=" ",disabled:s=!1,className:i,required:o=!1,rules:c}){return a.jsx(Y7,{name:t,control:r,rules:c,render:({field:u,fieldState:l})=>a.jsx(el,{label:e,value:u.value,onChange:d=>{u.onChange(d?jr(d,"yyyy-MM-dd"):"")},placeholder:n,disabled:s,className:i,required:o,error:l.error?.message,id:t})})}function kce({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,actions:s=[],onReset:i,onRefresh:o,isRefreshing:c=!1,hasActiveFilters:u=!1,viewMode:l="grid",onViewModeChange:d,showViewToggle:p=!1,className:f,filters:h=[],filterValues:g={},onFilterChange:y}){const[m,v]=E.useState(!1),x=E.useCallback(()=>{r?.("")},[r]),C=h.filter(I=>{const U=g[I.key];return I.type==="date"?U instanceof Date:I.type==="date-range"?U?.from||U?.to:U&&U!=="all"&&U!==I.defaultValue}).length,A=h.length>0&&y,B=I=>{const U=g[I.key];switch(I.type){case"date":return a.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),a.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:a.jsx(el,{value:U?new Date(U):void 0,onChange:P=>{y?.(I.key,P),P&&y?.("dateRange",void 0)},placeholder:I.placeholder,className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]});case"date-range":const K=U?.from?U.from instanceof Date?U.from:new Date(U.from):void 0,W=U?.to?U.to instanceof Date?U.to:new Date(U.to):void 0;return a.jsxs("div",{onClick:P=>P.stopPropagation(),className:"grid grid-cols-2 gap-4 pt-2 mb-2",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),a.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:a.jsx(el,{value:K,onChange:P=>{const L=typeof U=="object"&&U!==null?{...U}:{};L.from=P,P&&y?.("specificDate",void 0),y?.(I.key,L)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:" "}),a.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:a.jsx(el,{value:W,onChange:P=>{const L=typeof U=="object"&&U!==null?{...U}:{};L.to=P,y?.(I.key,L)},placeholder:"",className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm w-full font-medium"})})]})]});default:return a.jsxs("div",{onClick:P=>P.stopPropagation(),className:"relative group mb-2",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-[11px] font-bold text-slate-500 group-focus-within:text-primary z-20 transition-all",children:I.label}),a.jsx("div",{className:"border-2 border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden focus-within:border-primary/40 focus-within:ring-4 focus-within:ring-primary/5 transition-all",children:a.jsxs(ws,{value:String(U||I.defaultValue||"all"),onValueChange:P=>y?.(I.key,P),children:[a.jsx(cs,{className:"h-14 border-0 bg-slate-50/30 dark:bg-slate-900/30 px-4 text-right text-sm font-medium",children:a.jsx(_s,{placeholder:I.placeholder||I.label})}),a.jsx(us,{className:"rounded-2xl shadow-2xl border-slate-200 dark:border-slate-800",children:I.options?.map(P=>a.jsx(wr,{value:String(P.value),className:"rounded-xl my-1 py-3 text-right",children:P.label},P.value))})]})})]})}},q=[];p&&d&&(q.push({key:"viewList",icon:Gq,tooltip:" ",onClick:()=>d("list"),variant:l==="list"?"default":"ghost"}),q.push({key:"viewGrid",icon:Kq,tooltip:" ",onClick:()=>d("grid"),variant:l==="grid"?"default":"ghost"})),o&&q.push({key:"refresh",icon:Gn,tooltip:"",onClick:o,loading:c}),i&&u&&q.push({key:"reset",icon:kf,tooltip:" ",onClick:i});const D=[...q,...s];return a.jsxs("div",{className:Ae("flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",f),dir:"rtl",children:[n&&a.jsxs("div",{className:"relative flex-1",children:[a.jsx(xt,{type:"text",placeholder:e,value:t,onChange:I=>r?.(I.target.value),className:"h-9 pe-3 ps-10 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 rounded-lg text-sm text-right",dir:"rtl"}),t?a.jsx(Ie,{variant:"ghost",size:"sm",className:"absolute left-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 hover:bg-red-100 dark:hover:bg-red-900/30 z-10",onClick:x,type:"button",children:a.jsx(Us,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})}):a.jsx(bo,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),A&&a.jsxs(ix,{open:m,onOpenChange:v,children:[a.jsx(i3,{asChild:!0,children:a.jsxs(Ie,{variant:"ghost",size:"icon",className:Ae("h-8 w-8 rounded-lg relative",C>0?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:[a.jsx(jy,{className:"h-4 w-4"}),C>0&&a.jsx(xr,{className:"absolute -top-1 -left-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] bg-primary text-white",children:C})]})}),a.jsx(d0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-hidden border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:I=>{const U=I.target;(U.closest(".rdp")||U.closest('[role="listbox"]')||U.closest(".relative"))&&I.preventDefault()},onInteractOutside:I=>{const U=I.target;(U.closest(".rdp")||U.closest('[role="listbox"]'))&&I.preventDefault()},children:a.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(uI,{asChild:!0,children:a.jsx(Ie,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:a.jsx(Us,{className:"h-5 w-5"})})}),a.jsx(f0,{className:"text-xl font-bold tracking-tight",children:" "})]}),a.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),a.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[a.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:h.map(I=>a.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:B(I)},I.key))}),h.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[a.jsx(jy,{className:"w-12 h-12 mb-4 opacity-20"}),a.jsx("p",{children:"    "})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:a.jsx("div",{className:"max-w-xl mx-auto",children:a.jsx(Ie,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-2xl shadow-primary/30 bg-primary hover:bg-primary/90 text-primary-foreground transition-all active:scale-[0.98] border-none",onClick:()=>v(!1),children:""})})})]})})]}),D.length>0&&a.jsx(Rb,{delayDuration:300,children:a.jsx("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:D.map(I=>{const U=I.icon;return a.jsxs(L_,{children:[a.jsx(B_,{asChild:!0,children:a.jsx(Ie,{variant:I.variant||"ghost",size:"icon",className:Ae("h-8 w-8 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-all duration-200",I.loading&&"bg-primary/10 text-primary",I.variant==="default"&&"bg-primary/10 text-primary"),onClick:I.onClick,disabled:I.disabled||I.loading,children:a.jsx(U,{className:Ae("h-4 w-4 transition-transform duration-200",I.loading&&"animate-spin")})})}),I.tooltip&&a.jsx(Db,{side:"bottom",className:"text-xs",children:a.jsx("p",{children:I.loading?" ...":I.tooltip})})]},I.key)})})})]})}function jce({filters:t,filterValues:r,onFilterChange:e,onReset:n,showAllFiltersButton:s=!0,className:i}){const[o,c]=E.useState(!1),l=t.filter(f=>{const h=r[f.key];return f.type==="date"?h instanceof Date:f.type==="date-range"?h?.from||h?.to:h&&h!=="all"&&h!==f.defaultValue}),d=f=>{const h=r[f.key];if(f.type==="date"&&h instanceof Date)return jr(h,"dd MMMM yyyy",{locale:ca});if(f.type==="date-range"){if(h?.from&&h?.to)return`${jr(h.from,"dd MMM",{locale:ca})} - ${jr(h.to,"dd MMM",{locale:ca})}`;if(h?.from)return` ${jr(h.from,"dd MMM",{locale:ca})}`}return f.options?.find(y=>y.value===h)?.label||h},p=f=>{f.type==="date"||f.type==="date-range"?e(f.key,void 0):e(f.key,f.defaultValue||"all")};return a.jsx("div",{className:Ae("space-y-1",i),children:l.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2 justify-center",children:l.map(f=>a.jsxs(xr,{variant:"secondary",className:"gap-1.5 px-3 py-1.5 text-sm bg-blue-500 hover:bg-blue-600 text-white border-0 rounded-full cursor-default transition-colors",children:[a.jsx("span",{className:"font-medium",children:d(f)}),a.jsx("button",{onClick:h=>{h.stopPropagation(),p(f)},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors mr-0.5",children:a.jsx(Us,{className:"h-3.5 w-3.5"})})]},f.key))})})}function Sce({config:t,className:r}){const{totalCount:e,filteredCount:n,totalLabel:s="",filteredLabel:i="",totalValue:o,totalValueLabel:c="",unit:u=".",categoryBreakdown:l,showBreakdown:d=!1}=t,p=f=>f==null?"0":typeof f=="number"?isNaN(f)||!isFinite(f)?"0":f.toLocaleString("en-US"):String(f);return a.jsxs("div",{className:Ae("border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",r),children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-2.5 bg-gradient-to-l from-blue-50/80 to-slate-50/80 dark:from-blue-900/30 dark:to-slate-900/30",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),a.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:n}),a.jsx("span",{className:"text-xs text-gray-500",children:i}),a.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 arabic-numbers",children:e})]}),o!==void 0&&!d&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[c,":"]}),a.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:p(o)}),u&&a.jsx("span",{className:"text-xs text-gray-500",children:u})]})]}),d&&l&&l.length>0&&a.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[l.map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.label,":"]}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 arabic-numbers",children:[p(f.value)," ",f.unit||u]})]},h)),o!==void 0&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-50/50 dark:bg-blue-900/20 border-t-2 border-blue-200 dark:border-blue-800",children:[a.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:[c,":"]}),a.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 arabic-numbers",children:[p(o)," ",u]})]})]})]})}function Co({statsRows:t,searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s=!0,filters:i=[],filterValues:o={},onFilterChange:c,onReset:u,onRefresh:l,isRefreshing:d,actions:p,resultsSummary:f,showAllFiltersButton:h=!0,onShowAllFilters:g,className:y,compact:m=!1,viewMode:v,onViewModeChange:x,title:S,subtitle:C,hideHeader:A=!1}){const B=i.some(q=>{const D=o[q.key];return q.type==="date"?D instanceof Date:q.type==="date-range"?D?.from||D?.to:D&&D!=="all"&&D!==q.defaultValue})||!!(r&&r.length>0);return a.jsxs("div",{className:Ae("space-y-2",y),children:[!A&&(S||C)&&a.jsxs("div",{className:"mb-4",children:[S&&a.jsx("h2",{className:"text-2xl font-bold",children:S}),C&&a.jsx("p",{className:"text-muted-foreground",children:C})]}),t&&t.length>0&&a.jsx(nae,{rows:t}),a.jsx(kce,{searchValue:r,onSearchChange:e,searchPlaceholder:n,showSearch:s,actions:p,onReset:u,onRefresh:l,isRefreshing:d,hasActiveFilters:B,viewMode:v,onViewModeChange:x,showViewToggle:!!x,filters:i,filterValues:o,onFilterChange:c}),i.length>0&&c&&a.jsx(jce,{filters:i,filterValues:o,onFilterChange:c,onReset:u,showAllFiltersButton:!1}),f&&a.jsx(Sce,{config:f})]})}function dn({className:t,...r}){return a.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",t),...r})}var U1="rovingFocusGroup.onEntryFocus",Nce={bubbles:!1,cancelable:!0},y0="RovingFocusGroup",[z2,OI,Cce]=wb(y0),[Tce,Ph]=da(y0,[Cce]),[Ece,Ace]=Tce(y0),FI=E.forwardRef((t,r)=>a.jsx(z2.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(z2.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Pce,{...t,ref:r})})}));FI.displayName=y0;var Pce=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...p}=t,f=E.useRef(null),h=Pr(r,f),g=Th(i),[y,m]=Gi({prop:o,defaultProp:c??null,onChange:u,caller:y0}),[v,x]=E.useState(!1),S=xa(l),C=OI(e),A=E.useRef(!1),[B,q]=E.useState(0);return E.useEffect(()=>{const D=f.current;if(D)return D.addEventListener(U1,S),()=>D.removeEventListener(U1,S)},[S]),a.jsx(Ece,{scope:e,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:E.useCallback(D=>m(D),[m]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>q(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>q(D=>D-1),[]),children:a.jsx(Ht.div,{tabIndex:v||B===0?-1:0,"data-orientation":n,...p,ref:h,style:{outline:"none",...t.style},onMouseDown:ut(t.onMouseDown,()=>{A.current=!0}),onFocus:ut(t.onFocus,D=>{const I=!A.current;if(D.target===D.currentTarget&&I&&!v){const U=new CustomEvent(U1,Nce);if(D.currentTarget.dispatchEvent(U),!U.defaultPrevented){const K=C().filter(_=>_.focusable),W=K.find(_=>_.active),P=K.find(_=>_.id===y),T=[W,P,...K].filter(Boolean).map(_=>_.ref.current);$I(T,d)}}A.current=!1}),onBlur:ut(t.onBlur,()=>x(!1))})})}),LI="RovingFocusGroupItem",BI=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=t,u=_i(),l=i||u,d=Ace(LI,e),p=d.currentTabStopId===l,f=OI(e),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return E.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),a.jsx(z2.ItemSlot,{scope:e,id:l,focusable:n,active:s,children:a.jsx(Ht.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...c,ref:r,onMouseDown:ut(t.onMouseDown,m=>{n?d.onItemFocus(l):m.preventDefault()}),onFocus:ut(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:ut(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=Dce(m,d.orientation,d.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let S=f().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const C=S.indexOf(m.currentTarget);S=d.loop?Ice(S,C+1):S.slice(C+1)}setTimeout(()=>$I(S))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});BI.displayName=LI;var Mce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rce(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Dce(t,r,e){const n=Rce(t.key,e);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mce[n]}function $I(t,r=!1){const e=document.activeElement;for(const n of t)if(n===e||(n.focus({preventScroll:r}),document.activeElement!==e))return}function Ice(t,r){return t.map((e,n)=>t[(r+n)%t.length])}var w3=FI,_3=BI;function Oce(t){const r=Fce(t),e=E.forwardRef((n,s)=>{const{children:i,...o}=n,c=E.Children.toArray(i),u=c.find(Bce);if(u){const l=u.props.children,d=c.map(p=>p===u?E.Children.count(l)>1?E.Children.only(null):E.isValidElement(l)?l.props.children:null:p);return a.jsx(r,{...o,ref:s,children:E.isValidElement(l)?E.cloneElement(l,void 0,d):null})}return a.jsx(r,{...o,ref:s,children:i})});return e.displayName=`${t}.Slot`,e}function Fce(t){const r=E.forwardRef((e,n)=>{const{children:s,...i}=e;if(E.isValidElement(s)){const o=zce(s),c=$ce(i,s.props);return s.type!==E.Fragment&&(c.ref=n?ll(n,o):o),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Lce=Symbol("radix.slottable");function Bce(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lce}function $ce(t,r){const e={...r};for(const n in r){const s=t[n],i=r[n];/^on[A-Z]/.test(n)?s&&i?e[n]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(e[n]=s):n==="style"?e[n]={...s,...i}:n==="className"&&(e[n]=[s,i].filter(Boolean).join(" "))}return{...t,...e}}function zce(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var V2=["Enter"," "],Vce=["ArrowDown","PageUp","Home"],zI=["ArrowUp","PageDown","End"],Uce=[...Vce,...zI],Wce={ltr:[...V2,"ArrowRight"],rtl:[...V2,"ArrowLeft"]},qce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},b0="Menu",[Nm,Hce,Kce]=wb(b0),[Cd,VI]=da(b0,[Kce,ou,Ph]),ux=ou(),UI=Ph(),[Gce,Td]=Cd(b0),[Xce,x0]=Cd(b0),WI=t=>{const{__scopeMenu:r,open:e=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,c=ux(r),[u,l]=E.useState(null),d=E.useRef(!1),p=xa(i),f=Th(s);return E.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(Cb,{...c,children:a.jsx(Gce,{scope:r,open:e,onOpenChange:p,content:u,onContentChange:l,children:a.jsx(Xce,{scope:r,onClose:E.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};WI.displayName=b0;var Qce="MenuAnchor",k3=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=ux(e);return a.jsx(Ym,{...s,...n,ref:r})});k3.displayName=Qce;var j3="MenuPortal",[Yce,qI]=Cd(j3,{forceMount:void 0}),HI=t=>{const{__scopeMenu:r,forceMount:e,children:n,container:s}=t,i=Td(j3,r);return a.jsx(Yce,{scope:r,forceMount:e,children:a.jsx(js,{present:e||i.open,children:a.jsx(xh,{asChild:!0,container:s,children:n})})})};HI.displayName=j3;var Ki="MenuContent",[Zce,S3]=Cd(Ki),KI=E.forwardRef((t,r)=>{const e=qI(Ki,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,i=Td(Ki,t.__scopeMenu),o=x0(Ki,t.__scopeMenu);return a.jsx(Nm.Provider,{scope:t.__scopeMenu,children:a.jsx(js,{present:n||i.open,children:a.jsx(Nm.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(Jce,{...s,ref:r}):a.jsx(eue,{...s,ref:r})})})})}),Jce=E.forwardRef((t,r)=>{const e=Td(Ki,t.__scopeMenu),n=E.useRef(null),s=Pr(r,n);return E.useEffect(()=>{const i=n.current;if(i)return Gb(i)},[]),a.jsx(N3,{...t,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:ut(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),eue=E.forwardRef((t,r)=>{const e=Td(Ki,t.__scopeMenu);return a.jsx(N3,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),tue=Oce("MenuContent.ScrollLock"),N3=E.forwardRef((t,r)=>{const{__scopeMenu:e,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,disableOutsideScroll:g,...y}=t,m=Td(Ki,e),v=x0(Ki,e),x=ux(e),S=UI(e),C=Hce(e),[A,B]=E.useState(null),q=E.useRef(null),D=Pr(r,q,m.onContentChange),I=E.useRef(0),U=E.useRef(""),K=E.useRef(0),W=E.useRef(null),P=E.useRef("right"),L=E.useRef(0),T=g?i0:E.Fragment,_=g?{as:tue,allowPinchZoom:!0}:void 0,k=N=>{const R=U.current+N,O=C().filter(Z=>!Z.disabled),$=document.activeElement,X=O.find(Z=>Z.ref.current===$)?.textValue,Y=O.map(Z=>Z.textValue),re=hue(Y,R,X),F=O.find(Z=>Z.textValue===re)?.ref.current;(function Z(V){U.current=V,window.clearTimeout(I.current),V!==""&&(I.current=window.setTimeout(()=>Z(""),1e3))})(R),F&&setTimeout(()=>F.focus())};E.useEffect(()=>()=>window.clearTimeout(I.current),[]),Hb();const j=E.useCallback(N=>P.current===W.current?.side&&mue(N,W.current?.area),[]);return a.jsx(Zce,{scope:e,searchRef:U,onItemEnter:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),onItemLeave:E.useCallback(N=>{j(N)||(q.current?.focus(),B(null))},[j]),onTriggerLeave:E.useCallback(N=>{j(N)&&N.preventDefault()},[j]),pointerGraceTimerRef:K,onPointerGraceIntentChange:E.useCallback(N=>{W.current=N},[]),children:a.jsx(T,{..._,children:a.jsx(a0,{asChild:!0,trapped:s,onMountAutoFocus:ut(i,N=>{N.preventDefault(),q.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(_d,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:h,children:a.jsx(w3,{asChild:!0,...S,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:B,onEntryFocus:ut(u,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Tb,{role:"menu","aria-orientation":"vertical","data-state":cO(m.open),"data-radix-menu-content":"",dir:v.dir,...x,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:ut(y.onKeyDown,N=>{const O=N.target.closest("[data-radix-menu-content]")===N.currentTarget,$=N.ctrlKey||N.altKey||N.metaKey,X=N.key.length===1;O&&(N.key==="Tab"&&N.preventDefault(),!$&&X&&k(N.key));const Y=q.current;if(N.target!==Y||!Uce.includes(N.key))return;N.preventDefault();const F=C().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);zI.includes(N.key)&&F.reverse(),due(F)}),onBlur:ut(t.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(I.current),U.current="")}),onPointerMove:ut(t.onPointerMove,Cm(N=>{const R=N.target,O=L.current!==N.clientX;if(N.currentTarget.contains(R)&&O){const $=N.clientX>L.current?"right":"left";P.current=$,L.current=N.clientX}}))})})})})})})});KI.displayName=Ki;var rue="MenuGroup",C3=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return a.jsx(Ht.div,{role:"group",...n,ref:r})});C3.displayName=rue;var nue="MenuLabel",GI=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return a.jsx(Ht.div,{...n,ref:r})});GI.displayName=nue;var tb="MenuItem",IN="menu.itemSelect",dx=E.forwardRef((t,r)=>{const{disabled:e=!1,onSelect:n,...s}=t,i=E.useRef(null),o=x0(tb,t.__scopeMenu),c=S3(tb,t.__scopeMenu),u=Pr(r,i),l=E.useRef(!1),d=()=>{const p=i.current;if(!e&&p){const f=new CustomEvent(IN,{bubbles:!0,cancelable:!0});p.addEventListener(IN,h=>n?.(h),{once:!0}),SA(p,f),f.defaultPrevented?l.current=!1:o.onClose()}};return a.jsx(XI,{...s,ref:u,disabled:e,onClick:ut(t.onClick,d),onPointerDown:p=>{t.onPointerDown?.(p),l.current=!0},onPointerUp:ut(t.onPointerUp,p=>{l.current||p.currentTarget?.click()}),onKeyDown:ut(t.onKeyDown,p=>{const f=c.searchRef.current!=="";e||f&&p.key===" "||V2.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});dx.displayName=tb;var XI=E.forwardRef((t,r)=>{const{__scopeMenu:e,disabled:n=!1,textValue:s,...i}=t,o=S3(tb,e),c=UI(e),u=E.useRef(null),l=Pr(r,u),[d,p]=E.useState(!1),[f,h]=E.useState("");return E.useEffect(()=>{const g=u.current;g&&h((g.textContent??"").trim())},[i.children]),a.jsx(Nm.ItemSlot,{scope:e,disabled:n,textValue:s??f,children:a.jsx(_3,{asChild:!0,...c,focusable:!n,children:a.jsx(Ht.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:ut(t.onPointerMove,Cm(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ut(t.onPointerLeave,Cm(g=>o.onItemLeave(g))),onFocus:ut(t.onFocus,()=>p(!0)),onBlur:ut(t.onBlur,()=>p(!1))})})})}),sue="MenuCheckboxItem",QI=E.forwardRef((t,r)=>{const{checked:e=!1,onCheckedChange:n,...s}=t;return a.jsx(tO,{scope:t.__scopeMenu,checked:e,children:a.jsx(dx,{role:"menuitemcheckbox","aria-checked":rb(e)?"mixed":e,...s,ref:r,"data-state":E3(e),onSelect:ut(s.onSelect,()=>n?.(rb(e)?!0:!e),{checkForDefaultPrevented:!1})})})});QI.displayName=sue;var YI="MenuRadioGroup",[aue,iue]=Cd(YI,{value:void 0,onValueChange:()=>{}}),ZI=E.forwardRef((t,r)=>{const{value:e,onValueChange:n,...s}=t,i=xa(n);return a.jsx(aue,{scope:t.__scopeMenu,value:e,onValueChange:i,children:a.jsx(C3,{...s,ref:r})})});ZI.displayName=YI;var JI="MenuRadioItem",eO=E.forwardRef((t,r)=>{const{value:e,...n}=t,s=iue(JI,t.__scopeMenu),i=e===s.value;return a.jsx(tO,{scope:t.__scopeMenu,checked:i,children:a.jsx(dx,{role:"menuitemradio","aria-checked":i,...n,ref:r,"data-state":E3(i),onSelect:ut(n.onSelect,()=>s.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});eO.displayName=JI;var T3="MenuItemIndicator",[tO,oue]=Cd(T3,{checked:!1}),rO=E.forwardRef((t,r)=>{const{__scopeMenu:e,forceMount:n,...s}=t,i=oue(T3,e);return a.jsx(js,{present:n||rb(i.checked)||i.checked===!0,children:a.jsx(Ht.span,{...s,ref:r,"data-state":E3(i.checked)})})});rO.displayName=T3;var lue="MenuSeparator",nO=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t;return a.jsx(Ht.div,{role:"separator","aria-orientation":"horizontal",...n,ref:r})});nO.displayName=lue;var cue="MenuArrow",sO=E.forwardRef((t,r)=>{const{__scopeMenu:e,...n}=t,s=ux(e);return a.jsx(Eb,{...s,...n,ref:r})});sO.displayName=cue;var uue="MenuSub",[mbe,aO]=Cd(uue),Rp="MenuSubTrigger",iO=E.forwardRef((t,r)=>{const e=Td(Rp,t.__scopeMenu),n=x0(Rp,t.__scopeMenu),s=aO(Rp,t.__scopeMenu),i=S3(Rp,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,l={__scopeMenu:t.__scopeMenu},d=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),a.jsx(k3,{asChild:!0,...l,children:a.jsx(XI,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":cO(e.open),...t,ref:ll(r,s.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:ut(t.onPointerMove,Cm(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!e.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{e.onOpenChange(!0),d()},100))})),onPointerLeave:ut(t.onPointerLeave,Cm(p=>{d();const f=e.content?.getBoundingClientRect();if(f){const h=e.content?.dataset.side,g=h==="right",y=g?-5:5,m=f[g?"left":"right"],v=f[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:m,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:m,y:f.bottom}],side:h}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ut(t.onKeyDown,p=>{const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||Wce[n.dir].includes(p.key)&&(e.onOpenChange(!0),e.content?.focus(),p.preventDefault())})})})});iO.displayName=Rp;var oO="MenuSubContent",lO=E.forwardRef((t,r)=>{const e=qI(Ki,t.__scopeMenu),{forceMount:n=e.forceMount,...s}=t,i=Td(Ki,t.__scopeMenu),o=x0(Ki,t.__scopeMenu),c=aO(oO,t.__scopeMenu),u=E.useRef(null),l=Pr(r,u);return a.jsx(Nm.Provider,{scope:t.__scopeMenu,children:a.jsx(js,{present:n||i.open,children:a.jsx(Nm.Slot,{scope:t.__scopeMenu,children:a.jsx(N3,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ut(t.onFocusOutside,d=>{d.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ut(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ut(t.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),f=qce[o.dir].includes(d.key);p&&f&&(i.onOpenChange(!1),c.trigger?.focus(),d.preventDefault())})})})})})});lO.displayName=oO;function cO(t){return t?"open":"closed"}function rb(t){return t==="indeterminate"}function E3(t){return rb(t)?"indeterminate":t?"checked":"unchecked"}function due(t){const r=document.activeElement;for(const e of t)if(e===r||(e.focus(),document.activeElement!==r))return}function fue(t,r){return t.map((e,n)=>t[(r+n)%t.length])}function hue(t,r,e){const s=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,i=e?t.indexOf(e):-1;let o=fue(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==e));const u=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return u!==e?u:void 0}function pue(t,r){const{x:e,y:n}=t;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const c=r[i],u=r[o],l=c.x,d=c.y,p=u.x,f=u.y;d>n!=f>n&&e<(p-l)*(n-d)/(f-d)+l&&(s=!s)}return s}function mue(t,r){if(!r)return!1;const e={x:t.clientX,y:t.clientY};return pue(e,r)}function Cm(t){return r=>r.pointerType==="mouse"?t(r):void 0}var gue=WI,yue=k3,bue=HI,xue=KI,vue=C3,wue=GI,_ue=dx,kue=QI,jue=ZI,Sue=eO,Nue=rO,Cue=nO,Tue=sO,Eue=iO,Aue=lO,fx="DropdownMenu",[Pue]=da(fx,[VI]),Ua=VI(),[Mue,uO]=Pue(fx),dO=t=>{const{__scopeDropdownMenu:r,children:e,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,u=Ua(r),l=E.useRef(null),[d,p]=Gi({prop:s,defaultProp:i??!1,onChange:o,caller:fx});return a.jsx(Mue,{scope:r,triggerId:_i(),triggerRef:l,contentId:_i(),open:d,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(f=>!f),[p]),modal:c,children:a.jsx(gue,{...u,open:d,onOpenChange:p,dir:n,modal:c,children:e})})};dO.displayName=fx;var fO="DropdownMenuTrigger",hO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,disabled:n=!1,...s}=t,i=uO(fO,e),o=Ua(e);return a.jsx(yue,{asChild:!0,...o,children:a.jsx(Ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ll(r,i.triggerRef),onPointerDown:ut(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ut(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});hO.displayName=fO;var Rue="DropdownMenuPortal",pO=t=>{const{__scopeDropdownMenu:r,...e}=t,n=Ua(r);return a.jsx(bue,{...n,...e})};pO.displayName=Rue;var mO="DropdownMenuContent",gO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=uO(mO,e),i=Ua(e),o=E.useRef(!1);return a.jsx(xue,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:r,onCloseAutoFocus:ut(t.onCloseAutoFocus,c=>{o.current||s.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:ut(t.onInteractOutside,c=>{const u=c.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,d=u.button===2||l;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gO.displayName=mO;var Due="DropdownMenuGroup",Iue=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(vue,{...s,...n,ref:r})});Iue.displayName=Due;var Oue="DropdownMenuLabel",yO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(wue,{...s,...n,ref:r})});yO.displayName=Oue;var Fue="DropdownMenuItem",bO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(_ue,{...s,...n,ref:r})});bO.displayName=Fue;var Lue="DropdownMenuCheckboxItem",xO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(kue,{...s,...n,ref:r})});xO.displayName=Lue;var Bue="DropdownMenuRadioGroup",$ue=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(jue,{...s,...n,ref:r})});$ue.displayName=Bue;var zue="DropdownMenuRadioItem",vO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Sue,{...s,...n,ref:r})});vO.displayName=zue;var Vue="DropdownMenuItemIndicator",wO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Nue,{...s,...n,ref:r})});wO.displayName=Vue;var Uue="DropdownMenuSeparator",_O=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Cue,{...s,...n,ref:r})});_O.displayName=Uue;var Wue="DropdownMenuArrow",que=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Tue,{...s,...n,ref:r})});que.displayName=Wue;var Hue="DropdownMenuSubTrigger",kO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Eue,{...s,...n,ref:r})});kO.displayName=Hue;var Kue="DropdownMenuSubContent",jO=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:e,...n}=t,s=Ua(e);return a.jsx(Aue,{...s,...n,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jO.displayName=Kue;var Gue=dO,Xue=hO,Que=pO,SO=gO,NO=yO,CO=bO,TO=xO,EO=vO,AO=wO,PO=_O,MO=kO,RO=jO;const A3=t=>a.jsx(Gue,{modal:!1,...t}),P3=Xue,Yue=E.forwardRef(({className:t,inset:r,children:e,...n},s)=>a.jsxs(MO,{ref:s,className:Ae("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n,children:[e,a.jsx(Kf,{className:"ml-auto"})]}));Yue.displayName=MO.displayName;const Zue=E.forwardRef(({className:t,...r},e)=>a.jsx(RO,{ref:e,className:Ae("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),style:{pointerEvents:"auto"},...r}));Zue.displayName=RO.displayName;const hx=E.forwardRef(({className:t,sideOffset:r=4,...e},n)=>a.jsx(Que,{children:a.jsx(SO,{ref:n,sideOffset:r,className:Ae("z-[99999] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]","bg-popover opacity-100",t),style:{pointerEvents:"auto"},...e})}));hx.displayName=SO.displayName;const nb=E.forwardRef(({className:t,inset:r,...e},n)=>a.jsx(CO,{ref:n,className:Ae("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...e}));nb.displayName=CO.displayName;const Jue=E.forwardRef(({className:t,children:r,checked:e,...n},s)=>a.jsxs(TO,{ref:s,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:e,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(AO,{children:a.jsx(Dl,{className:"h-4 w-4"})})}),r]}));Jue.displayName=TO.displayName;const ede=E.forwardRef(({className:t,children:r,...e},n)=>a.jsxs(EO,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(AO,{children:a.jsx(JA,{className:"h-2 w-2 fill-current"})})}),r]}));ede.displayName=EO.displayName;const M3=E.forwardRef(({className:t,inset:r,...e},n)=>a.jsx(NO,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...e}));M3.displayName=NO.displayName;const R3=E.forwardRef(({className:t,...r},e)=>a.jsx(PO,{ref:e,className:Ae("-mx-1 my-1 h-px bg-muted",t),...r}));R3.displayName=PO.displayName;const tde={default:"text-foreground",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-muted-foreground"},rde={default:"text-primary",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",muted:"text-gray-400 dark:text-gray-500"},nde={default:"bg-primary/10 text-primary border-primary/20",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",outline:"border-border",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"},ON={default:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",blue:"text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-400 dark:hover:text-blue-200 dark:hover:bg-blue-900/30",green:"text-green-600 hover:text-green-800 hover:bg-green-100 dark:text-green-400 dark:hover:text-green-200 dark:hover:bg-green-900/30",yellow:"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-100 dark:text-yellow-400 dark:hover:text-yellow-200 dark:hover:bg-yellow-900/30",red:"text-red-600 hover:text-red-800 hover:bg-red-100 dark:text-red-400 dark:hover:text-red-200 dark:hover:bg-red-900/30",orange:"text-orange-600 hover:text-orange-800 hover:bg-orange-100 dark:text-orange-400 dark:hover:text-orange-200 dark:hover:bg-orange-900/30"};function sde(t){const e=String(t||"").length;return e<=4?"text-sm font-bold":e<=7?"text-xs font-bold":e<=12?"text-[11px] font-semibold":e<=18?"text-[10px] font-semibold":e<=25?"text-[9px] font-medium":"text-[8px] font-medium"}function ade({compact:t}){return a.jsxs("div",{className:Ae("relative rounded-xl border bg-card shadow-sm overflow-hidden",t?"p-3":"p-4"),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(dn,{className:"h-5 w-32 mb-2"}),a.jsx(dn,{className:"h-3 w-24"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(dn,{className:"h-7 w-7 rounded"}),a.jsx(dn,{className:"h-7 w-7 rounded"})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[1,2,3,4].map(r=>a.jsxs("div",{className:"space-y-1",children:[a.jsx(dn,{className:"h-3 w-16"}),a.jsx(dn,{className:"h-4 w-24"})]},r))})]})}function vn({title:t,subtitle:r,titleIcon:e,badges:n=[],fields:s,actions:i=[],footer:o,className:c,onClick:u,isLoading:l,compact:d=!1,headerColor:p}){if(l)return a.jsx(ade,{compact:d});const f=(s||[]).filter(g=>!g.hidden),h=(i||[]).filter(g=>!g.hidden);return a.jsxs("div",{className:Ae("group relative rounded-2xl border-2 bg-card text-card-foreground shadow-sm overflow-hidden transition-all duration-300","hover:shadow-xl hover:border-primary/30 hover:-translate-y-1",u&&"cursor-pointer",d?"p-4":"p-6",c),onClick:u,children:[p&&a.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 shadow-sm",style:{backgroundColor:p}}),a.jsx("div",{className:"flex items-start gap-3",children:a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e&&a.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(e,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:Ae("font-extrabold text-foreground truncate",d?"text-lg":"text-xl"),children:t}),r&&a.jsx("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:r})]}),n.length>0&&a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:n.map((g,y)=>a.jsx(xr,{variant:"outline",className:Ae("text-[10px] px-1.5 py-0 h-5 font-medium",nde[g.variant||"default"],g.className),children:g.label},y))})]})})}),a.jsxs("div",{className:Ae("flex items-start",d?"mt-2":"mt-3"),children:[a.jsx("div",{className:Ae("grid gap-x-2 grid-cols-2 flex-1",d?"gap-y-1":"gap-y-1.5"),children:f.map((g,y)=>{const m=g.icon;return a.jsxs("div",{className:Ae("flex items-center gap-1 min-w-0",d?"py-0":"py-0.5"),children:[m&&a.jsx(m,{className:Ae("h-3 w-3 shrink-0",g.iconClassName||rde[g.color||"default"])}),a.jsxs("div",{className:"min-w-0 flex-1 flex items-baseline gap-1 flex-wrap",children:[a.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap font-medium",children:[g.label,":"]}),a.jsx("span",{className:Ae("arabic-numbers break-words leading-tight",g.emphasis?"text-sm font-bold":sde(g.value),tde[g.color||"default"]),children:g.value||"-"})]})]},y)})}),h.length>0&&a.jsx("div",{className:"shrink-0 flex flex-col gap-0.5 mr-[-8px] mt-[-4px]",children:h.map((g,y)=>{const m=g.icon;return g.dropdown&&g.dropdown.length>0?a.jsxs(A3,{children:[a.jsx(P3,{asChild:!0,children:a.jsx(Ie,{size:"icon",variant:"ghost",className:Ae("h-6 w-6 rounded-md",ON[g.color||"default"]),onClick:v=>v.stopPropagation(),disabled:g.disabled,title:g.label,children:a.jsx(m,{className:"h-3.5 w-3.5"})})}),a.jsx(hx,{align:"end",className:"w-48",children:g.dropdown.map((v,x)=>a.jsx(nb,{onClick:S=>{S.stopPropagation(),v.onClick()},className:"text-right flex items-center justify-end gap-2",children:a.jsx("span",{children:v.label})},x))})]},y):a.jsx(Ie,{size:"icon",variant:"ghost",className:Ae("h-6 w-6 rounded-md",ON[g.color||"default"]),onClick:v=>{v.stopPropagation(),g.onClick()},disabled:g.disabled,title:g.label,children:a.jsx(m,{className:"h-3.5 w-3.5"})},y)})})]}),o&&a.jsx("div",{className:Ae("border-t mt-3 pt-2",d&&"mt-2 pt-1.5"),children:o})]})}function Hs({children:t,columns:r=2,className:e}){const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"};return a.jsx("div",{className:Ae("grid gap-3",n[r],e),children:t})}function ide(){Gs();const{selectedProjectId:t,isAllProjects:r,projects:e}=No(),[n,s]=E.useState(""),[i,o]=E.useState({dateRange:void 0,type:"all"}),[c,u]=E.useState(!1),[l,d]=E.useState(),p=new URLSearchParams(window.location.search),f=p.get("edit"),h=p.get("worker"),g=p.get("date"),[y,m]=E.useState(g||null),[v,x]=E.useState({}),[S,C]=E.useState(!1),[A,B]=E.useState(!1),[q,D]=E.useState(!0),[I,U]=E.useState({startTime:"07:00",endTime:"15:00",workDays:0,paymentType:"partial",paidAmount:"",workDescription:""}),{toast:K}=wn(),W=ks(),{setFloatingAction:P}=Zi();E.useCallback((ee,oe)=>{o(ne=>({...ne,[ee]:oe}))},[]);const L=E.useCallback(()=>{s(""),o({dateRange:void 0,type:"all"}),q&&m(aa()),K({title:"  ",description:"      "})},[K,q]),T=E.useCallback(async()=>{u(!0);try{await W.invalidateQueries({queryKey:xe.workerAttendanceAll(t)}),K({title:" ",description:"   "})}catch{K({title:"",description:"  ",variant:"destructive"})}finally{u(!1)}},[W,t,K]);E.useEffect(()=>{!y&&q&&m(aa())},[]),E.useEffect(()=>(P(null),()=>P(null)),[P]);const _=async(ee,oe)=>{if(!(!oe||typeof oe!="string"||!oe.trim()))try{await Ue("/api/autocomplete","POST",{category:ee,value:oe.trim()})}catch(ne){console.log(`Failed to save autocomplete value for ${ee}:`,ne)}},{data:k=[]}=vt({queryKey:xe.workerAttendance(t,y),queryFn:async()=>{try{if(r){const ne=[];for(const fe of e){const ce=y?`/api/projects/${fe.id}/worker-attendance?date=${y}`:`/api/projects/${fe.id}/worker-attendance`;try{const ie=await Ue(ce,"GET"),te=ie?.data||ie||[];Array.isArray(te)&&ne.push(...te.map(se=>({...se,projectId:fe.id,projectName:fe.name})))}catch(ie){console.error(`Error fetching attendance for project ${fe.id}:`,ie)}}return ne}const ee=y?`/api/projects/${t}/worker-attendance?date=${y}`:`/api/projects/${t}/worker-attendance`,oe=await Ue(ee,"GET");return oe&&oe.data&&Array.isArray(oe.data)?oe.data:Array.isArray(oe)?oe:[]}catch(ee){return console.error("Error fetching attendance records:",ee),[]}},enabled:!!t&&(r?e.length>0:!0),refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:j=[]}=vt({queryKey:xe.workerAttendanceAll(t),queryFn:async()=>{try{const ee=await Ue(`/api/projects/${t}/worker-attendance`,"GET");return ee&&ee.data&&Array.isArray(ee.data)?ee.data:Array.isArray(ee)?ee:[]}catch(ee){return console.error("Error fetching all attendance records:",ee),[]}},enabled:!!t,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),{data:N}=vt({queryKey:xe.workerAttendanceEdit(f),queryFn:async()=>{try{const ee=await Ue(`/api/worker-attendance/${f}`,"GET");return ee&&ee.data?ee.data:ee||null}catch(ee){return console.error("Error fetching attendance record for editing:",ee),null}},enabled:!!f});E.useEffect(()=>{x({}),d(void 0)},[y,t]),E.useEffect(()=>{if(N&&h){const ee={...v};ee[h]={isPresent:!0,startTime:N.startTime,endTime:N.endTime,workDescription:N.workDescription||"",workDays:parseFloat(N.workDays?.toString()||"0"),paidAmount:N.paidAmount?.toString()||"",paymentType:N.paymentType||"partial"},x(ee)}},[N,h]);const R=It({mutationFn:ee=>Ue(`/api/worker-attendance/${ee}`,"DELETE"),onMutate:async ee=>{const oe=t,ne=y,fe=xe.workerAttendanceAll(oe),ce=xe.workerAttendance(oe,ne);await W.cancelQueries({queryKey:fe}),await W.cancelQueries({queryKey:ce});const ie=W.getQueryData(fe),te=W.getQueryData(ce);return Array.isArray(ie)&&W.setQueryData(fe,ie.filter(se=>se.id!==ee)),Array.isArray(te)&&W.setQueryData(ce,te.filter(se=>se.id!==ee)),{previousAllData:ie,previousDateData:te,allKey:fe,dateKey:ce}},onSuccess:()=>{K({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(ee,oe,ne)=>{ne?.previousAllData&&ne?.allKey&&W.setQueryData(ne.allKey,ne.previousAllData),ne?.previousDateData&&ne?.dateKey&&W.setQueryData(ne.dateKey,ne.previousDateData),console.error(" [DeleteAttendance]   :",ee);const fe=ee.message||"     ";K({title:"",description:fe,variant:"destructive"})},onSettled:(ee,oe,ne,fe)=>{fe?.allKey&&W.invalidateQueries({queryKey:fe.allKey}),fe?.dateKey&&W.invalidateQueries({queryKey:fe.dateKey})}}),O=ee=>{if(Array.isArray($)?$.find(ne=>ne.id===ee.workerId):null){const ne={...v};ne[ee.workerId]={isPresent:!0,startTime:ee.startTime,endTime:ee.endTime,workDescription:ee.workDescription||"",workDays:parseFloat(ee.workDays?.toString()||"0"),paidAmount:ee.paidAmount,paymentType:ee.paymentType||"partial",recordId:ee.id,recordType:ee.recordType||"work"},x(ne)}},{data:$=[],isLoading:X}=vt({queryKey:xe.workers}),Y=It({onMutate:async ee=>{console.log("      (Optimistic):",ee.length);for(const oe of ee){const ne=parseFloat(oe.workDays?.toString()||"0"),fe=parseFloat(oe.paidAmount?.toString()||"0");if(ne<=0&&fe<=0){const ie=`         ${$.find(te=>te.id===oe.workerId)?.name||""}`;throw K({title:" ",description:ie,variant:"destructive"}),new Error(ie)}}},mutationFn:async ee=>{console.log("     :",ee.length);const oe=ee.flatMap(ce=>[_("workDescriptions",ce.workDescription),_("paymentTypes",ce.paymentType)]).filter(Boolean);oe.length>0&&await Promise.all(oe);const ne=[],fe=[];for(const ce of ee)try{!ce.attendanceDate&&ce.date&&(ce.attendanceDate=ce.date),ce.attendanceDate||(ce.attendanceDate=y||aa()),console.log(`    : ${ce.workerId}  : ${ce.attendanceDate}`);const ie=parseFloat(ce.workDays?.toString()||"0"),te=parseFloat(ce.paidAmount?.toString()||"0");if(ie<=0&&te<=0){const se=$.find(de=>de.id===ce.workerId);throw new Error(`         ${se?.name||""}`)}if(ce.recordType==="advance"?(ce.workDays="0",console.log("   -  workDays = 0")):ce.workDays!==void 0&&(ce.workDays=ce.workDays.toString()),ce.recordId){console.log(`    : ${ce.workerId} : ${ce.recordId}`);const se={...ce};delete se.recordId;const de=await Ue(`/api/worker-attendance/${ce.recordId}`,"PATCH",se);ne.push(de)}else try{const se=await Ue(`/api/projects/${ce.projectId}/attendance?date=${ce.date}&workerId=${ce.workerId}`,"GET"),de=se?.data||se||[],me=Array.isArray(de)?de.find(ke=>ke.workerId===ce.workerId):null;if(me){console.log(`    : ${ce.workerId}    -    `);const ke=await Ue(`/api/worker-attendance/${me.id}`,"PATCH",ce);ne.push(ke)}else{console.log(`    : ${ce.workerId}`);const ke=await Ue("/api/worker-attendance","POST",ce);ne.push(ke)}}catch(se){console.log("       -  :",se);try{const de=await Ue("/api/worker-attendance","POST",ce);ne.push(de)}catch(de){throw de.message&&de.message.includes("unique")||de.message.includes("UNIQUE")?(console.log(`      ${ce.workerId}   `),new Error("      .      .")):de}}}catch(ie){console.error(`      ${ce.workerId}:`,ie);const se=$.find(me=>me.id===ce.workerId)?.name||"  ";let de="  ";ie?.response?.data?.message?de=ie.response.data.message:ie?.response?.data?.error?de=ie.response.data.error:ie?.message&&(de=ie.message),fe.push({workerId:ce.workerId,workerName:se,error:de})}return console.log(`   ${ne.length}   `),fe.length>0&&console.warn(`    ${fe.length}  :`,fe),{successful:ne,failed:fe,totalProcessed:ee.length}},onSuccess:async ee=>{W.refetchQueries({queryKey:xe.autocomplete}),W.refetchQueries({queryKey:xe.workerAttendanceAll(t)});const{successful:oe,failed:ne,totalProcessed:fe}=ee;if(ne.length===0)K({title:"   ",description:`   ${oe.length}  `});else if(oe.length>0){const ce=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"   ",description:`: ${oe.length} 
: ${ne.length} 

${ce}`,variant:"default"}),console.error(" :",ne)}else{const ce=ne.map(ie=>` ${ie.workerName}: ${ie.error}`).join(`
`);K({title:"  ",description:`     :

${ce}`,variant:"destructive"})}oe.length>0&&x(ce=>{const ie={...ce};return oe.forEach(te=>{const se=te?.data||te;se?.workerId&&delete ie[se.workerId]}),ie})},onError:async(ee,oe)=>{const ne=oe.flatMap(ce=>[_("workDescriptions",ce.workDescription),_("paymentTypes",ce.paymentType)]).filter(Boolean);ne.length>0&&(await Promise.all(ne),W.refetchQueries({queryKey:xe.autocomplete})),console.error("Error saving attendance:",ee);let fe="    ";if(ee?.response?.data?.error||ee?.message){const ce=ee?.response?.data?.error||ee?.message;ce.includes("     ")?fe="        ":fe=ce}K({title:"",description:fe,variant:"destructive"})}}),re=(ee,oe)=>{const ne=$.find(fe=>fe.id===ee);if(ne&&oe.isPresent&&oe.workDays===void 0){oe.workDays=1;const fe=parseFloat(ne.dailyWage||"0");oe.actualWage=fe*(oe.workDays||0),oe.totalPay=oe.actualWage,oe.remainingAmount=oe.totalPay-parseFloat(oe.paidAmount||"0")}x(fe=>({...fe,[ee]:oe}))},F=()=>{const ee={...v};Object.keys(ee).forEach(oe=>{ee[oe].isPresent&&(ee[oe]={...ee[oe],startTime:I.startTime,endTime:I.endTime,workDays:I.workDays,paymentType:I.paymentType,paidAmount:I.paidAmount,workDescription:I.workDescription})}),x(ee),K({title:" ",description:"      "})},Z=ee=>{const oe={};$.forEach(ne=>{ee?oe[ne.id]={isPresent:!0,startTime:I.startTime,endTime:I.endTime,workDays:I.workDays,paymentType:I.paymentType,paidAmount:I.paidAmount,workDescription:I.workDescription}:oe[ne.id]={isPresent:!1}}),x(oe)},V=()=>{if(!t||t===Ts){K({title:"   ",description:"         ",variant:"destructive"});return}if(!y){K({title:"   ",description:"      ",variant:"destructive"});return}const ee=Object.entries(v).filter(([fe,ce])=>{if(!ce.isPresent)return!1;const ie=ce.recordType||"work";return ie==="work"&&(!ce.workDays||ce.workDays<=0)||ie==="advance"&&(!ce.paidAmount||parseFloat(ce.paidAmount)<=0)});if(ee.length>0){const fe=ee.some(([se,de])=>(de.recordType||"work")==="work"),ce=ee.some(([se,de])=>(de.recordType||"work")==="advance");let ie="";const te=[];fe&&(ie+=`          
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="work"){const ke=$.find(Ne=>Ne.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),ce&&(ie+=`         
`,ee.forEach(([se,de])=>{if((de.recordType||"work")==="advance"){const ke=$.find(Ne=>Ne.id===se);te.push(`  - ${ke?.name||"  "}:    `)}})),K({title:"   ",description:ie+(te.length>0?`
`+te.join(`
`):""),variant:"destructive"});return}if(Object.entries(v).filter(([fe,ce])=>ce.isPresent).length===0){K({title:" ",description:"     .     .",variant:"destructive"});return}const ne=Object.entries(v).filter(([fe,ce])=>ce.isPresent?(ce.recordType||"work")==="work"?ce.workDays&&ce.workDays>0:ce.paidAmount&&parseFloat(ce.paidAmount)>0:!1).map(([fe,ce])=>{const ie=$.find(ot=>ot.id===fe),te=parseFloat(ie?.dailyWage||"0"),se=ce.recordType||"work",de=se==="advance"?0:ce.workDays||0,me=te*de,ke=parseFloat(String(ce.overtime||0)),Ne=parseFloat(String(ce.overtimeRate||0)),De=ke*Ne,Fe=se==="advance"?0:Math.max(0,me+De),Ge=parseFloat(ce.paidAmount||"0"),qe=se==="advance"?-Ge:ce.paymentType==="credit"?Fe:Fe-Ge,pt=()=>{if(!ce.startTime||!ce.endTime)return 0;const ot=new Date(`2000-01-01T${ce.startTime}:00`);let be=new Date(`2000-01-01T${ce.endTime}:00`).getTime()-ot.getTime();return be<0&&(be+=1440*60*1e3),Math.max(0,be/(1e3*60*60))},yt={projectId:t,workerId:fe,date:y,attendanceDate:y,startTime:ce.startTime||"07:00",endTime:ce.endTime||"15:00",workDescription:ce.workDescription||"",isPresent:!0,workDays:de,dailyWage:ie?.dailyWage||"0",hoursWorked:pt().toString(),overtime:ke.toString(),overtimeRate:Ne.toString(),actualWage:me.toString(),totalPay:Fe.toString(),paidAmount:Ge.toString(),remainingAmount:qe.toString(),paymentType:ce.paymentType||"partial",notes:ce.notes||"",wellId:l||null};return ce.recordId&&(yt.recordId=ce.recordId),yt});if(ne.length===0){K({title:"     ",description:`  :
   
     
     `,variant:"destructive"});return}Y.mutate(ne)},z=Array.isArray(k)?k:[],G=E.useMemo(()=>{if(!n.trim())return $;const ee=n.toLowerCase().trim();return $.filter(oe=>oe.name?.toLowerCase().includes(ee)||oe.phone?.toLowerCase().includes(ee)||oe.type?.toLowerCase().includes(ee))},[$,n]),ae=E.useMemo(()=>{let ee=z;if(n.trim()){const oe=n.toLowerCase().trim();ee=ee.filter(ne=>$.find(ce=>ce.id===ne.workerId)?.name?.toLowerCase().includes(oe)||ne.workDescription?.toLowerCase().includes(oe)||ne.notes?.toLowerCase().includes(oe))}return(i.dateRange?.from||i.dateRange?.to)&&(ee=ee.filter(oe=>{const ne=new Date(oe.attendanceDate||oe.date);if(i.dateRange.from){const fe=new Date(i.dateRange.from);if(fe.setHours(0,0,0,0),ne<fe)return!1}if(i.dateRange.to){const fe=new Date(i.dateRange.to);if(fe.setHours(23,59,59,999),ne>fe)return!1}return!0})),i.type&&i.type!=="all"&&(ee=ee.filter(oe=>$.find(fe=>fe.id===oe.workerId)?.type===i.type)),ee},[z,$,n,i.dateRange,i.type]),pe=E.useMemo(()=>{const ee=ae.length,oe=ae.reduce((te,se)=>te+parseFloat(se.workDays||"0"),0);let ne=0,fe=0,ce=0;ae.forEach(te=>{const se=$.find(De=>De.id===te.workerId),de=parseFloat(se?.dailyWage||te.dailyWage||"0"),me=parseFloat(te.workDays||"0"),ke=de*me,Ne=parseFloat(te.paidAmount||"0");ne+=ke,fe+=Ne,te.transfers&&(ce+=parseFloat(te.transfers))});const ie=ne-fe-ce;return{totalWorkers:G.length,presentWorkers:ee,totalWorkDays:oe,totalEarned:ne,totalPaid:fe,totalRemaining:ie,allWorkersCount:$.length,allRecordsCount:z.length}},[ae,G,$,z]),ue=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:pe.totalWorkers,icon:Ln,color:"blue"},{key:"present",label:" ",value:pe.presentWorkers,icon:Hn,color:"green"},{key:"days",label:" ",value:pe.totalWorkDays.toFixed(2),icon:ns,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"earned",label:"",value:Je(pe.totalEarned),icon:kr,color:"blue"},{key:"paid",label:"",value:Je(pe.totalPaid),icon:Hn,color:"green"},{key:"remaining",label:"",value:Je(pe.totalRemaining),icon:kr,color:pe.totalRemaining>=0?"purple":"red"}]}],[pe]),ge=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...Array.from(new Set($.map(ee=>ee.type))).filter(Boolean).map(ee=>({value:ee,label:ee}))]}],[$]);return a.jsxs("div",{className:"p-4 space-y-4",children:[t&&a.jsx(Co,{hideHeader:!0,title:"",statsRows:ue,searchValue:n,onSearchChange:s,searchPlaceholder:"  ...",showSearch:!0,filters:ge,filterValues:{date:y?(()=>{const[ee,oe,ne]=y.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:(ee,oe)=>{if(ee==="date")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),ce=String(oe.getDate()).padStart(2,"0");m(`${ne}-${fe}-${ce}`)}else m(null)},onReset:L,onRefresh:T,isRefreshing:c,resultsSummary:n?{totalCount:pe.allRecordsCount,filteredCount:pe.presentWorkers,totalLabel:" ",filteredLabel:"",totalValue:pe.totalEarned,totalValueLabel:" ",unit:"."}:void 0}),$.length>0&&a.jsx(Li,{open:A,onOpenChange:B,children:a.jsxs(Jt,{className:"mb-4",children:[(!t||t===Ts||!y)&&a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 m-4 rounded",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 mb-1",children:"    "}),a.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[(!t||t===Ts)&&a.jsx("p",{children:"      "}),!y&&a.jsx("p",{children:"      "})]})]})]})}),a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ln,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:A?" ":" "}),A?a.jsx(qc,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(rs,{className:"h-5 w-5 text-muted-foreground"})]})]})}),a.jsx($i,{children:a.jsxs("div",{className:"p-4 bg-muted/30 border-b space-y-3",children:[a.jsx(Sm,{projectId:t,value:l,onChange:d,optional:!0}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-reverse space-x-2",children:a.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>C(!S),className:"px-2 py-1 h-8","data-testid":"toggle-shared-settings",children:S?a.jsx(qc,{className:"h-4 w-4"}):a.jsx(rs,{className:"h-4 w-4"})})}),S&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Z(!0),className:"text-xs",children:" "}),a.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>Z(!1),className:"text-xs",children:" "}),a.jsx(Ie,{size:"sm",onClick:F,className:"text-xs",children:"  "})]})]}),S&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsx(xt,{type:"time",value:I.startTime,onChange:ee=>U(oe=>({...oe,startTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsx(xt,{type:"time",value:I.endTime,onChange:ee=>U(oe=>({...oe,endTime:ee.target.value})),className:"mt-1",autoWidth:!0,maxWidth:120})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(xt,{type:"number",inputMode:"decimal",step:"0.1",min:"0",max:"10.0",value:I.workDays||"",onChange:ee=>{const oe=ee.target.value;U(ne=>({...ne,workDays:oe===""?0:parseFloat(oe)||0}))},placeholder:"0",className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}}),I.workDays!==0&&a.jsx("button",{onClick:()=>U(ee=>({...ee,workDays:0})),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"",children:""})]})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsxs(ws,{value:I.paymentType,onValueChange:ee=>U(oe=>({...oe,paymentType:ee})),children:[a.jsx(cs,{className:"mt-1",children:a.jsx(_s,{})}),a.jsxs(us,{children:[a.jsx(wr,{value:"full",children:" "}),a.jsx(wr,{value:"partial",children:" "}),a.jsx(wr,{value:"credit",children:" "})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[I.paymentType!=="credit"&&a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",placeholder:"0",value:I.paidAmount,onChange:ee=>U(oe=>({...oe,paidAmount:ee.target.value})),className:"mt-1 english-numbers",style:{direction:"ltr",unicodeBidi:"embed"}})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs text-muted-foreground",children:" "}),a.jsx(Ms,{value:I.workDescription,onChange:ee=>U(oe=>({...oe,workDescription:ee})),placeholder:"  ...",category:"workDescriptions",className:"mt-1"})]})]})]}),X?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):$.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"   "})}):a.jsx("div",{className:"space-y-3",children:G.length===0&&n?a.jsx("div",{className:"text-center py-8",children:a.jsxs("p",{className:"text-muted-foreground",children:['    "',n,'"']})}):G.map(ee=>a.jsx(wse,{worker:ee,attendance:v[ee.id]||{isPresent:!1},onAttendanceChange:oe=>re(ee.id,oe),selectedDate:y??void 0},ee.id))}),a.jsx("div",{className:"mt-6",children:a.jsxs(Ie,{onClick:V,disabled:Y.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[a.jsx(Mc,{className:"ml-2 h-4 w-4"}),Y.isPending?" ...":" "]})})]})})]})}),t&&a.jsx("div",{className:"mt-6",children:ae.length>0?a.jsx(Hs,{columns:2,children:ae.map(ee=>{const oe=$.find(de=>de.id===ee.workerId),ne=parseFloat(oe?.dailyWage||ee.dailyWage||"0"),fe=parseFloat(ee.workDays||"0"),ce=ne*fe,ie=parseFloat(ee.paidAmount||"0"),te=ce-ie,se=ee.projectName||e.find(de=>de.id===ee.projectId)?.name;return a.jsx(vn,{title:oe?.name||ee.workerId,subtitle:r&&se?`${se} - ${ee.date||ee.attendanceDate}`:ee.date||ee.attendanceDate,titleIcon:Xm,headerColor:"#22c55e",badges:[{label:"",variant:"success"},...r&&se?[{label:se,variant:"outline"}]:[]],fields:[{label:"",value:`${ee.startTime||" "} - ${ee.endTime||" "}`,icon:ns,color:"info"},{label:" ",value:fe.toString(),icon:ua,color:"warning"},{label:" ",value:Je(ne),icon:kr,color:"default"},{label:"",value:Je(ce),icon:kr,color:"info",emphasis:!0},{label:"",value:Je(ie),icon:Hn,color:"success"},{label:"",value:Je(te),icon:kr,color:te>0?"danger":"success",emphasis:!0}],actions:[{icon:Nl,label:"",onClick:()=>O(ee),color:"blue"},{icon:Ps,label:"",onClick:()=>R.mutate(ee.id),color:"red",disabled:R.isPending}],footer:ee.workDescription?a.jsx("p",{className:"text-sm text-muted-foreground",children:ee.workDescription}):void 0,compact:!0},ee.id)})}):null})]})}const ode=t=>t==="web"?[{id:1,name:" ",status:"pending",icon:pf},{id:2,name:"   GitHub",status:"pending",icon:pf},{id:3,name:"  ",status:"pending",icon:Gf},{id:4,name:"   ",status:"pending",icon:Lp},{id:5,name:"   ",status:"pending",icon:Nn},{id:6,name:"   ",status:"pending",icon:xo},{id:7,name:"  ",status:"pending",icon:Is}]:[{id:1,name:" ",status:"pending",icon:pf},{id:2,name:"   GitHub",status:"pending",icon:pf},{id:3,name:"  ",status:"pending",icon:Gf},{id:4,name:"   ",status:"pending",icon:Lp},{id:5,name:"   ",status:"pending",icon:Nn},{id:6,name:" APK  Android",status:"pending",icon:N_},{id:7,name:" APK  ",status:"pending",icon:Lp}],lde=[{id:1,name:" ",status:"pending",icon:pf},{id:2,name:"   GitHub",status:"pending",icon:pf},{id:3,name:"   ",status:"pending",icon:Gf},{id:4,name:" ",status:"pending",icon:Nn},{id:5,name:" ",status:"pending",icon:xo},{id:6,name:" ",status:"pending",icon:xo},{id:7,name:" ",status:"pending",icon:Is}];function cde(){const{toast:t}=wn(),[r,e]=E.useState(!1),[n,s]=E.useState(0),[i,o]=E.useState(lde),[c,u]=E.useState([]),[l,d]=E.useState(!0),[p,f]=E.useState(null),[h,g]=E.useState(null),[y,m]=E.useState("web"),[v,x]=E.useState({show:!1,message:"",action:""}),S=E.useRef(null);E.useEffect(()=>{l&&S.current&&S.current.scrollIntoView({behavior:"smooth",block:"end"})},[c,l]);const C=(K,W="info")=>{u(P=>[...P,{id:Math.random().toString(36).substr(2,9),timestamp:new Date().toLocaleTimeString("ar-SA"),message:K,type:W}])},A=(K,W,P)=>{o(L=>L.map(T=>T.id===K?{...T,status:W,duration:P}:T))},B=async()=>{if(!y){t({description:"   ",variant:"destructive"});return}e(!0),s(0),u([]);const K=ode(y);o(K.map(P=>({...P,status:"pending",duration:void 0}))),f(Date.now()),g(null);const W=y==="web"?" ":" Android";C(`       ${W}...`,"info"),A(1,"running");try{C("      ...","info");const P=await Ue("/api/deployment/build","POST",{appType:y});if(console.log(" [startDeployment]  API:",{response:P}),P&&P.logs&&Array.isArray(P.logs)){let L=1;P.logs.forEach((T,_)=>{if(T&&T.message&&T.type){C(T.message,T.type);const j=Math.floor(_/2)+1;j<K.length&&L!==j&&(L<=K.length&&A(L,"success"),L=j,A(L,"running"))}}),o(T=>T.map((_,k)=>({..._,status:"success",duration:k<3?2:3}))),s(100),C(`      ${W}  100%!`,"success"),t({description:"   ",variant:"default"})}else C(`     - : ${JSON.stringify(P)}`,"warning"),s(100),o(L=>L.map(T=>({...T,status:"success",duration:3})))}catch(P){console.error(" [startDeployment] :",P);const L=P?.message||"   ";C(`   : ${L}`,"error"),o(T=>T.map((_,k)=>k===0?{..._,status:"success"}:k===1?{..._,status:"failed"}:_)),t({description:` : ${L}`,variant:"destructive"})}finally{e(!1),g(Date.now())}},q=()=>{if(!p)return"00:00";const K=h||Date.now(),W=Math.floor((K-p)/1e3),P=Math.floor(W/60),L=W%60;return`${P.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},D=()=>{const K=c.map(W=>`[${W.timestamp}] ${W.message}`).join(`
`);navigator.clipboard.writeText(K),t({description:"    "})},I=async()=>{x({show:!1,message:"",action:""}),C("      ...","info");try{await Ue("/api/schema/apply","POST",{appType:y,timestamp:new Date().toISOString()}),C("      ","success")}catch(K){C(`   : ${K.message}`,"error")}},U=()=>{x({show:!1,message:"",action:""}),C("     ","warning")};return a.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-8 space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsx("div",{className:"w-full md:w-auto",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"   "}),a.jsxs(ws,{value:y,onValueChange:K=>m(K),disabled:r,children:[a.jsx(cs,{className:"w-full md:w-56","data-testid":"select-app-type",children:a.jsx(_s,{placeholder:" "})}),a.jsxs(us,{children:[a.jsx(wr,{value:"web","data-testid":"option-web-app",children:" "}),a.jsx(wr,{value:"android","data-testid":"option-android-app",children:" Android"})]})]})]})}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs(Ie,{variant:"outline",size:"sm",onClick:D,className:"flex-1 md:flex-none hover-elevate","data-testid":"button-copy-logs",children:[a.jsx(t7,{className:"w-4 h-4 ml-2"})," "]}),r?a.jsxs(Ie,{variant:"destructive",onClick:()=>e(!1),className:"flex-1 md:flex-none hover-elevate","data-testid":"button-stop-build",children:[a.jsx(sH,{className:"w-4 h-4 ml-2"})," "]}):a.jsxs(Ie,{onClick:B,disabled:!y,className:"flex-1 md:flex-none bg-primary hover-elevate active-elevate-2 px-8",size:"lg","data-testid":"button-start-deployment",children:[a.jsx(tH,{className:"w-4 h-4 ml-2"}),"  "]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs(Jt,{className:"border-border/50 shadow-sm overflow-hidden",children:[a.jsx(ls,{className:"bg-muted/30 pb-4",children:a.jsxs(ys,{className:"text-sm font-medium flex items-center justify-between",children:[a.jsx("span",{children:"  "}),a.jsx(xr,{variant:r?"secondary":"outline",className:r?"animate-pulse":"",children:r?" ":""})]})}),a.jsx(vr,{className:"pt-6 space-y-1",children:i.map((K,W)=>a.jsxs("div",{className:"relative pr-6 pb-6 last:pb-0",children:[W!==i.length-1&&a.jsx("div",{className:`absolute right-[11px] top-6 bottom-0 w-[2px] ${K.status==="success"?"bg-primary":"bg-border"}`}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`absolute right-0 w-6 h-6 rounded-full flex items-center justify-center z-10 transition-colors ${K.status==="success"?"bg-primary text-primary-foreground":K.status==="running"?"bg-primary/20 text-primary animate-pulse border-2 border-primary":K.status==="failed"?"bg-destructive text-destructive-foreground":"bg-muted text-muted-foreground border-2 border-border"}`,children:K.status==="success"?a.jsx(Dl,{className:"w-3 h-3"}):K.status==="failed"?a.jsx($a,{className:"w-3 h-3"}):(()=>{const P=K.icon;return a.jsx(P,{className:"w-3 h-3"})})()}),a.jsxs("div",{className:"flex-1 pr-8",children:[a.jsx("p",{className:`text-sm font-semibold ${K.status==="running"?"text-primary":"text-foreground"}`,children:K.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[K.status==="running"&&a.jsx("span",{className:"text-[10px] text-primary animate-pulse uppercase font-bold",children:" "}),K.duration&&a.jsxs("span",{className:"text-[10px] text-muted-foreground font-mono",children:[K.duration," "]})]})]})]})]},K.id))})]}),a.jsx(Jt,{className:"bg-primary/5 border-primary/20",children:a.jsx(vr,{className:"pt-6 space-y-4",children:a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase",children:" "}),a.jsx("p",{className:"text-3xl font-mono font-bold text-primary",children:q()})]}),a.jsx(ns,{className:"w-10 h-10 text-primary/20"})]})})})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a.jsxs(Jt,{className:"border-border/50 shadow-sm h-full flex flex-col",children:[a.jsxs(ls,{className:"flex flex-row items-center justify-between border-b bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-black/5 dark:bg-white/5 rounded-md border",children:[a.jsx(i7,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-xs font-mono font-bold uppercase tracking-wider",children:" "})]}),r&&a.jsx(xr,{className:"bg-primary animate-pulse text-[10px]",children:" "})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer hover:text-foreground transition-colors",children:[a.jsx(Input,{type:"checkbox",checked:l,onChange:K=>d(K.target.checked),className:"rounded border-border w-4 h-4"})," "]}),a.jsx(Ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",children:a.jsx(Lp,{className:"w-4 h-4"})})]})]}),a.jsx(vr,{className:"p-0 bg-[#0d1117] min-h-[600px] flex-1",children:a.jsx(Yl,{className:"h-full",children:a.jsxs("div",{className:"p-6 font-mono text-sm leading-relaxed space-y-1",children:[c.length===0?a.jsxs("div",{className:"text-muted-foreground/30 italic flex items-center gap-2",children:[a.jsx(Kf,{className:"w-4 h-4"}),"  ..."]}):c.map((K,W)=>a.jsxs("div",{className:"group flex gap-4 hover:bg-white/5 py-0.5 rounded px-2 -mx-2 transition-colors",children:[a.jsx("span",{className:"text-gray-600 select-none w-12 text-right text-[10px] pt-1",children:W+1}),a.jsx("span",{className:"text-gray-500 select-none w-20 pt-1 text-[11px]",children:K.timestamp}),a.jsx("span",{className:`flex-1 break-all ${K.type==="success"?"text-emerald-400 font-medium":K.type==="error"?"text-rose-400 font-bold":K.type==="warning"?"text-amber-400":"text-slate-300"}`,children:K.message})]},K.id)),a.jsx("div",{ref:S,className:"h-2"})]})})})]}),n===100&&!r&&a.jsx(Jt,{className:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800 animate-in fade-in slide-in-from-bottom-4",children:a.jsxs(vr,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-emerald-700 dark:text-emerald-400",children:[a.jsx("div",{className:"bg-emerald-500 text-white p-3 rounded-full shadow-lg shadow-emerald-500/20",children:a.jsx(Dl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:" !"}),a.jsx("p",{className:"text-sm opacity-90",children:"         GitHub."})]})]}),a.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[a.jsx(Ie,{className:"flex-1 md:flex-none bg-emerald-600 hover:bg-emerald-700 text-white border-0 shadow-lg shadow-emerald-500/20",asChild:!0,children:a.jsx("a",{href:"/",target:"_blank",children:"  "})}),a.jsx(Ie,{variant:"outline",className:"flex-1 md:flex-none border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 bg-transparent hover:bg-emerald-50 dark:hover:bg-emerald-900/30",children:"  "})]})]})}),i.some(K=>K.status==="failed")&&!r&&a.jsx(Jt,{className:"bg-rose-50 dark:bg-rose-950/20 border-rose-200 dark:border-rose-800",children:a.jsxs(vr,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-rose-700 dark:text-rose-400",children:[a.jsx("div",{className:"bg-rose-500 text-white p-3 rounded-full shadow-lg shadow-rose-500/20",children:a.jsx($a,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:"  "}),a.jsx("p",{className:"text-sm opacity-90",children:"   .    GitHub ."})]})]}),a.jsxs(Ie,{onClick:B,className:"w-full md:w-auto bg-rose-600 hover:bg-rose-700 text-white border-0 shadow-lg shadow-rose-500/20",children:[a.jsx(kf,{className:"w-4 h-4 ml-2"}),"  "]})]})}),v.show&&a.jsx(Jt,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 animate-in fade-in slide-in-from-bottom-4",children:a.jsxs(vr,{className:"p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-blue-700 dark:text-blue-400",children:[a.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-full shadow-lg shadow-blue-500/20 animate-pulse",children:a.jsx(za,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:" "}),a.jsx("p",{className:"text-sm opacity-90",children:v.message})]})]}),a.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[a.jsxs(Ie,{onClick:I,className:"flex-1 md:flex-none bg-blue-600 text-white","data-testid":"button-apply-schema",children:[a.jsx(Dl,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2",children:""})]}),a.jsxs(Ie,{onClick:U,variant:"outline",className:"flex-1 md:flex-none border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 bg-transparent hover:bg-blue-50 dark:hover:bg-blue-900/30","data-testid":"button-reject-schema",children:[a.jsx($a,{className:"w-4 h-4 ml-2"}),""]})]})]})})]})]})]})}const ch=E.forwardRef(({className:t,autoHeight:r=!0,maxRows:e=10,minRows:n=3,onChange:s,...i},o)=>{const c=E.useRef(null),u=E.useCallback(()=>{const d=c.current;if(r&&d){d.style.height="auto";const f=n*20,h=d.scrollHeight,g=Math.max(f,h);d.style.height=`${g}px`,d.style.overflowY="hidden"}},[r,e,n]),l=d=>{u(),s?.(d)};return E.useEffect(()=>{u();const d=c.current;if(!d)return;const p=new ResizeObserver(()=>u());return p.observe(d),()=>p.disconnect()},[u,i.value]),a.jsx("textarea",{className:Ae("flex w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none transition-[height] duration-100 ease-out",t),ref:d=>{c.current=d,typeof o=="function"?o(d):o&&(o.current=d)},onChange:l,...i})});ch.displayName="Textarea";var D3="Radio",[ude,DO]=da(D3),[dde,fde]=ude(D3),IO=E.forwardRef((t,r)=>{const{__scopeRadio:e,name:n,checked:s=!1,required:i,disabled:o,value:c="on",onCheck:u,form:l,...d}=t,[p,f]=E.useState(null),h=Pr(r,m=>f(m)),g=E.useRef(!1),y=p?l||!!p.closest("form"):!0;return a.jsxs(dde,{scope:e,checked:s,disabled:o,children:[a.jsx(Ht.button,{type:"button",role:"radio","aria-checked":s,"data-state":BO(s),"data-disabled":o?"":void 0,disabled:o,value:c,...d,ref:h,onClick:ut(t.onClick,m=>{s||u?.(),y&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),y&&a.jsx(LO,{control:p,bubbles:!g.current,name:n,value:c,checked:s,required:i,disabled:o,form:l,style:{transform:"translateX(-100%)"}})]})});IO.displayName=D3;var OO="RadioIndicator",FO=E.forwardRef((t,r)=>{const{__scopeRadio:e,forceMount:n,...s}=t,i=fde(OO,e);return a.jsx(js,{present:n||i.checked,children:a.jsx(Ht.span,{"data-state":BO(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r})})});FO.displayName=OO;var hde="RadioBubbleInput",LO=E.forwardRef(({__scopeRadio:t,control:r,checked:e,bubbles:n=!0,...s},i)=>{const o=E.useRef(null),c=Pr(o,i),u=D4(e),l=D_(r);return E.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==e&&h){const g=new Event("click",{bubbles:n});h.call(d,e),d.dispatchEvent(g)}},[u,e,n]),a.jsx(Ht.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...s,tabIndex:-1,ref:c,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LO.displayName=hde;function BO(t){return t?"checked":"unchecked"}var pde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],px="RadioGroup",[mde]=da(px,[Ph,DO]),$O=Ph(),zO=DO(),[gde,yde]=mde(px),VO=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,name:n,defaultValue:s,value:i,required:o=!1,disabled:c=!1,orientation:u,dir:l,loop:d=!0,onValueChange:p,...f}=t,h=$O(e),g=Th(l),[y,m]=Gi({prop:i,defaultProp:s??null,onChange:p,caller:px});return a.jsx(gde,{scope:e,name:n,required:o,disabled:c,value:y,onValueChange:m,children:a.jsx(w3,{asChild:!0,...h,orientation:u,dir:g,loop:d,children:a.jsx(Ht.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":c?"":void 0,dir:g,...f,ref:r})})})});VO.displayName=px;var UO="RadioGroupItem",WO=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,disabled:n,...s}=t,i=yde(UO,e),o=i.disabled||n,c=$O(e),u=zO(e),l=E.useRef(null),d=Pr(r,l),p=i.value===s.value,f=E.useRef(!1);return E.useEffect(()=>{const h=y=>{pde.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),a.jsx(_3,{asChild:!0,...c,focusable:!o,active:p,children:a.jsx(IO,{disabled:o,required:i.required,checked:p,...u,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:ut(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ut(s.onFocus,()=>{f.current&&l.current?.click()})})})});WO.displayName=UO;var bde="RadioGroupIndicator",qO=E.forwardRef((t,r)=>{const{__scopeRadioGroup:e,...n}=t,s=zO(e);return a.jsx(FO,{...s,...n,ref:r})});qO.displayName=bde;var HO=VO,KO=WO,xde=qO;const GO=E.forwardRef(({className:t,...r},e)=>a.jsx(HO,{className:Ae("grid gap-2",t),...r,ref:e}));GO.displayName=HO.displayName;const py=E.forwardRef(({className:t,...r},e)=>a.jsx(KO,{ref:e,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:a.jsx(xde,{className:"flex items-center justify-center",children:a.jsx(JA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));py.displayName=KO.displayName;function Vg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W1={exports:{}};/*! ExcelJS 19-10-2023 */var FN;function vde(){return FN||(FN=1,(function(t,r){(function(e){t.exports=e()})((function(){return(function e(n,s,i){function o(l,d){if(!s[l]){if(!n[l]){var p=typeof Vg=="function"&&Vg;if(!d&&p)return p(l,!0);if(c)return c(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[l]={exports:{}};n[l][0].call(h.exports,(function(g){return o(n[l][1][g]||g)}),h,h.exports,e,n,s,i)}return s[l].exports}for(var c=typeof Vg=="function"&&Vg,u=0;u<i.length;u++)o(i[u]);return o})({1:[function(e,n,s){const i=e("fs"),o=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),u=e("dayjs/plugin/utc"),l=e("dayjs").extend(c).extend(u),d=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await p(h))throw new Error("File not found: "+h);const y=i.createReadStream(h),m=await this.read(y,g);return y.close(),m}read(h,g){return g=g||{},new Promise((y,m)=>{const v=this.workbook.addWorksheet(g.sheetName),x=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],S=g.map||function(A){if(A==="")return null;const B=Number(A);if(!Number.isNaN(B)&&B!==1/0)return B;const q=x.reduce((I,U)=>{if(I)return I;const K=l(A,U,!0);return K.isValid()?K:null},null);if(q)return new Date(q.valueOf());const D=f[A];return D!==void 0?D:A},C=o.parse(g.parserOptions).on("data",A=>{v.addRow(A.map(S))}).on("end",()=>{C.emit("worksheet",v)});C.on("worksheet",y).on("error",m),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((y,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),x=o.format(g.formatterOptions);h.on("finish",()=>{y()}),x.on("error",m),x.pipe(h);const{dateFormat:S,dateUTC:C}=g,A=g.map||(D=>{if(D){if(D.text||D.hyperlink)return D.hyperlink||D.text||"";if(D.formula||D.result)return D.result||"";if(D instanceof Date)return S?C?l.utc(D).format(S):l(D).format(S):C?l.utc(D).format():l(D).format();if(D.error)return D.error;if(typeof D=="object")return JSON.stringify(D)}return D}),B=g.includeEmptyRows===void 0||g.includeEmptyRows;let q=1;v&&v.eachRow((D,I)=>{if(B)for(;q++<I-1;)x.write([]);const{values:U}=D;U.shift(),x.write(U.map(A)),q=I}),x.end()})}writeFile(h,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=i.createWriteStream(h,y);return this.write(m,g)}async writeBuffer(h){const g=new d;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(u,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,l)if(typeof l=="string"){const p=i.decodeAddress(l);this.nativeCol=p.col+d,this.nativeColOff=0,this.nativeRow=p.row+d,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+d,this.row=l.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof o||u==null?u:new o(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),o=e("../utils/under-dash"),c=e("./enums"),{slideFormula:u}=e("../utils/shared-formula"),l=e("./note");class d{constructor(h,g,y){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,i.validateAddress(y),this._address=y,this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,y){const m=h&&h.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const v=h&&h.font||g&&g.font;v&&(y.font=v);const x=h&&h.alignment||g&&g.alignment;x&&(y.alignment=x);const S=h&&h.border||g&&g.border;S&&(y.border=S);const C=h&&h.fill||g&&g.fill;C&&(y.fill=C);const A=h&&h.protection||g&&g.protection;return A&&(y.protection=A),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(h,g){this._value.release(),this._value=p.create(d.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===d.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==d.Types.Merge?(this._value.release(),this._value=p.create(p.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new l(h)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===d.Types.String&&(this._value=p.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=p.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=l.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}d.Types=c.ValueType;const p={getType:f=>f==null?d.Types.Null:f instanceof String||typeof f=="string"?d.Types.String:typeof f=="number"?d.Types.Number:typeof f=="boolean"?d.Types.Boolean:f instanceof Date?d.Types.Date:f.text&&f.hyperlink?d.Types.Hyperlink:f.formula||f.sharedFormula?d.Types.Formula:f.richText?d.Types.RichText:f.sharedString?d.Types.SharedString:f.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(f){this.model={address:f.address,type:d.Types.Null}}get value(){return null}set value(f){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:d.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=y=>{const m=f[y];m&&(h[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(p.getType(f)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return d.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?c.ValueType.Null:f instanceof String||typeof f=="string"?c.ValueType.String:typeof f=="number"?c.ValueType.Number:f instanceof Date?c.ValueType.Date:f.text&&f.hyperlink?c.ValueType.Hyperlink:f.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&u(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof d?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:d.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(h,g)}};n.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache");class u{constructor(d,p,f){this._worksheet=d,this._number=p,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((p,f)=>{this._worksheet.getCell(f+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&i.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,p){const f=this.number;p||(p=d,d=null),this._worksheet.eachRow(d,(h,g)=>{p(h.getCell(f),g)})}get values(){const d=[];return this.eachCell((p,f)=>{p&&p.type!==o.ValueType.Null&&(d[f]=p.value)}),d}set values(d){if(!d)return;const p=this.number;let f=0;d.hasOwnProperty("0")&&(f=1),d.forEach((h,g)=>{this._worksheet.getCell(g+f,p).value=h})}_applyStyle(d,p){return this.style[d]=p,this.eachCell(f=>{f[d]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const p=[];let f=null;return d&&d.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},p.push(f))}),p.length?p:void 0}static fromModel(d,p){const f=[];let h=1,g=0;for(p=(p=p||[]).sort((function(y,m){return y.min-m.min}));g<p.length;){const y=p[g++];for(;h<y.min;)f.push(new u(d,h++));for(;h<=y.max;)f.push(new u(d,h++,y))}return f.length?f:null}}n.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("../utils/cell-matrix"),u=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new c)}add(d,p){const f=o.decodeEx(d);this.addEx(f,p)}addEx(d,p){const f=this.getMatrix(p);if(d.top)for(let h=d.left;h<=d.right;h++)for(let g=d.top;g<=d.bottom;g++){const y={sheetName:d.sheetName,address:o.n2l(h)+g,row:g,col:h};f.addCellEx(y)}else f.addCellEx(d)}remove(d,p){const f=o.decodeEx(d);this.removeEx(f,p)}removeEx(d,p){this.getMatrix(p).removeCellEx(d)}removeAllNames(d){i.each(this.matrixMap,p=>{p.removeCellEx(d)})}forEach(d){i.each(this.matrixMap,(p,f)=>{p.forEach(h=>{d(f,h)})})}getNames(d){return this.getNamesEx(o.decodeEx(d))}getNamesEx(d){return i.map(this.matrixMap,(p,f)=>p.findCellEx(d)&&f).filter(Boolean)}_explore(d,p){p.mark=!1;const{sheetName:f}=p,h=new u(p.row,p.col,p.row,p.col,f);let g,y;function m(x,S){const C=d.findCellAt(f,x,p.col);return!(!C||!C.mark)&&(h[S]=x,C.mark=!1,!0)}for(y=p.row-1;m(y,"top");y--);for(y=p.row+1;m(y,"bottom");y++);function v(x,S){const C=[];for(y=h.top;y<=h.bottom;y++){const A=d.findCellAt(f,y,x);if(!A||!A.mark)return!1;C.push(A)}h[S]=x;for(let A=0;A<C.length;A++)C[A].mark=!1;return!0}for(g=p.col-1;v(g,"left");g--);for(g=p.col+1;v(g,"right");g++);return h}getRanges(d,p){return(p=p||this.matrixMap[d])?(p.forEach(f=>{f.mark=!0}),{name:d,ranges:p.map(f=>f.mark&&this._explore(p,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,p){d.forEachInSheet(p,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=o.n2l(g)+h))})}spliceRows(d,p,f,h){i.each(this.matrixMap,g=>{g.spliceRows(d,p,f,h),this.normaliseMatrix(g,d)})}spliceColumns(d,p,f,h){i.each(this.matrixMap,g=>{g.spliceColumns(d,p,f,h),this.normaliseMatrix(g,d)})}get model(){return i.map(this.matrixMap,(d,p)=>this.getRanges(p,d)).filter(d=>d.ranges.length)}set model(d){const p=this.matrixMap={};d.forEach(f=>{const h=p[f.name]=new c;f.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),o=e("./anchor");n.exports=class{constructor(c,u){this.worksheet=c,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:u,imageId:l,range:d,hyperlinks:p}=c;if(this.type=u,this.imageId=l,u==="image")if(typeof d=="string"){const f=i.decode(d);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,d.tl,0),br:d.br&&new o(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:p||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class o{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return i.deepMerge({},o.DEFAULT_CONFIGS,u)}set model(u){const{note:l}=u,{texts:d}=l;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=l}static fromModel(u){const l=new o;return l.model=u,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(u,l,d,p,f){if(arguments.length<4){const h=i.decodeAddress(u),g=i.decodeAddress(l);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:d},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(u,d),left:Math.min(l,p),bottom:Math.max(u,d),right:Math.max(l,p),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const l=u[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const d=i.decodeEx(l);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,l,d,p){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(u){if(u){const{dimensions:l,number:d}=u;l&&this.expand(d,l.min,d,l.max)}}expandToAddress(u){const l=i.decodeEx(u);this.expand(l.row,l.col,l.row,l.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const l=i.decodeEx(u);return this.containsEx(l)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let l=this.left;l<=this.right;l++)for(let d=this.top;d<=this.bottom;d++)u(i.encodeAddress(d,l),d,l)}}n.exports=o},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache"),u=e("./cell");n.exports=class{constructor(l,d){this._worksheet=l,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let d=this._cells[l.col-1];if(!d){const p=this._worksheet.getColumn(l.col);d=new u(this,p,l.address),this._cells[l.col-1]=d}return d}getCell(l){if(typeof l=="string"){const d=this._worksheet.getColumnKey(l);l=d?d.number:c.l2n(l)}return this._cells[l-1]||this.getCellEx({address:c.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,d){const p=l+d;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const y=h.length-d,m=this._cells.length;let v,x,S;if(y<0)for(v=l+h.length;v<=m;v++)S=this._cells[v-1],x=this._cells[v-y-1],x?(S=this.getCell(v),S.value=x.value,S.style=x.style,S._comment=x._comment):S&&(S.value=null,S.style={},S._comment=void 0);else if(y>0)for(v=m;v>=p;v--)x=this._cells[v-1],x?(S=this.getCell(v+y),S.value=x.value,S.style=x.style,S._comment=x._comment):this._cells[v+y-1]=void 0;for(v=0;v<h.length;v++)S=this.getCell(l+v),S.value=h[v],S.style={},S._comment=void 0}eachCell(l,d){if(d||(d=l,l=null),l&&l.includeEmpty){const p=this._cells.length;for(let f=1;f<=p;f++)d(this.getCell(f),f)}else this._cells.forEach((p,f)=>{p&&p.type!==o.ValueType.Null&&d(p,f+1)})}addPageBreak(l,d){const p=this._worksheet,f=Math.max(0,l-1)||0,h=Math.max(0,d-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),p.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&(l[d.col]=d.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((p,f)=>{p!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,f+d),row:this._number,col:f+d}).value=p)})}else this._worksheet.eachColumnKey((d,p)=>{l[p]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=l[p])})}get hasValues(){return i.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,d=0;return this._cells.forEach(p=>{p&&p.type!==o.ValueType.Null&&((!l||l>p.col)&&(l=p.col),d<p.col&&(d=p.col))}),l>0?{min:l,max:d}:null}_applyStyle(l,d){return this.style[l]=d,this._cells.forEach(p=>{p&&(p[l]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let d=0,p=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!d||d>f.col)&&(d=f.col),p<f.col&&(p=f.col),l.push(h))}}),this.height||l.length?{cells:l,number:this.number,min:d,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],l.cells.forEach(p=>{switch(p.type){case u.Types.Merge:break;default:{let f;if(p.address)f=c.decodeAddress(p.address);else if(d){const{row:h}=d,g=d.col+1;f={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}d=f,this.getCellEx(f).model=p;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(u,l,d){this.table=u,this.column=l,this.index=d}_set(u,l){this.table.cacheState(),this.column[u]=l}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}n.exports=class{constructor(c,u){this.worksheet=c,u&&(this.table=u,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,u=(y,m,v)=>{y[m]===void 0&&(y[m]=v)};u(c,"headerRow",!0),u(c,"totalsRow",!1),u(c,"style",{}),u(c.style,"theme","TableStyleMedium2"),u(c.style,"showFirstColumn",!1),u(c.style,"showLastColumn",!1),u(c.style,"showRowStripes",!1),u(c.style,"showColumnStripes",!1);const l=(y,m)=>{if(!y)throw new Error(m)};l(c.ref,"Table must have ref"),l(c.columns,"Table must have column definitions"),l(c.rows,"Table must have row definitions"),c.tl=i.decodeAddress(c.ref);const{row:d,col:p}=c.tl;l(d>0,"Table must be on valid row"),l(p>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=i.encode(d,p,d+h-1,p+f-1),c.tableRef=i.encode(d,p,d+g-1,p+f-1),c.columns.forEach((y,m)=>{l(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(y=>{h[y]=g[y]})},{worksheet:u,table:l}=this,{row:d,col:p}=l.tl;let f=0;if(l.headerRow){const h=u.getRow(d+f++);l.columns.forEach((g,y)=>{const{style:m,name:v}=g,x=h.getCell(p+y);x.value=v,c(x,m)})}if(l.rows.forEach(h=>{const g=u.getRow(d+f++);h.forEach((y,m)=>{const v=g.getCell(p+m);v.value=y,c(v,l.columns[m].style)})}),l.totalsRow){const h=u.getRow(d+f++);l.columns.forEach((g,y)=>{const m=h.getCell(p+y);if(y===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:u}=this,{row:l,col:d}=u.tl;let p=0;if(u.headerRow){const f=c.getRow(l+p++);u.columns.forEach((h,g)=>{f.getCell(d+g).value=h.name})}if(u.rows.forEach(f=>{const h=c.getRow(l+p++);f.forEach((g,y)=>{h.getCell(d+y).value=g})}),u.totalsRow){const f=c.getRow(l+p++);u.columns.forEach((h,g)=>{const y=f.getCell(d+g);g===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=this.width;d<this._cache.width;d++)l.getCell(c.col+d).value=null}}this.store()}addRow(c,u){this.cacheState(),u===void 0?this.table.rows.push(c):this.table.rows.splice(u,0,c)}removeRows(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,u)}getColumn(c){const u=this.table.columns[c];return new o(this,u,c)}addColumn(c,u,l){this.cacheState(),l===void 0?(this.table.columns.push(c),this.table.rows.forEach((d,p)=>{d.push(u[p])})):(this.table.columns.splice(l,0,c),this.table.rows.forEach((d,p)=>{d.splice(l,0,u[p])}))}removeColumns(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,u),this.table.rows.forEach(l=>{l.splice(c,u)})}_assign(c,u,l){this.cacheState(),c[u]=l}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),o=e("./defined-names"),c=e("../xlsx/xlsx"),u=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,d){const p=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),h=Object.assign({},d,{id:p,name:l,orderNo:f+1,workbook:this}),g=new i(h);return this._worksheets[p]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const d=this.getWorksheet(l);d&&d.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(d=>d&&d.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,d)=>l.orderNo-d.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(d=>{l(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const d=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),d}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(d=>{const{id:p,name:f,state:h}=d,g=l.sheets&&l.sheets.findIndex(y=>y.id===p);(this._worksheets[p]=new i({id:p,name:f,orderNo:g,state:h,workbook:this})).model=d}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("./range"),u=e("./row"),l=e("./column"),d=e("./enums"),p=e("./image"),f=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(v=>{if(v){const x=v.dimensions;x&&m.expand(v.number,x.min,v.number,x.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((S,C)=>{const A=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(S,A)},0);let v=1;const x=this._columns=[];m.forEach(S=>{const C=new l(this,v++,!1);x.push(C),C.defn=S})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new l(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const x=this._rows.length;for(var S=arguments.length,C=new Array(S>2?S-2:0),A=2;A<S;A++)C[A-2]=arguments[A];if(C.length>0)for(let I=0;I<x;I++){const U=[m,v];C.forEach(W=>{U.push(W[I]||null)});const K=this.getRow(I+1);K.splice.apply(K,U)}else this._rows.forEach(I=>{I&&I.splice(m,v)});const B=C.length-v,q=m+v,D=this._columns.length;if(B<0)for(let I=m+C.length;I<=D;I++)this.getColumn(I).defn=this.getColumn(I-B).defn;else if(B>0)for(let I=D;I>=q;I--)this.getColumn(I+B).defn=this.getColumn(I).defn;for(let I=m;I<m+C.length;I++)this.getColumn(I).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(x=>{x.eachCell(S=>{let{col:C}=S;m[C]||(m[C]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new u(this,m)),v}getRows(m,v){if(v<1)return;const x=[];for(let S=m;S<m+v;S++)x.push(this.getRow(S));return x}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=this._nextRow,S=this.getRow(x);return S.values=m,this._setStyleOption(x,v[0]==="i"?v:"n"),S}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const x=[];return m.forEach(S=>{x.push(this.addRow(S,v))}),x}insertRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,x),this.getRow(m)}insertRows(m,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),x!=="n")for(let S=0;S<v.length;S++)x[0]==="o"&&this.findRow(v.length+m+S)!==void 0?this._copyStyle(v.length+m+S,m+S,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+S,x[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this.getRow(m),C=this.getRow(v);C.style=y(S.style),S.eachCell({includeEmpty:x},(A,B)=>{C.getCell(B).style=y(A.style)}),C.height=S.height}duplicateRow(m,v){let x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const S=this._rows[m-1],C=new Array(v).fill(S.values);this.spliceRows(m+1,x?0:v,...C);for(let A=0;A<v;A++){const B=this._rows[m+A];B.style=S.style,B.height=S.height,S.eachCell({includeEmpty:!0},(q,D)=>{B.getCell(D).style=q.style})}}spliceRows(m,v){const x=m+v;for(var S=arguments.length,C=new Array(S>2?S-2:0),A=2;A<S;A++)C[A-2]=arguments[A];const B=C.length,q=B-v,D=this._rows.length;let I,U;if(q<0)for(m===D&&(this._rows[D-1]=void 0),I=x;I<=D;I++)if(U=this._rows[I-1],U){const K=this.getRow(I+q);K.values=U.values,K.style=U.style,K.height=U.height,U.eachCell({includeEmpty:!0},(W,P)=>{K.getCell(P).style=W.style}),this._rows[I-1]=void 0}else this._rows[I+q-1]=void 0;else if(q>0)for(I=D;I>=x;I--)if(U=this._rows[I-1],U){const K=this.getRow(I+q);K.values=U.values,K.style=U.style,K.height=U.height,U.eachCell({includeEmpty:!0},(W,P)=>{if(K.getCell(P).style=W.style,W._value.constructor.name==="MergeValue"){const L=this.getRow(W._row._number+B).getCell(P),T=W._value._master,_=this.getRow(T._row._number+B).getCell(T._column._number);L.merge(_)}})}else this._rows[I+q-1]=void 0;for(I=0;I<B;I++){const K=this.getRow(m+I);K.style={},K.values=C[I]}this.workbook.definedNames.spliceRows(this.name,m,v,B)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const x=this._rows.length;for(let S=1;S<=x;S++)v(this.getRow(S),S)}else this._rows.forEach(x=>{x&&x.hasValues&&v(x,x.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const x=o.getAddress(m,v),S=this._rows[x.row-1];return S?S.findCell(x.col):void 0}getCell(m,v){const x=o.getAddress(m,v);return this.getRow(x.row).getCellEx(x)}mergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);this._mergeCellsInternal(S)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);this._mergeCellsInternal(S,!0)}_mergeCellsInternal(m,v){i.each(this._merges,S=>{if(S.intersects(m))throw new Error("Cannot merge already merged cells")});const x=this.getCell(m.top,m.left);for(let S=m.top;S<=m.bottom;S++)for(let C=m.left;C<=m.right;C++)(S>m.top||C>m.left)&&this.getCell(S,C).merge(x,v);this._merges[x.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let x=v.top;x<=v.bottom;x++)for(let S=v.left;S<=v.right;S++)this.getCell(x,S).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),x=0;x<m;x++)v[x]=arguments[x];const S=new c(v);for(let C=S.top;C<=S.bottom;C++)for(let A=S.left;A<=S.right;A++){const B=this.findCell(C,A);B&&(B.type===d.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(m,v,x){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=o.decode(m),{top:A,left:B,bottom:q,right:D}=C,I=D-B+1,U=o.encodeAddress(A,B),K=S==="shared";let W;W=typeof x=="function"?x:Array.isArray(x)?Array.isArray(x[0])?(L,T)=>x[L-A][T-B]:(L,T)=>x[(L-A)*I+(T-B)]:()=>{};let P=!0;for(let L=A;L<=q;L++)for(let T=B;T<=D;T++)P?(this.getCell(L,T).value={shareType:S,formula:v,ref:m,result:W(L,T)},P=!1):this.getCell(L,T).value=K?{sharedFormula:U,result:W(L,T)}:W(L,T)}addImage(m,v){const x={type:"image",imageId:m,range:v};this._media.push(new p(this,x))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new p(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(x=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),x()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new f(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(S=>S.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(S=>S.model),conditionalFormattings:this.conditionalFormattings};m.cols=l.toModel(this.columns);const v=m.rows=[],x=m.dimensions=new c;return this._rows.forEach(S=>{const C=S&&S.model;C&&(x.expand(C.number,C.min,C.number,C.max),v.push(C))}),m.merges=[],i.each(this._merges,S=>{m.merges.push(S.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const x=new u(this,v.number);this._rows[x.number-1]=x,x.model=v})}_parseMergeCells(m){i.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=l.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new p(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,x)=>{const S=new f;return S.model=x,v[x.name]=S,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(c=>{i[c]=o[c]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");s.stringToBuffer=function(c){return typeof c!="string"?c:i?o.from(i.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),o=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,u,l){const d=this.sheets[c],p=d&&d[u];return p&&p[l]}addCellEx(c){if(c.top)for(let u=c.top;u<=c.bottom;u++)for(let l=c.left;l<=c.right;l++)this.getCellAt(c.sheetName,u,l);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,u){const l=this.findSheet(c,u),d=this.findSheetRow(l,c,u);return this.findRowCell(d,c,u)}getCellAt(c,u,l){const d=this.sheets[c]||(this.sheets[c]=[]),p=d[u]||(d[u]=[]);return p[l]||(p[l]={sheetName:c,address:o.n2l(l)+u,row:u,col:l})}removeCellEx(c){const u=this.findSheet(c);if(!u)return;const l=this.findSheetRow(u,c);l&&delete l[c.col]}forEachInSheet(c,u){const l=this.sheets[c];l&&l.forEach((d,p)=>{d&&d.forEach((f,h)=>{f&&u(f,p,h)})})}forEach(c){i.each(this.sheets,(u,l)=>{this.forEachInSheet(l,c)})}map(c){const u=[];return this.forEach(l=>{u.push(c(l))}),u}findSheet(c,u){const l=c.sheetName;return this.sheets[l]?this.sheets[l]:u?this.sheets[l]=[]:void 0}findSheetRow(c,u,l){const{row:d}=u;return c&&c[d]?c[d]:l?c[d]=[]:void 0}findRowCell(c,u,l){const{col:d}=u;return c&&c[d]?c[d]:l?c[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(c,u,l,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push([]);p.splice(u,l,...f)}}spliceColumns(c,u,l,d){const p=this.sheets[c];if(p){const f=[];for(let h=0;h<d;h++)f.push(null);i.each(p,h=>{h.splice(u,l,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let u,l,d,p,f,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)u=this._dictionary[h-1],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)l=h-27,d=l%26,p=Math.floor(l/26),u=this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)l=h-703,d=l%26,p=Math.floor(l/26)%26,f=Math.floor(l/676),u=this._dictionary[f]+this._dictionary[p]+this._dictionary[d],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!i.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const u=c.length<5&&this._hash[c];if(u)return u;let l=!1,d="",p=0,f=!1,h="",g=0;for(let m,v=0;v<c.length;v++)if(m=c.charCodeAt(v),!f&&m>=65&&m<=90)l=!0,d+=c[v],p=26*p+m-64;else if(m>=48&&m<=57)f=!0,h+=c[v],g=10*g+m-48;else if(f&&l&&m!==36)break;if(l){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else p=void 0;f||(g=void 0);const y={address:c=d+h,col:p,row:g,$col$row:`$${d}$${h}`};return p<=100&&g<=100&&(this._hash[c]=y,this._hash[y.$col$row]=y),y},getAddress(c,u){if(u){const l=this.n2l(u)+c;return this.decodeAddress(l)}return this.decodeAddress(c)},decode(c){const u=c.split(":");if(u.length===2){const l=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),p={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(c)},decodeEx(c){const u=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=u[1]||u[2],d=u[3],p=d.split(":");if(p.length>1){let h=this.decodeAddress(p[0]),g=this.decodeAddress(p[1]);const y=Math.min(h.row,g.row),m=Math.min(h.col,g.col),v=Math.max(h.row,g.row),x=Math.max(h.col,g.col);return h=this.n2l(m)+y,g=this.n2l(x)+v,{top:y,left:m,bottom:v,right:x,sheetName:l,tl:{address:h,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},br:{address:g,col:x,row:v,$col$row:`$${this.n2l(x)}$${v}`,sheetName:l},dimensions:`${h}:${g}`}}if(d.startsWith("#"))return l?{sheetName:l,error:d}:{error:d};const f=this.decodeAddress(d);return l?{sheetName:l,...f}:f},encodeAddress:(c,u)=>o.n2l(u)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,u){const[l,d,,p,f]=c,[h,g]=u;return h>=l&&h<=p&&g>=d&&g<=f}};n.exports=o},{}],20:[function(e,n,s){const i=(c,u)=>({...c,...u.reduce((l,d)=>(c[d]&&(l[d]={...c[d]}),l),{})}),o=function(c,u,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[l]&&(u[l]=i(c[l],d))};s.copyStyle=c=>{if(!c)return c;if(u=c,Object.keys(u).length===0)return{};var u;const l={...c};return o(c,l,"font",["color"]),o(c,l,"alignment"),o(c,l,"protection"),c.border&&(o(c,l,"border"),o(c.border,l.border,"top",["color"]),o(c.border,l.border,"left",["color"]),o(c.border,l.border,"bottom",["color"]),o(c.border,l.border,"right",["color"]),o(c.border,l.border,"diagonal",["color"])),c.fill&&(o(c,l,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(l.fill.stops=c.fill.stops.map(d=>i(d,["color"])))),l}},{}],21:[function(e,n,s){(function(i){(function(){const o=e("crypto"),c={hash(u){const l=o.createHash(u);for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return l.update(i.concat(p)),l.digest()},convertPasswordToHash(u,l,d,p){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const f=i.from(u,"utf16le");let h=this.hash(l,i.from(d,"base64"),f);for(let g=0;g<p;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),h=this.hash(l,h,y)}return h.toString("base64")},randomBytes:u=>o.randomBytes(u)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new o));const l=new i;let d;l.on("error",f=>{d=f});let p=[];l.on("opentag",f=>p.push({eventType:"opentag",value:f})),l.on("text",f=>p.push({eventType:"text",value:f})),l.on("closetag",f=>p.push({eventType:"closetag",value:f}));for await(const f of u){if(l.write(c(f)),d)throw d;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(u,l,d){const p=i.decode(l),f=i.decode(d);return u.replace(o,(h,g,y,m,v)=>{if(v)return h;const x=c.exec(m);if(x){const S=x[1],C=x[2].toUpperCase(),A=x[3],B=x[4];if(C.length>3||C.length===3&&C>"XFD")return h;let q=i.l2n(C),D=parseInt(B,10);return S||(q+=f.col-p.col),A||(D+=f.row-p.row),(g||"")+(S||"")+i.n2l(q)+(A||"")+D}return h})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,o){(function(){const c=e("readable-stream"),u=e("./utils"),l=e("./string-buf");class d{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,x,S){return this.toBuffer().copy(m,v,x,S)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class p{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,S){return this._data._buf.copy(m,v,x,S)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,x,S){this._data.copy(m,v,x,S)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=o.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,x){const S=Math.min(x,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+S),this.iWrite+=S,S}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(v=>{m.write(y.toBuffer(),()=>{v()})})})))},_writeToBuffers(y){let m=0;const v=y.length;for(;m<v;)m+=this._getWritableBuffer().write(y,m,v-m)},async write(y,m,v){let x;if(m instanceof Function&&(v=m,m="utf8"),v=v||u.nop,y instanceof l)x=new p(y);else if(y instanceof o)x=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");x=new d(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(x);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(x),i.nextTick(v)):(await this._pipe(x),v());else this.paused||this.emit("data",x.toBuffer()),this._writeToBuffers(x),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,v){const x=S=>{S?v(S):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,m,x):x()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],x=v.read(y);y-=x.length,m.push(x),v.eod&&v.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const u=i.alloc(c);this._buf.copy(u,0),this._buf=u}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,o=/["&<>]/,c={each:function(u,l){u&&(Array.isArray(u)?u.forEach(l):Object.keys(u).forEach(d=>{l(u[d],d)}))},some:function(u,l){return!!u&&(Array.isArray(u)?u.some(l):Object.keys(u).some(d=>l(u[d],d)))},every:function(u,l){return!u||(Array.isArray(u)?u.every(l):Object.keys(u).every(d=>l(u[d],d)))},map:function(u,l){return u?Array.isArray(u)?u.map(l):Object.keys(u).map(d=>l(u[d],d)):[]},keyBy:(u,l)=>u.reduce((d,p)=>(d[p[l]]=p,d),{}),isEqual:function(u,l){const d=typeof u,p=typeof l,f=Array.isArray(u),h=Array.isArray(l);let g;if(d!==p)return!1;switch(typeof u){case"object":if(f||h)return!(!f||!h)&&u.length===l.length&&u.every((y,m)=>{const v=l[m];return c.isEqual(y,v)});if(u===null||l===null)return u===l;if(g=Object.keys(u),Object.keys(l).length!==g.length)return!1;for(const y of g)if(!l.hasOwnProperty(y))return!1;return c.every(u,(y,m)=>{const v=l[m];return c.isEqual(y,v)});default:return u===l}},escapeHtml(u){const l=o.exec(u);if(!l)return u;let d="",p="",f=0,h=l.index;for(;h<u.length;h++){switch(u.charAt(h)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}f!==h&&(d+=u.substring(f,h)),f=h+1,d+=p}return f!==h?d+u.substring(f,h):d},strcmp:(u,l)=>u<l?-1:u>l?1:0,isUndefined:u=>i.call(u)==="[object Undefined]",isObject:u=>i.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:l}=arguments;let d,p,f;function h(g,y){d=u[y],f=Array.isArray(g),c.isObject(g)||f?(f?(f=!1,p=d&&Array.isArray(d)?d:[]):p=d&&c.isObject(d)?d:{},u[y]=c.deepMerge(p,g)):c.isUndefined(g)||(u[y]=g)}for(let g=0;g<l;g++)c.each(arguments[g],h);return u}};n.exports=c},{}],27:[function(e,n,s){(function(i,o){(function(){const c=e("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:d=>new Promise(p=>{i.setImmediate?o(()=>{p(d)}):setTimeout(()=>{p(d)},1)}),inherits:function(d,p,f,h){d.super_=p,h||(h=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(f,y))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(h,y)}),d.prototype=Object.create(p.prototype,g)},dateToExcel:(d,p)=>25569+d.getTime()/864e5-(p?1462:0),excelToDate(d,p){const f=Math.round(24*(d-25569+(p?1462:0))*3600*1e3);return new Date(f)},parsePath(d){const p=d.lastIndexOf("/");return{path:d.substring(0,p),name:d.substring(p+1)}},getRelsPath(d){const p=l.parsePath(d);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(d){const p=u.exec(d);if(!p)return d;let f="",h="",g=0,y=p.index;for(;y<d.length;y++){const m=d.charCodeAt(y);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==y&&(f+=d.substring(g,y)),g=y+1,h&&(f+=h)}return g!==y?f+d.substring(g,y):f},xmlDecode:d=>d.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(d){const p=parseInt(d,10);return Number.isNaN(p)?0:p},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(p=>{c.access(d,c.constants.F_OK,f=>{p(!f)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};n.exports=l}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),o=e("./utils");function c(d,p,f){d.push(` ${p}="${o.xmlEncode(f.toString())}"`)}function u(d,p){if(p){const f=[];i.each(p,(h,g)=>{h!==void 0&&c(f,g,h)}),d.push(f.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const f=this._xml;f.push("<?xml"),u(f,p),f.push(`?>
`)}openNode(p,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(p),g.push("<"),g.push(p),u(g,f),this.leaf=!0,this.open=!0}addAttribute(p,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&c(this._xml,p,f)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,p)}writeText(p){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(p),f.push(">")),this.open=!1,this.leaf=!1}leafNode(p,f,h){this.openNode(p,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const o=e("events"),c=e("jszip"),u=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class d extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new c,this.stream=new u}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=l(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:d}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof c?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const d of l)for(const{eventType:p,value:f}of d)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(l){return this.parse(i(l))}get xml(){return this.toXml(this.model)}toXml(l){const d=new o;return this.render(d,l),d.xml}static toAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l.toString()}static toStringAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toStringValue(l,d){return l===void 0?d:l}static toBoolAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l?"1":"0"}static toBoolValue(l,d){return l===void 0?d:l==="1"}static toIntAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toIntValue(l,d){return l===void 0?d:parseInt(l,10)}static toFloatAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,p)}static toFloatValue(l,d){return l===void 0?d:parseFloat(l)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/col-cache");function c(l){try{return o.decodeEx(l),!0}catch{return!1}}function u(l){const d=[];let p=!1,f="";return l.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(p?f+=h+",":c(h)&&d.push(h));const y=g%2==0;!p&&y&&c(h)?d.push(h):p&&!y?(p=!1,c(f+h)&&d.push(f+h),f=""):(p=!0,f+=h+",")}),d}n.exports=class extends i{render(l,d){l.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),l.writeText(d.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{render(c,u){c.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:i.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){const u={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(u.visibility=c.visibility),o.leafNode("workbookView",u)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},u=function(d,p,f){const h=p!==void 0?c[d]=p:f;h!==void 0&&(c[d]=h)},l=function(d,p,f){const h=p!==void 0?c[d]=parseInt(p,10):f;h!==void 0&&(c[d]=h)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),u("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../base-xform"),l=e("../static-xform"),d=e("../list-xform"),p=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new h}),sheets:new d({tag:"sheets",count:!1,childXform:new f}),definedNames:new d({tag:"definedNames",count:!1,childXform:new p}),calcPr:new y}}prepare(x){x.sheets=x.worksheets;const S=[];let C=0;x.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(B=>{const q=B.split(":"),D={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${q[0]}:$${q[1]}`],localSheetId:C};S.push(D)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const B=[];if(A.pageSetup.printTitlesColumn){const D=A.pageSetup.printTitlesColumn.split(":");B.push(`'${A.name}'!$${D[0]}:$${D[1]}`)}if(A.pageSetup.printTitlesRow){const D=A.pageSetup.printTitlesRow.split(":");B.push(`'${A.name}'!$${D[0]}:$${D[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:B,localSheetId:C};S.push(q)}C++}),S.length&&(x.definedNames=x.definedNames.concat(S)),(x.media||[]).forEach((A,B)=>{A.name=A.type+(B+1)})}render(x,S){x.openXml(c.StdDocAttributes),x.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(x),this.map.workbookPr.render(x,S.properties),this.map.bookViews.render(x,S.views),this.map.sheets.render(x,S.sheets),this.map.definedNames.render(x,S.definedNames),this.map.calcPr.render(x,S.calcProperties),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"workbook":return!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(x){const S=(x.workbookRels||[]).reduce((D,I)=>(D[I.Id]=I,D),{}),C=[];let A,B=0;(x.sheets||[]).forEach(D=>{const I=S[D.rId];I&&(A=x.worksheetHash["xl/"+I.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=D.name,A.id=D.id,A.state=D.state,C[B++]=A))});const q=[];i.each(x.definedNames,D=>{if(D.name==="_xlnm.Print_Area"){if(A=C[D.localSheetId],A){A.pageSetup||(A.pageSetup={});const I=o.decodeEx(D.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${I.dimensions}`:I.dimensions}}else if(D.name==="_xlnm.Print_Titles"){if(A=C[D.localSheetId],A){A.pageSetup||(A.pageSetup={});const I=D.ranges.join(","),U=/\$/g,K=/\$\d+:\$\d+/,W=I.match(K);if(W&&W.length){const T=W[0];A.pageSetup.printTitlesRow=T.replace(U,"")}const P=/\$[A-Z]+:\$[A-Z]+/,L=I.match(P);if(L&&L.length){const T=L[0];A.pageSetup.printTitlesColumn=T.replace(U,"")}}}else q.push(D)}),x.definedNames=q,x.media.forEach((D,I)=>{D.index=I})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),c=e("../base-xform"),u=n.exports=function(l){this.model=l};o.inherits(u,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(l,d){d=d||this.model,l.openNode("comment",{ref:d.ref,authorId:0}),l.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(p=>{this.richTextXform.render(l,p)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),c=e("../base-xform"),u=e("./comment-xform"),l=n.exports=function(){this.map={comment:new u}};o.inherits(l,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,p){p=p||this.model,d.openXml(i.StdDocAttributes),d.openNode("comments",l.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),p.comments.forEach(f=>{this.map.comment.render(d,f)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,u){(c===u[2]||this.tag==="x:SizeWithCells"&&c===u[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),u=Math.floor(68*(o.left-c)),l=Math.floor(o.top),d=Math.floor(18*(o.top-l)),p=Math.floor(o.right),f=Math.floor(68*(o.right-p)),h=Math.floor(o.bottom);return[c,u,l,d,p,f,h,Math.floor(18*(o.bottom-h))]}getDefaultRect(o){const c=o.col,u=Math.max(o.row-2,0);return[c,6,u,14,c+2,2,u+4,16]}render(o,c){const u=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,u.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),o=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),u=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,p){const{protection:f,editAs:h}=p.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,h,l),this.map["x:SizeWithCells"].render(d,h,l),this.map["x:Anchor"].render(d,p),this.map["x:Locked"].render(d,f.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,f.lockText),d.leafNode("x:Row",null,p.refAddress.row-1),d.leafNode("x:Column",null,p.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(d).length;this.model.editAs=l[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./vml-shape-xform");class u extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(d,p){d.openXml(i.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),p.comments.forEach((f,h)=>{this.map["v:shape"].render(d,f,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),o=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class u extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(d,p,f){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(p,f)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,p),this.map["x:ClientData"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(l,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,c,u){return`${parseFloat(o)*c.toFixed(2)}${u}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const u={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:l}=c.note&&c.note.margins;Array.isArray(l)&&(l=l.map(d=>this.conversionUnit(d,10,"mm")).join(",")),l&&(u.inset=l)}o.openNode("v:textbox",u),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(u=>{o.leafNode("vt:lpstr",void 0,u.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/string-xform"),u=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class d extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new l}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("Properties",d.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform");class c extends o{render(l,d){l.openXml(i.StdDocAttributes),l.openNode("Types",c.PROPERTY_ATTRIBUTES);const p={};(d.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;p[h]||(p[h]=!0,l.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;l.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(f=>{l.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(f=>{l.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(f=>{let{commentName:h}=f;l.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/date-xform"),u=e("../simple/string-xform"),l=e("../simple/integer-xform");class d extends o{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./relationship-xform");class u extends o{constructor(){super(),this.map={Relationship:new c}}render(d,p){p=p||this._values,d.openXml(i.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),p.forEach(f=>{this.map.Relationship.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const u=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const l=u[1],d=c.mediaIndex[l];return c.media[d]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),o=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,u){c.openNode(this.tag),this.map["a:blip"].render(c,u),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),o=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(u,l){u.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(u,l),this.map["a:extLst"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),o=e("../simple/integer-xform");n.exports=class extends i{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,u){c.openNode(this.tag),this.map["xdr:col"].render(c,u.nativeCol),this.map["xdr:colOff"].render(c,u.nativeColOff),this.map["xdr:row"].render(c,u.nativeRow),this.map["xdr:rowOff"].render(c,u.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class d extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new l}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=(function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(o.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const u=Math.floor(9525*c.width),l=Math.floor(9525*c.height);o.addAttribute("cx",u),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),o=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(u,l){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,l),this.map["xdr:cNvPicPr"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./ext-xform"),l=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,p){this.map["xdr:pic"].prepare(d.picture,p)}render(d,p){d.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,p.range.tl),this.map["xdr:ext"].render(d,p.range.ext),this.map["xdr:pic"].render(d,p.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,p){d.medium=this.reconcilePicture(d.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),o=e("../static-xform"),c=e("./blip-fill-xform"),u=e("./nv-pic-pr-xform"),l=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new c,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(d,p){d.index=p.index+1}render(d,p){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,p),this.map["xdr:blipFill"].render(d,p),this.map["xdr:spPr"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:to"].render(l,d.range.br),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:u}=this;o&&o.forEach((l,d)=>{c.index=d,u.prepare(l,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:u}=this;(c||[]).forEach((l,d)=>{u.render(o,l,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:u}=this;o.forEach(l=>{u.reconcile(l,c)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(c,u){if(u)if(typeof u=="string")c.leafNode("autoFilter",{ref:u});else{const l=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},d=l(u.from),p=l(u.to);d&&p&&c.leafNode("autoFilter",{ref:`${d}:${p}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform"),c=e("../../../doc/range"),u=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function d(p){if(p==null)return u.ValueType.Null;if(p instanceof String||typeof p=="string")return u.ValueType.String;if(typeof p=="number")return u.ValueType.Number;if(typeof p=="boolean")return u.ValueType.Boolean;if(p instanceof Date)return u.ValueType.Date;if(p.text&&p.hyperlink)return u.ValueType.Hyperlink;if(p.formula)return u.ValueType.Formula;if(p.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(p,f){const h=f.styles.addStyleModel(p.style||{},(function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}})(p));switch(h&&(p.styleId=h),p.comment&&f.comments.push({...p.comment,ref:p.address}),p.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(p.ssId=f.sharedStrings.add(p.value));break;case u.ValueType.Date:f.date1904&&(p.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=f.sharedStrings.add(p.text)),f.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case u.ValueType.Merge:f.merges.add(p);break;case u.ValueType.Formula:if(f.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=f.siFormulae++),p.formula)f.formulae[p.address]=p;else if(p.sharedFormula){const g=f.formulae[p.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new c(g.address,p.address)):g.range&&g.range.expandToAddress(p.address),p.si=g.si}}}renderFormula(p,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(d(f.result)){case u.ValueType.Null:p.leafNode("f",h,f.formula);break;case u.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Number:p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",h,f.formula),p.leafNode("v",null,f.result.error);break;case u.ValueType.Date:p.leafNode("f",h,f.formula),p.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,f){if(f.type!==u.ValueType.Null||f.styleId){switch(p.openNode("c"),p.addAttribute("r",f.address),f.styleId&&p.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:p.leafNode("v",null,f.value);break;case u.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(p,h)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,f.value));break;case u.ValueType.Date:p.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(p,f);break;case u.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,f){const h=p.styleId&&f.styles&&f.styles.getStyleModel(p.styleId);switch(h&&(p.style=h),p.styleId!==void 0&&(p.styleId=void 0),p.type){case u.ValueType.String:typeof p.value=="number"&&f.sharedStrings&&(p.value=f.sharedStrings.getString(p.value)),p.value.richText&&(p.type=u.ValueType.RichText);break;case u.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(p.type=u.ValueType.Date,p.value=i.excelToDate(p.value,f.date1904));break;case u.ValueType.Formula:p.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(p.result=i.excelToDate(p.result,f.date1904)),p.shareType==="shared"&&(p.ref?f.formulae[p.si]=p.address:(p.sharedFormula=f.formulae[p.si],delete p.shareType),delete p.si)}const g=f.hyperlinkMap[p.address];g&&(p.type===u.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=u.ValueType.Hyperlink,p.hyperlink=g);const y=f.commentsMap&&f.commentsMap[p.address];y&&(p.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:i.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),o=e("../../base-xform"),c=e("../../composite-xform"),u=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?u.isExt(h):!(h.type!=="iconSet"||!h.custom&&!d[h.iconSet])}prepare(h){p.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,g){if(p.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),o=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,u){c.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(c,u.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,u){switch(c){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),o=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(u,l){u.rules.forEach(d=>{this.cfRule.prepare(d,l)})}render(u,l){l.rules.some(c.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(c.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,l.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,l){switch(u){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(l=>l.rules.some(o.isExt))),u.hasExtContent}prepare(u,l){u.forEach(d=>{this.cfXform.prepare(d,l)})}render(u,l){this.hasContent(l)&&(u.openNode(this.tag),l.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../style/color-xform"),u=e("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,d){l.openNode(this.tag,{minLength:i.toIntAttribute(d.minLength,0,!0),maxLength:i.toIntAttribute(d.maxLength,100,!0),border:i.toBoolAttribute(d.border,!1),gradient:i.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(d.axisPosition,"auto"),direction:i.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),this.borderColorXform.render(l,d.borderColor),this.negativeBorderColorXform.render(l,d.negativeBorderColor),this.negativeFillColorXform.render(l,d.negativeFillColor),this.axisColorXform.render(l,d.axisColor),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],minLength:i.toIntValue(d.minLength,0),maxLength:i.toIntValue(d.maxLength,100),border:i.toBoolValue(d.border,!1),gradient:i.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(d.axisPosition,"auto"),direction:i.toStringValue(d.direction,"leftToRight")}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-ext-xform"),u=e("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(l,d){l.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0),custom:i.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),d.icons&&d.icons.forEach((p,f)=>{p.iconId=f,this.cfIconXform.render(l,p)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse,!1),showValue:i.toBoolValue(d.showValue,!0)}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../../../doc/range"),u=e("./databar-xform"),l=e("./ext-lst-ref-xform"),d=e("./formula-xform"),p=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:x}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:x}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,x){switch(x.type){case"expression":this.renderExpression(v,x);break;case"cellIs":this.renderCellIs(v,x);break;case"top10":this.renderTop10(v,x);break;case"aboveAverage":this.renderAboveAverage(v,x);break;case"dataBar":this.renderDataBar(v,x);break;case"colorScale":this.renderColorScale(v,x);break;case"iconSet":this.renderIconSet(v,x);break;case"containsText":this.renderText(v,x);break;case"timePeriod":this.renderTimePeriod(v,x)}}renderExpression(v,x){v.openNode(this.tag,{type:"expression",dxfId:x.dxfId,priority:x.priority}),this.formulaXform.render(v,x.formulae[0]),v.closeNode()}renderCellIs(v,x){v.openNode(this.tag,{type:"cellIs",dxfId:x.dxfId,priority:x.priority,operator:x.operator}),x.formulae.forEach(S=>{this.formulaXform.render(v,S)}),v.closeNode()}renderTop10(v,x){v.leafNode(this.tag,{type:"top10",dxfId:x.dxfId,priority:x.priority,percent:i.toBoolAttribute(x.percent,!1),bottom:i.toBoolAttribute(x.bottom,!1),rank:i.toIntValue(x.rank,10,!0)})}renderAboveAverage(v,x){v.leafNode(this.tag,{type:"aboveAverage",dxfId:x.dxfId,priority:x.priority,aboveAverage:i.toBoolAttribute(x.aboveAverage,!0)})}renderDataBar(v,x){v.openNode(this.tag,{type:"dataBar",priority:x.priority}),this.databarXform.render(v,x),this.extLstRefXform.render(v,x),v.closeNode()}renderColorScale(v,x){v.openNode(this.tag,{type:"colorScale",priority:x.priority}),this.colorScaleXform.render(v,x),v.closeNode()}renderIconSet(v,x){y.isPrimitive(x)&&(v.openNode(this.tag,{type:"iconSet",priority:x.priority}),this.iconSetXform.render(v,x),v.closeNode())}renderText(v,x){v.openNode(this.tag,{type:x.operator,dxfId:x.dxfId,priority:x.priority,operator:i.toStringAttribute(x.operator,"containsText")});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const A=new c(C.ref),{tl:B}=A;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}})(x);S&&this.formulaXform.render(v,S),v.closeNode()}renderTimePeriod(v,x){v.openNode(this.tag,{type:"timePeriod",dxfId:x.dxfId,priority:x.priority,timePeriod:x.timePeriod});const S=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const A=new c(C.ref),{tl:B}=A;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(x);S&&this.formulaXform.render(v,S),v.closeNode()}createNewModel(v){let{attributes:x}=v;return{...g(x),dxfId:i.toIntValue(x.dxfId),priority:i.toIntValue(x.priority),timePeriod:x.timePeriod,percent:i.toBoolValue(x.percent),bottom:i.toBoolValue(x.bottom),rank:i.toIntValue(x.rank),aboveAverage:i.toBoolValue(x.aboveAverage)}}onParserClose(v,x){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,x.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(x.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),l.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),o=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,u){u.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=u.ref,this.map.cfRule.render(c,l))}),c.closeNode())}createNewModel(c){let{attributes:u}=c;return{ref:u.sqref,rules:[]}}onParserClose(c,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),o=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,u){let l=c.reduce((d,p)=>Math.max(d,...p.rules.map(f=>f.priority||0)),1);c.forEach(d=>{d.rules.forEach(p=>{p.priority||(p.priority=l++),p.style&&(p.dxfId=u.styles.addDxfStyle(p.style))})})}render(c,u){u.forEach(l=>{this.cfXform.render(c,l)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,u){c.forEach(l=>{l.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,l.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,l){switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform");class c extends i{get tag(){return"x14:id"}render(d,p){d.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(d,p){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,p.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,p){this.model.x14Id=p.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(l,d){l.openNode(this.tag),this.map.ext.render(l,d),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(u,l){u.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:l}=u;return{iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse),showValue:i.toBoolValue(l.showValue),cfvo:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(c,u){const l=u.styles.addStyleModel(c.style||{});l&&(c.styleId=l)}render(c,u){c.openNode("col"),c.addAttribute("min",u.min),c.addAttribute("max",u.max),u.width&&c.addAttribute("width",u.width),u.styleId&&c.addAttribute("style",u.styleId),u.hidden&&c.addAttribute("hidden","1"),u.bestFit&&c.addAttribute("bestFit","1"),u.outlineLevel&&c.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const u=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(u.styleId=parseInt(c.attributes.style,10)),i.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),i.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,u){c.styleId&&(c.style=u.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/utils"),c=e("../../../utils/col-cache"),u=e("../base-xform"),l=e("../../../doc/range");function d(f,h,g,y){const m=h[g];m!==void 0?f[g]=m:y!==void 0&&(f[g]=y)}function p(f,h,g,y){const m=h[g];m!==void 0&&(f[g]=o.parseBoolean(m))}n.exports=class extends u{get tag(){return"dataValidations"}render(f,h){const g=(function(y){const m=i.map(y,(S,C)=>({address:C,dataValidation:S,marked:!1})).sort((S,C)=>i.strcmp(S.address,C.address)),v=i.keyBy(m,"address"),x=(S,C,A)=>{for(let B=0;B<C;B++){const q=c.encodeAddress(S.row+B,A);if(!y[q]||!i.isEqual(y[S.address],y[q]))return!1}return!0};return m.map(S=>{if(!S.marked){const C=c.decodeEx(S.address);if(C.dimensions)return v[C.dimensions].marked=!0,{...S.dataValidation,sqref:S.address};let A=1,B=c.encodeAddress(C.row+A,C.col);for(;y[B]&&i.isEqual(S.dataValidation,y[B]);)A++,B=c.encodeAddress(C.row+A,C.col);let q=1;for(;x(C,A,C.col+q);)q++;for(let D=0;D<A;D++)for(let I=0;I<q;I++)B=c.encodeAddress(C.row+D,C.col+I),v[B].marked=!0;if(A>1||q>1){const D=C.row+(A-1),I=C.col+(q-1);return{...S.dataValidation,sqref:`${S.address}:${c.encodeAddress(D,I)}`}}return{...S.dataValidation,sqref:S.address}}return null}).filter(Boolean)})(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,v)=>{f.openNode("formula"+(v+1)),y.type==="date"?f.writeText(o.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&p(h,f.attributes,"allowBlank"),p(h,f.attributes,"showInputMessage"),p(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:d(h,f.attributes,"operator","between")}return d(h,f.attributes,"promptTitle"),d(h,f.attributes,"prompt"),d(h,f.attributes,"errorStyle"),d(h,f.attributes,"errorTitle"),d(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new l(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=o.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class c extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,d){this.conditionalFormattings.prepare(l.conditionalFormattings,d)}render(l,d){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,d.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model[l]=d.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(u,l){this.ext.prepare(u,l)}hasContent(u){return this.ext.hasContent(u)}render(u,l){this.hasContent(l)&&(u.openNode("extLst"),this.ext.render(u,l),u.closeNode())}createNewModel(){return{}}onParserClose(u,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let u=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),u=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),u=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),u=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),u=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),u=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),u=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),u=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),u=!0),u?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../doc/range"),c=e("../../../utils/col-cache"),u=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const d=`${l.master}:${l.address}`;this.merges[l.master]=new o(d)}}get mergeCells(){return i.map(this.merges,l=>l.range)}reconcile(l,d){i.each(l,p=>{const f=c.decode(p);for(let h=f.top;h<=f.bottom;h++){const g=d[h-1];for(let y=f.left;y<=f.right;y++){const m=g.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):g.cells[y]={type:u.ValueType.Null,address:c.encodeAddress(h,y)}}}})}getMasterAddress(l){const d=this.hash[l];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),o=c=>c!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(c,u){return!(!u||!o(u.summaryBelow)&&!o(u.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:o(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(c,u){if(u){const l={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};i.some(l,d=>d!==void 0)&&c.leafNode(this.tag,l)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(p){return p?"1":void 0}function u(p){switch(p){case"overThenDown":return p;default:return}}function l(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function d(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(p,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:c(f.blackAndWhite),draft:c(f.draft),cellComments:l(f.cellComments),errors:d(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:c(f.firstPageNumber),usePrinterDefaults:c(f.usePrinterDefaults),copies:f.copies};i.some(h,g=>g!==void 0)&&p.leafNode(this.tag,h)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(f=p.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(u){return u?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(u,l){if(l){const d={headings:c(l.showRowColHeaders),gridLines:c(l.showGridLines),horizontalCentered:c(l.horizontalCentered),verticalCentered:c(l.verticalCentered)};i.some(d,p=>p!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),o=e("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(c,u){if(u&&u.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,u.length),c.addAttribute("manualBreakCount",u.length));const{childXform:l}=this;u.forEach(d=>{l.render(c,d)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends i{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(u,l){const d=l.styles.addStyleModel(u.style);d&&(u.styleId=d);const p=this.map.c;u.cells.forEach(f=>{p.prepare(f,l)})}render(u,l,d){u.openNode("row"),u.addAttribute("r",l.number),l.height&&(u.addAttribute("ht",l.height),u.addAttribute("customHeight","1")),l.hidden&&u.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&u.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(u.addAttribute("s",l.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1");const p=this.map.c;l.cells.forEach(f=>{p.render(u,f,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const l=u.attributes.spans?u.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:l[0],max:l[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),o.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,l){u.style=u.styleId?l.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(p=>{d.reconcile(p,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,u){if(u){const l={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(l.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(l.customHeight="1"),i.some(l,d=>d!==void 0)&&c.leafNode("sheetFormatPr",l)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),o=e("../style/color-xform"),c=e("./page-setup-properties-xform"),u=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new u}}get tag(){return"sheetPr"}render(l,d){if(d){l.addRollback(),l.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(l,d.tabColor)||p,p=this.map.pageSetUpPr.render(l,d.pageSetup)||p,p=this.map.outlinePr.render(l,d.outlineProperties)||p,p?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function c(l,d){return l?d:void 0}function u(l,d){return l===d||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(l,d){if(d){const p={sheet:c(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:c(d.formatCells,"0"),formatColumns:c(d.formatColumns,"0"),formatRows:c(d.formatRows,"0"),insertColumns:c(d.insertColumns,"0"),insertRows:c(d.insertRows,"0"),insertHyperlinks:c(d.insertHyperlinks,"0"),deleteColumns:c(d.deleteColumns,"0"),deleteRows:c(d.deleteRows,"0"),sort:c(d.sort,"0"),autoFilter:c(d.autoFilter,"0"),pivotTables:c(d.pivotTables,"0")};d.sheet&&(p.algorithmName=d.algorithmName,p.hashValue=d.hashValue,p.saltValue=d.saltValue,p.spinCount=d.spinCount,p.objects=c(d.objects===!1,"1"),p.scenarios=c(d.scenarios===!1,"1")),i.some(p,f=>f!==void 0)&&l.leafNode(this.tag,p)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:u(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(l.attributes.formatCells,"0"),formatColumns:u(l.attributes.formatColumns,"0"),formatRows:u(l.attributes.formatRows,"0"),insertColumns:u(l.attributes.insertColumns,"0"),insertRows:u(l.attributes.insertRows,"0"),insertHyperlinks:u(l.attributes.insertHyperlinks,"0"),deleteColumns:u(l.attributes.deleteColumns,"0"),deleteRows:u(l.attributes.deleteRows,"0"),sort:u(l.attributes.sort,"0"),autoFilter:u(l.attributes.autoFilter,"0"),pivotTables:u(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,l){u.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const d=function(y,m,v){v&&u.addAttribute(y,m)};let p,f,h,g;switch(d("rightToLeft","1",l.rightToLeft===!0),d("tabSelected","1",l.tabSelected),d("showRuler","0",l.showRuler===!1),d("showRowColHeaders","0",l.showRowColHeaders===!1),d("showGridLines","0",l.showGridLines===!1),d("zoomScale",l.zoomScale,l.zoomScale),d("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),d("view",l.style,l.style),l.state){case"frozen":f=l.xSplit||0,h=l.ySplit||0,p=l.topLeftCell||i.getAddress(h+1,f+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:p,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),u.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&u.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const l=u.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let l,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../../rel-type"),l=e("./merges"),d=e("../base-xform"),p=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),y=e("./hyperlink-xform"),m=e("./merge-cell-xform"),v=e("./data-validations-xform"),x=e("./sheet-properties-xform"),S=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),A=e("./sheet-protection-xform"),B=e("./page-margins-xform"),q=e("./page-setup-xform"),D=e("./print-options-xform"),I=e("./auto-filter-xform"),U=e("./picture-xform"),K=e("./drawing-xform"),W=e("./table-part-xform"),P=e("./row-breaks-xform"),L=e("./header-footer-xform"),T=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),k=(N,R)=>{if(!R||!R.length)return N;if(!N||!N.length)return R;const O={},$={};return N.forEach(X=>{O[X.ref]=X,X.rules.forEach(Y=>{const{x14Id:re}=Y;re&&($[re]=Y)})}),R.forEach(X=>{X.rules.forEach(Y=>{const re=$[Y.x14Id];re?((F,Z)=>{Object.keys(Z).forEach(V=>{const z=F[V],G=Z[V];z===void 0&&G!==void 0&&(F[V]=G)})})(re,Y):O[X.ref]?O[X.ref].rules.push(Y):N.push({ref:X.ref,rules:[Y]})})}),N};class j extends d{constructor(R){super();const{maxRows:O,maxCols:$,ignoreNodes:X}=R||{};this.ignoreNodes=X||[],this.map={sheetPr:new x,dimension:new g,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new S,cols:new p({tag:"cols",count:!1,childXform:new h}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:$}),maxItems:O}),autoFilter:new I,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new P,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new B,dataValidations:new v,pageSetup:new q,headerFooter:new L,printOptions:new D,picture:new U,drawing:new K,sheetProtection:new A,tableParts:new p({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new T,extLst:new _}}prepare(R,O){O.merges=new l,R.hyperlinks=O.hyperlinks=[],R.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(R.cols,O),this.map.sheetData.prepare(R.rows,O),this.map.conditionalFormatting.prepare(R.conditionalFormattings,O),R.mergeCells=O.merges.mergeCells;const $=R.rels=[];function X(F){return"rId"+(F.length+1)}if(R.hyperlinks.forEach(F=>{const Z=X($);F.rId=Z,$.push({Id:Z,Type:u.Hyperlink,Target:F.target,TargetMode:"External"})}),R.comments.length>0){const F={Id:X($),Type:u.Comments,Target:`../comments${R.id}.xml`};$.push(F);const Z={Id:X($),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};$.push(Z),R.comments.forEach(V=>{V.refAddress=o.decodeAddress(V.ref)}),O.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const Y=[];let re;R.media.forEach(F=>{if(F.type==="background"){const Z=X($);re=O.media[F.imageId],$.push({Id:Z,Type:u.Image,Target:`../media/${re.name}.${re.extension}`}),R.background={rId:Z},R.image=O.media[F.imageId]}else if(F.type==="image"){let{drawing:Z}=R;re=O.media[F.imageId],Z||(Z=R.drawing={rId:X($),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(Z),$.push({Id:Z.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Z.name}.xml`}));let V=this.preImageId===F.imageId?Y[F.imageId]:Y[Z.rels.length];V||(V=X(Z.rels),Y[Z.rels.length]=V,Z.rels.push({Id:V,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const z={picture:{rId:V},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const G=X(Z.rels);Y[Z.rels.length]=G,z.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:G},Z.rels.push({Id:G,Type:u.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Z.anchors.push(z)}}),R.tables.forEach(F=>{const Z=X($);F.rId=Z,$.push({Id:Z,Type:u.Table,Target:"../tables/"+F.target}),F.columns.forEach(V=>{const{style:z}=V;z&&(V.dxfId=O.styles.addDxfStyle(z))})}),this.map.extLst.prepare(R,O)}render(R,O){R.openXml(c.StdDocAttributes),R.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const $=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&($.defaultColWidth=O.properties.defaultColWidth);const X={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},Y=O.pageSetup&&O.pageSetup.margins,re={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},F=O.sheetProtection;this.map.sheetPr.render(R,X),this.map.dimension.render(R,O.dimensions),this.map.sheetViews.render(R,O.views),this.map.sheetFormatPr.render(R,$),this.map.cols.render(R,O.cols),this.map.sheetData.render(R,O.rows),this.map.sheetProtection.render(R,F),this.map.autoFilter.render(R,O.autoFilter),this.map.mergeCells.render(R,O.mergeCells),this.map.conditionalFormatting.render(R,O.conditionalFormattings),this.map.dataValidations.render(R,O.dataValidations),this.map.hyperlinks.render(R,O.hyperlinks),this.map.printOptions.render(R,re),this.map.pageMargins.render(R,Y),this.map.pageSetup.render(R,O.pageSetup),this.map.headerFooter.render(R,O.headerFooter),this.map.rowBreaks.render(R,O.rowBreaks),this.map.drawing.render(R,O.drawing),this.map.picture.render(R,O.background),this.map.tableParts.render(R,O.tables),this.map.extLst.render(R,O),O.rels&&O.rels.forEach(Z=>{Z.Type===u.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":Z.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(i.each(this.map,O=>{O.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);const $={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},X=Object.assign($,this.map.pageSetup.model,this.map.printOptions.model),Y=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:X,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,O){const $=(R.relationships||[]).reduce((Y,re)=>{if(Y[re.Id]=re,re.Type===u.Comments&&(R.comments=O.comments[re.Target].comments),re.Type===u.VmlDrawing&&R.comments&&R.comments.length){const F=O.vmlDrawings[re.Target].comments;R.comments.forEach((Z,V)=>{Z.note=Object.assign({},Z.note,F[V])})}return Y},{});if(O.commentsMap=(R.comments||[]).reduce((Y,re)=>(re.ref&&(Y[re.ref]=re),Y),{}),O.hyperlinkMap=(R.hyperlinks||[]).reduce((Y,re)=>(re.rId&&(Y[re.address]=$[re.rId].Target),Y),{}),O.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,O),this.map.sheetData.reconcile(R.rows,O),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,O),R.media=[],R.drawing){const Y=$[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const re=Y[1];O.drawings[re].anchors.forEach(F=>{if(F.medium){const Z={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};R.media.push(Z)}})}}const X=R.background&&$[R.background.rId];if(X){const Y=X.Target.split("/media/")[1],re=O.mediaIndex&&O.mediaIndex[Y];re!==void 0&&R.media.push({type:"background",imageId:re})}R.tables=(R.tables||[]).map(Y=>{const re=$[Y.rId];return O.tables[re.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),o=e("../../utils/xml-stream");n.exports=class extends i{constructor(c){super(),this._model=c}render(c){if(!this._xml){const u=new o;(function l(d,p){d.openNode(p.tag,p.$),p.c&&p.c.forEach(f=>{l(d,f)}),p.t&&d.writeText(p.t),d.closeNode()})(u,this._model),this._xml=u.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),o=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(u,l){if(u.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:d}=this.map;l.richText.forEach(p=>{d.render(u,p)})}else l&&this.map.t.render(u,l.text);u.closeNode()}parseOpen(u){const{name:l}=u;return this.parser?(this.parser.parseOpen(u),!0):l===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),o=e("../style/font-xform"),c=e("../base-xform");class u extends c{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(u.FONT_OPTIONS))}render(d,p){p=p||this.model,d.openNode("r"),p.font&&this.fontXform.render(d,p.font),this.textXform.render(d,p.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),o=e("./rich-text-xform"),c=e("./phonetic-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(l){super(),this.model=l,this.map={r:new o,t:new i,rPh:new c}}get tag(){return"si"}render(l,d){l.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(p=>{this.map.r.render(l,p)}):this.map.t.render(l,""):d!=null&&this.map.t.render(l,d),l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends o{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let l=this.hash[u];return l===void 0&&(l=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,l}addRichText(u){const l=this.sharedStringXform.toXml(u);let d=this.rich[l];return d===void 0&&(d=this.rich[l]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,l){l=l||this._values,u.openXml(i.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const d=this.sharedStringXform;l.values.forEach(p=>{d.render(u,p)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),o=e("../../../utils/utils"),c=e("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=o.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=o.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},l={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const p=Math.round(d);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(d){const p=o.validInt(d);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends c{get tag(){return"alignment"}render(d,p){d.addRollback(),d.openNode("alignment");let f=!1;function h(g,y){y&&(d.addAttribute(g,y),f=!0)}h("horizontal",u.horizontal(p.horizontal)),h("vertical",u.vertical(p.vertical)),h("wrapText",!!u.wrapText(p.wrapText)&&"1"),h("shrinkToFit",!!u.shrinkToFit(p.shrinkToFit)&&"1"),h("indent",u.indent(p.indent)),h("textRotation",l.toXml(p.textRotation)),h("readingOrder",u.readingOrder(p.readingOrder)),d.closeNode(),f?d.commit():d.rollback()}parseOpen(d){const p={};let f=!1;function h(g,y,m){g&&(p[y]=m,f=!0)}h(d.attributes.horizontal,"horizontal",d.attributes.horizontal),h(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),h(d.attributes.wrapText,"wrapText",o.parseBoolean(d.attributes.wrapText)),h(d.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(d.attributes.shrinkToFit)),h(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),h(d.attributes.textRotation,"textRotation",l.toModel(d.attributes.textRotation)),h(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/utils"),c=e("./color-xform");class u extends i{constructor(d){super(),this.name=d,this.map={color:new c}}get tag(){return this.name}render(d,p,f){const h=p&&p.color||f||this.defaultColor;d.openNode(this.name),p&&p.style&&(d.addAttribute("style",p.style),h&&this.map.color.render(d,h)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:p}=d.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,d)=>(l[d]=!0,l),{}),n.exports=class extends i{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(l,d){const{color:p}=d;function f(h,g){h&&!h.color&&d.color&&(h={...h,color:d.color}),g.render(l,h,p)}l.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&l.addAttribute("diagonalUp","1"),d.diagonal.down&&l.addAttribute("diagonalDown","1")),f(d.left,this.map.left),f(d.right,this.map.right),f(d.top,this.map.top),f(d.bottom,this.map.bottom),f(d.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const d=this.model={},p=function(f,h,g){h&&(g&&Object.assign(h,g),d[f]=h)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),o=e("./alignment-xform"),c=e("./border-xform"),u=e("./fill-xform"),l=e("./font-xform"),d=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new c,fill:new u,font:new l,numFmt:new d,protection:new p}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),o=e("./color-xform");class c extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(y=>{g.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={patternFill:new u,gradientFill:new l}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return d.validPatternValues[f]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,f)=>(p[f]=!0,p),{}),d.StopXform=c,d.PatternFillXform=u,d.GradientFillXform=l,n.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),o=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),u=e("../simple/string-xform"),l=e("./underline-xform"),d=e("../../../utils/under-dash"),p=e("../base-xform");class f extends p{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(v,x)=>{m[x].xform.render(g,y[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),c=e("../base-xform"),u=(function(){const d={};return i.each(o,(p,f)=>{p.f&&(d[p.f]=parseInt(f,10))}),d})();class l extends c{constructor(p,f){super(),this.id=p,this.formatCode=f}get tag(){return"numFmt"}render(p,f){p.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(d){return u[d]},l.getDefaultFmtCode=function(d){return o[d]&&o[d].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),o={boolean:(c,u)=>c===void 0?u:c};n.exports=class extends i{get tag(){return"protection"}render(c,u){c.addRollback(),c.openNode("protection");let l=!1;function d(p,f){f!==void 0&&(c.addAttribute(p,f),l=!0)}d("locked",o.boolean(u.locked,!0)?void 0:"0"),d("hidden",o.boolean(u.hidden,!1)?"1":void 0),c.closeNode(),l?c.commit():c.rollback()}parseOpen(c){const u={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},l=!u.locked||u.hidden;this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),o=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends i{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(u,l){u.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&u.addAttribute("xfId",l.xfId||0),l.numFmtId&&u.addAttribute("applyNumberFormat","1"),l.fontId&&u.addAttribute("applyFont","1"),l.fillId&&u.addAttribute("applyFill","1"),l.borderId&&u.addAttribute("applyBorder","1"),l.alignment&&u.addAttribute("applyAlignment","1"),l.protection&&u.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(u,l.alignment),l.protection&&this.map.protection.render(u,l.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("../static-xform"),l=e("../list-xform"),d=e("./font-xform"),p=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),y=e("./dxf-xform");class m extends c{constructor(x){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new h}),fonts:new l({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new p}),borders:new l({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new d,fill:new p,border:new f,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},x&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(x,S){S=S||this.model,x.openXml(o.StdDocAttributes),x.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(x.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(C=>{x.writeXml(C)}),x.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),x.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("fills",{count:S.fills.length}),S.fills.forEach(C=>{x.writeXml(C)}),x.closeNode(),x.openNode("borders",{count:S.borders.length}),S.borders.forEach(C=>{x.writeXml(C)}),x.closeNode(),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),x.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(C=>{x.writeXml(C)}),x.closeNode()):(this.map.numFmts.render(x,S.numFmts),this.map.fonts.render(x,S.fonts),this.map.fills.render(x,S.fills),this.map.borders.render(x,S.borders),this.map.cellStyleXfs.render(x,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(x,S.styles)),m.STATIC_XFORMS.cellStyles.render(x),this.map.dxfs.render(x,S.dxfs),m.STATIC_XFORMS.tableStyles.render(x),m.STATIC_XFORMS.extLst.render(x),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;switch(x.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[x.name],this.parser&&this.parser.parseOpen(x),!0}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"styleSheet":{this.model={};const S=(C,A)=>{A.model&&A.model.length&&(this.model[C]=A.model)};if(S("numFmts",this.map.numFmts),S("fonts",this.map.fonts),S("fills",this.map.fills),S("borders",this.map.borders),S("styles",this.map.cellXfs),S("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(A=>{C[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(x,S){if(!x)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(x))return this.weakMap.get(x);const C={};if(S=S||i.ValueType.Number,x.numFmt)C.numFmtId=this._addNumFmtStr(x.numFmt);else switch(S){case i.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}x.font&&(C.fontId=this._addFont(x.font)),x.border&&(C.borderId=this._addBorder(x.border)),x.fill&&(C.fillId=this._addFill(x.fill)),x.alignment&&(C.alignment=x.alignment),x.protection&&(C.protection=x.protection);const A=this._addStyle(C);return this.weakMap&&this.weakMap.set(x,A),A}getStyleModel(x){const S=this.model.styles[x];if(!S)return null;let C=this.index.model[x];if(C)return C;if(C=this.index.model[x]={},S.numFmtId){const B=this.index.numFmt[S.numFmtId]||h.getDefaultFmtCode(S.numFmtId);B&&(C.numFmt=B)}function A(B,q,D){if(D||D===0){const I=q[D];I&&(C[B]=I)}}return A("font",this.model.fonts,S.fontId),A("border",this.model.borders,S.borderId),A("fill",this.model.fills,S.fillId),S.alignment&&(C.alignment=S.alignment),S.protection&&(C.protection=S.protection),C}addDxfStyle(x){return x.numFmt&&(x.numFmtId=this._addNumFmtStr(x.numFmt)),this.model.dxfs.push(x),this.model.dxfs.length-1}getDxfStyle(x){return this.model.dxfs[x]}_addStyle(x){const S=this.map.style.toXml(x);let C=this.index.style[S];return C===void 0&&(C=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),C}_addNumFmtStr(x){let S=h.getDefaultFmtId(x);if(S!==void 0||(S=this.index.numFmt[x],S!==void 0))return S;S=this.index.numFmt[x]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:S,formatCode:x});return this.model.numFmts.push(C),S}_addFont(x){const S=this.map.font.toXml(x);let C=this.index.font[S];return C===void 0&&(C=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),C}_addBorder(x){const S=this.map.border.toXml(x);let C=this.index.border[S];return C===void 0&&(C=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),C}_addFill(x){const S=this.map.fill.toXml(x);let C=this.index.fill[S];return C===void 0&&(C=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),C}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,x){switch(x){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class o extends i{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,l){if((l=l||this.model)===!0)u.leafNode("u");else{const d=o.Attributes[l];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),o=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((u,l)=>{this.map.filterColumn.prepare(u,{index:l})})}render(c,u){return c.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(l=>{this.map.filterColumn.render(c,l)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),o=e("../list-xform"),c=e("./custom-filter-xform"),u=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(l,d){l.colId=d.index.toString()}render(l,d){return d.customFilters?(l.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(l,d.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:d}=l;switch(l.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../list-xform"),u=e("./auto-filter-xform"),l=e("./table-column-xform"),d=e("./table-style-info-xform");class p extends o{constructor(){super(),this.map={autoFilter:new u,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new d}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(i.StdDocAttributes),h.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:y}=h;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,o){(function(){const c=e("fs"),u=e("jszip"),{PassThrough:l}=e("readable-stream"),d=e("../utils/zip-stream"),p=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),x=e("./xform/core/relationships-xform"),S=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),A=e("./xform/book/workbook-xform"),B=e("./xform/sheet/worksheet-xform"),q=e("./xform/drawing/drawing-xform"),D=e("./xform/table/table-xform"),I=e("./xform/comment/comments-xform"),U=e("./xform/comment/vml-notes-xform"),K=e("./xml/theme1");class W{constructor(L){this.workbook=L}async readFile(L,T){if(!await f.fs.exists(L))throw new Error("File not found: "+L);const _=c.createReadStream(L);try{const k=await this.read(_,T);return _.close(),k}catch(k){throw _.close(),k}}parseRels(L){return new x().parseStream(L)}parseWorkbook(L){return new A().parseStream(L)}parseSharedStrings(L){return new v().parseStream(L)}reconcile(L,T){const _=new A,k=new B(T),j=new q,N=new D;_.reconcile(L);const R={media:L.media,mediaIndex:L.mediaIndex};Object.keys(L.drawings).forEach(X=>{const Y=L.drawings[X],re=L.drawingRels[X];re&&(R.rels=re.reduce((F,Z)=>(F[Z.Id]=Z,F),{}),(Y.anchors||[]).forEach(F=>{const Z=F.picture&&F.picture.hyperlinks;Z&&R.rels[Z.rId]&&(Z.hyperlink=R.rels[Z.rId].Target,delete Z.rId)}),j.reconcile(Y,R))});const O={styles:L.styles};Object.values(L.tables).forEach(X=>{N.reconcile(X,O)});const $={styles:L.styles,sharedStrings:L.sharedStrings,media:L.media,mediaIndex:L.mediaIndex,date1904:L.properties&&L.properties.date1904,drawings:L.drawings,comments:L.comments,tables:L.tables,vmlDrawings:L.vmlDrawings};L.worksheets.forEach(X=>{X.relationships=L.worksheetRels[X.sheetNo],k.reconcile(X,$)}),delete L.worksheetHash,delete L.worksheetRels,delete L.globalRels,delete L.sharedStrings,delete L.workbookRels,delete L.sheetDefs,delete L.styles,delete L.mediaIndex,delete L.drawings,delete L.drawingRels,delete L.vmlDrawings}async _processWorksheetEntry(L,T,_,k,j){const N=new B(k),R=await N.parseStream(L);R.sheetNo=_,T.worksheetHash[j]=R,T.worksheets.push(R)}async _processCommentEntry(L,T,_){const k=new I,j=await k.parseStream(L);T.comments[`../${_}.xml`]=j}async _processTableEntry(L,T,_){const k=new D,j=await k.parseStream(L);T.tables[`../tables/${_}.xml`]=j}async _processWorksheetRelsEntry(L,T,_){const k=new x,j=await k.parseStream(L);T.worksheetRels[_]=j}async _processMediaEntry(L,T,_){const k=_.lastIndexOf(".");if(k>=1){const j=_.substr(k+1),N=_.substr(0,k);await new Promise((R,O)=>{const $=new p;$.on("finish",()=>{T.mediaIndex[_]=T.media.length,T.mediaIndex[N]=T.media.length;const X={type:"image",name:N,extension:j,buffer:$.toBuffer()};T.media.push(X),R()}),L.on("error",X=>{O(X)}),L.pipe($)})}}async _processDrawingEntry(L,T,_){const k=new q,j=await k.parseStream(L);T.drawings[_]=j}async _processDrawingRelsEntry(L,T,_){const k=new x,j=await k.parseStream(L);T.drawingRels[_]=j}async _processVmlDrawingEntry(L,T,_){const k=new U,j=await k.parseStream(L);T.vmlDrawings[`../drawings/${_}.vml`]=j}async _processThemeEntry(L,T,_){await new Promise((k,j)=>{const N=new p;L.on("error",j),N.on("error",j),N.on("finish",()=>{T.themes[_]=N.read().toString(),k()}),L.pipe(N)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(L,T){!L[Symbol.asyncIterator]&&L.pipe&&(L=L.pipe(new l));const _=[];for await(const k of L)_.push(k);return this.load(o.concat(_),T)}async load(L,T){let _;_=T&&T.base64?o.from(L.toString(),"base64"):L;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await u.loadAsync(_);for(const N of Object.values(j.files))if(!N.dir){let R,O=N.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new l,R.write(await N.async("nodebuffer"));else{let $;R=new l({writableObjectMode:!0,readableObjectMode:!0}),$=i.browser?g(await N.async("nodebuffer")):await N.async("string");const X=16384;for(let Y=0;Y<$.length;Y+=X)R.write($.substring(Y,Y+X))}switch(R.end(),O){case"_rels/.rels":k.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const $=await this.parseWorkbook(R);k.sheets=$.sheets,k.definedNames=$.definedNames,k.views=$.views,k.properties=$.properties,k.calcProperties=$.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":k.sharedStrings=new v,await k.sharedStrings.parseStream(R);break;case"xl/styles.xml":k.styles=new y,await k.styles.parseStream(R);break;case"docProps/app.xml":{const $=new C,X=await $.parseStream(R);k.company=X.company,k.manager=X.manager;break}case"docProps/core.xml":{const $=new m,X=await $.parseStream(R);Object.assign(k,X);break}default:{let $=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if($){await this._processWorksheetEntry(R,k,$[1],T,O);break}if($=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),$){await this._processWorksheetRelsEntry(R,k,$[1]);break}if($=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),$){await this._processThemeEntry(R,k,$[1]);break}if($=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),$){await this._processMediaEntry(R,k,$[1]);break}if($=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),$){await this._processDrawingEntry(R,k,$[1]);break}if($=O.match(/xl\/(comments\d+)[.]xml/),$){await this._processCommentEntry(R,k,$[1]);break}if($=O.match(/xl\/tables\/(table\d+)[.]xml/),$){await this._processTableEntry(R,k,$[1]);break}if($=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),$){await this._processDrawingRelsEntry(R,k,$[1]);break}if($=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),$){await this._processVmlDrawingEntry(R,k,$[1]);break}}}}return this.reconcile(k,T),this.workbook.model=k,this.workbook}async addMedia(L,T){await Promise.all(T.media.map(async _=>{if(_.type==="image"){const k=`xl/media/${_.name}.${_.extension}`;if(_.filename){const j=await(function(N,R){return new Promise((O,$)=>{c.readFile(N,R,(X,Y)=>{X?$(X):O(Y)})})})(_.filename);return L.append(j,{name:k})}if(_.buffer)return L.append(_.buffer,{name:k});if(_.base64){const j=_.base64,N=j.substring(j.indexOf(",")+1);return L.append(N,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(L,T){const _=new q,k=new x;T.worksheets.forEach(j=>{const{drawing:N}=j;if(N){_.prepare(N,{});let R=_.toXml(N);L.append(R,{name:`xl/drawings/${N.name}.xml`}),R=k.toXml(N.rels),L.append(R,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(L,T){const _=new D;T.worksheets.forEach(k=>{const{tables:j}=k;j.forEach(N=>{_.prepare(N,{});const R=_.toXml(N);L.append(R,{name:"xl/tables/"+N.target})})})}async addContentTypes(L,T){const _=new S().toXml(T);L.append(_,{name:"[Content_Types].xml"})}async addApp(L,T){const _=new C().toXml(T);L.append(_,{name:"docProps/app.xml"})}async addCore(L,T){const _=new m;L.append(_.toXml(T),{name:"docProps/core.xml"})}async addThemes(L,T){const _=T.themes||{theme1:K};Object.keys(_).forEach(k=>{const j=_[k],N=`xl/theme/${k}.xml`;L.append(j,{name:N})})}async addOfficeRels(L){const T=new x().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);L.append(T,{name:"_rels/.rels"})}async addWorkbookRels(L,T){let _=1;const k=[{Id:"rId"+_++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];T.sharedStrings.count&&k.push({Id:"rId"+_++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),T.worksheets.forEach(N=>{N.rId="rId"+_++,k.push({Id:N.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const j=new x().toXml(k);L.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(L,T){T.sharedStrings&&T.sharedStrings.count&&L.append(T.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(L,T){const{xml:_}=T.styles;_&&L.append(_,{name:"xl/styles.xml"})}async addWorkbook(L,T){const _=new A;L.append(_.toXml(T),{name:"xl/workbook.xml"})}async addWorksheets(L,T){const _=new B,k=new x,j=new I,N=new U;T.worksheets.forEach(R=>{let O=new h;_.render(O,R),L.append(O.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&(O=new h,k.render(O,R.rels),L.append(O.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&(O=new h,j.render(O,R),L.append(O.xml,{name:`xl/comments${R.id}.xml`}),O=new h,N.render(O,R),L.append(O.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(L){return new Promise((T,_)=>{L.on("finish",()=>{T(this)}),L.on("error",_),L.finalize()})}prepareModel(L,T){L.creator=L.creator||"ExcelJS",L.lastModifiedBy=L.lastModifiedBy||"ExcelJS",L.created=L.created||new Date,L.modified=L.modified||new Date,L.useSharedStrings=T.useSharedStrings===void 0||T.useSharedStrings,L.useStyles=T.useStyles===void 0||T.useStyles,L.sharedStrings=new v,L.styles=L.useStyles?new y(!0):new y.Mock;const _=new A,k=new B;_.prepare(L);const j={sharedStrings:L.sharedStrings,styles:L.styles,date1904:L.properties.date1904,drawingsCount:0,media:L.media};j.drawings=L.drawings=[],j.commentRefs=L.commentRefs=[];let N=0;L.tables=[],L.worksheets.forEach(R=>{R.tables.forEach(O=>{N++,O.target=`table${N}.xml`,O.id=N,L.tables.push(O)}),k.prepare(R,j)})}async write(L,T){T=T||{};const{model:_}=this.workbook,k=new d.ZipWriter(T.zip);return k.pipe(L),this.prepareModel(_,T),await this.addContentTypes(k,_),await this.addOfficeRels(k,_),await this.addWorkbookRels(k,_),await this.addWorksheets(k,_),await this.addSharedStrings(k,_),await this.addDrawings(k,_),await this.addTables(k,_),await Promise.all([this.addThemes(k,_),this.addStyles(k,_)]),await this.addMedia(k,_),await Promise.all([this.addApp(k,_),this.addCore(k,_)]),await this.addWorkbook(k,_),this._finalize(k)}writeFile(L,T){const _=c.createWriteStream(L);return new Promise((k,j)=>{_.on("finish",()=>{k()}),_.on("error",N=>{j(N)}),this.write(_,T).then(()=>{_.end()}).catch(N=>{j(N)})})}async writeBuffer(L){const T=new p;return await this.write(T,L),T.read()}}W.RelType=e("./rel-type"),n.exports=W}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=e("stream"),c=e("./formatter");class u extends o.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new c.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,p,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,y)=>g?(h=!0,f(g)):(y&&y.forEach(m=>{this.push(i.from(m,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(d){this.rowFormatter.finish((p,f)=>p?d(p):(f&&f.forEach(h=>{this.push(i.from(h,"utf8"))}),d()))}}s.CsvFormatterStream=u}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=i(e("lodash.isboolean")),c=i(e("lodash.isnil")),u=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const d=`[${l.delimiter}${u.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(l){this._headers=l}shouldQuote(l,d){const p=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(p)?p:Array.isArray(p)?p[l]:this._headers!==null&&p[this._headers[l]]}format(l,d,p){const f=(""+(c.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,p)?this.quoteField(f):f}quoteField(l){const{quote:d}=this.formatterOptions;return`${d}${l}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=i(e("lodash.isfunction")),c=i(e("lodash.isequal")),u=e("./FieldFormatter"),l=e("../types");class d{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return d.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return l.isSyncTransform(f)?(h,g)=>{let y=null;try{y=f(h)}catch(m){return g(m)}return g(null,y)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}format(f,h){this.callTransformer(f,(g,y)=>{if(g)return h(g);if(!f)return h(null);const m=[];if(y){const{shouldFormatColumns:v,headers:x}=this.checkHeaders(y);if(this.shouldWriteHeaders&&x&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(x,!0)),this.hasWrittenHeaders=!0),v){const S=this.gatherColumns(y);m.push(this.formatColumns(S,!1))}}return h(null,m)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=d.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?d.isRowHashArray(f)?this.headers.map((h,g)=>{const y=f[g];return y?y[1]:""}):d.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((m,v)=>this.fieldFormatter.format(m,v,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var o=Object.create?function(v,x,S,C){C===void 0&&(C=S),Object.defineProperty(v,C,{enumerable:!0,get:function(){return x[S]}})}:function(v,x,S,C){C===void 0&&(C=S),v[C]=x[S]},c=Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x},u=function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var S in v)S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)&&o(x,v,S);return c(x,v),x},l=function(v,x){for(var S in v)S==="default"||Object.prototype.hasOwnProperty.call(x,S)||o(x,v,S)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const d=e("util"),p=e("stream"),f=u(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),s);var y=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new g.CsvFormatterStream(new h.FormatterOptions(v)),s.write=(v,x)=>{const S=s.format(x),C=d.promisify((A,B)=>{S.write(A,void 0,B)});return v.reduce((A,B)=>A.then(()=>C(B)),Promise.resolve()).then(()=>S.end()).catch(A=>{S.emit("error",A)}),S},s.writeToStream=(v,x,S)=>s.write(x,S).pipe(v),s.writeToBuffer=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=[],C=new p.Writable({write(A,B,q){S.push(A),q()}});return new Promise((A,B)=>{C.on("error",B).on("finish",()=>A(i.concat(S))),s.write(v,x).pipe(C)})},s.writeToString=(v,x)=>s.writeToBuffer(v,x).then(S=>S.toString()),s.writeToPath=(v,x,S)=>{const C=f.createWriteStream(v,{encoding:"utf8"});return s.write(x,S).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=e("string_decoder"),c=e("stream"),u=e("./transforms"),l=e("./parser");class d extends c.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new l.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const y=d.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(f),x=this.parse(v,!0);return this.processRows(x,y)}catch(m){return y(m)}}_flush(f){const h=d.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:y}=this.parser.parse(f,h);return this.lines=g,y}processRows(f,h){const g=f.length,y=m=>{const v=C=>C?h(C):m%100!=0?y(m+1):void i(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const x=f[m];this.rowCount+=1,this.parsedRowCount+=1;const S=this.rowCount;return this.transformRow(x,(C,A)=>{if(C)return this.rowCount-=1,v(C);if(!A)return v(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,v)}else this.emit("data-invalid",A.row,S,A.reason);return v()})};y(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,y)=>g?h(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),v=1;v<y;v++)m[v-1]=arguments[v];f(...m)}}}s.CsvParserStream=d}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=i(e("lodash.escaperegexp")),c=i(e("lodash.isnil"));s.ParserOptions=class{constructor(u){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(y,m,v,x){x===void 0&&(x=v),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[v]}})}:function(y,m,v,x){x===void 0&&(x=v),y[x]=m[v]},o=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},c=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&i(m,y,v);return o(m,y),m},u=function(y,m){for(var v in y)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||i(m,y,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=c(e("fs")),d=e("stream"),p=e("./ParserOptions"),f=e("./CsvParserStream");u(e("./types"),s);var h=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new p.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new p.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(y).pipe(new f.CsvParserStream(new p.ParserOptions(m)))},s.parseString=(y,m)=>{const v=new d.Readable;return v.push(y),v.push(null),v.pipe(new f.CsvParserStream(new p.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),o=e("./RowParser"),c=e("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,p){const f=new i.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(d){const p=[];let f=!0;for(;f;)f=this.parseRow(d,p);return{line:d.line,rows:p}}parseWithComments(d){const{parserOptions:p}=this,f=[];for(let h=d.nextCharacterToken;h!==null;h=d.nextCharacterToken)if(c.Token.isTokenComment(h,p)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:f};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:f};d.truncateToCursor()}else if(!this.parseRow(d,f))break;return{line:d.line,rows:f}}parseRow(d,p){if(!d.nextNonSpaceToken)return!1;const f=this.rowParser.parse(d);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||p.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),o=e("./Token");s.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new i.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:u}=this,{hasMoreData:l}=c,d=c,p=[];let f=this.getStartToken(d,p);for(;f;){if(o.Token.isTokenRowDelimiter(f))return d.advancePastToken(f),!d.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,u)&&l?null:(d.truncateToCursor(),p);if(!this.shouldSkipColumnParse(d,f,p)){const h=this.columnParser.parse(d);if(h===null)return null;p.push(h)}f=d.nextNonSpaceToken}return l?null:(d.truncateToCursor(),p)}getStartToken(c,u){const l=c.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(u.push(""),c.nextNonSpaceToken):l}shouldSkipColumnParse(c,u,l){const{parserOptions:d}=this;if(o.Token.isTokenDelimiter(u,d)){c.advancePastToken(u);const p=c.nextCharacterToken;if(!c.hasMoreCharacters||p!==null&&o.Token.isTokenRowDelimiter(p)||p!==null&&o.Token.isTokenDelimiter(p,d))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(u)===-1)return null;const l=u.exec(c);if(l==null)return null;const d=l[1],p=this.cursor+(l.index||0);return new i.Token({token:d,startCursor:p,endCursor:p+d.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:u}=this;return u<=c?null:new i.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),c=e("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new o.QuotedColumnParser(u),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:l}=u;return l!==null&&c.Token.isTokenQuote(l,this.parserOptions)?(u.advanceToToken(l),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");s.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new i.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:u}=this,l=[];let d=c.nextCharacterToken;for(;d&&!o.Token.isTokenDelimiter(d,u)&&!o.Token.isTokenRowDelimiter(d);d=c.nextCharacterToken)l.push(d.token),c.advancePastToken(d);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");s.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new i.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const u=c.cursor,{foundClosingQuote:l,col:d}=this.gatherDataBetweenQuotes(c);if(!l){if(c.advanceTo(u),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),d}gatherDataBetweenQuotes(c){const{parserOptions:u}=this;let l=!1,d=!1;const p=[];let f=c.nextCharacterToken;for(;!d&&f!==null;f=c.nextCharacterToken){const h=o.Token.isTokenQuote(f,u);if(!l&&h)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(f,u)){c.advancePastToken(f);const g=c.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,u)||o.Token.isTokenEscapeCharacter(g,u))?(p.push(g.token),f=g):h?d=!0:p.push(f.token)}else h?d=!0:p.push(f.token);c.advancePastToken(f)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:d}}checkForMalformedColumn(c){const{parserOptions:u}=this,{nextNonSpaceToken:l}=c;if(l){const d=o.Token.isTokenDelimiter(l,u),p=o.Token.isTokenRowDelimiter(l);if(!d&&!p){const f=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${l.token}'. at '${f}`)}c.advanceToToken(l)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var u=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var u=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var l=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=i(e("lodash.isundefined")),c=i(e("lodash.isfunction")),u=i(e("lodash.uniq")),l=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):c.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,p){return this.shouldMapRow(d)?p(null,this.processRow(d)):p(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&d.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return p.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const p={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const y=f[g];if(!o.default(y)){const m=d[g];o.default(m)?p[y]="":p[y]=m}}return p}setHeaders(d){var p;const f=d.filter(h=>!!h);if(u.default(f).length!==f.length){const h=l.default(f),g=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=i(e("lodash.isfunction")),c=e("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return c.isSyncTransform(d)?(p,f)=>{let h=null;try{h=d(p)}catch(g){return f(g)}return f(null,h)}:d}static createValidator(d){return c.isSyncValidate(d)?(p,f)=>{f(null,{row:p,isValid:d(p)})}:(p,f)=>{d(p,(h,g,y)=>h?f(h):f(null,g?{row:p,isValid:g,reason:y}:{row:p,isValid:!1,reason:y}))}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!o.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,p){return this.callTransformer(d,(f,h)=>f?p(f):h?this.callValidator(h,(g,y)=>g?p(g):y&&!y.isValid?p(null,{row:h,isValid:!1,reason:y.reason}):p(null,{row:h,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}callValidator(d,p){return this._rowValidator?this._rowValidator(d,p):p(null,{row:d,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),o=e("./decoders"),c=e("inherits");function u(l,d){this.name=l,this.body=d,this.decoders={},this.encoders={}}s.define=function(l,d){return new u(l,d)},u.prototype._createNamed=function(l){const d=this.name;function p(f){this._initNamed(f,d)}return c(p,l),p.prototype._initNamed=function(f,h){l.call(this,f,h)},new p(this)},u.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},u.prototype.decode=function(l,d,p){return this._getDecoder(d).decode(l,p)},u.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(i[l])),this.encoders[l]},u.prototype.encode=function(l,d,p){return this._getEncoder(d).encode(l,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),o=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function u(d,p){o.call(this,p),c.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function l(d,p){if(Array.isArray(d))this.length=0,this.value=d.map((function(f){return l.isEncoderBuffer(f)||(f=new l(f,p)),this.length+=f.length,f}),this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return p.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=c.byteLength(d);else{if(!c.isBuffer(d))return p.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}i(u,o),s.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&c.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(d){const p=new u(this.base);return p.offset=d.offset,p.length=this.offset,this.offset=d.offset,o.prototype.restore.call(this,d.reporter),p},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,p){if(!(this.offset+d<=this.length))return this.error(p||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+d,this.offset+=d,f},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},l.prototype.join=function(d,p){return d||(d=c.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(d,p),p+=f.length})):(typeof this.value=="number"?d[p]=this.value:typeof this.value=="string"?d.write(this.value,p):c.isBuffer(this.value)&&this.value.copy(d,p),p+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,u=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function p(h,g,y){const m={};this._baseState=m,m.name=y,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=p;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const h=this._baseState,g={};f.forEach((function(m){g[m]=h[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},p.prototype._wrap=function(){const h=this._baseState;d.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return h.children.push(y),y[g].apply(y,arguments)}}),this)},p.prototype._init=function(h){const g=this._baseState;u(g.parent===null),h.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),u.equal(g.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(h){const g=this._baseState,y=h.filter((function(m){return m instanceof this.constructor}),this);h=h.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(u(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),h.length!==0&&(u(g.args===null),g.args=h,g.reverseArgs=h.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach((function(x){x==(0|x)&&(x|=0);const S=m[x];v[S]=x})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(h){p.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}})),l.forEach((function(h){p.prototype[h]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=h,this._useArgs(y),this}})),p.prototype.use=function(h){u(h);const g=this._baseState;return u(g.use===null),g.use=h,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(h){const g=this._baseState;return u(g.default===null),g.default=h,g.optional=!0,this},p.prototype.explicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=h,this},p.prototype.implicit=function(h){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=h,this},p.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},p.prototype.key=function(h){const g=this._baseState;return u(g.key===null),g.key=h,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(h){const g=this._baseState;return u(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map((function(y){return h[y]}))),this},p.prototype.contains=function(h){const g=this._baseState;return u(g.use===null),g.contains=h,this},p.prototype._decode=function(h,g){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,g));let m,v=y.default,x=!0,S=null;if(y.key!==null&&(S=h.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(x=this._peekTag(h,C,y.any),h.isError(x))return x}else{const A=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g),x=!0}catch{x=!1}h.restore(A)}}if(y.obj&&x&&(m=h.enterObject()),x){if(y.explicit!==null){const A=this._decodeTag(h,y.explicit);if(h.isError(A))return A;h=A}const C=h.offset;if(y.use===null&&y.choice===null){let A;y.any&&(A=h.save());const B=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(B))return B;y.any?v=h.raw(A):h=B}if(g&&g.track&&y.tag!==null&&g.track(h.path(),C,h.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),y.any||(v=y.choice===null?this._decodeGeneric(y.tag,h,g):this._decodeChoice(h,g)),h.isError(v))return v;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(A){A._decode(h,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const A=new c(v);v=this._getUse(y.contains,h._reporterState.obj)._decode(A,g)}}return y.obj&&x&&(v=h.leaveObject(m)),y.key===null||v===null&&x!==!0?S!==null&&h.exitKey(S):h.leaveKey(S,y.key,v),v},p.prototype._decodeGeneric=function(h,g,y){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],y):/str$/.test(h)?this._decodeStr(g,h,y):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):h==="objid"?this._decodeObjid(g,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(g,h,y):h==="null_"?this._decodeNull(g,y):h==="bool"?this._decodeBool(g,y):h==="objDesc"?this._decodeStr(g,h,y):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+h)},p.prototype._getUse=function(h,g){const y=this._baseState;return y.useDecoder=this._use(h,g),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},p.prototype._decodeChoice=function(h,g){const y=this._baseState;let m=null,v=!1;return Object.keys(y.choice).some((function(x){const S=h.save(),C=y.choice[x];try{const A=C._decode(h,g);if(h.isError(A))return!1;m={type:x,value:A},v=!0}catch{return h.restore(S),!1}return!0}),this),v?m:h.error("Choice not matched")},p.prototype._createEncoderBuffer=function(h){return new o(h,this.reporter)},p.prototype._encode=function(h,g,y){const m=this._baseState;if(m.default!==null&&m.default===h)return;const v=this._encodeValue(h,g,y);return v===void 0||this._skipDefault(v,g,y)?void 0:v},p.prototype._encodeValue=function(h,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new i);let v=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let x=null,S=!1;if(m.any)v=this._createEncoderBuffer(h);else if(m.choice)v=this._encodeChoice(h,g);else if(m.contains)x=this._getUse(m.contains,y)._encode(h,g),S=!0;else if(m.children)x=m.children.map((function(C){if(C._baseState.tag==="null_")return C._encode(null,g,h);if(C._baseState.key===null)return g.error("Child should have a key");const A=g.enterKey(C._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const B=C._encode(h[C._baseState.key],g,h);return g.leaveKey(A),B}),this).filter((function(C){return C})),x=this._createEncoderBuffer(x);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,x=this._createEncoderBuffer(h.map((function(A){const B=this._baseState;return this._getUse(B.args[0],h)._encode(A,g)}),C))}else m.use!==null?v=this._getUse(m.use,y)._encode(h,g):(x=this._encodePrimitive(m.tag,h),S=!0);if(!m.any&&m.choice===null){const C=m.implicit!==null?m.implicit:m.tag,A=m.implicit===null?"universal":"context";C===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(C,S,A,x))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(h,g){const y=this._baseState,m=y.choice[h.type];return m||u(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(h.value,g)},p.prototype._encodePrimitive=function(h,g){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},p.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},p.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function o(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function c(u,l){this.path=u,this.rethrow(l)}s.Reporter=o,o.prototype.isError=function(u){return u instanceof c},o.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},o.prototype.restore=function(u){const l=this._reporterState;l.obj=u.obj,l.path=l.path.slice(0,u.pathLen)},o.prototype.enterKey=function(u){return this._reporterState.path.push(u)},o.prototype.exitKey=function(u){const l=this._reporterState;l.path=l.path.slice(0,u-1)},o.prototype.leaveKey=function(u,l,d){const p=this._reporterState;this.exitKey(u),p.obj!==null&&(p.obj[l]=d)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const u=this._reporterState,l=u.obj;return u.obj={},l},o.prototype.leaveObject=function(u){const l=this._reporterState,d=l.obj;return l.obj=u,d},o.prototype.error=function(u){let l;const d=this._reporterState,p=u instanceof c;if(l=p?u:new c(d.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),u.message||u,u.stack),!d.options.partial)throw l;return p||d.errors.push(l),l},o.prototype.wrapResult=function(u){const l=this._reporterState;return l.options.partial?{result:this.isError(u)?null:u,errors:l.errors}:u},i(c,Error),c.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(o){const c={};return Object.keys(o).forEach((function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u})),c}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(o){const c={};return Object.keys(o).forEach((function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u})),c},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),o=e("bn.js"),c=e("../base/buffer").DecoderBuffer,u=e("../base/node"),l=e("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new p,this.tree._init(g.body)}function p(g){u.call(this,"der",g)}function f(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const v=l.tagClass[m>>6],x=(32&m)==0;if((31&m)==31){let S=m;for(m=0;(128&S)==128;){if(S=g.readUInt8(y),g.isError(S))return S;m<<=7,m|=127&S}}else m&=31;return{cls:v,primitive:x,tag:m,tagStr:l.tag[m]}}function h(g,y,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!y&&v===128)return null;if((128&v)==0)return v;const x=127&v;if(x>4)return g.error("length octect is too long");v=0;for(let S=0;S<x;S++){v<<=8;const C=g.readUInt8(m);if(g.isError(C))return C;v|=C}return v}n.exports=d,d.prototype.decode=function(g,y){return c.isDecoderBuffer(g)||(g=new c(g,y)),this.tree._decode(g,y)},i(p,u),p.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const v=g.save(),x=f(g,'Failed to peek tag: "'+y+'"');return g.isError(x)?x:(g.restore(v),x.tag===y||x.tagStr===y||x.tagStr+"of"===y||m)},p.prototype._decodeTag=function(g,y,m){const v=f(g,'Failed to decode tag of "'+y+'"');if(g.isError(v))return v;let x=h(g,v.primitive,'Failed to get length of "'+y+'"');if(g.isError(x))return x;if(!m&&v.tag!==y&&v.tagStr!==y&&v.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(v.primitive||x!==null)return g.skip(x,'Failed to match body of: "'+y+'"');const S=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(x=g.offset-S.offset,g.restore(S),g.skip(x,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(g,y){for(;;){const m=f(g,y);if(g.isError(m))return m;const v=h(g,m.primitive,y);if(g.isError(v))return v;let x;if(x=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,y),g.isError(x))return x;if(m.tagStr==="end")break}},p.prototype._decodeList=function(g,y,m,v){const x=[];for(;!g.isEmpty();){const S=this._peekTag(g,"end");if(g.isError(S))return S;const C=m.decode(g,"der",v);if(g.isError(C)&&S)break;x.push(C)}return x},p.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let x=0;x<m.length/2;x++)v+=String.fromCharCode(m.readUInt16BE(2*x));return v}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},p.prototype._decodeObjid=function(g,y,m){let v;const x=[];let S=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),S<<=7,S|=127&C,(128&C)==0&&(x.push(S),S=0);128&C&&x.push(S);const A=x[0]/40|0,B=x[0]%40;if(v=m?x:[A,B].concat(x.slice(1)),y){let q=y[v.join(" ")];q===void 0&&(q=y[v.join(".")]),q!==void 0&&(v=q)}return v},p.prototype._decodeTime=function(g,y){const m=g.raw().toString();let v,x,S,C,A,B;if(y==="gentime")v=0|m.slice(0,4),x=0|m.slice(4,6),S=0|m.slice(6,8),C=0|m.slice(8,10),A=0|m.slice(10,12),B=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");v=0|m.slice(0,2),x=0|m.slice(2,4),S=0|m.slice(4,6),C=0|m.slice(6,8),A=0|m.slice(8,10),B=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,x-1,S,C,A,B,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},p.prototype._decodeInt=function(g,y){const m=g.raw();let v=new o(m);return y&&(v=y[v.toString(10)]||v),v},p.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),o=e("safer-buffer").Buffer,c=e("./der");function u(l){c.call(this,l),this.enc="pem"}i(u,c),n.exports=u,u.prototype.decode=function(l,d){const p=l.toString().split(/[\r\n]+/g),f=d.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let x=0;x<p.length;x++){const S=p[x].match(h);if(S!==null&&S[2]===f){if(g!==-1){if(S[1]!=="END")break;y=x;break}if(S[1]!=="BEGIN")break;g=x}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=p.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=o.from(m,"base64");return c.prototype.decode.call(this,v,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),o=e("safer-buffer").Buffer,c=e("../base/node"),u=e("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new d,this.tree._init(f.body)}function d(f){c.call(this,"der",f)}function p(f){return f<10?"0"+f:f}n.exports=l,l.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},i(d,c),d.prototype._encodeComposite=function(f,h,g,y){const m=(function(S,C,A,B){let q;if(S==="seqof"?S="seq":S==="setof"&&(S="set"),u.tagByName.hasOwnProperty(S))q=u.tagByName[S];else{if(typeof S!="number"||(0|S)!==S)return B.error("Unknown tag: "+S);q=S}return q>=31?B.error("Multi-octet tag encoding unsupported"):(C||(q|=32),q|=u.tagClassByName[A||"universal"]<<6,q)})(f,h,g,this.reporter);if(y.length<128){const S=o.alloc(2);return S[0]=m,S[1]=y.length,this._createEncoderBuffer([S,y])}let v=1;for(let S=y.length;S>=256;S>>=8)v++;const x=o.alloc(2+v);x[0]=m,x[1]=128|v;for(let S=1+v,C=y.length;C>0;S--,C>>=8)x[S]=255&C;return this._createEncoderBuffer([x,y])},d.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=o.alloc(2*f.length);for(let y=0;y<f.length;y++)g.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},d.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let x=0;x<f.length;x++)f[x]|=0}else if(Array.isArray(f)){f=f.slice();for(let x=0;x<f.length;x++)f[x]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let x=0;x<f.length;x++){let S=f[x];for(y++;S>=128;S>>=7)y++}const m=o.alloc(y);let v=m.length-1;for(let x=f.length-1;x>=0;x--){let S=f[x];for(m[v--]=127&S;(S>>=7)>0;)m[v--]=128|127&S}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(f,h){let g;const y=new Date(f);return h==="gentime"?g=[p(y.getUTCFullYear()),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[p(y.getUTCFullYear()%100),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!o.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=o.from(m)}if(o.isBuffer(f)){let m=f.length;f.length===0&&m++;const v=o.alloc(m);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let m=f;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},d.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},d.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},d.prototype._skipDefault=function(f,h,g){const y=this._baseState;let m;if(y.default===null)return!1;const v=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,g).join()),v.length!==y.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),o=e("./der");function c(u){o.call(this,u),this.enc="pem"}i(c,o),n.exports=c,c.prototype.encode=function(u,l){const d=o.prototype.encode.call(this,u).toString("base64"),p=["-----BEGIN "+l.label+"-----"];for(let f=0;f<d.length;f+=64)p.push(d.slice(f,f+64));return p.push("-----END "+l.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,o){function c(P,L){if(!P)throw new Error(L||"Assertion failed")}function u(P,L){P.super_=L;var T=function(){};T.prototype=L.prototype,P.prototype=new T,P.prototype.constructor=P}function l(P,L,T){if(l.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&(L!=="le"&&L!=="be"||(T=L,L=10),this._init(P||0,L||10,T||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(P,L){var T=P.charCodeAt(L);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function f(P,L,T){var _=p(P,T);return T-1>=L&&(_|=p(P,T-1)<<4),_}function h(P,L,T,_){for(var k=0,j=Math.min(P.length,T),N=L;N<j;N++){var R=P.charCodeAt(N)-48;k*=_,k+=R>=49?R-49+10:R>=17?R-17+10:R}return k}l.isBN=function(P){return P instanceof l||P!==null&&typeof P=="object"&&P.constructor.wordSize===l.wordSize&&Array.isArray(P.words)},l.max=function(P,L){return P.cmp(L)>0?P:L},l.min=function(P,L){return P.cmp(L)<0?P:L},l.prototype._init=function(P,L,T){if(typeof P=="number")return this._initNumber(P,L,T);if(typeof P=="object")return this._initArray(P,L,T);L==="hex"&&(L=16),c(L===(0|L)&&L>=2&&L<=36);var _=0;(P=P.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<P.length&&(L===16?this._parseHex(P,_,T):(this._parseBase(P,L,_),T==="le"&&this._initArray(this.toArray(),L,T)))},l.prototype._initNumber=function(P,L,T){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(c(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),L,T)},l.prototype._initArray=function(P,L,T){if(c(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,j,N=0;if(T==="be")for(_=P.length-1,k=0;_>=0;_-=3)j=P[_]|P[_-1]<<8|P[_-2]<<16,this.words[k]|=j<<N&67108863,this.words[k+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);else if(T==="le")for(_=0,k=0;_<P.length;_+=3)j=P[_]|P[_+1]<<8|P[_+2]<<16,this.words[k]|=j<<N&67108863,this.words[k+1]=j>>>26-N&67108863,(N+=24)>=26&&(N-=26,k++);return this.strip()},l.prototype._parseHex=function(P,L,T){this.length=Math.ceil((P.length-L)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,j=0,N=0;if(T==="be")for(_=P.length-1;_>=L;_-=2)k=f(P,L,_)<<j,this.words[N]|=67108863&k,j>=18?(j-=18,N+=1,this.words[N]|=k>>>26):j+=8;else for(_=(P.length-L)%2==0?L+1:L;_<P.length;_+=2)k=f(P,L,_)<<j,this.words[N]|=67108863&k,j>=18?(j-=18,N+=1,this.words[N]|=k>>>26):j+=8;this.strip()},l.prototype._parseBase=function(P,L,T){this.words=[0],this.length=1;for(var _=0,k=1;k<=67108863;k*=L)_++;_--,k=k/L|0;for(var j=P.length-T,N=j%_,R=Math.min(j,j-N)+T,O=0,$=T;$<R;$+=_)O=h(P,$,$+_,L),this.imuln(k),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(N!==0){var X=1;for(O=h(P,$,P.length,L),$=0;$<N;$++)X*=L;this.imuln(X),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},l.prototype.copy=function(P){P.words=new Array(this.length);for(var L=0;L<this.length;L++)P.words[L]=this.words[L];P.length=this.length,P.negative=this.negative,P.red=this.red},l.prototype.clone=function(){var P=new l(null);return this.copy(P),P},l.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(P,L,T){T.negative=L.negative^P.negative;var _=P.length+L.length|0;T.length=_,_=_-1|0;var k=0|P.words[0],j=0|L.words[0],N=k*j,R=67108863&N,O=N/67108864|0;T.words[0]=R;for(var $=1;$<_;$++){for(var X=O>>>26,Y=67108863&O,re=Math.min($,L.length-1),F=Math.max(0,$-P.length+1);F<=re;F++){var Z=$-F|0;X+=(N=(k=0|P.words[Z])*(j=0|L.words[F])+Y)/67108864|0,Y=67108863&N}T.words[$]=0|Y,O=0|X}return O!==0?T.words[$]=0|O:T.length--,T.strip()}l.prototype.toString=function(P,L){var T;if(L=0|L||1,(P=P||10)===16||P==="hex"){T="";for(var _=0,k=0,j=0;j<this.length;j++){var N=this.words[j],R=(16777215&(N<<_|k)).toString(16);T=(k=N>>>24-_&16777215)!==0||j!==this.length-1?g[6-R.length]+R+T:R+T,(_+=2)>=26&&(_-=26,j--)}for(k!==0&&(T=k.toString(16)+T);T.length%L!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(P===(0|P)&&P>=2&&P<=36){var O=y[P],$=m[P];T="";var X=this.clone();for(X.negative=0;!X.isZero();){var Y=X.modn($).toString(P);T=(X=X.idivn($)).isZero()?Y+T:g[O-Y.length]+Y+T}for(this.isZero()&&(T="0"+T);T.length%L!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=67108864*this.words[1]:this.length===3&&this.words[2]===1?P+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(P,L){return c(d!==void 0),this.toArrayLike(d,P,L)},l.prototype.toArray=function(P,L){return this.toArrayLike(Array,P,L)},l.prototype.toArrayLike=function(P,L,T){var _=this.byteLength(),k=T||Math.max(1,_);c(_<=k,"byte array longer than desired length"),c(k>0,"Requested array length <= 0"),this.strip();var j,N,R=L==="le",O=new P(k),$=this.clone();if(R){for(N=0;!$.isZero();N++)j=$.andln(255),$.iushrn(8),O[N]=j;for(;N<k;N++)O[N]=0}else{for(N=0;N<k-_;N++)O[N]=0;for(N=0;!$.isZero();N++)j=$.andln(255),$.iushrn(8),O[k-N-1]=j}return O},Math.clz32?l.prototype._countBits=function(P){return 32-Math.clz32(P)}:l.prototype._countBits=function(P){var L=P,T=0;return L>=4096&&(T+=13,L>>>=13),L>=64&&(T+=7,L>>>=7),L>=8&&(T+=4,L>>>=4),L>=2&&(T+=2,L>>>=2),T+L},l.prototype._zeroBits=function(P){if(P===0)return 26;var L=P,T=0;return(8191&L)==0&&(T+=13,L>>>=13),(127&L)==0&&(T+=7,L>>>=7),(15&L)==0&&(T+=4,L>>>=4),(3&L)==0&&(T+=2,L>>>=2),(1&L)==0&&T++,T},l.prototype.bitLength=function(){var P=this.words[this.length-1],L=this._countBits(P);return 26*(this.length-1)+L},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,L=0;L<this.length;L++){var T=this._zeroBits(this.words[L]);if(P+=T,T!==26)break}return P},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},l.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var L=0;L<P.length;L++)this.words[L]=this.words[L]|P.words[L];return this.strip()},l.prototype.ior=function(P){return c((this.negative|P.negative)==0),this.iuor(P)},l.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},l.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},l.prototype.iuand=function(P){var L;L=this.length>P.length?P:this;for(var T=0;T<L.length;T++)this.words[T]=this.words[T]&P.words[T];return this.length=L.length,this.strip()},l.prototype.iand=function(P){return c((this.negative|P.negative)==0),this.iuand(P)},l.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},l.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},l.prototype.iuxor=function(P){var L,T;this.length>P.length?(L=this,T=P):(L=P,T=this);for(var _=0;_<T.length;_++)this.words[_]=L.words[_]^T.words[_];if(this!==L)for(;_<L.length;_++)this.words[_]=L.words[_];return this.length=L.length,this.strip()},l.prototype.ixor=function(P){return c((this.negative|P.negative)==0),this.iuxor(P)},l.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},l.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},l.prototype.inotn=function(P){c(typeof P=="number"&&P>=0);var L=0|Math.ceil(P/26),T=P%26;this._expand(L),T>0&&L--;for(var _=0;_<L;_++)this.words[_]=67108863&~this.words[_];return T>0&&(this.words[_]=~this.words[_]&67108863>>26-T),this.strip()},l.prototype.notn=function(P){return this.clone().inotn(P)},l.prototype.setn=function(P,L){c(typeof P=="number"&&P>=0);var T=P/26|0,_=P%26;return this._expand(T+1),this.words[T]=L?this.words[T]|1<<_:this.words[T]&~(1<<_),this.strip()},l.prototype.iadd=function(P){var L,T,_;if(this.negative!==0&&P.negative===0)return this.negative=0,L=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,L=this.isub(P),P.negative=1,L._normSign();this.length>P.length?(T=this,_=P):(T=P,_=this);for(var k=0,j=0;j<_.length;j++)L=(0|T.words[j])+(0|_.words[j])+k,this.words[j]=67108863&L,k=L>>>26;for(;k!==0&&j<T.length;j++)L=(0|T.words[j])+k,this.words[j]=67108863&L,k=L>>>26;if(this.length=T.length,k!==0)this.words[this.length]=k,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},l.prototype.add=function(P){var L;return P.negative!==0&&this.negative===0?(P.negative=0,L=this.sub(P),P.negative^=1,L):P.negative===0&&this.negative!==0?(this.negative=0,L=P.sub(this),this.negative=1,L):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},l.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var L=this.iadd(P);return P.negative=1,L._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var T,_,k=this.cmp(P);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(T=this,_=P):(T=P,_=this);for(var j=0,N=0;N<_.length;N++)j=(L=(0|T.words[N])-(0|_.words[N])+j)>>26,this.words[N]=67108863&L;for(;j!==0&&N<T.length;N++)j=(L=(0|T.words[N])+j)>>26,this.words[N]=67108863&L;if(j===0&&N<T.length&&T!==this)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=Math.max(this.length,N),T!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(P){return this.clone().isub(P)};var x=function(P,L,T){var _,k,j,N=P.words,R=L.words,O=T.words,$=0,X=0|N[0],Y=8191&X,re=X>>>13,F=0|N[1],Z=8191&F,V=F>>>13,z=0|N[2],G=8191&z,ae=z>>>13,pe=0|N[3],ue=8191&pe,ge=pe>>>13,ee=0|N[4],oe=8191&ee,ne=ee>>>13,fe=0|N[5],ce=8191&fe,ie=fe>>>13,te=0|N[6],se=8191&te,de=te>>>13,me=0|N[7],ke=8191&me,Ne=me>>>13,De=0|N[8],Fe=8191&De,Ge=De>>>13,qe=0|N[9],pt=8191&qe,yt=qe>>>13,ot=0|R[0],ve=8191&ot,be=ot>>>13,Be=0|R[1],Xe=8191&Be,Et=Be>>>13,Kt=0|R[2],_t=8191&Kt,Yt=Kt>>>13,Gt=0|R[3],Pt=8191&Gt,Mt=Gt>>>13,Nr=0|R[4],Lt=8191&Nr,Cr=Nr>>>13,rr=0|R[5],Ct=8191&rr,Tr=rr>>>13,nr=0|R[6],Bt=8191&nr,je=nr>>>13,Me=0|R[7],We=8191&Me,tt=Me>>>13,zt=0|R[8],dt=8191&zt,Qt=zt>>>13,Vt=0|R[9],St=8191&Vt,we=Vt>>>13;T.negative=P.negative^L.negative,T.length=19;var He=($+(_=Math.imul(Y,ve))|0)+((8191&(k=(k=Math.imul(Y,be))+Math.imul(re,ve)|0))<<13)|0;$=((j=Math.imul(re,be))+(k>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Z,ve),k=(k=Math.imul(Z,be))+Math.imul(V,ve)|0,j=Math.imul(V,be);var et=($+(_=_+Math.imul(Y,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Et)|0)+Math.imul(re,Xe)|0))<<13)|0;$=((j=j+Math.imul(re,Et)|0)+(k>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(G,ve),k=(k=Math.imul(G,be))+Math.imul(ae,ve)|0,j=Math.imul(ae,be),_=_+Math.imul(Z,Xe)|0,k=(k=k+Math.imul(Z,Et)|0)+Math.imul(V,Xe)|0,j=j+Math.imul(V,Et)|0;var bt=($+(_=_+Math.imul(Y,_t)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Yt)|0)+Math.imul(re,_t)|0))<<13)|0;$=((j=j+Math.imul(re,Yt)|0)+(k>>>13)|0)+(bt>>>26)|0,bt&=67108863,_=Math.imul(ue,ve),k=(k=Math.imul(ue,be))+Math.imul(ge,ve)|0,j=Math.imul(ge,be),_=_+Math.imul(G,Xe)|0,k=(k=k+Math.imul(G,Et)|0)+Math.imul(ae,Xe)|0,j=j+Math.imul(ae,Et)|0,_=_+Math.imul(Z,_t)|0,k=(k=k+Math.imul(Z,Yt)|0)+Math.imul(V,_t)|0,j=j+Math.imul(V,Yt)|0;var Nt=($+(_=_+Math.imul(Y,Pt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Mt)|0)+Math.imul(re,Pt)|0))<<13)|0;$=((j=j+Math.imul(re,Mt)|0)+(k>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(oe,ve),k=(k=Math.imul(oe,be))+Math.imul(ne,ve)|0,j=Math.imul(ne,be),_=_+Math.imul(ue,Xe)|0,k=(k=k+Math.imul(ue,Et)|0)+Math.imul(ge,Xe)|0,j=j+Math.imul(ge,Et)|0,_=_+Math.imul(G,_t)|0,k=(k=k+Math.imul(G,Yt)|0)+Math.imul(ae,_t)|0,j=j+Math.imul(ae,Yt)|0,_=_+Math.imul(Z,Pt)|0,k=(k=k+Math.imul(Z,Mt)|0)+Math.imul(V,Pt)|0,j=j+Math.imul(V,Mt)|0;var gr=($+(_=_+Math.imul(Y,Lt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Cr)|0)+Math.imul(re,Lt)|0))<<13)|0;$=((j=j+Math.imul(re,Cr)|0)+(k>>>13)|0)+(gr>>>26)|0,gr&=67108863,_=Math.imul(ce,ve),k=(k=Math.imul(ce,be))+Math.imul(ie,ve)|0,j=Math.imul(ie,be),_=_+Math.imul(oe,Xe)|0,k=(k=k+Math.imul(oe,Et)|0)+Math.imul(ne,Xe)|0,j=j+Math.imul(ne,Et)|0,_=_+Math.imul(ue,_t)|0,k=(k=k+Math.imul(ue,Yt)|0)+Math.imul(ge,_t)|0,j=j+Math.imul(ge,Yt)|0,_=_+Math.imul(G,Pt)|0,k=(k=k+Math.imul(G,Mt)|0)+Math.imul(ae,Pt)|0,j=j+Math.imul(ae,Mt)|0,_=_+Math.imul(Z,Lt)|0,k=(k=k+Math.imul(Z,Cr)|0)+Math.imul(V,Lt)|0,j=j+Math.imul(V,Cr)|0;var an=($+(_=_+Math.imul(Y,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Tr)|0)+Math.imul(re,Ct)|0))<<13)|0;$=((j=j+Math.imul(re,Tr)|0)+(k>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(se,ve),k=(k=Math.imul(se,be))+Math.imul(de,ve)|0,j=Math.imul(de,be),_=_+Math.imul(ce,Xe)|0,k=(k=k+Math.imul(ce,Et)|0)+Math.imul(ie,Xe)|0,j=j+Math.imul(ie,Et)|0,_=_+Math.imul(oe,_t)|0,k=(k=k+Math.imul(oe,Yt)|0)+Math.imul(ne,_t)|0,j=j+Math.imul(ne,Yt)|0,_=_+Math.imul(ue,Pt)|0,k=(k=k+Math.imul(ue,Mt)|0)+Math.imul(ge,Pt)|0,j=j+Math.imul(ge,Mt)|0,_=_+Math.imul(G,Lt)|0,k=(k=k+Math.imul(G,Cr)|0)+Math.imul(ae,Lt)|0,j=j+Math.imul(ae,Cr)|0,_=_+Math.imul(Z,Ct)|0,k=(k=k+Math.imul(Z,Tr)|0)+Math.imul(V,Ct)|0,j=j+Math.imul(V,Tr)|0;var Qn=($+(_=_+Math.imul(Y,Bt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,je)|0)+Math.imul(re,Bt)|0))<<13)|0;$=((j=j+Math.imul(re,je)|0)+(k>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,_=Math.imul(ke,ve),k=(k=Math.imul(ke,be))+Math.imul(Ne,ve)|0,j=Math.imul(Ne,be),_=_+Math.imul(se,Xe)|0,k=(k=k+Math.imul(se,Et)|0)+Math.imul(de,Xe)|0,j=j+Math.imul(de,Et)|0,_=_+Math.imul(ce,_t)|0,k=(k=k+Math.imul(ce,Yt)|0)+Math.imul(ie,_t)|0,j=j+Math.imul(ie,Yt)|0,_=_+Math.imul(oe,Pt)|0,k=(k=k+Math.imul(oe,Mt)|0)+Math.imul(ne,Pt)|0,j=j+Math.imul(ne,Mt)|0,_=_+Math.imul(ue,Lt)|0,k=(k=k+Math.imul(ue,Cr)|0)+Math.imul(ge,Lt)|0,j=j+Math.imul(ge,Cr)|0,_=_+Math.imul(G,Ct)|0,k=(k=k+Math.imul(G,Tr)|0)+Math.imul(ae,Ct)|0,j=j+Math.imul(ae,Tr)|0,_=_+Math.imul(Z,Bt)|0,k=(k=k+Math.imul(Z,je)|0)+Math.imul(V,Bt)|0,j=j+Math.imul(V,je)|0;var ye=($+(_=_+Math.imul(Y,We)|0)|0)+((8191&(k=(k=k+Math.imul(Y,tt)|0)+Math.imul(re,We)|0))<<13)|0;$=((j=j+Math.imul(re,tt)|0)+(k>>>13)|0)+(ye>>>26)|0,ye&=67108863,_=Math.imul(Fe,ve),k=(k=Math.imul(Fe,be))+Math.imul(Ge,ve)|0,j=Math.imul(Ge,be),_=_+Math.imul(ke,Xe)|0,k=(k=k+Math.imul(ke,Et)|0)+Math.imul(Ne,Xe)|0,j=j+Math.imul(Ne,Et)|0,_=_+Math.imul(se,_t)|0,k=(k=k+Math.imul(se,Yt)|0)+Math.imul(de,_t)|0,j=j+Math.imul(de,Yt)|0,_=_+Math.imul(ce,Pt)|0,k=(k=k+Math.imul(ce,Mt)|0)+Math.imul(ie,Pt)|0,j=j+Math.imul(ie,Mt)|0,_=_+Math.imul(oe,Lt)|0,k=(k=k+Math.imul(oe,Cr)|0)+Math.imul(ne,Lt)|0,j=j+Math.imul(ne,Cr)|0,_=_+Math.imul(ue,Ct)|0,k=(k=k+Math.imul(ue,Tr)|0)+Math.imul(ge,Ct)|0,j=j+Math.imul(ge,Tr)|0,_=_+Math.imul(G,Bt)|0,k=(k=k+Math.imul(G,je)|0)+Math.imul(ae,Bt)|0,j=j+Math.imul(ae,je)|0,_=_+Math.imul(Z,We)|0,k=(k=k+Math.imul(Z,tt)|0)+Math.imul(V,We)|0,j=j+Math.imul(V,tt)|0;var Te=($+(_=_+Math.imul(Y,dt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Qt)|0)+Math.imul(re,dt)|0))<<13)|0;$=((j=j+Math.imul(re,Qt)|0)+(k>>>13)|0)+(Te>>>26)|0,Te&=67108863,_=Math.imul(pt,ve),k=(k=Math.imul(pt,be))+Math.imul(yt,ve)|0,j=Math.imul(yt,be),_=_+Math.imul(Fe,Xe)|0,k=(k=k+Math.imul(Fe,Et)|0)+Math.imul(Ge,Xe)|0,j=j+Math.imul(Ge,Et)|0,_=_+Math.imul(ke,_t)|0,k=(k=k+Math.imul(ke,Yt)|0)+Math.imul(Ne,_t)|0,j=j+Math.imul(Ne,Yt)|0,_=_+Math.imul(se,Pt)|0,k=(k=k+Math.imul(se,Mt)|0)+Math.imul(de,Pt)|0,j=j+Math.imul(de,Mt)|0,_=_+Math.imul(ce,Lt)|0,k=(k=k+Math.imul(ce,Cr)|0)+Math.imul(ie,Lt)|0,j=j+Math.imul(ie,Cr)|0,_=_+Math.imul(oe,Ct)|0,k=(k=k+Math.imul(oe,Tr)|0)+Math.imul(ne,Ct)|0,j=j+Math.imul(ne,Tr)|0,_=_+Math.imul(ue,Bt)|0,k=(k=k+Math.imul(ue,je)|0)+Math.imul(ge,Bt)|0,j=j+Math.imul(ge,je)|0,_=_+Math.imul(G,We)|0,k=(k=k+Math.imul(G,tt)|0)+Math.imul(ae,We)|0,j=j+Math.imul(ae,tt)|0,_=_+Math.imul(Z,dt)|0,k=(k=k+Math.imul(Z,Qt)|0)+Math.imul(V,dt)|0,j=j+Math.imul(V,Qt)|0;var Qe=($+(_=_+Math.imul(Y,St)|0)|0)+((8191&(k=(k=k+Math.imul(Y,we)|0)+Math.imul(re,St)|0))<<13)|0;$=((j=j+Math.imul(re,we)|0)+(k>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(pt,Xe),k=(k=Math.imul(pt,Et))+Math.imul(yt,Xe)|0,j=Math.imul(yt,Et),_=_+Math.imul(Fe,_t)|0,k=(k=k+Math.imul(Fe,Yt)|0)+Math.imul(Ge,_t)|0,j=j+Math.imul(Ge,Yt)|0,_=_+Math.imul(ke,Pt)|0,k=(k=k+Math.imul(ke,Mt)|0)+Math.imul(Ne,Pt)|0,j=j+Math.imul(Ne,Mt)|0,_=_+Math.imul(se,Lt)|0,k=(k=k+Math.imul(se,Cr)|0)+Math.imul(de,Lt)|0,j=j+Math.imul(de,Cr)|0,_=_+Math.imul(ce,Ct)|0,k=(k=k+Math.imul(ce,Tr)|0)+Math.imul(ie,Ct)|0,j=j+Math.imul(ie,Tr)|0,_=_+Math.imul(oe,Bt)|0,k=(k=k+Math.imul(oe,je)|0)+Math.imul(ne,Bt)|0,j=j+Math.imul(ne,je)|0,_=_+Math.imul(ue,We)|0,k=(k=k+Math.imul(ue,tt)|0)+Math.imul(ge,We)|0,j=j+Math.imul(ge,tt)|0,_=_+Math.imul(G,dt)|0,k=(k=k+Math.imul(G,Qt)|0)+Math.imul(ae,dt)|0,j=j+Math.imul(ae,Qt)|0;var Ye=($+(_=_+Math.imul(Z,St)|0)|0)+((8191&(k=(k=k+Math.imul(Z,we)|0)+Math.imul(V,St)|0))<<13)|0;$=((j=j+Math.imul(V,we)|0)+(k>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,_=Math.imul(pt,_t),k=(k=Math.imul(pt,Yt))+Math.imul(yt,_t)|0,j=Math.imul(yt,Yt),_=_+Math.imul(Fe,Pt)|0,k=(k=k+Math.imul(Fe,Mt)|0)+Math.imul(Ge,Pt)|0,j=j+Math.imul(Ge,Mt)|0,_=_+Math.imul(ke,Lt)|0,k=(k=k+Math.imul(ke,Cr)|0)+Math.imul(Ne,Lt)|0,j=j+Math.imul(Ne,Cr)|0,_=_+Math.imul(se,Ct)|0,k=(k=k+Math.imul(se,Tr)|0)+Math.imul(de,Ct)|0,j=j+Math.imul(de,Tr)|0,_=_+Math.imul(ce,Bt)|0,k=(k=k+Math.imul(ce,je)|0)+Math.imul(ie,Bt)|0,j=j+Math.imul(ie,je)|0,_=_+Math.imul(oe,We)|0,k=(k=k+Math.imul(oe,tt)|0)+Math.imul(ne,We)|0,j=j+Math.imul(ne,tt)|0,_=_+Math.imul(ue,dt)|0,k=(k=k+Math.imul(ue,Qt)|0)+Math.imul(ge,dt)|0,j=j+Math.imul(ge,Qt)|0;var Rt=($+(_=_+Math.imul(G,St)|0)|0)+((8191&(k=(k=k+Math.imul(G,we)|0)+Math.imul(ae,St)|0))<<13)|0;$=((j=j+Math.imul(ae,we)|0)+(k>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(pt,Pt),k=(k=Math.imul(pt,Mt))+Math.imul(yt,Pt)|0,j=Math.imul(yt,Mt),_=_+Math.imul(Fe,Lt)|0,k=(k=k+Math.imul(Fe,Cr)|0)+Math.imul(Ge,Lt)|0,j=j+Math.imul(Ge,Cr)|0,_=_+Math.imul(ke,Ct)|0,k=(k=k+Math.imul(ke,Tr)|0)+Math.imul(Ne,Ct)|0,j=j+Math.imul(Ne,Tr)|0,_=_+Math.imul(se,Bt)|0,k=(k=k+Math.imul(se,je)|0)+Math.imul(de,Bt)|0,j=j+Math.imul(de,je)|0,_=_+Math.imul(ce,We)|0,k=(k=k+Math.imul(ce,tt)|0)+Math.imul(ie,We)|0,j=j+Math.imul(ie,tt)|0,_=_+Math.imul(oe,dt)|0,k=(k=k+Math.imul(oe,Qt)|0)+Math.imul(ne,dt)|0,j=j+Math.imul(ne,Qt)|0;var lt=($+(_=_+Math.imul(ue,St)|0)|0)+((8191&(k=(k=k+Math.imul(ue,we)|0)+Math.imul(ge,St)|0))<<13)|0;$=((j=j+Math.imul(ge,we)|0)+(k>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(pt,Lt),k=(k=Math.imul(pt,Cr))+Math.imul(yt,Lt)|0,j=Math.imul(yt,Cr),_=_+Math.imul(Fe,Ct)|0,k=(k=k+Math.imul(Fe,Tr)|0)+Math.imul(Ge,Ct)|0,j=j+Math.imul(Ge,Tr)|0,_=_+Math.imul(ke,Bt)|0,k=(k=k+Math.imul(ke,je)|0)+Math.imul(Ne,Bt)|0,j=j+Math.imul(Ne,je)|0,_=_+Math.imul(se,We)|0,k=(k=k+Math.imul(se,tt)|0)+Math.imul(de,We)|0,j=j+Math.imul(de,tt)|0,_=_+Math.imul(ce,dt)|0,k=(k=k+Math.imul(ce,Qt)|0)+Math.imul(ie,dt)|0,j=j+Math.imul(ie,Qt)|0;var mt=($+(_=_+Math.imul(oe,St)|0)|0)+((8191&(k=(k=k+Math.imul(oe,we)|0)+Math.imul(ne,St)|0))<<13)|0;$=((j=j+Math.imul(ne,we)|0)+(k>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(pt,Ct),k=(k=Math.imul(pt,Tr))+Math.imul(yt,Ct)|0,j=Math.imul(yt,Tr),_=_+Math.imul(Fe,Bt)|0,k=(k=k+Math.imul(Fe,je)|0)+Math.imul(Ge,Bt)|0,j=j+Math.imul(Ge,je)|0,_=_+Math.imul(ke,We)|0,k=(k=k+Math.imul(ke,tt)|0)+Math.imul(Ne,We)|0,j=j+Math.imul(Ne,tt)|0,_=_+Math.imul(se,dt)|0,k=(k=k+Math.imul(se,Qt)|0)+Math.imul(de,dt)|0,j=j+Math.imul(de,Qt)|0;var Mr=($+(_=_+Math.imul(ce,St)|0)|0)+((8191&(k=(k=k+Math.imul(ce,we)|0)+Math.imul(ie,St)|0))<<13)|0;$=((j=j+Math.imul(ie,we)|0)+(k>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,_=Math.imul(pt,Bt),k=(k=Math.imul(pt,je))+Math.imul(yt,Bt)|0,j=Math.imul(yt,je),_=_+Math.imul(Fe,We)|0,k=(k=k+Math.imul(Fe,tt)|0)+Math.imul(Ge,We)|0,j=j+Math.imul(Ge,tt)|0,_=_+Math.imul(ke,dt)|0,k=(k=k+Math.imul(ke,Qt)|0)+Math.imul(Ne,dt)|0,j=j+Math.imul(Ne,Qt)|0;var ir=($+(_=_+Math.imul(se,St)|0)|0)+((8191&(k=(k=k+Math.imul(se,we)|0)+Math.imul(de,St)|0))<<13)|0;$=((j=j+Math.imul(de,we)|0)+(k>>>13)|0)+(ir>>>26)|0,ir&=67108863,_=Math.imul(pt,We),k=(k=Math.imul(pt,tt))+Math.imul(yt,We)|0,j=Math.imul(yt,tt),_=_+Math.imul(Fe,dt)|0,k=(k=k+Math.imul(Fe,Qt)|0)+Math.imul(Ge,dt)|0,j=j+Math.imul(Ge,Qt)|0;var Ut=($+(_=_+Math.imul(ke,St)|0)|0)+((8191&(k=(k=k+Math.imul(ke,we)|0)+Math.imul(Ne,St)|0))<<13)|0;$=((j=j+Math.imul(Ne,we)|0)+(k>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(pt,dt),k=(k=Math.imul(pt,Qt))+Math.imul(yt,dt)|0,j=Math.imul(yt,Qt);var Ft=($+(_=_+Math.imul(Fe,St)|0)|0)+((8191&(k=(k=k+Math.imul(Fe,we)|0)+Math.imul(Ge,St)|0))<<13)|0;$=((j=j+Math.imul(Ge,we)|0)+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863;var or=($+(_=Math.imul(pt,St))|0)+((8191&(k=(k=Math.imul(pt,we))+Math.imul(yt,St)|0))<<13)|0;return $=((j=Math.imul(yt,we))+(k>>>13)|0)+(or>>>26)|0,or&=67108863,O[0]=He,O[1]=et,O[2]=bt,O[3]=Nt,O[4]=gr,O[5]=an,O[6]=Qn,O[7]=ye,O[8]=Te,O[9]=Qe,O[10]=Ye,O[11]=Rt,O[12]=lt,O[13]=mt,O[14]=Mr,O[15]=ir,O[16]=Ut,O[17]=Ft,O[18]=or,$!==0&&(O[19]=$,T.length++),T};function S(P,L,T){return new C().mulp(P,L,T)}function C(P,L){this.x=P,this.y=L}Math.imul||(x=v),l.prototype.mulTo=function(P,L){var T=this.length+P.length;return this.length===10&&P.length===10?x(this,P,L):T<63?v(this,P,L):T<1024?(function(_,k,j){j.negative=k.negative^_.negative,j.length=_.length+k.length;for(var N=0,R=0,O=0;O<j.length-1;O++){var $=R;R=0;for(var X=67108863&N,Y=Math.min(O,k.length-1),re=Math.max(0,O-_.length+1);re<=Y;re++){var F=O-re,Z=(0|_.words[F])*(0|k.words[re]),V=67108863&Z;X=67108863&(V=V+X|0),R+=($=($=$+(Z/67108864|0)|0)+(V>>>26)|0)>>>26,$&=67108863}j.words[O]=X,N=$,$=R}return N!==0?j.words[O]=N:j.length--,j.strip()})(this,P,L):S(this,P,L)},C.prototype.makeRBT=function(P){for(var L=new Array(P),T=l.prototype._countBits(P)-1,_=0;_<P;_++)L[_]=this.revBin(_,T,P);return L},C.prototype.revBin=function(P,L,T){if(P===0||P===T-1)return P;for(var _=0,k=0;k<L;k++)_|=(1&P)<<L-k-1,P>>=1;return _},C.prototype.permute=function(P,L,T,_,k,j){for(var N=0;N<j;N++)_[N]=L[P[N]],k[N]=T[P[N]]},C.prototype.transform=function(P,L,T,_,k,j){this.permute(j,P,L,T,_,k);for(var N=1;N<k;N<<=1)for(var R=N<<1,O=Math.cos(2*Math.PI/R),$=Math.sin(2*Math.PI/R),X=0;X<k;X+=R)for(var Y=O,re=$,F=0;F<N;F++){var Z=T[X+F],V=_[X+F],z=T[X+F+N],G=_[X+F+N],ae=Y*z-re*G;G=Y*G+re*z,z=ae,T[X+F]=Z+z,_[X+F]=V+G,T[X+F+N]=Z-z,_[X+F+N]=V-G,F!==R&&(ae=O*Y-$*re,re=O*re+$*Y,Y=ae)}},C.prototype.guessLen13b=function(P,L){var T=1|Math.max(L,P),_=1&T,k=0;for(T=T/2|0;T;T>>>=1)k++;return 1<<k+1+_},C.prototype.conjugate=function(P,L,T){if(!(T<=1))for(var _=0;_<T/2;_++){var k=P[_];P[_]=P[T-_-1],P[T-_-1]=k,k=L[_],L[_]=-L[T-_-1],L[T-_-1]=-k}},C.prototype.normalize13b=function(P,L){for(var T=0,_=0;_<L/2;_++){var k=8192*Math.round(P[2*_+1]/L)+Math.round(P[2*_]/L)+T;P[_]=67108863&k,T=k<67108864?0:k/67108864|0}return P},C.prototype.convert13b=function(P,L,T,_){for(var k=0,j=0;j<L;j++)k+=0|P[j],T[2*j]=8191&k,k>>>=13,T[2*j+1]=8191&k,k>>>=13;for(j=2*L;j<_;++j)T[j]=0;c(k===0),c((-8192&k)==0)},C.prototype.stub=function(P){for(var L=new Array(P),T=0;T<P;T++)L[T]=0;return L},C.prototype.mulp=function(P,L,T){var _=2*this.guessLen13b(P.length,L.length),k=this.makeRBT(_),j=this.stub(_),N=new Array(_),R=new Array(_),O=new Array(_),$=new Array(_),X=new Array(_),Y=new Array(_),re=T.words;re.length=_,this.convert13b(P.words,P.length,N,_),this.convert13b(L.words,L.length,$,_),this.transform(N,j,R,O,_,k),this.transform($,j,X,Y,_,k);for(var F=0;F<_;F++){var Z=R[F]*X[F]-O[F]*Y[F];O[F]=R[F]*Y[F]+O[F]*X[F],R[F]=Z}return this.conjugate(R,O,_),this.transform(R,O,re,j,_,k),this.conjugate(re,j,_),this.normalize13b(re,_),T.negative=P.negative^L.negative,T.length=P.length+L.length,T.strip()},l.prototype.mul=function(P){var L=new l(null);return L.words=new Array(this.length+P.length),this.mulTo(P,L)},l.prototype.mulf=function(P){var L=new l(null);return L.words=new Array(this.length+P.length),S(this,P,L)},l.prototype.imul=function(P){return this.clone().mulTo(P,this)},l.prototype.imuln=function(P){c(typeof P=="number"),c(P<67108864);for(var L=0,T=0;T<this.length;T++){var _=(0|this.words[T])*P,k=(67108863&_)+(67108863&L);L>>=26,L+=_/67108864|0,L+=k>>>26,this.words[T]=67108863&k}return L!==0&&(this.words[T]=L,this.length++),this},l.prototype.muln=function(P){return this.clone().imuln(P)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(P){var L=(function(j){for(var N=new Array(j.bitLength()),R=0;R<N.length;R++){var O=R/26|0,$=R%26;N[R]=(j.words[O]&1<<$)>>>$}return N})(P);if(L.length===0)return new l(1);for(var T=this,_=0;_<L.length&&L[_]===0;_++,T=T.sqr());if(++_<L.length)for(var k=T.sqr();_<L.length;_++,k=k.sqr())L[_]!==0&&(T=T.mul(k));return T},l.prototype.iushln=function(P){c(typeof P=="number"&&P>=0);var L,T=P%26,_=(P-T)/26,k=67108863>>>26-T<<26-T;if(T!==0){var j=0;for(L=0;L<this.length;L++){var N=this.words[L]&k,R=(0|this.words[L])-N<<T;this.words[L]=R|j,j=N>>>26-T}j&&(this.words[L]=j,this.length++)}if(_!==0){for(L=this.length-1;L>=0;L--)this.words[L+_]=this.words[L];for(L=0;L<_;L++)this.words[L]=0;this.length+=_}return this.strip()},l.prototype.ishln=function(P){return c(this.negative===0),this.iushln(P)},l.prototype.iushrn=function(P,L,T){var _;c(typeof P=="number"&&P>=0),_=L?(L-L%26)/26:0;var k=P%26,j=Math.min((P-k)/26,this.length),N=67108863^67108863>>>k<<k,R=T;if(_-=j,_=Math.max(0,_),R){for(var O=0;O<j;O++)R.words[O]=this.words[O];R.length=j}if(j!==0)if(this.length>j)for(this.length-=j,O=0;O<this.length;O++)this.words[O]=this.words[O+j];else this.words[0]=0,this.length=1;var $=0;for(O=this.length-1;O>=0&&($!==0||O>=_);O--){var X=0|this.words[O];this.words[O]=$<<26-k|X>>>k,$=X&N}return R&&$!==0&&(R.words[R.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(P,L,T){return c(this.negative===0),this.iushrn(P,L,T)},l.prototype.shln=function(P){return this.clone().ishln(P)},l.prototype.ushln=function(P){return this.clone().iushln(P)},l.prototype.shrn=function(P){return this.clone().ishrn(P)},l.prototype.ushrn=function(P){return this.clone().iushrn(P)},l.prototype.testn=function(P){c(typeof P=="number"&&P>=0);var L=P%26,T=(P-L)/26,_=1<<L;return!(this.length<=T)&&!!(this.words[T]&_)},l.prototype.imaskn=function(P){c(typeof P=="number"&&P>=0);var L=P%26,T=(P-L)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(L!==0&&T++,this.length=Math.min(T,this.length),L!==0){var _=67108863^67108863>>>L<<L;this.words[this.length-1]&=_}return this.strip()},l.prototype.maskn=function(P){return this.clone().imaskn(P)},l.prototype.iaddn=function(P){return c(typeof P=="number"),c(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},l.prototype._iaddn=function(P){this.words[0]+=P;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},l.prototype.isubn=function(P){if(c(typeof P=="number"),c(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},l.prototype.addn=function(P){return this.clone().iaddn(P)},l.prototype.subn=function(P){return this.clone().isubn(P)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(P,L,T){var _,k,j=P.length+T;this._expand(j);var N=0;for(_=0;_<P.length;_++){k=(0|this.words[_+T])+N;var R=(0|P.words[_])*L;N=((k-=67108863&R)>>26)-(R/67108864|0),this.words[_+T]=67108863&k}for(;_<this.length-T;_++)N=(k=(0|this.words[_+T])+N)>>26,this.words[_+T]=67108863&k;if(N===0)return this.strip();for(c(N===-1),N=0,_=0;_<this.length;_++)N=(k=-(0|this.words[_])+N)>>26,this.words[_]=67108863&k;return this.negative=1,this.strip()},l.prototype._wordDiv=function(P,L){var T=(this.length,P.length),_=this.clone(),k=P,j=0|k.words[k.length-1];(T=26-this._countBits(j))!==0&&(k=k.ushln(T),_.iushln(T),j=0|k.words[k.length-1]);var N,R=_.length-k.length;if(L!=="mod"){(N=new l(null)).length=R+1,N.words=new Array(N.length);for(var O=0;O<N.length;O++)N.words[O]=0}var $=_.clone()._ishlnsubmul(k,1,R);$.negative===0&&(_=$,N&&(N.words[R]=1));for(var X=R-1;X>=0;X--){var Y=67108864*(0|_.words[k.length+X])+(0|_.words[k.length+X-1]);for(Y=Math.min(Y/j|0,67108863),_._ishlnsubmul(k,Y,X);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(k,1,X),_.isZero()||(_.negative^=1);N&&(N.words[X]=Y)}return N&&N.strip(),_.strip(),L!=="div"&&T!==0&&_.iushrn(T),{div:N||null,mod:_}},l.prototype.divmod=function(P,L,T){return c(!P.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&P.negative===0?(j=this.neg().divmod(P,L),L!=="mod"&&(_=j.div.neg()),L!=="div"&&(k=j.mod.neg(),T&&k.negative!==0&&k.iadd(P)),{div:_,mod:k}):this.negative===0&&P.negative!==0?(j=this.divmod(P.neg(),L),L!=="mod"&&(_=j.div.neg()),{div:_,mod:j.mod}):(this.negative&P.negative)!=0?(j=this.neg().divmod(P.neg(),L),L!=="div"&&(k=j.mod.neg(),T&&k.negative!==0&&k.isub(P)),{div:j.div,mod:k}):P.length>this.length||this.cmp(P)<0?{div:new l(0),mod:this}:P.length===1?L==="div"?{div:this.divn(P.words[0]),mod:null}:L==="mod"?{div:null,mod:new l(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new l(this.modn(P.words[0]))}:this._wordDiv(P,L);var _,k,j},l.prototype.div=function(P){return this.divmod(P,"div",!1).div},l.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},l.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},l.prototype.divRound=function(P){var L=this.divmod(P);if(L.mod.isZero())return L.div;var T=L.div.negative!==0?L.mod.isub(P):L.mod,_=P.ushrn(1),k=P.andln(1),j=T.cmp(_);return j<0||k===1&&j===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},l.prototype.modn=function(P){c(P<=67108863);for(var L=(1<<26)%P,T=0,_=this.length-1;_>=0;_--)T=(L*T+(0|this.words[_]))%P;return T},l.prototype.idivn=function(P){c(P<=67108863);for(var L=0,T=this.length-1;T>=0;T--){var _=(0|this.words[T])+67108864*L;this.words[T]=_/P|0,L=_%P}return this.strip()},l.prototype.divn=function(P){return this.clone().idivn(P)},l.prototype.egcd=function(P){c(P.negative===0),c(!P.isZero());var L=this,T=P.clone();L=L.negative!==0?L.umod(P):L.clone();for(var _=new l(1),k=new l(0),j=new l(0),N=new l(1),R=0;L.isEven()&&T.isEven();)L.iushrn(1),T.iushrn(1),++R;for(var O=T.clone(),$=L.clone();!L.isZero();){for(var X=0,Y=1;(L.words[0]&Y)==0&&X<26;++X,Y<<=1);if(X>0)for(L.iushrn(X);X-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(O),k.isub($)),_.iushrn(1),k.iushrn(1);for(var re=0,F=1;(T.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(T.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(O),N.isub($)),j.iushrn(1),N.iushrn(1);L.cmp(T)>=0?(L.isub(T),_.isub(j),k.isub(N)):(T.isub(L),j.isub(_),N.isub(k))}return{a:j,b:N,gcd:T.iushln(R)}},l.prototype._invmp=function(P){c(P.negative===0),c(!P.isZero());var L=this,T=P.clone();L=L.negative!==0?L.umod(P):L.clone();for(var _,k=new l(1),j=new l(0),N=T.clone();L.cmpn(1)>0&&T.cmpn(1)>0;){for(var R=0,O=1;(L.words[0]&O)==0&&R<26;++R,O<<=1);if(R>0)for(L.iushrn(R);R-- >0;)k.isOdd()&&k.iadd(N),k.iushrn(1);for(var $=0,X=1;(T.words[0]&X)==0&&$<26;++$,X<<=1);if($>0)for(T.iushrn($);$-- >0;)j.isOdd()&&j.iadd(N),j.iushrn(1);L.cmp(T)>=0?(L.isub(T),k.isub(j)):(T.isub(L),j.isub(k))}return(_=L.cmpn(1)===0?k:j).cmpn(0)<0&&_.iadd(P),_},l.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var L=this.clone(),T=P.clone();L.negative=0,T.negative=0;for(var _=0;L.isEven()&&T.isEven();_++)L.iushrn(1),T.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;T.isEven();)T.iushrn(1);var k=L.cmp(T);if(k<0){var j=L;L=T,T=j}else if(k===0||T.cmpn(1)===0)break;L.isub(T)}return T.iushln(_)},l.prototype.invm=function(P){return this.egcd(P).a.umod(P)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(P){return this.words[0]&P},l.prototype.bincn=function(P){c(typeof P=="number");var L=P%26,T=(P-L)/26,_=1<<L;if(this.length<=T)return this._expand(T+1),this.words[T]|=_,this;for(var k=_,j=T;k!==0&&j<this.length;j++){var N=0|this.words[j];k=(N+=k)>>>26,N&=67108863,this.words[j]=N}return k!==0&&(this.words[j]=k,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(P){var L,T=P<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this.strip(),this.length>1)L=1;else{T&&(P=-P),c(P<=67108863,"Number is too big");var _=0|this.words[0];L=_===P?0:_<P?-1:1}return this.negative!==0?0|-L:L},l.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var L=this.ucmp(P);return this.negative!==0?0|-L:L},l.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var L=0,T=this.length-1;T>=0;T--){var _=0|this.words[T],k=0|P.words[T];if(_!==k){_<k?L=-1:_>k&&(L=1);break}}return L},l.prototype.gtn=function(P){return this.cmpn(P)===1},l.prototype.gt=function(P){return this.cmp(P)===1},l.prototype.gten=function(P){return this.cmpn(P)>=0},l.prototype.gte=function(P){return this.cmp(P)>=0},l.prototype.ltn=function(P){return this.cmpn(P)===-1},l.prototype.lt=function(P){return this.cmp(P)===-1},l.prototype.lten=function(P){return this.cmpn(P)<=0},l.prototype.lte=function(P){return this.cmp(P)<=0},l.prototype.eqn=function(P){return this.cmpn(P)===0},l.prototype.eq=function(P){return this.cmp(P)===0},l.red=function(P){return new K(P)},l.prototype.toRed=function(P){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(P){return this.red=P,this},l.prototype.forceRed=function(P){return c(!this.red,"Already a number in reduction context"),this._forceRed(P)},l.prototype.redAdd=function(P){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},l.prototype.redIAdd=function(P){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},l.prototype.redSub=function(P){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},l.prototype.redISub=function(P){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},l.prototype.redShl=function(P){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},l.prototype.redMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},l.prototype.redIMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(P){return c(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var A={k256:null,p224:null,p192:null,p25519:null};function B(P,L){this.name=P,this.p=new l(L,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function K(P){if(typeof P=="string"){var L=l._prime(P);this.m=L.p,this.prime=L}else c(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function W(P){K.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var P=new l(null);return P.words=new Array(Math.ceil(this.n/13)),P},B.prototype.ireduce=function(P){var L,T=P;do this.split(T,this.tmp),L=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(L>this.n);var _=L<this.n?-1:T.ucmp(this.p);return _===0?(T.words[0]=0,T.length=1):_>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},B.prototype.split=function(P,L){P.iushrn(this.n,0,L)},B.prototype.imulK=function(P){return P.imul(this.k)},u(q,B),q.prototype.split=function(P,L){for(var T=Math.min(P.length,9),_=0;_<T;_++)L.words[_]=P.words[_];if(L.length=T,P.length<=9)return P.words[0]=0,void(P.length=1);var k=P.words[9];for(L.words[L.length++]=4194303&k,_=10;_<P.length;_++){var j=0|P.words[_];P.words[_-10]=(4194303&j)<<4|k>>>22,k=j}k>>>=22,P.words[_-10]=k,k===0&&P.length>10?P.length-=10:P.length-=9},q.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var L=0,T=0;T<P.length;T++){var _=0|P.words[T];L+=977*_,P.words[T]=67108863&L,L=64*_+(L/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P},u(D,B),u(I,B),u(U,B),U.prototype.imulK=function(P){for(var L=0,T=0;T<P.length;T++){var _=19*(0|P.words[T])+L,k=67108863&_;_>>>=26,P.words[T]=k,L=_}return L!==0&&(P.words[P.length++]=L),P},l._prime=function(P){if(A[P])return A[P];var L;if(P==="k256")L=new q;else if(P==="p224")L=new D;else if(P==="p192")L=new I;else{if(P!=="p25519")throw new Error("Unknown prime "+P);L=new U}return A[P]=L,L},K.prototype._verify1=function(P){c(P.negative===0,"red works only with positives"),c(P.red,"red works only with red numbers")},K.prototype._verify2=function(P,L){c((P.negative|L.negative)==0,"red works only with positives"),c(P.red&&P.red===L.red,"red works only with red numbers")},K.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},K.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},K.prototype.add=function(P,L){this._verify2(P,L);var T=P.add(L);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},K.prototype.iadd=function(P,L){this._verify2(P,L);var T=P.iadd(L);return T.cmp(this.m)>=0&&T.isub(this.m),T},K.prototype.sub=function(P,L){this._verify2(P,L);var T=P.sub(L);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},K.prototype.isub=function(P,L){this._verify2(P,L);var T=P.isub(L);return T.cmpn(0)<0&&T.iadd(this.m),T},K.prototype.shl=function(P,L){return this._verify1(P),this.imod(P.ushln(L))},K.prototype.imul=function(P,L){return this._verify2(P,L),this.imod(P.imul(L))},K.prototype.mul=function(P,L){return this._verify2(P,L),this.imod(P.mul(L))},K.prototype.isqr=function(P){return this.imul(P,P.clone())},K.prototype.sqr=function(P){return this.mul(P,P)},K.prototype.sqrt=function(P){if(P.isZero())return P.clone();var L=this.m.andln(3);if(c(L%2==1),L===3){var T=this.m.add(new l(1)).iushrn(2);return this.pow(P,T)}for(var _=this.m.subn(1),k=0;!_.isZero()&&_.andln(1)===0;)k++,_.iushrn(1);c(!_.isZero());var j=new l(1).toRed(this),N=j.redNeg(),R=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new l(2*O*O).toRed(this);this.pow(O,R).cmp(N)!==0;)O.redIAdd(N);for(var $=this.pow(O,_),X=this.pow(P,_.addn(1).iushrn(1)),Y=this.pow(P,_),re=k;Y.cmp(j)!==0;){for(var F=Y,Z=0;F.cmp(j)!==0;Z++)F=F.redSqr();c(Z<re);var V=this.pow($,new l(1).iushln(re-Z-1));X=X.redMul(V),$=V.redSqr(),Y=Y.redMul($),re=Z}return X},K.prototype.invm=function(P){var L=P._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},K.prototype.pow=function(P,L){if(L.isZero())return new l(1).toRed(this);if(L.cmpn(1)===0)return P.clone();var T=new Array(16);T[0]=new l(1).toRed(this),T[1]=P;for(var _=2;_<T.length;_++)T[_]=this.mul(T[_-1],P);var k=T[0],j=0,N=0,R=L.bitLength()%26;for(R===0&&(R=26),_=L.length-1;_>=0;_--){for(var O=L.words[_],$=R-1;$>=0;$--){var X=O>>$&1;k!==T[0]&&(k=this.sqr(k)),X!==0||j!==0?(j<<=1,j|=X,(++N===4||_===0&&$===0)&&(k=this.mul(k,T[j]),N=0,j=0)):N=0}R=26}return k},K.prototype.convertTo=function(P){var L=P.umod(this.m);return L===P?L.clone():L},K.prototype.convertFrom=function(P){var L=P.clone();return L.red=null,L},l.mont=function(P){return new W(P)},u(W,K),W.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},W.prototype.convertFrom=function(P){var L=this.imod(P.mul(this.rinv));return L.red=null,L},W.prototype.imul=function(P,L){if(P.isZero()||L.isZero())return P.words[0]=0,P.length=1,P;var T=P.imul(L),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=T.isub(_).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},W.prototype.mul=function(P,L){if(P.isZero()||L.isZero())return new l(0)._forceRed(this);var T=P.mul(L),_=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=T.isub(_).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},W.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(h){var g=p(h),y=g[0],m=g[1];return 3*(y+m)/4-m},s.toByteArray=function(h){var g,y,m=p(h),v=m[0],x=m[1],S=new c((function(B,q,D){return 3*(q+D)/4-D})(0,v,x)),C=0,A=x>0?v-4:v;for(y=0;y<A;y+=4)g=o[h.charCodeAt(y)]<<18|o[h.charCodeAt(y+1)]<<12|o[h.charCodeAt(y+2)]<<6|o[h.charCodeAt(y+3)],S[C++]=g>>16&255,S[C++]=g>>8&255,S[C++]=255&g;return x===2&&(g=o[h.charCodeAt(y)]<<2|o[h.charCodeAt(y+1)]>>4,S[C++]=255&g),x===1&&(g=o[h.charCodeAt(y)]<<10|o[h.charCodeAt(y+1)]<<4|o[h.charCodeAt(y+2)]>>2,S[C++]=g>>8&255,S[C++]=255&g),S},s.fromByteArray=function(h){for(var g,y=h.length,m=y%3,v=[],x=0,S=y-m;x<S;x+=16383)v.push(f(h,x,x+16383>S?S:x+16383));return m===1?(g=h[y-1],v.push(i[g>>2]+i[g<<4&63]+"==")):m===2&&(g=(h[y-2]<<8)+h[y-1],v.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),v.join("")};for(var i=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)i[l]=u[l],o[u.charCodeAt(l)]=l;function p(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function f(h,g,y){for(var m,v,x=[],S=g;S<y;S+=3)m=(h[S]<<16&16711680)+(h[S+1]<<8&65280)+(255&h[S+2]),x.push(i[(v=m)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return x.join("")}o[45]=62,o[95]=63},{}],186:[function(e,n,s){(function(i,o){function c(T,_){if(!T)throw new Error(_||"Assertion failed")}function u(T,_){T.super_=_;var k=function(){};k.prototype=_.prototype,T.prototype=new k,T.prototype.constructor=T}function l(T,_,k){if(l.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(_!=="le"&&_!=="be"||(k=_,_=10),this._init(T||0,_||10,k||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(T,_){var k=T.charCodeAt(_);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void c(!1,"Invalid character in "+T)}function f(T,_,k){var j=p(T,k);return k-1>=_&&(j|=p(T,k-1)<<4),j}function h(T,_,k,j){for(var N=0,R=0,O=Math.min(T.length,k),$=_;$<O;$++){var X=T.charCodeAt($)-48;N*=j,R=X>=49?X-49+10:X>=17?X-17+10:X,c(X>=0&&R<j,"Invalid character"),N+=R}return N}function g(T,_){T.words=_.words,T.length=_.length,T.negative=_.negative,T.red=_.red}if(l.isBN=function(T){return T instanceof l||T!==null&&typeof T=="object"&&T.constructor.wordSize===l.wordSize&&Array.isArray(T.words)},l.max=function(T,_){return T.cmp(_)>0?T:_},l.min=function(T,_){return T.cmp(_)<0?T:_},l.prototype._init=function(T,_,k){if(typeof T=="number")return this._initNumber(T,_,k);if(typeof T=="object")return this._initArray(T,_,k);_==="hex"&&(_=16),c(_===(0|_)&&_>=2&&_<=36);var j=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<T.length&&(_===16?this._parseHex(T,j,k):(this._parseBase(T,_,j),k==="le"&&this._initArray(this.toArray(),_,k)))},l.prototype._initNumber=function(T,_,k){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(c(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),_,k)},l.prototype._initArray=function(T,_,k){if(c(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,R,O=0;if(k==="be")for(j=T.length-1,N=0;j>=0;j-=3)R=T[j]|T[j-1]<<8|T[j-2]<<16,this.words[N]|=R<<O&67108863,this.words[N+1]=R>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);else if(k==="le")for(j=0,N=0;j<T.length;j+=3)R=T[j]|T[j+1]<<8|T[j+2]<<16,this.words[N]|=R<<O&67108863,this.words[N+1]=R>>>26-O&67108863,(O+=24)>=26&&(O-=26,N++);return this._strip()},l.prototype._parseHex=function(T,_,k){this.length=Math.ceil((T.length-_)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var N,R=0,O=0;if(k==="be")for(j=T.length-1;j>=_;j-=2)N=f(T,_,j)<<R,this.words[O]|=67108863&N,R>=18?(R-=18,O+=1,this.words[O]|=N>>>26):R+=8;else for(j=(T.length-_)%2==0?_+1:_;j<T.length;j+=2)N=f(T,_,j)<<R,this.words[O]|=67108863&N,R>=18?(R-=18,O+=1,this.words[O]|=N>>>26):R+=8;this._strip()},l.prototype._parseBase=function(T,_,k){this.words=[0],this.length=1;for(var j=0,N=1;N<=67108863;N*=_)j++;j--,N=N/_|0;for(var R=T.length-k,O=R%j,$=Math.min(R,R-O)+k,X=0,Y=k;Y<$;Y+=j)X=h(T,Y,Y+j,_),this.imuln(N),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(O!==0){var re=1;for(X=h(T,Y,T.length,_),Y=0;Y<O;Y++)re*=_;this.imuln(re),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},l.prototype.copy=function(T){T.words=new Array(this.length);for(var _=0;_<this.length;_++)T.words[_]=this.words[_];T.length=this.length,T.negative=this.negative,T.red=this.red},l.prototype._move=function(T){g(T,this)},l.prototype.clone=function(){var T=new l(null);return this.copy(T),T},l.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(T,_){var k;if(_=0|_||1,(T=T||10)===16||T==="hex"){k="";for(var j=0,N=0,R=0;R<this.length;R++){var O=this.words[R],$=(16777215&(O<<j|N)).toString(16);N=O>>>24-j&16777215,(j+=2)>=26&&(j-=26,R--),k=N!==0||R!==this.length-1?m[6-$.length]+$+k:$+k}for(N!==0&&(k=N.toString(16)+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(T===(0|T)&&T>=2&&T<=36){var X=v[T],Y=x[T];k="";var re=this.clone();for(re.negative=0;!re.isZero();){var F=re.modrn(Y).toString(T);k=(re=re.idivn(Y)).isZero()?F+k:m[X-F.length]+F+k}for(this.isZero()&&(k="0"+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},l.prototype.toJSON=function(){return this.toString(16,2)},d&&(l.prototype.toBuffer=function(T,_){return this.toArrayLike(d,T,_)}),l.prototype.toArray=function(T,_){return this.toArrayLike(Array,T,_)};function S(T,_,k){k.negative=_.negative^T.negative;var j=T.length+_.length|0;k.length=j,j=j-1|0;var N=0|T.words[0],R=0|_.words[0],O=N*R,$=67108863&O,X=O/67108864|0;k.words[0]=$;for(var Y=1;Y<j;Y++){for(var re=X>>>26,F=67108863&X,Z=Math.min(Y,_.length-1),V=Math.max(0,Y-T.length+1);V<=Z;V++){var z=Y-V|0;re+=(O=(N=0|T.words[z])*(R=0|_.words[V])+F)/67108864|0,F=67108863&O}k.words[Y]=0|F,X=0|re}return X!==0?k.words[Y]=0|X:k.length--,k._strip()}l.prototype.toArrayLike=function(T,_,k){this._strip();var j=this.byteLength(),N=k||Math.max(1,j);c(j<=N,"byte array longer than desired length"),c(N>0,"Requested array length <= 0");var R=(function(O,$){return O.allocUnsafe?O.allocUnsafe($):new O($)})(T,N);return this["_toArrayLike"+(_==="le"?"LE":"BE")](R,j),R},l.prototype._toArrayLikeLE=function(T,_){for(var k=0,j=0,N=0,R=0;N<this.length;N++){var O=this.words[N]<<R|j;T[k++]=255&O,k<T.length&&(T[k++]=O>>8&255),k<T.length&&(T[k++]=O>>16&255),R===6?(k<T.length&&(T[k++]=O>>24&255),j=0,R=0):(j=O>>>24,R+=2)}if(k<T.length)for(T[k++]=j;k<T.length;)T[k++]=0},l.prototype._toArrayLikeBE=function(T,_){for(var k=T.length-1,j=0,N=0,R=0;N<this.length;N++){var O=this.words[N]<<R|j;T[k--]=255&O,k>=0&&(T[k--]=O>>8&255),k>=0&&(T[k--]=O>>16&255),R===6?(k>=0&&(T[k--]=O>>24&255),j=0,R=0):(j=O>>>24,R+=2)}if(k>=0)for(T[k--]=j;k>=0;)T[k--]=0},Math.clz32?l.prototype._countBits=function(T){return 32-Math.clz32(T)}:l.prototype._countBits=function(T){var _=T,k=0;return _>=4096&&(k+=13,_>>>=13),_>=64&&(k+=7,_>>>=7),_>=8&&(k+=4,_>>>=4),_>=2&&(k+=2,_>>>=2),k+_},l.prototype._zeroBits=function(T){if(T===0)return 26;var _=T,k=0;return(8191&_)==0&&(k+=13,_>>>=13),(127&_)==0&&(k+=7,_>>>=7),(15&_)==0&&(k+=4,_>>>=4),(3&_)==0&&(k+=2,_>>>=2),(1&_)==0&&k++,k},l.prototype.bitLength=function(){var T=this.words[this.length-1],_=this._countBits(T);return 26*(this.length-1)+_},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,_=0;_<this.length;_++){var k=this._zeroBits(this.words[_]);if(T+=k,k!==26)break}return T},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},l.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var _=0;_<T.length;_++)this.words[_]=this.words[_]|T.words[_];return this._strip()},l.prototype.ior=function(T){return c((this.negative|T.negative)==0),this.iuor(T)},l.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},l.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},l.prototype.iuand=function(T){var _;_=this.length>T.length?T:this;for(var k=0;k<_.length;k++)this.words[k]=this.words[k]&T.words[k];return this.length=_.length,this._strip()},l.prototype.iand=function(T){return c((this.negative|T.negative)==0),this.iuand(T)},l.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},l.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},l.prototype.iuxor=function(T){var _,k;this.length>T.length?(_=this,k=T):(_=T,k=this);for(var j=0;j<k.length;j++)this.words[j]=_.words[j]^k.words[j];if(this!==_)for(;j<_.length;j++)this.words[j]=_.words[j];return this.length=_.length,this._strip()},l.prototype.ixor=function(T){return c((this.negative|T.negative)==0),this.iuxor(T)},l.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},l.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},l.prototype.inotn=function(T){c(typeof T=="number"&&T>=0);var _=0|Math.ceil(T/26),k=T%26;this._expand(_),k>0&&_--;for(var j=0;j<_;j++)this.words[j]=67108863&~this.words[j];return k>0&&(this.words[j]=~this.words[j]&67108863>>26-k),this._strip()},l.prototype.notn=function(T){return this.clone().inotn(T)},l.prototype.setn=function(T,_){c(typeof T=="number"&&T>=0);var k=T/26|0,j=T%26;return this._expand(k+1),this.words[k]=_?this.words[k]|1<<j:this.words[k]&~(1<<j),this._strip()},l.prototype.iadd=function(T){var _,k,j;if(this.negative!==0&&T.negative===0)return this.negative=0,_=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,_=this.isub(T),T.negative=1,_._normSign();this.length>T.length?(k=this,j=T):(k=T,j=this);for(var N=0,R=0;R<j.length;R++)_=(0|k.words[R])+(0|j.words[R])+N,this.words[R]=67108863&_,N=_>>>26;for(;N!==0&&R<k.length;R++)_=(0|k.words[R])+N,this.words[R]=67108863&_,N=_>>>26;if(this.length=k.length,N!==0)this.words[this.length]=N,this.length++;else if(k!==this)for(;R<k.length;R++)this.words[R]=k.words[R];return this},l.prototype.add=function(T){var _;return T.negative!==0&&this.negative===0?(T.negative=0,_=this.sub(T),T.negative^=1,_):T.negative===0&&this.negative!==0?(this.negative=0,_=T.sub(this),this.negative=1,_):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},l.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var _=this.iadd(T);return T.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var k,j,N=this.cmp(T);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;N>0?(k=this,j=T):(k=T,j=this);for(var R=0,O=0;O<j.length;O++)R=(_=(0|k.words[O])-(0|j.words[O])+R)>>26,this.words[O]=67108863&_;for(;R!==0&&O<k.length;O++)R=(_=(0|k.words[O])+R)>>26,this.words[O]=67108863&_;if(R===0&&O<k.length&&k!==this)for(;O<k.length;O++)this.words[O]=k.words[O];return this.length=Math.max(this.length,O),k!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(T){return this.clone().isub(T)};var C=function(T,_,k){var j,N,R,O=T.words,$=_.words,X=k.words,Y=0,re=0|O[0],F=8191&re,Z=re>>>13,V=0|O[1],z=8191&V,G=V>>>13,ae=0|O[2],pe=8191&ae,ue=ae>>>13,ge=0|O[3],ee=8191&ge,oe=ge>>>13,ne=0|O[4],fe=8191&ne,ce=ne>>>13,ie=0|O[5],te=8191&ie,se=ie>>>13,de=0|O[6],me=8191&de,ke=de>>>13,Ne=0|O[7],De=8191&Ne,Fe=Ne>>>13,Ge=0|O[8],qe=8191&Ge,pt=Ge>>>13,yt=0|O[9],ot=8191&yt,ve=yt>>>13,be=0|$[0],Be=8191&be,Xe=be>>>13,Et=0|$[1],Kt=8191&Et,_t=Et>>>13,Yt=0|$[2],Gt=8191&Yt,Pt=Yt>>>13,Mt=0|$[3],Nr=8191&Mt,Lt=Mt>>>13,Cr=0|$[4],rr=8191&Cr,Ct=Cr>>>13,Tr=0|$[5],nr=8191&Tr,Bt=Tr>>>13,je=0|$[6],Me=8191&je,We=je>>>13,tt=0|$[7],zt=8191&tt,dt=tt>>>13,Qt=0|$[8],Vt=8191&Qt,St=Qt>>>13,we=0|$[9],He=8191&we,et=we>>>13;k.negative=T.negative^_.negative,k.length=19;var bt=(Y+(j=Math.imul(F,Be))|0)+((8191&(N=(N=Math.imul(F,Xe))+Math.imul(Z,Be)|0))<<13)|0;Y=((R=Math.imul(Z,Xe))+(N>>>13)|0)+(bt>>>26)|0,bt&=67108863,j=Math.imul(z,Be),N=(N=Math.imul(z,Xe))+Math.imul(G,Be)|0,R=Math.imul(G,Xe);var Nt=(Y+(j=j+Math.imul(F,Kt)|0)|0)+((8191&(N=(N=N+Math.imul(F,_t)|0)+Math.imul(Z,Kt)|0))<<13)|0;Y=((R=R+Math.imul(Z,_t)|0)+(N>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,j=Math.imul(pe,Be),N=(N=Math.imul(pe,Xe))+Math.imul(ue,Be)|0,R=Math.imul(ue,Xe),j=j+Math.imul(z,Kt)|0,N=(N=N+Math.imul(z,_t)|0)+Math.imul(G,Kt)|0,R=R+Math.imul(G,_t)|0;var gr=(Y+(j=j+Math.imul(F,Gt)|0)|0)+((8191&(N=(N=N+Math.imul(F,Pt)|0)+Math.imul(Z,Gt)|0))<<13)|0;Y=((R=R+Math.imul(Z,Pt)|0)+(N>>>13)|0)+(gr>>>26)|0,gr&=67108863,j=Math.imul(ee,Be),N=(N=Math.imul(ee,Xe))+Math.imul(oe,Be)|0,R=Math.imul(oe,Xe),j=j+Math.imul(pe,Kt)|0,N=(N=N+Math.imul(pe,_t)|0)+Math.imul(ue,Kt)|0,R=R+Math.imul(ue,_t)|0,j=j+Math.imul(z,Gt)|0,N=(N=N+Math.imul(z,Pt)|0)+Math.imul(G,Gt)|0,R=R+Math.imul(G,Pt)|0;var an=(Y+(j=j+Math.imul(F,Nr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Lt)|0)+Math.imul(Z,Nr)|0))<<13)|0;Y=((R=R+Math.imul(Z,Lt)|0)+(N>>>13)|0)+(an>>>26)|0,an&=67108863,j=Math.imul(fe,Be),N=(N=Math.imul(fe,Xe))+Math.imul(ce,Be)|0,R=Math.imul(ce,Xe),j=j+Math.imul(ee,Kt)|0,N=(N=N+Math.imul(ee,_t)|0)+Math.imul(oe,Kt)|0,R=R+Math.imul(oe,_t)|0,j=j+Math.imul(pe,Gt)|0,N=(N=N+Math.imul(pe,Pt)|0)+Math.imul(ue,Gt)|0,R=R+Math.imul(ue,Pt)|0,j=j+Math.imul(z,Nr)|0,N=(N=N+Math.imul(z,Lt)|0)+Math.imul(G,Nr)|0,R=R+Math.imul(G,Lt)|0;var Qn=(Y+(j=j+Math.imul(F,rr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Ct)|0)+Math.imul(Z,rr)|0))<<13)|0;Y=((R=R+Math.imul(Z,Ct)|0)+(N>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,j=Math.imul(te,Be),N=(N=Math.imul(te,Xe))+Math.imul(se,Be)|0,R=Math.imul(se,Xe),j=j+Math.imul(fe,Kt)|0,N=(N=N+Math.imul(fe,_t)|0)+Math.imul(ce,Kt)|0,R=R+Math.imul(ce,_t)|0,j=j+Math.imul(ee,Gt)|0,N=(N=N+Math.imul(ee,Pt)|0)+Math.imul(oe,Gt)|0,R=R+Math.imul(oe,Pt)|0,j=j+Math.imul(pe,Nr)|0,N=(N=N+Math.imul(pe,Lt)|0)+Math.imul(ue,Nr)|0,R=R+Math.imul(ue,Lt)|0,j=j+Math.imul(z,rr)|0,N=(N=N+Math.imul(z,Ct)|0)+Math.imul(G,rr)|0,R=R+Math.imul(G,Ct)|0;var ye=(Y+(j=j+Math.imul(F,nr)|0)|0)+((8191&(N=(N=N+Math.imul(F,Bt)|0)+Math.imul(Z,nr)|0))<<13)|0;Y=((R=R+Math.imul(Z,Bt)|0)+(N>>>13)|0)+(ye>>>26)|0,ye&=67108863,j=Math.imul(me,Be),N=(N=Math.imul(me,Xe))+Math.imul(ke,Be)|0,R=Math.imul(ke,Xe),j=j+Math.imul(te,Kt)|0,N=(N=N+Math.imul(te,_t)|0)+Math.imul(se,Kt)|0,R=R+Math.imul(se,_t)|0,j=j+Math.imul(fe,Gt)|0,N=(N=N+Math.imul(fe,Pt)|0)+Math.imul(ce,Gt)|0,R=R+Math.imul(ce,Pt)|0,j=j+Math.imul(ee,Nr)|0,N=(N=N+Math.imul(ee,Lt)|0)+Math.imul(oe,Nr)|0,R=R+Math.imul(oe,Lt)|0,j=j+Math.imul(pe,rr)|0,N=(N=N+Math.imul(pe,Ct)|0)+Math.imul(ue,rr)|0,R=R+Math.imul(ue,Ct)|0,j=j+Math.imul(z,nr)|0,N=(N=N+Math.imul(z,Bt)|0)+Math.imul(G,nr)|0,R=R+Math.imul(G,Bt)|0;var Te=(Y+(j=j+Math.imul(F,Me)|0)|0)+((8191&(N=(N=N+Math.imul(F,We)|0)+Math.imul(Z,Me)|0))<<13)|0;Y=((R=R+Math.imul(Z,We)|0)+(N>>>13)|0)+(Te>>>26)|0,Te&=67108863,j=Math.imul(De,Be),N=(N=Math.imul(De,Xe))+Math.imul(Fe,Be)|0,R=Math.imul(Fe,Xe),j=j+Math.imul(me,Kt)|0,N=(N=N+Math.imul(me,_t)|0)+Math.imul(ke,Kt)|0,R=R+Math.imul(ke,_t)|0,j=j+Math.imul(te,Gt)|0,N=(N=N+Math.imul(te,Pt)|0)+Math.imul(se,Gt)|0,R=R+Math.imul(se,Pt)|0,j=j+Math.imul(fe,Nr)|0,N=(N=N+Math.imul(fe,Lt)|0)+Math.imul(ce,Nr)|0,R=R+Math.imul(ce,Lt)|0,j=j+Math.imul(ee,rr)|0,N=(N=N+Math.imul(ee,Ct)|0)+Math.imul(oe,rr)|0,R=R+Math.imul(oe,Ct)|0,j=j+Math.imul(pe,nr)|0,N=(N=N+Math.imul(pe,Bt)|0)+Math.imul(ue,nr)|0,R=R+Math.imul(ue,Bt)|0,j=j+Math.imul(z,Me)|0,N=(N=N+Math.imul(z,We)|0)+Math.imul(G,Me)|0,R=R+Math.imul(G,We)|0;var Qe=(Y+(j=j+Math.imul(F,zt)|0)|0)+((8191&(N=(N=N+Math.imul(F,dt)|0)+Math.imul(Z,zt)|0))<<13)|0;Y=((R=R+Math.imul(Z,dt)|0)+(N>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,j=Math.imul(qe,Be),N=(N=Math.imul(qe,Xe))+Math.imul(pt,Be)|0,R=Math.imul(pt,Xe),j=j+Math.imul(De,Kt)|0,N=(N=N+Math.imul(De,_t)|0)+Math.imul(Fe,Kt)|0,R=R+Math.imul(Fe,_t)|0,j=j+Math.imul(me,Gt)|0,N=(N=N+Math.imul(me,Pt)|0)+Math.imul(ke,Gt)|0,R=R+Math.imul(ke,Pt)|0,j=j+Math.imul(te,Nr)|0,N=(N=N+Math.imul(te,Lt)|0)+Math.imul(se,Nr)|0,R=R+Math.imul(se,Lt)|0,j=j+Math.imul(fe,rr)|0,N=(N=N+Math.imul(fe,Ct)|0)+Math.imul(ce,rr)|0,R=R+Math.imul(ce,Ct)|0,j=j+Math.imul(ee,nr)|0,N=(N=N+Math.imul(ee,Bt)|0)+Math.imul(oe,nr)|0,R=R+Math.imul(oe,Bt)|0,j=j+Math.imul(pe,Me)|0,N=(N=N+Math.imul(pe,We)|0)+Math.imul(ue,Me)|0,R=R+Math.imul(ue,We)|0,j=j+Math.imul(z,zt)|0,N=(N=N+Math.imul(z,dt)|0)+Math.imul(G,zt)|0,R=R+Math.imul(G,dt)|0;var Ye=(Y+(j=j+Math.imul(F,Vt)|0)|0)+((8191&(N=(N=N+Math.imul(F,St)|0)+Math.imul(Z,Vt)|0))<<13)|0;Y=((R=R+Math.imul(Z,St)|0)+(N>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,j=Math.imul(ot,Be),N=(N=Math.imul(ot,Xe))+Math.imul(ve,Be)|0,R=Math.imul(ve,Xe),j=j+Math.imul(qe,Kt)|0,N=(N=N+Math.imul(qe,_t)|0)+Math.imul(pt,Kt)|0,R=R+Math.imul(pt,_t)|0,j=j+Math.imul(De,Gt)|0,N=(N=N+Math.imul(De,Pt)|0)+Math.imul(Fe,Gt)|0,R=R+Math.imul(Fe,Pt)|0,j=j+Math.imul(me,Nr)|0,N=(N=N+Math.imul(me,Lt)|0)+Math.imul(ke,Nr)|0,R=R+Math.imul(ke,Lt)|0,j=j+Math.imul(te,rr)|0,N=(N=N+Math.imul(te,Ct)|0)+Math.imul(se,rr)|0,R=R+Math.imul(se,Ct)|0,j=j+Math.imul(fe,nr)|0,N=(N=N+Math.imul(fe,Bt)|0)+Math.imul(ce,nr)|0,R=R+Math.imul(ce,Bt)|0,j=j+Math.imul(ee,Me)|0,N=(N=N+Math.imul(ee,We)|0)+Math.imul(oe,Me)|0,R=R+Math.imul(oe,We)|0,j=j+Math.imul(pe,zt)|0,N=(N=N+Math.imul(pe,dt)|0)+Math.imul(ue,zt)|0,R=R+Math.imul(ue,dt)|0,j=j+Math.imul(z,Vt)|0,N=(N=N+Math.imul(z,St)|0)+Math.imul(G,Vt)|0,R=R+Math.imul(G,St)|0;var Rt=(Y+(j=j+Math.imul(F,He)|0)|0)+((8191&(N=(N=N+Math.imul(F,et)|0)+Math.imul(Z,He)|0))<<13)|0;Y=((R=R+Math.imul(Z,et)|0)+(N>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,j=Math.imul(ot,Kt),N=(N=Math.imul(ot,_t))+Math.imul(ve,Kt)|0,R=Math.imul(ve,_t),j=j+Math.imul(qe,Gt)|0,N=(N=N+Math.imul(qe,Pt)|0)+Math.imul(pt,Gt)|0,R=R+Math.imul(pt,Pt)|0,j=j+Math.imul(De,Nr)|0,N=(N=N+Math.imul(De,Lt)|0)+Math.imul(Fe,Nr)|0,R=R+Math.imul(Fe,Lt)|0,j=j+Math.imul(me,rr)|0,N=(N=N+Math.imul(me,Ct)|0)+Math.imul(ke,rr)|0,R=R+Math.imul(ke,Ct)|0,j=j+Math.imul(te,nr)|0,N=(N=N+Math.imul(te,Bt)|0)+Math.imul(se,nr)|0,R=R+Math.imul(se,Bt)|0,j=j+Math.imul(fe,Me)|0,N=(N=N+Math.imul(fe,We)|0)+Math.imul(ce,Me)|0,R=R+Math.imul(ce,We)|0,j=j+Math.imul(ee,zt)|0,N=(N=N+Math.imul(ee,dt)|0)+Math.imul(oe,zt)|0,R=R+Math.imul(oe,dt)|0,j=j+Math.imul(pe,Vt)|0,N=(N=N+Math.imul(pe,St)|0)+Math.imul(ue,Vt)|0,R=R+Math.imul(ue,St)|0;var lt=(Y+(j=j+Math.imul(z,He)|0)|0)+((8191&(N=(N=N+Math.imul(z,et)|0)+Math.imul(G,He)|0))<<13)|0;Y=((R=R+Math.imul(G,et)|0)+(N>>>13)|0)+(lt>>>26)|0,lt&=67108863,j=Math.imul(ot,Gt),N=(N=Math.imul(ot,Pt))+Math.imul(ve,Gt)|0,R=Math.imul(ve,Pt),j=j+Math.imul(qe,Nr)|0,N=(N=N+Math.imul(qe,Lt)|0)+Math.imul(pt,Nr)|0,R=R+Math.imul(pt,Lt)|0,j=j+Math.imul(De,rr)|0,N=(N=N+Math.imul(De,Ct)|0)+Math.imul(Fe,rr)|0,R=R+Math.imul(Fe,Ct)|0,j=j+Math.imul(me,nr)|0,N=(N=N+Math.imul(me,Bt)|0)+Math.imul(ke,nr)|0,R=R+Math.imul(ke,Bt)|0,j=j+Math.imul(te,Me)|0,N=(N=N+Math.imul(te,We)|0)+Math.imul(se,Me)|0,R=R+Math.imul(se,We)|0,j=j+Math.imul(fe,zt)|0,N=(N=N+Math.imul(fe,dt)|0)+Math.imul(ce,zt)|0,R=R+Math.imul(ce,dt)|0,j=j+Math.imul(ee,Vt)|0,N=(N=N+Math.imul(ee,St)|0)+Math.imul(oe,Vt)|0,R=R+Math.imul(oe,St)|0;var mt=(Y+(j=j+Math.imul(pe,He)|0)|0)+((8191&(N=(N=N+Math.imul(pe,et)|0)+Math.imul(ue,He)|0))<<13)|0;Y=((R=R+Math.imul(ue,et)|0)+(N>>>13)|0)+(mt>>>26)|0,mt&=67108863,j=Math.imul(ot,Nr),N=(N=Math.imul(ot,Lt))+Math.imul(ve,Nr)|0,R=Math.imul(ve,Lt),j=j+Math.imul(qe,rr)|0,N=(N=N+Math.imul(qe,Ct)|0)+Math.imul(pt,rr)|0,R=R+Math.imul(pt,Ct)|0,j=j+Math.imul(De,nr)|0,N=(N=N+Math.imul(De,Bt)|0)+Math.imul(Fe,nr)|0,R=R+Math.imul(Fe,Bt)|0,j=j+Math.imul(me,Me)|0,N=(N=N+Math.imul(me,We)|0)+Math.imul(ke,Me)|0,R=R+Math.imul(ke,We)|0,j=j+Math.imul(te,zt)|0,N=(N=N+Math.imul(te,dt)|0)+Math.imul(se,zt)|0,R=R+Math.imul(se,dt)|0,j=j+Math.imul(fe,Vt)|0,N=(N=N+Math.imul(fe,St)|0)+Math.imul(ce,Vt)|0,R=R+Math.imul(ce,St)|0;var Mr=(Y+(j=j+Math.imul(ee,He)|0)|0)+((8191&(N=(N=N+Math.imul(ee,et)|0)+Math.imul(oe,He)|0))<<13)|0;Y=((R=R+Math.imul(oe,et)|0)+(N>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,j=Math.imul(ot,rr),N=(N=Math.imul(ot,Ct))+Math.imul(ve,rr)|0,R=Math.imul(ve,Ct),j=j+Math.imul(qe,nr)|0,N=(N=N+Math.imul(qe,Bt)|0)+Math.imul(pt,nr)|0,R=R+Math.imul(pt,Bt)|0,j=j+Math.imul(De,Me)|0,N=(N=N+Math.imul(De,We)|0)+Math.imul(Fe,Me)|0,R=R+Math.imul(Fe,We)|0,j=j+Math.imul(me,zt)|0,N=(N=N+Math.imul(me,dt)|0)+Math.imul(ke,zt)|0,R=R+Math.imul(ke,dt)|0,j=j+Math.imul(te,Vt)|0,N=(N=N+Math.imul(te,St)|0)+Math.imul(se,Vt)|0,R=R+Math.imul(se,St)|0;var ir=(Y+(j=j+Math.imul(fe,He)|0)|0)+((8191&(N=(N=N+Math.imul(fe,et)|0)+Math.imul(ce,He)|0))<<13)|0;Y=((R=R+Math.imul(ce,et)|0)+(N>>>13)|0)+(ir>>>26)|0,ir&=67108863,j=Math.imul(ot,nr),N=(N=Math.imul(ot,Bt))+Math.imul(ve,nr)|0,R=Math.imul(ve,Bt),j=j+Math.imul(qe,Me)|0,N=(N=N+Math.imul(qe,We)|0)+Math.imul(pt,Me)|0,R=R+Math.imul(pt,We)|0,j=j+Math.imul(De,zt)|0,N=(N=N+Math.imul(De,dt)|0)+Math.imul(Fe,zt)|0,R=R+Math.imul(Fe,dt)|0,j=j+Math.imul(me,Vt)|0,N=(N=N+Math.imul(me,St)|0)+Math.imul(ke,Vt)|0,R=R+Math.imul(ke,St)|0;var Ut=(Y+(j=j+Math.imul(te,He)|0)|0)+((8191&(N=(N=N+Math.imul(te,et)|0)+Math.imul(se,He)|0))<<13)|0;Y=((R=R+Math.imul(se,et)|0)+(N>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,j=Math.imul(ot,Me),N=(N=Math.imul(ot,We))+Math.imul(ve,Me)|0,R=Math.imul(ve,We),j=j+Math.imul(qe,zt)|0,N=(N=N+Math.imul(qe,dt)|0)+Math.imul(pt,zt)|0,R=R+Math.imul(pt,dt)|0,j=j+Math.imul(De,Vt)|0,N=(N=N+Math.imul(De,St)|0)+Math.imul(Fe,Vt)|0,R=R+Math.imul(Fe,St)|0;var Ft=(Y+(j=j+Math.imul(me,He)|0)|0)+((8191&(N=(N=N+Math.imul(me,et)|0)+Math.imul(ke,He)|0))<<13)|0;Y=((R=R+Math.imul(ke,et)|0)+(N>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,j=Math.imul(ot,zt),N=(N=Math.imul(ot,dt))+Math.imul(ve,zt)|0,R=Math.imul(ve,dt),j=j+Math.imul(qe,Vt)|0,N=(N=N+Math.imul(qe,St)|0)+Math.imul(pt,Vt)|0,R=R+Math.imul(pt,St)|0;var or=(Y+(j=j+Math.imul(De,He)|0)|0)+((8191&(N=(N=N+Math.imul(De,et)|0)+Math.imul(Fe,He)|0))<<13)|0;Y=((R=R+Math.imul(Fe,et)|0)+(N>>>13)|0)+(or>>>26)|0,or&=67108863,j=Math.imul(ot,Vt),N=(N=Math.imul(ot,St))+Math.imul(ve,Vt)|0,R=Math.imul(ve,St);var $r=(Y+(j=j+Math.imul(qe,He)|0)|0)+((8191&(N=(N=N+Math.imul(qe,et)|0)+Math.imul(pt,He)|0))<<13)|0;Y=((R=R+Math.imul(pt,et)|0)+(N>>>13)|0)+($r>>>26)|0,$r&=67108863;var Lr=(Y+(j=Math.imul(ot,He))|0)+((8191&(N=(N=Math.imul(ot,et))+Math.imul(ve,He)|0))<<13)|0;return Y=((R=Math.imul(ve,et))+(N>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,X[0]=bt,X[1]=Nt,X[2]=gr,X[3]=an,X[4]=Qn,X[5]=ye,X[6]=Te,X[7]=Qe,X[8]=Ye,X[9]=Rt,X[10]=lt,X[11]=mt,X[12]=Mr,X[13]=ir,X[14]=Ut,X[15]=Ft,X[16]=or,X[17]=$r,X[18]=Lr,Y!==0&&(X[19]=Y,k.length++),k};function A(T,_,k){k.negative=_.negative^T.negative,k.length=T.length+_.length;for(var j=0,N=0,R=0;R<k.length-1;R++){var O=N;N=0;for(var $=67108863&j,X=Math.min(R,_.length-1),Y=Math.max(0,R-T.length+1);Y<=X;Y++){var re=R-Y,F=(0|T.words[re])*(0|_.words[Y]),Z=67108863&F;$=67108863&(Z=Z+$|0),N+=(O=(O=O+(F/67108864|0)|0)+(Z>>>26)|0)>>>26,O&=67108863}k.words[R]=$,j=O,O=N}return j!==0?k.words[R]=j:k.length--,k._strip()}function B(T,_,k){return A(T,_,k)}Math.imul||(C=S),l.prototype.mulTo=function(T,_){var k=this.length+T.length;return this.length===10&&T.length===10?C(this,T,_):k<63?S(this,T,_):k<1024?A(this,T,_):B(this,T,_)},l.prototype.mul=function(T){var _=new l(null);return _.words=new Array(this.length+T.length),this.mulTo(T,_)},l.prototype.mulf=function(T){var _=new l(null);return _.words=new Array(this.length+T.length),B(this,T,_)},l.prototype.imul=function(T){return this.clone().mulTo(T,this)},l.prototype.imuln=function(T){var _=T<0;_&&(T=-T),c(typeof T=="number"),c(T<67108864);for(var k=0,j=0;j<this.length;j++){var N=(0|this.words[j])*T,R=(67108863&N)+(67108863&k);k>>=26,k+=N/67108864|0,k+=R>>>26,this.words[j]=67108863&R}return k!==0&&(this.words[j]=k,this.length++),_?this.ineg():this},l.prototype.muln=function(T){return this.clone().imuln(T)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(T){var _=(function(R){for(var O=new Array(R.bitLength()),$=0;$<O.length;$++){var X=$/26|0,Y=$%26;O[$]=R.words[X]>>>Y&1}return O})(T);if(_.length===0)return new l(1);for(var k=this,j=0;j<_.length&&_[j]===0;j++,k=k.sqr());if(++j<_.length)for(var N=k.sqr();j<_.length;j++,N=N.sqr())_[j]!==0&&(k=k.mul(N));return k},l.prototype.iushln=function(T){c(typeof T=="number"&&T>=0);var _,k=T%26,j=(T-k)/26,N=67108863>>>26-k<<26-k;if(k!==0){var R=0;for(_=0;_<this.length;_++){var O=this.words[_]&N,$=(0|this.words[_])-O<<k;this.words[_]=$|R,R=O>>>26-k}R&&(this.words[_]=R,this.length++)}if(j!==0){for(_=this.length-1;_>=0;_--)this.words[_+j]=this.words[_];for(_=0;_<j;_++)this.words[_]=0;this.length+=j}return this._strip()},l.prototype.ishln=function(T){return c(this.negative===0),this.iushln(T)},l.prototype.iushrn=function(T,_,k){var j;c(typeof T=="number"&&T>=0),j=_?(_-_%26)/26:0;var N=T%26,R=Math.min((T-N)/26,this.length),O=67108863^67108863>>>N<<N,$=k;if(j-=R,j=Math.max(0,j),$){for(var X=0;X<R;X++)$.words[X]=this.words[X];$.length=R}if(R!==0)if(this.length>R)for(this.length-=R,X=0;X<this.length;X++)this.words[X]=this.words[X+R];else this.words[0]=0,this.length=1;var Y=0;for(X=this.length-1;X>=0&&(Y!==0||X>=j);X--){var re=0|this.words[X];this.words[X]=Y<<26-N|re>>>N,Y=re&O}return $&&Y!==0&&($.words[$.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(T,_,k){return c(this.negative===0),this.iushrn(T,_,k)},l.prototype.shln=function(T){return this.clone().ishln(T)},l.prototype.ushln=function(T){return this.clone().iushln(T)},l.prototype.shrn=function(T){return this.clone().ishrn(T)},l.prototype.ushrn=function(T){return this.clone().iushrn(T)},l.prototype.testn=function(T){c(typeof T=="number"&&T>=0);var _=T%26,k=(T-_)/26,j=1<<_;return!(this.length<=k)&&!!(this.words[k]&j)},l.prototype.imaskn=function(T){c(typeof T=="number"&&T>=0);var _=T%26,k=(T-_)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(_!==0&&k++,this.length=Math.min(k,this.length),_!==0){var j=67108863^67108863>>>_<<_;this.words[this.length-1]&=j}return this._strip()},l.prototype.maskn=function(T){return this.clone().imaskn(T)},l.prototype.iaddn=function(T){return c(typeof T=="number"),c(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<=T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},l.prototype._iaddn=function(T){this.words[0]+=T;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(T){if(c(typeof T=="number"),c(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(T){return this.clone().iaddn(T)},l.prototype.subn=function(T){return this.clone().isubn(T)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(T,_,k){var j,N,R=T.length+k;this._expand(R);var O=0;for(j=0;j<T.length;j++){N=(0|this.words[j+k])+O;var $=(0|T.words[j])*_;O=((N-=67108863&$)>>26)-($/67108864|0),this.words[j+k]=67108863&N}for(;j<this.length-k;j++)O=(N=(0|this.words[j+k])+O)>>26,this.words[j+k]=67108863&N;if(O===0)return this._strip();for(c(O===-1),O=0,j=0;j<this.length;j++)O=(N=-(0|this.words[j])+O)>>26,this.words[j]=67108863&N;return this.negative=1,this._strip()},l.prototype._wordDiv=function(T,_){var k=(this.length,T.length),j=this.clone(),N=T,R=0|N.words[N.length-1];(k=26-this._countBits(R))!==0&&(N=N.ushln(k),j.iushln(k),R=0|N.words[N.length-1]);var O,$=j.length-N.length;if(_!=="mod"){(O=new l(null)).length=$+1,O.words=new Array(O.length);for(var X=0;X<O.length;X++)O.words[X]=0}var Y=j.clone()._ishlnsubmul(N,1,$);Y.negative===0&&(j=Y,O&&(O.words[$]=1));for(var re=$-1;re>=0;re--){var F=67108864*(0|j.words[N.length+re])+(0|j.words[N.length+re-1]);for(F=Math.min(F/R|0,67108863),j._ishlnsubmul(N,F,re);j.negative!==0;)F--,j.negative=0,j._ishlnsubmul(N,1,re),j.isZero()||(j.negative^=1);O&&(O.words[re]=F)}return O&&O._strip(),j._strip(),_!=="div"&&k!==0&&j.iushrn(k),{div:O||null,mod:j}},l.prototype.divmod=function(T,_,k){return c(!T.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&T.negative===0?(R=this.neg().divmod(T,_),_!=="mod"&&(j=R.div.neg()),_!=="div"&&(N=R.mod.neg(),k&&N.negative!==0&&N.iadd(T)),{div:j,mod:N}):this.negative===0&&T.negative!==0?(R=this.divmod(T.neg(),_),_!=="mod"&&(j=R.div.neg()),{div:j,mod:R.mod}):(this.negative&T.negative)!=0?(R=this.neg().divmod(T.neg(),_),_!=="div"&&(N=R.mod.neg(),k&&N.negative!==0&&N.isub(T)),{div:R.div,mod:N}):T.length>this.length||this.cmp(T)<0?{div:new l(0),mod:this}:T.length===1?_==="div"?{div:this.divn(T.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new l(this.modrn(T.words[0]))}:this._wordDiv(T,_);var j,N,R},l.prototype.div=function(T){return this.divmod(T,"div",!1).div},l.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},l.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},l.prototype.divRound=function(T){var _=this.divmod(T);if(_.mod.isZero())return _.div;var k=_.div.negative!==0?_.mod.isub(T):_.mod,j=T.ushrn(1),N=T.andln(1),R=k.cmp(j);return R<0||N===1&&R===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(T){var _=T<0;_&&(T=-T),c(T<=67108863);for(var k=(1<<26)%T,j=0,N=this.length-1;N>=0;N--)j=(k*j+(0|this.words[N]))%T;return _?-j:j},l.prototype.modn=function(T){return this.modrn(T)},l.prototype.idivn=function(T){var _=T<0;_&&(T=-T),c(T<=67108863);for(var k=0,j=this.length-1;j>=0;j--){var N=(0|this.words[j])+67108864*k;this.words[j]=N/T|0,k=N%T}return this._strip(),_?this.ineg():this},l.prototype.divn=function(T){return this.clone().idivn(T)},l.prototype.egcd=function(T){c(T.negative===0),c(!T.isZero());var _=this,k=T.clone();_=_.negative!==0?_.umod(T):_.clone();for(var j=new l(1),N=new l(0),R=new l(0),O=new l(1),$=0;_.isEven()&&k.isEven();)_.iushrn(1),k.iushrn(1),++$;for(var X=k.clone(),Y=_.clone();!_.isZero();){for(var re=0,F=1;(_.words[0]&F)==0&&re<26;++re,F<<=1);if(re>0)for(_.iushrn(re);re-- >0;)(j.isOdd()||N.isOdd())&&(j.iadd(X),N.isub(Y)),j.iushrn(1),N.iushrn(1);for(var Z=0,V=1;(k.words[0]&V)==0&&Z<26;++Z,V<<=1);if(Z>0)for(k.iushrn(Z);Z-- >0;)(R.isOdd()||O.isOdd())&&(R.iadd(X),O.isub(Y)),R.iushrn(1),O.iushrn(1);_.cmp(k)>=0?(_.isub(k),j.isub(R),N.isub(O)):(k.isub(_),R.isub(j),O.isub(N))}return{a:R,b:O,gcd:k.iushln($)}},l.prototype._invmp=function(T){c(T.negative===0),c(!T.isZero());var _=this,k=T.clone();_=_.negative!==0?_.umod(T):_.clone();for(var j,N=new l(1),R=new l(0),O=k.clone();_.cmpn(1)>0&&k.cmpn(1)>0;){for(var $=0,X=1;(_.words[0]&X)==0&&$<26;++$,X<<=1);if($>0)for(_.iushrn($);$-- >0;)N.isOdd()&&N.iadd(O),N.iushrn(1);for(var Y=0,re=1;(k.words[0]&re)==0&&Y<26;++Y,re<<=1);if(Y>0)for(k.iushrn(Y);Y-- >0;)R.isOdd()&&R.iadd(O),R.iushrn(1);_.cmp(k)>=0?(_.isub(k),N.isub(R)):(k.isub(_),R.isub(N))}return(j=_.cmpn(1)===0?N:R).cmpn(0)<0&&j.iadd(T),j},l.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var _=this.clone(),k=T.clone();_.negative=0,k.negative=0;for(var j=0;_.isEven()&&k.isEven();j++)_.iushrn(1),k.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;k.isEven();)k.iushrn(1);var N=_.cmp(k);if(N<0){var R=_;_=k,k=R}else if(N===0||k.cmpn(1)===0)break;_.isub(k)}return k.iushln(j)},l.prototype.invm=function(T){return this.egcd(T).a.umod(T)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(T){return this.words[0]&T},l.prototype.bincn=function(T){c(typeof T=="number");var _=T%26,k=(T-_)/26,j=1<<_;if(this.length<=k)return this._expand(k+1),this.words[k]|=j,this;for(var N=j,R=k;N!==0&&R<this.length;R++){var O=0|this.words[R];N=(O+=N)>>>26,O&=67108863,this.words[R]=O}return N!==0&&(this.words[R]=N,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(T){var _,k=T<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)_=1;else{k&&(T=-T),c(T<=67108863,"Number is too big");var j=0|this.words[0];_=j===T?0:j<T?-1:1}return this.negative!==0?0|-_:_},l.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var _=this.ucmp(T);return this.negative!==0?0|-_:_},l.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var _=0,k=this.length-1;k>=0;k--){var j=0|this.words[k],N=0|T.words[k];if(j!==N){j<N?_=-1:j>N&&(_=1);break}}return _},l.prototype.gtn=function(T){return this.cmpn(T)===1},l.prototype.gt=function(T){return this.cmp(T)===1},l.prototype.gten=function(T){return this.cmpn(T)>=0},l.prototype.gte=function(T){return this.cmp(T)>=0},l.prototype.ltn=function(T){return this.cmpn(T)===-1},l.prototype.lt=function(T){return this.cmp(T)===-1},l.prototype.lten=function(T){return this.cmpn(T)<=0},l.prototype.lte=function(T){return this.cmp(T)<=0},l.prototype.eqn=function(T){return this.cmpn(T)===0},l.prototype.eq=function(T){return this.cmp(T)===0},l.red=function(T){return new P(T)},l.prototype.toRed=function(T){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(T){return this.red=T,this},l.prototype.forceRed=function(T){return c(!this.red,"Already a number in reduction context"),this._forceRed(T)},l.prototype.redAdd=function(T){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},l.prototype.redIAdd=function(T){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},l.prototype.redSub=function(T){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},l.prototype.redISub=function(T){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},l.prototype.redShl=function(T){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},l.prototype.redMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},l.prototype.redIMul=function(T){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(T){return c(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var q={k256:null,p224:null,p192:null,p25519:null};function D(T,_){this.name=T,this.p=new l(_,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function K(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(T){if(typeof T=="string"){var _=l._prime(T);this.m=_.p,this.prime=_}else c(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function L(T){P.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var T=new l(null);return T.words=new Array(Math.ceil(this.n/13)),T},D.prototype.ireduce=function(T){var _,k=T;do this.split(k,this.tmp),_=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(_>this.n);var j=_<this.n?-1:k.ucmp(this.p);return j===0?(k.words[0]=0,k.length=1):j>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},D.prototype.split=function(T,_){T.iushrn(this.n,0,_)},D.prototype.imulK=function(T){return T.imul(this.k)},u(I,D),I.prototype.split=function(T,_){for(var k=Math.min(T.length,9),j=0;j<k;j++)_.words[j]=T.words[j];if(_.length=k,T.length<=9)return T.words[0]=0,void(T.length=1);var N=T.words[9];for(_.words[_.length++]=4194303&N,j=10;j<T.length;j++){var R=0|T.words[j];T.words[j-10]=(4194303&R)<<4|N>>>22,N=R}N>>>=22,T.words[j-10]=N,N===0&&T.length>10?T.length-=10:T.length-=9},I.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var _=0,k=0;k<T.length;k++){var j=0|T.words[k];_+=977*j,T.words[k]=67108863&_,_=64*j+(_/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},u(U,D),u(K,D),u(W,D),W.prototype.imulK=function(T){for(var _=0,k=0;k<T.length;k++){var j=19*(0|T.words[k])+_,N=67108863&j;j>>>=26,T.words[k]=N,_=j}return _!==0&&(T.words[T.length++]=_),T},l._prime=function(T){if(q[T])return q[T];var _;if(T==="k256")_=new I;else if(T==="p224")_=new U;else if(T==="p192")_=new K;else{if(T!=="p25519")throw new Error("Unknown prime "+T);_=new W}return q[T]=_,_},P.prototype._verify1=function(T){c(T.negative===0,"red works only with positives"),c(T.red,"red works only with red numbers")},P.prototype._verify2=function(T,_){c((T.negative|_.negative)==0,"red works only with positives"),c(T.red&&T.red===_.red,"red works only with red numbers")},P.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(g(T,T.umod(this.m)._forceRed(this)),T)},P.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},P.prototype.add=function(T,_){this._verify2(T,_);var k=T.add(_);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},P.prototype.iadd=function(T,_){this._verify2(T,_);var k=T.iadd(_);return k.cmp(this.m)>=0&&k.isub(this.m),k},P.prototype.sub=function(T,_){this._verify2(T,_);var k=T.sub(_);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},P.prototype.isub=function(T,_){this._verify2(T,_);var k=T.isub(_);return k.cmpn(0)<0&&k.iadd(this.m),k},P.prototype.shl=function(T,_){return this._verify1(T),this.imod(T.ushln(_))},P.prototype.imul=function(T,_){return this._verify2(T,_),this.imod(T.imul(_))},P.prototype.mul=function(T,_){return this._verify2(T,_),this.imod(T.mul(_))},P.prototype.isqr=function(T){return this.imul(T,T.clone())},P.prototype.sqr=function(T){return this.mul(T,T)},P.prototype.sqrt=function(T){if(T.isZero())return T.clone();var _=this.m.andln(3);if(c(_%2==1),_===3){var k=this.m.add(new l(1)).iushrn(2);return this.pow(T,k)}for(var j=this.m.subn(1),N=0;!j.isZero()&&j.andln(1)===0;)N++,j.iushrn(1);c(!j.isZero());var R=new l(1).toRed(this),O=R.redNeg(),$=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new l(2*X*X).toRed(this);this.pow(X,$).cmp(O)!==0;)X.redIAdd(O);for(var Y=this.pow(X,j),re=this.pow(T,j.addn(1).iushrn(1)),F=this.pow(T,j),Z=N;F.cmp(R)!==0;){for(var V=F,z=0;V.cmp(R)!==0;z++)V=V.redSqr();c(z<Z);var G=this.pow(Y,new l(1).iushln(Z-z-1));re=re.redMul(G),Y=G.redSqr(),F=F.redMul(Y),Z=z}return re},P.prototype.invm=function(T){var _=T._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},P.prototype.pow=function(T,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return T.clone();var k=new Array(16);k[0]=new l(1).toRed(this),k[1]=T;for(var j=2;j<k.length;j++)k[j]=this.mul(k[j-1],T);var N=k[0],R=0,O=0,$=_.bitLength()%26;for($===0&&($=26),j=_.length-1;j>=0;j--){for(var X=_.words[j],Y=$-1;Y>=0;Y--){var re=X>>Y&1;N!==k[0]&&(N=this.sqr(N)),re!==0||R!==0?(R<<=1,R|=re,(++O===4||j===0&&Y===0)&&(N=this.mul(N,k[R]),O=0,R=0)):O=0}$=26}return N},P.prototype.convertTo=function(T){var _=T.umod(this.m);return _===T?_.clone():_},P.prototype.convertFrom=function(T){var _=T.clone();return _.red=null,_},l.mont=function(T){return new L(T)},u(L,P),L.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},L.prototype.convertFrom=function(T){var _=this.imod(T.mul(this.rinv));return _.red=null,_},L.prototype.imul=function(T,_){if(T.isZero()||_.isZero())return T.words[0]=0,T.length=1,T;var k=T.imul(_),j=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(j).iushrn(this.shift),R=N;return N.cmp(this.m)>=0?R=N.isub(this.m):N.cmpn(0)<0&&(R=N.iadd(this.m)),R._forceRed(this)},L.prototype.mul=function(T,_){if(T.isZero()||_.isZero())return new l(0)._forceRed(this);var k=T.mul(_),j=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=k.isub(j).iushrn(this.shift),R=N;return N.cmp(this.m)>=0?R=N.isub(this.m):N.cmpn(0)<0&&(R=N.iadd(this.m)),R._forceRed(this)},L.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function o(u){this.rand=u}if(n.exports=function(u){return i||(i=new o(null)),i.generate(u)},n.exports.Rand=o,o.prototype.generate=function(u){return this._rand(u)},o.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var l=new Uint8Array(u),d=0;d<l.length;d++)l[d]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(u){return c.randomBytes(u)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(f){i.isBuffer(f)||(f=i.from(f));for(var h=f.length/4|0,g=new Array(h),y=0;y<h;y++)g[y]=f.readUInt32BE(4*y);return g}function c(f){for(;0<f.length;f++)f[0]=0}function u(f,h,g,y,m){for(var v,x,S,C,A=g[0],B=g[1],q=g[2],D=g[3],I=f[0]^h[0],U=f[1]^h[1],K=f[2]^h[2],W=f[3]^h[3],P=4,L=1;L<m;L++)v=A[I>>>24]^B[U>>>16&255]^q[K>>>8&255]^D[255&W]^h[P++],x=A[U>>>24]^B[K>>>16&255]^q[W>>>8&255]^D[255&I]^h[P++],S=A[K>>>24]^B[W>>>16&255]^q[I>>>8&255]^D[255&U]^h[P++],C=A[W>>>24]^B[I>>>16&255]^q[U>>>8&255]^D[255&K]^h[P++],I=v,U=x,K=S,W=C;return v=(y[I>>>24]<<24|y[U>>>16&255]<<16|y[K>>>8&255]<<8|y[255&W])^h[P++],x=(y[U>>>24]<<24|y[K>>>16&255]<<16|y[W>>>8&255]<<8|y[255&I])^h[P++],S=(y[K>>>24]<<24|y[W>>>16&255]<<16|y[I>>>8&255]<<8|y[255&U])^h[P++],C=(y[W>>>24]<<24|y[I>>>16&255]<<16|y[U>>>8&255]<<8|y[255&K])^h[P++],[v>>>=0,x>>>=0,S>>>=0,C>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],d=(function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],y=[],m=[[],[],[],[]],v=[[],[],[],[]],x=0,S=0,C=0;C<256;++C){var A=S^S<<1^S<<2^S<<3^S<<4;A=A>>>8^255&A^99,g[x]=A,y[A]=x;var B=f[x],q=f[B],D=f[q],I=257*f[A]^16843008*A;m[0][x]=I<<24|I>>>8,m[1][x]=I<<16|I>>>16,m[2][x]=I<<8|I>>>24,m[3][x]=I,I=16843009*D^65537*q^257*B^16843008*x,v[0][A]=I<<24|I>>>8,v[1][A]=I<<16|I>>>16,v[2][A]=I<<8|I>>>24,v[3][A]=I,x===0?x=S=1:(x=B^f[f[f[D^B]]],S^=f[f[S]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:v}})();function p(f){this._key=o(f),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,y=4*(g+1),m=[],v=0;v<h;v++)m[v]=f[v];for(v=h;v<y;v++){var x=m[v-1];v%h==0?(x=x<<8|x>>>24,x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x],x^=l[v/h|0]<<24):h>6&&v%h==4&&(x=d.SBOX[x>>>24]<<24|d.SBOX[x>>>16&255]<<16|d.SBOX[x>>>8&255]<<8|d.SBOX[255&x]),m[v]=m[v-h]^x}for(var S=[],C=0;C<y;C++){var A=y-C,B=m[A-(C%4?0:4)];S[C]=C<4||A<=4?B:d.INV_SUB_MIX[0][d.SBOX[B>>>24]]^d.INV_SUB_MIX[1][d.SBOX[B>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[B>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&B]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=S},p.prototype.encryptBlockRaw=function(f){return u(f=o(f),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},p.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},p.prototype.decryptBlock=function(f){var h=(f=o(f))[1];f[1]=f[3],f[3]=h;var g=u(f,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},p.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=e("inherits"),l=e("./ghash"),d=e("buffer-xor"),p=e("./incr32");function f(h,g,y,m){c.call(this);var v=o.alloc(4,0);this._cipher=new i.AES(g);var x=this._cipher.encryptBlock(v);this._ghash=new l(x),y=(function(S,C,A){if(C.length===12)return S._finID=o.concat([C,o.from([0,0,0,1])]),o.concat([C,o.from([0,0,0,2])]);var B=new l(A),q=C.length,D=q%16;B.update(C),D&&(D=16-D,B.update(o.alloc(D,0))),B.update(o.alloc(8,0));var I=8*q,U=o.alloc(8);U.writeUIntBE(I,0,8),B.update(U),S._finID=B.state;var K=o.from(S._finID);return p(K),K})(this,y,x),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}u(f,c),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var v=Math.min(g.length,y.length),x=0;x<v;++x)m+=g[x]^y[x];return m})(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),o=e("./decrypter"),c=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./modes"),u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(y,m,v){l.call(this),this._cache=new h,this._last=void 0,this._cipher=new d.AES(m),this._prev=o.from(v),this._mode=y,this._autopadding=!0}function h(){this.cache=o.allocUnsafe(0)}function g(y,m,v){var x=c[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),x.mode!=="GCM"&&v.length!==x.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==x.key/8)throw new TypeError("invalid key length "+m.length);return x.type==="stream"?new u(x.module,m,v,!0):x.type==="auth"?new i(x.module,m,v,!0):new f(x.module,m,v)}e("inherits")(f,l),f.prototype._update=function(y){var m,v;this._cache.add(y);for(var x=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),x.push(v);return o.concat(x)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var x=-1;++x<v;)if(m[x+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=o.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var v=c[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var x=p(m,!1,v.key,v.iv);return g(y,x.key,x.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),o=e("./authCipher"),c=e("safe-buffer").Buffer,u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function f(m,v,x){l.call(this),this._cache=new g,this._cipher=new d.AES(v),this._prev=c.from(x),this._mode=m,this._autopadding=!0}e("inherits")(f,l),f.prototype._update=function(m){var v,x;this._cache.add(m);for(var S=[];v=this._cache.get();)x=this._mode.encrypt(this,v),S.push(x);return c.concat(S)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function y(m,v,x){var S=i[m.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=c.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);if(typeof x=="string"&&(x=c.from(x)),S.mode!=="GCM"&&x.length!==S.iv)throw new TypeError("invalid iv length "+x.length);return S.type==="stream"?new u(S.module,v,x):S.type==="auth"?new o(S.module,v,x):new f(S.module,v,x)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=c.allocUnsafe(m),x=-1;++x<m;)v.writeUInt8(m,x);return c.concat([this.cache,v])},s.createCipheriv=y,s.createCipher=function(m,v){var x=i[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var S=p(v,!1,x.key,x.iv);return y(m,S.key,S.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,o=i.alloc(16,0);function c(l){var d=i.allocUnsafe(16);return d.writeUInt32BE(l[0]>>>0,0),d.writeUInt32BE(l[1]>>>0,4),d.writeUInt32BE(l[2]>>>0,8),d.writeUInt32BE(l[3]>>>0,12),d}function u(l){this.h=l,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(l){for(var d=-1;++d<l.length;)this.state[d]^=l[d];this._multiply()},u.prototype._multiply=function(){for(var l,d,p,f=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),p=(1&f[3])!=0,d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]=f[0]>>>1,p&&(f[0]=f[0]^225<<24)}this.state=c(h)},u.prototype.update=function(l){var d;for(this.cache=i.concat([this.cache,l]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(l,d){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(c([0,l,0,d])),this.state},n.exports=u},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var o,c=i.length;c--;){if((o=i.readUInt8(c))!==255){o++,i.writeUInt8(o,c);break}i.writeUInt8(0,c)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(o,c){var u=i(c,o._prev);return o._prev=o._cipher.encryptBlock(u),o._prev},s.decrypt=function(o,c){var u=o._prev;o._prev=c;var l=o._cipher.decryptBlock(c);return i(l,u)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("buffer-xor");function c(u,l,d){var p=l.length,f=o(l,u._cache);return u._cache=u._cache.slice(p),u._prev=i.concat([u._prev,d?l:f]),f}s.encrypt=function(u,l,d){for(var p,f=i.allocUnsafe(0);l.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=i.allocUnsafe(0)),!(u._cache.length<=l.length)){f=i.concat([f,c(u,l,d)]);break}p=u._cache.length,f=i.concat([f,c(u,l.slice(0,p),d)]),l=l.slice(p)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(u,l,d){for(var p,f,h=-1,g=0;++h<8;)p=l&1<<7-h?128:0,g+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^p))>>h%8,u._prev=c(u._prev,d?p:f);return g}function c(u,l){var d=u.length,p=-1,f=i.allocUnsafe(u.length);for(u=i.concat([u,i.from([l])]);++p<d;)f[p]=u[p]<<1|u[p+1]>>7;return f}s.encrypt=function(u,l,d){for(var p=l.length,f=i.allocUnsafe(p),h=-1;++h<p;)f[h]=o(u,l[h],d);return f}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(c,u,l){var d=c._cipher.encryptBlock(c._prev)[0]^u;return c._prev=i.concat([c._prev.slice(1),i.from([l?u:d])]),d}s.encrypt=function(c,u,l){for(var d=u.length,p=i.allocUnsafe(d),f=-1;++f<d;)p[f]=o(c,u[f],l);return p}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),o=e("safe-buffer").Buffer,c=e("../incr32");function u(l){var d=l._cipher.encryptBlockRaw(l._prev);return c(l._prev),d}s.encrypt=function(l,d){var p=Math.ceil(d.length/16),f=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*p)]);for(var h=0;h<p;h++){var g=u(l),y=f+16*h;l._cache.writeUInt32BE(g[0],y+0),l._cache.writeUInt32BE(g[1],y+4),l._cache.writeUInt32BE(g[2],y+8),l._cache.writeUInt32BE(g[3],y+12)}var m=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),i(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,o){return i._cipher.encryptBlock(o)},s.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var c in o)o[c].module=i[o[c].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var o=e("buffer-xor");function c(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,l){for(;u._cache.length<l.length;)u._cache=i.concat([u._cache,c(u)]);var d=u._cache.slice(0,l.length);return u._cache=u._cache.slice(l.length),o(l,d)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base");function u(l,d,p,f){c.call(this),this._cipher=new i.AES(d),this._prev=o.from(p),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=l}e("inherits")(u,c),u.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},n.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),o=e("browserify-aes/browser"),c=e("browserify-aes/modes"),u=e("browserify-des/modes"),l=e("evp_bytestokey");function d(f,h,g){if(f=f.toLowerCase(),c[f])return o.createCipheriv(f,h,g);if(u[f])return new i({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function p(f,h,g){if(f=f.toLowerCase(),c[f])return o.createDecipheriv(f,h,g);if(u[f])return new i({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(h,!1,g,y);return d(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=d,s.createDecipher=s.Decipher=function(f,h){var g,y;if(f=f.toLowerCase(),c[f])g=c[f].key,y=c[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");g=8*u[f].key,y=u[f].iv}var m=l(h,!1,g,y);return p(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),o=e("des.js"),c=e("inherits"),u=e("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function d(p){i.call(this);var f,h=p.mode.toLowerCase(),g=l[h];f=p.decrypt?"decrypt":"encrypt";var y=p.key;u.isBuffer(y)||(y=u.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=p.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:y,iv:m,type:f})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=d,c(d,i),d.prototype._update=function(p){return u.from(this._des.update(p))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var o=e("bn.js"),c=e("randombytes");function u(d){var p,f=d.modulus.byteLength();do p=new o(c(f));while(p.cmp(d.modulus)>=0||!p.umod(d.prime1)||!p.umod(d.prime2));return p}function l(d,p){var f=(function(q){var D=u(q);return{blinder:D.toRed(o.mont(q.modulus)).redPow(new o(q.publicExponent)).fromRed(),unblinder:D.invm(q.modulus)}})(p),h=p.modulus.byteLength(),g=new o(d).mul(f.blinder).umod(p.modulus),y=g.toRed(o.mont(p.prime1)),m=g.toRed(o.mont(p.prime2)),v=p.coefficient,x=p.prime1,S=p.prime2,C=y.redPow(p.exponent1).fromRed(),A=m.redPow(p.exponent2).fromRed(),B=C.isub(A).imul(v).umod(x).imul(S);return A.iadd(B).imul(f.unblinder).umod(p.modulus).toArrayLike(i,"be",h)}l.getr=u,n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("create-hash"),c=e("readable-stream"),u=e("inherits"),l=e("./sign"),d=e("./verify"),p=e("./algorithms.json");function f(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function h(m){c.Writable.call(this);var v=p[m];if(!v)throw new Error("Unknown message digest");this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new f(m)}function y(m){return new h(m)}Object.keys(p).forEach((function(m){p[m].id=i.from(p[m].id,"hex"),p[m.toLowerCase()]=p[m]})),u(f,c.Writable),f.prototype._write=function(m,v,x){this._hash.update(m),x()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},f.prototype.sign=function(m,v){this.end();var x=this._hash.digest(),S=l(x,m,this._hashType,this._signType,this._tag);return v?S.toString(v):S},u(h,c.Writable),h.prototype._write=function(m,v,x){this._hash.update(m),x()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=i.from(m,v)),this._hash.update(m),this},h.prototype.verify=function(m,v,x){typeof v=="string"&&(v=i.from(v,x)),this.end();var S=this._hash.digest();return d(v,S,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("create-hmac"),c=e("browserify-rsa"),u=e("elliptic").ec,l=e("bn.js"),d=e("parse-asn1"),p=e("./curves.json");function f(m,v,x,S){if((m=i.from(m.toArray())).length<v.byteLength()){var C=i.alloc(v.byteLength()-m.length);m=i.concat([C,m])}var A=x.length,B=(function(I,U){I=(I=h(I,U)).mod(U);var K=i.from(I.toArray());if(K.length<U.byteLength()){var W=i.alloc(U.byteLength()-K.length);K=i.concat([W,K])}return K})(x,v),q=i.alloc(A);q.fill(1);var D=i.alloc(A);return D=o(S,D).update(q).update(i.from([0])).update(m).update(B).digest(),q=o(S,D).update(q).digest(),{k:D=o(S,D).update(q).update(i.from([1])).update(m).update(B).digest(),v:q=o(S,D).update(q).digest()}}function h(m,v){var x=new l(m),S=(m.length<<3)-v.bitLength();return S>0&&x.ishrn(S),x}function g(m,v,x){var S,C;do{for(S=i.alloc(0);8*S.length<m.bitLength();)v.v=o(x,v.k).update(v.v).digest(),S=i.concat([S,v.v]);C=h(S,m),v.k=o(x,v.k).update(v.v).update(i.from([0])).digest(),v.v=o(x,v.k).update(v.v).digest()}while(C.cmp(m)!==-1);return C}function y(m,v,x,S){return m.toRed(l.mont(x)).redPow(v).fromRed().mod(S)}n.exports=function(m,v,x,S,C){var A=d(v);if(A.curve){if(S!=="ecdsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(I,U){var K=p[U.curve.join(".")];if(!K)throw new Error("unknown curve "+U.curve.join("."));var W=new u(K).keyFromPrivate(U.privateKey).sign(I);return i.from(W.toDER())})(m,A)}if(A.type==="dsa"){if(S!=="dsa")throw new Error("wrong private key type");return(function(I,U,K){for(var W,P=U.params.priv_key,L=U.params.p,T=U.params.q,_=U.params.g,k=new l(0),j=h(I,T).mod(T),N=!1,R=f(P,T,I,K);N===!1;)W=g(T,R,K),k=y(_,W,L,T),(N=W.invm(T).imul(j.add(P.mul(k))).mod(T)).cmpn(0)===0&&(N=!1,k=new l(0));return(function(O,$){O=O.toArray(),$=$.toArray(),128&O[0]&&(O=[0].concat(O)),128&$[0]&&($=[0].concat($));var X=[48,O.length+$.length+4,2,O.length];return X=X.concat(O,[2,$.length],$),i.from(X)})(k,N)})(m,A,x)}if(S!=="rsa"&&S!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([C,m]);for(var B=A.modulus.byteLength(),q=[0,1];m.length+q.length+1<B;)q.push(255);q.push(0);for(var D=-1;++D<m.length;)q.push(m[D]);return c(q,A)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("bn.js"),c=e("elliptic").ec,u=e("parse-asn1"),l=e("./curves.json");function d(p,f){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(p,f,h,g,y){var m=u(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(q,D,I){var U=l[I.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+I.data.algorithm.curve.join("."));var K=new c(U),W=I.data.subjectPrivateKey.data;return K.verify(D,q,W)})(p,f,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(q,D,I){var U=I.data.p,K=I.data.q,W=I.data.g,P=I.data.pub_key,L=u.signature.decode(q,"der"),T=L.s,_=L.r;d(T,K),d(_,K);var k=o.mont(U),j=T.invm(K);return W.toRed(k).redPow(new o(D).mul(j).mod(K)).fromRed().mul(P.toRed(k).redPow(_.mul(j).mod(K)).fromRed()).mod(U).mod(K).cmp(_)===0})(p,f,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([y,f]);for(var v=m.modulus.byteLength(),x=[1],S=0;f.length+x.length+2<v;)x.push(255),S++;x.push(0);for(var C=-1;++C<f.length;)x.push(f[C]);x=i.from(x);var A=o.mont(m.modulus);p=(p=new o(p).toRed(A)).redPow(new o(m.publicExponent)),p=i.from(p.fromRed().toArray());var B=S<8?1:0;for(v=Math.min(p.length,x.length),p.length!==x.length&&(B=1),C=-1;++C<v;)B|=p[C]^x[C];return B===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),o=i.Buffer;function c(l,d){for(var p in l)d[p]=l[p]}function u(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=i:(c(i,s),s.Buffer=u),c(o,u),u.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},u.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,o=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var v;switch(this.encoding=(function(x){var S=(function(C){if(!C)return"utf8";for(var A;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(A)return;C=(""+C).toLowerCase(),A=!0}})(x);if(typeof S!="string"&&(i.isEncoding===o||!o(x)))throw new Error("Unknown encoding: "+x);return S||x})(m),this.encoding){case"utf16le":this.text=d,this.end=p,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=f,this.end=h,v=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function l(m){var v=this.lastTotal-this.lastNeed,x=(function(S,C,A){if((192&C[0])!=128)return S.lastNeed=0,"";if(S.lastNeed>1&&C.length>1){if((192&C[1])!=128)return S.lastNeed=1,"";if(S.lastNeed>2&&C.length>2&&(192&C[2])!=128)return S.lastNeed=2,""}})(this,m);return x!==void 0?x:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function d(m,v){if((m.length-v)%2==0){var x=m.toString("utf16le",v);if(x){var S=x.charCodeAt(x.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function p(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,x)}return v}function f(m,v){var x=(m.length-v)%3;return x===0?m.toString("base64",v):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-x))}function h(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var v,x;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?v?v+this.text(m,x):this.text(m,x):v||""},c.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},c.prototype.text=function(m,v){var x=(function(C,A,B){var q=A.length-1;if(q<B)return 0;var D=u(A[q]);return D>=0?(D>0&&(C.lastNeed=D-1),D):--q<B||D===-2?0:(D=u(A[q]))>=0?(D>0&&(C.lastNeed=D-2),D):--q<B||D===-2?0:(D=u(A[q]))>=0?(D>0&&(D===2?D=0:C.lastNeed=D-3),D):0})(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=x;var S=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,S),m.toString("utf8",v,S)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(o,c){for(var u=Math.min(o.length,c.length),l=new i(u),d=0;d<u;++d)l[d]=o[d]^c[d];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var o=e("base64-js"),c=e("ieee754");s.Buffer=l,s.SlowBuffer=function(V){return+V!=V&&(V=0),l.alloc(+V)},s.INSPECT_MAX_BYTES=50;function u(V){if(V>2147483647)throw new RangeError('The value "'+V+'" is invalid for option "size"');var z=new Uint8Array(V);return z.__proto__=l.prototype,z}function l(V,z,G){if(typeof V=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return d(V,z,G)}function d(V,z,G){if(typeof V=="string")return(function(ue,ge){if(typeof ge=="string"&&ge!==""||(ge="utf8"),!l.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var ee=0|y(ue,ge),oe=u(ee),ne=oe.write(ue,ge);return ne!==ee&&(oe=oe.slice(0,ne)),oe})(V,z);if(ArrayBuffer.isView(V))return h(V);if(V==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(F(V,ArrayBuffer)||V&&F(V.buffer,ArrayBuffer))return(function(ue,ge,ee){if(ge<0||ue.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ge+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=ge===void 0&&ee===void 0?new Uint8Array(ue):ee===void 0?new Uint8Array(ue,ge):new Uint8Array(ue,ge,ee),oe.__proto__=l.prototype,oe})(V,z,G);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=V.valueOf&&V.valueOf();if(ae!=null&&ae!==V)return l.from(ae,z,G);var pe=(function(ue){if(l.isBuffer(ue)){var ge=0|g(ue.length),ee=u(ge);return ee.length===0||ue.copy(ee,0,0,ge),ee}if(ue.length!==void 0)return typeof ue.length!="number"||Z(ue.length)?u(0):h(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return h(ue.data)})(V);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return l.from(V[Symbol.toPrimitive]("string"),z,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function f(V){return p(V),u(V<0?0:0|g(V))}function h(V){for(var z=V.length<0?0:0|g(V.length),G=u(z),ae=0;ae<z;ae+=1)G[ae]=255&V[ae];return G}function g(V){if(V>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|V}function y(V,z){if(l.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||F(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var G=V.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&G===0)return 0;for(var pe=!1;;)switch(z){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return X(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Y(V).length;default:if(pe)return ae?-1:X(V).length;z=(""+z).toLowerCase(),pe=!0}}function m(V,z,G){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(z>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return L(this,z,G);case"utf8":case"utf-8":return K(this,z,G);case"ascii":return W(this,z,G);case"latin1":case"binary":return P(this,z,G);case"base64":return U(this,z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,z,G);default:if(ae)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ae=!0}}function v(V,z,G){var ae=V[z];V[z]=V[G],V[G]=ae}function x(V,z,G,ae,pe){if(V.length===0)return-1;if(typeof G=="string"?(ae=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Z(G=+G)&&(G=pe?0:V.length-1),G<0&&(G=V.length+G),G>=V.length){if(pe)return-1;G=V.length-1}else if(G<0){if(!pe)return-1;G=0}if(typeof z=="string"&&(z=l.from(z,ae)),l.isBuffer(z))return z.length===0?-1:S(V,z,G,ae,pe);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(V,z,G):Uint8Array.prototype.lastIndexOf.call(V,z,G):S(V,[z],G,ae,pe);throw new TypeError("val must be string, number or Buffer")}function S(V,z,G,ae,pe){var ue,ge=1,ee=V.length,oe=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(V.length<2||z.length<2)return-1;ge=2,ee/=2,oe/=2,G/=2}function ne(te,se){return ge===1?te[se]:te.readUInt16BE(se*ge)}if(pe){var fe=-1;for(ue=G;ue<ee;ue++)if(ne(V,ue)===ne(z,fe===-1?0:ue-fe)){if(fe===-1&&(fe=ue),ue-fe+1===oe)return fe*ge}else fe!==-1&&(ue-=ue-fe),fe=-1}else for(G+oe>ee&&(G=ee-oe),ue=G;ue>=0;ue--){for(var ce=!0,ie=0;ie<oe;ie++)if(ne(V,ue+ie)!==ne(z,ie)){ce=!1;break}if(ce)return ue}return-1}function C(V,z,G,ae){G=Number(G)||0;var pe=V.length-G;ae?(ae=Number(ae))>pe&&(ae=pe):ae=pe;var ue=z.length;ae>ue/2&&(ae=ue/2);for(var ge=0;ge<ae;++ge){var ee=parseInt(z.substr(2*ge,2),16);if(Z(ee))return ge;V[G+ge]=ee}return ge}function A(V,z,G,ae){return re(X(z,V.length-G),V,G,ae)}function B(V,z,G,ae){return re((function(pe){for(var ue=[],ge=0;ge<pe.length;++ge)ue.push(255&pe.charCodeAt(ge));return ue})(z),V,G,ae)}function q(V,z,G,ae){return B(V,z,G,ae)}function D(V,z,G,ae){return re(Y(z),V,G,ae)}function I(V,z,G,ae){return re((function(pe,ue){for(var ge,ee,oe,ne=[],fe=0;fe<pe.length&&!((ue-=2)<0);++fe)ge=pe.charCodeAt(fe),ee=ge>>8,oe=ge%256,ne.push(oe),ne.push(ee);return ne})(z,V.length-G),V,G,ae)}function U(V,z,G){return z===0&&G===V.length?o.fromByteArray(V):o.fromByteArray(V.slice(z,G))}function K(V,z,G){G=Math.min(V.length,G);for(var ae=[],pe=z;pe<G;){var ue,ge,ee,oe,ne=V[pe],fe=null,ce=ne>239?4:ne>223?3:ne>191?2:1;if(pe+ce<=G)switch(ce){case 1:ne<128&&(fe=ne);break;case 2:(192&(ue=V[pe+1]))==128&&(oe=(31&ne)<<6|63&ue)>127&&(fe=oe);break;case 3:ue=V[pe+1],ge=V[pe+2],(192&ue)==128&&(192&ge)==128&&(oe=(15&ne)<<12|(63&ue)<<6|63&ge)>2047&&(oe<55296||oe>57343)&&(fe=oe);break;case 4:ue=V[pe+1],ge=V[pe+2],ee=V[pe+3],(192&ue)==128&&(192&ge)==128&&(192&ee)==128&&(oe=(15&ne)<<18|(63&ue)<<12|(63&ge)<<6|63&ee)>65535&&oe<1114112&&(fe=oe)}fe===null?(fe=65533,ce=1):fe>65535&&(fe-=65536,ae.push(fe>>>10&1023|55296),fe=56320|1023&fe),ae.push(fe),pe+=ce}return(function(ie){var te=ie.length;if(te<=4096)return String.fromCharCode.apply(String,ie);for(var se="",de=0;de<te;)se+=String.fromCharCode.apply(String,ie.slice(de,de+=4096));return se})(ae)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=(function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42}catch{return!1}})(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(V,z,G){return d(V,z,G)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(V,z,G){return(function(ae,pe,ue){return p(ae),ae<=0?u(ae):pe!==void 0?typeof ue=="string"?u(ae).fill(pe,ue):u(ae).fill(pe):u(ae)})(V,z,G)},l.allocUnsafe=function(V){return f(V)},l.allocUnsafeSlow=function(V){return f(V)},l.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==l.prototype},l.compare=function(V,z){if(F(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),F(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer(V)||!l.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===z)return 0;for(var G=V.length,ae=z.length,pe=0,ue=Math.min(G,ae);pe<ue;++pe)if(V[pe]!==z[pe]){G=V[pe],ae=z[pe];break}return G<ae?-1:ae<G?1:0},l.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(V,z){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return l.alloc(0);var G;if(z===void 0)for(z=0,G=0;G<V.length;++G)z+=V[G].length;var ae=l.allocUnsafe(z),pe=0;for(G=0;G<V.length;++G){var ue=V[G];if(F(ue,Uint8Array)&&(ue=l.from(ue)),!l.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ae,pe),pe+=ue.length}return ae},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<V;z+=2)v(this,z,z+1);return this},l.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<V;z+=4)v(this,z,z+3),v(this,z+1,z+2);return this},l.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<V;z+=8)v(this,z,z+7),v(this,z+1,z+6),v(this,z+2,z+5),v(this,z+3,z+4);return this},l.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?K(this,0,V):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(V){if(!l.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||l.compare(this,V)===0},l.prototype.inspect=function(){var V="",z=s.INSPECT_MAX_BYTES;return V=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(V+=" ... "),"<Buffer "+V+">"},l.prototype.compare=function(V,z,G,ae,pe){if(F(V,Uint8Array)&&(V=l.from(V,V.offset,V.byteLength)),!l.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(z===void 0&&(z=0),G===void 0&&(G=V?V.length:0),ae===void 0&&(ae=0),pe===void 0&&(pe=this.length),z<0||G>V.length||ae<0||pe>this.length)throw new RangeError("out of range index");if(ae>=pe&&z>=G)return 0;if(ae>=pe)return-1;if(z>=G)return 1;if(this===V)return 0;for(var ue=(pe>>>=0)-(ae>>>=0),ge=(G>>>=0)-(z>>>=0),ee=Math.min(ue,ge),oe=this.slice(ae,pe),ne=V.slice(z,G),fe=0;fe<ee;++fe)if(oe[fe]!==ne[fe]){ue=oe[fe],ge=ne[fe];break}return ue<ge?-1:ge<ue?1:0},l.prototype.includes=function(V,z,G){return this.indexOf(V,z,G)!==-1},l.prototype.indexOf=function(V,z,G){return x(this,V,z,G,!0)},l.prototype.lastIndexOf=function(V,z,G){return x(this,V,z,G,!1)},l.prototype.write=function(V,z,G,ae){if(z===void 0)ae="utf8",G=this.length,z=0;else if(G===void 0&&typeof z=="string")ae=z,G=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(G)?(G>>>=0,ae===void 0&&(ae="utf8")):(ae=G,G=void 0)}var pe=this.length-z;if((G===void 0||G>pe)&&(G=pe),V.length>0&&(G<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var ue=!1;;)switch(ae){case"hex":return C(this,V,z,G);case"utf8":case"utf-8":return A(this,V,z,G);case"ascii":return B(this,V,z,G);case"latin1":case"binary":return q(this,V,z,G);case"base64":return D(this,V,z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,V,z,G);default:if(ue)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(V,z,G){var ae="";G=Math.min(V.length,G);for(var pe=z;pe<G;++pe)ae+=String.fromCharCode(127&V[pe]);return ae}function P(V,z,G){var ae="";G=Math.min(V.length,G);for(var pe=z;pe<G;++pe)ae+=String.fromCharCode(V[pe]);return ae}function L(V,z,G){var ae=V.length;(!z||z<0)&&(z=0),(!G||G<0||G>ae)&&(G=ae);for(var pe="",ue=z;ue<G;++ue)pe+=$(V[ue]);return pe}function T(V,z,G){for(var ae=V.slice(z,G),pe="",ue=0;ue<ae.length;ue+=2)pe+=String.fromCharCode(ae[ue]+256*ae[ue+1]);return pe}function _(V,z,G){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+z>G)throw new RangeError("Trying to access beyond buffer length")}function k(V,z,G,ae,pe,ue){if(!l.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>pe||z<ue)throw new RangeError('"value" argument is out of bounds');if(G+ae>V.length)throw new RangeError("Index out of range")}function j(V,z,G,ae,pe,ue){if(G+ae>V.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function N(V,z,G,ae,pe){return z=+z,G>>>=0,pe||j(V,0,G,4),c.write(V,z,G,ae,23,4),G+4}function R(V,z,G,ae,pe){return z=+z,G>>>=0,pe||j(V,0,G,8),c.write(V,z,G,ae,52,8),G+8}l.prototype.slice=function(V,z){var G=this.length;(V=~~V)<0?(V+=G)<0&&(V=0):V>G&&(V=G),(z=z===void 0?G:~~z)<0?(z+=G)<0&&(z=0):z>G&&(z=G),z<V&&(z=V);var ae=this.subarray(V,z);return ae.__proto__=l.prototype,ae},l.prototype.readUIntLE=function(V,z,G){V>>>=0,z>>>=0,G||_(V,z,this.length);for(var ae=this[V],pe=1,ue=0;++ue<z&&(pe*=256);)ae+=this[V+ue]*pe;return ae},l.prototype.readUIntBE=function(V,z,G){V>>>=0,z>>>=0,G||_(V,z,this.length);for(var ae=this[V+--z],pe=1;z>0&&(pe*=256);)ae+=this[V+--z]*pe;return ae},l.prototype.readUInt8=function(V,z){return V>>>=0,z||_(V,1,this.length),this[V]},l.prototype.readUInt16LE=function(V,z){return V>>>=0,z||_(V,2,this.length),this[V]|this[V+1]<<8},l.prototype.readUInt16BE=function(V,z){return V>>>=0,z||_(V,2,this.length),this[V]<<8|this[V+1]},l.prototype.readUInt32LE=function(V,z){return V>>>=0,z||_(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},l.prototype.readUInt32BE=function(V,z){return V>>>=0,z||_(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},l.prototype.readIntLE=function(V,z,G){V>>>=0,z>>>=0,G||_(V,z,this.length);for(var ae=this[V],pe=1,ue=0;++ue<z&&(pe*=256);)ae+=this[V+ue]*pe;return ae>=(pe*=128)&&(ae-=Math.pow(2,8*z)),ae},l.prototype.readIntBE=function(V,z,G){V>>>=0,z>>>=0,G||_(V,z,this.length);for(var ae=z,pe=1,ue=this[V+--ae];ae>0&&(pe*=256);)ue+=this[V+--ae]*pe;return ue>=(pe*=128)&&(ue-=Math.pow(2,8*z)),ue},l.prototype.readInt8=function(V,z){return V>>>=0,z||_(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},l.prototype.readInt16LE=function(V,z){V>>>=0,z||_(V,2,this.length);var G=this[V]|this[V+1]<<8;return 32768&G?4294901760|G:G},l.prototype.readInt16BE=function(V,z){V>>>=0,z||_(V,2,this.length);var G=this[V+1]|this[V]<<8;return 32768&G?4294901760|G:G},l.prototype.readInt32LE=function(V,z){return V>>>=0,z||_(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},l.prototype.readInt32BE=function(V,z){return V>>>=0,z||_(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},l.prototype.readFloatLE=function(V,z){return V>>>=0,z||_(V,4,this.length),c.read(this,V,!0,23,4)},l.prototype.readFloatBE=function(V,z){return V>>>=0,z||_(V,4,this.length),c.read(this,V,!1,23,4)},l.prototype.readDoubleLE=function(V,z){return V>>>=0,z||_(V,8,this.length),c.read(this,V,!0,52,8)},l.prototype.readDoubleBE=function(V,z){return V>>>=0,z||_(V,8,this.length),c.read(this,V,!1,52,8)},l.prototype.writeUIntLE=function(V,z,G,ae){V=+V,z>>>=0,G>>>=0,ae||k(this,V,z,G,Math.pow(2,8*G)-1,0);var pe=1,ue=0;for(this[z]=255&V;++ue<G&&(pe*=256);)this[z+ue]=V/pe&255;return z+G},l.prototype.writeUIntBE=function(V,z,G,ae){V=+V,z>>>=0,G>>>=0,ae||k(this,V,z,G,Math.pow(2,8*G)-1,0);var pe=G-1,ue=1;for(this[z+pe]=255&V;--pe>=0&&(ue*=256);)this[z+pe]=V/ue&255;return z+G},l.prototype.writeUInt8=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,1,255,0),this[z]=255&V,z+1},l.prototype.writeUInt16LE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,2,65535,0),this[z]=255&V,this[z+1]=V>>>8,z+2},l.prototype.writeUInt16BE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,2,65535,0),this[z]=V>>>8,this[z+1]=255&V,z+2},l.prototype.writeUInt32LE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,4,4294967295,0),this[z+3]=V>>>24,this[z+2]=V>>>16,this[z+1]=V>>>8,this[z]=255&V,z+4},l.prototype.writeUInt32BE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,4,4294967295,0),this[z]=V>>>24,this[z+1]=V>>>16,this[z+2]=V>>>8,this[z+3]=255&V,z+4},l.prototype.writeIntLE=function(V,z,G,ae){if(V=+V,z>>>=0,!ae){var pe=Math.pow(2,8*G-1);k(this,V,z,G,pe-1,-pe)}var ue=0,ge=1,ee=0;for(this[z]=255&V;++ue<G&&(ge*=256);)V<0&&ee===0&&this[z+ue-1]!==0&&(ee=1),this[z+ue]=(V/ge>>0)-ee&255;return z+G},l.prototype.writeIntBE=function(V,z,G,ae){if(V=+V,z>>>=0,!ae){var pe=Math.pow(2,8*G-1);k(this,V,z,G,pe-1,-pe)}var ue=G-1,ge=1,ee=0;for(this[z+ue]=255&V;--ue>=0&&(ge*=256);)V<0&&ee===0&&this[z+ue+1]!==0&&(ee=1),this[z+ue]=(V/ge>>0)-ee&255;return z+G},l.prototype.writeInt8=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,1,127,-128),V<0&&(V=255+V+1),this[z]=255&V,z+1},l.prototype.writeInt16LE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,2,32767,-32768),this[z]=255&V,this[z+1]=V>>>8,z+2},l.prototype.writeInt16BE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,2,32767,-32768),this[z]=V>>>8,this[z+1]=255&V,z+2},l.prototype.writeInt32LE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,4,2147483647,-2147483648),this[z]=255&V,this[z+1]=V>>>8,this[z+2]=V>>>16,this[z+3]=V>>>24,z+4},l.prototype.writeInt32BE=function(V,z,G){return V=+V,z>>>=0,G||k(this,V,z,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[z]=V>>>24,this[z+1]=V>>>16,this[z+2]=V>>>8,this[z+3]=255&V,z+4},l.prototype.writeFloatLE=function(V,z,G){return N(this,V,z,!0,G)},l.prototype.writeFloatBE=function(V,z,G){return N(this,V,z,!1,G)},l.prototype.writeDoubleLE=function(V,z,G){return R(this,V,z,!0,G)},l.prototype.writeDoubleBE=function(V,z,G){return R(this,V,z,!1,G)},l.prototype.copy=function(V,z,G,ae){if(!l.isBuffer(V))throw new TypeError("argument should be a Buffer");if(G||(G=0),ae||ae===0||(ae=this.length),z>=V.length&&(z=V.length),z||(z=0),ae>0&&ae<G&&(ae=G),ae===G||V.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),V.length-z<ae-G&&(ae=V.length-z+G);var pe=ae-G;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,G,ae);else if(this===V&&G<z&&z<ae)for(var ue=pe-1;ue>=0;--ue)V[ue+z]=this[ue+G];else Uint8Array.prototype.set.call(V,this.subarray(G,ae),z);return pe},l.prototype.fill=function(V,z,G,ae){if(typeof V=="string"){if(typeof z=="string"?(ae=z,z=0,G=this.length):typeof G=="string"&&(ae=G,G=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!l.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(V.length===1){var pe=V.charCodeAt(0);(ae==="utf8"&&pe<128||ae==="latin1")&&(V=pe)}}else typeof V=="number"&&(V&=255);if(z<0||this.length<z||this.length<G)throw new RangeError("Out of range index");if(G<=z)return this;var ue;if(z>>>=0,G=G===void 0?this.length:G>>>0,V||(V=0),typeof V=="number")for(ue=z;ue<G;++ue)this[ue]=V;else{var ge=l.isBuffer(V)?V:l.from(V,ae),ee=ge.length;if(ee===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ue=0;ue<G-z;++ue)this[ue+z]=ge[ue%ee]}return this};var O=/[^+/0-9A-Za-z-_]/g;function $(V){return V<16?"0"+V.toString(16):V.toString(16)}function X(V,z){var G;z=z||1/0;for(var ae=V.length,pe=null,ue=[],ge=0;ge<ae;++ge){if((G=V.charCodeAt(ge))>55295&&G<57344){if(!pe){if(G>56319){(z-=3)>-1&&ue.push(239,191,189);continue}if(ge+1===ae){(z-=3)>-1&&ue.push(239,191,189);continue}pe=G;continue}if(G<56320){(z-=3)>-1&&ue.push(239,191,189),pe=G;continue}G=65536+(pe-55296<<10|G-56320)}else pe&&(z-=3)>-1&&ue.push(239,191,189);if(pe=null,G<128){if((z-=1)<0)break;ue.push(G)}else if(G<2048){if((z-=2)<0)break;ue.push(G>>6|192,63&G|128)}else if(G<65536){if((z-=3)<0)break;ue.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ue.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return ue}function Y(V){return o.toByteArray((function(z){if((z=(z=z.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z})(V))}function re(V,z,G,ae){for(var pe=0;pe<ae&&!(pe+G>=z.length||pe>=V.length);++pe)z[pe+G]=V[pe];return pe}function F(V,z){return V instanceof z||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===z.name}function Z(V){return V!=V}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("stream").Transform,c=e("string_decoder").StringDecoder;function u(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(u,o),u.prototype.update=function(l,d,p){typeof l=="string"&&(l=i.from(l,d));var f=this._update(l);return this.hashMode?this:(p&&(f=this._toString(f,p)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(l,d,p){var f;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(h){f=h}finally{p(f)}},u.prototype._flush=function(l){var d;try{this.push(this.__final())}catch(p){d=p}l(d)},u.prototype._finalOrDigest=function(l){var d=this.__final()||i.alloc(0);return l&&(d=this._toString(d,l,!0)),d},u.prototype._toString=function(l,d,p){if(this._decoder||(this._decoder=new c(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var f=this._decoder.write(l);return p&&(f+=this._decoder.end()),f},n.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(i(u))return u;throw new c(o(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),o=e("../internals/try-to-string"),c=TypeError;n.exports=function(u){if(i(u))return u;throw new c(o(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),o=String,c=TypeError;n.exports=function(u){if(typeof u=="object"||i(u))return u;throw new c("Can't set "+o(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),o=e("../internals/object-create"),c=e("../internals/object-define-property").f,u=i("unscopables"),l=Array.prototype;l[u]===void 0&&c(l,u,{configurable:!0,value:o(null)}),n.exports=function(d){l[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(c,u){if(i(u,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),o=String,c=TypeError;n.exports=function(u){if(i(u))return u;throw new c(o(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),u=function(l){return function(d,p,f){var h,g=i(d),y=c(g),m=o(f,y);if(l&&p!=p){for(;y>m;)if((h=g[m++])!=h)return!0}else for(;y>m;m++)if((l||m in g)&&g[m]===p)return l||m||0;return!l&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),u=e("../internals/to-object"),l=e("../internals/length-of-array-like"),d=e("../internals/array-species-create"),p=o([].push),f=function(h){var g=h===1,y=h===2,m=h===3,v=h===4,x=h===6,S=h===7,C=h===5||x;return function(A,B,q,D){for(var I,U,K=u(A),W=c(K),P=i(B,q),L=l(W),T=0,_=D||d,k=g?_(A,L):y||S?_(A,0):void 0;L>T;T++)if((C||T in W)&&(U=P(I=W[T],T,K),h))if(g)k[T]=U;else if(U)switch(h){case 3:return!0;case 5:return I;case 6:return T;case 2:p(k,I)}else switch(h){case 4:return!1;case 7:p(k,I)}return x?-1:m||v?v:k}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=e("../internals/create-property"),u=Array,l=Math.max;n.exports=function(d,p,f){for(var h=o(d),g=i(p,h),y=i(f===void 0?h:f,h),m=u(l(y-g,0)),v=0;g<y;g++,v++)c(m,v,d[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),o=e("../internals/is-constructor"),c=e("../internals/is-object"),u=e("../internals/well-known-symbol")("species"),l=Array;n.exports=function(d){var p;return i(d)&&(p=d.constructor,(o(p)&&(p===l||i(p.prototype))||c(p)&&(p=p[u])===null)&&(p=void 0)),p===void 0?l:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(o,c){return new(i(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){o=!0}};u[i]=function(){return this},Array.from(u,(function(){throw 2}))}catch{}n.exports=function(l,d){try{if(!d&&!o)return!1}catch{return!1}var p=!1;try{var f={};f[i]=function(){return{next:function(){return{done:p=!0}}}},l(f)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=i({}.toString),c=i("".slice);n.exports=function(u){return c(o(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("toStringTag"),l=Object,d=c((function(){return arguments})())==="Arguments";n.exports=i?c:function(p){var f,h,g;return p===void 0?"Undefined":p===null?"Null":typeof(h=(function(y,m){try{return y[m]}catch{}})(f=l(p),u))=="string"?h:d?c(f):(g=c(f))==="Object"&&o(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),o=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-define-property");n.exports=function(l,d,p){for(var f=o(d),h=u.f,g=c.f,y=0;y<f.length;y++){var m=f[y];i(l,m)||p&&i(p,m)||h(l,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[i]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=i?function(u,l,d){return o.f(u,l,c(1,d))}:function(u,l,d){return u[l]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(u,l,d){var p=i(l);p in u?o.f(u,p,c(0,d)):u[p]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),o=e("../internals/object-define-property");n.exports=function(c,u,l){return l.get&&i(l.get,u,{getter:!0}),l.set&&i(l.set,u,{setter:!0}),o.f(c,u,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/object-define-property"),c=e("../internals/make-built-in"),u=e("../internals/define-global-property");n.exports=function(l,d,p,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:d;if(i(p)&&c(p,g,f),f.global)h?l[d]=p:u(d,p);else{try{f.unsafe?l[d]&&(h=!0):delete l[d]}catch{}h?l[d]=p:o.f(l,d,{value:p,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),o=Object.defineProperty;n.exports=function(c,u){try{o(i,c,{value:u,configurable:!0,writable:!0})}catch{i[c]=u}return u}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-object"),c=i.document,u=o(c)&&o(c.createElement);n.exports=function(l){return u?c.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");n.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/classof-raw");n.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,o,c=e("../internals/global"),u=e("../internals/engine-user-agent"),l=c.process,d=c.Deno,p=l&&l.versions||d&&d.version,f=p&&p.v8;f&&(o=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(o=+i[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),u=e("../internals/define-built-in"),l=e("../internals/define-global-property"),d=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(f,h){var g,y,m,v,x,S=f.target,C=f.global,A=f.stat;if(g=C?i:A?i[S]||l(S,{}):(i[S]||{}).prototype)for(y in h){if(v=h[y],m=f.dontCallGetSet?(x=o(g,y))&&x.value:g[y],!p(C?y:S+(A?".":"#")+y,f.forced)&&m!==void 0){if(typeof v==typeof m)continue;d(v,m)}(f.sham||m&&m.sham)&&c(v,"sham",!0),u(g,y,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype,c=o.apply,u=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?u.bind(c):function(){return u.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),c=e("../internals/function-bind-native"),u=i(i.bind);n.exports=function(l,d){return o(l),d===void 0?l:c?u(l,d):function(){return l.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype.call;n.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/has-own-property"),c=Function.prototype,u=i&&Object.getOwnPropertyDescriptor,l=o(c,"name"),d=l&&function(){}.name==="something",p=l&&(!i||i&&u(c,"name").configurable);n.exports={EXISTS:l,PROPER:d,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");n.exports=function(c,u,l){try{return i(o(Object.getOwnPropertyDescriptor(c,u)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");n.exports=function(c){if(i(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype,c=o.call,u=i&&o.bind.bind(c,c);n.exports=i?u:function(l){return function(){return c.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-callable"),c=function(u){return o(u)?u:void 0};n.exports=function(u,l){return arguments.length<2?c(i[u]):i[u]&&i[u][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),o=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),u=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");n.exports=function(d){if(!c(d))return o(d,l)||o(d,"@@iterator")||u[i(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),d=TypeError;n.exports=function(p,f){var h=arguments.length<2?l(p):f;if(o(h))return c(i(h,p));throw new d(u(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),c=e("../internals/is-callable"),u=e("../internals/classof-raw"),l=e("../internals/to-string"),d=i([].push);n.exports=function(p){if(c(p))return p;if(o(p)){for(var f=p.length,h=[],g=0;g<f;g++){var y=p[g];typeof y=="string"?d(h,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||d(h,l(y))}var m=h.length,v=!0;return function(x,S){if(v)return v=!1,S;if(o(this))return S;for(var C=0;C<m;C++)if(h[C]===x)return S}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");n.exports=function(c,u){var l=c[u];return o(l)?void 0:i(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var o=function(c){return c&&c.Math===Math&&c};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),c=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(u,l){return c(o(u),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!i&&!o((function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/classof-raw"),u=Object,l=i("".split);n.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(d){return c(d)==="String"?l(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),c=e("../internals/shared-store"),u=i(Function.toString);o(c.inspectSource)||(c.inspectSource=function(l){return u(l)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,o,c,u=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),d=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),y=e("../internals/hidden-keys"),m=l.TypeError,v=l.WeakMap;if(u||h.state){var x=h.state||(h.state=new v);x.get=x.get,x.has=x.has,x.set=x.set,i=function(C,A){if(x.has(C))throw new m("Object already initialized");return A.facade=C,x.set(C,A),A},o=function(C){return x.get(C)||{}},c=function(C){return x.has(C)}}else{var S=g("state");y[S]=!0,i=function(C,A){if(f(C,S))throw new m("Object already initialized");return A.facade=C,p(C,S,A),A},o=function(C){return f(C,S)?C[S]:{}},c=function(C){return f(C,S)}}n.exports={set:i,get:o,has:c,enforce:function(C){return c(C)?o(C):i(C,{})},getterFor:function(C){return function(A){var B;if(!d(A)||(B=o(A)).type!==C)throw new m("Incompatible receiver, "+C+" required");return B}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),o=e("../internals/iterators"),c=i("iterator"),u=Array.prototype;n.exports=function(l){return l!==void 0&&(o.Array===l||u[c]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),o=i.all;n.exports=i.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/classof"),l=e("../internals/get-built-in"),d=e("../internals/inspect-source"),p=function(){},f=[],h=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),m=!g.test(p),v=function(S){if(!c(S))return!1;try{return h(p,f,S),!0}catch{return!1}},x=function(S){if(!c(S))return!1;switch(u(S)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,d(S))}catch{return!0}};x.sham=!0,n.exports=!h||o((function(){var S;return v(v.call)||!v(Object)||!v((function(){S=!0}))||S}))?x:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),o=e("../internals/is-callable"),c=/#|\.prototype\./,u=function(h,g){var y=d[l(h)];return y===f||y!==p&&(o(g)?i(g):!!g)},l=u.normalize=function(h){return String(h).replace(c,".").toLowerCase()},d=u.data={},p=u.NATIVE="N",f=u.POLYFILL="P";n.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/document-all"),c=o.all;n.exports=o.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:i(u)||u===c}:function(u){return typeof u=="object"?u!==null:i(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(u){var l;return i(u)&&((l=u[c])!==void 0?!!l:o(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),u=e("../internals/use-symbol-as-uid"),l=Object;n.exports=u?function(d){return typeof d=="symbol"}:function(d){var p=i("Symbol");return o(p)&&c(p.prototype,l(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),o=e("../internals/function-call"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),d=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),y=TypeError,m=function(x,S){this.stopped=x,this.result=S},v=m.prototype;n.exports=function(x,S,C){var A,B,q,D,I,U,K,W=C&&C.that,P=!(!C||!C.AS_ENTRIES),L=!(!C||!C.IS_RECORD),T=!(!C||!C.IS_ITERATOR),_=!(!C||!C.INTERRUPTED),k=i(S,W),j=function(R){return A&&g(A,"normal",R),new m(!0,R)},N=function(R){return P?(c(R),_?k(R[0],R[1],j):k(R[0],R[1])):_?k(R,j):k(R)};if(L)A=x.iterator;else if(T)A=x;else{if(!(B=h(x)))throw new y(u(x)+" is not iterable");if(l(B)){for(q=0,D=d(x);D>q;q++)if((I=N(x[q]))&&p(v,I))return I;return new m(!1)}A=f(x,B)}for(U=L?x.next:A.next;!(K=o(U,A)).done;){try{I=N(K.value)}catch(R){g(A,"throw",R)}if(typeof I=="object"&&I&&p(v,I))return I}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(u,l,d){var p,f;o(u);try{if(!(p=c(u,"return"))){if(l==="throw")throw d;return d}p=i(p,u)}catch(h){f=!0,p=h}if(l==="throw")throw d;if(f)throw p;return o(p),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),u=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),d=function(){return this};n.exports=function(p,f,h,g){var y=f+" Iterator";return p.prototype=o(i,{next:c(+!g,h)}),u(p,y,!1,!0),l[y]=d,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/is-pure"),u=e("../internals/function-name"),l=e("../internals/is-callable"),d=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),v=e("../internals/iterators"),x=e("../internals/iterators-core"),S=u.PROPER,C=u.CONFIGURABLE,A=x.IteratorPrototype,B=x.BUGGY_SAFARI_ITERATORS,q=m("iterator"),D=function(){return this};n.exports=function(I,U,K,W,P,L,T){d(K,U,W);var _,k,j,N=function(F){if(F===P&&Y)return Y;if(!B&&F&&F in $)return $[F];switch(F){case"keys":case"values":case"entries":return function(){return new K(this,F)}}return function(){return new K(this)}},R=U+" Iterator",O=!1,$=I.prototype,X=$[q]||$["@@iterator"]||P&&$[P],Y=!B&&X||N(P),re=U==="Array"&&$.entries||X;if(re&&(_=p(re.call(new I)))!==Object.prototype&&_.next&&(c||p(_)===A||(f?f(_,A):l(_[q])||y(_,q,D)),h(_,R,!0,!0),c&&(v[R]=D)),S&&P==="values"&&X&&X.name!=="values"&&(!c&&C?g($,"name","values"):(O=!0,Y=function(){return o(X,this)})),P)if(k={values:N("values"),keys:L?Y:N("keys"),entries:N("entries")},T)for(j in k)(B||O||!(j in $))&&y($,j,k[j]);else i({target:U,proto:!0,forced:B||O},k);return c&&!T||$[q]===Y||y($,q,Y,{name:P}),v[U]=Y,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,o,c,u=e("../internals/fails"),l=e("../internals/is-callable"),d=e("../internals/is-object"),p=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(o=f(f(c)))!==Object.prototype&&(i=o):v=!0),!d(i)||u((function(){var x={};return i[m].call(x)!==x}))?i={}:y&&(i=p(i)),l(i[m])||h(i,m,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/has-own-property"),l=e("../internals/descriptors"),d=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,g=f.get,y=String,m=Object.defineProperty,v=i("".slice),x=i("".replace),S=i([].join),C=l&&!o((function(){return m((function(){}),"length",{value:8}).length!==8})),A=String(String).split("String"),B=n.exports=function(q,D,I){v(y(D),0,7)==="Symbol("&&(D="["+x(y(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(D="get "+D),I&&I.setter&&(D="set "+D),(!u(q,"name")||d&&q.name!==D)&&(l?m(q,"name",{value:D,configurable:!0}):q.name=D),C&&I&&u(I,"arity")&&q.length!==I.arity&&m(q,"length",{value:I.arity});try{I&&u(I,"constructor")&&I.constructor?l&&m(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var U=h(q);return u(U,"source")||(U.source=S(A,typeof D=="string"?D:"")),q};Function.prototype.toString=B((function(){return c(this)&&g(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(c){var u=+c;return(u>0?o:i)(u)}},{}],302:[function(e,n,s){var i,o,c,u,l,d=e("../internals/global"),p=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),y=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),x=e("../internals/engine-is-node"),S=d.MutationObserver||d.WebKitMutationObserver,C=d.document,A=d.process,B=d.Promise,q=f(d,"queueMicrotask"),D=q&&q.value;if(!D){var I=new g,U=function(){var K,W;for(x&&(K=A.domain)&&K.exit();W=I.get();)try{W()}catch(P){throw I.head&&i(),P}K&&K.enter()};y||x||v||!S||!C?!m&&B&&B.resolve?((u=B.resolve(void 0)).constructor=B,l=p(u.then,u),i=function(){l(U)}):x?i=function(){A.nextTick(U)}:(h=p(h,d),i=function(){h(U)}):(o=!0,c=C.createTextNode(""),new S(U).observe(c,{characterData:!0}),i=function(){c.data=o=!o}),D=function(K){I.head||i(),I.add(K)}}n.exports=D},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),o=TypeError,c=function(u){var l,d;this.promise=new u((function(p,f){if(l!==void 0||d!==void 0)throw new o("Bad Promise constructor");l=p,d=f})),this.resolve=i(l),this.reject=i(d)};n.exports.f=function(u){return new c(u)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),o=TypeError;n.exports=function(c){if(i(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),u=e("../internals/fails"),l=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=o([].concat);n.exports=!g||u((function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},x={},S=Symbol("assign detection");return v[S]=7,"abcdefghijklmnopqrst".split("").forEach((function(C){x[C]=C})),g({},v)[S]!==7||l(g({},x)).join("")!=="abcdefghijklmnopqrst"}))?function(v,x){for(var S=f(v),C=arguments.length,A=1,B=d.f,q=p.f;C>A;)for(var D,I=h(arguments[A++]),U=B?m(l(I),B(I)):l(I),K=U.length,W=0;K>W;)D=U[W++],i&&!c(q,I,D)||(S[D]=I[D]);return S}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,o=e("../internals/an-object"),c=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),d=e("../internals/html"),p=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},y=function(x){return"<script>"+x+"<\/script>"},m=function(x){x.write(y("")),x.close();var S=x.parentWindow.Object;return x=null,S},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var x,S;v=typeof document<"u"?document.domain&&i?m(i):((S=p("iframe")).style.display="none",d.appendChild(S),S.src="javascript:",(x=S.contentWindow.document).open(),x.write(y("document.F=Object")),x.close(),x.F):m(i);for(var C=u.length;C--;)delete v.prototype[u[C]];return v()};l[h]=!0,n.exports=Object.create||function(x,S){var C;return x!==null?(g.prototype=o(x),C=new g,g.prototype=null,C[h]=x):C=v(),S===void 0?C:c.f(C,S)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),u=e("../internals/an-object"),l=e("../internals/to-indexed-object"),d=e("../internals/object-keys");s.f=i&&!o?Object.defineProperties:function(p,f){u(p);for(var h,g=l(f),y=d(f),m=y.length,v=0;m>v;)c.f(p,h=y[v++],g[h]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),u=e("../internals/an-object"),l=e("../internals/to-property-key"),d=TypeError,p=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?c?function(h,g,y){if(u(h),g=l(g),u(y),typeof h=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(h,g);m&&m.writable&&(h[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return p(h,g,y)}:p:function(h,g,y){if(u(h),g=l(g),u(y),o)try{return p(h,g,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(h[g]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),d=e("../internals/to-property-key"),p=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=i?h:function(g,y){if(g=l(g),y=d(y),f)try{return h(g,y)}catch{}if(p(g,y))return u(!o(c.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,u=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(d){return l&&i(d)==="Window"?(function(p){try{return c(p)}catch{return u(l)}})(d):c(o(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return i(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),o=e("../internals/is-callable"),c=e("../internals/to-object"),u=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),d=u("IE_PROTO"),p=Object,f=p.prototype;n.exports=l?p.getPrototypeOf:function(h){var g=c(h);if(i(g,d))return g[d];var y=g.constructor;return o(y)&&g instanceof y?y.prototype:g instanceof p?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),u=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),d=i([].push);n.exports=function(p,f){var h,g=c(p),y=0,m=[];for(h in g)!o(l,h)&&o(g,h)&&d(m,h);for(;f.length>y;)o(g,h=f[y++])&&(~u(m,h)||d(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return i(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!i.call({1:2},1);s.f=c?function(u){var l=o(this,u);return!!l&&l.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u,l=!1,d={};try{(u=i(Object.prototype,"__proto__","set"))(d,[]),l=d instanceof Array}catch{}return function(p,f){return o(p),c(f),l?u(p,f):p.__proto__=f,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/function-uncurry-this"),u=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),d=e("../internals/to-indexed-object"),p=c(e("../internals/object-property-is-enumerable").f),f=c([].push),h=i&&o((function(){var y=Object.create(null);return y[2]=2,!p(y,2)})),g=function(y){return function(m){for(var v,x=d(m),S=l(x),C=h&&u(x)===null,A=S.length,B=0,q=[];A>B;)v=S[B++],i&&!(C?v in x:p(x,v))||f(q,y?[v,x[v]]:x[v]);return q}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/is-callable"),c=e("../internals/is-object"),u=TypeError;n.exports=function(l,d){var p,f;if(d==="string"&&o(p=l.toString)&&!c(f=i(p,l))||o(p=l.valueOf)&&!c(f=i(p,l))||d!=="string"&&o(p=l.toString)&&!c(f=i(p,l)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),d=o([].concat);n.exports=i("Reflect","ownKeys")||function(p){var f=c.f(l(p)),h=u.f;return h?d(f,h(p)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),u=e("../internals/is-forced"),l=e("../internals/inspect-source"),d=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),y=o&&o.prototype,m=d("species"),v=!1,x=c(i.PromiseRejectionEvent),S=u("Promise",(function(){var C=l(o),A=C!==String(o);if(!A&&g===66||h&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(C)){var B=new o((function(D){D(1)})),q=function(D){D((function(){}),(function(){}))};if((B.constructor={})[m]=q,!(v=B.then((function(){}))instanceof q))return!0}return!A&&(p||f)&&!x}));n.exports={CONSTRUCTOR:S,REJECTION_EVENT:x,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),o=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(u,l){if(i(u),o(l)&&l.constructor===u)return l;var d=c.f(u);return(0,d.resolve)(l),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!o((function(u){i.all(u).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var c={item:o,next:null},u=this.tail;u?u.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(c){if(i(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),u=e("../internals/descriptors"),l=c("species");n.exports=function(d){var p=i(d);u&&p&&!p[l]&&o(p,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(u,l,d){u&&!d&&(u=u.prototype),u&&!o(u,c)&&i(u,c,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),o=e("../internals/uid"),c=i("keys");n.exports=function(u){return c[u]||(c[u]=o(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/define-global-property"),c=i["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),o=e("../internals/shared-store");(n.exports=function(c,u){return o[c]||(o[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),o=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),u=e("../internals/well-known-symbol")("species");n.exports=function(l,d){var p,f=i(l).constructor;return f===void 0||c(p=i(f)[u])?d:o(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),o=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var u=Symbol("symbol detection");return!c(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),u=e("../internals/define-built-in");n.exports=function(){var l=o("Symbol"),d=l&&l.prototype,p=d&&d.valueOf,f=c("toPrimitive");d&&!d[f]&&u(d,f,(function(h){return i(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,o,c,u,l=e("../internals/global"),d=e("../internals/function-apply"),p=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),y=e("../internals/html"),m=e("../internals/array-slice"),v=e("../internals/document-create-element"),x=e("../internals/validate-arguments-length"),S=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),A=l.setImmediate,B=l.clearImmediate,q=l.process,D=l.Dispatch,I=l.Function,U=l.MessageChannel,K=l.String,W=0,P={};g((function(){i=l.location}));var L=function(j){if(h(P,j)){var N=P[j];delete P[j],N()}},T=function(j){return function(){L(j)}},_=function(j){L(j.data)},k=function(j){l.postMessage(K(j),i.protocol+"//"+i.host)};A&&B||(A=function(j){x(arguments.length,1);var N=f(j)?j:I(j),R=m(arguments,1);return P[++W]=function(){d(N,void 0,R)},o(W),W},B=function(j){delete P[j]},C?o=function(j){q.nextTick(T(j))}:D&&D.now?o=function(j){D.now(T(j))}:U&&!S?(u=(c=new U).port2,c.port1.onmessage=_,o=p(u.postMessage,u)):l.addEventListener&&f(l.postMessage)&&!l.importScripts&&i&&i.protocol!=="file:"&&!g(k)?(o=k,l.addEventListener("message",_,!1)):o="onreadystatechange"in v("script")?function(j){y.appendChild(v("script")).onreadystatechange=function(){y.removeChild(this),L(j)}}:function(j){setTimeout(T(j),0)}),n.exports={set:A,clear:B}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;n.exports=function(u,l){var d=i(u);return d<0?o(d+l,0):c(d,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");n.exports=function(c){return i(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(o){var c=+o;return c!=c||c===0?0:i(c)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(c){return c>0?o(i(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),o=Object;n.exports=function(c){return o(i(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/is-object"),c=e("../internals/is-symbol"),u=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),d=e("../internals/well-known-symbol"),p=TypeError,f=d("toPrimitive");n.exports=function(h,g){if(!o(h)||c(h))return h;var y,m=u(h,f);if(m){if(g===void 0&&(g="default"),y=i(m,h,g),!o(y)||c(y))return y;throw new p("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),o=e("../internals/is-symbol");n.exports=function(c){var u=i(c,"string");return o(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),o=String;n.exports=function(c){if(i(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=0,c=Math.random(),u=i(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+u(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails");n.exports=i&&o((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(o,c){if(o<c)throw new i("Not enough arguments");return o}},{}],354:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-callable"),c=i.WeakMap;n.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),u=e("../internals/object-define-property").f;n.exports=function(l){var d=i.Symbol||(i.Symbol={});o(d,l)||u(d,l,{value:c.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/shared"),c=e("../internals/has-own-property"),u=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),d=e("../internals/use-symbol-as-uid"),p=i.Symbol,f=o("wks"),h=d?p.for||p:p&&p.withoutSetter||u;n.exports=function(g){return c(f,g)||(f[g]=l&&c(p,g)?p[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find((function(){u=!1})),i({target:"Array",proto:!0,forced:u},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-includes").includes,c=e("../internals/fails"),u=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:c((function(){return!Array(1).includes()}))},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),u=e("../internals/internal-state"),l=e("../internals/object-define-property").f,d=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),g=u.set,y=u.getterFor("Array Iterator");n.exports=d(Array,"Array",(function(v,x){g(this,{type:"Array Iterator",target:i(v),index:0,kind:x})}),(function(){var v=y(this),x=v.target,S=v.kind,C=v.index++;if(!x||C>=x.length)return v.target=void 0,p(void 0,!0);switch(S){case"keys":return p(C,!1);case"values":return p(x[C],!1)}return p([C,x[C]],!1)}),"values");var m=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!f&&h&&m.name!=="values")try{l(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/function-apply"),u=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),d=e("../internals/fails"),p=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),m=String,v=o("JSON","stringify"),x=l(/./.exec),S=l("".charAt),C=l("".charCodeAt),A=l("".replace),B=l(1 .toString),q=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,U=!y||d((function(){var L=o("Symbol")("stringify detection");return v([L])!=="[null]"||v({a:L})!=="{}"||v(Object(L))!=="{}"})),K=d((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),W=function(L,T){var _=h(arguments),k=g(T);if(p(k)||L!==void 0&&!f(L))return _[1]=function(j,N){if(p(k)&&(N=u(k,this,m(j),N)),!f(N))return N},c(v,null,_)},P=function(L,T,_){var k=S(_,T-1),j=S(_,T+1);return x(D,L)&&!x(I,j)||x(I,L)&&!x(D,k)?"\\u"+B(C(L,0),16):L};v&&i({target:"JSON",stat:!0,arity:3,forced:U||K},{stringify:function(L,T,_){var k=h(arguments),j=c(U?W:v,null,k);return K&&typeof j=="string"?A(j,q,P):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");i({target:"Object",stat:!0,forced:!o||c((function(){u.f(1)}))},{getOwnPropertySymbols:function(d){var p=u.f;return p?p(l(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/to-object"),c=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")((function(){c(1)}))},{keys:function(u){return c(o(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var f=this,h=u.f(f),g=h.resolve,y=h.reject,m=l((function(){var v=c(f.resolve),x=[],S=0,C=1;d(p,(function(A){var B=S++,q=!1;C++,o(v,f,A).then((function(D){q||(q=!0,x[B]=D,--C||g(x))}),y)})),--C||g(x)}));return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/define-built-in"),f=u&&u.prototype;if(i({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&d(u)){var h=l("Promise").prototype.catch;f.catch!==h&&p(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,o,c,u=e("../internals/export"),l=e("../internals/is-pure"),d=e("../internals/engine-is-node"),p=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),v=e("../internals/a-callable"),x=e("../internals/is-callable"),S=e("../internals/is-object"),C=e("../internals/an-instance"),A=e("../internals/species-constructor"),B=e("../internals/task").set,q=e("../internals/microtask"),D=e("../internals/host-report-errors"),I=e("../internals/perform"),U=e("../internals/queue"),K=e("../internals/internal-state"),W=e("../internals/promise-native-constructor"),P=e("../internals/promise-constructor-detection"),L=e("../internals/new-promise-capability"),T=P.CONSTRUCTOR,_=P.REJECTION_EVENT,k=P.SUBCLASSING,j=K.getterFor("Promise"),N=K.set,R=W&&W.prototype,O=W,$=R,X=p.TypeError,Y=p.document,re=p.process,F=L.f,Z=F,V=!!(Y&&Y.createEvent&&p.dispatchEvent),z=function(ce){var ie;return!(!S(ce)||!x(ie=ce.then))&&ie},G=function(ce,ie){var te,se,de,me=ie.value,ke=ie.state===1,Ne=ke?ce.ok:ce.fail,De=ce.resolve,Fe=ce.reject,Ge=ce.domain;try{Ne?(ke||(ie.rejection===2&&ee(ie),ie.rejection=1),Ne===!0?te=me:(Ge&&Ge.enter(),te=Ne(me),Ge&&(Ge.exit(),de=!0)),te===ce.promise?Fe(new X("Promise-chain cycle")):(se=z(te))?f(se,te,De,Fe):De(te)):Fe(me)}catch(qe){Ge&&!de&&Ge.exit(),Fe(qe)}},ae=function(ce,ie){ce.notified||(ce.notified=!0,q((function(){for(var te,se=ce.reactions;te=se.get();)G(te,ce);ce.notified=!1,ie&&!ce.rejection&&ue(ce)})))},pe=function(ce,ie,te){var se,de;V?((se=Y.createEvent("Event")).promise=ie,se.reason=te,se.initEvent(ce,!1,!0),p.dispatchEvent(se)):se={promise:ie,reason:te},!_&&(de=p["on"+ce])?de(se):ce==="unhandledrejection"&&D("Unhandled promise rejection",te)},ue=function(ce){f(B,p,(function(){var ie,te=ce.facade,se=ce.value;if(ge(ce)&&(ie=I((function(){d?re.emit("unhandledRejection",se,te):pe("unhandledrejection",te,se)})),ce.rejection=d||ge(ce)?2:1,ie.error))throw ie.value}))},ge=function(ce){return ce.rejection!==1&&!ce.parent},ee=function(ce){f(B,p,(function(){var ie=ce.facade;d?re.emit("rejectionHandled",ie):pe("rejectionhandled",ie,ce.value)}))},oe=function(ce,ie,te){return function(se){ce(ie,se,te)}},ne=function(ce,ie,te){ce.done||(ce.done=!0,te&&(ce=te),ce.value=ie,ce.state=2,ae(ce,!0))},fe=function(ce,ie,te){if(!ce.done){ce.done=!0,te&&(ce=te);try{if(ce.facade===ie)throw new X("Promise can't be resolved itself");var se=z(ie);se?q((function(){var de={done:!1};try{f(se,ie,oe(fe,de,ce),oe(ne,de,ce))}catch(me){ne(de,me,ce)}})):(ce.value=ie,ce.state=1,ae(ce,!1))}catch(de){ne({done:!1},de,ce)}}};if(T&&($=(O=function(ce){C(this,$),v(ce),f(i,this);var ie=j(this);try{ce(oe(fe,ie),oe(ne,ie))}catch(te){ne(ie,te)}}).prototype,(i=function(ce){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:0,value:void 0})}).prototype=h($,"then",(function(ce,ie){var te=j(this),se=F(A(this,O));return te.parent=!0,se.ok=!x(ce)||ce,se.fail=x(ie)&&ie,se.domain=d?re.domain:void 0,te.state===0?te.reactions.add(se):q((function(){G(se,te)})),se.promise})),o=function(){var ce=new i,ie=j(ce);this.promise=ce,this.resolve=oe(fe,ie),this.reject=oe(ne,ie)},L.f=F=function(ce){return ce===O||ce===void 0?new o(ce):Z(ce)},!l&&x(W)&&R!==Object.prototype)){c=R.then,k||h(R,"then",(function(ce,ie){var te=this;return new O((function(se,de){f(c,te,se,de)})).then(ce,ie)}),{unsafe:!0});try{delete R.constructor}catch{}g&&g(R,$)}u({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:O}),y(O,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),u=e("../internals/fails"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!c&&u((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var v=p(this,l("Promise")),x=d(m);return this.then(x?function(S){return f(v,m()).then((function(){return S}))}:m,x?function(S){return f(v,m()).then((function(){throw S}))}:m)}}),!o&&d(c)){var y=l("Promise").prototype.finally;g.finally!==y&&h(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var f=this,h=u.f(f),g=h.reject,y=l((function(){var m=c(f.resolve);d(p,(function(v){o(m,f,v).then(h.resolve,g)}))}));return y.error&&g(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var l=c.f(this);return o(l.reject,void 0,u),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,d=e("../internals/promise-resolve"),p=o("Promise"),f=c&&!l;i({target:"Promise",stat:!0,forced:c||l},{resolve:function(h){return d(f&&this===p?u:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),u=RangeError,l=String.fromCharCode,d=String.fromCodePoint,p=o([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(f){for(var h,g=[],y=arguments.length,m=0;y>m;){if(h=+arguments[m++],c(h,1114111)!==h)throw new u(h+" is not a valid code point");g[m]=h<65536?l(h):l(55296+((h-=65536)>>10),h%1024+56320)}return p(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible"),l=e("../internals/to-string"),d=e("../internals/correct-is-regexp-logic"),p=o("".indexOf);i({target:"String",proto:!0,forced:!d("includes")},{includes:function(f){return!!~p(l(u(this)),l(c(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/global"),c=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),m=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),x=e("../internals/to-string"),S=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),A=e("../internals/object-keys"),B=e("../internals/object-get-own-property-names"),q=e("../internals/object-get-own-property-names-external"),D=e("../internals/object-get-own-property-symbols"),I=e("../internals/object-get-own-property-descriptor"),U=e("../internals/object-define-property"),K=e("../internals/object-define-properties"),W=e("../internals/object-property-is-enumerable"),P=e("../internals/define-built-in"),L=e("../internals/define-built-in-accessor"),T=e("../internals/shared"),_=e("../internals/shared-key"),k=e("../internals/hidden-keys"),j=e("../internals/uid"),N=e("../internals/well-known-symbol"),R=e("../internals/well-known-symbol-wrapped"),O=e("../internals/well-known-symbol-define"),$=e("../internals/symbol-define-to-primitive"),X=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),re=e("../internals/array-iteration").forEach,F=_("hidden"),Z=Y.set,V=Y.getterFor("Symbol"),z=Object.prototype,G=o.Symbol,ae=G&&G.prototype,pe=o.RangeError,ue=o.TypeError,ge=o.QObject,ee=I.f,oe=U.f,ne=q.f,fe=W.f,ce=u([].push),ie=T("symbols"),te=T("op-symbols"),se=T("wks"),de=!ge||!ge.prototype||!ge.prototype.findChild,me=function(ot,ve,be){var Be=ee(z,ve);Be&&delete z[ve],oe(ot,ve,be),Be&&ot!==z&&oe(z,ve,Be)},ke=d&&f((function(){return C(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7}))?me:oe,Ne=function(ot,ve){var be=ie[ot]=C(ae);return Z(be,{type:"Symbol",tag:ot,description:ve}),d||(be.description=ve),be},De=function(ot,ve,be){ot===z&&De(te,ve,be),y(ot);var Be=v(ve);return y(be),h(ie,Be)?(be.enumerable?(h(ot,F)&&ot[F][Be]&&(ot[F][Be]=!1),be=C(be,{enumerable:S(0,!1)})):(h(ot,F)||oe(ot,F,S(1,{})),ot[F][Be]=!0),ke(ot,Be,be)):oe(ot,Be,be)},Fe=function(ot,ve){y(ot);var be=m(ve),Be=A(be).concat(yt(be));return re(Be,(function(Xe){d&&!c(Ge,be,Xe)||De(ot,Xe,be[Xe])})),ot},Ge=function(ot){var ve=v(ot),be=c(fe,this,ve);return!(this===z&&h(ie,ve)&&!h(te,ve))&&(!(be||!h(this,ve)||!h(ie,ve)||h(this,F)&&this[F][ve])||be)},qe=function(ot,ve){var be=m(ot),Be=v(ve);if(be!==z||!h(ie,Be)||h(te,Be)){var Xe=ee(be,Be);return!Xe||!h(ie,Be)||h(be,F)&&be[F][Be]||(Xe.enumerable=!0),Xe}},pt=function(ot){var ve=ne(m(ot)),be=[];return re(ve,(function(Be){h(ie,Be)||h(k,Be)||ce(be,Be)})),be},yt=function(ot){var ve=ot===z,be=ne(ve?te:m(ot)),Be=[];return re(be,(function(Xe){!h(ie,Xe)||ve&&!h(z,Xe)||ce(Be,ie[Xe])})),Be};p||(P(ae=(G=function(){if(g(ae,this))throw new ue("Symbol is not a constructor");var ot=arguments.length&&arguments[0]!==void 0?x(arguments[0]):void 0,ve=j(ot),be=function(Be){this===z&&c(be,te,Be),h(this,F)&&h(this[F],ve)&&(this[F][ve]=!1);var Xe=S(1,Be);try{ke(this,ve,Xe)}catch(Et){if(!(Et instanceof pe))throw Et;me(this,ve,Xe)}};return d&&de&&ke(z,ve,{configurable:!0,set:be}),Ne(ve,ot)}).prototype,"toString",(function(){return V(this).tag})),P(G,"withoutSetter",(function(ot){return Ne(j(ot),ot)})),W.f=Ge,U.f=De,K.f=Fe,I.f=qe,B.f=q.f=pt,D.f=yt,R.f=function(ot){return Ne(N(ot),ot)},d&&(L(ae,"description",{configurable:!0,get:function(){return V(this).description}}),l||P(z,"propertyIsEnumerable",Ge,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:G}),re(A(se),(function(ot){O(ot)})),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(ot,ve){return ve===void 0?C(ot):Fe(C(ot),ve)},defineProperty:De,defineProperties:Fe,getOwnPropertyDescriptor:qe}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:pt}),$(),X(G,"Symbol"),k[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/has-own-property"),u=e("../internals/to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("string-to-symbol-registry"),f=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(h){var g=u(h);if(c(p,g))return p[g];var y=o("Symbol")(g);return p[g]=y,f[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/has-own-property"),c=e("../internals/is-symbol"),u=e("../internals/try-to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(f){if(!c(f))throw new TypeError(u(f)+" is not a symbol");if(o(p,f))return p[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return i(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return i(o)==="[object Date]"},s.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var o=e("elliptic"),c=e("bn.js");n.exports=function(p){return new l(p)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(p){this.curveType=u[p],this.curveType||(this.curveType={name:p}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function d(p,f,h){Array.isArray(p)||(p=p.toArray());var g=new i(p);if(h&&g.length<h){var y=new i(h-g.length);y.fill(0),g=i.concat([y,g])}return f?g.toString(f):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,l.prototype.generateKeys=function(p,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,f)},l.prototype.computeSecret=function(p,f,h){return f=f||"utf8",i.isBuffer(p)||(p=new i(p,f)),d(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},l.prototype.getPublicKey=function(p,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,p)},l.prototype.getPrivateKey=function(p){return d(this.keys.getPrivate(),p)},l.prototype.setPublicKey=function(p,f){return f=f||"utf8",i.isBuffer(p)||(p=new i(p,f)),this.keys._importPublic(p),this},l.prototype.setPrivateKey=function(p,f){f=f||"utf8",i.isBuffer(p)||(p=new i(p,f));var h=new c(p);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),o=e("md5.js"),c=e("ripemd160"),u=e("sha.js"),l=e("cipher-base");function d(p){l.call(this,"digest"),this._hash=p}i(d,l),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new o:p==="rmd160"||p==="ripemd160"?new c:new d(u(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),o=e("./legacy"),c=e("cipher-base"),u=e("safe-buffer").Buffer,l=e("create-hash/md5"),d=e("ripemd160"),p=e("sha.js"),f=u.alloc(128);function h(g,y){c.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new d:p(g)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var v=this._ipad=u.allocUnsafe(m),x=this._opad=u.allocUnsafe(m),S=0;S<m;S++)v[S]=54^y[S],x[S]=92^y[S];this._hash=g==="rmd160"?new d:p(g),this._hash.update(v)}i(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:p(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",y):g==="md5"?new o(l,y):new h(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=o.alloc(128);function l(d,p){c.call(this,"digest"),typeof p=="string"&&(p=o.from(p)),this._alg=d,this._key=p,p.length>64?p=d(p):p.length<64&&(p=o.concat([p,u],64));for(var f=this._ipad=o.allocUnsafe(64),h=this._opad=o.allocUnsafe(64),g=0;g<64;g++)f[g]=54^p[g],h[g]=92^p[g];this._hash=[f]}i(l,c),l.prototype._update=function(d){this._hash.push(d)},l.prototype._final=function(){var d=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,d]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),o=Object.keys(i),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return c};var u=e("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var l=e("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var d=e("diffie-hellman");s.DiffieHellmanGroup=d.DiffieHellmanGroup,s.createDiffieHellmanGroup=d.createDiffieHellmanGroup,s.getDiffieHellman=d.getDiffieHellman,s.createDiffieHellman=d.createDiffieHellman,s.DiffieHellman=d.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var f=e("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=e("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,(function(){var i=6e4,o=36e5,c="millisecond",u="second",l="minute",d="hour",p="day",f="week",h="month",g="quarter",y="year",m="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var k=["th","st","nd","rd"],j=_%100;return"["+_+(k[(j-20)%10]||k[j]||k[0])+"]"}},A=function(_,k,j){var N=String(_);return!N||N.length>=k?_:""+Array(k+1-N.length).join(j)+_},B={s:A,z:function(_){var k=-_.utcOffset(),j=Math.abs(k),N=Math.floor(j/60),R=j%60;return(k<=0?"+":"-")+A(N,2,"0")+":"+A(R,2,"0")},m:function _(k,j){if(k.date()<j.date())return-_(j,k);var N=12*(j.year()-k.year())+(j.month()-k.month()),R=k.clone().add(N,h),O=j-R<0,$=k.clone().add(N+(O?-1:1),h);return+(-(N+(j-R)/(O?R-$:$-R))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:h,y,w:f,d:p,D:m,h:d,m:l,s:u,ms:c,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},q="en",D={};D[q]=C;var I="$isDayjsObject",U=function(_){return _ instanceof L||!(!_||!_[I])},K=function _(k,j,N){var R;if(!k)return q;if(typeof k=="string"){var O=k.toLowerCase();D[O]&&(R=O),j&&(D[O]=j,R=O);var $=k.split("-");if(!R&&$.length>1)return _($[0])}else{var X=k.name;D[X]=k,R=X}return!N&&R&&(q=R),R||!N&&q},W=function(_,k){if(U(_))return _.clone();var j=typeof k=="object"?k:{};return j.date=_,j.args=arguments,new L(j)},P=B;P.l=K,P.i=U,P.w=function(_,k){return W(_,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var L=(function(){function _(j){this.$L=K(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[I]=!0}var k=_.prototype;return k.parse=function(j){this.$d=(function(N){var R=N.date,O=N.utc;if(R===null)return new Date(NaN);if(P.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var $=R.match(x);if($){var X=$[2]-1||0,Y=($[7]||"0").substring(0,3);return O?new Date(Date.UTC($[1],X,$[3]||1,$[4]||0,$[5]||0,$[6]||0,Y)):new Date($[1],X,$[3]||1,$[4]||0,$[5]||0,$[6]||0,Y)}}return new Date(R)})(j),this.init()},k.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},k.$utils=function(){return P},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(j,N){var R=W(j);return this.startOf(N)<=R&&R<=this.endOf(N)},k.isAfter=function(j,N){return W(j)<this.startOf(N)},k.isBefore=function(j,N){return this.endOf(N)<W(j)},k.$g=function(j,N,R){return P.u(j)?this[N]:this.set(R,j)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(j,N){var R=this,O=!!P.u(N)||N,$=P.p(j),X=function(ae,pe){var ue=P.w(R.$u?Date.UTC(R.$y,pe,ae):new Date(R.$y,pe,ae),R);return O?ue:ue.endOf(p)},Y=function(ae,pe){return P.w(R.toDate()[ae].apply(R.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(pe)),R)},re=this.$W,F=this.$M,Z=this.$D,V="set"+(this.$u?"UTC":"");switch($){case y:return O?X(1,0):X(31,11);case h:return O?X(1,F):X(0,F+1);case f:var z=this.$locale().weekStart||0,G=(re<z?re+7:re)-z;return X(O?Z-G:Z+(6-G),F);case p:case m:return Y(V+"Hours",0);case d:return Y(V+"Minutes",1);case l:return Y(V+"Seconds",2);case u:return Y(V+"Milliseconds",3);default:return this.clone()}},k.endOf=function(j){return this.startOf(j,!1)},k.$set=function(j,N){var R,O=P.p(j),$="set"+(this.$u?"UTC":""),X=(R={},R[p]=$+"Date",R[m]=$+"Date",R[h]=$+"Month",R[y]=$+"FullYear",R[d]=$+"Hours",R[l]=$+"Minutes",R[u]=$+"Seconds",R[c]=$+"Milliseconds",R)[O],Y=O===p?this.$D+(N-this.$W):N;if(O===h||O===y){var re=this.clone().set(m,1);re.$d[X](Y),re.init(),this.$d=re.set(m,Math.min(this.$D,re.daysInMonth())).$d}else X&&this.$d[X](Y);return this.init(),this},k.set=function(j,N){return this.clone().$set(j,N)},k.get=function(j){return this[P.p(j)]()},k.add=function(j,N){var R,O=this;j=Number(j);var $=P.p(N),X=function(F){var Z=W(O);return P.w(Z.date(Z.date()+Math.round(F*j)),O)};if($===h)return this.set(h,this.$M+j);if($===y)return this.set(y,this.$y+j);if($===p)return X(1);if($===f)return X(7);var Y=(R={},R[l]=i,R[d]=o,R[u]=1e3,R)[$]||1,re=this.$d.getTime()+j*Y;return P.w(re,this)},k.subtract=function(j,N){return this.add(-1*j,N)},k.format=function(j){var N=this,R=this.$locale();if(!this.isValid())return R.invalidDate||v;var O=j||"YYYY-MM-DDTHH:mm:ssZ",$=P.z(this),X=this.$H,Y=this.$m,re=this.$M,F=R.weekdays,Z=R.months,V=R.meridiem,z=function(pe,ue,ge,ee){return pe&&(pe[ue]||pe(N,O))||ge[ue].slice(0,ee)},G=function(pe){return P.s(X%12||12,pe,"0")},ae=V||function(pe,ue,ge){var ee=pe<12?"AM":"PM";return ge?ee.toLowerCase():ee};return O.replace(S,(function(pe,ue){return ue||(function(ge){switch(ge){case"YY":return String(N.$y).slice(-2);case"YYYY":return P.s(N.$y,4,"0");case"M":return re+1;case"MM":return P.s(re+1,2,"0");case"MMM":return z(R.monthsShort,re,Z,3);case"MMMM":return z(Z,re);case"D":return N.$D;case"DD":return P.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return z(R.weekdaysMin,N.$W,F,2);case"ddd":return z(R.weekdaysShort,N.$W,F,3);case"dddd":return F[N.$W];case"H":return String(X);case"HH":return P.s(X,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return ae(X,Y,!0);case"A":return ae(X,Y,!1);case"m":return String(Y);case"mm":return P.s(Y,2,"0");case"s":return String(N.$s);case"ss":return P.s(N.$s,2,"0");case"SSS":return P.s(N.$ms,3,"0");case"Z":return $}return null})(pe)||$.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(j,N,R){var O,$=this,X=P.p(N),Y=W(j),re=(Y.utcOffset()-this.utcOffset())*i,F=this-Y,Z=function(){return P.m($,Y)};switch(X){case y:O=Z()/12;break;case h:O=Z();break;case g:O=Z()/3;break;case f:O=(F-re)/6048e5;break;case p:O=(F-re)/864e5;break;case d:O=F/o;break;case l:O=F/i;break;case u:O=F/1e3;break;default:O=F}return R?O:P.a(O)},k.daysInMonth=function(){return this.endOf(h).$D},k.$locale=function(){return D[this.$L]},k.locale=function(j,N){if(!j)return this.$L;var R=this.clone(),O=K(j,N,!0);return O&&(R.$L=O),R},k.clone=function(){return P.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},_})(),T=L.prototype;return W.prototype=T,[["$ms",c],["$s",u],["$m",l],["$H",d],["$W",p],["$M",h],["$y",y],["$D",m]].forEach((function(_){T[_[1]]=function(k){return this.$g(k,_[0],_[1])}})),W.extend=function(_,k){return _.$i||(_(k,L,W),_.$i=!0),W},W.locale=K,W.isDayjs=U,W.unix=function(_){return W(1e3*_)},W.en=D[q],W.Ls=D,W.p={},W}))},{}],392:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,u=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,d={},p=function(x){return(x=+x)+(x>68?1900:2e3)},f=function(x){return function(S){this[x]=+S}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=(function(S){if(!S||S==="Z")return 0;var C=S.match(/([+-]|\d\d)/g),A=60*C[1]+(+C[2]||0);return A===0?0:C[0]==="+"?-A:A})(x)}],g=function(x){var S=d[x];return S&&(S.indexOf?S:S.s.concat(S.f))},y=function(x,S){var C,A=d.meridiem;if(A){for(var B=1;B<=24;B+=1)if(x.indexOf(A(B,0,S))>-1){C=B>12;break}}else C=x===(S?"pm":"PM");return C},m={A:[l,function(x){this.afternoon=y(x,!1)}],a:[l,function(x){this.afternoon=y(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[c,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[c,f("day")],Do:[l,function(x){var S=d.ordinal,C=x.match(/\d+/);if(this.day=C[0],S)for(var A=1;A<=31;A+=1)S(A).replace(/\[|\]/g,"")===x&&(this.day=A)}],M:[u,f("month")],MM:[c,f("month")],MMM:[l,function(x){var S=g("months"),C=(g("monthsShort")||S.map((function(A){return A.slice(0,3)}))).indexOf(x)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[l,function(x){var S=g("months").indexOf(x)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,f("year")],YY:[c,function(x){this.year=p(x)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(x){var S,C;S=x,C=d&&d.formats;for(var A=(x=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(W,P,L){var T=L&&L.toUpperCase();return P||C[L]||i[L]||C[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,k,j){return k||j.slice(1)}))}))).match(o),B=A.length,q=0;q<B;q+=1){var D=A[q],I=m[D],U=I&&I[0],K=I&&I[1];A[q]=K?{regex:U,parser:K}:D.replace(/^\[|\]$/g,"")}return function(W){for(var P={},L=0,T=0;L<B;L+=1){var _=A[L];if(typeof _=="string")T+=_.length;else{var k=_.regex,j=_.parser,N=W.slice(T),R=k.exec(N)[0];j.call(P,R),W=W.replace(R,"")}}return(function(O){var $=O.afternoon;if($!==void 0){var X=O.hours;$?X<12&&(O.hours+=12):X===12&&(O.hours=0),delete O.afternoon}})(P),P}}return function(x,S,C){C.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(p=x.parseTwoDigitYear);var A=S.prototype,B=A.parse;A.parse=function(q){var D=q.date,I=q.utc,U=q.args;this.$u=I;var K=U[1];if(typeof K=="string"){var W=U[2]===!0,P=U[3]===!0,L=W||P,T=U[2];P&&(T=U[2]),d=this.$locale(),!W&&T&&(d=C.Ls[T]),this.$d=(function(N,R,O){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*N);var $=v(R)(N),X=$.year,Y=$.month,re=$.day,F=$.hours,Z=$.minutes,V=$.seconds,z=$.milliseconds,G=$.zone,ae=new Date,pe=re||(X||Y?1:ae.getDate()),ue=X||ae.getFullYear(),ge=0;X&&!Y||(ge=Y>0?Y-1:ae.getMonth());var ee=F||0,oe=Z||0,ne=V||0,fe=z||0;return G?new Date(Date.UTC(ue,ge,pe,ee,oe,ne,fe+60*G.offset*1e3)):O?new Date(Date.UTC(ue,ge,pe,ee,oe,ne,fe)):new Date(ue,ge,pe,ee,oe,ne,fe)}catch{return new Date("")}})(D,K,I),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),L&&D!=this.format(K)&&(this.$d=new Date("")),d={}}else if(K instanceof Array)for(var _=K.length,k=1;k<=_;k+=1){U[1]=K[k-1];var j=C.apply(this,U);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}k===_&&(this.$d=new Date(""))}else B.call(this,q)}}}))},{}],393:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,(function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(u,l,d){var p=l.prototype;d.utc=function(x){var S={date:x,utc:!0,args:arguments};return new l(S)},p.utc=function(x){var S=d(this.toDate(),{locale:this.$L,utc:!0});return x?S.add(this.utcOffset(),i):S},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var f=p.parse;p.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),f.call(this,x)};var h=p.init;p.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else h.call(this)};var g=p.utcOffset;p.utcOffset=function(x,S){var C=this.$utils().u;if(C(x))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof x=="string"&&(x=(function(D){D===void 0&&(D="");var I=D.match(o);if(!I)return null;var U=(""+I[0]).match(c)||["-",0,0],K=U[0],W=60*+U[1]+ +U[2];return W===0?0:K==="+"?W:-W})(x))===null)return this;var A=Math.abs(x)<=16?60*x:x,B=this;if(S)return B.$offset=A,B.$u=x===0,B;if(x!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(A+q,i)).$offset=A,B.$x.$localOffset=q}else B=this.utc();return B};var y=p.format;p.format=function(x){var S=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,S)},p.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var m=p.toDate;p.toDate=function(x){return x==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=p.diff;p.diff=function(x,S,C){if(x&&this.$u===x.$u)return v.call(this,x,S,C);var A=this.local(),B=d(x).local();return v.call(A,B,S,C)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),c={};function u(l){i.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=l[d]}s.instantiate=function(l){function d(g){l.call(this,g),this._cbcInit()}o(d,l);for(var p=Object.keys(c),f=0;f<p.length;f++){var h=p[f];d.prototype[h]=c[h]}return d.create=function(g){return new d(g)},d},c._cbcInit=function(){var l=new u(this.options.iv);this._cbcState=l},c._update=function(l,d,p,f){var h=this._cbcState,g=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=l[d+m];for(g._update.call(this,y,0,p,f),m=0;m<this.blockSize;m++)y[m]=p[f+m]}else{for(g._update.call(this,l,d,p,f),m=0;m<this.blockSize;m++)p[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=l[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,u){for(var l=Math.min(this.buffer.length-this.bufferOff,c.length-u),d=0;d<l;d++)this.buffer[this.bufferOff+d]=c[u+d];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(c,u){return this._update(this.buffer,0,c,u),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var u=0,l=0,d=(this.bufferOff+c.length)/this.blockSize|0,p=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(c,u),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(p,l)));for(var f=c.length-(c.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(c,u,p,l),l+=this.blockSize;for(;u<c.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=c[u];return p},o.prototype._updateDecrypt=function(c){for(var u=0,l=0,d=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,p=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(c,u),l+=this._flushBuffer(p,l);return u+=this._buffer(c,u),p},o.prototype.final=function(c){var u,l;return c&&(u=this.update(c)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(l):l},o.prototype._pad=function(c,u){if(u===0)return!1;for(;u<c.length;)c[u++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),c=e("./utils"),u=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function d(f){u.call(this,f);var h=new l;this._desState=h,this.deriveKeys(h,f.key)}o(d,u),n.exports=d,d.create=function(f){return new d(f)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(f,h){f.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),y=c.readUInt32BE(h,4);c.pc1(g,y,f.tmp,0),g=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var v=p[m>>>1];g=c.r28shl(g,v),y=c.r28shl(y,v),c.pc2(g,y,f.keys,m)}},d.prototype._update=function(f,h,g,y){var m=this._desState,v=c.readUInt32BE(f,h),x=c.readUInt32BE(f,h+4);c.ip(v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,x,m.tmp,0):this._decrypt(m,v,x,m.tmp,0),v=m.tmp[0],x=m.tmp[1],c.writeUInt32BE(g,v,y),c.writeUInt32BE(g,x,y+4)},d.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,y=h;y<f.length;y++)f[y]=g;return!0},d.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)i.equal(f[g],h);return f.slice(0,f.length-h)},d.prototype._encrypt=function(f,h,g,y,m){for(var v=h,x=g,S=0;S<f.keys.length;S+=2){var C=f.keys[S],A=f.keys[S+1];c.expand(x,f.tmp,0),C^=f.tmp[0],A^=f.tmp[1];var B=c.substitute(C,A),q=x;x=(v^c.permute(B))>>>0,v=q}c.rip(x,v,y,m)},d.prototype._decrypt=function(f,h,g,y,m){for(var v=g,x=h,S=f.keys.length-2;S>=0;S-=2){var C=f.keys[S],A=f.keys[S+1];c.expand(v,f.tmp,0),C^=f.tmp[0],A^=f.tmp[1];var B=c.substitute(C,A),q=v;v=(x^c.permute(B))>>>0,x=q}c.rip(v,x,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),c=e("./cipher"),u=e("./des");function l(p,f){i.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),y=f.slice(16,24);this.ciphers=p==="encrypt"?[u.create({type:"encrypt",key:h}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:h})]}function d(p){c.call(this,p);var f=new l(this.type,this.options.key);this._edeState=f}o(d,c),n.exports=d,d.create=function(p){return new d(p)},d.prototype._update=function(p,f,h,g){var y=this._edeState;y.ciphers[0]._update(p,f,h,g),y.ciphers[1]._update(h,g,h,g),y.ciphers[2]._update(h,g,h,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(u,l){return(u[0+l]<<24|u[1+l]<<16|u[2+l]<<8|u[3+l])>>>0},s.writeUInt32BE=function(u,l,d){u[0+d]=l>>>24,u[1+d]=l>>>16&255,u[2+d]=l>>>8&255,u[3+d]=255&l},s.ip=function(u,l,d,p){for(var f=0,h=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)h<<=1,h|=l>>>y+g&1;for(y=1;y<=25;y+=8)h<<=1,h|=u>>>y+g&1}d[p+0]=f>>>0,d[p+1]=h>>>0},s.rip=function(u,l,d,p){for(var f=0,h=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)f<<=1,f|=l>>>y+g&1,f<<=1,f|=u>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)h<<=1,h|=l>>>y+g&1,h<<=1,h|=u>>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.pc1=function(u,l,d,p){for(var f=0,h=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+g&1}for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)h<<=1,h|=l>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+g&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.r28shl=function(u,l){return u<<l&268435455|u>>>28-l};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,l,d,p){for(var f=0,h=0,g=i.length>>>1,y=0;y<g;y++)f<<=1,f|=u>>>i[y]&1;for(y=g;y<i.length;y++)h<<=1,h|=l>>>i[y]&1;d[p+0]=f>>>0,d[p+1]=h>>>0},s.expand=function(u,l,d){var p=0,f=0;p=(1&u)<<5|u>>>27;for(var h=23;h>=15;h-=4)p<<=6,p|=u>>>h&63;for(h=11;h>=3;h-=4)f|=u>>>h&63,f<<=6;f|=(31&u)<<1|u>>>31,l[d+0]=p>>>0,l[d+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,l){for(var d=0,p=0;p<4;p++)d<<=4,d|=o[64*p+(u>>>18-6*p&63)];for(p=0;p<4;p++)d<<=4,d|=o[256+64*p+(l>>>18-6*p&63)];return d>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var l=0,d=0;d<c.length;d++)l<<=1,l|=u>>>c[d]&1;return l>>>0},s.padSplit=function(u,l,d){for(var p=u.toString(2);p.length<l;)p="0"+p;for(var f=[],h=0;h<l;h+=d)f.push(p.slice(h,h+d));return f.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var o=e("./lib/generatePrime"),c=e("./lib/primes.json"),u=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(d){var p=new i(c[d].prime,"hex"),f=new i(c[d].gen,"hex");return new u(p,f)},s.createDiffieHellman=s.DiffieHellman=function d(p,f,h,g){return i.isBuffer(f)||l[f]===void 0?d(p,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,g)),typeof p=="number"?new u(o(p,h),h,!0):(i.isBuffer(p)||(p=new i(p,f)),new u(p,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var o=e("bn.js"),c=new(e("miller-rabin")),u=new o(24),l=new o(11),d=new o(10),p=new o(3),f=new o(7),h=e("./generatePrime"),g=e("randombytes");function y(C,A){return A=A||"utf8",i.isBuffer(C)||(C=new i(C,A)),this._pub=new o(C),this}function m(C,A){return A=A||"utf8",i.isBuffer(C)||(C=new i(C,A)),this._priv=new o(C),this}n.exports=x;var v={};function x(C,A,B){this.setGenerator(A),this.__prime=new o(C),this._prime=o.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function S(C,A){var B=new i(C.toArray());return A?B.toString(A):B}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(C,A){var B=A.toString("hex"),q=[B,C.toString(16)].join("_");if(q in v)return v[q];var D,I=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!c.test(C))return I+=1,I+=B==="02"||B==="05"?8:4,v[q]=I,I;switch(c.test(C.shrn(1))||(I+=2),B){case"02":C.mod(u).cmp(l)&&(I+=8);break;case"05":(D=C.mod(d)).cmp(p)&&D.cmp(f)&&(I+=8);break;default:I+=4}return v[q]=I,I})(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(C){var A=(C=(C=new o(C)).toRed(this._prime)).redPow(this._priv).fromRed(),B=new i(A.toArray()),q=this.getPrime();if(B.length<q.length){var D=new i(q.length-B.length);D.fill(0),B=i.concat([D,B])}return B},x.prototype.getPublicKey=function(C){return S(this._pub,C)},x.prototype.getPrivateKey=function(C){return S(this._priv,C)},x.prototype.getPrime=function(C){return S(this.__prime,C)},x.prototype.getGenerator=function(C){return S(this._gen,C)},x.prototype.setGenerator=function(C,A){return A=A||"utf8",i.isBuffer(C)||(C=new i(C,A)),this.__gen=C,this._gen=new o(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=C,C.simpleSieve=x,C.fermatTest=S;var o=e("bn.js"),c=new o(24),u=new(e("miller-rabin")),l=new o(1),d=new o(2),p=new o(5),f=(new o(16),new o(8),new o(10)),h=new o(3),g=(new o(7),new o(11)),y=new o(4),m=(new o(12),null);function v(){if(m!==null)return m;var A=[];A[0]=2;for(var B=1,q=3;q<1048576;q+=2){for(var D=Math.ceil(Math.sqrt(q)),I=0;I<B&&A[I]<=D&&q%A[I]!=0;I++);B!==I&&A[I]<=D||(A[B++]=q)}return m=A,A}function x(A){for(var B=v(),q=0;q<B.length;q++)if(A.modn(B[q])===0)return A.cmpn(B[q])===0;return!0}function S(A){var B=o.mont(A);return d.toRed(B).redPow(A.subn(1)).fromRed().cmpn(1)===0}function C(A,B){if(A<16)return new o(B===2||B===5?[140,123]:[140,39]);var q,D;for(B=new o(B);;){for(q=new o(i(Math.ceil(A/8)));q.bitLength()>A;)q.ishrn(1);if(q.isEven()&&q.iadd(l),q.testn(1)||q.iadd(d),B.cmp(d)){if(!B.cmp(p))for(;q.mod(f).cmp(h);)q.iadd(y)}else for(;q.mod(c).cmp(g);)q.iadd(y);if(x(D=q.shrn(1))&&x(q)&&S(D)&&S(q)&&u.test(D)&&u.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),c=o.getNAF,u=o.getJSF,l=o.assert;function d(f,h){this.type=f,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(f,h){l(f.precomputed);var g=f._getDoubles(),y=c(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,x,S=[];for(v=0;v<y.length;v+=g.step){x=0;for(var C=v+g.step-1;C>=v;C--)x=(x<<1)+y[C];S.push(x)}for(var A=this.jpoint(null,null,null),B=this.jpoint(null,null,null),q=m;q>0;q--){for(v=0;v<S.length;v++)(x=S[v])===q?B=B.mixedAdd(g.points[v]):x===-q&&(B=B.mixedAdd(g.points[v].neg()));A=A.add(B)}return A.toP()},d.prototype._wnafMul=function(f,h){var g=4,y=f._getNAFPoints(g);g=y.wnd;for(var m=y.points,v=c(h,g,this._bitLength),x=this.jpoint(null,null,null),S=v.length-1;S>=0;S--){for(var C=0;S>=0&&v[S]===0;S--)C++;if(S>=0&&C++,x=x.dblp(C),S<0)break;var A=v[S];l(A!==0),x=f.type==="affine"?A>0?x.mixedAdd(m[A-1>>1]):x.mixedAdd(m[-A-1>>1].neg()):A>0?x.add(m[A-1>>1]):x.add(m[-A-1>>1].neg())}return f.type==="affine"?x.toP():x},d.prototype._wnafMulAdd=function(f,h,g,y,m){var v,x,S,C=this._wnafT1,A=this._wnafT2,B=this._wnafT3,q=0;for(v=0;v<y;v++){var D=(S=h[v])._getNAFPoints(f);C[v]=D.wnd,A[v]=D.points}for(v=y-1;v>=1;v-=2){var I=v-1,U=v;if(C[I]===1&&C[U]===1){var K=[h[I],null,null,h[U]];h[I].y.cmp(h[U].y)===0?(K[1]=h[I].add(h[U]),K[2]=h[I].toJ().mixedAdd(h[U].neg())):h[I].y.cmp(h[U].y.redNeg())===0?(K[1]=h[I].toJ().mixedAdd(h[U]),K[2]=h[I].add(h[U].neg())):(K[1]=h[I].toJ().mixedAdd(h[U]),K[2]=h[I].toJ().mixedAdd(h[U].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],P=u(g[I],g[U]);for(q=Math.max(P[0].length,q),B[I]=new Array(q),B[U]=new Array(q),x=0;x<q;x++){var L=0|P[0][x],T=0|P[1][x];B[I][x]=W[3*(L+1)+(T+1)],B[U][x]=0,A[I]=K}}else B[I]=c(g[I],C[I],this._bitLength),B[U]=c(g[U],C[U],this._bitLength),q=Math.max(B[I].length,q),q=Math.max(B[U].length,q)}var _=this.jpoint(null,null,null),k=this._wnafT4;for(v=q;v>=0;v--){for(var j=0;v>=0;){var N=!0;for(x=0;x<y;x++)k[x]=0|B[x][v],k[x]!==0&&(N=!1);if(!N)break;j++,v--}if(v>=0&&j++,_=_.dblp(j),v<0)break;for(x=0;x<y;x++){var R=k[x];R!==0&&(R>0?S=A[x][R-1>>1]:R<0&&(S=A[x][-R-1>>1].neg()),_=S.type==="affine"?_.mixedAdd(S):_.add(S))}}for(v=0;v<y;v++)A[v]=null;return m?_:_.toP()},d.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(f,h){f=o.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?l(f[f.length-1]%2==0):f[0]===7&&l(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(f){return this.encode(f,!0)},p.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},p.prototype.encode=function(f,h){return o.encode(this._encode(h),f)},p.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},p.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},p.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<h;m+=f){for(var v=0;v<f;v++)y=y.dbl();g.push(y)}return{step:f,points:g}},p.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(y);return{wnd:f,points:h}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=i.assert;function d(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function p(f,h,g,y,m){u.BasePoint.call(this,f,"projective"),h===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(h,16),this.y=new o(g,16),this.z=y?new o(y,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(d,u),n.exports=d,d.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},d.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},d.prototype.jpoint=function(f,h,g,y){return this.point(f,h,g,y)},d.prototype.pointFromX=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=y.redMul(m.redInvm()),x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var S=x.fromRed().isOdd();return(h&&!S||!h&&S)&&(x=x.redNeg()),this.point(f,x)},d.prototype.pointFromY=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=y.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var x=v.redSqrt();if(x.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==h&&(x=x.redNeg()),this.point(x,f)},d.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),y=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return y.cmp(m)===0},c(p,u.BasePoint),d.prototype.pointFromJSON=function(f){return p.fromJSON(this,f)},d.prototype.point=function(f,h,g,y){return new p(this,f,h,g,y)},p.fromJSON=function(f,h){return new p(f,h[0],h[1],h[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),v=y.redAdd(h),x=v.redSub(g),S=y.redSub(h),C=m.redMul(x),A=v.redMul(S),B=m.redMul(S),q=x.redMul(v);return this.curve.point(C,A,q,B)},p.prototype._projDbl=function(){var f,h,g,y,m,v,x=this.x.redAdd(this.y).redSqr(),S=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var A=(y=this.curve._mulA(S)).redAdd(C);this.zOne?(f=x.redSub(S).redSub(C).redMul(A.redSub(this.curve.two)),h=A.redMul(y.redSub(C)),g=A.redSqr().redSub(A).redSub(A)):(m=this.z.redSqr(),v=A.redSub(m).redISub(m),f=x.redSub(S).redISub(C).redMul(v),h=A.redMul(y.redSub(C)),g=A.redMul(v))}else y=S.redAdd(C),m=this.curve._mulC(this.z).redSqr(),v=y.redSub(m).redSub(m),f=this.curve._mulC(x.redISub(y)).redMul(v),h=this.curve._mulC(y).redMul(S.redISub(C)),g=y.redMul(v);return this.curve.point(f,h,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),v=g.redSub(h),x=m.redSub(y),S=m.redAdd(y),C=g.redAdd(h),A=v.redMul(x),B=S.redMul(C),q=v.redMul(C),D=x.redMul(S);return this.curve.point(A,B,D,q)},p.prototype._projAdd=function(f){var h,g,y=this.z.redMul(f.z),m=y.redSqr(),v=this.x.redMul(f.x),x=this.y.redMul(f.y),S=this.curve.d.redMul(v).redMul(x),C=m.redSub(S),A=m.redAdd(S),B=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(x),q=y.redMul(C).redMul(B);return this.curve.twisted?(h=y.redMul(A).redMul(x.redSub(this.curve._mulA(v))),g=C.redMul(A)):(h=y.redMul(A).redMul(x.redSub(v)),g=this.curve._mulC(C).redMul(A)),this.curve.point(q,h,g)},p.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},p.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},p.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},p.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),o=e("inherits"),c=e("./base"),u=e("../utils");function l(p){c.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(p,f,h){c.BasePoint.call(this,p,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,c),n.exports=l,l.prototype.validate=function(p){var f=p.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},o(d,c.BasePoint),l.prototype.decodePoint=function(p,f){return this.point(u.toArray(p,f),1)},l.prototype.point=function(p,f){return new d(this,p,f)},l.prototype.pointFromJSON=function(p){return d.fromJSON(this,p)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(p,f){return new d(p,f[0],f[1]||p.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=p.redSub(f),g=p.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(p,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=p.x.redAdd(p.z),m=p.x.redSub(p.z).redMul(h),v=y.redMul(g),x=f.z.redMul(m.redAdd(v).redSqr()),S=f.x.redMul(m.redISub(v).redSqr());return this.curve.point(x,S)},d.prototype.mul=function(p){for(var f=p.clone(),h=this,g=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=i.assert;function d(h){u.call(this,"short",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(h,g,y,m){u.BasePoint.call(this,h,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,y,m){u.BasePoint.call(this,h,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(y,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(d,u),n.exports=d,d.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(h.beta)g=new o(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)y=new o(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?y=v[0]:(y=v[1],l(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:h.basis?h.basis.map((function(x){return{a:new o(x.a,16),b:new o(x.b,16)}})):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:o.mont(h),y=new o(2).toRed(g).redInvm(),m=y.redNeg(),v=new o(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},d.prototype._getEndoBasis=function(h){for(var g,y,m,v,x,S,C,A,B,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),D=h,I=this.n.clone(),U=new o(1),K=new o(0),W=new o(0),P=new o(1),L=0;D.cmpn(0)!==0;){var T=I.div(D);A=I.sub(T.mul(D)),B=W.sub(T.mul(U));var _=P.sub(T.mul(K));if(!m&&A.cmp(q)<0)g=C.neg(),y=U,m=A.neg(),v=B;else if(m&&++L==2)break;C=A,I=D,D=A,W=U,U=B,P=K,K=_}x=A.neg(),S=B;var k=m.sqr().add(v.sqr());return x.sqr().add(S.sqr()).cmp(k)>=0&&(x=g,S=y),m.negative&&(m=m.neg(),v=v.neg()),x.negative&&(x=x.neg(),S=S.neg()),[{a:m,b:v},{a:x,b:S}]},d.prototype._endoSplit=function(h){var g=this.endo.basis,y=g[0],m=g[1],v=m.b.mul(h).divRound(this.n),x=y.b.neg().mul(h).divRound(this.n),S=v.mul(y.a),C=x.mul(m.a),A=v.mul(y.b),B=x.mul(m.b);return{k1:h.sub(S).sub(C),k2:A.add(B).neg()}},d.prototype.pointFromX=function(h,g){(h=new o(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(h,m)},d.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,y=h.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(v).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(h,g,y){for(var m=this._endoWnafT1,v=this._endoWnafT2,x=0;x<h.length;x++){var S=this._endoSplit(g[x]),C=h[x],A=C._getBeta();S.k1.negative&&(S.k1.ineg(),C=C.neg(!0)),S.k2.negative&&(S.k2.ineg(),A=A.neg(!0)),m[2*x]=C,m[2*x+1]=A,v[2*x]=S.k1,v[2*x+1]=S.k2}for(var B=this._wnafMulAdd(1,m,v,2*x,y),q=0;q<2*x;q++)m[q]=null,v[q]=null;return B},c(p,u.BasePoint),d.prototype.point=function(h,g,y){return new p(this,h,g,y)},d.prototype.pointFromJSON=function(h,g){return p.fromJSON(this,h,g)},p.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,m=function(v){return y.point(v.x.redMul(y.endo.beta),v.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(h,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],y);if(!g[2])return m;function v(S){return h.point(S[0],S[1],y)}var x=g[2];return m.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[m].concat(x.doubles.points.map(v))},naf:x.naf&&{wnd:x.naf.wnd,points:[m].concat(x.naf.points.map(v))}},m},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},p.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=h.redInvm(),v=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),x=v.redSqr().redISub(this.x.redAdd(this.x)),S=v.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,S)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(h){return h=new o(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},p.prototype.jmulAdd=function(h,g,y){var m=[this,g],v=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},p.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},p.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(f,u.BasePoint),d.prototype.jpoint=function(h,g,y){return new f(this,h,g,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),v=h.x.redMul(y),x=this.y.redMul(g.redMul(h.z)),S=h.y.redMul(y.redMul(this.z)),C=m.redSub(v),A=x.redSub(S);if(C.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=C.redSqr(),q=B.redMul(C),D=m.redMul(B),I=A.redSqr().redIAdd(q).redISub(D).redISub(D),U=A.redMul(D.redISub(I)).redISub(x.redMul(q)),K=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(I,U,K)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=h.x.redMul(g),v=this.y,x=h.y.redMul(g).redMul(this.z),S=y.redSub(m),C=v.redSub(x);if(S.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=S.redSqr(),B=A.redMul(S),q=y.redMul(A),D=C.redSqr().redIAdd(B).redISub(q).redISub(q),I=C.redMul(q.redISub(D)).redISub(v.redMul(B)),U=this.z.redMul(S);return this.curve.jpoint(D,I,U)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<h;g++)y=y.dbl();return y}var m=this.curve.a,v=this.curve.tinv,x=this.x,S=this.y,C=this.z,A=C.redSqr().redSqr(),B=S.redAdd(S);for(g=0;g<h;g++){var q=x.redSqr(),D=B.redSqr(),I=D.redSqr(),U=q.redAdd(q).redIAdd(q).redIAdd(m.redMul(A)),K=x.redMul(D),W=U.redSqr().redISub(K.redAdd(K)),P=K.redISub(W),L=U.redMul(P);L=L.redIAdd(L).redISub(I);var T=B.redMul(C);g+1<h&&(A=A.redMul(I)),x=W,C=T,B=L}return this.curve.jpoint(x,B.redMul(v),C)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(m).redISub(x);S=S.redIAdd(S);var C=m.redAdd(m).redIAdd(m),A=C.redSqr().redISub(S).redISub(S),B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),h=A,g=C.redMul(S.redISub(A)).redISub(B),y=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),D=this.y.redSqr(),I=D.redSqr(),U=this.x.redAdd(D).redSqr().redISub(q).redISub(I);U=U.redIAdd(U);var K=q.redAdd(q).redIAdd(q),W=K.redSqr(),P=I.redIAdd(I);P=(P=P.redIAdd(P)).redIAdd(P),h=W.redISub(U).redISub(U),g=K.redMul(U.redISub(h)).redISub(P),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,g,y)},f.prototype._threeDbl=function(){var h,g,y;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),x=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(m).redISub(x);S=S.redIAdd(S);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),A=C.redSqr().redISub(S).redISub(S);h=A;var B=x.redIAdd(x);B=(B=B.redIAdd(B)).redIAdd(B),g=C.redMul(S.redISub(A)).redISub(B),y=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),D=this.y.redSqr(),I=this.x.redMul(D),U=this.x.redSub(q).redMul(this.x.redAdd(q));U=U.redAdd(U).redIAdd(U);var K=I.redIAdd(I),W=(K=K.redIAdd(K)).redAdd(K);h=U.redSqr().redISub(W),y=this.y.redAdd(this.z).redSqr().redISub(D).redISub(q);var P=D.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P),g=U.redMul(K.redISub(h)).redISub(P)}return this.curve.jpoint(h,g,y)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,y=this.y,m=this.z,v=m.redSqr().redSqr(),x=g.redSqr(),S=y.redSqr(),C=x.redAdd(x).redIAdd(x).redIAdd(h.redMul(v)),A=g.redAdd(g),B=(A=A.redIAdd(A)).redMul(S),q=C.redSqr().redISub(B.redAdd(B)),D=B.redISub(q),I=S.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var U=C.redMul(D).redISub(I),K=y.redAdd(y).redMul(m);return this.curve.jpoint(q,U,K)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),v=h.redAdd(h).redIAdd(h),x=v.redSqr(),S=this.x.redAdd(g).redSqr().redISub(h).redISub(m),C=(S=(S=(S=S.redIAdd(S)).redAdd(S).redIAdd(S)).redISub(x)).redSqr(),A=m.redIAdd(m);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var B=v.redIAdd(S).redSqr().redISub(x).redISub(C).redISub(A),q=g.redMul(B);q=(q=q.redIAdd(q)).redIAdd(q);var D=this.x.redMul(C).redISub(q);D=(D=D.redIAdd(D)).redIAdd(D);var I=this.y.redMul(B.redMul(A.redISub(B)).redISub(S.redMul(C)));I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var U=this.z.redAdd(S).redSqr().redISub(y).redISub(C);return this.curve.jpoint(D,I,U)},f.prototype.mul=function(h,g){return h=new o(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=y.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=h.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(v),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,o=s,c=e("hash.js"),u=e("./curve"),l=e("./utils").assert;function d(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(f,h){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var g=new d(h);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=d,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),o=e("hmac-drbg"),c=e("../utils"),u=e("../curves"),l=e("brorand"),d=c.assert,p=e("./key"),f=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new p(this,g)},h.prototype.keyFromPrivate=function(g,y){return p.fromPrivate(this,g,y)},h.prototype.keyFromPublic=function(g,y){return p.fromPublic(this,g,y)},h.prototype.genKeyPair=function(g){g||(g={});for(var y=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new i(2));;){var x=new i(y.generate(m));if(!(x.cmp(v)>0))return x.iaddn(1),this.keyFromPrivate(x)}},h.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,y,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new i(g,16));for(var x=this.n.byteLength(),S=y.getPrivate().toArray("be",x),C=g.toArray("be",x),A=new o({hash:this.hash,entropy:S,nonce:C,pers:v.pers,persEnc:v.persEnc||"utf8"}),B=this.n.sub(new i(1)),q=0;;q++){var D=v.k?v.k(q):new i(A.generate(this.n.byteLength()));if(!((D=this._truncateToN(D,!0)).cmpn(1)<=0||D.cmp(B)>=0)){var I=this.g.mul(D);if(!I.isInfinity()){var U=I.getX(),K=U.umod(this.n);if(K.cmpn(0)!==0){var W=D.invm(this.n).mul(K.mul(y.getPrivate()).iadd(g));if((W=W.umod(this.n)).cmpn(0)!==0){var P=(I.getY().isOdd()?1:0)|(U.cmp(K)!==0?2:0);return v.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),P^=1),new f({r:K,s:W,recoveryParam:P})}}}}}},h.prototype.verify=function(g,y,m,v){g=this._truncateToN(new i(g,16)),m=this.keyFromPublic(m,v);var x=(y=new f(y,"hex")).r,S=y.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var C,A=S.invm(this.n),B=A.mul(g).umod(this.n),q=A.mul(x).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(B,m.getPublic(),q)).isInfinity()&&C.eqXToP(x):!(C=this.g.mulAdd(B,m.getPublic(),q)).isInfinity()&&C.getX().umod(this.n).cmp(x)===0},h.prototype.recoverPubKey=function(g,y,m,v){d((3&m)===m,"The recovery param is more than two bits"),y=new f(y,v);var x=this.n,S=new i(g),C=y.r,A=y.s,B=1&m,q=m>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");C=q?this.curve.pointFromX(C.add(this.curve.n),B):this.curve.pointFromX(C,B);var D=y.r.invm(x),I=x.sub(S).mul(D).umod(x),U=A.mul(D).umod(x);return this.g.mulAdd(I,C,U)},h.prototype.getKeyRecoveryParam=function(g,y,m,v){if((y=new f(y,v)).recoveryParam!==null)return y.recoveryParam;for(var x=0;x<4;x++){var S;try{S=this.recoverPubKey(g,y,x)}catch{continue}if(S.eq(m))return x}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),o=e("../utils").assert;function c(u,l){this.ec=u,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=c,c.fromPublic=function(u,l,d){return l instanceof c?l:new c(u,{pub:l,pubEnc:d})},c.fromPrivate=function(u,l,d){return l instanceof c?l:new c(u,{priv:l,privEnc:d})},c.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(u,l){return typeof u=="string"&&(l=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,u):this.pub},c.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(u,l){this.priv=new i(u,l||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(u,l){if(u.x||u.y)return this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,l)},c.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},c.prototype.sign=function(u,l,d){return this.ec.sign(u,this,l,d)},c.prototype.verify=function(u,l){return this.ec.verify(u,l,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),c=o.assert;function u(h,g){if(h instanceof u)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function l(){this.place=0}function d(h,g){var y=h[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var v=0,x=0,S=g.place;x<m;x++,S++)v<<=8,v|=h[S],v>>>=0;return!(v<=127)&&(g.place=S,v)}function p(h){for(var g=0,y=h.length-1;!h[g]&&!(128&h[g+1])&&g<y;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(g>>>(y<<3)&255);h.push(g)}}n.exports=u,u.prototype._importDER=function(h,g){h=o.toArray(h,g);var y=new l;if(h[y.place++]!==48)return!1;var m=d(h,y);if(m===!1||m+y.place!==h.length||h[y.place++]!==2)return!1;var v=d(h,y);if(v===!1)return!1;var x=h.slice(y.place,v+y.place);if(y.place+=v,h[y.place++]!==2)return!1;var S=d(h,y);if(S===!1||h.length!==S+y.place)return!1;var C=h.slice(y.place,S+y.place);if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new i(x),this.s=new i(C),this.recoveryParam=null,!0},u.prototype.toDER=function(h){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=p(g),y=p(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,g.length),(m=m.concat(g)).push(2),f(m,y.length);var v=m.concat(y),x=[48];return f(x,v.length),x=x.concat(v),o.encode(x,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),o=e("../curves"),c=e("../utils"),u=c.assert,l=c.parseBytes,d=e("./key"),p=e("./signature");function f(h){if(u(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=o[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}n.exports=f,f.prototype.sign=function(h,g){h=l(h);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),h),v=this.g.mul(m),x=this.encodePoint(v),S=this.hashInt(x,y.pubBytes(),h).mul(y.priv()),C=m.add(S).umod(this.curve.n);return this.makeSignature({R:v,S:C,Rencoded:x})},f.prototype.verify=function(h,g,y){h=l(h),g=this.makeSignature(g);var m=this.keyFromPublic(y),v=this.hashInt(g.Rencoded(),m.pubBytes(),h),x=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(x)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return d.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return d.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof p?h:new p(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,y=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,v=c.intFromLE(y);return this.curve.pointFromY(v,m)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return c.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),o=i.assert,c=i.parseBytes,u=i.cachedProperty;function l(d,p){this.eddsa=d,this._secret=c(p.secret),d.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=c(p.pub)}l.fromPublic=function(d,p){return p instanceof l?p:new l(d,{pub:p})},l.fromSecret=function(d,p){return p instanceof l?p:new l(d,{secret:p})},l.prototype.secret=function(){return this._secret},u(l,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),u(l,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),u(l,"privBytes",(function(){var d=this.eddsa,p=this.hash(),f=d.encodingLength-1,h=p.slice(0,d.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h})),u(l,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),u(l,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),u(l,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),l.prototype.sign=function(d){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},l.prototype.verify=function(d,p){return this.eddsa.verify(d,p,this)},l.prototype.getSecret=function(d){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),d)},l.prototype.getPublic=function(d){return i.encode(this.pubBytes(),d)},n.exports=l},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),c=o.assert,u=o.cachedProperty,l=o.parseBytes;function d(p,f){this.eddsa=p,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,p.encodingLength),S:f.slice(p.encodingLength)}),c(f.R&&f.S,"Signature without R or S"),p.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(d,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),u(d,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),u(d,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),u(d,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=d},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,o=e("bn.js"),c=e("minimalistic-assert"),u=e("minimalistic-crypto-utils");i.assert=c,i.toArray=u.toArray,i.zero2=u.zero2,i.toHex=u.toHex,i.encode=u.encode,i.getNAF=function(l,d,p){var f=new Array(Math.max(l.bitLength(),p)+1);f.fill(0);for(var h=1<<d+1,g=l.clone(),y=0;y<f.length;y++){var m,v=g.andln(h-1);g.isOdd()?(m=v>(h>>1)-1?(h>>1)-v:v,g.isubn(m)):m=0,f[y]=m,g.iushrn(1)}return f},i.getJSF=function(l,d){var p=[[],[]];l=l.clone(),d=d.clone();for(var f,h=0,g=0;l.cmpn(-h)>0||d.cmpn(-g)>0;){var y,m,v=l.andln(3)+h&3,x=d.andln(3)+g&3;v===3&&(v=-1),x===3&&(x=-1),y=(1&v)==0?0:(f=l.andln(7)+h&7)!==3&&f!==5||x!==2?v:-v,p[0].push(y),m=(1&x)==0?0:(f=d.andln(7)+g&7)!==3&&f!==5||v!==2?x:-x,p[1].push(m),2*h===y+1&&(h=1-h),2*g===m+1&&(g=1-g),l.iushrn(1),d.iushrn(1)}return p},i.cachedProperty=function(l,d,p){var f="_"+d;l.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=p.call(this)}},i.parseBytes=function(l){return typeof l=="string"?i.toArray(l,"hex"):l},i.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(D){var I=function(){};return I.prototype=D,new I},o=Object.keys||function(D){var I=[];for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&I.push(U);return U},c=Function.prototype.bind||function(D){var I=this;return function(){return I.apply(D,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var l,d=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),l=p.x===0}catch{l=!1}function f(D){return D._maxListeners===void 0?u.defaultMaxListeners:D._maxListeners}function h(D,I,U){if(I)D.call(U);else for(var K=D.length,W=q(D,K),P=0;P<K;++P)W[P].call(U)}function g(D,I,U,K){if(I)D.call(U,K);else for(var W=D.length,P=q(D,W),L=0;L<W;++L)P[L].call(U,K)}function y(D,I,U,K,W){if(I)D.call(U,K,W);else for(var P=D.length,L=q(D,P),T=0;T<P;++T)L[T].call(U,K,W)}function m(D,I,U,K,W,P){if(I)D.call(U,K,W,P);else for(var L=D.length,T=q(D,L),_=0;_<L;++_)T[_].call(U,K,W,P)}function v(D,I,U,K){if(I)D.apply(U,K);else for(var W=D.length,P=q(D,W),L=0;L<W;++L)P[L].apply(U,K)}function x(D,I,U,K){var W,P,L;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if((P=D._events)?(P.newListener&&(D.emit("newListener",I,U.listener?U.listener:U),P=D._events),L=P[I]):(P=D._events=i(null),D._eventsCount=0),L){if(typeof L=="function"?L=P[I]=K?[U,L]:[L,U]:K?L.unshift(U):L.push(U),!L.warned&&(W=f(D))&&W>0&&L.length>W){L.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+L.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');T.name="MaxListenersExceededWarning",T.emitter=D,T.type=I,T.count=L.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",T.name,T.message)}}else L=P[I]=U,++D._eventsCount;return D}function S(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),I=0;I<D.length;++I)D[I]=arguments[I];this.listener.apply(this.target,D)}}function C(D,I,U){var K={fired:!1,wrapFn:void 0,target:D,type:I,listener:U},W=c.call(S,K);return W.listener=U,K.wrapFn=W,W}function A(D,I,U){var K=D._events;if(!K)return[];var W=K[I];return W?typeof W=="function"?U?[W.listener||W]:[W]:U?(function(P){for(var L=new Array(P.length),T=0;T<L.length;++T)L[T]=P[T].listener||P[T];return L})(W):q(W,W.length):[]}function B(D){var I=this._events;if(I){var U=I[D];if(typeof U=="function")return 1;if(U)return U.length}return 0}function q(D,I){for(var U=new Array(I),K=0;K<I;++K)U[K]=D[K];return U}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(D){if(typeof D!="number"||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');d=D}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(D){var I,U,K,W,P,L,T=D==="error";if(L=this._events)T=T&&L.error==null;else if(!T)return!1;if(T){if(arguments.length>1&&(I=arguments[1]),I instanceof Error)throw I;var _=new Error('Unhandled "error" event. ('+I+")");throw _.context=I,_}if(!(U=L[D]))return!1;var k=typeof U=="function";switch(K=arguments.length){case 1:h(U,k,this);break;case 2:g(U,k,this,arguments[1]);break;case 3:y(U,k,this,arguments[1],arguments[2]);break;case 4:m(U,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(K-1),P=1;P<K;P++)W[P-1]=arguments[P];v(U,k,this,W)}return!0},u.prototype.addListener=function(D,I){return x(this,D,I,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(D,I){return x(this,D,I,!0)},u.prototype.once=function(D,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,C(this,D,I)),this},u.prototype.prependOnceListener=function(D,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,C(this,D,I)),this},u.prototype.removeListener=function(D,I){var U,K,W,P,L;if(typeof I!="function")throw new TypeError('"listener" argument must be a function');if(!(K=this._events))return this;if(!(U=K[D]))return this;if(U===I||U.listener===I)--this._eventsCount==0?this._events=i(null):(delete K[D],K.removeListener&&this.emit("removeListener",D,U.listener||I));else if(typeof U!="function"){for(W=-1,P=U.length-1;P>=0;P--)if(U[P]===I||U[P].listener===I){L=U[P].listener,W=P;break}if(W<0)return this;W===0?U.shift():(function(T,_){for(var k=_,j=k+1,N=T.length;j<N;k+=1,j+=1)T[k]=T[j];T.pop()})(U,W),U.length===1&&(K[D]=U[0]),K.removeListener&&this.emit("removeListener",D,L||I)}return this},u.prototype.removeAllListeners=function(D){var I,U,K;if(!(U=this._events))return this;if(!U.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):U[D]&&(--this._eventsCount==0?this._events=i(null):delete U[D]),this;if(arguments.length===0){var W,P=o(U);for(K=0;K<P.length;++K)(W=P[K])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(I=U[D])=="function")this.removeListener(D,I);else if(I)for(K=I.length-1;K>=0;K--)this.removeListener(D,I[K]);return this},u.prototype.listeners=function(D){return A(this,D,!0)},u.prototype.rawListeners=function(D){return A(this,D,!1)},u.listenerCount=function(D,I){return typeof D.listenerCount=="function"?D.listenerCount(I):B.call(D,I)},u.prototype.listenerCount=B,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("md5.js");n.exports=function(c,u,l,d){if(i.isBuffer(c)||(c=i.from(c,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=l/8,f=i.alloc(p),h=i.alloc(d||0),g=i.alloc(0);p>0||d>0;){var y=new o;y.update(g),y.update(c),u&&y.update(u),g=y.digest();var m=0;if(p>0){var v=f.length-p;m=Math.min(p,g.length),g.copy(f,v,0,m),p-=m}if(m<g.length&&d>0){var x=h.length-d,S=Math.min(d,g.length-m);g.copy(h,x,m,m+S),d-=S}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function c(u){o.call(this),this._block=i.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,o),c.prototype._transform=function(u,l,d){var p=null;try{this.update(u,l)}catch(f){p=f}d(p)},c.prototype._flush=function(u){var l=null;try{this.push(this.digest())}catch(d){l=d}u(l)},c.prototype.update=function(u,l){if((function(y,m){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(u,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(u)||(u=i.from(u,l));for(var d=this._block,p=0;this._blockOffset+u.length-p>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)d[f++]=u[p++];this._update(),this._blockOffset=0}for(;p<u.length;)d[this._blockOffset++]=u[p++];for(var h=0,g=8*u.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();u!==void 0&&(l=l.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return l},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),o=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=c,c.prototype.update=function(u,l){if(u=i.toArray(u,l),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=i.join32(u,0,u.length-d,this.endian);for(var p=0;p<u.length;p+=this._delta32)this._update(u,p,p+this._delta32)}return this},c.prototype.digest=function(u){return this.update(this._pad()),o(this.pending===null),this._digest(u)},c.prototype._pad=function(){var u=this.pendingTotal,l=this._delta8,d=l-(u+this.padLength)%l,p=new Array(d+this.padLength);p[0]=128;for(var f=1;f<d;f++)p[f]=0;if(u<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)p[f++]=0;p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=u>>>24&255,p[f++]=u>>>16&255,p[f++]=u>>>8&255,p[f++]=255&u}else for(p[f++]=255&u,p[f++]=u>>>8&255,p[f++]=u>>>16&255,p[f++]=u>>>24&255,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,h=8;h<this.padLength;h++)p[f++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),o=e("minimalistic-assert");function c(u,l,d){if(!(this instanceof c))return new c(u,l,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(l,d))}n.exports=c,c.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),o(u.length<=this.blockSize);for(var l=u.length;l<this.blockSize;l++)u.push(0);for(l=0;l<u.length;l++)u[l]^=54;for(this.inner=new this.Hash().update(u),l=0;l<u.length;l++)u[l]^=106;this.outer=new this.Hash().update(u)},c.prototype.update=function(u,l){return this.inner.update(u,l),this},c.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),o=e("./common"),c=i.rotl32,u=i.sum32,l=i.sum32_3,d=i.sum32_4,p=o.BlockHash;function f(){if(!(this instanceof f))return new f;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,A,B,q){return C<=15?A^B^q:C<=31?A&B|~A&q:C<=47?(A|~B)^q:C<=63?A&q|B&~q:A^(B|~q)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}i.inherits(f,p),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(C,A){for(var B=this.h[0],q=this.h[1],D=this.h[2],I=this.h[3],U=this.h[4],K=B,W=q,P=D,L=I,T=U,_=0;_<80;_++){var k=u(c(d(B,h(_,q,D,I),C[m[_]+A],g(_)),x[_]),U);B=U,U=I,I=c(D,10),D=q,q=k,k=u(c(d(K,h(79-_,W,P,L),C[v[_]+A],y(_)),S[_]),T),K=T,T=L,L=c(P,10),P=W,W=k}k=l(this.h[1],D,L),this.h[1]=l(this.h[2],I,T),this.h[2]=l(this.h[3],U,K),this.h[3]=l(this.h[4],B,W),this.h[4]=l(this.h[0],q,P),this.h[0]=k},f.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),o=e("../common"),c=e("./common"),u=i.rotl32,l=i.sum32,d=i.sum32_5,p=c.ft_1,f=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var v=this.W,x=0;x<16;x++)v[x]=y[m+x];for(;x<v.length;x++)v[x]=u(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var S=this.h[0],C=this.h[1],A=this.h[2],B=this.h[3],q=this.h[4];for(x=0;x<v.length;x++){var D=~~(x/20),I=d(u(S,5),p(D,C,A,B),q,v[x],h[D]);q=B,B=A,A=u(C,30),C=S,S=I}this.h[0]=l(this.h[0],S),this.h[1]=l(this.h[1],C),this.h[2]=l(this.h[2],A),this.h[3]=l(this.h[3],B),this.h[4]=l(this.h[4],q)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),o=e("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(c,o),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),o=e("../common"),c=e("./common"),u=e("minimalistic-assert"),l=i.sum32,d=i.sum32_4,p=i.sum32_5,f=c.ch32,h=c.maj32,g=c.s0_256,y=c.s1_256,m=c.g0_256,v=c.g1_256,x=o.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}i.inherits(C,x),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(A,B){for(var q=this.W,D=0;D<16;D++)q[D]=A[B+D];for(;D<q.length;D++)q[D]=d(v(q[D-2]),q[D-7],m(q[D-15]),q[D-16]);var I=this.h[0],U=this.h[1],K=this.h[2],W=this.h[3],P=this.h[4],L=this.h[5],T=this.h[6],_=this.h[7];for(u(this.k.length===q.length),D=0;D<q.length;D++){var k=p(_,y(P),f(P,L,T),this.k[D],q[D]),j=l(g(I),h(I,U,K));_=T,T=L,L=P,P=l(W,k),W=K,K=U,U=I,I=l(k,j)}this.h[0]=l(this.h[0],I),this.h[1]=l(this.h[1],U),this.h[2]=l(this.h[2],K),this.h[3]=l(this.h[3],W),this.h[4]=l(this.h[4],P),this.h[5]=l(this.h[5],L),this.h[6]=l(this.h[6],T),this.h[7]=l(this.h[7],_)},C.prototype._digest=function(A){return A==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),o=e("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(c,o),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),o=e("../common"),c=e("minimalistic-assert"),u=i.rotr64_hi,l=i.rotr64_lo,d=i.shr64_hi,p=i.shr64_lo,f=i.sum64,h=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,m=i.sum64_4_lo,v=i.sum64_5_hi,x=i.sum64_5_lo,S=o.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function B(j,N,R,O,$){var X=j&R^~j&$;return X<0&&(X+=4294967296),X}function q(j,N,R,O,$,X){var Y=N&O^~N&X;return Y<0&&(Y+=4294967296),Y}function D(j,N,R,O,$){var X=j&R^j&$^R&$;return X<0&&(X+=4294967296),X}function I(j,N,R,O,$,X){var Y=N&O^N&X^O&X;return Y<0&&(Y+=4294967296),Y}function U(j,N){var R=u(j,N,28)^u(N,j,2)^u(N,j,7);return R<0&&(R+=4294967296),R}function K(j,N){var R=l(j,N,28)^l(N,j,2)^l(N,j,7);return R<0&&(R+=4294967296),R}function W(j,N){var R=u(j,N,14)^u(j,N,18)^u(N,j,9);return R<0&&(R+=4294967296),R}function P(j,N){var R=l(j,N,14)^l(j,N,18)^l(N,j,9);return R<0&&(R+=4294967296),R}function L(j,N){var R=u(j,N,1)^u(j,N,8)^d(j,N,7);return R<0&&(R+=4294967296),R}function T(j,N){var R=l(j,N,1)^l(j,N,8)^p(j,N,7);return R<0&&(R+=4294967296),R}function _(j,N){var R=u(j,N,19)^u(N,j,29)^d(j,N,6);return R<0&&(R+=4294967296),R}function k(j,N){var R=l(j,N,19)^l(N,j,29)^p(j,N,6);return R<0&&(R+=4294967296),R}i.inherits(A,S),n.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(j,N){for(var R=this.W,O=0;O<32;O++)R[O]=j[N+O];for(;O<R.length;O+=2){var $=_(R[O-4],R[O-3]),X=k(R[O-4],R[O-3]),Y=R[O-14],re=R[O-13],F=L(R[O-30],R[O-29]),Z=T(R[O-30],R[O-29]),V=R[O-32],z=R[O-31];R[O]=y($,X,Y,re,F,Z,V,z),R[O+1]=m($,X,Y,re,F,Z,V,z)}},A.prototype._update=function(j,N){this._prepareBlock(j,N);var R=this.W,O=this.h[0],$=this.h[1],X=this.h[2],Y=this.h[3],re=this.h[4],F=this.h[5],Z=this.h[6],V=this.h[7],z=this.h[8],G=this.h[9],ae=this.h[10],pe=this.h[11],ue=this.h[12],ge=this.h[13],ee=this.h[14],oe=this.h[15];c(this.k.length===R.length);for(var ne=0;ne<R.length;ne+=2){var fe=ee,ce=oe,ie=W(z,G),te=P(z,G),se=B(z,G,ae,pe,ue),de=q(z,G,ae,pe,ue,ge),me=this.k[ne],ke=this.k[ne+1],Ne=R[ne],De=R[ne+1],Fe=v(fe,ce,ie,te,se,de,me,ke,Ne,De),Ge=x(fe,ce,ie,te,se,de,me,ke,Ne,De);fe=U(O,$),ce=K(O,$),ie=D(O,$,X,Y,re),te=I(O,$,X,Y,re,F);var qe=h(fe,ce,ie,te),pt=g(fe,ce,ie,te);ee=ue,oe=ge,ue=ae,ge=pe,ae=z,pe=G,z=h(Z,V,Fe,Ge),G=g(V,V,Fe,Ge),Z=re,V=F,re=X,F=Y,X=O,Y=$,O=h(Fe,Ge,qe,pt),$=g(Fe,Ge,qe,pt)}f(this.h,0,O,$),f(this.h,2,X,Y),f(this.h,4,re,F),f(this.h,6,Z,V),f(this.h,8,z,G),f(this.h,10,ae,pe),f(this.h,12,ue,ge),f(this.h,14,ee,oe)},A.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function o(l,d,p){return l&d^~l&p}function c(l,d,p){return l&d^l&p^d&p}function u(l,d,p){return l^d^p}s.ft_1=function(l,d,p,f){return l===0?o(d,p,f):l===1||l===3?u(d,p,f):l===2?c(d,p,f):void 0},s.ch32=o,s.maj32=c,s.p32=u,s.s0_256=function(l){return i(l,2)^i(l,13)^i(l,22)},s.s1_256=function(l){return i(l,6)^i(l,11)^i(l,25)},s.g0_256=function(l){return i(l,7)^i(l,18)^l>>>3},s.g1_256=function(l){return i(l,17)^i(l,19)^l>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits");function c(p,f){return(64512&p.charCodeAt(f))==55296&&!(f<0||f+1>=p.length)&&(64512&p.charCodeAt(f+1))==56320}function u(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function l(p){return p.length===1?"0"+p:p}function d(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=o,s.toArray=function(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var h=[];if(typeof p=="string")if(f){if(f==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),y=0;y<p.length;y+=2)h.push(parseInt(p[y]+p[y+1],16))}else for(var g=0,y=0;y<p.length;y++){var m=p.charCodeAt(y);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):c(p,y)?(m=65536+((1023&m)<<10)+(1023&p.charCodeAt(++y)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(y=0;y<p.length;y++)h[y]=0|p[y];return h},s.toHex=function(p){for(var f="",h=0;h<p.length;h++)f+=l(p[h].toString(16));return f},s.htonl=u,s.toHex32=function(p,f){for(var h="",g=0;g<p.length;g++){var y=p[g];f==="little"&&(y=u(y)),h+=d(y.toString(16))}return h},s.zero2=l,s.zero8=d,s.join32=function(p,f,h,g){var y=h-f;i(y%4==0);for(var m=new Array(y/4),v=0,x=f;v<m.length;v++,x+=4){var S;S=g==="big"?p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3]:p[x+3]<<24|p[x+2]<<16|p[x+1]<<8|p[x],m[v]=S>>>0}return m},s.split32=function(p,f){for(var h=new Array(4*p.length),g=0,y=0;g<p.length;g++,y+=4){var m=p[g];f==="big"?(h[y]=m>>>24,h[y+1]=m>>>16&255,h[y+2]=m>>>8&255,h[y+3]=255&m):(h[y+3]=m>>>24,h[y+2]=m>>>16&255,h[y+1]=m>>>8&255,h[y]=255&m)}return h},s.rotr32=function(p,f){return p>>>f|p<<32-f},s.rotl32=function(p,f){return p<<f|p>>>32-f},s.sum32=function(p,f){return p+f>>>0},s.sum32_3=function(p,f,h){return p+f+h>>>0},s.sum32_4=function(p,f,h,g){return p+f+h+g>>>0},s.sum32_5=function(p,f,h,g,y){return p+f+h+g+y>>>0},s.sum64=function(p,f,h,g){var y=p[f],m=g+p[f+1]>>>0,v=(m<g?1:0)+h+y;p[f]=v>>>0,p[f+1]=m},s.sum64_hi=function(p,f,h,g){return(f+g>>>0<f?1:0)+p+h>>>0},s.sum64_lo=function(p,f,h,g){return f+g>>>0},s.sum64_4_hi=function(p,f,h,g,y,m,v,x){var S=0,C=f;return S+=(C=C+g>>>0)<f?1:0,S+=(C=C+m>>>0)<m?1:0,p+h+y+v+(S+=(C=C+x>>>0)<x?1:0)>>>0},s.sum64_4_lo=function(p,f,h,g,y,m,v,x){return f+g+m+x>>>0},s.sum64_5_hi=function(p,f,h,g,y,m,v,x,S,C){var A=0,B=f;return A+=(B=B+g>>>0)<f?1:0,A+=(B=B+m>>>0)<m?1:0,A+=(B=B+x>>>0)<x?1:0,p+h+y+v+S+(A+=(B=B+C>>>0)<C?1:0)>>>0},s.sum64_5_lo=function(p,f,h,g,y,m,v,x,S,C){return f+g+m+x+C>>>0},s.rotr64_hi=function(p,f,h){return(f<<32-h|p>>>h)>>>0},s.rotr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0},s.shr64_hi=function(p,f,h){return p>>>h},s.shr64_lo=function(p,f,h){return(p<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),o=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function u(l){if(!(this instanceof u))return new u(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=o.toArray(l.entropy,l.entropyEnc||"hex"),p=o.toArray(l.nonce,l.nonceEnc||"hex"),f=o.toArray(l.pers,l.persEnc||"hex");c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,p,f)}n.exports=u,u.prototype._init=function(l,d,p){var f=l.concat(d).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},u.prototype._update=function(l){var d=this._hmac().update(this.V).update([0]);l&&(d=d.update(l)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(l,d,p,f){typeof d!="string"&&(f=p,p=d,d=null),l=o.toArray(l,d),p=o.toArray(p,f),c(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(p||[])),this._reseed=1},u.prototype.generate=function(l,d,p,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(f=p,p=d,d=null),p&&(p=o.toArray(p,f||"hex"),this._update(p));for(var h=[];h.length<l;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,l);return this._update(p),this._reseed++,o.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,o,c,u,l){var d,p,f=8*l-u-1,h=(1<<f)-1,g=h>>1,y=-7,m=c?l-1:0,v=c?-1:1,x=i[o+m];for(m+=v,d=x&(1<<-y)-1,x>>=-y,y+=f;y>0;d=256*d+i[o+m],m+=v,y-=8);for(p=d&(1<<-y)-1,d>>=-y,y+=u;y>0;p=256*p+i[o+m],m+=v,y-=8);if(d===0)d=1-g;else{if(d===h)return p?NaN:1/0*(x?-1:1);p+=Math.pow(2,u),d-=g}return(x?-1:1)*p*Math.pow(2,d-u)},s.write=function(i,o,c,u,l,d){var p,f,h,g=8*d-l-1,y=(1<<g)-1,m=y>>1,v=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:d-1,S=u?1:-1,C=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,p=y):(p=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-p))<1&&(p--,h*=2),(o+=p+m>=1?v/h:v*Math.pow(2,1-m))*h>=2&&(p++,h/=2),p+m>=y?(f=0,p=y):p+m>=1?(f=(o*h-1)*Math.pow(2,l),p+=m):(f=o*Math.pow(2,m-1)*Math.pow(2,l),p=0));l>=8;i[c+x]=255&f,x+=S,f/=256,l-=8);for(p=p<<l|f,g+=l;g>0;i[c+x]=255&p,x+=S,p/=256,g-=8);i[c+x-S]|=128*C}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,o){if(o){i.super_=o;var c=function(){};c.prototype=o.prototype,i.prototype=new c,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,o,c,u,l,d,p,f){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof s=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=h()})((function(){return(function h(g,y,m){function v(C,A){if(!y[C]){if(!g[C]){var B=typeof e=="function"&&e;if(!A&&B)return B(C,!0);if(x)return x(C,!0);var q=new Error("Cannot find module '"+C+"'");throw q.code="MODULE_NOT_FOUND",q}var D=y[C]={exports:{}};g[C][0].call(D.exports,(function(I){return v(g[C][1][I]||I)}),D,D.exports,h,g,y,m)}return y[C].exports}for(var x=typeof e=="function"&&e,S=0;S<m.length;S++)v(m[S]);return v})({1:[function(h,g,y){var m=h("./utils"),v=h("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(S){for(var C,A,B,q,D,I,U,K=[],W=0,P=S.length,L=P,T=m.getTypeOf(S)!=="string";W<S.length;)L=P-W,B=T?(C=S[W++],A=W<P?S[W++]:0,W<P?S[W++]:0):(C=S.charCodeAt(W++),A=W<P?S.charCodeAt(W++):0,W<P?S.charCodeAt(W++):0),q=C>>2,D=(3&C)<<4|A>>4,I=1<L?(15&A)<<2|B>>6:64,U=2<L?63&B:64,K.push(x.charAt(q)+x.charAt(D)+x.charAt(I)+x.charAt(U));return K.join("")},y.decode=function(S){var C,A,B,q,D,I,U=0,K=0,W="data:";if(S.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var P,L=3*(S=S.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(S.charAt(S.length-1)===x.charAt(64)&&L--,S.charAt(S.length-2)===x.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=v.uint8array?new Uint8Array(0|L):new Array(0|L);U<S.length;)C=x.indexOf(S.charAt(U++))<<2|(q=x.indexOf(S.charAt(U++)))>>4,A=(15&q)<<4|(D=x.indexOf(S.charAt(U++)))>>2,B=(3&D)<<6|(I=x.indexOf(S.charAt(U++))),P[K++]=C,D!==64&&(P[K++]=A),I!==64&&(P[K++]=B);return P}},{"./support":30,"./utils":32}],2:[function(h,g,y){var m=h("./external"),v=h("./stream/DataWorker"),x=h("./stream/Crc32Probe"),S=h("./stream/DataLengthProbe");function C(A,B,q,D,I){this.compressedSize=A,this.uncompressedSize=B,this.crc32=q,this.compression=D,this.compressedContent=I}C.prototype={getContentWorker:function(){var A=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new S("data_length")),B=this;return A.on("end",(function(){if(this.streamInfo.data_length!==B.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),A},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(A,B,q){return A.pipe(new x).pipe(new S("uncompressedSize")).pipe(B.compressWorker(q)).pipe(new S("compressedSize")).withStreamInfo("compression",B)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,y){var m=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,y){var m=h("./utils"),v=(function(){for(var x,S=[],C=0;C<256;C++){x=C;for(var A=0;A<8;A++)x=1&x?3988292384^x>>>1:x>>>1;S[C]=x}return S})();g.exports=function(x,S){return x!==void 0&&x.length?m.getTypeOf(x)!=="string"?(function(C,A,B,q){var D=v,I=0+B;C^=-1;for(var U=0;U<I;U++)C=C>>>8^D[255&(C^A[U])];return-1^C})(0|S,x,x.length):(function(C,A,B,q){var D=v,I=0+B;C^=-1;for(var U=0;U<I;U++)C=C>>>8^D[255&(C^A.charCodeAt(U))];return-1^C})(0|S,x,x.length):0}},{"./utils":32}],5:[function(h,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,g,y){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),x=h("./utils"),S=h("./stream/GenericWorker"),C=m?"uint8array":"array";function A(B,q){S.call(this,"FlateWorker/"+B),this._pako=null,this._pakoAction=B,this._pakoOptions=q,this.meta={}}y.magic="\b\0",x.inherits(A,S),A.prototype.processChunk=function(B){this.meta=B.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(C,B.data),!1)},A.prototype.flush=function(){S.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var B=this;this._pako.onData=function(q){B.push({data:q,meta:B.meta})}},y.compressWorker=function(B){return new A("Deflate",B)},y.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,y){function m(D,I){var U,K="";for(U=0;U<I;U++)K+=String.fromCharCode(255&D),D>>>=8;return K}function v(D,I,U,K,W,P){var L,T,_=D.file,k=D.compression,j=P!==C.utf8encode,N=x.transformTo("string",P(_.name)),R=x.transformTo("string",C.utf8encode(_.name)),O=_.comment,$=x.transformTo("string",P(O)),X=x.transformTo("string",C.utf8encode(O)),Y=R.length!==_.name.length,re=X.length!==O.length,F="",Z="",V="",z=_.dir,G=_.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};I&&!U||(ae.crc32=D.crc32,ae.compressedSize=D.compressedSize,ae.uncompressedSize=D.uncompressedSize);var pe=0;I&&(pe|=8),j||!Y&&!re||(pe|=2048);var ue=0,ge=0;z&&(ue|=16),W==="UNIX"?(ge=798,ue|=(function(oe,ne){var fe=oe;return oe||(fe=ne?16893:33204),(65535&fe)<<16})(_.unixPermissions,z)):(ge=20,ue|=(function(oe){return 63&(oe||0)})(_.dosPermissions)),L=G.getUTCHours(),L<<=6,L|=G.getUTCMinutes(),L<<=5,L|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),Y&&(Z=m(1,1)+m(A(N),4)+R,F+="up"+m(Z.length,2)+Z),re&&(V=m(1,1)+m(A($),4)+X,F+="uc"+m(V.length,2)+V);var ee="";return ee+=`
\0`,ee+=m(pe,2),ee+=k.magic,ee+=m(L,2),ee+=m(T,2),ee+=m(ae.crc32,4),ee+=m(ae.compressedSize,4),ee+=m(ae.uncompressedSize,4),ee+=m(N.length,2),ee+=m(F.length,2),{fileRecord:B.LOCAL_FILE_HEADER+ee+N+F,dirRecord:B.CENTRAL_FILE_HEADER+m(ge,2)+ee+m($.length,2)+"\0\0\0\0"+m(ue,4)+m(K,4)+N+F+$}}var x=h("../utils"),S=h("../stream/GenericWorker"),C=h("../utf8"),A=h("../crc32"),B=h("../signature");function q(D,I,U,K){S.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=U,this.encodeFileName=K,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(q,S),q.prototype.push=function(D){var I=D.meta.percent||0,U=this.entriesCount,K=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,S.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:U?(I+100*(U-K-1))/U:100}}))},q.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var I=this.streamFiles&&!D.file.dir;if(I){var U=v(D,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:U.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(D){this.accumulate=!1;var I=this.streamFiles&&!D.file.dir,U=v(D,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(U.dirRecord),I)this.push({data:(function(K){return B.DATA_DESCRIPTOR+m(K.crc32,4)+m(K.compressedSize,4)+m(K.uncompressedSize,4)})(D),meta:{percent:100}});else for(this.push({data:U.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var D=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var U=this.bytesWritten-D,K=(function(W,P,L,T,_){var k=x.transformTo("string",_(T));return B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(W,2)+m(W,2)+m(P,4)+m(L,4)+m(k.length,2)+k})(this.dirRecords.length,U,D,this.zipComment,this.encodeFileName);this.push({data:K,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(D){this._sources.push(D);var I=this;return D.on("data",(function(U){I.processChunk(U)})),D.on("end",(function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()})),D.on("error",(function(U){I.error(U)})),this},q.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(D){var I=this._sources;if(!S.prototype.error.call(this,D))return!1;for(var U=0;U<I.length;U++)try{I[U].error(D)}catch{}return!0},q.prototype.lock=function(){S.prototype.lock.call(this);for(var D=this._sources,I=0;I<D.length;I++)D[I].lock()},g.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,y){var m=h("../compressions"),v=h("./ZipFileWorker");y.generateWorker=function(x,S,C){var A=new v(S.streamFiles,C,S.platform,S.encodeFileName),B=0;try{x.forEach((function(q,D){B++;var I=(function(P,L){var T=P||L,_=m[T];if(!_)throw new Error(T+" is not a valid compression method !");return _})(D.options.compression,S.compression),U=D.options.compressionOptions||S.compressionOptions||{},K=D.dir,W=D.date;D._compressWorker(I,U).withStreamInfo("file",{name:q,dir:K,date:W,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(A)})),A.entriesCount=B}catch(q){A.error(q)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var x in this)typeof this[x]!="function"&&(v[x]=this[x]);return v}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(v,x){return new m().loadAsync(v,x)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,y){var m=h("./utils"),v=h("./external"),x=h("./utf8"),S=h("./zipEntries"),C=h("./stream/Crc32Probe"),A=h("./nodejsUtils");function B(q){return new v.Promise((function(D,I){var U=q.decompressed.getContentWorker().pipe(new C);U.on("error",(function(K){I(K)})).on("end",(function(){U.streamInfo.crc32!==q.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):D()})).resume()}))}g.exports=function(q,D){var I=this;return D=m.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),A.isNode&&A.isStream(q)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",q,!0,D.optimizedBinaryString,D.base64).then((function(U){var K=new S(D);return K.load(U),K})).then((function(U){var K=[v.Promise.resolve(U)],W=U.files;if(D.checkCRC32)for(var P=0;P<W.length;P++)K.push(B(W[P]));return v.Promise.all(K)})).then((function(U){for(var K=U.shift(),W=K.files,P=0;P<W.length;P++){var L=W[P],T=L.fileNameStr,_=m.resolve(L.fileNameStr);I.file(_,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:D.createFolders}),L.dir||(I.file(_).unsafeOriginalName=T)}return K.zipComment.length&&(I.comment=K.zipComment),I}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,y){var m=h("../utils"),v=h("../stream/GenericWorker");function x(S,C){v.call(this,"Nodejs stream input adapter for "+S),this._upstreamEnded=!1,this._bindStream(C)}m.inherits(x,v),x.prototype._bindStream=function(S){var C=this;(this._stream=S).pause(),S.on("data",(function(A){C.push({data:A,meta:{percent:0}})})).on("error",(function(A){C.isPaused?this.generatedError=A:C.error(A)})).on("end",(function(){C.isPaused?C._upstreamEnded=!0:C.end()}))},x.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,y){var m=h("readable-stream").Readable;function v(x,S,C){m.call(this,S),this._helper=x;var A=this;x.on("data",(function(B,q){A.push(B)||A._helper.pause(),C&&C(q)})).on("error",(function(B){A.emit("error",B)})).on("end",(function(){A.push(null)}))}h("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,g,y){g.exports={isNode:c!==void 0,newBufferFrom:function(m,v){if(c.from&&c.from!==Uint8Array.from)return c.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,v)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var v=new c(m);return v.fill(0),v},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,y){function m(_,k,j){var N,R=x.getTypeOf(k),O=x.extend(j||{},A);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(_=W(_)),O.createFolders&&(N=K(_))&&P.call(this,N,!0);var $=R==="string"&&O.binary===!1&&O.base64===!1;j&&j.binary!==void 0||(O.binary=!$),(k instanceof B&&k.uncompressedSize===0||O.dir||!k||k.length===0)&&(O.base64=!1,O.binary=!0,k="",O.compression="STORE",R="string");var X;X=k instanceof B||k instanceof S?k:I.isNode&&I.isStream(k)?new U(_,k):x.prepareContent(_,k,O.binary,O.optimizedBinaryString,O.base64);var Y=new q(_,X,O);this.files[_]=Y}var v=h("./utf8"),x=h("./utils"),S=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),A=h("./defaults"),B=h("./compressedObject"),q=h("./zipObject"),D=h("./generate"),I=h("./nodejsUtils"),U=h("./nodejs/NodejsStreamInputAdapter"),K=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var k=_.lastIndexOf("/");return 0<k?_.substring(0,k):""},W=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},P=function(_,k){return k=k!==void 0?k:A.createFolders,_=W(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:k}),this.files[_]};function L(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var k,j,N;for(k in this.files)N=this.files[k],(j=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&_(j,N)},filter:function(_){var k=[];return this.forEach((function(j,N){_(j,N)&&k.push(N)})),k},file:function(_,k,j){if(arguments.length!==1)return _=this.root+_,m.call(this,_,k,j),this;if(L(_)){var N=_;return this.filter((function(O,$){return!$.dir&&N.test(O)}))}var R=this.files[this.root+_];return R&&!R.dir?R:null},folder:function(_){if(!_)return this;if(L(_))return this.filter((function(R,O){return O.dir&&_.test(R)}));var k=this.root+_,j=P.call(this,k),N=this.clone();return N.root=j.name,N},remove:function(_){_=this.root+_;var k=this.files[_];if(k||(_.slice(-1)!=="/"&&(_+="/"),k=this.files[_]),k&&!k.dir)delete this.files[_];else for(var j=this.filter((function(R,O){return O.name.slice(0,_.length)===_})),N=0;N<j.length;N++)delete this.files[j[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var k,j={};try{if((j=x.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");x.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var N=j.comment||this.comment||"";k=D.generateWorker(this,j,N)}catch(R){(k=new S("error")).error(R)}return new C(k,j.type||"string",j.mimeType)},generateAsync:function(_,k){return this.generateInternalStream(_).accumulate(k)},generateNodeStream:function(_,k){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(k)}};g.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,y){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x);for(var S=0;S<this.data.length;S++)x[S]=255&x[S]}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data[this.zero+x]},v.prototype.lastIndexOfSignature=function(x){for(var S=x.charCodeAt(0),C=x.charCodeAt(1),A=x.charCodeAt(2),B=x.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===S&&this.data[q+1]===C&&this.data[q+2]===A&&this.data[q+3]===B)return q-this.zero;return-1},v.prototype.readAndCheckSignature=function(x){var S=x.charCodeAt(0),C=x.charCodeAt(1),A=x.charCodeAt(2),B=x.charCodeAt(3),q=this.readData(4);return S===q[0]&&C===q[1]&&A===q[2]&&B===q[3]},v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,g,y){var m=h("../utils");function v(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var S,C=0;for(this.checkOffset(x),S=this.index+x-1;S>=this.index;S--)C=(C<<8)+this.byteAt(S);return this.index+=x,C},readString:function(x){return m.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},g.exports=v},{"../utils":32}],19:[function(h,g,y){var m=h("./Uint8ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){this.checkOffset(x);var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,y){var m=h("./DataReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},v.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},v.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},v.prototype.readData=function(x){this.checkOffset(x);var S=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,g,y){var m=h("./ArrayReader");function v(x){m.call(this,x)}h("../utils").inherits(v,m),v.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var S=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,S},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,y){var m=h("../utils"),v=h("../support"),x=h("./ArrayReader"),S=h("./StringReader"),C=h("./NodeBufferReader"),A=h("./Uint8ArrayReader");g.exports=function(B){var q=m.getTypeOf(B);return m.checkSupport(q),q!=="string"||v.uint8array?q==="nodebuffer"?new C(B):v.uint8array?new A(m.transformTo("uint8array",B)):new x(m.transformTo("array",B)):new S(B)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,y){var m=h("./GenericWorker"),v=h("../utils");function x(S){m.call(this,"ConvertWorker to "+S),this.destType=S}v.inherits(x,m),x.prototype.processChunk=function(S){this.push({data:v.transformTo(this.destType,S.data),meta:S.meta})},g.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,y){var m=h("./GenericWorker"),v=h("../crc32");function x(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(x,m),x.prototype.processChunk=function(S){this.streamInfo.crc32=v(S.data,this.streamInfo.crc32||0),this.push(S)},g.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(S){v.call(this,"DataLengthProbe for "+S),this.propName=S,this.withStreamInfo(S,0)}m.inherits(x,v),x.prototype.processChunk=function(S){if(S){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+S.data.length}v.prototype.processChunk.call(this,S)},g.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,y){var m=h("../utils"),v=h("./GenericWorker");function x(S){v.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,S.then((function(A){C.dataIsReady=!0,C.data=A,C.max=A&&A.length||0,C.type=m.getTypeOf(A),C.isPaused||C._tickAndRepeat()}),(function(A){C.error(A)}))}m.inherits(x,v),x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var S=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":S=this.data.substring(this.index,C);break;case"uint8array":S=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":S=this.data.slice(this.index,C)}return this.index=C,this.push({data:S,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,y){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,x){return this._listeners[v].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,x){if(this._listeners[v])for(var S=0;S<this._listeners[v].length;S++)this._listeners[v][S].call(this,x)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var x=this;return v.on("data",(function(S){x.processChunk(S)})),v.on("end",(function(){x.end()})),v.on("error",(function(S){x.error(S)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,x){return this.extraStreamInfo[v]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(h,g,y){var m=h("../utils"),v=h("./ConvertWorker"),x=h("./GenericWorker"),S=h("../base64"),C=h("../support"),A=h("../external"),B=null;if(C.nodestream)try{B=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(D,I,U){var K=I;switch(I){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=I,this._mimeType=U,m.checkSupport(K),this._worker=D.pipe(new v(K)),D.lock()}catch(W){this._worker=new x("error"),this._worker.error(W)}}q.prototype={accumulate:function(D){return(function(I,U){return new A.Promise((function(K,W){var P=[],L=I._internalType,T=I._outputType,_=I._mimeType;I.on("data",(function(k,j){P.push(k),U&&U(j)})).on("error",(function(k){P=[],W(k)})).on("end",(function(){try{var k=(function(j,N,R){switch(j){case"blob":return m.newBlob(m.transformTo("arraybuffer",N),R);case"base64":return S.encode(N);default:return m.transformTo(j,N)}})(T,(function(j,N){var R,O=0,$=null,X=0;for(R=0;R<N.length;R++)X+=N[R].length;switch(j){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for($=new Uint8Array(X),R=0;R<N.length;R++)$.set(N[R],O),O+=N[R].length;return $;case"nodebuffer":return c.concat(N);default:throw new Error("concat : unsupported type '"+j+"'")}})(L,P),_);K(k)}catch(j){W(j)}P=[]})).resume()}))})(this,D)},on:function(D,I){var U=this;return D==="data"?this._worker.on(D,(function(K){I.call(U,K.data,K.meta)})):this._worker.on(D,(function(){m.delay(I,arguments,U)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:this._outputType!=="nodebuffer"},D)}},g.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=c!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),y.blob=v.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,y){for(var m=h("./utils"),v=h("./support"),x=h("./nodejsUtils"),S=h("./stream/GenericWorker"),C=new Array(256),A=0;A<256;A++)C[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function B(){S.call(this,"utf-8 decode"),this.leftOver=null}function q(){S.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(D){return v.nodebuffer?x.newBufferFrom(D,"utf-8"):(function(I){var U,K,W,P,L,T=I.length,_=0;for(P=0;P<T;P++)(64512&(K=I.charCodeAt(P)))==55296&&P+1<T&&(64512&(W=I.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(W-56320),P++),_+=K<128?1:K<2048?2:K<65536?3:4;for(U=v.uint8array?new Uint8Array(_):new Array(_),P=L=0;L<_;P++)(64512&(K=I.charCodeAt(P)))==55296&&P+1<T&&(64512&(W=I.charCodeAt(P+1)))==56320&&(K=65536+(K-55296<<10)+(W-56320),P++),K<128?U[L++]=K:(K<2048?U[L++]=192|K>>>6:(K<65536?U[L++]=224|K>>>12:(U[L++]=240|K>>>18,U[L++]=128|K>>>12&63),U[L++]=128|K>>>6&63),U[L++]=128|63&K);return U})(D)},y.utf8decode=function(D){return v.nodebuffer?m.transformTo("nodebuffer",D).toString("utf-8"):(function(I){var U,K,W,P,L=I.length,T=new Array(2*L);for(U=K=0;U<L;)if((W=I[U++])<128)T[K++]=W;else if(4<(P=C[W]))T[K++]=65533,U+=P-1;else{for(W&=P===2?31:P===3?15:7;1<P&&U<L;)W=W<<6|63&I[U++],P--;1<P?T[K++]=65533:W<65536?T[K++]=W:(W-=65536,T[K++]=55296|W>>10&1023,T[K++]=56320|1023&W)}return T.length!==K&&(T.subarray?T=T.subarray(0,K):T.length=K),m.applyFromCharCode(T)})(D=m.transformTo(v.uint8array?"uint8array":"array",D))},m.inherits(B,S),B.prototype.processChunk=function(D){var I=m.transformTo(v.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var U=I;(I=new Uint8Array(U.length+this.leftOver.length)).set(this.leftOver,0),I.set(U,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var K=(function(P,L){var T;for((L=L||P.length)>P.length&&(L=P.length),T=L-1;0<=T&&(192&P[T])==128;)T--;return T<0||T===0?L:T+C[P[T]]>L?T:L})(I),W=I;K!==I.length&&(v.uint8array?(W=I.subarray(0,K),this.leftOver=I.subarray(K,I.length)):(W=I.slice(0,K),this.leftOver=I.slice(K,I.length))),this.push({data:y.utf8decode(W),meta:D.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=B,m.inherits(q,S),q.prototype.processChunk=function(D){this.push({data:y.utf8encode(D.data),meta:D.meta})},y.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,y){var m=h("./support"),v=h("./base64"),x=h("./nodejsUtils"),S=h("./external");function C(U){return U}function A(U,K){for(var W=0;W<U.length;++W)K[W]=255&U.charCodeAt(W);return K}h("setimmediate"),y.newBlob=function(U,K){y.checkSupport("blob");try{return new Blob([U],{type:K})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(U),W.getBlob(K)}catch{throw new Error("Bug : can't construct the Blob.")}}};var B={stringifyByChunk:function(U,K,W){var P=[],L=0,T=U.length;if(T<=W)return String.fromCharCode.apply(null,U);for(;L<T;)K==="array"||K==="nodebuffer"?P.push(String.fromCharCode.apply(null,U.slice(L,Math.min(L+W,T)))):P.push(String.fromCharCode.apply(null,U.subarray(L,Math.min(L+W,T)))),L+=W;return P.join("")},stringifyByChar:function(U){for(var K="",W=0;W<U.length;W++)K+=String.fromCharCode(U[W]);return K},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function q(U){var K=65536,W=y.getTypeOf(U),P=!0;if(W==="uint8array"?P=B.applyCanBeUsed.uint8array:W==="nodebuffer"&&(P=B.applyCanBeUsed.nodebuffer),P)for(;1<K;)try{return B.stringifyByChunk(U,W,K)}catch{K=Math.floor(K/2)}return B.stringifyByChar(U)}function D(U,K){for(var W=0;W<U.length;W++)K[W]=U[W];return K}y.applyFromCharCode=q;var I={};I.string={string:C,array:function(U){return A(U,new Array(U.length))},arraybuffer:function(U){return I.string.uint8array(U).buffer},uint8array:function(U){return A(U,new Uint8Array(U.length))},nodebuffer:function(U){return A(U,x.allocBuffer(U.length))}},I.array={string:q,array:C,arraybuffer:function(U){return new Uint8Array(U).buffer},uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return x.newBufferFrom(U)}},I.arraybuffer={string:function(U){return q(new Uint8Array(U))},array:function(U){return D(new Uint8Array(U),new Array(U.byteLength))},arraybuffer:C,uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return x.newBufferFrom(new Uint8Array(U))}},I.uint8array={string:q,array:function(U){return D(U,new Array(U.length))},arraybuffer:function(U){return U.buffer},uint8array:C,nodebuffer:function(U){return x.newBufferFrom(U)}},I.nodebuffer={string:q,array:function(U){return D(U,new Array(U.length))},arraybuffer:function(U){return I.nodebuffer.uint8array(U).buffer},uint8array:function(U){return D(U,new Uint8Array(U.length))},nodebuffer:C},y.transformTo=function(U,K){if(K=K||"",!U)return K;y.checkSupport(U);var W=y.getTypeOf(K);return I[W][U](K)},y.resolve=function(U){for(var K=U.split("/"),W=[],P=0;P<K.length;P++){var L=K[P];L==="."||L===""&&P!==0&&P!==K.length-1||(L===".."?W.pop():W.push(L))}return W.join("/")},y.getTypeOf=function(U){return typeof U=="string"?"string":Object.prototype.toString.call(U)==="[object Array]"?"array":m.nodebuffer&&x.isBuffer(U)?"nodebuffer":m.uint8array&&U instanceof Uint8Array?"uint8array":m.arraybuffer&&U instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(U){if(!m[U.toLowerCase()])throw new Error(U+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(U){var K,W,P="";for(W=0;W<(U||"").length;W++)P+="\\x"+((K=U.charCodeAt(W))<16?"0":"")+K.toString(16).toUpperCase();return P},y.delay=function(U,K,W){f((function(){U.apply(W||null,K||[])}))},y.inherits=function(U,K){function W(){}W.prototype=K.prototype,U.prototype=new W},y.extend=function(){var U,K,W={};for(U=0;U<arguments.length;U++)for(K in arguments[U])Object.prototype.hasOwnProperty.call(arguments[U],K)&&W[K]===void 0&&(W[K]=arguments[U][K]);return W},y.prepareContent=function(U,K,W,P,L){return S.Promise.resolve(K).then((function(T){return m.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new S.Promise((function(_,k){var j=new FileReader;j.onload=function(N){_(N.target.result)},j.onerror=function(N){k(N.target.error)},j.readAsArrayBuffer(T)})):T})).then((function(T){var _=y.getTypeOf(T);return _?(_==="arraybuffer"?T=y.transformTo("uint8array",T):_==="string"&&(L?T=v.decode(T):W&&P!==!0&&(T=(function(k){return A(k,m.uint8array?new Uint8Array(k.length):new Array(k.length))})(T))),T):S.Promise.reject(new Error("Can't read the data of '"+U+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./signature"),S=h("./zipEntry"),C=h("./support");function A(B){this.files=[],this.loadOptions=B}A.prototype={checkSignature:function(B){if(!this.reader.readAndCheckSignature(B)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(q)+", expected "+v.pretty(B)+")")}},isSignature:function(B,q){var D=this.reader.index;this.reader.setIndex(B);var I=this.reader.readString(4)===q;return this.reader.setIndex(D),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var B=this.reader.readData(this.zipCommentLength),q=C.uint8array?"uint8array":"array",D=v.transformTo(q,B);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var B,q,D,I=this.zip64EndOfCentralSize-44;0<I;)B=this.reader.readInt(2),q=this.reader.readInt(4),D=this.reader.readData(q),this.zip64ExtensibleData[B]={id:B,length:q,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var B,q;for(B=0;B<this.files.length;B++)q=this.files[B],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var B;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(B=new S({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(B);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var B=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(B<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(B);var q=B;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(B=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(B),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var I=q-D;if(0<I)this.isSignature(q,x.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(B){this.reader=m(B)},load:function(B){this.prepareReader(B),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,y){var m=h("./reader/readerFor"),v=h("./utils"),x=h("./compressedObject"),S=h("./crc32"),C=h("./utf8"),A=h("./compressions"),B=h("./support");function q(D,I){this.options=D,this.loadOptions=I}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var I,U;if(D.skip(22),this.fileNameLength=D.readInt(2),U=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(U),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=(function(K){for(var W in A)if(Object.prototype.hasOwnProperty.call(A,W)&&A[W].magic===K)return A[W];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,I,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var I=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(I),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var D=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=D.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=D.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=D.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=D.readInt(4))}},readExtraFields:function(D){var I,U,K,W=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<W;)I=D.readInt(2),U=D.readInt(2),K=D.readData(U),this.extraFields[I]={id:I,length:U,value:K};D.setIndex(W)},handleUTF8:function(){var D=B.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var U=v.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(U)}var K=this.findExtraFieldUnicodeComment();if(K!==null)this.fileCommentStr=K;else{var W=v.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var I=m(D.value);return I.readInt(1)!==1||S(this.fileName)!==I.readInt(4)?null:C.utf8decode(I.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var I=m(D.value);return I.readInt(1)!==1||S(this.fileComment)!==I.readInt(4)?null:C.utf8decode(I.readData(D.length-5))}return null}},g.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,y){function m(I,U,K){this.name=I,this.dir=K.dir,this.date=K.date,this.comment=K.comment,this.unixPermissions=K.unixPermissions,this.dosPermissions=K.dosPermissions,this._data=U,this._dataBinary=K.binary,this.options={compression:K.compression,compressionOptions:K.compressionOptions}}var v=h("./stream/StreamHelper"),x=h("./stream/DataWorker"),S=h("./utf8"),C=h("./compressedObject"),A=h("./stream/GenericWorker");m.prototype={internalStream:function(I){var U=null,K="string";try{if(!I)throw new Error("No output type specified.");var W=(K=I.toLowerCase())==="string"||K==="text";K!=="binarystring"&&K!=="text"||(K="string"),U=this._decompressWorker();var P=!this._dataBinary;P&&!W&&(U=U.pipe(new S.Utf8EncodeWorker)),!P&&W&&(U=U.pipe(new S.Utf8DecodeWorker))}catch(L){(U=new A("error")).error(L)}return new v(U,K,"")},async:function(I,U){return this.internalStream(I).accumulate(U)},nodeStream:function(I,U){return this.internalStream(I||"nodebuffer").toNodejsStream(U)},_compressWorker:function(I,U){if(this._data instanceof C&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var K=this._decompressWorker();return this._dataBinary||(K=K.pipe(new S.Utf8EncodeWorker)),C.createWorkerFrom(K,I,U)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof A?this._data:new x(this._data)}};for(var B=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<B.length;D++)m.prototype[B[D]]=q;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,y){(function(m){var v,x,S=m.MutationObserver||m.WebKitMutationObserver;if(S){var C=0,A=new S(I),B=m.document.createTextNode("");A.observe(B,{characterData:!0}),v=function(){B.data=C=++C%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var U=m.document.createElement("script");U.onreadystatechange=function(){I(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},m.document.documentElement.appendChild(U)}:function(){setTimeout(I,0)};else{var q=new m.MessageChannel;q.port1.onmessage=I,v=function(){q.port2.postMessage(0)}}var D=[];function I(){var U,K;x=!0;for(var W=D.length;W;){for(K=D,D=[],U=-1;++U<W;)K[U]();W=D.length}x=!1}g.exports=function(U){D.push(U)!==1||x||v()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,y){var m=h("immediate");function v(){}var x={},S=["REJECTED"],C=["FULFILLED"],A=["PENDING"];function B(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,W!==v&&U(this,W)}function q(W,P,L){this.promise=W,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function D(W,P,L){m((function(){var T;try{T=P(L)}catch(_){return x.reject(W,_)}T===W?x.reject(W,new TypeError("Cannot resolve promise with itself")):x.resolve(W,T)}))}function I(W){var P=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof P=="function")return function(){P.apply(W,arguments)}}function U(W,P){var L=!1;function T(j){L||(L=!0,x.reject(W,j))}function _(j){L||(L=!0,x.resolve(W,j))}var k=K((function(){P(_,T)}));k.status==="error"&&T(k.value)}function K(W,P){var L={};try{L.value=W(P),L.status="success"}catch(T){L.status="error",L.value=T}return L}(g.exports=B).prototype.finally=function(W){if(typeof W!="function")return this;var P=this.constructor;return this.then((function(L){return P.resolve(W()).then((function(){return L}))}),(function(L){return P.resolve(W()).then((function(){throw L}))}))},B.prototype.catch=function(W){return this.then(null,W)},B.prototype.then=function(W,P){if(typeof W!="function"&&this.state===C||typeof P!="function"&&this.state===S)return this;var L=new this.constructor(v);return this.state!==A?D(L,this.state===C?W:P,this.outcome):this.queue.push(new q(L,W,P)),L},q.prototype.callFulfilled=function(W){x.resolve(this.promise,W)},q.prototype.otherCallFulfilled=function(W){D(this.promise,this.onFulfilled,W)},q.prototype.callRejected=function(W){x.reject(this.promise,W)},q.prototype.otherCallRejected=function(W){D(this.promise,this.onRejected,W)},x.resolve=function(W,P){var L=K(I,P);if(L.status==="error")return x.reject(W,L.value);var T=L.value;if(T)U(W,T);else{W.state=C,W.outcome=P;for(var _=-1,k=W.queue.length;++_<k;)W.queue[_].callFulfilled(P)}return W},x.reject=function(W,P){W.state=S,W.outcome=P;for(var L=-1,T=W.queue.length;++L<T;)W.queue[L].callRejected(P);return W},B.resolve=function(W){return W instanceof this?W:x.resolve(new this(v),W)},B.reject=function(W){var P=new this(v);return x.reject(P,W)},B.all=function(W){var P=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=W.length,T=!1;if(!L)return this.resolve([]);for(var _=new Array(L),k=0,j=-1,N=new this(v);++j<L;)R(W[j],j);return N;function R(O,$){P.resolve(O).then((function(X){_[$]=X,++k!==L||T||(T=!0,x.resolve(N,_))}),(function(X){T||(T=!0,x.reject(N,X))}))}},B.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=W.length,L=!1;if(!P)return this.resolve([]);for(var T,_=-1,k=new this(v);++_<P;)T=W[_],this.resolve(T).then((function(j){L||(L=!0,x.resolve(k,j))}),(function(j){L||(L=!0,x.reject(k,j))}));return k}},{immediate:36}],38:[function(h,g,y){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,y){var m=h("./zlib/deflate"),v=h("./utils/common"),x=h("./utils/strings"),S=h("./zlib/messages"),C=h("./zlib/zstream"),A=Object.prototype.toString;function B(D){if(!(this instanceof B))return new B(D);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},D||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var U=m.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(U!==0)throw new Error(S[U]);if(I.header&&m.deflateSetHeader(this.strm,I.header),I.dictionary){var K;if(K=typeof I.dictionary=="string"?x.string2buf(I.dictionary):A.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(U=m.deflateSetDictionary(this.strm,K))!==0)throw new Error(S[U]);this._dict_set=!0}}function q(D,I){var U=new B(I);if(U.push(D,!0),U.err)throw U.msg||S[U.err];return U.result}B.prototype.push=function(D,I){var U,K,W=this.strm,P=this.options.chunkSize;if(this.ended)return!1;K=I===~~I?I:I===!0?4:0,typeof D=="string"?W.input=x.string2buf(D):A.call(D)==="[object ArrayBuffer]"?W.input=new Uint8Array(D):W.input=D,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new v.Buf8(P),W.next_out=0,W.avail_out=P),(U=m.deflate(W,K))!==1&&U!==0)return this.onEnd(U),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(v.shrinkBuf(W.output,W.next_out))):this.onData(v.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&U!==1);return K===4?(U=m.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===0):K!==2||(this.onEnd(0),!(W.avail_out=0))},B.prototype.onData=function(D){this.chunks.push(D)},B.prototype.onEnd=function(D){D===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},y.Deflate=B,y.deflate=q,y.deflateRaw=function(D,I){return(I=I||{}).raw=!0,q(D,I)},y.gzip=function(D,I){return(I=I||{}).gzip=!0,q(D,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,y){var m=h("./zlib/inflate"),v=h("./utils/common"),x=h("./utils/strings"),S=h("./zlib/constants"),C=h("./zlib/messages"),A=h("./zlib/zstream"),B=h("./zlib/gzheader"),q=Object.prototype.toString;function D(U){if(!(this instanceof D))return new D(U);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},U||{});var K=this.options;K.raw&&0<=K.windowBits&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),!(0<=K.windowBits&&K.windowBits<16)||U&&U.windowBits||(K.windowBits+=32),15<K.windowBits&&K.windowBits<48&&(15&K.windowBits)==0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var W=m.inflateInit2(this.strm,K.windowBits);if(W!==S.Z_OK)throw new Error(C[W]);this.header=new B,m.inflateGetHeader(this.strm,this.header)}function I(U,K){var W=new D(K);if(W.push(U,!0),W.err)throw W.msg||C[W.err];return W.result}D.prototype.push=function(U,K){var W,P,L,T,_,k,j=this.strm,N=this.options.chunkSize,R=this.options.dictionary,O=!1;if(this.ended)return!1;P=K===~~K?K:K===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof U=="string"?j.input=x.binstring2buf(U):q.call(U)==="[object ArrayBuffer]"?j.input=new Uint8Array(U):j.input=U,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new v.Buf8(N),j.next_out=0,j.avail_out=N),(W=m.inflate(j,S.Z_NO_FLUSH))===S.Z_NEED_DICT&&R&&(k=typeof R=="string"?x.string2buf(R):q.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,W=m.inflateSetDictionary(this.strm,k)),W===S.Z_BUF_ERROR&&O===!0&&(W=S.Z_OK,O=!1),W!==S.Z_STREAM_END&&W!==S.Z_OK)return this.onEnd(W),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&W!==S.Z_STREAM_END&&(j.avail_in!==0||P!==S.Z_FINISH&&P!==S.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=x.utf8border(j.output,j.next_out),T=j.next_out-L,_=x.buf2string(j.output,L),j.next_out=T,j.avail_out=N-T,T&&v.arraySet(j.output,j.output,L,T,0),this.onData(_)):this.onData(v.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(O=!0)}while((0<j.avail_in||j.avail_out===0)&&W!==S.Z_STREAM_END);return W===S.Z_STREAM_END&&(P=S.Z_FINISH),P===S.Z_FINISH?(W=m.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===S.Z_OK):P!==S.Z_SYNC_FLUSH||(this.onEnd(S.Z_OK),!(j.avail_out=0))},D.prototype.onData=function(U){this.chunks.push(U)},D.prototype.onEnd=function(U){U===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},y.Inflate=D,y.inflate=I,y.inflateRaw=function(U,K){return(K=K||{}).raw=!0,I(U,K)},y.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(S){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var A=C.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var B in A)A.hasOwnProperty(B)&&(S[B]=A[B])}}return S},y.shrinkBuf=function(S,C){return S.length===C?S:S.subarray?S.subarray(0,C):(S.length=C,S)};var v={arraySet:function(S,C,A,B,q){if(C.subarray&&S.subarray)S.set(C.subarray(A,A+B),q);else for(var D=0;D<B;D++)S[q+D]=C[A+D]},flattenChunks:function(S){var C,A,B,q,D,I;for(C=B=0,A=S.length;C<A;C++)B+=S[C].length;for(I=new Uint8Array(B),C=q=0,A=S.length;C<A;C++)D=S[C],I.set(D,q),q+=D.length;return I}},x={arraySet:function(S,C,A,B,q){for(var D=0;D<B;D++)S[q+D]=C[A+D]},flattenChunks:function(S){return[].concat.apply([],S)}};y.setTyped=function(S){S?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,v)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,x))},y.setTyped(m)},{}],42:[function(h,g,y){var m=h("./common"),v=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var S=new m.Buf8(256),C=0;C<256;C++)S[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function A(B,q){if(q<65537&&(B.subarray&&x||!B.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(B,q));for(var D="",I=0;I<q;I++)D+=String.fromCharCode(B[I]);return D}S[254]=S[254]=1,y.string2buf=function(B){var q,D,I,U,K,W=B.length,P=0;for(U=0;U<W;U++)(64512&(D=B.charCodeAt(U)))==55296&&U+1<W&&(64512&(I=B.charCodeAt(U+1)))==56320&&(D=65536+(D-55296<<10)+(I-56320),U++),P+=D<128?1:D<2048?2:D<65536?3:4;for(q=new m.Buf8(P),U=K=0;K<P;U++)(64512&(D=B.charCodeAt(U)))==55296&&U+1<W&&(64512&(I=B.charCodeAt(U+1)))==56320&&(D=65536+(D-55296<<10)+(I-56320),U++),D<128?q[K++]=D:(D<2048?q[K++]=192|D>>>6:(D<65536?q[K++]=224|D>>>12:(q[K++]=240|D>>>18,q[K++]=128|D>>>12&63),q[K++]=128|D>>>6&63),q[K++]=128|63&D);return q},y.buf2binstring=function(B){return A(B,B.length)},y.binstring2buf=function(B){for(var q=new m.Buf8(B.length),D=0,I=q.length;D<I;D++)q[D]=B.charCodeAt(D);return q},y.buf2string=function(B,q){var D,I,U,K,W=q||B.length,P=new Array(2*W);for(D=I=0;D<W;)if((U=B[D++])<128)P[I++]=U;else if(4<(K=S[U]))P[I++]=65533,D+=K-1;else{for(U&=K===2?31:K===3?15:7;1<K&&D<W;)U=U<<6|63&B[D++],K--;1<K?P[I++]=65533:U<65536?P[I++]=U:(U-=65536,P[I++]=55296|U>>10&1023,P[I++]=56320|1023&U)}return A(P,I)},y.utf8border=function(B,q){var D;for((q=q||B.length)>B.length&&(q=B.length),D=q-1;0<=D&&(192&B[D])==128;)D--;return D<0||D===0?q:D+S[B[D]]>q?D:q}},{"./common":41}],43:[function(h,g,y){g.exports=function(m,v,x,S){for(var C=65535&m|0,A=m>>>16&65535|0,B=0;x!==0;){for(x-=B=2e3<x?2e3:x;A=A+(C=C+v[S++]|0)|0,--B;);C%=65521,A%=65521}return C|A<<16|0}},{}],44:[function(h,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,y){var m=(function(){for(var v,x=[],S=0;S<256;S++){v=S;for(var C=0;C<8;C++)v=1&v?3988292384^v>>>1:v>>>1;x[S]=v}return x})();g.exports=function(v,x,S,C){var A=m,B=C+S;v^=-1;for(var q=C;q<B;q++)v=v>>>8^A[255&(v^x[q])];return-1^v}},{}],46:[function(h,g,y){var m,v=h("../utils/common"),x=h("./trees"),S=h("./adler32"),C=h("./crc32"),A=h("./messages"),B=-2,q=258,D=262,I=113;function U(F,Z){return F.msg=A[Z],Z}function K(F){return(F<<1)-(4<F?9:0)}function W(F){for(var Z=F.length;0<=--Z;)F[Z]=0}function P(F){var Z=F.state,V=Z.pending;V>F.avail_out&&(V=F.avail_out),V!==0&&(v.arraySet(F.output,Z.pending_buf,Z.pending_out,V,F.next_out),F.next_out+=V,Z.pending_out+=V,F.total_out+=V,F.avail_out-=V,Z.pending-=V,Z.pending===0&&(Z.pending_out=0))}function L(F,Z){x._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Z),F.block_start=F.strstart,P(F.strm)}function T(F,Z){F.pending_buf[F.pending++]=Z}function _(F,Z){F.pending_buf[F.pending++]=Z>>>8&255,F.pending_buf[F.pending++]=255&Z}function k(F,Z){var V,z,G=F.max_chain_length,ae=F.strstart,pe=F.prev_length,ue=F.nice_match,ge=F.strstart>F.w_size-D?F.strstart-(F.w_size-D):0,ee=F.window,oe=F.w_mask,ne=F.prev,fe=F.strstart+q,ce=ee[ae+pe-1],ie=ee[ae+pe];F.prev_length>=F.good_match&&(G>>=2),ue>F.lookahead&&(ue=F.lookahead);do if(ee[(V=Z)+pe]===ie&&ee[V+pe-1]===ce&&ee[V]===ee[ae]&&ee[++V]===ee[ae+1]){ae+=2,V++;do;while(ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ee[++ae]===ee[++V]&&ae<fe);if(z=q-(fe-ae),ae=fe-q,pe<z){if(F.match_start=Z,ue<=(pe=z))break;ce=ee[ae+pe-1],ie=ee[ae+pe]}}while((Z=ne[Z&oe])>ge&&--G!=0);return pe<=F.lookahead?pe:F.lookahead}function j(F){var Z,V,z,G,ae,pe,ue,ge,ee,oe,ne=F.w_size;do{if(G=F.window_size-F.lookahead-F.strstart,F.strstart>=ne+(ne-D)){for(v.arraySet(F.window,F.window,ne,ne,0),F.match_start-=ne,F.strstart-=ne,F.block_start-=ne,Z=V=F.hash_size;z=F.head[--Z],F.head[Z]=ne<=z?z-ne:0,--V;);for(Z=V=ne;z=F.prev[--Z],F.prev[Z]=ne<=z?z-ne:0,--V;);G+=ne}if(F.strm.avail_in===0)break;if(pe=F.strm,ue=F.window,ge=F.strstart+F.lookahead,oe=void 0,(ee=G)<(oe=pe.avail_in)&&(oe=ee),V=oe===0?0:(pe.avail_in-=oe,v.arraySet(ue,pe.input,pe.next_in,oe,ge),pe.state.wrap===1?pe.adler=S(pe.adler,ue,oe,ge):pe.state.wrap===2&&(pe.adler=C(pe.adler,ue,oe,ge)),pe.next_in+=oe,pe.total_in+=oe,oe),F.lookahead+=V,F.lookahead+F.insert>=3)for(ae=F.strstart-F.insert,F.ins_h=F.window[ae],F.ins_h=(F.ins_h<<F.hash_shift^F.window[ae+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[ae+3-1])&F.hash_mask,F.prev[ae&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ae,ae++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<D&&F.strm.avail_in!==0)}function N(F,Z){for(var V,z;;){if(F.lookahead<D){if(j(F),F.lookahead<D&&Z===0)return 1;if(F.lookahead===0)break}if(V=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),V!==0&&F.strstart-V<=F.w_size-D&&(F.match_length=k(F,V)),F.match_length>=3)if(z=x._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else z=x._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(z&&(L(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(L(F,!1),F.strm.avail_out===0)?1:2}function R(F,Z){for(var V,z,G;;){if(F.lookahead<D){if(j(F),F.lookahead<D&&Z===0)return 1;if(F.lookahead===0)break}if(V=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,V!==0&&F.prev_length<F.max_lazy_match&&F.strstart-V<=F.w_size-D&&(F.match_length=k(F,V),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(G=F.strstart+F.lookahead-3,z=x._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=G&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,V=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,z&&(L(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((z=x._tr_tally(F,0,F.window[F.strstart-1]))&&L(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(z=x._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(L(F,!1),F.strm.avail_out===0)?1:2}function O(F,Z,V,z,G){this.good_length=F,this.max_lazy=Z,this.nice_length=V,this.max_chain=z,this.func=G}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(F){var Z;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Z=F.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:I,F.adler=Z.wrap===2?0:1,Z.last_flush=0,x._tr_init(Z),0):U(F,B)}function Y(F){var Z=X(F);return Z===0&&(function(V){V.window_size=2*V.w_size,W(V.head),V.max_lazy_match=m[V.level].max_lazy,V.good_match=m[V.level].good_length,V.nice_match=m[V.level].nice_length,V.max_chain_length=m[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0})(F.state),Z}function re(F,Z,V,z,G,ae){if(!F)return B;var pe=1;if(Z===-1&&(Z=6),z<0?(pe=0,z=-z):15<z&&(pe=2,z-=16),G<1||9<G||V!==8||z<8||15<z||Z<0||9<Z||ae<0||4<ae)return U(F,B);z===8&&(z=9);var ue=new $;return(F.state=ue).strm=F,ue.wrap=pe,ue.gzhead=null,ue.w_bits=z,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=G+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+3-1)/3),ue.window=new v.Buf8(2*ue.w_size),ue.head=new v.Buf16(ue.hash_size),ue.prev=new v.Buf16(ue.w_size),ue.lit_bufsize=1<<G+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new v.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=Z,ue.strategy=ae,ue.method=V,Y(F)}m=[new O(0,0,0,0,(function(F,Z){var V=65535;for(V>F.pending_buf_size-5&&(V=F.pending_buf_size-5);;){if(F.lookahead<=1){if(j(F),F.lookahead===0&&Z===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var z=F.block_start+V;if((F.strstart===0||F.strstart>=z)&&(F.lookahead=F.strstart-z,F.strstart=z,L(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-D&&(L(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Z===4?(L(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(L(F,!1),F.strm.avail_out),1)})),new O(4,4,8,4,N),new O(4,5,16,8,N),new O(4,6,32,32,N),new O(4,4,16,16,R),new O(8,16,32,32,R),new O(8,16,128,128,R),new O(8,32,128,256,R),new O(32,128,258,1024,R),new O(32,258,258,4096,R)],y.deflateInit=function(F,Z){return re(F,Z,8,15,8,0)},y.deflateInit2=re,y.deflateReset=Y,y.deflateResetKeep=X,y.deflateSetHeader=function(F,Z){return F&&F.state?F.state.wrap!==2?B:(F.state.gzhead=Z,0):B},y.deflate=function(F,Z){var V,z,G,ae;if(!F||!F.state||5<Z||Z<0)return F?U(F,B):B;if(z=F.state,!F.output||!F.input&&F.avail_in!==0||z.status===666&&Z!==4)return U(F,F.avail_out===0?-5:B);if(z.strm=F,V=z.last_flush,z.last_flush=Z,z.status===42)if(z.wrap===2)F.adler=0,T(z,31),T(z,139),T(z,8),z.gzhead?(T(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),T(z,255&z.gzhead.time),T(z,z.gzhead.time>>8&255),T(z,z.gzhead.time>>16&255),T(z,z.gzhead.time>>24&255),T(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),T(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(T(z,255&z.gzhead.extra.length),T(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(F.adler=C(F.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(T(z,0),T(z,0),T(z,0),T(z,0),T(z,0),T(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),T(z,3),z.status=I);else{var pe=8+(z.w_bits-8<<4)<<8;pe|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(pe|=32),pe+=31-pe%31,z.status=I,_(z,pe),z.strstart!==0&&(_(z,F.adler>>>16),_(z,65535&F.adler)),F.adler=1}if(z.status===69)if(z.gzhead.extra){for(G=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),P(F),G=z.pending,z.pending!==z.pending_buf_size));)T(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){G=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),P(F),G=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,T(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),ae===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){G=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),P(F),G=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,T(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>G&&(F.adler=C(F.adler,z.pending_buf,z.pending-G,G)),ae===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&P(F),z.pending+2<=z.pending_buf_size&&(T(z,255&F.adler),T(z,F.adler>>8&255),F.adler=0,z.status=I)):z.status=I),z.pending!==0){if(P(F),F.avail_out===0)return z.last_flush=-1,0}else if(F.avail_in===0&&K(Z)<=K(V)&&Z!==4)return U(F,-5);if(z.status===666&&F.avail_in!==0)return U(F,-5);if(F.avail_in!==0||z.lookahead!==0||Z!==0&&z.status!==666){var ue=z.strategy===2?(function(ge,ee){for(var oe;;){if(ge.lookahead===0&&(j(ge),ge.lookahead===0)){if(ee===0)return 1;break}if(ge.match_length=0,oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,oe&&(L(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,ee===4?(L(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(L(ge,!1),ge.strm.avail_out===0)?1:2})(z,Z):z.strategy===3?(function(ge,ee){for(var oe,ne,fe,ce,ie=ge.window;;){if(ge.lookahead<=q){if(j(ge),ge.lookahead<=q&&ee===0)return 1;if(ge.lookahead===0)break}if(ge.match_length=0,ge.lookahead>=3&&0<ge.strstart&&(ne=ie[fe=ge.strstart-1])===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]){ce=ge.strstart+q;do;while(ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&ne===ie[++fe]&&fe<ce);ge.match_length=q-(ce-fe),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=3?(oe=x._tr_tally(ge,1,ge.match_length-3),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(oe=x._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),oe&&(L(ge,!1),ge.strm.avail_out===0))return 1}return ge.insert=0,ee===4?(L(ge,!0),ge.strm.avail_out===0?3:4):ge.last_lit&&(L(ge,!1),ge.strm.avail_out===0)?1:2})(z,Z):m[z.level].func(z,Z);if(ue!==3&&ue!==4||(z.status=666),ue===1||ue===3)return F.avail_out===0&&(z.last_flush=-1),0;if(ue===2&&(Z===1?x._tr_align(z):Z!==5&&(x._tr_stored_block(z,0,0,!1),Z===3&&(W(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),P(F),F.avail_out===0))return z.last_flush=-1,0}return Z!==4?0:z.wrap<=0?1:(z.wrap===2?(T(z,255&F.adler),T(z,F.adler>>8&255),T(z,F.adler>>16&255),T(z,F.adler>>24&255),T(z,255&F.total_in),T(z,F.total_in>>8&255),T(z,F.total_in>>16&255),T(z,F.total_in>>24&255)):(_(z,F.adler>>>16),_(z,65535&F.adler)),P(F),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},y.deflateEnd=function(F){var Z;return F&&F.state?(Z=F.state.status)!==42&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==I&&Z!==666?U(F,B):(F.state=null,Z===I?U(F,-3):0):B},y.deflateSetDictionary=function(F,Z){var V,z,G,ae,pe,ue,ge,ee,oe=Z.length;if(!F||!F.state||(ae=(V=F.state).wrap)===2||ae===1&&V.status!==42||V.lookahead)return B;for(ae===1&&(F.adler=S(F.adler,Z,oe,0)),V.wrap=0,oe>=V.w_size&&(ae===0&&(W(V.head),V.strstart=0,V.block_start=0,V.insert=0),ee=new v.Buf8(V.w_size),v.arraySet(ee,Z,oe-V.w_size,V.w_size,0),Z=ee,oe=V.w_size),pe=F.avail_in,ue=F.next_in,ge=F.input,F.avail_in=oe,F.next_in=0,F.input=Z,j(V);V.lookahead>=3;){for(z=V.strstart,G=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[z+3-1])&V.hash_mask,V.prev[z&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=z,z++,--G;);V.strstart=z,V.lookahead=2,j(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,F.next_in=ue,F.input=ge,F.avail_in=pe,V.wrap=ae,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,y){g.exports=function(m,v){var x,S,C,A,B,q,D,I,U,K,W,P,L,T,_,k,j,N,R,O,$,X,Y,re,F;x=m.state,S=m.next_in,re=m.input,C=S+(m.avail_in-5),A=m.next_out,F=m.output,B=A-(v-m.avail_out),q=A+(m.avail_out-257),D=x.dmax,I=x.wsize,U=x.whave,K=x.wnext,W=x.window,P=x.hold,L=x.bits,T=x.lencode,_=x.distcode,k=(1<<x.lenbits)-1,j=(1<<x.distbits)-1;e:do{L<15&&(P+=re[S++]<<L,L+=8,P+=re[S++]<<L,L+=8),N=T[P&k];t:for(;;){if(P>>>=R=N>>>24,L-=R,(R=N>>>16&255)==0)F[A++]=65535&N;else{if(!(16&R)){if((64&R)==0){N=T[(65535&N)+(P&(1<<R)-1)];continue t}if(32&R){x.mode=12;break e}m.msg="invalid literal/length code",x.mode=30;break e}O=65535&N,(R&=15)&&(L<R&&(P+=re[S++]<<L,L+=8),O+=P&(1<<R)-1,P>>>=R,L-=R),L<15&&(P+=re[S++]<<L,L+=8,P+=re[S++]<<L,L+=8),N=_[P&j];r:for(;;){if(P>>>=R=N>>>24,L-=R,!(16&(R=N>>>16&255))){if((64&R)==0){N=_[(65535&N)+(P&(1<<R)-1)];continue r}m.msg="invalid distance code",x.mode=30;break e}if($=65535&N,L<(R&=15)&&(P+=re[S++]<<L,(L+=8)<R&&(P+=re[S++]<<L,L+=8)),D<($+=P&(1<<R)-1)){m.msg="invalid distance too far back",x.mode=30;break e}if(P>>>=R,L-=R,(R=A-B)<$){if(U<(R=$-R)&&x.sane){m.msg="invalid distance too far back",x.mode=30;break e}if(Y=W,(X=0)===K){if(X+=I-R,R<O){for(O-=R;F[A++]=W[X++],--R;);X=A-$,Y=F}}else if(K<R){if(X+=I+K-R,(R-=K)<O){for(O-=R;F[A++]=W[X++],--R;);if(X=0,K<O){for(O-=R=K;F[A++]=W[X++],--R;);X=A-$,Y=F}}}else if(X+=K-R,R<O){for(O-=R;F[A++]=W[X++],--R;);X=A-$,Y=F}for(;2<O;)F[A++]=Y[X++],F[A++]=Y[X++],F[A++]=Y[X++],O-=3;O&&(F[A++]=Y[X++],1<O&&(F[A++]=Y[X++]))}else{for(X=A-$;F[A++]=F[X++],F[A++]=F[X++],F[A++]=F[X++],2<(O-=3););O&&(F[A++]=F[X++],1<O&&(F[A++]=F[X++]))}break}}break}}while(S<C&&A<q);S-=O=L>>3,P&=(1<<(L-=O<<3))-1,m.next_in=S,m.next_out=A,m.avail_in=S<C?C-S+5:5-(S-C),m.avail_out=A<q?q-A+257:257-(A-q),x.hold=P,x.bits=L}},{}],49:[function(h,g,y){var m=h("../utils/common"),v=h("./adler32"),x=h("./crc32"),S=h("./inffast"),C=h("./inftrees"),A=-2;function B(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(k){var j;return k&&k.state?(j=k.state,k.total_in=k.total_out=j.total=0,k.msg="",j.wrap&&(k.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new m.Buf32(852),j.distcode=j.distdyn=new m.Buf32(592),j.sane=1,j.back=-1,0):A}function I(k){var j;return k&&k.state?((j=k.state).wsize=0,j.whave=0,j.wnext=0,D(k)):A}function U(k,j){var N,R;return k&&k.state?(R=k.state,j<0?(N=0,j=-j):(N=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?A:(R.window!==null&&R.wbits!==j&&(R.window=null),R.wrap=N,R.wbits=j,I(k))):A}function K(k,j){var N,R;return k?(R=new q,(k.state=R).window=null,(N=U(k,j))!==0&&(k.state=null),N):A}var W,P,L=!0;function T(k){if(L){var j;for(W=new m.Buf32(512),P=new m.Buf32(32),j=0;j<144;)k.lens[j++]=8;for(;j<256;)k.lens[j++]=9;for(;j<280;)k.lens[j++]=7;for(;j<288;)k.lens[j++]=8;for(C(1,k.lens,0,288,W,0,k.work,{bits:9}),j=0;j<32;)k.lens[j++]=5;C(2,k.lens,0,32,P,0,k.work,{bits:5}),L=!1}k.lencode=W,k.lenbits=9,k.distcode=P,k.distbits=5}function _(k,j,N,R){var O,$=k.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new m.Buf8($.wsize)),R>=$.wsize?(m.arraySet($.window,j,N-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(R<(O=$.wsize-$.wnext)&&(O=R),m.arraySet($.window,j,N-R,O,$.wnext),(R-=O)?(m.arraySet($.window,j,N-R,R,0),$.wnext=R,$.whave=$.wsize):($.wnext+=O,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=O))),0}y.inflateReset=I,y.inflateReset2=U,y.inflateResetKeep=D,y.inflateInit=function(k){return K(k,15)},y.inflateInit2=K,y.inflate=function(k,j){var N,R,O,$,X,Y,re,F,Z,V,z,G,ae,pe,ue,ge,ee,oe,ne,fe,ce,ie,te,se,de=0,me=new m.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return A;(N=k.state).mode===12&&(N.mode=13),X=k.next_out,O=k.output,re=k.avail_out,$=k.next_in,R=k.input,Y=k.avail_in,F=N.hold,Z=N.bits,V=Y,z=re,ie=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;Z<16;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(2&N.wrap&&F===35615){me[N.check=0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0),Z=F=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&F)<<8)+(F>>8))%31){k.msg="incorrect header check",N.mode=30;break}if((15&F)!=8){k.msg="unknown compression method",N.mode=30;break}if(Z-=4,ce=8+(15&(F>>>=4)),N.wbits===0)N.wbits=ce;else if(ce>N.wbits){k.msg="invalid window size",N.mode=30;break}N.dmax=1<<ce,k.adler=N.check=1,N.mode=512&F?10:12,Z=F=0;break;case 2:for(;Z<16;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(N.flags=F,(255&N.flags)!=8){k.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){k.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=F>>8&1),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0,N.mode=3;case 3:for(;Z<32;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.head&&(N.head.time=F),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,me[2]=F>>>16&255,me[3]=F>>>24&255,N.check=x(N.check,me,4,0)),Z=F=0,N.mode=4;case 4:for(;Z<16;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.head&&(N.head.xflags=255&F,N.head.os=F>>8),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0,N.mode=5;case 5:if(1024&N.flags){for(;Z<16;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.length=F,N.head&&(N.head.extra_len=F),512&N.flags&&(me[0]=255&F,me[1]=F>>>8&255,N.check=x(N.check,me,2,0)),Z=F=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(Y<(G=N.length)&&(G=Y),G&&(N.head&&(ce=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),m.arraySet(N.head.extra,R,$,G,ce)),512&N.flags&&(N.check=x(N.check,R,G,$)),Y-=G,$+=G,N.length-=G),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(Y===0)break e;for(G=0;ce=R[$+G++],N.head&&ce&&N.length<65536&&(N.head.name+=String.fromCharCode(ce)),ce&&G<Y;);if(512&N.flags&&(N.check=x(N.check,R,G,$)),Y-=G,$+=G,ce)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(Y===0)break e;for(G=0;ce=R[$+G++],N.head&&ce&&N.length<65536&&(N.head.comment+=String.fromCharCode(ce)),ce&&G<Y;);if(512&N.flags&&(N.check=x(N.check,R,G,$)),Y-=G,$+=G,ce)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Z<16;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(F!==(65535&N.check)){k.msg="header crc mismatch",N.mode=30;break}Z=F=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),k.adler=N.check=0,N.mode=12;break;case 10:for(;Z<32;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}k.adler=N.check=B(F),Z=F=0,N.mode=11;case 11:if(N.havedict===0)return k.next_out=X,k.avail_out=re,k.next_in=$,k.avail_in=Y,N.hold=F,N.bits=Z,2;k.adler=N.check=1,N.mode=12;case 12:if(j===5||j===6)break e;case 13:if(N.last){F>>>=7&Z,Z-=7&Z,N.mode=27;break}for(;Z<3;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}switch(N.last=1&F,Z-=1,3&(F>>>=1)){case 0:N.mode=14;break;case 1:if(T(N),N.mode=20,j!==6)break;F>>>=2,Z-=2;break e;case 2:N.mode=17;break;case 3:k.msg="invalid block type",N.mode=30}F>>>=2,Z-=2;break;case 14:for(F>>>=7&Z,Z-=7&Z;Z<32;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if((65535&F)!=(F>>>16^65535)){k.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&F,Z=F=0,N.mode=15,j===6)break e;case 15:N.mode=16;case 16:if(G=N.length){if(Y<G&&(G=Y),re<G&&(G=re),G===0)break e;m.arraySet(O,R,$,G,X),Y-=G,$+=G,re-=G,X+=G,N.length-=G;break}N.mode=12;break;case 17:for(;Z<14;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(N.nlen=257+(31&F),F>>>=5,Z-=5,N.ndist=1+(31&F),F>>>=5,Z-=5,N.ncode=4+(15&F),F>>>=4,Z-=4,286<N.nlen||30<N.ndist){k.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Z<3;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.lens[ke[N.have++]]=7&F,F>>>=3,Z-=3}for(;N.have<19;)N.lens[ke[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,te={bits:N.lenbits},ie=C(0,N.lens,0,19,N.lencode,0,N.work,te),N.lenbits=te.bits,ie){k.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ge=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ue=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(ee<16)F>>>=ue,Z-=ue,N.lens[N.have++]=ee;else{if(ee===16){for(se=ue+2;Z<se;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(F>>>=ue,Z-=ue,N.have===0){k.msg="invalid bit length repeat",N.mode=30;break}ce=N.lens[N.have-1],G=3+(3&F),F>>>=2,Z-=2}else if(ee===17){for(se=ue+3;Z<se;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}Z-=ue,ce=0,G=3+(7&(F>>>=ue)),F>>>=3,Z-=3}else{for(se=ue+7;Z<se;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}Z-=ue,ce=0,G=11+(127&(F>>>=ue)),F>>>=7,Z-=7}if(N.have+G>N.nlen+N.ndist){k.msg="invalid bit length repeat",N.mode=30;break}for(;G--;)N.lens[N.have++]=ce}}if(N.mode===30)break;if(N.lens[256]===0){k.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,te={bits:N.lenbits},ie=C(1,N.lens,0,N.nlen,N.lencode,0,N.work,te),N.lenbits=te.bits,ie){k.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,te={bits:N.distbits},ie=C(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,te),N.distbits=te.bits,ie){k.msg="invalid distances set",N.mode=30;break}if(N.mode=20,j===6)break e;case 20:N.mode=21;case 21:if(6<=Y&&258<=re){k.next_out=X,k.avail_out=re,k.next_in=$,k.avail_in=Y,N.hold=F,N.bits=Z,S(k,z),X=k.next_out,O=k.output,re=k.avail_out,$=k.next_in,R=k.input,Y=k.avail_in,F=N.hold,Z=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ge=(de=N.lencode[F&(1<<N.lenbits)-1])>>>16&255,ee=65535&de,!((ue=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(ge&&(240&ge)==0){for(oe=ue,ne=ge,fe=ee;ge=(de=N.lencode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ue=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}F>>>=oe,Z-=oe,N.back+=oe}if(F>>>=ue,Z-=ue,N.back+=ue,N.length=ee,ge===0){N.mode=26;break}if(32&ge){N.back=-1,N.mode=12;break}if(64&ge){k.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ge,N.mode=22;case 22:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.length+=F&(1<<N.extra)-1,F>>>=N.extra,Z-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ge=(de=N.distcode[F&(1<<N.distbits)-1])>>>16&255,ee=65535&de,!((ue=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if((240&ge)==0){for(oe=ue,ne=ge,fe=ee;ge=(de=N.distcode[fe+((F&(1<<oe+ne)-1)>>oe)])>>>16&255,ee=65535&de,!(oe+(ue=de>>>24)<=Z);){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}F>>>=oe,Z-=oe,N.back+=oe}if(F>>>=ue,Z-=ue,N.back+=ue,64&ge){k.msg="invalid distance code",N.mode=30;break}N.offset=ee,N.extra=15&ge,N.mode=24;case 24:if(N.extra){for(se=N.extra;Z<se;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}N.offset+=F&(1<<N.extra)-1,F>>>=N.extra,Z-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){k.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(re===0)break e;if(G=z-re,N.offset>G){if((G=N.offset-G)>N.whave&&N.sane){k.msg="invalid distance too far back",N.mode=30;break}ae=G>N.wnext?(G-=N.wnext,N.wsize-G):N.wnext-G,G>N.length&&(G=N.length),pe=N.window}else pe=O,ae=X-N.offset,G=N.length;for(re<G&&(G=re),re-=G,N.length-=G;O[X++]=pe[ae++],--G;);N.length===0&&(N.mode=21);break;case 26:if(re===0)break e;O[X++]=N.length,re--,N.mode=21;break;case 27:if(N.wrap){for(;Z<32;){if(Y===0)break e;Y--,F|=R[$++]<<Z,Z+=8}if(z-=re,k.total_out+=z,N.total+=z,z&&(k.adler=N.check=N.flags?x(N.check,O,z,X-z):v(N.check,O,z,X-z)),z=re,(N.flags?F:B(F))!==N.check){k.msg="incorrect data check",N.mode=30;break}Z=F=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Z<32;){if(Y===0)break e;Y--,F+=R[$++]<<Z,Z+=8}if(F!==(4294967295&N.total)){k.msg="incorrect length check",N.mode=30;break}Z=F=0}N.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return A}return k.next_out=X,k.avail_out=re,k.next_in=$,k.avail_in=Y,N.hold=F,N.bits=Z,(N.wsize||z!==k.avail_out&&N.mode<30&&(N.mode<27||j!==4))&&_(k,k.output,k.next_out,z-k.avail_out)?(N.mode=31,-4):(V-=k.avail_in,z-=k.avail_out,k.total_in+=V,k.total_out+=z,N.total+=z,N.wrap&&z&&(k.adler=N.check=N.flags?x(N.check,O,z,k.next_out-z):v(N.check,O,z,k.next_out-z)),k.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(V==0&&z===0||j===4)&&ie===0&&(ie=-5),ie)},y.inflateEnd=function(k){if(!k||!k.state)return A;var j=k.state;return j.window&&(j.window=null),k.state=null,0},y.inflateGetHeader=function(k,j){var N;return k&&k.state?(2&(N=k.state).wrap)==0?A:((N.head=j).done=!1,0):A},y.inflateSetDictionary=function(k,j){var N,R=j.length;return k&&k.state?(N=k.state).wrap!==0&&N.mode!==11?A:N.mode===11&&v(1,j,R,0)!==N.check?-3:_(k,j,R,R)?(N.mode=31,-4):(N.havedict=1,0):A},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,y){var m=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(A,B,q,D,I,U,K,W){var P,L,T,_,k,j,N,R,O,$=W.bits,X=0,Y=0,re=0,F=0,Z=0,V=0,z=0,G=0,ae=0,pe=0,ue=null,ge=0,ee=new m.Buf16(16),oe=new m.Buf16(16),ne=null,fe=0;for(X=0;X<=15;X++)ee[X]=0;for(Y=0;Y<D;Y++)ee[B[q+Y]]++;for(Z=$,F=15;1<=F&&ee[F]===0;F--);if(F<Z&&(Z=F),F===0)return I[U++]=20971520,I[U++]=20971520,W.bits=1,0;for(re=1;re<F&&ee[re]===0;re++);for(Z<re&&(Z=re),X=G=1;X<=15;X++)if(G<<=1,(G-=ee[X])<0)return-1;if(0<G&&(A===0||F!==1))return-1;for(oe[1]=0,X=1;X<15;X++)oe[X+1]=oe[X]+ee[X];for(Y=0;Y<D;Y++)B[q+Y]!==0&&(K[oe[B[q+Y]]++]=Y);if(j=A===0?(ue=ne=K,19):A===1?(ue=v,ge-=257,ne=x,fe-=257,256):(ue=S,ne=C,-1),X=re,k=U,z=Y=pe=0,T=-1,_=(ae=1<<(V=Z))-1,A===1&&852<ae||A===2&&592<ae)return 1;for(;;){for(N=X-z,O=K[Y]<j?(R=0,K[Y]):K[Y]>j?(R=ne[fe+K[Y]],ue[ge+K[Y]]):(R=96,0),P=1<<X-z,re=L=1<<V;I[k+(pe>>z)+(L-=P)]=N<<24|R<<16|O|0,L!==0;);for(P=1<<X-1;pe&P;)P>>=1;if(P!==0?(pe&=P-1,pe+=P):pe=0,Y++,--ee[X]==0){if(X===F)break;X=B[q+K[Y]]}if(Z<X&&(pe&_)!==T){for(z===0&&(z=Z),k+=re,G=1<<(V=X-z);V+z<F&&!((G-=ee[V+z])<=0);)V++,G<<=1;if(ae+=1<<V,A===1&&852<ae||A===2&&592<ae)return 1;I[T=pe&_]=Z<<24|V<<16|k-U|0}}return pe!==0&&(I[k+pe]=X-z<<24|64<<16|0),W.bits=Z,0}},{"../utils/common":41}],51:[function(h,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,y){var m=h("../utils/common");function v(ne){for(var fe=ne.length;0<=--fe;)ne[fe]=0}var x=256,S=286,C=30,A=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(576);v(U);var K=new Array(60);v(K);var W=new Array(512);v(W);var P=new Array(256);v(P);var L=new Array(29);v(L);var T,_,k,j=new Array(C);function N(ne,fe,ce,ie,te){this.static_tree=ne,this.extra_bits=fe,this.extra_base=ce,this.elems=ie,this.max_length=te,this.has_stree=ne&&ne.length}function R(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function O(ne){return ne<256?W[ne]:W[256+(ne>>>7)]}function $(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function X(ne,fe,ce){ne.bi_valid>16-ce?(ne.bi_buf|=fe<<ne.bi_valid&65535,$(ne,ne.bi_buf),ne.bi_buf=fe>>16-ne.bi_valid,ne.bi_valid+=ce-16):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=ce)}function Y(ne,fe,ce){X(ne,ce[2*fe],ce[2*fe+1])}function re(ne,fe){for(var ce=0;ce|=1&ne,ne>>>=1,ce<<=1,0<--fe;);return ce>>>1}function F(ne,fe,ce){var ie,te,se=new Array(16),de=0;for(ie=1;ie<=A;ie++)se[ie]=de=de+ce[ie-1]<<1;for(te=0;te<=fe;te++){var me=ne[2*te+1];me!==0&&(ne[2*te]=re(se[me]++,me))}}function Z(ne){var fe;for(fe=0;fe<S;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<C;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function V(ne){8<ne.bi_valid?$(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function z(ne,fe,ce,ie){var te=2*fe,se=2*ce;return ne[te]<ne[se]||ne[te]===ne[se]&&ie[fe]<=ie[ce]}function G(ne,fe,ce){for(var ie=ne.heap[ce],te=ce<<1;te<=ne.heap_len&&(te<ne.heap_len&&z(fe,ne.heap[te+1],ne.heap[te],ne.depth)&&te++,!z(fe,ie,ne.heap[te],ne.depth));)ne.heap[ce]=ne.heap[te],ce=te,te<<=1;ne.heap[ce]=ie}function ae(ne,fe,ce){var ie,te,se,de,me=0;if(ne.last_lit!==0)for(;ie=ne.pending_buf[ne.d_buf+2*me]<<8|ne.pending_buf[ne.d_buf+2*me+1],te=ne.pending_buf[ne.l_buf+me],me++,ie===0?Y(ne,te,fe):(Y(ne,(se=P[te])+x+1,fe),(de=B[se])!==0&&X(ne,te-=L[se],de),Y(ne,se=O(--ie),ce),(de=q[se])!==0&&X(ne,ie-=j[se],de)),me<ne.last_lit;);Y(ne,256,fe)}function pe(ne,fe){var ce,ie,te,se=fe.dyn_tree,de=fe.stat_desc.static_tree,me=fe.stat_desc.has_stree,ke=fe.stat_desc.elems,Ne=-1;for(ne.heap_len=0,ne.heap_max=573,ce=0;ce<ke;ce++)se[2*ce]!==0?(ne.heap[++ne.heap_len]=Ne=ce,ne.depth[ce]=0):se[2*ce+1]=0;for(;ne.heap_len<2;)se[2*(te=ne.heap[++ne.heap_len]=Ne<2?++Ne:0)]=1,ne.depth[te]=0,ne.opt_len--,me&&(ne.static_len-=de[2*te+1]);for(fe.max_code=Ne,ce=ne.heap_len>>1;1<=ce;ce--)G(ne,se,ce);for(te=ke;ce=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],G(ne,se,1),ie=ne.heap[1],ne.heap[--ne.heap_max]=ce,ne.heap[--ne.heap_max]=ie,se[2*te]=se[2*ce]+se[2*ie],ne.depth[te]=(ne.depth[ce]>=ne.depth[ie]?ne.depth[ce]:ne.depth[ie])+1,se[2*ce+1]=se[2*ie+1]=te,ne.heap[1]=te++,G(ne,se,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(De,Fe){var Ge,qe,pt,yt,ot,ve,be=Fe.dyn_tree,Be=Fe.max_code,Xe=Fe.stat_desc.static_tree,Et=Fe.stat_desc.has_stree,Kt=Fe.stat_desc.extra_bits,_t=Fe.stat_desc.extra_base,Yt=Fe.stat_desc.max_length,Gt=0;for(yt=0;yt<=A;yt++)De.bl_count[yt]=0;for(be[2*De.heap[De.heap_max]+1]=0,Ge=De.heap_max+1;Ge<573;Ge++)Yt<(yt=be[2*be[2*(qe=De.heap[Ge])+1]+1]+1)&&(yt=Yt,Gt++),be[2*qe+1]=yt,Be<qe||(De.bl_count[yt]++,ot=0,_t<=qe&&(ot=Kt[qe-_t]),ve=be[2*qe],De.opt_len+=ve*(yt+ot),Et&&(De.static_len+=ve*(Xe[2*qe+1]+ot)));if(Gt!==0){do{for(yt=Yt-1;De.bl_count[yt]===0;)yt--;De.bl_count[yt]--,De.bl_count[yt+1]+=2,De.bl_count[Yt]--,Gt-=2}while(0<Gt);for(yt=Yt;yt!==0;yt--)for(qe=De.bl_count[yt];qe!==0;)Be<(pt=De.heap[--Ge])||(be[2*pt+1]!==yt&&(De.opt_len+=(yt-be[2*pt+1])*be[2*pt],be[2*pt+1]=yt),qe--)}})(ne,fe),F(se,Ne,ne.bl_count)}function ue(ne,fe,ce){var ie,te,se=-1,de=fe[1],me=0,ke=7,Ne=4;for(de===0&&(ke=138,Ne=3),fe[2*(ce+1)+1]=65535,ie=0;ie<=ce;ie++)te=de,de=fe[2*(ie+1)+1],++me<ke&&te===de||(me<Ne?ne.bl_tree[2*te]+=me:te!==0?(te!==se&&ne.bl_tree[2*te]++,ne.bl_tree[32]++):me<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,se=te,Ne=(me=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4))}function ge(ne,fe,ce){var ie,te,se=-1,de=fe[1],me=0,ke=7,Ne=4;for(de===0&&(ke=138,Ne=3),ie=0;ie<=ce;ie++)if(te=de,de=fe[2*(ie+1)+1],!(++me<ke&&te===de)){if(me<Ne)for(;Y(ne,te,ne.bl_tree),--me!=0;);else te!==0?(te!==se&&(Y(ne,te,ne.bl_tree),me--),Y(ne,16,ne.bl_tree),X(ne,me-3,2)):me<=10?(Y(ne,17,ne.bl_tree),X(ne,me-3,3)):(Y(ne,18,ne.bl_tree),X(ne,me-11,7));se=te,Ne=(me=0)===de?(ke=138,3):te===de?(ke=6,3):(ke=7,4)}}v(j);var ee=!1;function oe(ne,fe,ce,ie){X(ne,0+(ie?1:0),3),(function(te,se,de,me){V(te),$(te,de),$(te,~de),m.arraySet(te.pending_buf,te.window,se,de,te.pending),te.pending+=de})(ne,fe,ce)}y._tr_init=function(ne){ee||((function(){var fe,ce,ie,te,se,de=new Array(16);for(te=ie=0;te<28;te++)for(L[te]=ie,fe=0;fe<1<<B[te];fe++)P[ie++]=te;for(P[ie-1]=te,te=se=0;te<16;te++)for(j[te]=se,fe=0;fe<1<<q[te];fe++)W[se++]=te;for(se>>=7;te<C;te++)for(j[te]=se<<7,fe=0;fe<1<<q[te]-7;fe++)W[256+se++]=te;for(ce=0;ce<=A;ce++)de[ce]=0;for(fe=0;fe<=143;)U[2*fe+1]=8,fe++,de[8]++;for(;fe<=255;)U[2*fe+1]=9,fe++,de[9]++;for(;fe<=279;)U[2*fe+1]=7,fe++,de[7]++;for(;fe<=287;)U[2*fe+1]=8,fe++,de[8]++;for(F(U,287,de),fe=0;fe<C;fe++)K[2*fe+1]=5,K[2*fe]=re(fe,5);T=new N(U,B,257,S,A),_=new N(K,q,0,C,A),k=new N(new Array(0),D,0,19,7)})(),ee=!0),ne.l_desc=new R(ne.dyn_ltree,T),ne.d_desc=new R(ne.dyn_dtree,_),ne.bl_desc=new R(ne.bl_tree,k),ne.bi_buf=0,ne.bi_valid=0,Z(ne)},y._tr_stored_block=oe,y._tr_flush_block=function(ne,fe,ce,ie){var te,se,de=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(me){var ke,Ne=4093624447;for(ke=0;ke<=31;ke++,Ne>>>=1)if(1&Ne&&me.dyn_ltree[2*ke]!==0)return 0;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return 1;for(ke=32;ke<x;ke++)if(me.dyn_ltree[2*ke]!==0)return 1;return 0})(ne)),pe(ne,ne.l_desc),pe(ne,ne.d_desc),de=(function(me){var ke;for(ue(me,me.dyn_ltree,me.l_desc.max_code),ue(me,me.dyn_dtree,me.d_desc.max_code),pe(me,me.bl_desc),ke=18;3<=ke&&me.bl_tree[2*I[ke]+1]===0;ke--);return me.opt_len+=3*(ke+1)+5+5+4,ke})(ne),te=ne.opt_len+3+7>>>3,(se=ne.static_len+3+7>>>3)<=te&&(te=se)):te=se=ce+5,ce+4<=te&&fe!==-1?oe(ne,fe,ce,ie):ne.strategy===4||se===te?(X(ne,2+(ie?1:0),3),ae(ne,U,K)):(X(ne,4+(ie?1:0),3),(function(me,ke,Ne,De){var Fe;for(X(me,ke-257,5),X(me,Ne-1,5),X(me,De-4,4),Fe=0;Fe<De;Fe++)X(me,me.bl_tree[2*I[Fe]+1],3);ge(me,me.dyn_ltree,ke-1),ge(me,me.dyn_dtree,Ne-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,de+1),ae(ne,ne.dyn_ltree,ne.dyn_dtree)),Z(ne),ie&&V(ne)},y._tr_tally=function(ne,fe,ce){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&ce,ne.last_lit++,fe===0?ne.dyn_ltree[2*ce]++:(ne.matches++,fe--,ne.dyn_ltree[2*(P[ce]+x+1)]++,ne.dyn_dtree[2*O(fe)]++),ne.last_lit===ne.lit_bufsize-1},y._tr_align=function(ne){X(ne,2,3),Y(ne,256,U),(function(fe){fe.bi_valid===16?($(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(h,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,y){(function(m){(function(v,x){if(!v.setImmediate){var S,C,A,B,q=1,D={},I=!1,U=v.document,K=Object.getPrototypeOf&&Object.getPrototypeOf(v);K=K&&K.setTimeout?K:v,S={}.toString.call(v.process)==="[object process]"?function(T){i.nextTick((function(){P(T)}))}:(function(){if(v.postMessage&&!v.importScripts){var T=!0,_=v.onmessage;return v.onmessage=function(){T=!1},v.postMessage("","*"),v.onmessage=_,T}})()?(B="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",L,!1):v.attachEvent("onmessage",L),function(T){v.postMessage(B+T,"*")}):v.MessageChannel?((A=new MessageChannel).port1.onmessage=function(T){P(T.data)},function(T){A.port2.postMessage(T)}):U&&"onreadystatechange"in U.createElement("script")?(C=U.documentElement,function(T){var _=U.createElement("script");_.onreadystatechange=function(){P(T),_.onreadystatechange=null,C.removeChild(_),_=null},C.appendChild(_)}):function(T){setTimeout(P,0,T)},K.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var _=new Array(arguments.length-1),k=0;k<_.length;k++)_[k]=arguments[k+1];var j={callback:T,args:_};return D[q]=j,S(q),q++},K.clearImmediate=W}function W(T){delete D[T]}function P(T){if(I)setTimeout(P,0,T);else{var _=D[T];if(_){I=!0;try{(function(k){var j=k.callback,N=k.args;switch(N.length){case 0:j();break;case 1:j(N[0]);break;case 2:j(N[0],N[1]);break;case 3:j(N[0],N[1],N[2]);break;default:j.apply(void 0,N)}})(_)}finally{W(T),I=!1}}}}function L(T){T.source===v&&typeof T.data=="string"&&T.data.indexOf(B)===0&&P(+T.data.slice(B.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),u=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),p=Object.prototype.toString,f=d.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(x){return typeof x=="symbol"||(function(S){return!!S&&typeof S=="object"})(x)&&p.call(x)=="[object Symbol]"})(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":y(v))&&c.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[o]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[c]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[l]=v["[object String]"]=v["[object WeakMap]"]=!1;var x=typeof i=="object"&&i&&i.Object===Object&&i,S=typeof self=="object"&&self&&self.Object===Object&&self,C=x||S||Function("return this")(),A=typeof s=="object"&&s&&!s.nodeType&&s,B=A&&typeof n=="object"&&n&&!n.nodeType&&n,q=B&&B.exports===A&&x.process,D=(function(){try{return q&&q.binding("util")}catch{}})(),I=D&&D.isTypedArray;function U(ye,Te,Qe,Ye){for(var Rt=-1,lt=ye?ye.length:0;++Rt<lt;){var mt=ye[Rt];Te(Ye,mt,Qe(mt),ye)}return Ye}function K(ye,Te){for(var Qe=-1,Ye=ye?ye.length:0;++Qe<Ye;)if(Te(ye[Qe],Qe,ye))return!0;return!1}function W(ye){var Te=!1;if(ye!=null&&typeof ye.toString!="function")try{Te=!!(ye+"")}catch{}return Te}function P(ye){var Te=-1,Qe=Array(ye.size);return ye.forEach((function(Ye,Rt){Qe[++Te]=[Rt,Ye]})),Qe}function L(ye){var Te=-1,Qe=Array(ye.size);return ye.forEach((function(Ye){Qe[++Te]=Ye})),Qe}var T,_,k,j=Array.prototype,N=Function.prototype,R=Object.prototype,O=C["__core-js_shared__"],$=(T=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",X=N.toString,Y=R.hasOwnProperty,re=R.toString,F=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=C.Symbol,V=C.Uint8Array,z=R.propertyIsEnumerable,G=j.splice,ae=(_=Object.keys,k=Object,function(ye){return _(k(ye))}),pe=Lt(C,"DataView"),ue=Lt(C,"Map"),ge=Lt(C,"Promise"),ee=Lt(C,"Set"),oe=Lt(C,"WeakMap"),ne=Lt(Object,"create"),fe=Me(pe),ce=Me(ue),ie=Me(ge),te=Me(ee),se=Me(oe),de=Z?Z.prototype:void 0,me=de?de.valueOf:void 0,ke=de?de.toString:void 0;function Ne(ye){var Te=-1,Qe=ye?ye.length:0;for(this.clear();++Te<Qe;){var Ye=ye[Te];this.set(Ye[0],Ye[1])}}function De(ye){var Te=-1,Qe=ye?ye.length:0;for(this.clear();++Te<Qe;){var Ye=ye[Te];this.set(Ye[0],Ye[1])}}function Fe(ye){var Te=-1,Qe=ye?ye.length:0;for(this.clear();++Te<Qe;){var Ye=ye[Te];this.set(Ye[0],Ye[1])}}function Ge(ye){var Te=-1,Qe=ye?ye.length:0;for(this.__data__=new Fe;++Te<Qe;)this.add(ye[Te])}function qe(ye){this.__data__=new De(ye)}function pt(ye,Te){var Qe=Vt(ye)||Qt(ye)?(function(mt,Mr){for(var ir=-1,Ut=Array(mt);++ir<mt;)Ut[ir]=Mr(ir);return Ut})(ye.length,String):[],Ye=Qe.length,Rt=!!Ye;for(var lt in ye)!Y.call(ye,lt)||Rt&&(lt=="length"||rr(lt,Ye))||Qe.push(lt);return Qe}function yt(ye,Te){for(var Qe=ye.length;Qe--;)if(dt(ye[Qe][0],Te))return Qe;return-1}function ot(ye,Te,Qe,Ye){return be(ye,(function(Rt,lt,mt){Te(Ye,Rt,Qe(Rt),mt)})),Ye}Ne.prototype.clear=function(){this.__data__=ne?ne(null):{}},Ne.prototype.delete=function(ye){return this.has(ye)&&delete this.__data__[ye]},Ne.prototype.get=function(ye){var Te=this.__data__;if(ne){var Qe=Te[ye];return Qe==="__lodash_hash_undefined__"?void 0:Qe}return Y.call(Te,ye)?Te[ye]:void 0},Ne.prototype.has=function(ye){var Te=this.__data__;return ne?Te[ye]!==void 0:Y.call(Te,ye)},Ne.prototype.set=function(ye,Te){return this.__data__[ye]=ne&&Te===void 0?"__lodash_hash_undefined__":Te,this},De.prototype.clear=function(){this.__data__=[]},De.prototype.delete=function(ye){var Te=this.__data__,Qe=yt(Te,ye);return!(Qe<0)&&(Qe==Te.length-1?Te.pop():G.call(Te,Qe,1),!0)},De.prototype.get=function(ye){var Te=this.__data__,Qe=yt(Te,ye);return Qe<0?void 0:Te[Qe][1]},De.prototype.has=function(ye){return yt(this.__data__,ye)>-1},De.prototype.set=function(ye,Te){var Qe=this.__data__,Ye=yt(Qe,ye);return Ye<0?Qe.push([ye,Te]):Qe[Ye][1]=Te,this},Fe.prototype.clear=function(){this.__data__={hash:new Ne,map:new(ue||De),string:new Ne}},Fe.prototype.delete=function(ye){return Nr(this,ye).delete(ye)},Fe.prototype.get=function(ye){return Nr(this,ye).get(ye)},Fe.prototype.has=function(ye){return Nr(this,ye).has(ye)},Fe.prototype.set=function(ye,Te){return Nr(this,ye).set(ye,Te),this},Ge.prototype.add=Ge.prototype.push=function(ye){return this.__data__.set(ye,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(ye){return this.__data__.has(ye)},qe.prototype.clear=function(){this.__data__=new De},qe.prototype.delete=function(ye){return this.__data__.delete(ye)},qe.prototype.get=function(ye){return this.__data__.get(ye)},qe.prototype.has=function(ye){return this.__data__.has(ye)},qe.prototype.set=function(ye,Te){var Qe=this.__data__;if(Qe instanceof De){var Ye=Qe.__data__;if(!ue||Ye.length<199)return Ye.push([ye,Te]),this;Qe=this.__data__=new Fe(Ye)}return Qe.set(ye,Te),this};var ve,be=(ve=function(ye,Te){return ye&&Be(ye,Te,an)},function(ye,Te){if(ye==null)return ye;if(!St(ye))return ve(ye,Te);for(var Qe=ye.length,Ye=-1,Rt=Object(ye);++Ye<Qe&&Te(Rt[Ye],Ye,Rt)!==!1;);return ye}),Be=(function(ye){return function(Te,Qe,Ye){for(var Rt=-1,lt=Object(Te),mt=Ye(Te),Mr=mt.length;Mr--;){var ir=mt[++Rt];if(Qe(lt[ir],ir,lt)===!1)break}return Te}})();function Xe(ye,Te){for(var Qe=0,Ye=(Te=Ct(Te,ye)?[Te]:Pt(Te)).length;ye!=null&&Qe<Ye;)ye=ye[je(Te[Qe++])];return Qe&&Qe==Ye?ye:void 0}function Et(ye,Te){return ye!=null&&Te in Object(ye)}function Kt(ye,Te,Qe,Ye,Rt){return ye===Te||(ye==null||Te==null||!et(ye)&&!bt(Te)?ye!=ye&&Te!=Te:(function(lt,mt,Mr,ir,Ut,Ft){var or=Vt(lt),$r=Vt(mt),Lr="[object Array]",rn="[object Array]";or||(Lr=(Lr=Cr(lt))==o?u:Lr),$r||(rn=(rn=Cr(mt))==o?u:rn);var ln=Lr==u&&!W(lt),fn=rn==u&&!W(mt),Sn=Lr==rn;if(Sn&&!ln)return Ft||(Ft=new qe),or||gr(lt)?Mt(lt,mt,Mr,ir,Ut,Ft):(function(qr,Rr,Fs,oi,Ci,yr,Ss){switch(Fs){case"[object DataView]":if(qr.byteLength!=Rr.byteLength||qr.byteOffset!=Rr.byteOffset)return!1;qr=qr.buffer,Rr=Rr.buffer;case"[object ArrayBuffer]":return!(qr.byteLength!=Rr.byteLength||!oi(new V(qr),new V(Rr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dt(+qr,+Rr);case"[object Error]":return qr.name==Rr.name&&qr.message==Rr.message;case"[object RegExp]":case"[object String]":return qr==Rr+"";case c:var ja=P;case l:var li=2&yr;if(ja||(ja=L),qr.size!=Rr.size&&!li)return!1;var Ji=Ss.get(qr);if(Ji)return Ji==Rr;yr|=1,Ss.set(qr,Rr);var ci=Mt(ja(qr),ja(Rr),oi,Ci,yr,Ss);return Ss.delete(qr),ci;case"[object Symbol]":if(me)return me.call(qr)==me.call(Rr)}return!1})(lt,mt,Lr,Mr,ir,Ut,Ft);if(!(2&Ut)){var Yn=ln&&Y.call(lt,"__wrapped__"),Os=fn&&Y.call(mt,"__wrapped__");if(Yn||Os){var Wa=Yn?lt.value():lt,fs=Os?mt.value():mt;return Ft||(Ft=new qe),Mr(Wa,fs,ir,Ut,Ft)}}return Sn?(Ft||(Ft=new qe),(function(qr,Rr,Fs,oi,Ci,yr){var Ss=2&Ci,ja=an(qr),li=ja.length,Ji=an(Rr).length;if(li!=Ji&&!Ss)return!1;for(var ci=li;ci--;){var Sa=ja[ci];if(!(Ss?Sa in Rr:Y.call(Rr,Sa)))return!1}var To=yr.get(qr);if(To&&yr.get(Rr))return To==Rr;var Ti=!0;yr.set(qr,Rr),yr.set(Rr,qr);for(var ui=Ss;++ci<li;){Sa=ja[ci];var qa=qr[Sa],Na=Rr[Sa];if(oi)var Ei=Ss?oi(Na,qa,Sa,Rr,qr,yr):oi(qa,Na,Sa,qr,Rr,yr);if(!(Ei===void 0?qa===Na||Fs(qa,Na,oi,Ci,yr):Ei)){Ti=!1;break}ui||(ui=Sa=="constructor")}if(Ti&&!ui){var di=qr.constructor,Qs=Rr.constructor;di==Qs||!("constructor"in qr)||!("constructor"in Rr)||typeof di=="function"&&di instanceof di&&typeof Qs=="function"&&Qs instanceof Qs||(Ti=!1)}return yr.delete(qr),yr.delete(Rr),Ti})(lt,mt,Mr,ir,Ut,Ft)):!1})(ye,Te,Kt,Qe,Ye,Rt))}function _t(ye){return!(!et(ye)||(function(Te){return!!$&&$ in Te})(ye))&&(we(ye)||W(ye)?F:y).test(Me(ye))}function Yt(ye){return typeof ye=="function"?ye:ye==null?Qn:typeof ye=="object"?Vt(ye)?(function(Ye,Rt){return Ct(Ye)&&Tr(Rt)?nr(je(Ye),Rt):function(lt){var mt=(function(Mr,ir,Ut){var Ft=Mr==null?void 0:Xe(Mr,ir);return Ft===void 0?Ut:Ft})(lt,Ye);return mt===void 0&&mt===Rt?(function(Mr,ir){return Mr!=null&&(function(Ut,Ft,or){Ft=Ct(Ft,Ut)?[Ft]:Pt(Ft);for(var $r,Lr=-1,rn=Ft.length;++Lr<rn;){var ln=je(Ft[Lr]);if(!($r=Ut!=null&&or(Ut,ln)))break;Ut=Ut[ln]}return $r||!!(rn=Ut?Ut.length:0)&&He(rn)&&rr(ln,rn)&&(Vt(Ut)||Qt(Ut))})(Mr,ir,Et)})(lt,Ye):Kt(Rt,mt,void 0,3)}})(ye[0],ye[1]):(function(Ye){var Rt=(function(lt){for(var mt=an(lt),Mr=mt.length;Mr--;){var ir=mt[Mr],Ut=lt[ir];mt[Mr]=[ir,Ut,Tr(Ut)]}return mt})(Ye);return Rt.length==1&&Rt[0][2]?nr(Rt[0][0],Rt[0][1]):function(lt){return lt===Ye||(function(mt,Mr,ir,Ut){var Ft=ir.length,or=Ft;if(mt==null)return!or;for(mt=Object(mt);Ft--;){var $r=ir[Ft];if($r[2]?$r[1]!==mt[$r[0]]:!($r[0]in mt))return!1}for(;++Ft<or;){var Lr=($r=ir[Ft])[0],rn=mt[Lr],ln=$r[1];if($r[2]){if(rn===void 0&&!(Lr in mt))return!1}else{var fn=new qe,Sn;if(!(Sn===void 0?Kt(ln,rn,Ut,3,fn):Sn))return!1}}return!0})(lt,Ye,Rt)}})(ye):Ct(Te=ye)?(Qe=je(Te),function(Ye){return Ye?.[Qe]}):(function(Ye){return function(Rt){return Xe(Rt,Ye)}})(Te);var Te,Qe}function Gt(ye){if(Qe=(Te=ye)&&Te.constructor,Ye=typeof Qe=="function"&&Qe.prototype||R,Te!==Ye)return ae(ye);var Te,Qe,Ye,Rt=[];for(var lt in Object(ye))Y.call(ye,lt)&&lt!="constructor"&&Rt.push(lt);return Rt}function Pt(ye){return Vt(ye)?ye:Bt(ye)}function Mt(ye,Te,Qe,Ye,Rt,lt){var mt=2&Rt,Mr=ye.length,ir=Te.length;if(Mr!=ir&&!(mt&&ir>Mr))return!1;var Ut=lt.get(ye);if(Ut&&lt.get(Te))return Ut==Te;var Ft=-1,or=!0,$r=1&Rt?new Ge:void 0;for(lt.set(ye,Te),lt.set(Te,ye);++Ft<Mr;){var Lr=ye[Ft],rn=Te[Ft];if(Ye)var ln=mt?Ye(rn,Lr,Ft,Te,ye,lt):Ye(Lr,rn,Ft,ye,Te,lt);if(ln!==void 0){if(ln)continue;or=!1;break}if($r){if(!K(Te,(function(fn,Sn){if(!$r.has(Sn)&&(Lr===fn||Qe(Lr,fn,Ye,Rt,lt)))return $r.add(Sn)}))){or=!1;break}}else if(Lr!==rn&&!Qe(Lr,rn,Ye,Rt,lt)){or=!1;break}}return lt.delete(ye),lt.delete(Te),or}function Nr(ye,Te){var Qe,Ye,Rt=ye.__data__;return((Ye=typeof(Qe=Te))=="string"||Ye=="number"||Ye=="symbol"||Ye=="boolean"?Qe!=="__proto__":Qe===null)?Rt[typeof Te=="string"?"string":"hash"]:Rt.map}function Lt(ye,Te){var Qe=(function(Ye,Rt){return Ye?.[Rt]})(ye,Te);return _t(Qe)?Qe:void 0}var Cr=function(ye){return re.call(ye)};function rr(ye,Te){return!!(Te=Te??9007199254740991)&&(typeof ye=="number"||m.test(ye))&&ye>-1&&ye%1==0&&ye<Te}function Ct(ye,Te){if(Vt(ye))return!1;var Qe=typeof ye;return!(Qe!="number"&&Qe!="symbol"&&Qe!="boolean"&&ye!=null&&!Nt(ye))||p.test(ye)||!d.test(ye)||Te!=null&&ye in Object(Te)}function Tr(ye){return ye==ye&&!et(ye)}function nr(ye,Te){return function(Qe){return Qe!=null&&Qe[ye]===Te&&(Te!==void 0||ye in Object(Qe))}}(pe&&Cr(new pe(new ArrayBuffer(1)))!="[object DataView]"||ue&&Cr(new ue)!=c||ge&&Cr(ge.resolve())!="[object Promise]"||ee&&Cr(new ee)!=l||oe&&Cr(new oe)!="[object WeakMap]")&&(Cr=function(ye){var Te=re.call(ye),Qe=Te==u?ye.constructor:void 0,Ye=Qe?Me(Qe):void 0;if(Ye)switch(Ye){case fe:return"[object DataView]";case ce:return c;case ie:return"[object Promise]";case te:return l;case se:return"[object WeakMap]"}return Te});var Bt=zt((function(ye){var Te;ye=(Te=ye)==null?"":(function(Ye){if(typeof Ye=="string")return Ye;if(Nt(Ye))return ke?ke.call(Ye):"";var Rt=Ye+"";return Rt=="0"&&1/Ye==-1/0?"-0":Rt})(Te);var Qe=[];return f.test(ye)&&Qe.push(""),ye.replace(h,(function(Ye,Rt,lt,mt){Qe.push(lt?mt.replace(g,"$1"):Rt||Ye)})),Qe}));function je(ye){if(typeof ye=="string"||Nt(ye))return ye;var Te=ye+"";return Te=="0"&&1/ye==-1/0?"-0":Te}function Me(ye){if(ye!=null){try{return X.call(ye)}catch{}try{return ye+""}catch{}}return""}var We,tt=(We=function(ye,Te,Qe){Y.call(ye,Qe)?ye[Qe].push(Te):ye[Qe]=[Te]},function(ye,Te){var Qe=Vt(ye)?U:ot,Ye={};return Qe(ye,We,Yt(Te),Ye)});function zt(ye,Te){if(typeof ye!="function"||Te&&typeof Te!="function")throw new TypeError("Expected a function");var Qe=function(){var Ye=arguments,Rt=Te?Te.apply(this,Ye):Ye[0],lt=Qe.cache;if(lt.has(Rt))return lt.get(Rt);var mt=ye.apply(this,Ye);return Qe.cache=lt.set(Rt,mt),mt};return Qe.cache=new(zt.Cache||Fe),Qe}function dt(ye,Te){return ye===Te||ye!=ye&&Te!=Te}function Qt(ye){return(function(Te){return bt(Te)&&St(Te)})(ye)&&Y.call(ye,"callee")&&(!z.call(ye,"callee")||re.call(ye)==o)}zt.Cache=Fe;var Vt=Array.isArray;function St(ye){return ye!=null&&He(ye.length)&&!we(ye)}function we(ye){var Te=et(ye)?re.call(ye):"";return Te=="[object Function]"||Te=="[object GeneratorFunction]"}function He(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=9007199254740991}function et(ye){var Te=typeof ye;return!!ye&&(Te=="object"||Te=="function")}function bt(ye){return!!ye&&typeof ye=="object"}function Nt(ye){return typeof ye=="symbol"||bt(ye)&&re.call(ye)=="[object Symbol]"}var gr=I?(function(ye){return function(Te){return ye(Te)}})(I):function(ye){return bt(ye)&&He(ye.length)&&!!v[re.call(ye)]};function an(ye){return St(ye)?pt(ye):Gt(ye)}function Qn(ye){return ye}n.exports=tt}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||(function(c){return!!c&&typeof c=="object"})(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[c]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=h||g||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,x=v&&v.exports===m,S=x&&h.process,C=(function(){try{return S&&S.binding&&S.binding("util")}catch{}})(),A=C&&C.isTypedArray;function B(je,Me){for(var We=-1,tt=je==null?0:je.length;++We<tt;)if(Me(je[We],We,je))return!0;return!1}function q(je){var Me=-1,We=Array(je.size);return je.forEach((function(tt,zt){We[++Me]=[zt,tt]})),We}function D(je){var Me=-1,We=Array(je.size);return je.forEach((function(tt){We[++Me]=tt})),We}var I,U,K,W=Array.prototype,P=Function.prototype,L=Object.prototype,T=y["__core-js_shared__"],_=P.toString,k=L.hasOwnProperty,j=(I=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",N=L.toString,R=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x?y.Buffer:void 0,$=y.Symbol,X=y.Uint8Array,Y=L.propertyIsEnumerable,re=W.splice,F=$?$.toStringTag:void 0,Z=Object.getOwnPropertySymbols,V=O?O.isBuffer:void 0,z=(U=Object.keys,K=Object,function(je){return U(K(je))}),G=Et(y,"DataView"),ae=Et(y,"Map"),pe=Et(y,"Promise"),ue=Et(y,"Set"),ge=Et(y,"WeakMap"),ee=Et(Object,"create"),oe=Gt(G),ne=Gt(ae),fe=Gt(pe),ce=Gt(ue),ie=Gt(ge),te=$?$.prototype:void 0,se=te?te.valueOf:void 0;function de(je){var Me=-1,We=je==null?0:je.length;for(this.clear();++Me<We;){var tt=je[Me];this.set(tt[0],tt[1])}}function me(je){var Me=-1,We=je==null?0:je.length;for(this.clear();++Me<We;){var tt=je[Me];this.set(tt[0],tt[1])}}function ke(je){var Me=-1,We=je==null?0:je.length;for(this.clear();++Me<We;){var tt=je[Me];this.set(tt[0],tt[1])}}function Ne(je){var Me=-1,We=je==null?0:je.length;for(this.__data__=new ke;++Me<We;)this.add(je[Me])}function De(je){var Me=this.__data__=new me(je);this.size=Me.size}function Fe(je,Me){var We=Nr(je),tt=!We&&Mt(je),zt=!We&&!tt&&Lt(je),dt=!We&&!tt&&!zt&&nr(je),Qt=We||tt||zt||dt,Vt=Qt?(function(He,et){for(var bt=-1,Nt=Array(He);++bt<He;)Nt[bt]=et(bt);return Nt})(je.length,String):[],St=Vt.length;for(var we in je)!k.call(je,we)||Qt&&(we=="length"||zt&&(we=="offset"||we=="parent")||dt&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Yt(we,St))||Vt.push(we);return Vt}function Ge(je,Me){for(var We=je.length;We--;)if(Pt(je[We][0],Me))return We;return-1}function qe(je){return je==null?je===void 0?"[object Undefined]":"[object Null]":F&&F in Object(je)?(function(Me){var We=k.call(Me,F),tt=Me[F];try{Me[F]=void 0;var zt=!0}catch{}var dt=N.call(Me);return zt&&(We?Me[F]=tt:delete Me[F]),dt})(je):(function(Me){return N.call(Me)})(je)}function pt(je){return Tr(je)&&qe(je)==o}function yt(je,Me,We,tt,zt){return je===Me||(je==null||Me==null||!Tr(je)&&!Tr(Me)?je!=je&&Me!=Me:(function(dt,Qt,Vt,St,we,He){var et=Nr(dt),bt=Nr(Qt),Nt=et?"[object Array]":_t(dt),gr=bt?"[object Array]":_t(Qt),an=(Nt=Nt==o?u:Nt)==u,Qn=(gr=gr==o?u:gr)==u,ye=Nt==gr;if(ye&&Lt(dt)){if(!Lt(Qt))return!1;et=!0,an=!1}if(ye&&!an)return He||(He=new De),et||nr(dt)?be(dt,Qt,Vt,St,we,He):(function(lt,mt,Mr,ir,Ut,Ft,or){switch(Mr){case"[object DataView]":if(lt.byteLength!=mt.byteLength||lt.byteOffset!=mt.byteOffset)return!1;lt=lt.buffer,mt=mt.buffer;case"[object ArrayBuffer]":return!(lt.byteLength!=mt.byteLength||!Ft(new X(lt),new X(mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pt(+lt,+mt);case"[object Error]":return lt.name==mt.name&&lt.message==mt.message;case"[object RegExp]":case"[object String]":return lt==mt+"";case c:var $r=q;case l:var Lr=1&ir;if($r||($r=D),lt.size!=mt.size&&!Lr)return!1;var rn=or.get(lt);if(rn)return rn==mt;ir|=2,or.set(lt,mt);var ln=be($r(lt),$r(mt),ir,Ut,Ft,or);return or.delete(lt),ln;case"[object Symbol]":if(se)return se.call(lt)==se.call(mt)}return!1})(dt,Qt,Nt,Vt,St,we,He);if(!(1&Vt)){var Te=an&&k.call(dt,"__wrapped__"),Qe=Qn&&k.call(Qt,"__wrapped__");if(Te||Qe){var Ye=Te?dt.value():dt,Rt=Qe?Qt.value():Qt;return He||(He=new De),we(Ye,Rt,Vt,St,He)}}return ye?(He||(He=new De),(function(lt,mt,Mr,ir,Ut,Ft){var or=1&Mr,$r=Be(lt),Lr=$r.length,rn=Be(mt).length;if(Lr!=rn&&!or)return!1;for(var ln=Lr;ln--;){var fn=$r[ln];if(!(or?fn in mt:k.call(mt,fn)))return!1}var Sn=Ft.get(lt);if(Sn&&Ft.get(mt))return Sn==mt;var Yn=!0;Ft.set(lt,mt),Ft.set(mt,lt);for(var Os=or;++ln<Lr;){fn=$r[ln];var Wa=lt[fn],fs=mt[fn];if(ir)var qr=or?ir(fs,Wa,fn,mt,lt,Ft):ir(Wa,fs,fn,lt,mt,Ft);if(!(qr===void 0?Wa===fs||Ut(Wa,fs,Mr,ir,Ft):qr)){Yn=!1;break}Os||(Os=fn=="constructor")}if(Yn&&!Os){var Rr=lt.constructor,Fs=mt.constructor;Rr==Fs||!("constructor"in lt)||!("constructor"in mt)||typeof Rr=="function"&&Rr instanceof Rr&&typeof Fs=="function"&&Fs instanceof Fs||(Yn=!1)}return Ft.delete(lt),Ft.delete(mt),Yn})(dt,Qt,Vt,St,we,He)):!1})(je,Me,We,tt,yt,zt))}function ot(je){return!(!Ct(je)||(function(Me){return!!j&&j in Me})(je))&&(Cr(je)?R:d).test(Gt(je))}function ve(je){if(We=(Me=je)&&Me.constructor,tt=typeof We=="function"&&We.prototype||L,Me!==tt)return z(je);var Me,We,tt,zt=[];for(var dt in Object(je))k.call(je,dt)&&dt!="constructor"&&zt.push(dt);return zt}function be(je,Me,We,tt,zt,dt){var Qt=1&We,Vt=je.length,St=Me.length;if(Vt!=St&&!(Qt&&St>Vt))return!1;var we=dt.get(je);if(we&&dt.get(Me))return we==Me;var He=-1,et=!0,bt=2&We?new Ne:void 0;for(dt.set(je,Me),dt.set(Me,je);++He<Vt;){var Nt=je[He],gr=Me[He];if(tt)var an=Qt?tt(gr,Nt,He,Me,je,dt):tt(Nt,gr,He,je,Me,dt);if(an!==void 0){if(an)continue;et=!1;break}if(bt){if(!B(Me,(function(Qn,ye){if(Te=ye,!bt.has(Te)&&(Nt===Qn||zt(Nt,Qn,We,tt,dt)))return bt.push(ye);var Te}))){et=!1;break}}else if(Nt!==gr&&!zt(Nt,gr,We,tt,dt)){et=!1;break}}return dt.delete(je),dt.delete(Me),et}function Be(je){return(function(Me,We,tt){var zt=We(Me);return Nr(Me)?zt:(function(dt,Qt){for(var Vt=-1,St=Qt.length,we=dt.length;++Vt<St;)dt[we+Vt]=Qt[Vt];return dt})(zt,tt(Me))})(je,Bt,Kt)}function Xe(je,Me){var We,tt,zt=je.__data__;return((tt=typeof(We=Me))=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?We!=="__proto__":We===null)?zt[typeof Me=="string"?"string":"hash"]:zt.map}function Et(je,Me){var We=(function(tt,zt){return tt?.[zt]})(je,Me);return ot(We)?We:void 0}de.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},de.prototype.delete=function(je){var Me=this.has(je)&&delete this.__data__[je];return this.size-=Me?1:0,Me},de.prototype.get=function(je){var Me=this.__data__;if(ee){var We=Me[je];return We==="__lodash_hash_undefined__"?void 0:We}return k.call(Me,je)?Me[je]:void 0},de.prototype.has=function(je){var Me=this.__data__;return ee?Me[je]!==void 0:k.call(Me,je)},de.prototype.set=function(je,Me){var We=this.__data__;return this.size+=this.has(je)?0:1,We[je]=ee&&Me===void 0?"__lodash_hash_undefined__":Me,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(je){var Me=this.__data__,We=Ge(Me,je);return!(We<0)&&(We==Me.length-1?Me.pop():re.call(Me,We,1),--this.size,!0)},me.prototype.get=function(je){var Me=this.__data__,We=Ge(Me,je);return We<0?void 0:Me[We][1]},me.prototype.has=function(je){return Ge(this.__data__,je)>-1},me.prototype.set=function(je,Me){var We=this.__data__,tt=Ge(We,je);return tt<0?(++this.size,We.push([je,Me])):We[tt][1]=Me,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(ae||me),string:new de}},ke.prototype.delete=function(je){var Me=Xe(this,je).delete(je);return this.size-=Me?1:0,Me},ke.prototype.get=function(je){return Xe(this,je).get(je)},ke.prototype.has=function(je){return Xe(this,je).has(je)},ke.prototype.set=function(je,Me){var We=Xe(this,je),tt=We.size;return We.set(je,Me),this.size+=We.size==tt?0:1,this},Ne.prototype.add=Ne.prototype.push=function(je){return this.__data__.set(je,"__lodash_hash_undefined__"),this},Ne.prototype.has=function(je){return this.__data__.has(je)},De.prototype.clear=function(){this.__data__=new me,this.size=0},De.prototype.delete=function(je){var Me=this.__data__,We=Me.delete(je);return this.size=Me.size,We},De.prototype.get=function(je){return this.__data__.get(je)},De.prototype.has=function(je){return this.__data__.has(je)},De.prototype.set=function(je,Me){var We=this.__data__;if(We instanceof me){var tt=We.__data__;if(!ae||tt.length<199)return tt.push([je,Me]),this.size=++We.size,this;We=this.__data__=new ke(tt)}return We.set(je,Me),this.size=We.size,this};var Kt=Z?function(je){return je==null?[]:(je=Object(je),(function(Me,We){for(var tt=-1,zt=Me==null?0:Me.length,dt=0,Qt=[];++tt<zt;){var Vt=Me[tt];We(Vt,tt,Me)&&(Qt[dt++]=Vt)}return Qt})(Z(je),(function(Me){return Y.call(je,Me)})))}:function(){return[]},_t=qe;function Yt(je,Me){return!!(Me=Me??9007199254740991)&&(typeof je=="number"||p.test(je))&&je>-1&&je%1==0&&je<Me}function Gt(je){if(je!=null){try{return _.call(je)}catch{}try{return je+""}catch{}}return""}function Pt(je,Me){return je===Me||je!=je&&Me!=Me}(G&&_t(new G(new ArrayBuffer(1)))!="[object DataView]"||ae&&_t(new ae)!=c||pe&&_t(pe.resolve())!="[object Promise]"||ue&&_t(new ue)!=l||ge&&_t(new ge)!="[object WeakMap]")&&(_t=function(je){var Me=qe(je),We=Me==u?je.constructor:void 0,tt=We?Gt(We):"";if(tt)switch(tt){case oe:return"[object DataView]";case ne:return c;case fe:return"[object Promise]";case ce:return l;case ie:return"[object WeakMap]"}return Me});var Mt=pt((function(){return arguments})())?pt:function(je){return Tr(je)&&k.call(je,"callee")&&!Y.call(je,"callee")},Nr=Array.isArray,Lt=V||function(){return!1};function Cr(je){if(!Ct(je))return!1;var Me=qe(je);return Me=="[object Function]"||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function rr(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=9007199254740991}function Ct(je){var Me=typeof je;return je!=null&&(Me=="object"||Me=="function")}function Tr(je){return je!=null&&typeof je=="object"}var nr=A?(function(je){return function(Me){return je(Me)}})(A):function(je){return Tr(je)&&rr(je.length)&&!!f[qe(je)]};function Bt(je){return(Me=je)!=null&&rr(Me.length)&&!Cr(Me)?Fe(je):ve(je);var Me}n.exports=function(je,Me){return yt(je,Me)}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,u=o||c||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,p=l.toString,f=u.Symbol,h=f?f.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?(function(m){var v=d.call(m,h),x=m[h];try{m[h]=void 0;var S=!0}catch{}var C=p.call(m);return S&&(v?m[h]=x:delete m[h]),C})(y):(function(m){return p.call(m)})(y)}n.exports=function(y){if(!(function(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function d($,X){return!!($&&$.length)&&(function(Y,re,F){if(re!=re)return(function(z,G,ae,pe){for(var ue=z.length,ge=ae+-1;++ge<ue;)if(G(z[ge],ge,z))return ge;return-1})(Y,p,F);for(var Z=F-1,V=Y.length;++Z<V;)if(Y[Z]===re)return Z;return-1})($,X,0)>-1}function p($){return $!=$}function f($,X){return $.has(X)}function h($){var X=-1,Y=Array($.size);return $.forEach((function(re){Y[++X]=re})),Y}var g,y=Array.prototype,m=Function.prototype,v=Object.prototype,x=l["__core-js_shared__"],S=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=m.toString,A=v.hasOwnProperty,B=v.toString,q=RegExp("^"+C.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=y.splice,I=R(l,"Map"),U=R(l,"Set"),K=R(Object,"create");function W($){var X=-1,Y=$?$.length:0;for(this.clear();++X<Y;){var re=$[X];this.set(re[0],re[1])}}function P($){var X=-1,Y=$?$.length:0;for(this.clear();++X<Y;){var re=$[X];this.set(re[0],re[1])}}function L($){var X=-1,Y=$?$.length:0;for(this.clear();++X<Y;){var re=$[X];this.set(re[0],re[1])}}function T($){var X=-1,Y=$?$.length:0;for(this.__data__=new L;++X<Y;)this.add($[X])}function _($,X){for(var Y,re,F=$.length;F--;)if((Y=$[F][0])===(re=X)||Y!=Y&&re!=re)return F;return-1}function k($){return!(!O($)||(X=$,S&&S in X))&&((function(Y){var re=O(Y)?B.call(Y):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})($)||(function(Y){var re=!1;if(Y!=null&&typeof Y.toString!="function")try{re=!!(Y+"")}catch{}return re})($)?q:o).test((function(Y){if(Y!=null){try{return C.call(Y)}catch{}try{return Y+""}catch{}}return""})($));var X}W.prototype.clear=function(){this.__data__=K?K(null):{}},W.prototype.delete=function($){return this.has($)&&delete this.__data__[$]},W.prototype.get=function($){var X=this.__data__;if(K){var Y=X[$];return Y==="__lodash_hash_undefined__"?void 0:Y}return A.call(X,$)?X[$]:void 0},W.prototype.has=function($){var X=this.__data__;return K?X[$]!==void 0:A.call(X,$)},W.prototype.set=function($,X){return this.__data__[$]=K&&X===void 0?"__lodash_hash_undefined__":X,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function($){var X=this.__data__,Y=_(X,$);return!(Y<0)&&(Y==X.length-1?X.pop():D.call(X,Y,1),!0)},P.prototype.get=function($){var X=this.__data__,Y=_(X,$);return Y<0?void 0:X[Y][1]},P.prototype.has=function($){return _(this.__data__,$)>-1},P.prototype.set=function($,X){var Y=this.__data__,re=_(Y,$);return re<0?Y.push([$,X]):Y[re][1]=X,this},L.prototype.clear=function(){this.__data__={hash:new W,map:new(I||P),string:new W}},L.prototype.delete=function($){return N(this,$).delete($)},L.prototype.get=function($){return N(this,$).get($)},L.prototype.has=function($){return N(this,$).has($)},L.prototype.set=function($,X){return N(this,$).set($,X),this},T.prototype.add=T.prototype.push=function($){return this.__data__.set($,"__lodash_hash_undefined__"),this},T.prototype.has=function($){return this.__data__.has($)};var j=U&&1/h(new U([,-0]))[1]==1/0?function($){return new U($)}:function(){};function N($,X){var Y,re,F=$.__data__;return((re=typeof(Y=X))=="string"||re=="number"||re=="symbol"||re=="boolean"?Y!=="__proto__":Y===null)?F[typeof X=="string"?"string":"hash"]:F.map}function R($,X){var Y=(function(re,F){return re?.[F]})($,X);return k(Y)?Y:void 0}function O($){var X=typeof $;return!!$&&(X=="object"||X=="function")}n.exports=function($){return $&&$.length?(function(X,Y,re){var F=-1,Z=d,V=X.length,z=!0,G=[],ae=G;if(V>=200){var pe=j(X);if(pe)return h(pe);z=!1,Z=f,ae=new T}else ae=G;e:for(;++F<V;){var ue=X[F],ge=ue;if(ue=ue!==0?ue:0,z&&ge==ge){for(var ee=ae.length;ee--;)if(ae[ee]===ge)continue e;G.push(ue)}else Z(ae,ge,re)||(ae!==G&&ae.push(ge),G.push(ue))}return G})($):[]}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),o=e("hash-base"),c=e("safe-buffer").Buffer,u=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,m){return y<<m|y>>>32-m}function p(y,m,v,x,S,C,A){return d(y+(m&v|~m&x)+S+C|0,A)+m|0}function f(y,m,v,x,S,C,A){return d(y+(m&x|v&~x)+S+C|0,A)+m|0}function h(y,m,v,x,S,C,A){return d(y+(m^v^x)+S+C|0,A)+m|0}function g(y,m,v,x,S,C,A){return d(y+(v^(m|~x))+S+C|0,A)+m|0}i(l,o),l.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var v=this._a,x=this._b,S=this._c,C=this._d;v=p(v,x,S,C,y[0],3614090360,7),C=p(C,v,x,S,y[1],3905402710,12),S=p(S,C,v,x,y[2],606105819,17),x=p(x,S,C,v,y[3],3250441966,22),v=p(v,x,S,C,y[4],4118548399,7),C=p(C,v,x,S,y[5],1200080426,12),S=p(S,C,v,x,y[6],2821735955,17),x=p(x,S,C,v,y[7],4249261313,22),v=p(v,x,S,C,y[8],1770035416,7),C=p(C,v,x,S,y[9],2336552879,12),S=p(S,C,v,x,y[10],4294925233,17),x=p(x,S,C,v,y[11],2304563134,22),v=p(v,x,S,C,y[12],1804603682,7),C=p(C,v,x,S,y[13],4254626195,12),S=p(S,C,v,x,y[14],2792965006,17),v=f(v,x=p(x,S,C,v,y[15],1236535329,22),S,C,y[1],4129170786,5),C=f(C,v,x,S,y[6],3225465664,9),S=f(S,C,v,x,y[11],643717713,14),x=f(x,S,C,v,y[0],3921069994,20),v=f(v,x,S,C,y[5],3593408605,5),C=f(C,v,x,S,y[10],38016083,9),S=f(S,C,v,x,y[15],3634488961,14),x=f(x,S,C,v,y[4],3889429448,20),v=f(v,x,S,C,y[9],568446438,5),C=f(C,v,x,S,y[14],3275163606,9),S=f(S,C,v,x,y[3],4107603335,14),x=f(x,S,C,v,y[8],1163531501,20),v=f(v,x,S,C,y[13],2850285829,5),C=f(C,v,x,S,y[2],4243563512,9),S=f(S,C,v,x,y[7],1735328473,14),v=h(v,x=f(x,S,C,v,y[12],2368359562,20),S,C,y[5],4294588738,4),C=h(C,v,x,S,y[8],2272392833,11),S=h(S,C,v,x,y[11],1839030562,16),x=h(x,S,C,v,y[14],4259657740,23),v=h(v,x,S,C,y[1],2763975236,4),C=h(C,v,x,S,y[4],1272893353,11),S=h(S,C,v,x,y[7],4139469664,16),x=h(x,S,C,v,y[10],3200236656,23),v=h(v,x,S,C,y[13],681279174,4),C=h(C,v,x,S,y[0],3936430074,11),S=h(S,C,v,x,y[3],3572445317,16),x=h(x,S,C,v,y[6],76029189,23),v=h(v,x,S,C,y[9],3654602809,4),C=h(C,v,x,S,y[12],3873151461,11),S=h(S,C,v,x,y[15],530742520,16),v=g(v,x=h(x,S,C,v,y[2],3299628645,23),S,C,y[0],4096336452,6),C=g(C,v,x,S,y[7],1126891415,10),S=g(S,C,v,x,y[14],2878612391,15),x=g(x,S,C,v,y[5],4237533241,21),v=g(v,x,S,C,y[12],1700485571,6),C=g(C,v,x,S,y[3],2399980690,10),S=g(S,C,v,x,y[10],4293915773,15),x=g(x,S,C,v,y[1],2240044497,21),v=g(v,x,S,C,y[8],1873313359,6),C=g(C,v,x,S,y[15],4264355552,10),S=g(S,C,v,x,y[6],2734768916,15),x=g(x,S,C,v,y[13],1309151649,21),v=g(v,x,S,C,y[4],4149444226,6),C=g(C,v,x,S,y[11],3174756917,10),S=g(S,C,v,x,y[2],718787259,15),x=g(x,S,C,v,y[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+x|0,this._c=this._c+S|0,this._d=this._d+C|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=c.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),o=e("brorand");function c(u){this.rand=u||new o.Rand}n.exports=c,c.create=function(u){return new c(u)},c.prototype._randbelow=function(u){var l=u.bitLength(),d=Math.ceil(l/8);do var p=new i(this.rand.generate(d));while(p.cmp(u)>=0);return p},c.prototype._randrange=function(u,l){var d=l.sub(u);return u.add(this._randbelow(d))},c.prototype.test=function(u,l,d){var p=u.bitLength(),f=i.mont(u),h=new i(1).toRed(f);l||(l=Math.max(1,p/48|0));for(var g=u.subn(1),y=0;!g.testn(y);y++);for(var m=u.shrn(y),v=g.toRed(f);l>0;l--){var x=this._randrange(new i(2),g);d&&d(x);var S=x.toRed(f).redPow(m);if(S.cmp(h)!==0&&S.cmp(v)!==0){for(var C=1;C<y;C++){if((S=S.redSqr()).cmp(h)===0)return!1;if(S.cmp(v)===0)break}if(C===y)return!1}}return!0},c.prototype.getDivisor=function(u,l){var d=u.bitLength(),p=i.mont(u),f=new i(1).toRed(p);l||(l=Math.max(1,d/48|0));for(var h=u.subn(1),g=0;!h.testn(g);g++);for(var y=u.shrn(g),m=h.toRed(p);l>0;l--){var v=this._randrange(new i(2),h),x=u.gcd(v);if(x.cmpn(1)!==0)return x;var S=v.toRed(p).redPow(y);if(S.cmp(f)!==0&&S.cmp(m)!==0){for(var C=1;C<g;C++){if((S=S.redSqr()).cmp(f)===0)return S.fromRed().subn(1).gcd(u);if(S.cmp(m)===0)break}if(C===g)return(S=S.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(o,c){if(!o)throw new Error(c||"Assertion failed")}n.exports=i,i.equal=function(o,c,u){if(o!=c)throw new Error(u||"Assertion failed: "+o+" != "+c)}},{}],454:[function(e,n,s){var i=s;function o(u){return u.length===1?"0"+u:u}function c(u){for(var l="",d=0;d<u.length;d++)l+=o(u[d].toString(16));return l}i.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var p=0;p<u.length;p++)d[p]=0|u[p];return d}if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)d.push(parseInt(u[p]+u[p+1],16));else for(p=0;p<u.length;p++){var f=u.charCodeAt(p),h=f>>8,g=255&f;h?d.push(h,g):d.push(g)}return d},i.zero2=o,i.toHex=c,i.encode=function(u,l){return l==="hex"?c(u):u}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var o=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=o;var c=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=c;var u=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}));s.PublicKey=u;var l=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=d;var p=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var f=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var h=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=h;var g=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),o=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),c=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),u=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),l=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),d=i.define("RelativeDistinguishedName",(function(){this.setof(c)})),p=i.define("RDNSequence",(function(){this.seqof(d)})),f=i.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),h=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))})),g=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e("evp_bytestokey"),l=e("browserify-aes"),d=e("safe-buffer").Buffer;n.exports=function(p,f){var h,g=p.toString(),y=g.match(i);if(y){var m="aes"+y[1],v=d.from(y[2],"hex"),x=d.from(y[3].replace(/[\r\n]/g,""),"base64"),S=u(f,v.slice(0,8),parseInt(y[1],10)).key,C=[],A=l.createDecipheriv(m,S,v);C.push(A.update(x)),C.push(A.final()),h=d.concat(C)}else{var B=g.match(c);h=d.from(B[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),o=e("./aesid.json"),c=e("./fixProc"),u=e("browserify-aes"),l=e("pbkdf2"),d=e("safe-buffer").Buffer;function p(f){var h;typeof f!="object"||d.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=d.from(f));var g,y,m=c(f,h),v=m.tag,x=m.data;switch(v){case"CERTIFICATE":y=i.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(x,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":x=(function(S,C){var A=S.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(S.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=o[S.algorithm.decrypt.cipher.algo.join(".")],D=S.algorithm.decrypt.cipher.iv,I=S.subjectPrivateKey,U=parseInt(q.split("-")[1],10)/8,K=l.pbkdf2Sync(C,A,B,U,"sha1"),W=u.createDecipheriv(q,K,D),P=[];return P.push(W.update(I)),P.push(W.final()),d.concat(P)})(x=i.EncryptedPrivateKey.decode(x,"der"),h);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(x,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return{curve:(x=i.ECPrivateKey.decode(x,"der")).parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var o,c,u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),f=e("./to-buffer"),h=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return c||(c=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(x,S,C,A,B){return h.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then((function(q){return h.deriveBits({name:"PBKDF2",salt:S,iterations:C,hash:{name:B}},q,A<<3)})).then((function(q){return u.from(q)}))}n.exports=function(x,S,C,A,B,q){typeof B=="function"&&(q=B,B=void 0);var D=g[(B=B||"sha1").toLowerCase()];if(D&&typeof i.Promise=="function"){if(l(C,A),x=f(x,d,"Password"),S=f(S,d,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function(I,U){I.then((function(K){m()((function(){U(null,K)}))}),(function(K){m()((function(){U(K)}))}))})((function(I){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[I]!==void 0)return y[I];var U=v(o=o||u.alloc(8),o,10,128,I).then((function(){return!0})).catch((function(){return!1}));return y[I]=U,U})(D).then((function(I){return I?v(x,S,C,A,D):p(x,S,C,A,B)})),q)}else m()((function(){var I;try{I=p(x,S,C,A,B)}catch(U){return q(U)}q(null,I)}))}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>i||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),o=e("ripemd160"),c=e("sha.js"),u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./to-buffer"),f=u.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,v){var x=(function(D){function I(U){return c(D).update(U).digest()}return D==="rmd160"||D==="ripemd160"?function(U){return new o().update(U).digest()}:D==="md5"?i:I})(y),S=y==="sha512"||y==="sha384"?128:64;m.length>S?m=x(m):m.length<S&&(m=u.concat([m,f],S));for(var C=u.allocUnsafe(S+h[y]),A=u.allocUnsafe(S+h[y]),B=0;B<S;B++)C[B]=54^m[B],A[B]=92^m[B];var q=u.allocUnsafe(S+v+4);C.copy(q,0,0,S),this.ipad1=q,this.ipad2=C,this.opad=A,this.alg=y,this.blocksize=S,this.hash=x,this.size=h[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,v,x,S){l(v,x);var C=new g(S=S||"sha1",y=p(y,d,"Password"),(m=p(m,d,"Salt")).length),A=u.allocUnsafe(x),B=u.allocUnsafe(m.length+4);m.copy(B,0,0,m.length);for(var q=0,D=h[S],I=Math.ceil(x/D),U=1;U<=I;U++){B.writeUInt32BE(U,m.length);for(var K=C.run(B,C.ipad1),W=K,P=1;P<v;P++){W=C.run(W,C.ipad2);for(var L=0;L<D;L++)K[L]^=W[L]}K.copy(A,q),q+=D}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(o,c,u){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,c);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,c,u,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var d,p,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick((function(){o.call(null,c)}));case 3:return i.nextTick((function(){o.call(null,c,u)}));case 4:return i.nextTick((function(){o.call(null,c,u,l)}));default:for(d=new Array(f-1),p=0;p<d.length;)d[p++]=arguments[p];return i.nextTick((function(){o.apply(null,d)}))}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,o,c=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function d(S){if(i===setTimeout)return setTimeout(S,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(S,0);try{return i(S,0)}catch{try{return i.call(null,S,0)}catch{return i.call(this,S,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var p,f=[],h=!1,g=-1;function y(){h&&p&&(h=!1,p.length?f=p.concat(f):g=-1,f.length&&m())}function m(){if(!h){var S=d(y);h=!0;for(var C=f.length;C;){for(p=f,f=[];++g<C;)p&&p[g].run();g=-1,C=f.length}p=null,h=!1,(function(A){if(o===clearTimeout)return clearTimeout(A);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}})(S)}}function v(S,C){this.fun=S,this.array=C}function x(){}c.nextTick=function(S){var C=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)C[A-1]=arguments[A];f.push(new v(S,C)),f.length!==1||h||d(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,o){return s.publicEncrypt(i,o,!0)},s.publicDecrypt=function(i,o){return s.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),o=e("safe-buffer").Buffer;function c(u){var l=o.allocUnsafe(4);return l.writeUInt32BE(u,0),l}n.exports=function(u,l){for(var d,p=o.alloc(0),f=0;p.length<l;)d=c(f++),p=o.concat([p,i("sha1").update(u).update(d).digest()]);return p.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),o=e("./mgf"),c=e("./xor"),u=e("bn.js"),l=e("browserify-rsa"),d=e("create-hash"),p=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,g,y){var m;m=h.padding?h.padding:y?1:4;var v,x=i(h),S=x.modulus.byteLength();if(g.length>S||new u(g).cmp(x.modulus)>=0)throw new Error("decryption error");v=y?p(new u(g),x):l(g,x);var C=f.alloc(S-v.length);if(v=f.concat([C,v],S),m===4)return(function(A,B){var q=A.modulus.byteLength(),D=d("sha1").update(f.alloc(0)).digest(),I=D.length;if(B[0]!==0)throw new Error("decryption error");var U=B.slice(1,I+1),K=B.slice(I+1),W=c(U,o(K,I)),P=c(K,o(W,q-I-1));if((function(T,_){T=f.from(T),_=f.from(_);var k=0,j=T.length;T.length!==_.length&&(k++,j=Math.min(T.length,_.length));for(var N=-1;++N<j;)k+=T[N]^_[N];return k})(D,P.slice(0,I)))throw new Error("decryption error");for(var L=I;P[L]===0;)L++;if(P[L++]!==1)throw new Error("decryption error");return P.slice(L)})(x,v);if(m===1)return(function(A,B,q){for(var D=B.slice(0,2),I=2,U=0;B[I++]!==0;)if(I>=B.length){U++;break}var K=B.slice(2,I-1);if((D.toString("hex")!=="0002"&&!q||D.toString("hex")!=="0001"&&q)&&U++,K.length<8&&U++,U)throw new Error("decryption error");return B.slice(I)})(0,v,y);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),o=e("randombytes"),c=e("create-hash"),u=e("./mgf"),l=e("./xor"),d=e("bn.js"),p=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,y,m){var v;v=g.padding?g.padding:m?1:4;var x,S=i(g);if(v===4)x=(function(C,A){var B=C.modulus.byteLength(),q=A.length,D=c("sha1").update(h.alloc(0)).digest(),I=D.length,U=2*I;if(q>B-U-2)throw new Error("message too long");var K=h.alloc(B-q-U-2),W=B-I-1,P=o(I),L=l(h.concat([D,K,h.alloc(1,1),A],W),u(P,W)),T=l(P,u(L,I));return new d(h.concat([h.alloc(1),T,L],B))})(S,y);else if(v===1)x=(function(C,A,B){var q,D=A.length,I=C.modulus.byteLength();if(D>I-11)throw new Error("message too long");return q=B?h.alloc(I-D-3,255):(function(U){for(var K,W=h.allocUnsafe(U),P=0,L=o(2*U),T=0;P<U;)T===L.length&&(L=o(2*U),T=0),(K=L[T++])&&(W[P++]=K);return W})(I-D-3),new d(h.concat([h.from([0,B?1:2]),q,h.alloc(1),A],I))})(S,y,m);else{if(v!==3)throw new Error("unknown padding");if((x=new d(y)).cmp(S.modulus)>=0)throw new Error("data too long for modulus")}return m?f(x,S):p(x,S)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),o=e("safe-buffer").Buffer;n.exports=function(c,u){return o.from(c.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,o){for(var c=i.length,u=-1;++u<c;)i[u]^=o[u];return i}},{}],475:[function(e,n,s){(function(i,o){(function(){var c=e("safe-buffer").Buffer,u=o.crypto||o.msCrypto;u&&u.getRandomValues?n.exports=function(l,d){if(l>4294967295)throw new RangeError("requested too many random bytes");var p=c.allocUnsafe(l);if(l>0)if(l>65536)for(var f=0;f<l;f+=65536)u.getRandomValues(p.slice(f,f+65536));else u.getRandomValues(p);return typeof d=="function"?i.nextTick((function(){d(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=e("safe-buffer"),l=e("randombytes"),d=u.Buffer,p=u.kMaxLength,f=o.crypto||o.msCrypto,h=Math.pow(2,32)-1;function g(v,x){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>x)throw new RangeError("offset out of range")}function y(v,x,S){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+x>S||v>p)throw new RangeError("buffer too small")}function m(v,x,S,C){if(i.browser){var A=v.buffer,B=new Uint8Array(A,x,S);return f.getRandomValues(B),C?void i.nextTick((function(){C(null,v)})):v}if(!C)return l(S).copy(v,x),v;l(S,(function(q,D){if(q)return C(q);D.copy(v,x),C(null,v)}))}f&&f.getRandomValues||!i.browser?(s.randomFill=function(v,x,S,C){if(!(d.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")C=x,x=0,S=v.length;else if(typeof S=="function")C=S,S=v.length-x;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(x,v.length),y(S,x,v.length),m(v,x,S,C)},s.randomFillSync=function(v,x,S){if(x===void 0&&(x=0),!(d.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(x,v.length),S===void 0&&(S=v.length-x),y(S,x,v.length),m(v,x,S)}):(s.randomFill=c,s.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function o(u,l,d){d||(d=Error);var p=(function(f){var h,g;function y(m,v,x){return f.call(this,(function(S,C,A){return typeof l=="string"?l:l(S,C,A)})(m,v,x))||this}return g=f,(h=y).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,y})(d);p.prototype.name=d.name,p.prototype.code=u,i[u]=p}function c(u,l){if(Array.isArray(u)){var d=u.length;return u=u.map((function(p){return String(p)})),d>2?"one of ".concat(l," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}return"of ".concat(l," ").concat(String(u))}o("ERR_INVALID_OPT_VALUE",(function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(u,l,d){var p,f,h;if(typeof l=="string"&&(f="not ",l.substr(0,f.length)===f)?(p="must not be",l=l.replace(/^not /,"")):p="must be",(function(y,m,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-m.length,v)===m})(u," argument"))h="The ".concat(u," ").concat(p," ").concat(c(l,"type"));else{var g=(function(y,m,v){return typeof v!="number"&&(v=0),!(v+m.length>y.length)&&y.indexOf(m,v)!==-1})(u,".")?"property":"argument";h='The "'.concat(u,'" ').concat(g," ").concat(p," ").concat(c(l,"type"))}return h+=". Received type ".concat(typeof d)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(u){return"The "+u+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(u){return"Cannot call "+u+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(u){return"Unknown encoding: "+u}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var o=Object.keys||function(y){var m=[];for(var v in y)m.push(v);return m};n.exports=f;var c=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(f,c);for(var l=o(u.prototype),d=0;d<l.length;d++){var p=l[d];f.prototype[p]||(f.prototype[p]=u.prototype[p])}function f(y){if(!(this instanceof f))return new f(y);c.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=o;var i=e("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);i.call(this,c)}e("inherits")(o,i),o.prototype._transform=function(c,u,l){l(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,o){(function(){var c;n.exports=W,W.ReadableState=K,e("events").EventEmitter;var u=function(V,z){return V.listeners(z).length},l=e("./internal/streams/stream"),d=e("buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,y,m,v=e("./internal/streams/buffer_list"),x=e("./internal/streams/destroy"),S=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,A=C.ERR_INVALID_ARG_TYPE,B=C.ERR_STREAM_PUSH_AFTER_EOF,q=C.ERR_METHOD_NOT_IMPLEMENTED,D=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(W,l);var I=x.errorOrDestroy,U=["error","close","destroy","pause","resume"];function K(V,z,G){c=c||e("./_stream_duplex"),V=V||{},typeof G!="boolean"&&(G=z instanceof c),this.objectMode=!!V.objectMode,G&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=S(this,V,"readableHighWaterMark",G),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(V.encoding),this.encoding=V.encoding)}function W(V){if(c=c||e("./_stream_duplex"),!(this instanceof W))return new W(V);var z=this instanceof c;this._readableState=new K(V,this,z),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),l.call(this)}function P(V,z,G,ae,pe){f("readableAddChunk",z);var ue,ge=V._readableState;if(z===null)ge.reading=!1,(function(ee,oe){if(f("onEofChunk"),!oe.ended){if(oe.decoder){var ne=oe.decoder.end();ne&&ne.length&&(oe.buffer.push(ne),oe.length+=oe.objectMode?1:ne.length)}oe.ended=!0,oe.sync?_(ee):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,k(ee)))}})(V,ge);else if(pe||(ue=(function(ee,oe){var ne;fe=oe,d.isBuffer(fe)||fe instanceof p||typeof oe=="string"||oe===void 0||ee.objectMode||(ne=new A("chunk",["string","Buffer","Uint8Array"],oe));var fe;return ne})(ge,z)),ue)I(V,ue);else if(ge.objectMode||z&&z.length>0)if(typeof z=="string"||ge.objectMode||Object.getPrototypeOf(z)===d.prototype||(z=(function(ee){return d.from(ee)})(z)),ae)ge.endEmitted?I(V,new D):L(V,ge,z,!0);else if(ge.ended)I(V,new B);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!G?(z=ge.decoder.write(z),ge.objectMode||z.length!==0?L(V,ge,z,!1):j(V,ge)):L(V,ge,z,!1)}else ae||(ge.reading=!1,j(V,ge));return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function L(V,z,G,ae){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,V.emit("data",G)):(z.length+=z.objectMode?1:G.length,ae?z.buffer.unshift(G):z.buffer.push(G),z.needReadable&&_(V)),j(V,z)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),W.prototype.destroy=x.destroy,W.prototype._undestroy=x.undestroy,W.prototype._destroy=function(V,z){z(V)},W.prototype.push=function(V,z){var G,ae=this._readableState;return ae.objectMode?G=!0:typeof V=="string"&&((z=z||ae.defaultEncoding)!==ae.encoding&&(V=d.from(V,z),z=""),G=!0),P(this,V,z,!1,G)},W.prototype.unshift=function(V){return P(this,V,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(V){g||(g=e("string_decoder/").StringDecoder);var z=new g(V);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,ae="";G!==null;)ae+=z.write(G.data),G=G.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};function T(V,z){return V<=0||z.length===0&&z.ended?0:z.objectMode?1:V!=V?z.flowing&&z.length?z.buffer.head.data.length:z.length:(V>z.highWaterMark&&(z.highWaterMark=(function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(V)),V<=z.length?V:z.ended?z.length:(z.needReadable=!0,0))}function _(V){var z=V._readableState;f("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(f("emitReadable",z.flowing),z.emittedReadable=!0,i.nextTick(k,V))}function k(V){var z=V._readableState;f("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(V.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,X(V)}function j(V,z){z.readingMore||(z.readingMore=!0,i.nextTick(N,V,z))}function N(V,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var G=z.length;if(f("maybeReadMore read 0"),V.read(0),G===z.length)break}z.readingMore=!1}function R(V){var z=V._readableState;z.readableListening=V.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:V.listenerCount("data")>0&&V.resume()}function O(V){f("readable nexttick read 0"),V.read(0)}function $(V,z){f("resume",z.reading),z.reading||V.read(0),z.resumeScheduled=!1,V.emit("resume"),X(V),z.flowing&&!z.reading&&V.read(0)}function X(V){var z=V._readableState;for(f("flow",z.flowing);z.flowing&&V.read()!==null;);}function Y(V,z){return z.length===0?null:(z.objectMode?G=z.buffer.shift():!V||V>=z.length?(G=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):G=z.buffer.consume(V,z.decoder),G);var G}function re(V){var z=V._readableState;f("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,i.nextTick(F,z,V))}function F(V,z){if(f("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,z.readable=!1,z.emit("end"),V.autoDestroy)){var G=z._writableState;(!G||G.autoDestroy&&G.finished)&&z.destroy()}}function Z(V,z){for(var G=0,ae=V.length;G<ae;G++)if(V[G]===z)return G;return-1}W.prototype.read=function(V){f("read",V),V=parseInt(V,10);var z=this._readableState,G=V;if(V!==0&&(z.emittedReadable=!1),V===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return f("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?re(this):_(this),null;if((V=T(V,z))===0&&z.ended)return z.length===0&&re(this),null;var ae,pe=z.needReadable;return f("need readable",pe),(z.length===0||z.length-V<z.highWaterMark)&&f("length less than watermark",pe=!0),z.ended||z.reading?f("reading or ended",pe=!1):pe&&(f("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(V=T(G,z))),(ae=V>0?Y(V,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,V=0):(z.length-=V,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),G!==V&&z.ended&&re(this)),ae!==null&&this.emit("data",ae),ae},W.prototype._read=function(V){I(this,new q("_read()"))},W.prototype.pipe=function(V,z){var G=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=V;break;case 1:ae.pipes=[ae.pipes,V];break;default:ae.pipes.push(V)}ae.pipesCount+=1,f("pipe count=%d opts=%j",ae.pipesCount,z);var pe=(!z||z.end!==!1)&&V!==i.stdout&&V!==i.stderr?ge:te;function ue(se,de){f("onunpipe"),se===G&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,f("cleanup"),V.removeListener("close",ce),V.removeListener("finish",ie),V.removeListener("drain",ee),V.removeListener("error",fe),V.removeListener("unpipe",ue),G.removeListener("end",ge),G.removeListener("end",te),G.removeListener("data",ne),oe=!0,!ae.awaitDrain||V._writableState&&!V._writableState.needDrain||ee())}function ge(){f("onend"),V.end()}ae.endEmitted?i.nextTick(pe):G.once("end",pe),V.on("unpipe",ue);var ee=(function(se){return function(){var de=se._readableState;f("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&u(se,"data")&&(de.flowing=!0,X(se))}})(G);V.on("drain",ee);var oe=!1;function ne(se){f("ondata");var de=V.write(se);f("dest.write",de),de===!1&&((ae.pipesCount===1&&ae.pipes===V||ae.pipesCount>1&&Z(ae.pipes,V)!==-1)&&!oe&&(f("false write response, pause",ae.awaitDrain),ae.awaitDrain++),G.pause())}function fe(se){f("onerror",se),te(),V.removeListener("error",fe),u(V,"error")===0&&I(V,se)}function ce(){V.removeListener("finish",ie),te()}function ie(){f("onfinish"),V.removeListener("close",ce),te()}function te(){f("unpipe"),G.unpipe(V)}return G.on("data",ne),(function(se,de,me){if(typeof se.prependListener=="function")return se.prependListener(de,me);se._events&&se._events[de]?Array.isArray(se._events[de])?se._events[de].unshift(me):se._events[de]=[me,se._events[de]]:se.on(de,me)})(V,"error",fe),V.once("close",ce),V.once("finish",ie),V.emit("pipe",G),ae.flowing||(f("pipe resume"),G.resume()),V},W.prototype.unpipe=function(V){var z=this._readableState,G={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return V&&V!==z.pipes||(V||(V=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,V&&V.emit("unpipe",this,G)),this;if(!V){var ae=z.pipes,pe=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var ue=0;ue<pe;ue++)ae[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ge=Z(z.pipes,V);return ge===-1||(z.pipes.splice(ge,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),V.emit("unpipe",this,G)),this},W.prototype.on=function(V,z){var G=l.prototype.on.call(this,V,z),ae=this._readableState;return V==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):V==="readable"&&(ae.endEmitted||ae.readableListening||(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,f("on readable",ae.length,ae.reading),ae.length?_(this):ae.reading||i.nextTick(O,this))),G},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(V,z){var G=l.prototype.removeListener.call(this,V,z);return V==="readable"&&i.nextTick(R,this),G},W.prototype.removeAllListeners=function(V){var z=l.prototype.removeAllListeners.apply(this,arguments);return V!=="readable"&&V!==void 0||i.nextTick(R,this),z},W.prototype.resume=function(){var V=this._readableState;return V.flowing||(f("resume"),V.flowing=!V.readableListening,(function(z,G){G.resumeScheduled||(G.resumeScheduled=!0,i.nextTick($,z,G))})(this,V)),V.paused=!1,this},W.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(V){var z=this,G=this._readableState,ae=!1;for(var pe in V.on("end",(function(){if(f("wrapped end"),G.decoder&&!G.ended){var ge=G.decoder.end();ge&&ge.length&&z.push(ge)}z.push(null)})),V.on("data",(function(ge){f("wrapped data"),G.decoder&&(ge=G.decoder.write(ge)),G.objectMode&&ge==null||(G.objectMode||ge&&ge.length)&&(z.push(ge)||(ae=!0,V.pause()))})),V)this[pe]===void 0&&typeof V[pe]=="function"&&(this[pe]=(function(ge){return function(){return V[ge].apply(V,arguments)}})(pe));for(var ue=0;ue<U.length;ue++)V.on(U[ue],this.emit.bind(this,U[ue]));return this._read=function(ge){f("wrapped _read",ge),ae&&(ae=!1,V.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),W._fromList=Y,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(V,z){return m===void 0&&(m=e("./internal/streams/from")),m(W,V,z)})}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=f;var i=e("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,c=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=i.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");function p(y,m){var v=this._transformState;v.transforming=!1;var x=v.writecb;if(x===null)return this.emit("error",new c);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),x(y);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);d.call(this,y),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,v){g(y,m,v)}))}function g(y,m,v){if(m)return y.emit("error",m);if(v!=null&&y.push(v),y._writableState.length)throw new l;if(y._transformState.transforming)throw new u;return y.push(null)}e("inherits")(f,d),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,v){v(new o("_transform()"))},f.prototype._write=function(y,m,v){var x=this._transformState;if(x.writecb=v,x.writechunk=y,x.writeencoding=m,!x.transforming){var S=this._readableState;(x.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){d.prototype._destroy.call(this,y,(function(v){m(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,o){(function(){function c(N){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(O,$,X){var Y=O.entry;for(O.entry=null;Y;){var re=Y.callback;$.pendingcb--,re(X),Y=Y.next}$.corkedRequestsFree.next=O})(R,N)}}var u;n.exports=W,W.WritableState=K;var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),p=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,x=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_STREAM_CANNOT_PIPE,A=m.ERR_STREAM_DESTROYED,B=m.ERR_STREAM_NULL_VALUES,q=m.ERR_STREAM_WRITE_AFTER_END,D=m.ERR_UNKNOWN_ENCODING,I=g.errorOrDestroy;function U(){}function K(N,R,O){u=u||e("./_stream_duplex"),N=N||{},typeof O!="boolean"&&(O=R instanceof u),this.objectMode=!!N.objectMode,O&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=y(this,N,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=N.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){(function(Y,re){var F=Y._writableState,Z=F.sync,V=F.writecb;if(typeof V!="function")throw new S;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(F),re)(function(G,ae,pe,ue,ge){--ae.pendingcb,pe?(i.nextTick(ge,ue),i.nextTick(j,G,ae),G._writableState.errorEmitted=!0,I(G,ue)):(ge(ue),G._writableState.errorEmitted=!0,I(G,ue),j(G,ae))})(Y,F,Z,re,V);else{var z=_(F)||Y.destroyed;z||F.corked||F.bufferProcessing||!F.bufferedRequest||T(Y,F),Z?i.nextTick(L,Y,F,z,V):L(Y,F,z,V)}})(R,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function W(N){var R=this instanceof(u=u||e("./_stream_duplex"));if(!R&&!h.call(W,this))return new W(N);this._writableState=new K(N,this,R),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),d.call(this)}function P(N,R,O,$,X,Y,re){R.writelen=$,R.writecb=re,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new A("write")):O?N._writev(X,R.onwrite):N._write(X,Y,R.onwrite),R.sync=!1}function L(N,R,O,$){O||(function(X,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,X.emit("drain"))})(N,R),R.pendingcb--,$(),j(N,R)}function T(N,R){R.bufferProcessing=!0;var O=R.bufferedRequest;if(N._writev&&O&&O.next){var $=R.bufferedRequestCount,X=new Array($),Y=R.corkedRequestsFree;Y.entry=O;for(var re=0,F=!0;O;)X[re]=O,O.isBuf||(F=!1),O=O.next,re+=1;X.allBuffers=F,P(N,R,!0,R.length,X,"",Y.finish),R.pendingcb++,R.lastBufferedRequest=null,Y.next?(R.corkedRequestsFree=Y.next,Y.next=null):R.corkedRequestsFree=new c(R),R.bufferedRequestCount=0}else{for(;O;){var Z=O.chunk,V=O.encoding,z=O.callback;if(P(N,R,!1,R.objectMode?1:Z.length,Z,V,z),O=O.next,R.bufferedRequestCount--,R.writing)break}O===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=O,R.bufferProcessing=!1}function _(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function k(N,R){N._final((function(O){R.pendingcb--,O&&I(N,O),R.prefinished=!0,N.emit("prefinish"),j(N,R)}))}function j(N,R){var O=_(R);if(O&&((function(X,Y){Y.prefinished||Y.finalCalled||(typeof X._final!="function"||Y.destroyed?(Y.prefinished=!0,X.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,i.nextTick(k,X,Y)))})(N,R),R.pendingcb===0&&(R.finished=!0,N.emit("finish"),R.autoDestroy))){var $=N._readableState;(!$||$.autoDestroy&&$.endEmitted)&&N.destroy()}return O}e("inherits")(W,d),K.prototype.getBuffer=function(){for(var N=this.bufferedRequest,R=[];N;)R.push(N),N=N.next;return R},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(N){return!!h.call(this,N)||this===W&&N&&N._writableState instanceof K}})):h=function(N){return N instanceof this},W.prototype.pipe=function(){I(this,new C)},W.prototype.write=function(N,R,O){var $,X=this._writableState,Y=!1,re=!X.objectMode&&($=N,p.isBuffer($)||$ instanceof f);return re&&!p.isBuffer(N)&&(N=(function(F){return p.from(F)})(N)),typeof R=="function"&&(O=R,R=null),re?R="buffer":R||(R=X.defaultEncoding),typeof O!="function"&&(O=U),X.ending?(function(F,Z){var V=new q;I(F,V),i.nextTick(Z,V)})(this,O):(re||(function(F,Z,V,z){var G;return V===null?G=new B:typeof V=="string"||Z.objectMode||(G=new v("chunk",["string","Buffer"],V)),!G||(I(F,G),i.nextTick(z,G),!1)})(this,X,N,O))&&(X.pendingcb++,Y=(function(F,Z,V,z,G,ae){if(!V){var pe=(function(oe,ne,fe){return oe.objectMode||oe.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,fe)),ne})(Z,z,G);z!==pe&&(V=!0,G="buffer",z=pe)}var ue=Z.objectMode?1:z.length;Z.length+=ue;var ge=Z.length<Z.highWaterMark;if(ge||(Z.needDrain=!0),Z.writing||Z.corked){var ee=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:z,encoding:G,isBuf:V,callback:ae,next:null},ee?ee.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else P(F,Z,!1,ue,z,G,ae);return ge})(this,X,re,N,R,O)),Y},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||T(this,N))},W.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new D(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(N,R,O){O(new x("_write()"))},W.prototype._writev=null,W.prototype.end=function(N,R,O){var $=this._writableState;return typeof N=="function"?(O=N,N=null,R=null):typeof R=="function"&&(O=R,R=null),N!=null&&this.write(N,R),$.corked&&($.corked=1,this.uncork()),$.ending||(function(X,Y,re){Y.ending=!0,j(X,Y),re&&(Y.finished?i.nextTick(re):X.once("finish",re)),Y.ended=!0,X.writable=!1})(this,$,O),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(N,R){R(N)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var o;function c(A,B,q){return(B=(function(D){var I=(function(U,K){if(typeof U!="object"||U===null)return U;var W=U[Symbol.toPrimitive];if(W!==void 0){var P=W.call(U,K);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(U)})(D,"string");return typeof I=="symbol"?I:String(I)})(B))in A?Object.defineProperty(A,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):A[B]=q,A}var u=e("./end-of-stream"),l=Symbol("lastResolve"),d=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(A,B){return{value:A,done:B}}function v(A){var B=A[l];if(B!==null){var q=A[y].read();q!==null&&(A[h]=null,A[l]=null,A[d]=null,B(m(q,!1)))}}function x(A){i.nextTick(v,A)}var S=Object.getPrototypeOf((function(){})),C=Object.setPrototypeOf((c(o={get stream(){return this[y]},next:function(){var A=this,B=this[p];if(B!==null)return Promise.reject(B);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function(U,K){i.nextTick((function(){A[p]?K(A[p]):U(m(void 0,!0))}))}));var q,D=this[h];if(D)q=new Promise((function(U,K){return function(W,P){U.then((function(){K[f]?W(m(void 0,!0)):K[g](W,P)}),P)}})(D,this));else{var I=this[y].read();if(I!==null)return Promise.resolve(m(I,!1));q=new Promise(this[g])}return this[h]=q,q}},Symbol.asyncIterator,(function(){return this})),c(o,"return",(function(){var A=this;return new Promise((function(B,q){A[y].destroy(null,(function(D){D?q(D):B(m(void 0,!0))}))}))})),o),S);n.exports=function(A){var B,q=Object.create(C,(c(B={},y,{value:A,writable:!0}),c(B,l,{value:null,writable:!0}),c(B,d,{value:null,writable:!0}),c(B,p,{value:null,writable:!0}),c(B,f,{value:A._readableState.endEmitted,writable:!0}),c(B,g,{value:function(D,I){var U=q[y].read();U?(q[h]=null,q[l]=null,q[d]=null,D(m(U,!1))):(q[l]=D,q[d]=I)},writable:!0}),B));return q[h]=null,u(A,(function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=q[d];return I!==null&&(q[h]=null,q[l]=null,q[d]=null,I(D)),void(q[p]=D)}var U=q[l];U!==null&&(q[h]=null,q[l]=null,q[d]=null,U(m(void 0,!0))),q[f]=!0})),A.on("readable",x.bind(null,q)),q}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(h,g){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter((function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable}))),y.push.apply(y,m)}return y}function o(h){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach((function(m){c(h,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))}))}return h}function c(h,g,y){return(g=l(g))in h?Object.defineProperty(h,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[g]=y,h}function u(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,l(m.key),m)}}function l(h){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var x=v.call(y,m);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(h,"string");return typeof g=="symbol"?g:String(g)}var d=e("buffer").Buffer,p=e("util").inspect,f=p&&p.custom||"inspect";n.exports=(function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,y;return g=h,(y=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=m+v.data;return x}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var v,x,S,C=d.allocUnsafe(m>>>0),A=this.head,B=0;A;)v=A.data,x=C,S=B,d.prototype.copy.call(v,x,S),B+=A.data.length,A=A.next;return C}},{key:"consume",value:function(m,v){var x;return m<this.head.data.length?(x=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):x=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,x=1,S=v.data;for(m-=S.length;v=v.next;){var C=v.data,A=m>C.length?C.length:m;if(A===C.length?S+=C:S+=C.slice(0,m),(m-=A)==0){A===C.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=C.slice(A));break}++x}return this.length-=x,S}},{key:"_getBuffer",value:function(m){var v=d.allocUnsafe(m),x=this.head,S=1;for(x.data.copy(v),m-=x.data.length;x=x.next;){var C=x.data,A=m>C.length?C.length:m;if(C.copy(v,v.length-m,0,A),(m-=A)==0){A===C.length?(++S,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=C.slice(A));break}++S}return this.length-=S,v}},{key:f,value:function(m,v){return p(this,o(o({},v),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),h})()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function o(l,d){u(l,d),c(l)}function c(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(l,d){l.emit("error",d)}n.exports={destroy:function(l,d){var p=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(d?d(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,l)):i.nextTick(u,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(g){!d&&g?p._writableState?p._writableState.errorEmitted?i.nextTick(c,p):(p._writableState.errorEmitted=!0,i.nextTick(o,p,g)):i.nextTick(o,p,g):d?(i.nextTick(c,p),d(g)):i.nextTick(c,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,d){var p=l._readableState,f=l._writableState;p&&p.autoDestroy||f&&f.autoDestroy?l.destroy(d):l.emit("error",d)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function c(u,l,d){if(typeof l=="function")return c(u,null,l);l||(l={}),d=(function(A){var B=!1;return function(){if(!B){B=!0;for(var q=arguments.length,D=new Array(q),I=0;I<q;I++)D[I]=arguments[I];A.apply(this,D)}}})(d||o);var p=l.readable||l.readable!==!1&&u.readable,f=l.writable||l.writable!==!1&&u.writable,h=function(){u.writable||y()},g=u._writableState&&u._writableState.finished,y=function(){f=!1,g=!0,p||d.call(u)},m=u._readableState&&u._readableState.endEmitted,v=function(){p=!1,m=!0,f||d.call(u)},x=function(A){d.call(u,A)},S=function(){var A;return p&&!m?(u._readableState&&u._readableState.ended||(A=new i),d.call(u,A)):f&&!g?(u._writableState&&u._writableState.ended||(A=new i),d.call(u,A)):void 0},C=function(){u.req.on("finish",y)};return(function(A){return A.setHeader&&typeof A.abort=="function"})(u)?(u.on("complete",y),u.on("abort",S),u.req?C():u.on("request",C)):f&&!u._writableState&&(u.on("end",h),u.on("close",h)),u.on("end",v),u.on("finish",y),l.error!==!1&&u.on("error",x),u.on("close",S),function(){u.removeListener("complete",y),u.removeListener("abort",S),u.removeListener("request",C),u.req&&u.req.removeListener("finish",y),u.removeListener("end",h),u.removeListener("close",h),u.removeListener("finish",y),u.removeListener("end",v),u.removeListener("error",x),u.removeListener("close",S)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,o=e("../../../errors").codes,c=o.ERR_MISSING_ARGS,u=o.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function d(g,y,m,v){v=(function(C){var A=!1;return function(){A||(A=!0,C.apply(void 0,arguments))}})(v);var x=!1;g.on("close",(function(){x=!0})),i===void 0&&(i=e("./end-of-stream")),i(g,{readable:y,writable:m},(function(C){if(C)return v(C);x=!0,v()}));var S=!1;return function(C){if(!x&&!S)return S=!0,(function(A){return A.setHeader&&typeof A.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(C||new u("pipe"))}}function p(g){g()}function f(g,y){return g.pipe(y)}function h(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var v,x=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new c("streams");var S=y.map((function(C,A){var B=A<y.length-1;return d(C,B,A>0,(function(q){v||(v=q),q&&S.forEach(p),B||(S.forEach(p),x(v))}))}));return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,c,u,l){var d=(function(p,f,h){return p.highWaterMark!=null?p.highWaterMark:f?p[h]:null})(c,l,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new i(l?u:"highWaterMark",d);return Math.floor(d)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=(function(o){var c=Object.prototype,u=c.hasOwnProperty,l=Object.defineProperty||function(j,N,R){j[N]=R.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",f=d.asyncIterator||"@@asyncIterator",h=d.toStringTag||"@@toStringTag";function g(j,N,R){return Object.defineProperty(j,N,{value:R,enumerable:!0,configurable:!0,writable:!0}),j[N]}try{g({},"")}catch{g=function(N,R,O){return N[R]=O}}function y(j,N,R,O){var $=N&&N.prototype instanceof x?N:x,X=Object.create($.prototype),Y=new T(O||[]);return l(X,"_invoke",{value:K(j,R,Y)}),X}function m(j,N,R){try{return{type:"normal",arg:j.call(N,R)}}catch(O){return{type:"throw",arg:O}}}o.wrap=y;var v={};function x(){}function S(){}function C(){}var A={};g(A,p,(function(){return this}));var B=Object.getPrototypeOf,q=B&&B(B(_([])));q&&q!==c&&u.call(q,p)&&(A=q);var D=C.prototype=x.prototype=Object.create(A);function I(j){["next","throw","return"].forEach((function(N){g(j,N,(function(R){return this._invoke(N,R)}))}))}function U(j,N){var R;l(this,"_invoke",{value:function(O,$){function X(){return new N((function(Y,re){(function F(Z,V,z,G){var ae=m(j[Z],j,V);if(ae.type!=="throw"){var pe=ae.arg,ue=pe.value;return ue&&typeof ue=="object"&&u.call(ue,"__await")?N.resolve(ue.__await).then((function(ge){F("next",ge,z,G)}),(function(ge){F("throw",ge,z,G)})):N.resolve(ue).then((function(ge){pe.value=ge,z(pe)}),(function(ge){return F("throw",ge,z,G)}))}G(ae.arg)})(O,$,Y,re)}))}return R=R?R.then(X,X):X()}})}function K(j,N,R){var O="suspendedStart";return function($,X){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if($==="throw")throw X;return k()}for(R.method=$,R.arg=X;;){var Y=R.delegate;if(Y){var re=W(Y,R);if(re){if(re===v)continue;return re}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(O==="suspendedStart")throw O="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);O="executing";var F=m(j,N,R);if(F.type==="normal"){if(O=R.done?"completed":"suspendedYield",F.arg===v)continue;return{value:F.arg,done:R.done}}F.type==="throw"&&(O="completed",R.method="throw",R.arg=F.arg)}}}function W(j,N){var R=N.method,O=j.iterator[R];if(O===void 0)return N.delegate=null,R==="throw"&&j.iterator.return&&(N.method="return",N.arg=void 0,W(j,N),N.method==="throw")||R!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+R+"' method")),v;var $=m(O,j.iterator,N.arg);if($.type==="throw")return N.method="throw",N.arg=$.arg,N.delegate=null,v;var X=$.arg;return X?X.done?(N[j.resultName]=X.value,N.next=j.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,v):X:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,v)}function P(j){var N={tryLoc:j[0]};1 in j&&(N.catchLoc=j[1]),2 in j&&(N.finallyLoc=j[2],N.afterLoc=j[3]),this.tryEntries.push(N)}function L(j){var N=j.completion||{};N.type="normal",delete N.arg,j.completion=N}function T(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(P,this),this.reset(!0)}function _(j){if(j){var N=j[p];if(N)return N.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var R=-1,O=function $(){for(;++R<j.length;)if(u.call(j,R))return $.value=j[R],$.done=!1,$;return $.value=void 0,$.done=!0,$};return O.next=O}}return{next:k}}function k(){return{value:void 0,done:!0}}return S.prototype=C,l(D,"constructor",{value:C,configurable:!0}),l(C,"constructor",{value:S,configurable:!0}),S.displayName=g(C,h,"GeneratorFunction"),o.isGeneratorFunction=function(j){var N=typeof j=="function"&&j.constructor;return!!N&&(N===S||(N.displayName||N.name)==="GeneratorFunction")},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,C):(j.__proto__=C,g(j,h,"GeneratorFunction")),j.prototype=Object.create(D),j},o.awrap=function(j){return{__await:j}},I(U.prototype),g(U.prototype,f,(function(){return this})),o.AsyncIterator=U,o.async=function(j,N,R,O,$){$===void 0&&($=Promise);var X=new U(y(j,N,R,O),$);return o.isGeneratorFunction(N)?X:X.next().then((function(Y){return Y.done?Y.value:X.next()}))},I(D),g(D,h,"Generator"),g(D,p,(function(){return this})),g(D,"toString",(function(){return"[object Generator]"})),o.keys=function(j){var N=Object(j),R=[];for(var O in N)R.push(O);return R.reverse(),function $(){for(;R.length;){var X=R.pop();if(X in N)return $.value=X,$.done=!1,$}return $.done=!0,$}},o.values=_,T.prototype={constructor:T,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!j)for(var N in this)N.charAt(0)==="t"&&u.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var N=this;function R(F,Z){return X.type="throw",X.arg=j,N.next=F,Z&&(N.method="next",N.arg=void 0),!!Z}for(var O=this.tryEntries.length-1;O>=0;--O){var $=this.tryEntries[O],X=$.completion;if($.tryLoc==="root")return R("end");if($.tryLoc<=this.prev){var Y=u.call($,"catchLoc"),re=u.call($,"finallyLoc");if(Y&&re){if(this.prev<$.catchLoc)return R($.catchLoc,!0);if(this.prev<$.finallyLoc)return R($.finallyLoc)}else if(Y){if(this.prev<$.catchLoc)return R($.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return R($.finallyLoc)}}}},abrupt:function(j,N){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.tryLoc<=this.prev&&u.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var $=O;break}}$&&(j==="break"||j==="continue")&&$.tryLoc<=N&&N<=$.finallyLoc&&($=null);var X=$?$.completion:{};return X.type=j,X.arg=N,$?(this.method="next",this.next=$.finallyLoc,v):this.complete(X)},complete:function(j,N){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&N&&(this.next=N),v},finish:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var R=this.tryEntries[N];if(R.finallyLoc===j)return this.complete(R.completion,R.afterLoc),L(R),v}},catch:function(j){for(var N=this.tryEntries.length-1;N>=0;--N){var R=this.tryEntries[N];if(R.tryLoc===j){var O=R.completion;if(O.type==="throw"){var $=O.arg;L(R)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(j,N,R){return this.delegate={iterator:_(j),resultName:N,nextLoc:R},this.method==="next"&&(this.arg=void 0),v}},o})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,o=e("inherits"),c=e("hash-base"),u=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(B,q){return B<<q|B>>>32-q}function v(B,q,D,I,U,K,W,P){return m(B+(q^D^I)+K+W|0,P)+U|0}function x(B,q,D,I,U,K,W,P){return m(B+(q&D|~q&I)+K+W|0,P)+U|0}function S(B,q,D,I,U,K,W,P){return m(B+((q|~D)^I)+K+W|0,P)+U|0}function C(B,q,D,I,U,K,W,P){return m(B+(q&I|D&~I)+K+W|0,P)+U|0}function A(B,q,D,I,U,K,W,P){return m(B+(q^(D|~I))+K+W|0,P)+U|0}o(y,c),y.prototype._update=function(){for(var B=u,q=0;q<16;++q)B[q]=this._block.readInt32LE(4*q);for(var D=0|this._a,I=0|this._b,U=0|this._c,K=0|this._d,W=0|this._e,P=0|this._a,L=0|this._b,T=0|this._c,_=0|this._d,k=0|this._e,j=0;j<80;j+=1){var N,R;j<16?(N=v(D,I,U,K,W,B[l[j]],h[0],p[j]),R=A(P,L,T,_,k,B[d[j]],g[0],f[j])):j<32?(N=x(D,I,U,K,W,B[l[j]],h[1],p[j]),R=C(P,L,T,_,k,B[d[j]],g[1],f[j])):j<48?(N=S(D,I,U,K,W,B[l[j]],h[2],p[j]),R=S(P,L,T,_,k,B[d[j]],g[2],f[j])):j<64?(N=C(D,I,U,K,W,B[l[j]],h[3],p[j]),R=x(P,L,T,_,k,B[d[j]],g[3],f[j])):(N=A(D,I,U,K,W,B[l[j]],h[4],p[j]),R=v(P,L,T,_,k,B[d[j]],g[4],f[j])),D=W,W=K,K=m(U,10),U=I,I=N,P=k,k=_,_=m(T,10),T=L,L=R}var O=this._b+U+_|0;this._b=this._c+K+k|0,this._c=this._d+W+P|0,this._d=this._e+D+L|0,this._e=this._a+I+T|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=i.alloc?i.alloc(20):new i(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),o=i.Buffer;function c(l,d){for(var p in l)d[p]=l[p]}function u(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=i:(c(i,s),s.Buffer=u),u.prototype=Object.create(o.prototype),c(o,u),u.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},u.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return d!==void 0?typeof p=="string"?f.fill(d,p):f.fill(d):f.fill(0),f},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var o,c=e("buffer"),u=c.Buffer,l={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=c[o]);var d=l.Buffer={};for(o in u)u.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(d[o]=u[o]);if(l.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(p,f,h){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return u(p,f,h)}),d.alloc||(d.alloc=function(p,f,h){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var g=u(p);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var u=i.isS,l=i.isChar,d=i.isNameStartChar,p=i.isNameChar,f=i.S_LIST,h=i.NAME_RE,g=o.isChar,y=c.isNCNameStartChar,m=c.isNCNameChar,v=c.NC_NAME_RE;const x="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:x,xmlns:S},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=_=>_===34||_===39,q=[34,39],D=[...q,91,62],I=[...q,60,93],U=[61,63,...f],K=[...f,62,38,60];function W(_,k,j){switch(k){case"xml":j!==x&&_.fail(`xml prefix must be bound to ${x}.`);break;case"xmlns":j!==S&&_.fail(`xmlns prefix must be bound to ${S}.`)}switch(j){case S:_.fail(k===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${S}.`);break;case x:switch(k){case"xml":break;case"":_.fail(`the default namespace may not be set to ${j}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const P=_=>v.test(_),L=_=>h.test(_);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const T={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=y,this.nameCheck=m,this.isName=P,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const j=this.opt.additionalNamespaces;j!=null&&((function(N,R){for(const O of Object.keys(R))W(N,O,R[O])})(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=d,this.nameCheck=p,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,k){this[T[_]]=k}off(_){this[T[_]]=void 0}makeError(_){var k;let j=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+_)}fail(_){const k=this.makeError(_),j=this.errorHandler;if(j===void 0)throw k;return j(k),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;_===null?(k=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let j=_.length;const N=_.charCodeAt(j-1);!k&&(N===13||N>=55296&&N<=56319)&&(this.carriedFromPrevious=_[j-1],j--,_=_.slice(0,j));const{stateTable:R}=this;for(this.chunk=_,this.i=0;this.i<j;)R[this.state].call(this);return this.chunkPosition+=j,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const j=_.charCodeAt(k);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const j=_.charCodeAt(k);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=_.charCodeAt(k+1);R!==10&&R!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const N=65536+1024*(j-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:k}=this;const{chunk:j}=this;for(;;){const N=this.getCode(),R=N===-2,O=R?10:N;if(O===-1||_.includes(O))return this.text+=j.slice(k,this.prevI),O;R&&(this.text+=j.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(_){let{i:k}=this;const{chunk:j}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=j.slice(k,this.prevI)+`
`,k=this.i,N=10;break;case-1:return this.text+=j.slice(k),!1}if(N===_)return this.text+=j.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:_,i:k}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=_.slice(k),-1;if(!p(j))return this.name+=_.slice(k,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!u(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,k=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const k=this.captureTo(D);switch(k){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:B(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(I);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:B(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=_;this.text+=_,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:j}=this,N=this.entity+k.slice(_,this.prevI);let R;this.state=j,N===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(N),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=k.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const k=this.getCodeNorm();k===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const k=this.getCodeNorm();switch(k){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||u(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:k}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=_.slice(k));if(!this.nameCheck(j)){this.piTarget+=_.slice(k,this.prevI);const N=j===63;N||u(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:u(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const k=this.getCodeNorm();if(k===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(U);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(B(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=k;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(u(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const k=this.captureNameChars();if(k===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:u(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:u(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();B(_)?(this.q=_,this.state=40):u(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:k}=this;let{i:j}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+k.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=k.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(j))}}sAttribValueClosed(){const _=this.getCodeNorm();u(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(K);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():u(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:k}=this;const{chunk:j,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,N!==void 0){const{text:R}=this,O=j.slice(_,this.prevI);R.length!==0?(N(R+O),this.text=""):O.length!==0&&N(O)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=j.slice(_,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:N!==void 0&&(this.text+=j.slice(_,this.prevI)+`
`),_=this.i,k=0;break;case-1:N!==void 0&&(this.text+=j.slice(_));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:_}=this;const{chunk:k,textHandler:j}=this;let N=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,j!==void 0){const{text:O}=this,$=k.slice(_,this.prevI);O.length!==0?(j(O+$),this.text=""):$.length!==0&&j($)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=k.slice(_,this.prevI)),N=!0;break e;case-2:j!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i;break;case-1:j!==void 0&&(this.text+=k.slice(_));break e;default:u(R)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,k){var j;const{prefix:N,local:R}=this.qname(_),O={name:_,prefix:N,local:R,value:k};if(this.attribList.push(O),(j=this.attributeHandler)===null||j===void 0||j.call(this,O),N==="xmlns"){const $=k.trim();this.currentXMLVersion==="1.0"&&$===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=$,W(this,R,$)}else if(_==="xmlns"){const $=k.trim();this.topNS[""]=$,W(this,"",$)}}pushAttribPlain(_,k){var j;const N={name:_,value:k};this.attribList.push(N),(j=this.attributeHandler)===null||j===void 0||j.call(this,N)}end(){var _,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const R=j.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:N}=this;return N.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,N),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(_){var k,j;let N=this.topNS[_];if(N!==void 0)return N;const{tags:R}=this;for(let O=R.length-1;O>=0;O--)if(N=R[O].ns[_],N!==void 0)return N;return N=this.ns[_],N!==void 0?N:(j=(k=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(k,_)}qname(_){const k=_.indexOf(":");if(k===-1)return{prefix:"",local:_};const j=_.slice(k+1),N=_.slice(0,k);return(N===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:N,local:j}}processAttribsNS(){var _;const{attribList:k}=this,j=this.tag;{const{prefix:O,local:$}=this.qname(j.name);j.prefix=O,j.local=$;const X=j.uri=(_=this.resolve(O))!==null&&_!==void 0?_:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),X===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),j.uri=O))}if(k.length===0)return;const{attributes:N}=j,R=new Set;for(const O of k){const{name:$,prefix:X,local:Y}=O;let re,F;X===""?(re=$==="xmlns"?S:"",F=$):(re=this.resolve(X),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(X)}.`),re=X),F=`{${re}}${Y}`),R.has(F)&&this.fail(`duplicate attribute: ${F}.`),R.add(F),O.uri=re,N[$]=O}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,k=this.tag.attributes;for(const{name:j,value:N}of _)k[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),k[j]=N;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:k}=this,j=this.tag;j.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,j),k.push(j),this.state=13,this.name=""}openSelfClosingTag(){var _,k,j;this.processAttribs();const{tags:N}=this,R=this.tag;R.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,R),(k=this.closeTagHandler)===null||k===void 0||k.call(this,R),(this.tag=(j=N[N.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let N=_.length;for(;N-- >0;){const R=this.tag=_.pop();if(this.topNS=R.ns,j?.(R),R.name===k)break;this.fail("unexpected close tag.")}N===0?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(_){if(_[0]!=="#"){const j=this.ENTITIES[_];return j!==void 0?j:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let k=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?k=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(k=parseInt(_.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(c,u){this._block=i.alloc(c),this._finalSize=u,this._blockSize=c,this._len=0}o.prototype.update=function(c,u){typeof c=="string"&&(u=u||"utf8",c=i.from(c,u));for(var l=this._block,d=this._blockSize,p=c.length,f=this._len,h=0;h<p;){for(var g=f%d,y=Math.min(p-h,d-g),m=0;m<y;m++)l[g+m]=c[h+m];h+=y,(f+=y)%d==0&&this._update(l)}return this._len+=p,this},o.prototype.digest=function(c){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var d=(4294967295&l)>>>0,p=(l-d)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var f=this._hash();return c?f.toString(c):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(o){o=o.toLowerCase();var c=i[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(h){return h<<30|h>>>2}function f(h,g,y,m){return h===0?g&y|~g&m:h===2?g&y|g&m|y&m:g^y^m}i(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(h){for(var g,y=this._w,m=0|this._a,v=0|this._b,x=0|this._c,S=0|this._d,C=0|this._e,A=0;A<16;++A)y[A]=h.readInt32BE(4*A);for(;A<80;++A)y[A]=y[A-3]^y[A-8]^y[A-14]^y[A-16];for(var B=0;B<80;++B){var q=~~(B/20),D=0|((g=m)<<5|g>>>27)+f(q,v,x,S)+C+y[B]+u[q];C=S,S=x,x=p(v),v=m,m=D}this._a=m+this._a|0,this._b=v+this._b|0,this._c=x+this._c|0,this._d=S+this._d|0,this._e=C+this._e|0},d.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,y,m,v){return g===0?y&m|~y&v:g===2?y&m|y&v|m&v:y^m^v}i(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var y,m=this._w,v=0|this._a,x=0|this._b,S=0|this._c,C=0|this._d,A=0|this._e,B=0;B<16;++B)m[B]=g.readInt32BE(4*B);for(;B<80;++B)m[B]=(y=m[B-3]^m[B-8]^m[B-14]^m[B-16])<<1|y>>>31;for(var q=0;q<80;++q){var D=~~(q/20),I=p(v)+h(D,x,S,C)+A+m[q]+u[D]|0;A=C,C=S,S=f(x),x=v,v=I}this._a=v+this._a|0,this._b=x+this._b|0,this._c=S+this._c|0,this._d=C+this._d|0,this._e=A+this._e|0},d.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),o=e("./sha256"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(64);function d(){this.init(),this._w=l,c.call(this,64,56)}i(d,o),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(m,v,x){return x^m&(v^x)}function f(m,v,x){return m&v|x&(m|v)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(d,o),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var v,x=this._w,S=0|this._a,C=0|this._b,A=0|this._c,B=0|this._d,q=0|this._e,D=0|this._f,I=0|this._g,U=0|this._h,K=0;K<16;++K)x[K]=m.readInt32BE(4*K);for(;K<64;++K)x[K]=0|(((v=x[K-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+x[K-7]+y(x[K-15])+x[K-16];for(var W=0;W<64;++W){var P=U+g(q)+p(q,D,I)+u[W]+x[W]|0,L=h(S)+f(S,C,A)|0;U=I,I=D,D=q,q=B+P|0,B=A,A=C,C=S,S=P+L|0}this._a=S+this._a|0,this._b=C+this._b|0,this._c=A+this._c|0,this._d=B+this._d|0,this._e=q+this._e|0,this._f=D+this._f|0,this._g=I+this._g|0,this._h=U+this._h|0},d.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),o=e("./sha512"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(160);function d(){this.init(),this._w=l,c.call(this,128,112)}i(d,o),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var p=u.allocUnsafe(48);function f(h,g,y){p.writeInt32BE(h,y),p.writeInt32BE(g,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),p},n.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function d(){this.init(),this._w=l,o.call(this,128,112)}function p(C,A,B){return B^C&(A^B)}function f(C,A,B){return C&A|B&(C|A)}function h(C,A){return(C>>>28|A<<4)^(A>>>2|C<<30)^(A>>>7|C<<25)}function g(C,A){return(C>>>14|A<<18)^(C>>>18|A<<14)^(A>>>9|C<<23)}function y(C,A){return(C>>>1|A<<31)^(C>>>8|A<<24)^C>>>7}function m(C,A){return(C>>>1|A<<31)^(C>>>8|A<<24)^(C>>>7|A<<25)}function v(C,A){return(C>>>19|A<<13)^(A>>>29|C<<3)^C>>>6}function x(C,A){return(C>>>19|A<<13)^(A>>>29|C<<3)^(C>>>6|A<<26)}function S(C,A){return C>>>0<A>>>0?1:0}i(d,o),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(C){for(var A=this._w,B=0|this._ah,q=0|this._bh,D=0|this._ch,I=0|this._dh,U=0|this._eh,K=0|this._fh,W=0|this._gh,P=0|this._hh,L=0|this._al,T=0|this._bl,_=0|this._cl,k=0|this._dl,j=0|this._el,N=0|this._fl,R=0|this._gl,O=0|this._hl,$=0;$<32;$+=2)A[$]=C.readInt32BE(4*$),A[$+1]=C.readInt32BE(4*$+4);for(;$<160;$+=2){var X=A[$-30],Y=A[$-30+1],re=y(X,Y),F=m(Y,X),Z=v(X=A[$-4],Y=A[$-4+1]),V=x(Y,X),z=A[$-14],G=A[$-14+1],ae=A[$-32],pe=A[$-32+1],ue=F+G|0,ge=re+z+S(ue,F)|0;ge=(ge=ge+Z+S(ue=ue+V|0,V)|0)+ae+S(ue=ue+pe|0,pe)|0,A[$]=ge,A[$+1]=ue}for(var ee=0;ee<160;ee+=2){ge=A[ee],ue=A[ee+1];var oe=f(B,q,D),ne=f(L,T,_),fe=h(B,L),ce=h(L,B),ie=g(U,j),te=g(j,U),se=u[ee],de=u[ee+1],me=p(U,K,W),ke=p(j,N,R),Ne=O+te|0,De=P+ie+S(Ne,O)|0;De=(De=(De=De+me+S(Ne=Ne+ke|0,ke)|0)+se+S(Ne=Ne+de|0,de)|0)+ge+S(Ne=Ne+ue|0,ue)|0;var Fe=ce+ne|0,Ge=fe+oe+S(Fe,ce)|0;P=W,O=R,W=K,R=N,K=U,N=j,U=I+De+S(j=k+Ne|0,k)|0,I=D,k=_,D=q,_=T,q=B,T=L,B=De+Ge+S(L=Ne+Fe|0,Ne)|0}this._al=this._al+L|0,this._bl=this._bl+T|0,this._cl=this._cl+_|0,this._dl=this._dl+k|0,this._el=this._el+j|0,this._fl=this._fl+N|0,this._gl=this._gl+R|0,this._hl=this._hl+O|0,this._ah=this._ah+B+S(this._al,L)|0,this._bh=this._bh+q+S(this._bl,T)|0,this._ch=this._ch+D+S(this._cl,_)|0,this._dh=this._dh+I+S(this._dl,k)|0,this._eh=this._eh+U+S(this._el,j)|0,this._fh=this._fh+K+S(this._fl,N)|0,this._gh=this._gh+W+S(this._gl,R)|0,this._hh=this._hh+P+S(this._hl,O)|0},d.prototype._hash=function(){var C=c.allocUnsafe(64);function A(B,q,D){C.writeInt32BE(B,D),C.writeInt32BE(q,D+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),C},n.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=o;var i=e("events").EventEmitter;function o(){i.call(this)}e("inherits")(o,i),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,u){var l=this;function d(v){c.writable&&c.write(v)===!1&&l.pause&&l.pause()}function p(){l.readable&&l.resume&&l.resume()}l.on("data",d),c.on("drain",p),c._isStdio||u&&u.end===!1||(l.on("end",h),l.on("close",g));var f=!1;function h(){f||(f=!0,c.end())}function g(){f||(f=!0,typeof c.destroy=="function"&&c.destroy())}function y(v){if(m(),i.listenerCount(this,"error")===0)throw v}function m(){l.removeListener("data",d),c.removeListener("drain",p),l.removeListener("end",h),l.removeListener("close",g),l.removeListener("error",y),c.removeListener("error",y),l.removeListener("end",m),l.removeListener("close",m),c.removeListener("close",m)}return l.on("error",y),c.on("error",y),l.on("end",m),l.on("close",m),c.on("close",m),c.emit("pipe",l),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),o=Object.keys||function(m){var v=[];for(var x in m)v.push(x);return v};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u=e("./_stream_readable"),l=e("./_stream_writable");c.inherits(h,u);for(var d=o(l.prototype),p=0;p<d.length;p++){var f=d[p];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),l.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,v){this.push(null),this.end(),i.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=c;var i=e("./_stream_transform"),o=Object.create(e("core-util-is"));function c(u){if(!(this instanceof c))return new c(u);i.call(this,u)}o.inherits=e("inherits"),o.inherits(c,i),c.prototype._transform=function(u,l,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,o){(function(){var c=e("process-nextick-args");n.exports=B;var u,l=e("isarray");B.ReadableState=A,e("events").EventEmitter;var d=function(O,$){return O.listeners($).length},p=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var y=e("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var v,x=e("./internal/streams/BufferList"),S=e("./internal/streams/destroy");g.inherits(B,p);var C=["error","close","destroy","pause","resume"];function A(O,$){O=O||{};var X=$ instanceof(u=u||e("./_stream_duplex"));this.objectMode=!!O.objectMode,X&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var Y=O.highWaterMark,re=O.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:X&&(re||re===0)?re:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(O.encoding),this.encoding=O.encoding)}function B(O){if(u=u||e("./_stream_duplex"),!(this instanceof B))return new B(O);this._readableState=new A(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),p.call(this)}function q(O,$,X,Y,re){var F,Z=O._readableState;return $===null?(Z.reading=!1,(function(V,z){if(!z.ended){if(z.decoder){var G=z.decoder.end();G&&G.length&&(z.buffer.push(G),z.length+=z.objectMode?1:G.length)}z.ended=!0,U(V)}})(O,Z)):(re||(F=(function(V,z){var G;ae=z,f.isBuffer(ae)||ae instanceof h||typeof z=="string"||z===void 0||V.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var ae;return G})(Z,$)),F?O.emit("error",F):Z.objectMode||$&&$.length>0?(typeof $=="string"||Z.objectMode||Object.getPrototypeOf($)===f.prototype||($=(function(V){return f.from(V)})($)),Y?Z.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):D(O,Z,$,!0):Z.ended?O.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!X?($=Z.decoder.write($),Z.objectMode||$.length!==0?D(O,Z,$,!1):W(O,Z)):D(O,Z,$,!1))):Y||(Z.reading=!1)),(function(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)})(Z)}function D(O,$,X,Y){$.flowing&&$.length===0&&!$.sync?(O.emit("data",X),O.read(0)):($.length+=$.objectMode?1:X.length,Y?$.buffer.unshift(X):$.buffer.push(X),$.needReadable&&U(O)),W(O,$)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),B.prototype.destroy=S.destroy,B.prototype._undestroy=S.undestroy,B.prototype._destroy=function(O,$){this.push(null),$(O)},B.prototype.push=function(O,$){var X,Y=this._readableState;return Y.objectMode?X=!0:typeof O=="string"&&(($=$||Y.defaultEncoding)!==Y.encoding&&(O=f.from(O,$),$=""),X=!0),q(this,O,$,!1,X)},B.prototype.unshift=function(O){return q(this,O,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(O){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(O),this._readableState.encoding=O,this};function I(O,$){return O<=0||$.length===0&&$.ended?0:$.objectMode?1:O!=O?$.flowing&&$.length?$.buffer.head.data.length:$.length:(O>$.highWaterMark&&($.highWaterMark=(function(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X})(O)),O<=$.length?O:$.ended?$.length:($.needReadable=!0,0))}function U(O){var $=O._readableState;$.needReadable=!1,$.emittedReadable||(m("emitReadable",$.flowing),$.emittedReadable=!0,$.sync?c.nextTick(K,O):K(O))}function K(O){m("emit readable"),O.emit("readable"),_(O)}function W(O,$){$.readingMore||($.readingMore=!0,c.nextTick(P,O,$))}function P(O,$){for(var X=$.length;!$.reading&&!$.flowing&&!$.ended&&$.length<$.highWaterMark&&(m("maybeReadMore read 0"),O.read(0),X!==$.length);)X=$.length;$.readingMore=!1}function L(O){m("readable nexttick read 0"),O.read(0)}function T(O,$){$.reading||(m("resume read 0"),O.read(0)),$.resumeScheduled=!1,$.awaitDrain=0,O.emit("resume"),_(O),$.flowing&&!$.reading&&O.read(0)}function _(O){var $=O._readableState;for(m("flow",$.flowing);$.flowing&&O.read()!==null;);}function k(O,$){return $.length===0?null:($.objectMode?X=$.buffer.shift():!O||O>=$.length?(X=$.decoder?$.buffer.join(""):$.buffer.length===1?$.buffer.head.data:$.buffer.concat($.length),$.buffer.clear()):X=(function(Y,re,F){var Z;return Y<re.head.data.length?(Z=re.head.data.slice(0,Y),re.head.data=re.head.data.slice(Y)):Z=Y===re.head.data.length?re.shift():F?(function(V,z){var G=z.head,ae=1,pe=G.data;for(V-=pe.length;G=G.next;){var ue=G.data,ge=V>ue.length?ue.length:V;if(ge===ue.length?pe+=ue:pe+=ue.slice(0,V),(V-=ge)===0){ge===ue.length?(++ae,G.next?z.head=G.next:z.head=z.tail=null):(z.head=G,G.data=ue.slice(ge));break}++ae}return z.length-=ae,pe})(Y,re):(function(V,z){var G=f.allocUnsafe(V),ae=z.head,pe=1;for(ae.data.copy(G),V-=ae.data.length;ae=ae.next;){var ue=ae.data,ge=V>ue.length?ue.length:V;if(ue.copy(G,G.length-V,0,ge),(V-=ge)===0){ge===ue.length?(++pe,ae.next?z.head=ae.next:z.head=z.tail=null):(z.head=ae,ae.data=ue.slice(ge));break}++pe}return z.length-=pe,G})(Y,re),Z})(O,$.buffer,$.decoder),X);var X}function j(O){var $=O._readableState;if($.length>0)throw new Error('"endReadable()" called on non-empty stream');$.endEmitted||($.ended=!0,c.nextTick(N,$,O))}function N(O,$){O.endEmitted||O.length!==0||(O.endEmitted=!0,$.readable=!1,$.emit("end"))}function R(O,$){for(var X=0,Y=O.length;X<Y;X++)if(O[X]===$)return X;return-1}B.prototype.read=function(O){m("read",O),O=parseInt(O,10);var $=this._readableState,X=O;if(O!==0&&($.emittedReadable=!1),O===0&&$.needReadable&&($.length>=$.highWaterMark||$.ended))return m("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?j(this):U(this),null;if((O=I(O,$))===0&&$.ended)return $.length===0&&j(this),null;var Y,re=$.needReadable;return m("need readable",re),($.length===0||$.length-O<$.highWaterMark)&&m("length less than watermark",re=!0),$.ended||$.reading?m("reading or ended",re=!1):re&&(m("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(O=I(X,$))),(Y=O>0?k(O,$):null)===null?($.needReadable=!0,O=0):$.length-=O,$.length===0&&($.ended||($.needReadable=!0),X!==O&&$.ended&&j(this)),Y!==null&&this.emit("data",Y),Y},B.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(O,$){var X=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=O;break;case 1:Y.pipes=[Y.pipes,O];break;default:Y.pipes.push(O)}Y.pipesCount+=1,m("pipe count=%d opts=%j",Y.pipesCount,$);var re=(!$||$.end!==!1)&&O!==i.stdout&&O!==i.stderr?Z:ee;function F(oe,ne){m("onunpipe"),oe===X&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,m("cleanup"),O.removeListener("close",ue),O.removeListener("finish",ge),O.removeListener("drain",V),O.removeListener("error",pe),O.removeListener("unpipe",F),X.removeListener("end",Z),X.removeListener("end",ee),X.removeListener("data",ae),z=!0,!Y.awaitDrain||O._writableState&&!O._writableState.needDrain||V())}function Z(){m("onend"),O.end()}Y.endEmitted?c.nextTick(re):X.once("end",re),O.on("unpipe",F);var V=(function(oe){return function(){var ne=oe._readableState;m("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&d(oe,"data")&&(ne.flowing=!0,_(oe))}})(X);O.on("drain",V);var z=!1,G=!1;function ae(oe){m("ondata"),G=!1,O.write(oe)!==!1||G||((Y.pipesCount===1&&Y.pipes===O||Y.pipesCount>1&&R(Y.pipes,O)!==-1)&&!z&&(m("false write response, pause",Y.awaitDrain),Y.awaitDrain++,G=!0),X.pause())}function pe(oe){m("onerror",oe),ee(),O.removeListener("error",pe),d(O,"error")===0&&O.emit("error",oe)}function ue(){O.removeListener("finish",ge),ee()}function ge(){m("onfinish"),O.removeListener("close",ue),ee()}function ee(){m("unpipe"),X.unpipe(O)}return X.on("data",ae),(function(oe,ne,fe){if(typeof oe.prependListener=="function")return oe.prependListener(ne,fe);oe._events&&oe._events[ne]?l(oe._events[ne])?oe._events[ne].unshift(fe):oe._events[ne]=[fe,oe._events[ne]]:oe.on(ne,fe)})(O,"error",pe),O.once("close",ue),O.once("finish",ge),O.emit("pipe",X),Y.flowing||(m("pipe resume"),X.resume()),O},B.prototype.unpipe=function(O){var $=this._readableState,X={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return O&&O!==$.pipes||(O||(O=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,O&&O.emit("unpipe",this,X)),this;if(!O){var Y=$.pipes,re=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var F=0;F<re;F++)Y[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=R($.pipes,O);return Z===-1||($.pipes.splice(Z,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),O.emit("unpipe",this,X)),this},B.prototype.on=function(O,$){var X=p.prototype.on.call(this,O,$);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&U(this):c.nextTick(L,this))}return X},B.prototype.addListener=B.prototype.on,B.prototype.resume=function(){var O=this._readableState;return O.flowing||(m("resume"),O.flowing=!0,(function($,X){X.resumeScheduled||(X.resumeScheduled=!0,c.nextTick(T,$,X))})(this,O)),this},B.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},B.prototype.wrap=function(O){var $=this,X=this._readableState,Y=!1;for(var re in O.on("end",(function(){if(m("wrapped end"),X.decoder&&!X.ended){var Z=X.decoder.end();Z&&Z.length&&$.push(Z)}$.push(null)})),O.on("data",(function(Z){m("wrapped data"),X.decoder&&(Z=X.decoder.write(Z)),X.objectMode&&Z==null||(X.objectMode||Z&&Z.length)&&($.push(Z)||(Y=!0,O.pause()))})),O)this[re]===void 0&&typeof O[re]=="function"&&(this[re]=(function(Z){return function(){return O[Z].apply(O,arguments)}})(re));for(var F=0;F<C.length;F++)O.on(C[F],this.emit.bind(this,C[F]));return this._read=function(Z){m("wrapped _read",Z),Y&&(Y=!1,O.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=k}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=u;var i=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function c(p,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(p){if(!(this instanceof u))return new u(p);i.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",l)}function l(){var p=this;typeof this._flush=="function"?this._flush((function(f,h){d(p,f,h)})):d(this,null,null)}function d(p,f,h){if(f)return p.emit("error",f);if(h!=null&&p.push(h),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}o.inherits=e("inherits"),o.inherits(u,i),u.prototype.push=function(p,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,f)},u.prototype._transform=function(p,f,h){throw new Error("_transform() is not implemented")},u.prototype._write=function(p,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=p,g.writeencoding=f,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(p){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(p,f){var h=this;i.prototype._destroy.call(this,p,(function(g){f(g),h.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,o,c){(function(){var u=e("process-nextick-args");function l(W){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(L,T,_){var k=L.entry;for(L.entry=null;k;){var j=k.callback;T.pendingcb--,j(_),k=k.next}T.corkedRequestsFree.next=L})(P,W)}}n.exports=A;var d,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?c:u.nextTick;A.WritableState=C;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,x=e("./internal/streams/destroy");function S(){}function C(W,P){d=d||e("./_stream_duplex"),W=W||{};var L=P instanceof d;this.objectMode=!!W.objectMode,L&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var T=W.highWaterMark,_=W.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:L&&(_||_===0)?_:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=W.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(R,O){var $=R._writableState,X=$.sync,Y=$.writecb;if((function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0})($),O)(function(F,Z,V,z,G){--Z.pendingcb,V?(u.nextTick(G,z),u.nextTick(K,F,Z),F._writableState.errorEmitted=!0,F.emit("error",z)):(G(z),F._writableState.errorEmitted=!0,F.emit("error",z),K(F,Z))})(R,$,X,O,Y);else{var re=I($);re||$.corked||$.bufferProcessing||!$.bufferedRequest||D(R,$),X?p(q,R,$,re,Y):q(R,$,re,Y)}})(P,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function A(W){if(d=d||e("./_stream_duplex"),!(v.call(A,this)||this instanceof d))return new A(W);this._writableState=new C(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),g.call(this)}function B(W,P,L,T,_,k,j){P.writelen=T,P.writecb=j,P.writing=!0,P.sync=!0,L?W._writev(_,P.onwrite):W._write(_,k,P.onwrite),P.sync=!1}function q(W,P,L,T){L||(function(_,k){k.length===0&&k.needDrain&&(k.needDrain=!1,_.emit("drain"))})(W,P),P.pendingcb--,T(),K(W,P)}function D(W,P){P.bufferProcessing=!0;var L=P.bufferedRequest;if(W._writev&&L&&L.next){var T=P.bufferedRequestCount,_=new Array(T),k=P.corkedRequestsFree;k.entry=L;for(var j=0,N=!0;L;)_[j]=L,L.isBuf||(N=!1),L=L.next,j+=1;_.allBuffers=N,B(W,P,!0,P.length,_,"",k.finish),P.pendingcb++,P.lastBufferedRequest=null,k.next?(P.corkedRequestsFree=k.next,k.next=null):P.corkedRequestsFree=new l(P),P.bufferedRequestCount=0}else{for(;L;){var R=L.chunk,O=L.encoding,$=L.callback;if(B(W,P,!1,P.objectMode?1:R.length,R,O,$),L=L.next,P.bufferedRequestCount--,P.writing)break}L===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=L,P.bufferProcessing=!1}function I(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function U(W,P){W._final((function(L){P.pendingcb--,L&&W.emit("error",L),P.prefinished=!0,W.emit("prefinish"),K(W,P)}))}function K(W,P){var L=I(P);return L&&((function(T,_){_.prefinished||_.finalCalled||(typeof T._final=="function"?(_.pendingcb++,_.finalCalled=!0,u.nextTick(U,T,_)):(_.prefinished=!0,T.emit("prefinish")))})(W,P),P.pendingcb===0&&(P.finished=!0,W.emit("finish"))),L}f.inherits(A,g),C.prototype.getBuffer=function(){for(var W=this.bufferedRequest,P=[];W;)P.push(W),W=W.next;return P},(function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(W){return!!v.call(this,W)||this===A&&W&&W._writableState instanceof C}})):v=function(W){return W instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(W,P,L){var T,_=this._writableState,k=!1,j=!_.objectMode&&(T=W,y.isBuffer(T)||T instanceof m);return j&&!y.isBuffer(W)&&(W=(function(N){return y.from(N)})(W)),typeof P=="function"&&(L=P,P=null),j?P="buffer":P||(P=_.defaultEncoding),typeof L!="function"&&(L=S),_.ended?(function(N,R){var O=new Error("write after end");N.emit("error",O),u.nextTick(R,O)})(this,L):(j||(function(N,R,O,$){var X=!0,Y=!1;return O===null?Y=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||R.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(N.emit("error",Y),u.nextTick($,Y),X=!1),X})(this,_,W,L))&&(_.pendingcb++,k=(function(N,R,O,$,X,Y){if(!O){var re=(function(z,G,ae){return z.objectMode||z.decodeStrings===!1||typeof G!="string"||(G=y.from(G,ae)),G})(R,$,X);$!==re&&(O=!0,X="buffer",$=re)}var F=R.objectMode?1:$.length;R.length+=F;var Z=R.length<R.highWaterMark;if(Z||(R.needDrain=!0),R.writing||R.corked){var V=R.lastBufferedRequest;R.lastBufferedRequest={chunk:$,encoding:X,isBuf:O,callback:Y,next:null},V?V.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else B(N,R,!1,F,$,X,Y);return Z})(this,_,j,W,P,L)),k},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||D(this,W))},A.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(W,P,L){L(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(W,P,L){var T=this._writableState;typeof W=="function"?(L=W,W=null,P=null):typeof P=="function"&&(L=P,P=null),W!=null&&this.write(W,P),T.corked&&(T.corked=1,this.uncork()),T.ending||(function(_,k,j){k.ending=!0,K(_,k),j&&(k.finished?u.nextTick(j):_.once("finish",j)),k.ended=!0,_.writable=!1})(this,T,L)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),A.prototype.destroy=x.destroy,A.prototype._undestroy=x.undestroy,A.prototype._destroy=function(W,P){this.end(),P(W)}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("util");n.exports=(function(){function c(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},c.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},c.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=u+l.data;return d},c.prototype.concat=function(u){if(this.length===0)return i.alloc(0);for(var l,d,p,f=i.allocUnsafe(u>>>0),h=this.head,g=0;h;)l=h.data,d=f,p=g,l.copy(d,p),g+=h.data.length,h=h.next;return f},c})(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function o(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var l=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,c)):i.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(f){!u&&f?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,i.nextTick(o,l,f)):i.nextTick(o,l,f):u&&u(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,o){(function(){var c=e("process/browser.js").nextTick,u=Function.prototype.apply,l=Array.prototype.slice,d={},p=0;function f(h,g){this._id=h,this._clearFn=g}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout((function(){h._onTimeout&&h._onTimeout()}),g))},s.setImmediate=typeof i=="function"?i:function(h){var g=p++,y=!(arguments.length<2)&&l.call(arguments,1);return d[g]=!0,c((function(){d[g]&&(y?h.apply(null,y):h.call(null),s.clearImmediate(g))})),g},s.clearImmediate=typeof o=="function"?o:function(h){delete d[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function o(c){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[c];return u!=null&&String(u).toLowerCase()==="true"}n.exports=function(c,u){if(o("noDeprecation"))return c;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),l=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,o){i.super_=o;var c=function(){};c.prototype=o.prototype,i.prototype=new c,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,o){(function(){var c=/%[sdj%]/g;s.format=function(_){if(!C(_)){for(var k=[],j=0;j<arguments.length;j++)k.push(d(arguments[j]));return k.join(" ")}j=1;for(var N=arguments,R=N.length,O=String(_).replace(c,(function(X){if(X==="%%")return"%";if(j>=R)return X;switch(X){case"%s":return String(N[j++]);case"%d":return Number(N[j++]);case"%j":try{return JSON.stringify(N[j++])}catch{return"[Circular]"}default:return X}})),$=N[j];j<R;$=N[++j])x($)||!q($)?O+=" "+$:O+=" "+d($);return O},s.deprecate=function(_,k){if(A(o.process))return function(){return s.deprecate(_,k).apply(this,arguments)};if(i.noDeprecation===!0)return _;var j=!1;return function(){if(!j){if(i.throwDeprecation)throw new Error(k);i.traceDeprecation?console.trace(k):console.error(k),j=!0}return _.apply(this,arguments)}};var u,l={};function d(_,k){var j={seen:[],stylize:f};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),v(k)?j.showHidden=k:k&&s._extend(j,k),A(j.showHidden)&&(j.showHidden=!1),A(j.depth)&&(j.depth=2),A(j.colors)&&(j.colors=!1),A(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=p),h(j,_,j.depth)}function p(_,k){var j=d.styles[k];return j?"\x1B["+d.colors[j][0]+"m"+_+"\x1B["+d.colors[j][1]+"m":_}function f(_,k){return _}function h(_,k,j){if(_.customInspect&&k&&U(k.inspect)&&k.inspect!==s.inspect&&(!k.constructor||k.constructor.prototype!==k)){var N=k.inspect(j,_);return C(N)||(N=h(_,N,j)),N}var R=(function(V,z){if(A(z))return V.stylize("undefined","undefined");if(C(z)){var G="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(G,"string")}if(S(z))return V.stylize(""+z,"number");if(v(z))return V.stylize(""+z,"boolean");if(x(z))return V.stylize("null","null")})(_,k);if(R)return R;var O=Object.keys(k),$=(function(V){var z={};return V.forEach((function(G,ae){z[G]=!0})),z})(O);if(_.showHidden&&(O=Object.getOwnPropertyNames(k)),I(k)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return g(k);if(O.length===0){if(U(k)){var X=k.name?": "+k.name:"";return _.stylize("[Function"+X+"]","special")}if(B(k))return _.stylize(RegExp.prototype.toString.call(k),"regexp");if(D(k))return _.stylize(Date.prototype.toString.call(k),"date");if(I(k))return g(k)}var Y,re="",F=!1,Z=["{","}"];return m(k)&&(F=!0,Z=["[","]"]),U(k)&&(re=" [Function"+(k.name?": "+k.name:"")+"]"),B(k)&&(re=" "+RegExp.prototype.toString.call(k)),D(k)&&(re=" "+Date.prototype.toUTCString.call(k)),I(k)&&(re=" "+g(k)),O.length!==0||F&&k.length!=0?j<0?B(k)?_.stylize(RegExp.prototype.toString.call(k),"regexp"):_.stylize("[Object]","special"):(_.seen.push(k),Y=F?(function(V,z,G,ae,pe){for(var ue=[],ge=0,ee=z.length;ge<ee;++ge)T(z,String(ge))?ue.push(y(V,z,G,ae,String(ge),!0)):ue.push("");return pe.forEach((function(oe){oe.match(/^\d+$/)||ue.push(y(V,z,G,ae,oe,!0))})),ue})(_,k,j,$,O):O.map((function(V){return y(_,k,j,$,V,F)})),_.seen.pop(),(function(V,z,G){return V.reduce((function(ae,pe){return pe.indexOf(`
`)>=0,ae+pe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?G[0]+(z===""?"":z+`
 `)+" "+V.join(`,
  `)+" "+G[1]:G[0]+z+" "+V.join(", ")+" "+G[1]})(Y,re,Z)):Z[0]+re+Z[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,k,j,N,R,O){var $,X,Y;if((Y=Object.getOwnPropertyDescriptor(k,R)||{value:k[R]}).get?X=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(X=_.stylize("[Setter]","special")),T(N,R)||($="["+R+"]"),X||(_.seen.indexOf(Y.value)<0?(X=x(j)?h(_,Y.value,null):h(_,Y.value,j-1)).indexOf(`
`)>-1&&(X=O?X.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+X.split(`
`).map((function(re){return"   "+re})).join(`
`)):X=_.stylize("[Circular]","special")),A($)){if(O&&R.match(/^\d+$/))return X;($=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($=$.substr(1,$.length-2),$=_.stylize($,"name")):($=$.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$=_.stylize($,"string"))}return $+": "+X}function m(_){return Array.isArray(_)}function v(_){return typeof _=="boolean"}function x(_){return _===null}function S(_){return typeof _=="number"}function C(_){return typeof _=="string"}function A(_){return _===void 0}function B(_){return q(_)&&K(_)==="[object RegExp]"}function q(_){return typeof _=="object"&&_!==null}function D(_){return q(_)&&K(_)==="[object Date]"}function I(_){return q(_)&&(K(_)==="[object Error]"||_ instanceof Error)}function U(_){return typeof _=="function"}function K(_){return Object.prototype.toString.call(_)}function W(_){return _<10?"0"+_.toString(10):_.toString(10)}s.debuglog=function(_){if(A(u)&&(u=i.env.NODE_DEBUG||""),_=_.toUpperCase(),!l[_])if(new RegExp("\\b"+_+"\\b","i").test(u)){var k=i.pid;l[_]=function(){var j=s.format.apply(s,arguments);console.error("%s %d: %s",_,k,j)}}else l[_]=function(){};return l[_]},s.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=x,s.isNullOrUndefined=function(_){return _==null},s.isNumber=S,s.isString=C,s.isSymbol=function(_){return typeof _=="symbol"},s.isUndefined=A,s.isRegExp=B,s.isObject=q,s.isDate=D,s.isError=I,s.isFunction=U,s.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},s.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var _=new Date,k=[W(_.getHours()),W(_.getMinutes()),W(_.getSeconds())].join(":");return[_.getDate(),P[_.getMonth()],k].join(" ")}function T(_,k){return Object.prototype.hasOwnProperty.call(_,k)}s.log=function(){console.log("%s - %s",L(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(_,k){if(!k||!q(k))return _;for(var j=Object.keys(k),N=j.length;N--;)_[j[N]]=k[j[N]];return _}}).call(this)}).call(this,e("_process"),typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var i=g(e("./v1.js")),o=g(e("./v3.js")),c=g(e("./v4.js")),u=g(e("./v5.js")),l=g(e("./nil.js")),d=g(e("./version.js")),p=g(e("./validate.js")),f=g(e("./stringify.js")),h=g(e("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(h){return 14+(h+64>>>9<<4)+1}function o(h,g){const y=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(y>>16)<<16|65535&y}function c(h,g,y,m,v,x){return o((S=o(o(g,h),o(m,x)))<<(C=v)|S>>>32-C,y);var S,C}function u(h,g,y,m,v,x,S){return c(g&y|~g&m,h,g,v,x,S)}function l(h,g,y,m,v,x,S){return c(g&m|y&~m,h,g,v,x,S)}function d(h,g,y,m,v,x,S){return c(g^y^m,h,g,v,x,S)}function p(h,g,y,m,v,x,S){return c(y^(g|~m),h,g,v,x,S)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let y=0;y<g.length;++y)h[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let v=0;v<m;v+=8){const x=g[v>>5]>>>v%32&255,S=parseInt("0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x),16);y.push(S)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let m=1732584193,v=-271733879,x=-1732584194,S=271733878;for(let C=0;C<g.length;C+=16){const A=m,B=v,q=x,D=S;m=u(m,v,x,S,g[C],7,-680876936),S=u(S,m,v,x,g[C+1],12,-389564586),x=u(x,S,m,v,g[C+2],17,606105819),v=u(v,x,S,m,g[C+3],22,-1044525330),m=u(m,v,x,S,g[C+4],7,-176418897),S=u(S,m,v,x,g[C+5],12,1200080426),x=u(x,S,m,v,g[C+6],17,-1473231341),v=u(v,x,S,m,g[C+7],22,-45705983),m=u(m,v,x,S,g[C+8],7,1770035416),S=u(S,m,v,x,g[C+9],12,-1958414417),x=u(x,S,m,v,g[C+10],17,-42063),v=u(v,x,S,m,g[C+11],22,-1990404162),m=u(m,v,x,S,g[C+12],7,1804603682),S=u(S,m,v,x,g[C+13],12,-40341101),x=u(x,S,m,v,g[C+14],17,-1502002290),v=u(v,x,S,m,g[C+15],22,1236535329),m=l(m,v,x,S,g[C+1],5,-165796510),S=l(S,m,v,x,g[C+6],9,-1069501632),x=l(x,S,m,v,g[C+11],14,643717713),v=l(v,x,S,m,g[C],20,-373897302),m=l(m,v,x,S,g[C+5],5,-701558691),S=l(S,m,v,x,g[C+10],9,38016083),x=l(x,S,m,v,g[C+15],14,-660478335),v=l(v,x,S,m,g[C+4],20,-405537848),m=l(m,v,x,S,g[C+9],5,568446438),S=l(S,m,v,x,g[C+14],9,-1019803690),x=l(x,S,m,v,g[C+3],14,-187363961),v=l(v,x,S,m,g[C+8],20,1163531501),m=l(m,v,x,S,g[C+13],5,-1444681467),S=l(S,m,v,x,g[C+2],9,-51403784),x=l(x,S,m,v,g[C+7],14,1735328473),v=l(v,x,S,m,g[C+12],20,-1926607734),m=d(m,v,x,S,g[C+5],4,-378558),S=d(S,m,v,x,g[C+8],11,-2022574463),x=d(x,S,m,v,g[C+11],16,1839030562),v=d(v,x,S,m,g[C+14],23,-35309556),m=d(m,v,x,S,g[C+1],4,-1530992060),S=d(S,m,v,x,g[C+4],11,1272893353),x=d(x,S,m,v,g[C+7],16,-155497632),v=d(v,x,S,m,g[C+10],23,-1094730640),m=d(m,v,x,S,g[C+13],4,681279174),S=d(S,m,v,x,g[C],11,-358537222),x=d(x,S,m,v,g[C+3],16,-722521979),v=d(v,x,S,m,g[C+6],23,76029189),m=d(m,v,x,S,g[C+9],4,-640364487),S=d(S,m,v,x,g[C+12],11,-421815835),x=d(x,S,m,v,g[C+15],16,530742520),v=d(v,x,S,m,g[C+2],23,-995338651),m=p(m,v,x,S,g[C],6,-198630844),S=p(S,m,v,x,g[C+7],10,1126891415),x=p(x,S,m,v,g[C+14],15,-1416354905),v=p(v,x,S,m,g[C+5],21,-57434055),m=p(m,v,x,S,g[C+12],6,1700485571),S=p(S,m,v,x,g[C+3],10,-1894986606),x=p(x,S,m,v,g[C+10],15,-1051523),v=p(v,x,S,m,g[C+1],21,-2054922799),m=p(m,v,x,S,g[C+8],6,1873313359),S=p(S,m,v,x,g[C+15],10,-30611744),x=p(x,S,m,v,g[C+6],15,-1560198380),v=p(v,x,S,m,g[C+13],21,1309151649),m=p(m,v,x,S,g[C+4],6,-145523070),S=p(S,m,v,x,g[C+11],10,-1120210379),x=p(x,S,m,v,g[C+2],15,718787259),v=p(v,x,S,m,g[C+9],21,-343485551),m=o(m,A),v=o(v,B),x=o(x,q),S=o(S,D)}return[m,v,x,S]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(i(y));for(let v=0;v<y;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m})(h),8*h.length))};s.default=f},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");let l;const d=new Uint8Array(16);return d[0]=(l=parseInt(u.slice(0,8),16))>>>24,d[1]=l>>>16&255,d[2]=l>>>8&255,d[3]=255&l,d[4]=(l=parseInt(u.slice(9,13),16))>>>8,d[5]=255&l,d[6]=(l=parseInt(u.slice(14,18),16))>>>8,d[7]=255&l,d[8]=(l=parseInt(u.slice(19,23),16))>>>8,d[9]=255&l,d[10]=(l=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=l/4294967296&255,d[12]=l>>>24&255,d[13]=l>>>16&255,d[14]=l>>>8&255,d[15]=255&l,d};s.default=c},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(e,n,s){function i(u,l,d,p){switch(u){case 0:return l&d^~l&p;case 1:return l^d^p;case 2:return l&d^l&p^d&p;case 3:return l^d^p}}function o(u,l){return u<<l|u>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=function(u){const l=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let y=0;y<g.length;++y)u.push(g.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const p=u.length/4+2,f=Math.ceil(p/16),h=new Array(f);for(let g=0;g<f;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];h[g]=y}h[f-1][14]=8*(u.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<f;++g){const y=new Uint32Array(80);for(let A=0;A<16;++A)y[A]=h[g][A];for(let A=16;A<80;++A)y[A]=o(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);let m=d[0],v=d[1],x=d[2],S=d[3],C=d[4];for(let A=0;A<80;++A){const B=Math.floor(A/20),q=o(m,5)+i(B,v,x,S)+C+l[B]+y[A]>>>0;C=S,S=x,x=o(v,30)>>>0,v=m,m=q}d[0]=d[0]+m>>>0,d[1]=d[1]+v>>>0,d[2]=d[2]+x>>>0,d[3]=d[3]+S>>>0,d[4]=d[4]+C>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};s.default=c},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const c=[];for(let l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(c[l[d+0]]+c[l[d+1]]+c[l[d+2]]+c[l[d+3]]+"-"+c[l[d+4]]+c[l[d+5]]+"-"+c[l[d+6]]+c[l[d+7]]+"-"+c[l[d+8]]+c[l[d+9]]+"-"+c[l[d+10]]+c[l[d+11]]+c[l[d+12]]+c[l[d+13]]+c[l[d+14]]+c[l[d+15]]).toLowerCase();if(!(0,o.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=u},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=c(e("./rng.js")),o=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let u,l,d=0,p=0;var f=function(h,g,y){let m=g&&y||0;const v=g||new Array(16);let x=(h=h||{}).node||u,S=h.clockseq!==void 0?h.clockseq:l;if(x==null||S==null){const I=h.random||(h.rng||i.default)();x==null&&(x=u=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),S==null&&(S=l=16383&(I[6]<<8|I[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),A=h.nsecs!==void 0?h.nsecs:p+1;const B=C-d+(A-p)/1e4;if(B<0&&h.clockseq===void 0&&(S=S+1&16383),(B<0||C>d)&&h.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=C,p=A,l=S,C+=122192928e5;const q=(1e4*(268435455&C)+A)%4294967296;v[m++]=q>>>24&255,v[m++]=q>>>16&255,v[m++]=q>>>8&255,v[m++]=255&q;const D=C/4294967296*1e4&268435455;v[m++]=D>>>8&255,v[m++]=255&D,v[m++]=D>>>24&15|16,v[m++]=D>>>16&255,v[m++]=S>>>8|128,v[m++]=255&S;for(let I=0;I<6;++I)v[m+I]=x[I];return g||(0,o.default)(v)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=c(e("./v35.js")),o=c(e("./md5.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,i.default)("v3",48,o.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(d,p,f){function h(g,y,m,v){if(typeof g=="string"&&(g=(function(S){S=unescape(encodeURIComponent(S));const C=[];for(let A=0;A<S.length;++A)C.push(S.charCodeAt(A));return C})(g)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+g.length);if(x.set(y),x.set(g,y.length),x=f(x),x[6]=15&x[6]|p,x[8]=63&x[8]|128,m){v=v||0;for(let S=0;S<16;++S)m[v+S]=x[S];return m}return(0,i.default)(x)}try{h.name=d}catch{}return h.DNS=u,h.URL=l,h},s.URL=s.DNS=void 0;var i=c(e("./stringify.js")),o=c(e("./parse.js"));function c(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=c(e("./rng.js")),o=c(e("./stringify.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=function(l,d,p){const f=(l=l||{}).random||(l.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,d){p=p||0;for(let h=0;h<16;++h)d[p+h]=f[h];return d}return(0,o.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=c(e("./v35.js")),o=c(e("./sha1.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,i.default)("v5",80,o.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./regex.js"))&&i.__esModule?i:{default:i},c=function(u){return typeof u=="string"&&o.default.test(u)};s.default=c},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=c},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)}))})(W1)),W1.exports}var I3=vde();const O3=o_(I3),XO=z9({__proto__:null,default:O3},[I3]);var uh;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE"})(uh||(uh={}));var LN;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(LN||(LN={}));const sb=Um("Filesystem",{web:()=>mn(()=>import("./web-BjfZzQ64.js"),[]).then(t=>new t.FilesystemWeb)}),F3=Um("Share",{web:()=>mn(()=>import("./web-BaMoWVSK.js"),[]).then(t=>new t.ShareWeb)});function dh(){try{return yo.isNativePlatform()}catch{return!1}}function L3(){if(dh())return!0;const t=navigator.userAgent.toLowerCase();return t.includes("wv")||t.includes("webview")||t.includes("android")&&!t.includes("chrome/")||t.includes("android")&&t.includes("version/")}function QO(){const t=navigator.userAgent.toLowerCase();return(t.includes("iphone")||t.includes("ipad"))&&!t.includes("safari/")}function U2(){return dh()||L3()||QO()}function W2(){return!!(window.Android?.downloadBase64File||window.Android?.downloadFile||window.Android?.shareFile)}function YO(){return!!window.webkit?.messageHandlers?.downloadFile}function q2(){return typeof navigator.share=="function"&&typeof navigator.canShare=="function"}async function wde(t,r,e){try{const n=await Tm(t),s=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_");let i;try{i=await sb.writeFile({path:s,data:n,directory:uh.Cache})}catch(c){console.error("[Download] Cache write failed:",c);try{i=await sb.writeFile({path:`AXION/${s}`,data:n,directory:uh.Documents,recursive:!0})}catch(u){return console.error("[Download] Documents write failed:",u),!1}}const o=i.uri;console.log("[Download] Capacitor: file written to",o);try{return await F3.share({title:r,url:o,dialogTitle:`  : ${r}`}),console.log("[Download] Capacitor Share dialog shown"),!0}catch(c){const u=c.message||"";return u.includes("canceled")||u.includes("dismissed")||u.includes("cancel")?(console.log("[Download] User cancelled share - file still saved at:",o),!0):(console.error("[Download] Share failed:",c),console.log("[Download] Attempting fallback: direct file access at",o),await _de(o,e,s,n))}}catch(n){return console.error("[Download] Capacitor download failed:",n),!1}}async function _de(t,r,e,n){try{const s=await sb.writeFile({path:`share_${Date.now()}_${e}`,data:n,directory:uh.Cache});return await F3.share({title:e,url:s.uri,dialogTitle:`  : ${e}`}),!0}catch(s){const i=s.message||"";if(i.includes("canceled")||i.includes("dismissed")||i.includes("cancel"))return!0;console.error("[Download] Retry share from cache also failed:",s)}try{const s=yo.convertFileSrc(t);return window.open(s,"_system"),!0}catch{return console.error("[Download] All Capacitor methods failed"),!1}}async function kde(t,r,e){try{const n=await Tm(t),s=await fetch("/api/temp-download",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({base64Data:n,fileName:r,mimeType:e})});if(!s.ok)return console.error("[Download] Server proxy upload failed:",s.status),!1;const i=await s.json();if(!i.success||!i.downloadUrl)return console.error("[Download] Server proxy returned invalid response"),!1;const o=i.downloadUrl;if(console.log("[Download] Server proxy URL:",o),dh()||L3())try{const u=await fetch(o);if(!u.ok)return console.error("[Download] Fetch from proxy URL failed"),!1;const l=await u.blob(),d=await Tm(l),p=r.replace(/[^a-zA-Z0-9\u0600-\u06FF._-]/g,"_"),f=await sb.writeFile({path:p,data:d,directory:uh.Cache});return await F3.share({title:r,url:f.uri,dialogTitle:`  : ${r}`}),!0}catch(u){const l=u.message||"";if(l.includes("canceled")||l.includes("dismissed")||l.includes("cancel"))return!0;console.error("[Download] Capacitor from proxy failed:",u)}const c=document.createElement("a");return c.href=o,c.download=r,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),console.log("[Download] Server proxy download triggered via link click"),!0}catch(n){return console.error("[Download] Server proxy failed:",n),!1}}async function ab(t,r,e){const n=e||t.type||"application/octet-stream";console.log("[Download] Starting:",{fileName:r,mimeType:n,size:t.size,isCapacitor:dh(),isWebView:U2(),hasAndroid:W2(),hasShare:q2()});try{if(dh()){if(console.log("[Download] Using Capacitor Filesystem + Share"),await wde(t,r,n))return!0;console.log("[Download] Capacitor failed, trying server proxy")}if(U2()){if(console.log("[Download] Mobile WebView detected - using server proxy"),await kde(t,r,n))return!0;console.log("[Download] Server proxy failed, trying other methods")}return W2()?(console.log("[Download] Using Android Bridge"),await jde(t,r,n)):YO()?(console.log("[Download] Using iOS Bridge"),await Sde(t,r,n)):q2()?(console.log("[Download] Using Share API"),await Nde(t,r,n)):(console.log("[Download] Using browser download"),BN(t,r))}catch(s){return console.error("[Download] Error:",s),BN(t,r)}}async function jde(t,r,e){try{const n=await Tm(t);return window.Android?.downloadBase64File?(window.Android.downloadBase64File(n,r,e),!0):window.Android?.downloadFile?(window.Android.downloadFile(n,r,e),!0):window.Android?.shareFile?(window.Android.shareFile(n,r,e),!0):!1}catch(n){return console.error("[Download] Android Bridge failed:",n),!1}}async function Sde(t,r,e){try{const n=await Tm(t);return window.webkit?.messageHandlers?.downloadFile?(window.webkit.messageHandlers.downloadFile.postMessage({base64:n,fileName:r,mimeType:e}),!0):!1}catch(n){return console.error("[Download] iOS Bridge failed:",n),!1}}async function Nde(t,r,e){try{const n=new File([t],r,{type:e}),s={files:[n]};return typeof navigator.canShare=="function"&&navigator.canShare(s)?(await navigator.share({files:[n],title:r}),!0):!1}catch(n){return n.name==="AbortError"?!0:(console.error("[Download] Share API failed:",n),!1)}}function BN(t,r){try{const e=URL.createObjectURL(t),n=document.createElement("a");return n.href=e,n.download=r,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(e),1e3),!0}catch(e){return console.error("[Download] Browser download failed:",e),!1}}function Tm(t){return new Promise((r,e)=>{const n=new FileReader;n.onloadend=()=>{const i=n.result.split(",")[1];r(i)},n.onerror=e,n.readAsDataURL(t)})}async function Mh(t,r){const e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return ab(e,r)}const ZO=Object.freeze(Object.defineProperty({__proto__:null,downloadExcelFile:Mh,downloadFile:ab,hasAndroidBridge:W2,hasIOSBridge:YO,hasShareAPI:q2,isAndroidWebView:L3,isCapacitorNative:dh,isIOSWebView:QO,isMobileWebView:U2},Symbol.toStringTag,{value:"Module"}));async function Cde(t){const r=new O3.Workbook,e=r.addWorksheet(" ");e.views=[{rightToLeft:!0}],e.columns=[{header:"",key:"purchaseDate",width:15},{header:" ",key:"materialName",width:20},{header:"",key:"materialCategory",width:15},{header:"",key:"quantity",width:10},{header:"",key:"unit",width:10},{header:" ",key:"unitPrice",width:12},{header:" ",key:"totalAmount",width:15},{header:" ",key:"purchaseType",width:12},{header:"",key:"supplierName",width:20},{header:" ",key:"invoiceNumber",width:15},{header:"",key:"projectName",width:20},{header:"",key:"notes",width:30}];const n=e.getRow(1);n.font={bold:!0,color:{argb:"FFFFFFFF"}},n.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2563EB"}},n.alignment={vertical:"middle",horizontal:"center"},t.forEach(c=>{const u=e.addRow({purchaseDate:c.purchaseDate?jr(new Date(c.purchaseDate),"yyyy-MM-dd"):"",materialName:c.materialName||c.material?.name||"",materialCategory:c.materialCategory||c.material?.category||"",quantity:c.quantity,unit:c.materialUnit||c.unit||c.material?.unit||"",unitPrice:c.unitPrice,totalAmount:c.totalAmount,purchaseType:c.purchaseType||"",supplierName:c.supplierName||"",invoiceNumber:c.invoiceNumber||"",projectName:c.projectName||c.project?.name||" ",notes:c.notes||""});u.alignment={vertical:"middle",horizontal:"right"}});const s=t.reduce((c,u)=>c+parseFloat(u.totalAmount||"0"),0),i=e.addRow({purchaseDate:"",totalAmount:s});i.font={bold:!0},i.getCell("totalAmount").fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}};const o=await r.xlsx.writeBuffer();return await Mh(o,`__${jr(new Date,"yyyy-MM-dd_HH-mm")}.xlsx`)}function Tde(){const[,t]=Gs(),{selectedProjectId:r,isAllProjects:e,getProjectIdForApi:n}=No(),[s,i]=E.useState(""),[o,c]=E.useState({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=E.useCallback((we,He)=>{we==="selectedDate"?ke(He?jr(new Date(He),"yyyy-MM-dd"):""):c(et=>({...et,[we]:He}))},[]),g=new URLSearchParams(window.location.search).get("edit"),[y,m]=E.useState(""),[v,x]=E.useState(""),[S,C]=E.useState(""),[A,B]=E.useState(""),[q,D]=E.useState(""),[I,U]=E.useState(""),K=I==="";E.useEffect(()=>{K&&D("0")},[K]);const[W,P]=E.useState(""),[L,T]=E.useState(""),[_,k]=E.useState(aa()),[j,N]=E.useState(aa()),[R,O]=E.useState(""),[$,X]=E.useState(""),[Y,re]=E.useState(null),[F,Z]=E.useState(!0),[V,z]=E.useState(!1),[G,ae]=E.useState(""),[pe,ue]=E.useState(""),[ge,ee]=E.useState(""),[oe,ne]=E.useState(""),[fe,ce]=E.useState(""),[ie,te]=E.useState(""),[se,de]=E.useState(),[me,ke]=E.useState(()=>new URLSearchParams(window.location.search).get("date")||""),{toast:Ne}=wn(),De=ks(),{setFloatingAction:Fe}=Zi(),Ge=E.useCallback(()=>{i(""),ke(""),c({paymentType:"all",category:"all",dateRange:void 0,dateFrom:"",dateTo:"",specificDate:""}),Ne({title:"  ",description:"      "})},[Ne]);E.useEffect(()=>{},[]),E.useEffect(()=>(Fe(null),()=>Fe(null)),[Fe]);const qe=async(we,He)=>{if(!(!He||typeof He!="string"||!He.trim()))try{await Ue("/api/autocomplete","POST",{category:we,value:He.trim()})}catch(et){console.log(`Failed to save autocomplete value for ${we}:`,et)}},pt=()=>{ae(""),ue(""),ee(""),ne(""),ce(""),te("")},yt=It({mutationFn:async we=>(await Promise.all([qe("supplier_name",G),qe("supplier_contact_person",pe),qe("supplier_phone",ge),qe("supplier_address",oe),qe("supplier_payment_terms",fe)]),Ue("/api/suppliers","POST",we)),onSuccess:we=>{De.invalidateQueries({queryKey:xe.suppliers}),Ne({title:"   ",description:`   "${G}"   `}),P(G),z(!1),pt()},onError:we=>{Ne({title:"   ",description:we?.message||"    .    .",variant:"destructive"})}}),ot=async we=>{if(we.preventDefault(),!G.trim()){Ne({title:"  ",description:"   ",variant:"destructive"});return}const He={name:G.trim(),contactPerson:pe.trim()||void 0,phone:ge.trim()||void 0,address:oe.trim()||void 0,paymentTerms:fe||void 0,notes:ie.trim()||void 0,isActive:!0};yt.mutate(He)},{data:ve=[]}=vt({queryKey:xe.materials,queryFn:async()=>{try{const we=await Ue("/api/materials","GET");return we&&we.data&&Array.isArray(we.data)?we.data:Array.isArray(we)?we:[]}catch(we){return console.error("Error fetching materials:",we),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:be=[]}=vt({queryKey:xe.suppliers,queryFn:async()=>{try{const we=await Ue("/api/suppliers","GET");return we&&we.data&&Array.isArray(we.data)?we.data:Array.isArray(we)?we:[]}catch(we){return console.error("Error fetching suppliers:",we),[]}},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:!1}),{data:Be,isLoading:Xe}=vt({queryKey:xe.materialPurchaseEdit(g),queryFn:async()=>{if(!g)return null;try{console.log(`    : ${g}`);const we=await Ue(`/api/material-purchases/${g}`,"GET");console.log("    :",we);let He=null;if(we&&we.data)He=we.data;else if(we&&we.id)He=we;else return console.warn("     "),null;return console.log("     :",He),He}catch(we){return console.error("      :",we),null}},enabled:!!g,retry:1,staleTime:0});E.useEffect(()=>{if(Be&&g){console.log("    :",Be),console.log("   :",{purchaseToEdit:{materialName:Be.materialName,materialCategory:Be.materialCategory,materialUnit:Be.materialUnit,unit:Be.unit},material:Be.material?{name:Be.material.name,category:Be.material.category,unit:Be.material.unit}:"    "});const we=Be.materialName||Be.material?.name||"",He=Be.materialCategory||Be.material?.category||"",et=Be.materialUnit||Be.unit||Be.material?.unit||"";console.log("     :",{materialName:we,materialCategory:He,materialUnit:et}),m(we),x(He),C(et),B(Be.quantity?.toString()||""),D(Be.unitPrice?.toString()||""),U(Be.purchaseType||""),P(Be.supplierName||""),T(Be.invoiceNumber||""),k(Be.invoiceDate||""),N(Be.purchaseDate||""),setPaidAmount(Be.paidAmount?.toString()||"0"),setRemainingAmount(Be.remainingAmount?.toString()||"0"),O(Be.notes||""),X(Be.invoicePhoto||""),re(Be.id),console.log("    :",{materialName:we,materialCategory:He,materialUnit:et,quantity:Be.quantity,unitPrice:Be.unitPrice,purchaseType:Be.purchaseType})}},[Be,g]),It({mutationFn:we=>Ue("/api/materials","POST",we),onSuccess:()=>{De.invalidateQueries({queryKey:xe.materials})},onError:we=>{console.error("Material creation error:",we);let He="    ";we?.response?.data?.message&&(He=we.response.data.message),Ne({title:"",description:He,variant:"destructive"})}}),Array.isArray(ve)&&ve.map(we=>we.name),Array.isArray(ve)&&Array.from(new Set(ve.map(we=>we.unit)));const{data:Et=[]}=vt({queryKey:xe.materialPurchases(r,me),enabled:!!r,queryFn:async()=>await Ue(`/api/projects/${r}/material-purchases?date=${me}`,"GET"),refetchOnWindowFocus:!1,retry:!1}),Kt=E.useMemo(()=>Et&&Et.data&&Array.isArray(Et.data)?Et.data:Array.isArray(Et)?Et:[],[Et]),_t=E.useMemo(()=>{const we=Array.isArray(ve)?ve.map(bt=>bt.category):[],He=Array.isArray(Kt)?Kt.map(bt=>bt.materialCategory):[];return Array.from(new Set([...we,...He])).filter(Boolean).map(bt=>bt.trim()).filter(bt=>bt!=="")},[ve,Kt]),Yt=Array.isArray(be)?be.filter(we=>we.isActive):[],Gt=It({mutationFn:async we=>{if(!we.projectId||we.projectId==="all")throw new Error("       ");return await Promise.all([qe("materialNames",y),qe("materialCategories",v),qe("materialUnits",S),qe("supplierNames",W),qe("invoiceNumbers",L),qe("notes",R)]),Ue(`/api/projects/${we.projectId}/material-purchases`,"POST",we)},onMutate:async we=>{await De.cancelQueries({queryKey:xe.materialPurchases(r,me)});const He=De.getQueryData(xe.materialPurchases(r,me));return De.setQueryData(xe.materialPurchases(r,me),et=>{const bt={id:`temp-${Date.now()}`,...we,createdAt:new Date().toISOString()};return[...Array.isArray(et)?et:et&&typeof et=="object"&&Array.isArray(et.data)?et.data:[],bt]}),Ne({title:" ",description:"  "}),{previousData:He}},onSuccess:async()=>{De.invalidateQueries({queryKey:xe.autocomplete}),Ne({title:" ",description:"    "}),Pt(),De.invalidateQueries({queryKey:xe.materialPurchases(r,me)})},onError:async we=>{await Promise.all([qe("materialNames",y),qe("materialCategories",v),qe("materialUnits",S),qe("supplierNames",W),qe("invoiceNumbers",L),qe("notes",R)]),De.invalidateQueries({queryKey:xe.autocomplete}),console.error("Material purchase error:",we);let He="     ",et=[];if(we?.response?.data){const Nt=we.response.data;Nt.message&&(He=Nt.message),Nt.details&&Array.isArray(Nt.details)?et=Nt.details:Nt.validationErrors&&Array.isArray(Nt.validationErrors)&&(et=Nt.validationErrors)}let bt=He;et.length>0?bt=`${He}:
${et.map(Nt=>` ${Nt}`).join(`
`)}`:we?.response?.data?.error&&(bt=`${He}: ${we.response.data.error}`),Ne({title:"    ",description:bt,variant:"destructive",duration:1e4})}}),Pt=()=>{m(""),x(""),C(""),B(""),D(""),U(""),P(""),T(""),k(aa()),N(aa()),O(""),X(""),re(null)},Mt=It({mutationFn:async({id:we,data:He})=>{console.log(" [PATCH]   :",{id:we,data:He}),await Promise.all([qe("materialNames",y),qe("materialCategories",v),qe("materialUnits",S),qe("supplierNames",W),qe("invoiceNumbers",L),qe("notes",R)]);const et=await Ue(`/api/material-purchases/${we}`,"PATCH",He);return console.log(" [PATCH]   :",et),et},onSuccess:async()=>{De.invalidateQueries({queryKey:xe.autocomplete}),Ne({title:" ",description:"    "}),Pt(),De.invalidateQueries({queryKey:xe.materialPurchases(r,me)})},onError:async we=>{await Promise.all([qe("materialNames",y),qe("materialCategories",v),qe("materialUnits",S),qe("supplierNames",W),qe("invoiceNumbers",L),qe("notes",R)]),De.invalidateQueries({queryKey:xe.autocomplete}),console.error("Material purchase update error:",we);let He="     ",et=[];if(we?.response?.data){const Nt=we.response.data;Nt.message&&(He=Nt.message),Nt.details&&Array.isArray(Nt.details)?et=Nt.details:Nt.validationErrors&&Array.isArray(Nt.validationErrors)&&(et=Nt.validationErrors)}const bt=et.length>0?`${He}

${et.map(Nt=>` ${Nt}`).join(`
`)}`:He;Ne({title:"    ",description:bt,variant:"destructive",duration:8e3})}}),Nr=It({mutationFn:we=>Ue(`/api/material-purchases/${we}`,"DELETE"),onMutate:async we=>{await De.cancelQueries({queryKey:xe.materialPurchases(r,me)});const He=De.getQueryData(xe.materialPurchases(r,me));return De.setQueryData(xe.materialPurchases(r,me),et=>et?et.filter(bt=>bt.id!==we):[]),Ne({title:" ",description:"    "}),{previousData:He}},onSuccess:()=>{Ne({title:" ",description:"    "}),De.invalidateQueries({queryKey:xe.materialPurchases(r,me)})},onError:we=>{console.error("Material purchase delete error:",we);let He="     ",et=[];if(we?.response?.data){const Nt=we.response.data;Nt.message&&(He=Nt.message),Nt.details&&Array.isArray(Nt.details)&&(et=Nt.details)}const bt=et.length>0?`${He}

${et.map(Nt=>` ${Nt}`).join(`
`)}`:He;Ne({title:"    ",description:bt,variant:"destructive",duration:6e3})}}),Lt=()=>{const we=parseFloat(A)||0,He=parseFloat(q)||0;return(we*He).toFixed(2)},Cr=we=>{const He=we.target.files?.[0];if(He){const et=new FileReader;et.onload=bt=>{X(bt.target?.result)},et.readAsDataURL(He)}},rr=(we=!1)=>{const He=I!=="";if(!r||!y||!S||!A||He&&!q){Ne({title:"",description:"    ",variant:"destructive"});return}const et=Lt(),bt={projectId:r,materialName:y.trim(),materialCategory:v?.trim()||null,materialUnit:S.trim(),quantity:A.toString(),unitPrice:(He?q:q||"0").toString(),totalAmount:(He?et:et||"0").toString(),purchaseType:I.trim(),paidAmount:I.trim()===""&&et.toString()||"0",remainingAmount:(I.trim()===""||I.trim()==="")&&et.toString()||"0",supplierName:W?.trim()||"",invoiceNumber:L?.trim()||"",invoiceDate:_||new Date().toISOString().split("T")[0],purchaseDate:j||new Date().toISOString().split("T")[0],notes:R?.trim()||"",wellId:se||null,invoicePhoto:$||"",status:"completed"};console.log("    :",bt),Y?Mt.mutate({id:Y,data:bt}):Gt.mutate(bt),!we&&!Y&&t("/daily-expenses")},{data:Ct=[],isLoading:Tr,refetch:nr}=vt({queryKey:xe.materialPurchasesFiltered(n()??"all",me),queryFn:async()=>{const we=n(),He="/api/material-purchases",et=new URLSearchParams;we&&we!=="all"&&et.append("projectId",we),me&&me!==""&&et.append("date",me);const bt=et.toString(),Nt=bt?`${He}?${bt}`:He;console.log(` [Fetching] ${Nt}`);const gr=await Ue(Nt,"GET"),an=gr.data||gr;return Array.isArray(an)?an:[]},enabled:!0,staleTime:0}),Bt=E.useMemo(()=>Ct.filter(we=>{const He=e||!r||we.projectId===r,et=s===""||we.materialName?.toLowerCase().includes(s.toLowerCase())||we.supplierName?.toLowerCase().includes(s.toLowerCase())||we.notes?.toLowerCase().includes(s.toLowerCase())||we.materialCategory?.toLowerCase().includes(s.toLowerCase()),bt=o.paymentType==="all"||we.purchaseType===o.paymentType,Nt=!o.category||o.category==="all"||we.materialCategory===o.category,gr=!me||we.purchaseDate===me;let an=!0;if(o.dateRange?.from||o.dateRange?.to){const ye=new Date(we.purchaseDate);if(o.dateRange.from){const Te=new Date(o.dateRange.from);Te.setHours(0,0,0,0),an=an&&ye>=Te}if(o.dateRange.to){const Te=new Date(o.dateRange.to);Te.setHours(23,59,59,999),an=an&&ye<=Te}}let Qn=!0;if(o.specificDate){const ye=new Date(we.purchaseDate),Te=new Date(o.specificDate);Qn=ye.getFullYear()===Te.getFullYear()&&ye.getMonth()===Te.getMonth()&&ye.getDate()===Te.getDate()}return He&&et&&bt&&Nt&&an&&gr&&Qn}),[Ct,r,e,s,o.paymentType,o.category,o.dateRange,o.specificDate,me]),je=E.useMemo(()=>({total:Ct.length,cash:Ct.filter(we=>we.purchaseType==="").length,credit:Ct.filter(we=>we.purchaseType?.includes("")||we.purchaseType?.includes("")).length,supply:Ct.filter(we=>we.purchaseType==="").length,totalValue:Ct.reduce((we,He)=>we+parseFloat(He.totalAmount||"0"),0),avgValue:Ct.length>0?Ct.reduce((we,He)=>we+parseFloat(He.totalAmount||"0"),0)/Ct.length:0}),[Ct]),Me=E.useCallback(async()=>{l(!0);try{await nr()}finally{l(!1)}},[nr]);E.useEffect(()=>{(e||r)&&!Ct.length&&nr()},[r,e,nr,Ct.length]);const We=we=>{m(we.materialName||we.material?.name||""),x(we.materialCategory||we.material?.category||""),C(we.materialUnit||we.material?.unit||we.unit||""),B(we.quantity),D(we.unitPrice),U(we.purchaseType||we.paymentType||""),P(we.supplierName||""),T(we.invoiceNumber||""),k(we.invoiceDate||""),N(we.purchaseDate||""),O(we.notes||""),X(we.invoicePhoto||""),re(we.id),Z(!1)},tt=we=>{if(!we)return"N/A";try{return new Date(we).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(He){return console.error("Error formatting date:",we,He),we}},zt=we=>{window.confirm("       ")&&Nr.mutate(we)},dt=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:je.total,icon:Nn,color:"blue"},{key:"cash",label:" ",value:je.cash,icon:kr,color:"green"},{key:"credit",label:" ",value:je.credit,icon:r7,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"supply",label:"",value:je.supply,icon:h6,color:"purple"},{key:"totalValue",label:" ",value:Je(je.totalValue),icon:Rn,color:"teal"},{key:"avgValue",label:" ",value:Je(je.avgValue),icon:Rq,color:"indigo"}]}],[je]),Qt=E.useMemo(()=>[{key:"selectedDate",label:"",type:"date",placeholder:" "},{key:"category",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...(_t||[]).map(we=>({value:we,label:we}))]},{key:"paymentType",label:" ",type:"select",placeholder:"  ",options:[{value:"all",label:" "},{value:"",label:""},{value:"",label:""},{value:"",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"specificDate",label:"  ",type:"date",placeholder:"  "}],[_t]),Vt=E.useCallback(async()=>{if(Bt.length===0){Ne({title:"  ",description:"       ",variant:"destructive"});return}p(!0);try{const we=await Cde(Bt);Ne(we?{title:"  ",description:`  ${Bt.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(we){console.error("Export error:",we),Ne({title:"  ",description:"     ",variant:"destructive"})}finally{p(!1)}},[Bt,Ne]),St=E.useMemo(()=>[{key:"export",label:d?" ...":" ",icon:Hm,onClick:Vt,variant:"outline",disabled:d||Bt.length===0}],[Vt,d,Bt.length]);return a.jsxs("div",{className:"p-4 slide-in",children:[a.jsx(Co,{hideHeader:!0,title:"",statsRows:dt,searchValue:s,onSearchChange:i,searchPlaceholder:"    ...",showSearch:!0,filters:Qt,filterValues:o,onFilterChange:f,onReset:Ge,onRefresh:Me,isRefreshing:u,actions:St}),Xe&&g&&a.jsx(Jt,{className:"mb-4 border-blue-200 bg-blue-50",children:a.jsx(vr,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),a.jsx("span",{className:"text-blue-700",children:"    ..."})]})})}),a.jsx(Li,{open:!F,onOpenChange:we=>Z(!we),children:a.jsx(Jt,{className:"mb-4",children:a.jsxs(vr,{className:F?"p-2":"p-4",children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:`flex items-center justify-between cursor-pointer hover:bg-muted/50 rounded-lg transition-colors ${F?"p-2 -m-2":"p-2 -m-2 mb-2"}`,children:[a.jsxs("h3",{className:`font-semibold text-foreground flex items-center gap-2 ${F?"text-base":"text-lg"}`,children:[a.jsx(Nn,{className:F?"h-4 w-4 text-primary":"h-5 w-5 text-primary"}),Y?" ":"  "]}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:F?a.jsx(rs,{className:"h-4 w-4"}):a.jsx(qc,{className:"h-4 w-4"})})]})}),a.jsx($i,{children:a.jsxs("div",{className:"space-y-1 pt-2",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsx(Ms,{value:y,onChange:m,category:"materialNames",placeholder:"    ..."})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsx(Ms,{value:v,onChange:x,category:"materialCategories",placeholder:"    ..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:""}),a.jsx(xt,{type:"number",inputMode:"decimal",value:A,onChange:we=>B(we.target.value),placeholder:"0",className:"text-center arabic-numbers",autoWidth:!0,maxWidth:150})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:""}),a.jsx(Ms,{value:S,onChange:C,category:"materialUnits",placeholder:"  ..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsx(xt,{type:"number",inputMode:"decimal",value:q,onChange:we=>D(we.target.value),placeholder:"0.00",disabled:K,className:`text-center arabic-numbers ${K?"cursor-not-allowed opacity-50 bg-muted":""}`})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsx(xt,{type:"number",value:Lt(),readOnly:!0,disabled:K,className:`text-center arabic-numbers ${K?"bg-muted cursor-not-allowed":"bg-muted"}`})]})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsxs(GO,{value:I,onValueChange:U,className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[a.jsx(py,{value:"",id:"cash"}),a.jsx(Ze,{htmlFor:"cash",className:"text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[a.jsx(py,{value:"",id:"credit"}),a.jsx(Ze,{htmlFor:"credit",className:"text-sm",children:""})]}),a.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[a.jsx(py,{value:"",id:"storage"}),a.jsx(Ze,{htmlFor:"storage",className:"text-sm",children:""})]})]})]}),a.jsx(Sm,{projectId:r,value:se,onChange:de,optional:!0}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" /"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(is,{value:W,onValueChange:P,options:Yt.map(we=>({value:we.name,label:we.name,description:we.contactPerson||void 0})),placeholder:" ...",searchPlaceholder:"  ...",emptyText:"   ",className:"flex-1"}),a.jsxs(Ws,{open:V,onOpenChange:z,children:[a.jsx(nh,{asChild:!0,children:a.jsx(Ie,{type:"button",variant:"outline",size:"icon",title:"  ",children:a.jsx(gs,{className:"h-4 w-4"})})}),a.jsxs(Rs,{className:"sm:max-w-[425px]",dir:"rtl",children:[a.jsxs(qs,{children:[a.jsx(la,{children:"  "}),a.jsx(Ll,{children:"   .      ."})]}),a.jsxs("form",{onSubmit:ot,className:"form-grid",children:[a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"supplier-name",children:" / *"}),a.jsx(xt,{id:"supplier-name",value:G,onChange:we=>ae(we.target.value),placeholder:":   ",required:!0})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"supplier-contact",children:" "}),a.jsx(xt,{id:"supplier-contact",value:pe,onChange:we=>ue(we.target.value),placeholder:":  "})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"supplier-phone",children:" "}),a.jsx(xt,{id:"supplier-phone",value:ge,onChange:we=>ee(we.target.value),placeholder:": 777123456",type:"tel"})]}),a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"supplier-address",children:""}),a.jsx(xt,{id:"supplier-address",value:oe,onChange:we=>ne(we.target.value),placeholder:":   "})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"supplier-payment",children:" "}),a.jsxs(ws,{value:fe,onValueChange:ce,children:[a.jsx(cs,{children:a.jsx(_s,{placeholder:"  "})}),a.jsxs(us,{children:[a.jsx(wr,{value:"",children:""}),a.jsx(wr,{value:"",children:""}),a.jsx(wr,{value:" ",children:" "})]})]})]}),a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"supplier-notes",children:""}),a.jsx(ch,{id:"supplier-notes",value:ie,onChange:we=>te(we.target.value),placeholder:"  ...",autoHeight:!0,minRows:3,maxRows:6})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx(Ie,{type:"submit",disabled:yt.isPending||!G.trim(),children:yt.isPending?" ...":" "}),a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{z(!1),pt()},children:""})]})]})]})]})]}),Yt.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"   .  +   "})]}),a.jsx(el,{label:" ",value:j,onChange:we=>N(we?jr(we,"yyyy-MM-dd"):"")}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsx(Ms,{type:"number",inputMode:"numeric",value:L,onChange:T,category:"invoiceNumbers",placeholder:" ",className:"arabic-numbers"})]}),a.jsx(el,{label:" ",value:_,onChange:we=>k(we?jr(we,"yyyy-MM-dd"):"")})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:" "}),a.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[$?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:$,alt:"Invoice",className:"max-w-full max-h-32 mx-auto rounded"}),a.jsx("p",{className:"text-sm text-success",children:"   "})]}):a.jsxs(a.Fragment,{children:[a.jsx(QA,{className:"h-12 w-12 text-muted-foreground mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"   "})]}),a.jsx(xt,{type:"file",accept:"image/*",onChange:Cr,className:"hidden",id:"invoice-photo"}),a.jsx(Ze,{htmlFor:"invoice-photo",className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg cursor-pointer hover:bg-primary/90 transition-colors inline-block",children:$?" ":" "})]})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:""}),a.jsx(Ms,{value:R,onChange:O,category:"notes",placeholder:"  ..."})]}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs(Ie,{onClick:()=>rr(!1),disabled:Gt.isPending||Mt.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[a.jsx(Mc,{className:"ml-2 h-4 w-4"}),Gt.isPending||Mt.isPending?" ...":Y?" ":" "]}),!Y&&a.jsxs(Ie,{onClick:()=>rr(!0),disabled:Gt.isPending,variant:"outline",className:"w-full",children:[a.jsx(gs,{className:"ml-2 h-4 w-4"}),"  "]}),Y&&a.jsx(Ie,{onClick:Pt,variant:"outline",className:"w-full",children:" "})]})]})})]})})}),Tr&&a.jsx(Jt,{className:"mt-4",children:a.jsx(vr,{className:"p-4",children:a.jsx("div",{className:"text-center text-muted-foreground",children:"  ..."})})}),!Tr&&Bt.length===0&&a.jsx(Jt,{className:"mt-4",children:a.jsx(vr,{className:"p-4",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Nn,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-medium",children:"  "}),a.jsx("p",{className:"text-sm",children:Ct.length>0?"       ":"     "})]})})}),Bt.length>0&&a.jsx("div",{className:"mt-4",children:a.jsx(Hs,{columns:3,children:Bt.map(we=>{const He=we.purchaseType||"",et=He==="",bt=He===""||He==="",Nt=He===""||He===""||He==="",gr=et?"#22c55e":bt?"#f97316":Nt?"#3b82f6":"#6366f1";return a.jsx(vn,{title:we.materialName||"  ",subtitle:tt(we.purchaseDate),titleIcon:h6,headerColor:gr,badges:[{label:He,variant:et?"success":bt?"warning":Nt?"info":"default"}],fields:[...e||!r?[{label:"",value:we.projectName||we.project?.name||" ",icon:bs,color:"info"}]:[],{label:"",value:we.supplierName||" ",icon:Ln,color:"default"},{label:"",value:`${we.quantity} ${we.materialUnit||we.unit}`,icon:Nn,color:"warning",emphasis:!0},{label:" ",value:Je(we.unitPrice),icon:kr,color:"default"},{label:"",value:Je(we.totalAmount),icon:kr,color:et?"success":bt?"warning":Nt?"info":"default",emphasis:!0},{label:"",value:tt(we.purchaseDate),icon:ua,color:"muted"}],actions:[{icon:Kc,label:"",onClick:()=>We(we),color:"blue"},{icon:Ps,label:"",onClick:()=>zt(we.id),color:"red"}],compact:!0},we.id)})})})]})}function Ede({value:t,onValueChange:r,options:e,placeholder:n="...",emptyText:s="  ",allowCustom:i=!0,customPlaceholder:o=" ..."}){const[c,u]=E.useState(!1),[l,d]=E.useState(""),[p,f]=E.useState(!1),[h,g]=E.useState(""),y=E.useRef(null);E.useEffect(()=>{if(c&&y.current){y.current.focus();const A=setTimeout(()=>{y.current?.focus()},50);return()=>clearTimeout(A)}},[c]);const m=E.useMemo(()=>Array.from(new Set(e)).sort((B,q)=>String(B).localeCompare(String(q),"ar")),[e]),v=E.useMemo(()=>h?m.filter(A=>A.toLowerCase().includes(h.toLowerCase())):m,[m,h]),x=A=>{if(A==="__custom__"){f(!0);return}r(A),u(!1),f(!1),d(""),g("")},S=()=>{l.trim()&&(r(l.trim()),u(!1),f(!1),d(""),g(""))},C=t||n;return a.jsxs(J4,{open:c,onOpenChange:u,children:[a.jsx(e3,{asChild:!0,children:a.jsxs(Ie,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[a.jsx("span",{className:Ae("truncate",!t&&"text-muted-foreground"),children:C}),a.jsx(rs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsxs(nx,{className:"w-full p-0",align:"start",children:[a.jsx("div",{className:"border-b p-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(bo,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(xt,{ref:y,placeholder:"...",value:h,onChange:A=>g(A.target.value),className:"pr-8"})]})}),a.jsxs("div",{className:"max-h-60 overflow-auto",children:[v.length===0&&!i&&a.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:s}),v.map(A=>a.jsxs("button",{onClick:()=>x(A),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer",children:[a.jsx(Dl,{className:Ae("mr-2 h-4 w-4",t===A?"opacity-100":"opacity-0")}),A]},A)),i&&a.jsxs("button",{onClick:()=>x("__custom__"),className:"w-full flex items-center px-3 py-2 text-sm hover:bg-accent hover:text-accent-foreground cursor-pointer text-primary",children:[a.jsx(gs,{className:"mr-2 h-4 w-4"}),o]})]}),p&&a.jsxs("div",{className:"border-t p-3 space-y-2",children:[a.jsx(xt,{value:l,onChange:A=>d(A.target.value),placeholder:"  ...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),S())},autoFocus:!0}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{onClick:S,size:"sm",className:"flex-1",disabled:!l.trim(),children:""}),a.jsx(Ie,{onClick:()=>{f(!1),d(""),g("")},size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]})]})}const q1={blue:{border:"border-l-blue-500",text:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20",iconBg:"bg-blue-100 dark:bg-blue-900/30",iconColor:"text-blue-600 dark:text-blue-400"},green:{border:"border-l-green-500",text:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600 dark:text-green-400"},orange:{border:"border-l-orange-500",text:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20",iconBg:"bg-orange-100 dark:bg-orange-900/30",iconColor:"text-orange-600 dark:text-orange-400"},red:{border:"border-l-red-500",text:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-600 dark:text-red-400"},purple:{border:"border-l-purple-500",text:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20",iconBg:"bg-purple-100 dark:bg-purple-900/30",iconColor:"text-purple-600 dark:text-purple-400"},teal:{border:"border-l-teal-500",text:"text-teal-600",bg:"bg-teal-50 dark:bg-teal-900/20",iconBg:"bg-teal-100 dark:bg-teal-900/30",iconColor:"text-teal-600 dark:text-teal-400"},indigo:{border:"border-l-indigo-500",text:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20",iconBg:"bg-indigo-100 dark:bg-indigo-900/30",iconColor:"text-indigo-600 dark:text-indigo-400"},emerald:{border:"border-l-emerald-500",text:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20",iconBg:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400"},amber:{border:"border-l-amber-500",text:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/20",iconBg:"bg-amber-100 dark:bg-amber-900/30",iconColor:"text-amber-600 dark:text-amber-400"},gray:{border:"border-l-gray-500",text:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20",iconBg:"bg-gray-100 dark:bg-gray-900/30",iconColor:"text-gray-600 dark:text-gray-400"},rose:{border:"border-l-rose-500",text:"text-rose-600",bg:"bg-rose-50 dark:bg-rose-900/20",iconBg:"bg-rose-100 dark:bg-rose-900/30",iconColor:"text-rose-600 dark:text-rose-400"}};function $N({title:t,label:r,value:e,icon:n,color:s="blue",gradient:i,iconBg:o,iconColor:c,formatter:u,className:l="","data-testid":d}){const p=s&&q1[s]?q1[s]:q1.blue,f=r||t||"",g=(()=>{if(e==null)return"0";if(typeof e=="number"){if(isNaN(e)||!isFinite(e))return"0";if(Math.abs(e)>1e11)return console.warn(" [StatsCard]    :",e),"0";const A=Math.max(0,e);return u?u(A):A.toLocaleString("en-US")}const v=e.toString().trim();if(v.match(/^(\d{1,3})\1{2,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.match(/^(\d)\1{5,}$/))return console.warn(" [StatsCard]   :",v),"0";if(v.length>12&&v.match(/^\d+$/))return console.warn(" [StatsCard]    :",v),"0";const x=[/^(\d{2,3})\1{3,}$/,/^0+[1-9]0+$/,/^(123|234|345|456|567|678|789|012|098|987|876|765|654|543|432|321){3,}$/];for(const A of x)if(A.test(v))return console.warn(" [StatsCard]   :",v),"0";const S=v.replace(/[^\d.-]/g,"");if(!S||S===""||S==="-")return"0";const C=parseFloat(S);if(!isNaN(C)&&isFinite(C)){if(Math.abs(C)>1e11)return console.warn(" [StatsCard]    :",C),"0";const A=Math.max(0,C);return Number.isInteger(A)&&A>1e6&&f.includes("")?(console.warn(" [StatsCard]    :",A),"0"):A.toLocaleString("en-US")}return"0"})(),y=f.length>15,m=({children:v})=>y?a.jsx(Rb,{delayDuration:300,children:a.jsxs(L_,{children:[a.jsx(B_,{asChild:!0,children:v}),a.jsx(Db,{side:"top",className:"max-w-[200px] text-center",children:a.jsx("p",{className:"text-xs",children:f})})]})}):a.jsx(a.Fragment,{children:v});return i||o||c?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:Ae("w-8 h-8 md:w-9 md:h-9 rounded-lg flex-shrink-0 flex items-center justify-center",o),children:a.jsx(n,{className:Ae("h-4 w-4 md:h-5 md:w-5",c)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(m,{children:a.jsx("p",{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400 leading-snug break-words",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},title:f,children:f})}),a.jsx("p",{className:"text-xs md:text-sm font-bold text-slate-900 dark:text-white leading-tight break-words",style:{fontSize:"clamp(0.7rem, 2vw, 0.85rem)"},children:g})]})]}):a.jsx(Jt,{className:Ae(p.border,p.bg,"border-l-2 border-1 hover:shadow-lg transition-all duration-300 h-[60px] sm:h-[80px] rounded-lg overflow-hidden shadow-sm"),children:a.jsx(vr,{className:"p-1.5 sm:p-3 flex flex-col justify-center h-full",children:a.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(m,{children:a.jsx("p",{className:"text-[8px] sm:text-[10px] font-medium text-muted-foreground/90 uppercase tracking-tighter truncate mb-0",children:f})}),a.jsx("p",{className:Ae("text-sm sm:text-lg font-bold font-mono tracking-tighter leading-none",p.text),children:g})]}),a.jsx("div",{className:Ae("h-7 w-7 sm:h-9 sm:w-9 rounded-md sm:rounded-lg flex items-center justify-center flex-shrink-0 shadow-sm",p.iconBg),children:a.jsx(n,{className:Ae("h-3.5 w-3.5 sm:h-5 sm:w-5",p.iconColor)})})]})})})}function fh({title:t,subtitle:r,stats:e,columns:n=2,showStatus:s=!0,compact:i=!1,hideHeader:o=!1}){const c={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};if(o)return a.jsx("div",{className:`grid ${c[n]} gap-1 sm:gap-2`,children:e.map((f,h)=>a.jsxs("div",{className:"relative",children:[f.status==="critical"&&a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-amber-500 rounded-full animate-pulse z-10"}),a.jsx($N,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&a.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?a.jsxs(a.Fragment,{children:[a.jsx(Rn,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"h-3 w-3 text-red-600"}),a.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))});const u=e.filter(f=>f.status==="critical"),l=e.filter(f=>f.status==="warning"),p=u.length>0?{label:"",color:"destructive"}:l.length>0?{label:"",color:"warning"}:{label:"",color:"default"};return a.jsxs("div",{className:"space-y-3",children:[t&&a.jsx("div",{className:"px-2",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:t}),r&&a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:r})]}),s&&a.jsx(xr,{variant:p.color==="default"?"secondary":p.color,className:"text-xs",children:p.label})]})}),a.jsx("div",{className:`grid ${c[n]} gap-1 sm:gap-2`,children:e.map((f,h)=>a.jsxs("div",{className:"relative",children:[f.status==="critical"&&a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse z-10"}),f.status==="warning"&&a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-amber-500 rounded-full animate-pulse z-10"}),a.jsx($N,{title:f.title,value:f.value,icon:f.icon,color:f.color,formatter:f.formatter}),f.trend&&a.jsx("div",{className:"mt-2 flex items-center gap-1 text-xs",children:f.trend.isPositive?a.jsxs(a.Fragment,{children:[a.jsx(Rn,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-green-600",children:["+",f.trend.value,"%"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"h-3 w-3 text-red-600"}),a.jsxs("span",{className:"text-red-600",children:[f.trend.value,"%"]})]})})]},h))}),(u.length>0||l.length>0)&&a.jsxs("div",{className:"mt-2 p-2 sm:p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded text-xs text-amber-800 dark:text-amber-200",children:[u.length>0&&a.jsxs("p",{className:"truncate",children:[" ",u.length,"  "]}),l.length>0&&a.jsxs("p",{className:"mt-1 truncate",children:[" ",l.length," "]})]})]})}const Ade={worker_transport:"border-l-blue-500",material_delivery:"border-l-green-500",concrete_transport:"border-l-orange-500",iron_platforms:"border-l-slate-500",fuel_shas:"border-l-red-500",fuel_hilux:"border-l-red-400",loading_unloading:"border-l-amber-500",maintenance:"border-l-purple-500",water_supply:"border-l-cyan-500",other:"border-l-slate-400"},Pde={worker_transport:"text-blue-500",material_delivery:"text-green-500",concrete_transport:"text-orange-500",iron_platforms:"text-slate-500",fuel_shas:"text-red-500",fuel_hilux:"text-red-400",loading_unloading:"text-amber-500",maintenance:"text-purple-500",water_supply:"text-cyan-500",other:"text-slate-400"};function Mde(){Gs();const{selectedProjectId:t,isAllProjects:r,getProjectIdForApi:e}=No(),[n,s]=E.useState(""),[i,o]=E.useState({dateRange:void 0,specificDate:aa()}),[c,u]=E.useState(!1),[l,d]=E.useState(null),[p,f]=E.useState(!1),[h,g]=E.useState(""),[y,m]=E.useState(""),[v,x]=E.useState(""),[S,C]=E.useState(aa()),[A,B]=E.useState(""),[q,D]=E.useState("worker_transport"),[I,U]=E.useState(),{toast:K}=wn(),W=ks(),{setFloatingAction:P}=Zi(),L=E.useCallback(()=>{g(""),m(""),x(""),C(aa()),B(""),D("worker_transport"),U(void 0),d(null),u(!1)},[]);E.useEffect(()=>(P(()=>{u(!0),d(null)},"  "),()=>P(null)),[P]);const{data:T=[]}=vt({queryKey:xe.workers}),{data:_,isLoading:k,refetch:j}=vt({queryKey:xe.projectTransportation(t,i.specificDate,i.dateRange),queryFn:async()=>{let ee=r?"/api/transportation-expenses":`/api/projects/${e()}/transportation-expenses`;const oe=new URLSearchParams;i.specificDate&&oe.append("date",i.specificDate),i.dateRange?.from&&oe.append("dateFrom",y6(i.dateRange.from)),i.dateRange?.to&&oe.append("dateTo",y6(i.dateRange.to));const ne=oe.toString();return await Ue(`${ee}${ne?`?${ne}`:""}`,"GET")},enabled:!!t||r}),{data:N}=vt({queryKey:xe.autocompleteTransportCategories,queryFn:async()=>Ue("/api/autocomplete/transport-categories","GET")}),R=E.useMemo(()=>{const ee={worker_transport:" ",material_delivery:" ",concrete_transport:" ",iron_platforms:"  ",fuel_shas:" ",fuel_hilux:" ",loading_unloading:" ",maintenance:" ",water_supply:" ",other:""};return N?.data&&N.data.forEach(oe=>{ee[oe.value]=oe.label}),ee},[N]),O=E.useMemo(()=>{const ee=[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}];if(!N?.data)return ee;const oe=new Set(ee.map(fe=>fe.value)),ne=N.data.map(fe=>({value:fe.value,label:fe.label})).filter(fe=>!oe.has(fe.value));return[...ee,...ne]},[N]),$=E.useMemo(()=>_?.data||[],[_]),X=E.useMemo(()=>{if(!n)return $;const ee=n.toLowerCase();return $.filter(oe=>oe.description.toLowerCase().includes(ee)||oe.workerName&&oe.workerName.toLowerCase().includes(ee)||oe.projectName&&oe.projectName.toLowerCase().includes(ee))},[$,n]),Y=E.useMemo(()=>{const ee=$.reduce((de,me)=>de+Number(me.amount),0),oe=$.length,ne=$.filter(de=>de.category==="maintenance").reduce((de,me)=>de+Number(me.amount),0),fe=$.filter(de=>de.category==="fuel_shas"||de.category==="fuel_hilux").reduce((de,me)=>de+Number(me.amount),0),ce=$.filter(de=>de.category==="material_delivery").reduce((de,me)=>de+Number(me.amount),0),ie=$.filter(de=>de.category==="concrete_transport").reduce((de,me)=>de+Number(me.amount),0),te=$.filter(de=>de.category==="iron_platforms").reduce((de,me)=>de+Number(me.amount),0),se=$.filter(de=>de.category==="other"||!["maintenance","fuel_shas","fuel_hilux","material_delivery","concrete_transport","iron_platforms"].includes(de.category)).reduce((de,me)=>de+Number(me.amount),0);return[{title:"  ",value:Je(ee),icon:kr,color:"blue"},{title:" ",value:oe,icon:oa,color:"green"},{title:"  ",value:Je(oe>0?ee/oe:0),icon:Rn,color:"amber"},{title:" ",value:Je(ne),icon:Km,color:"purple"},{title:" ",value:Je(fe),icon:Oq,color:"red"},{title:" ",value:Je(ce),icon:Nn,color:"indigo"},{title:" ",value:Je(ie),icon:bs,color:"orange"},{title:"  ",value:Je(te),icon:Nn,color:"slate"},{title:" ",value:Je(se),icon:em,color:"gray"}]},[$]),re=async()=>{try{const ee=new I3.Workbook;ee.views=[{activeTab:0,firstSheet:0,showGridLines:!0}];const oe=ee.addWorksheet(" ",{views:[{rightToLeft:!0}]});oe.columns=[{header:"",key:"date",width:15},{header:" / ",key:"description",width:30},{header:" (RY)",key:"amount",width:15},{header:"",key:"category",width:20},{header:"",key:"worker",width:20},{header:" ",key:"well",width:12},{header:"",key:"notes",width:30}];const ne=oe.getRow(1);ne.font={bold:!0,color:{argb:"FFFFFF"},size:12},ne.fill={type:"pattern",pattern:"solid",fgColor:{argb:"1E293B"}},ne.alignment={vertical:"middle",horizontal:"center"},$.forEach(ie=>{const te=oe.addRow({date:ie.date,description:ie.description,amount:Number(ie.amount),category:R[ie.category]||ie.category||"",worker:T.find(se=>se.id===ie.workerId)?.name||" ",well:ie.wellId||"N/A",notes:ie.notes||""});te.alignment={vertical:"middle",horizontal:"right"}}),oe.eachRow((ie,te)=>{ie.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},te>1&&(ie.fill={type:"pattern",pattern:"solid",fgColor:{argb:te%2===0?"F8FAFC":"FFFFFF"}})});const fe=await ee.xlsx.writeBuffer(),ce=await Mh(fe,`__${jr(new Date,"yyyy-MM-dd")}.xlsx`);K(ce?{title:"  ",description:"    "}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ee){console.error("Export error:",ee),K({title:"  ",variant:"destructive"})}},F=()=>{s(""),o({dateRange:void 0,specificDate:aa()}),K({title:"  ",description:"   "})},Z=async()=>{f(!0),await j(),f(!1),K({title:" ",description:"   "})},V=It({mutationFn:async ee=>l?Ue(`/api/transportation-expenses/${l}`,"PATCH",ee):Ue("/api/transportation-expenses","POST",ee),onSuccess:()=>{W.invalidateQueries({queryKey:xe.projects}),W.invalidateQueries({queryKey:xe.transportationExpenses}),K({title:l?"  ":"  "}),L()},onError:ee=>{K({title:"  ",description:ee?.message||"   ",variant:"destructive"})}}),z=It({mutationFn:ee=>Ue(`/api/transportation-expenses/${ee}`,"DELETE"),onSuccess:()=>{W.invalidateQueries({queryKey:xe.projects}),W.invalidateQueries({queryKey:xe.transportationExpenses}),K({title:"  "})}}),G=ee=>{if(ee.preventDefault(),!y||!v){K({title:"",description:"   ",variant:"destructive"});return}V.mutate({projectId:t,workerId:h||null,amount:y,description:v,date:S,category:q,notes:A,wellId:I})},ae=ee=>{d(ee.id),g(ee.workerId||""),m(ee.amount.toString()),x(ee.description),C(ee.date),B(ee.notes||""),D(ee.category||"worker_transport"),U(ee.wellId||void 0),u(!0)},pe=E.useCallback((ee,oe)=>{if(ee==="specificDate")if(oe instanceof Date){const ne=oe.getFullYear(),fe=String(oe.getMonth()+1).padStart(2,"0"),ce=String(oe.getDate()).padStart(2,"0");o(ie=>({...ie,specificDate:`${ne}-${fe}-${ce}`,dateRange:void 0}))}else o(ne=>({...ne,specificDate:void 0}));else o(ee==="dateRange"?ne=>({...ne,[ee]:oe,specificDate:void 0}):ne=>({...ne,[ee]:oe}))},[]),ue=[{key:"specificDate",type:"date",label:" ",placeholder:" "},{key:"dateRange",type:"date-range",label:" "},{key:"category",type:"select",label:"",placeholder:" ",options:O}],ge=[{key:"export",icon:Hm,label:" ",onClick:re,variant:"outline",tooltip:"   "}];return a.jsx("div",{className:"flex flex-col h-full w-full bg-slate-50/50 dark:bg-slate-950/50",children:a.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 space-y-6",children:[a.jsx(fh,{title:"  ",stats:Y,columns:3}),a.jsx(Ws,{open:c,onOpenChange:u,children:a.jsxs(Rs,{className:"sm:max-w-[500px] p-0 overflow-hidden border-none rounded-2xl shadow-2xl",children:[a.jsx(qs,{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-primary/10",children:a.jsxs(la,{className:"flex items-center gap-3 text-xl font-bold text-primary",children:[a.jsx("div",{className:"p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm",children:a.jsx(oa,{className:"h-5 w-5"})}),l?"  ":"   "]})}),a.jsx("div",{className:"p-4",children:a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"col-span-2 space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(Kc,{className:"h-3 w-3"}),"  / "]}),a.jsx(Ms,{category:"transport_desc",value:v,onChange:x,placeholder:":    ...",className:"h-9 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20",autoWidth:!0,maxWidth:400})]}),a.jsxs("div",{className:"col-span-1 space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(jy,{className:"h-3 w-3"})," "]}),a.jsx(is,{options:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}],value:q,onValueChange:ee=>D(ee),allowCustom:!0,placeholder:" ...",className:"h-9",triggerClassName:"h-9 text-xs"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(kr,{className:"h-3 w-3"})," "]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:"number",value:y,onChange:ee=>m(ee.target.value),placeholder:"0.00",autoWidth:!0,maxWidth:200,className:"min-h-11 rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 pl-7 focus:ring-primary/20 text-xs"}),a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[9px] font-bold text-slate-400",children:"RY"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(ua,{className:"h-3 w-3"})," "]}),a.jsx(el,{value:S,onChange:ee=>C(ee?jr(ee,"yyyy-MM-dd"):aa()),className:"h-9"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(gs,{className:"h-3 w-3"}),"  ()"]}),a.jsx(Ede,{options:T.map(ee=>String(ee.name)),value:T.find(ee=>ee.id===h)?.name||"",onValueChange:ee=>{const oe=T.find(ne=>ne.name===ee);oe&&g(oe.id)},placeholder:" ..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1.5",children:[a.jsx(c6,{className:"h-3 w-3"})," "]}),a.jsx(Sm,{projectId:t,value:I,onChange:U,showLabel:!1})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:""}),a.jsx(ch,{value:A,onChange:ee=>B(ee.target.value),placeholder:"  ...",className:"rounded-lg bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 focus:ring-primary/20 text-xs",autoHeight:!0,minRows:2,maxRows:6})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx(Ie,{type:"button",variant:"ghost",onClick:L,className:"flex-1 rounded-lg h-9 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 text-xs font-bold",children:""}),a.jsxs(Ie,{type:"submit",className:"flex-[2] rounded-lg h-9 shadow-lg shadow-primary/20 gap-2 text-xs font-bold",disabled:V.isPending,children:[a.jsx(Mc,{className:"h-4 w-4"}),l?"":""]})]})]})})]})}),a.jsx(Co,{hideHeader:!0,filters:ue,filterValues:{...i,specificDate:i.specificDate?(()=>{const[ee,oe,ne]=i.specificDate.split("-").map(Number);return new Date(ee,oe-1,ne,12,0,0,0)})():void 0},onFilterChange:pe,onSearchChange:s,searchValue:n,onReset:F,onRefresh:Z,isRefreshing:p,actions:ge,searchPlaceholder:"   ..."}),k?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(ee=>a.jsx("div",{className:"h-48 bg-slate-200 animate-pulse rounded-2xl"},ee))}):$.length===0?a.jsxs(Jt,{className:"p-12 border-dashed border-2 flex flex-col items-center justify-center text-center bg-transparent rounded-2xl",children:[a.jsx(oa,{className:"h-12 w-12 text-slate-300 mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"  "}),a.jsx("p",{className:"text-sm text-slate-400 max-w-xs",children:"        ."})]}):a.jsx(Hs,{children:X.map(ee=>a.jsx(vn,{title:ee.description,subtitle:(()=>{const oe=ee.workerName||" ";return r&&ee.projectName?`${oe} - ${ee.projectName}`:oe})(),titleIcon:oa,className:Ae("hover-elevate active-elevate-2 transition-all duration-300 border-l-4 shadow-md hover:shadow-xl group py-2",Ade[ee.category]||"border-l-blue-500"),compact:!0,fields:[{label:"",value:Je(Number(ee.amount)),icon:kr,emphasis:!0,color:"success",iconClassName:"text-green-600 dark:text-green-400"},{label:"",value:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(oe=>oe.value===ee.category)?.label||ee.category||"",icon:jy,emphasis:!1,iconClassName:Pde[ee.category]||"text-blue-500"},{label:"",value:ee.date,icon:ua,color:"info",iconClassName:"text-sky-500"},{label:"",value:ee.wellId?` ${ee.wellId}`:"N/A",icon:c6,hidden:!ee.wellId,color:"info",iconClassName:"text-amber-500"}],actions:[{icon:Kc,label:"",onClick:()=>ae(ee),variant:"ghost"},{icon:Ps,label:"",onClick:()=>{confirm("    ")&&z.mutate(ee.id)},variant:"ghost"}],footer:ee.notes&&a.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-800",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(em,{className:"h-3 w-3 text-slate-400 mt-0.5"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed italic",children:ee.notes})})]})})},ee.id))})]})})})}const nt=Symbol.for("drizzle:entityKind");function ra(t,r){if(!t||typeof t!="object")return!1;if(t instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,nt))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let e=Object.getPrototypeOf(t).constructor;if(e)for(;e;){if(nt in e&&e[nt]===r[nt])return!0;e=Object.getPrototypeOf(e)}return!1}var aC;aC=nt;class hh{constructor(r,e){Re(this,"name");Re(this,"keyAsName");Re(this,"primary");Re(this,"notNull");Re(this,"default");Re(this,"defaultFn");Re(this,"onUpdateFn");Re(this,"hasDefault");Re(this,"isUnique");Re(this,"uniqueName");Re(this,"uniqueType");Re(this,"dataType");Re(this,"columnType");Re(this,"enumValues");Re(this,"generated");Re(this,"generatedIdentity");Re(this,"config");this.table=r,this.config=e,this.name=e.name,this.keyAsName=e.keyAsName,this.notNull=e.notNull,this.default=e.default,this.defaultFn=e.defaultFn,this.onUpdateFn=e.onUpdateFn,this.hasDefault=e.hasDefault,this.primary=e.primaryKey,this.isUnique=e.isUnique,this.uniqueName=e.uniqueName,this.uniqueType=e.uniqueType,this.dataType=e.dataType,this.columnType=e.columnType,this.generated=e.generated,this.generatedIdentity=e.generatedIdentity}mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Re(hh,aC,"Column");var iC;iC=nt;class JO{constructor(r,e,n){Re(this,"config");Re(this,"$default",this.$defaultFn);Re(this,"$onUpdate",this.$onUpdateFn);this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:e,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}Re(JO,iC,"ColumnBuilder");const Ef=Symbol.for("drizzle:Name");var oC;oC=nt;class eF{constructor(r,e){Re(this,"reference");Re(this,"_onUpdate","no action");Re(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:i}=r();return{name:n,columns:s,foreignTable:i[0].table,foreignColumns:i}},e&&(this._onUpdate=e.onUpdate,this._onDelete=e.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new tF(r,this)}}Re(eF,oC,"PgForeignKeyBuilder");var lC;lC=nt;class tF{constructor(r,e){Re(this,"reference");Re(this,"onUpdate");Re(this,"onDelete");this.table=r,this.reference=e.reference,this.onUpdate=e._onUpdate,this.onDelete=e._onDelete}getName(){const{name:r,columns:e,foreignColumns:n}=this.reference(),s=e.map(c=>c.name),i=n.map(c=>c.name),o=[this.table[Ef],...s,n[0].table[Ef],...i];return r??`${o.join("_")}_fk`}}Re(tF,lC,"PgForeignKey");function Rde(t,...r){return t(...r)}function Dde(t,r){return`${t[Ef]}_${r.join("_")}_unique`}function zN(t,r,e){for(let n=r;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(r,n).replace(/\\/g,""),n+1];if(!e&&(s===","||s==="}"))return[t.slice(r,n).replace(/\\/g,""),n]}return[t.slice(r).replace(/\\/g,""),t.length]}function rF(t,r=0){const e=[];let n=r,s=!1;for(;n<t.length;){const i=t[n];if(i===","){(s||n===r)&&e.push(""),s=!0,n++;continue}if(s=!1,i==="\\"){n+=2;continue}if(i==='"'){const[u,l]=zN(t,n+1,!0);e.push(u),n=l;continue}if(i==="}")return[e,n+1];if(i==="{"){const[u,l]=rF(t,n+1);e.push(u),n=l;continue}const[o,c]=zN(t,n,!1);e.push(o),n=c}return[e,n]}function Ide(t){const[r]=rF(t,1);return r}function nF(t){return`{${t.map(r=>Array.isArray(r)?nF(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}var cC,uC;class tn extends(uC=JO,cC=nt,uC){constructor(){super(...arguments);Re(this,"foreignKeyConfigs",[])}array(e){return new aF(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>Rde((o,c)=>{const u=new eF(()=>{const l=o();return{columns:[e],foreignColumns:[l]}});return c.onUpdate&&u.onUpdate(c.onUpdate),c.onDelete&&u.onDelete(c.onDelete),u.build(n)},s,i))}buildExtraConfigColumn(e){return new sF(e,this.config)}}Re(tn,cC,"PgColumnBuilder");var dC,fC;class Fr extends(fC=hh,dC=nt,fC){constructor(r,e){e.uniqueName||(e.uniqueName=Dde(r,[e.name])),super(r,e),this.table=r}}Re(Fr,dC,"PgColumn");var hC,pC;class sF extends(pC=Fr,hC=nt,pC){constructor(){super(...arguments);Re(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Re(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}Re(sF,hC,"ExtraConfigColumn");var mC,gC;class aF extends(gC=tn,mC=nt,gC){constructor(r,e,n){super(r,"array","PgArray"),this.config.baseBuilder=e,this.config.size=n}build(r){const e=this.config.baseBuilder.build(r);return new H2(r,this.config,e)}}Re(aF,mC,"PgArrayBuilder");var yC,bC;const mb=class mb extends(bC=Fr,yC=nt,bC){constructor(e,n,s,i){super(e,n);Re(this,"size");this.baseColumn=s,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=Ide(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const s=e.map(i=>i===null?null:ra(this.baseColumn,mb)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:nF(s)}};Re(mb,yC,"PgArray");let H2=mb;const VN=Symbol.for("drizzle:isPgEnum");function Ode(t){return!!t&&typeof t=="function"&&VN in t&&t[VN]===!0}var xC;xC=nt;class B3{constructor(r,e,n,s=!1){this._={brand:"Subquery",sql:r,selectedFields:e,alias:n,isWith:s}}}Re(B3,xC,"Subquery");const Fde={startActiveSpan(t,r){return r()}},Af=Symbol.for("drizzle:ViewBaseConfig"),H1=Symbol.for("drizzle:Schema"),UN=Symbol.for("drizzle:Columns"),WN=Symbol.for("drizzle:ExtraConfigColumns"),K1=Symbol.for("drizzle:OriginalName"),G1=Symbol.for("drizzle:BaseName"),ib=Symbol.for("drizzle:IsAlias"),qN=Symbol.for("drizzle:ExtraConfigBuilder"),iF=Symbol.for("drizzle:IsDrizzleTable");var vC,wC,_C,kC,jC,SC,NC,CC,TC,EC,Xg;let bi=(EC=nt,TC=Ef,CC=K1,NC=H1,SC=UN,jC=WN,kC=G1,_C=ib,wC=iF,vC=qN,Xg=class{constructor(r,e,n){Re(this,TC);Re(this,CC);Re(this,NC);Re(this,SC);Re(this,jC);Re(this,kC);Re(this,_C,!1);Re(this,wC,!0);Re(this,vC);this[Ef]=this[K1]=r,this[H1]=e,this[G1]=n}},Re(Xg,EC,"Table"),Re(Xg,"Symbol",{Name:Ef,Schema:H1,OriginalName:K1,Columns:UN,ExtraConfigColumns:WN,BaseName:G1,IsAlias:ib,ExtraConfigBuilder:qN}),Xg);function oF(t){return typeof t=="object"&&t!==null&&iF in t}function Lde(t){return t!=null&&typeof t.getSQL=="function"}function Bde(t){const r={sql:"",params:[]};for(const e of t)r.sql+=e.sql,r.params.push(...e.params),e.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...e.typings));return r}var AC;AC=nt;class Vi{constructor(r){Re(this,"value");this.value=Array.isArray(r)?r:[r]}getSQL(){return new Ds([this])}}Re(Vi,AC,"StringChunk");var PC;PC=nt;const Fu=class Fu{constructor(r){Re(this,"decoder",lF);Re(this,"shouldInlineParams",!1);this.queryChunks=r}append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return Fde.startActiveSpan("drizzle.buildSQL",e=>{const n=this.buildQueryFromSourceParams(this.queryChunks,r);return e?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(r,e){const n=Object.assign({},e,{inlineParams:e.inlineParams||this.shouldInlineParams,paramStartIndex:e.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:c,inlineParams:u,paramStartIndex:l}=n;return Bde(r.map(d=>{if(ra(d,Vi))return{sql:d.value.join(""),params:[]};if(ra(d,ob))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const p=[new Vi("(")];for(const[f,h]of d.entries())p.push(h),f<d.length-1&&p.push(new Vi(", "));return p.push(new Vi(")")),this.buildQueryFromSourceParams(p,n)}if(ra(d,Fu))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:u||d.shouldInlineParams});if(ra(d,bi)){const p=d[bi.Symbol.Schema],f=d[bi.Symbol.Name];return{sql:p===void 0||d[ib]?i(f):i(p)+"."+i(f),params:[]}}if(ra(d,hh)){const p=s.getColumnCasing(d);if(e.invokeSource==="indexes")return{sql:i(p),params:[]};const f=d.table[bi.Symbol.Schema];return{sql:d.table[ib]||f===void 0?i(d.table[bi.Symbol.Name])+"."+i(p):i(f)+"."+i(d.table[bi.Symbol.Name])+"."+i(p),params:[]}}if(ra(d,dF)){const p=d[Af].schema,f=d[Af].name;return{sql:p===void 0||d[Af].isAlias?i(f):i(p)+"."+i(f),params:[]}}if(ra(d,$3)){if(ra(d.value,lb))return{sql:o(l.value++,d),params:[d],typings:["none"]};const p=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ra(p,Fu))return this.buildQueryFromSourceParams([p],n);if(u)return{sql:this.mapInlineParam(p,n),params:[]};let f=["none"];return c&&(f=[c(d.encoder)]),{sql:o(l.value++,p),params:[p],typings:f}}return ra(d,lb)?{sql:o(l.value++,d),params:[d],typings:["none"]}:ra(d,Fu.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:ra(d,B3)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Vi("("),d._.sql,new Vi(") "),new ob(d._.alias)],n):Ode(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Lde(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Vi("("),d.getSQL(),new Vi(")")],n):u?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(l.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(r,{escapeString:e}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return e(r);if(typeof r=="object"){const n=r.toString();return e(n==="[object Object]"?JSON.stringify(r):n)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Fu.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}};Re(Fu,PC,"SQL");let Ds=Fu;var MC;MC=nt;class ob{constructor(r){Re(this,"brand");this.value=r}getSQL(){return new Ds([this])}}Re(ob,MC,"Name");const lF={mapFromDriverValue:t=>t},cF={mapToDriverValue:t=>t};({...lF,...cF});var RC;RC=nt;class $3{constructor(r,e=cF){Re(this,"brand");this.value=r,this.encoder=e}getSQL(){return new Ds([this])}}Re($3,RC,"Param");function mr(t,...r){const e=[];(r.length>0||t.length>0&&t[0]!=="")&&e.push(new Vi(t[0]));for(const[n,s]of r.entries())e.push(s,new Vi(t[n+1]));return new Ds(e)}(t=>{function r(){return new Ds([])}t.empty=r;function e(u){return new Ds(u)}t.fromList=e;function n(u){return new Ds([new Vi(u)])}t.raw=n;function s(u,l){const d=[];for(const[p,f]of u.entries())p>0&&l!==void 0&&d.push(l),d.push(f);return new Ds(d)}t.join=s;function i(u){return new ob(u)}t.identifier=i;function o(u){return new lb(u)}t.placeholder=o;function c(u,l){return new $3(u,l)}t.param=c})(mr||(mr={}));(t=>{var e;e=nt;const n=class n{constructor(i,o){Re(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};Re(n,e,"SQL.Aliased");let r=n;t.Aliased=r})(Ds||(Ds={}));var DC;DC=nt;class lb{constructor(r){this.name=r}getSQL(){return new Ds([this])}}Re(lb,DC,"Placeholder");const uF=Symbol.for("drizzle:IsDrizzleView");var IC,OC,FC;FC=nt,OC=Af,IC=uF;class dF{constructor({name:r,schema:e,selectedFields:n,query:s}){Re(this,OC);Re(this,IC,!0);this[Af]={name:r,originalName:r,schema:e,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Ds([this])}}Re(dF,FC,"View");function $de(t){return typeof t=="object"&&t!==null&&uF in t}hh.prototype.getSQL=function(){return new Ds([this])};bi.prototype.getSQL=function(){return new Ds([this])};B3.prototype.getSQL=function(){return new Ds([this])};function zde(t){return t[bi.Symbol.Columns]}function Vde(t){return t[Af].selectedFields}function Xs(t,r){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:r}}var LC,BC;class v0 extends(BC=tn,LC=nt,BC){generatedAlwaysAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"always",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:e,...n}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:e,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Re(v0,LC,"PgIntColumnBaseBuilder");var $C,zC;class fF extends(zC=v0,$C=nt,zC){constructor(r){super(r,"number","PgBigInt53")}build(r){return new hF(r,this.config)}}Re(fF,$C,"PgBigInt53Builder");var VC,UC;class hF extends(UC=Fr,VC=nt,UC){getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}Re(hF,VC,"PgBigInt53");var WC,qC;class pF extends(qC=v0,WC=nt,qC){constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new mF(r,this.config)}}Re(pF,WC,"PgBigInt64Builder");var HC,KC;class mF extends(KC=Fr,HC=nt,KC){getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}Re(mF,HC,"PgBigInt64");function Ude(t,r){const{name:e,config:n}=Xs(t,r);return n.mode==="number"?new fF(e):new pF(e)}var GC,XC;class gF extends(XC=tn,GC=nt,XC){constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new yF(r,this.config)}}Re(gF,GC,"PgBigSerial53Builder");var QC,YC;class yF extends(YC=Fr,QC=nt,YC){getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}Re(yF,QC,"PgBigSerial53");var ZC,JC;class bF extends(JC=tn,ZC=nt,JC){constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new xF(r,this.config)}}Re(bF,ZC,"PgBigSerial64Builder");var eT,tT;class xF extends(tT=Fr,eT=nt,tT){getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}Re(xF,eT,"PgBigSerial64");function Wde(t,r){const{name:e,config:n}=Xs(t,r);return n.mode==="number"?new gF(e):new bF(e)}var rT,nT;class vF extends(nT=tn,rT=nt,nT){constructor(r){super(r,"boolean","PgBoolean")}build(r){return new wF(r,this.config)}}Re(vF,rT,"PgBooleanBuilder");var sT,aT;class wF extends(aT=Fr,sT=nt,aT){getSQLType(){return"boolean"}}Re(wF,sT,"PgBoolean");function Ar(t){return new vF(t??"")}var iT,oT;class _F extends(oT=tn,iT=nt,oT){constructor(r,e){super(r,"string","PgChar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new kF(r,this.config)}}Re(_F,iT,"PgCharBuilder");var lT,cT;class kF extends(cT=Fr,lT=nt,cT){constructor(){super(...arguments);Re(this,"length",this.config.length);Re(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Re(kF,lT,"PgChar");function qde(t,r={}){const{name:e,config:n}=Xs(t,r);return new _F(e,n)}var uT,dT;class jF extends(dT=tn,uT=nt,dT){constructor(r){super(r,"string","PgCidr")}build(r){return new SF(r,this.config)}}Re(jF,uT,"PgCidrBuilder");var fT,hT;class SF extends(hT=Fr,fT=nt,hT){getSQLType(){return"cidr"}}Re(SF,fT,"PgCidr");function Hde(t){return new jF(t??"")}var pT,mT;class NF extends(mT=tn,pT=nt,mT){constructor(r,e,n){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=e,this.config.customTypeParams=n}build(r){return new CF(r,this.config)}}Re(NF,pT,"PgCustomColumnBuilder");var gT,yT;class CF extends(yT=Fr,gT=nt,yT){constructor(e,n){super(e,n);Re(this,"sqlName");Re(this,"mapTo");Re(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}Re(CF,gT,"PgCustomColumn");function Kde(t){return(r,e)=>{const{name:n,config:s}=Xs(r,e);return new NF(n,s,t)}}var bT,xT;class Rh extends(xT=tn,bT=nt,xT){defaultNow(){return this.default(mr`now()`)}}Re(Rh,bT,"PgDateColumnBaseBuilder");var vT,wT;class TF extends(wT=Rh,vT=nt,wT){constructor(r){super(r,"date","PgDate")}build(r){return new EF(r,this.config)}}Re(TF,vT,"PgDateBuilder");var _T,kT;class EF extends(kT=Fr,_T=nt,kT){getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}Re(EF,_T,"PgDate");var jT,ST;class AF extends(ST=Rh,jT=nt,ST){constructor(r){super(r,"string","PgDateString")}build(r){return new PF(r,this.config)}}Re(AF,jT,"PgDateStringBuilder");var NT,CT;class PF extends(CT=Fr,NT=nt,CT){getSQLType(){return"date"}}Re(PF,NT,"PgDateString");function nu(t,r){const{name:e,config:n}=Xs(t,r);return n?.mode==="date"?new TF(e):new AF(e)}var TT,ET;class MF extends(ET=tn,TT=nt,ET){constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new RF(r,this.config)}}Re(MF,TT,"PgDoublePrecisionBuilder");var AT,PT;class RF extends(PT=Fr,AT=nt,PT){getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}Re(RF,AT,"PgDoublePrecision");function Gde(t){return new MF(t??"")}var MT,RT;class DF extends(RT=tn,MT=nt,RT){constructor(r){super(r,"string","PgInet")}build(r){return new IF(r,this.config)}}Re(DF,MT,"PgInetBuilder");var DT,IT;class IF extends(IT=Fr,DT=nt,IT){getSQLType(){return"inet"}}Re(IF,DT,"PgInet");function Dh(t){return new DF(t??"")}var OT,FT;class OF extends(FT=v0,OT=nt,FT){constructor(r){super(r,"number","PgInteger")}build(r){return new FF(r,this.config)}}Re(OF,OT,"PgIntegerBuilder");var LT,BT;class FF extends(BT=Fr,LT=nt,BT){getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}Re(FF,LT,"PgInteger");function ar(t){return new OF(t??"")}var $T,zT;class LF extends(zT=tn,$T=nt,zT){constructor(r,e){super(r,"string","PgInterval"),this.config.intervalConfig=e}build(r){return new BF(r,this.config)}}Re(LF,$T,"PgIntervalBuilder");var VT,UT;class BF extends(UT=Fr,VT=nt,UT){constructor(){super(...arguments);Re(this,"fields",this.config.intervalConfig.fields);Re(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}Re(BF,VT,"PgInterval");function Xde(t,r={}){const{name:e,config:n}=Xs(t,r);return new LF(e,n)}var WT,qT;class $F extends(qT=tn,WT=nt,qT){constructor(r){super(r,"json","PgJson")}build(r){return new zF(r,this.config)}}Re($F,WT,"PgJsonBuilder");var HT,KT;class zF extends(KT=Fr,HT=nt,KT){constructor(r,e){super(r,e)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}Re(zF,HT,"PgJson");function Qde(t){return new $F(t??"")}var GT,XT;class VF extends(XT=tn,GT=nt,XT){constructor(r){super(r,"json","PgJsonb")}build(r){return new UF(r,this.config)}}Re(VF,GT,"PgJsonbBuilder");var QT,YT;class UF extends(YT=Fr,QT=nt,YT){constructor(r,e){super(r,e)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}Re(UF,QT,"PgJsonb");function jn(t){return new VF(t??"")}var ZT,JT;class WF extends(JT=tn,ZT=nt,JT){constructor(r){super(r,"array","PgLine")}build(r){return new qF(r,this.config)}}Re(WF,ZT,"PgLineBuilder");var eE,tE;class qF extends(tE=Fr,eE=nt,tE){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}Re(qF,eE,"PgLine");var rE,nE;class HF extends(nE=tn,rE=nt,nE){constructor(r){super(r,"json","PgLineABC")}build(r){return new KF(r,this.config)}}Re(HF,rE,"PgLineABCBuilder");var sE,aE;class KF extends(aE=Fr,sE=nt,aE){getSQLType(){return"line"}mapFromDriverValue(r){const[e,n,s]=r.slice(1,-1).split(",");return{a:Number.parseFloat(e),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}Re(KF,sE,"PgLineABC");function Yde(t,r){const{name:e,config:n}=Xs(t,r);return!n?.mode||n.mode==="tuple"?new WF(e):new HF(e)}var iE,oE;class GF extends(oE=tn,iE=nt,oE){constructor(r){super(r,"string","PgMacaddr")}build(r){return new XF(r,this.config)}}Re(GF,iE,"PgMacaddrBuilder");var lE,cE;class XF extends(cE=Fr,lE=nt,cE){getSQLType(){return"macaddr"}}Re(XF,lE,"PgMacaddr");function Zde(t){return new GF(t??"")}var uE,dE;class QF extends(dE=tn,uE=nt,dE){constructor(r){super(r,"string","PgMacaddr8")}build(r){return new YF(r,this.config)}}Re(QF,uE,"PgMacaddr8Builder");var fE,hE;class YF extends(hE=Fr,fE=nt,hE){getSQLType(){return"macaddr8"}}Re(YF,fE,"PgMacaddr8");function Jde(t){return new QF(t??"")}var pE,mE;class ZF extends(mE=tn,pE=nt,mE){constructor(r,e,n){super(r,"string","PgNumeric"),this.config.precision=e,this.config.scale=n}build(r){return new JF(r,this.config)}}Re(ZF,pE,"PgNumericBuilder");var gE,yE;class JF extends(yE=Fr,gE=nt,yE){constructor(e,n){super(e,n);Re(this,"precision");Re(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Re(JF,gE,"PgNumeric");function eL(t,r){const{name:e,config:n}=Xs(t,r);return new ZF(e,n?.precision,n?.scale)}const fr=eL;var bE,xE;class tL extends(xE=tn,bE=nt,xE){constructor(r){super(r,"array","PgPointTuple")}build(r){return new rL(r,this.config)}}Re(tL,bE,"PgPointTupleBuilder");var vE,wE;class rL extends(wE=Fr,vE=nt,wE){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return[Number.parseFloat(e),Number.parseFloat(n)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}Re(rL,vE,"PgPointTuple");var _E,kE;class nL extends(kE=tn,_E=nt,kE){constructor(r){super(r,"json","PgPointObject")}build(r){return new sL(r,this.config)}}Re(nL,_E,"PgPointObjectBuilder");var jE,SE;class sL extends(SE=Fr,jE=nt,SE){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[e,n]=r.slice(1,-1).split(",");return{x:Number.parseFloat(e),y:Number.parseFloat(n)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}Re(sL,jE,"PgPointObject");function efe(t,r){const{name:e,config:n}=Xs(t,r);return!n?.mode||n.mode==="tuple"?new tL(e):new nL(e)}function tfe(t){const r=[];for(let e=0;e<t.length;e+=2)r.push(Number.parseInt(t.slice(e,e+2),16));return new Uint8Array(r)}function HN(t,r){const e=new ArrayBuffer(8),n=new DataView(e);for(let s=0;s<8;s++)n.setUint8(s,t[r+s]);return n.getFloat64(0,!0)}function aL(t){const r=tfe(t);let e=0;const n=r[e];e+=1;const s=new DataView(r.buffer),i=s.getUint32(e,n===1);if(e+=4,i&536870912&&(s.getUint32(e,n===1),e+=4),(i&65535)===1){const o=HN(r,e);e+=8;const c=HN(r,e);return e+=8,[o,c]}throw new Error("Unsupported geometry type")}var NE,CE;class iL extends(CE=tn,NE=nt,CE){constructor(r){super(r,"array","PgGeometry")}build(r){return new oL(r,this.config)}}Re(iL,NE,"PgGeometryBuilder");var TE,EE;class oL extends(EE=Fr,TE=nt,EE){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return aL(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}Re(oL,TE,"PgGeometry");var AE,PE;class lL extends(PE=tn,AE=nt,PE){constructor(r){super(r,"json","PgGeometryObject")}build(r){return new cL(r,this.config)}}Re(lL,AE,"PgGeometryObjectBuilder");var ME,RE;class cL extends(RE=Fr,ME=nt,RE){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const e=aL(r);return{x:e[0],y:e[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}Re(cL,ME,"PgGeometryObject");function rfe(t,r){const{name:e,config:n}=Xs(t,r);return!n?.mode||n.mode==="tuple"?new iL(e):new lL(e)}var DE,IE;class uL extends(IE=tn,DE=nt,IE){constructor(r,e){super(r,"number","PgReal"),this.config.length=e}build(r){return new dL(r,this.config)}}Re(uL,DE,"PgRealBuilder");var OE,FE;class dL extends(FE=Fr,OE=nt,FE){constructor(e,n){super(e,n);Re(this,"mapFromDriverValue",e=>typeof e=="string"?Number.parseFloat(e):e)}getSQLType(){return"real"}}Re(dL,OE,"PgReal");function nfe(t){return new uL(t??"")}var LE,BE;class fL extends(BE=tn,LE=nt,BE){constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new hL(r,this.config)}}Re(fL,LE,"PgSerialBuilder");var $E,zE;class hL extends(zE=Fr,$E=nt,zE){getSQLType(){return"serial"}}Re(hL,$E,"PgSerial");function ii(t){return new fL(t??"")}var VE,UE;class pL extends(UE=v0,VE=nt,UE){constructor(r){super(r,"number","PgSmallInt")}build(r){return new mL(r,this.config)}}Re(pL,VE,"PgSmallIntBuilder");var WE,qE;class mL extends(qE=Fr,WE=nt,qE){constructor(){super(...arguments);Re(this,"mapFromDriverValue",e=>typeof e=="string"?Number(e):e)}getSQLType(){return"smallint"}}Re(mL,WE,"PgSmallInt");function sfe(t){return new pL(t??"")}var HE,KE;class gL extends(KE=tn,HE=nt,KE){constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new yL(r,this.config)}}Re(gL,HE,"PgSmallSerialBuilder");var GE,XE;class yL extends(XE=Fr,GE=nt,XE){getSQLType(){return"smallserial"}}Re(yL,GE,"PgSmallSerial");function afe(t){return new gL(t??"")}var QE,YE;class bL extends(YE=tn,QE=nt,YE){constructor(r,e){super(r,"string","PgText"),this.config.enumValues=e.enum}build(r){return new xL(r,this.config)}}Re(bL,QE,"PgTextBuilder");var ZE,JE;class xL extends(JE=Fr,ZE=nt,JE){constructor(){super(...arguments);Re(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Re(xL,ZE,"PgText");function Pe(t,r={}){const{name:e,config:n}=Xs(t,r);return new bL(e,n)}var e9,t9;class vL extends(t9=Rh,e9=nt,t9){constructor(r,e,n){super(r,"string","PgTime"),this.withTimezone=e,this.precision=n,this.config.withTimezone=e,this.config.precision=n}build(r){return new wL(r,this.config)}}Re(vL,e9,"PgTimeBuilder");var r9,n9;class wL extends(n9=Fr,r9=nt,n9){constructor(e,n){super(e,n);Re(this,"withTimezone");Re(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Re(wL,r9,"PgTime");function ife(t,r={}){const{name:e,config:n}=Xs(t,r);return new vL(e,n.withTimezone??!1,n.precision)}var s9,a9;class _L extends(a9=Rh,s9=nt,a9){constructor(r,e,n){super(r,"date","PgTimestamp"),this.config.withTimezone=e,this.config.precision=n}build(r){return new kL(r,this.config)}}Re(_L,s9,"PgTimestampBuilder");var i9,o9;class kL extends(o9=Fr,i9=nt,o9){constructor(e,n){super(e,n);Re(this,"withTimezone");Re(this,"precision");Re(this,"mapFromDriverValue",e=>new Date(this.withTimezone?e:e+"+0000"));Re(this,"mapToDriverValue",e=>e.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Re(kL,i9,"PgTimestamp");var l9,c9;class jL extends(c9=Rh,l9=nt,c9){constructor(r,e,n){super(r,"string","PgTimestampString"),this.config.withTimezone=e,this.config.precision=n}build(r){return new SL(r,this.config)}}Re(jL,l9,"PgTimestampStringBuilder");var u9,d9;class SL extends(d9=Fr,u9=nt,d9){constructor(e,n){super(e,n);Re(this,"withTimezone");Re(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Re(SL,u9,"PgTimestampString");function at(t,r={}){const{name:e,config:n}=Xs(t,r);return n?.mode==="string"?new jL(e,n.withTimezone??!1,n.precision):new _L(e,n?.withTimezone??!1,n?.precision)}var f9,h9;class NL extends(h9=tn,f9=nt,h9){constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(mr`gen_random_uuid()`)}build(r){return new CL(r,this.config)}}Re(NL,f9,"PgUUIDBuilder");var p9,m9;class CL extends(m9=Fr,p9=nt,m9){getSQLType(){return"uuid"}}Re(CL,p9,"PgUUID");function su(t){return new NL(t??"")}var g9,y9;class TL extends(y9=tn,g9=nt,y9){constructor(r,e){super(r,"string","PgVarchar"),this.config.length=e.length,this.config.enumValues=e.enum}build(r){return new EL(r,this.config)}}Re(TL,g9,"PgVarcharBuilder");var b9,x9;class EL extends(x9=Fr,b9=nt,x9){constructor(){super(...arguments);Re(this,"length",this.config.length);Re(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Re(EL,b9,"PgVarchar");function ze(t,r={}){const{name:e,config:n}=Xs(t,r);return new TL(e,n)}var v9,w9;class AL extends(w9=tn,v9=nt,w9){constructor(r,e){super(r,"string","PgBinaryVector"),this.config.dimensions=e.dimensions}build(r){return new PL(r,this.config)}}Re(AL,v9,"PgBinaryVectorBuilder");var _9,k9;class PL extends(k9=Fr,_9=nt,k9){constructor(){super(...arguments);Re(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Re(PL,_9,"PgBinaryVector");function ofe(t,r){const{name:e,config:n}=Xs(t,r);return new AL(e,n)}var j9,S9;class ML extends(S9=tn,j9=nt,S9){constructor(r,e){super(r,"array","PgHalfVector"),this.config.dimensions=e.dimensions}build(r){return new RL(r,this.config)}}Re(ML,j9,"PgHalfVectorBuilder");var N9,C9;class RL extends(C9=Fr,N9=nt,C9){constructor(){super(...arguments);Re(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Re(RL,N9,"PgHalfVector");function lfe(t,r){const{name:e,config:n}=Xs(t,r);return new ML(e,n)}var T9,E9;class DL extends(E9=tn,T9=nt,E9){constructor(r,e){super(r,"string","PgSparseVector"),this.config.dimensions=e.dimensions}build(r){return new IL(r,this.config)}}Re(DL,T9,"PgSparseVectorBuilder");var A9,P9;class IL extends(P9=Fr,A9=nt,P9){constructor(){super(...arguments);Re(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Re(IL,A9,"PgSparseVector");function cfe(t,r){const{name:e,config:n}=Xs(t,r);return new DL(e,n)}var M9,R9;class OL extends(R9=tn,M9=nt,R9){constructor(r,e){super(r,"array","PgVector"),this.config.dimensions=e.dimensions}build(r){return new FL(r,this.config)}}Re(OL,M9,"PgVectorBuilder");var D9,I9;class FL extends(I9=Fr,D9=nt,I9){constructor(){super(...arguments);Re(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}Re(FL,D9,"PgVector");function ufe(t,r){const{name:e,config:n}=Xs(t,r);return new OL(e,n)}function dfe(){return{bigint:Ude,bigserial:Wde,boolean:Ar,char:qde,cidr:Hde,customType:Kde,date:nu,doublePrecision:Gde,inet:Dh,integer:ar,interval:Xde,json:Qde,jsonb:jn,line:Yde,macaddr:Zde,macaddr8:Jde,numeric:eL,point:efe,geometry:rfe,real:nfe,serial:ii,smallint:sfe,smallserial:afe,text:Pe,time:ife,timestamp:at,uuid:su,varchar:ze,bit:ofe,halfvec:lfe,sparsevec:cfe,vector:ufe}}const K2=Symbol.for("drizzle:PgInlineForeignKeys"),KN=Symbol.for("drizzle:EnableRLS");var O9,F9,L9,B9,$9;class qp extends($9=bi,B9=nt,L9=K2,F9=KN,O9=bi.Symbol.ExtraConfigBuilder,$9){constructor(){super(...arguments);Re(this,L9,[]);Re(this,F9,!1);Re(this,O9)}}Re(qp,B9,"PgTable"),Re(qp,"Symbol",Object.assign({},bi.Symbol,{InlineForeignKeys:K2,EnableRLS:KN}));function ffe(t,r,e,n,s=t){const i=new qp(t,n,s),o=typeof r=="function"?r(dfe()):r,c=Object.fromEntries(Object.entries(o).map(([d,p])=>{const f=p;f.setName(d);const h=f.build(i);return i[K2].push(...f.buildForeignKeys(h,i)),[d,h]})),u=Object.fromEntries(Object.entries(o).map(([d,p])=>{const f=p;f.setName(d);const h=f.buildExtraConfigColumn(i);return[d,h]})),l=Object.assign(i,c);return l[bi.Symbol.Columns]=c,l[bi.Symbol.ExtraConfigColumns]=u,e&&(l[qp.Symbol.ExtraConfigBuilder]=e),Object.assign(l,{enableRLS:()=>(l[qp.Symbol.EnableRLS]=!0,l)})}const ur=(t,r,e)=>ffe(t,r,e,void 0),Un={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function os(t,r){return r.includes(t.columnType)}function hfe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const pfe=Z_([Kr(),Y_(),Fb(),dP()]),mfe=Z_([pfe,hP(By()),fP(By())]),gfe=Q_(t=>t instanceof Buffer);function LL(t,r){const e=r?.zodInstance??aQ,n=r?.coerce??{};let s;return hfe(t)&&(s=t.enumValues.length?e.enum(t.enumValues):e.string()),s||(os(t,["PgGeometry","PgPointTuple"])?s=e.tuple([e.number(),e.number()]):os(t,["PgGeometryObject","PgPointObject"])?s=e.object({x:e.number(),y:e.number()}):os(t,["PgHalfVector","PgVector"])?(s=e.array(e.number()),s=t.dimensions?s.length(t.dimensions):s):os(t,["PgLine"])?s=e.tuple([e.number(),e.number(),e.number()]):os(t,["PgLineABC"])?s=e.object({a:e.number(),b:e.number(),c:e.number()}):os(t,["PgArray"])?(s=e.array(LL(t.baseColumn,e)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=e.array(e.any()):t.dataType==="number"?s=yfe(t,e,n):t.dataType==="bigint"?s=bfe(t,e,n):t.dataType==="boolean"?s=n===!0||n.boolean?e.coerce.boolean():e.boolean():t.dataType==="date"?s=n===!0||n.date?e.coerce.date():e.date():t.dataType==="string"?s=xfe(t,e,n):t.dataType==="json"?s=mfe:t.dataType==="custom"?s=e.any():t.dataType==="buffer"&&(s=gfe)),s||(s=e.any()),s}function yfe(t,r,e){let n=t.getSQLType().includes("unsigned"),s,i,o=!1;os(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:Un.INT8_MIN,i=n?Un.INT8_UNSIGNED_MAX:Un.INT8_MAX,o=!0):os(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:Un.INT16_MIN,i=n?Un.INT16_UNSIGNED_MAX:Un.INT16_MAX,o=!0):os(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:Un.INT24_MIN,i=n?Un.INT24_UNSIGNED_MAX:Un.INT24_MAX,o=os(t,["MySqlMediumInt","SingleStoreMediumInt"])):os(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:Un.INT32_MIN,i=n?Un.INT32_UNSIGNED_MAX:Un.INT32_MAX,o=!0):os(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:Un.INT48_MIN,i=n?Un.INT48_UNSIGNED_MAX:Un.INT48_MAX):os(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||os(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):os(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let c=e===!0||e?.number?r.coerce.number():r.number();return c=c.min(s).max(i),o?c.int():c}function bfe(t,r,e){const n=t.getSQLType().includes("unsigned"),s=n?0n:Un.INT64_MIN,i=n?Un.INT64_UNSIGNED_MAX:Un.INT64_MAX;return(e===!0||e?.bigint?r.coerce.bigint():r.bigint()).min(s).max(i)}function xfe(t,r,e){if(os(t,["PgUUID"]))return r.string().uuid();let n,s,i=!1;os(t,["PgVarchar","SQLiteText"])?n=t.length:os(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Un.INT16_UNSIGNED_MAX:os(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Un.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Un.INT24_UNSIGNED_MAX:t.textType==="text"?n=Un.INT16_UNSIGNED_MAX:n=Un.INT8_UNSIGNED_MAX),os(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),os(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=e===!0||e?.string?r.coerce.string():r.string();return o=s?o.regex(s):o,n&&i?o.length(n):n?o.max(n):o}function BL(t){return oF(t)?zde(t):Vde(t)}function $L(t,r,e,n){const s={};for(const[i,o]of Object.entries(t)){if(!ra(o,hh)&&!ra(o,Ds)&&!ra(o,Ds.Aliased)&&typeof o=="object"){const p=oF(o)||$de(o)?BL(o):o;s[i]=$L(p,r[i]??{},e,n);continue}const c=r[i];if(c!==void 0&&typeof c!="function"){s[i]=c;continue}const u=ra(o,hh)?o:void 0,l=u?LL(u,n):By(),d=typeof c=="function"?c(l):l;e.never(u)||(s[i]=d,u&&(e.nullable(u)&&(s[i]=s[i].nullable()),e.optional(u)&&(s[i]=s[i].optional())))}return jd(s)}const vfe={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Sr=(t,r)=>{const e=BL(t);return $L(e,{},vfe)},mx={isLocal:Ar("is_local").default(!1),synced:Ar("synced").default(!0),pendingSync:Ar("pending_sync").default(!1),version:ar("version").default(1).notNull(),lastModifiedBy:ze("last_modified_by")},Xn=ur("users",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),email:Pe("email").notNull().unique(),password:Pe("password").notNull(),passwordAlgo:Pe("password_algo").default("argon2id").notNull(),firstName:Pe("first_name"),lastName:Pe("last_name"),fullName:Pe("full_name"),phone:Pe("phone"),birthDate:Pe("birth_date"),birthPlace:Pe("birth_place"),gender:Pe("gender"),role:Pe("role").notNull().default("admin"),isActive:Ar("is_active").default(!0).notNull(),emailVerifiedAt:at("email_verified_at"),totpSecret:Pe("totp_secret"),mfaEnabled:Ar("mfa_enabled").default(!1).notNull(),fcmToken:Pe("fcm_token"),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull(),lastLogin:at("last_login"),refreshTokenHash:Pe("refresh_token_hash"),refreshTokenExpiresAt:at("refresh_token_expires_at"),isLocal:Ar("is_local").default(!1),synced:Ar("synced").default(!0),pendingSync:Ar("pending_sync").default(!1),version:ar("version").default(1).notNull(),lastModifiedBy:ze("last_modified_by")},t=>({})),wfe=ur("refresh_tokens",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id,{onDelete:"cascade"}),tokenHash:Pe("token_hash").notNull(),replacedBy:su("replaced_by"),revoked:Ar("revoked").default(!1).notNull(),expiresAt:at("expires_at").notNull(),ipAddress:Pe("ip_address"),userAgent:Pe("user_agent"),deviceFingerprint:Pe("device_fingerprint"),createdAt:at("created_at").defaultNow().notNull()}),_fe=ur("audit_logs",{id:ii("id").primaryKey(),userId:ze("user_id").references(()=>Xn.id),action:Pe("action").notNull(),meta:jn("meta"),ipAddress:Pe("ip_address"),createdAt:at("created_at").defaultNow().notNull()});ur("emergency_users",{id:ze("id").primaryKey(),email:Pe("email").notNull().unique(),password:Pe("password").notNull(),name:Pe("name").notNull(),role:Pe("role").notNull().default("admin"),createdAt:at("created_at").defaultNow().notNull()});const kfe=ur("tasks",{id:ii("id").primaryKey(),title:Pe("title").notNull(),description:Pe("description"),completed:Ar("completed").notNull().default(!1),createdAt:at("created_at").defaultNow().notNull()});Sr(kfe).omit({id:!0,createdAt:!0});const jfe=ur("auth_user_sessions",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id),sessionToken:ze("session_token"),deviceFingerprint:ze("device_fingerprint"),userAgent:Pe("user_agent"),ipAddress:Dh("ip_address"),locationData:jn("location_data"),isTrustedDevice:Ar("is_trusted_device").default(!1).notNull(),expiresAt:at("expires_at").notNull(),lastActivity:at("last_activity").defaultNow(),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull(),deviceId:ze("device_id"),deviceName:ze("device_name"),browserName:ze("browser_name"),browserVersion:ze("browser_version"),osName:ze("os_name"),osVersion:ze("os_version"),country:ze("country"),city:ze("city"),timezone:ze("timezone"),loginMethod:ze("login_method"),securityFlags:jn("security_flags"),deviceType:ze("device_type"),refreshTokenHash:Pe("refresh_token_hash"),accessTokenHash:Pe("access_token_hash"),isRevoked:Ar("is_revoked").default(!1).notNull(),revokedAt:at("revoked_at",{withTimezone:!0}),revokedReason:ze("revoked_reason")});ur("email_verification_tokens",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id),email:Pe("email").notNull(),token:ze("token").notNull().unique(),tokenHash:ze("token_hash").notNull(),verificationLink:Pe("verification_link").notNull(),expiresAt:at("expires_at").notNull(),verifiedAt:at("verified_at"),createdAt:at("created_at").defaultNow().notNull(),ipAddress:Dh("ip_address"),userAgent:Pe("user_agent"),attemptsCount:ar("attempts_count").default(0).notNull()});ur("password_reset_tokens",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id),token:ze("token").notNull().unique(),tokenHash:ze("token_hash").notNull(),expiresAt:at("expires_at").notNull(),usedAt:at("used_at"),createdAt:at("created_at").defaultNow().notNull(),ipAddress:Dh("ip_address"),userAgent:Pe("user_agent")});const zL=ur("project_types",{id:ii("id").primaryKey(),name:ze("name",{length:100}).notNull().unique(),description:Pe("description"),isActive:Ar("is_active").default(!0).notNull(),createdAt:at("created_at").defaultNow().notNull(),...mx},t=>({uniqueProjectTypeName:mr`UNIQUE ("name")`})),ds=ur("projects",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),name:Pe("name").notNull(),description:Pe("description"),location:Pe("location"),clientName:Pe("client_name"),budget:fr("budget",{precision:15,scale:2}),startDate:nu("start_date"),endDate:nu("end_date"),status:Pe("status").notNull().default("active"),engineerId:ze("engineer_id"),managerName:Pe("manager_name"),contactPhone:Pe("contact_phone"),notes:Pe("notes"),imageUrl:Pe("image_url"),projectTypeId:ar("project_type_id").references(()=>zL.id,{onDelete:"set null"}),isActive:Ar("is_active").default(!0).notNull(),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull(),...mx},t=>({uniqueProjectName:mr`UNIQUE ("name")`})),Ed=ur("workers",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),name:Pe("name").notNull(),type:Pe("type").notNull(),dailyWage:fr("daily_wage",{precision:15,scale:2}).notNull(),phone:Pe("phone"),hireDate:Pe("hire_date"),isActive:Ar("is_active").default(!0).notNull(),createdAt:at("created_at").defaultNow().notNull(),...mx},t=>({uniqueWorkerName:mr`UNIQUE ("name")`})),Zl=ur("wells",{id:ii("id").primaryKey(),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),wellNumber:ar("well_number").notNull(),ownerName:Pe("owner_name").notNull(),region:ze("region",{length:100}).notNull(),numberOfBases:ar("number_of_bases").notNull(),baseCount:ar("base_count"),numberOfPanels:ar("number_of_panels").notNull(),panelCount:ar("panel_count"),wellDepth:ar("well_depth").notNull(),waterLevel:ar("water_level"),numberOfPipes:ar("number_of_pipes").notNull(),pipeCount:ar("pipe_count"),fanType:ze("fan_type",{length:100}),pumpPower:ar("pump_power"),status:Pe("status").notNull().default("pending"),completionPercentage:fr("completion_percentage",{precision:5,scale:2}).default("0").notNull(),startDate:nu("start_date"),completionDate:nu("completion_date"),notes:Pe("notes"),createdBy:ze("created_by").notNull().references(()=>Xn.id),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull(),...mx},t=>({uniqueWellNumberInProject:mr`UNIQUE (project_id, well_number)`})),Sfe=ur("fund_transfers",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),amount:fr("amount",{precision:15,scale:2}).notNull(),senderName:Pe("sender_name"),transferNumber:Pe("transfer_number").unique(),transferType:Pe("transfer_type").notNull(),transferDate:Pe("transfer_date").notNull(),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull()}),Nfe=ur("worker_attendance",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),workerId:ze("worker_id").notNull().references(()=>Ed.id,{onDelete:"cascade"}),attendanceDate:Pe("attendance_date").notNull(),date:Pe("date"),startTime:Pe("start_time"),endTime:Pe("end_time"),workDescription:Pe("work_description"),isPresent:Ar("is_present"),hoursWorked:fr("hours_worked",{precision:5,scale:2}).default("8.00"),overtime:fr("overtime",{precision:5,scale:2}).default("0.00"),overtimeRate:fr("overtime_rate",{precision:15,scale:2}).default("0.00"),workDays:fr("work_days",{precision:10,scale:2}).default("0.00"),dailyWage:fr("daily_wage",{precision:15,scale:2}).notNull(),actualWage:fr("actual_wage",{precision:15,scale:2}),totalPay:fr("total_pay",{precision:15,scale:2}).notNull(),paidAmount:fr("paid_amount",{precision:15,scale:2}).default("0"),remainingAmount:fr("remaining_amount",{precision:15,scale:2}).default("0"),paymentType:Pe("payment_type").default("partial"),notes:Pe("notes"),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),createdAt:at("created_at").defaultNow().notNull()},t=>({uniqueWorkerDate:mr`UNIQUE (worker_id, attendance_date, project_id)`})),z3=ur("suppliers",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),name:Pe("name").notNull().unique(),contactPerson:Pe("contact_person"),phone:Pe("phone"),address:Pe("address"),paymentTerms:Pe("payment_terms").default(""),totalDebt:fr("total_debt",{precision:12,scale:2}).default("0").notNull(),isActive:Ar("is_active").default(!0).notNull(),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull()}),VL=ur("materials",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),name:Pe("name").notNull(),category:Pe("category").notNull(),unit:Pe("unit").notNull(),createdAt:at("created_at").defaultNow().notNull()}),UL=ur("material_purchases",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),supplierId:ze("supplier_id").references(()=>z3.id,{onDelete:"set null"}),materialId:ze("material_id").references(()=>VL.id,{onDelete:"set null"}),materialName:Pe("material_name").notNull(),materialCategory:Pe("material_category"),materialUnit:Pe("material_unit"),quantity:fr("quantity",{precision:10,scale:3}).notNull(),unit:Pe("unit").notNull(),unitPrice:fr("unit_price",{precision:15,scale:2}).notNull(),totalAmount:fr("total_amount",{precision:15,scale:2}).notNull(),purchaseType:Pe("purchase_type").notNull().default(""),paidAmount:fr("paid_amount",{precision:15,scale:2}).default("0").notNull(),remainingAmount:fr("remaining_amount",{precision:15,scale:2}).default("0").notNull(),supplierName:Pe("supplier_name"),receiptNumber:Pe("receipt_number"),invoiceNumber:Pe("invoice_number"),invoiceDate:Pe("invoice_date"),dueDate:Pe("due_date"),invoicePhoto:Pe("invoice_photo"),notes:Pe("notes"),purchaseDate:Pe("purchase_date").notNull(),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),createdAt:at("created_at").defaultNow().notNull()},t=>({uniqueInvoice:mr`UNIQUE (project_id, supplier_id, invoice_number, purchase_date)`})),Cfe=ur("supplier_payments",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),supplierId:ze("supplier_id").notNull().references(()=>z3.id,{onDelete:"cascade"}),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),purchaseId:ze("purchase_id").references(()=>UL.id,{onDelete:"set null"}),amount:fr("amount",{precision:15,scale:2}).notNull(),paymentMethod:Pe("payment_method").notNull().default(""),paymentDate:Pe("payment_date").notNull(),referenceNumber:Pe("reference_number"),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull()}),Tfe=ur("transportation_expenses",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),workerId:ze("worker_id").references(()=>Ed.id,{onDelete:"set null"}),amount:fr("amount",{precision:15,scale:2}).notNull(),description:Pe("description").notNull(),category:Pe("category").notNull().default("other"),date:Pe("date").notNull(),notes:Pe("notes"),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),createdAt:at("created_at").defaultNow().notNull()}),Efe=ur("worker_transfers",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),workerId:ze("worker_id").notNull().references(()=>Ed.id,{onDelete:"cascade"}),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),amount:fr("amount",{precision:15,scale:2}).notNull(),transferNumber:Pe("transfer_number"),senderName:Pe("sender_name"),recipientName:Pe("recipient_name").notNull(),recipientPhone:Pe("recipient_phone"),transferMethod:Pe("transfer_method").notNull(),transferDate:Pe("transfer_date").notNull(),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull()}),Afe=ur("worker_balances",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),workerId:ze("worker_id").notNull().references(()=>Ed.id,{onDelete:"cascade"}),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),totalEarned:fr("total_earned",{precision:15,scale:2}).default("0").notNull(),totalPaid:fr("total_paid",{precision:15,scale:2}).default("0").notNull(),totalTransferred:fr("total_transferred",{precision:15,scale:2}).default("0").notNull(),currentBalance:fr("current_balance",{precision:15,scale:2}).default("0").notNull(),lastUpdated:at("last_updated").defaultNow().notNull(),createdAt:at("created_at").defaultNow().notNull()}),Pfe=ur("daily_activity_logs",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),engineerId:ze("engineer_id").notNull().references(()=>Xn.id),logDate:Pe("log_date").notNull(),activityTitle:Pe("activity_title").notNull(),description:Pe("description"),progressPercentage:ar("progress_percentage").default(0),weatherConditions:Pe("weather_conditions"),temperature:ar("temperature"),humidity:ar("humidity"),images:jn("images").default([]),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()});Sr(Pfe).omit({id:!0,createdAt:!0,updatedAt:!0});const Ad=Kr().regex(/^\d{4}-\d{2}-\d{2}$/,"     YYYY-MM-DD"),Mfe=ur("daily_expense_summaries",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),date:Pe("date").notNull(),carriedForwardAmount:fr("carried_forward_amount",{precision:15,scale:2}).default("0").notNull(),totalFundTransfers:fr("total_fund_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerWages:fr("total_worker_wages",{precision:15,scale:2}).default("0").notNull(),totalMaterialCosts:fr("total_material_costs",{precision:15,scale:2}).default("0").notNull(),totalTransportationCosts:fr("total_transportation_costs",{precision:15,scale:2}).default("0").notNull(),totalWorkerTransfers:fr("total_worker_transfers",{precision:15,scale:2}).default("0").notNull(),totalWorkerMiscExpenses:fr("total_worker_misc_expenses",{precision:15,scale:2}).default("0").notNull(),totalIncome:fr("total_income",{precision:15,scale:2}).notNull(),totalExpenses:fr("total_expenses",{precision:15,scale:2}).notNull(),remainingBalance:fr("remaining_balance",{precision:15,scale:2}).notNull(),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()}),Rfe=ur("worker_types",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),name:Pe("name").notNull().unique(),usageCount:ar("usage_count").default(1).notNull(),lastUsed:at("last_used").defaultNow().notNull(),createdAt:at("created_at").defaultNow().notNull()}),Dfe=ur("autocomplete_data",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),category:Pe("category").notNull(),value:Pe("value").notNull(),usageCount:ar("usage_count").default(1).notNull(),lastUsed:at("last_used").defaultNow().notNull(),createdAt:at("created_at").defaultNow().notNull()}),Ife=ur("worker_misc_expenses",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),amount:fr("amount",{precision:15,scale:2}).notNull(),description:Pe("description").notNull(),date:Pe("date").notNull(),notes:Pe("notes"),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),createdAt:at("created_at").defaultNow().notNull()}),Ofe=ur("backup_logs",{id:ii("id").primaryKey(),filename:Pe("filename").notNull(),size:fr("size",{precision:15,scale:2}),status:Pe("status").notNull(),destination:Pe("destination").notNull(),errorMessage:Pe("error_message"),triggeredBy:ze("triggered_by").references(()=>Xn.id),createdAt:at("created_at").defaultNow().notNull()}),Ffe=ur("backup_settings",{id:ii("id").primaryKey(),autoBackupEnabled:Ar("auto_backup_enabled").default(!0).notNull(),intervalMinutes:ar("interval_minutes").default(1440).notNull(),telegramNotificationsEnabled:Ar("telegram_notifications_enabled").default(!1).notNull(),gdriveEnabled:Ar("gdrive_enabled").default(!1).notNull(),retentionDays:ar("retention_days").default(30).notNull(),updatedAt:at("updated_at").defaultNow().notNull()});Sr(Ofe);Sr(Ffe);const Lfe=ur("print_settings",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),reportType:Pe("report_type").notNull().default("worker_statement"),name:Pe("name").notNull(),pageSize:Pe("page_size").notNull().default("A4"),pageOrientation:Pe("page_orientation").notNull().default("portrait"),marginTop:fr("margin_top",{precision:5,scale:2}).notNull().default("15.00"),marginBottom:fr("margin_bottom",{precision:5,scale:2}).notNull().default("15.00"),marginLeft:fr("margin_left",{precision:5,scale:2}).notNull().default("15.00"),marginRight:fr("margin_right",{precision:5,scale:2}).notNull().default("15.00"),fontFamily:Pe("font_family").notNull().default("Arial"),fontSize:ar("font_size").notNull().default(12),headerFontSize:ar("header_font_size").notNull().default(16),tableFontSize:ar("table_font_size").notNull().default(10),headerBackgroundColor:Pe("header_background_color").notNull().default("#1e40af"),headerTextColor:Pe("header_text_color").notNull().default("#ffffff"),tableHeaderColor:Pe("table_header_color").notNull().default("#1e40af"),tableRowEvenColor:Pe("table_row_even_color").notNull().default("#ffffff"),tableRowOddColor:Pe("table_row_odd_color").notNull().default("#f9fafb"),tableBorderColor:Pe("table_border_color").notNull().default("#000000"),tableBorderWidth:ar("table_border_width").notNull().default(1),tableCellPadding:ar("table_cell_padding").notNull().default(3),tableColumnWidths:Pe("table_column_widths").notNull().default("[8,12,10,30,12,15,15,12]"),showHeader:Ar("show_header").notNull().default(!0),showLogo:Ar("show_logo").notNull().default(!0),showProjectInfo:Ar("show_project_info").notNull().default(!0),showWorkerInfo:Ar("show_worker_info").notNull().default(!0),showAttendanceTable:Ar("show_attendance_table").notNull().default(!0),showTransfersTable:Ar("show_transfers_table").notNull().default(!0),showSummary:Ar("show_summary").notNull().default(!0),showSignatures:Ar("show_signatures").notNull().default(!0),isDefault:Ar("is_default").notNull().default(!1),isActive:Ar("is_active").notNull().default(!0),userId:Pe("user_id"),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()}),Bfe=ur("project_fund_transfers",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),fromProjectId:ze("from_project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),toProjectId:ze("to_project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),amount:fr("amount",{precision:15,scale:2}).notNull(),description:Pe("description"),transferReason:Pe("transfer_reason"),transferDate:Pe("transfer_date").notNull(),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()}),V3=ur("security_policies",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),policyId:ze("policy_id").notNull().unique(),title:ze("title",{length:500}).notNull(),description:Pe("description"),category:ze("category",{length:100}).notNull(),severity:ze("severity",{length:50}).notNull().default("medium"),status:ze("status",{length:50}).notNull().default("draft"),complianceLevel:ze("compliance_level",{length:100}),requirements:jn("requirements"),implementation:jn("implementation"),checkCriteria:jn("check_criteria"),checkInterval:ar("check_interval"),nextCheck:at("next_check"),violationsCount:ar("violations_count").notNull().default(0),lastViolation:at("last_violation"),createdBy:ze("created_by"),approvedBy:ze("approved_by"),approvedAt:at("approved_at"),createdAt:at("created_at").notNull().defaultNow(),updatedAt:at("updated_at").notNull().defaultNow()});ur("security_policy_suggestions",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),suggestedPolicyId:ze("suggested_policy_id").notNull(),title:ze("title",{length:500}).notNull(),description:Pe("description"),category:ze("category",{length:100}).notNull(),priority:ze("priority",{length:50}).notNull().default("medium"),confidence:ar("confidence").notNull().default(50),reasoning:Pe("reasoning"),estimatedImpact:ze("estimated_impact",{length:500}),implementationEffort:ze("implementation_effort",{length:100}),prerequisites:jn("prerequisites"),sourceType:ze("source_type",{length:100}),sourceData:jn("source_data"),status:ze("status",{length:50}).notNull().default("pending"),reviewedBy:ze("reviewed_by"),reviewedAt:at("reviewed_at"),implementedAs:ze("implemented_as").references(()=>V3.id,{onDelete:"set null"}),implementedAt:at("implemented_at"),createdAt:at("created_at").notNull().defaultNow(),updatedAt:at("updated_at").notNull().defaultNow()});ur("security_policy_implementations",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),policyId:ze("policy_id").notNull().references(()=>V3.id,{onDelete:"cascade"}),implementationId:ze("implementation_id").notNull(),implementationType:ze("implementation_type",{length:100}).notNull(),status:ze("status",{length:50}).notNull().default("pending"),configuration:jn("configuration"),deploymentDetails:jn("deployment_details"),successCriteria:jn("success_criteria"),rollbackPlan:jn("rollback_plan"),implementedBy:ze("implemented_by"),implementationDate:at("implementation_date"),verificationDate:at("verification_date"),nextReview:at("next_review"),createdAt:at("created_at").notNull().defaultNow(),updatedAt:at("updated_at").notNull().defaultNow()});ur("security_policy_violations",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),policyId:ze("policy_id").notNull().references(()=>V3.id,{onDelete:"cascade"}),violationId:ze("violation_id").notNull().unique(),violatedRule:ze("violated_rule",{length:500}).notNull(),severity:ze("severity",{length:50}).notNull().default("medium"),status:ze("status",{length:50}).notNull().default("open"),violationDetails:jn("violation_details"),affectedResources:jn("affected_resources"),impactAssessment:Pe("impact_assessment"),remediation_steps:jn("remediation_steps"),detectedAt:at("detected_at").notNull().defaultNow(),resolvedAt:at("resolved_at"),resolvedBy:ze("resolved_by"),createdAt:at("created_at").notNull().defaultNow(),updatedAt:at("updated_at").notNull().defaultNow()});const $fe=ur("user_project_permissions",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id,{onDelete:"cascade"}),projectId:ze("project_id").notNull().references(()=>ds.id,{onDelete:"cascade"}),canView:Ar("can_view").default(!0).notNull(),canAdd:Ar("can_add").default(!1).notNull(),canEdit:Ar("can_edit").default(!1).notNull(),canDelete:Ar("can_delete").default(!1).notNull(),assignedBy:ze("assigned_by").references(()=>Xn.id),assignedAt:at("assigned_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()},t=>({uniqueUserProject:mr`UNIQUE (user_id, project_id)`})),zfe=ur("permission_audit_logs",{id:su("id").primaryKey().default(mr`gen_random_uuid()`),action:ze("action").notNull(),actorId:ze("actor_id").notNull().references(()=>Xn.id),targetUserId:ze("target_user_id").references(()=>Xn.id),projectId:ze("project_id").references(()=>ds.id),oldPermissions:jn("old_permissions"),newPermissions:jn("new_permissions"),ipAddress:Dh("ip_address"),userAgent:Pe("user_agent"),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull()}),GN=Sr(ds).omit({id:!0,createdAt:!0});Sr(Ed).omit({id:!0,createdAt:!0});const Vfe=Sr(Sfe).omit({id:!0,createdAt:!0}).extend({transferDate:Ad,amount:pP(t=>t==null?"0":t.toString(),Kr())});Sr(Nfe).omit({id:!0,createdAt:!0}).extend({attendanceDate:Ad,dailyWage:Es.string(),actualWage:Es.string().optional(),totalPay:Es.string(),paidAmount:Es.string().optional(),remainingAmount:Es.string().optional(),paymentType:Kr().optional().default("partial"),hoursWorked:Es.string().optional(),overtime:Es.string().optional(),overtimeRate:Es.string().optional(),notes:Kr().optional(),startTime:Kr().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM"),endTime:Kr().optional().refine(t=>t?/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/.test(t):!0,"     HH:MM")}).refine(t=>{if(t.startTime&&t.endTime){const r=parseInt(t.startTime.split(":")[0])*60+parseInt(t.startTime.split(":")[1]),e=parseInt(t.endTime.split(":")[0])*60+parseInt(t.endTime.split(":")[1]);return r<e||e<r}return!0},{message:"        ( )",path:["endTime"]});Sr(VL).omit({id:!0,createdAt:!0});Sr(UL).omit({id:!0,createdAt:!0}).extend({purchaseDate:Ad,quantity:Es.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"    0  "),unit:Kr().min(1,"  ").default(""),unitPrice:Es.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ").optional().or($y("")),totalAmount:Es.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ").optional().or($y("")),purchaseType:Kr().default(""),paidAmount:Es.string().default("0").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  "),remainingAmount:Es.string().default("0").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>=0,"     0  ")});Sr(Tfe).omit({id:!0,createdAt:!0}).extend({date:Ad,amount:Es.string()});Sr(Efe).omit({id:!0,createdAt:!0}).extend({transferDate:Ad,amount:Es.string()});const Ufe=Sr(Bfe).omit({id:!0,createdAt:!0}).extend({transferDate:Ad,amount:Es.string()});Sr(Mfe).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(Rfe).omit({id:!0,createdAt:!0,lastUsed:!0});Sr(Dfe).omit({id:!0,createdAt:!0,lastUsed:!0});Sr(Ife).omit({id:!0,createdAt:!0}).extend({date:Ad,amount:Es.string()});Sr($fe).omit({id:!0,assignedAt:!0,updatedAt:!0});Sr(zfe).omit({id:!0,createdAt:!0});Sr(Xn).omit({id:!0,createdAt:!0,updatedAt:!0,lastLogin:!0}).extend({email:Kr().min(5,"   ").max(255,"   ").email("    ").regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"      "),password:Kr().min(8,"     8   ").max(128,"   ").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).*$/,"           "),firstName:Kr().min(1,"  ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"     "),lastName:Kr().max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']*$/,"      ").optional(),role:J_(["admin","manager","user"],{errorMap:()=>({message:"    admin  manager  user"})})});Sr(Ed).omit({id:!0,createdAt:!0}).extend({name:Kr().min(2,"   ").max(100,"   ").regex(/^[a-zA-Z-0-9\s\-']+$/,"      "),type:Kr().min(1,"  ").max(100,"   "),dailyWage:Kr().regex(/^\d+(\.\d{1,2})?$/,"      ").refine(t=>parseFloat(t)>0,{message:"       "})});const Wfe=Sr(ds).omit({id:!0,createdAt:!0}).extend({name:Kr().min(2,"   ").max(200,"   ").regex(/^[a-zA-Z-0-9\s\-_().]+$/,"      "),status:J_(["active","completed","paused"],{errorMap:()=>({message:"     active  completed  paused"})}),imageUrl:Kr().url("   ").optional().or($y(""))});Wfe.partial().omit({}).refine(t=>Object.keys(t).length>0,{message:"      "});Kr().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i," UUID  ").or(Kr().regex(/^[a-z0-9-]{8,50}$/,"  "));Sr(z3).omit({id:!0,createdAt:!0});Sr(Cfe).omit({id:!0,createdAt:!0}).extend({amount:Es.string()});Sr(Lfe).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(Afe);Sr(jfe).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivity:!0});const qfe=ur("report_templates",{id:Pe("id").primaryKey().default(mr`gen_random_uuid()`),templateName:Pe("template_name").notNull().default("default"),headerTitle:Pe("header_title").notNull().default("   "),headerSubtitle:Pe("header_subtitle").default(" "),companyName:Pe("company_name").notNull().default("  "),companyAddress:Pe("company_address").default(" - "),companyPhone:Pe("company_phone").default("+967 1 234567"),companyEmail:Pe("company_email").default("info@company.com"),footerText:Pe("footer_text").default("       "),footerContact:Pe("footer_contact").default(": info@company.com | +967 1 234567"),primaryColor:Pe("primary_color").notNull().default("#1f2937"),secondaryColor:Pe("secondary_color").notNull().default("#3b82f6"),accentColor:Pe("accent_color").notNull().default("#10b981"),textColor:Pe("text_color").notNull().default("#1f2937"),backgroundColor:Pe("background_color").notNull().default("#ffffff"),fontSize:ar("font_size").notNull().default(11),fontFamily:Pe("font_family").notNull().default("Arial"),logoUrl:Pe("logo_url"),pageOrientation:Pe("page_orientation").notNull().default("portrait"),pageSize:Pe("page_size").notNull().default("A4"),margins:jn("margins").default({top:1,bottom:1,left:.75,right:.75}),showHeader:Ar("show_header").notNull().default(!0),showFooter:Ar("show_footer").notNull().default(!0),showLogo:Ar("show_logo").notNull().default(!0),showDate:Ar("show_date").notNull().default(!0),showPageNumbers:Ar("show_page_numbers").notNull().default(!0),isActive:Ar("is_active").notNull().default(!0),createdAt:at("created_at").defaultNow(),updatedAt:at("updated_at").defaultNow()});Sr(qfe).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(wfe);Sr(_fe);const Hfe=ur("notification_read_states",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),notificationId:Pe("notification_id").notNull(),userId:ze("user_id").references(()=>Xn.id),isRead:Ar("is_read").default(!0).notNull(),readAt:at("read_at").defaultNow().notNull(),deviceInfo:Pe("device_info"),createdAt:at("created_at").defaultNow().notNull()},t=>({uniqueNotificationUser:mr`UNIQUE (notification_id, user_id)`})),Kfe=ur("build_deployments",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),buildNumber:ar("build_number").notNull(),status:Pe("status").notNull().default("running"),currentStep:Pe("current_step").notNull(),progress:ar("progress").notNull().default(0),version:Pe("version").notNull(),appType:Pe("app_type").notNull().default("web"),logs:jn("logs").notNull().default([]),steps:jn("steps").notNull().default([]),startTime:at("start_time").defaultNow().notNull(),endTime:at("end_time"),triggeredBy:ze("triggered_by").references(()=>Xn.id),createdAt:at("created_at").defaultNow().notNull()});Sr(Kfe).omit({id:!0,createdAt:!0});Sr(Hfe).omit({id:!0,createdAt:!0});const Gfe=ur("notifications",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),title:Pe("title").notNull(),body:Pe("body").notNull(),type:Pe("type").notNull(),priority:ar("priority").notNull().default(3),projectId:ze("project_id").references(()=>ds.id),createdBy:ze("created_by").references(()=>Xn.id),recipients:Pe("recipients").array(),payload:jn("payload"),meta:jn("meta"),readBy:Pe("read_by").array(),deliveredTo:Pe("delivered_to").array(),scheduledAt:at("scheduled_at"),channelPreference:jn("channel_preference"),createdAt:at("created_at").defaultNow().notNull()});Sr(Gfe).omit({id:!0,createdAt:!0});const WL=ur("ai_chat_sessions",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id,{onDelete:"cascade"}),title:Pe("title").default(" "),isActive:Ar("is_active").default(!0).notNull(),lastMessageAt:at("last_message_at"),messagesCount:ar("messages_count").default(0).notNull(),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()}),Xfe=ur("ai_chat_messages",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),sessionId:ze("session_id").notNull().references(()=>WL.id,{onDelete:"cascade"}),role:Pe("role").notNull(),content:Pe("content").notNull(),model:Pe("model"),provider:Pe("provider"),tokensUsed:ar("tokens_used"),action:Pe("action"),actionData:jn("action_data"),createdAt:at("created_at").defaultNow().notNull()}),Qfe=ur("ai_usage_stats",{id:ze("id").primaryKey().default(mr`gen_random_uuid()`),userId:ze("user_id").notNull().references(()=>Xn.id,{onDelete:"cascade"}),date:Pe("date").notNull(),provider:Pe("provider").notNull(),model:Pe("model").notNull(),requestsCount:ar("requests_count").default(0).notNull(),tokensUsed:ar("tokens_used").default(0).notNull(),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()});Sr(WL).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(Xfe).omit({id:!0,createdAt:!0});Sr(Qfe).omit({id:!0,createdAt:!0,updatedAt:!0});const U3=ur("well_tasks",{id:ii("id").primaryKey(),wellId:ar("well_id").notNull().references(()=>Zl.id,{onDelete:"cascade"}),taskType:ze("task_type",{length:50}).notNull(),description:Pe("description"),estimatedCost:fr("estimated_cost",{precision:12,scale:2}),actualCost:fr("actual_cost",{precision:12,scale:2}),taskOrder:ar("task_order").notNull(),status:Pe("status").notNull().default("pending"),assignedWorkerId:ze("assigned_worker_id").references(()=>Ed.id,{onDelete:"set null"}),startDate:nu("start_date"),completionDate:nu("completion_date"),completedBy:ze("completed_by").references(()=>Xn.id,{onDelete:"set null"}),createdBy:ze("created_by").references(()=>Xn.id,{onDelete:"set null"}),notes:Pe("notes"),createdAt:at("created_at").defaultNow().notNull(),updatedAt:at("updated_at").defaultNow().notNull()}),Yfe=ur("well_task_accounts",{id:ii("id").primaryKey(),taskId:ar("task_id").notNull().unique().references(()=>U3.id,{onDelete:"cascade"}),amount:fr("amount",{precision:12,scale:2}).notNull(),accountedBy:ze("accounted_by").notNull().references(()=>Xn.id),accountedAt:at("accounted_at").defaultNow().notNull(),paymentMethod:ze("payment_method",{length:50}),referenceNumber:ze("reference_number",{length:100}),notes:Pe("notes")}),Zfe=ur("well_expenses",{id:ii("id").primaryKey(),wellId:ar("well_id").notNull().references(()=>Zl.id,{onDelete:"cascade"}),expenseType:ze("expense_type",{length:50}).notNull(),referenceType:ze("reference_type",{length:50}),referenceId:ze("reference_id"),description:Pe("description").notNull(),category:ze("category",{length:100}),quantity:fr("quantity",{precision:10,scale:2}).notNull(),unit:ze("unit",{length:20}).notNull(),unitPrice:fr("unit_price",{precision:12,scale:2}).notNull(),totalAmount:fr("total_amount",{precision:12,scale:2}).notNull(),expenseDate:nu("expense_date").notNull(),createdBy:ze("created_by").notNull().references(()=>Xn.id),createdAt:at("created_at").defaultNow().notNull(),notes:Pe("notes")}),Jfe=ur("well_audit_logs",{id:ii("id").primaryKey(),wellId:ar("well_id").references(()=>Zl.id,{onDelete:"set null"}),taskId:ar("task_id").references(()=>U3.id,{onDelete:"set null"}),action:ze("action",{length:50}).notNull(),entityType:ze("entity_type",{length:50}).notNull(),entityId:ar("entity_id").notNull(),previousData:jn("previous_data"),newData:jn("new_data"),userId:ze("user_id").notNull().references(()=>Xn.id),ipAddress:Dh("ip_address"),userAgent:Pe("user_agent"),createdAt:at("created_at").defaultNow().notNull()}),ehe=ur("material_categories",{id:ii("id").primaryKey(),name:ze("name",{length:100}).notNull().unique(),nameAr:ze("name_ar",{length:100}).notNull(),type:ze("type",{length:20}).notNull(),unit:ze("unit",{length:20}).notNull(),description:Pe("description"),isActive:Ar("is_active").default(!0).notNull(),createdAt:at("created_at").defaultNow().notNull()});Sr(zL).omit({id:!0,createdAt:!0});Sr(Zl).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(U3).omit({id:!0,createdAt:!0,updatedAt:!0});Sr(Yfe).omit({id:!0,accountedAt:!0});Sr(Zfe).omit({id:!0,createdAt:!0});Sr(Jfe).omit({id:!0,createdAt:!0});Sr(ehe).omit({id:!0});const qL=ur("equipment",{id:ii("id").primaryKey(),name:Pe("name").notNull(),type:Pe("type"),status:Pe("status").default("active"),projectId:ze("project_id").references(()=>ds.id),createdAt:at("created_at").defaultNow().notNull()}),the=ur("equipment_movements",{id:ii("id").primaryKey(),equipmentId:ar("equipment_id").references(()=>qL.id),fromProjectId:ze("from_project_id").references(()=>ds.id),toProjectId:ze("to_project_id").references(()=>ds.id),movementDate:at("movement_date").defaultNow(),notes:Pe("notes")});Sr(qL).omit({id:!0,createdAt:!0});Sr(the).omit({id:!0});function rhe(){const{toast:t}=wn(),r=ks(),{setFloatingAction:e}=Zi(),[n,s]=E.useState(null),[i,o]=E.useState(!1),c=[{key:"reason",label:"",type:"select",placeholder:" ",options:[{value:"payroll",label:""},{value:"materials",label:""},{value:"tools",label:""},{value:"maintenance",label:""},{value:"emergency",label:""},{value:"other",label:""}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,p]=E.useState({reason:"",dateRange:{from:void 0,to:void 0}}),f=T=>l(T),h=(T,_)=>{p(k=>({...k,[T]:_}))},g=()=>{l(""),p({reason:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=vt({queryKey:xe.projectsWithStats,queryFn:async()=>{const T=await Ue("/api/projects/with-stats","GET");return T.data||T||[]}}),m=y,{data:v={data:[]},isLoading:x,refetch:S}=vt({queryKey:xe.projectFundTransfers,queryFn:async()=>await Ue("/api/project-fund-transfers","GET")||{data:[]}}),C=E.useMemo(()=>Array.isArray(v?.data)?v.data:[],[v]),A=E.useMemo(()=>{let T=C;if(u){const _=u.toLowerCase();T=T.filter(k=>k.transferReason?.toLowerCase().includes(_)||k.description?.toLowerCase().includes(_)||m.find(j=>j.id===k.fromProjectId)?.name.toLowerCase().includes(_)||m.find(j=>j.id===k.toProjectId)?.name.toLowerCase().includes(_))}if(d.reason&&(T=T.filter(_=>{if(!_.transferReason)return!1;const k=c.find(j=>j.key==="reason")?.options?.find(j=>j.value===d.reason);return _.transferReason===d.reason||_.transferReason===k?.label})),d.dateRange?.from||d.dateRange?.to){const _=d.dateRange.from?new Date(d.dateRange.from).getTime():0,k=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;T=T.filter(j=>{const N=new Date(j.transferDate).getTime();return N>=_&&N<=k})}return T},[C,u,d,m]),B=E.useMemo(()=>{const T=Array.isArray(C)?C:[];return{total:T.length,totalAmount:T.reduce((_,k)=>_+(parseFloat(k.amount?.toString()||"0")||0),0),filtered:A.length,outgoing:A.filter(_=>!A.some(k=>k.fromProjectId===k.toProjectId)).length,incoming:A.filter(_=>A.some(k=>k.toProjectId===k.fromProjectId)).length}},[C,A]),q=It({mutationFn:async T=>n?Ue(`/api/project-fund-transfers/${n.id}`,"PATCH",T):Ue("/api/project-fund-transfers","POST",T),onSuccess:()=>{r.refetchQueries({queryKey:xe.projectFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:n?"   ":"    "}),I.reset(),s(null),o(!1)},onError:T=>{t({title:"",description:T.message||"    ",variant:"destructive"})}}),D=It({mutationFn:async T=>{console.log(" [Client]  :",T);const _=await Ue(`/api/project-fund-transfers/${T}`,"DELETE");return console.log(" [Client]  :",_),_},onSuccess:(T,_)=>{console.log(" [Client]    ...",_),r.setQueryData(xe.projectFundTransfers,k=>{console.log(" [Client]  :",k);const j=k?.data?.filter(R=>R.id!==_)||[],N={...k,data:j,success:!0};return console.log(" [Client]  :",N),N}),r.refetchQueries({queryKey:xe.projectFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:"    "})},onError:T=>{console.error(" [Client]   :",T),t({title:"",description:T.message||"    ",variant:"destructive"})}}),I=Wl({resolver:ql(Ufe),defaultValues:{fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}});E.useEffect(()=>(e(()=>{s(null),I.reset({fromProjectId:"",toProjectId:"",amount:"",transferReason:"",transferDate:new Date().toISOString().split("T")[0],description:""}),o(!0)}," "),()=>e(null)),[e,I]);const U=T=>{if(!T.fromProjectId||!T.toProjectId||T.fromProjectId==="all"||T.toProjectId==="all"){t({title:"",description:"    .    ' '   .",variant:"destructive"});return}if(T.fromProjectId===T.toProjectId){t({title:"",description:"      ",variant:"destructive"});return}q.mutate(T)},K=T=>{s(T),I.reset({fromProjectId:T.fromProjectId,toProjectId:T.toProjectId,amount:T.amount,transferReason:T.transferReason||"",transferDate:T.transferDate||new Date().toISOString().split("T")[0],description:T.description||""}),o(!0)},W=T=>m.find(_=>_.id===T)?.name||" ",P=T=>{if(typeof T!="number"){const _=parseFloat(String(T));if(isNaN(_))return"0 .";T=_}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(T)+" ."},L=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:B.total,icon:Yp,color:"orange"},{key:"totalAmount",label:" ",value:B.totalAmount,icon:kr,color:"green",formatter:P},{key:"filtered",label:" ",value:B.filtered,icon:_a,color:"blue"}]},{columns:3,gap:"sm",items:[{key:"today",label:" ",value:A.filter(T=>new Date(T.transferDate).toDateString()===new Date().toDateString()).length,icon:Rn,color:"purple"},{key:"average",label:" ",value:B.total>0?B.totalAmount/B.total:0,icon:ua,color:"red",formatter:P},{key:"projects",label:" ",value:m.length,icon:Uo,color:"indigo"}]}],[B,A,m]);return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-40 md:pb-20",children:[a.jsx(Co,{statsRows:L,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:c,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>S(),isRefreshing:x}),a.jsx("div",{className:"space-y-4 md:space-y-6",children:x?a.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(T=>a.jsx(Jt,{className:"bg-white dark:bg-slate-900",children:a.jsx(vr,{className:"p-4 md:p-6",children:a.jsx(dn,{className:"h-20 w-full"})})},T))}):A.length===0?a.jsx(Jt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:a.jsx(vr,{className:"p-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx(Yp,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"    "})]})})}):a.jsx(Hs,{columns:2,children:A.map(T=>a.jsx(vn,{title:P(parseFloat(T.amount?.toString()||"0")),titleIcon:kr,headerColor:"#f59e0b",badges:[{label:new Date(T.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:`${W(T.fromProjectId)}  ${W(T.toProjectId)}`,icon:bs,color:"info"},{label:"",value:T.transferReason||" ",icon:ia,color:"default"},{label:"",value:new Date(T.transferDate).toLocaleDateString("en-GB"),icon:ua,color:"info"}],actions:[{icon:Kc,label:"",onClick:()=>K(T),color:"blue"},{icon:Ps,label:"",onClick:()=>D.mutate(T.id),color:"red"}],compact:!0},T.id))})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999999] flex items-end md:items-center justify-center p-0 md:p-4",children:a.jsxs(Jt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[92vh] md:max-h-[85vh] md:w-full md:max-w-2xl rounded-t-[2rem] md:rounded-xl overflow-hidden flex flex-col mb-0 md:mb-0",children:[a.jsx(ls,{className:"flex-shrink-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 p-4 md:p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ys,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?"  ":"   "}),a.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>{o(!1),s(null),I.reset()},className:"h-8 w-8 p-0 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-full",children:a.jsx(Us,{className:"h-4 w-4"})})]})}),a.jsx(vr,{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 md:pb-6",children:a.jsx(Kl,{...I,children:a.jsxs("form",{onSubmit:I.handleSubmit(U),className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[a.jsx(Jr,{control:I.control,name:"amount",render:({field:T})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-xs md:text-sm font-semibold",children:" ()"}),a.jsx(sn,{children:a.jsx(xt,{type:"number",step:"0.01",placeholder:"0",...T,autoWidth:!0,maxWidth:250,className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(Jr,{control:I.control,name:"transferDate",render:({field:T})=>a.jsxs(Yr,{className:"flex flex-col gap-1.5",children:[a.jsx(qn,{className:"text-xs md:text-sm font-semibold",children:""}),a.jsx(el,{value:T.value,onChange:_=>T.onChange(_?jr(_,"yyyy-MM-dd"):"")}),a.jsx(Mn,{className:"text-xs"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:[a.jsx(Jr,{control:I.control,name:"fromProjectId",render:({field:T})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),a.jsx(sn,{children:a.jsxs(ws,{value:T.value||"",onValueChange:T.onChange,children:[a.jsx(cs,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:a.jsx(_s,{placeholder:"  "})}),a.jsx(us,{className:"z-[9999999]",children:m.map(_=>a.jsx(wr,{value:_.id||"none",children:_.name},_.id))})]})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(Jr,{control:I.control,name:"toProjectId",render:({field:T})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-xs md:text-sm font-semibold",children:"  *"}),a.jsx(sn,{children:a.jsxs(ws,{value:T.value||"",onValueChange:T.onChange,children:[a.jsx(cs,{className:"h-10 md:h-11 border-2 text-xs md:text-sm",children:a.jsx(_s,{placeholder:"  "})}),a.jsx(us,{className:"z-[9999999]",children:m.map(_=>a.jsx(wr,{value:_.id||"none",children:_.name},_.id))})]})}),a.jsx(Mn,{className:"text-xs"})]})})]}),a.jsx(Jr,{control:I.control,name:"transferReason",render:({field:T})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" "}),a.jsx(sn,{children:a.jsx(ch,{placeholder:"   ...",className:"min-h-[60px] text-xs md:text-sm border-2",...T})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(Jr,{control:I.control,name:"description",render:({field:T})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" ()"}),a.jsx(sn,{children:a.jsx(ch,{placeholder:"   ...",className:"min-h-[100px] text-xs md:text-sm border-2",...T})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[a.jsx(Ie,{type:"submit",disabled:q.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold shadow-lg shadow-blue-500/30",children:q.isPending?" ...":n?"":" "}),n&&a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{s(null),I.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}function Ih(t={}){const{projectId:r,date:e,dateFrom:n,dateTo:s,enabled:i=!0}=t,o=r&&r!=="all"?["/api/financial-summary",r,e,n,s]:["/api/financial-summary","all",e,n,s],{data:c,isLoading:u,error:l,refetch:d}=vt({queryKey:o,queryFn:async()=>{try{let g="/api/financial-summary";const y=new URLSearchParams;r&&r!=="all"&&y.append("projectId",r),e&&y.append("date",e),n&&y.append("dateFrom",n),s&&y.append("dateTo",s),y.toString()&&(g+=`?${y.toString()}`);const m=await Ue(g,"GET");return m?.success&&m?.data?m.data:null}catch(g){throw console.error(" [useFinancialSummary]     :",g),g}},enabled:i,staleTime:1e3*30,gcTime:1e3*60*2,refetchOnWindowFocus:!0,refetchOnMount:"always"});if((!r||r==="all")&&c){const g=c,y=g.totals||{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,cashBalance:0,totalBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0},m=g.projects?.reduce((v,x)=>({totalWorkerWages:v.totalWorkerWages+(x.expenses?.workerWages||0),totalTransportation:v.totalTransportation+(x.expenses?.transportExpenses||0),totalMaterialCosts:v.totalMaterialCosts+(x.expenses?.materialExpenses||0),totalWorkerTransfers:v.totalWorkerTransfers+(x.expenses?.workerTransfers||0),totalMiscExpenses:v.totalMiscExpenses+(x.expenses?.miscExpenses||0),totalFundTransfers:v.totalFundTransfers+(x.income?.fundTransfers||0),incomingProjectTransfers:v.incomingProjectTransfers+(x.income?.incomingProjectTransfers||0),outgoingProjectTransfers:v.outgoingProjectTransfers+(x.expenses?.outgoingProjectTransfers||0)}),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0})||{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0};return{summary:null,allProjects:g,totals:{...y,...m,totalExpenses:y.totalAllExpenses||0,currentBalance:y.totalBalance||0,remainingBalance:y.totalBalance||0},isLoading:u,error:l,refetch:d}}const f=c,h=f&&f.income&&f.expenses&&f.workers;return{summary:f,allProjects:null,totals:h?{totalIncome:f.income?.totalIncome??0,totalCashExpenses:f.expenses?.totalCashExpenses??0,totalAllExpenses:f.expenses?.totalAllExpenses??0,totalExpenses:f.expenses?.totalCashExpenses??0,cashBalance:f.cashBalance??0,totalBalance:f.totalBalance??0,currentBalance:f.totalBalance??0,totalWorkers:f.workers?.totalWorkers??0,activeWorkers:f.workers?.activeWorkers??0,materialExpensesCredit:f.expenses?.materialExpensesCredit??0,carriedForwardBalance:f.income?.carriedForwardBalance??0,totalWorkerWages:f.expenses?.workerWages??0,totalTransportation:f.expenses?.transportExpenses??0,totalMaterialCosts:f.expenses?.materialExpenses??0,totalWorkerTransfers:f.expenses?.workerTransfers??0,totalMiscExpenses:f.expenses?.miscExpenses??0,totalFundTransfers:f.income?.fundTransfers??0,incomingProjectTransfers:f.income?.incomingProjectTransfers??0,outgoingProjectTransfers:f.expenses?.outgoingProjectTransfers??0,remainingBalance:f.totalBalance??0}:{totalIncome:0,totalCashExpenses:0,totalAllExpenses:0,totalExpenses:0,cashBalance:0,totalBalance:0,currentBalance:0,totalWorkers:0,activeWorkers:0,materialExpensesCredit:0,carriedForwardBalance:0,totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,remainingBalance:0},isLoading:u,error:l,refetch:d}}const po={name:"    ",subtitle:"Al-Fatihi Contracting & Engineering Consultancy",address:"  ",phone:"+966 XX XXXX XXX",email:"info@alfatihi.com",website:"www.alfatihi.com"},Jn={headerBlue:"2E75B6",headerDarkBlue:"1F5A96",lightBlue:"E7F3FF",yellowTotal:"FFFF00",greenTotal:"00B050",greenLight:"C6EFCE",orangeLight:"FCE4D6",white:"FFFFFF",black:"000000",gray:"6B7280"},Ir={fonts:{header:{bold:!0,size:11,color:{argb:"FF"+Jn.white}},data:{size:10},bold:{bold:!0,size:10}},colors:{headerBg:"FF"+Jn.headerBlue,altRow:"FF"+Jn.lightBlue,green:"FF"+Jn.greenTotal,yellow:"FF"+Jn.yellowTotal,orange:"FF"+Jn.orangeLight},borders:{thin:{style:"thin"},medium:{style:"medium"}},headerMain:{font:{bold:!0,size:14,color:{argb:"FF"+Jn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.headerDarkBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},headerSecondary:{font:{bold:!0,size:12,color:{argb:"FF"+Jn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableHeader:{font:{bold:!0,size:11,color:{argb:"FF"+Jn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.headerBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCell:{font:{size:10},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},tableCellAlt:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.lightBlue}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenRow:{font:{bold:!0,size:10,color:{argb:"FF"+Jn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.greenTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},greenLightRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.greenLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},yellowRow:{font:{bold:!0,size:10,color:{argb:"FF"+Jn.black}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.yellowTotal}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},orangeRow:{font:{size:10},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.orangeLight}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},summaryRow:{font:{bold:!0,size:11,color:{argb:"FF"+Jn.white}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF"+Jn.headerBlue}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},signatureBox:{font:{size:10,bold:!0},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},footer:{font:{size:9,italic:!0,color:{argb:"FF"+Jn.gray}},alignment:{horizontal:"center",vertical:"middle"}}};function Ug(t,r){r.font&&(t.font=r.font),r.fill&&(t.fill=r.fill),r.alignment&&(t.alignment=r.alignment),r.border&&(t.border=r.border),r.numFmt&&(t.numFmt=r.numFmt)}function ybe(t,r,e,n){let s=1;const i=t.columns?.length||8;t.mergeCells(s,1,s,i);const o=t.getRow(s);o.getCell(1).value=po.name,Ug(o.getCell(1),Ir.headerMain),o.height=30,s++,t.mergeCells(s,1,s,i);const c=t.getRow(s);if(c.getCell(1).value=r,Ug(c.getCell(1),Ir.headerSecondary),c.height=25,s++,e){t.mergeCells(s,1,s,i);const u=t.getRow(s);u.getCell(1).value=e,Ug(u.getCell(1),{font:{size:10},alignment:{horizontal:"center",vertical:"middle"}}),u.height=20,s++}if(n&&n.length>0){t.mergeCells(s,1,s,i);const u=t.getRow(s);u.getCell(1).value=n.join(" | "),Ug(u.getCell(1),{font:{size:9},alignment:{horizontal:"center",vertical:"middle"}}),u.height=18,s++}return s++,s}const nhe=t=>({income:"",expense:"",deferred:"",transfer_from_project:" "})[t]||t;async function HL(t,r,e,n){const s=(await mn(async()=>{const{default:D}=await Promise.resolve().then(()=>XO);return{default:D}},void 0)).default,i=new s.Workbook;i.creator=po.name,i.created=new Date;const o=i.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.2,right:.2,top:.4,bottom:.4,header:.2,footer:.2}}});let c=1;o.mergeCells(`A${c}:O${c}`);const u=o.getCell(`A${c}`);u.value=po.name,u.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=30,c++,o.mergeCells(`A${c}:O${c}`);const l=o.getCell(`A${c}`);l.value=po.subtitle,l.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},l.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=25,c++,o.mergeCells(`A${c}:O${c}`);const d=o.getCell(`A${c}`),p=n?`  - ${n} - ${new Date().toLocaleDateString("ar-SA")}`:`  - ${new Date().toLocaleDateString("ar-SA")}`;d.value=p,d.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},d.alignment={horizontal:"center",vertical:"middle"},o.getRow(c).height=28,c++,c++,[[" ",e(r.totalIncome)],[" ",e(r.totalExpenses)],[" ",e(r.balance)]].forEach(([D,I])=>{const U=o.getRow(c);o.mergeCells(`A${c}:D${c}`);const K=U.getCell(1);K.value=D,K.font={bold:!0,size:11},K.alignment={horizontal:"right",vertical:"middle"},o.mergeCells(`E${c}:H${c}`);const W=U.getCell(5);W.value=I,W.font={bold:!0,size:11,color:{argb:D===" "?r.balance>=0?"FF008000":"FFFF0000":"FF000000"}},W.alignment={horizontal:"left",vertical:"middle"},U.height=22,c++}),c++;const h=["#","","","",""," /"," "," ","",""," "," ","/"," "," "],g=o.getRow(c);h.forEach((D,I)=>{const U=g.getCell(I+1);U.value=D,U.font=Ir.tableHeader.font,U.fill=Ir.tableHeader.fill,U.alignment=Ir.tableHeader.alignment,U.border=Ir.tableHeader.border}),g.height=28,c++,o.getColumn(1).width=5,o.getColumn(2).width=12,o.getColumn(3).width=10,o.getColumn(4).width=14,o.getColumn(5).width=14,o.getColumn(6).width=16,o.getColumn(7).width=10,o.getColumn(8).width=11,o.getColumn(9).width=13,o.getColumn(10).width=8,o.getColumn(11).width=10,o.getColumn(12).width=9,o.getColumn(13).width=14,o.getColumn(14).width=11,o.getColumn(15).width=13,t.forEach((D,I)=>{const U=o.getRow(c),K=I%2===0?Ir.tableCell:Ir.tableCellAlt,P=new Date(D.date).toLocaleDateString("ar-SA"),L=()=>D.workerName?D.workerName:D.materialName?D.materialName:D.description&&D.description!=="-"?D.description:"-",T=()=>D.supplierName?D.supplierName:D.recipientName?D.recipientName:"-";[I+1,P,nhe(D.type),D.category,D.projectName||" ",L(),D.workDays??"-",D.dailyWage?e(D.dailyWage):"-",D.payableAmount?e(D.payableAmount):"-",D.quantity??"-",D.unitPrice?e(D.unitPrice):"-",D.paymentType||"-",T(),D.transferMethod||"-",e(D.amount)].forEach((k,j)=>{const N=U.getCell(j+1);N.value=k,N.font=K.font,K.fill&&(N.fill=K.fill),N.alignment=K.alignment,N.border=K.border,j===2&&(D.type==="income"||D.type==="transfer_from_project"?N.font={...K.font,color:{argb:"FF008000"}}:D.type==="expense"?N.font={...K.font,color:{argb:"FFFF0000"}}:D.type==="deferred"&&(N.font={...K.font,color:{argb:"FFFF8C00"}})),j===8&&D.payableAmount&&D.amount===0&&(N.font={...K.font,bold:!0,color:{argb:"FFFF6600"}}),j===14&&(D.type==="income"||D.type==="transfer_from_project"?N.font={...K.font,bold:!0,color:{argb:"FF008000"}}:D.type==="expense"?N.font={...K.font,bold:!0,color:{argb:"FFFF0000"}}:D.type==="deferred"&&(N.font={...K.font,bold:!0,color:{argb:"FFFF8C00"}}))}),U.height=24,c++}),c++;const y=o.getRow(c);o.mergeCells(`A${c}:G${c}`);const m=y.getCell(1);m.value=` : ${t.length}`,m.font=Ir.summaryRow.font,m.fill=Ir.summaryRow.fill,m.alignment=Ir.summaryRow.alignment,m.border=Ir.summaryRow.border,o.mergeCells(`H${c}:O${c}`);const v=y.getCell(8);v.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,v.font={size:10,italic:!0},v.alignment={horizontal:"center",vertical:"middle"},y.height=26,c+=2;const x=o.getRow(c);o.mergeCells(`A${c}:E${c}`);const S=x.getCell(1);S.value="  : ________________",S.font=Ir.signatureBox.font,S.alignment=Ir.signatureBox.alignment,S.border=Ir.signatureBox.border,o.mergeCells(`K${c}:O${c}`);const C=x.getCell(11);C.value="  : ________________",C.font=Ir.signatureBox.font,C.alignment=Ir.signatureBox.alignment,C.border=Ir.signatureBox.border,x.height=35,c+=2,o.mergeCells(`A${c}:O${c}`);const A=o.getCell(`A${c}`);A.value=`${po.name} | ${po.address} |     `,A.font=Ir.footer.font,A.alignment=Ir.footer.alignment;const B=await i.xlsx.writeBuffer(),q=`__${n?n+"_":""}${new Date().toISOString().split("T")[0]}.xlsx`;return await Mh(B,q)}function she(){const{getProjectIdForApi:t,isAllProjects:r}=No(),e=t()||"",[n,s]=E.useState("all"),[i,o]=E.useState(""),[c,u]=E.useState({}),[l,d]=E.useState(!1),{user:p}=Ql(),{toast:f}=wn(),h=p?.role==="admin"||p?.role==="",{totals:g,isLoading:y}=Ih({projectId:e||"all",enabled:!0}),m=E.useMemo(()=>({totalIncome:g?.totalIncome??0,totalExpenses:g?.totalCashExpenses??0,currentBalance:g?.totalBalance??0,deferredExpenses:g?.materialExpensesCredit??0}),[g]);[{title:"",value:m.totalIncome,icon:Rn,color:"green",formatter:ie=>Je(ie)},{title:" ()",value:m.totalExpenses,icon:_a,color:"red",formatter:ie=>Je(ie)},{title:" ",value:m.currentBalance,icon:kr,color:m.currentBalance>=0?"blue":"red",formatter:ie=>Je(ie)},{title:" ",value:m.deferredExpenses,icon:ns,color:"orange",formatter:ie=>Je(ie)}].map((ie,te)=>a.jsx(Jt,{className:"overflow-hidden",children:a.jsx(vr,{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full bg-${ie.color}-100 dark:bg-${ie.color}-900/30`,children:a.jsx(ie.icon,{className:`h-3.5 w-3.5 text-${ie.color}-600 dark:text-${ie.color}-400`})}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-none",children:ie.title}),a.jsx("p",{className:`text-xs font-bold arabic-numbers leading-none ${ie.color==="red"?"text-red-600":ie.color==="green"?"text-green-600":""}`,children:ie.formatter(ie.value)})]})]})})},te));const x={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1},{data:S=[]}=vt({queryKey:xe.projects,...x}),{data:C=[],isLoading:A,error:B}=vt({queryKey:xe.projectFundTransfersFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];return await Promise.all(S.map(async te=>{try{const se=await Ue(`/api/projects/${te.id}/fund-transfers`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}})),console.log(`   ${ie.length}     `),ie}else{const ie=await Ue(`/api/projects/${e}/fund-transfers`);return console.log(`   ${Array.isArray(ie?.data)?ie.data.length:0}  `),Array.isArray(ie?.data)?ie.data:[]}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:q=[],isLoading:D,error:I}=vt({queryKey:xe.projectFundTransfersIncoming(e,r),queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/incoming/${e}`,te=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(me=>({:me.fromProjectName,:me.toProjectName,:me.amount,:me.transferDate}))),de}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:U=[],isLoading:K,error:W}=vt({queryKey:xe.projectFundTransfersOutgoing(e,r),queryFn:async()=>{try{console.log(`    : ${e},  : ${r}`);const ie=r?"/api/project-fund-transfers":`/api/projects/fund-transfers/outgoing/${e}`,te=await fetch(ie,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!te.ok)return te.status===401?(console.error("   -     "),[]):(console.error(`     : ${te.status}`),[]);const se=await te.json(),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];return console.log(`   ${de.length}   `),de.length>0&&console.log("  :",de.map(me=>({:me.fromProjectName,:me.toProjectName,:me.amount,:me.transferDate}))),de}catch(ie){return console.error("     :",ie),[]}},enabled:!0,retry:1,staleTime:3e4}),{data:P=[],isLoading:L,error:T}=vt({queryKey:xe.projectWorkerAttendanceFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await Ue(`/api/projects/${te.id}/worker-attendance`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await Ue(`/api/projects/${e}/worker-attendance`),te=Array.isArray(ie?.data)?ie.data:Array.isArray(ie)?ie:[];return console.log(`   ${te.length}   `),te}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:_=[],isLoading:k,error:j}=vt({queryKey:xe.projectMaterialPurchasesFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await fetch(`/api/projects/${te.id}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(se.ok){const de=await se.json(),me=Array.isArray(de?.data)?de.data:Array.isArray(de)?de:[];ie.push(...me.map(ke=>({...ke,projectId:te.id,projectName:te.name})))}}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=await fetch(`/api/projects/${e}/material-purchases`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ie.ok)return ie.status===401?(console.error("   -     "),[]):(console.error(`     : ${ie.status}`),[]);const te=await ie.json(),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:N=[],isLoading:R}=vt({queryKey:xe.transportationExpensesFiltered(r,e),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const te of S)try{const se=await Ue(`/api/transportation-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`       ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/transportation-expenses";e&&(ie=`/api/transportation-expenses?projectId=${e}`);const te=await Ue(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:O=[],isLoading:$}=vt({queryKey:xe.workerMiscExpensesFiltered(r,e),queryFn:async()=>{try{if(console.log(`    -  : ${r}, : ${e}`),r){const ie=[];for(const te of S)try{const se=await Ue(`/api/worker-misc-expenses?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{let ie="/api/worker-misc-expenses";e&&(ie=`/api/worker-misc-expenses?projectId=${e}`);const te=await Ue(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:(!!e||r)&&S.length>0,retry:1,staleTime:3e4}),{data:X=[],isLoading:Y,error:re}=vt({queryKey:xe.workerTransfersFiltered(e,r),queryFn:async()=>{try{if(console.log(`    : ${e},  : ${r}`),r){const ie=[];for(const te of S)try{const se=await Ue(`/api/worker-transfers?projectId=${te.id}`),de=Array.isArray(se?.data)?se.data:Array.isArray(se)?se:[];ie.push(...de.map(me=>({...me,projectId:te.id,projectName:me.projectName||te.name})))}catch(se){console.error(`      ${te.id}:`,se)}return console.log(`   ${ie.length}     `),ie}else{const ie=e?`/api/worker-transfers?projectId=${e}`:"/api/worker-transfers",te=await Ue(ie),se=Array.isArray(te?.data)?te.data:Array.isArray(te)?te:[];return console.log(`   ${se.length}  `),se}}catch(ie){return console.error("     :",ie),[]}},enabled:S.length>0,retry:1,staleTime:3e4}),{data:F=[]}=vt({queryKey:xe.workers}),Z=ie=>r?!0:ie.projectId===e,V=E.useMemo(()=>{const ie=[],te=Array.isArray(C)?C:[],se=Array.isArray(q)?q:[],de=Array.isArray(U)?U:[],me=Array.isArray(P)?P:[],ke=Array.isArray(_)?_:[],Ne=Array.isArray(N)?N:[],De=Array.isArray(O)?O:[],Fe=Array.isArray(X)?X:[],Ge=Array.isArray(F)?F:[];console.log(`     ${e}`),console.log("  :",{fundTransfers:te?.length||0,incomingProjectTransfers:se?.length||0,outgoingProjectTransfers:de?.length||0,workerAttendance:me?.length||0,materialPurchases:ke?.length||0,transportExpenses:Ne?.length||0,miscExpenses:De?.length||0,workerTransfers:Fe?.length||0});const qe=be=>be&&S.find(Xe=>String(Xe.id)===String(be))?.name||" ";console.log("   :",te.length),te.forEach(be=>{const Be=be.transferDate,Xe=parseFloat(be.amount);Be&&!isNaN(Xe)&&Xe>0&&ie.push({id:`fund-${be.id}`,date:Be,type:"income",category:" ",amount:Xe,description:`: ${be.senderName||" "}`,projectId:be.projectId,projectName:be.projectName||qe(be.projectId)})}),se.length>0?(console.log(`  ${se.length}  `),se.forEach(be=>{const Be=be.transferDate,Xe=parseFloat(be.amount);Be&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.fromProjectName}`),ie.push({id:`project-in-${be.id}`,date:Be,type:"transfer_from_project",category:"    ",amount:Xe,description:`  : ${be.fromProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.toProjectId,projectName:be.toProjectName||qe(be.toProjectId)}))})):console.log(`      ${e}`),de.length>0?(console.log(`  ${de.length}  `),de.forEach(be=>{const Be=be.transferDate,Xe=parseFloat(be.amount);Be&&!isNaN(Xe)&&Xe>0&&(console.log(`   : ${Xe}  ${be.toProjectName}`),ie.push({id:`project-out-${be.id}`,date:Be,type:"expense",category:"    ",amount:Xe,description:`  : ${be.toProjectName||" "}${be.description?` - ${be.description}`:""}`,projectId:be.fromProjectId,projectName:be.fromProjectName||qe(be.fromProjectId)}))})):console.log(`      ${e}`),console.log("   :",me.length),me.forEach((be,Be)=>{const Xe=be.date||be.attendanceDate||be.created_at;let Et=0;if(be.paidAmount!==void 0&&be.paidAmount!==null&&be.paidAmount!==""){const Pt=parseFloat(be.paidAmount);!isNaN(Pt)&&Pt>0&&(Et=Pt)}else if(be.actualWage!==void 0&&be.actualWage!==null&&be.actualWage!==""){const Pt=parseFloat(be.actualWage);!isNaN(Pt)&&Pt>0&&(Et=Pt)}let Kt=0;const _t=be.dailyWage?parseFloat(be.dailyWage):0,Yt=be.workDays?parseFloat(be.workDays):0;!isNaN(_t)&&!isNaN(Yt)&&_t>0&&Yt>0&&(Kt=_t*Yt);const Gt=Et>0?Et:0;if(Xe&&(Kt>0||Gt>0)){const Mt=(Array.isArray(Ge)?Ge.find(rr=>rr.id===be.workerId):void 0)?.name||be.workerName||be.worker?.name||be.name||" ",Nr=be.workDays?` (${be.workDays} )`:"",Lt=Kt>0&&Et===0?" -  ":"",Cr={id:`wage-${be.id}`,date:Xe,type:"expense",category:Kt>0&&Et===0?"  ( )":" ",amount:Gt,description:`${Mt}${Nr}${Lt}`,workerName:Mt,workDays:Yt>0?Yt:void 0,dailyWage:_t>0?_t:void 0,payableAmount:Kt>0?Kt:void 0,projectId:be.projectId,projectName:be.projectName||qe(be.projectId)};ie.push(Cr)}});const pt=ke.filter(Z);console.log("   :",pt.length),pt.forEach(be=>{const Be=be.purchaseDate||be.date;let Xe=0;if(be.totalAmount&&!isNaN(parseFloat(be.totalAmount))?Xe=parseFloat(be.totalAmount):be.amount&&!isNaN(parseFloat(be.amount))?Xe=parseFloat(be.amount):be.cost&&!isNaN(parseFloat(be.cost))&&(Xe=parseFloat(be.cost)),Be&&Xe>0){const Et=be.purchaseType===""||be.paymentType==="deferred"||be.isDeferred||be.deferred;ie.push({id:`material-${be.id}`,date:Be,type:Et?"deferred":"expense",category:Et?" ":" ",amount:Xe,description:`: ${be.materialName||be.name||" "}${Et?" ()":""}`,materialName:be.materialName||be.name||" ",quantity:be.quantity?parseFloat(be.quantity):void 0,unitPrice:be.unitPrice?parseFloat(be.unitPrice):void 0,paymentType:Et?"":"",supplierName:be.supplierName||be.supplier?.name||"",projectId:be.projectId,projectName:be.projectName||qe(be.projectId)})}});const yt=Ne.filter(Z);console.log("   :",yt.length),yt.forEach(be=>{const Be=be.date,Xe=parseFloat(be.amount);Be&&!isNaN(Xe)&&Xe>0&&ie.push({id:`transport-${be.id}`,date:Be,type:"expense",category:"",amount:Xe,description:`: ${be.description||" "}`,projectId:be.projectId,projectName:be.projectName||qe(be.projectId)})});const ot=De.filter(Z);console.log("   :",ot.length),ot.forEach(be=>{const Be=be.date,Xe=parseFloat(be.amount);Be&&!isNaN(Xe)&&Xe>0&&ie.push({id:`misc-${be.id}`,date:Be,type:"expense",category:"",amount:Xe,description:`: ${be.description||be.workerName||" "}`,projectId:be.projectId,projectName:be.projectName||qe(be.projectId)})}),console.log("   :",Fe.length),Fe.forEach(be=>{const Be=be.transferDate||be.date,Xe=parseFloat(be.amount);if(Be&&!isNaN(Xe)&&Xe>0){const Kt=(Array.isArray(Ge)?Ge.find(Gt=>Gt.id===be.workerId):void 0)?.name||be.workerName||"  ",_t=be.recipientName?`  ${be.recipientName}`:"",Yt=be.transferMethod==="hawaleh"?"()":be.transferMethod==="bank"?"( )":"()";ie.push({id:`worker-transfer-${be.id}`,date:Be,type:"expense",category:" ",amount:Xe,description:`${Kt}${_t} ${Yt}`,workerName:Kt,recipientName:be.recipientName||"",transferMethod:be.transferMethod==="hawaleh"?"":be.transferMethod==="bank"?"":"",projectId:be.projectId,projectName:be.projectName||qe(be.projectId)})}});const ve=ie.filter(be=>be.date&&!isNaN(new Date(be.date).getTime())).sort((be,Be)=>new Date(Be.date).getTime()-new Date(be.date).getTime());return console.log(`  : ${ve.length}   ${ie.length}`),console.log("   :",{_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.type==="transfer_from_project").length,_:ve.filter(be=>be.category==="    ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.category===" ").length,_:ve.filter(be=>be.type==="deferred").length,:ve.filter(be=>be.category==="").length,:ve.filter(be=>be.category==="").length,:ve.length}),ve},[e,r,C,q,U,P,_,N,O,X,F,S]),z=E.useMemo(()=>{let ie=V;return n!=="all"&&(ie=ie.filter(te=>te.type===n)),i&&(ie=ie.filter(te=>te.description.toLowerCase().includes(i.toLowerCase())||te.category.toLowerCase().includes(i.toLowerCase()))),c.from&&(ie=ie.filter(te=>new Date(te.date)>=c.from)),c.to&&(ie=ie.filter(te=>new Date(te.date)<=c.to)),ie},[V,n,i,c]),G=E.useMemo(()=>{const ie=V.filter(Fe=>Fe.type==="income").reduce((Fe,Ge)=>Fe+(Ge.amount||0),0),te=V.filter(Fe=>Fe.type==="transfer_from_project").reduce((Fe,Ge)=>Fe+(Ge.amount||0),0),se=V.filter(Fe=>Fe.type==="expense").reduce((Fe,Ge)=>Fe+(Ge.amount||0),0),de=V.filter(Fe=>Fe.type==="deferred").reduce((Fe,Ge)=>Fe+(Ge.amount||0),0),me=V.filter(Fe=>Fe.category==="    ").reduce((Fe,Ge)=>Fe+(Ge.amount||0),0),ke=se-me,Ne=ie+te,De=se+de;return console.log("  :",{income:ie,transferFromProject:te,expenses:se,deferredExpenses:de,otherExpenses:ke,transferToProjectExpenses:me,totalIncome:Ne,totalExpenses:De,balance:Ne-De}),{income:ie,transferFromProject:te,otherExpenses:ke,transferToProjectExpenses:me,deferredExpenses:de,totalIncome:Ne,expenses:De,totalExpenses:De,balance:Ne-De}},[V]);Array.isArray(S)&&S.find(ie=>ie.id===e)?.name;const ae=ie=>Je(ie),pe=()=>S.find(ie=>ie.id===e)?.name||"",ge={key:"export",icon:l?Zr:Hm,label:" Excel",onClick:async()=>{if(!(l||z.length===0)){d(!0);try{const ie=await HL(z,{totalIncome:G.totalIncome,totalExpenses:G.totalExpenses,balance:G.balance},Je,r?" ":pe());f(ie?{title:"  ",description:`  ${z.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(ie){console.error("  :",ie),f({title:"  ",description:"    ",variant:"destructive"})}finally{d(!1)}}},variant:"outline",disabled:l||z.length===0,loading:l,tooltip:"     Excel"},ee=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalIncome",label:"",value:G.totalIncome,icon:Rn,color:"green",formatter:ae},{key:"totalExpenses",label:" ()",value:G.totalExpenses,icon:_a,color:"red",formatter:ae},{key:"balance",label:" ",value:G.balance,icon:kr,color:G.balance>=0?"blue":"red",formatter:ae},{key:"deferred",label:" ",value:G.deferredExpenses,icon:ns,color:"orange",formatter:ae}]}],[G]),{data:oe}=vt({queryKey:xe.autocompleteTransactionCategories,queryFn:async()=>Ue("/api/autocomplete/transaction-categories","GET")}),fe=[{key:"type",label:" ",type:"select",placeholder:" ",options:E.useMemo(()=>{const ie=[{value:"all",label:" "},{value:"income",label:""},{value:"expense",label:""},{value:"deferred",label:""},{value:"transfer_from_project",label:"    "}];if(!oe?.data)return ie;const te=new Set(ie.map(de=>de.value)),se=oe.data.map(de=>({value:de.value,label:de.label})).filter(de=>!te.has(de.value));return[...ie,...se]},[oe])},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],ce=A||D||K||L||k||Y||R||$;return a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[a.jsx(Co,{statsRows:ee,searchValue:i,onSearchChange:o,searchPlaceholder:"    ...",showSearch:!0,filters:fe,actions:[ge],filterValues:{type:n,dateRange:c},onFilterChange:(ie,te)=>{ie==="type"?s(te):ie==="dateRange"&&u(te||{})},onReset:()=>{o(""),s("all"),u({})}}),(B||T||j||re||I||W)&&a.jsx(Jt,{className:"bg-red-50 border-red-200",children:a.jsx(vr,{className:"p-4",children:a.jsxs("div",{className:"text-red-800",children:[a.jsx("h3",{className:"font-semibold",children:"    :"}),B&&a.jsx("p",{children:"     "}),T&&a.jsx("p",{children:"     "}),j&&a.jsx("p",{children:"     "}),re&&a.jsx("p",{children:"     "}),I&&a.jsx("p",{children:"     "}),W&&a.jsx("p",{children:"     "}),a.jsx("p",{className:"text-sm mt-2 text-red-600",children:"         ."})]})})}),a.jsx("div",{className:"space-y-4 md:space-y-6",children:ce?a.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(ie=>a.jsx(Jt,{className:"bg-white dark:bg-slate-900",children:a.jsx(vr,{className:"p-4 md:p-6",children:a.jsx(dn,{className:"h-20 w-full"})})},ie))}):z.length===0?a.jsx(Jt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:a.jsx(vr,{className:"p-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx(ia,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"     "})]})})}):a.jsx(Hs,{columns:2,children:z.map(ie=>{const te=ie.type==="income"||ie.type==="transfer_from_project",se=ie.type==="deferred",de=te?"":se?"":"",me=()=>ie.category===" "?"/daily-expenses":ie.category===" "?"/worker-attendance":ie.category===" "?"/worker-accounts":ie.category===" "||ie.type==="deferred"?"/material-purchase":ie.category===""?"/daily-expenses":ie.category===""?"/worker-misc-expenses":ie.category.includes("")?"/project-transfers":"/daily-expenses";return a.jsx(vn,{title:ae(ie.amount),subtitle:jr(new Date(ie.date),"dd/MM/yyyy",{locale:ca}),titleIcon:te?Eq:Cq,headerColor:te?"#10b981":se?"#f59e0b":"#ef4444",badges:[{label:ie.category,variant:te?"default":se?"warning":"destructive"},{label:de,variant:te?"success":se?"warning":"destructive"}],fields:[{label:"",value:ie.projectName||" ",icon:bs,color:"info"},{label:"",value:de,icon:te?Rn:_a,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.category,icon:ia,color:"default"},{label:"",value:ae(ie.amount),icon:kr,color:te?"success":se?"warning":"danger",emphasis:!0},{label:"",value:ie.description,icon:ia,color:"default"}],actions:[{icon:Kc,label:"",onClick:()=>{const ke=me();window.location.href=ke},color:"blue"},...h?[{icon:Ps,label:"",onClick:()=>{confirm(`      
${ie.category} - ${ae(ie.amount)}`)&&f({title:"",description:"  ...",variant:"destructive"})},color:"red"}]:[]],compact:!0},ie.id)})})})]})})})}function ahe(){const{toast:t}=wn(),r=ks(),{setFloatingAction:e}=Zi(),[n,s]=E.useState(null),[i,o]=E.useState(!1),c=[{key:"project",label:"",type:"select",placeholder:" ",options:[]},{key:"transferType",label:" ",type:"select",placeholder:" ",options:[{value:"",label:""},{value:"",label:""},{value:" ",label:" "}]},{key:"dateRange",label:" ",type:"date-range",placeholder:" "}],[u,l]=E.useState(""),[d,p]=E.useState({project:"",transferType:"",dateRange:{from:void 0,to:void 0}}),f=k=>l(k),h=(k,j)=>{p(N=>({...N,[k]:j}))},g=()=>{l(""),p({project:"",transferType:"",dateRange:{from:void 0,to:void 0}})},{data:y=[]}=vt({queryKey:xe.projects,queryFn:async()=>(await Ue("/api/projects","GET")).data||[]}),{data:m=[],isLoading:v,refetch:x}=vt({queryKey:xe.allFundTransfers,queryFn:async()=>(await Ue("/api/projects/all/fund-transfers","GET")).data||[]}),S=E.useMemo(()=>{let k=m;if(u){const j=u.toLowerCase();k=k.filter(N=>N.senderName?.toLowerCase().includes(j)||N.transferNumber?.toLowerCase().includes(j)||N.notes?.toLowerCase().includes(j)||N.projectName?.toLowerCase().includes(j))}if(d.project&&d.project!=="all"&&(k=k.filter(j=>j.projectId===d.project)),d.transferType&&(k=k.filter(j=>j.transferType===d.transferType)),d.dateRange?.from||d.dateRange?.to){const j=d.dateRange.from?new Date(d.dateRange.from).getTime():0,N=d.dateRange.to?new Date(d.dateRange.to).getTime():1/0;k=k.filter(R=>{const O=new Date(R.transferDate).getTime();return O>=j&&O<=N})}return k},[m,u,d]),{totals:C,isLoading:A,refetch:B}=Ih(),q=E.useMemo(()=>({total:m.length,totalAmount:C?.totalIncome||m.reduce((k,j)=>k+(parseFloat(j.amount?.toString()||"0")||0),0),currentBalance:C?.totalBalance||0,filtered:S.length,today:S.filter(k=>new Date(k.transferDate).toDateString()===new Date().toDateString()).length,thisWeek:S.filter(k=>{const j=new Date(k.transferDate),N=new Date,R=new Date(N.getTime()-10080*60*1e3);return j>=R&&j<=N}).length}),[m,S,C]),D=It({mutationFn:async k=>n?Ue(`/api/fund-transfers/${n.id}`,"PATCH",k):Ue("/api/fund-transfers","POST",k),onSuccess:()=>{r.refetchQueries({queryKey:xe.allFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:n?"  ":"   "}),U.reset(),s(null),o(!1)},onError:k=>{t({title:"",description:k.message||"   ",variant:"destructive"})}}),I=It({mutationFn:async k=>Ue(`/api/fund-transfers/${k}`,"DELETE"),onSuccess:()=>{r.refetchQueries({queryKey:xe.allFundTransfers}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:" ",description:"   "})},onError:k=>{t({title:"",description:k.message||"   ",variant:"destructive"})}}),U=Wl({resolver:ql(Vfe),defaultValues:{projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}});E.useEffect(()=>(e(()=>{s(null),U.reset({projectId:"",amount:"",senderName:"",transferNumber:"",transferType:"",transferDate:new Date().toISOString().split("T")[0],notes:""}),o(!0)}," "),()=>e(null)),[e,U]);const K=k=>{if(!k.projectId){t({title:"",description:"  ",variant:"destructive"});return}D.mutate(k)},W=k=>{s(k),U.reset({projectId:k.projectId,amount:k.amount,senderName:k.senderName||"",transferNumber:k.transferNumber||"",transferType:k.transferType||"",transferDate:k.transferDate,notes:k.notes||""}),o(!0)},P=k=>{if(typeof k!="number"){const j=parseFloat(String(k));if(isNaN(j))return"0 .";k=j}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(k)+" ."},L=E.useMemo(()=>y.map(k=>({value:k.id,label:k.name})),[y]),T=E.useMemo(()=>c.map(k=>k.key==="project"?{...k,options:L}:k),[L]),_=E.useMemo(()=>[{columns:4,gap:"sm",items:[{key:"totalAmount",label:" ",value:q.totalAmount,icon:Rn,color:"blue",formatter:P},{key:"totalExpenses",label:" ",value:C?.totalCashExpenses||0,icon:Rn,color:"red",formatter:P},{key:"currentBalance",label:" ",value:q.currentBalance,icon:kr,color:q.currentBalance>=0?"green":"red",formatter:P},{key:"filtered",label:" ",value:q.filtered,icon:ia,color:"purple"}]}],[q,summary]);return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 overflow-hidden flex flex-col",dir:"rtl",children:[a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"px-2 py-3 md:px-6 md:py-6 w-full space-y-4 md:space-y-8 pb-24 md:pb-20",children:[a.jsx(Co,{statsRows:_,searchValue:u,onSearchChange:f,searchPlaceholder:"  ...",showSearch:!0,filters:T,filterValues:d,onFilterChange:h,onReset:g,onRefresh:()=>x(),isRefreshing:v}),a.jsx("div",{className:"space-y-4 md:space-y-6",children:v?a.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(k=>a.jsx(Jt,{className:"bg-white dark:bg-slate-900",children:a.jsx(vr,{className:"p-4 md:p-6",children:a.jsx(dn,{className:"h-20 w-full"})})},k))}):S.length===0?a.jsx(Jt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-lg",children:a.jsx(vr,{className:"p-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx(kr,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"  "}),a.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:"   "})]})})}):a.jsx(Hs,{columns:2,children:S.map(k=>a.jsx(vn,{title:P(parseFloat(k.amount?.toString()||"0")),titleIcon:kr,headerColor:"#10b981",badges:[{label:new Date(k.transferDate).toLocaleDateString("en-GB"),variant:"outline"}],fields:[{label:"",value:k.projectName||" ",icon:bs,color:"info"},{label:"",value:k.senderName||" ",icon:ia,color:"default"},{label:" ",value:k.transferNumber||" ",icon:ia,color:"default"},{label:"",value:k.transferType||" ",icon:ia,color:"default"},{label:"",value:new Date(k.transferDate).toLocaleDateString("en-GB"),icon:ua,color:"info"}],actions:[{icon:Kc,label:"",onClick:()=>W(k),color:"blue"},{icon:Ps,label:"",onClick:()=>I.mutate(k.id),color:"red"}],compact:!0},k.id))})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center p-4",children:a.jsxs(Jt,{className:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-2xl w-full max-h-[90vh] md:max-h-[80vh] md:w-full md:max-w-2xl rounded-t-2xl md:rounded-xl overflow-y-auto",children:[a.jsx(ls,{className:"sticky top-0 border-b border-slate-100 dark:border-slate-800 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 p-4 md:p-5 z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ys,{className:"text-slate-900 dark:text-white text-base md:text-lg",children:n?" ":"  "}),a.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>{o(!1),s(null),U.reset()},className:"h-8 w-8 p-0",children:""})]})}),a.jsx(vr,{className:"p-4 md:p-6 pb-4 md:pb-6",children:a.jsx(Kl,{...U,children:a.jsxs("form",{onSubmit:U.handleSubmit(K),className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[a.jsx(Jr,{control:U.control,name:"amount",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-xs md:text-sm font-semibold",children:" () *"}),a.jsx(sn,{children:a.jsx(xt,{type:"number",step:"0.01",placeholder:"0",...k,autoWidth:!0,maxWidth:250,onChange:j=>k.onChange(j.target.value),className:"h-10 md:h-11 border-2 text-xs md:text-sm"})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(_ce,{name:"transferDate",control:U.control,label:" *",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[a.jsx(Jr,{control:U.control,name:"projectId",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" *"}),a.jsx(sn,{children:a.jsxs(ws,{value:k.value,onValueChange:k.onChange,children:[a.jsx(cs,{className:"h-10 md:h-11 border-2",children:a.jsx(_s,{placeholder:" "})}),a.jsx(us,{className:"z-[100]",children:y.map(j=>a.jsx(wr,{value:j.id,children:j.name},j.id))})]})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(Jr,{control:U.control,name:"transferType",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" "}),a.jsx(sn,{children:a.jsxs(ws,{value:k.value||"",onValueChange:k.onChange,children:[a.jsx(cs,{className:"h-10 md:h-11 border-2",children:a.jsx(_s,{placeholder:" "})}),a.jsxs(us,{className:"z-[100]",children:[a.jsx(wr,{value:"",children:""}),a.jsx(wr,{value:"",children:""}),a.jsx(wr,{value:" ",children:" "})]})]})}),a.jsx(Mn,{className:"text-xs"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[a.jsx(Jr,{control:U.control,name:"senderName",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" "}),a.jsx(sn,{children:a.jsx(Ms,{category:"senderNames",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"h-10 md:h-11 border-2"})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsx(Jr,{control:U.control,name:"transferNumber",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:" "}),a.jsx(sn,{children:a.jsx(Ms,{category:"transferNumbers",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"h-10 md:h-11 border-2"})}),a.jsx(Mn,{className:"text-xs"})]})})]}),a.jsx(Jr,{control:U.control,name:"notes",render:({field:k})=>a.jsxs(Yr,{children:[a.jsx(qn,{className:"text-sm font-semibold",children:""}),a.jsx(sn,{children:a.jsx(Ms,{category:"notes",placeholder:" ",value:k.value||"",onChange:k.onChange,className:"border-2 min-h-24 md:min-h-28"})}),a.jsx(Mn,{className:"text-xs"})]})}),a.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-4 md:p-6 mt-6 -mx-4 md:-mx-6 z-50 flex gap-3 shadow-lg",children:[a.jsx(Ie,{type:"submit",disabled:D.isPending,className:"flex-1 h-10 md:h-11 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold shadow-lg shadow-green-500/30",children:D.isPending?" ...":n?"":" "}),n&&a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{s(null),U.reset()},className:"flex-1 h-10 md:h-11 border-2",children:""})]})]})})})]})})]})}var ihe=Symbol("radix.slottable");function ohe(t){const r=({children:e})=>a.jsx(a.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=ihe,r}var KL="AlertDialog",[lhe]=da(KL,[yR]),Jl=yR(),GL=t=>{const{__scopeAlertDialog:r,...e}=t,n=Jl(r);return a.jsx($4,{...n,...e,modal:!0})};GL.displayName=KL;var che="AlertDialogTrigger",uhe=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Jl(e);return a.jsx(z4,{...s,...n,ref:r})});uhe.displayName=che;var dhe="AlertDialogPortal",XL=t=>{const{__scopeAlertDialog:r,...e}=t,n=Jl(r);return a.jsx(V4,{...n,...e})};XL.displayName=dhe;var fhe="AlertDialogOverlay",QL=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Jl(e);return a.jsx(o0,{...s,...n,ref:r})});QL.displayName=fhe;var Pf="AlertDialogContent",[hhe,phe]=lhe(Pf),mhe=ohe("AlertDialogContent"),YL=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,children:n,...s}=t,i=Jl(e),o=E.useRef(null),c=Pr(r,o),u=E.useRef(null);return a.jsx(pre,{contentName:Pf,titleName:ZL,docsSlug:"alert-dialog",children:a.jsx(hhe,{scope:e,cancelRef:u,children:a.jsxs(l0,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:ut(s.onOpenAutoFocus,l=>{l.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[a.jsx(mhe,{children:n}),a.jsx(yhe,{contentRef:o})]})})})});YL.displayName=Pf;var ZL="AlertDialogTitle",JL=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Jl(e);return a.jsx(Sh,{...s,...n,ref:r})});JL.displayName=ZL;var eB="AlertDialogDescription",tB=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Jl(e);return a.jsx(Nh,{...s,...n,ref:r})});tB.displayName=eB;var ghe="AlertDialogAction",rB=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,s=Jl(e);return a.jsx(c0,{...s,...n,ref:r})});rB.displayName=ghe;var nB="AlertDialogCancel",sB=E.forwardRef((t,r)=>{const{__scopeAlertDialog:e,...n}=t,{cancelRef:s}=phe(nB,e),i=Jl(e),o=Pr(r,s);return a.jsx(c0,{...i,...n,ref:o})});sB.displayName=nB;var yhe=({contentRef:t})=>{const r=`\`${Pf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pf}\` by passing a \`${eB}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},bhe=GL,xhe=XL,aB=QL,iB=YL,oB=rB,lB=sB,cB=JL,uB=tB;const vhe=bhe,whe=xhe,dB=E.forwardRef(({className:t,...r},e)=>a.jsx(aB,{className:Ae("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:e}));dB.displayName=aB.displayName;const fB=E.forwardRef(({className:t,...r},e)=>a.jsxs(whe,{children:[a.jsx(dB,{}),a.jsx(iB,{ref:e,className:Ae("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),style:{pointerEvents:"auto"},...r})]}));fB.displayName=iB.displayName;const hB=({className:t,...r})=>a.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...r});hB.displayName="AlertDialogHeader";const pB=({className:t,...r})=>a.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});pB.displayName="AlertDialogFooter";const mB=E.forwardRef(({className:t,...r},e)=>a.jsx(cB,{ref:e,className:Ae("text-lg font-semibold",t),...r}));mB.displayName=cB.displayName;const gB=E.forwardRef(({className:t,...r},e)=>a.jsx(uB,{ref:e,className:Ae("text-sm text-muted-foreground",t),...r}));gB.displayName=uB.displayName;const yB=E.forwardRef(({className:t,...r},e)=>a.jsx(oB,{ref:e,className:Ae(km(),t),...r}));yB.displayName=oB.displayName;const bB=E.forwardRef(({className:t,...r},e)=>a.jsx(lB,{ref:e,className:Ae(km({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));bB.displayName=lB.displayName;function _he(){return a.jsxs(Jt,{className:"overflow-hidden",children:[a.jsx("div",{className:"h-2 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(dn,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dn,{className:"h-5 w-32"}),a.jsx(dn,{className:"h-3 w-20"})]})]}),a.jsx(dn,{className:"h-6 w-16 rounded-full"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((t,r)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dn,{className:"h-4 w-4 rounded"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx(dn,{className:"h-3 w-12"}),a.jsx(dn,{className:"h-4 w-16"})]})]},r))}),a.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[a.jsx(dn,{className:"h-8 w-8 rounded"}),a.jsx(dn,{className:"h-8 w-8 rounded"})]})]})]})}function khe(){return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-3 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[...Array(6)].map((t,r)=>a.jsxs("div",{className:"flex items-center gap-3 p-2",children:[a.jsx(dn,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(dn,{className:"h-3 w-16"}),a.jsx(dn,{className:"h-5 w-20"})]})]},r))})}function jhe(){return a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gradient-to-l from-gray-50/80 to-white dark:from-gray-900/80 dark:to-gray-800 border border-gray-200/80 dark:border-gray-700/80 rounded-xl",children:[a.jsx(dn,{className:"h-9 flex-1 rounded-lg"}),a.jsx(dn,{className:"h-8 w-8 rounded-lg"}),a.jsxs("div",{className:"flex items-center gap-1 ps-2 border-r border-gray-200 dark:border-gray-700 pe-2",children:[a.jsx(dn,{className:"h-8 w-8 rounded-lg"}),a.jsx(dn,{className:"h-8 w-8 rounded-lg"})]})]})}function She(){return a.jsxs("div",{className:"space-y-2 p-2 animate-in fade-in duration-300",children:[a.jsx(khe,{}),a.jsx(jhe,{}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-4",children:[...Array(8)].map((t,r)=>a.jsx(_he,{},r))})]})}const ta=[];for(let t=0;t<256;++t)ta.push((t+256).toString(16).slice(1));function Nhe(t,r=0){return(ta[t[r+0]]+ta[t[r+1]]+ta[t[r+2]]+ta[t[r+3]]+"-"+ta[t[r+4]]+ta[t[r+5]]+"-"+ta[t[r+6]]+ta[t[r+7]]+"-"+ta[t[r+8]]+ta[t[r+9]]+"-"+ta[t[r+10]]+ta[t[r+11]]+ta[t[r+12]]+ta[t[r+13]]+ta[t[r+14]]+ta[t[r+15]]).toLowerCase()}let X1;const Che=new Uint8Array(16);function The(){if(!X1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X1=crypto.getRandomValues.bind(crypto)}return X1(Che)}const Ehe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XN={randomUUID:Ehe};function Ahe(t,r,e){t=t||{};const n=t.random??t.rng?.()??The();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Nhe(n)}function Phe(t,r,e){return XN.randomUUID&&!t?XN.randomUUID():Ahe(t)}async function Q1(t,r,e){const n=Phe(),s={id:n,action:t,endpoint:r,payload:e,timestamp:Date.now(),retries:0,lastError:void 0};return await pA("syncQueue",s),n}async function Oh(){return(await bh("syncQueue")).sort((r,e)=>r.timestamp-e.timestamp)}async function QN(t){await g_("syncQueue",t)}async function xB(t){await g_("syncQueue",t)}async function Mhe(){const r=(await Oh()).length;return await y_("syncQueue"),r}async function bbe(){const t=await _f("syncQueue"),r=await _f("userData");return{pendingSync:t,localUserData:r,lastUpdate:Date.now()}}class Rhe{constructor(){this.baseURL=`${Hf.getApiBaseUrl()}/api`}async request(r,e={}){const n=typeof window<"u"?localStorage.getItem("accessToken"):null;if(yo.getPlatform()!=="web"&&typeof navigator<"u"&&!navigator.onLine)throw console.warn(` [API] Offline mode on ${yo.getPlatform()}: skipping direct request to ${r}`),new Error("OFFLINE_MODE");try{const s=`${this.baseURL}${r}`;console.log(` API Request: ${e.method||"GET"} ${r}`,e.body||"");const i={"Content-Type":"application/json"};if(n&&n!=="undefined"&&n!=="null"){const u=n.replace(/^["'](.+)["']$/,"$1");i.Authorization=`Bearer ${u}`,i["x-auth-token"]=u}const o=await fetch(s,{...e,headers:{...i,...e.headers}});if(o.status===401&&(await o.clone().json().catch(()=>({}))).code==="TOKEN_EXPIRED"&&r!=="/auth/refresh"){console.log(" [API] Token expired, attempting refresh...");try{const l=await this.post("/auth/refresh",{refreshToken:localStorage.getItem("refreshToken")});if(l&&l.accessToken)return localStorage.setItem("accessToken",l.accessToken),l.refreshToken&&localStorage.setItem("refreshToken",l.refreshToken),this.request(r,e)}catch(l){console.error(" [API] Refresh failed:",l),typeof window<"u"&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/auth")}}if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const c=o.headers.get("content-type");if(c&&c.includes("application/json")){const u=await o.json();return console.log(` API Response: ${e.method||"GET"} ${r}`,u),u}else{const u=await o.text();return console.log(` API Response (non-JSON): ${e.method||"GET"} ${r}`),u}}catch(s){throw console.error(` API Error: ${e.method||"GET"} ${r}`,s),s}}async get(r){return this.request(r,{method:"GET"})}async post(r,e){return this.request(r,{method:"POST",body:e?JSON.stringify(e):void 0})}async put(r,e){return this.request(r,{method:"PUT",body:e?JSON.stringify(e):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}}new Rhe;async function Fh(t,r="GET",e,n=3e4){const s=Hf.getApiBaseUrl(),i=t.startsWith("http")?t:`${s}${t}`,o={"Content-Type":"application/json"},c=typeof window<"u"?localStorage.getItem("accessToken"):null;if(c){const d=c.replace(/^["'](.+)["']$/,"$1");o.Authorization=`Bearer ${d}`,o["x-auth-token"]=d}const u=new AbortController,l=setTimeout(()=>u.abort(),n);try{const d=await fetch(i,{method:r,headers:o,body:e?JSON.stringify(e):void 0,signal:u.signal});if(clearTimeout(l),!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${d.status}`)}const p=d.headers.get("content-type");return p&&p.includes("application/json")?await d.json():await d.text()}catch(d){throw clearTimeout(l),d}}class Dhe{constructor(){this.events=[],this.listeners=[]}logEvent(r){const e={...r,id:crypto.randomUUID(),timestamp:Date.now(),resolved:!1};this.events.push(e),console.log(` [IntelligentMonitor] [${r.severity.toUpperCase()}] ${r.message}`,r.metadata),(r.severity==="high"||r.severity==="critical")&&this.notifyAdmin(e),(r.type==="error"||r.type==="sync")&&this.attemptSelfHealing(e),this.notifyListeners(e)}notifyAdmin(r){mA({title:`  ${r.severity==="critical"?"":""}`,description:r.message,variant:r.severity==="critical"?"destructive":"default"})}async attemptSelfHealing(r){if(r.resolved)return;console.log(` [Self-Healing]   : ${r.id}`);let e="";if(r.type==="sync"){e="      ";try{const{triggerSync:n}=await mn(async()=>{const{triggerSync:s}=await Promise.resolve().then(()=>jB);return{triggerSync:s}},void 0);setTimeout(()=>n(),5e3)}catch(n){console.error(" [Self-Healing]   :",n)}}else(r.message.includes("storage")||r.message.includes("quota"))&&(e="      ");if(e){this.updateEventStatus(r.id,!0,e);try{const{smartSave:n}=await mn(async()=>{const{smartSave:s}=await Promise.resolve().then(()=>Qp);return{smartSave:s}},void 0);await n("systemEvents",[{id:r.id,type:"monitoring",data:{...r,actionTaken:e},timestamp:Date.now()}])}catch(n){console.error(" [IntelligentMonitor]     DB:",n)}}}updateEventStatus(r,e,n){const s=this.events.find(i=>i.id===r);s&&(s.resolved=e,s.actionTaken=n,console.log(` [IntelligentMonitor]   : ${r}  ${n}`))}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(e=>e!==r)}}notifyListeners(r){this.listeners.forEach(e=>e(r))}getEvents(){return[...this.events]}}const cb=new Dhe,vB=["users","emergency_users","auth_user_sessions","email_verification_tokens","password_reset_tokens","project_types","projects","workers","wells","fund_transfers","worker_attendance","suppliers","materials","material_purchases","supplier_payments","transportation_expenses","worker_transfers","worker_balances","daily_expense_summaries","worker_types","autocomplete_data","worker_misc_expenses","backup_logs","backup_settings","print_settings","project_fund_transfers","security_policies","security_policy_suggestions","security_policy_implementations","security_policy_violations","user_project_permissions","permission_audit_logs","report_templates","tool_categories","tools","tool_stock","tool_movements","tool_maintenance_logs","tool_usage_analytics","tool_purchase_items","maintenance_schedules","maintenance_tasks","tool_cost_tracking","tool_reservations","system_notifications","notification_read_states","build_deployments","tool_notifications","approvals","channels","messages","actions","system_events","accounts","transactions","transaction_lines","journals","finance_payments","finance_events","account_balances","notifications","ai_chat_sessions","ai_chat_messages","ai_usage_stats","well_tasks","well_task_accounts","well_expenses","well_audit_logs","material_categories"],Ihe=5,Ohe=2e3;let zu=!1,my=[],cf=0,gy={isSyncing:!1,lastSync:0,pendingCount:0,isOnline:typeof navigator<"u"?navigator.onLine:!0,lastErrorType:void 0,lastErrorDetails:void 0};function gx(t){return my.push(t),()=>{my=my.filter(r=>r!==t)}}function ri(t){gy={...gy,...t},my.forEach(r=>r(gy))}async function Fhe(t,r){try{return await y_(t),await Ic(t,r),console.log(` [ForceSync] Table ${t} synced with ${r.length} records`),!0}catch(e){return console.error(` [ForceSync] Failed to sync ${t}:`,e),!1}}function Em(){return{...gy}}function Lhe(t){return Math.min(3e4,Ohe*Math.pow(2,t))}async function G2(){if(!localStorage.getItem("accessToken"))return console.warn(" [Sync]      "),!1;if(typeof navigator<"u"&&!navigator.onLine)return console.warn(" [Sync]      "),!1;if(zu)return console.log(" [Sync]      "),!1;try{console.log(" [Sync]      ..."),ri({isSyncing:!0}),console.log(" [Sync]   apiRequest  /api/sync/full-backup");const r=await Fh("/api/sync/full-backup","POST",void 0,12e4);if(console.log(" [Sync]  :",r?"":""),!r||typeof r=="object"&&r.code==="INVALID_TOKEN")return console.error(" [Sync]          "),!1;if(!r.success||!r.data)return console.error(" [Sync]     :",r?.error||"  ",r),!1;const{data:e}=r,n=Object.entries(e),s=n.length;let i=0,o=0;if(e.users&&Array.isArray(e.users)){i++,ri({progress:{total:s,current:i,tableName:"users",percentage:Math.round(i/s*100)}}),await Ic("users",e.users);const u=e.users.map(l=>({id:l.id.toString(),email:l.email,password:l.password,name:`${l.firstName||""} ${l.lastName||""}`.trim(),role:l.role||"user"}));await Ic("emergencyUsers",u)}const c=5;for(let u=0;u<n.length;u+=c){const l=n.slice(u,u+c);for(const[d,p]of l)d!=="users"&&Array.isArray(p)&&(i++,ri({progress:{total:s,current:i,tableName:d,percentage:Math.min(100,Math.round(i/s*100))}}),await Ic(d,p),o+=p.length)}return await vb("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.1",recordCount:o,lastSyncTime:Date.now()}),console.log(" [Sync]    !"),ri({isSyncing:!1,lastSync:Date.now(),progress:void 0}),!0}catch(r){const e=r instanceof Error?r.message:"Unknown error";return console.error(" [Sync]    :",e),ri({isSyncing:!1,lastError:` : ${e}`}),r instanceof Error&&r.name==="AbortError"&&console.warn(" [Sync]         "),!1}finally{zu=!1}}async function zc(){if(!zu){if(!navigator.onLine){ri({isOnline:!1});return}zu=!0,ri({isSyncing:!0,isOnline:!0});try{const t=await Oh();if(t.length===0){ri({isSyncing:!1}),zu=!1,cf=0;return}console.log(` [Sync]   ${t.length} ...`);let r=0;for(const e of t)try{const n=Date.now(),s=JSON.stringify(e.payload),i=btoa(encodeURIComponent(s).replace(/%([0-9A-F]{2})/g,(l,d)=>String.fromCharCode(parseInt(d,16)))).substring(0,32),o=await Fh(e.endpoint,e.action==="create"?"POST":e.action==="update"?"PATCH":"DELETE",{...e.payload,_metadata:{signature:i,version:e.payload.version||1,clientTimestamp:Date.now(),deviceId:localStorage.getItem("deviceId")||"web-client"}}),u=Date.now()-n;if(o){await QN(e.id);const l=e.payload.id,d=e.endpoint.split("/")[2];if(d&&l)try{const f=(await bh(d)).find(h=>(h.id||h.key)===l);f&&(f.synced=!0,f.pendingSync=!1,f.isLocal=!1,await Ic(d,[f]),console.log(` [Sync]      ${d}:${l}`))}catch(p){console.warn(` [Sync]       ${d}:`,p)}r++,ri({latency:u,pendingCount:t.length-r})}else console.error(` [Sync]    ${e.id} -     `),cf>Ihe&&(await QN(e.id),console.warn(` [Sync]    ${e.id}    `))}catch(n){cf++;const s=Lhe(cf);cb.logEvent({type:"sync",severity:cf>3?"high":"medium",message:`  : ${n instanceof Error?n.message:"  "}`,metadata:{retryCount:cf,nextRetryDelay:s,itemId:e.id}}),await new Promise(i=>setTimeout(i,s))}ri({lastSync:Date.now(),isSyncing:!1,syncedCount:r})}catch(t){console.error(" [Sync]   :",t),ri({isSyncing:!1}),cb.logEvent({type:"error",severity:"high",message:`    : ${t instanceof Error?t.message:"  "}`})}finally{zu=!1}}}function wB(){window.addEventListener("online",()=>{ri({isOnline:!0}),G2(),zc()}),window.addEventListener("offline",()=>{ri({isOnline:!1})}),(async()=>{console.log(" [Sync]    ..."),await G2(),await zc()})(),setInterval(()=>{navigator.onLine&&zc()},3e4)}function Bhe(){}function yy(){zc().catch(t=>console.error(" [Sync]    :",t))}async function _B(){try{console.log(" [Sync]       ...");const t=await Fh("/api/sync/full-backup","POST",void 0,6e4);if(!t||!t.success||!t.data)throw new Error("Backup failed on server");const{data:r}=t;let e=0;for(const[n,s]of Object.entries(r))Array.isArray(s)&&(await Ic(n,s),e+=s.length);return await vb("syncMetadata",{id:"lastSync",key:"lastSync",timestamp:Date.now(),version:"3.0",recordCount:e}),{recordCount:e}}catch(t){throw console.error(" [Sync]     :",t),t}}function $he(){zu||zc().catch(t=>{console.error(" [Sync]   :",t)})}async function zhe(t,r){try{console.log(" [Sync]   ...");const e=Date.now(),n=await Fh("/api/sync/instant-sync","POST",{tables:t||[],lastSyncTime:r},6e4);if(!n||!n.success||!n.data)throw new Error("Instant sync failed");const{data:s}=n;let i=0;for(const[c,u]of Object.entries(s))Array.isArray(u)&&u.length>0&&(await Ic(c,u),i+=u.length);const o=Date.now()-e;return console.log(` [Sync]   : ${i}   ${o}ms`),ri({lastSync:Date.now()}),{success:!0,totalRecords:i,duration:o}}catch(e){return console.error(" [Sync]    :",e),{success:!1,totalRecords:0,duration:0}}}async function kB(){try{console.log(" [Sync]    ...");const t={};for(const e of vB)try{const n=await bh(e);t[e]=n?.length||0}catch{t[e]=0}const r=await Fh("/api/sync/verify-sync","POST",{clientCounts:t},3e4);if(!r||!r.success)throw new Error("Verify sync failed");return console.log(` [Sync]  : ${r.isMatched?" ":`${r.differences?.length||0} `}`),{isMatched:r.isMatched,differences:r.differences||[],summary:r.summary||{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}catch(t){return console.error(" [Sync]   :",t),{isMatched:!1,differences:[],summary:{totalServerRecords:0,totalClientRecords:0,matchedTables:0,mismatchedTables:0}}}}async function Vhe(){try{const t=await Fh("/api/sync/stats","GET",void 0,3e4);return!t||!t.success?{stats:{},totalRecords:0}:{stats:t.stats||{},totalRecords:t.summary?.totalRecords||0}}catch(t){return console.error(" [Sync]    :",t),{stats:{},totalRecords:0}}}const jB=Object.freeze(Object.defineProperty({__proto__:null,ALL_SYNC_TABLES:vB,forceSyncTable:Fhe,getSyncState:Em,getSyncStats:Vhe,initSyncListener:wB,loadFullBackup:_B,performInitialDataPull:G2,performInstantSync:zhe,startBackgroundSync:$he,stopSyncListener:Bhe,subscribeSyncState:gx,syncOfflineData:zc,triggerSync:yy,verifySyncStatus:kB},Symbol.toStringTag,{value:"Module"})),Uhe=({income:t,expenses:r,balance:e,formatCurrencyFn:n})=>a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[a.jsx(YA,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:n(t)})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600 dark:text-red-400 mb-1",children:[a.jsx(__,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:n(r)})]}),a.jsxs("div",{className:`${e>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-orange-50 dark:bg-orange-900/20"} rounded-lg p-2 text-center`,children:[a.jsxs("div",{className:`flex items-center justify-center gap-1 ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"} mb-1`,children:[a.jsx(od,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:`text-xs font-bold ${e>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:n(e)})]})]});function Whe(){const{toast:t}=wn(),r=ks(),{user:e}=Ql(),n=e?.role==="admin",[s,i]=E.useState(null),[o,c]=E.useState(!1),[u,l]=E.useState(!1),[d,p]=E.useState(null),f=E.useRef(null),h=E.useRef(null),{setFloatingAction:g}=Zi(),[y,m]=E.useState(""),[v,x]=E.useState({status:"all",engineerId:"all"}),[S,C]=E.useState(!1),[A,B]=E.useState(null),[q,D]=E.useState(!1),[I,U]=E.useState(null),[K,W]=E.useState(null),[P,L]=E.useState(!1),T=E.useCallback((ve,be)=>{x(Be=>({...Be,[ve]:be}))},[]),_=E.useCallback(()=>{m(""),x({status:"all",engineerId:"all"}),t({title:"  ",description:"   "})},[t]);E.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const{data:k=[],isLoading:j,refetch:N,error:R}=vt({queryKey:xe.projectsWithStats,staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!1,queryFn:async()=>{try{console.log(" [Projects]    ...");const ve=await Ue("/api/projects/with-stats","GET");let be=[];return ve&&typeof ve=="object"&&(ve.success!==void 0&&ve.data!==void 0?be=Array.isArray(ve.data)?ve.data:[]:Array.isArray(ve)?be=ve:ve.id?be=[ve]:ve.data&&(be=Array.isArray(ve.data)?ve.data:[])),be}catch(ve){return console.error(" [Projects]    :",ve),[]}},refetchInterval:6e4}),O=Array.isArray(k)?k:[],$=O,{totals:X,allProjects:Y,isLoading:re,refetch:F}=Ih({projectId:"all",enabled:!0}),Z=E.useMemo(()=>{const ve=new Map;return Y?.projects&&Y.projects.forEach(be=>{ve.set(be.projectId,be)}),ve},[Y?.projects]),V=E.useCallback(ve=>{const be=Z.get(ve);return be?{totalIncome:be.income?.totalIncome||0,totalExpenses:be.expenses?.totalAllExpenses||0,cashExpenses:be.expenses?.totalCashExpenses||0,currentBalance:be.totalBalance||0,totalWorkers:be.workers?.totalWorkers||0,activeWorkers:be.workers?.activeWorkers||0,completedDays:be.workers?.completedDays||0,materialPurchases:be.expenses?.materialExpenses||0,materialExpensesCredit:be.expenses?.materialExpensesCredit||0,totalTransportation:be.expenses?.transportExpenses||0,totalMiscExpenses:be.expenses?.miscExpenses||0,totalWorkerWages:be.expenses?.workerWages||0,totalFundTransfers:be.income?.fundTransfers||0,totalWorkerTransfers:be.expenses?.workerTransfers||0,incomingProjectTransfers:be.income?.incomingProjectTransfers||0,outgoingProjectTransfers:be.expenses?.outgoingProjectTransfers||0}:null},[Z]),z=E.useCallback(async()=>{C(!0);try{await Promise.all([N(),F()]),t({title:" ",description:"   "})}catch{t({title:"",description:"  ",variant:"destructive"})}finally{C(!1)}},[N,t]),{data:G={users:[]}}=vt({queryKey:xe.usersList,queryFn:async()=>{try{return await Ue("/api/users/list","GET")||{users:[]}}catch(ve){return console.error(" [Projects]    :",ve),{users:[]}}},staleTime:6e4}),ae=E.useMemo(()=>Array.isArray(G?.users)?G.users:[],[G]),{data:pe=[],isLoading:ue}=vt({queryKey:xe.projectTypes,queryFn:async()=>{try{const ve=await Ue("/api/project-types","GET");return ve?.success&&Array.isArray(ve.data)?ve.data:[]}catch(ve){return console.error(" [Projects]     :",ve),[]}},staleTime:6e4}),ge=Wl({resolver:ql(GN),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),ee=Wl({resolver:ql(GN),defaultValues:{name:"",status:"active",engineerId:null,projectTypeId:null}}),oe=async(ve,be)=>{if(!(!be||typeof be!="string"||!be.trim()))try{await Ue("/api/autocomplete","POST",{category:ve,value:be.trim()})}catch(Be){console.log(`Failed to save autocomplete value for ${ve}:`,Be)}},ne=It({mutationFn:ve=>Ue("/api/projects","POST",ve),onSuccess:async(ve,be)=>{await oe("projectNames",be.name),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),yy(),t({title:"   "}),c(!1),ge.reset(),p(null),f.current&&(f.current.value="")},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),fe=It({mutationFn:({id:ve,data:be})=>Ue(`/api/projects/${ve}`,"PATCH",be),onSuccess:async(ve,be)=>{await oe("projectNames",be.data.name),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),yy(),t({title:"   "}),l(!1),i(null),ee.reset(),h.current&&(h.current.value="")},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),ce=It({mutationFn:({id:ve,confirmDeletion:be})=>Ue(`/api/projects/${ve}`,"DELETE",{confirmDeletion:be}),onSuccess:()=>{yy(),r.refetchQueries({queryKey:xe.projects}),r.refetchQueries({queryKey:xe.projectsWithStats}),t({title:"   "}),D(!1),U(null),W(null)},onError:ve=>{t({title:"   ",description:ve.message,variant:"destructive"})}}),ie=async ve=>{L(!0);try{const be=await Ue(`/api/projects/${ve}/deletion-stats`,"GET");be.success&&be.data&&W({stats:be.data.stats,totalLinkedRecords:be.data.totalLinkedRecords,canDelete:be.data.canDelete,deleteBlockReason:be.data.deleteBlockReason||""})}catch(be){t({title:"    ",description:be.message,variant:"destructive"}),D(!1)}finally{L(!1)}},te=ve=>{U(ve),D(!0),ie(ve.id)},se=It({mutationFn:({id:ve,data:be})=>Ue(`/api/projects/${ve}`,"PATCH",be),onMutate:async({id:ve,data:be})=>{await r.cancelQueries({queryKey:xe.projectsWithStats});const Be=r.getQueryData(xe.projectsWithStats);return Array.isArray(Be)&&r.setQueryData(xe.projectsWithStats,Be.map(Xe=>Xe.id===ve?{...Xe,status:be.status}:Xe)),{previousData:Be}},onSuccess:()=>{t({title:" ",description:"    ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(ve,be,Be)=>{Be?.previousData&&r.setQueryData(xe.projectsWithStats,Be.previousData),t({title:"",description:ve.message||"     ",variant:"destructive"})},onSettled:()=>{B(null),r.invalidateQueries({queryKey:xe.projectsWithStats}),r.invalidateQueries({queryKey:xe.projects})}}),de=ve=>{B(ve.id);const be=ve.status==="active"?"paused":"active";se.mutate({id:ve.id,data:{status:be}})},me=ve=>{ne.mutate(ve)},ke=ve=>{if(!s){t({title:"",description:"    ",variant:"destructive"});return}console.log(" [Projects]  :",{id:s.id,name:s.name,newData:ve}),fe.mutate({id:s.id,data:ve})},Ne=(ve,be=!1)=>{ce.mutate({id:ve,confirmDeletion:be})},De=ve=>{i(ve),ee.reset({name:ve.name,status:ve.status,engineerId:ve.engineerId||null,projectTypeId:ve.projectTypeId||null}),l(!0)},Fe=ve=>{switch(ve){case"active":return"";case"completed":return"";case"paused":return"";default:return ve}};E.useEffect(()=>(g(()=>c(!0),"  "),()=>g(null)),[g]);const Ge=E.useMemo(()=>{if(console.log(" [Projects]    ExpenseLedgerService "),X){const ve=$.filter(be=>be.status==="active").length;return{totalProjects:$.length,activeProjects:ve,totalIncome:X.totalIncome||0,totalExpenses:X.totalAllExpenses||X.totalExpenses||0,totalWorkers:X.totalWorkers||0,materialPurchases:0}}return{totalProjects:$.length,activeProjects:$.filter(ve=>ve.status==="active").length,totalIncome:0,totalExpenses:0,totalWorkers:0,materialPurchases:0}},[X,$]),qe=X?.totalBalance??Ge.totalIncome-Ge.totalExpenses,pt=E.useMemo(()=>$.filter(ve=>{if(y&&!ve.name.toLowerCase().includes(y.toLowerCase())||v.status&&v.status!=="all"&&ve.status!==v.status)return!1;if(v.engineerId&&v.engineerId!=="all"){if(v.engineerId==="none"){if(ve.engineerId)return!1}else if(ve.engineerId!==v.engineerId)return!1}return!0}),[$,y,v]),yt=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"totalProjects",label:" ",value:Ge.totalProjects,icon:bs,color:"blue"},{key:"activeProjects",label:" ",value:Ge.activeProjects,icon:Is,color:"blue",showDot:!0,dotColor:"bg-green-500"},{key:"currentBalance",label:" ",value:Je(qe),icon:od,color:qe>=0?"blue":"red"}]},{columns:3,gap:"sm",items:[{key:"totalIncome",label:" ",value:Je(Ge.totalIncome),icon:Rn,color:"green"},{key:"totalWorkers",label:" ",subLabel:"  ",value:Ge.totalWorkers,icon:Ln,color:"amber"},{key:"materialPurchases",label:" ",subLabel:" ",value:Ge.materialPurchases,icon:Nn,color:"gray"}]}],[Ge,qe]),ot=E.useMemo(()=>{const ve=[{key:"status",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"paused",label:""},{value:"completed",label:""}]}];return n&&ve.push({key:"engineerId",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"none",label:" "},...ae.map(be=>({value:be.id,label:be.name}))]}),ve},[ae,n]);return j?a.jsx(She,{}):R?(console.error(" [Projects]    :",R),a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center space-y-1",children:[a.jsx("div",{className:"text-6xl",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"   "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    .    ."}),a.jsxs(Ie,{onClick:()=>N(),className:"gap-2",children:[a.jsx(gs,{className:"h-4 w-4"})," "]})]})})):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 p-2",children:[a.jsx(Co,{hideHeader:!0,title:"",statsRows:yt,searchValue:y,onSearchChange:m,searchPlaceholder:"  ...",filters:ot,filterValues:v,onFilterChange:T,onReset:_,onRefresh:z,isRefreshing:S,resultsSummary:y||v.status!=="all"?{totalCount:O.length,filteredCount:pt.length,totalLabel:"",filteredLabel:"",totalValue:pt.reduce((ve,be)=>{const Be=V(be.id);return ve+(Be?.currentBalance||0)},0),totalValueLabel:"",unit:"."}:void 0}),a.jsx(Ws,{open:o,onOpenChange:c,children:a.jsxs(Rs,{children:[a.jsxs(qs,{children:[a.jsx(la,{children:"  "}),a.jsx(Ll,{children:"   "})]}),a.jsx(Kl,{...ge,children:a.jsxs("form",{onSubmit:ge.handleSubmit(me),className:"space-y-1",children:[a.jsx(Jr,{control:ge.control,name:"name",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsx(sn,{children:a.jsx(Ms,{value:ve.value,onChange:ve.onChange,category:"projectNames",placeholder:" "})}),a.jsx(Mn,{})]})}),n&&a.jsx(Jr,{control:ge.control,name:"engineerId",render:({field:ve})=>{const be=[{value:"none",label:" "},...ae.map(Be=>({value:Be.id,label:`${Be.name} (${Be.role})`}))];return a.jsxs(Yr,{children:[a.jsx(qn,{children:" / "}),a.jsx(sn,{children:a.jsx(is,{value:ve.value||"none",onValueChange:Be=>ve.onChange(Be==="none"?null:Be),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),a.jsx(Mn,{})]})}}),a.jsx(Jr,{control:ge.control,name:"projectTypeId",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsx(sn,{children:a.jsx(F2,{value:ve.value?.toString()||"",onValueChange:be=>ve.onChange(be?parseInt(be):null),projectTypes:pe,placeholder:ue?" ...":"  ...",disabled:ue})}),a.jsx(Mn,{})]})}),a.jsx(Jr,{control:ge.control,name:"status",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsxs(ws,{onValueChange:ve.onChange,defaultValue:ve.value,children:[a.jsx(sn,{children:a.jsx(cs,{children:a.jsx(_s,{placeholder:"  "})})}),a.jsxs(us,{children:[a.jsx(wr,{value:"active",children:""}),a.jsx(wr,{value:"paused",children:""}),a.jsx(wr,{value:"completed",children:""})]})]}),a.jsx(Mn,{})]})}),a.jsx(Qy,{children:a.jsx(Ie,{type:"submit",disabled:ne.isPending,children:ne.isPending?" ...":" "})})]})})]})}),a.jsx(Ws,{open:u,onOpenChange:l,children:a.jsxs(Rs,{children:[a.jsxs(qs,{children:[a.jsx(la,{children:" "}),a.jsx(Ll,{children:"  "})]}),a.jsx(Kl,{...ee,children:a.jsxs("form",{onSubmit:ee.handleSubmit(ke),className:"space-y-1",children:[a.jsx(Jr,{control:ee.control,name:"name",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsx(sn,{children:a.jsx(Ms,{value:ve.value,onChange:ve.onChange,category:"projectNames",placeholder:" "})}),a.jsx(Mn,{})]})}),n&&a.jsx(Jr,{control:ee.control,name:"engineerId",render:({field:ve})=>{const be=[{value:"none",label:" "},...ae.map(Be=>({value:Be.id,label:`${Be.name} (${Be.role})`}))];return a.jsxs(Yr,{children:[a.jsx(qn,{children:" / "}),a.jsx(sn,{children:a.jsx(is,{value:ve.value||"none",onValueChange:Be=>ve.onChange(Be==="none"?null:Be),options:be,placeholder:"  ",searchPlaceholder:"  ...",emptyText:"  "})}),a.jsx(Mn,{})]})}}),a.jsx(Jr,{control:ee.control,name:"projectTypeId",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsx(sn,{children:a.jsx(F2,{value:ve.value?.toString()||"",onValueChange:be=>ve.onChange(be?parseInt(be):null),projectTypes:pe,placeholder:ue?" ...":"  ...",disabled:ue})}),a.jsx(Mn,{})]})}),a.jsx(Jr,{control:ee.control,name:"status",render:({field:ve})=>a.jsxs(Yr,{children:[a.jsx(qn,{children:" "}),a.jsxs(ws,{onValueChange:ve.onChange,defaultValue:ve.value,children:[a.jsx(sn,{children:a.jsx(cs,{children:a.jsx(_s,{placeholder:"  "})})}),a.jsxs(us,{children:[a.jsx(wr,{value:"active",children:""}),a.jsx(wr,{value:"paused",children:""}),a.jsx(wr,{value:"completed",children:""})]})]}),a.jsx(Mn,{})]})}),a.jsxs(Qy,{children:[a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:fe.isPending,children:""}),a.jsx(Ie,{type:"submit",disabled:fe.isPending||!s,className:"gap-2",children:fe.isPending?"  ...":"  "})]})]})})]})}),pt.length===0?a.jsxs(Jt,{className:"p-12 text-center",children:[a.jsx(bs,{className:"h-16 w-16 mx-auto text-muted-foreground"}),a.jsx("h3",{className:"text-xl font-semibold",children:O.length===0?"  ":"  "}),a.jsx("p",{className:"text-muted-foreground",children:O.length===0?"   ":"     "}),O.length===0&&a.jsxs(Ie,{onClick:()=>c(!0),className:"gap-2",children:[a.jsx(gs,{className:"h-4 w-4"}),"  "]})]}):a.jsx(Hs,{columns:4,children:pt.map(ve=>{const be=V(ve.id),Be=be?.totalIncome||0,Xe=be?.totalExpenses||0,Et=be?.currentBalance||0;be?.totalWorkers,be?.materialPurchases,be?.completedDays;const Kt=ve.status==="active"?"success":ve.status==="completed"?"default":"destructive";return a.jsx(vn,{title:ve.name,subtitle:Oo(ve.createdAt),titleIcon:bs,headerColor:ve.status==="active"?"#22c55e":ve.status==="completed"?"#3b82f6":"#ef4444",badges:[{label:Fe(ve.status),variant:Kt}],fields:[{label:"",value:Je(be?.materialPurchases||0),icon:Nn,color:"warning"},{label:"",value:Je(be?.totalTransportation||0),icon:Wo,color:"info"},{label:"",value:Je(be?.totalMiscExpenses||0),icon:od,color:"default"},{label:" ",value:Je(be?.totalWorkerWages||0),icon:Ln,color:"success"},{label:" ()",value:Je(be?.outgoingProjectTransfers||0),icon:YA,color:"red"},{label:" ()",value:Je(be?.incomingProjectTransfers||0),icon:__,color:"success"},{label:" ",value:Je(be?.totalWorkerTransfers||0),icon:kr,color:"orange"},{label:"",value:ve.engineerId?ae.find(_t=>_t.id===ve.engineerId)?.name||" ":" ",icon:iH,color:ve.engineerId?"info":"muted"}],actions:[{icon:Kc,label:"",onClick:()=>De(ve),color:"blue"},{icon:a7,label:ve.status==="active"?"":"",onClick:()=>de(ve),disabled:A===ve.id,color:ve.status==="active"?"yellow":"green"},{icon:Ps,label:"",onClick:()=>te(ve),color:"red"}],footer:a.jsx(Uhe,{income:Be,expenses:Xe,balance:Et,formatCurrencyFn:Je}),compact:!0},ve.id)})})]}),a.jsx(vhe,{open:q,onOpenChange:D,children:a.jsxs(fB,{className:"max-w-md",children:[a.jsxs(hB,{children:[a.jsx(mB,{className:"text-right",children:"  "}),a.jsx(gB,{className:"text-right space-y-3",children:P?a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):K?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"font-medium text-base",children:['      "',I?.name,'"']}),K.canDelete?K.totalLinkedRecords>0?a.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 space-y-2",children:[a.jsxs("p",{className:"text-orange-700 dark:text-orange-300 font-medium",children:["  ",K.totalLinkedRecords,"  :"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-sm text-orange-600 dark:text-orange-400",children:[K.stats.fundTransfers>0&&a.jsxs("div",{children:[" : ",K.stats.fundTransfers]}),K.stats.workerAttendance>0&&a.jsxs("div",{children:[" : ",K.stats.workerAttendance]}),K.stats.materialPurchases>0&&a.jsxs("div",{children:[" : ",K.stats.materialPurchases]}),K.stats.transportationExpenses>0&&a.jsxs("div",{children:[" : ",K.stats.transportationExpenses]}),K.stats.workerTransfers>0&&a.jsxs("div",{children:[" : ",K.stats.workerTransfers]}),K.stats.workerMiscExpenses>0&&a.jsxs("div",{children:[": ",K.stats.workerMiscExpenses]}),K.stats.dailySummaries>0&&a.jsxs("div",{children:[" : ",K.stats.dailySummaries]}),(K.stats.projectTransfersFrom>0||K.stats.projectTransfersTo>0)&&a.jsxs("div",{children:["  : ",(K.stats.projectTransfersFrom||0)+(K.stats.projectTransfersTo||0)]}),K.stats.workerBalances>0&&a.jsxs("div",{children:[" : ",K.stats.workerBalances]}),K.stats.supplierPayments>0&&a.jsxs("div",{children:[" : ",K.stats.supplierPayments]})]}),a.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold text-sm pt-1",children:"     !"})]}):a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 text-green-700 dark:text-green-300",children:"     .   ."}):a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-red-700 dark:text-red-300",children:K.deleteBlockReason})]}):a.jsx("p",{children:"  ..."})})]}),a.jsxs(pB,{className:"flex-row-reverse gap-2",children:[a.jsx(bB,{children:""}),K?.canDelete&&a.jsx(yB,{onClick:()=>{I&&Ne(I.id,!0)},className:"bg-red-600 hover:bg-red-700 text-white",disabled:ce.isPending,children:ce.isPending?" ...":" "})]})]})})]})}function qhe({onAddWorker:t,onAddProject:r}){const[,e]=Gs(),n=[{id:"add-worker",label:" ",icon:oH,action:t,gradient:"from-teal-500 to-teal-600",iconColor:"text-white"},{id:"add-project",label:" ",icon:zq,action:r,gradient:"from-violet-500 to-violet-600",iconColor:"text-white"},{id:"project-fund-custody",label:" ",icon:kr,route:"/project-fund-custody",gradient:"from-blue-500 to-blue-600",iconColor:"text-white"},{id:"project-transfers",label:" ",icon:Oc,route:"/project-transfers",gradient:"from-purple-500 to-purple-600",iconColor:"text-white"},{id:"supplier-accounts",label:" ",icon:bs,route:"/supplier-accounts",gradient:"from-amber-500 to-amber-600",iconColor:"text-white"},{id:"equipment",label:" ",icon:wi,route:"/equipment",gradient:"from-slate-500 to-slate-600",iconColor:"text-white"},{id:"worker-accounts",label:" ",icon:kr,route:"/worker-accounts",gradient:"from-cyan-500 to-cyan-600",iconColor:"text-white"},{id:"reports",label:"",icon:Uw,route:"/reports",gradient:"from-indigo-500 to-indigo-600",iconColor:"text-white"},{id:"ai-chat",label:" ",icon:GA,route:"/ai-chat",gradient:"from-pink-500 to-pink-600",iconColor:"text-white"}],s=i=>{i.action?i.action():i.route&&e(i.route)};return a.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",dir:"rtl",children:n.map(i=>{const o=i.icon;return a.jsxs("button",{onClick:()=>s(i),className:Ae("flex flex-col items-center justify-center","p-3 sm:p-4 rounded-xl","bg-gradient-to-br",i.gradient,"shadow-md hover:shadow-lg","transform hover:scale-[1.02] active:scale-[0.98]","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","min-h-[80px] sm:min-h-[90px]"),children:[a.jsx(o,{className:Ae("h-6 w-6 sm:h-7 sm:w-7 mb-1.5 sm:mb-2",i.iconColor)}),a.jsx("span",{className:Ae("text-[11px] sm:text-xs font-medium text-center leading-tight",i.iconColor),children:i.label})]},i.id)})})}const Hhe=t=>({transfer:"",expense:"",income:"",attendance:"",material:"",transport:"",payment:""})[t]||t;async function Khe(t,r){const e=(await mn(async()=>{const{default:B}=await Promise.resolve().then(()=>XO);return{default:B}},void 0)).default,n=new e.Workbook;n.creator=po.name,n.created=new Date;const s=n.addWorksheet(" ",{views:[{rightToLeft:!0}],pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0,margins:{left:.3,right:.3,top:.5,bottom:.5,header:.3,footer:.3}}});let i=1;s.mergeCells(`A${i}:G${i}`);const o=s.getCell(`A${i}`);o.value=po.name,o.font={bold:!0,size:16,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1F5A96"}},o.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=30,i++,s.mergeCells(`A${i}:G${i}`);const c=s.getCell(`A${i}`);c.value=po.subtitle,c.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2E75B6"}},c.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=25,i++,s.mergeCells(`A${i}:G${i}`);const u=s.getCell(`A${i}`);u.value=`  - ${new Date().toLocaleDateString("ar-SA")}`,u.font={bold:!0,size:14,color:{argb:"FF1F5A96"}},u.alignment={horizontal:"center",vertical:"middle"},s.getRow(i).height=28,i++,i++;const l=["#"," ","","","",""," "],d=s.getRow(i);l.forEach((B,q)=>{const D=d.getCell(q+1);D.value=B,D.font=Ir.tableHeader.font,D.fill=Ir.tableHeader.fill,D.alignment=Ir.tableHeader.alignment,D.border=Ir.tableHeader.border}),d.height=28,i++,s.getColumn(1).width=6,s.getColumn(2).width=15,s.getColumn(3).width=18,s.getColumn(4).width=20,s.getColumn(5).width=18,s.getColumn(6).width=30,s.getColumn(7).width=22;let p=0;t.forEach((B,q)=>{const D=s.getRow(i),I=q%2===0?Ir.tableCell:Ir.tableCellAlt,U=new Date(B.createdAt),K=U.toLocaleDateString("ar-SA"),W=U.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0});[q+1,B.actionLabel||Hhe(B.actionType),B.userName||"",B.projectName||"",B.amount?r(B.amount):"-",B.description||"-",`${K} ${W}`].forEach((L,T)=>{const _=D.getCell(T+1);_.value=L,_.font=I.font,I.fill&&(_.fill=I.fill),_.alignment=I.alignment,_.border=I.border}),D.height=24,B.amount&&(p+=B.amount),i++}),i++;const f=s.getRow(i);s.mergeCells(`A${i}:D${i}`);const h=f.getCell(1);h.value=` : ${t.length}`,h.font=Ir.summaryRow.font,h.fill=Ir.summaryRow.fill,h.alignment=Ir.summaryRow.alignment,h.border=Ir.summaryRow.border;const g=f.getCell(5);g.value=r(p),g.font=Ir.greenRow.font,g.fill=Ir.greenRow.fill,g.alignment=Ir.greenRow.alignment,g.border=Ir.greenRow.border,s.mergeCells(`F${i}:G${i}`);const y=f.getCell(6);y.value=` : ${new Date().toLocaleDateString("ar-SA")} ${new Date().toLocaleTimeString("ar-SA")}`,y.font={size:10,italic:!0},y.alignment={horizontal:"center",vertical:"middle"},f.height=26,i+=2;const m=s.getRow(i);s.mergeCells(`A${i}:C${i}`);const v=m.getCell(1);v.value="  : ________________",v.font=Ir.signatureBox.font,v.alignment=Ir.signatureBox.alignment,v.border=Ir.signatureBox.border,s.mergeCells(`E${i}:G${i}`);const x=m.getCell(5);x.value="  : ________________",x.font=Ir.signatureBox.font,x.alignment=Ir.signatureBox.alignment,x.border=Ir.signatureBox.border,m.height=35,i+=2,s.mergeCells(`A${i}:G${i}`);const S=s.getCell(`A${i}`);S.value=`${po.name} | ${po.address} |     `,S.font=Ir.footer.font,S.alignment=Ir.footer.alignment;const C=await n.xlsx.writeBuffer(),A=`__${new Date().toISOString().split("T")[0]}.xlsx`;return await Mh(C,A)}const Ghe=t=>{switch(t){case"transfer":return Yp;case"expense":return _a;case"income":return Rn;case"attendance":return Ln;case"material":return Nn;case"transport":return oa;case"payment":return od;default:return Is}},Xhe=t=>{switch(t){case"transfer":return"default";case"expense":return"destructive";case"income":return"default";default:return"secondary"}},Qhe=t=>{switch(t){case"transfer":return"bg-purple-500";case"expense":return"bg-red-500";case"income":return"bg-green-500";case"attendance":return"bg-blue-500";case"material":return"bg-amber-500";case"transport":return"bg-cyan-500";case"payment":return"bg-emerald-500";default:return"bg-slate-500"}},SB=E.memo(({activity:t,formatCurrency:r})=>{const e=Ghe(t.actionType),n=Qhe(t.actionType);return a.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 p-2.5 min-w-[200px] max-w-[240px] hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group",title:t.description||"",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:`${n} p-1.5 rounded-lg flex-shrink-0`,children:a.jsx(e,{className:"h-3.5 w-3.5 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(xr,{variant:Xhe(t.actionType),className:"text-[9px] px-1.5 py-0 h-4 font-medium",children:t.actionLabel||t.actionType}),t.amount&&t.amount>0&&a.jsx("span",{className:"text-[10px] font-bold text-green-600 dark:text-green-400 mr-auto",children:r(t.amount)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[a.jsx(Xm,{className:"h-2.5 w-2.5 text-blue-500 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t.userName||""})]}),a.jsxs("div",{className:"flex items-center gap-0.5 truncate max-w-[70px]",children:[a.jsx(bs,{className:"h-2.5 w-2.5 text-emerald-500 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:t.projectName||""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-0.5",children:[a.jsx(ua,{className:"h-2.5 w-2.5 text-orange-500 flex-shrink-0"}),a.jsx("span",{children:Oo(t.createdAt)})]}),a.jsxs("div",{className:"flex items-center gap-0.5",dir:"ltr",children:[a.jsx(ns,{className:"h-2.5 w-2.5 text-rose-500 flex-shrink-0"}),a.jsx("span",{children:new Date(t.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]})]})})});SB.displayName="ActivityChip";const NB=E.memo(({activities:t,formatCurrency:r})=>{const[e,n]=E.useState(!1),s=async()=>{if(!(e||!t||t.length===0)){n(!0);try{await Khe(t,r)}catch(i){console.error("  :",i)}finally{n(!1)}}};return!t||t.length===0?null:a.jsxs("div",{className:"bg-gradient-to-l from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-950/30 dark:via-indigo-950/25 dark:to-purple-950/30 rounded-xl border border-blue-200/60 dark:border-blue-800/40 p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2.5",children:[a.jsx("div",{className:"bg-blue-500 p-1 rounded-lg",children:a.jsx(Is,{className:"h-3.5 w-3.5 text-white"})}),a.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:" "}),a.jsx(xr,{variant:"secondary",className:"h-5 text-[10px] px-2 font-medium",children:t.length}),a.jsxs(Ie,{variant:"outline",size:"sm",onClick:s,disabled:e,className:"h-6 px-2 text-[10px] gap-1 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:hover:bg-green-900 dark:text-green-400 dark:border-green-700",children:[e?a.jsx(Zr,{className:"h-3 w-3 animate-spin"}):a.jsx(Hm,{className:"h-3 w-3"})," Excel"]}),a.jsx("div",{className:"flex-1"}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:"  "})]}),a.jsxs(Yl,{className:"w-full",dir:"rtl",children:[a.jsx("div",{className:"flex gap-2 pb-2",style:{direction:"rtl"},children:t.slice(0,15).map((i,o)=>a.jsx(SB,{activity:i,formatCurrency:r},i.id||o))}),a.jsx(a3,{orientation:"horizontal",className:"h-1.5"})]})]})});NB.displayName="RecentActivitiesStrip";function Yhe({size:t="md",className:r="",variant:e="default"}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return e==="professional"?a.jsxs(kn.div,{className:`relative ${n[t]} ${r}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/30"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary border-t-transparent"}),a.jsx(kn.div,{className:"absolute inset-1 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}):e==="minimal"?a.jsx(kn.div,{className:`${n[t]} border-2 border-muted border-t-primary rounded-full ${r}`,animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):a.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary ${n[t]} ${r}`})}function Zhe(){return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(Yhe,{size:"lg"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:" ..."})]})})}function Jhe(t){if(t)return new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0)}function Y1({value:t,onChange:r,placeholder:e=" ",disabled:n=!1,className:s,showClearButton:i=!0,dateFormat:o="dd MMMM yyyy",minDate:c,maxDate:u}){const[l,d]=E.useState(!1),p=E.useCallback(g=>{if(!g)return;const y=Jhe(g);r(y),setTimeout(()=>d(!1),10)},[r]),f=E.useCallback(g=>{g.preventDefault(),g.stopPropagation(),r(void 0)},[r]),h=E.useMemo(()=>{const g=[];return c&&g.push({before:c}),u&&g.push({after:u}),g.length>0?g:void 0},[c,u]);return a.jsxs(J4,{open:l,onOpenChange:d,modal:!1,children:[a.jsx(e3,{asChild:!0,children:a.jsxs(Ie,{variant:"outline",disabled:n,className:Ae("w-full justify-between text-right h-12 rounded-xl group bg-white dark:bg-gray-950 border-border/60 shadow-sm hover:border-primary transition-all relative",!t&&"text-muted-foreground",s),children:[a.jsxs("span",{className:"flex items-center gap-2 flex-1 text-right",children:[a.jsx(ua,{className:"h-4 w-4 opacity-50 shrink-0"}),a.jsx("span",{className:"truncate font-bold",children:t?jr(t,o,{locale:ca}):e})]}),i&&t&&a.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 h-8 w-8 flex items-center justify-center rounded-full hover:bg-destructive/10 text-muted-foreground hover:text-destructive transition-colors z-[100]",onClick:f,children:a.jsx(Us,{className:"h-4 w-4"})})]})}),a.jsx(nx,{className:"w-auto p-0 pointer-events-auto overflow-visible shadow-2xl border-border/40 z-[1000]",align:"start",dir:"rtl",children:a.jsx(v3,{mode:"single",selected:t,onSelect:p,disabled:h,locale:ca,dir:"rtl",initialFocus:!0})})]})}function epe({config:t,value:r,onChange:e}){const[n,s]=E.useState(t.options||[]),[i,o]=E.useState(!1);return E.useEffect(()=>{t.asyncOptions&&n.length===0&&(o(!0),t.asyncOptions().then(s).catch(console.error).finally(()=>o(!1)))},[t.asyncOptions]),a.jsxs(ws,{value:r,onValueChange:e,children:[a.jsx(cs,{className:"h-9",children:a.jsx(_s,{placeholder:i?t.loadingText||" ...":t.placeholder})}),a.jsx(us,{className:"z-[10002]",position:"popper",children:n.map(c=>a.jsx(wr,{value:c.value,children:c.label},c.value))})]})}function yx({searchValue:t="",onSearchChange:r,searchPlaceholder:e="...",showSearch:n=!0,filters:s=[],filterValues:i={},onFilterChange:o,onReset:c,showResetButton:u=!0,className:l,compact:d=!1,showActiveFilters:p=!0}){const[f,h]=E.useState(!1),y=Object.entries(i).filter(([D,I])=>{const U=s.find(K=>K.key===D);return U?U.type==="date"?I instanceof Date:U.type==="date-range"?I?.from||I?.to:I&&I!=="all"&&I!==U?.defaultValue:!1}).map(([D,I])=>{const U=s.find(W=>W.key===D);let K="";return U?.type==="date"&&I instanceof Date?K=jr(I,"yyyy/MM/dd",{locale:ca}):U?.type==="date-range"?I?.from&&I?.to?K=`${jr(I.from,"MM/dd")} - ${jr(I.to,"MM/dd")}`:I?.from&&(K=` ${jr(I.from,"MM/dd")}`):K=U?.options?.find(P=>P.value===I)?.label||I,{key:D,filterLabel:U?.label||D,valueLabel:K}}),m=y.length,v=t.length>0||m>0,x=E.useCallback(D=>{r?.(D.target.value)},[r]),S=E.useCallback((D,I)=>{o?.(D,I)},[o]),C=E.useCallback(()=>{c?.(),h(!1)},[c]),A=E.useCallback(()=>{r?.("")},[r]),B=E.useCallback(D=>{const I=s.find(U=>U.key===D);I?.type==="date"||I?.type==="date-range"?o?.(D,void 0):o?.(D,I?.defaultValue||"all")},[s,o]),q=D=>{const I=i[D.key];switch(D.type){case"date":return a.jsx("div",{onClick:W=>W.stopPropagation(),className:"relative",children:a.jsx(Y1,{value:I,onChange:W=>S(D.key,W),placeholder:D.placeholder,showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})});case"date-range":const U=I?.from instanceof Date?I.from:I?.from?new Date(I.from):void 0,K=I?.to instanceof Date?I.to:I?.to?new Date(I.to):void 0;return a.jsxs("div",{onClick:W=>W.stopPropagation(),className:"space-y-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),a.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:a.jsx(Y1,{value:U,onChange:W=>S(D.key,{...I,from:W}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ze,{className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:" "}),a.jsx("div",{className:"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5",children:a.jsx(Y1,{value:K,onChange:W=>S(D.key,{...I,to:W}),placeholder:" ",showClearButton:!0,className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium w-full"})})]})]});case"async-select":return a.jsx("div",{onClick:W=>W.stopPropagation(),children:a.jsx(epe,{config:D,value:I||D.defaultValue||"all",onChange:W=>S(D.key,W)})});default:return a.jsx("div",{onClick:W=>W.stopPropagation(),children:a.jsxs(ws,{value:String(I||D.defaultValue||"all"),onValueChange:W=>S(D.key,W),children:[a.jsx(cs,{className:"h-14 border-0 focus:ring-0 shadow-none bg-transparent px-4 text-right font-medium",children:a.jsx(_s,{placeholder:D.placeholder||` ${D.label}`})}),a.jsx(us,{className:"rounded-2xl shadow-2xl border-2 z-[10002]",position:"popper",children:D.options?.map(W=>a.jsx(wr,{value:String(W.value),className:"rounded-xl my-1 py-3 text-right",children:W.label},W.value))})]})})}};return a.jsxs("div",{className:Ae("space-y-2",l),children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-900 border-2 border-border/50 rounded-2xl shadow-sm transition-all focus-within:border-primary/30 focus-within:shadow-md",children:[n&&a.jsxs("div",{className:"relative flex-1",children:[a.jsx(bo,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),a.jsx(xt,{placeholder:e,value:t,onChange:x,className:"pr-12 pl-10 h-12 bg-slate-50/50 dark:bg-slate-800/50 border-none rounded-xl font-medium focus-visible:ring-2 focus-visible:ring-primary/20 transition-all"}),t&&a.jsx(Ie,{variant:"ghost",size:"sm",onClick:A,className:"absolute left-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Us,{className:"h-3 w-3"})})]}),s.length>0&&a.jsxs(ix,{open:f,onOpenChange:h,children:[a.jsx(i3,{asChild:!0,children:a.jsxs(Ie,{variant:"outline",size:"sm",className:Ae("h-9 gap-1.5 px-3 relative",m>0&&"border-primary text-primary"),"data-testid":"button-open-filters",children:[a.jsx(p6,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:""}),m>0&&a.jsx(xr,{variant:"default",className:"h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full absolute -top-1.5 -left-1.5",children:m})]})}),a.jsx(d0,{side:"bottom",className:"h-[85vh] sm:h-[80vh] sm:max-w-2xl rounded-t-[2.5rem] p-0 overflow-y-auto border-t-0 bg-white dark:bg-gray-950 shadow-[0_-20px_50px_-12px_rgba(0,0,0,0.1)] z-[10001]",dir:"rtl",onPointerDownOutside:D=>{const I=D.target;(I.closest(".rdp")||I.closest('[role="listbox"]')||I.closest(".relative"))&&D.preventDefault()},onInteractOutside:D=>{const I=D.target;(I.closest(".rdp")||I.closest('[role="listbox"]'))&&D.preventDefault()},children:a.jsxs("div",{className:"flex flex-col h-full relative p-6 pb-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 flex-shrink-0",children:[a.jsx(uI,{asChild:!0,children:a.jsx(Ie,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 hover:bg-muted transition-all",children:a.jsx(Us,{className:"h-5 w-5"})})}),a.jsx(f0,{className:"text-xl font-bold text-center flex-1 mr-8",children:" "}),a.jsx("div",{className:"h-1.5 w-12 bg-slate-200 dark:bg-slate-800 rounded-full"})]}),a.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto custom-scrollbar px-1 pb-32 pt-2",children:[a.jsx("div",{className:"space-y-10 max-w-xl mx-auto",children:s.map(D=>a.jsxs("div",{className:Ae("relative group",D.type==="date-range"?"pt-2":""),children:[D.type!=="date-range"&&a.jsx(Ze,{htmlFor:D.key,className:"absolute -top-2.5 right-4 px-2 bg-white dark:bg-gray-950 text-xs font-medium text-muted-foreground z-10 transition-colors group-focus-within:text-primary",children:D.label}),a.jsx("div",{className:Ae(D.type!=="date-range"&&"relative border-2 border-muted/50 rounded-2xl overflow-hidden transition-all focus-within:border-primary/50 focus-within:ring-4 focus-within:ring-primary/5"),children:q(D)})]},D.key))}),s.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[a.jsx(p6,{className:"w-12 h-12 mb-4 opacity-20"}),a.jsx("p",{children:"    "})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-white via-white/95 to-transparent dark:from-gray-950 dark:via-gray-950/95 z-50",children:a.jsx("div",{className:"max-w-xl mx-auto",children:a.jsx(Ie,{className:"w-full h-14 text-lg font-bold rounded-2xl shadow-xl shadow-red-500/20 bg-[#e31e33] hover:bg-[#c41a2c] text-white transition-all active:scale-[0.98]",onClick:()=>h(!1),children:""})})})]})})]}),u&&v&&a.jsx(Ie,{variant:"ghost",size:"sm",onClick:C,className:"h-9 w-9 p-0 text-muted-foreground hover:text-destructive",title:" ",children:a.jsx(kf,{className:"h-4 w-4"})})]}),p&&(y.length>0||t)&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-1",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:" :"}),t&&a.jsxs(xr,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:A,children:[': "',t.length>15?t.substring(0,15)+"...":t,'"',a.jsx(Us,{className:"h-3 w-3"})]}),y.map(D=>a.jsxs(xr,{variant:"secondary",className:"gap-1 px-2 py-0.5 text-xs cursor-pointer hover:bg-destructive/20",onClick:()=>B(D.key),children:[D.filterLabel,": ",D.valueLabel,a.jsx(Us,{className:"h-3 w-3"})]},D.key)),(y.length>1||y.length>0&&t)&&a.jsx(Ie,{variant:"ghost",size:"sm",onClick:C,className:"h-6 px-2 text-xs text-destructive hover:text-destructive",children:" "})]})]})}function w0(t,r=""){const[e,n]=E.useState(r),[s,i]=E.useState(t),o=E.useCallback(l=>{n(l)},[]),c=E.useCallback((l,d)=>{i(p=>({...p,[l]:d}))},[]),u=E.useCallback(()=>{n(""),i(t)},[t]);return{searchValue:e,filterValues:s,setSearchValue:o,setFilterValue:c,reset:u,onSearchChange:o,onFilterChange:c,onReset:u}}function tpe(){Gs();const{selectedProjectId:t,selectProject:r}=No(),[e,n]=E.useState(!1),[s,i]=E.useState(!1),[o,c]=E.useState({name:"",phone:"",type:"",dailyWage:""}),[u,l]=E.useState(!1),[d,p]=E.useState(""),[f,h]=E.useState({name:"",status:"active",description:"",projectTypeId:null}),g=ks(),{toast:y}=wn(),{searchValue:m,filterValues:v}=w0({status:"all"},""),{totals:x,isLoading:S}=Ih({projectId:t||"all",enabled:!0}),C={staleTime:1e3*60*5,gcTime:1e3*60*30,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1},{data:A=[],isLoading:B,error:q}=vt({queryKey:xe.projectsWithStats,queryFn:async()=>{try{console.log(" [Dashboard]    ...");const F=await Ue("/api/projects/with-stats","GET");let Z=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Z=Array.isArray(F.data)?F.data:[]:Array.isArray(F)?Z=F:F.id?Z=[F]:F.data&&(Z=Array.isArray(F.data)?F.data:[])),Array.isArray(Z)||(Z=[]),console.log(` [Dashboard]   ${Z.length}   `),Z}catch(F){return console.error(" [Dashboard]    :",F),[]}},...C}),{data:D=[]}=vt({queryKey:xe.workerTypes,queryFn:async()=>{try{const F=await Ue("/api/worker-types","GET");return F&&F.data&&Array.isArray(F.data)?F.data:Array.isArray(F)?F:[]}catch(F){return console.error("Error fetching worker types:",F),[]}}}),{data:I=[],isLoading:U}=vt({queryKey:xe.projectTypes,queryFn:async()=>{try{const F=await Ue("/api/project-types","GET");return F?.success&&Array.isArray(F.data)?F.data:[]}catch(F){return console.error(" [Dashboard]     :",F),[]}},staleTime:6e4}),K=It({mutationFn:async F=>(await Promise.all([X("workerNames",F.name),X("workerTypes",F.type)]),Ue("/api/workers","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:xe.workers}),await g.invalidateQueries({queryKey:xe.projectsWithStats}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"   "}),n(!1),c({name:"",phone:"",type:"",dailyWage:""})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),W=It({mutationFn:async F=>(await Promise.all([X("projectNames",F.name),X("projectDescriptions",F.description)]),Ue("/api/projects","POST",F)),onSuccess:async()=>{await g.invalidateQueries({queryKey:xe.projects}),await g.invalidateQueries({queryKey:xe.projectsWithStats}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"   "}),i(!1),h({name:"",status:"active",description:"",projectTypeId:null})},onError:F=>{y({title:"",description:"    ",variant:"destructive"})}}),P=It({mutationFn:async F=>(await X("workerTypes",F.name),Ue("/api/worker-types","POST",F)),onSuccess:async F=>{await g.invalidateQueries({queryKey:xe.workerTypes}),await g.invalidateQueries({queryKey:xe.autocomplete}),y({title:" ",description:"    "}),c({...o,type:F.name}),p(""),l(!1)},onError:F=>{y({title:"",description:"     ",variant:"destructive"})}}),{data:L}=vt({queryKey:xe.dailySummary(t,new Date().toISOString().split("T")[0]),enabled:!!t,staleTime:1e3*30}),{data:T=[]}=vt({queryKey:xe.recentActivitiesByProject(t),queryFn:async()=>{try{const F=t?`?projectId=${t}`:"";return(await Ue(`/api/recent-activities${F}`,"GET"))?.data||[]}catch(F){return console.error("    :",F),[]}},staleTime:1e3*10,refetchInterval:3e4}),{data:_,isLoading:k}=vt({queryKey:xe.healthStats,queryFn:async()=>{try{const F=await Ue("/api/health/stats","GET"),Z=F?.data||F;return!Z||typeof Z!="object"?null:{cpuUsage:Z.cpuUsage||0,memoryUsage:Z.memoryUsage||0,activeRequests:Z.activeRequests||0,errorRate:Z.errorRate||0,uptime:Z.uptime||0}}catch(F){return console.error(" [Dashboard]     :",F),null}},refetchInterval:15e3}),j=Array.isArray(A)?A.find(F=>F.id===t):void 0,N=E.useMemo(()=>Array.isArray(A)?A.filter(F=>{const Z=!m||(F.name||"").toLowerCase().includes(m.toLowerCase()),V=v.status==="all"||(F.status||"active")===v.status;return Z&&V}):[],[A,m,v.status]),R=F=>{switch(F){case"active":return{label:"",variant:"success"};case"completed":return{label:"",variant:"default"};case"paused":return{label:"",variant:"warning"};default:return{label:F,variant:"secondary"}}},O=F=>{switch(F){case"active":return"#22c55e";case"completed":return"#3b82f6";case"paused":return"#f59e0b";default:return"#6b7280"}},$=F=>{if(typeof F!="number"){const Z=parseFloat(String(F));if(isNaN(Z))return"0 .";F=Z}return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(F)+" ."},X=E.useCallback(async(F,Z)=>{if(!(!Z||Z.trim().length<2))try{await Ue("/api/autocomplete","POST",{category:F,value:Z.trim()})}catch(V){console.warn(`[Dashboard] Failed to save autocomplete: ${F}`,V)}},[]),Y=E.useMemo(()=>{if(!x)return{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:"0",completedDays:"0",materialPurchases:"0 .",transportExpenses:0};const F=x.totalIncome||0,Z=x.totalAllExpenses||0;return{totalIncome:F,totalExpenses:Z,currentBalance:x.totalBalance||F-Z,activeWorkers:String(x.totalWorkers||0),completedDays:String(x.completedDays||0),materialPurchases:$(x.totalAllExpenses||0),transportExpenses:x.transportExpenses||0}},[x]),re=E.useCallback(F=>A.find(V=>V.id===F)?.stats||{totalIncome:0,totalExpenses:0,currentBalance:0,activeWorkers:0},[A]);return B?a.jsx(Zhe,{}):a.jsxs("div",{className:"p-4 fade-in space-y-4",children:[a.jsxs("div",{className:"mb-4",children:[_&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx(Is,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{children:"   (SigNoz)"})]}),a.jsx(fh,{stats:[{title:" ",value:`${_.cpuUsage}%`,icon:Is,color:"blue",status:_.cpuUsage>80?"critical":"normal"},{title:" ",value:`${_.memoryUsage}%`,icon:Nn,color:"teal",status:_.memoryUsage>85?"warning":"normal"},{title:" ",value:_.activeRequests,icon:Yp,color:"purple"},{title:" ",value:`${_.errorRate}%`,icon:_a,color:"green",status:_.errorRate>5?"critical":"normal"}],columns:4,hideHeader:!0})]}),j&&a.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx(bs,{className:"h-4 w-4"}),a.jsxs("span",{children:[": ",a.jsx("strong",{className:"text-foreground",children:j.name})]})]}),!j&&A.length>0&&a.jsxs("div",{className:"mb-2 text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx(bs,{className:"h-4 w-4"}),a.jsxs("span",{children:["   (",A.length," )"]})]}),a.jsx(fh,{stats:[{title:" ",value:Y.totalIncome,icon:Rn,color:"blue",formatter:$},{title:" ",value:Y.totalExpenses,icon:_a,color:"red",formatter:$},{title:" ",value:Y.currentBalance,icon:kr,color:"green",formatter:$},{title:" ",value:Y.activeWorkers,icon:Gm,color:"purple"},{title:"  ",value:Y.completedDays,icon:ua,color:"teal"},{title:" ",value:Y.materialPurchases,icon:Nn,color:"indigo"},{title:"",value:Y.transportExpenses,icon:oa,color:"orange",formatter:$}],columns:3,hideHeader:!0})]}),a.jsx(qhe,{onAddWorker:()=>n(!0),onAddProject:()=>i(!0)}),N.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[a.jsx(bs,{className:"h-5 w-5 text-primary"})," (",N.length,")"]})}),a.jsx(Hs,{columns:2,children:N.map(F=>{const Z=F.id||"",V=F.name||"",z=F.status||"active",G=R(z),ae=Z===t,pe=re(Z),ue=pe?.totalIncome||0,ge=pe?.totalExpenses||0,ee=pe?.currentBalance||0,oe=pe?.activeWorkers||0;return a.jsx(vn,{title:V,titleIcon:bs,headerColor:O(z),badges:[G],className:ae?"ring-2 ring-primary ring-offset-2":"",fields:[{label:"",value:$(ue),icon:Rn,color:"info"},{label:"",value:$(ge),icon:_a,color:"danger"},{label:"",value:$(ee),icon:kr,color:"success",emphasis:!0},{label:"",value:String(oe),icon:Ln,color:"default"}],actions:[{icon:ae?zl:Hc,label:ae?"":"",onClick:()=>r(Z),color:ae?"green":"blue"}],onClick:()=>r(Z),compact:!0},Z)})})]}),T.length>0&&a.jsx(NB,{activities:T,formatCurrency:$}),a.jsx(Ws,{open:e,onOpenChange:n,children:a.jsxs(Rs,{className:"max-w-lg",children:[a.jsxs(qs,{children:[a.jsx(la,{children:"  "}),a.jsx(Ll,{children:"      "})]}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"worker-name",children:" "}),a.jsx(xt,{id:"worker-name",value:o.name,onChange:F=>c({...o,name:F.target.value}),placeholder:"  "})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"worker-phone",children:" "}),a.jsx(xt,{id:"worker-phone",value:o.phone,onChange:F=>c({...o,phone:F.target.value}),placeholder:"  "})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"worker-wage",children:"  (.)"}),a.jsx(xt,{id:"worker-wage",type:"number",inputMode:"decimal",value:o.dailyWage,onChange:F=>c({...o,dailyWage:F.target.value}),placeholder:"0",className:"text-center",required:!0})]}),a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"worker-type",children:" "}),a.jsx("div",{className:"flex gap-2",children:a.jsx(is,{value:o.type||"",onValueChange:F=>c({...o,type:F}),options:Array.isArray(D)&&D.length>0?D.map(F=>({value:F.value,label:F.value})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"})})]}),a.jsx(Ws,{open:u,onOpenChange:l,children:a.jsxs(Rs,{className:"sm:max-w-md",children:[a.jsxs(qs,{children:[a.jsx(la,{children:"   "}),a.jsx(Ll,{children:"         "})]}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"new-type-name",children:"  "}),a.jsx(xt,{id:"new-type-name",type:"text",value:d,onChange:F=>p(F.target.value),placeholder:":   ...",required:!0})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx(Ie,{type:"button",onClick:F=>{F.preventDefault(),d.trim()&&P.mutate({name:d.trim()})},disabled:!d.trim()||P.isPending,children:P.isPending?" ...":""}),a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{l(!1),p("")},children:""})]})]})]})}),a.jsxs("div",{className:"form-actions",children:[a.jsx(Ie,{onClick:()=>{if(!o.name.trim()||!o.type||!o.dailyWage){y({title:"",description:"    ",variant:"destructive"});return}const F=parseFloat(o.dailyWage);if(isNaN(F)||F<=0){y({title:"",description:"     ",variant:"destructive"});return}K.mutate({name:o.name.trim(),phone:o.phone||null,type:o.type,dailyWage:F.toString(),isActive:!0})},disabled:K.isPending,className:"gap-2",children:K.isPending?"  ...":" "}),a.jsx(Ie,{variant:"outline",onClick:()=>n(!1),children:""})]}),a.jsxs(Ie,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!0),className:"w-full gap-2 mt-2",children:[a.jsx(gs,{className:"h-4 w-4"}),"   "]})]})]})}),a.jsx(Ws,{open:s,onOpenChange:i,children:a.jsxs(Rs,{className:"max-w-lg",children:[a.jsxs(qs,{children:[a.jsx(la,{children:"  "}),a.jsx(Ll,{children:"      "})]}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"project-name",children:" "}),a.jsx(xt,{id:"project-name",value:f.name,onChange:F=>h({...f,name:F.target.value}),placeholder:"  "})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"project-type",children:" "}),a.jsx(F2,{value:f.projectTypeId?.toString()||"",onValueChange:F=>h({...f,projectTypeId:F?parseInt(F):null}),projectTypes:I,placeholder:U?" ...":"  ...",disabled:U})]}),a.jsxs("div",{className:"form-field",children:[a.jsx(Ze,{htmlFor:"project-status",children:" "}),a.jsxs(ws,{value:f.status,onValueChange:F=>h({...f,status:F}),children:[a.jsx(cs,{children:a.jsx(_s,{})}),a.jsxs(us,{children:[a.jsx(wr,{value:"active",children:""}),a.jsx(wr,{value:"completed",children:""}),a.jsx(wr,{value:"paused",children:""})]})]})]}),a.jsxs("div",{className:"form-field form-field-full",children:[a.jsx(Ze,{htmlFor:"project-description",children:" "}),a.jsx(xt,{id:"project-description",value:f.description,onChange:F=>h({...f,description:F.target.value}),placeholder:"   ()"})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx(Ie,{onClick:()=>{f.name&&W.mutate({name:f.name,status:f.status,description:f.description||null,projectTypeId:f.projectTypeId})},disabled:!f.name||W.isPending,children:W.isPending?" ...":""}),a.jsx(Ie,{variant:"outline",onClick:()=>i(!1),children:""})]})]})]})})]})}const rpe=async(t,r)=>{const e=new O3.Workbook,n=e.addWorksheet("  ",{views:[{rightToLeft:!0,showGridLines:!1}]}),s="FF1E3A8A",i="FF3B82F6",o="FFF8FAFC",c="FFE2E8F0",u="FF10B981",l="FFF43F5E",d={name:"Calibri",size:11,bold:!0,color:{argb:"FFFFFFFF"}},p={name:"Calibri",size:11,color:{argb:"FF1E293B"}},f={name:"Calibri",size:11,bold:!0,color:{argb:"FF1E293B"}},h={horizontal:"center",vertical:"middle",wrapText:!0},g={horizontal:"right",vertical:"middle",wrapText:!0,indent:1},y={top:{style:"thin",color:{argb:c}},left:{style:"thin",color:{argb:c}},bottom:{style:"thin",color:{argb:c}},right:{style:"thin",color:{argb:c}}};n.mergeCells("A1:I1");const m=n.getCell("A1");m.value="   -   ",m.font={...d,size:18},m.alignment=h,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:s}},n.getRow(1).height=45,n.mergeCells("A2:I2");const v=n.getCell("A2");v.value=` : ${jr(new Date,"yyyy/MM/dd HH:mm")} |     `,v.font={name:"Calibri",size:9,color:{argb:"FF64748B"}},v.alignment=h,n.getRow(2).height=20;const x=4;n.getRow(x).height=25,n.getRow(x+1).height=25,n.getRow(x+2).height=25;const S=(N,R,O,$,X)=>{const Y=n.getCell(`${R}${N}`),re=n.getCell(`${String.fromCharCode(R.charCodeAt(0)+1)}${N}`);Y.value=O,Y.font={...f,color:{argb:X}},Y.fill={type:"pattern",pattern:"solid",fgColor:{argb:o}},Y.alignment=g,Y.border=y,re.value=$,re.font=p,re.alignment=g,re.border=y};S(4,"A","  :",r.name,i),S(4,"D","  :",t.projectName||" ",i),S(5,"A","  :",r.type||"",i),S(5,"D","  :",t.dateRange||" ",i),S(6,"A","  :",`${r.dailyWage} . / `,i),S(6,"D","  :",`W-${r.id.toString().slice(-4).toUpperCase()}`,i),n.getColumn("A").width=18,n.getColumn("B").width=25,n.getColumn("D").width=18,n.getColumn("E").width=25;const C=8,A=["","",""," ","  ","",""," (+)"," (-)",""],B=n.getRow(C);A.forEach((N,R)=>{const O=B.getCell(R+1);O.value=N,O.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF334155"}},O.font={...d,color:{argb:"FFFFFFFF"}},O.alignment=h,O.border=y}),B.height=30,n.columns=[{width:6},{width:14},{width:12},{width:22},{width:48},{width:8},{width:12},{width:16},{width:16},{width:16}];const q=t.statement||[];let D=10;q.forEach((N,R)=>{const O=n.getRow(D),$=new Date(N.date),X=R%2===0,Y=parseFloat(N.amount||0),re=parseFloat(N.paid||0),F=Y-re,Z=N.workDays!==void 0?parseFloat(N.workDays):N.type===""?1:0;O.values=[R+1,jr($,"yyyy/MM/dd"),jr($,"EEEE",{locale:SI}),N.projectName||"-",N.description||(N.type===""?`  ${N.recipientName||"-"}`:"    "),Z,N.hours||(N.type===""?"8h":"-"),Y,re,F],O.eachCell((V,z)=>{V.border=y,V.alignment=h,V.font=p,X&&(V.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1F5F9"}}),(z===8||z===9||z===10)&&(V.numFmt='#,##0.00 "."',z===8&&(V.font={...p,color:{argb:u},bold:!0}),z===9&&parseFloat(N.paid||0)>0&&(V.font={...p,color:{argb:l},bold:!0}),z===10&&(V.font={...p,color:{argb:i},bold:!0}))}),D++});const I=n.getRow(D);n.mergeCells(`A${D}:E${D}`);const U=n.getCell(`A${D}`);U.value="  ",U.font=d,U.alignment=h,U.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}};const K=n.getCell(`F${D}`),W=n.getCell(`H${D}`),P=n.getCell(`I${D}`),L=n.getCell(`J${D}`);K.value=parseFloat(t.summary.totalWorkDays||0),W.value=parseFloat(t.summary.totalEarned||0),P.value=parseFloat(t.summary.totalPaid||0),L.value=parseFloat(t.summary.finalBalance||0),[K,W,P,L].forEach(N=>{N.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF475569"}},N.font=d,N.address.startsWith("F")?N.numFmt="#,##0.00":N.numFmt='#,##0.00 "."',N.alignment=h}),I.height=25,D+=2;const T=8,_=[{label:"  ",isHeader:!0,color:s},{label:"  ",value:t.summary.totalEarned,color:u},{label:"  ",value:t.summary.totalPaid,color:l},{label:"  ",value:t.summary.finalBalance,color:i,isFinal:!0}];_.forEach((N,R)=>{const O=D+R;if(N.isHeader){n.mergeCells(O,T,O,T+1);const $=n.getCell(O,T);$.value=N.label,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:N.color}},$.font=d,$.alignment=h}else{const $=n.getCell(O,T+1),X=n.getCell(O,T);$.value=N.label,$.fill={type:"pattern",pattern:"solid",fgColor:{argb:o}},$.font=f,$.border=y,$.alignment=g,X.value=parseFloat(N.value||0),X.font={...p,bold:!0,color:{argb:N.color}},X.border=y,X.alignment=h,X.numFmt='#,##0.00 "."',N.isFinal&&(X.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}})}}),D+=_.length+1,n.mergeCells(`A${D}:I${D}`);const k=n.getCell(`A${D}`);k.value="         AXION.        .",k.font={name:"Calibri",size:8,italic:!0,color:{argb:"FF94A3B8"}},k.alignment=h;const j=await e.xlsx.writeBuffer();return await Mh(j,`Worker_Statement_${r.name.replace(/\s+/g,"_")}_${jr(new Date,"yyyyMMdd")}.xlsx`)},npe=async(t,r)=>{try{if(!t||!t.statement)return console.error("No data provided for PDF generation"),!1;const e=r?.name||"",n=r?.type||"",s=r?.dailyWage?`${parseFloat(r.dailyWage).toLocaleString()} .`:"-",i=jr(new Date,"yyyy/MM/dd"),o=parseFloat(t?.summary?.totalEarned||0),c=parseFloat(t?.summary?.totalPaid||0),u=parseFloat(t?.summary?.finalBalance||0),l=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
      <head>
        <meta charset="UTF-8">
        <title>   - ${e}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
          
          * { box-sizing: border-box; -webkit-print-color-adjust: exact; }
          body { font-family: 'Cairo', sans-serif; margin: 0; padding: 0; color: #000; background: #fff; }
          
          @page {
            size: A4;
            margin: 10mm 5mm 15mm 5mm;
          }
          
          .print-container { width: 100%; padding: 0; }

          /*      */
          table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-bottom: 20px;
            table-layout: fixed;
          }
          
          thead { display: table-header-group; }
          tbody { display: table-row-group; }
          
          /*    */
          .report-header-content {
            padding: 0;
            margin: 0;
            width: 100%;
          }

          .main-title-bar {
            background-color: #1F4E79;
            color: white;
            text-align: center;
            padding: 8px 0;
            font-size: 18px;
            font-weight: 800;
            width: 100%;
            margin-bottom: 15px;
            border-bottom: 2px solid #16365C;
          }

          .header-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 0 10px 15px 10px;
            font-size: 13px;
          }
          
          .info-col { display: flex; flex-direction: column; gap: 4px; }
          .info-row { display: flex; justify-content: flex-start; align-items: baseline; }
          .info-label { font-weight: 700; width: 100px; color: #333; }
          .info-value { font-weight: 400; color: #000; }
          
          th {
            background-color: #1F4E79;
            color: #FFFFFF;
            border: 1px solid #16365C;
            padding: 8px 4px;
            font-size: 11px;
            font-weight: 800;
            text-align: center;
          }

          td {
            border: 1px solid #BFBFBF;
            padding: 6px 4px;
            font-size: 10px;
            text-align: center;
            vertical-align: middle;
            word-wrap: break-word;
          }

          .col-m { width: 30px; }
          .col-date { width: 80px; }
          .col-day { width: 60px; }
          .col-project { width: 110px; }
          .col-desc { width: auto; text-align: right; padding-right: 8px; font-size: 9px; line-height: 1.4; }
          .col-days-count { width: 45px; }
          .col-hours { width: 85px; }
          .col-earned { width: 70px; background-color: #E2F0D9; font-weight: 700; }
          .col-paid { width: 70px; background-color: #FBE2D5; font-weight: 700; }
          .col-balance { width: 70px; background-color: #DEEAF6; font-weight: 700; }

          .totals-row td {
            background-color: #00B050;
            color: white;
            font-weight: 800;
            font-size: 12px;
            border: 1px solid #00803A;
          }

          .summary-wrapper {
            display: flex;
            justify-content: flex-start;
            margin-top: 30px;
            page-break-inside: avoid;
          }
          
          .summary-table {
            width: 320px;
            border: 2px solid #1F4E79;
          }
          
          .summary-header {
            background-color: #00B050;
            color: white;
            text-align: center;
            font-weight: 800;
            padding: 6px;
            font-size: 14px;
          }
          
          .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            border-bottom: 1px solid #BFBFBF;
            font-size: 13px;
          }
          
          .summary-item:last-child { border-bottom: none; background-color: #F2F2F2; font-weight: 800; }
          .summary-label { font-weight: 700; }
          .summary-val { font-family: sans-serif; }

          .page-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 9px;
            color: #7F7F7F;
            padding: 5px;
            border-top: 1px solid #EEE;
            background: white;
          }

          @media print {
            thead { display: table-header-group; }
            button { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="print-container">
          <table>
            <thead>
              <tr>
                <th colspan="10" style="padding: 0; border: none; background: none;">
                  <div class="report-header-content">
                    <div class="main-title-bar">    </div>
                    <div class="header-info-grid">
                      <div class="info-col">
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${e}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${n}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${s}</span></div>
                      </div>
                      <div class="info-col">
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${t?.projectName||" "}</span></div>
                        <div class="info-row"><span class="info-label"> :</span><span class="info-value">${i}</span></div>
                      </div>
                    </div>
                  </div>
                </th>
              </tr>
              <tr>
                <th class="col-m"></th>
                <th class="col-date"></th>
                <th class="col-day"></th>
                <th class="col-project"></th>
                <th class="col-desc"> </th>
                <th class="col-days-count"></th>
                <th class="col-hours"></th>
                <th class="col-earned"> </th>
                <th class="col-paid"> </th>
                <th class="col-balance"></th>
              </tr>
            </thead>
            <tbody>
              ${(t?.statement||[]).map((h,g)=>{const y=parseFloat(h.amount||0),m=parseFloat(h.paid||0),v=y-m;return`
                    <tr>
                      <td class="col-m">${g+1}</td>
                      <td class="col-date">${h.date?jr(new Date(h.date),"yyyy/MM/dd"):"-"}</td>
                      <td class="col-day">${h.date?jr(new Date(h.date),"EEEE",{locale:SI}):"-"}</td>
                      <td class="col-project">${h.projectName||h.project_name||"-"}</td>
                      <td class="col-desc">${h.description||(h.type===""?`  ${h.recipientName||"-"}`:"   ")}</td>
                      <td class="col-days-count">${h.type===""?h.workDays!==void 0?parseFloat(h.workDays).toFixed(2):"1.00":"-"}</td>
                      <td class="col-hours">${h.type===""?h.hours||"07:00-15:00":"-"}</td>
                      <td class="col-earned">${y.toLocaleString()}</td>
                      <td class="col-paid">${m.toLocaleString()}</td>
                      <td class="col-balance">${v.toLocaleString()}</td>
                    </tr>
                  `}).join("")}
              <tr class="totals-row">
                <td colspan="5" style="text-align: center;"></td>
                <td>${parseFloat(t?.summary?.totalWorkDays||0).toLocaleString()}</td>
                <td>-</td>
                <td>${o.toLocaleString()}</td>
                <td>${c.toLocaleString()}</td>
                <td>${u.toLocaleString()}</td>
              </tr>
            </tbody>
          </table>

          <div class="summary-wrapper">
            <div class="summary-table">
              <div class="summary-header"> </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${o.toLocaleString()}</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${c.toLocaleString()}</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">0</span>
              </div>
              <div class="summary-item">
                <span class="summary-label"> :</span>
                <span class="summary-val">${u.toLocaleString()}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="page-footer">
                   | ${jr(new Date,"dd/MM/yyyy HH:mm")}
        </div>

        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
            }, 500);
          };
        <\/script>
      </body>
      </html>
    `,d=new Blob([l],{type:"text/html"}),p=`__${r?.name||""}_${jr(new Date,"yyyy-MM-dd")}.html`,{isMobileWebView:f}=await mn(async()=>{const{isMobileWebView:h}=await Promise.resolve().then(()=>ZO);return{isMobileWebView:h}},void 0);if(f())return await ab(d,p,"text/html");{const h=URL.createObjectURL(d);return window.open(h,"_blank")?(setTimeout(()=>URL.revokeObjectURL(h),5e3),!0):await ab(d,p,"text/html")}}catch(e){return console.error("Critical Print Error:",e),!1}};function YN({children:t,columns:r=2,className:e,...n}){const s={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-4"};return a.jsx("div",{className:Ae("grid gap-3 md:gap-4",s[r],e),dir:"rtl",...n,children:t})}function spe({worker:t,onSuccess:r,onCancel:e,submitLabel:n=" "}){const[s,i]=E.useState(t?.name||""),[o,c]=E.useState(t?.type||""),[u,l]=E.useState(t?t.dailyWage:""),[d,p]=E.useState(t?.phone||""),[f,h]=E.useState(t?.hireDate||""),[g,y]=E.useState(!1),[m,v]=E.useState(""),{toast:x}=wn(),S=ks();E.useEffect(()=>{t&&(i(t.name||""),c(t.type||""),l(t.dailyWage||""),p(t.phone||""),h(t.hireDate||""))},[t]);const C=async(U,K)=>{if(!(!K||typeof K!="string"||!K.trim()))try{await Ue("/api/autocomplete","POST",{category:U,value:K.trim()})}catch{}},{data:A=[]}=vt({queryKey:xe.workerTypes}),B=It({mutationFn:async U=>(await Promise.all([C("workerNames",U.name),C("workerTypes",U.type)]),t?Ue(`/api/workers/${t.id}`,"PATCH",U):Ue("/api/workers","POST",U)),onSuccess:async(U,K)=>{S.setQueryData(["/api/workers"],W=>W?[U.data,...W]:[U.data]),await Promise.all([S.invalidateQueries({queryKey:xe.workerTypes}),S.invalidateQueries({queryKey:xe.autocomplete})]),x({title:" ",description:t?"   ":"   "}),t||(i(""),c(""),l(""),p(""),h("")),r?.()},onError:async(U,K)=>{await Promise.all([C("workerNames",K.name),C("workerTypes",K.type)]),await S.invalidateQueries({queryKey:xe.autocomplete});const W=U?.message||(t?"    ":"    ");x({title:t?"   ":"   ",description:W,variant:"destructive"})}}),q=It({mutationFn:async U=>(await C("workerTypes",U.name),Ue("/api/worker-types","POST",U)),onSuccess:async(U,K)=>{await S.invalidateQueries({queryKey:xe.workerTypes}),await S.invalidateQueries({queryKey:xe.autocomplete}),x({title:" ",description:"    "}),c(U.name),v(""),y(!1)},onError:async(U,K)=>{await C("workerTypes",K.name),await S.invalidateQueries({queryKey:xe.autocomplete});const W=U?.message||"     ";x({title:"    ",description:W,variant:"destructive"})}}),D=U=>{if(U.preventDefault(),!s.trim()||!o||!u){x({title:"",description:"    ",variant:"destructive"});return}const K=parseFloat(u);if(isNaN(K)||K<=0){x({title:"",description:"     ",variant:"destructive"});return}B.mutate({name:s.trim(),type:o,dailyWage:K.toString(),phone:d.trim()||void 0,hireDate:f||void 0,isActive:t?.isActive??!0})},I=U=>{if(U.preventDefault(),!m.trim()){x({title:"",description:"    ",variant:"destructive"});return}q.mutate({name:m.trim()})};return a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs(YN,{columns:2,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ze,{htmlFor:"worker-name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[a.jsx(Xm,{className:"h-4 w-4 text-blue-500"}),"  *"]}),a.jsx(ch,{id:"worker-name",value:s,onChange:U=>i(U.target.value),placeholder:"  ...",required:!0,className:"min-h-[44px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ze,{htmlFor:"worker-type",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[a.jsx(XA,{className:"h-4 w-4 text-purple-500"}),"  *"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(is,{value:o,onValueChange:c,options:Array.isArray(A)&&A.length>0?A.map(U=>({value:U.name,label:U.name})):[{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],placeholder:"  ...",searchPlaceholder:"  ...",emptyText:"  ",className:"flex-1"}),a.jsxs(Ws,{open:g,onOpenChange:y,children:[a.jsx(nh,{asChild:!0,children:a.jsx(Ie,{type:"button",variant:"outline",size:"icon",className:"shrink-0",title:"  ",children:a.jsx(gs,{className:"h-4 w-4"})})}),a.jsxs(Rs,{className:"sm:max-w-md",children:[a.jsx(qs,{children:a.jsx(la,{children:"   "})}),a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ze,{htmlFor:"new-type-name",className:"block text-sm font-medium text-foreground",children:"  "}),a.jsx(xt,{id:"new-type-name",type:"text",value:m,onChange:U=>v(U.target.value),placeholder:":   ...",required:!0})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{type:"submit",disabled:q.isPending,className:"flex-1",children:q.isPending?" ...":""}),a.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{y(!1),v("")},className:"flex-1",children:""})]})]})]})]})]})]})]}),a.jsxs(YN,{columns:3,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ze,{htmlFor:"daily-wage",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[a.jsx(kr,{className:"h-4 w-4 text-green-500"}),"  (.) *"]}),a.jsx(xt,{id:"daily-wage",type:"number",inputMode:"decimal",value:u,onChange:U=>l(U.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",required:!0,autoWidth:!0,maxWidth:200})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ze,{htmlFor:"phone",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[a.jsx(s7,{className:"h-4 w-4 text-blue-500"})," "]}),a.jsx(xt,{id:"phone",type:"tel",inputMode:"tel",value:d,onChange:U=>p(U.target.value),placeholder:"966XXXXXXXXX+",className:"text-left ltr",dir:"ltr"})]}),a.jsx(el,{id:"hire-date",label:" ",value:f,onChange:U=>h(U?jr(U,"yyyy-MM-dd"):"")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{type:"submit",className:"flex-1",disabled:B.isPending,children:B.isPending?" ...":n}),e&&a.jsx(Ie,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:""})]})]})}const ape=({worker:t,onClose:r,isOpen:e})=>a.jsx(Ws,{open:e,onOpenChange:r,children:a.jsxs(Rs,{className:"sm:max-w-md",children:[a.jsxs(qs,{children:[a.jsx(la,{children:t?" ":"  "}),a.jsx(Ll,{children:t?"    ":"   "})]}),a.jsx("div",{className:"mt-4",children:a.jsx(spe,{worker:t,onSuccess:r,onCancel:r,submitLabel:t?" ":" "})})]})}),ipe=({stats:t,formatCurrency:r,isLoading:e})=>{const n=t?.totalEarnings??0,s=t?.totalTransfers??0,i=n-s;return a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-2 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 dark:text-green-400 mb-1",children:[a.jsx(od,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:e?"...":r(n)})]}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-2 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-600 dark:text-yellow-400 mb-1",children:[a.jsx(__,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400",children:e?"...":r(s)})]}),a.jsxs("div",{className:`${i>=0?"bg-blue-50 dark:bg-blue-900/20":"bg-red-50 dark:bg-red-900/20"} rounded-lg p-2 text-center`,children:[a.jsxs("div",{className:`flex items-center justify-center gap-1 ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"} mb-1`,children:[a.jsx(_a,{className:"h-3 w-3"}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:""})]}),a.jsx("p",{className:`text-xs font-bold ${i>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:e?"...":r(i)})]})]})},ope=({worker:t,onEdit:r,onDelete:e,onToggleStatus:n,onExport:s,formatCurrency:i,isToggling:o,selectedProjectId:c,isExporting:u,exportProgress:l,exportingWorkerId:d})=>{const p=c===Ts?void 0:c,{data:f,isLoading:h}=vt({queryKey:xe.workerStats(t.id,c),queryFn:async()=>{const m=p?`/api/workers/${t.id}/stats?projectId=${p}`:`/api/workers/${t.id}/stats`;return Ue(m,"GET")},staleTime:300*1e3,gcTime:600*1e3,retry:1,placeholderData:m=>m,refetchOnWindowFocus:!1,enabled:t.isActive}),g=f?.data,y=g?.projectsWorked??0;return a.jsxs("div",{className:"relative group",children:[u&&a.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 rounded-lg border-2 border-primary animate-in fade-in zoom-in duration-300",children:a.jsxs("div",{className:"w-full space-y-4 text-center",children:[a.jsxs("div",{className:"relative h-16 w-16 mx-auto",children:[a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"}),a.jsx(ia,{className:"absolute inset-0 m-auto h-6 w-6 text-primary animate-pulse"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-bold text-primary animate-pulse",children:"   ..."}),a.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${l}%`}})}),a.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:[l,"%"]})]})]})}),a.jsx(vn,{title:t.name,subtitle:t.hireDate?new Date(t.hireDate).toLocaleDateString("en-GB"):void 0,titleIcon:Xm,headerColor:t.isActive?"#22c55e":"#ef4444",badges:[{label:t.type,variant:"secondary"},{label:t.isActive?"":" ",variant:t.isActive?"success":"destructive"}],fields:[{label:" ",value:i(parseFloat(t.dailyWage)),icon:kr,emphasis:!0,color:"success"},{label:"",value:t.phone||" ",icon:s7,color:t.phone?"success":"muted"},{label:"",value:h?"...":y>0?`${y} `:" ",icon:Vw,color:y>0?"info":"muted"},{label:" ",value:h?"...":`${g?.totalWorkDays??0} `,icon:ua,color:"warning"}],actions:[{icon:ia,label:" ",disabled:!!d,color:"green",onClick:()=>{},dropdown:[{label:" PDF ",onClick:()=>s("pdf")},{label:"  Excel",onClick:()=>s("excel")},{label:" ",onClick:()=>window.print()}]},{icon:Nl,label:"",onClick:r,color:"blue"},{icon:a7,label:t.isActive?"":"",onClick:n,disabled:o,color:t.isActive?"yellow":"green"},{icon:Ps,label:"",onClick:e,color:"red"}],footer:a.jsx(ipe,{stats:g,formatCurrency:i,isLoading:h}),compact:!0})]})};function lpe(){const[t,r]=E.useState(),[e,n]=E.useState(!1),[s,i]=E.useState(""),[o,c]=E.useState({status:"all",type:"all"}),[u,l]=E.useState(!1),[d,p]=E.useState(null),[f,h]=E.useState(null),[g,y]=E.useState(0),[m,v]=E.useState(null),{toast:x}=wn(),S=ks(),{setFloatingAction:C}=Zi(),{selectedProjectId:A}=No(),B=E.useCallback((re,F)=>{c(Z=>({...Z,[re]:F}))},[]),q=E.useCallback(()=>{i(""),c({status:"all",type:"all"}),x({title:"  ",description:"   "})},[x]),D=re=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(re)+" .",{data:I=[],isLoading:U,refetch:K}=vt({queryKey:xe.workers,queryFn:async()=>{try{const re=await Ue("/api/workers","GET");let F=[];return re&&typeof re=="object"&&(re.success&&Array.isArray(re.data)?F=re.data:Array.isArray(re)&&(F=re)),F}catch(re){return console.error("Error fetching workers:",re),[]}},staleTime:3e4,gcTime:6e4,retry:2,placeholderData:re=>re,refetchOnWindowFocus:!0}),{data:W=[]}=vt({queryKey:xe.workerTypes,queryFn:async()=>{try{const re=await fetch("/api/worker-types");if(!re.ok)return[];const F=await re.json();let Z=[];return F&&typeof F=="object"&&(F.success!==void 0&&F.data!==void 0?Z=Array.isArray(F.data)?F.data:[]:Array.isArray(F)&&(Z=F)),Array.isArray(Z)?Z:[]}catch{return[]}},staleTime:9e5,gcTime:18e5,retry:1,placeholderData:re=>re,refetchOnWindowFocus:!1}),P=E.useCallback(async()=>{l(!0);try{await K(),x({title:" ",description:"   "})}catch{x({title:"",description:"  ",variant:"destructive"})}finally{l(!1)}},[K,x]),L=It({mutationFn:re=>Ue(`/api/workers/${re}`,"DELETE"),onMutate:async re=>{await S.cancelQueries({queryKey:xe.workers});const F=S.getQueryData(xe.workers);return Array.isArray(F)&&S.setQueryData(xe.workers,F.filter(Z=>Z.id!==re)),{previousData:F}},onSuccess:re=>{x({title:"   ",description:re?.message||"     .",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"})},onError:(re,F,Z)=>{Z?.previousData&&S.setQueryData(xe.workers,Z.previousData),x({title:"   ",description:re?.message||"    ",variant:"destructive"})},onSettled:()=>{S.invalidateQueries({queryKey:xe.workers}),S.invalidateQueries({queryKey:xe.projectsWithStats})}}),T=It({mutationFn:({id:re,data:F})=>Ue(`/api/workers/${re}`,"PATCH",F),onMutate:async({id:re,data:F})=>{await S.cancelQueries({queryKey:xe.workers});const Z=S.getQueryData(xe.workers);return Array.isArray(Z)&&S.setQueryData(xe.workers,Z.map(V=>V.id===re?{...V,...F}:V)),{previousData:Z}},onSuccess:re=>{x({title:" ",description:re?.message||"     ",className:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-100"}),S.invalidateQueries({queryKey:xe.workers})},onError:(re,F,Z)=>{Z?.previousData&&S.setQueryData(xe.workers,Z.previousData),x({title:"",description:re.message||"    ",variant:"destructive"})},onSettled:()=>{p(null),S.invalidateQueries({queryKey:xe.workers}),S.invalidateQueries({queryKey:xe.projectsWithStats})}}),_=E.useMemo(()=>(Array.isArray(I)?I:[]).filter(re=>{const F=re.name.toLowerCase().includes(s.toLowerCase())||re.type.toLowerCase().includes(s.toLowerCase())||re.phone&&re.phone.includes(s),Z=o.status==="all"||o.status==="active"&&re.isActive||o.status==="inactive"&&!re.isActive,V=o.type==="all"||re.type===o.type;return F&&Z&&V}),[I,s,o]),k=E.useMemo(()=>({total:Array.isArray(I)?I.length:0,active:Array.isArray(I)?I.filter(re=>re.isActive).length:0,inactive:Array.isArray(I)?I.filter(re=>!re.isActive).length:0,avgWage:Array.isArray(I)&&I.length>0?I.reduce((re,F)=>re+parseFloat(F.dailyWage),0)/I.length:0}),[I]),j=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"total",label:" ",value:k.total,icon:Ln,color:"blue"},{key:"active",label:" ",value:k.active,icon:Is,color:"green",showDot:!0,dotColor:"bg-green-500"},{key:"inactive",label:" ",value:k.inactive,icon:ns,color:"orange"}]},{columns:3,gap:"sm",items:[{key:"avgWage",label:" ",value:D(k.avgWage),icon:kr,color:"purple"},{key:"totalTypes",label:" ",value:W.length,icon:XA,color:"teal"},{key:"totalWorkDays",label:"  ",value:"-",icon:ua,color:"indigo"}]}],[k,W]),N=E.useMemo(()=>[{key:"status",label:"",type:"select",defaultValue:"all",options:[{value:"all",label:" "},{value:"active",label:""},{value:"inactive",label:" "}]},{key:"type",label:" ",type:"select",defaultValue:"all",options:[{value:"all",label:" "},...Array.isArray(W)?W.map(re=>({value:re.name,label:re.name})):[]]}],[W]),R=()=>{r(void 0),n(!0)},O=re=>{r(re),n(!0)},$=re=>{confirm(`      "${re.name}"`)&&L.mutate(re.id)},X=re=>{p(re.id),T.mutate({id:re.id,data:{isActive:!re.isActive}})},Y=async(re,F="excel")=>{h(re.id),y(10),v(null);try{const Z=A===Ts?void 0:A,V=setInterval(()=>{y(ae=>ae>=90?(clearInterval(V),90):ae+10)},200),z=`/api/reports/worker-statement?workerId=${re.id}${Z?`&projectId=${Z}`:""}`,G=await Ue(z,"GET");if(clearInterval(V),y(100),G.success){let ae=!1;F==="pdf"?ae=await npe(G.data,re):ae=await rpe(G.data,re),x(ae?{title:" ",description:`    ${re.name} `}:{title:" ",description:"     .   .",variant:"destructive"})}}catch(Z){console.error("Error exporting statement:",Z),x({title:"  ",description:"    ",variant:"destructive"})}finally{setTimeout(()=>{h(null),y(0)},500)}};return E.useEffect(()=>(C(R,"  "),()=>C(null)),[C]),a.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[a.jsx(Co,{hideHeader:!0,title:"",subtitle:"",statsRows:j,filters:N,onFilterChange:B,onSearchChange:i,searchValue:s,onReset:q,onRefresh:P,isRefreshing:u}),U?a.jsx(Hs,{columns:4,children:Array.from({length:8}).map((re,F)=>a.jsx(vn,{title:"",fields:[],isLoading:!0,compact:!0},F))}):_.length===0?a.jsx(Jt,{className:"p-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-muted-foreground",children:[a.jsx(Ln,{className:"h-12 w-12 opacity-20"}),a.jsx("p",{className:"text-lg",children:"     "}),a.jsx(Ie,{variant:"outline",onClick:q,children:" "})]})}):a.jsx(Hs,{columns:4,children:_.map(re=>a.jsx(ope,{worker:re,onEdit:()=>O(re),onDelete:()=>$(re),onToggleStatus:()=>X(re),onExport:F=>Y(re,F),formatCurrency:D,isToggling:d===re.id,selectedProjectId:A,isExporting:f===re.id,exportProgress:g,exportingWorkerId:f},re.id))}),a.jsx(ape,{worker:t,isOpen:e,onClose:()=>n(!1)})]})}function cpe(t,r=[]){let e=[];function n(i,o){const c=E.createContext(o);c.displayName=i+"Context";const u=e.length;e=[...e,o];const l=p=>{const{scope:f,children:h,...g}=p,y=f?.[t]?.[u]||c,m=E.useMemo(()=>g,Object.values(g));return a.jsx(y.Provider,{value:m,children:h})};l.displayName=i+"Provider";function d(p,f){const h=f?.[t]?.[u]||c,g=E.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[l,d]}const s=()=>{const i=e.map(o=>E.createContext(o));return function(c){const u=c?.[t]||i;return E.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[n,upe(s,...r)]}function upe(...t){const r=t[0];if(t.length===1)return r;const e=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:u,scopeName:l})=>{const p=u(i)[`__scope${l}`];return{...c,...p}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return e.scopeName=r.scopeName,e}var dpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CB=dpe.reduce((t,r)=>{const e=e0(`Primitive.${r}`),n=E.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),W3="Progress",q3=100,[fpe]=cpe(W3),[hpe,ppe]=fpe(W3),TB=E.forwardRef((t,r)=>{const{__scopeProgress:e,value:n=null,max:s,getValueLabel:i=mpe,...o}=t;(s||s===0)&&!ZN(s)&&console.error(gpe(`${s}`,"Progress"));const c=ZN(s)?s:q3;n!==null&&!JN(n,c)&&console.error(ype(`${n}`,"Progress"));const u=JN(n,c)?n:null,l=ub(u)?i(u,c):void 0;return a.jsx(hpe,{scope:e,value:u,max:c,children:a.jsx(CB.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ub(u)?u:void 0,"aria-valuetext":l,role:"progressbar","data-state":PB(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});TB.displayName=W3;var EB="ProgressIndicator",AB=E.forwardRef((t,r)=>{const{__scopeProgress:e,...n}=t,s=ppe(EB,e);return a.jsx(CB.div,{"data-state":PB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:r})});AB.displayName=EB;function mpe(t,r){return`${Math.round(t/r*100)}%`}function PB(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function ub(t){return typeof t=="number"}function ZN(t){return ub(t)&&!isNaN(t)&&t>0}function JN(t,r){return ub(t)&&!isNaN(t)&&t<=r&&t>=0}function gpe(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${q3}\`.`}function ype(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${q3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MB=TB,bpe=AB;const Xl=E.forwardRef(({className:t,value:r,...e},n)=>a.jsx(MB,{ref:n,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...e,children:a.jsx(bpe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Xl.displayName=MB.displayName;function xpe(){const{toast:t}=wn(),[r,e]=E.useState(null),[n,s]=E.useState("local"),[i,o]=E.useState(!1),[c,u]=E.useState(""),[l,d]=E.useState(!1),[p,f]=E.useState({status:"all"}),{data:h}=vt({queryKey:xe.backupsStatus,refetchInterval:5e3}),g=h?{lastRunAt:h.lastRunAt,lastSuccessAt:h.lastSuccessAt,lastFailureAt:h.lastFailureAt,lastError:h.lastError,totalSuccess:h.totalSuccess,totalFailure:h.totalFailure,isRunning:h.isRunning,schedulerEnabled:h.schedulerEnabled,cronSchedule:h.cronSchedule}:void 0,y=h?.storage,{data:m}=vt({queryKey:xe.backupsDatabases}),v=E.useMemo(()=>Array.isArray(m)&&m.length>0?m:[{id:"local",name:"LOCAL"}],[m]),{data:x,isLoading:S,refetch:C}=vt({queryKey:xe.backupsLogs,refetchInterval:1e4}),A=E.useMemo(()=>Array.isArray(x)?x:[],[x]),B=It({mutationFn:async()=>await Ue("/api/backups/run","POST"),onMutate:()=>{t({title:"   ",description:"      ..."})},onSuccess:O=>{xn.invalidateQueries({queryKey:xe.backupsLogs}),xn.invalidateQueries({queryKey:xe.backupsStatus}),O.success?t({title:"   ",description:`${O.tablesCount}  | ${O.totalRows}  | ${O.sizeMB} MB |  ${O.compressionRatio}`}):t({title:"  ",description:O.message,variant:"destructive"})},onError:O=>{t({title:"  ",description:O.message,variant:"destructive"})}}),q=It({mutationFn:async({target:O,fileName:$})=>await Ue("/api/backups/restore","POST",{fileName:$,target:O}),onMutate:()=>{t({title:" ",description:"     ..."})},onSuccess:O=>{O.success?(d(!0),t({title:"  ",description:O.message}),setTimeout(()=>window.location.reload(),3e3)):t({title:" ",description:O.message,variant:"destructive"})},onError:O=>{t({title:" ",description:O.message,variant:"destructive"})},onSettled:()=>{l||o(!1)}}),D=O=>{e(O),o(!0),d(!1)},I=()=>{r&&q.mutate({target:n,fileName:r.filename})},U=async O=>{try{const $=localStorage.getItem("accessToken"),X={};$&&(X.Authorization=`Bearer ${$}`);const Y=await fetch(`/api/backups/download/${O}`,{headers:X});if(!Y.ok)throw new Error(" ");const re=await Y.blob(),{downloadFile:F}=await mn(async()=>{const{downloadFile:Z}=await Promise.resolve().then(()=>ZO);return{downloadFile:Z}},void 0);await F(re,O,re.type||"application/octet-stream")}catch($){t({title:" ",description:$.message||"    ",variant:"destructive"})}},[K,W]=E.useState([]),P=It({mutationFn:async O=>await Ue("/api/backups/analyze","POST",{target:O}),onSuccess:O=>{W(O.report||[]),t({title:" ",description:"   "})}}),L=It({mutationFn:async O=>await Ue("/api/backups/test-connection","POST",{target:O}),onSuccess:O=>{t({title:O.success?" ":" ",description:O.message,variant:O.success?"default":"destructive"})}}),T=It({mutationFn:async O=>await Ue(`/api/backups/${O}`,"DELETE"),onSuccess:O=>{t({title:"  ",description:O.message}),xn.invalidateQueries({queryKey:xe.backupsLogs}),xn.invalidateQueries({queryKey:xe.backupsStatus})},onError:O=>{t({title:" ",description:O.message,variant:"destructive"})}}),_=E.useMemo(()=>A.filter(O=>{const $=!c||O.filename.toLowerCase().includes(c.toLowerCase()),X=p.status==="all"||O.status===p.status;return $&&X}),[A,c,p.status]),k=O=>O?O<1e3?`${O}ms`:`${(O/1e3).toFixed(1)}s`:"-",j=O=>{if(!O)return"  ";const $=Date.now()-new Date(O).getTime(),X=Math.floor($/6e4);if(X<1)return"";if(X<60)return` ${X} `;const Y=Math.floor(X/60);return Y<24?` ${Y} `:` ${Math.floor(Y/24)} `},N=[{items:[{key:"scheduler",label:" ",value:g?.schedulerEnabled?"":"",icon:ns,color:g?.schedulerEnabled?"green":"orange",subLabel:g?.cronSchedule||"-"},{key:"last_backup",label:"  ",value:j(g?.lastSuccessAt||null),icon:Hn,color:g?.lastSuccessAt?"green":"gray",subLabel:`: ${g?.totalSuccess||0} | : ${g?.totalFailure||0}`},{key:"storage",label:"",value:y?`${y.totalSizeMB} MB`:"-",icon:Zp,color:"purple",subLabel:`${y?.fileCount||A.length}  | : ${y?.maxRetention||20}`},{key:"status",label:"",value:g?.isRunning?" ":"",icon:Is,color:g?.isRunning?"orange":"green",subLabel:g?.lastError?`: ${g.lastError.substring(0,30)}`:" "}]}],R=[{key:"status",label:"",type:"select",options:[{label:"",value:"all"},{label:"",value:"success"},{label:"",value:"error"}]}];return a.jsxs("div",{className:"fade-in pb-32",dir:"rtl",children:[a.jsx(Co,{statsRows:N,filters:R,searchValue:c,filterValues:p,onSearchChange:u,onFilterChange:(O,$)=>f(X=>({...X,[O]:$})),onReset:()=>{u(""),f({status:"all"})},onRefresh:C,isRefreshing:S||B.isPending,searchPlaceholder:"   ...",actions:[{key:"run-backup",label:B.isPending||g?.isRunning?" ...":"  ",icon:B.isPending||g?.isRunning?Zr:Nq,onClick:()=>B.mutate(),disabled:B.isPending||g?.isRunning,variant:"default"}]}),(B.isPending||g?.isRunning)&&a.jsx("div",{className:"px-4 mt-4","data-testid":"backup-progress",children:a.jsxs("div",{className:"bg-card border rounded-md p-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zr,{className:"h-4 w-4 animate-spin text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:"   ..."})]})}),a.jsx(Xl,{value:B.isPending?50:0,className:"h-2"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"      gzip"})]})}),a.jsx("div",{className:"mt-6 px-4",children:S&&A.length===0?a.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>a.jsx("div",{className:"h-40 rounded-md border bg-muted/20 animate-pulse"},O))}):_.length===0?a.jsxs("div",{className:"text-center py-20 border-2 border-dashed rounded-md bg-muted/5",children:[a.jsx(Zp,{className:"h-16 w-16 text-muted-foreground/20 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-muted-foreground","data-testid":"text-no-backups",children:"   "}),a.jsx("p",{className:"text-sm text-muted-foreground/60 max-w-sm mx-auto mt-2",children:'  "  "   '})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:_.map(O=>a.jsxs("div",{className:"group relative bg-card border rounded-md p-3 hover-elevate transition-all duration-300","data-testid":`card-backup-${O.filename}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:`p-2 rounded-md shrink-0 ${O.compressed?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"}`,children:O.compressed?a.jsx(Hw,{className:"h-4 w-4"}):a.jsx(ia,{className:"h-4 w-4"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-sm font-bold truncate",title:O.filename,children:O.filename}),a.jsx("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-muted-foreground flex-wrap",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ua,{className:"h-3 w-3"}),Oo(O.createdAt)]})})]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0 opacity-100 lg:opacity-0 lg:group-hover:opacity-100 transition-opacity",style:{visibility:"visible"},children:[a.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-download-${O.filename}`,onClick:()=>U(O.filename),children:a.jsx(Lp,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-restore-${O.filename}`,disabled:q.isPending,onClick:()=>D(O),children:a.jsx(kf,{className:"h-4 w-4"})}),a.jsx(Ie,{variant:"ghost",size:"icon","data-testid":`button-delete-${O.filename}`,disabled:T.isPending,onClick:()=>{const{dismiss:$}=t({title:" ",description:`   ${O.filename} `,action:a.jsx(Ie,{variant:"destructive",size:"sm",onClick:()=>{$(),T.mutate(O.filename)},children:""})})},children:a.jsx(Ps,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2 text-center",children:[a.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsxs("p",{className:"text-sm font-bold",children:[O.size," MB"]})]}),a.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm font-bold",children:O.tablesCount??"-"})]}),a.jsxs("div",{className:"bg-muted/30 rounded-md p-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm font-bold",children:O.totalRows?O.totalRows.toLocaleString():"-"})]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[O.compressed?a.jsx(Hw,{className:"h-3 w-3"}):a.jsx(ia,{className:"h-3 w-3"}),O.format==="json.gz"?"":O.format]}),a.jsx("span",{children:k(O.durationMs)})]}),O.status!=="success"&&a.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-1.5 rounded-md border border-destructive/20 truncate",children:"  "})]},O.filename))})}),a.jsx(Ws,{open:i,onOpenChange:o,children:a.jsxs(Rs,{className:"sm:max-w-md",dir:"rtl",children:[a.jsxs(qs,{children:[a.jsxs(la,{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(kf,{className:"h-5 w-5 text-orange-600"}),"  "]}),a.jsxs(Ll,{className:"text-right",children:["  : ",a.jsx("br",{}),a.jsx("span",{className:"font-mono text-xs text-primary font-bold",children:r?.filename}),r?.tablesCount&&a.jsxs("span",{className:"block mt-1 text-xs",children:[r.tablesCount,"  | ",r.totalRows?.toLocaleString(),"  | ",r.size," MB"]})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm font-bold block text-right flex items-center gap-2",children:[a.jsx(za,{className:"h-4 w-4 text-primary"}),"  :"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ws,{value:n,onValueChange:O=>s(O),children:[a.jsx(cs,{className:"w-full","data-testid":"select-restore-target",children:a.jsx(_s,{placeholder:" "})}),a.jsx(us,{children:v.map(O=>a.jsx(wr,{value:O.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[O.id==="central"?a.jsx(k_,{className:"h-4 w-4"}):a.jsx(Yq,{className:"h-4 w-4"}),a.jsx("span",{className:"font-bold",children:O.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.id,")"]})]})},O.id))})]}),a.jsx(Ie,{variant:"outline",size:"icon","data-testid":"button-test-connection",onClick:()=>L.mutate(n),disabled:L.isPending,children:a.jsx(Gn,{className:`h-4 w-4 ${L.isPending?"animate-spin":""}`})})]}),a.jsxs(Ie,{variant:"secondary",className:"w-full text-xs","data-testid":"button-analyze-tables",onClick:()=>P.mutate(n),disabled:P.isPending,children:[P.isPending?a.jsx(Zr,{className:"h-4 w-4 animate-spin ml-2"}):a.jsx(Go,{className:"h-4 w-4 ml-2"}),"    "]}),K.length>0&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"max-h-48 overflow-y-auto p-3 bg-muted/30 rounded-md border text-xs space-y-1",children:[a.jsxs("p",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(za,{className:"h-4 w-4"}),"   (",K.length," ):"]}),K.map((O,$)=>a.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[a.jsx("span",{className:"font-mono",children:O.table}),a.jsxs("div",{className:"flex items-center gap-2",children:[O.rows!==void 0&&a.jsxs("span",{className:"text-muted-foreground",children:[O.rows," "]}),O.status==="exists"?a.jsx("span",{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""}):a.jsx("span",{className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 px-2 py-0.5 rounded-md text-[10px] font-bold",children:""})]})]},$))]})})]}),q.isPending&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-primary",children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Zr,{className:"h-3 w-3 animate-spin"})," ..."]})}),a.jsx(Xl,{value:50,className:"h-2"}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"   ..."})]}),l&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-md border border-green-200 dark:border-green-800 flex items-center gap-3",children:[a.jsx(Hn,{className:"h-8 w-8 text-green-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200",children:"  "}),a.jsx("p",{className:"text-xs text-green-600/80 mt-1",children:"     "})]})]}),!q.isPending&&!l&&a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200 dark:border-amber-800",children:a.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium leading-relaxed",children:":        .    ."})})]}),a.jsxs(Qy,{className:"gap-3 sm:justify-start",children:[a.jsx(Ie,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-restore",disabled:q.isPending||l,children:""}),a.jsx(Ie,{variant:"default","data-testid":"button-confirm-restore",onClick:I,disabled:q.isPending||l,children:q.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kf,{className:"ml-2 h-4 w-4"})," "]})})]})]})})]})}const e8={system:{icon:Il,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-800",borderColor:"border-slate-200 dark:border-slate-700",label:""},security:{icon:Il,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},maintenance:{icon:wi,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",label:""},warranty:{icon:Nn,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",label:""},damaged:{icon:Gc,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",label:""},"user-welcome":{icon:Ln,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",label:""},task:{icon:zl,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",label:""},payroll:{icon:S_,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",label:""},announcement:{icon:em,color:"text-indigo-600",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",label:""},safety:{icon:$a,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",label:""}},t8={1:{label:"",color:"text-red-700",bgColor:"bg-red-100 dark:bg-red-900/30"},2:{label:"",color:"text-orange-700",bgColor:"bg-orange-100 dark:bg-orange-900/30"},3:{label:"",color:"text-yellow-700",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},4:{label:"",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"},5:{label:"",color:"text-slate-700",bgColor:"bg-slate-100 dark:bg-slate-800"}},vpe=t=>typeof t=="number"?t:{critical:1,high:2,medium:3,low:4,info:5}[t]||3,wpe=t=>{const r={};return t.forEach(e=>{if(!e.createdAt){r.older||(r.older=[]),r.older.push(e);return}const n=$2(e.createdAt);let s;kI(n)?s="today":jie(n)?s="yesterday":kie(n)?s="thisWeek":_ie(n)?s="thisMonth":s="older",r[s]||(r[s]=[]),r[s].push(e)}),r},_pe={today:"",yesterday:"",thisWeek:" ",thisMonth:" ",older:""},kpe=["today","yesterday","thisWeek","thisMonth","older"];function jpe(){const{toast:t}=wn(),{user:r}=Ql(),[e,n]=E.useState(new Set),[s,i]=E.useState(new Set(["today","yesterday","thisWeek"])),[o,c]=E.useState(!1),u=r?.id||"";r?.role==="admin"||r?.role;const l=[{key:"status",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:""},{value:"unread",label:" "},{value:"read",label:""}]},{key:"type",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"system",label:""},{value:"security",label:""},{value:"maintenance",label:""},{value:"task",label:""},{value:"announcement",label:""},{value:"payroll",label:""},{value:"safety",label:""}]},{key:"priority",label:"",type:"select",placeholder:" ",defaultValue:"all",options:[{value:"all",label:" "},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""}]},{key:"dateRange",label:" ",type:"date-range"}],{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=w0({status:"all",type:"all",priority:"all",dateRange:void 0}),{data:y,isLoading:m,refetch:v}=vt({queryKey:xe.notificationsByUser(u),queryFn:async()=>{try{const _=await Ue(`/api/notifications?userId=${u}&limit=100`);return _.data||_||{notifications:[],unreadCount:0,total:0}}catch{return{notifications:[],unreadCount:0,total:0}}},refetchInterval:3e4,enabled:!!r}),x=E.useMemo(()=>{let _=y?.notifications||[];if(_=_.map(j=>({...j,priority:vpe(j.priority),status:j.status||(j.isRead?"read":"unread")})),d){const j=d.toLowerCase();_=_.filter(N=>N.title.toLowerCase().includes(j)||(N.body||N.message||"").toLowerCase().includes(j))}p.status&&p.status!=="all"&&(_=_.filter(j=>j.status===p.status)),p.type&&p.type!=="all"&&(_=_.filter(j=>j.type===p.type)),p.priority&&p.priority!=="all"&&(_=_.filter(j=>j.priority===parseInt(p.priority)));const k=p.dateRange;if(k?.from){const j=k.from,N=k.to||new Date;_=_.filter(R=>{if(!R.createdAt)return!1;const O=$2(R.createdAt);return O>=j&&O<=N})}return _},[y,d,p]),S=E.useMemo(()=>wpe(x),[x]),C=E.useMemo(()=>({total:x.length,unread:x.filter(_=>_.status==="unread").length,critical:x.filter(_=>_.priority===1).length,high:x.filter(_=>_.priority===2).length}),[x]),A=It({mutationFn:async _=>await Ue(`/api/notifications/${_}/mark-read`,"POST"),onMutate:async _=>{await xn.cancelQueries({queryKey:xe.notificationsByUser(u)});const k=xn.getQueryData(xe.notificationsByUser(u));return xn.setQueryData(xe.notificationsByUser(u),j=>j&&{...j,notifications:j.notifications.map(N=>N.id===_?{...N,isRead:!0,status:"read"}:N),unreadCount:Math.max(0,(j.unreadCount||0)-1)}),{previousData:k}},onError:(_,k,j)=>{j?.previousData&&xn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:xe.notifications,exact:!1})}}),B=It({mutationFn:async()=>await Ue("/api/notifications/mark-all-read","POST"),onMutate:async()=>{await xn.cancelQueries({queryKey:xe.notificationsByUser(u)});const _=xn.getQueryData(xe.notificationsByUser(u));return xn.setQueryData(xe.notificationsByUser(u),k=>k&&{...k,notifications:k.notifications.map(j=>({...j,isRead:!0,status:"read"})),unreadCount:0}),{previousData:_}},onError:(_,k,j)=>{j?.previousData&&xn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:xe.notifications,exact:!1}),t({title:" ",description:"    "}),n(new Set)}}),q=It({mutationFn:async _=>(await Promise.all(_.map(k=>fetch(`/api/notifications/${k}/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}))),_),onMutate:async _=>{await xn.cancelQueries({queryKey:xe.notificationsByUser(u)});const k=xn.getQueryData(xe.notificationsByUser(u));return xn.setQueryData(xe.notificationsByUser(u),j=>{if(!j)return j;const N=new Set(_);return{...j,notifications:j.notifications.map(R=>N.has(R.id)?{...R,isRead:!0,status:"read"}:R),unreadCount:Math.max(0,(j.unreadCount||0)-_.length)}}),{previousData:k}},onError:(_,k,j)=>{j?.previousData&&xn.setQueryData(xe.notificationsByUser(u),j.previousData)},onSettled:()=>{xn.refetchQueries({queryKey:xe.notifications,exact:!1}),t({title:" ",description:`  ${e.size}  `}),n(new Set)}}),D=E.useCallback(_=>{n(k=>{const j=new Set(k);return j.has(_)?j.delete(_):j.add(_),j})},[]),I=E.useCallback(()=>{e.size===x.length?n(new Set):n(new Set(x.map(_=>_.id)))},[x,e.size]),U=E.useCallback(_=>{i(k=>{const j=new Set(k);return j.has(_)?j.delete(_):j.add(_),j})},[]),K=_=>{if(!_)return" ";const k=$2(_);return kI(k)?jr(k,"HH:mm",{locale:ca}):jr(k,"dd MMM HH:mm",{locale:ca})},W=({notification:_})=>{const k=e8[_.type]||e8.system,j=t8[_.priority]||t8[3],N=k.icon,R=_.status==="unread",O=e.has(_.id);return a.jsxs("div",{className:Ae("group relative flex items-start gap-3 p-4 rounded-xl border transition-all duration-200","hover:shadow-md active:scale-[0.99]",R?"bg-gradient-to-l from-blue-50/80 to-white dark:from-blue-900/10 dark:to-slate-900 border-blue-200 dark:border-blue-800":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700",O&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-slate-900"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jm,{checked:O,onCheckedChange:()=>D(_.id),className:"mt-1"}),a.jsx("div",{className:Ae("flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-transform group-hover:scale-105",k.bgColor),children:a.jsx(N,{className:Ae("h-5 w-5",k.color)})})]}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h3",{className:Ae("text-sm font-semibold leading-tight",R?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"),children:_.title}),R&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(xr,{variant:"outline",className:Ae("text-xs h-5 px-1.5",j.bgColor,j.color),children:j.label}),a.jsx(xr,{variant:"outline",className:Ae("text-xs h-5 px-1.5",k.bgColor,k.color),children:k.label})]})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 leading-relaxed",children:_.body||_.message||"  "}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-400",children:[a.jsx(ns,{className:"h-3.5 w-3.5"}),a.jsx("span",{children:K(_.createdAt)})]}),a.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[R&&a.jsxs(Ie,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs gap-1",onClick:()=>A.mutate(_.id),disabled:A.isPending,children:[a.jsx(Hc,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:""})]}),_.actionRequired&&a.jsxs(xr,{className:"bg-amber-100 text-amber-700 border-amber-200 text-xs",children:[a.jsx(xo,{className:"h-3 w-3 ml-1"})," "]})]})]})]})]})},P=({groupKey:_,notifications:k})=>{const j=s.has(_),N=k.filter(R=>R.status==="unread").length;return a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>U(_),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-2",children:[j?a.jsx(rs,{className:"h-4 w-4 text-slate-500"}):a.jsx(Kf,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:_pe[_]}),a.jsx(xr,{variant:"secondary",className:"text-xs h-5",children:k.length}),N>0&&a.jsxs(xr,{className:"bg-blue-500 text-white text-xs h-5",children:[N," "]})]})}),j&&a.jsx("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:k.map(R=>a.jsx(W,{notification:R},R.id))})]})},L=()=>a.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(_=>a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx(dn,{className:"w-10 h-10 rounded-xl"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(dn,{className:"h-4 w-3/4"}),a.jsx(dn,{className:"h-3 w-full"}),a.jsx(dn,{className:"h-3 w-1/2"})]})]},_))}),T=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:a.jsx(Fc,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"  "}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center max-w-sm",children:d||Object.values(p).some(_=>_&&_!=="all")?"       ":"     "}),(d||Object.values(p).some(_=>_&&_!=="all"))&&a.jsxs(Ie,{variant:"outline",className:"mt-4",onClick:g,children:[a.jsx(Us,{className:"h-4 w-4 ml-2"})," "]})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900",dir:"rtl",children:a.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-6 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:a.jsx(Fc,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-white",children:""}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.unread>0?`${C.unread}  `:"  "})]})]}),a.jsxs(Ie,{variant:"ghost",size:"sm",onClick:()=>v(),className:"gap-2",children:[a.jsx(Gn,{className:Ae("h-4 w-4",m&&"animate-spin")}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Fc,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.total})]}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(id,{className:"h-5 w-5 text-orange-500"}),a.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.unread})]}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($a,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.critical})]}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-3 sm:p-4 border border-slate-200 dark:border-slate-700 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Gc,{className:"h-5 w-5 text-amber-500"}),a.jsx("span",{className:"text-lg sm:text-xl font-bold text-slate-900 dark:text-white",children:C.high})]}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400 mt-1",children:" "})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm mb-4",children:a.jsx(yx,{searchValue:d,onSearchChange:f,searchPlaceholder:"  ...",filters:l,filterValues:p,onFilterChange:h,onReset:g,showActiveFilters:!0,className:"p-2"})}),e.size>0&&a.jsxs("div",{className:"sticky top-0 z-10 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-3 mb-4 flex flex-wrap items-center justify-between gap-2 animate-in slide-in-from-top-2 duration-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jm,{checked:e.size===x.length,onCheckedChange:I}),a.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["  ",e.size," "]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ie,{size:"sm",variant:"outline",className:"gap-1.5 text-xs h-8",onClick:()=>q.mutate(Array.from(e)),disabled:q.isPending,children:[a.jsx(l6,{className:"h-3.5 w-3.5"})," "]}),a.jsxs(Ie,{size:"sm",variant:"ghost",className:"gap-1.5 text-xs h-8",onClick:()=>n(new Set),children:[a.jsx(Us,{className:"h-3.5 w-3.5"})," "]})]})]}),C.unread>0&&e.size===0&&a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>B.mutate(),disabled:B.isPending,className:"gap-1.5",children:[a.jsx(l6,{className:"h-4 w-4"}),"  "]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:a.jsx(Yl,{className:"h-[calc(100vh-420px)] sm:h-[calc(100vh-380px)]",children:a.jsx("div",{className:"p-3 sm:p-4 space-y-4",children:m?a.jsx(L,{}):x.length===0?a.jsx(T,{}):kpe.filter(_=>S[_]?.length>0).map(_=>a.jsx(P,{groupKey:_,notifications:S[_]},_))})})}),a.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500 dark:text-slate-400",children:[" : ",jr(new Date,"HH:mm:ss",{locale:ca})]})]})})}function Spe({totalIncome:t,totalExpenses:r,remainingBalance:e,materialExpensesCredit:n,details:s}){const i=typeof t=="number"?t:parseFloat(String(t||"0"))||0,o=typeof r=="number"?r:parseFloat(String(r||"0"))||0,c=typeof e=="number"?e:parseFloat(String(e||"0"))||0,u=typeof n=="number"?n:parseFloat(String(n||"0"))||0;s?.workerWages,s?.materialCosts,s?.transportation,s?.miscExpenses,s?.workerTransfers,s?.outgoingProjectTransfers;const l=i,d=100,p=l>0?o/l*100:0,f=c>0?"text-green-400":c<0?"text-red-400":"text-yellow-400",h=c>0?"":c<0?"":"";return a.jsx("div",{className:"mt-4 space-y-3",children:a.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/30 rounded-lg p-4 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-bold text-lg text-foreground flex items-center gap-2",children:[a.jsx(kr,{className:"h-5 w-5 text-primary"})," "]}),a.jsx("div",{className:`text-2xl font-bold ${f}`,children:h})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-lg p-3 border border-green-200 dark:border-green-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Rn,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:""})]}),a.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100 arabic-numbers",children:Je(i)}),l>0&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[d.toFixed(1),"%  "]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/30 rounded-lg p-3 border border-red-200 dark:border-red-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(_a,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),a.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:""})]}),a.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100 arabic-numbers",children:Je(o)}),l>0&&a.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[p.toFixed(1),"%  "]})]})]}),s&&a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:[a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx(Ln,{className:"h-3 w-3"}),""]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.workerWages||0)})]}),a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx(Nn,{className:"h-3 w-3"}),""]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.materialCosts||0)})]}),a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx(oa,{className:"h-3 w-3"}),""]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.transportation||0)})]}),a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx(kr,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.workerTransfers||0)})]}),a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx(ey,{className:"h-3 w-3"})," "]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.outgoingProjectTransfers||0)})]}),a.jsxs("div",{className:"bg-white/50 dark:bg-black/20 p-2 rounded border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mb-1",children:[a.jsx($a,{className:"h-3 w-3"}),""]}),a.jsx("div",{className:"text-xs font-bold",children:Je(s.miscExpenses||0)})]})]}),l>0&&a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${d}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${p}%`}})]})}),a.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-3 border border-primary/30 mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vq,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:" "})]}),a.jsx("div",{className:`text-2xl font-bold arabic-numbers ${f}`,children:Je(c)})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:c>0?"  ":c<0?"  ":"  "})]}),u>0&&a.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-5 w-5 text-orange-500"}),a.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"  (   )"})]}),a.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 arabic-numbers",children:Je(u)})]})})]})})}function Npe({projectId:t,selectedDate:r}){const[e,n]=E.useState(""),[s,i]=E.useState(""),[o,c]=E.useState(null),[u,l]=E.useState({}),[d,p]=E.useState(!1),{toast:f}=wn(),h=ks(),{setFloatingAction:g}=Zi(),y=async(D,I)=>{if(!(!I||I.trim().length<2))try{await Ue("/api/autocomplete","POST",{category:D,value:I.trim(),usageCount:1}),console.log(`     : ${D} = ${I.trim()}`)}catch(U){console.warn(`Failed to save autocomplete value for ${D}:`,U)}},{data:m=[]}=vt({queryKey:xe.workerMiscExpensesFiltered(t,r),queryFn:async()=>{try{const D=await Ue(`/api/worker-misc-expenses?projectId=${t}&date=${r}`,"GET");return D&&D.data&&Array.isArray(D.data)?D.data:Array.isArray(D)?D:[]}catch(D){return console.error("Error fetching worker misc expenses:",D),[]}},enabled:!!t});E.useEffect(()=>{p(m.length>0)},[m]);const v=It({mutationFn:D=>Ue("/api/worker-misc-expenses","POST",D),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:xe.workerMiscExpenses}),n(""),i(""),f({title:"  ",description:"    "})},onError:D=>{const I=D?.response?.data?.message||D?.message||"    ";console.error("Error creating misc expense:",D),f({title:"   ",description:I,variant:"destructive"})}}),x=It({mutationFn:({id:D,data:I})=>Ue(`/api/worker-misc-expenses/${D}`,"PATCH",I),onSuccess:async()=>{e&&await y("workerMiscDescriptions",e),h.invalidateQueries({queryKey:xe.workerMiscExpenses}),A(),f({title:"  ",description:"   "})},onError:D=>{const I=D?.response?.data?.message||D?.message||"    ";console.error("Error updating misc expense:",D),f({title:"   ",description:I,variant:"destructive"})}}),S=It({mutationFn:D=>Ue(`/api/worker-misc-expenses/${D}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:xe.workerMiscExpenses}),f({title:"  ",description:"   "})},onError:D=>{const I=D?.response?.data?.message||D?.message||"    ";console.error("Error deleting misc expense:",D),f({title:"   ",description:I,variant:"destructive"})}}),C=async()=>{if(!t||t==="all"){f({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!e.trim()||!s){f({title:" ",description:"   ",variant:"destructive"});return}e&&e.trim().length>=2&&await y("workerMiscDescriptions",e),o?x.mutate({id:o,data:{description:e,amount:s}}):v.mutate({description:e,amount:s,projectId:t,date:r})},A=()=>{n(""),i(""),c(null)},B=D=>{n(D.description),i(D.amount),c(D.id)},q=Array.isArray(m)?m.reduce((D,I)=>D+parseFloat(I.amount||"0"),0):0;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Ms,{value:e,onChange:n,category:"workerMiscDescriptions",placeholder:""}),a.jsx(xt,{type:"number",inputMode:"decimal",value:s,onChange:D=>i(D.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{onClick:C,size:"sm",className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 disabled:opacity-50",disabled:v.isPending||x.isPending,"data-testid":"button-add-misc-expense",children:v.isPending||x.isPending?a.jsx(Zr,{className:"h-4 w-4 animate-spin"}):o?a.jsx(Mc,{className:"h-4 w-4"}):a.jsx(gs,{className:"h-4 w-4"})}),o&&a.jsx(Ie,{onClick:A,size:"sm",variant:"outline",disabled:v.isPending||x.isPending,"data-testid":"button-cancel-edit-misc-expense",children:""})]}),Array.isArray(m)&&m.map((D,I)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[a.jsx("span",{className:"text-sm flex-1",children:D.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium arabic-numbers",children:Je(D.amount)}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>B(D),children:a.jsx(Nl,{className:"h-3 w-3"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>S.mutate(D.id),disabled:S.isPending,children:a.jsx(Ps,{className:"h-3 w-3"})})]})]})]},D.id||I)),Array.isArray(m)&&m.length>0&&a.jsxs("div",{className:"text-left mt-2 pt-2 border-t",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),a.jsx("span",{className:"font-bold text-purple-600 arabic-numbers",children:Je(q.toString())})]})]})}class X2 extends E.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(r){return console.error(" [ErrorBoundary]   :",r),{hasError:!0,error:r}}componentDidCatch(r,e){console.error(" [ErrorBoundary]  :",r,e),console.error(" [ErrorBoundary] Stack trace:",r.stack)}render(){return this.state.hasError?this.props.fallback||a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:"    "}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"      "}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-4",children:"  "}),a.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/login"},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"  "})]}),!1]})}):this.props.children}}function Cpe(){const{toast:t}=wn(),[,r]=Gs(),{selectedProjectId:e,isAllProjects:n}=No(),[s,i]=E.useState(null),[o,c]=E.useState("0"),[u,l]=E.useState(!0),[d,p]=E.useState(""),[f,h]=E.useState({dateRange:void 0,type:"all",transportCategory:"all",miscCategory:"all"}),g=E.useCallback((le,Le)=>{if(le==="date")if(Le instanceof Date){const ft=Le.getFullYear(),sr=String(Le.getMonth()+1).padStart(2,"0"),Dr=String(Le.getDate()).padStart(2,"0");i(`${ft}-${sr}-${Dr}`)}else i(null);else le==="dateRange"?(h(ft=>({...ft,[le]:Le})),Le?.from&&i(null)):h(ft=>({...ft,[le]:Le}))},[]),y=E.useCallback(()=>{p(""),h({dateRange:void 0,type:"all"}),i(aa()),t({title:"  ",description:"      "})},[t]),[m,v]=E.useState(!1),[x,S]=E.useState(!1),[C,A]=E.useState(),[B,q]=E.useState(!1),[D,I]=E.useState(!1),[U,K]=E.useState(!1),[W,P]=E.useState(!1),[L,T]=E.useState(!1),[_,k]=E.useState(!1),[j,N]=E.useState(!1),[R,O]=E.useState(!0),[$,X]=E.useState(!1),{data:Y=[],isLoading:re}=vt({queryKey:xe.workerMiscExpensesFiltered(e,s),queryFn:async()=>{if(!e&&!n||!s)return[];const Le=await Ue(`/api/worker-misc-expenses?projectId=${n?"all":e}&date=${s}`,"GET");return Array.isArray(Le)?Le:Le?.data||[]},enabled:(!!e||n)&&!!s});E.useEffect(()=>{!re&&Y.length>0?X(!0):X(!1)},[Y.length,re,s]);const[F,Z]=E.useState(""),[V,z]=E.useState(""),[G,ae]=E.useState(""),[pe,ue]=E.useState(""),[ge,ee]=E.useState(null),[oe,ne]=E.useState(),[fe,ce]=E.useState(""),[ie,te]=E.useState(""),[se,de]=E.useState(""),[me,ke]=E.useState(null),[Ne,De]=E.useState("worker_transport"),[Fe,Ge]=E.useState(""),[qe,pt]=E.useState(""),[yt,ot]=E.useState(""),[ve,be]=E.useState(""),[Be,Xe]=E.useState(null),[Et,Kt]=E.useState(""),[_t,Yt]=E.useState(""),[Gt,Pt]=E.useState(""),Mt=ks(),{setFloatingAction:Nr}=Zi(),Lt=()=>{if(!s)return;const le=new Date(s);le.setDate(le.getDate()+1);const Le=le.getFullYear(),ft=String(le.getMonth()+1).padStart(2,"0"),sr=String(le.getDate()).padStart(2,"0");i(`${Le}-${ft}-${sr}`)},Cr=()=>{if(!s)return;const le=new Date(s);le.setDate(le.getDate()-1);const Le=le.getFullYear(),ft=String(le.getMonth()+1).padStart(2,"0"),sr=String(le.getDate()).padStart(2,"0");i(`${Le}-${ft}-${sr}`)},rr=async(le,Le)=>{if(!(!Le||Le.trim().length<2))try{await Ue("/api/autocomplete","POST",{category:le,value:Le.trim(),usageCount:1}),console.log(`     : ${le} = ${Le.trim()}`)}catch(ft){console.warn(`Failed to save autocomplete value for ${le}:`,ft)}};E.useEffect(()=>{i(aa())},[]),E.useEffect(()=>(Nr(null),()=>Nr(null)),[Nr]);const Ct=async()=>{const le=[];V&&V.trim().length>=2&&le.push(rr("senderNames",V)),G&&G.trim().length>=1&&le.push(rr("transferNumbers",G)),pe&&pe.trim().length>=2&&le.push(rr("transferTypes",pe)),le.length>0&&await Promise.all(le)},Tr={staleTime:1e3*60*60,gcTime:1e3*60*180,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1,placeholderData:le=>le},{data:nr=[],error:Bt}=vt({queryKey:xe.workers,queryFn:async()=>{try{const le=await Ue("/api/workers","GET");return Array.isArray(le?.data)?le.data:Array.isArray(le)?le:[]}catch{return[]}},...Tr}),{data:je=[],refetch:Me}=vt({queryKey:xe.workerAttendance(e,s),queryFn:async()=>{if(!e||!s)return[];const le=await Ue(`/api/worker-attendance?projectId=${e}&date=${s}`,"GET");return Array.isArray(le?.data)?le.data:Array.isArray(le)?le:[]},enabled:!!e&&!!s}),We=E.useMemo(()=>nr.filter(le=>!je.some(Le=>Le.workerId===le.id)),[nr,je]),{data:tt=[],error:zt}=vt({queryKey:xe.projects,queryFn:async()=>{try{const le=await Ue("/api/projects","GET");return Array.isArray(le?.data)?le.data:Array.isArray(le)?le:[]}catch{return[]}},...Tr}),dt=It({mutationFn:le=>Ue("/api/worker-attendance","POST",le),onSuccess:()=>{Ut(),pt(""),ot(""),be(""),Ge(""),t({title:"  ",description:"    "})},onError:async le=>{try{const Le={workerId:Fe,days:qe?parseFloat(qe):0,amount:yt?parseFloat(yt):0,notes:ve,selectedDate:s,projectId:e};await Q1("create","/api/worker-attendance",Le),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"",description:le?.message||"    ",variant:"destructive"})}}}),Qt=It({mutationFn:le=>Ue(`/api/worker-attendance/${le.id}`,"PATCH",le),onSuccess:()=>{Ut(),Xe(null),Kt(""),Yt(""),Pt(""),t({title:" ",description:"    "})},onError:le=>{t({title:"",description:le?.message||"    ",variant:"destructive"})}}),Vt=()=>{if(!e||e==="all"||n){t({title:"  ",description:"      ' '.     .",variant:"destructive"});return}if(!Fe||!qe&&!yt){t({title:" ",description:"        ",variant:"destructive"});return}const le=nr.find(gt=>gt.id===Fe);if(!le){t({title:"",description:"     ",variant:"destructive"});return}const Le=parseFloat(String(le.dailyWage||"0")),ft=parseFloat(qe||"0"),sr=parseFloat(yt||"0"),Dr=Le*ft,gn={workerId:Fe,projectId:e,attendanceDate:s||aa(),workDays:ft,dailyWage:Le.toString(),actualWage:Dr.toString(),totalPay:Dr.toString(),paidAmount:yt||"0",remainingAmount:(Dr-sr).toString(),workDescription:ve||(ft>0?" ":"  "),notes:ve,wellId:C||null,paymentType:sr>0?sr>=Dr&&Dr>0?"full":"partial":"credit"};console.log(" [DailyExpenses]   :",gn),dt.mutate(gn)},{data:St=[]}=vt({queryKey:xe.materials,queryFn:async()=>{try{const le=await Ue("/api/materials","GET");return le&&le.data&&Array.isArray(le.data)?le.data:[]}catch(le){return console.warn("     :",le),[]}},staleTime:1e3*60*30,gcTime:1e3*60*60,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),{data:we=[],refetch:He}=vt({queryKey:xe.dailyProjectTransfers(n?"all":e,s),queryFn:async()=>{try{const Le=await Ue(`/api/daily-project-transfers?projectId=${n?"all":e}&date=${s||""}`,"GET");console.log(" [ProjectTransfers]  API  :",Le);let ft=[];return Le&&Le.data&&Array.isArray(Le.data)?ft=Le.data:Array.isArray(Le)&&(ft=Le),Array.isArray(ft)?(console.log(` [ProjectTransfers]   ${ft.length}   ${s}   `),ft):[]}catch(le){return console.error("Error fetching daily project transfers:",le),[]}},enabled:!!e&&!!s&&u,staleTime:1e3*60*60,gcTime:1e3*60*180,refetchOnMount:!1,refetchOnWindowFocus:!1}),et=Array.isArray(we)?we:[],{summary:bt,allProjects:Nt,totals:gr,isLoading:an,refetch:Qn}=Ih({projectId:e==="all"?"all":e,date:s&&s!=="null"?s:void 0,dateFrom:f.dateRange?.from?Oo(f.dateRange.from):void 0,dateTo:f.dateRange?.to?Oo(f.dateRange.to):void 0,enabled:n||!!e}),ye=E.useMemo(()=>n?gr:{totalIncome:bt?.income?.totalIncome||0,totalCashExpenses:bt?.expenses?.totalCashExpenses||0,totalAllExpenses:bt?.expenses?.totalAllExpenses||0,totalExpenses:bt?.expenses?.totalAllExpenses||0,cashBalance:bt?.cashBalance||0,totalBalance:bt?.totalBalance||0,currentBalance:bt?.totalBalance||0,totalWorkers:bt?.workers?.totalWorkers||0,activeWorkers:bt?.workers?.activeWorkers||0,materialExpensesCredit:bt?.expenses?.materialExpensesCredit||0,carriedForwardBalance:bt?.income?.carriedForwardBalance||0,totalWorkerWages:bt?.expenses?.workerWages||0,totalTransportation:bt?.expenses?.transportExpenses||0,totalMaterialCosts:bt?.expenses?.materialExpenses||0,totalWorkerTransfers:bt?.expenses?.workerTransfers||0,totalMiscExpenses:bt?.expenses?.miscExpenses||0,totalFundTransfers:bt?.income?.fundTransfers||0,incomingProjectTransfers:bt?.income?.incomingProjectTransfers||0,outgoingProjectTransfers:bt?.expenses?.outgoingProjectTransfers||0,remainingBalance:bt?.totalBalance||0},[n,gr,bt]);E.useMemo(()=>ye.totalIncome,[ye]);const Te=E.useMemo(()=>ye.totalIncome+parseFloat(String(ye.carriedForwardBalance||0)),[ye]);E.useMemo(()=>ye.totalCashExpenses,[ye]);const Qe=E.useMemo(()=>Te-ye.totalCashExpenses,[Te,ye.totalCashExpenses]),{data:Ye,isLoading:Rt,error:lt,refetch:mt}=vt({queryKey:xe.dailyExpensesComplex(n?"all-projects":e,s?"daily-expenses":"all-expenses",s),queryFn:async()=>{try{if(n){const Le=s&&s!=="null"?`/api/projects/all-projects-total?date=${s}`:"/api/projects/all-projects-total",ft=await Ue(Le,"GET"),sr=s&&s!=="null"?`/api/projects/all-projects-expenses?date=${s}`:"/api/projects/all-projects-expenses",Dr=await Ue(sr,"GET");return Dr&&Dr.success&&Dr.data?ft&&ft.success&&ft.data?{...Dr.data,carriedForwardBalance:ft.data.carriedForwardBalance}:Dr.data:null}if(!e)return null;if(!s||s==="null"){const Le=await Ue(`/api/projects/${e}/all-expenses`,"GET");return Le&&Le.success&&Le.data?Le.data:null}const le=await Ue(`/api/projects/${e}/daily-expenses/${s}`,"GET");return le&&le.success&&le.data?le.data:null}catch(le){throw console.error("   :",le),le}},enabled:n||!!e,retry:1,staleTime:1e3*60*10,gcTime:1e3*60*60,refetchOnMount:!1,refetchOnWindowFocus:!1,placeholderData:le=>le}),Mr=E.useMemo(()=>Ye?.carriedForwardBalance!==void 0?Ye.carriedForwardBalance:ye.carriedForwardBalance||0,[ye.carriedForwardBalance,Ye]),ir=E.useMemo(()=>{const le=Ye?.carriedForwardBalance!==void 0?Ye.carriedForwardBalance:ye.carriedForwardBalance||0;return ye.totalIncome+le-ye.totalCashExpenses},[ye.totalIncome,ye.totalCashExpenses,ye.carriedForwardBalance,Ye]);E.useMemo(()=>({totalIncome:ye.totalIncome,totalExpenses:ye.totalCashExpenses,remainingBalance:ir,materialExpensesCredit:ye.materialExpensesCredit,carriedForward:Mr,details:{workerWages:ye.totalWorkerWages,materialCosts:ye.totalMaterialCosts,transportation:ye.totalTransportation,miscExpenses:ye.totalMiscExpenses,workerTransfers:ye.totalWorkerTransfers,outgoingProjectTransfers:ye.outgoingProjectTransfers}}),[ye,ir,Mr]);const Ut=E.useCallback(()=>{Mt.invalidateQueries({queryKey:xe.projects}),mt(),He(),Qn(),Me()},[Mt,mt,He,Qn,Me]),{todayFundTransfers:Ft,todayWorkerAttendance:or,todayTransportation:$r,todayMaterialPurchases:Lr,todayWorkerTransfers:rn,todayMiscExpenses:ln}=E.useMemo(()=>{if(!Ye)return{todayFundTransfers:[],todayWorkerAttendance:[],todayTransportation:[],todayMaterialPurchases:[],todayWorkerTransfers:[],todayMiscExpenses:[]};const le=Ye.data||Ye;return{todayFundTransfers:Array.isArray(le.fundTransfers)?le.fundTransfers:[],todayWorkerAttendance:Array.isArray(le.workerAttendance)?le.workerAttendance:[],todayTransportation:Array.isArray(le.transportationExpenses)?le.transportationExpenses:[],todayMaterialPurchases:Array.isArray(le.materialPurchases)?le.materialPurchases:[],todayWorkerTransfers:Array.isArray(le.workerTransfers)?le.workerTransfers:[],todayMiscExpenses:Array.isArray(le.miscExpenses)?le.miscExpenses:[]}},[Ye]),fn=Array.isArray(or)?or:[],Sn=Array.isArray($r)?$r:[],Yn=Array.isArray(Lr)?Lr:[],Os=Array.isArray(rn)?rn:[],Wa=Array.isArray(ln)?ln:[],fs=Array.isArray(Ft)?Ft:[];E.useEffect(()=>{A(void 0),ne(void 0)},[e]),E.useEffect(()=>{I(fs.length>0),K(Sn.length>0),P(fn.length>0),T(Yn.length>0),k(Os.length>0),N(et.length>0),X(Wa.length>0)},[fs.length,Sn.length,fn.length,Yn.length,Os.length,et.length,Wa.length]);const qr=E.useMemo(()=>{if(!d.trim())return fs;const le=d.toLowerCase().trim();return fs.filter(Le=>Le.senderName?.toLowerCase().includes(le)||Le.transferType?.toLowerCase().includes(le)||Le.transferNumber?.toLowerCase().includes(le)||Le.amount?.toString().includes(le))},[fs,d]),Rr=E.useMemo(()=>{if(!d.trim())return fn;const le=d.toLowerCase().trim();return fn.filter(Le=>nr.find(sr=>sr.id===Le.workerId)?.name?.toLowerCase().includes(le)||Le.workDescription?.toLowerCase().includes(le)||Le.notes?.toLowerCase().includes(le))},[fn,nr,d]),Fs=E.useMemo(()=>{if(!d.trim())return Sn;const le=d.toLowerCase().trim();return Sn.filter(Le=>Le.description?.toLowerCase().includes(le)||Le.notes?.toLowerCase().includes(le)||Le.amount?.toString().includes(le))},[Sn,d]),oi=E.useMemo(()=>{if(!d.trim())return Yn;const le=d.toLowerCase().trim();return Yn.filter(Le=>St.find(sr=>sr.id===Le.materialId)?.name?.toLowerCase().includes(le)||Le.supplier?.toLowerCase().includes(le)||Le.notes?.toLowerCase().includes(le)||Le.totalAmount?.toString().includes(le))},[Yn,St,d]),Ci=E.useMemo(()=>{if(!d.trim())return Os;const le=d.toLowerCase().trim();return Os.filter(Le=>nr.find(sr=>sr.id===Le.workerId)?.name?.toLowerCase().includes(le)||Le.notes?.toLowerCase().includes(le)||Le.amount?.toString().includes(le))},[Os,nr,d]),yr=E.useMemo(()=>{if(!d.trim())return Wa;const le=d.toLowerCase().trim();return Wa.filter(Le=>Le.description?.toLowerCase().includes(le)||Le.notes?.toLowerCase().includes(le)||Le.amount?.toString().includes(le))},[Wa,d]),{data:Ss}=vt({queryKey:xe.previousBalance(e,s),queryFn:async()=>{try{const le=await Ue(`/api/projects/${e}/previous-balance/${s}`,"GET");return le&&le.data&&le.data.balance!==void 0?le.data.balance||"0":le?.balance||"0"}catch(le){return console.error("Error fetching previous balance:",le),"0"}},enabled:!!e&&!!s&&!n,staleTime:0,gcTime:0,refetchOnMount:"always",placeholderData:void 0});E.useEffect(()=>{Ss!=null&&(console.log("  carriedForward:",{previousBalance:Ss,type:typeof Ss}),c(Ss))},[Ss]),E.useEffect(()=>{(e||n)&&Mt.invalidateQueries({queryKey:xe.projects,refetchType:"none"})},[e,s,n,Mt]),E.useEffect(()=>{(async()=>{const Le=[" "," "," "," ","",""];for(const ft of Le)try{await rr("transferTypes",ft)}catch(sr){console.log(`Type ${ft} initialization skipped:`,sr)}})()},[]);const ja=It({mutationFn:async le=>{await Ct();const Le={...le,wellId:oe||null};return Ue("/api/fund-transfers","POST",Le)},onSuccess:async le=>{Ut(),Mt.invalidateQueries({queryKey:xe.autocomplete}),t({title:"  ",description:"    "}),Z(""),z(""),ae(""),ue("")},onError:async le=>{await Ct(),Mt.invalidateQueries({queryKey:xe.autocomplete}),console.error("   :",le);let Le="    ";le?.response?.data?.message?Le=le.response.data.message:le?.message?Le=le.message:typeof le=="string"&&(Le=le);try{const ft={fundAmount:F?parseFloat(F):0,senderName:V,transferNumber:G,transferType:pe,selectedDate:s,projectId:e,wellId:oe||null};await Q1("create","/api/fund-transfers",ft),t({title:"  ",description:`${Le} -    `,variant:"default"})}catch{t({title:"   ",description:Le,variant:"destructive"})}}}),li=It({mutationFn:async le=>{await Promise.all([rr("transportDescriptions",fe),rr("notes",se)]);const Le={...le,wellId:C||null};return Ue("/api/transportation-expenses","POST",Le)},onSuccess:async le=>{Ut(),Mt.invalidateQueries({queryKey:xe.autocomplete}),t({title:"  ",description:"    "}),ce(""),te(""),de("")},onError:async le=>{await Promise.all([rr("transportDescriptions",fe),rr("notes",se)]),Mt.invalidateQueries({queryKey:xe.autocomplete});try{const Le={description:fe,amount:ie?parseFloat(ie):0,notes:se,selectedDate:s,projectId:e,wellId:C||null};await Q1("create","/api/transportation-expenses",Le),t({title:"  ",description:"   -    ",variant:"default"})}catch{t({title:"   ",description:le?.message||"     ",variant:"destructive"})}}}),Ji=It({mutationFn:le=>Ue("/api/daily-expense-summaries","POST",le),onSuccess:()=>{Ut(),t({title:" ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),ci=It({mutationFn:le=>Ue(`/api/fund-transfers/${le}`,"DELETE"),onSuccess:(le,Le)=>{Mt.setQueryData(xe.dailyExpenses(e,s),ft=>ft&&{...ft,fundTransfers:ft.fundTransfers?.filter(sr=>sr.id!==Le)||[]}),Ut(),t({title:" ",description:"   "})},onError:le=>{console.error("   :",le);let Le="    ";le?.response?.data?.message?Le=le.response.data.message:le?.message&&(Le=le.message),t({title:"   ",description:Le,variant:"destructive"})}}),Sa=It({mutationFn:le=>Ue(`/api/transportation-expenses/${le}`,"DELETE"),onSuccess:(le,Le)=>{Mt.setQueryData(xe.dailyExpenses(e,s),ft=>ft&&{...ft,transportationExpenses:ft.transportationExpenses?.filter(sr=>sr.id!==Le)||[]}),Ut(),t({title:" ",description:"    "})},onError:le=>{console.error("    :",le);let Le="     ";le?.response?.data?.message?Le=le.response.data.message:le?.response?.data?.error?Le=le.response.data.error:le?.message?Le=le.message:typeof le=="string"&&(Le=le),t({title:"    ",description:Le,variant:"destructive"})}}),To=It({mutationFn:le=>Ue(`/api/material-purchases/${le}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(le,Le,ft)=>{const{projectId:sr,date:Dr}=ft||{projectId:e,date:s};Mt.setQueryData(xe.dailyExpenses(sr,Dr),gn=>gn&&{...gn,materialPurchases:gn.materialPurchases?.filter(gt=>gt.id!==Le)||[]}),Mt.invalidateQueries({queryKey:xe.dailyExpenses(sr,Dr)}),Mt.invalidateQueries({queryKey:xe.materialPurchases(sr)}),Mt.invalidateQueries({queryKey:xe.previousBalance(sr)}),t({title:" ",description:"    "})},onError:le=>{console.error("    :",le);let Le="     ";le?.response?.data?.message?Le=le.response.data.message:le?.response?.data?.error?Le=le.response.data.error:le?.message?Le=le.message:typeof le=="string"&&(Le=le),t({title:"    ",description:Le,variant:"destructive"})}}),Ti=It({mutationFn:le=>Ue(`/api/project-fund-transfers/${le}`,"DELETE"),onSuccess:()=>{Ut(),He(),t({title:" ",description:"    "})},onError:le=>{t({title:"",description:le?.message||"    ",variant:"destructive"})}}),[ui,qa]=E.useState(null),Na=le=>{r(`/project-transfers?edit=${le.id}`)},Ei=It({mutationFn:le=>Ue(`/api/worker-attendance/${le}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(le,Le,ft)=>{const{projectId:sr,date:Dr}=ft||{projectId:e,date:s};Mt.setQueryData(xe.dailyExpenses(sr,Dr),gn=>gn&&{...gn,workerAttendance:gn.workerAttendance?.filter(gt=>gt.id!==Le)||[]}),Mt.invalidateQueries({queryKey:xe.dailyExpenses(sr,Dr)}),Mt.invalidateQueries({queryKey:xe.projectAttendance(sr)}),Mt.invalidateQueries({queryKey:xe.previousBalance(sr)}),t({title:" ",description:"    "})},onError:le=>{console.error("    :",le);let Le="     ";le?.response?.data?.message?Le=le.response.data.message:le?.response?.data?.error?Le=le.response.data.error:le?.message?Le=le.message:typeof le=="string"&&(Le=le),t({title:"    ",description:Le,variant:"destructive"})}}),di=It({mutationFn:le=>Ue(`/api/worker-transfers/${le}`,"DELETE"),onMutate:()=>({projectId:e,date:s}),onSuccess:(le,Le,ft)=>{const{projectId:sr,date:Dr}=ft||{projectId:e,date:s};Mt.setQueryData(xe.dailyExpenses(sr,Dr),gn=>gn&&{...gn,workerTransfers:gn.workerTransfers?.filter(gt=>gt.id!==Le)||[]}),Mt.invalidateQueries({queryKey:xe.dailyExpenses(sr,Dr)}),Mt.invalidateQueries({queryKey:xe.previousBalance(sr)}),t({title:" ",description:"    "})},onError:le=>{console.error("    :",le);let Le="     ";le?.response?.data?.message?Le=le.response.data.message:le?.response?.data?.error?Le=le.response.data.error:le?.message?Le=le.message:typeof le=="string"&&(Le=le),t({title:"    ",description:Le,variant:"destructive"})}}),Qs=It({mutationFn:({id:le,data:Le})=>Ue(`/api/fund-transfers/${le}`,"PATCH",Le),onSuccess:async(le,{id:Le})=>{Mt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)}),Mt.invalidateQueries({queryKey:xe.previousBalance(e)}),V&&await rr("senderNames",V),G&&await rr("transferNumbers",G),Mt.invalidateQueries({queryKey:xe.autocomplete}),T0(),t({title:" ",description:"   "})},onError:le=>{console.error("   :",le);let Le="    ";le?.response?.data?.message?Le=le.response.data.message:le?.message&&(Le=le.message),t({title:"   ",description:Le,variant:"destructive"})}}),T0=()=>{Z(""),z(""),ae(""),ue(""),ee(null)},E0=le=>{Z(le.amount),z(le.senderName||""),ae(le.transferNumber||""),ue(le.transferType),ee(le.id)},fu=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!F||F.trim()===""||parseFloat(F)<=0){t({title:"",description:"   ",variant:"destructive"});return}if(!pe||pe.trim()===""){t({title:"",description:"   ",variant:"destructive"});return}const le={projectId:e,amount:F.toString(),senderName:V.trim()||" ",transferNumber:G.trim()||null,transferType:pe,transferDate:new Date(s+"T12:00:00.000Z"),notes:"",wellId:oe||null};ge?Qs.mutate({id:ge,data:le}):ja.mutate(le)},zh=It({mutationFn:({id:le,data:Le})=>Ue(`/api/transportation-expenses/${le}`,"PATCH",Le),onSuccess:async(le,{id:Le})=>{Mt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)}),Mt.invalidateQueries({queryKey:xe.previousBalance(e)}),fe&&await rr("transportDescriptions",fe),se&&await rr("notes",se),Vh(),t({title:" ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),Vh=()=>{ce(""),te(""),de(""),De("worker_transport"),ke(null)},Md=le=>{ce(le.description),te(le.amount),de(le.notes||""),De(le.category||"worker_transport"),ke(le.id)},A0=()=>{if(!e||n){t({title:"  ",description:"       .        ",variant:"destructive"});return}if(!fe||!ie){t({title:"",description:"    ",variant:"destructive"});return}const le={projectId:e,description:fe,amount:ie,date:s||new Date().toISOString().split("T")[0],category:Ne,notes:se,wellId:C||null};me?zh.mutate({id:me,data:le}):li.mutate(le)},Uh=()=>{try{const le=Array.isArray(or)?or.filter(dr=>dr&&typeof dr=="object"):[],Le=Array.isArray($r)?$r.filter(dr=>dr&&typeof dr=="object"):[],ft=Array.isArray(Lr)?Lr.filter(dr=>dr&&typeof dr=="object"):[],sr=Array.isArray(rn)?rn.filter(dr=>dr&&typeof dr=="object"):[],Dr=Array.isArray(ln)?ln.filter(dr=>dr&&typeof dr=="object"):[],gn=Array.isArray(Ft)?Ft.filter(dr=>dr&&typeof dr=="object"):[],gt=Array.isArray(we)?we.filter(dr=>dr&&typeof dr=="object"):[],cn=le.reduce((dr,$n)=>{const Ys=_n($n.paidAmount);return dr+Ys},0),Bn=Le.reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),hn=ft.filter(dr=>dr.purchaseType==="").reduce((dr,$n)=>{const Ys=_n($n.totalAmount);return dr+Ys},0),Ca=sr.reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),Eo=Dr.reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),Ao=gn.reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),Dd=gt.filter(dr=>dr.toProjectId===e).reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),Id=gt.filter(dr=>dr.fromProjectId===e).reduce((dr,$n)=>{const Ys=_n($n.amount);return dr+Ys},0),gu=_n(o);console.log(" [calculateTotals]  :",{carriedForward:o,carriedAmount:gu,totalFundTransfers:Ao,incomingProjectTransfers:Dd,calculation:`${gu} + ${Ao} + ${Dd}`});const dl=bt?.expenses?.totalAllExpenses||cn+Bn+hn+Ca+Eo+Id,tc=bt?.income?.totalIncome||gu+Ao+Dd,qh=bt?.totalBalance??tc-dl;console.log(" [calculateTotals]  :",{totalIncome:tc,totalExpenses:dl,remainingBalance:qh});const Od={totalWorkerWages:cn,totalTransportation:Bn,totalMaterialCosts:hn,totalWorkerTransfers:Ca,totalMiscExpenses:Eo,totalFundTransfers:Ao,incomingProjectTransfers:Dd,outgoingProjectTransfers:Id,totalIncome:tc,totalExpenses:dl,remainingBalance:qh},kx=1e8;return Object.keys(Od).forEach(dr=>{const $n=Od[dr];typeof $n=="number"&&Math.abs($n)>kx&&(console.warn(` [DailyExpenses]     ${dr}:`,$n),dr!=="remainingBalance"&&(Od[dr]=0))}),Od}catch(le){return console.error(" [DailyExpenses]   calculateTotals:",le),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,totalIncome:0,totalExpenses:0,remainingBalance:0}}},hu=()=>{if(!e){t({title:"",description:"   ",variant:"destructive"});return}const le=Uh();Ji.mutate({projectId:e,date:s||new Date().toISOString().split("T")[0],carriedForwardAmount:o,totalFundTransfers:le.totalFundTransfers.toString(),totalWorkerWages:le.totalWorkerWages.toString(),totalMaterialCosts:le.totalMaterialCosts.toString(),totalTransportationCosts:le.totalTransportation.toString(),totalIncome:le.totalIncome.toString(),totalExpenses:le.totalExpenses.toString(),remainingBalance:le.remainingBalance.toString()})};E.useMemo(()=>{try{const le=Uh();if(!le||typeof le!="object")throw console.warn(" [DailyExpenses] calculateTotals returned invalid result:",le),new Error("Invalid result from calculateTotals");return le}catch(le){return console.error(" [DailyExpenses]    :",le),{totalWorkerWages:0,totalTransportation:0,totalMaterialCosts:0,totalWorkerTransfers:0,totalMiscExpenses:0,totalFundTransfers:0,incomingProjectTransfers:0,outgoingProjectTransfers:0,totalIncome:0,totalExpenses:0,remainingBalance:0}}},[or,$r,Lr,rn,ln,Ft,we,o,e]);const pu=E.useMemo(()=>[{columns:3,gap:"sm",items:[{key:"workerWages",label:" ",value:Je(ye.totalWorkerWages),icon:Ln,color:"blue"},{key:"fundTransfers",label:" ",value:Je(ye.totalFundTransfers),icon:Aq,color:"green"},{key:"materials",label:"",value:Je(ye.totalMaterialCosts),icon:Nn,color:"purple"}]},{columns:3,gap:"sm",items:[{key:"transportation",label:"",value:Je(ye.totalTransportation),icon:oa,color:"orange"},{key:"miscExpenses",label:"",value:Je(ye.totalMiscExpenses),icon:l1,color:"amber"},{key:"projectTransfers",label:"",splitValue:{incoming:ye.incomingProjectTransfers,outgoing:ye.outgoingProjectTransfers},value:Je(ye.incomingProjectTransfers-ye.outgoingProjectTransfers),icon:bs,color:"teal",isSplitCard:!0}]},{columns:3,gap:"sm",items:[{key:"workerTransfers",label:"",value:Je(ye.totalWorkerTransfers),icon:ey,color:"indigo"},{key:"totalExpenses",label:"",value:Je(ye.totalExpenses),icon:_a,color:"red"},{key:"remainingBalance",label:"",value:Je(ye.totalBalance),icon:Ko,color:ye.totalBalance>=0?"emerald":"rose"}]}],[ye]),ec=["","",""," ",""],Rd=E.useMemo(()=>[{key:"date",label:"",type:"date",placeholder:" "},{key:"dateRange",label:" ",type:"date-range",placeholder:"  "},{key:"type",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"wages",label:" "},{value:"transport",label:""},{value:"materials",label:""},{value:"misc",label:""},{value:"fund",label:""}]},{key:"transportCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}]},{key:"miscCategory",label:" ",type:"select",placeholder:" ",options:[{value:"all",label:" "},...ec.map(le=>({value:le,label:le}))]}],[]),_x=async()=>{S(!0);try{await Mt.invalidateQueries({queryKey:xe.dailyExpenses(e,s)})}finally{S(!1)}},P0=E.useCallback(async()=>{v(!0);try{const le=[];console.log(" [Excel Export]  :",{fundTransfers:qr.length,attendance:Rr.length,transportation:Fs.length,materials:oi.length,workerTransfers:Ci.length,miscExpenses:yr.length});const Le=_n(o);Le!==0&&le.push({id:"previous-balance",date:s||new Date().toISOString().split("T")[0],type:"income",category:" ",amount:Math.abs(Le),description:Le>0?"  ()":"  ()",projectName:tt.find(gt=>gt.id===e)?.name||" "}),qr.forEach(gt=>{le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:"income",category:"",amount:_n(gt.amount),description:`  ${gt.senderName||" "}`,projectId:gt.projectId,projectName:tt.find(cn=>cn.id===gt.projectId)?.name||" ",transferMethod:gt.transferType,recipientName:gt.senderName})}),et.forEach(gt=>{const cn=gt.toProjectId===e,Bn=tt.find(Ca=>Ca.id===gt.fromProjectId),hn=tt.find(Ca=>Ca.id===gt.toProjectId);le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:cn?"transfer_from_project":"expense",category:cn?" ":" ",amount:_n(gt.amount),description:cn?`  ${Bn?.name||" "}`:`  ${hn?.name||" "}`,projectId:cn?gt.fromProjectId:gt.toProjectId,projectName:cn?Bn?.name:hn?.name})}),Rr.forEach(gt=>{const cn=nr.find(Eo=>Eo.id===gt.workerId),Bn=_n(gt.paidAmount),hn=_n(gt.payableAmount),Ca=Bn===0&&hn>0;le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:Ca?"deferred":"expense",category:" ",amount:Bn,description:gt.workDescription||" ",projectId:gt.projectId,projectName:tt.find(Eo=>Eo.id===gt.projectId)?.name||" ",workerName:cn?.name||" ",workDays:_n(gt.workDays)||void 0,dailyWage:_n(gt.dailyWage)||void 0,payableAmount:hn||void 0})}),Fs.forEach(gt=>{le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:_n(gt.amount),description:gt.description||" ",projectId:gt.projectId,projectName:tt.find(cn=>cn.id===gt.projectId)?.name||" "})}),oi.forEach(gt=>{const cn=St.find(hn=>hn.id===gt.materialId),Bn=gt.purchaseType==="";le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:Bn?"expense":"deferred",category:" ",amount:Bn?_n(gt.totalAmount):0,description:` ${cn?.name||""}`,projectId:gt.projectId,projectName:tt.find(hn=>hn.id===gt.projectId)?.name||" ",materialName:cn?.name||gt.materialName,quantity:_n(gt.quantity)||void 0,unitPrice:_n(gt.unitPrice)||void 0,paymentType:gt.purchaseType,supplierName:gt.supplier||gt.supplierName})}),Ci.forEach(gt=>{const cn=nr.find(Bn=>Bn.id===gt.workerId);le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:" ",amount:_n(gt.amount),description:gt.notes||" ",projectId:gt.projectId,projectName:tt.find(Bn=>Bn.id===gt.projectId)?.name||" ",workerName:cn?.name||" ",recipientName:cn?.name})}),yr.forEach(gt=>{le.push({id:gt.id,date:gt.date||s||new Date().toISOString().split("T")[0],type:"expense",category:"",amount:_n(gt.amount),description:gt.description||" ",projectId:gt.projectId,projectName:tt.find(cn=>cn.id===gt.projectId)?.name||" "})});const ft=Uh(),sr={totalIncome:ft.totalIncome,totalExpenses:ft.totalExpenses,balance:ft.remainingBalance},Dr=n?" ":tt.find(gt=>gt.id===e)?.name||"",gn=await HL(le,sr,Je,`${Dr}${s?` - ${s}`:""}`);t(gn?{title:"  ",description:`  ${le.length}    Excel`}:{title:" ",description:"     .   .",variant:"destructive"})}catch(le){console.error("  :",le),t({title:" ",description:"    ",variant:"destructive"})}finally{v(!1)}},[qr,Rr,Fs,oi,Ci,yr,et,nr,St,tt,e,s,n,t]),Wh=E.useMemo(()=>[{key:"export",icon:Hm,label:" Excel",onClick:P0,variant:"outline",loading:m,tooltip:"     Excel"}],[m,P0]),mu={fundTransfers:Array.isArray(Ft)&&Ft.length>0,attendance:Array.isArray(or)&&or.length>0,transportation:Array.isArray($r)&&$r.length>0,materials:Array.isArray(Lr)&&Lr.length>0,workerTransfers:Array.isArray(rn)&&rn.length>0,miscExpenses:Array.isArray(ln)&&ln.length>0};return Object.keys(mu).length,Object.values(mu).filter(Boolean).length,a.jsxs("div",{className:"p-4 slide-in space-y-4",children:[a.jsx(Co,{hideHeader:!0,title:"",statsRows:pu,searchValue:d,onSearchChange:p,searchPlaceholder:"  ...",showSearch:!0,filters:Rd,filterValues:{date:s?(()=>{const[le,Le,ft]=s.split("-").map(Number);return new Date(le,Le-1,ft,12,0,0,0)})():void 0,dateRange:f.dateRange,type:f.type,transportCategory:f.transportCategory,miscCategory:f.miscCategory},onFilterChange:g,onReset:y,onRefresh:_x,isRefreshing:x,actions:Wh}),!n&&!f.dateRange?.from&&s&&a.jsxs("div",{className:"flex items-center justify-between gap-2 bg-white dark:bg-slate-900 p-2 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mx-auto w-full max-w-md",children:[a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Cr,title:" ",children:a.jsx(Kf,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:" "}),a.jsxs("span",{className:"text-sm font-black text-slate-900 dark:text-white arabic-numbers flex items-center gap-1.5",children:[a.jsx(ua,{className:"h-3.5 w-3.5 text-primary"}),jr(new Date(s),"EEEE, d MMMM yyyy",{locale:ca})]})]}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",onClick:Lt,title:" ",children:a.jsx(Ww,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"})})]}),Ye?.groupedByProjectDate&&Ye.groupedByProjectDate.length>0?a.jsx("div",{className:"space-y-4",children:Ye.groupedByProjectDate.map((le,Le)=>a.jsx(vn,{title:le.projectName,subtitle:`  ${Oo(le.date)}`,titleIcon:Vw,headerColor:"#3b82f6",badges:[{label:Oo(le.date),variant:"default"},{label:le.remainingBalance>=0?" ":"",variant:le.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(le.totalIncome||0),icon:Rn,color:"success",emphasis:!0},{label:" ",value:Je(le.totalExpenses||0),icon:_a,color:"danger",emphasis:!0},{label:" ",value:Je(le.totalWorkerWages||0),icon:Ln,color:"info"},{label:"",value:Je(le.totalTransportation||0),icon:oa,color:"warning"},{label:"",value:Je(le.totalMaterialCosts||0),icon:Nn,color:"info"},{label:"",value:Je(le.totalMiscExpenses||0),icon:l1,color:"muted"},{label:" ",value:Je(le.totalWorkerTransfers||0),icon:ey,color:"warning"},{label:"",value:Je(le.remainingBalance||0),icon:Ko,color:(le.remainingBalance||0)>=0?"success":"danger",emphasis:!0}]},`${le.projectId}-${le.date}-${Le}`))}):e&&s&&a.jsx(vn,{title:tt?.find(le=>le.id===e)?.name||"",subtitle:`  ${Oo(s)}`,titleIcon:Vw,headerColor:"#3b82f6",badges:[{label:Oo(s),variant:"default"},{label:gr.remainingBalance>=0?" ":"",variant:gr.remainingBalance>=0?"success":"destructive"}],fields:[{label:" ",value:Je(gr.totalIncome),icon:Rn,color:"success",emphasis:!0},{label:" ",value:Je(gr.totalExpenses),icon:_a,color:"danger",emphasis:!0},{label:" ",value:Je(gr.totalWorkerWages),icon:Ln,color:"info"},{label:"",value:Je(gr.totalTransportation),icon:oa,color:"warning"},{label:"",value:Je(gr.totalMaterialCosts),icon:Nn,color:"info"},{label:"",value:Je(gr.totalMiscExpenses),icon:l1,color:"muted"},{label:" ",value:Je(gr.totalWorkerTransfers),icon:ey,color:"warning"},{label:"",value:Je(gr.remainingBalance),icon:Ko,color:gr.remainingBalance>=0?"success":"danger",emphasis:!0}]}),a.jsx(Li,{open:B,onOpenChange:q,children:a.jsxs(Jt,{className:"mb-4",children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium text-foreground",children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:B?" ":" "}),B?a.jsx(qc,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(rs,{className:"h-5 w-5 text-muted-foreground"})]})]})}),a.jsx($i,{children:a.jsxs(vr,{className:"p-4 pt-0",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsx("div",{children:a.jsx(el,{label:"",value:s||"",onChange:le=>i(le?jr(le,"yyyy-MM-dd"):null)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground",children:"  "}),a.jsx(xt,{type:"number",inputMode:"decimal",value:o,onChange:le=>c(le.target.value),placeholder:"0",className:"text-center arabic-numbers min-h-11",autoWidth:!0,maxWidth:200})]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs(Li,{open:D,onOpenChange:I,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsx("h4",{className:"font-medium text-foreground",children:"  "}),a.jsxs("div",{className:"flex items-center gap-1",children:[fs.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:fs.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[lt&&a.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-700 text-sm",children:["   : ",lt.message]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),a.jsx(xt,{type:"number",inputMode:"decimal",value:F,onChange:le=>Z(le.target.value),placeholder:" *",className:"text-center arabic-numbers",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),a.jsx(Ms,{value:V,onChange:z,category:"senderNames",placeholder:" "})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" "}),a.jsx(Ms,{type:"number",inputMode:"numeric",value:G,onChange:ae,category:"transferNumbers",placeholder:" ",className:"w-full arabic-numbers"})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:"  *"}),a.jsx(Ms,{value:pe,onChange:ue,category:"transferTypes",placeholder:"  *",className:"flex-1"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{onClick:fu,size:"sm",className:"flex-1 bg-primary",disabled:ja.isPending||Qs.isPending,"data-testid":"button-add-fund-transfer",children:ja.isPending||Qs.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):ge?a.jsxs(a.Fragment,{children:[a.jsx(Mc,{className:"h-4 w-4 ml-2"}),"  "]}):a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"h-4 w-4 ml-2"}),"  "]})}),ge&&a.jsx(Ie,{onClick:T0,size:"sm",variant:"outline",children:""})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),Rt?a.jsx("div",{className:"text-center text-muted-foreground",children:" ..."}):fs.length>0?a.jsxs("div",{className:"space-y-2",children:[fs.map((le,Le)=>a.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/20 rounded-lg shadow-sm hover:shadow-md transition-all",children:a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm",children:le.senderName||" "}),a.jsx(xr,{variant:"secondary",className:"text-[10px] px-1.5 h-4 bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 border-none",children:le.transferType})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] text-muted-foreground",children:[le.transferNumber&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"opacity-70",children:" :"}),a.jsx("span",{className:"font-medium text-foreground",children:le.transferNumber})]}),n&&le.projectName&&a.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[a.jsx("span",{children:""}),a.jsx("span",{className:"font-medium",children:le.projectName})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx("span",{className:"font-bold text-primary arabic-numbers text-sm",children:Je(le.amount)}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>E0(le),"data-testid":"button-edit-fund-transfer",children:a.jsx(Nl,{className:"h-3.5 w-3.5"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>ci.mutate(le.id),disabled:ci.isPending,"data-testid":"button-delete-fund-transfer",children:ci.isPending?a.jsx("div",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-red-600 border-t-transparent"}):a.jsx(Ps,{className:"h-3.5 w-3.5"})})]})]})]})},le.id||Le)),a.jsxs("div",{className:"text-left pt-2 border-t mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:" : "}),a.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je(gr.totalFundTransfers)})]})]}):a.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[a.jsx(kr,{className:"mx-auto h-8 w-8 text-gray-400"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["     ",s]})]})]})]})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:U,onOpenChange:K,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Mq,{className:"text-secondary ml-2 h-5 w-5"}),"  "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Sn.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:Sn.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),a.jsx(Ms,{value:fe,onChange:ce,category:"transportDescriptions",placeholder:""})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),a.jsxs(ws,{value:Ne,onValueChange:De,children:[a.jsx(cs,{className:"arabic-numbers",children:a.jsx(_s,{placeholder:" "})}),a.jsxs(us,{children:[a.jsx(wr,{value:"worker_transport",children:" "}),a.jsx(wr,{value:"material_delivery",children:" "}),a.jsx(wr,{value:"concrete_transport",children:" "}),a.jsx(wr,{value:"iron_platforms",children:"  "}),a.jsx(wr,{value:"fuel_shas",children:" "}),a.jsx(wr,{value:"fuel_hilux",children:" "}),a.jsx(wr,{value:"loading_unloading",children:" "}),a.jsx(wr,{value:"maintenance",children:" "}),a.jsx(wr,{value:"water_supply",children:" "}),a.jsx(wr,{value:"other",children:""})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:" *"}),a.jsx(xt,{type:"number",inputMode:"decimal",value:ie,onChange:le=>te(le.target.value),placeholder:"",className:"text-center arabic-numbers"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx(Ze,{className:"block text-sm font-medium text-foreground mb-1",children:""}),a.jsx(Ms,{value:se,onChange:de,category:"notes",placeholder:"",className:"flex-1"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3 mb-3",children:e&&!n&&a.jsx("div",{className:"flex flex-col",children:a.jsx(Sm,{projectId:e,value:C,onChange:A,optional:!0})})}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Ie,{onClick:A0,size:"sm",className:"w-full bg-secondary",disabled:li.isPending||zh.isPending,"data-testid":"button-add-transportation",children:li.isPending||zh.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):me?a.jsxs(a.Fragment,{children:[a.jsx(Mc,{className:"h-4 w-4 ml-2"}),"  "]}):a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"h-4 w-4 ml-2"}),"  "]})}),me&&a.jsx(Ie,{onClick:Vh,size:"sm",variant:"outline",children:""})]})]}),Sn.length>0&&a.jsxs("div",{className:"mt-3 space-y-2",children:[Sn.map((le,Le)=>a.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-orange-200 dark:border-orange-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm",children:le.description}),a.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-base",children:Je(le.amount)})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(xr,{variant:"outline",className:"text-[10px] bg-orange-100/50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:[{value:"worker_transport",label:" "},{value:"material_delivery",label:" "},{value:"concrete_transport",label:" "},{value:"iron_platforms",label:"  "},{value:"fuel_shas",label:" "},{value:"fuel_hilux",label:" "},{value:"loading_unloading",label:" "},{value:"maintenance",label:" "},{value:"water_supply",label:" "},{value:"other",label:""}].find(ft=>ft.value===le.category)?.label||""}),le.notes&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",le.notes]})]}),le.wellName&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",le.wellName]}),n&&le.projectName&&a.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",le.projectName]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>Md(le),"data-testid":"button-edit-transportation",children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Sa.mutate(le.id),disabled:Sa.isPending,"data-testid":"button-delete-transportation",children:Sa.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):a.jsx(Ps,{className:"h-4 w-4"})})]})]})},Le)),a.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-orange-100 dark:bg-orange-900/40 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:[a.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:" : "}),a.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400 arabic-numbers text-lg",children:Je(gr.totalTransportation)})]})]})]})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:W,onOpenChange:P,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Ln,{className:"text-primary ml-2 h-5 w-5"}),"   "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[fn.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:fn.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-3 items-end",children:[a.jsxs("div",{className:"col-span-6",children:[a.jsx(Ze,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),a.jsxs(ws,{value:Fe||"none",onValueChange:le=>Ge(le==="none"?"":le),children:[a.jsx(cs,{className:"h-9 text-xs","data-testid":"select-worker",children:a.jsx(_s,{placeholder:" "})}),a.jsxs(us,{className:"p-0 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b sticky top-0 bg-popover z-50",children:a.jsx(xt,{placeholder:"  ...",className:"h-8 w-full text-xs",onChange:le=>p(le.target.value),value:d,onClick:le=>{le.preventDefault(),le.stopPropagation()},onKeyDown:le=>{le.key===" "&&le.stopPropagation()}})}),a.jsxs("div",{className:"max-h-[200px] overflow-y-auto p-1",children:[a.jsx(wr,{value:"none",className:"text-xs",children:" "}),We&&We.length>0?We.filter(le=>!d||le.name&&le.name.toLowerCase().includes(d.toLowerCase())).map(le=>a.jsx(wr,{value:le.id?.toString()||"none",className:"text-xs",children:le.name},`worker-select-${le.id}`)):a.jsx(wr,{value:"none",disabled:!0,className:"text-xs",children:"    ( )"})]})]})]})]}),a.jsxs("div",{className:"col-span-3",children:[a.jsx(Ze,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),a.jsx(xt,{type:"number",value:qe,onChange:le=>pt(le.target.value),placeholder:"0",className:"text-center h-9 text-xs",min:"0",step:"0.5","data-testid":"input-worker-days"})]}),a.jsxs("div",{className:"col-span-3",children:[a.jsx(Ze,{className:"text-[10px] font-bold text-foreground mb-1 block",children:" *"}),a.jsx(xt,{type:"number",value:yt,onChange:le=>ot(le.target.value),placeholder:"0",className:"text-center arabic-numbers h-9 text-xs",min:"0",step:"0.01","data-testid":"input-worker-amount"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(Ze,{className:"text-xs font-bold text-foreground mb-1",children:""}),a.jsx(xt,{type:"text",value:ve,onChange:le=>be(le.target.value),placeholder:" ",className:"h-9","data-testid":"input-worker-notes"})]}),e&&!n&&a.jsx("div",{className:"mb-3",children:a.jsx(Sm,{projectId:e,value:C,onChange:A,optional:!0})}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Ie,{onClick:Vt,className:"bg-primary h-9 flex-1",disabled:dt.isPending,"data-testid":"button-add-worker-attendance",children:dt.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"h-4 w-4 ml-1"}),"  "]})})}),Be&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900/30 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-foreground mb-3",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs font-bold text-foreground mb-1",children:""}),a.jsx(xt,{type:"number",value:Et,onChange:le=>Kt(le.target.value),className:"text-center h-9",min:"0",step:"0.5","data-testid":"input-edit-worker-days"})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"text-xs font-bold text-foreground mb-1",children:""}),a.jsx(xt,{type:"number",value:_t,onChange:le=>Yt(le.target.value),className:"text-center h-9",min:"0",step:"0.01","data-testid":"input-edit-worker-amount"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(Ze,{className:"text-xs font-bold text-foreground mb-1",children:""}),a.jsx(xt,{type:"text",value:Gt,onChange:le=>Pt(le.target.value),placeholder:" ",className:"h-9","data-testid":"input-edit-worker-notes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ie,{onClick:()=>{Qt.mutate({id:Be,workDays:Et,paidAmount:_t,notes:Gt})},className:"bg-primary h-9 flex-1",disabled:Qt.isPending,"data-testid":"button-save-edit-worker-attendance",children:Qt.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-white border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(Mc,{className:"h-4 w-4 ml-1"})," "]})}),a.jsx(Ie,{onClick:()=>{Xe(null),Kt(""),Yt(""),Pt("")},variant:"outline",className:"h-9",children:""})]})]}),fn.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h5",{className:"text-sm font-medium text-muted-foreground mb-2",children:"   :"}),a.jsxs("div",{className:"space-y-2",children:[fn.map((le,Le)=>{const ft=nr.find(gt=>gt.id===le.workerId),sr=_n(le.payableAmount),Dr=_n(le.paidAmount),gn=sr-Dr;return a.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-blue-200 dark:border-blue-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm",children:le.workerName||ft?.name||` ${Le+1}`}),ft?.type&&a.jsx(xr,{variant:"outline",className:`text-[10px] px-1.5 h-4 flex items-center border-none ${ft.type.includes("")?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":ft.type.includes("")?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":ft.type.includes("")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":ft.type.includes("")?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":ft.type.includes("")?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":ft.type.includes("")?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":ft.type.includes("")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":ft.type.includes("")?"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:ft.type})]}),a.jsx("span",{className:"font-bold text-primary arabic-numbers text-base",children:Je(Dr)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:": "}),a.jsx("span",{className:"font-medium text-foreground",children:_n(le.workDays)||0})]}),a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:" : "}),a.jsx("span",{className:"font-medium text-foreground",children:Je(_n(le.dailyWage||ft?.dailyWage))})]})]}),gn>0&&a.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[": ",Je(gn)]}),le.workDescription&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",le.workDescription]}),a.jsx("div",{className:"flex flex-col gap-1",children:le.notes&&a.jsxs("p",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/30 p-2 rounded-md border border-amber-200 dark:border-amber-900/50 mt-1",children:[a.jsx("span",{className:"font-bold text-amber-700 dark:text-amber-400",children:": "}),le.notes]})}),n&&le.projectName&&a.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",le.projectName]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>{Xe(le.id),Kt(_n(le.workDays).toString()),Yt(_n(le.paidAmount).toString()),Pt(le.notes||"")},children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>Ei.mutate(le.id),disabled:Ei.isPending,"data-testid":"button-delete-worker-attendance",children:Ei.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):a.jsx(Ps,{className:"h-4 w-4"})})]})]})},Le)}),a.jsxs("div",{className:"text-left mt-3 pt-3 border-t bg-blue-50 dark:bg-blue-950/20 p-2 rounded",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:"  : "}),a.jsx("span",{className:"font-bold text-primary arabic-numbers",children:Je(gr.totalWorkerWages)})]})]})]})]})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:L,onOpenChange:T,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Nn,{className:"text-green-600 ml-2 h-5 w-5"}),"  "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Yn.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:Yn.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[a.jsxs(Ie,{variant:"outline",onClick:()=>r("/material-purchase"),className:"w-full border-2 border-dashed border-green-300 text-green-600 hover:bg-green-50 mb-3",children:[a.jsx(gs,{className:"ml-2 h-4 w-4"}),"   "]}),Yn.length>0&&a.jsxs("div",{className:"space-y-2",children:[Yn.map((le,Le)=>{const ft=le.materialName||le.material?.name||"  ",sr=le.materialUnit||le.unit||le.material?.unit||"",Dr=le.purchaseType||"",gn=Dr==="",gt=Dr===""||Dr===""||Dr==="";let cn="border-orange-200 dark:border-orange-900/30",Bn="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",hn="text-orange-600";return gn?(cn="border-green-200 dark:border-green-900/30",Bn="bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",hn="text-green-600"):gt&&(cn="border-blue-200 dark:border-blue-900/30",Bn="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",hn="text-blue-600"),a.jsx("div",{className:`p-3 border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${Bn.split(" ")[0]} bg-opacity-5 ${cn}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ft}),a.jsx("span",{className:`font-bold arabic-numbers text-base ${hn}`,children:Je(le.totalAmount)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:": "}),a.jsxs("span",{className:"font-medium text-foreground",children:[le.quantity," ",sr]})]}),a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:": "}),a.jsx("span",{className:"font-medium text-foreground",children:Je(le.unitPrice)})]})]}),le.supplierName&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",le.supplierName]}),a.jsx("div",{className:`inline-block text-xs font-semibold px-2 py-1 rounded ${Bn}`,children:Dr}),n&&le.projectName&&a.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",le.projectName]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950/30",onClick:()=>r(`/material-purchase?edit=${le.id}`),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>To.mutate(le.id),disabled:To.isPending,children:To.isPending?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border border-red-600 border-t-transparent"}):a.jsx(Ps,{className:"h-4 w-4"})})]})]})},Le)}),a.jsxs("div",{className:"text-left mt-2 pt-2 border-t space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),a.jsx("span",{className:"font-bold text-success arabic-numbers",children:Je(gr.totalMaterialCosts)})]}),(()=>{const le=Array.isArray(Lr)?Lr.filter(Le=>Le.purchaseType==="").reduce((Le,ft)=>Le+parseFloat(ft.totalAmount||"0"),0):0;return le>0?a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),a.jsx("span",{className:"font-bold text-orange-600 arabic-numbers",children:Je(le)})]}):null})()]})]})]})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:_,onOpenChange:k,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(kr,{className:"text-yellow-600 ml-2 h-5 w-5"}),"   "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Os.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:Os.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[a.jsxs(Ie,{variant:"outline",onClick:()=>r("/worker-accounts"),className:"w-full border-2 border-dashed border-yellow-300 text-yellow-600 hover:bg-yellow-50 mb-3",children:[a.jsx(gs,{className:"ml-2 h-4 w-4"}),"   "]}),Os.length>0&&a.jsxs("div",{className:"space-y-2",children:[Os.map((le,Le)=>{const ft=nr.find(Dr=>Dr.id===le.workerId),sr=le.transferMethod==="hawaleh"?"":le.transferMethod==="bank"?" ":"";return a.jsx("div",{className:"p-3 bg-white dark:bg-slate-800 border border-yellow-200 dark:border-yellow-900/30 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm",children:ft?.name||"  "}),a.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500 arabic-numbers text-base",children:Je(le.amount)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:": "}),a.jsx("span",{className:"font-medium text-foreground",children:le.recipientName})]}),a.jsxs("div",{className:"text-muted-foreground",children:[a.jsx("span",{children:": "}),a.jsx("span",{className:"font-medium text-foreground",children:sr})]})]}),le.transferNumber&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx("span",{className:"opacity-70",children:" : "}),a.jsx("span",{className:"font-medium text-foreground",children:le.transferNumber})]}),n&&le.projectName&&a.jsxs("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[" ",le.projectName]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>r(`/worker-accounts?edit=${le.id}&worker=${le.workerId}`),children:a.jsx(Nl,{className:"h-4 w-4"})}),a.jsx(Ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{window.confirm("      ")&&di.mutate(le.id)},disabled:di.isPending,children:a.jsx(Ps,{className:"h-4 w-4"})})]})]})},Le)}),a.jsxs("div",{className:"text-left mt-2 pt-2 border-t bg-yellow-50 dark:bg-yellow-950/20 p-2 rounded",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" : "}),a.jsx("span",{className:"font-bold text-warning arabic-numbers",children:Je(ye.totalWorkerTransfers)})]})]})]})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:j,onOpenChange:N,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Oc,{className:"text-orange-600 ml-2 h-5 w-5"}),"   "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[et.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:et.length}),a.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.jsxs($i,{className:"pt-2",children:[a.jsxs(Ie,{variant:"outline",onClick:()=>r("/project-transfers"),className:"w-full border-2 border-dashed border-orange-300 text-orange-600 hover:bg-orange-50 mb-3",children:[a.jsx(gs,{className:"ml-2 h-4 w-4"}),"  "]}),et.length>0&&a.jsx("div",{className:"space-y-3",children:et.map(le=>a.jsx("div",{className:`p-3 rounded border-r-4 ${le.toProjectId===e?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:le.toProjectId===e?a.jsxs("span",{className:"text-green-700",children:["  : ",le.fromProjectName]}):a.jsxs("span",{className:"text-red-700",children:["  : ",le.toProjectName]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`font-bold arabic-numbers ${le.toProjectId===e?"text-green-600":"text-red-600"}`,children:[le.toProjectId===e?"+":"-",Je(le.amount)]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Ie,{size:"icon",variant:"ghost",className:"h-7 w-7 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Na(le),children:a.jsx(Nl,{className:"h-3.5 w-3.5"})}),a.jsx(Ie,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{confirm("      ")&&Ti.mutate(le.id)},disabled:Ti.isPending,children:a.jsx(Ps,{className:"h-3.5 w-3.5"})})]})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("div",{children:[": ",le.transferReason||" "]}),le.description&&a.jsxs("div",{className:"mt-1",children:[": ",le.description]}),a.jsxs("div",{className:"mt-1",children:[": ",Oo(le.transferDate)]})]})]})})},le.id))})]})]})}),e&&a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:$,onOpenChange:X,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Nn,{className:"text-purple-600 ml-2 h-5 w-5"}),"   "]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Y.length>0&&a.jsx(xr,{variant:"outline",className:"h-5 text-[10px]",children:Y.length}),a.jsx(rs,{className:`h-4 w-4 text-muted-foreground transition-transform ${$?"rotate-180":""}`})]})]})}),a.jsx($i,{className:"pt-2",children:a.jsx(Npe,{projectId:e,selectedDate:s||new Date().toISOString().split("T")[0]})})]})}),a.jsx("div",{className:"border-t pt-3 mt-3",children:a.jsxs(Li,{open:R,onOpenChange:O,children:[a.jsx(Bi,{asChild:!0,children:a.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/30 p-1 rounded-sm",children:[a.jsxs("h4",{className:"font-medium text-foreground flex items-center",children:[a.jsx(Uo,{className:"text-primary ml-2 h-5 w-5"}),"  "]}),a.jsx(rs,{className:`h-4 w-4 text-muted-foreground transition-transform ${R?"rotate-180":""}`})]})}),a.jsx($i,{className:"pt-2",children:a.jsx(Spe,{totalIncome:ye.totalIncome,totalExpenses:ye.totalCashExpenses,remainingBalance:Qe,details:{workerWages:ye.totalWorkerWages,materialCosts:ye.totalMaterialCosts,transportation:ye.totalTransportation,miscExpenses:ye.totalMiscExpenses,workerTransfers:ye.totalWorkerTransfers,outgoingProjectTransfers:ye.outgoingProjectTransfers}})})]})}),a.jsx("div",{className:"mt-4",children:a.jsxs(Ie,{onClick:hu,disabled:Ji.isPending,className:"w-full bg-success hover:bg-success/90 text-success-foreground",children:[a.jsx(Mc,{className:"ml-2 h-4 w-4"}),Ji.isPending?" ...":" "]})})]})})]})})]})}function Tpe(){return a.jsx(X2,{children:a.jsx(Cpe,{})})}const Epe=[" "," ","","","","",""," "],r8={pending:{label:" ",color:"bg-gray-100 text-gray-800",badgeVariant:"outline"},in_progress:{label:" ",color:"bg-yellow-100 text-yellow-800",badgeVariant:"warning"},completed:{label:"",color:"bg-green-100 text-green-800",badgeVariant:"success"}};function Ape(){const{selectedProjectId:t}=No(),{toast:r}=wn(),e=ks(),{setFloatingAction:n}=Zi(),[s,i]=E.useState(Epe),{searchValue:o,filterValues:c,onSearchChange:u,onFilterChange:l,onReset:d}=w0({region:"all",status:"all"}),[p,f]=E.useState(!1),[h,g]=E.useState({}),[y,m]=E.useState(!1),[v,x]=E.useState(null),[S,C]=E.useState(!1),[A,B]=E.useState(""),[q,D]=E.useState(!1),[I,U]=E.useState(""),{data:K=[]}=vt({queryKey:xe.autocompleteOwnerNames(t),queryFn:async()=>{const F=await Ue("/api/autocomplete?category=ownerNames");return Array.isArray(F.data)?F.data:[]},enabled:!!t}),{data:W=[]}=vt({queryKey:xe.autocompleteFanTypes(t),queryFn:async()=>{const F=await Ue("/api/autocomplete?category=fanTypes");return Array.isArray(F.data)?F.data:[]},enabled:!!t}),{data:P=[]}=vt({queryKey:xe.autocompletePumpPowers(t),queryFn:async()=>{const F=await Ue("/api/autocomplete?category=pumpPowers");return Array.isArray(F.data)?F.data:[]},enabled:!!t});E.useEffect(()=>(n(()=>{f(!0)},"+  "),()=>{n(null)}),[n]);const{data:L=[],isLoading:T,isFetching:_}=vt({queryKey:xe.wellsByProject(t),queryFn:async()=>t?(await Ue(`/api/wells?projectId=${t}`)).data||[]:[],enabled:!!t,staleTime:300*1e3,retry:1}),k=It({mutationFn:async F=>Ue("/api/autocomplete","POST",{category:"fanTypes",value:F}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:xe.autocompleteFanTypesPrefix}),C(!1),B("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),j=It({mutationFn:async F=>Ue("/api/autocomplete","POST",{category:"pumpPowers",value:F}),onSuccess:()=>{r({title:"",description:"    "}),e.invalidateQueries({queryKey:xe.autocompletePumpPowersPrefix}),D(!1),U("")},onError:F=>{r({title:"",description:F.message||"    ",variant:"destructive"})}}),N=It({mutationFn:async F=>Ue("/api/autocomplete","POST",{category:"ownerNames",value:F}),onSuccess:()=>{e.invalidateQueries({queryKey:xe.autocompleteOwnerNamesPrefix})},onError:F=>{console.error("    :",F)}}),R=F=>{g({...h,ownerName:F}),F.trim()&&!K.includes(F)&&N.mutate(F)},O=It({mutationFn:async F=>{if(!t||t==="all")throw new Error("    ");return Ue("/api/wells","POST",{...F,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells}),f(!1),g({})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),$=It({mutationFn:async F=>{if(!v?.id)throw new Error("   ");return Ue(`/api/wells/${v.id}`,"PUT",{...F,projectId:t})},onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells}),m(!1),x(null)},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),X=It({mutationFn:async F=>Ue(`/api/wells/${F}`,"DELETE"),onSuccess:()=>{r({title:"",description:"   "}),e.invalidateQueries({queryKey:xe.wells})},onError:F=>{r({title:"",description:F.message||"   ",variant:"destructive"})}}),Y=E.useMemo(()=>L.filter(F=>{const Z=F.ownerName.toLowerCase().includes(o.toLowerCase())||F.wellNumber.toString().includes(o),V=c.region==="all"||F.region===c.region,z=c.status==="all"||F.status===c.status;return Z&&V&&z}),[L,o,c]),re=E.useMemo(()=>({total:L.length,completed:L.filter(F=>F.status==="completed").length,inProgress:L.filter(F=>F.status==="in_progress").length,pending:L.filter(F=>F.status==="pending").length,avgCompletion:L.length>0?Math.round(L.reduce((F,Z)=>F+(Z.completionPercentage||0),0)/L.length):0}),[L]);return!t||t==="all"?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{className:"text-gray-500",children:"      "})}):T?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(u6,{className:"w-8 h-8 animate-spin text-blue-500"})}):a.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[a.jsx(fh,{title:" ",hideHeader:!1,stats:[{title:" ",value:re.total,icon:Uo,color:"blue",status:re.total===0?"normal":void 0},{title:"",value:re.completed,icon:Wo,color:"green",status:re.completed>re.inProgress?"normal":"warning"},{title:" ",value:re.inProgress,icon:u6,color:"amber",status:re.inProgress>0?"normal":void 0},{title:"  ",value:re.pending,icon:Wo,color:"gray",status:re.pending>re.completed?"warning":void 0},{title:" ",value:`${re.avgCompletion}%`,icon:Uo,color:"indigo"}],columns:3,showStatus:!0}),a.jsx(yx,{searchValue:o,onSearchChange:u,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...s.map(F=>({value:F,label:F}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],defaultValue:"all"}],filterValues:c,onFilterChange:l,onReset:d,showResetButton:!0,showActiveFilters:!0,compact:!1}),a.jsx(Ws,{open:p,onOpenChange:f,children:a.jsxs(Rs,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsx(qs,{className:"pb-2",children:a.jsx(la,{children:"  "})}),a.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:h.wellNumber||"",onChange:F=>g({...h,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base",autoWidth:!0,maxWidth:200})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(is,{value:h.ownerName||"",onValueChange:R,options:K.map(F=>({value:F,label:F})),placeholder:"    ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0,onCustomAdd:F=>N.mutate(F)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:" *"}),a.jsx(is,{value:h.region||"",onValueChange:F=>g({...h,region:F}),options:s.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  () *"}),a.jsx(xt,{type:"number",value:h.wellDepth||"",onChange:F=>g({...h,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:h.numberOfPanels||"",onChange:F=>g({...h,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:h.numberOfBases||"",onChange:F=>g({...h,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:h.numberOfPipes||"",onChange:F=>g({...h,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  ()"}),a.jsx(xt,{type:"number",value:h.waterLevel||"",onChange:F=>g({...h,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ze,{className:"text-sm font-semibold flex-1",children:" "}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>C(!0),children:"+ "})]}),a.jsx(is,{value:h.fanType||"",onValueChange:F=>g({...h,fanType:F}),options:W.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ze,{className:"text-sm font-semibold flex-1",children:" "}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>D(!0),children:"+ "})]}),a.jsx(is,{value:h.pumpPower?String(h.pumpPower):"",onValueChange:F=>g({...h,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:""}),a.jsx(is,{value:h.status||"",onValueChange:F=>g({...h,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:""}),a.jsx(xt,{value:h.notes||"",onChange:F=>g({...h,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(Ie,{variant:"outline",onClick:()=>f(!1),size:"sm",children:""}),a.jsx(Ie,{onClick:()=>{if(!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}O.mutate(h)},size:"sm",disabled:O.isPending||!h.wellNumber||!h.ownerName||!h.region||!h.wellDepth||!h.numberOfPanels||!h.numberOfPipes||!h.numberOfBases,children:O.isPending?"...":""})]})]})}),a.jsx(Ws,{open:S,onOpenChange:C,children:a.jsxs(Rs,{children:[a.jsx(qs,{children:a.jsx(la,{children:"   "})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Ze,{children:"  "}),a.jsx(xt,{placeholder:":  ",value:A,onChange:F=>B(F.target.value),onKeyDown:F=>F.key==="Enter"&&k.mutate(A)})]})}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Ie,{variant:"outline",onClick:()=>C(!1),size:"sm",children:""}),a.jsx(Ie,{onClick:()=>k.mutate(A),size:"sm",children:k.isPending?"...":""})]})]})}),a.jsx(Ws,{open:q,onOpenChange:D,children:a.jsxs(Rs,{children:[a.jsx(qs,{children:a.jsx(la,{children:"   "})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Ze,{children:" "}),a.jsx(xt,{placeholder:": 1.5  2.0",value:I,onChange:F=>U(F.target.value),onKeyDown:F=>F.key==="Enter"&&j.mutate(I)})]})}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Ie,{variant:"outline",onClick:()=>D(!1),size:"sm",children:""}),a.jsx(Ie,{onClick:()=>j.mutate(I),size:"sm",children:j.isPending?"...":""})]})]})}),a.jsx(Ws,{open:y,onOpenChange:m,children:a.jsxs(Rs,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsx(qs,{className:"pb-2",children:a.jsx(la,{children:"  "})}),a.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:v?.wellNumber||"",onChange:F=>x({...v,wellNumber:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(is,{value:v?.ownerName||"",onValueChange:F=>x({...v,ownerName:F}),options:K.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0,allowCustom:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:" *"}),a.jsx(is,{value:v?.region||"",onValueChange:F=>x({...v,region:F}),options:s.map(F=>({value:F,label:F})),placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  () *"}),a.jsx(xt,{type:"number",value:v?.wellDepth||"",onChange:F=>x({...v,wellDepth:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:v?.numberOfPanels||"",onChange:F=>x({...v,numberOfPanels:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:v?.numberOfBases||"",onChange:F=>x({...v,numberOfBases:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  *"}),a.jsx(xt,{type:"number",value:v?.numberOfPipes||"",onChange:F=>x({...v,numberOfPipes:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  ()"}),a.jsx(xt,{type:"number",value:v?.waterLevel||"",onChange:F=>x({...v,waterLevel:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:" "}),a.jsx(is,{value:v?.fanType||"",onValueChange:F=>x({...v,fanType:F}),options:W.map(F=>({value:F,label:F})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:" "}),a.jsx(is,{value:v?.pumpPower?String(v.pumpPower):"",onValueChange:F=>x({...v,pumpPower:parseInt(F)}),options:P.map(F=>({value:String(F),label:String(F)})),placeholder:"  ",searchPlaceholder:"   ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:""}),a.jsx(is,{value:v?.status||"",onValueChange:F=>x({...v,status:F}),options:[{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}],placeholder:" ",searchPlaceholder:"  ...",showSearch:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:"  (%)"}),a.jsx(xt,{type:"number",min:"0",max:"100",value:v?.completionPercentage||"",onChange:F=>x({...v,completionPercentage:parseInt(F.target.value)}),placeholder:"  ",className:"h-10 text-base"})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Ze,{className:"text-sm font-semibold",children:""}),a.jsx(xt,{value:v?.notes||"",onChange:F=>x({...v,notes:F.target.value}),placeholder:"  ",className:"h-10 text-base"})]})]})}),a.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[a.jsx(Ie,{variant:"outline",onClick:()=>m(!1),size:"sm",children:""}),a.jsx(Ie,{onClick:()=>{if(!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases){r({title:"",description:"    ",variant:"destructive"});return}$.mutate(v||{})},size:"sm",disabled:$.isPending||!v?.wellNumber||!v?.ownerName||!v?.region||!v?.wellDepth||!v?.numberOfPanels||!v?.numberOfPipes||!v?.numberOfBases,children:$.isPending?"...":""})]})]})}),a.jsx(Hs,{columns:2,children:Y.map(F=>a.jsx(vn,{title:` #${F.wellNumber} - ${F.ownerName}`,subtitle:F.region,titleIcon:Wo,badges:[{label:r8[F.status]?.label,variant:r8[F.status]?.badgeVariant}],fields:[{label:"",value:F.region,icon:Wo,color:"info"},{label:"",value:F.numberOfPanels,icon:Uo,color:"success"},{label:"",value:F.numberOfPipes,icon:wi,color:"success"},{label:"",value:`${F.wellDepth}`,icon:Rn,color:"warning"},{label:"",value:F.numberOfBases,icon:Uo,color:"info"},{label:" ",value:F.waterLevel?`${F.waterLevel}`:"-",icon:Rn,color:"info"},{label:"",value:`${F.completionPercentage}%`,emphasis:!0,color:"info",icon:Rn},...F.fanType?[{label:" ",value:F.fanType,icon:wi,color:"info"}]:[],...F.pumpPower?[{label:" ",value:`${F.pumpPower}`,icon:wi,color:"warning"}]:[],...F.notes?[{label:"",value:F.notes,color:"muted"}]:[]],actions:[{icon:Kc,label:"",onClick:()=>{x(F),m(!0)},color:"blue"},{icon:Ps,label:"",onClick:()=>{confirm("      ")&&X.mutate(F.id)},color:"red"}]},F.id))}),Y.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"  "})})]})}function Ppe(){Gs(),wn();const[t,r]=E.useState(null),{selectedProjectId:e}=No(),{data:n=[]}=vt({queryKey:xe.wellsByProject(e),queryFn:async()=>e?(await Ue(`/wells?projectId=${e}`)).data||[]:[],enabled:!!e}),{data:s}=vt({queryKey:xe.projectCosts(e),queryFn:async()=>e?(await Ue(`/well-expenses/project-costs/${e}`)).data:null,enabled:!!e}),{data:i}=vt({queryKey:xe.wellCostReport(t),queryFn:async()=>t?(await Ue(`/well-expenses/cost-report/${t}`)).data:null,enabled:!!t}),o=(c,u)=>u>0?(c/u*100).toFixed(1):"0";return a.jsxs("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:[s&&a.jsxs(Hs,{columns:2,children:[a.jsx(vn,{title:" ",subtitle:" ",titleIcon:kr,fields:[{label:"",value:Je(s.totalCost||0),emphasis:!0,color:"success"}],compact:!0}),a.jsx(vn,{title:" ",subtitle:" ",titleIcon:Rn,fields:[{label:"",value:Je(s.totalLaborCost||0),emphasis:!0,color:"info"}],compact:!0}),a.jsx(vn,{title:"",subtitle:" ",titleIcon:kr,fields:[{label:"",value:Je(s.totalMaterialCost||0),emphasis:!0,color:"warning"}],compact:!0}),a.jsx(vn,{title:"",subtitle:" ",titleIcon:kr,fields:[{label:"",value:Je(s.totalTransportCost||0),emphasis:!0,color:"danger"}],compact:!0})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xl font-semibold mb-4",children:" "}),a.jsx(Hs,{columns:3,children:n.map(c=>a.jsx(vn,{title:` #${c.wellNumber}`,subtitle:c.ownerName,titleIcon:o6,fields:[{label:"",value:c.region},{label:"",value:`${c.completionPercentage}%`,emphasis:!0}],onClick:()=>r(c.id),className:t===c.id?"ring-2 ring-primary":"",badges:[{label:c.status==="completed"?"":c.status==="in_progress"?" ":" ",variant:c.status==="completed"?"success":c.status==="in_progress"?"warning":"outline"}],compact:!0},c.id))})]}),t&&i&&a.jsx(Hs,{columns:1,children:a.jsx(vn,{title:`  -  #${n.find(c=>c.id===t)?.wellNumber}`,titleIcon:Rn,badges:[{label:Je(i.totalCost||0),variant:"success"},{label:"",variant:"default"}],fields:[{label:" ",value:Je(i.laborCost||0),emphasis:!0,color:"info"},{label:"",value:`${o(i.laborCost||0,i.totalCost||1)}%`,color:"info"},{label:"",value:Je(i.materialCost||0),emphasis:!0,color:"warning"},{label:"",value:`${o(i.materialCost||0,i.totalCost||1)}%`,color:"warning"},{label:"",value:Je(i.transportCost||0),emphasis:!0,color:"danger"},{label:"",value:`${o(i.transportCost||0,i.totalCost||1)}%`,color:"danger"}]})}),!t&&n.length>0&&a.jsx(vn,{title:" ",subtitle:"    ",titleIcon:o6,fields:[{label:"",value:"  "}]}),n.length===0&&a.jsx(vn,{title:"  ",subtitle:"    ",titleIcon:kr,fields:[{label:"",value:"   "}]})]})}function Mpe(){const[t,r]=E.useState([]);E.useEffect(()=>(r(cb.getEvents()),cb.subscribe(s=>{r(i=>[s,...i].slice(0,50))})),[]);const e=s=>{switch(s){case"critical":return"bg-red-500/10 text-red-500 border-red-500/20";case"high":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"medium":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-slate-500/10 text-slate-500 border-slate-500/20"}},n=s=>{switch(s){case"error":return a.jsx($a,{className:"w-4 h-4"});case"sync":return a.jsx(xo,{className:"w-4 h-4"});case"performance":return a.jsx(em,{className:"w-4 h-4"});default:return a.jsx(em,{className:"w-4 h-4"})}};return a.jsxs(Jt,{className:"h-full flex flex-col",children:[a.jsxs(ls,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ys,{className:"text-sm font-bold flex items-center gap-2",children:[a.jsx(xo,{className:"w-4 h-4 text-primary"}),"  "]}),a.jsx(xr,{variant:"outline",className:"text-[10px]",children:"Active Monitoring"})]}),a.jsx(vr,{className:"flex-1 overflow-hidden p-0",children:a.jsx(Yl,{className:"h-[400px] px-4",children:a.jsx("div",{className:"space-y-3 py-4",children:t.length===0?a.jsx("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"    "}):t.map(s=>a.jsxs("div",{className:`p-3 rounded-lg border flex flex-col gap-2 transition-all ${e(s.severity)}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 font-medium text-xs",children:[n(s.type),s.message]}),a.jsx("span",{className:"text-[10px] opacity-70",children:new Date(s.timestamp).toLocaleTimeString("ar-SA")})]}),s.actionTaken&&a.jsxs("div",{className:"flex items-center gap-1 text-[10px] bg-white/20 p-1 rounded px-2 w-fit",children:[a.jsx(Hn,{className:"w-3 h-3"}),": ",s.actionTaken]})]},s.id))})})})]})}const Rpe=[" "," ","","","","",""," "],Dpe=[{value:"all",label:" "},{value:"pending",label:" "},{value:"in_progress",label:" "},{value:"completed",label:""}];function Ipe(){Gs();const{toast:t}=wn(),r=ks(),{selectedProjectId:e}=No(),[n,s]=E.useState(null),[i,o]=E.useState(!1),[c,u]=E.useState({description:"",amount:"",status:"pending"}),[l]=E.useState(Rpe),{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=w0({status:"all",region:"all"}),{data:y=[]}=vt({queryKey:xe.wellsByProject(e),queryFn:async()=>{if(!e)return[];try{const U=await vw("wells");if(U&&U.length>0)return U.filter(K=>K.projectId===e)}catch(U){console.warn("Local wells fetch failed",U)}return(await Ue(`/wells?projectId=${e}`)).data||[]},enabled:!!e}),{data:m=[]}=vt({queryKey:xe.autocompleteTaskDescriptions(e),queryFn:async()=>{const I=await Ue("/api/autocomplete?category=workerMiscDescriptions");return Array.isArray(I.data)?I.data:[]},enabled:!!e,staleTime:300*1e3}),{data:v=[]}=vt({queryKey:xe.wellTasks(n),queryFn:async()=>{if(!n)return[];try{const U=await vw("wellTasks");if(U&&U.length>0)return U.filter(K=>K.wellId===n)}catch(U){console.warn("Local tasks fetch failed",U)}return(await Ue(`/api/wells/${n}/tasks`)).data||[]},enabled:!!n}),x=It({mutationFn:async I=>{if(!n)throw new Error("  ");return Qg("wellTasks","create",{...I,wellId:n,projectId:e,paidAmount:0,expectedAmount:parseFloat(I.amount)||0,createdAt:new Date().toISOString()},`/api/wells/${n}/tasks`)},onSuccess:()=>{t({title:"",description:"    ()"}),u({description:"",amount:"",status:"pending"}),o(!1),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}}),S=It({mutationFn:async({taskId:I,status:U})=>Qg("wellTasks","update",{id:I,status:U},`/api/wells/tasks/${I}/status`),onSuccess:()=>{t({title:"",description:"    ()"}),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}});It({mutationFn:async({taskId:I,amount:U})=>Qg("wellTaskAccounts","create",{taskId:I,amount:parseFloat(U)||0,projectId:e,createdAt:new Date().toISOString()},`/wells/tasks/${I}/account`),onSuccess:()=>{t({title:"",description:"   ()"}),r.invalidateQueries({queryKey:xe.wellTasks(n)})},onError:I=>{t({title:"",description:I.message,variant:"destructive"})}});const{summary:C,isLoading:A}=Ih(),B=E.useMemo(()=>v.filter(I=>I.status==="pending"),[v]),q=E.useMemo(()=>v.filter(I=>I.status==="completed"),[v]),D=E.useMemo(()=>y.filter(I=>{const U=I.ownerName.toLowerCase().includes(d.toLowerCase())||I.wellNumber.toString().includes(d),K=p.status==="all"||I.status===p.status,W=p.region==="all"||I.region===p.region;return U&&K&&W}),[y,d,p]);return a.jsx("div",{className:"min-h-screen bg-background p-4 md:p-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a.jsx("div",{children:a.jsx(yx,{searchValue:d,onSearchChange:f,searchPlaceholder:"     ...",showSearch:!0,filters:[{key:"region",label:"",type:"select",placeholder:" ",options:[{value:"all",label:" "},...l.map(I=>({value:I,label:I}))],defaultValue:"all"},{key:"status",label:"",type:"select",placeholder:" ",options:Dpe,defaultValue:"all"}],filterValues:p,onFilterChange:h,onReset:g,showResetButton:!0,showActiveFilters:!0,compact:!1})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-semibold mb-3",children:["  (",D.length,")"]}),a.jsx(Hs,{columns:n?2:4,children:D.map(I=>a.jsx(vn,{title:` #${I.wellNumber}`,subtitle:I.ownerName,titleIcon:Wo,badges:[{label:I.status==="pending"?" ":I.status==="in_progress"?" ":"",variant:I.status==="completed"?"success":I.status==="in_progress"?"warning":"outline"}],fields:[{label:"",value:I.region,icon:Wo,color:"info"},{label:"",value:I.numberOfPanels,icon:wi,color:"success"},{label:"",value:I.numberOfPipes,icon:wi,color:"success"},{label:"",value:`${I.wellDepth}`,icon:Rn,color:"warning"},{label:"",value:`${I.completionPercentage}%`,emphasis:!0,color:"info",icon:Rn}],onClick:()=>s(I.id),className:n===I.id?"ring-2 ring-primary":"",compact:!0},I.id))})]}),n&&a.jsxs(a.Fragment,{children:[a.jsx(fh,{title:" ",hideHeader:!1,stats:[{title:" ",value:Je(C?.totalBalance||0),icon:kr,color:"blue"},{title:" ",value:v.length,icon:ns,color:"blue"},{title:" ",value:B.length,icon:ns,color:"amber",status:B.length>0?"warning":void 0},{title:" ",value:q.length,icon:Hn,color:"green"}],columns:3,showStatus:!0}),a.jsxs(Hs,{columns:4,children:[a.jsx(vn,{title:" ",titleIcon:ns,fields:[{label:"",value:v.length,emphasis:!0,color:"info"}],compact:!0}),a.jsx(vn,{title:" ",titleIcon:ns,fields:[{label:"",value:B.length,emphasis:!0,color:"warning"}],compact:!0}),a.jsx(vn,{title:" ",titleIcon:Hn,fields:[{label:"",value:q.length,emphasis:!0,color:"success"}],compact:!0}),a.jsxs(Ws,{open:i,onOpenChange:o,children:[a.jsx(nh,{asChild:!0,children:a.jsx("div",{className:"relative rounded-xl border bg-card text-card-foreground shadow-sm p-4 hover:shadow-md hover:border-primary/20 cursor-pointer",children:a.jsxs(Ie,{className:"w-full h-20",variant:"outline",children:[a.jsx(gs,{className:"h-5 w-5 ml-2"})," "]})})}),a.jsxs(Rs,{className:"max-w-md",children:[a.jsx(qs,{children:a.jsx(la,{children:"  "})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ze,{children:" "}),a.jsx(xt,{value:c.description,onChange:I=>u({...c,description:I.target.value}),placeholder:":  ",autoWidth:!0,maxWidth:400,className:"min-h-11"})]}),a.jsxs("div",{children:[a.jsx(Ze,{children:" "}),a.jsx(xt,{type:"number",value:c.amount,onChange:I=>u({...c,amount:I.target.value}),placeholder:"0",autoWidth:!0,maxWidth:150,className:"min-h-11"})]}),a.jsx(Ie,{onClick:()=>x.mutate(c),disabled:x.isPending,className:"w-full",children:x.isPending?"...":" "})]})]})]})]}),B.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[a.jsx(ns,{className:"h-5 w-5 text-yellow-600"}),"  (",B.length,")"]}),a.jsx(Hs,{columns:1,children:B.map(I=>a.jsx(vn,{title:I.description,subtitle:`: ${Je(I.expectedAmount||0)}`,titleIcon:ns,badges:[{label:"",variant:"warning"}],fields:[{label:"",value:"",icon:ns,color:"warning"},{label:" ",value:Je(I.expectedAmount||0),emphasis:!0,icon:kr,color:"info"},{label:" ",value:Je(I.paidAmount||0),icon:kr,color:"success"}],actions:[{icon:Hn,label:"",onClick:()=>S.mutate({taskId:I.id,status:"completed"}),color:"green"}],compact:!0},I.id))})]}),q.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-green-600"}),"  (",q.length,")"]}),a.jsx(Hs,{columns:1,children:q.map(I=>a.jsx(vn,{title:I.description,subtitle:`: ${Je(I.expectedAmount||0)}`,titleIcon:Hn,badges:[{label:"",variant:"success"}],fields:[{label:"",value:"",icon:Hn,color:"success"},{label:" ",value:Je(I.expectedAmount||0),emphasis:!0,icon:kr,color:"info"},{label:" ",value:Je(I.paidAmount||0),icon:kr,color:"success"}],compact:!0},I.id))})]}),v.length===0&&a.jsx(vn,{title:"  ",subtitle:"  ",titleIcon:$a,fields:[{label:"",value:"   "}]})]})]}),a.jsx("div",{className:"lg:col-span-1 space-y-6",children:a.jsx(Mpe,{})})]})})}function Ope(){const[t,r]=E.useState(Em()),[e,n]=E.useState(null),{data:s,isLoading:i,refetch:o}=vt({queryKey:xe.adminDataHealth});if(E.useEffect(()=>{const l=document.querySelector(".layout-header h1, .layout-header .text-lg");l&&(l.textContent="    ");const d=setInterval(()=>{r(Em())},2e3);return kB().then(n),()=>clearInterval(d)},[]),i)return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[a.jsx(Iq,{className:"h-12 w-12 text-primary animate-pulse"}),a.jsx("p",{className:"text-muted-foreground animate-pulse font-medium",children:"     ..."})]});const c=s?.data,u=e?.differences?.slice(0,5).map(l=>({name:l.table,central:100,local:Math.round(l.clientCount/(l.serverCount||1)*100)}))||[{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100},{name:"",central:100,local:100}];return a.jsxs("div",{className:"space-y-6 pb-10",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-card p-4 rounded-xl border shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Is,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-foreground",children:" "}),a.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.isOnline?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"relative flex h-2 w-2",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),a.jsx("span",{className:"text-xs text-green-600 font-medium font-mono",children:"ONLINE - CENTRAL SYNC ACTIVE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"relative flex h-2 w-2",children:a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})}),a.jsx("span",{className:"text-xs text-orange-600 font-medium font-mono",children:"OFFLINE - EMERGENCY MODE"})]})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex flex-col items-end px-3 border-r border-dashed",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold",children:"Pending Sync"}),a.jsx("span",{className:"text-sm font-black font-mono",children:t.pendingCount})]}),a.jsxs(Ie,{onClick:()=>o(),variant:"default",size:"sm",className:"gap-2 hover-elevate active-elevate-2",children:[a.jsx(Gn,{className:`h-4 w-4 ${t.isSyncing?"animate-spin":""}`})," "]})]})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c?.databases.map((l,d)=>a.jsxs(Jt,{className:"overflow-hidden border-none shadow-md bg-gradient-to-br from-card to-muted/30 hover-elevate group",children:[a.jsx("div",{className:`h-1 w-full ${l.status==="online"||l.status==="active"?"bg-green-500":"bg-red-500"}`}),a.jsxs(ls,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-md ${l.status==="online"||l.status==="active"?"bg-green-500/10 text-green-600":"bg-red-500/10 text-red-600"}`,children:l.name.includes("Central")?a.jsx(Gf,{className:"h-4 w-4"}):l.name.includes("Supabase")?a.jsx(k_,{className:"h-4 w-4"}):a.jsx(Zp,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx(ys,{className:"text-sm font-bold",children:l.name}),a.jsx(Lc,{className:"text-[10px] uppercase",children:l.status==="online"||l.status==="active"?"Active":l.status==="standby"?"Standby":"Disconnected"})]})]}),a.jsx(xr,{variant:l.status==="online"||l.status==="active"?"success":"outline",className:"h-5 text-[10px]",children:l.status==="online"||l.status==="active"?"":""})]}),a.jsx(vr,{children:a.jsxs("div",{className:"space-y-3 mt-2",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("span",{className:"text-2xl font-black font-mono tracking-tighter",children:l.latency}),a.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Response Time"})]}),a.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-muted",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Tables"}),a.jsx("span",{className:"font-bold",children:l.tablesCount})]}),a.jsxs("div",{className:"flex flex-col text-left",children:[a.jsx("span",{className:"text-muted-foreground font-bold text-[10px] uppercase",children:"Integrity"}),a.jsx("span",{className:"font-bold text-green-600",children:"VALID"})]})]})]})})]},d))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(Jt,{className:"border-none shadow-lg",children:[a.jsxs(ls,{children:[a.jsxs(ys,{className:"text-lg flex items-center gap-2 text-primary",children:[a.jsx(Yp,{className:"h-5 w-5"}),"  "]}),a.jsx(Lc,{children:"      "})]}),a.jsxs(vr,{children:[a.jsx("div",{className:"space-y-6",children:u.map((l,d)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:l.name}),a.jsxs("div",{className:"flex gap-2 font-mono text-[10px]",children:[a.jsxs("span",{className:"text-blue-600",children:["CENTRAL: ",l.central,"%"]}),a.jsxs("span",{className:"text-green-600",children:["LOCAL: ",l.local,"%"]})]})]}),a.jsx(Xl,{value:l.local,className:"h-1.5"})]},d))}),a.jsx("div",{className:"mt-8 p-4 bg-primary/5 rounded-xl border border-dashed border-primary/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:a.jsx(Go,{className:"h-5 w-5 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold",children:"  (Emergency Failover)"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"    SQLite    PostgreSQL"})]})]})})]})]}),a.jsxs(Jt,{className:"border-none shadow-lg",children:[a.jsxs(ls,{children:[a.jsxs(ys,{className:"text-lg flex items-center gap-2 text-primary",children:[a.jsx(xo,{className:"h-5 w-5"}),"  "]}),a.jsx(Lc,{children:"    "})]}),a.jsxs(vr,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Latency"}),a.jsxs("div",{className:"text-xl font-black font-mono text-primary",children:[t.latency||0,"ms"]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Success Rate"}),a.jsx("div",{className:"text-xl font-black font-mono text-green-600",children:"99.9%"})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Synced Records"}),a.jsx("div",{className:"text-xl font-black font-mono",children:c?.integrity.totalRecords.toLocaleString()})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900 border space-y-1",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase",children:"Engine Mode"}),a.jsx("div",{className:"text-xl font-black font-mono text-blue-600 uppercase",children:t.isOnline?"Cloud":"Edge"})]})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs font-bold",children:[a.jsx("span",{children:"   "}),a.jsx("span",{className:"text-green-500",children:"100%"})]}),a.jsx(Xl,{value:100,className:"h-2 bg-green-500/20"}),a.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed italic",children:"*    CRC64               ."})]})]})]})]})]})}const H3=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:e,className:Ae("w-full caption-bottom text-sm",t),...r})}));H3.displayName="Table";const K3=E.forwardRef(({className:t,...r},e)=>a.jsx("thead",{ref:e,className:Ae("[&_tr]:border-b",t),...r}));K3.displayName="TableHeader";const G3=E.forwardRef(({className:t,...r},e)=>a.jsx("tbody",{ref:e,className:Ae("[&_tr:last-child]:border-0",t),...r}));G3.displayName="TableBody";const Fpe=E.forwardRef(({className:t,...r},e)=>a.jsx("tfoot",{ref:e,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));Fpe.displayName="TableFooter";const gd=E.forwardRef(({className:t,...r},e)=>a.jsx("tr",{ref:e,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));gd.displayName="TableRow";const ti=E.forwardRef(({className:t,...r},e)=>a.jsx("th",{ref:e,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));ti.displayName="TableHead";const ba=E.forwardRef(({className:t,...r},e)=>a.jsx("td",{ref:e,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));ba.displayName="TableCell";const Lpe=E.forwardRef(({className:t,...r},e)=>a.jsx("caption",{ref:e,className:Ae("mt-4 text-sm text-muted-foreground",t),...r}));Lpe.displayName="TableCaption";var bx="Tabs",[Bpe]=da(bx,[Ph]),RB=Ph(),[$pe,X3]=Bpe(bx),DB=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:u="automatic",...l}=t,d=Th(c),[p,f]=Gi({prop:n,onChange:s,defaultProp:i??"",caller:bx});return a.jsx($pe,{scope:e,baseId:_i(),value:p,onValueChange:f,orientation:o,dir:d,activationMode:u,children:a.jsx(Ht.div,{dir:d,"data-orientation":o,...l,ref:r})})});DB.displayName=bx;var IB="TabsList",OB=E.forwardRef((t,r)=>{const{__scopeTabs:e,loop:n=!0,...s}=t,i=X3(IB,e),o=RB(e);return a.jsx(w3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Ht.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});OB.displayName=IB;var FB="TabsTrigger",LB=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,disabled:s=!1,...i}=t,o=X3(FB,e),c=RB(e),u=zB(o.baseId,n),l=VB(o.baseId,n),d=n===o.value;return a.jsx(_3,{asChild:!0,...c,focusable:!s,active:d,children:a.jsx(Ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":l,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:r,onMouseDown:ut(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:ut(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:ut(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(n)})})})});LB.displayName=FB;var BB="TabsContent",$B=E.forwardRef((t,r)=>{const{__scopeTabs:e,value:n,forceMount:s,children:i,...o}=t,c=X3(BB,e),u=zB(c.baseId,n),l=VB(c.baseId,n),d=n===c.value,p=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(js,{present:s||d,children:({present:f})=>a.jsx(Ht.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});$B.displayName=BB;function zB(t,r){return`${t}-trigger-${r}`}function VB(t,r){return`${t}-content-${r}`}var zpe=DB,UB=OB,WB=LB,qB=$B;const Vpe=zpe,HB=E.forwardRef(({className:t,...r},e)=>a.jsx(UB,{ref:e,className:Ae("inline-flex h-12 items-center justify-center rounded-xl bg-gradient-to-r from-gray-100 to-gray-50 p-1.5 text-muted-foreground shadow-inner backdrop-blur-sm border border-gray-200/50","dark:from-gray-800 dark:to-gray-900 dark:border-gray-700/50","transition-all duration-300 ease-in-out",t),...r}));HB.displayName=UB.displayName;const Iu=E.forwardRef(({className:t,children:r,...e},n)=>a.jsx(WB,{ref:n,className:Ae("relative inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2.5 text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","hover:bg-white/80 hover:text-foreground hover:shadow-sm hover:scale-105","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/20","data-[state=active]:border data-[state=active]:border-blue-200/50","dark:hover:bg-gray-700/80 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:border-gray-600/50","before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-blue-500/0 before:to-purple-500/0","data-[state=active]:before:from-blue-500/10 data-[state=active]:before:to-purple-500/10","transform-gpu backface-visibility-hidden",t),...e,children:a.jsx(kn.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.2},className:"relative z-10 flex items-center gap-2",children:r})}));Iu.displayName=WB.displayName;const Ou=E.forwardRef(({className:t,children:r,animationKey:e,...n},s)=>a.jsx(qB,{ref:s,className:Ae("mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","min-h-[200px]",t),...n,children:a.jsx(ym,{mode:"wait",children:a.jsx(kn.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.3,ease:[.4,0,.2,1]},className:"transform-gpu",children:r},e||n.value)})}));Ou.displayName=qB.displayName;function Upe(){const{toast:t}=wn(),[r,e]=E.useState("overview"),[n,s]=E.useState(null),[i,o]=E.useState("size"),[c,u]=E.useState(""),[l,d]=E.useState("active"),p=async me=>{let Ne=(localStorage.getItem("accessToken")||localStorage.getItem("token"))?.trim()||"";Ne.startsWith('"')&&Ne.endsWith('"')&&(Ne=Ne.slice(1,-1));const De=await fetch(me,{headers:{Authorization:`Bearer ${Ne}`,"x-auth-token":Ne,"x-access-token":Ne}});if(!De.ok){const Fe=await De.json().catch(()=>({}));throw new Error(Fe.message||"   ")}return De.json()},{data:f,isLoading:h}=vt({queryKey:xe.dbConnections,queryFn:()=>p("/api/db/connections")}),g=l!=="active"?`/api/db/overview?source=${l}`:"/api/db/overview",{data:y,isLoading:m,refetch:v,error:x}=vt({queryKey:[g],queryFn:()=>p(g),retry:!1}),S=l!=="active"?`/api/db/tables?source=${l}`:"/api/db/tables",{data:C,isLoading:A,refetch:B,error:q}=vt({queryKey:[S],queryFn:()=>p(S),retry:!1}),D=l!=="active"?`/api/db/performance?source=${l}`:"/api/db/performance",{data:I,isLoading:U,refetch:K}=vt({queryKey:[D],queryFn:()=>p(D),retry:!1}),W=l!=="active"?`/api/db/integrity?source=${l}`:"/api/db/integrity",{data:P,isLoading:L,refetch:T}=vt({queryKey:[W],queryFn:()=>p(W),retry:!1}),_=x||q,[k,j]=E.useState("local"),[N,R]=E.useState("supabase"),O=`/api/db/compare?source1=${k}&source2=${N}`,{data:$,isLoading:X,refetch:Y}=vt({queryKey:[O],queryFn:()=>p(O),enabled:r==="compare"&&!!k&&!!N}),{data:re}=vt({queryKey:xe.dbStats,queryFn:()=>p("/api/stats")}),F=It({mutationFn:async({action:me,tableName:ke})=>(await Ue("POST","/api/db/maintenance",{action:me,tableName:ke})).json(),onSuccess:me=>{const ke=me?.data;t({title:ke?.success?"  ":" ",description:ke?.message||" ",variant:ke?.success?"default":"destructive"}),Z()},onError:me=>{t({title:"",description:me.message,variant:"destructive"})}}),Z=()=>{v(),B(),K(),T()},V=Array.isArray(f)?f:f?.data||[],z=y&&typeof y=="object"&&!Array.isArray(y)?y:null,G=Array.isArray(C)?C:C?.data||[],ae=I&&typeof I=="object"&&!Array.isArray(I)?I:null,pe=P&&typeof P=="object"&&!Array.isArray(P)?P:null,ue=re&&typeof re=="object"?re:null,ge=$&&typeof $=="object"&&!Array.isArray($)?$:null,ee=G.filter(me=>me.name.toLowerCase().includes(c.toLowerCase())).sort((me,ke)=>i==="size"?ke.totalSizeBytes-me.totalSizeBytes:i==="rows"?ke.rowCount-me.rowCount:me.name.localeCompare(ke.name)),oe=G.reduce((me,ke)=>me+ke.rowCount,0),ne=G.reduce((me,ke)=>me+ke.totalSizeBytes,0),fe=pe?.score??0,ce=ge?.alerts?.length||0,ie=ge?.alerts?.filter(me=>me.severity==="critical")?.length||0,te=E.useMemo(()=>[{items:[{key:"connections",label:"",value:V.filter(me=>me.connected).length+"/"+V.length,icon:jf,color:V.filter(me=>me.connected).length===V.length?"emerald":"amber"},{key:"tables",label:"",value:m?0:z?.totalTables||0,icon:Kw,color:"blue"},{key:"records",label:"",value:m?0:z?.totalRows||oe,icon:za,color:"green"},{key:"size",label:"",value:m?"0 B":z?.size||"0 B",icon:Zp,color:"purple"},{key:"integrity",label:"",value:L?"...":`${fe}%`,icon:Go,color:fe>=90?"emerald":fe>=75?"amber":"red"}],columns:5,gap:"md"}],[z,m,fe,L,oe,V]),se=[{key:"db-refresh",icon:Gn,label:"",onClick:Z,variant:"outline",loading:m}],de=[{key:"sort",label:"",type:"select",options:[{value:"size",label:""},{value:"rows",label:""},{value:"name",label:""}],defaultValue:"size"}];return a.jsxs("div",{className:"space-y-4",dir:"rtl",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs(ws,{value:l,onValueChange:d,"data-testid":"select-db-source",children:[a.jsx(cs,{className:"w-[220px]","data-testid":"trigger-db-source",children:a.jsxs("div",{className:"flex items-center gap-2",children:[l==="active"&&a.jsx(ZA,{className:"h-3.5 w-3.5 text-blue-500"}),l==="local"&&a.jsx(d6,{className:"h-3.5 w-3.5 text-emerald-500"}),l==="supabase"&&a.jsx(qw,{className:"h-3.5 w-3.5 text-violet-500"}),a.jsx(_s,{placeholder:"  "})]})}),a.jsxs(us,{children:[a.jsx(wr,{value:"active",children:" ()"}),V.map(me=>a.jsx(wr,{value:me.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[me.connected?a.jsx(jf,{className:"h-3 w-3 text-emerald-500"}):a.jsx(mf,{className:"h-3 w-3 text-red-500"}),me.label]})},me.id))]})]}),a.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[V.map(me=>a.jsxs(xr,{variant:me.connected?"default":"destructive",className:"text-[11px]","data-testid":`badge-conn-${me.id}`,children:[me.connected?a.jsx(jf,{className:"h-3 w-3 ml-1"}):a.jsx(mf,{className:"h-3 w-3 ml-1"}),me.id==="local"?"":"",me.connected&&me.tables>0&&` (${me.tables})`]},me.id)),ce>0&&a.jsxs(xr,{variant:"destructive",className:"text-[11px] cursor-pointer",onClick:()=>e("compare"),"data-testid":"badge-alerts-count",children:[a.jsx(Fc,{className:"h-3 w-3 ml-1"}),ie>0?`${ie}  `:`${ce} `]})]})]}),a.jsx(Co,{hideHeader:!0,statsRows:te,searchValue:c,onSearchChange:u,searchPlaceholder:"  ...",showSearch:r==="tables",actions:se,onRefresh:Z,isRefreshing:m,filters:r==="tables"?de:[],filterValues:{sort:i},onFilterChange:(me,ke)=>{me==="sort"&&o(ke)},onReset:()=>{u(""),o("size")},resultsSummary:r==="tables"&&G.length>0?{totalCount:G.length,filteredCount:ee.length,totalLabel:"",filteredLabel:"",totalValue:s8(ne),totalValueLabel:" ",unit:"",categoryBreakdown:[{label:"",value:oe,unit:""},{label:"",value:0,unit:s8(ne)}],showBreakdown:!0}:void 0}),_&&l!=="active"&&a.jsx(Jt,{children:a.jsx(vr,{className:"py-6",children:a.jsxs("div",{className:"flex items-center gap-3 text-amber-600 dark:text-amber-400",children:[a.jsx(mf,{className:"h-5 w-5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"   "}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"   .        ."})]}),a.jsx(Ie,{variant:"outline",size:"sm",className:"mr-auto shrink-0",onClick:()=>d("active"),"data-testid":"button-reset-source",children:" "})]})})}),a.jsxs(Vpe,{value:r,onValueChange:e,className:"w-full",children:[a.jsxs(HB,{className:"w-full grid grid-cols-6 h-10","data-testid":"tabs-db-manager",children:[a.jsxs(Iu,{value:"overview",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-overview",children:[a.jsx(Uo,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{className:"hidden sm:inline",children:" "}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Iu,{value:"tables",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-tables",children:[a.jsx(Kw,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{children:""})]}),a.jsxs(Iu,{value:"compare",className:"gap-1 text-xs sm:text-sm relative","data-testid":"tab-compare",children:[a.jsx(Sy,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""}),ce>0&&a.jsx("span",{className:"absolute -top-1 -left-1 h-4 w-4 rounded-full bg-red-500 text-white text-[9px] flex items-center justify-center",children:ce>9?"9+":ce})]}),a.jsxs(Iu,{value:"integrity",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-integrity",children:[a.jsx(Go,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Iu,{value:"performance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-performance",children:[a.jsx(Is,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{children:""})]}),a.jsxs(Iu,{value:"maintenance",className:"gap-1 text-xs sm:text-sm","data-testid":"tab-maintenance",children:[a.jsx(wi,{className:"h-3.5 w-3.5 shrink-0"})," ",a.jsx("span",{children:""})]})]}),a.jsxs(Ou,{value:"overview",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[V.map(me=>a.jsxs(Jt,{"data-testid":`card-connection-${me.id}`,children:[a.jsx(ls,{className:"pb-3",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[me.id==="local"?a.jsx(d6,{className:"h-4 w-4"}):a.jsx(qw,{className:"h-4 w-4"}),me.label,me.connected?a.jsx(xr,{variant:"default",className:"mr-auto text-[10px]",children:""}):a.jsx(xr,{variant:"destructive",className:"mr-auto text-[10px]",children:" "})]})}),a.jsx(vr,{children:me.connected?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{label:" ",value:me.dbName}),a.jsx(Aa,{label:"",value:me.version}),a.jsx(Aa,{label:"",value:me.size}),a.jsx(Aa,{label:"",value:me.tables}),a.jsx(Aa,{label:"",value:me.rows?.toLocaleString()}),me.latency&&a.jsx(Aa,{label:" ",value:me.latency})]}):a.jsxs("div",{className:"flex flex-col items-center py-6 text-muted-foreground",children:[a.jsx(mf,{className:"h-8 w-8 mb-2 opacity-40"}),a.jsx("p",{className:"text-sm",children:" "})]})})]},me.id)),a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-3",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Gf,{className:"h-4 w-4"})," "]})}),a.jsx(vr,{className:"space-y-2",children:m?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Zr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):z?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{label:" ",value:z.name}),a.jsx(Aa,{label:"",value:z.version}),a.jsx(Aa,{label:"",value:z.size}),a.jsx(Aa,{label:"",value:z.totalTables}),a.jsx(Aa,{label:"",value:(z.totalRows||0).toLocaleString()}),a.jsx(Aa,{label:"",value:z.totalIndexes}),a.jsx(Aa,{label:" ",value:typeof z.uptime=="object"?`${z.uptime.days||0}  ${z.uptime.hours||0} `:z.uptime}),a.jsx(Aa,{label:"",value:`${z.activeConnections} / ${z.maxConnections}`})]}):a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"  "})})]})]}),a.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-3",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Is,{className:"h-4 w-4"})," "]})}),a.jsx(vr,{className:"space-y-4",children:ue?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsxs("span",{className:"font-medium",children:[ue.cpuUsage,"%"]})]}),a.jsx(Xl,{value:ue.cpuUsage,className:"h-2"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between gap-2 text-sm mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsxs("span",{className:"font-medium",children:[ue.memoryUsage,"%"]})]}),a.jsx(Xl,{value:ue.memoryUsage,className:"h-2"})]}),ue.memoryDetails&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Heap"}),a.jsxs("p",{className:"font-medium",children:[ue.memoryDetails.heapUsed," MB"]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"RSS"}),a.jsxs("p",{className:"font-medium",children:[ue.memoryDetails.rss," MB"]})]})]}),a.jsx(Aa,{label:" ",value:Gpe(ue.uptime)})]}):a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Zr,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}),ae&&a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-3",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(xo,{className:"h-4 w-4"})," "]})}),a.jsx(vr,{children:a.jsx(n8,{perf:ae})})]})]})]}),a.jsx(Ou,{value:"tables",className:"space-y-4 mt-4",children:a.jsx(Jt,{children:a.jsx(vr,{className:"p-0",children:A?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Zr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):a.jsxs(H3,{children:[a.jsx(K3,{children:a.jsxs(gd,{children:[a.jsx(ti,{className:"text-right",children:""}),a.jsx(ti,{className:"text-center",children:""}),a.jsx(ti,{className:"text-center",children:""}),a.jsx(ti,{className:"text-center",children:""}),a.jsx(ti,{className:"text-center",children:""}),a.jsx(ti,{className:"text-center",children:""})]})}),a.jsx(G3,{children:ee.length>0?ee.map(me=>a.jsx(Kpe,{table:me,source:l,expanded:n===me.name,onToggle:()=>s(n===me.name?null:me.name),onMaintenance:ke=>F.mutate({action:ke,tableName:me.name}),isMaintenanceLoading:F.isPending,fetchWithAuth:p},me.name)):a.jsx(gd,{children:a.jsxs(ba,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[a.jsx(bo,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),c?"  ":"  "]})})})]})})})}),a.jsx(Ou,{value:"compare",className:"space-y-4 mt-4",children:a.jsx(Wpe,{data:ge,loading:X,onRefresh:()=>Y(),connections:V,source1:k,source2:N,onSource1Change:j,onSource2Change:R})}),a.jsx(Ou,{value:"integrity",className:"space-y-4 mt-4",children:a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Go,{className:"h-4 w-4"}),"  "]}),a.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>T(),"data-testid":"button-recheck-integrity",children:[a.jsx(Gn,{className:`h-4 w-4 ml-1 ${L?"animate-spin":""}`})," "]})]})}),a.jsx(vr,{children:L?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Zr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):pe?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:`text-5xl font-bold ${fe>=90?"text-emerald-600 dark:text-emerald-400":fe>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[pe.score,"%"]}),a.jsxs("div",{children:[a.jsx(xr,{variant:pe.status==="excellent"?"default":pe.status==="good"?"secondary":"destructive",children:pe.status==="excellent"?"":pe.status==="good"?"":pe.status==="warning"?"":""}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[" : ",new Date(pe.timestamp).toLocaleString("ar-SA")]})]})]}),a.jsx("div",{className:"space-y-3",children:pe.checks?.map((me,ke)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[me.status==="pass"?a.jsx(Hn,{className:"h-5 w-5 text-emerald-500 mt-0.5 shrink-0"}):me.status==="warn"?a.jsx(Gc,{className:"h-5 w-5 text-yellow-500 mt-0.5 shrink-0"}):a.jsx(Gc,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:me.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:me.message})]})]},ke))})]}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),a.jsx(Ou,{value:"performance",className:"space-y-4 mt-4",children:a.jsxs(Jt,{children:[a.jsxs(ls,{className:"pb-3",children:[a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Is,{className:"h-4 w-4"})," "]}),a.jsx(Lc,{children:"    PostgreSQL"})]}),a.jsx(vr,{children:U?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Zr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):ae?a.jsxs("div",{className:"space-y-4",children:[a.jsx(n8,{perf:ae,extended:!0}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[a.jsx("p",{className:"text-xs font-medium mb-2",children:" "}),a.jsxs("div",{className:"flex gap-4 flex-wrap text-xs",children:[a.jsxs("span",{children:["  : ",a.jsx("strong",{children:ae.blocksRead?.toLocaleString()})]}),a.jsxs("span",{children:["  : ",a.jsx("strong",{children:ae.blocksHit?.toLocaleString()})]})]})]})]}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"  "})})]})}),a.jsx(Ou,{value:"maintenance",className:"space-y-4 mt-4",children:a.jsxs(Jt,{children:[a.jsxs(ls,{className:"pb-3",children:[a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(wi,{className:"h-4 w-4"}),"  "]}),a.jsx(Lc,{children:"  "})]}),a.jsx(vr,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[a.jsx(Z1,{title:" ",description:"    ",action:"vacuum",icon:a.jsx(Gn,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"vacuum"}),isLoading:F.isPending}),a.jsx(Z1,{title:" ",description:"  ",action:"analyze",icon:a.jsx(Uo,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"analyze"}),isLoading:F.isPending}),a.jsx(Z1,{title:"  ",description:"    ",action:"reindex",icon:a.jsx(Km,{className:"h-5 w-5"}),onRun:()=>F.mutate({action:"reindex"}),isLoading:F.isPending})]})})]})})]})]})}function Wpe({data:t,loading:r,onRefresh:e,connections:n,source1:s,source2:i,onSource1Change:o,onSource2Change:c}){const u=n.filter(d=>d.connected),l=!s||!i;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-3",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Sy,{className:"h-4 w-4"}),"  "]})}),a.jsxs(vr,{children:[a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("div",{className:"flex-1 min-w-[150px]",children:[a.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),a.jsxs(ws,{value:s,onValueChange:o,"data-testid":"select-compare-source1",children:[a.jsx(cs,{"data-testid":"select-trigger-source1",children:a.jsx(_s,{placeholder:"  "})}),a.jsx(us,{children:u.map(d=>a.jsxs(wr,{value:d.id,disabled:d.id===i,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),a.jsx(Oc,{className:"h-5 w-5 text-muted-foreground mt-4 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-[150px]",children:[a.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:" "}),a.jsxs(ws,{value:i,onValueChange:c,"data-testid":"select-compare-source2",children:[a.jsx(cs,{"data-testid":"select-trigger-source2",children:a.jsx(_s,{placeholder:"  "})}),a.jsx(us,{children:u.map(d=>a.jsxs(wr,{value:d.id,disabled:d.id===s,children:[d.label," (",d.dbName||d.id,")"]},d.id))})]})]}),a.jsxs(Ie,{variant:"default",size:"default",onClick:e,disabled:l||r,className:"mt-4","data-testid":"button-run-compare",children:[r?a.jsx(Zr,{className:"h-4 w-4 animate-spin ml-1"}):a.jsx(Sy,{className:"h-4 w-4 ml-1"}),""]})]}),u.length<2&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:"        "})]})]}),r&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zr,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]})}),!r&&l&&a.jsx(Jt,{children:a.jsxs(vr,{className:"py-12 text-center",children:[a.jsx(Oc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"         "})]})}),!r&&!l&&!t&&a.jsx(Jt,{children:a.jsxs(vr,{className:"py-12 text-center",children:[a.jsx(Oc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-30"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:" "}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"       "}),a.jsxs(Ie,{variant:"outline",onClick:e,"data-testid":"button-retry-compare",children:[a.jsx(Gn,{className:"h-4 w-4 ml-1"})," "]})]})}),!r&&t&&a.jsx(qpe,{data:t,onRefresh:e})]})}function qpe({data:t,onRefresh:r}){const e=t.source1Name||" ",n=t.source2Name||" ",s=(t.tablesWithDiffRows||0)+(t.tablesWithDiffStructure||0)+(t.onlySource1Tables||0)+(t.onlySource2Tables||0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sy,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("span",{className:"text-sm font-medium",children:[e," ",a.jsx(Oc,{className:"h-3 w-3 inline mx-1"})," ",n]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[" : ",new Date(t.timestamp).toLocaleString("ar-SA")]}),a.jsxs(Ie,{variant:"outline",size:"sm",onClick:r,"data-testid":"button-refresh-compare",children:[a.jsx(Gn,{className:"h-3.5 w-3.5 ml-1"}),""]})]})]}),a.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-5",children:[a.jsx(Sp,{label:"",value:t.matchingTables,color:"emerald"}),a.jsx(Sp,{label:" ",value:t.tablesWithDiffRows,color:t.tablesWithDiffRows>0?"amber":"emerald"}),a.jsx(Sp,{label:" ",value:t.tablesWithDiffStructure,color:t.tablesWithDiffStructure>0?"red":"emerald"}),a.jsx(Sp,{label:`${e} `,value:t.onlySource1Tables||0,color:(t.onlySource1Tables||0)>0?"amber":"emerald"}),a.jsx(Sp,{label:`${n} `,value:t.onlySource2Tables||0,color:(t.onlySource2Tables||0)>0?"amber":"emerald"})]}),t.alerts?.length>0&&a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-2",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Fc,{className:"h-4 w-4"})," (",t.alerts.length,")"]})}),a.jsx(vr,{className:"space-y-2",children:t.alerts.map((i,o)=>a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i.severity==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50":i.severity==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50":"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50"}`,"data-testid":`alert-${i.type}-${o}`,children:[i.severity==="critical"?a.jsx(Gc,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}):i.severity==="warning"?a.jsx(Gc,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}):a.jsx(ZA,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(xr,{variant:i.severity==="critical"?"destructive":i.severity==="warning"?"secondary":"outline",className:"text-[10px]",children:i.severity==="critical"?"":i.severity==="warning"?"":""}),a.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:i.table})]}),a.jsx("p",{className:"text-sm mt-1",children:i.message})]})]},o))})]}),a.jsxs(Jt,{children:[a.jsx(ls,{className:"pb-2",children:a.jsxs(ys,{className:"text-base flex items-center gap-2",children:[a.jsx(Kw,{className:"h-4 w-4"}),"  (",t.tables?.length||0,")"]})}),a.jsx(vr,{className:"p-0",children:a.jsxs(H3,{children:[a.jsx(K3,{children:a.jsxs(gd,{children:[a.jsx(ti,{className:"text-right",children:""}),a.jsx(ti,{className:"text-center",children:""}),a.jsxs(ti,{className:"text-center",children:[e," ()"]}),a.jsxs(ti,{className:"text-center",children:[n," ()"]}),a.jsx(ti,{className:"text-center",children:""}),a.jsxs(ti,{className:"text-center",children:[e," ()"]}),a.jsxs(ti,{className:"text-center",children:[n," ()"]})]})}),a.jsx(G3,{children:t.tables?.map(i=>a.jsxs(gd,{className:i.status==="diff_structure"?"bg-red-50/50 dark:bg-red-900/10":i.status==="only_source1"||i.status==="only_source2"?"bg-amber-50/50 dark:bg-amber-900/10":i.status==="diff_rows"?"bg-yellow-50/50 dark:bg-yellow-900/10":"","data-testid":`compare-row-${i.name}`,children:[a.jsx(ba,{className:"font-mono text-xs",children:i.name}),a.jsx(ba,{className:"text-center",children:a.jsx(Hpe,{status:i.status,s1Name:e,s2Name:n})}),a.jsx(ba,{className:"text-center font-mono text-xs",children:i.source1Rows!==null&&i.source1Rows!==void 0?i.source1Rows.toLocaleString():a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(ba,{className:"text-center font-mono text-xs",children:i.source2Rows!==null&&i.source2Rows!==void 0?i.source2Rows.toLocaleString():a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(ba,{className:"text-center",children:i.rowDiff>0?a.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["+",i.rowDiff.toLocaleString()]}):a.jsx(Hn,{className:"h-4 w-4 text-emerald-500 mx-auto"})}),a.jsx(ba,{className:"text-center text-xs",children:i.source1Size||"-"}),a.jsx(ba,{className:"text-center text-xs",children:i.source2Size||"-"})]},i.name))})]})})]}),s===0&&t.tables?.length>0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Hn,{className:"h-12 w-12 text-emerald-500 mx-auto mb-3"}),a.jsx("p",{className:"text-lg font-medium text-emerald-600 dark:text-emerald-400",children:"   "}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"     "})]})]})}function Sp({label:t,value:r,color:e}){const n=KB(e);return a.jsxs("div",{className:`rounded-xl border p-3 ${n.bg} ${n.border}`,children:[a.jsx("p",{className:"text-[11px] text-muted-foreground",children:t}),a.jsx("p",{className:`text-2xl font-bold ${n.text}`,children:r})]})}function Hpe({status:t}){switch(t){case"match":return a.jsx(xr,{variant:"default",className:"text-[10px] bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300",children:""});case"diff_rows":return a.jsx(xr,{variant:"secondary",className:"text-[10px] bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300",children:" "});case"diff_structure":return a.jsx(xr,{variant:"destructive",className:"text-[10px]",children:" "});case"only_source1":return a.jsx(xr,{variant:"outline",className:"text-[10px] border-blue-200 text-blue-600 uppercase",children:"  "});case"only_source2":return a.jsx(xr,{variant:"outline",className:"text-[10px] border-violet-200 text-violet-600 uppercase",children:"  "});default:return a.jsx(xr,{variant:"outline",className:"text-[10px]",children:t})}}function Aa({label:t,value:r}){return a.jsxs("div",{className:"flex justify-between items-center gap-2 py-1.5 border-b border-muted/50 last:border-0",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:t}),a.jsx("span",{className:"text-sm font-medium",children:r})]})}function n8({perf:t,extended:r}){const e=E.useMemo(()=>{const n=[{key:"cache",label:"  ",value:`${t.cacheHitRatio}%`,icon:xo,color:t.cacheHitRatio>95?"emerald":t.cacheHitRatio>80?"amber":"red"},{key:"committed",label:" ",value:t.transactionsCommitted?.toLocaleString()||"0",icon:Hn,color:"green"},{key:"rolledback",label:"",value:t.transactionsRolledBack?.toLocaleString()||"0",icon:Gc,color:t.transactionsRolledBack>10?"red":"emerald"},{key:"dead",label:" ",value:t.deadTuples?.toLocaleString()||"0",icon:za,color:t.deadTuples>1e3?"red":"emerald"}];return r&&(n.splice(1,0,{key:"avgquery",label:"  ",value:t.avgQueryTime>0?`${t.avgQueryTime} ms`:" ",icon:Is,color:"blue"}),n.push({key:"live",label:" ",value:t.liveTuples?.toLocaleString()||"0",icon:za,color:"blue"})),[{items:n,columns:r?6:4,gap:"md"}]},[t,r]);return a.jsx("div",{children:e.map((n,s)=>a.jsx("div",{className:`grid gap-3 ${r?"grid-cols-2 md:grid-cols-3 lg:grid-cols-6":"grid-cols-2 md:grid-cols-4"}`,children:n.items.map(i=>{const o=KB(i.color);return a.jsxs("div",{className:`rounded-xl border p-3 ${o.bg} ${o.border}`,children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(i.icon,{className:`h-3.5 w-3.5 ${o.icon}`}),a.jsx("span",{className:"text-[11px] font-medium text-muted-foreground",children:i.label})]}),a.jsx("p",{className:`text-lg font-bold ${o.text}`,children:i.value})]},i.key)})},s))})}function KB(t){const r={emerald:{bg:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/30 dark:to-green-900/20",border:"border-emerald-100 dark:border-emerald-800/50",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500"},blue:{bg:"bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-900/30 dark:to-sky-900/20",border:"border-blue-100 dark:border-blue-800/50",text:"text-blue-600 dark:text-blue-400",icon:"text-blue-500"},amber:{bg:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/30 dark:to-amber-900/20",border:"border-amber-100 dark:border-amber-800/50",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500"},red:{bg:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/20",border:"border-red-100 dark:border-red-800/50",text:"text-red-600 dark:text-red-400",icon:"text-red-500"},green:{bg:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/20",border:"border-green-100 dark:border-green-800/50",text:"text-green-600 dark:text-green-400",icon:"text-green-500"},purple:{bg:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/20",border:"border-purple-100 dark:border-purple-800/50",text:"text-purple-600 dark:text-purple-400",icon:"text-purple-500"}};return r[t]||r.blue}function Kpe({table:t,source:r,expanded:e,onToggle:n,onMaintenance:s,isMaintenanceLoading:i}){const[o,c]=E.useState(null),[u,l]=E.useState(!1),d=async()=>{if(o){n();return}l(!0);try{const p=r!=="active"?`?source=${r}`:"",f=await fetchWithAuth(`/api/db/tables/${t.name}${p}`);c(f?.data)}catch(p){console.error("Error loading table details:",p)}l(!1),n()};return a.jsxs(a.Fragment,{children:[a.jsxs(gd,{className:"hover-elevate cursor-pointer",onClick:d,"data-testid":`row-table-${t.name}`,children:[a.jsx(ba,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ia,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx("span",{className:"font-mono text-xs",children:t.name})]})}),a.jsx(ba,{className:"text-center font-mono",children:t.rowCount.toLocaleString()}),a.jsx(ba,{className:"text-center text-xs",children:t.totalSize}),a.jsx(ba,{className:"text-center",children:t.columns}),a.jsx(ba,{className:"text-center",children:t.indexes}),a.jsx(ba,{className:"text-center",children:u?a.jsx(Zr,{className:"h-4 w-4 animate-spin mx-auto"}):e?a.jsx(qc,{className:"h-4 w-4 mx-auto"}):a.jsx(rs,{className:"h-4 w-4 mx-auto"})})]}),e&&o&&a.jsx(gd,{children:a.jsx(ba,{colSpan:6,className:"bg-muted/20 p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",o.columns?.length||0,")"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:o.columns?.map((p,f)=>a.jsxs("div",{className:"flex items-center gap-1.5 text-xs p-1 rounded bg-background",children:[a.jsx(Dq,{className:"h-3 w-3 text-muted-foreground shrink-0"}),a.jsx("span",{className:"font-mono",children:p.column_name}),a.jsx(xr,{variant:"secondary",className:"text-[10px] px-1 py-0",children:p.data_type}),p.is_nullable==="NO"&&a.jsx(xr,{variant:"outline",className:"text-[10px] px-1 py-0",children:""})]},f))})]}),o.indexes?.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:[" (",o.indexes.length,")"]}),a.jsx("div",{className:"space-y-1",children:o.indexes.map((p,f)=>a.jsx("p",{className:"text-xs font-mono text-muted-foreground bg-background p-1 rounded",children:p.indexname},f))})]}),a.jsxs("div",{className:"flex gap-2 pt-2 flex-wrap",children:[a.jsx(Ie,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),s("vacuum")},disabled:i,"data-testid":`button-vacuum-${t.name}`,children:""}),a.jsx(Ie,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),s("analyze")},disabled:i,"data-testid":`button-analyze-${t.name}`,children:""})]})]})})})]})}function Z1({title:t,description:r,action:e,icon:n,onRun:s,isLoading:i}){return a.jsx(Jt,{children:a.jsxs(vr,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-muted-foreground",children:n}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:t}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),a.jsxs(Ie,{variant:"outline",size:"sm",className:"w-full",onClick:s,disabled:i,"data-testid":`button-maintenance-${e}`,children:[i?a.jsx(Zr,{className:"h-4 w-4 animate-spin ml-1"}):null,""]})]})})}function s8(t){if(t===0)return"0 B";const r=1024,e=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,n)).toFixed(2))+" "+e[n]}function Gpe(t){const r=Math.floor(t/86400),e=Math.floor(t%86400/3600),n=Math.floor(t%3600/60);return r>0?`${r}  ${e} `:e>0?`${e}  ${n} `:`${n} `}function GB(){const[t,r]=E.useState(()=>Em()),[e,n]=E.useState(navigator.onLine);E.useEffect(()=>{const c=gx(d=>{r(d)}),u=()=>{n(!0),zc().catch(console.error)},l=()=>{n(!1)};return window.addEventListener("online",u),window.addEventListener("offline",l),()=>{c(),window.removeEventListener("online",u),window.removeEventListener("offline",l)}},[]);const s=async()=>{e&&await zc()},i=async c=>{await xB(c);const u=await Oh();r(l=>({...l,pendingCount:u.length}))},o=async()=>{const c=await Mhe();r(u=>({...u,pendingCount:0,lastError:`  ${c}  `}))};return{isSyncing:t.isSyncing,offlineCount:t.pendingCount,lastSync:t.lastSync,lastError:t.lastError,lastErrorType:t.lastErrorType,lastErrorDetails:t.lastErrorDetails,isOnline:e,manualSync:s,cancelOperation:i,cancelAllOperations:o,latency:t.latency}}function Xpe(){const{isSyncing:t,offlineCount:r,isOnline:e,lastSync:n,lastError:s,lastErrorType:i,manualSync:o,cancelAllOperations:c,latency:u}=GB(),[l,d]=E.useState(!1),p=async()=>{d(!0),await o(),d(!1)},f=async()=>{window.confirm("       ")&&await c()},h=y=>y<200?"text-green-500":y<500?"text-yellow-500":"text-red-500",g=y=>{switch(y){case"timeout":return"  ";case"network":return"  ";case"server":return"  ";case"validation":return"  ";default:return" "}};return a.jsxs(A3,{children:[a.jsx(P3,{asChild:!0,children:a.jsxs(Ie,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-primary/80 relative",title:" ",children:[t||l?a.jsx(Zr,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):e?r>0?a.jsx(Gn,{className:"h-4 w-4 md:h-5 md:w-5 text-orange-500"}):a.jsx(jf,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"}):a.jsx(mf,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-500"}),r>0&&a.jsx(xr,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] rounded-full",children:r})]})}),a.jsxs(hx,{align:"end",className:"w-64",children:[a.jsxs(M3,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4"})," "]}),u&&e&&a.jsxs("span",{className:`text-[10px] font-mono ${h(u)}`,children:[u,"ms"]})]}),a.jsx(R3,{}),a.jsxs("div",{className:"px-3 py-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:" :"}),a.jsx("div",{className:"flex items-center gap-1.5",children:e?a.jsxs(a.Fragment,{children:[a.jsx(xr,{variant:"outline",className:"text-green-600 bg-green-50 border-green-200",children:""}),a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}):a.jsxs(a.Fragment,{children:[a.jsx(xr,{variant:"outline",className:"text-yellow-600 bg-yellow-50 border-yellow-200",children:""}),a.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500 animate-pulse"})]})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:" :"}),a.jsx("span",{className:`font-bold ${r>0?"text-orange-600":"text-green-600"}`,children:r})]}),(t||l)&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[a.jsx("span",{children:" ..."}),a.jsx("span",{children:" "})]}),a.jsx(Xl,{value:void 0,className:"h-1"})]}),a.jsx("div",{className:"text-[10px] text-muted-foreground pt-1 border-t",children:n>0?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:[" : ",mie(n,{addSuffix:!0,locale:ca})]})]}):a.jsx("span",{children:"   "})}),s&&a.jsxs("div",{className:"text-[10px] text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded flex gap-2 items-start mt-2 flex-col",children:[a.jsxs("div",{className:"flex gap-1 items-start w-full",children:[a.jsx($a,{className:"h-3 w-3 mt-0.5 shrink-0 text-red-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold",children:g(i)}),a.jsx("span",{className:"break-words line-clamp-2 text-red-500",children:s})]})]}),r>0&&a.jsxs("button",{onClick:f,className:"text-xs bg-red-200 dark:bg-red-800 text-red-700 dark:text-red-200 px-2 py-1 rounded hover:bg-red-300 dark:hover:bg-red-700 transition-colors w-full","data-testid":"button-cancel-all-operations",children:["   (",r,")"]})]}),a.jsx(Ie,{className:"w-full mt-2 h-8 text-xs gap-2",onClick:p,disabled:!e||t||l||r===0,children:t||l?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 animate-spin"})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"h-3 w-3"})," "]})})]})]})]})}const Qpe={"/":{title:" ",icon:Jp},"/projects":{title:" ",icon:bs},"/workers":{title:" ",icon:Ln},"/suppliers-pro":{title:" ",icon:oa},"/worker-attendance":{title:" ",icon:Gm},"/worker-accounts":{title:" ",icon:kr},"/material-purchase":{title:" ",icon:Nn},"/project-transfers":{title:"  ",icon:Oc},"/project-transactions":{title:" ",icon:ia},"/well-accounting":{title:" ",icon:Ko},"/well-cost-report":{title:"  ",icon:ia},"/wells":{title:" ",icon:n7},"/transport-management":{title:" ",icon:oa},"/daily-expenses":{title:" ",icon:kr},"/deployment":{title:"   ",icon:Is},"/settings":{title:" ",icon:Km},"/project-fund-custody":{title:"  ",icon:od},"/admin-notifications":{title:" ",icon:Il},"/ai-chat":{title:" ",icon:S_},"/security-policies":{title:" ",icon:Xq},"/equipment":{title:" ",icon:wi},"/reports":{title:"",icon:Lq},"/local-db":{title:"   ",icon:za}};function Ype(){const[t]=Gs(),{toast:r}=wn(),{selectedProjectId:e,selectedProjectName:n,selectProject:s}=No(),[i,o]=E.useState({isOnline:!0,pendingCount:0}),[c,u]=E.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");E.useEffect(()=>{const v=window.document.documentElement;c==="dark"?v.classList.add("dark"):v.classList.remove("dark"),localStorage.setItem("theme",c)},[c]);const l=()=>{u(v=>v==="light"?"dark":"light")};E.useEffect(()=>{const v=gx(x=>{o({isOnline:x.isOnline,pendingCount:x.pendingCount||0})});return()=>v()},[]);const{isOnline:d,pendingCount:p}=i,{data:f=[],isLoading:h}=vt({queryKey:xe.projects,queryFn:async()=>{try{const v=await Ue("/api/projects","GET");return v?.data||v||[]}catch{return[]}}}),g=Qpe[t]||{title:"AXION SYSTEM",icon:qq},y=g.icon,m=(v,x)=>{s(v,x),r({title:"  ",description:x})};return a.jsxs("div",{className:"flex items-center justify-between h-full w-full",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-1.5 rounded-lg text-primary",children:a.jsx(y,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("h1",{className:"text-sm font-bold leading-tight text-slate-900 dark:text-white",children:g.title}),a.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black uppercase tracking-widest",children:"AXION SYSTEM"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xpe,{}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800",children:[d?a.jsx(qw,{className:"h-4 w-4 text-green-500"}):a.jsx(e7,{className:"h-4 w-4 text-yellow-500"}),p>0&&a.jsxs("div",{className:"flex items-center gap-1 border-r border-slate-200 dark:border-slate-700 pr-1 mr-1",children:[a.jsx(Gn,{className:"h-3 w-3 animate-spin text-primary"}),a.jsx("span",{className:"text-[10px] font-bold text-primary",children:p})]})]}),a.jsx(Ie,{variant:"outline",size:"icon",onClick:l,className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:c==="light"?" ":" ",children:c==="light"?a.jsx(Zq,{className:"h-4 w-4 text-slate-700"}):a.jsx(aH,{className:"h-4 w-4 text-amber-400"})}),a.jsxs(A3,{children:[a.jsx(P3,{asChild:!0,children:a.jsx(Ie,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:bg-slate-50",title:e?e===Ts?Fo:n:" ",children:a.jsx($q,{className:"h-4 w-4 text-primary"})})}),a.jsxs(hx,{align:"end",className:"w-64 max-h-80",children:[a.jsx(M3,{className:"text-right",children:" "}),a.jsx(R3,{}),h?a.jsx("div",{className:"p-4 text-center text-xs",children:" ..."}):a.jsxs(a.Fragment,{children:[a.jsxs(nb,{onClick:()=>m(Ts,Fo),className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n7,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:Fo})]}),e===Ts&&a.jsx(Hn,{className:"h-4 w-4 text-green-500"})]}),f.map(v=>a.jsxs(nb,{onClick:()=>m(v.id.toString(),v.name),className:"flex justify-between",children:[a.jsx("span",{children:v.name}),e===v.id.toString()&&a.jsx(Hn,{className:"h-4 w-4 text-green-500"})]},v.id))]})]})]})]})]})}const Zpe=[{path:"/",icon:Jp,label:"",key:"dashboard"},{path:"/projects",icon:bs,label:"",key:"projects"},{path:"/workers",icon:Ln,label:"",key:"workers"},{path:"/material-purchase",icon:Nn,label:"",key:"material_purchase"},{path:"/transport-management",icon:oa,label:"",key:"transport_management"},{path:"/worker-attendance",icon:Gm,label:"",key:"attendance"},{path:"/daily-expenses",icon:Ko,label:"",key:"expenses"}],Jpe=[{category:" ",pages:[{path:"/",icon:Jp,label:" ",description:"   ",requireAdmin:!1},{path:"/projects",icon:bs,label:" ",description:"  ",requireAdmin:!1},{path:"/workers",icon:Ln,label:" ",description:"   ",requireAdmin:!1},{path:"/suppliers-pro",icon:oa,label:" ",description:"  ",requireAdmin:!1}]},{category:" ",pages:[{path:"/wells",icon:Wo,label:" ",description:"   ",requireAdmin:!1},{path:"/well-accounting",icon:Ko,label:" ",description:"   ",requireAdmin:!1},{path:"/well-cost-report",icon:Uw,label:" ",description:"   ",requireAdmin:!1},{path:"/worker-attendance",icon:Gm,label:" ",description:"   ",requireAdmin:!1},{path:"/daily-expenses",icon:Ko,label:" ",description:"   ",requireAdmin:!1},{path:"/material-purchase",icon:Nn,label:" ",description:"   ",requireAdmin:!1},{path:"/transport-management",icon:oa,label:" ",description:"    ",requireAdmin:!1},{path:"/worker-accounts",icon:kr,label:" ",description:"   ",requireAdmin:!0},{path:"/equipment",icon:Km,label:" ",description:"    ",requireAdmin:!0},{path:"/project-fund-custody",icon:kr,label:" ",description:"   ",requireAdmin:!0},{path:"/project-transfers",icon:Oc,label:"  ",description:"    ",requireAdmin:!0},{path:"/project-transactions",icon:ia,label:" ",description:"    ",requireAdmin:!0}]},{category:" ",pages:[{path:"/supplier-accounts",icon:r7,label:" ",description:"   ",requireAdmin:!0}]},{category:"",pages:[{path:"/reports",icon:Uw,label:"",description:"      ",requireAdmin:!1}]},{category:" ",pages:[{path:"/users-management",icon:Ln,label:" ",description:"   ",requireAdmin:!0}]},{category:" ",pages:[{path:"/notifications",icon:Fc,label:"",description:"   ",requireAdmin:!1}]},{category:" ",pages:[{path:"/security-policies",icon:Il,label:" ",description:"   ",requireAdmin:!0},{path:"/smart-errors",icon:za,label:"  ",description:"      ",requireAdmin:!0}]},{category:" ",pages:[{path:"/autocomplete-admin",icon:wi,label:"  ",description:"   ",requireAdmin:!0},{path:"/admin-notifications",icon:Fc,label:" ",description:"   ",requireAdmin:!0},{path:"/deployment",icon:i7,label:"  ",description:"     ",requireAdmin:!0}]},{category:"  ",pages:[{path:"/ai-chat",icon:GA,label:" ",description:"    ",requireAdmin:!0},{path:"/local-db",icon:za,label:"  ",description:"    ",requireAdmin:!0},{path:"/admin/backups",icon:Il,label:" ",description:"   ",requireAdmin:!0},{path:"/admin/sync",icon:Gn,label:" ",description:"     ",requireAdmin:!0}]}];function eme(){const[t,r]=Gs(),[e,n]=E.useState(!1),[s,i]=E.useState(""),{user:o}=Ql(),c=o?.role==="admin",u=Jpe.map(f=>({...f,pages:f.pages.filter(h=>!h.requireAdmin||c)})).filter(f=>f.pages.length>0),l=E.useMemo(()=>{if(!s.trim())return u;const f=s.toLowerCase();return u.map(h=>({...h,pages:h.pages.filter(g=>g.label.toLowerCase().includes(f)||g.description.toLowerCase().includes(f))})).filter(h=>h.pages.length>0)},[s,u]),d=f=>{r(f),n(!1),i("")},p=u.reduce((f,h)=>f+h.pages.length,0);return a.jsx("nav",{className:"bg-white dark:bg-slate-900 flex-shrink-0 h-full w-full relative z-[50]",onClick:f=>f.stopPropagation(),children:a.jsxs("div",{className:"flex justify-around items-center h-full w-full max-w-screen-xl mx-auto px-2 relative",children:[Zpe.map(f=>{const h=f.icon,g=t===f.path;return a.jsxs(Ie,{variant:"ghost","data-testid":`nav-item-${f.key}`,className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${g?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,onClick:()=>r(f.path),children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx(ym,{children:g&&a.jsx(kn.div,{layoutId:"nav-bg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl z-0"})}),a.jsx(h,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${g?"scale-110":"group-hover:scale-105"}`})]}),a.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${g?"opacity-100 translate-y-0":"opacity-70 group-hover:opacity-100"}`,children:f.label}),g&&a.jsx(kn.div,{layoutId:"nav-dot",className:"absolute -top-[1px] left-1/2 -translate-x-1/2 w-5 h-[3px] bg-blue-600 dark:bg-blue-400 rounded-full",initial:{opacity:0},animate:{opacity:1}})]},f.key)}),a.jsxs(ix,{open:e,onOpenChange:n,modal:!0,children:[a.jsx(i3,{asChild:!0,children:a.jsxs(Ie,{variant:"ghost","data-testid":"nav-more-button",className:`flex flex-col items-center justify-center gap-1 h-full min-w-[50px] px-1 rounded-xl transition-all duration-500 relative group no-default-hover-elevate no-default-active-elevate ${e?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[e&&a.jsx("div",{className:"absolute inset-[-6px] bg-blue-50 dark:bg-blue-900/20 rounded-xl"}),a.jsx(Fq,{className:`h-[22px] w-[22px] z-10 transition-transform duration-500 ${e?"scale-110":"group-hover:scale-105"}`})]}),a.jsx("span",{className:`text-[11px] font-medium z-10 transition-all duration-500 ${e?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:""})]})}),a.jsxs(d0,{side:"bottom",className:"h-[90vh] rounded-t-[28px] px-0 border-none shadow-[0_-15px_50px_rgba(0,0,0,0.15)] bg-white dark:bg-slate-950 backdrop-blur-2xl z-[20002]",onPointerDownOutside:()=>n(!1),onInteractOutside:()=>n(!1),children:[a.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto my-3"}),a.jsxs("div",{className:"px-4 mb-4 space-y-3",children:[a.jsx(o3,{children:a.jsx(f0,{className:"text-right text-2xl font-bold bg-gradient-to-l from-blue-600 to-blue-500 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-300",children:" "})}),a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[a.jsxs("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.reduce((f,h)=>f+h.pages.length,0),"  ",p]}),a.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:" "})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 dark:text-slate-500 z-10 pointer-events-none"}),a.jsx(xt,{"data-testid":"input-menu-search",type:"text",placeholder:"  ...",value:s,onChange:f=>i(f.target.value),className:"w-full h-10 pr-10 pl-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-600 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-0 dark:focus-visible:ring-offset-0 transition-all duration-300"}),s&&a.jsx(Ie,{type:"button",variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-6 z-10 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(""),children:a.jsx(Us,{className:"h-4 w-4 text-slate-400 dark:text-slate-500"})})]})]}),a.jsx(Yl,{className:"h-[calc(90vh-180px)]",children:a.jsx("div",{className:"px-4 pb-24",children:l.length>0?a.jsx("div",{className:"space-y-6",children:a.jsx(ym,{mode:"wait",children:l.map((f,h)=>a.jsxs(kn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:h*.05},className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 px-2 mb-3",children:[a.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-l from-slate-200 dark:from-slate-800 to-transparent"}),a.jsx("h3",{className:"font-bold text-xs text-slate-500 dark:text-slate-400 uppercase tracking-widest whitespace-nowrap",children:f.category}),a.jsx("div",{className:"h-0.5 flex-1 bg-gradient-to-r from-slate-200 dark:from-slate-800 to-transparent"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.pages.map((g,y)=>{const m=g.icon,v=t===g.path;return a.jsx(kn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:y*.03},whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs(Ie,{variant:"ghost","data-testid":`menu-item-${g.path}`,className:`w-full h-auto p-4 rounded-2xl border-2 transition-all duration-300 overflow-hidden relative group cursor-pointer ${v?"bg-gradient-to-br from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg shadow-blue-200 dark:shadow-blue-950 dark:from-blue-600 dark:to-blue-700":"bg-white dark:bg-slate-900/40 border-slate-100 dark:border-slate-800/50 text-slate-900 dark:text-white hover:border-blue-300 dark:hover:border-blue-700/50 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>d(g.path),children:[!v&&a.jsx(kn.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-500/0 opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-300",whileHover:{opacity:1}}),a.jsxs("div",{className:"flex items-center gap-3 w-full relative z-10",children:[a.jsx(kn.div,{className:`p-2.5 rounded-2xl transition-all duration-300 flex-shrink-0 ${v?"bg-white/25 shadow-lg":"bg-slate-100 dark:bg-slate-800/80 text-blue-600 dark:text-blue-400 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40"}`,whileHover:{scale:1.15,rotate:5},transition:{type:"spring",stiffness:400},children:a.jsx(m,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[a.jsx("div",{className:`font-bold text-sm leading-tight mb-1 truncate transition-all duration-300 ${v?"text-white":"text-slate-900 dark:text-slate-100"}`,children:g.label}),a.jsx("div",{className:`text-[11px] leading-tight truncate transition-all duration-300 ${v?"text-white/85":"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`,children:g.description})]})]})]})},y)})})]},h))})}):a.jsxs(kn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(bo,{className:"h-12 w-12 text-slate-300 dark:text-slate-700 mb-3"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"  "}),a.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs",children:"   "})]})})})]})]})]})})}function tme(){const{floatingAction:t,floatingLabel:r,refreshAction:e}=Zi();return!t&&!e?null:a.jsxs("div",{className:"fixed bottom-[calc(90px+env(safe-area-inset-bottom,0px))] right-6 z-[110] flex flex-col gap-3 pointer-events-auto items-center",children:[e&&a.jsx(Ie,{onClick:()=>e(),className:"h-10 w-10 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",size:"icon",title:"","data-testid":"button-floating-refresh",children:a.jsx(Gn,{className:"h-4 w-4"})}),t&&a.jsx(Ie,{onClick:()=>t(),className:"h-12 w-12 rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-110 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 border-0 text-white",size:"icon",title:r,"data-testid":"button-floating-add",children:a.jsx(gs,{className:"h-5 w-5"})})]})}function rme(){return a.jsx("div",{title:"PRODUCTION",className:"p-1.5 rounded-lg transition-all duration-300 text-emerald-600 bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-500/30",children:a.jsx(Go,{className:"h-4 w-4"})})}const J1=768;function nme(){const[t,r]=E.useState(void 0);return E.useEffect(()=>{const e=window.matchMedia(`(max-width: ${J1-1}px)`),n=()=>{r(window.innerWidth<J1)};return e.addEventListener("change",n),r(window.innerWidth<J1),()=>e.removeEventListener("change",n)},[]),!!t}var sme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ame=sme.reduce((t,r)=>{const e=e0(`Primitive.${r}`),n=E.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?e:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),ime="Separator",a8="horizontal",ome=["horizontal","vertical"],XB=E.forwardRef((t,r)=>{const{decorative:e,orientation:n=a8,...s}=t,i=lme(n)?n:a8,c=e?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ame.div,{"data-orientation":i,...c,...s,ref:r})});XB.displayName=ime;function lme(t){return ome.includes(t)}var QB=XB;const YB=E.forwardRef(({className:t,orientation:r="horizontal",decorative:e=!0,...n},s)=>a.jsx(QB,{ref:s,decorative:e,orientation:r,className:Ae("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));YB.displayName=QB.displayName;const cme="sidebar_state",ume=3600*24*7,dme="16rem",fme="16rem",hme="3rem",pme="b",ZB=E.createContext(null);function _0(){const t=E.useContext(ZB);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const JB=E.forwardRef(({defaultOpen:t=!0,open:r,onOpenChange:e,className:n,style:s,children:i,...o},c)=>{const u=nme(),[l,d]=E.useState(!1),[p,f]=E.useState(t),h=r??p,g=E.useCallback(x=>{const S=typeof x=="function"?x(h):x;e?e(S):f(S),document.cookie=`${cme}=${S}; path=/; max-age=${ume}`},[e,h]),y=E.useCallback(()=>u?d(x=>!x):g(x=>!x),[u,g,d]);E.useEffect(()=>{const x=S=>{S.key===pme&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const m=h?"expanded":"collapsed",v=E.useMemo(()=>({state:m,open:h,setOpen:g,isMobile:u,openMobile:l,setOpenMobile:d,toggleSidebar:y}),[m,h,g,u,l,d,y]);return a.jsx(ZB.Provider,{value:v,children:a.jsx(Rb,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":dme,"--sidebar-width-icon":hme,...s},className:Ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...o,children:i})})})});JB.displayName="SidebarProvider";const e$=E.forwardRef(({side:t="left",variant:r="sidebar",collapsible:e="offcanvas",className:n,children:s,...i},o)=>{const{isMobile:c,state:u,openMobile:l,setOpenMobile:d}=_0();return e==="none"?a.jsx("div",{className:Ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:s}):c?a.jsx(ix,{open:l,onOpenChange:d,...i,children:a.jsxs(d0,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden z-[20001]",style:{"--sidebar-width":fme},side:t,children:[a.jsxs(o3,{className:"sr-only",children:[a.jsx(f0,{children:"Sidebar"}),a.jsx(fI,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?e:"","data-variant":r,"data-side":t,children:[a.jsx("div",{className:Ae("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:Ae("fixed inset-y-0 z-[60] hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});e$.displayName="Sidebar";const t$=E.forwardRef(({className:t,onClick:r,...e},n)=>{const{toggleSidebar:s}=_0();return a.jsxs(Ie,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ae("h-7 w-7",t),onClick:i=>{r?.(i),s()},...e,children:[a.jsx(eH,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});t$.displayName="SidebarTrigger";const mme=E.forwardRef(({className:t,...r},e)=>{const{toggleSidebar:n}=_0();return a.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})});mme.displayName="SidebarRail";const r$=E.forwardRef(({className:t,...r},e)=>a.jsx("main",{ref:e,className:Ae("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r}));r$.displayName="SidebarInset";const gme=E.forwardRef(({className:t,...r},e)=>a.jsx(xt,{ref:e,"data-sidebar":"input",className:Ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r}));gme.displayName="SidebarInput";const n$=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"header",className:Ae("flex flex-col gap-2 p-2",t),...r}));n$.displayName="SidebarHeader";const s$=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"footer",className:Ae("flex flex-col gap-2 p-2",t),...r}));s$.displayName="SidebarFooter";const yme=E.forwardRef(({className:t,...r},e)=>a.jsx(YB,{ref:e,"data-sidebar":"separator",className:Ae("mx-2 w-auto bg-sidebar-border",t),...r}));yme.displayName="SidebarSeparator";const a$=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"content",className:Ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r}));a$.displayName="SidebarContent";const i$=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"group",className:Ae("relative flex w-full min-w-0 flex-col p-2",t),...r}));i$.displayName="SidebarGroup";const o$=E.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?Sd:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:Ae("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...e})});o$.displayName="SidebarGroupLabel";const bme=E.forwardRef(({className:t,asChild:r=!1,...e},n)=>{const s=r?Sd:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:Ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...e})});bme.displayName="SidebarGroupAction";const l$=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"group-content",className:Ae("w-full text-sm",t),...r}));l$.displayName="SidebarGroupContent";const Q2=E.forwardRef(({className:t,...r},e)=>a.jsx("ul",{ref:e,"data-sidebar":"menu",className:Ae("flex w-full min-w-0 flex-col gap-1",t),...r}));Q2.displayName="SidebarMenu";const by=E.forwardRef(({className:t,...r},e)=>a.jsx("li",{ref:e,"data-sidebar":"menu-item",className:Ae("group/menu-item relative",t),...r}));by.displayName="SidebarMenuItem";const xme=kd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),xy=E.forwardRef(({asChild:t=!1,isActive:r=!1,variant:e="default",size:n="default",tooltip:s,className:i,...o},c)=>{const u=t?Sd:"button",{isMobile:l,state:d}=_0(),p=a.jsx(u,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":r,className:Ae(xme({variant:e,size:n}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(L_,{children:[a.jsx(B_,{asChild:!0,children:p}),a.jsx(Db,{side:"right",align:"center",hidden:d!=="collapsed"||l,...s})]})):p});xy.displayName="SidebarMenuButton";const vme=E.forwardRef(({className:t,asChild:r=!1,showOnHover:e=!1,...n},s)=>{const i=r?Sd:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:Ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});vme.displayName="SidebarMenuAction";const wme=E.forwardRef(({className:t,...r},e)=>a.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:Ae("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r}));wme.displayName="SidebarMenuBadge";const _me=E.forwardRef(({className:t,showIcon:r=!1,...e},n)=>{const s=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Ae("flex h-8 items-center gap-2 rounded-md px-2",t),...e,children:[r&&a.jsx(dn,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(dn,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});_me.displayName="SidebarMenuSkeleton";const kme=E.forwardRef(({className:t,...r},e)=>a.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:Ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r}));kme.displayName="SidebarMenuSub";const jme=E.forwardRef(({...t},r)=>a.jsx("li",{ref:r,...t}));jme.displayName="SidebarMenuSubItem";const Sme=E.forwardRef(({asChild:t=!1,size:r="md",isActive:e,className:n,...s},i)=>{const o=t?Sd:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":e,className:Ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});Sme.displayName="SidebarMenuSubButton";const Nme=[{title:"",icon:Jp,items:[{title:" ",url:"/",icon:Jp},{title:" ",url:"/projects",icon:bs}]},{title:" ",icon:Ln,items:[{title:" ",url:"/project-transactions",icon:ia},{title:" ",url:"/workers",icon:Ln},{title:" ",url:"/worker-attendance",icon:Gm},{title:" ",url:"/worker-accounts",icon:od}]},{title:" ",icon:Nn,items:[{title:" ",url:"/material-purchase",icon:Nn},{title:" ",url:"/material-purchases",icon:Nn},{title:"",url:"/suppliers-pro",icon:oa},{title:" ",url:"/transport-management",icon:oa},{title:"",url:"/customers",icon:Ln},{title:" ",icon:wi,url:"/equipment"}]},{title:" ",icon:Ko,items:[{title:" ",url:"/daily-expenses",icon:Ko},{title:" ",url:"/well-accounting",icon:Ko},{title:" ",url:"/well-cost-report",icon:Uo},{title:"",url:"/reports",icon:Uo}]},{title:" ",icon:Go,items:[{title:" ",icon:S_,url:"/ai-chat"},{title:" ",icon:Go,url:"/security-policies"},{title:" ",icon:Is,url:"/admin/data-health"},{title:" ",icon:Go,url:"/admin/backups"},{title:" ",icon:Gn,url:"/admin/sync"},{title:" ",icon:za,url:"/local-db"}]}];function Cme(){const[t,r]=Gs(),{logout:e,user:n}=Ql(),{setOpenMobile:s,isMobile:i}=_0(),o=c=>{r(c),i&&s(!1)};return a.jsxs(e$,{side:"right",variant:"sidebar",collapsible:"icon",className:"border-l-0 bg-white dark:bg-slate-950 text-slate-900 dark:text-white transition-colors duration-500",children:[a.jsx(n$,{className:"border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950 px-4 py-5 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-[#3b82f6] dark:bg-[#1a1c1e] shadow-xl shadow-blue-600/20 dark:shadow-black/40 transition-all border border-white/10 dark:border-slate-800 overflow-hidden relative group/logo",children:a.jsxs("div",{className:"relative flex items-center justify-center w-full h-full translate-y-[1px]",children:[a.jsx("span",{className:"font-black text-2xl leading-none text-white drop-shadow-sm",children:""}),a.jsx("span",{className:"font-black text-xs leading-none text-white/30 ml-[-2px] italic -skew-x-6",children:"A"}),a.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full border border-white dark:border-[#1a1c1e] shadow-sm"})]})}),a.jsxs("div",{className:"flex flex-col overflow-hidden group-data-[collapsible=icon]:hidden text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 leading-none",children:[a.jsx("span",{className:"font-black text-lg tracking-[-0.05em] text-slate-900 dark:text-white uppercase",children:"AXION"}),a.jsx("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-800"}),a.jsx("span",{className:"font-black text-sm text-[#3b82f6] dark:text-blue-500",children:""})]}),a.jsx("span",{className:"text-[8px] text-slate-400 dark:text-slate-500 truncate font-black uppercase tracking-[0.4em] mt-1.5 opacity-80",children:"Enterprise Operations"})]})]})}),a.jsxs(a$,{className:"bg-white dark:bg-slate-950 gap-0 pt-2 custom-scrollbar overflow-y-auto overflow-x-hidden flex-1 scrolling-touch",children:[Nme.map(c=>a.jsx(Li,{defaultOpen:!0,className:"group/collapsible",children:a.jsxs(i$,{children:[a.jsx(o$,{asChild:!0,children:a.jsxs(Bi,{className:"flex w-full items-center justify-between px-4 py-2 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors group-data-[collapsible=icon]:hidden",children:[a.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:c.title}),a.jsx(rs,{className:"h-3 w-3 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-180"})]})}),a.jsx($i,{children:a.jsx(l$,{children:a.jsx(Q2,{children:c.items.map(u=>a.jsx(by,{children:a.jsx(xy,{asChild:!0,isActive:t===u.url,className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg transition-all duration-200 data-[active=true]:bg-blue-600 dark:data-[active=true]:bg-white data-[active=true]:text-white dark:data-[active=true]:text-slate-900 hover:bg-slate-100 dark:hover:bg-slate-900 text-slate-700 dark:text-slate-300",children:a.jsxs("a",{href:u.url,onClick:l=>{l.preventDefault(),o(u.url)},children:[a.jsx(u.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium text-sm",children:u.title})]})})},u.title))})})})]})},c.title)),a.jsx("div",{className:"h-24 w-full","aria-hidden":"true"})]}),a.jsxs(s$,{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 p-2 flex-shrink-0",children:[a.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 group-data-[collapsible=icon]:hidden border-b border-slate-200/50 dark:border-slate-800 mb-2",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-blue-600 dark:bg-white flex items-center justify-center text-white dark:text-slate-900 font-bold text-sm uppercase border border-white/10 shadow-sm transition-colors",children:n?.name?.charAt(0)||"U"}),a.jsxs("div",{className:"flex flex-col overflow-hidden text-right",children:[a.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:n?.name||""}),a.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 truncate",children:n?.email})]})]}),a.jsxs(Q2,{children:[a.jsx(by,{children:a.jsxs(xy,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg hover:bg-slate-200 dark:hover:bg-slate-900 transition-colors text-slate-700 dark:text-slate-300",onClick:()=>o("/settings"),children:[a.jsx(Km,{className:"h-5 w-5 opacity-60"}),a.jsx("span",{className:"text-sm font-medium",children:""})]})}),a.jsx(by,{children:a.jsxs(xy,{className:"h-10 px-4 mx-2 w-[calc(100%-16px)] rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 hover:text-red-700 dark:hover:text-red-400 transition-colors",onClick:()=>{e(),i&&s(!1)},children:[a.jsx(Qq,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:" "})]})})]}),a.jsx("div",{className:"px-4 py-2 group-data-[collapsible=icon]:hidden",children:a.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-500 text-center border border-slate-200 dark:border-slate-800 rounded py-1 bg-slate-100 dark:bg-slate-900/50",children:[": ",""]})})]})]})}function Tme(){const[t,r]=E.useState(!1),[e,n]=E.useState(0),[s,i]=E.useState("idle");return E.useEffect(()=>{const o=()=>{navigator.onLine?s==="offline"&&i("idle"):i("offline")};return window.addEventListener("online",o),window.addEventListener("offline",o),o(),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",o)}},[s]),s==="idle"&&!t?null:a.jsx("div",{className:Ae("fixed top-4 left-1/2 -translate-x-1/2 z-[2000] w-[90%] max-w-md transition-all duration-500 transform",t||s==="offline"?"translate-y-0 opacity-100":"-translate-y-20 opacity-0"),dir:"rtl",children:a.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border border-slate-200 dark:border-slate-800 rounded-2xl shadow-2xl p-4 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:Ae("p-2 rounded-xl",s==="syncing"&&"bg-primary/10 text-primary animate-pulse",s==="completed"&&"bg-green-100 text-green-600 dark:bg-green-900/30",s==="offline"&&"bg-red-100 text-red-600 dark:bg-red-900/30"),children:[s==="syncing"&&a.jsx(Gn,{className:"w-5 h-5 animate-spin"}),s==="completed"&&a.jsx(Hn,{className:"w-5 h-5"}),s==="offline"&&a.jsx(e7,{className:"w-5 h-5"})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[s==="syncing"&&"  ...",s==="completed"&&"  ",s==="offline"&&"   "]}),a.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:[s==="syncing"&&`  ${Math.round(e)}%   `,s==="completed"&&"     ",s==="offline"&&"      "]})]})]}),s==="syncing"&&a.jsxs("span",{className:"text-xs font-mono font-bold text-primary",children:[Math.round(e),"%"]})]}),s==="syncing"&&a.jsx(Xl,{value:e,className:"h-1.5 bg-slate-100 dark:bg-slate-800"})]})})}function Eme({onRefresh:t,enabled:r=!0,threshold:e=70,maxPull:n=130,minSpinnerTime:s=600,scrollRef:i}){const[o,c]=E.useState(0),[u,l]=E.useState(!1),[d,p]=E.useState(!1),f=E.useRef(!1),h=E.useRef(0),g=E.useRef(0),y=E.useRef(!1),m=Math.min(o/e,1),v=E.useCallback(async()=>{if(f.current)return;f.current=!0,l(!0);const x=Date.now();try{await t()}catch{}finally{const S=Date.now()-x,C=Math.max(0,s-S);setTimeout(()=>{l(!1),f.current=!1,c(0)},C)}},[t,s]);return E.useEffect(()=>{const x=i.current;if(!x||!r)return;let S=null;const C=()=>x.scrollTop<=0,A=D=>{f.current||!C()||(h.current=D.touches[0].clientY,g.current=h.current,y.current=!1)},B=D=>{if(f.current)return;const I=D.touches[0];if(I.clientY-h.current>10&&C()&&(y.current||(y.current=!0,p(!0),h.current=I.clientY)),y.current){D.preventDefault(),g.current=I.clientY;const K=g.current-h.current,W=Math.min(n,K*.5);S&&cancelAnimationFrame(S),S=requestAnimationFrame(()=>{c(Math.max(0,W))})}},q=()=>{S&&cancelAnimationFrame(S),y.current&&(y.current=!1,p(!1),(g.current-h.current)*.5>=e?(c(e),v()):c(0))};return x.addEventListener("touchstart",A,{passive:!0}),x.addEventListener("touchmove",B,{passive:!1}),x.addEventListener("touchend",q,{passive:!0}),x.addEventListener("touchcancel",q,{passive:!0}),()=>{x.removeEventListener("touchstart",A),x.removeEventListener("touchmove",B),x.removeEventListener("touchend",q),x.removeEventListener("touchcancel",q),S&&cancelAnimationFrame(S)}},[r,e,n,v,i]),{pullDistance:o,isRefreshing:u,isPulling:d,progress:m}}function Ame({pullDistance:t,isRefreshing:r,progress:e,threshold:n=70}){const s=t>5||r,i=r?n*.6:t,o=e>=1;return s?a.jsxs("div",{className:"pull-to-refresh-indicator flex items-center justify-center overflow-hidden pointer-events-none",style:{height:`${i}px`,transition:r?"height 0.3s cubic-bezier(0.4, 0, 0.2, 1)":"none"},children:[a.jsx("div",{className:`
          flex items-center justify-center rounded-full
          w-10 h-10
          bg-background border border-border shadow-md
          transition-transform duration-200 ease-out
        `,style:{opacity:Math.min(1,e*1.5),transform:`scale(${.5+e*.5}) rotate(${r?0:e*180}deg)`},children:a.jsx(Gn,{className:`h-5 w-5 text-primary ${r?"animate-spin":""}`,style:{color:o&&!r?"hsl(var(--primary))":void 0}})}),o&&!r&&a.jsx("span",{className:"text-xs text-muted-foreground ms-2 animate-pulse",children:" "})]}):null}const Pme={"/":{queryKeys:[xe.projectsWithStats,xe.notifications,xe.recentActivities,xe.financialSummary,xe.healthStats]},"/projects":{queryKeys:[xe.projects,xe.projectsWithStats,xe.projectTypes]},"/workers":{queryKeys:[xe.workers,xe.workerTypes]},"/worker-accounts":{queryKeys:[xe.workers,xe.workerTypes]},"/suppliers-pro":{queryKeys:[xe.suppliers,xe.supplierStatistics]},"/supplier-accounts":{queryKeys:[xe.suppliers,xe.supplierStatistics]},"/customers":{queryKeys:[xe.suppliers]},"/equipment":{queryKeys:[xe.equipment,xe.equipmentMovements]},"/notifications":{queryKeys:[xe.notifications]},"/admin-notifications":{queryKeys:[xe.notifications]},"/wells":{queryKeys:[xe.wells]},"/well-cost-report":{queryKeys:[xe.wells]},"/well-accounting":{queryKeys:[xe.wells]},"/tasks":{queryKeys:[xe.tasks]},"/reports":{queryKeys:[xe.projectsWithStats,xe.workers,xe.suppliers]},"/users-management":{queryKeys:[xe.users,xe.usersList,xe.usersWithRoles]},"/ai-chat":{queryKeys:[xe.aiSessions]},"/admin/backups":{queryKeys:[xe.backupsStatus,xe.backupsLogs,xe.backupsDatabases]},"/admin/monitoring":{queryKeys:[xe.metrics,xe.diagnostics,xe.healthFull]},"/smart-errors":{queryKeys:[xe.errorLogs]},"/daily-expenses":{queryKeys:[xe.dailyExpenseSummaries,xe.materials]},"/worker-attendance":{queryKeys:[xe.workers,xe.workerTypes]},"/material-purchase":{queryKeys:[xe.materials,xe.suppliers]},"/transport-management":{queryKeys:[xe.transportationExpenses]},"/project-transfers":{queryKeys:[xe.projectFundTransfers,xe.allFundTransfers]},"/project-transactions":{queryKeys:[xe.projects]},"/project-fund-custody":{queryKeys:[xe.projectFundTransfers]},"/autocomplete-admin":{queryKeys:[xe.autocomplete]},"/admin/data-health":{queryKeys:[xe.adminDataHealth]}};function Mme({children:t,showHeader:r=!0,showNav:e=!0,showFloatingButton:n=!0}){const[s]=Gs(),i=ks(),{toast:o}=wn(),c=E.useRef(null),l=["/ai-chat","/admin/data-health"].some(S=>s===S),p=[].some(S=>s===S),f=Pme[s],h=!!f,g=E.useCallback(async()=>{if(f)try{const S=f.queryKeys.map(C=>i.refetchQueries({queryKey:C,type:"active"}));await Promise.all(S)}catch{throw o({title:" ",description:"  .    .",variant:"destructive",duration:3e3}),new Error("refresh failed")}},[f,i,o]),{pullDistance:y,isRefreshing:m,progress:v}=Eme({onRefresh:g,enabled:h,threshold:70,maxPull:130,minSpinnerTime:600,scrollRef:c}),x={"--sidebar-width":"18rem","--sidebar-width-icon":"4rem"};return a.jsxs(JB,{style:x,children:[a.jsx(Tme,{}),a.jsxs("div",{className:"flex h-[100dvh] w-full bg-background overflow-hidden",dir:"rtl",children:[a.jsx(Cme,{}),a.jsx(r$,{className:"flex flex-col flex-1 h-full overflow-hidden relative",children:a.jsxs("div",{className:"layout-shell flex flex-col h-full overflow-hidden relative",children:[r&&!l&&a.jsx("header",{className:"layout-header flex-shrink-0 w-full border-b bg-white dark:bg-slate-900 shadow-sm relative z-30",children:a.jsxs("div",{className:"flex h-[60px] items-center px-4 gap-4",children:[a.jsx(t$,{className:"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}),a.jsxs("div",{className:"flex-1 overflow-hidden text-slate-900 dark:text-white flex items-center justify-between",children:[a.jsx(Ype,{}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(rme,{})})]})]})}),a.jsxs("main",{ref:c,className:"layout-main flex-1 overflow-y-auto overflow-x-hidden relative scrolling-touch pb-[calc(72px+env(safe-area-inset-bottom,0px)+16px)] md:pb-0",children:[h&&a.jsx(Ame,{pullDistance:y,isRefreshing:m,progress:v}),a.jsx("div",{className:l?"h-full":"layout-content p-4 md:p-6 max-w-7xl mx-auto w-full",children:t})]}),e&&!p&&a.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom,0px)] shadow-[0_-8px_20px_rgba(0,0,0,0.1)] flex items-center justify-center pointer-events-auto",children:a.jsx("div",{className:"w-full h-[72px] flex items-center justify-center",children:a.jsx(eme,{})})}),n&&!l&&a.jsx("div",{className:"fixed bottom-24 right-6 md:bottom-8 md:right-8 z-40",children:a.jsx(tme,{})})]})})]})]})}function Rme({children:t}){const{isAuthenticated:r,isLoading:e,user:n}=Ql();return console.log(" [ProtectedRoute]  :",{isLoading:e,isAuthenticated:r,hasUser:!!n,userEmail:n?.email||" ",timestamp:new Date().toISOString()}),e?(console.log(" [ProtectedRoute]  ..."),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center p-8 bg-card rounded-lg border shadow-sm",children:[a.jsx(Zr,{className:"h-10 w-10 animate-spin text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"   ..."}),a.jsx(Ie,{variant:"ghost",size:"sm",className:"mt-4 text-xs opacity-50 hover:opacity-100",onClick:()=>window.location.reload(),children:"  "})]})})):!r||!n?["/check","/permissions","/setup","/login","/verify-email","/reset-password"].includes(window.location.pathname)?(console.log(" [ProtectedRoute]    "),a.jsx(a.Fragment,{children:t})):(console.log(" [ProtectedRoute]     /login"),a.jsx(wy,{to:"/login"})):(console.log(" [ProtectedRoute]     :",n.email),a.jsx(a.Fragment,{children:t}))}const i8=({variant:t,size:r})=>{const e=r==="sm"?"h-4 w-4":r==="md"?"h-6 w-6":"h-8 w-8",n={default:a.jsx(Zr,{className:Ae(e,"animate-spin text-blue-500")}),database:a.jsx(za,{className:Ae(e,"animate-pulse text-green-500")}),processing:a.jsx(xo,{className:Ae(e,"animate-bounce text-orange-500")})};return n[t]||n.default},Dme=({step:t,index:r})=>{const e=()=>{switch(t.status){case"completed":return a.jsx(zl,{className:"h-4 w-4 text-green-500"});case"loading":return a.jsx(Zr,{className:"h-4 w-4 animate-spin text-blue-500"});case"error":return a.jsx($a,{className:"h-4 w-4 text-red-500"});default:return a.jsx(ns,{className:"h-4 w-4 text-gray-400"})}},n=()=>t.startTime&&t.status==="loading"?`${Math.floor((Date.now()-t.startTime)/1e3)}`:null;return a.jsxs(kn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:Ae("flex items-center gap-3 p-3 rounded-lg transition-all duration-300",t.status==="loading"&&"bg-blue-50 border border-blue-200",t.status==="completed"&&"bg-green-50 border border-green-200",t.status==="error"&&"bg-red-50 border border-red-200",t.status==="pending"&&"bg-gray-50 border border-gray-200"),children:[a.jsx("div",{className:"flex-shrink-0",children:e()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:Ae("text-sm font-medium truncate",t.status==="loading"&&"text-blue-700",t.status==="completed"&&"text-green-700",t.status==="error"&&"text-red-700",t.status==="pending"&&"text-gray-600"),children:t.label}),n()&&a.jsx("span",{className:"text-xs text-blue-600 font-mono",children:n()})]}),t.progress!==void 0&&t.status==="loading"&&a.jsx(kn.div,{className:"mt-2 bg-gray-200 rounded-full h-1.5 overflow-hidden",initial:{scaleX:0},animate:{scaleX:1},children:a.jsx(kn.div,{className:"bg-blue-500 h-full rounded-full",initial:{width:0},animate:{width:`${t.progress}%`},transition:{duration:.5}})})]})]})},Ime=({progress:t,size:r})=>{const e=2*Math.PI*(r/2-8),n=e,s=e-t/100*e;return a.jsxs("div",{className:"relative",children:[a.jsxs("svg",{className:"transform -rotate-90",width:r,height:r,children:[a.jsx("circle",{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-200"}),a.jsx(kn.circle,{cx:r/2,cy:r/2,r:r/2-8,stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:n,strokeDashoffset:s,strokeLinecap:"round",className:"text-blue-500",initial:{strokeDashoffset:e},animate:{strokeDashoffset:s},transition:{duration:.5,ease:"easeInOut"}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round(t),"%"]})})]})},c$=({isLoading:t,steps:r=[],message:e=" ...",progress:n,showSteps:s=!1,size:i="md",variant:o="default",onComplete:c,estimatedTime:u,className:l})=>{const[d,p]=Xt.useState(0),f=Xt.useRef(Date.now());if(Xt.useEffect(()=>{if(!t)return;f.current=Date.now();const y=setInterval(()=>{p(Math.floor((Date.now()-f.current)/1e3))},1e3);return()=>clearInterval(y)},[t]),Xt.useEffect(()=>{!t&&d>0&&(c?.(),p(0))},[t,d,c]),!t)return null;const h=()=>a.jsxs(kn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Ae("flex items-center gap-3",l),children:[a.jsx(i8,{variant:o,size:i}),a.jsx("span",{className:"text-sm text-gray-600",children:e})]}),g=()=>a.jsxs(kn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:Ae("bg-white rounded-xl shadow-lg border border-gray-200 p-6 max-w-md mx-auto",l),children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:n!==void 0?a.jsx(Ime,{progress:n,size:80}):a.jsx(i8,{variant:o,size:"lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:e}),a.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:[" : ",d,""]}),u&&a.jsxs("span",{children:[": ",u,""]})]})]}),s&&r.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" :"}),r.map((y,m)=>a.jsx(Dme,{step:y,index:m},y.id))]}),n!==void 0&&!s&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[Math.round(n),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:a.jsx(kn.div,{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]});return o==="minimal"?h():a.jsx(ym,{children:t&&a.jsx(kn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:g()})})};function ea({children:t,requiredRole:r="admin"}){const{user:e,isAuthenticated:n,isLoading:s}=Ql();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(c$,{})}):n?!e||e.role!==r?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20",children:a.jsxs("div",{className:"max-w-lg w-full",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:a.jsx(rH,{className:"h-12 w-12 text-white",strokeWidth:1.5})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"   "}),a.jsx("p",{className:"text-white/90 text-sm",children:"      "})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:" "}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:" "}),a.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:e?.role==="user"?" ":e?.role||" "})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"        "})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[a.jsxs("a",{href:"/",className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"  "]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"flex-1 inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 font-medium border border-gray-300 dark:border-gray-600",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]})]})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"             "})})]})}):a.jsx(a.Fragment,{children:t}):a.jsx(wy,{to:"/login"})}function Ome({children:t}){const{user:r,isLoading:e}=Ql();return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsx(c$,{isLoading:!0,message:"    ..."})}):r?r.emailVerified!==!0?(console.log(" [EmailVerificationGuard]        ",{emailVerified:r.emailVerified}),a.jsx(wy,{to:`/verify-email?userId=${r.id}&email=${encodeURIComponent(r.email)}`})):a.jsx(a.Fragment,{children:t}):a.jsx(wy,{to:"/login"})}function Fme(t){return new Blob([JSON.stringify(t)]).size}async function Lme(t){try{const e=(await bh(t)).reduce((s,i)=>s+Fme(i),0),n=Math.round(e*.75);return{originalSize:e,compressedSize:n,ratio:e>0?n/e*100:0,savedBytes:e-n}}catch{return{originalSize:0,compressedSize:0,ratio:0,savedBytes:0}}}async function Bme(){try{const t=["projects","workers","materials","suppliers","workerAttendance","materialPurchases","transportationExpenses","fundTransfers","workerTransfers","workerMiscExpenses","wells","projectTypes"];let r=0;for(const s of t){const i=await Lme(s);r+=i.originalSize}const e=50*1024*1024,n=r/e*100;return{used:r,percentage:Math.round(n)}}catch{return{used:0,percentage:0}}}async function $me(){return(await Oh()).length}async function zme(){const t=await Oh(),r=t.filter(i=>i.action==="create").length,e=t.filter(i=>i.action==="update").length,n=t.filter(i=>i.action==="delete").length,s=t.filter(i=>i.retries>0).length;return{totalPending:t.length,creates:r,updates:e,deletes:n,failedOperations:s,oldestOperation:t.length>0?new Date(t[0].timestamp):null}}async function Vme(){const t=Em(),r=await Bme(),e=await $me(),n=await zme();return{timestamp:Date.now(),syncStatus:{isSyncing:t.isSyncing,lastSync:t.lastSync,pendingCount:t.pendingCount,isOnline:t.isOnline},storage:{used:r.used,usagePercentage:r.percentage},operations:{pending:e,creates:n.creates,updates:n.updates,deletes:n.deletes,failedOps:n.failedOperations},timing:{lastSyncDuration:void 0}}}let o8=null;function Ume(t=6e4){if(o8){console.warn(" [PerformanceMonitor]   ");return}o8=setInterval(async()=>{const r=await Vme();r.storage.usagePercentage>80&&console.warn(` [PerformanceMonitor]   : ${r.storage.usagePercentage}%`),r.operations.failedOps>5&&console.warn(` [PerformanceMonitor]  : ${r.operations.failedOps}`)},t),console.log(" [PerformanceMonitor]   ")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Wme=4,l8=0,c8=1,qme=2;function Lh(t){let r=t.length;for(;--r>=0;)t[r]=0}const Hme=0,u$=1,Kme=2,Gme=3,Xme=258,Q3=29,k0=256,Am=k0+1+Q3,Mf=30,Y3=19,d$=2*Am+1,Vu=15,ew=16,Qme=7,Z3=256,f$=16,h$=17,p$=18,Y2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yme=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),m$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zme=512,Tl=new Array((Am+2)*2);Lh(Tl);const Hp=new Array(Mf*2);Lh(Hp);const Pm=new Array(Zme);Lh(Pm);const Mm=new Array(Xme-Gme+1);Lh(Mm);const J3=new Array(Q3);Lh(J3);const fb=new Array(Mf);Lh(fb);function tw(t,r,e,n,s){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let g$,y$,b$;function rw(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}const x$=t=>t<256?Pm[t]:Pm[256+(t>>>7)],Rm=(t,r)=>{t.pending_buf[t.pending++]=r&255,t.pending_buf[t.pending++]=r>>>8&255},ni=(t,r,e)=>{t.bi_valid>ew-e?(t.bi_buf|=r<<t.bi_valid&65535,Rm(t,t.bi_buf),t.bi_buf=r>>ew-t.bi_valid,t.bi_valid+=e-ew):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},Vo=(t,r,e)=>{ni(t,e[r*2],e[r*2+1])},v$=(t,r)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--r>0);return e>>>1},Jme=t=>{t.bi_valid===16?(Rm(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},e0e=(t,r)=>{const e=r.dyn_tree,n=r.max_code,s=r.stat_desc.static_tree,i=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,c=r.stat_desc.extra_base,u=r.stat_desc.max_length;let l,d,p,f,h,g,y=0;for(f=0;f<=Vu;f++)t.bl_count[f]=0;for(e[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<d$;l++)d=t.heap[l],f=e[e[d*2+1]*2+1]+1,f>u&&(f=u,y++),e[d*2+1]=f,!(d>n)&&(t.bl_count[f]++,h=0,d>=c&&(h=o[d-c]),g=e[d*2],t.opt_len+=g*(f+h),i&&(t.static_len+=g*(s[d*2+1]+h)));if(y!==0){do{for(f=u-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,y-=2}while(y>0);for(f=u;f!==0;f--)for(d=t.bl_count[f];d!==0;)p=t.heap[--l],!(p>n)&&(e[p*2+1]!==f&&(t.opt_len+=(f-e[p*2+1])*e[p*2],e[p*2+1]=f),d--)}},w$=(t,r,e)=>{const n=new Array(Vu+1);let s=0,i,o;for(i=1;i<=Vu;i++)s=s+e[i-1]<<1,n[i]=s;for(o=0;o<=r;o++){let c=t[o*2+1];c!==0&&(t[o*2]=v$(n[c]++,c))}},t0e=()=>{let t,r,e,n,s;const i=new Array(Vu+1);for(e=0,n=0;n<Q3-1;n++)for(J3[n]=e,t=0;t<1<<Y2[n];t++)Mm[e++]=n;for(Mm[e-1]=n,s=0,n=0;n<16;n++)for(fb[n]=s,t=0;t<1<<vy[n];t++)Pm[s++]=n;for(s>>=7;n<Mf;n++)for(fb[n]=s<<7,t=0;t<1<<vy[n]-7;t++)Pm[256+s++]=n;for(r=0;r<=Vu;r++)i[r]=0;for(t=0;t<=143;)Tl[t*2+1]=8,t++,i[8]++;for(;t<=255;)Tl[t*2+1]=9,t++,i[9]++;for(;t<=279;)Tl[t*2+1]=7,t++,i[7]++;for(;t<=287;)Tl[t*2+1]=8,t++,i[8]++;for(w$(Tl,Am+1,i),t=0;t<Mf;t++)Hp[t*2+1]=5,Hp[t*2]=v$(t,5);g$=new tw(Tl,Y2,k0+1,Am,Vu),y$=new tw(Hp,vy,0,Mf,Vu),b$=new tw(new Array(0),Yme,0,Y3,Qme)},_$=t=>{let r;for(r=0;r<Am;r++)t.dyn_ltree[r*2]=0;for(r=0;r<Mf;r++)t.dyn_dtree[r*2]=0;for(r=0;r<Y3;r++)t.bl_tree[r*2]=0;t.dyn_ltree[Z3*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},k$=t=>{t.bi_valid>8?Rm(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},u8=(t,r,e,n)=>{const s=r*2,i=e*2;return t[s]<t[i]||t[s]===t[i]&&n[r]<=n[e]},nw=(t,r,e)=>{const n=t.heap[e];let s=e<<1;for(;s<=t.heap_len&&(s<t.heap_len&&u8(r,t.heap[s+1],t.heap[s],t.depth)&&s++,!u8(r,n,t.heap[s],t.depth));)t.heap[e]=t.heap[s],e=s,s<<=1;t.heap[e]=n},d8=(t,r,e)=>{let n,s,i=0,o,c;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+i++]&255,n+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],n===0?Vo(t,s,r):(o=Mm[s],Vo(t,o+k0+1,r),c=Y2[o],c!==0&&(s-=J3[o],ni(t,s,c)),n--,o=x$(n),Vo(t,o,e),c=vy[o],c!==0&&(n-=fb[o],ni(t,n,c)));while(i<t.sym_next);Vo(t,Z3,r)},Z2=(t,r)=>{const e=r.dyn_tree,n=r.stat_desc.static_tree,s=r.stat_desc.has_stree,i=r.stat_desc.elems;let o,c,u=-1,l;for(t.heap_len=0,t.heap_max=d$,o=0;o<i;o++)e[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):e[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,e[l*2]=1,t.depth[l]=0,t.opt_len--,s&&(t.static_len-=n[l*2+1]);for(r.max_code=u,o=t.heap_len>>1;o>=1;o--)nw(t,e,o);l=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],nw(t,e,1),c=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=c,e[l*2]=e[o*2]+e[c*2],t.depth[l]=(t.depth[o]>=t.depth[c]?t.depth[o]:t.depth[c])+1,e[o*2+1]=e[c*2+1]=l,t.heap[1]=l++,nw(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],e0e(t,r),w$(e,u,t.bl_count)},f8=(t,r,e)=>{let n,s=-1,i,o=r[1],c=0,u=7,l=4;for(o===0&&(u=138,l=3),r[(e+1)*2+1]=65535,n=0;n<=e;n++)i=o,o=r[(n+1)*2+1],!(++c<u&&i===o)&&(c<l?t.bl_tree[i*2]+=c:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[f$*2]++):c<=10?t.bl_tree[h$*2]++:t.bl_tree[p$*2]++,c=0,s=i,o===0?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))},h8=(t,r,e)=>{let n,s=-1,i,o=r[1],c=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=e;n++)if(i=o,o=r[(n+1)*2+1],!(++c<u&&i===o)){if(c<l)do Vo(t,i,t.bl_tree);while(--c!==0);else i!==0?(i!==s&&(Vo(t,i,t.bl_tree),c--),Vo(t,f$,t.bl_tree),ni(t,c-3,2)):c<=10?(Vo(t,h$,t.bl_tree),ni(t,c-3,3)):(Vo(t,p$,t.bl_tree),ni(t,c-11,7));c=0,s=i,o===0?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}},r0e=t=>{let r;for(f8(t,t.dyn_ltree,t.l_desc.max_code),f8(t,t.dyn_dtree,t.d_desc.max_code),Z2(t,t.bl_desc),r=Y3-1;r>=3&&t.bl_tree[m$[r]*2+1]===0;r--);return t.opt_len+=3*(r+1)+5+5+4,r},n0e=(t,r,e,n)=>{let s;for(ni(t,r-257,5),ni(t,e-1,5),ni(t,n-4,4),s=0;s<n;s++)ni(t,t.bl_tree[m$[s]*2+1],3);h8(t,t.dyn_ltree,r-1),h8(t,t.dyn_dtree,e-1)},s0e=t=>{let r=4093624447,e;for(e=0;e<=31;e++,r>>>=1)if(r&1&&t.dyn_ltree[e*2]!==0)return l8;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return c8;for(e=32;e<k0;e++)if(t.dyn_ltree[e*2]!==0)return c8;return l8};let p8=!1;const a0e=t=>{p8||(t0e(),p8=!0),t.l_desc=new rw(t.dyn_ltree,g$),t.d_desc=new rw(t.dyn_dtree,y$),t.bl_desc=new rw(t.bl_tree,b$),t.bi_buf=0,t.bi_valid=0,_$(t)},j$=(t,r,e,n)=>{ni(t,(Hme<<1)+(n?1:0),3),k$(t),Rm(t,e),Rm(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e},i0e=t=>{ni(t,u$<<1,3),Vo(t,Z3,Tl),Jme(t)},o0e=(t,r,e,n)=>{let s,i,o=0;t.level>0?(t.strm.data_type===qme&&(t.strm.data_type=s0e(t)),Z2(t,t.l_desc),Z2(t,t.d_desc),o=r0e(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=e+5,e+4<=s&&r!==-1?j$(t,r,e,n):t.strategy===Wme||i===s?(ni(t,(u$<<1)+(n?1:0),3),d8(t,Tl,Hp)):(ni(t,(Kme<<1)+(n?1:0),3),n0e(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),d8(t,t.dyn_ltree,t.dyn_dtree)),_$(t),n&&k$(t)},l0e=(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,r===0?t.dyn_ltree[e*2]++:(t.matches++,r--,t.dyn_ltree[(Mm[e]+k0+1)*2]++,t.dyn_dtree[x$(r)*2]++),t.sym_next===t.sym_end);var c0e=a0e,u0e=j$,d0e=o0e,f0e=l0e,h0e=i0e,p0e={_tr_init:c0e,_tr_stored_block:u0e,_tr_flush_block:d0e,_tr_tally:f0e,_tr_align:h0e};const m0e=(t,r,e,n)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do s=s+r[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Dm=m0e;const g0e=()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;r[e]=t}return r},y0e=new Uint32Array(g0e()),b0e=(t,r,e,n)=>{const s=y0e,i=n+e;t^=-1;for(let o=n;o<i;o++)t=t>>>8^s[(t^r[o])&255];return t^-1};var Vs=b0e,yd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:x0e,_tr_stored_block:J2,_tr_flush_block:v0e,_tr_tally:Vc,_tr_align:w0e}=p0e,{Z_NO_FLUSH:Uc,Z_PARTIAL_FLUSH:_0e,Z_FULL_FLUSH:k0e,Z_FINISH:Hi,Z_BLOCK:m8,Z_OK:na,Z_STREAM_END:g8,Z_STREAM_ERROR:tl,Z_DATA_ERROR:j0e,Z_BUF_ERROR:sw,Z_DEFAULT_COMPRESSION:S0e,Z_FILTERED:N0e,Z_HUFFMAN_ONLY:Wg,Z_RLE:C0e,Z_FIXED:T0e,Z_DEFAULT_STRATEGY:E0e,Z_UNKNOWN:A0e,Z_DEFLATED:xx}=j0,P0e=9,M0e=15,R0e=8,D0e=29,I0e=256,e_=I0e+1+D0e,O0e=30,F0e=19,L0e=2*e_+1,B0e=15,Qr=3,Rc=258,rl=Rc+Qr+1,$0e=32,ph=42,ek=57,t_=69,r_=73,n_=91,s_=103,Uu=113,Dp=666,Ba=1,Bh=2,bd=3,$h=4,z0e=3,Wu=(t,r)=>(t.msg=yd[r],r),y8=t=>t*2-(t>4?9:0),_c=t=>{let r=t.length;for(;--r>=0;)t[r]=0},V0e=t=>{let r,e,n,s=t.w_size;r=t.hash_size,n=r;do e=t.head[--n],t.head[n]=e>=s?e-s:0;while(--r);r=s,n=r;do e=t.prev[--n],t.prev[n]=e>=s?e-s:0;while(--r)};let U0e=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask,Wc=U0e;const mi=t=>{const r=t.state;let e=r.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,r.pending===0&&(r.pending_out=0))},vi=(t,r)=>{v0e(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,mi(t.strm)},un=(t,r)=>{t.pending_buf[t.pending++]=r},Np=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=r&255},a_=(t,r,e,n)=>{let s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,r.set(t.input.subarray(t.next_in,t.next_in+s),e),t.state.wrap===1?t.adler=Dm(t.adler,r,s,e):t.state.wrap===2&&(t.adler=Vs(t.adler,r,s,e)),t.next_in+=s,t.total_in+=s,s)},S$=(t,r)=>{let e=t.max_chain_length,n=t.strstart,s,i,o=t.prev_length,c=t.nice_match;const u=t.strstart>t.w_size-rl?t.strstart-(t.w_size-rl):0,l=t.window,d=t.w_mask,p=t.prev,f=t.strstart+Rc;let h=l[n+o-1],g=l[n+o];t.prev_length>=t.good_match&&(e>>=2),c>t.lookahead&&(c=t.lookahead);do if(s=r,!(l[s+o]!==g||l[s+o-1]!==h||l[s]!==l[n]||l[++s]!==l[n+1])){n+=2,s++;do;while(l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&l[++n]===l[++s]&&n<f);if(i=Rc-(f-n),n=f-Rc,i>o){if(t.match_start=r,o=i,i>=c)break;h=l[n+o-1],g=l[n+o]}}while((r=p[r&d])>u&&--e!==0);return o<=t.lookahead?o:t.lookahead},mh=t=>{const r=t.w_size;let e,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-rl)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),V0e(t),n+=r),t.strm.avail_in===0)break;if(e=a_(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=Qr)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Wc(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Wc(t,t.ins_h,t.window[s+Qr-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Qr)););}while(t.lookahead<rl&&t.strm.avail_in!==0)},N$=(t,r)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,s,i,o=0,c=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,n>s+t.strm.avail_in&&(n=s+t.strm.avail_in),n>i&&(n=i),n<e&&(n===0&&r!==Hi||r===Uc||n!==s+t.strm.avail_in)))break;o=r===Hi&&n===s+t.strm.avail_in?1:0,J2(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,mi(t.strm),s&&(s>n&&(s=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,n-=s),n&&(a_(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return c-=t.strm.avail_in,c&&(c>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=c&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-c,t.strm.next_in),t.strstart),t.strstart+=c,t.insert+=c>t.w_size-t.insert?t.w_size-t.insert:c),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?$h:r!==Uc&&r!==Hi&&t.strm.avail_in===0&&t.strstart===t.block_start?Bh:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(a_(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,e=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=e||(s||r===Hi)&&r!==Uc&&t.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,o=r===Hi&&t.strm.avail_in===0&&n===s?1:0,J2(t,t.block_start,n,o),t.block_start+=n,mi(t.strm)),o?bd:Ba)},aw=(t,r)=>{let e,n;for(;;){if(t.lookahead<rl){if(mh(t),t.lookahead<rl&&r===Uc)return Ba;if(t.lookahead===0)break}if(e=0,t.lookahead>=Qr&&(t.ins_h=Wc(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-rl&&(t.match_length=S$(t,e)),t.match_length>=Qr)if(n=Vc(t,t.strstart-t.match_start,t.match_length-Qr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Qr){t.match_length--;do t.strstart++,t.ins_h=Wc(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Wc(t,t.ins_h,t.window[t.strstart+1]);else n=Vc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(vi(t,!1),t.strm.avail_out===0))return Ba}return t.insert=t.strstart<Qr-1?t.strstart:Qr-1,r===Hi?(vi(t,!0),t.strm.avail_out===0?bd:$h):t.sym_next&&(vi(t,!1),t.strm.avail_out===0)?Ba:Bh},uf=(t,r)=>{let e,n,s;for(;;){if(t.lookahead<rl){if(mh(t),t.lookahead<rl&&r===Uc)return Ba;if(t.lookahead===0)break}if(e=0,t.lookahead>=Qr&&(t.ins_h=Wc(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Qr-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-rl&&(t.match_length=S$(t,e),t.match_length<=5&&(t.strategy===N0e||t.match_length===Qr&&t.strstart-t.match_start>4096)&&(t.match_length=Qr-1)),t.prev_length>=Qr&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Qr,n=Vc(t,t.strstart-1-t.prev_match,t.prev_length-Qr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=Wc(t,t.ins_h,t.window[t.strstart+Qr-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Qr-1,t.strstart++,n&&(vi(t,!1),t.strm.avail_out===0))return Ba}else if(t.match_available){if(n=Vc(t,0,t.window[t.strstart-1]),n&&vi(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ba}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Vc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Qr-1?t.strstart:Qr-1,r===Hi?(vi(t,!0),t.strm.avail_out===0?bd:$h):t.sym_next&&(vi(t,!1),t.strm.avail_out===0)?Ba:Bh},W0e=(t,r)=>{let e,n,s,i;const o=t.window;for(;;){if(t.lookahead<=Rc){if(mh(t),t.lookahead<=Rc&&r===Uc)return Ba;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Qr&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){i=t.strstart+Rc;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<i);t.match_length=Rc-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Qr?(e=Vc(t,1,t.match_length-Qr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Vc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(vi(t,!1),t.strm.avail_out===0))return Ba}return t.insert=0,r===Hi?(vi(t,!0),t.strm.avail_out===0?bd:$h):t.sym_next&&(vi(t,!1),t.strm.avail_out===0)?Ba:Bh},q0e=(t,r)=>{let e;for(;;){if(t.lookahead===0&&(mh(t),t.lookahead===0)){if(r===Uc)return Ba;break}if(t.match_length=0,e=Vc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(vi(t,!1),t.strm.avail_out===0))return Ba}return t.insert=0,r===Hi?(vi(t,!0),t.strm.avail_out===0?bd:$h):t.sym_next&&(vi(t,!1),t.strm.avail_out===0)?Ba:Bh};function Io(t,r,e,n,s){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=s}const Ip=[new Io(0,0,0,0,N$),new Io(4,4,8,4,aw),new Io(4,5,16,8,aw),new Io(4,6,32,32,aw),new Io(4,4,16,16,uf),new Io(8,16,32,32,uf),new Io(8,16,128,128,uf),new Io(8,32,128,256,uf),new Io(32,128,258,1024,uf),new Io(32,258,258,4096,uf)],H0e=t=>{t.window_size=2*t.w_size,_c(t.head),t.max_lazy_match=Ip[t.level].max_lazy,t.good_match=Ip[t.level].good_length,t.nice_match=Ip[t.level].nice_length,t.max_chain_length=Ip[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Qr-1,t.match_available=0,t.ins_h=0};function K0e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xx,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(L0e*2),this.dyn_dtree=new Uint16Array((2*O0e+1)*2),this.bl_tree=new Uint16Array((2*F0e+1)*2),_c(this.dyn_ltree),_c(this.dyn_dtree),_c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(B0e+1),this.heap=new Uint16Array(2*e_+1),_c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*e_+1),_c(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const S0=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.status!==ph&&r.status!==ek&&r.status!==t_&&r.status!==r_&&r.status!==n_&&r.status!==s_&&r.status!==Uu&&r.status!==Dp?1:0},C$=t=>{if(S0(t))return Wu(t,tl);t.total_in=t.total_out=0,t.data_type=A0e;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?ek:r.wrap?ph:Uu,t.adler=r.wrap===2?0:1,r.last_flush=-2,x0e(r),na},T$=t=>{const r=C$(t);return r===na&&H0e(t.state),r},G0e=(t,r)=>S0(t)||t.state.wrap!==2?tl:(t.state.gzhead=r,na),E$=(t,r,e,n,s,i)=>{if(!t)return tl;let o=1;if(r===S0e&&(r=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>P0e||e!==xx||n<8||n>15||r<0||r>9||i<0||i>T0e||n===8&&o!==1)return Wu(t,tl);n===8&&(n=9);const c=new K0e;return t.state=c,c.strm=t,c.status=ph,c.wrap=o,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+Qr-1)/Qr),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=r,c.strategy=i,c.method=e,T$(t)},X0e=(t,r)=>E$(t,r,xx,M0e,R0e,E0e),Q0e=(t,r)=>{if(S0(t)||r>m8||r<0)return t?Wu(t,tl):tl;const e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===Dp&&r!==Hi)return Wu(t,t.avail_out===0?sw:tl);const n=e.last_flush;if(e.last_flush=r,e.pending!==0){if(mi(t),t.avail_out===0)return e.last_flush=-1,na}else if(t.avail_in===0&&y8(r)<=y8(n)&&r!==Hi)return Wu(t,sw);if(e.status===Dp&&t.avail_in!==0)return Wu(t,sw);if(e.status===ph&&e.wrap===0&&(e.status=Uu),e.status===ph){let s=xx+(e.w_bits-8<<4)<<8,i=-1;if(e.strategy>=Wg||e.level<2?i=0:e.level<6?i=1:e.level===6?i=2:i=3,s|=i<<6,e.strstart!==0&&(s|=$0e),s+=31-s%31,Np(e,s),e.strstart!==0&&(Np(e,t.adler>>>16),Np(e,t.adler&65535)),t.adler=1,e.status=Uu,mi(t),e.pending!==0)return e.last_flush=-1,na}if(e.status===ek){if(t.adler=0,un(e,31),un(e,139),un(e,8),e.gzhead)un(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),un(e,e.gzhead.time&255),un(e,e.gzhead.time>>8&255),un(e,e.gzhead.time>>16&255),un(e,e.gzhead.time>>24&255),un(e,e.level===9?2:e.strategy>=Wg||e.level<2?4:0),un(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(un(e,e.gzhead.extra.length&255),un(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=Vs(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=t_;else if(un(e,0),un(e,0),un(e,0),un(e,0),un(e,0),un(e,e.level===9?2:e.strategy>=Wg||e.level<2?4:0),un(e,z0e),e.status=Uu,mi(t),e.pending!==0)return e.last_flush=-1,na}if(e.status===t_){if(e.gzhead.extra){let s=e.pending,i=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+i>e.pending_buf_size;){let c=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+c),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=c,mi(t),e.pending!==0)return e.last_flush=-1,na;s=0,i-=c}let o=new Uint8Array(e.gzhead.extra);e.pending_buf.set(o.subarray(e.gzindex,e.gzindex+i),e.pending),e.pending+=i,e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=r_}if(e.status===r_){if(e.gzhead.name){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s)),mi(t),e.pending!==0)return e.last_flush=-1,na;s=0}e.gzindex<e.gzhead.name.length?i=e.gzhead.name.charCodeAt(e.gzindex++)&255:i=0,un(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=n_}if(e.status===n_){if(e.gzhead.comment){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s)),mi(t),e.pending!==0)return e.last_flush=-1,na;s=0}e.gzindex<e.gzhead.comment.length?i=e.gzhead.comment.charCodeAt(e.gzindex++)&255:i=0,un(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(t.adler=Vs(t.adler,e.pending_buf,e.pending-s,s))}e.status=s_}if(e.status===s_){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(mi(t),e.pending!==0))return e.last_flush=-1,na;un(e,t.adler&255),un(e,t.adler>>8&255),t.adler=0}if(e.status=Uu,mi(t),e.pending!==0)return e.last_flush=-1,na}if(t.avail_in!==0||e.lookahead!==0||r!==Uc&&e.status!==Dp){let s=e.level===0?N$(e,r):e.strategy===Wg?q0e(e,r):e.strategy===C0e?W0e(e,r):Ip[e.level].func(e,r);if((s===bd||s===$h)&&(e.status=Dp),s===Ba||s===bd)return t.avail_out===0&&(e.last_flush=-1),na;if(s===Bh&&(r===_0e?w0e(e):r!==m8&&(J2(e,0,0,!1),r===k0e&&(_c(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),mi(t),t.avail_out===0))return e.last_flush=-1,na}return r!==Hi?na:e.wrap<=0?g8:(e.wrap===2?(un(e,t.adler&255),un(e,t.adler>>8&255),un(e,t.adler>>16&255),un(e,t.adler>>24&255),un(e,t.total_in&255),un(e,t.total_in>>8&255),un(e,t.total_in>>16&255),un(e,t.total_in>>24&255)):(Np(e,t.adler>>>16),Np(e,t.adler&65535)),mi(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?na:g8)},Y0e=t=>{if(S0(t))return tl;const r=t.state.status;return t.state=null,r===Uu?Wu(t,j0e):na},Z0e=(t,r)=>{let e=r.length;if(S0(t))return tl;const n=t.state,s=n.wrap;if(s===2||s===1&&n.status!==ph||n.lookahead)return tl;if(s===1&&(t.adler=Dm(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){s===0&&(_c(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(r.subarray(e-n.w_size,e),0),r=u,e=n.w_size}const i=t.avail_in,o=t.next_in,c=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,mh(n);n.lookahead>=Qr;){let u=n.strstart,l=n.lookahead-(Qr-1);do n.ins_h=Wc(n,n.ins_h,n.window[u+Qr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=Qr-1,mh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Qr-1,n.match_available=0,t.next_in=o,t.input=c,t.avail_in=i,n.wrap=s,na};var J0e=X0e,ege=E$,tge=T$,rge=C$,nge=G0e,sge=Q0e,age=Y0e,ige=Z0e,oge="pako deflate (from Nodeca project)",Kp={deflateInit:J0e,deflateInit2:ege,deflateReset:tge,deflateResetKeep:rge,deflateSetHeader:nge,deflate:sge,deflateEnd:age,deflateSetDictionary:ige,deflateInfo:oge};const lge=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var cge=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)lge(e,n)&&(t[n]=e[n])}}return t},uge=t=>{let r=0;for(let n=0,s=t.length;n<s;n++)r+=t[n].length;const e=new Uint8Array(r);for(let n=0,s=0,i=t.length;n<i;n++){let o=t[n];e.set(o,s),s+=o.length}return e},vx={assign:cge,flattenChunks:uge};let A$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A$=!1}const Im=new Uint8Array(256);for(let t=0;t<256;t++)Im[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Im[254]=Im[254]=1;var dge=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,e,n,s,i,o=t.length,c=0;for(s=0;s<o;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(c),i=0,s=0;i<c;s++)e=t.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?r[i++]=e:e<2048?(r[i++]=192|e>>>6,r[i++]=128|e&63):e<65536?(r[i++]=224|e>>>12,r[i++]=128|e>>>6&63,r[i++]=128|e&63):(r[i++]=240|e>>>18,r[i++]=128|e>>>12&63,r[i++]=128|e>>>6&63,r[i++]=128|e&63);return r};const fge=(t,r)=>{if(r<65534&&t.subarray&&A$)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e};var hge=(t,r)=>{const e=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let n,s;const i=new Array(e*2);for(s=0,n=0;n<e;){let o=t[n++];if(o<128){i[s++]=o;continue}let c=Im[o];if(c>4){i[s++]=65533,n+=c-1;continue}for(o&=c===2?31:c===3?15:7;c>1&&n<e;)o=o<<6|t[n++]&63,c--;if(c>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return fge(i,s)},pge=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let e=r-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?r:e+Im[t[e]]>r?e:r},Om={string2buf:dge,buf2string:hge,utf8border:pge};function mge(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var P$=mge;const M$=Object.prototype.toString,{Z_NO_FLUSH:gge,Z_SYNC_FLUSH:yge,Z_FULL_FLUSH:bge,Z_FINISH:xge,Z_OK:hb,Z_STREAM_END:vge,Z_DEFAULT_COMPRESSION:wge,Z_DEFAULT_STRATEGY:_ge,Z_DEFLATED:kge}=j0;function N0(t){this.options=vx.assign({level:wge,method:kge,chunkSize:16384,windowBits:15,memLevel:8,strategy:_ge},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P$,this.strm.avail_out=0;let e=Kp.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==hb)throw new Error(yd[e]);if(r.header&&Kp.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=Om.string2buf(r.dictionary):M$.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,e=Kp.deflateSetDictionary(this.strm,n),e!==hb)throw new Error(yd[e]);this._dict_set=!0}}N0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(r===~~r?i=r:i=r===!0?xge:gge,typeof t=="string"?e.input=Om.string2buf(t):M$.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(i===yge||i===bge)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=Kp.deflate(e,i),s===vge)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=Kp.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===hb;if(e.avail_out===0){this.onData(e.output);continue}if(i>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};N0.prototype.onData=function(t){this.chunks.push(t)};N0.prototype.onEnd=function(t){t===hb&&(this.result=vx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tk(t,r){const e=new N0(r);if(e.push(t,!0),e.err)throw e.msg||yd[e.err];return e.result}function jge(t,r){return r=r||{},r.raw=!0,tk(t,r)}function Sge(t,r){return r=r||{},r.gzip=!0,tk(t,r)}var Nge=N0,Cge=tk,Tge=jge,Ege=Sge,Age={Deflate:Nge,deflate:Cge,deflateRaw:Tge,gzip:Ege};const qg=16209,Pge=16191;var Mge=function(r,e){let n,s,i,o,c,u,l,d,p,f,h,g,y,m,v,x,S,C,A,B,q,D,I,U;const K=r.state;n=r.next_in,I=r.input,s=n+(r.avail_in-5),i=r.next_out,U=r.output,o=i-(e-r.avail_out),c=i+(r.avail_out-257),u=K.dmax,l=K.wsize,d=K.whave,p=K.wnext,f=K.window,h=K.hold,g=K.bits,y=K.lencode,m=K.distcode,v=(1<<K.lenbits)-1,x=(1<<K.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),S=y[h&v];t:for(;;){if(C=S>>>24,h>>>=C,g-=C,C=S>>>16&255,C===0)U[i++]=S&65535;else if(C&16){A=S&65535,C&=15,C&&(g<C&&(h+=I[n++]<<g,g+=8),A+=h&(1<<C)-1,h>>>=C,g-=C),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),S=m[h&x];r:for(;;){if(C=S>>>24,h>>>=C,g-=C,C=S>>>16&255,C&16){if(B=S&65535,C&=15,g<C&&(h+=I[n++]<<g,g+=8,g<C&&(h+=I[n++]<<g,g+=8)),B+=h&(1<<C)-1,B>u){r.msg="invalid distance too far back",K.mode=qg;break e}if(h>>>=C,g-=C,C=i-o,B>C){if(C=B-C,C>d&&K.sane){r.msg="invalid distance too far back",K.mode=qg;break e}if(q=0,D=f,p===0){if(q+=l-C,C<A){A-=C;do U[i++]=f[q++];while(--C);q=i-B,D=U}}else if(p<C){if(q+=l+p-C,C-=p,C<A){A-=C;do U[i++]=f[q++];while(--C);if(q=0,p<A){C=p,A-=C;do U[i++]=f[q++];while(--C);q=i-B,D=U}}}else if(q+=p-C,C<A){A-=C;do U[i++]=f[q++];while(--C);q=i-B,D=U}for(;A>2;)U[i++]=D[q++],U[i++]=D[q++],U[i++]=D[q++],A-=3;A&&(U[i++]=D[q++],A>1&&(U[i++]=D[q++]))}else{q=i-B;do U[i++]=U[q++],U[i++]=U[q++],U[i++]=U[q++],A-=3;while(A>2);A&&(U[i++]=U[q++],A>1&&(U[i++]=U[q++]))}}else if((C&64)===0){S=m[(S&65535)+(h&(1<<C)-1)];continue r}else{r.msg="invalid distance code",K.mode=qg;break e}break}}else if((C&64)===0){S=y[(S&65535)+(h&(1<<C)-1)];continue t}else if(C&32){K.mode=Pge;break e}else{r.msg="invalid literal/length code",K.mode=qg;break e}break}}while(n<s&&i<c);A=g>>3,n-=A,g-=A<<3,h&=(1<<g)-1,r.next_in=n,r.next_out=i,r.avail_in=n<s?5+(s-n):5-(n-s),r.avail_out=i<c?257+(c-i):257-(i-c),K.hold=h,K.bits=g};const df=15,b8=852,x8=592,v8=0,iw=1,w8=2,Rge=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Dge=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ige=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Oge=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Fge=(t,r,e,n,s,i,o,c)=>{const u=c.bits;let l=0,d=0,p=0,f=0,h=0,g=0,y=0,m=0,v=0,x=0,S,C,A,B,q,D=null,I;const U=new Uint16Array(df+1),K=new Uint16Array(df+1);let W=null,P,L,T;for(l=0;l<=df;l++)U[l]=0;for(d=0;d<n;d++)U[r[e+d]]++;for(h=u,f=df;f>=1&&U[f]===0;f--);if(h>f&&(h=f),f===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<f&&U[p]===0;p++);for(h<p&&(h=p),m=1,l=1;l<=df;l++)if(m<<=1,m-=U[l],m<0)return-1;if(m>0&&(t===v8||f!==1))return-1;for(K[1]=0,l=1;l<df;l++)K[l+1]=K[l]+U[l];for(d=0;d<n;d++)r[e+d]!==0&&(o[K[r[e+d]]++]=d);if(t===v8?(D=W=o,I=20):t===iw?(D=Rge,W=Dge,I=257):(D=Ige,W=Oge,I=0),x=0,d=0,l=p,q=i,g=h,y=0,A=-1,v=1<<h,B=v-1,t===iw&&v>b8||t===w8&&v>x8)return 1;for(;;){P=l-y,o[d]+1<I?(L=0,T=o[d]):o[d]>=I?(L=W[o[d]-I],T=D[o[d]-I]):(L=96,T=0),S=1<<l-y,C=1<<g,p=C;do C-=S,s[q+(x>>y)+C]=P<<24|L<<16|T|0;while(C!==0);for(S=1<<l-1;x&S;)S>>=1;if(S!==0?(x&=S-1,x+=S):x=0,d++,--U[l]===0){if(l===f)break;l=r[e+o[d]]}if(l>h&&(x&B)!==A){for(y===0&&(y=h),q+=p,g=l-y,m=1<<g;g+y<f&&(m-=U[g+y],!(m<=0));)g++,m<<=1;if(v+=1<<g,t===iw&&v>b8||t===w8&&v>x8)return 1;A=x&B,s[A]=h<<24|g<<16|q-i|0}}return x!==0&&(s[q+x]=l-y<<24|64<<16|0),c.bits=h,0};var Gp=Fge;const Lge=0,R$=1,D$=2,{Z_FINISH:_8,Z_BLOCK:Bge,Z_TREES:Hg,Z_OK:xd,Z_STREAM_END:$ge,Z_NEED_DICT:zge,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:I$,Z_MEM_ERROR:O$,Z_BUF_ERROR:Vge,Z_DEFLATED:k8}=j0,wx=16180,j8=16181,S8=16182,N8=16183,C8=16184,T8=16185,E8=16186,A8=16187,P8=16188,M8=16189,pb=16190,kl=16191,ow=16192,R8=16193,lw=16194,D8=16195,I8=16196,O8=16197,F8=16198,Kg=16199,Gg=16200,L8=16201,B8=16202,$8=16203,z8=16204,V8=16205,cw=16206,U8=16207,W8=16208,On=16209,F$=16210,L$=16211,Uge=852,Wge=592,qge=15,Hge=qge,q8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Kge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pd=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<wx||r.mode>L$?1:0},B$=t=>{if(Pd(t))return Qi;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=wx,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(Uge),r.distcode=r.distdyn=new Int32Array(Wge),r.sane=1,r.back=-1,xd},$$=t=>{if(Pd(t))return Qi;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,B$(t)},z$=(t,r)=>{let e;if(Pd(t))return Qi;const n=t.state;return r<0?(e=0,r=-r):(e=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?Qi:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,$$(t))},V$=(t,r)=>{if(!t)return Qi;const e=new Kge;t.state=e,e.strm=t,e.window=null,e.mode=wx;const n=z$(t,r);return n!==xd&&(t.state=null),n},Gge=t=>V$(t,Hge);let H8=!0,uw,dw;const Xge=t=>{if(H8){uw=new Int32Array(512),dw=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(Gp(R$,t.lens,0,288,uw,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;Gp(D$,t.lens,0,32,dw,0,t.work,{bits:5}),H8=!1}t.lencode=uw,t.lenbits=9,t.distcode=dw,t.distbits=5},U$=(t,r,e,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(r.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(r.subarray(e-n,e-n+s),i.wnext),n-=s,n?(i.window.set(r.subarray(e-n,e),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Qge=(t,r)=>{let e,n,s,i,o,c,u,l,d,p,f,h,g,y,m=0,v,x,S,C,A,B,q,D;const I=new Uint8Array(4);let U,K;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pd(t)||!t.output||!t.input&&t.avail_in!==0)return Qi;e=t.state,e.mode===kl&&(e.mode=ow),o=t.next_out,s=t.output,u=t.avail_out,i=t.next_in,n=t.input,c=t.avail_in,l=e.hold,d=e.bits,p=c,f=u,D=xd;e:for(;;)switch(e.mode){case wx:if(e.wrap===0){e.mode=ow;break}for(;d<16;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(e.wrap&2&&l===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=l&255,I[1]=l>>>8&255,e.check=Vs(e.check,I,2,0),l=0,d=0,e.mode=j8;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",e.mode=On;break}if((l&15)!==k8){t.msg="unknown compression method",e.mode=On;break}if(l>>>=4,d-=4,q=(l&15)+8,e.wbits===0&&(e.wbits=q),q>15||q>e.wbits){t.msg="invalid window size",e.mode=On;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=l&512?M8:kl,l=0,d=0;break;case j8:for(;d<16;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(e.flags=l,(e.flags&255)!==k8){t.msg="unknown compression method",e.mode=On;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=On;break}e.head&&(e.head.text=l>>8&1),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Vs(e.check,I,2,0)),l=0,d=0,e.mode=S8;case S8:for(;d<32;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.head&&(e.head.time=l),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,e.check=Vs(e.check,I,4,0)),l=0,d=0,e.mode=N8;case N8:for(;d<16;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.head&&(e.head.xflags=l&255,e.head.os=l>>8),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Vs(e.check,I,2,0)),l=0,d=0,e.mode=C8;case C8:if(e.flags&1024){for(;d<16;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.length=l,e.head&&(e.head.extra_len=l),e.flags&512&&e.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,e.check=Vs(e.check,I,2,0)),l=0,d=0}else e.head&&(e.head.extra=null);e.mode=T8;case T8:if(e.flags&1024&&(h=e.length,h>c&&(h=c),h&&(e.head&&(q=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(i,i+h),q)),e.flags&512&&e.wrap&4&&(e.check=Vs(e.check,n,h,i)),c-=h,i+=h,e.length-=h),e.length))break e;e.length=0,e.mode=E8;case E8:if(e.flags&2048){if(c===0)break e;h=0;do q=n[i+h++],e.head&&q&&e.length<65536&&(e.head.name+=String.fromCharCode(q));while(q&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Vs(e.check,n,h,i)),c-=h,i+=h,q)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=A8;case A8:if(e.flags&4096){if(c===0)break e;h=0;do q=n[i+h++],e.head&&q&&e.length<65536&&(e.head.comment+=String.fromCharCode(q));while(q&&h<c);if(e.flags&512&&e.wrap&4&&(e.check=Vs(e.check,n,h,i)),c-=h,i+=h,q)break e}else e.head&&(e.head.comment=null);e.mode=P8;case P8:if(e.flags&512){for(;d<16;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(e.wrap&4&&l!==(e.check&65535)){t.msg="header crc mismatch",e.mode=On;break}l=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=kl;break;case M8:for(;d<32;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}t.adler=e.check=q8(l),l=0,d=0,e.mode=pb;case pb:if(e.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=c,e.hold=l,e.bits=d,zge;t.adler=e.check=1,e.mode=kl;case kl:if(r===Bge||r===Hg)break e;case ow:if(e.last){l>>>=d&7,d-=d&7,e.mode=cw;break}for(;d<3;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}switch(e.last=l&1,l>>>=1,d-=1,l&3){case 0:e.mode=R8;break;case 1:if(Xge(e),e.mode=Kg,r===Hg){l>>>=2,d-=2;break e}break;case 2:e.mode=I8;break;case 3:t.msg="invalid block type",e.mode=On}l>>>=2,d-=2;break;case R8:for(l>>>=d&7,d-=d&7;d<32;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",e.mode=On;break}if(e.length=l&65535,l=0,d=0,e.mode=lw,r===Hg)break e;case lw:e.mode=D8;case D8:if(h=e.length,h){if(h>c&&(h=c),h>u&&(h=u),h===0)break e;s.set(n.subarray(i,i+h),o),c-=h,i+=h,u-=h,o+=h,e.length-=h;break}e.mode=kl;break;case I8:for(;d<14;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(e.nlen=(l&31)+257,l>>>=5,d-=5,e.ndist=(l&31)+1,l>>>=5,d-=5,e.ncode=(l&15)+4,l>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=On;break}e.have=0,e.mode=O8;case O8:for(;e.have<e.ncode;){for(;d<3;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.lens[W[e.have++]]=l&7,l>>>=3,d-=3}for(;e.have<19;)e.lens[W[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},D=Gp(Lge,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,D){t.msg="invalid code lengths set",e.mode=On;break}e.have=0,e.mode=F8;case F8:for(;e.have<e.nlen+e.ndist;){for(;m=e.lencode[l&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(S<16)l>>>=v,d-=v,e.lens[e.have++]=S;else{if(S===16){for(K=v+2;d<K;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(l>>>=v,d-=v,e.have===0){t.msg="invalid bit length repeat",e.mode=On;break}q=e.lens[e.have-1],h=3+(l&3),l>>>=2,d-=2}else if(S===17){for(K=v+3;d<K;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}l>>>=v,d-=v,q=0,h=3+(l&7),l>>>=3,d-=3}else{for(K=v+7;d<K;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}l>>>=v,d-=v,q=0,h=11+(l&127),l>>>=7,d-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=On;break}for(;h--;)e.lens[e.have++]=q}}if(e.mode===On)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=On;break}if(e.lenbits=9,U={bits:e.lenbits},D=Gp(R$,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,D){t.msg="invalid literal/lengths set",e.mode=On;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},D=Gp(D$,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,D){t.msg="invalid distances set",e.mode=On;break}if(e.mode=Kg,r===Hg)break e;case Kg:e.mode=Gg;case Gg:if(c>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=c,e.hold=l,e.bits=d,Mge(t,f),o=t.next_out,s=t.output,u=t.avail_out,i=t.next_in,n=t.input,c=t.avail_in,l=e.hold,d=e.bits,e.mode===kl&&(e.back=-1);break}for(e.back=0;m=e.lencode[l&(1<<e.lenbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(x&&(x&240)===0){for(C=v,A=x,B=S;m=e.lencode[B+((l&(1<<C+A)-1)>>C)],v=m>>>24,x=m>>>16&255,S=m&65535,!(C+v<=d);){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}l>>>=C,d-=C,e.back+=C}if(l>>>=v,d-=v,e.back+=v,e.length=S,x===0){e.mode=V8;break}if(x&32){e.back=-1,e.mode=kl;break}if(x&64){t.msg="invalid literal/length code",e.mode=On;break}e.extra=x&15,e.mode=L8;case L8:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.length+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=B8;case B8:for(;m=e.distcode[l&(1<<e.distbits)-1],v=m>>>24,x=m>>>16&255,S=m&65535,!(v<=d);){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if((x&240)===0){for(C=v,A=x,B=S;m=e.distcode[B+((l&(1<<C+A)-1)>>C)],v=m>>>24,x=m>>>16&255,S=m&65535,!(C+v<=d);){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}l>>>=C,d-=C,e.back+=C}if(l>>>=v,d-=v,e.back+=v,x&64){t.msg="invalid distance code",e.mode=On;break}e.offset=S,e.extra=x&15,e.mode=$8;case $8:if(e.extra){for(K=e.extra;d<K;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}e.offset+=l&(1<<e.extra)-1,l>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=On;break}e.mode=z8;case z8:if(u===0)break e;if(h=f-u,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=On;break}h>e.wnext?(h-=e.wnext,g=e.wsize-h):g=e.wnext-h,h>e.length&&(h=e.length),y=e.window}else y=s,g=o-e.offset,h=e.length;h>u&&(h=u),u-=h,e.length-=h;do s[o++]=y[g++];while(--h);e.length===0&&(e.mode=Gg);break;case V8:if(u===0)break e;s[o++]=e.length,u--,e.mode=Gg;break;case cw:if(e.wrap){for(;d<32;){if(c===0)break e;c--,l|=n[i++]<<d,d+=8}if(f-=u,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Vs(e.check,s,f,o-f):Dm(e.check,s,f,o-f)),f=u,e.wrap&4&&(e.flags?l:q8(l))!==e.check){t.msg="incorrect data check",e.mode=On;break}l=0,d=0}e.mode=U8;case U8:if(e.wrap&&e.flags){for(;d<32;){if(c===0)break e;c--,l+=n[i++]<<d,d+=8}if(e.wrap&4&&l!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=On;break}l=0,d=0}e.mode=W8;case W8:D=$ge;break e;case On:D=I$;break e;case F$:return O$;case L$:default:return Qi}return t.next_out=o,t.avail_out=u,t.next_in=i,t.avail_in=c,e.hold=l,e.bits=d,(e.wsize||f!==t.avail_out&&e.mode<On&&(e.mode<cw||r!==_8))&&U$(t,t.output,t.next_out,f-t.avail_out),p-=t.avail_in,f-=t.avail_out,t.total_in+=p,t.total_out+=f,e.total+=f,e.wrap&4&&f&&(t.adler=e.check=e.flags?Vs(e.check,s,f,t.next_out-f):Dm(e.check,s,f,t.next_out-f)),t.data_type=e.bits+(e.last?64:0)+(e.mode===kl?128:0)+(e.mode===Kg||e.mode===lw?256:0),(p===0&&f===0||r===_8)&&D===xd&&(D=Vge),D},Yge=t=>{if(Pd(t))return Qi;let r=t.state;return r.window&&(r.window=null),t.state=null,xd},Zge=(t,r)=>{if(Pd(t))return Qi;const e=t.state;return(e.wrap&2)===0?Qi:(e.head=r,r.done=!1,xd)},Jge=(t,r)=>{const e=r.length;let n,s,i;return Pd(t)||(n=t.state,n.wrap!==0&&n.mode!==pb)?Qi:n.mode===pb&&(s=1,s=Dm(s,r,e,0),s!==n.check)?I$:(i=U$(t,r,e,e),i?(n.mode=F$,O$):(n.havedict=1,xd))};var eye=$$,tye=z$,rye=B$,nye=Gge,sye=V$,aye=Qge,iye=Yge,oye=Zge,lye=Jge,cye="pako inflate (from Nodeca project)",El={inflateReset:eye,inflateReset2:tye,inflateResetKeep:rye,inflateInit:nye,inflateInit2:sye,inflate:aye,inflateEnd:iye,inflateGetHeader:oye,inflateSetDictionary:lye,inflateInfo:cye};function uye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dye=uye;const W$=Object.prototype.toString,{Z_NO_FLUSH:fye,Z_FINISH:hye,Z_OK:Fm,Z_STREAM_END:fw,Z_NEED_DICT:hw,Z_STREAM_ERROR:pye,Z_DATA_ERROR:K8,Z_MEM_ERROR:mye}=j0;function C0(t){this.options=vx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P$,this.strm.avail_out=0;let e=El.inflateInit2(this.strm,r.windowBits);if(e!==Fm)throw new Error(yd[e]);if(this.header=new dye,El.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Om.string2buf(r.dictionary):W$.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=El.inflateSetDictionary(this.strm,r.dictionary),e!==Fm)))throw new Error(yd[e])}C0.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,c;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?hye:fye,W$.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),i=El.inflate(e,o),i===hw&&s&&(i=El.inflateSetDictionary(e,s),i===Fm?i=El.inflate(e,o):i===K8&&(i=hw));e.avail_in>0&&i===fw&&e.state.wrap>0&&t[e.next_in]!==0;)El.inflateReset(e),i=El.inflate(e,o);switch(i){case pye:case K8:case hw:case mye:return this.onEnd(i),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||i===fw))if(this.options.to==="string"){let u=Om.utf8border(e.output,e.next_out),l=e.next_out-u,d=Om.buf2string(e.output,u);e.next_out=l,e.avail_out=n-l,l&&e.output.set(e.output.subarray(u,u+l),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(i===Fm&&c===0)){if(i===fw)return i=El.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};C0.prototype.onData=function(t){this.chunks.push(t)};C0.prototype.onEnd=function(t){t===Fm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=vx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function rk(t,r){const e=new C0(r);if(e.push(t),e.err)throw e.msg||yd[e.err];return e.result}function gye(t,r){return r=r||{},r.raw=!0,rk(t,r)}var yye=C0,bye=rk,xye=gye,vye=rk,wye={Inflate:yye,inflate:bye,inflateRaw:xye,ungzip:vye};const{Deflate:_ye,deflate:kye,deflateRaw:jye,gzip:Sye}=Age,{Inflate:Nye,inflate:Cye,inflateRaw:Tye,ungzip:Eye}=wye;var Aye=_ye,Pye=kye,Mye=jye,Rye=Sye,Dye=Nye,Iye=Cye,Oye=Tye,Fye=Eye,Lye=j0,Bye={Deflate:Aye,deflate:Pye,deflateRaw:Mye,gzip:Rye,Inflate:Dye,inflate:Iye,inflateRaw:Oye,ungzip:Fye,constants:Lye};const $ye=()=>"web",zye=t=>{switch(t){case"android":return" ";case"ios":return" iOS";default:return" "}};function pw(){const[,t]=Gs(),r=$ye(),[e,n]=E.useState(navigator.onLine),[s,i]=E.useState("permissions"),[o,c]=E.useState(!1),[u,l]=E.useState(null),[d,p]=E.useState(""),[f,h]=E.useState(null),[g,y]=E.useState(!1),m=E.useRef(null),v=[{id:"storage",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"notifications",label:"",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"network",label:" ",description:"   ",status:"pending",required:!0,platforms:["web"]},{id:"geolocation",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"camera",label:"",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"vibration",label:"",description:" ",status:"pending",required:!1,platforms:["web"]},{id:"battery",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"networkInfo",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"database",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]},{id:"server",label:" ",description:"  ",status:"pending",required:!1,platforms:["web"]},{id:"backup",label:" ",description:"   ",status:"pending",required:!1,platforms:["web"]},{id:"emergency",label:" ",description:"    ",status:"pending",required:!0,platforms:["web"]},{id:"tables",label:" ",description:"  ",status:"pending",required:!0,platforms:["web"]}],[x,S]=E.useState(v.filter(ee=>ee.platforms.includes(r))),C=E.useCallback((ee,oe)=>{S(ne=>ne.map(fe=>fe.id===ee?{...fe,...oe}:fe))},[]);E.useEffect(()=>{const ee=()=>n(!0),oe=()=>n(!1);return window.addEventListener("online",ee),window.addEventListener("offline",oe),()=>{window.removeEventListener("online",ee),window.removeEventListener("offline",oe)}},[]);const A=async()=>{try{if("storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persisted())return"granted";const ee="__storage_test__";return localStorage.setItem(ee,ee),localStorage.removeItem(ee),"indexedDB"in window?new Promise(oe=>{const ne=indexedDB.open("__test_db__",1);ne.onerror=()=>oe("denied"),ne.onsuccess=()=>{ne.result.close(),indexedDB.deleteDatabase("__test_db__"),oe("granted")}}):"granted"}catch{return"denied"}},B=async()=>{try{return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":"pending":"unavailable"}catch{return"unavailable"}},q=async()=>{if(!navigator.onLine)return"denied";try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),5e3),ne=await fetch("/api/health",{method:"GET",signal:ee.signal,cache:"no-store"});return clearTimeout(oe),ne.ok?"granted":"warning"}catch{return navigator.onLine?"warning":"denied"}},D=async()=>{try{if(!("geolocation"in navigator))return"unavailable";if("permissions"in navigator){const ee=await navigator.permissions.query({name:"geolocation"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}return"pending"}catch{return"unavailable"}},I=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";if("permissions"in navigator)try{const ee=await navigator.permissions.query({name:"camera"});if(ee.state==="granted")return"granted";if(ee.state==="denied")return"denied"}catch{}return"pending"}catch{return"unavailable"}},U=async()=>{try{return"vibrate"in navigator?(navigator.vibrate(1),"granted"):"unavailable"}catch{return"unavailable"}},K=async()=>{try{if("getBattery"in navigator){const ee=await navigator.getBattery();return C("battery",{details:`${Math.round(ee.level*100)}%`}),"granted"}return"unavailable"}catch{return"unavailable"}},W=async()=>{try{const ee=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return ee?(C("networkInfo",{details:ee.effectiveType||ee.type}),"granted"):"unavailable"}catch{return"unavailable"}},P=async()=>{try{await xb();const ee=["projects","workers","financialTransfers","wells","wellExpenses"];let oe=0;const ne={};for(const fe of ee)try{const ce=await _f(fe);oe+=ce,ne[fe]=ce}catch{ne[fe]=0}{const fe={totalRecords:oe,tables:ne,timestamp:new Date().toLocaleString("ar-SA"),isEmpty:oe===0};C("database",{details:oe>0?`${oe} `:"",expandedDetails:fe})}return"granted"}catch(ee){return console.error("[DB Check] :",ee),"denied"}},L=async()=>{try{const ee=new AbortController,oe=setTimeout(()=>ee.abort(),8e3),ne=performance.now(),fe=await fetch("/api/health",{signal:ee.signal,cache:"no-store"}),ce=Math.round(performance.now()-ne);if(clearTimeout(oe),fe.ok){const ie=await fe.json().catch(()=>({})),te=ie.database==="connected"?"":"",se=localStorage.getItem("emergency_mode")==="true",de={dbStatus:te,responseTime:`${ce}ms`,status:fe.status,emergencyMode:se?"":"",timestamp:new Date().toLocaleString("ar-SA")};return C("server",{details:te,expandedDetails:de}),ie.database==="connected"?"granted":"warning"}return C("server",{details:"  ",expandedDetails:{status:fe.status,timestamp:new Date().toLocaleString("ar-SA")}}),"warning"}catch(ee){return C("server",{details:" ",expandedDetails:{error:ee.message,timestamp:new Date().toLocaleString("ar-SA")}}),"denied"}},T=async()=>{try{const ee="latest_backup_timestamp",oe=localStorage.getItem(ee);let ne=!1,fe="";if(navigator.onLine)try{const ie=new AbortController,te=setTimeout(()=>ie.abort(),1e4),se=await fetch("/api/sync/latest-backup",{signal:ie.signal,cache:"no-store"});if(clearTimeout(te),se.ok){const de=await se.json();if(de.timestamp)return ne=!0,fe=new Date(de.timestamp).toLocaleString("ar-SA"),localStorage.setItem(ee,de.timestamp),C("backup",{details:" ",expandedDetails:{source:"",timestamp:fe,status:""}}),"granted"}}catch{}if(oe){const ie=new Date(oe),se=(new Date().getTime()-ie.getTime())/(1e3*60*60),de=ie.toLocaleString("ar-SA");if(se<24){const me={source:"",timestamp:de,ageHours:Math.round(se),status:""};return C("backup",{details:" ",expandedDetails:me}),"granted"}else if(se<168){const me={source:"",timestamp:de,ageHours:Math.round(se),status:""};return C("backup",{details:" ",expandedDetails:me}),"warning"}}return C("backup",{details:" ",expandedDetails:{source:" ",status:"   "}}),"unavailable"}catch{return"unavailable"}},_=async()=>{try{const ee=localStorage.getItem("emergency_mode")==="true",oe=localStorage.getItem("offline_queue");let ne=0;if(oe)try{const te=JSON.parse(oe);ne=Array.isArray(te)?te.length:0}catch{}let fe=!1,ce=0;try{ce=await _f("projects"),fe=ce>0}catch{ce=0}const ie={mode:ee?"":"",queueCount:ne,hasLocalData:fe,projectsCount:ce,timestamp:new Date().toLocaleString("ar-SA")};return ee?(C("emergency",{details:` (${ne} )`,expandedDetails:ie}),"warning"):fe?(C("emergency",{details:" ",expandedDetails:ie}),"granted"):(C("emergency",{details:" ",expandedDetails:ie}),"pending")}catch{return"denied"}},k=async()=>{try{const ee=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"],oe={},ne=[];let fe=!0;for(const se of ee)try{const de=await _f(se);oe[se]=de,ne.push({name:se,count:de,status:"ok"})}catch{oe[se]=-1,ne.push({name:se,count:0,status:"error"}),fe=!1}const ce=Object.values(oe).filter(se=>se>=0).reduce((se,de)=>se+de,0),ie=Object.values(oe).filter(se=>se>=0).length,te={tables:ne,totalRecords:ce,validTables:ie,totalTables:ee.length,timestamp:new Date().toLocaleString("ar-SA")};return C("tables",{details:`${ie}/${ee.length}  (${ce} )`,expandedDetails:te}),fe?"granted":"warning"}catch(ee){return console.error("[Tables Check] Error:",ee),"denied"}},j=async()=>{try{return"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist(),await nd(),"granted"}catch{return"denied"}},N=async()=>{try{return"Notification"in window?await Notification.requestPermission()==="granted"?"granted":"denied":"unavailable"}catch{return"unavailable"}},R=async()=>{try{return"geolocation"in navigator?new Promise(ee=>{navigator.geolocation.getCurrentPosition(()=>ee("granted"),oe=>ee(oe.code===oe.PERMISSION_DENIED?"denied":"warning"),{timeout:1e4,enableHighAccuracy:!1})}):"unavailable"}catch{return"unavailable"}},O=async()=>{try{if(!("mediaDevices"in navigator))return"unavailable";try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(oe=>oe.stop()),"granted"}catch(ee){return ee.name==="NotAllowedError"?"denied":ee.name==="NotFoundError"?"unavailable":"denied"}}catch{return"unavailable"}},$=async()=>{try{return await _B(),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),"granted"}catch{return localStorage.setItem("setup_complete","true"),"warning"}},X=async ee=>new Promise((oe,ne)=>{const fe=new FileReader;fe.onload=async ce=>{try{const ie=ce.target?.result;if(ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")){const te=new Uint8Array(ie),se=Bye.ungzip(te,{to:"string"});if(ee.name.includes(".sql"))oe({type:"sql",content:se});else try{const de=JSON.parse(se);oe({type:"json",content:de})}catch{oe({type:"sql",content:se})}}else if(ee.name.endsWith(".sql"))oe({type:"sql",content:ie});else if(ee.name.endsWith(".json")){const te=JSON.parse(ie);oe({type:"json",content:te})}else try{const te=JSON.parse(ie);oe({type:"json",content:te})}catch{oe({type:"sql",content:ie})}}catch(ie){ne(ie)}},fe.onerror=()=>ne(new Error("   ")),ee.name.endsWith(".gz")||ee.name.endsWith(".gzip")?fe.readAsArrayBuffer(ee):fe.readAsText(ee)}),Y=async ee=>{if(ee.type==="json"){const oe=ee.content,ne=["projects","workers","financialTransfers","wells","wellExpenses","recentActivities"];for(const fe of ne)if(oe[fe]&&Array.isArray(oe[fe]))for(const ce of oe[fe])try{await vb(fe,ce)}catch(ie){console.warn(`[Import]    ${fe}:`,ie)}}else if(ee.type==="sql"){const oe=ee.content,ne=/INSERT INTO (\w+)\s*\((.*?)\)\s*VALUES\s*\((.*?)\);/gi;let fe;for(;(fe=ne.exec(oe))!==null;){const ce=fe[1].toLowerCase(),ie=fe[2].split(",").map(me=>me.trim().replace(/"/g,"")),se=fe[3].split(",").map(me=>(me=me.trim(),me==="NULL"||me==="null"?null:me.startsWith("'")&&me.endsWith("'")?me.slice(1,-1):isNaN(Number(me))?me:Number(me))),de={};ie.forEach((me,ke)=>{de[me]=se[ke]});try{await db.put(ce,de)}catch(me){console.warn("[SQL Import] :",me)}}}},re=async ee=>{const oe=ee.target.files?.[0];if(oe){p("  ...");try{const ne=await X(oe);p("  ..."),await Y(ne),localStorage.setItem("setup_complete","true"),localStorage.setItem("latest_backup_timestamp",new Date().toISOString()),localStorage.setItem("backup_source",oe.name),C("backup",{status:"granted",details:" "}),C("database",{status:"granted",details:" "}),p("  !"),setTimeout(()=>p(""),3e3)}catch(ne){console.error("[Import] :",ne),p(`: ${ne.message}`),setTimeout(()=>p(""),5e3)}m.current&&(m.current.value="")}},F=ee=>{switch(ee){case"granted":return"";case"denied":return"";case"pending":return" ";case"unavailable":return" ";case"warning":return"";default:return""}};E.useEffect(()=>{const ee=localStorage.getItem("permissions_granted")==="true",oe=localStorage.getItem("setup_complete")==="true";if(ee&&oe){t("/login");return}(async()=>{const fe=["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"];for(const ce of fe){if(!x.find(te=>te.id===ce))continue;l(ce);let ie="pending";ce==="storage"?ie=await A():ce==="notifications"?ie=await B():ce==="network"?ie=await q():ce==="geolocation"?ie=await D():ce==="camera"?ie=await I():ce==="vibration"?ie=await U():ce==="battery"?ie=await K():ce==="networkInfo"&&(ie=await W()),C(ce,{status:ie,details:x.find(te=>te.id===ce)?.details||F(ie)})}l(null)})()},[t,C,r,x]);const Z=async()=>{c(!0);const ee=[{id:"storage",fn:j},{id:"notifications",fn:N},{id:"geolocation",fn:R},{id:"camera",fn:O}];for(const ce of ee){if(!x.find(te=>te.id===ce.id))continue;l(ce.id),C(ce.id,{status:"checking"});const ie=await ce.fn();C(ce.id,{status:ie,details:F(ie)})}i("system");const oe=[{id:"database",fn:P},{id:"server",fn:L},{id:"backup",fn:T},{id:"emergency",fn:_},{id:"tables",fn:k}];let ne="denied";for(const ce of oe){if(!x.find(te=>te.id===ce.id))continue;l(ce.id),C(ce.id,{status:"checking"});const ie=await ce.fn();ce.id==="database"&&(ne=ie),ce.id==="server"&&ie==="denied"&&localStorage.setItem("emergency_mode","true"),C(ce.id,{status:ie,details:x.find(te=>te.id===ce.id)?.details||F(ie)})}const fe=x.find(ce=>ce.id==="backup");if(fe&&(fe.status==="granted"||fe.status==="warning")){l("backup"),C("backup",{status:"checking",details:" ..."});const ce=await $();C("backup",{status:ce,details:ce==="granted"?" ":" "})}l(null),c(!1),(ne==="granted"||ne==="warning")&&(localStorage.setItem("permissions_granted","true"),localStorage.setItem("permissions_timestamp",new Date().toISOString()),i("complete"),setTimeout(()=>t("/login"),1500))},V=()=>{localStorage.setItem("permissions_granted","true"),localStorage.setItem("emergency_mode","true"),t("/login")},z=async()=>{y(!0),h(null);const ee=[{id:"database",fn:P},{id:"server",fn:L},{id:"backup",fn:T},{id:"emergency",fn:_},{id:"tables",fn:k}];for(const oe of ee)if(x.find(fe=>fe.id===oe.id)){l(oe.id),C(oe.id,{status:"checking"});try{const fe=await oe.fn();C(oe.id,{status:fe})}catch(fe){console.error(`[Refresh] Error checking ${oe.id}:`,fe),C(oe.id,{status:"warning"})}}l(null),y(!1)},G=ee=>({storage:za,notifications:Fc,network:jf,geolocation:Wo,camera:QA,database:Zp,server:Gf,backup:Gn,vibration:lH,battery:Pq,networkInfo:nH,emergency:Il,tables:za})[ee]||Il,ae=Math.round(x.filter(ee=>["granted","warning","unavailable","denied"].includes(ee.status)).length/x.length*100),pe=x.filter(ee=>["storage","notifications","network","geolocation","camera","vibration","battery","networkInfo"].includes(ee.id)),ue=x.filter(ee=>["database","server","backup","emergency","tables"].includes(ee.id)),ge=s==="permissions"?pe:s==="system"?ue:x;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30 flex flex-col",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:a.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${ae}%`}})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:s==="complete"?a.jsx(Hn,{className:"w-8 h-8 text-green-500"}):a.jsx(xo,{className:"w-8 h-8 text-primary"})}),a.jsx("h1",{className:"text-xl font-semibold text-foreground mb-1",children:s==="permissions"?" ":s==="system"?" ":" "}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e?a.jsxs(a.Fragment,{children:[a.jsx(jf,{className:"w-3.5 h-3.5 text-green-500"})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(mf,{className:"w-3.5 h-3.5 text-amber-500"}),"  "]}),a.jsx("span",{className:"text-muted-foreground/50",children:""}),a.jsxs(a.Fragment,{children:[a.jsx(k_,{className:"w-3.5 h-3.5"})," "]})]})]}),a.jsx("div",{className:"space-y-2 mb-6 max-h-[50vh] overflow-y-auto",children:ge.map(ee=>{const oe=G(ee.id),ne=u===ee.id,fe=f===ee.id,ce=ee.expandedDetails&&Object.keys(ee.expandedDetails).length>0;return a.jsxs("div",{"data-testid":`check-${ee.id}`,className:Ae("rounded-xl border transition-all duration-200",ee.status==="checking"&&"border-primary/40 bg-primary/5",ee.status==="granted"&&"border-green-200 dark:border-green-800/50 bg-green-50/50 dark:bg-green-900/10",ee.status==="warning"&&"border-amber-200 dark:border-amber-800/50 bg-amber-50/50 dark:bg-amber-900/10",ee.status==="denied"&&"border-red-200 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/10",ee.status==="unavailable"&&"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/30",ee.status==="pending"&&"border-border/50 bg-muted/30"),children:[a.jsxs("div",{className:"flex items-center gap-3 p-3",children:[a.jsx("div",{className:Ae("flex items-center justify-center w-9 h-9 rounded-lg transition-colors shrink-0",ee.status==="checking"&&"bg-primary/15 text-primary",ee.status==="granted"&&"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",ee.status==="warning"&&"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",ee.status==="denied"&&"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",ee.status==="unavailable"&&"bg-slate-100 dark:bg-slate-800 text-slate-400",ee.status==="pending"&&"bg-muted text-muted-foreground"),children:ee.status==="checking"||ne?a.jsx(Zr,{className:"w-4 h-4 animate-spin"}):ee.status==="granted"?a.jsx(Hn,{className:"w-4 h-4"}):["denied","warning"].includes(ee.status)?a.jsx($a,{className:"w-4 h-4"}):a.jsx(oe,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:Ae("text-sm font-medium truncate",ee.status==="pending"?"text-muted-foreground":"text-foreground"),children:ee.label}),ee.required&&ee.status!=="granted"&&a.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ee.details&&a.jsx("span",{className:Ae("text-xs shrink-0",ee.status==="granted"&&"text-green-600 dark:text-green-400",ee.status==="warning"&&"text-amber-600 dark:text-amber-400",ee.status==="denied"&&"text-red-600 dark:text-red-400",ee.status==="unavailable"&&"text-slate-400"),children:ee.details}),ce&&a.jsx("button",{onClick:()=>h(fe?null:ee.id),className:"p-0.5 hover:bg-black/5 dark:hover:bg-white/5 rounded transition-colors","data-testid":`btn-expand-${ee.id}`,children:fe?a.jsx(qc,{className:"w-4 h-4"}):a.jsx(rs,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:ee.description})]})]}),fe&&ce&&a.jsx("div",{className:"px-3 pb-3 border-t border-current/10",children:a.jsx("div",{className:"mt-3 space-y-2 text-xs",children:ee.id==="tables"&&ee.expandedDetails?.tables?a.jsx(a.Fragment,{children:ee.expandedDetails.tables.map(ie=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[a.jsx("span",{className:"font-medium",children:ie.name}),a.jsxs("span",{className:ie.status==="ok"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[ie.count," "]})]},ie.name))}):Object.entries(ee.expandedDetails||{}).map(([ie,te])=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-black/2.5 dark:bg-white/2.5 rounded",children:[a.jsx("span",{className:"text-muted-foreground",children:ie}),a.jsx("span",{className:"font-medium",children:String(te)})]},ie))})})]},ee.id)})}),s!=="complete"&&a.jsxs("div",{className:"space-y-2",children:[s==="system"&&a.jsx(Ie,{"data-testid":"btn-refresh-checks",variant:"outline",className:"w-full h-10",onClick:z,disabled:o||g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gn,{className:"w-4 h-4 ml-2"})," "]})}),a.jsx(Ie,{"data-testid":"btn-request-all",className:"w-full h-11",onClick:Z,disabled:o||g,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"w-4 h-4 animate-spin ml-2"}),"  ..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Il,{className:"w-4 h-4 ml-2"}),"   "]})}),a.jsx(Input,{ref:m,type:"file",accept:".sql,.json,.gz,.gzip,.backup",onChange:re,className:"hidden","data-testid":"input-backup-file"}),a.jsxs(Ie,{"data-testid":"btn-import-backup",variant:"outline",className:"w-full h-10",onClick:()=>m.current?.click(),disabled:o,children:[a.jsx(Hw,{className:"w-4 h-4 ml-2"}),"  "]}),d&&a.jsx("div",{className:Ae("text-center text-sm p-2 rounded-lg",d.includes("")?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":d.includes("")?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"),children:d}),a.jsx(Ie,{"data-testid":"btn-skip",variant:"ghost",className:"w-full h-9 text-sm text-muted-foreground",onClick:V,disabled:o,children:" ( )"})]}),s==="complete"&&a.jsxs("div",{className:"text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50",children:[a.jsx(Hn,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"   "}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" ..."})]}),a.jsxs("p",{className:"text-center text-[10px] text-muted-foreground/60 mt-6",children:["v3.1  ",zye(r),"   "]})]})})]})}function Vye(){const{isSyncing:t,isOnline:r,manualSync:e,offlineCount:n}=GB(),[s,i]=E.useState([]),{toast:o}=wn(),{setFloatingAction:c,setRefreshAction:u}=Zi(),l=async()=>{const x=await Oh();i(x)};E.useEffect(()=>(s.length>0&&r&&!t?c(e,`  (${s.length})`):c(null),u(()=>l),()=>{c(null),u(null)}),[s.length,r,t,e,c,u]);const{searchValue:d,filterValues:p,onSearchChange:f,onFilterChange:h,onReset:g}=w0({action:"all",category:"all",projectId:"all"},"");E.useEffect(()=>{l();const x=setInterval(l,5e3);return()=>clearInterval(x)},[]);const{data:y=[]}=vt({queryKey:xe.projects,queryFn:async()=>{const x=await Ue("/api/projects","GET");return x?.data||x||[]}}),m=E.useMemo(()=>s.filter(x=>{const S=!d||x.endpoint.toLowerCase().includes(d.toLowerCase())||x.id.toLowerCase().includes(d.toLowerCase()),C=p.action==="all"||x.action===p.action,A=typeof x.body=="string"?JSON.parse(x.body):x.body,B=p.projectId==="all"||A?.projectId===p.projectId;return S&&C&&B}),[s,d,p]),v=async x=>{await xB(x),o({title:" ",description:"      "}),l()};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(Gn,{className:t?"animate-spin text-blue-500":"text-blue-500"})," "]}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"       - AXION SYSTEM"})]})}),a.jsx(fh,{stats:[{title:" ",value:s.length,icon:ns,color:s.length>0?"orange":"blue",status:s.length>10?"warning":"normal"},{title:" ",value:r?"":"",icon:Is,color:r?"green":"red",status:r?"normal":"critical"},{title:" ",value:n||0,icon:za,color:"purple"}]}),a.jsx(Jt,{className:"border-none shadow-sm bg-slate-50/50 dark:bg-slate-900/50",children:a.jsx(vr,{className:"p-4",children:a.jsx(yx,{searchValue:d,onSearchChange:f,placeholder:"    ...",filters:[{key:"action",label:" ",options:[{label:"",value:"all"},{label:"",value:"create"},{label:"",value:"update"},{label:"",value:"delete"}]},{key:"projectId",label:"",options:[{label:" ",value:"all"},...y.map(x=>({label:x.name,value:x.id}))]}],filterValues:p,onFilterChange:h,onReset:g})})}),a.jsx(vn,{title:"  ",subtitle:m.length>0?`   ${m.length} `:"    ",icon:Gn,children:a.jsx(Yl,{className:"h-[500px] pr-4",children:m.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground space-y-2",children:[a.jsx(bo,{className:"h-10 w-10 opacity-20"}),a.jsx("p",{children:"    "})]}):a.jsx("div",{className:"space-y-3",children:m.map(x=>a.jsxs("div",{className:"group relative flex items-center justify-between p-4 rounded-xl border bg-card hover:border-blue-200 dark:hover:border-blue-800 transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`mt-1 p-2 rounded-lg ${x.action==="create"?"bg-green-100 text-green-600 dark:bg-green-900/30":x.action==="update"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:a.jsx(Is,{size:18})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xr,{variant:x.action==="create"?"success":x.action==="update"?"default":"destructive",className:"font-medium",children:x.action==="create"?"":x.action==="update"?"":""}),a.jsxs("span",{className:"font-mono text-[10px] px-1.5 py-0.5 rounded bg-muted text-muted-foreground uppercase tracking-wider",children:["ID: ",x.id.substring(0,8)]})]}),a.jsxs("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[a.jsx(za,{size:14,className:"text-muted-foreground"}),x.endpoint]}),a.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ua,{size:12}),new Date(x.timestamp).toLocaleDateString("ar-YE")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ns,{size:12}),new Date(x.timestamp).toLocaleTimeString("ar-YE",{hour:"2-digit",minute:"2-digit"})]}),JSON.parse(x.body||"{}").projectId&&a.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 font-medium",children:[a.jsx(bs,{size:12}),": ",y.find(S=>S.id===JSON.parse(x.body).projectId)?.name||" "]})]})]})]}),a.jsx(Ie,{variant:"ghost",size:"icon",onClick:()=>v(x.id),className:"opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:bg-destructive/10",children:a.jsx(Ps,{size:18})})]},x.id))})})})]})}if(typeof window<"u"){const t=window.ResizeObserver;window.ResizeObserver=class extends t{constructor(e){super((n,s)=>{window.requestAnimationFrame(()=>{!Array.isArray(n)||!n.length||e(n,s)})})}}}const Uye=E.lazy(()=>mn(()=>import("./worker-accounts-DQs94J7z.js"),__vite__mapDeps([0,1]))),Wye=E.lazy(()=>mn(()=>import("./suppliers-professional-CIa9Yce7.js"),__vite__mapDeps([2,3]))),qye=E.lazy(()=>mn(()=>import("./customers-DfK_g_t1.js"),[])),Hye=E.lazy(()=>mn(()=>import("./supplier-accounts-DFBYlIH2.js"),[])),Kye=E.lazy(()=>mn(()=>import("./autocomplete-admin-BNp2A8ZF.js"),[])),Gye=E.lazy(()=>mn(()=>import("./equipment-management-D-klB7yL.js"),__vite__mapDeps([4,5,6])).then(t=>({default:t.EquipmentManagement}))),Xye=E.lazy(()=>mn(()=>import("./admin-notifications-BUGCvkC1.js"),__vite__mapDeps([7,8]))),Qye=E.lazy(()=>mn(()=>import("./SmartErrorsPage-DeNX1EQi.js"),__vite__mapDeps([9,3]))),Yye=E.lazy(()=>mn(()=>import("./SecurityPoliciesPage-DWRKZl8l.js"),__vite__mapDeps([10,11])).then(t=>({default:t.SecurityPoliciesPage}))),Zye=E.lazy(()=>mn(()=>import("./axion-reports-CuPCAeMW.js"),__vite__mapDeps([12,11]))),Jye=E.lazy(()=>mn(()=>import("./settings-BqLzhMFL.js"),__vite__mapDeps([13,3,5]))),ebe=E.lazy(()=>mn(()=>import("./users-management-wrxCWRfq.js"),[])),tbe=E.lazy(()=>mn(()=>import("./ai-chat-BDlrWOR4.js"),__vite__mapDeps([14,8,6]))),rbe=E.lazy(()=>mn(()=>import("./sync-comparison-Dn6G1fWj.js"),[]));function Pa(){return a.jsxs("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zr,{className:"h-12 w-12 animate-spin text-blue-600"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-pulse"})})]}),a.jsx("p",{className:"text-sm font-medium text-slate-500 animate-pulse",children:"  ..."})]})}xb().catch(console.error);Ume(3e4);const nbe=E.lazy(()=>mn(()=>import("./index-CBFOAMH7.js"),__vite__mapDeps([15,11])));function sbe(){return Cne(),E.useEffect(()=>{(async()=>{try{await nd(),console.log("     "),wB(),console.log("     ");const r=gx(e=>{!e.isSyncing&&e.lastSync>0&&e.pendingCount===0&&(console.log(" [Sync]    -   ..."),requestAnimationFrame(()=>{try{[["/api/projects"],["/api/projects/with-stats"],["/api/workers"],["/api/materials"],["/api/suppliers"],["/api/notifications"]].forEach(s=>xn.invalidateQueries({queryKey:s,refetchType:"active",exact:!1}))}catch(n){console.error("    :",n)}}))});return()=>r()}catch(r){console.error("     :",r)}})()},[]),a.jsxs(rA,{children:[a.jsx(Er,{path:"/",component:tpe}),a.jsx(Er,{path:"/deployment",component:cde}),a.jsx(Er,{path:"/projects",component:Whe}),a.jsx(Er,{path:"/workers",component:lpe}),a.jsx(Er,{path:"/worker-accounts",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Uye,{})})})}),a.jsx(Er,{path:"/suppliers-pro",children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Wye,{})})}),a.jsx(Er,{path:"/customers",children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(qye,{})})}),a.jsx(Er,{path:"/supplier-accounts",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Hye,{})})})}),a.jsx(Er,{path:"/worker-attendance",component:ide}),a.jsx(Er,{path:"/material-purchase",component:Tde}),a.jsx(Er,{path:"/transport-management",component:Mde}),a.jsx(Er,{path:"/project-transfers",children:a.jsx(ea,{children:a.jsx(rhe,{})})}),a.jsx(Er,{path:"/project-transactions",children:a.jsx(ea,{children:a.jsx(she,{})})}),a.jsx(Er,{path:"/project-fund-custody",children:a.jsx(ea,{children:a.jsx(ahe,{})})}),a.jsx(Er,{path:"/autocomplete-admin",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Kye,{})})})}),a.jsx(Er,{path:"/equipment",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Gye,{})})})}),a.jsx(Er,{path:"/notifications",component:jpe}),a.jsx(Er,{path:"/admin-notifications",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Xye,{})})})}),a.jsx(Er,{path:"/smart-errors",children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Qye,{})})}),a.jsx(Er,{path:"/security-policies",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Yye,{})})})}),a.jsx(Er,{path:"/daily-expenses",component:Tpe}),a.jsx(Er,{path:"/wells",component:Ape}),a.jsx(Er,{path:"/admin/backups",children:a.jsx(ea,{children:a.jsx(xpe,{})})}),a.jsx(Er,{path:"/settings",children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Jye,{})})}),a.jsx(Er,{path:"/well-cost-report",component:Ppe}),a.jsx(Er,{path:"/well-accounting",component:Ipe}),a.jsx(Er,{path:"/reports",children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(Zye,{})})}),a.jsx(Er,{path:"/users-management",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(ebe,{})})})}),a.jsx(Er,{path:"/ai-chat",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(tbe,{})})})}),a.jsx(Er,{path:"/admin/monitoring",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(nbe,{})})})}),a.jsx(Er,{path:"/sync-comparison",children:a.jsx(ea,{children:a.jsx(E.Suspense,{fallback:a.jsx(Pa,{}),children:a.jsx(rbe,{})})})}),a.jsx(Er,{path:"/admin/data-health",children:a.jsx(ea,{children:a.jsx(Ope,{})})}),a.jsx(Er,{path:"/local-db",children:a.jsx(ea,{children:a.jsx(Upe,{})})}),a.jsx(Er,{path:"/admin/sync",children:a.jsx(ea,{children:a.jsx(Vye,{})})}),a.jsx(Er,{component:OG})]})}function abe(){return a.jsx(X2,{children:a.jsx(VU,{client:xn,children:a.jsx(iQ,{children:a.jsx(Rb,{children:a.jsx(eae,{children:a.jsxs("div",{dir:"rtl",children:[a.jsx(X2,{children:a.jsxs(rA,{children:[a.jsx(Er,{path:"/check",component:pw}),a.jsx(Er,{path:"/setup",component:pw}),a.jsx(Er,{path:"/permissions",component:pw}),a.jsx(Er,{path:"/login",component:Yee}),a.jsx(Er,{path:"/register",component:Nre}),a.jsx(Er,{path:"/verify-email",component:Dre}),a.jsx(Er,{path:"/forgot-password",component:Are}),a.jsx(Er,{path:"/reset-password",component:Tre}),a.jsx(Er,{path:"*",component:()=>a.jsx(Rme,{children:a.jsx(Ome,{children:a.jsx(bse,{children:a.jsx(Mme,{children:a.jsx(sbe,{})})})})})})]})}),a.jsx(WH,{})]})})})})})})}const ibe=async()=>{const t=document.getElementById("root");if(t)try{"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{for(let n of e)n.update(),n.addEventListener("updatefound",()=>{const s=n.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("      ..."),window.location.reload())})})}),"caches"in window&&caches.keys().then(e=>{e.forEach(n=>{n.includes("binarjoin-v")&&!n.includes("binarjoin-v3")&&(caches.delete(n),console.log("    :",n))})})),nd().catch(console.error),_V.createRoot(t).render(a.jsx(abe,{}))}catch(r){console.error("Fatal startup error:",r),t.innerHTML='<div style="padding:20px;text-align:center;direction:rtl;">    .   .</div>'}};ibe();export{$a as $,Ll as A,Ie as B,r7 as C,kr as D,fbe as E,hbe as F,el as G,jr as H,xt as I,Ms as J,ws as K,Ze as L,cs as M,_s as N,us as O,gs as P,xe as Q,wr as R,ey as S,Rn as T,Ln as U,Mh as V,od as W,Ue as X,YN as Y,Vw as Z,mn as _,wn as a,ca as a$,Wo as a0,oH as a1,ls as a2,bo as a3,Nn as a4,h6 as a5,_a as a6,l1 as a7,ia as a8,bs as a9,Us as aA,ch as aB,ql as aC,jd as aD,Kr as aE,wi as aF,Hn as aG,oa as aH,Kc as aI,Je as aJ,Oo as aK,po as aL,ybe as aM,Ir as aN,ab as aO,Ql as aP,Gm as aQ,pbe as aR,J_ as aS,Y_ as aT,w0 as aU,Fc as aV,N_ as aW,j_ as aX,S_ as aY,xo as aZ,Go as a_,ys as aa,za as ab,Uo as ac,ns as ad,Il as ae,Is as af,Vpe as ag,HB as ah,Iu as ai,Km as aj,Ou as ak,xr as al,Xl as am,Gn as an,YB as ao,Ke as ap,Wl as aq,Kl as ar,Jr as as,Yr as at,qn as au,sn as av,Mn as aw,Ede as ax,is as ay,QA as az,ks as b,IR as b0,OR as b1,Lc as b2,Hc as b3,o6 as b4,em as b5,Gc as b6,fh as b7,yx as b8,ym as b9,gd as bA,ti as bB,G3 as bC,ba as bD,XA as bE,xn as bF,Yl as bG,Hm as bH,Eq as bI,u6 as bJ,zl as bK,t7 as bL,rs as bM,Kf as bN,Zp as bO,Mpe as bP,Hr as bQ,q9 as bR,WV as bS,LN as bT,kn as ba,Xq as bb,HA as bc,Xt as bd,o_ as be,xse as bf,SI as bg,Ts as bh,bh as bi,y_ as bj,Ic as bk,GB as bl,Zq as bm,aH as bn,bbe as bo,Pr as bp,Gi as bq,Ht as br,ut as bs,D4 as bt,D_ as bu,da as bv,Ae as bw,Zr as bx,H3 as by,K3 as bz,Zi as c,No as d,XO as e,vt as f,It as g,Ih as h,Co as i,a as j,Lp as k,Jt as l,vr as m,Hs as n,vn as o,Nl as p,Ps as q,E as r,ua as s,Xm as t,Gs as u,s7 as v,Ws as w,Rs as x,qs as y,la as z};
