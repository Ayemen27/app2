import{ak as ie,r as A,a as Y,b as re,aK as ee,f as P,al as ne,g as ae,j as e,B as d,S as oe,w as ce,x as de,y as ue,z as me,A as pe,am as he,an as p,ao as h,ap as j,aq as y,I as xe,ar as v,K as O,M as Q,N as B,O as H,Q as Z,U as D,ad as be,t as ge,aL as fe,aM as je,aw as ye,ax as ve,ay as we,az as L,aN as _,aO as Ne,aP as ke,aQ as w,Z as Ce,aC as G,ai as Se,aR as Te,aS as Ue,aT as Ie,aU as De,aV as M,k as Ae,aW as Fe,aX as Le,aY as Me,ab as qe,i as Ee,n as q,o as N,T as Re,aZ as Ve,a_ as Pe,a$ as J,b0 as E,q as ze,af as $e,b1 as Ke,H as W,b2 as X}from"./index-DbFXT9rT.js";import{T as Oe,a as Qe,b as R,c as V}from"./tabs-BGWY4-E0.js";import{S as Be}from"./sparkles-BL21BXW-.js";import{U as He}from"./upload-ov-ZXLtT.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ie("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),_e=we({type:_(["safety","task","payroll","announcement","system"]),title:L().min(1,"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ø·Ù„ÙˆØ¨"),body:L().min(1,"Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø·Ù„ÙˆØ¨"),priority:Ne().min(1).max(5),recipientType:_(["all","admins","workers","specific"]),specificUserId:L().optional()}),Ge=[{value:"safety",label:"ØªÙ†Ø¨ÙŠÙ‡ Ø£Ù…Ù†ÙŠ",description:"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†",icon:"ðŸš¨",color:"from-red-500 to-red-600"},{value:"task",label:"Ø¥Ø´Ø¹Ø§Ø± Ù…Ù‡Ù…Ø©",description:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª",icon:"ðŸ“",color:"from-blue-500 to-blue-600"},{value:"payroll",label:"Ø¥Ø´Ø¹Ø§Ø± Ø±Ø§ØªØ¨",description:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª",icon:"ðŸ’°",color:"from-green-500 to-green-600"},{value:"announcement",label:"Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø§Ù…",description:"Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ø§Ù…Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹",icon:"ðŸ“¢",color:"from-purple-500 to-purple-600"},{value:"system",label:"Ø¥Ø´Ø¹Ø§Ø± Ù†Ø¸Ø§Ù…",description:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©",icon:"âš™ï¸",color:"from-gray-500 to-gray-600"}],Je=[{value:1,label:"Ø­Ø±Ø¬ Ø¬Ø¯Ø§Ù‹",color:"text-red-600",bg:"bg-red-50 border-red-200"},{value:2,label:"Ø¹Ø§Ø¬Ù„",color:"text-orange-600",bg:"bg-orange-50 border-orange-200"},{value:3,label:"Ù…ØªÙˆØ³Ø·",color:"text-yellow-600",bg:"bg-yellow-50 border-yellow-200"},{value:4,label:"Ù…Ù†Ø®ÙØ¶",color:"text-blue-600",bg:"bg-blue-50 border-blue-200"},{value:5,label:"Ù…Ø¹Ù„ÙˆÙ…Ø©",color:"text-gray-600",bg:"bg-gray-50 border-gray-200"}];function We({onUpdate:k,notificationType:C="announcement",projectId:x}){const[b,u]=A.useState(!1),{toast:g}=Y(),S=re(),{getAccessToken:n}=ee(),[o,z]=A.useState("all"),T=()=>({"Content-Type":"application/json",Authorization:n()?`Bearer ${n()}`:""}),{data:F=[],isLoading:U}=P({queryKey:["/api/users","with-roles"],queryFn:async()=>{const s=await fetch("/api/users?includeRole=true",{headers:T()});if(!s.ok)throw new Error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†");return s.json()},enabled:b}),t=ne({resolver:ve(_e),defaultValues:{type:C,title:"",body:"",priority:3,recipientType:"all",specificUserId:void 0}}),c=ae({mutationFn:async s=>{let l="/api/notifications";switch(s.type){case"safety":l="/api/notifications/safety";break;case"task":l="/api/notifications/task";break;case"payroll":l="/api/notifications/payroll";break;case"announcement":l="/api/notifications/announcement";break;default:l="/api/notifications"}const r=await fetch(l,{method:"POST",headers:T(),body:JSON.stringify({...s,projectId:x,recipients:s.recipientType==="specific"&&s.specificUserId?[s.specificUserId]:s.recipientType})});if(!r.ok)throw new Error("ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±");return r.json()},onSuccess:async()=>{await S.invalidateQueries({queryKey:["notifications"]}),await S.invalidateQueries({queryKey:["admin-notifications"]}),g({title:"ØªÙ… Ø¨Ù†Ø¬Ø§Ø­",description:"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­"}),u(!1),t.reset(),k&&k()},onError:s=>{g({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±",variant:"destructive"})}}),f=s=>{c.mutate({...s,projectId:x})};return e.jsxs(e.Fragment,{children:[e.jsxs(d,{onClick:()=>u(!0),className:"gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø±"]}),e.jsx(ce,{open:b,onOpenChange:u,children:e.jsxs(de,{className:"w-full max-w-[95vw] md:max-w-[600px] border-0 p-0 overflow-hidden bg-white rounded-xl md:rounded-2xl shadow-2xl",children:[e.jsx(ue,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 md:p-5",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Be,{className:"h-4 w-4 md:h-5 md:w-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(me,{className:"text-base md:text-lg font-bold",children:"Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø±"}),e.jsx(pe,{className:"text-blue-100 text-xs md:text-sm mt-0.5",children:"Ø£Ø±Ø³Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Ù‹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø¨Ø± Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…"})]})]})}),e.jsx("div",{className:"p-3 md:p-5 overflow-y-auto max-h-[80vh]",children:e.jsx(he,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(f),className:"space-y-3 md:space-y-4",children:[e.jsx(p,{control:t.control,name:"title",render:({field:s})=>e.jsxs(h,{children:[e.jsx(j,{children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(y,{children:e.jsx(xe,{...s,placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†..."})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(p,{control:t.control,name:"type",render:({field:s})=>e.jsxs(h,{children:[e.jsx(j,{children:"Ø§Ù„Ù†ÙˆØ¹"}),e.jsxs(O,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(y,{children:e.jsx(Q,{children:e.jsx(B,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹"})})}),e.jsx(H,{children:Ge.map(l=>e.jsx(Z,{value:l.value,children:l.label},l.value))})]}),e.jsx(v,{})]})}),e.jsx(p,{control:t.control,name:"priority",render:({field:s})=>e.jsxs(h,{children:[e.jsx(j,{children:"Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©"}),e.jsxs(O,{onValueChange:l=>s.onChange(parseInt(l)),defaultValue:s.value.toString(),children:[e.jsx(y,{children:e.jsx(Q,{children:e.jsx(B,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©"})})}),e.jsx(H,{children:Je.map(l=>e.jsx(Z,{value:l.value.toString(),children:l.label},l.value))})]}),e.jsx(v,{})]})})]}),e.jsx(p,{control:t.control,name:"recipientType",render:({field:s})=>e.jsxs(h,{children:[e.jsx(j,{children:"Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠÙ†"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"Ø§Ù„Ø¬Ù…ÙŠØ¹",icon:D},{value:"admins",label:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†",icon:be},{value:"workers",label:"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",icon:ge},{value:"specific",label:"Ù…Ø­Ø¯Ø¯",icon:fe}].map(l=>e.jsxs(d,{type:"button",variant:s.value===l.value?"default":"outline",size:"sm",className:"gap-1.5",onClick:()=>s.onChange(l.value),children:[e.jsx(l.icon,{className:"h-3.5 w-3.5"}),l.label]},l.value))}),s.value==="specific"&&e.jsx("div",{className:"mt-2",children:e.jsx(p,{control:t.control,name:"specificUserId",render:({field:l})=>e.jsxs(h,{children:[e.jsx(y,{children:e.jsx(je,{value:l.value||"",onValueChange:l.onChange,users:F.map(r=>({id:r.id,fullName:r.firstName||r.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…",email:r.email})),placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…..."})}),e.jsx(v,{})]})})})]})}),e.jsx(p,{control:t.control,name:"body",render:({field:s})=>e.jsxs(h,{children:[e.jsx(j,{children:"Ø§Ù„Ù…Ø­ØªÙˆÙ‰"}),e.jsx(y,{children:e.jsx(ye,{...s,placeholder:"Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø©...",rows:4,className:"resize-none"})}),e.jsx(v,{})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(d,{type:"button",variant:"outline",className:"flex-1",onClick:()=>u(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(d,{type:"submit",className:"flex-1",disabled:c.isPending,children:c.isPending?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...":"Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±"})]})]})})})]})})]})}function sa(){const{toast:k}=Y(),{isAuthenticated:C,getAccessToken:x,isLoading:b}=ee(),[u,g]=A.useState("overview"),S=[{key:"type",label:"Ø§Ù„Ù†ÙˆØ¹",type:"select",options:[{value:"all",label:"Ø§Ù„ÙƒÙ„"},{value:"safety",label:"ØªÙ†Ø¨ÙŠÙ‡ Ø£Ù…Ù†ÙŠ"},{value:"task",label:"Ø¥Ø´Ø¹Ø§Ø± Ù…Ù‡Ù…Ø©"},{value:"payroll",label:"Ø¥Ø´Ø¹Ø§Ø± Ø±Ø§ØªØ¨"},{value:"announcement",label:"Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø§Ù…"},{value:"system",label:"Ø¥Ø´Ø¹Ø§Ø± Ù†Ø¸Ø§Ù…"}]},{key:"priority",label:"Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©",type:"select",options:[{value:"all",label:"Ø§Ù„ÙƒÙ„"},{value:"1",label:"Ø­Ø±Ø¬ Ø¬Ø¯Ø§Ù‹"},{value:"2",label:"Ø¹Ø§Ø¬Ù„"},{value:"3",label:"Ù…ØªÙˆØ³Ø·"},{value:"4",label:"Ù…Ù†Ø®ÙØ¶"},{value:"5",label:"Ù…Ø¹Ù„ÙˆÙ…Ø©"}]}],{searchValue:n,filterValues:o,onSearchChange:z,onFilterChange:T,onReset:F}=ke({type:"all",priority:"all"},""),U=()=>({"Content-Type":"application/json",Authorization:x()?`Bearer ${x()}`:""}),{data:t,isLoading:c,refetch:f}=P({queryKey:["admin-notifications",o,n],queryFn:async()=>{const a=new URLSearchParams({requesterId:"admin",limit:"50",...o.type!=="all"&&{type:o.type},...o.priority!=="all"&&{priority:o.priority},...n&&{search:n}}),i=await fetch(`/api/admin/notifications/all?${a}`,{headers:U()});if(!i.ok)throw new Error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return i.json()},enabled:C&&!b}),{data:s,isLoading:l}=P({queryKey:["user-activity"],queryFn:async()=>{const a=await fetch("/api/admin/notifications/user-activity?requesterId=admin",{headers:U()});if(!a.ok)throw new Error("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·");return a.json()},enabled:C&&!b}),r=ae({mutationFn:async a=>{const i=await fetch(`/api/admin/notifications/${a}?requesterId=admin`,{method:"DELETE",headers:U()});if(!i.ok)throw new Error("ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù");return i.json()},onSuccess:()=>{k({title:"ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­"}),f()}}),m=t?.notifications||[],se=A.useMemo(()=>{const a=t?.total||0,i=m.filter(I=>!I.isRead).length,K=m.filter(I=>I.priority===1||I.priority==="critical").length,te=a>0?Math.round((a-i)/a*100):0;return[{title:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",value:a,icon:w,color:"blue"},{title:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø±Ø¬Ø©",value:K,icon:Ce,color:"red",status:K>0?"critical":"normal"},{title:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©",value:`${te}%`,icon:G,color:"green",trend:{value:5,isPositive:!0}},{title:"Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",value:s?.userStats?.length||0,icon:D,color:"purple"}]},[t,m,s]),$={1:{label:"Ø­Ø±Ø¬",color:"destructive"},critical:{label:"Ø­Ø±Ø¬",color:"destructive"},2:{label:"Ø¹Ø§Ø¬Ù„",color:"warning"},high:{label:"Ø¹Ø§Ø¬Ù„",color:"warning"},3:{label:"Ù…ØªÙˆØ³Ø·",color:"default"},medium:{label:"Ù…ØªÙˆØ³Ø·",color:"default"},4:{label:"Ù…Ù†Ø®ÙØ¶",color:"secondary"},low:{label:"Ù…Ù†Ø®ÙØ¶",color:"secondary"},5:{label:"Ù…Ø¹Ù„ÙˆÙ…Ø©",color:"outline"},info:{label:"Ù…Ø¹Ù„ÙˆÙ…Ø©",color:"outline"}},le={safety:Ke,task:G,payroll:E,announcement:J,system:$e};return e.jsxs("div",{className:"min-h-screen bg-background pb-10",dir:"rtl",children:[e.jsx("div",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between gap-4 px-4 sm:px-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10 text-primary",children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>f(),disabled:c,children:[e.jsx(Se,{className:Te("h-4 w-4 ml-2",c&&"animate-spin")}),"ØªØ­Ø¯ÙŠØ«"]}),e.jsx(We,{onUpdate:()=>f()}),e.jsxs(Ue,{children:[e.jsx(Ie,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",children:e.jsx(Ze,{className:"h-5 w-5"})})}),e.jsxs(De,{align:"end",children:[e.jsxs(M,{className:"gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"})," ØªØµØ¯ÙŠØ±"]}),e.jsxs(M,{className:"gap-2",children:[e.jsx(He,{className:"h-4 w-4"})," Ø§Ø³ØªÙŠØ±Ø§Ø¯"]}),e.jsx(Fe,{}),e.jsxs(M,{className:"gap-2 text-destructive",children:[e.jsx(Le,{className:"h-4 w-4"})," Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„"]})]})]})]})]})}),e.jsxs("main",{className:"container px-4 py-6 sm:px-8 space-y-6",children:[e.jsx(Me,{stats:se,columns:4,title:"Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",subtitle:"Ù…Ø¤Ø´Ø±Ø§Øª Ø£Ø¯Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø®Ù„Ø§Ù„ Ø¢Ø®Ø± 30 ÙŠÙˆÙ…"}),e.jsxs(Oe,{value:u,onValueChange:g,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs(Qe,{className:"grid w-full sm:w-auto grid-cols-3 sm:flex gap-2",children:[e.jsxs(R,{value:"overview",className:"gap-2",children:[e.jsx(qe,{className:"h-4 w-4"})," Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"]}),e.jsxs(R,{value:"notifications",className:"gap-2",children:[e.jsx(w,{className:"h-4 w-4"})," Ø§Ù„Ø³Ø¬Ù„"]}),e.jsxs(R,{value:"users",className:"gap-2",children:[e.jsx(D,{className:"h-4 w-4"})," Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"]})]}),e.jsx(Ee,{searchValue:n,onSearchChange:z,filters:S,filterValues:o,onFilterChange:T,onReset:F,compact:!0,className:"w-full lg:w-auto"})]}),e.jsx(V,{value:"overview",className:"mt-0",children:e.jsxs(q,{columns:2,children:[e.jsx(N,{title:"Ø£ÙƒØ«Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØªÙØ§Ø¹Ù„Ø§Ù‹",titleIcon:Re,fields:s?.userStats?.slice(0,5).map((a,i)=>({label:`${i+1}. ${a.userName}`,value:`${a.readNotifications} / ${a.totalNotifications}`,emphasis:i===0,color:i===0?"success":"default"}))||[],footer:e.jsx(d,{variant:"ghost",size:"sm",className:"w-full text-xs",onClick:()=>g("users"),children:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©"})}),e.jsx(N,{title:"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª",titleIcon:E,fields:[{label:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚",value:m.length,icon:Ve,color:"info"},{label:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",value:"Ù…ÙØ¹Ù„",icon:Pe,color:"success"},{label:"Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†ØµÙŠØ©",value:"Ù…ØªÙˆÙ‚Ù",icon:J,color:"muted"},{label:"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙˆØ±ÙŠØ©",value:"Ù†Ø´Ø·",icon:E,color:"warning"}]})]})}),e.jsx(V,{value:"notifications",className:"mt-0",children:e.jsx(q,{columns:3,children:c?Array.from({length:6}).map((a,i)=>e.jsx(N,{title:"",fields:[],isLoading:!0},i)):m.length>0?m.map(a=>e.jsx(N,{title:a.title,subtitle:W(new Date(a.createdAt),"PPp",{locale:X}),titleIcon:le[a.type]||w,badges:[{label:$[a.priority]?.label||"Ø¹Ø§Ø¯ÙŠ",variant:$[a.priority]?.color||"outline"},{label:a.isRead?"Ù…Ù‚Ø±ÙˆØ¡":"Ø¬Ø¯ÙŠØ¯",variant:a.isRead?"secondary":"default"}],fields:[{label:"Ø§Ù„Ù…Ø­ØªÙˆÙ‰",value:a.message,emphasis:!0},{label:"Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù",value:a.recipientType==="all"?"Ø§Ù„Ø¬Ù…ÙŠØ¹":"Ù…Ø­Ø¯Ø¯",color:"info"}],actions:[{icon:ze,label:"Ø­Ø°Ù",onClick:()=>r.mutate(a.id),color:"red"}],compact:!0},a.id)):e.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed rounded-xl",children:[e.jsx(w,{className:"mx-auto h-12 w-12 text-muted-foreground/20"}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«."})]})})}),e.jsx(V,{value:"users",className:"mt-0",children:e.jsx(q,{columns:3,children:s?.userStats?.map(a=>e.jsx(N,{title:a.userName,subtitle:a.userEmail,titleIcon:D,fields:[{label:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø³ØªÙ„Ù…Ø©",value:a.totalNotifications,color:"info"},{label:"Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù‚Ø±ÙˆØ¡Ø©",value:a.readNotifications,color:"success"},{label:"Ø¢Ø®Ø± Ù†Ø´Ø§Ø·",value:a.lastReadAt?W(new Date(a.lastReadAt),"PP",{locale:X}):"Ø£Ø¨Ø¯Ø§Ù‹",color:"muted"}],compact:!0},a.userId))})})]})]})]})}export{sa as default};
